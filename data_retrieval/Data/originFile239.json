{"items":[{"tags":["java","jar","noclassdeffounderror","bukkit","spigot"],"comments":[{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1691587202,"post_id":76868115,"comment_id":135511660,"body_markdown":"Do you see that class in the obliviate jar?","body":"Do you see that class in the obliviate jar?"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691587666,"post_id":76868115,"comment_id":135511782,"body_markdown":"yes, it is here, in mc.obliviate.inventory.Gui","body":"yes, it is here, in mc.obliviate.inventory.Gui"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691588676,"post_id":76868115,"comment_id":135512032,"body_markdown":"*Megabox_clans plugin;* We can&#39;t test without that. You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) but if that class will do it, then you can post that","body":"<i>Megabox_clans plugin;</i> We can&#39;t test without that. You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> but if that class will do it, then you can post that"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691592891,"post_id":76868115,"comment_id":135513067,"body_markdown":"i added it @g00se","body":"i added it @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691593906,"post_id":76868115,"comment_id":135513309,"body_markdown":"You didn&#39;t read my comment carefully enough: *but if that class will do it* It *doesn&#39;t* do it","body":"You didn&#39;t read my comment carefully enough: <i>but if that class will do it</i> It <i>doesn&#39;t</i> do it"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691598470,"post_id":76868115,"comment_id":135514360,"body_markdown":"Is this not an MRE?","body":"Is this not an MRE?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1691599523,"post_id":76868115,"comment_id":135514562,"body_markdown":"No, as it won&#39;t compile","body":"No, as it won&#39;t compile"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1691605546,"post_id":76868115,"comment_id":135515607,"body_markdown":"_&quot;Even GPT can&#39;t help.&quot;_ that is because ChatGPT is nothing more than a convincing bullshit generator. It can generate beautiful text, but a lot of the time it simply comes up with plausible sounding nonsense instead of things actually grounded in reality (or it may have one foot on the ground, and the other foot in Wonderland).","body":"<i>&quot;Even GPT can&#39;t help.&quot;</i> that is because ChatGPT is nothing more than a convincing bullshit generator. It can generate beautiful text, but a lot of the time it simply comes up with plausible sounding nonsense instead of things actually grounded in reality (or it may have one foot on the ground, and the other foot in Wonderland)."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1691613366,"post_id":76868115,"comment_id":135516856,"body_markdown":"@AnstonSorensen: that&#39;s not how the site works. If the OP does this and you solve the issue, the question will remain unhelpful to future visitors. Better to encourage the OP to fix the question so that it does in fact represent a valid [mre] and so that the code in the question itself shows the source of the error.","body":"@AnstonSorensen: that&#39;s not how the site works. If the OP does this and you solve the issue, the question will remain unhelpful to future visitors. Better to encourage the OP to fix the question so that it does in fact represent a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and so that the code in the question itself shows the source of the error."},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691618734,"post_id":76868115,"comment_id":135517714,"body_markdown":"@HovercraftFullOfEels Well I thought I could answer with the fix to the code if I figured out how to fix it from the jar, but okay","body":"@HovercraftFullOfEels Well I thought I could answer with the fix to the code if I figured out how to fix it from the jar, but okay"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1691649063,"post_id":76868115,"comment_id":135520418,"body_markdown":"Are you sure the plugin that as classes `mc.obliviate.inventory` did well started? You can add it in your dependancy in the `plugin.yml`. Also, I suggest you to check for camel case formatting in your naming convention","body":"Are you sure the plugin that as classes <code>mc.obliviate.inventory</code> did well started? You can add it in your dependancy in the <code>plugin.yml</code>. Also, I suggest you to check for camel case formatting in your naming convention"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691676273,"post_id":76868115,"comment_id":135525936,"body_markdown":"@AnstonSorensen where I can send it to you?","body":"@AnstonSorensen where I can send it to you?"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691676304,"post_id":76868115,"comment_id":135525947,"body_markdown":"@Elikill58 I am not sure, thats why I ask here this question","body":"@Elikill58 I am not sure, thats why I ask here this question"},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1691681564,"post_id":76868115,"comment_id":135527269,"body_markdown":"We can&#39;t check for you. Check logs of your server and you will see if the plugin that contains it is well loaded","body":"We can&#39;t check for you. Check logs of your server and you will see if the plugin that contains it is well loaded"},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691701732,"post_id":76868115,"comment_id":135531097,"body_markdown":"@Timas_bro Just email me a zip file or jar file at ansorensen1118@gmail.com","body":"@Timas_bro Just email me a zip file or jar file at ansorensen1118@gmail.com"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691738762,"post_id":76868115,"comment_id":135535006,"body_markdown":"@AnstonSorensen i emailed you","body":"@AnstonSorensen i emailed you"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1691738864,"post_id":76868115,"comment_id":135535019,"body_markdown":"@Elikill58 it loaded just fine, in the jar all I can find is my classes, plugin and config.yml. I have error message in my question.","body":"@Elikill58 it loaded just fine, in the jar all I can find is my classes, plugin and config.yml. I have error message in my question."},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691793274,"post_id":76868115,"comment_id":135544572,"body_markdown":"@Timas_bro Yeah, I tested your plugin and I don&#39;t get any class not found error. Make sure all your Maven plugins are up to date. I noticed that your Maven Jar plugin is on version 2.4 which was last updated in 2012 lol!","body":"@Timas_bro Yeah, I tested your plugin and I don&#39;t get any class not found error. Make sure all your Maven plugins are up to date. I noticed that your Maven Jar plugin is on version 2.4 which was last updated in 2012 lol!"},{"owner":{"account_id":15915140,"reputation":323,"user_id":11483947,"display_name":"Anston Sorensen"},"score":0,"creation_date":1691793596,"post_id":76868115,"comment_id":135544606,"body_markdown":"But yeah when I run /mtitle menu it just sends me a message &quot;huy&quot;. Also, keep all your dependencies in the jar after it&#39;s built because when I build it there are a bunch of dependencies in the jar, but your jar only has the org.timuzkas. Just want to make sure you&#39;re not deleting files or anything","body":"But yeah when I run /mtitle menu it just sends me a message &quot;huy&quot;. Also, keep all your dependencies in the jar after it&#39;s built because when I build it there are a bunch of dependencies in the jar, but your jar only has the org.timuzkas. Just want to make sure you&#39;re not deleting files or anything"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692342053,"post_id":76868115,"comment_id":135612500,"body_markdown":"How to include all dependencies. I tried all day trough. Maven shade, maven jar plugins. I just can&#39;t. can you help me? I stuck with this error for weeks.","body":"How to include all dependencies. I tried all day trough. Maven shade, maven jar plugins. I just can&#39;t. can you help me? I stuck with this error for weeks."},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692342118,"post_id":76868115,"comment_id":135612514,"body_markdown":"@AnstonSorensen and it should open you a GUI. In command class i have that new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);","body":"@AnstonSorensen and it should open you a GUI. In command class i have that new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlaye&zwnj;&#8203;r(), plugin);"},{"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"score":0,"creation_date":1692518139,"post_id":76868115,"comment_id":135632215,"body_markdown":"I fixed it! Finally!","body":"I fixed it! Finally!"}],"owner":{"account_id":28047938,"reputation":33,"user_id":21424354,"display_name":"Timas_bro"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692518082,"creation_date":1691586489,"question_id":76868115,"body_markdown":"I just added new dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\r\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n    &lt;version&gt;4.1.13&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd now I am getting NoClassDef error. Creator of that library says it is not his fault. \r\n\r\nHere&#39;s the full pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.timuzkas&lt;/groupId&gt;\r\n    &lt;artifactId&gt;megabox-clans&lt;/artifactId&gt;\r\n    &lt;version&gt;0.4&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;megabox-clans&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.timuzkas.megaboxclans.Megabox_clans&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;papermc-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;placeholderapi&lt;/id&gt;\r\n            &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jitpack.io&lt;/id&gt;\r\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;minebench-repo&lt;/id&gt;\r\n            &lt;url&gt;https://repo.minebench.de/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.destroystokyo.paper&lt;/groupId&gt;\r\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.0&lt;/version&gt;\r\n            &lt;type&gt;maven-plugin&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\r\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nError:\r\n\r\n```\r\n[12:55:07 WARN]: Unexpected exception while parsing console command &quot;mtitle menu&quot;\r\norg.bukkit.command.CommandException: Unhandled exception executing command &#39;mtitle&#39; in plugin megabox-clans v0.4\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:172) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:483) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:450) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1416) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1142) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:293) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        at java.lang.Thread.run(Thread.java:831) [?:?]\r\nCaused by: java.lang.NoClassDefFoundError: mc/obliviate/inventory/Gui\r\n        at org.timuzkas.megaboxclans.mtitle.onCommand(mtitle.java:241) ~[?:?]\r\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Purpur-1171]\r\n        ... 9 more\r\n```\r\nCommand handler (not full):\r\n```\r\n} else if (args[0].equalsIgnoreCase(&quot;menu&quot;)) {\r\n                new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);\r\n            }\r\n```\r\nGUI class:\r\n```\r\npackage org.timuzkas.megaboxclans;\r\n\r\nimport mc.obliviate.inventory.Gui;\r\nimport mc.obliviate.inventory.Icon;\r\nimport mc.obliviate.*;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.configuration.Configuration;\r\nimport org.bukkit.enchantments.Enchantment;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.inventory.InventoryClickEvent;\r\nimport org.bukkit.event.inventory.InventoryCloseEvent;\r\nimport org.bukkit.event.inventory.InventoryOpenEvent;\r\nimport org.bukkit.inventory.ItemStack;\r\n\r\nimport java.util.List;\r\n\r\npublic class mtitleGui extends Gui {\r\n\r\n    Megabox_clans plugin;\r\n\r\n    public String convertColors(String input) {\r\n        // Convert &quot;&amp;&quot; color codes\r\n        String converted = ChatColor.translateAlternateColorCodes(&#39;&amp;&#39;, input);\r\n\r\n        // Convert hex color codes\r\n        converted = converted.replaceAll(&quot;#([A-Fa-f0-9]{6})&quot;, ChatColor.COLOR_CHAR + &quot;x$1&quot;);\r\n\r\n        return converted;\r\n    }\r\n\r\n    public mtitleGui(Player player, Megabox_clans plugin) {\r\n        super(player, &quot;mtitle&quot;, &quot;Титулы&quot;, 6);\r\n        this.plugin = plugin;\r\n    }\r\n\r\n    @Override\r\n    public void onOpen(InventoryOpenEvent event) {\r\n        for (int i = 0; i == 9; i++) {\r\n            if (i == 5) {\r\n                addItem(new Icon(Material.EMERALD).setName(&quot;Меню титулов&quot;).setLore(&quot;Специально для megabox&quot;));\r\n            } else {\r\n                addItem(Material.GRAY_STAINED_GLASS_PANE);\r\n            }\r\n        }\r\n        Icon info = new Icon(Material.PAPER).setName(&quot;Информация&quot;).appendLore(&quot;Титулы можно получать разными способами&quot;).appendLore(&quot;Получить от админов, купить&quot;).appendLore(&quot;Получить в розыгрыше&quot;).setAmount(1).hideFlags();\r\n        addItem(10, info);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            addItem(19 + i, Material.GRAY_STAINED_GLASS_PANE);\r\n        }\r\n        //--\r\n        Configuration cf = plugin.getConfig();\r\n        List titleslist = plugin.getConfig().getList(&quot;players.&quot; + player.getName() + &quot;.titleslist&quot;);\r\n        for (int i = 0; i &lt; titleslist.size(); i++) {\r\n            int finalI = i;\r\n            addItem(28 + i, new Icon(Material.NAME_TAG).setName(convertColors(cf.getString(&quot;titles.&quot; + titleslist.get(i) + &quot;.prefix&quot;))).setLore(&quot;Клик чтобы установить&quot;).onClick(e -&gt; {\r\n                e.getWhoClicked().closeInventory();\r\n                Player pl = Bukkit.getOfflinePlayer(e.getWhoClicked().getName()).getPlayer();\r\n                pl.sendMessage(convertColors(&quot;&amp;a&amp;lТитул установлен!&quot;));\r\n                cf.set(&quot;players.&quot; + pl.getName() + &quot;.set_title&quot;, titleslist.get(finalI));\r\n            }));\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI also tried One-Jar, but I can&#39;t get it to work.\r\n\r\nFix this error. I need it to run from .jar file. I am using PaperSpigot API, IntellijIDEA, Maven, and some dependencies\r\n\r\n\r\nEDI. Megabox_clans or main class added:\r\n```\r\npackage org.timuzkas.megaboxclans;\r\n\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport net.milkbowl.vault.economy.Economy;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.plugin.PluginManager;\r\nimport org.bukkit.plugin.RegisteredServiceProvider;\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\nimport org.timuzkas.megaboxclans.commandtabcompleters.clanCompletion;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\n\r\npublic final class Megabox_clans extends JavaPlugin {\r\n\r\n\r\n    String prefix  = &quot;[MEGABOX | CLANS]&quot;;\r\n\r\n    private static Economy econ = null;\r\n\r\n    public void log(String msg) {\r\n        getLogger().info(msg);\r\n    }\r\n\r\n    private boolean setupEconomy() {\r\n        if (getServer().getPluginManager().getPlugin(&quot;Vault&quot;) == null) {\r\n            return false;\r\n        }\r\n        RegisteredServiceProvider&lt;Economy&gt; rsp = getServer().getServicesManager().getRegistration(Economy.class);\r\n        if (rsp == null) {\r\n            return false;\r\n        }\r\n        econ = rsp.getProvider();\r\n        return econ != null;\r\n    }\r\n    @Override\r\n    public void onEnable() {\r\n        PluginManager pluginManager = Bukkit.getPluginManager();\r\n        pluginManager.registerEvents(new PlayerLeaveListener(this), this);\r\n        saveDefaultConfig();\r\n        log (&quot;Hooking PAPI...&quot;);\r\n        if(Bukkit.getPluginManager().getPlugin(&quot;PlaceholderAPI&quot;) != null) {\r\n            new PAPIExpansion(this).register();\r\n        }\r\n        log(&quot;Creating commands...&quot;);\r\n        this.getCommand(&quot;clan&quot;).setExecutor(new Commands(this));\r\n        this.getCommand(&quot;tech&quot;).setExecutor(new CommandTech(this));\r\n        this.getCommand(&quot;mtitle&quot;).setExecutor(new mtitle(this));\r\n        this.getCommand(&quot;mhec&quot;).setExecutor(new CommandProverka(this));\r\n        //- Completers\r\n        this.getCommand(&quot;clan&quot;).setTabCompleter(new clanCompletion(this));\r\n        //-Economy\r\n        if (!setupEconomy() ) {\r\n            getLogger().severe(String.format(&quot;[%s] - Плагин Vault не найден, или нету экономики! Я выключаюсь, бип, боп!!&quot;, getDescription().getName()));\r\n            getServer().getPluginManager().disablePlugin(this);\r\n            return;\r\n        }\r\n//--\r\n\r\n\r\n\r\n        File myfile = new File(&quot;plugins/Megabox_clans/playerdata.yml&quot;);\r\n        if (!myfile.exists()) {\r\n            try {\r\n                myfile.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //-----\r\n\r\n        File myfile2 = new File(&quot;plugins/Megabox_clans/clans.yml&quot;);\r\n        if (!myfile2.exists()) {\r\n            try {\r\n                myfile2.createNewFile();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        //-----\r\n\r\n\r\n\r\n    }\r\n\r\n    public static Economy getEconomy() {\r\n        return econ;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDisable() {\r\n        log(&quot;Пока пупсики!&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI FIXED IT! Idk how, but it now works! Thanks ya` all!","title":"Getting NoClassDefFoundError in jar file","body":"<p>I just added new dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\n    &lt;artifactId&gt;core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And now I am getting NoClassDef error. Creator of that library says it is not his fault.</p>\n<p>Here's the full pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.timuzkas&lt;/groupId&gt;\n    &lt;artifactId&gt;megabox-clans&lt;/artifactId&gt;\n    &lt;version&gt;0.4&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;megabox-clans&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.timuzkas.megaboxclans.Megabox_clans&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;papermc-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.papermc.io/repository/maven-public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;placeholderapi&lt;/id&gt;\n            &lt;url&gt;https://repo.extendedclip.com/content/repositories/placeholderapi/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jitpack.io&lt;/id&gt;\n            &lt;url&gt;https://jitpack.io&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;minebench-repo&lt;/id&gt;\n            &lt;url&gt;https://repo.minebench.de/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.destroystokyo.paper&lt;/groupId&gt;\n            &lt;artifactId&gt;paper-api&lt;/artifactId&gt;\n            &lt;version&gt;1.16.5-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.MilkBowl&lt;/groupId&gt;\n            &lt;artifactId&gt;VaultAPI&lt;/artifactId&gt;\n            &lt;version&gt;1.7&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;type&gt;maven-plugin&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.hamza-cskn.obliviate-invs&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;me.clip&lt;/groupId&gt;\n            &lt;artifactId&gt;placeholderapi&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>Error:</p>\n<pre><code>[12:55:07 WARN]: Unexpected exception while parsing console command &quot;mtitle menu&quot;\norg.bukkit.command.CommandException: Unhandled exception executing command 'mtitle' in plugin megabox-clans v0.4\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:47) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.command.SimpleCommandMap.dispatch(SimpleCommandMap.java:172) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchCommand(CraftServer.java:826) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at org.bukkit.craftbukkit.v1_16_R3.CraftServer.dispatchServerCommand(CraftServer.java:788) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.handleCommandQueue(DedicatedServer.java:483) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.DedicatedServer.b(DedicatedServer.java:450) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.a(MinecraftServer.java:1416) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.w(MinecraftServer.java:1142) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at net.minecraft.server.v1_16_R3.MinecraftServer.lambda$a$0(MinecraftServer.java:293) ~[patched_1.16.5.jar:git-Purpur-1171]\n        at java.lang.Thread.run(Thread.java:831) [?:?]\nCaused by: java.lang.NoClassDefFoundError: mc/obliviate/inventory/Gui\n        at org.timuzkas.megaboxclans.mtitle.onCommand(mtitle.java:241) ~[?:?]\n        at org.bukkit.command.PluginCommand.execute(PluginCommand.java:45) ~[patched_1.16.5.jar:git-Purpur-1171]\n        ... 9 more\n</code></pre>\n<p>Command handler (not full):</p>\n<pre><code>} else if (args[0].equalsIgnoreCase(&quot;menu&quot;)) {\n                new mtitleGui(Bukkit.getOfflinePlayer(sender.getName()).getPlayer(), plugin);\n            }\n</code></pre>\n<p>GUI class:</p>\n<pre><code>package org.timuzkas.megaboxclans;\n\nimport mc.obliviate.inventory.Gui;\nimport mc.obliviate.inventory.Icon;\nimport mc.obliviate.*;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.configuration.Configuration;\nimport org.bukkit.enchantments.Enchantment;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.inventory.InventoryClickEvent;\nimport org.bukkit.event.inventory.InventoryCloseEvent;\nimport org.bukkit.event.inventory.InventoryOpenEvent;\nimport org.bukkit.inventory.ItemStack;\n\nimport java.util.List;\n\npublic class mtitleGui extends Gui {\n\n    Megabox_clans plugin;\n\n    public String convertColors(String input) {\n        // Convert &quot;&amp;&quot; color codes\n        String converted = ChatColor.translateAlternateColorCodes('&amp;', input);\n\n        // Convert hex color codes\n        converted = converted.replaceAll(&quot;#([A-Fa-f0-9]{6})&quot;, ChatColor.COLOR_CHAR + &quot;x$1&quot;);\n\n        return converted;\n    }\n\n    public mtitleGui(Player player, Megabox_clans plugin) {\n        super(player, &quot;mtitle&quot;, &quot;Титулы&quot;, 6);\n        this.plugin = plugin;\n    }\n\n    @Override\n    public void onOpen(InventoryOpenEvent event) {\n        for (int i = 0; i == 9; i++) {\n            if (i == 5) {\n                addItem(new Icon(Material.EMERALD).setName(&quot;Меню титулов&quot;).setLore(&quot;Специально для megabox&quot;));\n            } else {\n                addItem(Material.GRAY_STAINED_GLASS_PANE);\n            }\n        }\n        Icon info = new Icon(Material.PAPER).setName(&quot;Информация&quot;).appendLore(&quot;Титулы можно получать разными способами&quot;).appendLore(&quot;Получить от админов, купить&quot;).appendLore(&quot;Получить в розыгрыше&quot;).setAmount(1).hideFlags();\n        addItem(10, info);\n        for (int i = 0; i &lt; 9; i++) {\n            addItem(19 + i, Material.GRAY_STAINED_GLASS_PANE);\n        }\n        //--\n        Configuration cf = plugin.getConfig();\n        List titleslist = plugin.getConfig().getList(&quot;players.&quot; + player.getName() + &quot;.titleslist&quot;);\n        for (int i = 0; i &lt; titleslist.size(); i++) {\n            int finalI = i;\n            addItem(28 + i, new Icon(Material.NAME_TAG).setName(convertColors(cf.getString(&quot;titles.&quot; + titleslist.get(i) + &quot;.prefix&quot;))).setLore(&quot;Клик чтобы установить&quot;).onClick(e -&gt; {\n                e.getWhoClicked().closeInventory();\n                Player pl = Bukkit.getOfflinePlayer(e.getWhoClicked().getName()).getPlayer();\n                pl.sendMessage(convertColors(&quot;&amp;a&amp;lТитул установлен!&quot;));\n                cf.set(&quot;players.&quot; + pl.getName() + &quot;.set_title&quot;, titleslist.get(finalI));\n            }));\n        }\n    }\n}\n\n</code></pre>\n<p>I also tried One-Jar, but I can't get it to work.</p>\n<p>Fix this error. I need it to run from .jar file. I am using PaperSpigot API, IntellijIDEA, Maven, and some dependencies</p>\n<p>EDI. Megabox_clans or main class added:</p>\n<pre><code>package org.timuzkas.megaboxclans;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport net.milkbowl.vault.economy.Economy;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.Listener;\nimport org.bukkit.plugin.PluginManager;\nimport org.bukkit.plugin.RegisteredServiceProvider;\nimport org.bukkit.plugin.java.JavaPlugin;\nimport org.timuzkas.megaboxclans.commandtabcompleters.clanCompletion;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic final class Megabox_clans extends JavaPlugin {\n\n\n    String prefix  = &quot;[MEGABOX | CLANS]&quot;;\n\n    private static Economy econ = null;\n\n    public void log(String msg) {\n        getLogger().info(msg);\n    }\n\n    private boolean setupEconomy() {\n        if (getServer().getPluginManager().getPlugin(&quot;Vault&quot;) == null) {\n            return false;\n        }\n        RegisteredServiceProvider&lt;Economy&gt; rsp = getServer().getServicesManager().getRegistration(Economy.class);\n        if (rsp == null) {\n            return false;\n        }\n        econ = rsp.getProvider();\n        return econ != null;\n    }\n    @Override\n    public void onEnable() {\n        PluginManager pluginManager = Bukkit.getPluginManager();\n        pluginManager.registerEvents(new PlayerLeaveListener(this), this);\n        saveDefaultConfig();\n        log (&quot;Hooking PAPI...&quot;);\n        if(Bukkit.getPluginManager().getPlugin(&quot;PlaceholderAPI&quot;) != null) {\n            new PAPIExpansion(this).register();\n        }\n        log(&quot;Creating commands...&quot;);\n        this.getCommand(&quot;clan&quot;).setExecutor(new Commands(this));\n        this.getCommand(&quot;tech&quot;).setExecutor(new CommandTech(this));\n        this.getCommand(&quot;mtitle&quot;).setExecutor(new mtitle(this));\n        this.getCommand(&quot;mhec&quot;).setExecutor(new CommandProverka(this));\n        //- Completers\n        this.getCommand(&quot;clan&quot;).setTabCompleter(new clanCompletion(this));\n        //-Economy\n        if (!setupEconomy() ) {\n            getLogger().severe(String.format(&quot;[%s] - Плагин Vault не найден, или нету экономики! Я выключаюсь, бип, боп!!&quot;, getDescription().getName()));\n            getServer().getPluginManager().disablePlugin(this);\n            return;\n        }\n//--\n\n\n\n        File myfile = new File(&quot;plugins/Megabox_clans/playerdata.yml&quot;);\n        if (!myfile.exists()) {\n            try {\n                myfile.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        //-----\n\n        File myfile2 = new File(&quot;plugins/Megabox_clans/clans.yml&quot;);\n        if (!myfile2.exists()) {\n            try {\n                myfile2.createNewFile();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n\n        //-----\n\n\n\n    }\n\n    public static Economy getEconomy() {\n        return econ;\n    }\n\n\n    @Override\n    public void onDisable() {\n        log(&quot;Пока пупсики!&quot;);\n    }\n}\n\n</code></pre>\n<p>I FIXED IT! Idk how, but it now works! Thanks ya` all!</p>\n"},{"tags":["java","hadoop","resourcemanager","hadoop3"],"comments":[{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496904037,"post_id":44427653,"comment_id":75854699,"body_markdown":"What is the Java version and operating system that you are using ?","body":"What is the Java version and operating system that you are using ?"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1496904720,"post_id":44427653,"comment_id":75855098,"body_markdown":"Lubuntu 17.04, Java build 9-ea+171","body":"Lubuntu 17.04, Java build 9-ea+171"},{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496930146,"post_id":44427653,"comment_id":75872871,"body_markdown":"Please provide content of hadoop-env.sh as well","body":"Please provide content of hadoop-env.sh as well"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1496967382,"post_id":44427653,"comment_id":75892188,"body_markdown":"@SouravGulati I have added hadoop-env.sh as well, can you explain what I&#39;m doing wrong?","body":"@SouravGulati I have added hadoop-env.sh as well, can you explain what I&#39;m doing wrong?"},{"owner":{"account_id":2175278,"reputation":1359,"user_id":1926087,"accept_rate":33,"display_name":"Sourav Gulati"},"score":0,"creation_date":1496981292,"post_id":44427653,"comment_id":75895390,"body_markdown":"Could you please try using Java 8 or Java 7.  Don&#39;t use Java 9","body":"Could you please try using Java 8 or Java 7.  Don&#39;t use Java 9"},{"owner":{"account_id":10666380,"reputation":5833,"user_id":7852833,"display_name":"tk421"},"score":1,"creation_date":1497048559,"post_id":44427653,"comment_id":75931980,"body_markdown":"+1.  Java 9 support is not there yet.  [https://issues.apache.org/jira/browse/HADOOP-11123](https://issues.apache.org/jira/browse/HADOOP-11123) Hadoop on Java 9","body":"+1.  Java 9 support is not there yet.  <a href=\"https://issues.apache.org/jira/browse/HADOOP-11123\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HADOOP-11123</a> Hadoop on Java 9"},{"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"score":0,"creation_date":1497057431,"post_id":44427653,"comment_id":75933660,"body_markdown":"Ah, thank you for that.","body":"Ah, thank you for that."}],"answers":[{"tags":[],"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1497058977,"creation_date":1497057548,"answer_id":44468605,"question_id":44427653,"body_markdown":"At mentioned by @tk421 in the comments. Java 9 is not compatible with Hadoop 3 (and possibly any hadoop version) yet.\r\n\r\nhttps://issues.apache.org/jira/browse/HADOOP-11123\r\n\r\nI&#39;ve changed to Java 8.181 and both are starting up now:\r\n\r\n\r\n    hadoop@hadoop:/usr/local/hadoop$ sbin/start-all.sh\r\n    WARNING: Attempting to start all Apache Hadoop daemons as hadoop in 10 seconds.\r\n    WARNING: This is not a recommended production deployment configuration.\r\n    WARNING: Use CTRL-C to abort.\r\n    Starting namenodes on [localhost]\r\n    Starting datanodes\r\n    Starting secondary namenodes [hadoop]\r\n    Starting resourcemanager\r\n    Starting nodemanagers\r\n    hadoop@hadoop:/usr/local/hadoop$ jps\r\n    8756 SecondaryNameNode\r\n    8389 NameNode\r\n    9173 NodeManager\r\n    9030 ResourceManager\r\n    8535 DataNode\r\n    9515 Jps\r\n\r\n\r\n","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>At mentioned by @tk421 in the comments. Java 9 is not compatible with Hadoop 3 (and possibly any hadoop version) yet.</p>\n\n<p><a href=\"https://issues.apache.org/jira/browse/HADOOP-11123\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/HADOOP-11123</a></p>\n\n<p>I've changed to Java 8.181 and both are starting up now:</p>\n\n<pre><code>hadoop@hadoop:/usr/local/hadoop$ sbin/start-all.sh\nWARNING: Attempting to start all Apache Hadoop daemons as hadoop in 10 seconds.\nWARNING: This is not a recommended production deployment configuration.\nWARNING: Use CTRL-C to abort.\nStarting namenodes on [localhost]\nStarting datanodes\nStarting secondary namenodes [hadoop]\nStarting resourcemanager\nStarting nodemanagers\nhadoop@hadoop:/usr/local/hadoop$ jps\n8756 SecondaryNameNode\n8389 NameNode\n9173 NodeManager\n9030 ResourceManager\n8535 DataNode\n9515 Jps\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12077152,"reputation":187,"user_id":8830193,"display_name":"陳子軼"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541490776,"creation_date":1541490776,"answer_id":53167774,"question_id":44427653,"body_markdown":"my problem is that I used java11 to cooperate with hadoop.\r\n\r\nso what i do is \r\n\r\n1.rm /Library/Java/*\r\n\r\n2.download java8 from https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\n3.install java8jdk and \r\n\r\n4.fix the JAVA_HOME in hadoop-env.sh \r\n\r\n5.stop-all.sh\r\n\r\n6.start-dfs.sh\r\n\r\n7.start-yarn.sh","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>my problem is that I used java11 to cooperate with hadoop.</p>\n\n<p>so what i do is </p>\n\n<p>1.rm /Library/Java/*</p>\n\n<p>2.download java8 from <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n\n<p>3.install java8jdk and </p>\n\n<p>4.fix the JAVA_HOME in hadoop-env.sh </p>\n\n<p>5.stop-all.sh</p>\n\n<p>6.start-dfs.sh</p>\n\n<p>7.start-yarn.sh</p>\n"},{"tags":[],"owner":{"account_id":23052176,"reputation":3,"user_id":17168823,"display_name":"MAGistr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660046802,"creation_date":1660046802,"answer_id":73291525,"question_id":44427653,"body_markdown":"I want to share my observations. OpenJDK 17 was used to interact with Hadoop. \r\n\r\nI thought the newer the Java version, the better. I was very wrong, I had to switch to OpenJDK 8.\r\nSo, how do we fix the problem?\r\n1) You need to uninstall the previous version of Java. There are **several removal options**.\r\n  - **Deleting only OpenJDK**: `$ sudo apt-get remove openjdk*`\r\n\r\n  - **Deleting OpenJDK along with dependencies**: `$ sudo apt-get remove --auto-remove openjdk*`\r\n  \r\n - **Deleting OpenJDK and its configuration files**: `$ sudo apt-get purge openjdk*`\r\n\r\n  - **Deleting OpenJDK along with dependencies and it’s configuration files**: `$ sudo apt-get purge --auto-remove openjdk*`\r\n\r\nAs for me, I used the latter option.\r\n\r\n2) You need to install OpenJDK 8.\r\n - **Installing OpenJDK**: `$ sudo apt install openjdk-8-jdk -y`\r\n\r\nAfter the installation is complete, you **can check the Java version**: `$ java -version; javac -version`\r\n\r\n3) You need to edit the path to the `JAVA_HOME` variable. To do this, you need to open `hadoop-env.sh`\r\n\r\n - To open a file **hadoop-env.sh**, you can use the command:\r\n\r\n    sudo nano $HADOOP_HOME/etc/hadoop/hadoop-env.sh\r\n\r\nwhere **$HADOOP_HOME** is the location of your Hadoop (for example, `/home/hdoop/hadoop-3.2.4`). \r\n - The contents of the `JAVA_HOME` variable **looks like** this: `export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64` . Of course, that **all depends** on your **Java location**. \r\n\r\n 4) Go to the catalog `hadoop-3.2.4/sbin`. \r\n\r\nNext, you need to **stop the daemons on all nodes** of the cluster: `./stop-all.sh`\r\n \r\n5) Running NameNode and DataNode: `./start-dfs.sh`\r\n6) Running YARN resource and NodeManager: `./start-yarn.sh`\r\n7) Check if all daemons are active and running as Java processes: `jps`.\r\nThe **resulting list should look (approximately)** as follows:\r\n\r\n    33706 SecondaryNameNode\r\n\r\n    33330 NameNode\r\n\r\n    34049 NodeManager\r\n\r\n    33900 ResourceManager\r\n\r\n    33482 DataNode\r\n\r\n    34410 Jps\r\n\r\n8) Hadoop setup is DONE!\r\n\r\nP.S. I hope my answer will be useful. I tried to cover all the details in my answer. I wish you all success.","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>I want to share my observations. OpenJDK 17 was used to interact with Hadoop.</p>\n<p>I thought the newer the Java version, the better. I was very wrong, I had to switch to OpenJDK 8.\nSo, how do we fix the problem?</p>\n<ol>\n<li>You need to uninstall the previous version of Java. There are <strong>several removal options</strong>.</li>\n</ol>\n<ul>\n<li><p><strong>Deleting only OpenJDK</strong>: <code>$ sudo apt-get remove openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK along with dependencies</strong>: <code>$ sudo apt-get remove --auto-remove openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK and its configuration files</strong>: <code>$ sudo apt-get purge openjdk*</code></p>\n</li>\n<li><p><strong>Deleting OpenJDK along with dependencies and it’s configuration files</strong>: <code>$ sudo apt-get purge --auto-remove openjdk*</code></p>\n</li>\n</ul>\n<p>As for me, I used the latter option.</p>\n<ol start=\"2\">\n<li>You need to install OpenJDK 8.</li>\n</ol>\n<ul>\n<li><strong>Installing OpenJDK</strong>: <code>$ sudo apt install openjdk-8-jdk -y</code></li>\n</ul>\n<p>After the installation is complete, you <strong>can check the Java version</strong>: <code>$ java -version; javac -version</code></p>\n<ol start=\"3\">\n<li>You need to edit the path to the <code>JAVA_HOME</code> variable. To do this, you need to open <code>hadoop-env.sh</code></li>\n</ol>\n<ul>\n<li><p>To open a file <strong>hadoop-env.sh</strong>, you can use the command:</p>\n<p>sudo nano $HADOOP_HOME/etc/hadoop/hadoop-env.sh</p>\n</li>\n</ul>\n<p>where <strong>$HADOOP_HOME</strong> is the location of your Hadoop (for example, <code>/home/hdoop/hadoop-3.2.4</code>).</p>\n<ul>\n<li>The contents of the <code>JAVA_HOME</code> variable <strong>looks like</strong> this: <code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64</code> . Of course, that <strong>all depends</strong> on your <strong>Java location</strong>.</li>\n</ul>\n<ol start=\"4\">\n<li>Go to the catalog <code>hadoop-3.2.4/sbin</code>.</li>\n</ol>\n<p>Next, you need to <strong>stop the daemons on all nodes</strong> of the cluster: <code>./stop-all.sh</code></p>\n<ol start=\"5\">\n<li><p>Running NameNode and DataNode: <code>./start-dfs.sh</code></p>\n</li>\n<li><p>Running YARN resource and NodeManager: <code>./start-yarn.sh</code></p>\n</li>\n<li><p>Check if all daemons are active and running as Java processes: <code>jps</code>.\nThe <strong>resulting list should look (approximately)</strong> as follows:</p>\n<p>33706 SecondaryNameNode</p>\n<p>33330 NameNode</p>\n<p>34049 NodeManager</p>\n<p>33900 ResourceManager</p>\n<p>33482 DataNode</p>\n<p>34410 Jps</p>\n</li>\n<li><p>Hadoop setup is DONE!</p>\n</li>\n</ol>\n<p>P.S. I hope my answer will be useful. I tried to cover all the details in my answer. I wish you all success.</p>\n"},{"tags":[],"owner":{"account_id":16452180,"reputation":830,"user_id":11885333,"display_name":"keemahs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692517898,"creation_date":1692517898,"answer_id":76938457,"question_id":44427653,"body_markdown":"yup as others have pointed out, java version might be the issue  \r\nwas following [this page](https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html) where they clearly link [here](https://cwiki.apache.org/confluence/display/HADOOP/Hadoop+Java+Versions) for compatible java versions  \r\nso, i was trying with java 17 and start-yarn.sh was failing, but with java 11, start-yarn.sh worked","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>yup as others have pointed out, java version might be the issue<br />\nwas following <a href=\"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-common/SingleCluster.html\" rel=\"nofollow noreferrer\">this page</a> where they clearly link <a href=\"https://cwiki.apache.org/confluence/display/HADOOP/Hadoop+Java+Versions\" rel=\"nofollow noreferrer\">here</a> for compatible java versions<br />\nso, i was trying with java 17 and start-yarn.sh was failing, but with java 11, start-yarn.sh worked</p>\n"}],"owner":{"account_id":2739281,"reputation":1872,"user_id":2361174,"accept_rate":68,"display_name":"user2361174"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14815,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44468605,"answer_count":4,"score":6,"last_activity_date":1692517898,"creation_date":1496901338,"question_id":44427653,"body_markdown":"I&#39;m trying to setup Hadoop3-alpha3 with a Single Node Cluster (Psuedo-distributed) and using [the apache guide][1] to do so. I&#39;ve tried running the example MapReduce job but every time the connection is refused. After running `sbin/start-all.sh` I&#39;ve been seeing these exceptions in the ResourceManager log (and similarly in the NodeManager log):\r\n\r\n    xxxx-xx-xx xx:xx:xx,xxx INFO org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.\r\n    xxxx-xx-xx xx:xx:xx,xxx DEBUG org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Exception is:\r\n    java.beans.IntrospectionException: bad write method arg count: public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.findPropertyType(PropertyDescriptor.java:696)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.setWriteMethod(PropertyDescriptor.java:356)\r\n    \tat java.desktop/java.beans.PropertyDescriptor.&lt;init&gt;(PropertyDescriptor.java:142)\r\n    \tat org.apache.commons.beanutils.FluentPropertyBeanIntrospector.createFluentPropertyDescritor(FluentPropertyBeanIntrospector.java:178)\r\n    \tat org.apache.commons.beanutils.FluentPropertyBeanIntrospector.introspect(FluentPropertyBeanIntrospector.java:141)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.fetchIntrospectionData(PropertyUtilsBean.java:2245)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getIntrospectionData(PropertyUtilsBean.java:2226)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.getPropertyDescriptor(PropertyUtilsBean.java:954)\r\n    \tat org.apache.commons.beanutils.PropertyUtilsBean.isWriteable(PropertyUtilsBean.java:1478)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.isPropertyWriteable(BeanHelper.java:521)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initProperty(BeanHelper.java:357)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initBeanProperties(BeanHelper.java:273)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.initBean(BeanHelper.java:192)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper$BeanCreationContextImpl.initBean(BeanHelper.java:669)\r\n    \tat org.apache.commons.configuration2.beanutils.DefaultBeanFactory.initBeanInstance(DefaultBeanFactory.java:162)\r\n    \tat org.apache.commons.configuration2.beanutils.DefaultBeanFactory.createBean(DefaultBeanFactory.java:116)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:459)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:479)\r\n    \tat org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:492)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResultInstance(BasicConfigurationBuilder.java:447)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResult(BasicConfigurationBuilder.java:417)\r\n    \tat org.apache.commons.configuration2.builder.BasicConfigurationBuilder.getConfiguration(BasicConfigurationBuilder.java:285)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsConfig.loadFirst(MetricsConfig.java:119)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsConfig.create(MetricsConfig.java:98)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configure(MetricsSystemImpl.java:478)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.start(MetricsSystemImpl.java:188)\r\n    \tat org.apache.hadoop.metrics2.impl.MetricsSystemImpl.init(MetricsSystemImpl.java:163)\r\n    \tat org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.init(DefaultMetricsSystem.java:62)\r\n    \tat org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.initialize(DefaultMetricsSystem.java:58)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$RMActiveServices.serviceInit(ResourceManager.java:678)\r\n    \tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.createAndInitActiveServices(ResourceManager.java:1129)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceInit(ResourceManager.java:315)\r\n    \tat org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1407)\r\n\r\nAnd then later in the file:\r\n\r\n    xxxx-xx-xx xx:xx:xx,xxx FATAL org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: Error starting ResourceManager\r\n    java.lang.ExceptionInInitializerError\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClassEmitter.&lt;init&gt;(FastClassEmitter.java:67)\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)\r\n    \tat com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\r\n    \tat com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)\r\n    \tat com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)\r\n    \tat com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)\r\n    \tat com.google.inject.internal.ProviderMethod$FastClassProviderMethod.&lt;init&gt;(ProviderMethod.java:256)\r\n    \tat com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)\r\n    \tat com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)\r\n    \tat com.google.inject.AbstractModule.install(AbstractModule.java:122)\r\n    \tat com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)\r\n    \tat com.google.inject.AbstractModule.configure(AbstractModule.java:62)\r\n    \tat com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\r\n    \tat com.google.inject.spi.Elements.getElements(Elements.java:110)\r\n    \tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\r\n    \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:96)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:73)\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:62)\r\n    \tat org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:332)\r\n    \tat org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:377)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.startWepApp(ResourceManager.java:1116)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceStart(ResourceManager.java:1218)\r\n    \tat org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\r\n    \tat org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1408)\r\n    Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @173f73e7\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:337)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:281)\r\n    \tat java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:197)\r\n    \tat java.base/java.lang.reflect.Method.setAccessible(Method.java:191)\r\n    \tat com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n    \tat com.google.inject.internal.cglib.core.$ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\r\n    \t... 29 more\r\n\r\nFor reference my core-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;fs.default.name&lt;/name&gt;\r\n    \t\t&lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nhdfs-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;property&gt;\r\n    \t\t&lt;name&gt;dfs.replication&lt;/name&gt;\r\n    \t\t&lt;value&gt;1&lt;/value&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nmapred-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n            &lt;value&gt;yarn&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nand yarn-site.xml:\r\n\r\n    &lt;configuration&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n            &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n        &lt;/property&gt;\r\n        &lt;property&gt;\r\n            &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\r\n            &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;\r\n        &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\nI have no idea what is causing these exceptions, any help with them would be helpful.\r\n\r\nEdit: Added hadoop-env.sh:\r\n\r\n    export JAVA_HOME=/usr/local/jdk-9\r\n    export HADOOP_HOME=/usr/local/hadoop\r\n    export HADOOP_OS_TYPE=${HADOOP_OS_TYPE:-$(uname -s)}\r\n    case ${HADOOP_OS_TYPE} in\r\n      Darwin*)\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.realm= &quot;\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.kdc= &quot;\r\n        export HADOOP_OPTS=&quot;${HADOOP_OPTS} -Djava.security.krb5.conf= &quot;\r\n      ;;\r\n    esac\r\n    export HADOOP_ROOT_LOGGER=DEBUG,console\r\n    export HADOOP_DAEMON_ROOT_LOGGER=DEBUG,RFA\r\n\r\n\r\n  [1]: https://hadoop.apache.org/docs/r3.0.0-alpha3/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution\r\n","title":"Hadoop Error starting ResourceManager and NodeManager","body":"<p>I'm trying to setup Hadoop3-alpha3 with a Single Node Cluster (Psuedo-distributed) and using <a href=\"https://hadoop.apache.org/docs/r3.0.0-alpha3/hadoop-project-dist/hadoop-common/SingleCluster.html#Execution\" rel=\"noreferrer\">the apache guide</a> to do so. I've tried running the example MapReduce job but every time the connection is refused. After running <code>sbin/start-all.sh</code> I've been seeing these exceptions in the ResourceManager log (and similarly in the NodeManager log):</p>\n\n<pre><code>xxxx-xx-xx xx:xx:xx,xxx INFO org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Error when creating PropertyDescriptor for public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)! Ignoring this property.\nxxxx-xx-xx xx:xx:xx,xxx DEBUG org.apache.commons.beanutils.FluentPropertyBeanIntrospector: Exception is:\njava.beans.IntrospectionException: bad write method arg count: public final void org.apache.commons.configuration2.AbstractConfiguration.setProperty(java.lang.String,java.lang.Object)\n    at java.desktop/java.beans.PropertyDescriptor.findPropertyType(PropertyDescriptor.java:696)\n    at java.desktop/java.beans.PropertyDescriptor.setWriteMethod(PropertyDescriptor.java:356)\n    at java.desktop/java.beans.PropertyDescriptor.&lt;init&gt;(PropertyDescriptor.java:142)\n    at org.apache.commons.beanutils.FluentPropertyBeanIntrospector.createFluentPropertyDescritor(FluentPropertyBeanIntrospector.java:178)\n    at org.apache.commons.beanutils.FluentPropertyBeanIntrospector.introspect(FluentPropertyBeanIntrospector.java:141)\n    at org.apache.commons.beanutils.PropertyUtilsBean.fetchIntrospectionData(PropertyUtilsBean.java:2245)\n    at org.apache.commons.beanutils.PropertyUtilsBean.getIntrospectionData(PropertyUtilsBean.java:2226)\n    at org.apache.commons.beanutils.PropertyUtilsBean.getPropertyDescriptor(PropertyUtilsBean.java:954)\n    at org.apache.commons.beanutils.PropertyUtilsBean.isWriteable(PropertyUtilsBean.java:1478)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.isPropertyWriteable(BeanHelper.java:521)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initProperty(BeanHelper.java:357)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initBeanProperties(BeanHelper.java:273)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.initBean(BeanHelper.java:192)\n    at org.apache.commons.configuration2.beanutils.BeanHelper$BeanCreationContextImpl.initBean(BeanHelper.java:669)\n    at org.apache.commons.configuration2.beanutils.DefaultBeanFactory.initBeanInstance(DefaultBeanFactory.java:162)\n    at org.apache.commons.configuration2.beanutils.DefaultBeanFactory.createBean(DefaultBeanFactory.java:116)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:459)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:479)\n    at org.apache.commons.configuration2.beanutils.BeanHelper.createBean(BeanHelper.java:492)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResultInstance(BasicConfigurationBuilder.java:447)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.createResult(BasicConfigurationBuilder.java:417)\n    at org.apache.commons.configuration2.builder.BasicConfigurationBuilder.getConfiguration(BasicConfigurationBuilder.java:285)\n    at org.apache.hadoop.metrics2.impl.MetricsConfig.loadFirst(MetricsConfig.java:119)\n    at org.apache.hadoop.metrics2.impl.MetricsConfig.create(MetricsConfig.java:98)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.configure(MetricsSystemImpl.java:478)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.start(MetricsSystemImpl.java:188)\n    at org.apache.hadoop.metrics2.impl.MetricsSystemImpl.init(MetricsSystemImpl.java:163)\n    at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.init(DefaultMetricsSystem.java:62)\n    at org.apache.hadoop.metrics2.lib.DefaultMetricsSystem.initialize(DefaultMetricsSystem.java:58)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager$RMActiveServices.serviceInit(ResourceManager.java:678)\n    at org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.createAndInitActiveServices(ResourceManager.java:1129)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceInit(ResourceManager.java:315)\n    at org.apache.hadoop.service.AbstractService.init(AbstractService.java:163)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1407)\n</code></pre>\n\n<p>And then later in the file:</p>\n\n<pre><code>xxxx-xx-xx xx:xx:xx,xxx FATAL org.apache.hadoop.yarn.server.resourcemanager.ResourceManager: Error starting ResourceManager\njava.lang.ExceptionInInitializerError\n    at com.google.inject.internal.cglib.reflect.$FastClassEmitter.&lt;init&gt;(FastClassEmitter.java:67)\n    at com.google.inject.internal.cglib.reflect.$FastClass$Generator.generateClass(FastClass.java:72)\n    at com.google.inject.internal.cglib.core.$DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\n    at com.google.inject.internal.cglib.core.$AbstractClassGenerator.create(AbstractClassGenerator.java:216)\n    at com.google.inject.internal.cglib.reflect.$FastClass$Generator.create(FastClass.java:64)\n    at com.google.inject.internal.BytecodeGen.newFastClass(BytecodeGen.java:204)\n    at com.google.inject.internal.ProviderMethod$FastClassProviderMethod.&lt;init&gt;(ProviderMethod.java:256)\n    at com.google.inject.internal.ProviderMethod.create(ProviderMethod.java:71)\n    at com.google.inject.internal.ProviderMethodsModule.createProviderMethod(ProviderMethodsModule.java:275)\n    at com.google.inject.internal.ProviderMethodsModule.getProviderMethods(ProviderMethodsModule.java:144)\n    at com.google.inject.internal.ProviderMethodsModule.configure(ProviderMethodsModule.java:123)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:349)\n    at com.google.inject.AbstractModule.install(AbstractModule.java:122)\n    at com.google.inject.servlet.ServletModule.configure(ServletModule.java:52)\n    at com.google.inject.AbstractModule.configure(AbstractModule.java:62)\n    at com.google.inject.spi.Elements$RecordingBinder.install(Elements.java:340)\n    at com.google.inject.spi.Elements.getElements(Elements.java:110)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:138)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:104)\n    at com.google.inject.Guice.createInjector(Guice.java:96)\n    at com.google.inject.Guice.createInjector(Guice.java:73)\n    at com.google.inject.Guice.createInjector(Guice.java:62)\n    at org.apache.hadoop.yarn.webapp.WebApps$Builder.build(WebApps.java:332)\n    at org.apache.hadoop.yarn.webapp.WebApps$Builder.start(WebApps.java:377)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.startWepApp(ResourceManager.java:1116)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.serviceStart(ResourceManager.java:1218)\n    at org.apache.hadoop.service.AbstractService.start(AbstractService.java:193)\n    at org.apache.hadoop.yarn.server.resourcemanager.ResourceManager.main(ResourceManager.java:1408)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not \"opens java.lang\" to unnamed module @173f73e7\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:337)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:281)\n    at java.base/java.lang.reflect.Method.checkCanSetAccessible(Method.java:197)\n    at java.base/java.lang.reflect.Method.setAccessible(Method.java:191)\n    at com.google.inject.internal.cglib.core.$ReflectUtils$2.run(ReflectUtils.java:56)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at com.google.inject.internal.cglib.core.$ReflectUtils.&lt;clinit&gt;(ReflectUtils.java:46)\n    ... 29 more\n</code></pre>\n\n<p>For reference my core-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;fs.default.name&lt;/name&gt;\n        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>hdfs-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;dfs.replication&lt;/name&gt;\n        &lt;value&gt;1&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>mapred-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>and yarn-site.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n        &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.env-whitelist&lt;/name&gt;\n        &lt;value&gt;JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME&lt;/value&gt;\n    &lt;/property&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>I have no idea what is causing these exceptions, any help with them would be helpful.</p>\n\n<p>Edit: Added hadoop-env.sh:</p>\n\n<pre><code>export JAVA_HOME=/usr/local/jdk-9\nexport HADOOP_HOME=/usr/local/hadoop\nexport HADOOP_OS_TYPE=${HADOOP_OS_TYPE:-$(uname -s)}\ncase ${HADOOP_OS_TYPE} in\n  Darwin*)\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.realm= \"\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.kdc= \"\n    export HADOOP_OPTS=\"${HADOOP_OPTS} -Djava.security.krb5.conf= \"\n  ;;\nesac\nexport HADOOP_ROOT_LOGGER=DEBUG,console\nexport HADOOP_DAEMON_ROOT_LOGGER=DEBUG,RFA\n</code></pre>\n"},{"tags":["java","spring-boot","state-machine","spring-statemachine"],"owner":{"account_id":13736359,"reputation":397,"user_id":9912527,"display_name":"Jaspreet Chhabra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692516900,"creation_date":1692516900,"question_id":76938409,"body_markdown":"We&#39;ve recently integrated the Spring State Machine into our workflow. Here&#39;s how we&#39;re using it: We&#39;re receiving events from an SQS queue, and then we&#39;re processing these events using the state machine. We have different states in our state machine, and after transitioning to the next target stage, we&#39;re also pushing the event back to the SQS queue for persistence. For each event in the SQS queue, we initialize the state machine and execute the necessary transitions.\r\n\r\nWhen it comes to executing the Spring State Machine, we&#39;re wondering if it&#39;s possible for the process to start at multiple initial stages and then halt after pushing the event to the SQS queue. Is the state machine capable of this kind of partial execution, or does it need to run through all stages in sequence?\r\n\r\nWe&#39;ve noticed that Spring State Machines appear to be singular, which implies that only one event can be consumed from the SQS queue at a time, and the corresponding state machine is executed for that event. Is there any way to handle multiple events concurrently? For instance, could we create a new state machine instance each time an event is triggered, allowing us to process multiple events simultaneously?\r\n\r\nHere is my code:\r\n\r\nConfiguring the states and transitions:\r\n\r\n    public void configure(StateMachineStateConfigurer&lt;RedactionStates, RedactionEvents&gt; states)\r\n        throws Exception {\r\n    states.withStates()\r\n            .initial(RedactionStates.S1) // default initial state\r\n            .state(RedactionStates.S2)\r\n            .state(RedactionStates.S3)\r\n            .state(RedactionStates.S4)\r\n            .end(RedactionStates.S5);\r\n    }\r\nTransitions:\r\n\r\n    public void configure(\r\n        StateMachineTransitionConfigurer&lt;RedactionStates, RedactionEvents&gt; transitions)\r\n        throws Exception {\r\n    transitions\r\n            .withInternal()\r\n            .source(RedactionStates.S1)\r\n            .event(RedactionEvents.E1)\r\n            .and()\r\n            .withExternal()\r\n            .source(RedactionStates.S1)\r\n            .target(RedactionStates.S2)\r\n            .event(RedactionEvents.E2)\r\n           }","title":"Can Spring State machine support multiple initial States and parallel executions (multi-threaded environment)?","body":"<p>We've recently integrated the Spring State Machine into our workflow. Here's how we're using it: We're receiving events from an SQS queue, and then we're processing these events using the state machine. We have different states in our state machine, and after transitioning to the next target stage, we're also pushing the event back to the SQS queue for persistence. For each event in the SQS queue, we initialize the state machine and execute the necessary transitions.</p>\n<p>When it comes to executing the Spring State Machine, we're wondering if it's possible for the process to start at multiple initial stages and then halt after pushing the event to the SQS queue. Is the state machine capable of this kind of partial execution, or does it need to run through all stages in sequence?</p>\n<p>We've noticed that Spring State Machines appear to be singular, which implies that only one event can be consumed from the SQS queue at a time, and the corresponding state machine is executed for that event. Is there any way to handle multiple events concurrently? For instance, could we create a new state machine instance each time an event is triggered, allowing us to process multiple events simultaneously?</p>\n<p>Here is my code:</p>\n<p>Configuring the states and transitions:</p>\n<pre><code>public void configure(StateMachineStateConfigurer&lt;RedactionStates, RedactionEvents&gt; states)\n    throws Exception {\nstates.withStates()\n        .initial(RedactionStates.S1) // default initial state\n        .state(RedactionStates.S2)\n        .state(RedactionStates.S3)\n        .state(RedactionStates.S4)\n        .end(RedactionStates.S5);\n}\n</code></pre>\n<p>Transitions:</p>\n<pre><code>public void configure(\n    StateMachineTransitionConfigurer&lt;RedactionStates, RedactionEvents&gt; transitions)\n    throws Exception {\ntransitions\n        .withInternal()\n        .source(RedactionStates.S1)\n        .event(RedactionEvents.E1)\n        .and()\n        .withExternal()\n        .source(RedactionStates.S1)\n        .target(RedactionStates.S2)\n        .event(RedactionEvents.E2)\n       }\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1469029692,"post_id":9954590,"comment_id":64372284,"body_markdown":"Related to: http://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error","body":"Related to: <a href=\"http://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error\" title=\"hibernate table not mapped error\">stackoverflow.com/questions/14446048/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":386444,"reputation":1894,"user_id":744207,"accept_rate":82,"display_name":"tObi"},"score":10,"creation_date":1405081546,"post_id":9954677,"comment_id":38298201,"body_markdown":"So actually this is even case sensitive. so &quot;from user&quot; would result in the same exception","body":"So actually this is even case sensitive. so &quot;from user&quot; would result in the same exception"},{"owner":{"account_id":408739,"reputation":843,"user_id":779587,"accept_rate":25,"display_name":"Raphael"},"score":3,"creation_date":1443744836,"post_id":9954677,"comment_id":53626284,"body_markdown":"Its a part of the answer, but to solve the error I had to use the full object path like this: [...].createQuery(&quot;from gcv.metier.User as u where u.username= ?&quot;)","body":"Its a part of the answer, but to solve the error I had to use the full object path like this: [...].createQuery(&quot;from gcv.metier.User as u where u.username= ?&quot;)"},{"owner":{"account_id":1600325,"reputation":3347,"user_id":1481475,"accept_rate":52,"display_name":"Michael Coxon"},"score":0,"creation_date":1529186917,"post_id":9954677,"comment_id":88784927,"body_markdown":"I also had to use the whole path, perhaps JPA has an issue with the word &quot;User&quot;? I guess it is a reserved word in a few DB implementations. In fact, this issue only came up form me when I renamed that db table from **user** to **the_user** (part of fixing another issue) before that JPA was fine.","body":"I also had to use the whole path, perhaps JPA has an issue with the word &quot;User&quot;? I guess it is a reserved word in a few DB implementations. In fact, this issue only came up form me when I renamed that db table from <b>user</b> to <b>the_user</b> (part of fixing another issue) before that JPA was fine."},{"owner":{"account_id":11995867,"reputation":637,"user_id":8821112,"display_name":"Durja"},"score":1,"creation_date":1555579879,"post_id":9954677,"comment_id":98163065,"body_markdown":"can you pls update list() to getResultList() as the former is deprecated?","body":"can you pls update list() to getResultList() as the former is deprecated?"},{"owner":{"account_id":19214466,"reputation":146,"user_id":14039503,"display_name":"mercury"},"score":0,"creation_date":1650951951,"post_id":9954677,"comment_id":127238739,"body_markdown":"I got this:\n`method createQuery in interface org.hibernate.SharedSessionContract cannot be applied to given types;\n[ERROR]   required: java.lang.String`. It does not like `MyObject.class`.","body":"I got this: <code>method createQuery in interface org.hibernate.SharedSessionContract cannot be applied to given types; [ERROR]   required: java.lang.String</code>. It does not like <code>MyObject.class</code>."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":5,"down_vote_count":1,"up_vote_count":350,"is_accepted":true,"score":349,"last_activity_date":1575814804,"creation_date":1333185986,"answer_id":9954677,"question_id":9954590,"body_markdown":"In the HQL , you should use the **java class name** and **property name** of the mapped `@Entity` instead of the actual table name and column name , so the HQL should be :\r\n\r\n    List&lt;User&gt; result = session.createQuery(&quot;from User&quot;, User.class).getResultList();\r\n\r\n----------\r\nUpdate : To be more precise , you should use the entity name configured in `@Entity` to refer to the &quot;table&quot; , which default to unqualified name of the mapped **java class** if you do not set it explicitly.\r\n\r\n*(P.S. It is `@javax.persistence.Entity` but not `@org.hibernate.annotations.Entity`)*","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In the HQL , you should use the <strong>java class name</strong> and <strong>property name</strong> of the mapped <code>@Entity</code> instead of the actual table name and column name , so the HQL should be :</p>\n\n<pre><code>List&lt;User&gt; result = session.createQuery(\"from User\", User.class).getResultList();\n</code></pre>\n\n<hr>\n\n<p>Update : To be more precise , you should use the entity name configured in <code>@Entity</code> to refer to the \"table\" , which default to unqualified name of the mapped <strong>java class</strong> if you do not set it explicitly.</p>\n\n<p><em>(P.S. It is <code>@javax.persistence.Entity</code> but not <code>@org.hibernate.annotations.Entity</code>)</em></p>\n"},{"comments":[{"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"score":0,"creation_date":1555344147,"post_id":23124078,"comment_id":98068990,"body_markdown":"Now this saved me actually.","body":"Now this saved me actually."}],"tags":[],"owner":{"account_id":1538152,"reputation":1933,"user_id":1433551,"accept_rate":43,"display_name":"Iwan Satria"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1397705319,"creation_date":1397705319,"answer_id":23124078,"question_id":9954590,"body_markdown":"Just to share my finding. I still got the same error even if the query was targeting the correct class name. Later on I realised that I was importing the Entity class from the wrong package.\r\n\r\nThe problem was solved after I change the import line from:\r\n\r\n    import org.hibernate.annotations.Entity;\r\n\r\nto \r\n\r\n    import javax.persistence.Entity;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Just to share my finding. I still got the same error even if the query was targeting the correct class name. Later on I realised that I was importing the Entity class from the wrong package.</p>\n\n<p>The problem was solved after I change the import line from:</p>\n\n<pre><code>import org.hibernate.annotations.Entity;\n</code></pre>\n\n<p>to </p>\n\n<pre><code>import javax.persistence.Entity;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53471,"reputation":5683,"user_id":159837,"accept_rate":75,"display_name":"Fırat K&#252;&#231;&#252;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1471876902,"creation_date":1408003084,"answer_id":25302866,"question_id":9954590,"body_markdown":"Added `@TABLE(name = &quot;TABLE_NAME&quot;)` annotation and fixed. Check your annotations and hibernate.cfg.xml file. This is the sample entity file that works:\r\n\r\n    import javax.persistence.*;\r\n      \r\n    @Entity\r\n    @Table(name = &quot;VENDOR&quot;)\r\n    public class Vendor {\r\n        \r\n        //~ --- [INSTANCE FIELDS] ------------------------------------------------------------------------------------------\r\n        private int    id;\r\n        private String name;\r\n     \r\n        //~ --- [METHODS] --------------------------------------------------------------------------------------------------\r\n        @Override\r\n        public boolean equals(final Object o) {    \r\n            if (this == o) {\r\n                return true;\r\n            }\r\n    \r\n            if (o == null || getClass() != o.getClass()) {\r\n                return false;\r\n            }\r\n    \r\n            final Vendor vendor = (Vendor) o;\r\n    \r\n            if (id != vendor.id) {\r\n                return false;\r\n            }\r\n    \r\n            if (name != null ? !name.equals(vendor.name) : vendor.name != null) {\r\n                return false;\r\n            }\r\n    \r\n            return true;\r\n        }\r\n        \r\n        //~ ----------------------------------------------------------------------------------------------------------------\r\n        @Column(name = &quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Id\r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;NAME&quot;)\r\n        public String getName() {\r\n    \r\n            return name;\r\n        }\r\n    \r\n        public void setId(final int id) {\r\n            this.id = id;\r\n        }\r\n        \r\n        public void setName(final String name) {    \r\n            this.name = name;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            int result = id;\r\n            result = 31 * result + (name != null ? name.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Added <code>@TABLE(name = \"TABLE_NAME\")</code> annotation and fixed. Check your annotations and hibernate.cfg.xml file. This is the sample entity file that works:</p>\n\n<pre><code>import javax.persistence.*;\n\n@Entity\n@Table(name = \"VENDOR\")\npublic class Vendor {\n\n    //~ --- [INSTANCE FIELDS] ------------------------------------------------------------------------------------------\n    private int    id;\n    private String name;\n\n    //~ --- [METHODS] --------------------------------------------------------------------------------------------------\n    @Override\n    public boolean equals(final Object o) {    \n        if (this == o) {\n            return true;\n        }\n\n        if (o == null || getClass() != o.getClass()) {\n            return false;\n        }\n\n        final Vendor vendor = (Vendor) o;\n\n        if (id != vendor.id) {\n            return false;\n        }\n\n        if (name != null ? !name.equals(vendor.name) : vendor.name != null) {\n            return false;\n        }\n\n        return true;\n    }\n\n    //~ ----------------------------------------------------------------------------------------------------------------\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Id\n    public int getId() {\n        return id;\n    }\n\n    @Basic\n    @Column(name = \"NAME\")\n    public String getName() {\n\n        return name;\n    }\n\n    public void setId(final int id) {\n        this.id = id;\n    }\n\n    public void setName(final String name) {    \n        this.name = name;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = id;\n        result = 31 * result + (name != null ? name.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2282282,"reputation":1401,"user_id":2007101,"display_name":"Chinmoy"},"score":0,"creation_date":1519711757,"post_id":29854969,"comment_id":85009028,"body_markdown":"I too forgot to add POJO class in hibernate.cfg.xml.","body":"I too forgot to add POJO class in hibernate.cfg.xml."}],"tags":[],"owner":{"account_id":1335201,"reputation":1177,"user_id":1278129,"accept_rate":71,"display_name":"Augustas"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1429900301,"creation_date":1429900301,"answer_id":29854969,"question_id":9954590,"body_markdown":"There is possibility you forgot to add mapping for created Entity into `hibernate.cfg.xml`, same error.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>There is possibility you forgot to add mapping for created Entity into <code>hibernate.cfg.xml</code>, same error.</p>\n"},{"tags":[],"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1683735121,"creation_date":1432102851,"answer_id":30341742,"question_id":9954590,"body_markdown":"For example: if your bean class name is `UserDetails` the query would be\r\n\r\n```java\r\nQuery query = entityManager. createQuery(&quot;Select UserName from UserDetails&quot;);\r\n```\r\n\r\nYou don&#39;t use the table name from the database but the **class name of bean**.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>For example: if your bean class name is <code>UserDetails</code> the query would be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = entityManager. createQuery(&quot;Select UserName from UserDetails&quot;);\n</code></pre>\n<p>You don't use the table name from the database but the <strong>class name of bean</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7760988,"reputation":111,"user_id":5873752,"display_name":"Ratheesh K"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1454432440,"creation_date":1454430277,"answer_id":35158634,"question_id":9954590,"body_markdown":"I also was importing the wrong Entity `import org.hibernate.annotations.Entity;`\r\nIt should be import `javax.persistence.Entity;`","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I also was importing the wrong Entity <code>import org.hibernate.annotations.Entity;</code>\nIt should be import <code>javax.persistence.Entity;</code></p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469030030,"creation_date":1469029664,"answer_id":38485135,"question_id":9954590,"body_markdown":"&gt; `org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]`\r\n\r\nThis indicates that hibernate does not know the `User` entity as &quot;users&quot;.\r\n\r\n    @javax.persistence.Entity\r\n    @javax.persistence.Table(name = &quot;Users&quot;)\r\n    public class User {\r\n\r\nThe `@Table` annotation sets the _table_ name to be &quot;Users&quot; but the entity name is still referred to in HQL as &quot;User&quot;.\r\n\r\nTo change both, you should set the name of the entity:\r\n\r\n    // this sets the name of the table and the name of the entity\r\n    @javax.persistence.Entity(name = &quot;Users&quot;)\r\n    public class User implements Serializable{\r\n\r\nSee my answer here for more info: https://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error/38484695#38484695\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<blockquote>\n  <p><code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]</code></p>\n</blockquote>\n\n<p>This indicates that hibernate does not know the <code>User</code> entity as \"users\".</p>\n\n<pre><code>@javax.persistence.Entity\n@javax.persistence.Table(name = \"Users\")\npublic class User {\n</code></pre>\n\n<p>The <code>@Table</code> annotation sets the <em>table</em> name to be \"Users\" but the entity name is still referred to in HQL as \"User\".</p>\n\n<p>To change both, you should set the name of the entity:</p>\n\n<pre><code>// this sets the name of the table and the name of the entity\n@javax.persistence.Entity(name = \"Users\")\npublic class User implements Serializable{\n</code></pre>\n\n<p>See my answer here for more info: <a href=\"https://stackoverflow.com/questions/14446048/hibernate-table-not-mapped-error/38484695#38484695\">Hibernate table not mapped error</a></p>\n"},{"tags":[],"owner":{"account_id":5641224,"reputation":2476,"user_id":4465028,"accept_rate":68,"display_name":"Gherbi Hicham"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1482489962,"creation_date":1482489962,"answer_id":41299928,"question_id":9954590,"body_markdown":"Also check that you added the annotated class using:\r\n\r\n `new Configuration().configure(&quot;configuration file path&quot;).addAnnotatedClass(User.class)`\r\n\r\nThat always wasted my time when adding a new table in the database using Hibernate.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Also check that you added the annotated class using:</p>\n\n<p><code>new Configuration().configure(\"configuration file path\").addAnnotatedClass(User.class)</code></p>\n\n<p>That always wasted my time when adding a new table in the database using Hibernate.</p>\n"},{"tags":[],"owner":{"account_id":5063037,"reputation":81,"user_id":4063982,"display_name":"jrreid"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484712538,"creation_date":1484712538,"answer_id":41711203,"question_id":9954590,"body_markdown":"Also make sure that the following property is set in your hibernate bean configuration:\t\r\n\r\n    &lt;property name=&quot;packagesToScan&quot; value=&quot;yourpackage&quot; /&gt;\r\n\r\n\r\n\r\nThis tells spring and hibernate where to find your domain classes annotated as entities. \r\n\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Also make sure that the following property is set in your hibernate bean configuration: </p>\n\n<pre><code>&lt;property name=\"packagesToScan\" value=\"yourpackage\" /&gt;\n</code></pre>\n\n<p>This tells spring and hibernate where to find your domain classes annotated as entities. </p>\n"},{"comments":[{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":1,"creation_date":1511469179,"post_id":44006675,"comment_id":81880604,"body_markdown":"are you sure &quot;Linux-based MySQL&quot; has a role here?","body":"are you sure &quot;Linux-based MySQL&quot; has a role here?"}],"tags":[],"owner":{"account_id":10911665,"reputation":172,"user_id":8020870,"display_name":"Rajkumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1494951713,"creation_date":1494951484,"answer_id":44006675,"question_id":9954590,"body_markdown":"Some Linux based MySQL installations require case sensitive. Work around is  to apply `nativeQuery`.\r\n\r\n    @Query(value = &#39;select ID, CLUMN2, CLUMN3 FROM VENDOR c where c.ID = :ID&#39;, nativeQuery = true)","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Some Linux based MySQL installations require case sensitive. Work around is  to apply <code>nativeQuery</code>.</p>\n\n<pre><code>@Query(value = 'select ID, CLUMN2, CLUMN3 FROM VENDOR c where c.ID = :ID', nativeQuery = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2970416,"reputation":1741,"user_id":2522581,"accept_rate":50,"display_name":"Lakhan Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514535693,"creation_date":1514535693,"answer_id":48019608,"question_id":9954590,"body_markdown":"I got this issue when i replaced old hibernate-core library with hibernate-core-5.2.12. However all my configuration was ok. And i fixed this issue by creating sessionfactory this way:\r\n\r\n   \r\n\r\n    private static SessionFactory buildsSessionFactory() {\r\n\t\ttry {\r\n\t\t\tif (sessionFactory == null) {\r\n\t\t\t\tStandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\r\n\t\t\t\t\t\t.configure(&quot;/hibernate.cfg.xml&quot;).build();\r\n\t\t\t\tMetadata metaData = new MetadataSources(standardRegistry)\r\n\t\t\t\t\t\t.getMetadataBuilder().build();\r\n\t\t\t\tsessionFactory = metaData.getSessionFactoryBuilder().build();\r\n\t\t\t}\r\n\t\t\treturn sessionFactory;\r\n\t\t} catch (Throwable th) {\r\n\r\n\t\t\tSystem.err.println(&quot;Enitial SessionFactory creation failed&quot; + th);\r\n\r\n\t\t\tthrow new ExceptionInInitializerError(th);\r\n\r\n\t\t}\r\n\t}\r\n\r\nHope it helps someone","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I got this issue when i replaced old hibernate-core library with hibernate-core-5.2.12. However all my configuration was ok. And i fixed this issue by creating sessionfactory this way:</p>\n\n<pre><code>private static SessionFactory buildsSessionFactory() {\n    try {\n        if (sessionFactory == null) {\n            StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\n                    .configure(\"/hibernate.cfg.xml\").build();\n            Metadata metaData = new MetadataSources(standardRegistry)\n                    .getMetadataBuilder().build();\n            sessionFactory = metaData.getSessionFactoryBuilder().build();\n        }\n        return sessionFactory;\n    } catch (Throwable th) {\n\n        System.err.println(\"Enitial SessionFactory creation failed\" + th);\n\n        throw new ExceptionInInitializerError(th);\n\n    }\n}\n</code></pre>\n\n<p>Hope it helps someone</p>\n"},{"tags":[],"owner":{"account_id":14293268,"reputation":105,"user_id":10324643,"display_name":"Himanshu Shukla"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1536732145,"creation_date":1536730821,"answer_id":52288154,"question_id":9954590,"body_markdown":"I was getting the same error while Spring with hibernate..I was using &quot;user&quot; in the lowercase in my `createQuery` statement and my class was User..So changed it to User in my query and problem was solved.\r\n\r\n**Query before:**\r\n\r\n    Query query= em.createQuery(&quot;select u from user u where u.username=:usr AND u.password=:pass&quot;,User.class);\r\n\r\n**Query after:**\r\n\r\n    Query query= em.createQuery(&quot;select u from User u where u.username=:usr AND u.password=:pass&quot;,User.class);","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I was getting the same error while Spring with hibernate..I was using \"user\" in the lowercase in my <code>createQuery</code> statement and my class was User..So changed it to User in my query and problem was solved.</p>\n\n<p><strong>Query before:</strong></p>\n\n<pre><code>Query query= em.createQuery(\"select u from user u where u.username=:usr AND u.password=:pass\",User.class);\n</code></pre>\n\n<p><strong>Query after:</strong></p>\n\n<pre><code>Query query= em.createQuery(\"select u from User u where u.username=:usr AND u.password=:pass\",User.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6694145,"reputation":21,"user_id":5162708,"display_name":"sami gharbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548488268,"creation_date":1548488268,"answer_id":54376552,"question_id":9954590,"body_markdown":"In your Query you have to use class name(User) not table name(users)\r\nso your query is\r\n&quot;from User&quot;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In your Query you have to use class name(User) not table name(users)\nso your query is\n\"from User\"</p>\n"},{"tags":[],"owner":{"account_id":13561711,"reputation":1,"user_id":9783182,"display_name":"Vipul Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551073006,"creation_date":1551073006,"answer_id":54860075,"question_id":9954590,"body_markdown":"You must type in the same name in your select query as your entity or class(case sensitive) . i.e. select user from className/Entity Name user;\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>You must type in the same name in your select query as your entity or class(case sensitive) . i.e. select user from className/Entity Name user;</p>\n"},{"tags":[],"owner":{"account_id":226936,"reputation":1578,"user_id":488265,"accept_rate":88,"display_name":"Jonas Gr&#246;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566981908,"creation_date":1566981908,"answer_id":57688354,"question_id":9954590,"body_markdown":"I recommend this pattern:\r\n\r\n```\r\n@Entity(name = User.PERSISTANCE_NAME)\r\n@Table(name = User.PERSISTANCE_NAME )\r\npublic class User {    \r\n    static final String PERSISTANCE_NAME = &quot;USER&quot;;\r\n\r\n    // Column definitions here\r\n\r\n}\r\n```","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I recommend this pattern:</p>\n\n<pre><code>@Entity(name = User.PERSISTANCE_NAME)\n@Table(name = User.PERSISTANCE_NAME )\npublic class User {    \n    static final String PERSISTANCE_NAME = \"USER\";\n\n    // Column definitions here\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473025,"reputation":1806,"user_id":2154359,"accept_rate":92,"display_name":"xmen-5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567005159,"creation_date":1567005159,"answer_id":57695496,"question_id":9954590,"body_markdown":"with    `org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]`, you are trying to select from the `users` table. But you are annotating your class with `@Table( name = &quot;Users&quot; )`. So either use `users`, or `Users`.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>with    <code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]</code>, you are trying to select from the <code>users</code> table. But you are annotating your class with <code>@Table( name = \"Users\" )</code>. So either use <code>users</code>, or <code>Users</code>.</p>\n"},{"tags":[],"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589299625,"creation_date":1589299625,"answer_id":61756424,"question_id":9954590,"body_markdown":"If you are using xml configuration, you&#39;ll need something like the following in an applicationContext.xml file:\r\n\r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot; lazy-init=&quot;default&quot; autowire=&quot;default&quot; dependency-check=&quot;default&quot;&gt;\r\n    &lt;property name=&quot;dataSource&quot;&gt;\r\n      &lt;ref bean=&quot;dataSource&quot; /&gt;\r\n    &lt;/property&gt;\r\n    &lt;property name=&quot;annotatedClasses&quot;&gt;\r\n      &lt;list&gt;\r\n        &lt;value&gt;org.browsexml.timesheetjob.model.PositionCode&lt;/value&gt;\r\n      &lt;/list&gt;\r\n\r\n","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>If you are using xml configuration, you'll need something like the following in an applicationContext.xml file:</p>\n\n<pre><code>&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\" lazy-init=\"default\" autowire=\"default\" dependency-check=\"default\"&gt;\n&lt;property name=\"dataSource\"&gt;\n  &lt;ref bean=\"dataSource\" /&gt;\n&lt;/property&gt;\n&lt;property name=\"annotatedClasses\"&gt;\n  &lt;list&gt;\n    &lt;value&gt;org.browsexml.timesheetjob.model.PositionCode&lt;/value&gt;\n  &lt;/list&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1403975,"reputation":31,"user_id":1332189,"display_name":"Nathan Simpson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600317209,"creation_date":1600317209,"answer_id":63931325,"question_id":9954590,"body_markdown":"I also came across this issue while using the Quarkus microservice framework:\r\n\r\n```java\r\npublic class SomeResource {\r\n\r\n  @GET\r\n  @RolesAllowed({&quot;basic&quot;})\r\n  public Response doSomething(@Context SecurityContext context) {\r\n    // ...\r\n  }\r\n}\r\n\r\n// this will generate an QuerySyntax exception, as the authorization module\r\n// will ignore the Entity annotation and use the class name instead.\r\n@Entity(name = &quot;users&quot;)\r\n@UserDefinition\r\npublic class User {\r\n  // ...\r\n}\r\n\r\n// do this instead\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@UserDefinition\r\npublic class User {\r\n  // ...\r\n}","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I also came across this issue while using the Quarkus microservice framework:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SomeResource {\n\n  @GET\n  @RolesAllowed({&quot;basic&quot;})\n  public Response doSomething(@Context SecurityContext context) {\n    // ...\n  }\n}\n\n// this will generate an QuerySyntax exception, as the authorization module\n// will ignore the Entity annotation and use the class name instead.\n@Entity(name = &quot;users&quot;)\n@UserDefinition\npublic class User {\n  // ...\n}\n\n// do this instead\n@Entity\n@Table(name = &quot;users&quot;)\n@UserDefinition\npublic class User {\n  // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17446692,"reputation":456,"user_id":12647580,"display_name":"menoktaokan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601890095,"creation_date":1601890095,"answer_id":64205933,"question_id":9954590,"body_markdown":"In a Spring project:\r\nI typed wrong `hibernate.packagesToScan=com.okan.springdemo.entity` and got this error.\r\nNow it&#39;s working well.","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>In a Spring project:\nI typed wrong <code>hibernate.packagesToScan=com.okan.springdemo.entity</code> and got this error.\nNow it's working well.</p>\n"},{"tags":[],"owner":{"account_id":22636491,"reputation":93,"user_id":16813234,"display_name":"Jafar Sadik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1659582171,"creation_date":1659582171,"answer_id":73229915,"question_id":9954590,"body_markdown":"Lets say, your ```Java Classname``` is ```User``` and your ```database table name``` is ```users```.\r\nSo you annotate the class with ```@Table(name = &quot;users&quot;)```. Fine. No problem.\r\nNow in your query you don&#39;t write like ```SELECT .... FROM users``` (DO NOT WRITE the table name). You will write ```SELECT .... FROM User``` (WRITE the class name).\r\n\r\nProblem Solved!","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Lets say, your <code>Java Classname</code> is <code>User</code> and your <code>database table name</code> is <code>users</code>.\nSo you annotate the class with <code>@Table(name = &quot;users&quot;)</code>. Fine. No problem.\nNow in your query you don't write like <code>SELECT .... FROM users</code> (DO NOT WRITE the table name). You will write <code>SELECT .... FROM User</code> (WRITE the class name).</p>\n<p>Problem Solved!</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674897985,"post_id":75249731,"comment_id":132815078,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75249731/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6095615,"reputation":1,"user_id":4784304,"display_name":"Lucas Caminha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674754474,"creation_date":1674754474,"answer_id":75249731,"question_id":9954590,"body_markdown":"\t\t&lt;!-- Rest Repositories Web Dependency --&gt;\r\n\t\t&lt;!-- https://docs.spring.io/spring-data/rest/docs/current/reference/html/#install-chapter --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<pre><code>    &lt;!-- Rest Repositories Web Dependency --&gt;\n    &lt;!-- https://docs.spring.io/spring-data/rest/docs/current/reference/html/#install-chapter --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1889592,"reputation":1805,"user_id":1708042,"display_name":"user1708042"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676535683,"creation_date":1676535683,"answer_id":75469505,"question_id":9954590,"body_markdown":"This problem can also arise if there are two classes with the same name in different packages and Hibernate can complain unlsess you specify the full package name in the query","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>This problem can also arise if there are two classes with the same name in different packages and Hibernate can complain unlsess you specify the full package name in the query</p>\n"},{"tags":[],"owner":{"account_id":13610692,"reputation":37,"user_id":9818305,"display_name":"Casio991ms"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692515922,"creation_date":1692515922,"answer_id":76938338,"question_id":9954590,"body_markdown":"Are you using persistence.xml for configuring hibernate? Well, this was my case and I had to scratch my head while browsing through tons of forums and stackoverflow posts for one hour before realizing I need to add my newly created entity to persistence.xml.\r\n\r\n```\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\r\n    &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\n        &lt;class&gt;entityclass1&lt;/class&gt;\r\n        &lt;class&gt;entityclass2&lt;/class&gt;\r\n&lt;!--        Add your class heere    --&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\r\n\r\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\r\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>Are you using persistence.xml for configuring hibernate? Well, this was my case and I had to scratch my head while browsing through tons of forums and stackoverflow posts for one hour before realizing I need to add my newly created entity to persistence.xml.</p>\n<pre><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; version=&quot;2.0&quot;&gt;\n    &lt;persistence-unit name=&quot;my_persistence_unit&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n\n        &lt;class&gt;entityclass1&lt;/class&gt;\n        &lt;class&gt;entityclass2&lt;/class&gt;\n&lt;!--        Add your class heere    --&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:postgresql://localhost:5432/&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.postgresql.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot;/&gt;\n\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.PostgreSQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.format_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;update&quot;/&gt;\n            &lt;property name=&quot;hibernate.physical_naming_strategy&quot; value=&quot;org.hibernate.boot.model.naming.CamelCaseToUnderscoresNamingStrategy&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n"}],"owner":{"account_id":1349942,"reputation":1899,"user_id":1289894,"accept_rate":50,"display_name":"Blue"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329618,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":9954677,"answer_count":23,"score":165,"last_activity_date":1692515922,"creation_date":1333185235,"question_id":9954590,"body_markdown":"I&#39;m trying to get a list of all the users from &quot;users&quot; table and I get the following error:\r\n\r\n    org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]\r\n\torg.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)\r\n\torg.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)\r\n\torg.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)\r\n\r\n\r\nThis is the code I wrote to add/get users:\r\n\r\n\tpublic List&lt;User&gt; getUsers() {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tList&lt;User&gt; result = (List&lt;User&gt;) session.createQuery(&quot;from users&quot;).list();\r\n\t\tsession.getTransaction().commit();\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic void addUser(User user) {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tsession.save(user);\r\n\t\tsession.getTransaction().commit();\r\n\t}\r\n\r\n\tpublic void addUser(List&lt;User&gt; users) {\r\n\t\tSession session = HibernateUtil.getSessionFactory().getCurrentSession();\r\n\t\tsession.beginTransaction();\r\n\t\tfor (User user : users) {\r\n\t\t\tsession.save(user);\r\n\t\t}\r\n\t\tsession.getTransaction().commit();\r\n\t}\r\n\r\nAdding users works, but when I use the getUsers function I get these error.\r\n\r\nThis is my hibernate config file:\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\t\t&lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\t\t&lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernate.default_schema&quot;&gt;test&lt;/property&gt;\r\n\t\t&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;format_sql&quot;&gt;true&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;create-drop&lt;/property&gt;\r\n\r\n\t\t&lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n\t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\t\t&lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n\t\t&lt;!-- Mapping files will go here.... --&gt;\r\n\r\n\t\t&lt;mapping class=&quot;model.Company&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.Conference&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferencesParticipants&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferenceParticipantStatus&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.ConferencesUsers&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.Location&quot; /&gt;\r\n\t\t&lt;mapping class=&quot;model.User&quot; /&gt;\r\n\r\n\t&lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nand this is my User class:\r\n\r\n    @Entity\r\n    @Table( name = &quot;Users&quot; )\r\n    public class User implements Serializable{\r\n    \r\n    \tprivate long userID;\r\n    \tprivate int pasportID;\r\n    \tprivate Company company; \r\n    \tprivate String name;\r\n    \tprivate String email;\r\n    \tprivate String phone1;\r\n    \tprivate String phone2;\r\n    \tprivate String password; //may be null/empty , will be kept hashed\r\n    \tprivate boolean isAdmin;\r\n    \tprivate Date lastLogin;\r\n    \t\r\n    \tUser() {} //not public on purpose!\r\n    \t\r\n    \tpublic User(int countryID, Company company, String name, String email,\r\n    \t\t\tString phone1, String phone2, String password, boolean isAdmin) {\r\n    \t\tthis.pasportID = countryID;\r\n    \t\tthis.company = company;\r\n    \t\tthis.name = name;\r\n    \t\tthis.email = email;\r\n    \t\tthis.phone1 = phone1;\r\n    \t\tthis.phone2 = phone2;\r\n    \t\tthis.password = password;\r\n    \t\tthis.isAdmin = isAdmin;\r\n    \t}\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(generator=&quot;increment&quot;)\r\n    \t@GenericGenerator(name=&quot;increment&quot;, strategy = &quot;increment&quot;)\r\n    \tpublic long getUserID() {\r\n    \t\treturn userID;\r\n    \t}\r\n    \tpublic void setUserID(long userID) {\r\n    \t\tthis.userID = userID;\r\n    \t}\r\n        ...    \r\n    }\r\n\r\nAny idea why I get this error?","title":"Hibernate error - QuerySyntaxException: users is not mapped [from users]","body":"<p>I'm trying to get a list of all the users from \"users\" table and I get the following error:</p>\n\n<pre><code>org.hibernate.hql.internal.ast.QuerySyntaxException: users is not mapped [from users]\norg.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:180)\norg.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:110)\norg.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:93)\n</code></pre>\n\n<p>This is the code I wrote to add/get users:</p>\n\n<pre><code>public List&lt;User&gt; getUsers() {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    List&lt;User&gt; result = (List&lt;User&gt;) session.createQuery(\"from users\").list();\n    session.getTransaction().commit();\n    return result;\n}\n\npublic void addUser(User user) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    session.save(user);\n    session.getTransaction().commit();\n}\n\npublic void addUser(List&lt;User&gt; users) {\n    Session session = HibernateUtil.getSessionFactory().getCurrentSession();\n    session.beginTransaction();\n    for (User user : users) {\n        session.save(user);\n    }\n    session.getTransaction().commit();\n}\n</code></pre>\n\n<p>Adding users works, but when I use the getUsers function I get these error.</p>\n\n<p>This is my hibernate config file:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test&lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.default_schema\"&gt;test&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQL5Dialect&lt;/property&gt;\n\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;property name=\"format_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create-drop&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- Mapping files will go here.... --&gt;\n\n    &lt;mapping class=\"model.Company\" /&gt;\n    &lt;mapping class=\"model.Conference\" /&gt;\n    &lt;mapping class=\"model.ConferencesParticipants\" /&gt;\n    &lt;mapping class=\"model.ConferenceParticipantStatus\" /&gt;\n    &lt;mapping class=\"model.ConferencesUsers\" /&gt;\n    &lt;mapping class=\"model.Location\" /&gt;\n    &lt;mapping class=\"model.User\" /&gt;\n\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>and this is my User class:</p>\n\n<pre><code>@Entity\n@Table( name = \"Users\" )\npublic class User implements Serializable{\n\n    private long userID;\n    private int pasportID;\n    private Company company; \n    private String name;\n    private String email;\n    private String phone1;\n    private String phone2;\n    private String password; //may be null/empty , will be kept hashed\n    private boolean isAdmin;\n    private Date lastLogin;\n\n    User() {} //not public on purpose!\n\n    public User(int countryID, Company company, String name, String email,\n            String phone1, String phone2, String password, boolean isAdmin) {\n        this.pasportID = countryID;\n        this.company = company;\n        this.name = name;\n        this.email = email;\n        this.phone1 = phone1;\n        this.phone2 = phone2;\n        this.password = password;\n        this.isAdmin = isAdmin;\n    }\n\n    @Id\n    @GeneratedValue(generator=\"increment\")\n    @GenericGenerator(name=\"increment\", strategy = \"increment\")\n    public long getUserID() {\n        return userID;\n    }\n    public void setUserID(long userID) {\n        this.userID = userID;\n    }\n    ...    \n}\n</code></pre>\n\n<p>Any idea why I get this error?</p>\n"},{"tags":["java","batch-file","jpa","purge"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323443,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234183566,"creation_date":1234183566,"answer_id":528005,"question_id":527945,"body_markdown":"Limits on queries is a database specific feature and there is no SQL standard (I agree there should be).\r\n\r\nA solution which works with most databases is using a view to group several tables into one. Each table contains a subset of the data (say one day). This allows you to drop a whole subset at once. That said, many databases have issues with running UPDATE and INSERT on such a view.\r\n\r\nYou can usually work around this by creating a view or alias for INSERT/UPDATE (which points to a single table; the &quot;current&quot; one) and a grouping view for searching.\r\n\r\nSome databases also offer partitions which is basically the same thing except that you can define a column which specifies in which underlying table a row should go (on INSERT). When you need to delete a subset, you can drop/truncate one of the underlying tables.","title":"Batch deletion / purging of records via Java ORM","body":"<p>Limits on queries is a database specific feature and there is no SQL standard (I agree there should be).</p>\n\n<p>A solution which works with most databases is using a view to group several tables into one. Each table contains a subset of the data (say one day). This allows you to drop a whole subset at once. That said, many databases have issues with running UPDATE and INSERT on such a view.</p>\n\n<p>You can usually work around this by creating a view or alias for INSERT/UPDATE (which points to a single table; the \"current\" one) and a grouping view for searching.</p>\n\n<p>Some databases also offer partitions which is basically the same thing except that you can define a column which specifies in which underlying table a row should go (on INSERT). When you need to delete a subset, you can drop/truncate one of the underlying tables.</p>\n"},{"tags":[],"owner":{"account_id":22811,"reputation":11757,"user_id":56672,"accept_rate":68,"display_name":"Jeremy French"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1234183912,"creation_date":1234183912,"answer_id":528023,"question_id":527945,"body_markdown":"I hate to give a non constructive answer but an ORM isn’t really meant for doing bulk operations on the database. So it looks like you native query is probably the best bet for these operations. \r\n\r\nYou should also make sure that your ORM is updated to reflect the new state of the database otherwise you may get some weirdness happening. \r\n\r\nORMs are great tools for mapping objects to databases, but they are not generally generic database interfaces.\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>I hate to give a non constructive answer but an ORM isn’t really meant for doing bulk operations on the database. So it looks like you native query is probably the best bet for these operations. </p>\n\n<p>You should also make sure that your ORM is updated to reflect the new state of the database otherwise you may get some weirdness happening. </p>\n\n<p>ORMs are great tools for mapping objects to databases, but they are not generally generic database interfaces.</p>\n"},{"comments":[{"owner":{"account_id":40256,"reputation":46474,"user_id":116639,"accept_rate":25,"display_name":"Tom Anderson"},"score":0,"creation_date":1340901884,"post_id":530231,"comment_id":14783214,"body_markdown":"I think the question-asker is already doing this, but finding that the delete is so slow it times out.","body":"I think the question-asker is already doing this, but finding that the delete is so slow it times out."}],"tags":[],"owner":{"account_id":9482,"reputation":2874,"user_id":17542,"accept_rate":90,"display_name":"stian"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1234217155,"creation_date":1234217155,"answer_id":530231,"question_id":527945,"body_markdown":"I believe you can use HQL (JPA QL) direct DML operations which will bypass the persistence context and cache, and execute the (resulting SQL) statements directly:\r\n\r\n    Query q = session.createQuery(&quot;delete YourEntity ye where ye.something like :param&quot;);\r\n    q.setParameter(&quot;param&quot;, &quot;anything&quot;);\r\n    int deletedEntities = q.executeUpdate();","title":"Batch deletion / purging of records via Java ORM","body":"<p>I believe you can use HQL (JPA QL) direct DML operations which will bypass the persistence context and cache, and execute the (resulting SQL) statements directly:</p>\n\n<pre><code>Query q = session.createQuery(\"delete YourEntity ye where ye.something like :param\");\nq.setParameter(\"param\", \"anything\");\nint deletedEntities = q.executeUpdate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74547,"reputation":14635,"user_id":214149,"accept_rate":93,"display_name":"Mac"},"score":2,"creation_date":1354835865,"post_id":4223539,"comment_id":18903898,"body_markdown":"The OP already indicated they tried this with no success: `Out of luck. JPA Query.setMaxResults and setFirstResult have no effect for write &#39;queries&#39;...`","body":"The OP already indicated they tried this with no success: <code>Out of luck. JPA Query.setMaxResults and setFirstResult have no effect for write &#39;queries&#39;...</code>"}],"tags":[],"owner":{"account_id":671126,"reputation":1,"user_id":513290,"display_name":"sony"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1325499236,"creation_date":1290158182,"answer_id":4223539,"question_id":527945,"body_markdown":"`q.setMaxResults(int)`\r\n\r\n...sony","title":"Batch deletion / purging of records via Java ORM","body":"<p><code>q.setMaxResults(int)</code></p>\n\n<p>...sony</p>\n"},{"tags":[],"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692514790,"creation_date":1692514790,"answer_id":76938279,"question_id":527945,"body_markdown":"Insert it into the required Repository. \r\n\r\n```\r\n@Modifying\r\n@Transactional\r\n@Query(value = &quot;DELETE FROM myTable LIMIT 25000&quot;, nativeQuery = true)\r\nvoid removeRows();\r\n```\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>Insert it into the required Repository.</p>\n<pre><code>@Modifying\n@Transactional\n@Query(value = &quot;DELETE FROM myTable LIMIT 25000&quot;, nativeQuery = true)\nvoid removeRows();\n</code></pre>\n"}],"owner":{"display_name":"Conor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4256,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":5,"score":7,"last_activity_date":1692514790,"creation_date":1234182519,"question_id":527945,"body_markdown":"Right - I want to delete (e.g.) 1,000,000 records from a database.\r\nThis takes a long time -&gt; the transaction times out and fails.\r\nSo - I delete them in batches say 25000 records per transaction.\r\nUsing the limit clause on MySQL or ROWNUM on Oracle.\r\nGreat this works.\r\n\r\nI want to do this in a database independent way.\r\nAnd from an existing Java code base that uses JPA/Hibernate.\r\n\r\nOut of luck. JPA Query.setMaxResults and setFirstResult have no \r\neffect for write &#39;queries&#39; (e.g. delete). Selecting many entities \r\ninto memory to delete them individually is very slow and dumb I&#39;d say.\r\n\r\nSo I use a native query and manage the &#39;limit&#39; clause in application code.\r\nIt&#39;d be nice to encapsulate this clause in orm.xml but ...\r\n&quot;Hibernate Annotations 3.2 does not support bulk update/deletes using native queries.&quot;\r\n- http://opensource.atlassian.com/projects/hibernate/browse/ANN-469.\r\n\r\nI&#39;d imagine this is a common problem. \r\nAnybody got a better database independent solution?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Batch deletion / purging of records via Java ORM","body":"<p>Right - I want to delete (e.g.) 1,000,000 records from a database.\nThis takes a long time -> the transaction times out and fails.\nSo - I delete them in batches say 25000 records per transaction.\nUsing the limit clause on MySQL or ROWNUM on Oracle.\nGreat this works.</p>\n\n<p>I want to do this in a database independent way.\nAnd from an existing Java code base that uses JPA/Hibernate.</p>\n\n<p>Out of luck. JPA Query.setMaxResults and setFirstResult have no \neffect for write 'queries' (e.g. delete). Selecting many entities \ninto memory to delete them individually is very slow and dumb I'd say.</p>\n\n<p>So I use a native query and manage the 'limit' clause in application code.\nIt'd be nice to encapsulate this clause in orm.xml but ...\n\"Hibernate Annotations 3.2 does not support bulk update/deletes using native queries.\"\n- <a href=\"http://opensource.atlassian.com/projects/hibernate/browse/ANN-469\" rel=\"nofollow noreferrer\">http://opensource.atlassian.com/projects/hibernate/browse/ANN-469</a>.</p>\n\n<p>I'd imagine this is a common problem. \nAnybody got a better database independent solution?</p>\n"},{"tags":["java","jakarta-mail","weblogic12c"],"comments":[{"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"score":0,"creation_date":1431959998,"post_id":30305905,"comment_id":48707588,"body_markdown":"What about using a transactional mail service like Mandrill?","body":"What about using a transactional mail service like Mandrill?"},{"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"score":0,"creation_date":1431961211,"post_id":30305905,"comment_id":48708532,"body_markdown":"@Raffaele my company doesn&#39;t want to pay/use third party products. Anyway it would be good to have in SO a best practice for such a common task.","body":"@Raffaele my company doesn&#39;t want to pay/use third party products. Anyway it would be good to have in SO a best practice for such a common task."}],"answers":[{"comments":[{"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"score":0,"creation_date":1431986413,"post_id":30313037,"comment_id":48722312,"body_markdown":"Is it possible to keep a pool of connections open in Weblogic? That would be ideal (I think). The email has to be sent as soon as a &quot;job&quot; has been assigned to a person(the receiver of the email). There may be 100 in a second (my estimate).","body":"Is it possible to keep a pool of connections open in Weblogic? That would be ideal (I think). The email has to be sent as soon as a &quot;job&quot; has been assigned to a person(the receiver of the email). There may be 100 in a second (my estimate)."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1432004406,"post_id":30313037,"comment_id":48727230,"body_markdown":"There&#39;s nothing that keeps a pool of connections open.  If you&#39;re sending 100 messages a second, the server shouldn&#39;t be timing out the connection because it&#39;s idle!  If you don&#39;t get acceptable performance using a single connection, you&#39;ll need to manage your own pool of connections.  Since a connection can only be used by a single thread, you&#39;ll want to send all your requests through a single component that can manage the connection (Transport object).  You might want to use JMS to queue the notification requests.","body":"There&#39;s nothing that keeps a pool of connections open.  If you&#39;re sending 100 messages a second, the server shouldn&#39;t be timing out the connection because it&#39;s idle!  If you don&#39;t get acceptable performance using a single connection, you&#39;ll need to manage your own pool of connections.  Since a connection can only be used by a single thread, you&#39;ll want to send all your requests through a single component that can manage the connection (Transport object).  You might want to use JMS to queue the notification requests."},{"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"score":0,"creation_date":1432021550,"post_id":30313037,"comment_id":48734168,"body_markdown":"the 100 mail per second is just e peak estimate. It may well happen that for 6 hours or 12 hours no job is created and assigned. I&#39;m trying to figure out what&#39;s the best way to tackle this scenario. Since you are the principal developer for Java Mail, I think it would be a good idea to have some lines of code that tackle this scenarios with performance in mind. 10 lines of code speak more than a 100 slides sometimes...","body":"the 100 mail per second is just e peak estimate. It may well happen that for 6 hours or 12 hours no job is created and assigned. I&#39;m trying to figure out what&#39;s the best way to tackle this scenario. Since you are the principal developer for Java Mail, I think it would be a good idea to have some lines of code that tackle this scenarios with performance in mind. 10 lines of code speak more than a 100 slides sometimes..."},{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1432065513,"post_id":30313037,"comment_id":48764593,"body_markdown":"As I said, the right answer depends much more on your application, its structure, its requirements, etc.  A simple approach might not scale, and a scalable approach might be more complex than is justified by your application requirements.","body":"As I said, the right answer depends much more on your application, its structure, its requirements, etc.  A simple approach might not scale, and a scalable approach might be more complex than is justified by your application requirements."}],"tags":[],"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431984234,"creation_date":1431984234,"answer_id":30313037,"question_id":30305905,"body_markdown":"You can reuse the Session object, but you&#39;ll need to figure out the best place in your application to create it and store it for reuse.\r\n\r\nLikewise the Transport object, but as you point out your application will have to deal with the fact that the mail server doesn&#39;t want you to keep the connection open if you&#39;re not doing anything with it, and so will close the connection.  You&#39;ll need to reconnect when you detect this.\r\n\r\nIf you&#39;re sending a high volume of email, you&#39;ll probably want to send all the notification requests to a separate thread or task or whatever and send the email from there.  You might want to batch up the notifications and send them out every day or hour or minute or whatever is appropriate for your application.\r\n\r\nAs you can see, there is no one best practice for dealing with all these issues.  It depends a lot on the needs of your application.","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>You can reuse the Session object, but you'll need to figure out the best place in your application to create it and store it for reuse.</p>\n\n<p>Likewise the Transport object, but as you point out your application will have to deal with the fact that the mail server doesn't want you to keep the connection open if you're not doing anything with it, and so will close the connection.  You'll need to reconnect when you detect this.</p>\n\n<p>If you're sending a high volume of email, you'll probably want to send all the notification requests to a separate thread or task or whatever and send the email from there.  You might want to batch up the notifications and send them out every day or hour or minute or whatever is appropriate for your application.</p>\n\n<p>As you can see, there is no one best practice for dealing with all these issues.  It depends a lot on the needs of your application.</p>\n"},{"comments":[{"owner":{"account_id":278995,"reputation":2459,"user_id":2553194,"display_name":"RubioRic"},"score":0,"creation_date":1692460816,"post_id":76439389,"comment_id":135627729,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/34866061)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/34866061\">From Review</a>"},{"owner":{"account_id":3629120,"reputation":7260,"user_id":3025856,"accept_rate":75,"display_name":"Jeremy Caney"},"score":0,"creation_date":1692491863,"post_id":76439389,"comment_id":135630626,"body_markdown":"@RubioRic: I’m not a fan of this approach for an answer, either, but it does provide more than just a link, since it offers actionable advice on at least one solution. That said, the author would do well to [edit] the answer to offer more details and better summarize content of the link.","body":"@RubioRic: I’m not a fan of this approach for an answer, either, but it does provide more than just a link, since it offers actionable advice on at least one solution. That said, the author would do well to <a href=\"https://stackoverflow.com/posts/76439389/edit\">edit</a> the answer to offer more details and better summarize content of the link."}],"tags":[],"owner":{"account_id":27780880,"reputation":47,"user_id":21209255,"display_name":"Muhammadqodir Muhsinov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692513106,"creation_date":1686306633,"answer_id":76439389,"question_id":30305905,"body_markdown":"\r\n\r\nHere you can read more about sending emails: https://mailtrap.io/blog/sending-email-using-java/\r\n\r\nMy solution for this case is: Just write your session Factory like hikari or others. It will close connection when necessary, or create as well. If many requests came one after another, it will keep the same connection alive.","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>Here you can read more about sending emails: <a href=\"https://mailtrap.io/blog/sending-email-using-java/\" rel=\"nofollow noreferrer\">https://mailtrap.io/blog/sending-email-using-java/</a></p>\n<p>My solution for this case is: Just write your session Factory like hikari or others. It will close connection when necessary, or create as well. If many requests came one after another, it will keep the same connection alive.</p>\n"}],"owner":{"account_id":1764320,"reputation":1833,"user_id":1610544,"accept_rate":25,"display_name":"Alboz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1872,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1692513106,"creation_date":1431959312,"question_id":30305905,"body_markdown":"I&#39;m writing a system which sends email notification to users once a work has been assigned to them. \r\n\r\nAs you can imagine &quot;establish a connection to the mail server &quot; is expensive.\r\n\r\nI would like a way to reuse the same connection. The problem is that the mail server at some point will &quot;**kill**&quot; the connection (because of inactivity etc). \r\n\r\nAlso I don&#39;t want to create a `Session` object every time I send an email... the same session object should be used.\r\n\r\nHere is how my EJB method looks like:\r\n\r\n    @Asynchronous\r\n    public Future&lt;String&gt; sendEmail(String email) {\r\n       .....\r\n       //I want to reuse the same session object. What if another\r\n       //application runs in the same JVM and creates the session\r\n       //object before mine? My properties will be ignored? Probably Yes.\r\n\r\n       Session session = Session.getDefaultInstance(props);\r\n       try{\r\n           // Instantiate a message\r\n           Message msg = new MimeMessage(session);\r\n           .....\r\n           //This will create and close the connection each time...\r\n           Transport.send(msg);\r\n          }\r\n       finally{....}\r\n    }\r\n","title":"Java Mail - Best Practices/Efficient way to create an email notification system","body":"<p>I'm writing a system which sends email notification to users once a work has been assigned to them. </p>\n\n<p>As you can imagine \"establish a connection to the mail server \" is expensive.</p>\n\n<p>I would like a way to reuse the same connection. The problem is that the mail server at some point will \"<strong>kill</strong>\" the connection (because of inactivity etc). </p>\n\n<p>Also I don't want to create a <code>Session</code> object every time I send an email... the same session object should be used.</p>\n\n<p>Here is how my EJB method looks like:</p>\n\n<pre><code>@Asynchronous\npublic Future&lt;String&gt; sendEmail(String email) {\n   .....\n   //I want to reuse the same session object. What if another\n   //application runs in the same JVM and creates the session\n   //object before mine? My properties will be ignored? Probably Yes.\n\n   Session session = Session.getDefaultInstance(props);\n   try{\n       // Instantiate a message\n       Message msg = new MimeMessage(session);\n       .....\n       //This will create and close the connection each time...\n       Transport.send(msg);\n      }\n   finally{....}\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-notifications","android-notification.mediastyle"],"comments":[{"owner":{"account_id":1671983,"reputation":1508,"user_id":1538285,"display_name":"miladfm"},"score":1,"creation_date":1693846086,"post_id":76938044,"comment_id":135810838,"body_markdown":"I have the same problem!\nDid you found any solution?","body":"I have the same problem! Did you found any solution?"},{"owner":{"account_id":22204673,"reputation":57,"user_id":16444754,"display_name":"IronFist"},"score":0,"creation_date":1693934485,"post_id":76938044,"comment_id":135824091,"body_markdown":"not found any yet","body":"not found any yet"}],"owner":{"account_id":22204673,"reputation":57,"user_id":16444754,"display_name":"IronFist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692512695,"creation_date":1692509062,"question_id":76938044,"body_markdown":"How to create android notification styled like Whatsapp or Telegream chat notification using Notification.setStyle(Notification.MessagingStyle) or any other without using remoteviews\r\n\r\n[![enter image description here][1]][1]\r\n\r\ni could get that using Notification.CallStyle but i see hangup button which i don&#39;t want or customise the button text,icon,color\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n            Person.Builder personBuilder = new Person.Builder();\r\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.angry_bird);\r\n            Icon icon = Icon.createWithBitmap(bitmap);\r\n            personBuilder.setIcon(icon);\r\n            personBuilder.setName(&quot;It&#39;s Me&quot;);\r\n            personBuilder.setImportant(true);\r\n            Person person = personBuilder.build();\r\n            Notification.CallStyle style = Notification.CallStyle.forOngoingCall(person,pendingIntent);\r\n            notificationBuilder.setStyle(style);\r\n            notificationBuilder.setContentText(&quot;Hello&quot;);\r\n        }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWZ73.jpg\r\n  [2]: https://i.stack.imgur.com/Y5Uqp.jpg","title":"How to create android notification styled like Whatsapp or Telegream using Notification.setStyle","body":"<p>How to create android notification styled like Whatsapp or Telegream chat notification using Notification.setStyle(Notification.MessagingStyle) or any other without using remoteviews</p>\n<p><a href=\"https://i.stack.imgur.com/XWZ73.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWZ73.jpg\" alt=\"enter image description here\" /></a></p>\n<p>i could get that using Notification.CallStyle but i see hangup button which i don't want or customise the button text,icon,color</p>\n<p><a href=\"https://i.stack.imgur.com/Y5Uqp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y5Uqp.jpg\" alt=\"enter image description here\" /></a></p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n            Person.Builder personBuilder = new Person.Builder();\n            Bitmap bitmap = BitmapFactory.decodeResource(getResources(), R.drawable.angry_bird);\n            Icon icon = Icon.createWithBitmap(bitmap);\n            personBuilder.setIcon(icon);\n            personBuilder.setName(&quot;It's Me&quot;);\n            personBuilder.setImportant(true);\n            Person person = personBuilder.build();\n            Notification.CallStyle style = Notification.CallStyle.forOngoingCall(person,pendingIntent);\n            notificationBuilder.setStyle(style);\n            notificationBuilder.setContentText(&quot;Hello&quot;);\n        }\n</code></pre>\n"},{"tags":["java","eclipse","maven","testng","filtering"],"owner":{"account_id":18434247,"reputation":1,"user_id":22416533,"display_name":"leerho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692512692,"creation_date":1692512692,"question_id":76938190,"body_markdown":"ENV: Eclipse 2023-06 (4.28.0), Maven 3.9.1, TestNG 7.5.1, Java 8.\r\n\r\nDoing development I often use the Eclipse &quot;Run As:TestNG Test&quot; on a selected directory of test files. Following the Maven SureFire plugin convention, all of my test class names are of the form &quot;.*Test&quot;, except for integration tests, which follow the FailSafe plugin convention &quot;.*IT&quot;.  When selecting a directory of tests that include both SureFire and FailSafe test classes.  I have not been successful in getting &quot;Run As:TestNG Test&quot; to ignore the FailSafe &quot;.*IT&quot; classes, it runs them no matter what I do. \r\n\r\n(Excluding classes not a problem when running the tests directly from Maven command line. But it is awkward / difficult to quickly select a single directory of tests from the Maven command line!).\r\n\r\nI have tried labeling the FailSafe test methods using TestNG groups, e.g. (@Test(groups = {&quot;failsafe&quot;})) and then excluding the group using a testng.xml file like the following which was copied from the TestNG documentation:\r\n\r\n```\r\n&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\r\n  &lt;test name=&quot;test1&quot;&gt;\r\n    &lt;groups&gt;\r\n      &lt;run&gt;\r\n        &lt;exclude name=&quot;failsafe&quot;/&gt;\r\n      &lt;/run&gt;\r\n    &lt;/groups&gt;\r\n  &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nI have tried using testng.xml file to exclude all methods of classes that have the name &quot;.*IT&quot;, like this:\r\n\r\n```\r\n&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\r\n  &lt;test name=&quot;test1&quot;&gt;\r\n    &lt;classes&gt;\r\n      &lt;class name=&quot;.*IT&quot;&gt;\r\n        &lt;methods&gt;\r\n          &lt;exclude name=&quot;.*&quot;/&gt;\r\n        &lt;/methods&gt;\r\n      &lt;/class&gt;\r\n    &lt;/classes&gt;\r\n  &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nI have also tried different variations of name using RegEx, e.g., \\&lt;class name=&quot;.\\*IT.\\*&quot;\\&gt;.  \r\nApparently, the testng.xml \\&lt;class name= ...\\&gt; does not accept RegEx expressions even through the official TestNG documentation https://testng.org/doc/documentation-main.html#testng-xml, section 5, seems to imply that it does! To wit: &quot;Note: TestNG uses regular expressions,...&quot;.\r\n\r\nI other words, I haven&#39;t been able to find any way to specify exclude or include filtering of tests when using Eclipse &quot;Run As:TestNG Test&quot;.\r\n\r\nAny help would be appreciated.\r\n","title":"How to exclude test classes that don&#39;t have &quot;Test&quot; in the class name using Eclipse &quot;Run As: TestNG Test&quot;","body":"<p>ENV: Eclipse 2023-06 (4.28.0), Maven 3.9.1, TestNG 7.5.1, Java 8.</p>\n<p>Doing development I often use the Eclipse &quot;Run As:TestNG Test&quot; on a selected directory of test files. Following the Maven SureFire plugin convention, all of my test class names are of the form &quot;.*Test&quot;, except for integration tests, which follow the FailSafe plugin convention &quot;.*IT&quot;.  When selecting a directory of tests that include both SureFire and FailSafe test classes.  I have not been successful in getting &quot;Run As:TestNG Test&quot; to ignore the FailSafe &quot;.*IT&quot; classes, it runs them no matter what I do.</p>\n<p>(Excluding classes not a problem when running the tests directly from Maven command line. But it is awkward / difficult to quickly select a single directory of tests from the Maven command line!).</p>\n<p>I have tried labeling the FailSafe test methods using TestNG groups, e.g. (@Test(groups = {&quot;failsafe&quot;})) and then excluding the group using a testng.xml file like the following which was copied from the TestNG documentation:</p>\n<pre><code>&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\n  &lt;test name=&quot;test1&quot;&gt;\n    &lt;groups&gt;\n      &lt;run&gt;\n        &lt;exclude name=&quot;failsafe&quot;/&gt;\n      &lt;/run&gt;\n    &lt;/groups&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I have tried using testng.xml file to exclude all methods of classes that have the name &quot;.*IT&quot;, like this:</p>\n<pre><code>&lt;suite name=&quot;ExcludeITFiles&quot;&gt;\n  &lt;test name=&quot;test1&quot;&gt;\n    &lt;classes&gt;\n      &lt;class name=&quot;.*IT&quot;&gt;\n        &lt;methods&gt;\n          &lt;exclude name=&quot;.*&quot;/&gt;\n        &lt;/methods&gt;\n      &lt;/class&gt;\n    &lt;/classes&gt;\n  &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>I have also tried different variations of name using RegEx, e.g., &lt;class name=&quot;.*IT.*&quot;&gt;.<br />\nApparently, the testng.xml &lt;class name= ...&gt; does not accept RegEx expressions even through the official TestNG documentation <a href=\"https://testng.org/doc/documentation-main.html#testng-xml\" rel=\"nofollow noreferrer\">https://testng.org/doc/documentation-main.html#testng-xml</a>, section 5, seems to imply that it does! To wit: &quot;Note: TestNG uses regular expressions,...&quot;.</p>\n<p>I other words, I haven't been able to find any way to specify exclude or include filtering of tests when using Eclipse &quot;Run As:TestNG Test&quot;.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","file","video","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1692273617,"post_id":76921234,"comment_id":135602457,"body_markdown":"What does &quot;it doesn&#39;t return anything&quot; mean? &quot;I want to get the path of the selected videos&quot; -- that is not an option, sorry.","body":"What does &quot;it doesn&#39;t return anything&quot; mean? &quot;I want to get the path of the selected videos&quot; -- that is not an option, sorry."}],"answers":[{"comments":[{"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"score":1,"creation_date":1692282132,"post_id":76921367,"comment_id":135604474,"body_markdown":"Is a video uri similar to a file path??","body":"Is a video uri similar to a file path??"},{"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"score":0,"creation_date":1692333087,"post_id":76921367,"comment_id":135611583,"body_markdown":"Yes to play video you can use videoView.setVideoURI(Uri.parse(videoUri));\n        videoView.start(); also updated the answer with convert to File if you need file to upload some where but with uri you can easily play it","body":"Yes to play video you can use videoView.setVideoURI(Uri.parse(videoUri));         videoView.start(); also updated the answer with convert to File if you need file to upload some where but with uri you can easily play it"},{"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"score":0,"creation_date":1692341249,"post_id":76921367,"comment_id":135612389,"body_markdown":"If that helps you and saved your time upvote the answer to motivate us","body":"If that helps you and saved your time upvote the answer to motivate us"},{"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"score":0,"creation_date":1692512721,"post_id":76921367,"comment_id":135631794,"body_markdown":"Please check the update to the question thanks for answering the previous one","body":"Please check the update to the question thanks for answering the previous one"},{"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"score":0,"creation_date":1692595541,"post_id":76921367,"comment_id":135639397,"body_markdown":"You have printed the selectedVideos.get(0) so it will shows the array list  of &quot;First item&quot; .. if you have to print the hidden name you have to print like vidFile getfilename but that will gives last file name as you have kept outside of forloop","body":"You have printed the selectedVideos.get(0) so it will shows the array list  of &quot;First item&quot; .. if you have to print the hidden name you have to print like vidFile getfilename but that will gives last file name as you have kept outside of forloop"},{"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"score":0,"creation_date":1692598013,"post_id":76921367,"comment_id":135639654,"body_markdown":"So please how do I make it move the selected file to another directory","body":"So please how do I make it move the selected file to another directory"},{"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"score":0,"creation_date":1692692032,"post_id":76921367,"comment_id":135654954,"body_markdown":"Okay but why you have to move please share the more detail of this so i can help in this","body":"Okay but why you have to move please share the more detail of this so i can help in this"}],"tags":[],"owner":{"account_id":19634805,"reputation":311,"user_id":14372265,"display_name":"Yogesh Rewani"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692333286,"creation_date":1692274036,"answer_id":76921367,"question_id":76921234,"body_markdown":"You can select the multiple video by following code and on Activity result get the uri of file \r\n\r\n    private void selectMultipleVideos() {\r\n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n            intent.setType(&quot;video/*&quot;);\r\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n            startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n        }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    \r\n        if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                if (data.getClipData() != null) {\r\n                    // Multiple videos were selected\r\n                    int count = data.getClipData().getItemCount();\r\n                    for (int i = 0; i &lt; count; i++) {\r\n                        Uri videoUri = data.getClipData().getItemAt(i).getUri();\r\n                        // Process the selected video Uri\r\n                    }\r\n                } else if (data.getData() != null) {\r\n                    // Single video was selected\r\n                    Uri videoUri = data.getData();\r\n                    // Process the selected video Uri\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private File convertUriToFile(Uri uri) {\r\n            String filePath = null;\r\n            String[] projection = {MediaStore.Video.Media.DATA};\r\n            ContentResolver contentResolver = getContentResolver();\r\n            Cursor cursor = contentResolver.query(uri, projection, null, null, null);\r\n    \r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n                filePath = cursor.getString(columnIndex);\r\n                cursor.close();\r\n            }\r\n    \r\n            if (filePath != null) {\r\n                return new File(filePath);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n\r\nLet me know if you have any doubts","title":"How to Get the multiple videos using intent","body":"<p>You can select the multiple video by following code and on Activity result get the uri of file</p>\n<pre><code>private void selectMultipleVideos() {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.setType(&quot;video/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n    }\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\n        if (data != null) {\n            if (data.getClipData() != null) {\n                // Multiple videos were selected\n                int count = data.getClipData().getItemCount();\n                for (int i = 0; i &lt; count; i++) {\n                    Uri videoUri = data.getClipData().getItemAt(i).getUri();\n                    // Process the selected video Uri\n                }\n            } else if (data.getData() != null) {\n                // Single video was selected\n                Uri videoUri = data.getData();\n                // Process the selected video Uri\n            }\n        }\n    }\n}\n\nprivate File convertUriToFile(Uri uri) {\n        String filePath = null;\n        String[] projection = {MediaStore.Video.Media.DATA};\n        ContentResolver contentResolver = getContentResolver();\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\n\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n            filePath = cursor.getString(columnIndex);\n            cursor.close();\n        }\n\n        if (filePath != null) {\n            return new File(filePath);\n        } else {\n            return null;\n        }\n    }\n</code></pre>\n<p>Let me know if you have any doubts</p>\n"}],"owner":{"account_id":28987078,"reputation":3,"user_id":22203694,"display_name":"Micah Okoh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76921367,"answer_count":1,"score":0,"last_activity_date":1692512619,"creation_date":1692273018,"question_id":76921234,"body_markdown":"My problem is that after creating an Intent and making the user select videos my activityOnResult method is supposed to get the file path of the selected videos from their uri which it does then afterward a for loop is supposed to run which loops through the lists of the selected videos path and assign them to a file which I plan to rename to a hidden directory I created.\r\n\r\nBut the problem is that the for loop doesn&#39;t run I think because I placed an alert dialog after the for loop and got a random item from the list of selected videos and it runs but the for loop doesn&#39;t.\r\n\r\nHere is my Activity\r\n\r\n```\r\npackage com.memoir.premium.code.activities;\r\n\r\nimport android.os.Bundle;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport com.memoir.premium.code.R;\r\nimport android.support.design.widget.*;\r\nimport android.support.v4.view.*;\r\nimport com.memoir.premium.code.fragments.*;\r\nimport android.support.v4.app.*;\r\nimport java.util.*;\r\nimport android.view.*;\r\nimport android.os.*;\r\nimport android.content.*;\r\nimport java.io.*;\r\nimport android.provider.*;\r\nimport android.net.*;\r\nimport android.database.*;\r\nimport android.util.*;\r\nimport android.annotation.*;\r\nimport android.widget.*;\r\nimport android.*;\r\nimport android.content.pm.*;\r\nimport cn.pedant.SweetAlert.*;\r\nimport java.nio.file.*;\r\n\r\npublic class ImportResourcesActivity extends AppCompatActivity {\r\n\t\r\n\tprivate TabLayout tabLayout;\r\n    private ViewPager viewPager;\r\n    private int[] tabIcons = {\r\n\t\tR.drawable.video_icon,\r\n\t\tR.drawable.image_icon\r\n    };\r\n\t\r\n\tprivate FloatingActionButton fab_add;\r\n\r\n\tprivate static final String TAG = &quot;VideoPickerActivity&quot;;\r\n\r\n    private static final int SELECT_VIDEOS = 1;\r\n    private static final int SELECT_VIDEOS_KITKAT = 1;\r\n\r\n\tint REQUEST_CODE_SELECT_VIDEOS = 1;\r\n    private List&lt;String&gt; selectedVideos;\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.import_resources_activity);\r\n\t\t\r\n        viewPager = (ViewPager) findViewById(R.id.viewpager);\r\n        setupViewPager(viewPager);\r\n\r\n        tabLayout = (TabLayout) findViewById(R.id.tabs);\r\n        tabLayout.setupWithViewPager(viewPager);\r\n\r\n        setupTabIcons();\r\n\t\t\r\n\t\tfab_add = findViewById(R.id.fab_add);\r\n\t\tfab_add.setOnClickListener(new View.OnClickListener() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onClick(View view) {\r\n\t\t\t\t\tcheckPermission();\r\n\t\t\t\t}\r\n\t\t\t});\r\n    }\r\n\t\r\n\tpublic void checkPermission(){\r\n\r\n        if(this!=null){\r\n\r\n\t\t\tif(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED){\r\n\t\t\t\t\r\n\t\t\t\tselectMultipleVideos();\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse {\r\n\r\n\t\t\t\tActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE},100);\r\n\r\n\t\t\t}}\r\n\r\n    }\r\n\t\r\n\tprivate void selectMultipleVideos() {\r\n      /*  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.setType(&quot;video/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);*/\r\n\t\t\r\n\t\tif (Build.VERSION.SDK_INT &lt;19){\r\n\t\t\tIntent intent = new Intent();\r\n\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\tintent.setAction(Intent.ACTION_GET_CONTENT);\r\n\t\t\tstartActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t} else {\r\n\t\t\tIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\t\t\tintent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\tstartActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t}\r\n    }\r\n\t\r\n\t@Override\r\n\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        if(requestCode==100 &amp;&amp; (grantResults.length&gt;0) &amp;&amp; (grantResults[0]==PackageManager.PERMISSION_GRANTED) &amp;&amp;  (grantResults[1]==PackageManager.PERMISSION_GRANTED)){\r\n\r\n            //When permission granted\r\n\r\n\t\t\tif (Build.VERSION.SDK_INT &lt;19){\r\n\t\t\t\tIntent intent = new Intent();\r\n\t\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\t\tintent.setAction(Intent.ACTION_GET_CONTENT);\r\n\t\t\t\tstartActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t\t} else {\r\n\t\t\t\tIntent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n\t\t\t\tintent.addCategory(Intent.CATEGORY_OPENABLE);\r\n\t\t\t\tintent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n\t\t\t\tintent.setType(&quot;video/mp4&quot;);\r\n\t\t\t\tstartActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\r\n\t\t\t}\r\n\r\n        }\r\n\r\n        else {\r\n\r\n            new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Alert&quot;)\r\n\t\t\t\t.setContentText(&quot;App cannot function without you granting this permission so please grant it&quot;)\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n\t\r\n\t@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode,resultCode,data);\r\n        if (resultCode == RESULT_OK) {\r\n            selectedVideos = getSelectedVideos(requestCode,data);\r\n\r\n\t\t\tfor(int i = 0;selectedVideos.size()&lt; i;i++){\r\n\t\t\t\tFile vidFile = new File(selectedVideos.get(i));\r\n\t\t\t\tvidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\tshowToast(&quot;Sucess &quot;+vidFile.getName());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Sir Micah&quot;)\r\n\t\t\t\t.setContentText(&quot;It returned an intent&quot; + selectedVideos.get(0))\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n\r\n\t\r\n\r\n\r\n\t/*@Override\r\n\tprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode, resultCode, data);\r\n\r\n\t\tif (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\r\n\t\t\tif (data != null) {\r\n\t\t\t\tif (data.getClipData() != null) {\r\n\t\t\t\t\t// Multiple videos were selected\r\n\t\t\t\t\tint count = data.getClipData().getItemCount();\r\n\t\t\t\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\t\t\t\tUri videoUri = data.getClipData().getItemAt(i).getUri();\r\n\t\t\t\t\t\t// Process the selected video Uri\r\n\t\t\t\t\t\t//File vidFile = convertUriToFile(videoUri);\r\n\t\t\t\t\t\t//vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\t\t\tshowToast(&quot;Sucess &quot;+i);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (data.getData() != null) {\r\n\t\t\t\t\t// Single video was selected\r\n\t\t\t\t\tUri videoUri = data.getData();\r\n\t\t\t\t\t// Process the selected video Ur\r\n\t\t\t\t\t//File vidFile = convertUriToFile(videoUri);\r\n\t\t\t\t\t//vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\t\tshowToast(&quot;Sucess &quot;+videoUri);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\r\n\t/*private File convertUriToFile(Uri uri) {\r\n        String filePath = null;\r\n        String[] projection = {MediaStore.Video.Media.DATA};\r\n        ContentResolver contentResolver = getContentResolver();\r\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\r\n\r\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\r\n            filePath = cursor.getString(columnIndex);\r\n            cursor.close();\r\n        }\r\n\r\n        if (filePath != null) {\r\n            return new File(filePath);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n\tpublic String getRealPathFromURI(Context context, Uri contentUri) {\r\n\t\tCursor cursor = null;\r\n\t\ttry { \r\n\t\t\tString[] proj = { MediaStore.Images.Media.DATA };\r\n\t\t\tcursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\r\n\t\t\tint column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\r\n\t\t\tcursor.moveToFirst();\r\n\t\t\treturn cursor.getString(column_index);\r\n\t\t} finally {\r\n\t\t\tif (cursor != null) {\r\n\t\t\t\tcursor.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}*/\r\n\t\r\n\t\r\n\r\n\t/*private List&lt;String&gt; getSelectedVideos(Intent data) {\r\n\r\n\t\tList&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n\t\tString[] filePathColumn = { MediaStore.Video.Media.DATA };\r\n\r\n\t\t// Single video selected\r\n\t\tif(data.getData() != null){\r\n\r\n\t\t\tUri mImageUri = data.getData();\r\n\r\n\t\t\t// Get the cursor\r\n\t\t\tCursor cursor = getContentResolver().query(mImageUri,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilePathColumn, null, null, null);\r\n\t\t\t// Move to first row\r\n\t\t\tcursor.moveToFirst();\r\n\r\n\t\t\tint columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n\t\t\tString videoPath  = cursor.getString(columnIndex);\r\n\t\t\tif(videoPath == null)\r\n\t\t\t\tLog.e(TAG, &quot;videoPath is null&quot;);\r\n\t\t\tresult.add(videoPath);\r\n\t\t\tcursor.close();\r\n\t\t}\r\n\t\t// Multiple videos selected\r\n\t\telse {\r\n\t\t\tClipData mClipData = data.getClipData();\r\n\t\t\tif (mClipData != null) {\r\n\t\t\t\tfor (int i = 0; i &lt; mClipData.getItemCount(); i++) {\r\n\r\n\t\t\t\t\tClipData.Item item = mClipData.getItemAt(i);\r\n\t\t\t\t\tUri uri = item.getUri();\r\n\t\t\t\t\t// Get the cursor\r\n\t\t\t\t\tCursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\r\n\t\t\t\t\t// Move to first row\r\n\t\t\t\t\tif (cursor == null)\r\n\t\t\t\t\t\tLog.e(TAG, &quot;cursor is null&quot;);\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tif (cursor.moveToFirst()) {\r\n\t\t\t\t\t\t\tint columnIndex = cursor.getColumnIndex(MediaStore.Video.Media.DATA);\r\n\t\t\t\t\t\t\tString videoPath = cursor.getString(columnIndex);\r\n\t\t\t\t\t\t\tif(videoPath == null)\r\n\t\t\t\t\t\t\t\tLog.e(TAG, &quot;videoPath is null&quot;);\r\n\t\t\t\t\t\t\tresult.add(videoPath);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tLog.e(TAG, &quot;cannot use cursor&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcursor.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}*/\r\n\r\n\tprivate List&lt;String&gt; getSelectedVideos(int requestCode, Intent data) {\r\n\r\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        ClipData clipData = data.getClipData();\r\n        if(clipData != null) {\r\n            for(int i=0;i&lt;clipData.getItemCount();i++) {\r\n                ClipData.Item videoItem = clipData.getItemAt(i);\r\n                Uri videoURI = videoItem.getUri();\r\n                String filePath = getPath(this, videoURI);\r\n                result.add(filePath);\r\n            }\r\n        }\r\n        else {\r\n            Uri videoURI = data.getData();\r\n            String filePath = getPath(this, videoURI);\r\n            result.add(filePath);\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get a file path from a Uri. This will get the the path for Storage Access\r\n     * Framework Documents, as well as the _data field for the MediaStore and\r\n     * other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @author paulburke\r\n     */\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n    public static String getPath(final Context context, final Uri uri) {\r\n\r\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\r\n\r\n        // DocumentProvider\r\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n            // ExternalStorageProvider\r\n            if (isExternalStorageDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                }\r\n\r\n                // TODO handle non-primary volumes\r\n            }\r\n            // DownloadsProvider\r\n            else if (isDownloadsDocument(uri)) {\r\n\r\n                final String id = DocumentsContract.getDocumentId(uri);\r\n                final Uri contentUri = ContentUris.withAppendedId(\r\n\t\t\t\t\tUri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n\r\n                return getDataColumn(context, contentUri, null, null);\r\n            }\r\n            // MediaProvider\r\n            else if (isMediaDocument(uri)) {\r\n                final String docId = DocumentsContract.getDocumentId(uri);\r\n                final String[] split = docId.split(&quot;:&quot;);\r\n                final String type = split[0];\r\n\r\n                Uri contentUri = null;\r\n                if (&quot;image&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;video&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                } else if (&quot;audio&quot;.equals(type)) {\r\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                }\r\n\r\n                final String selection = &quot;_id=?&quot;;\r\n                final String[] selectionArgs = new String[] {\r\n\t\t\t\t\tsplit[1]\r\n                };\r\n\r\n                return getDataColumn(context, contentUri, selection, selectionArgs);\r\n            }\r\n        }\r\n        // MediaStore (and general)\r\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n\r\n            // Return the remote address\r\n            if (isGooglePhotosUri(uri))\r\n                return uri.getLastPathSegment();\r\n\r\n            return getDataColumn(context, uri, null, null);\r\n        }\r\n        // File\r\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n            return uri.getPath();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get the value of the data column for this Uri. This is useful for\r\n     * MediaStore Uris, and other file-based ContentProviders.\r\n     *\r\n     * @param context The context.\r\n     * @param uri The Uri to query.\r\n     * @param selection (Optional) Filter used in the query.\r\n     * @param selectionArgs (Optional) Selection arguments used in the query.\r\n     * @return The value of the _data column, which is typically a file path.\r\n     */\r\n    public static String getDataColumn(Context context, Uri uri, String selection,\r\n                                       String[] selectionArgs) {\r\n\r\n        Cursor cursor = null;\r\n        final String column = &quot;_data&quot;;\r\n        final String[] projection = {\r\n\t\t\tcolumn\r\n        };\r\n\r\n        try {\r\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnull);\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                final int index = cursor.getColumnIndexOrThrow(column);\r\n                return cursor.getString(index);\r\n            }\r\n        } finally {\r\n            if (cursor != null)\r\n                cursor.close();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is ExternalStorageProvider.\r\n     */\r\n    public static boolean isExternalStorageDocument(Uri uri) {\r\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is DownloadsProvider.\r\n     */\r\n    public static boolean isDownloadsDocument(Uri uri) {\r\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is MediaProvider.\r\n     */\r\n    public static boolean isMediaDocument(Uri uri) {\r\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n    }\r\n\r\n    /**\r\n     * @param uri The Uri to check.\r\n     * @return Whether the Uri authority is Google Photos.\r\n     */\r\n    public static boolean isGooglePhotosUri(Uri uri) {\r\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n    }\r\n\t\r\n\tpublic void showToast(String str){\r\n\t\tToast.makeText(getApplicationContext(),str,Toast.LENGTH_LONG).show();\r\n\t}\r\n\r\n    private void setupTabIcons() {\r\n        tabLayout.getTabAt(0).setIcon(tabIcons[0]);\r\n        tabLayout.getTabAt(1).setIcon(tabIcons[1]);\r\n        \r\n    }\r\n\r\n    private void setupViewPager(ViewPager viewPager) {\r\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\r\n        adapter.addFragment(new Videos(), &quot;VIDEOS&quot;);\r\n        adapter.addFragment(new Images(), &quot;IMAGES&quot;);\r\n        viewPager.setAdapter(adapter);\r\n    }\r\n\r\n    class ViewPagerAdapter extends FragmentPagerAdapter {\r\n        private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\r\n        private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\r\n\r\n        public ViewPagerAdapter(FragmentManager manager) {\r\n            super(manager);\r\n        }\r\n\r\n        @Override\r\n        public Fragment getItem(int position) {\r\n            return mFragmentList.get(position);\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return mFragmentList.size();\r\n        }\r\n\r\n        public void addFragment(Fragment fragment, String title) {\r\n            mFragmentList.add(fragment);\r\n            mFragmentTitleList.add(title);\r\n        }\r\n\r\n        @Override\r\n        public CharSequence getPageTitle(int position) {\r\n            return mFragmentTitleList.get(position);\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the ActivityOnResult from the above activity\r\n\r\n```\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n\t\tsuper.onActivityResult(requestCode,resultCode,data);\r\n        if (resultCode == RESULT_OK) {\r\n            selectedVideos = getSelectedVideos(requestCode,data);\r\n\r\n\t\t\tfor(int i = 0;selectedVideos.size()&lt; i;i++){\r\n\t\t\t\tFile vidFile = new File(selectedVideos.get(i));\r\n\t\t\t\tvidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\r\n\t\t\t\tshowToast(&quot;Sucess &quot;+vidFile.getName());\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnew SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\r\n\t\t\t\t.setTitleText(&quot;Sir Micah&quot;)\r\n\t\t\t\t.setContentText(&quot;It returned an intent data&quot; + selectedVideos.get(0))\r\n\t\t\t\t.show();\r\n\r\n        }\r\n\r\n    }\r\n```\r\nHere is a pic of what happens when I select the videos,after it returns to the app the alert dialog runs showing me that the path is not null but the for loop does not rename the file to my hidden directory.\r\n\r\n[Tap to see the screenshot ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rxx3n.png","title":"How to Get the multiple videos using intent","body":"<p>My problem is that after creating an Intent and making the user select videos my activityOnResult method is supposed to get the file path of the selected videos from their uri which it does then afterward a for loop is supposed to run which loops through the lists of the selected videos path and assign them to a file which I plan to rename to a hidden directory I created.</p>\n<p>But the problem is that the for loop doesn't run I think because I placed an alert dialog after the for loop and got a random item from the list of selected videos and it runs but the for loop doesn't.</p>\n<p>Here is my Activity</p>\n<pre><code>package com.memoir.premium.code.activities;\n\nimport android.os.Bundle;\nimport android.support.v7.app.AppCompatActivity;\nimport com.memoir.premium.code.R;\nimport android.support.design.widget.*;\nimport android.support.v4.view.*;\nimport com.memoir.premium.code.fragments.*;\nimport android.support.v4.app.*;\nimport java.util.*;\nimport android.view.*;\nimport android.os.*;\nimport android.content.*;\nimport java.io.*;\nimport android.provider.*;\nimport android.net.*;\nimport android.database.*;\nimport android.util.*;\nimport android.annotation.*;\nimport android.widget.*;\nimport android.*;\nimport android.content.pm.*;\nimport cn.pedant.SweetAlert.*;\nimport java.nio.file.*;\n\npublic class ImportResourcesActivity extends AppCompatActivity {\n    \n    private TabLayout tabLayout;\n    private ViewPager viewPager;\n    private int[] tabIcons = {\n        R.drawable.video_icon,\n        R.drawable.image_icon\n    };\n    \n    private FloatingActionButton fab_add;\n\n    private static final String TAG = &quot;VideoPickerActivity&quot;;\n\n    private static final int SELECT_VIDEOS = 1;\n    private static final int SELECT_VIDEOS_KITKAT = 1;\n\n    int REQUEST_CODE_SELECT_VIDEOS = 1;\n    private List&lt;String&gt; selectedVideos;\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.import_resources_activity);\n        \n        viewPager = (ViewPager) findViewById(R.id.viewpager);\n        setupViewPager(viewPager);\n\n        tabLayout = (TabLayout) findViewById(R.id.tabs);\n        tabLayout.setupWithViewPager(viewPager);\n\n        setupTabIcons();\n        \n        fab_add = findViewById(R.id.fab_add);\n        fab_add.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    checkPermission();\n                }\n            });\n    }\n    \n    public void checkPermission(){\n\n        if(this!=null){\n\n            if(ActivityCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_EXTERNAL_STORAGE)== PackageManager.PERMISSION_GRANTED){\n                \n                selectMultipleVideos();\n\n            }\n\n            else {\n\n                ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE,Manifest.permission.READ_EXTERNAL_STORAGE},100);\n\n            }}\n\n    }\n    \n    private void selectMultipleVideos() {\n      /*  Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.setType(&quot;video/*&quot;);\n        intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n        startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);*/\n        \n        if (Build.VERSION.SDK_INT &lt;19){\n            Intent intent = new Intent();\n            intent.setType(&quot;video/mp4&quot;);\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            intent.setAction(Intent.ACTION_GET_CONTENT);\n            startActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\n        } else {\n            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            intent.setType(&quot;video/mp4&quot;);\n            startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n        }\n    }\n    \n    @Override\n\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        if(requestCode==100 &amp;&amp; (grantResults.length&gt;0) &amp;&amp; (grantResults[0]==PackageManager.PERMISSION_GRANTED) &amp;&amp;  (grantResults[1]==PackageManager.PERMISSION_GRANTED)){\n\n            //When permission granted\n\n            if (Build.VERSION.SDK_INT &lt;19){\n                Intent intent = new Intent();\n                intent.setType(&quot;video/mp4&quot;);\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                startActivityForResult(Intent.createChooser(intent, &quot;Select videos&quot;),REQUEST_CODE_SELECT_VIDEOS);\n            } else {\n                Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n                intent.addCategory(Intent.CATEGORY_OPENABLE);\n                intent.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n                intent.setType(&quot;video/mp4&quot;);\n                startActivityForResult(intent, REQUEST_CODE_SELECT_VIDEOS);\n            }\n\n        }\n\n        else {\n\n            new SweetAlertDialog(this, SweetAlertDialog.WARNING_TYPE)\n                .setTitleText(&quot;Alert&quot;)\n                .setContentText(&quot;App cannot function without you granting this permission so please grant it&quot;)\n                .show();\n\n        }\n\n    }\n    \n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode,resultCode,data);\n        if (resultCode == RESULT_OK) {\n            selectedVideos = getSelectedVideos(requestCode,data);\n\n            for(int i = 0;selectedVideos.size()&lt; i;i++){\n                File vidFile = new File(selectedVideos.get(i));\n                vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                showToast(&quot;Sucess &quot;+vidFile.getName());\n            }\n            \n            new SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(&quot;Sir Micah&quot;)\n                .setContentText(&quot;It returned an intent&quot; + selectedVideos.get(0))\n                .show();\n\n        }\n\n    }\n\n    \n\n\n    /*@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == REQUEST_CODE_SELECT_VIDEOS &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                if (data.getClipData() != null) {\n                    // Multiple videos were selected\n                    int count = data.getClipData().getItemCount();\n                    for (int i = 0; i &lt; count; i++) {\n                        Uri videoUri = data.getClipData().getItemAt(i).getUri();\n                        // Process the selected video Uri\n                        //File vidFile = convertUriToFile(videoUri);\n                        //vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                        showToast(&quot;Sucess &quot;+i);\n                        \n                    }\n                } else if (data.getData() != null) {\n                    // Single video was selected\n                    Uri videoUri = data.getData();\n                    // Process the selected video Ur\n                    //File vidFile = convertUriToFile(videoUri);\n                    //vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                    showToast(&quot;Sucess &quot;+videoUri);\n                }\n            }\n        }\n    }*/\n\n    /*private File convertUriToFile(Uri uri) {\n        String filePath = null;\n        String[] projection = {MediaStore.Video.Media.DATA};\n        ContentResolver contentResolver = getContentResolver();\n        Cursor cursor = contentResolver.query(uri, projection, null, null, null);\n\n        if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n            int columnIndex = cursor.getColumnIndexOrThrow(MediaStore.Video.Media.DATA);\n            filePath = cursor.getString(columnIndex);\n            cursor.close();\n        }\n\n        if (filePath != null) {\n            return new File(filePath);\n        } else {\n            return null;\n        }\n    }\n\n    public String getRealPathFromURI(Context context, Uri contentUri) {\n        Cursor cursor = null;\n        try { \n            String[] proj = { MediaStore.Images.Media.DATA };\n            cursor = context.getContentResolver().query(contentUri,  proj, null, null, null);\n            int column_index = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA);\n            cursor.moveToFirst();\n            return cursor.getString(column_index);\n        } finally {\n            if (cursor != null) {\n                cursor.close();\n            }\n        }\n    }*/\n    \n    \n\n    /*private List&lt;String&gt; getSelectedVideos(Intent data) {\n\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n        String[] filePathColumn = { MediaStore.Video.Media.DATA };\n\n        // Single video selected\n        if(data.getData() != null){\n\n            Uri mImageUri = data.getData();\n\n            // Get the cursor\n            Cursor cursor = getContentResolver().query(mImageUri,\n                                                                    filePathColumn, null, null, null);\n            // Move to first row\n            cursor.moveToFirst();\n\n            int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n            String videoPath  = cursor.getString(columnIndex);\n            if(videoPath == null)\n                Log.e(TAG, &quot;videoPath is null&quot;);\n            result.add(videoPath);\n            cursor.close();\n        }\n        // Multiple videos selected\n        else {\n            ClipData mClipData = data.getClipData();\n            if (mClipData != null) {\n                for (int i = 0; i &lt; mClipData.getItemCount(); i++) {\n\n                    ClipData.Item item = mClipData.getItemAt(i);\n                    Uri uri = item.getUri();\n                    // Get the cursor\n                    Cursor cursor = getContentResolver().query(uri, filePathColumn, null, null, null);\n                    // Move to first row\n                    if (cursor == null)\n                        Log.e(TAG, &quot;cursor is null&quot;);\n                    else {\n                        if (cursor.moveToFirst()) {\n                            int columnIndex = cursor.getColumnIndex(MediaStore.Video.Media.DATA);\n                            String videoPath = cursor.getString(columnIndex);\n                            if(videoPath == null)\n                                Log.e(TAG, &quot;videoPath is null&quot;);\n                            result.add(videoPath);\n                        } else {\n                            Log.e(TAG, &quot;cannot use cursor&quot;);\n                        }\n                        cursor.close();\n                    }\n                }\n            }\n        }\n\n        return result;\n    }*/\n\n    private List&lt;String&gt; getSelectedVideos(int requestCode, Intent data) {\n\n        List&lt;String&gt; result = new ArrayList&lt;&gt;();\n\n        ClipData clipData = data.getClipData();\n        if(clipData != null) {\n            for(int i=0;i&lt;clipData.getItemCount();i++) {\n                ClipData.Item videoItem = clipData.getItemAt(i);\n                Uri videoURI = videoItem.getUri();\n                String filePath = getPath(this, videoURI);\n                result.add(filePath);\n            }\n        }\n        else {\n            Uri videoURI = data.getData();\n            String filePath = getPath(this, videoURI);\n            result.add(filePath);\n        }\n\n        return result;\n    }\n\n    /**\n     * Get a file path from a Uri. This will get the the path for Storage Access\n     * Framework Documents, as well as the _data field for the MediaStore and\n     * other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @author paulburke\n     */\n    @SuppressLint(&quot;NewApi&quot;)\n    public static String getPath(final Context context, final Uri uri) {\n\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\n\n        // DocumentProvider\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\n                }\n\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final Uri contentUri = ContentUris.withAppendedId(\n                    Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\n\n                return getDataColumn(context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (&quot;image&quot;.equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;video&quot;.equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;audio&quot;.equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = &quot;_id=?&quot;;\n                final String[] selectionArgs = new String[] {\n                    split[1]\n                };\n\n                return getDataColumn(context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n\n            // Return the remote address\n            if (isGooglePhotosUri(uri))\n                return uri.getLastPathSegment();\n\n            return getDataColumn(context, uri, null, null);\n        }\n        // File\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n\n    /**\n     * Get the value of the data column for this Uri. This is useful for\n     * MediaStore Uris, and other file-based ContentProviders.\n     *\n     * @param context The context.\n     * @param uri The Uri to query.\n     * @param selection (Optional) Filter used in the query.\n     * @param selectionArgs (Optional) Selection arguments used in the query.\n     * @return The value of the _data column, which is typically a file path.\n     */\n    public static String getDataColumn(Context context, Uri uri, String selection,\n                                       String[] selectionArgs) {\n\n        Cursor cursor = null;\n        final String column = &quot;_data&quot;;\n        final String[] projection = {\n            column\n        };\n\n        try {\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\n                                                        null);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                final int index = cursor.getColumnIndexOrThrow(column);\n                return cursor.getString(index);\n            }\n        } finally {\n            if (cursor != null)\n                cursor.close();\n        }\n        return null;\n    }\n\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is ExternalStorageProvider.\n     */\n    public static boolean isExternalStorageDocument(Uri uri) {\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is DownloadsProvider.\n     */\n    public static boolean isDownloadsDocument(Uri uri) {\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is MediaProvider.\n     */\n    public static boolean isMediaDocument(Uri uri) {\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is Google Photos.\n     */\n    public static boolean isGooglePhotosUri(Uri uri) {\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\n    }\n    \n    public void showToast(String str){\n        Toast.makeText(getApplicationContext(),str,Toast.LENGTH_LONG).show();\n    }\n\n    private void setupTabIcons() {\n        tabLayout.getTabAt(0).setIcon(tabIcons[0]);\n        tabLayout.getTabAt(1).setIcon(tabIcons[1]);\n        \n    }\n\n    private void setupViewPager(ViewPager viewPager) {\n        ViewPagerAdapter adapter = new ViewPagerAdapter(getSupportFragmentManager());\n        adapter.addFragment(new Videos(), &quot;VIDEOS&quot;);\n        adapter.addFragment(new Images(), &quot;IMAGES&quot;);\n        viewPager.setAdapter(adapter);\n    }\n\n    class ViewPagerAdapter extends FragmentPagerAdapter {\n        private final List&lt;Fragment&gt; mFragmentList = new ArrayList&lt;&gt;();\n        private final List&lt;String&gt; mFragmentTitleList = new ArrayList&lt;&gt;();\n\n        public ViewPagerAdapter(FragmentManager manager) {\n            super(manager);\n        }\n\n        @Override\n        public Fragment getItem(int position) {\n            return mFragmentList.get(position);\n        }\n\n        @Override\n        public int getCount() {\n            return mFragmentList.size();\n        }\n\n        public void addFragment(Fragment fragment, String title) {\n            mFragmentList.add(fragment);\n            mFragmentTitleList.add(title);\n        }\n\n        @Override\n        public CharSequence getPageTitle(int position) {\n            return mFragmentTitleList.get(position);\n        }\n    }\n}\n</code></pre>\n<p>Here is the ActivityOnResult from the above activity</p>\n<pre><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode,resultCode,data);\n        if (resultCode == RESULT_OK) {\n            selectedVideos = getSelectedVideos(requestCode,data);\n\n            for(int i = 0;selectedVideos.size()&lt; i;i++){\n                File vidFile = new File(selectedVideos.get(i));\n                vidFile.renameTo(new File(Environment.getExternalStorageDirectory()+File.separator+&quot;.&quot;+&quot;memories/videos/&quot;+vidFile.getName()));\n                showToast(&quot;Sucess &quot;+vidFile.getName());\n            }\n            \n            new SweetAlertDialog(this, SweetAlertDialog.NORMAL_TYPE)\n                .setTitleText(&quot;Sir Micah&quot;)\n                .setContentText(&quot;It returned an intent data&quot; + selectedVideos.get(0))\n                .show();\n\n        }\n\n    }\n</code></pre>\n<p>Here is a pic of what happens when I select the videos,after it returns to the app the alert dialog runs showing me that the path is not null but the for loop does not rename the file to my hidden directory.</p>\n<p><a href=\"https://i.stack.imgur.com/Rxx3n.png\" rel=\"nofollow noreferrer\">Tap to see the screenshot </a></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":87,"creation_date":1252195675,"post_id":1383797,"comment_id":1224558,"body_markdown":"Note that there is no single corresponding key - there may well be multiple keys mapping to the same value.","body":"Note that there is no single corresponding key - there may well be multiple keys mapping to the same value."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692512972,"post_id":1383797,"comment_id":135631809,"body_markdown":"score of 527, 10+ years, and still missing the  key type in `HashMap&lt;String&gt; ftw`","body":"score of 527, 10+ years, and still missing the  key type in <code>HashMap&lt;String&gt; ftw</code>"}],"answers":[{"tags":[],"owner":{"account_id":19194,"reputation":84373,"user_id":44743,"accept_rate":71,"display_name":"recursive"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1252170537,"creation_date":1252170537,"answer_id":1383800,"question_id":1383797,"body_markdown":"There is no unambiguous answer, because multiple keys can map to the same value.  If you are enforcing unique-ness with your own code, the best solution is to create a class that uses two Hashmaps to track the mappings in both directions.","title":"Java Hashmap: How to get key from value?","body":"<p>There is no unambiguous answer, because multiple keys can map to the same value.  If you are enforcing unique-ness with your own code, the best solution is to create a class that uses two Hashmaps to track the mappings in both directions.</p>\n"},{"comments":[{"owner":{"account_id":3225627,"reputation":1070,"user_id":2722083,"accept_rate":93,"display_name":"Joehot200"},"score":5,"creation_date":1425992323,"post_id":1383801,"comment_id":46180387,"body_markdown":"This solution is horribly intensive, to the point where it is impractical on large HashMaps.","body":"This solution is horribly intensive, to the point where it is impractical on large HashMaps."}],"tags":[],"owner":{"account_id":13660,"reputation":5751,"user_id":27579,"accept_rate":67,"display_name":"wsorenson"},"comment_count":1,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1475583782,"creation_date":1252170606,"answer_id":1383801,"question_id":1383797,"body_markdown":"To find all the keys that map to that value, iterate through all the pairs in the hashmap, using `map.entrySet()`.","title":"Java Hashmap: How to get key from value?","body":"<p>To find all the keys that map to that value, iterate through all the pairs in the hashmap, using <code>map.entrySet()</code>.</p>\n"},{"comments":[{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":0,"creation_date":1252195720,"post_id":1383808,"comment_id":1224561,"body_markdown":"Yes, that&#39;s exactly what it does.  But of course it returns true as soon as it finds one value for which .equals is true, as opposed to what OP will probably need to do.","body":"Yes, that&#39;s exactly what it does.  But of course it returns true as soon as it finds one value for which .equals is true, as opposed to what OP will probably need to do."},{"owner":{"account_id":13296,"reputation":4225,"user_id":26609,"accept_rate":64,"display_name":"Jonas K"},"score":1,"creation_date":1252275065,"post_id":1383808,"comment_id":1227138,"body_markdown":"Well, iterating over entries can return with key as soon as it finds a matching value too. Multiple matches did not seem to be a concern.","body":"Well, iterating over entries can return with key as soon as it finds a matching value too. Multiple matches did not seem to be a concern."}],"tags":[],"owner":{"account_id":13296,"reputation":4225,"user_id":26609,"accept_rate":64,"display_name":"Jonas K"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440223894,"creation_date":1252170767,"answer_id":1383808,"question_id":1383797,"body_markdown":"It sounds like the best way is for you to iterate over entries using &lt;code&gt;map.entrySet()&lt;/code&gt; since &lt;code&gt;map.containsValue()&lt;/code&gt; probably does this anyway.","title":"Java Hashmap: How to get key from value?","body":"<p>It sounds like the best way is for you to iterate over entries using <code>map.entrySet()</code> since <code>map.containsValue()</code> probably does this anyway.</p>\n"},{"comments":[{"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"score":26,"creation_date":1252181708,"post_id":1383830,"comment_id":1224027,"body_markdown":"...and if you like Generics and all that modern stuff, Google Collections has BiMap where you can get key matching specified value by calling biMap.inverse().get(value);","body":"...and if you like Generics and all that modern stuff, Google Collections has BiMap where you can get key matching specified value by calling biMap.inverse().get(value);"},{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":1,"creation_date":1252182541,"post_id":1383830,"comment_id":1224076,"body_markdown":"Yes, Apache Commons Collections doesn&#39;t support generics. However, there is Google Collections as you&#39;ve pointed out (which I don&#39;t use yet - no 1.0 release yet), and there is the refactored Commons-Collections with support for Generics. You&#39;ll find this as a Sourceforge project @ http://sourceforge.net/projects/collections/","body":"Yes, Apache Commons Collections doesn&#39;t support generics. However, there is Google Collections as you&#39;ve pointed out (which I don&#39;t use yet - no 1.0 release yet), and there is the refactored Commons-Collections with support for Generics. You&#39;ll find this as a Sourceforge project @ <a href=\"http://sourceforge.net/projects/collections/\" rel=\"nofollow noreferrer\">sourceforge.net/projects/collections</a>"},{"owner":{"account_id":82795,"reputation":5050,"user_id":232539,"accept_rate":88,"display_name":"whiskeysierra"},"score":2,"creation_date":1281372150,"post_id":1383830,"comment_id":3586854,"body_markdown":"The Google Collections are **not** a refactored version of Commons-Collections.","body":"The Google Collections are <b>not</b> a refactored version of Commons-Collections."},{"owner":{"account_id":90957,"reputation":1974,"user_id":250069,"accept_rate":94,"display_name":"huff"},"score":14,"creation_date":1317265254,"post_id":1383830,"comment_id":9209152,"body_markdown":"@whiskeysierra: I don&#39;t think anyone is (currently) saying so.","body":"@whiskeysierra: I don&#39;t think anyone is (currently) saying so."},{"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"score":0,"creation_date":1382360751,"post_id":1383830,"comment_id":28916576,"body_markdown":"It looks like Apache Commons will get a BidiMap with generics support in release 4.0 (currently in alpha release): http://commons.apache.org/proper/commons-collections/javadocs/api-release/index.html","body":"It looks like Apache Commons will get a BidiMap with generics support in release 4.0 (currently in alpha release): <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-release/index.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":3071387,"reputation":2693,"user_id":3060087,"accept_rate":56,"display_name":"Price"},"score":0,"creation_date":1413094925,"post_id":1383830,"comment_id":41309764,"body_markdown":"Is having two separate lists for keys and values a bad way to solve this problem? If you know the index of a key in the list of keys, you can get the value from that same index in the values list.","body":"Is having two separate lists for keys and values a bad way to solve this problem? If you know the index of a key in the list of keys, you can get the value from that same index in the values list."},{"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"score":4,"creation_date":1433089682,"post_id":1383830,"comment_id":49190922,"body_markdown":"Apache Collections now supports generics https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html","body":"Apache Collections now supports generics <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-collections/javadocs/&hellip;</a>"},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1490564336,"post_id":1383830,"comment_id":73155053,"body_markdown":"guava&#39;s HashBiMap.create()","body":"guava&#39;s HashBiMap.create()"},{"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"score":0,"creation_date":1678575573,"post_id":1383830,"comment_id":133561115,"body_markdown":"If you do have multiple values (and potentially multiple keys) you could extend HashMap to have ArrayList&#39;s for key and value then override get() iterating over key values using foreach(k, v). You can thereafter search by any of several keys and/or values and return the other. ;-)","body":"If you do have multiple values (and potentially multiple keys) you could extend HashMap to have ArrayList&#39;s for key and value then override get() iterating over key values using foreach(k, v). You can thereafter search by any of several keys and/or values and return the other. ;-)"}],"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"comment_count":9,"down_vote_count":1,"up_vote_count":242,"is_accepted":true,"score":241,"last_activity_date":1611981539,"creation_date":1252171536,"answer_id":1383830,"question_id":1383797,"body_markdown":"If you choose to use the [Commons Collections library][1] instead of the standard Java Collections framework, you can achieve this with ease.\r\n\r\nThe [`BidiMap`][2] interface in the Collections library is a bi-directional map, allowing you to map a key to a value (like normal maps), and also to map a value to a key, thus allowing you to perform lookups in both directions. Obtaining a key for a value is supported by the [`getKey()`][3] method.\r\n\r\nThere is a caveat though, bidi maps cannot have multiple values mapped to keys, and hence unless your data set has 1:1 mappings between keys and values, you cannot use bidi maps.\r\n\r\n---\r\n\r\nIf you want to rely on the Java Collections API, you will have to ensure the 1:1 relationship between keys and values at the time of inserting the value into the map. This is easier said than done.\r\n\r\nOnce you can ensure that, use the [`entrySet()`][4] method to obtain the set of entries (mappings) in the Map. Once you have obtained the set whose type is [`Map.Entry`][5], iterate through the entries, comparing the [stored value][6] against the expected, and obtain the [corresponding key][7].\r\n\r\n---\r\n\r\nSupport for bidi maps with *generics* can be found in [Google Guava][8] and the refactored [Commons-Collections][9] libraries (the latter is not an Apache project). Thanks to Esko for pointing out the missing generic support in Apache Commons Collections. Using collections with generics makes more maintainable code.\r\n\r\n---\r\nSince [version 4.0][10] the official Apache Commons Collections™ library supports [***generics***][11]. \r\n\r\nSee the [summary][12] page of the &quot;*org.apache.commons.collections4.bidimap*&quot; package for the list of available implementations of the [`BidiMap`][13], [`OrderedBidiMap`][14] and [`SortedBidiMap`][15] interfaces that now support Java *generics*.\r\n\r\n\r\n  [1]: http://commons.apache.org/collections/\r\n  [2]: http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html\r\n  [3]: http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html#getKey%28java.lang.Object%29\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\r\n  [6]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue()\r\n  [7]: https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()\r\n  [8]: https://github.com/google/guava\r\n  [9]: http://sourceforge.net/projects/collections/\r\n  [10]: https://commons.apache.org/proper/commons-collections/release_4_0.html\r\n  [11]: https://en.wikipedia.org/wiki/Generics_in_Java\r\n  [12]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/bidimap/package-summary.html\r\n  [13]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/BidiMap.html\r\n  [14]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/OrderedBidiMap.html\r\n  [15]: https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SortedBidiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>If you choose to use the <a href=\"http://commons.apache.org/collections/\" rel=\"noreferrer\">Commons Collections library</a> instead of the standard Java Collections framework, you can achieve this with ease.</p>\n<p>The <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html\" rel=\"noreferrer\"><code>BidiMap</code></a> interface in the Collections library is a bi-directional map, allowing you to map a key to a value (like normal maps), and also to map a value to a key, thus allowing you to perform lookups in both directions. Obtaining a key for a value is supported by the <a href=\"http://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/BidiMap.html#getKey%28java.lang.Object%29\" rel=\"noreferrer\"><code>getKey()</code></a> method.</p>\n<p>There is a caveat though, bidi maps cannot have multiple values mapped to keys, and hence unless your data set has 1:1 mappings between keys and values, you cannot use bidi maps.</p>\n<hr />\n<p>If you want to rely on the Java Collections API, you will have to ensure the 1:1 relationship between keys and values at the time of inserting the value into the map. This is easier said than done.</p>\n<p>Once you can ensure that, use the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.html#entrySet()\" rel=\"noreferrer\"><code>entrySet()</code></a> method to obtain the set of entries (mappings) in the Map. Once you have obtained the set whose type is <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a>, iterate through the entries, comparing the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getValue()\" rel=\"noreferrer\">stored value</a> against the expected, and obtain the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()\" rel=\"noreferrer\">corresponding key</a>.</p>\n<hr />\n<p>Support for bidi maps with <em>generics</em> can be found in <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Google Guava</a> and the refactored <a href=\"http://sourceforge.net/projects/collections/\" rel=\"noreferrer\">Commons-Collections</a> libraries (the latter is not an Apache project). Thanks to Esko for pointing out the missing generic support in Apache Commons Collections. Using collections with generics makes more maintainable code.</p>\n<hr />\n<p>Since <a href=\"https://commons.apache.org/proper/commons-collections/release_4_0.html\" rel=\"noreferrer\">version 4.0</a> the official Apache Commons Collections™ library supports <a href=\"https://en.wikipedia.org/wiki/Generics_in_Java\" rel=\"noreferrer\"><em><strong>generics</strong></em></a>.</p>\n<p>See the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"noreferrer\">summary</a> page of the &quot;<em>org.apache.commons.collections4.bidimap</em>&quot; package for the list of available implementations of the <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/BidiMap.html\" rel=\"noreferrer\"><code>BidiMap</code></a>, <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/OrderedBidiMap.html\" rel=\"noreferrer\"><code>OrderedBidiMap</code></a> and <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-4.4/org/apache/commons/collections4/SortedBidiMap.html\" rel=\"noreferrer\"><code>SortedBidiMap</code></a> interfaces that now support Java <em>generics</em>.</p>\n"},{"tags":[],"owner":{"account_id":39807,"reputation":22784,"user_id":114996,"display_name":"Chi"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1454016653,"creation_date":1252173430,"answer_id":1383900,"question_id":1383797,"body_markdown":"I think your choices are\r\n\r\n * Use a map implementation built for this, like the [BiMap][1] from google collections.  Note that the google collections BiMap requires uniqueless of values, as well as keys, but it provides high performance in both directions performance\r\n * Manually maintain two maps - one for key -&gt; value, and another map for value -&gt; key\r\n * Iterate through the `entrySet()` and to find the keys which match the value.  This is the slowest method, since it requires iterating through the entire collection, while the other two methods don&#39;t require that.\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/BiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>I think your choices are</p>\n\n<ul>\n<li>Use a map implementation built for this, like the <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/index.html?com/google/common/collect/BiMap.html\" rel=\"noreferrer\">BiMap</a> from google collections.  Note that the google collections BiMap requires uniqueless of values, as well as keys, but it provides high performance in both directions performance</li>\n<li>Manually maintain two maps - one for key -> value, and another map for value -> key</li>\n<li>Iterate through the <code>entrySet()</code> and to find the keys which match the value.  This is the slowest method, since it requires iterating through the entire collection, while the other two methods don't require that.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"score":3,"creation_date":1252174550,"post_id":1383904,"comment_id":1223754,"body_markdown":"Clever, but what if there are 2 or more KeyValue objects containing the same value? Which key should one choose?","body":"Clever, but what if there are 2 or more KeyValue objects containing the same value? Which key should one choose?"},{"owner":{"account_id":254910,"reputation":10661,"user_id":534617,"accept_rate":64,"display_name":"Qiang Li"},"score":2,"creation_date":1315155181,"post_id":1383904,"comment_id":8796612,"body_markdown":"@Vineet, I don&#39;t see how this approach solves the OP&#39;s question. what did you mean by &quot;Then when you have a value, you also have the key.&quot;?","body":"@Vineet, I don&#39;t see how this approach solves the OP&#39;s question. what did you mean by &quot;Then when you have a value, you also have the key.&quot;?"}],"tags":[],"owner":{"account_id":53330,"reputation":9385,"user_id":159434,"accept_rate":76,"display_name":"David Tinker"},"comment_count":2,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1252173534,"creation_date":1252173534,"answer_id":1383904,"question_id":1383797,"body_markdown":"If you build the map in your own code, try putting the key and value in the map together:\r\n\r\n    public class KeyValue {\r\n        public Object key;\r\n        public Object value;\r\n        public KeyValue(Object key, Object value) { ... }\r\n    }\r\n\r\n    map.put(key, new KeyValue(key, value));\r\n\r\nThen when you have a value, you also have the key.\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>If you build the map in your own code, try putting the key and value in the map together:</p>\n\n<pre><code>public class KeyValue {\n    public Object key;\n    public Object value;\n    public KeyValue(Object key, Object value) { ... }\n}\n\nmap.put(key, new KeyValue(key, value));\n</code></pre>\n\n<p>Then when you have a value, you also have the key.</p>\n"},{"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1252179931,"creation_date":1252179931,"answer_id":1384122,"question_id":1383797,"body_markdown":"Yes, you have to loop through the hashmap, unless you implement something along the lines of what these various answers suggest.  Rather than fiddling with the entrySet, I&#39;d just get the keySet(), iterate over that set, and keep the (first) key that gets you your matching value.  If you need all the keys that match that value, obviously you have to do the whole thing.\r\n\r\nAs Jonas suggests, this might already be what the containsValue method is doing, so you might just skip that test all-together, and just do the iteration every time (or maybe the compiler will already eliminate the redundancy, who knows).\r\n\r\nAlso, relative to the other answers, if your reverse map looks like\r\n\r\n    Map&lt;Value, Set&lt;Key&gt;&gt;\r\n\r\nyou can deal with non-unique key-&gt;value mappings, if you need that capability (untangling them aside).  That would incorporate fine into any of the solutions people suggest here using two maps.","title":"Java Hashmap: How to get key from value?","body":"<p>Yes, you have to loop through the hashmap, unless you implement something along the lines of what these various answers suggest.  Rather than fiddling with the entrySet, I'd just get the keySet(), iterate over that set, and keep the (first) key that gets you your matching value.  If you need all the keys that match that value, obviously you have to do the whole thing.</p>\n\n<p>As Jonas suggests, this might already be what the containsValue method is doing, so you might just skip that test all-together, and just do the iteration every time (or maybe the compiler will already eliminate the redundancy, who knows).</p>\n\n<p>Also, relative to the other answers, if your reverse map looks like</p>\n\n<pre><code>Map&lt;Value, Set&lt;Key&gt;&gt;\n</code></pre>\n\n<p>you can deal with non-unique key->value mappings, if you need that capability (untangling them aside).  That would incorporate fine into any of the solutions people suggest here using two maps.</p>\n"},{"comments":[{"owner":{"account_id":1001770,"reputation":10254,"user_id":1016462,"accept_rate":62,"display_name":"tasomaniac"},"score":4,"creation_date":1377610891,"post_id":2904266,"comment_id":27141398,"body_markdown":"Can you say anything about the performance? What will be more optimized? This or BidiMap?","body":"Can you say anything about the performance? What will be more optimized? This or BidiMap?"},{"owner":{"account_id":923504,"reputation":9032,"user_id":954724,"accept_rate":58,"display_name":"arjacsoh"},"score":0,"creation_date":1378796363,"post_id":2904266,"comment_id":27571777,"body_markdown":"I have thought the same solution, I have upvoted it of course but I doubt on its efficiency when it comes to really large Collections.","body":"I have thought the same solution, I have upvoted it of course but I doubt on its efficiency when it comes to really large Collections."},{"owner":{"account_id":1434422,"reputation":20424,"user_id":1356127,"accept_rate":80,"display_name":"veer7"},"score":3,"creation_date":1428573810,"post_id":2904266,"comment_id":47223534,"body_markdown":"http://stackoverflow.com/questions/4553624/hashmap-get-put-complexity HashMap has time complexity `o(1)`. If you are iterating over the values then it will kill the performance. If you want a `better performance` and has a `one-one` relationship, you can use `another map` where `value is a key`","body":"<a href=\"http://stackoverflow.com/questions/4553624/hashmap-get-put-complexity\" title=\"hashmap get put complexity\">stackoverflow.com/questions/4553624/hashmap-get-put-complexi&zwnj;&#8203;ty</a> HashMap has time complexity <code>o(1)</code>. If you are iterating over the values then it will kill the performance. If you want a <code>better performance</code> and has a <code>one-one</code> relationship, you can use <code>another map</code> where <code>value is a key</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1429609046,"post_id":2904266,"comment_id":47667445,"body_markdown":"I recommend to replace `.filter(entry -&gt; entry.getValue().equals(value))` with `.filter(entry -&gt;`[`Objects.equals`](http://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#equals-java.lang.Object-java.lang.Object-)`(entry.getValue(), value))` as no statement about `null`ability was made. Further, you can replace `.map(entry -&gt; entry.getKey())` with `.map(Map.Entry::getKey)`","body":"I recommend to replace <code>.filter(entry -&gt; entry.getValue().equals(value))</code> with <code>.filter(entry -&gt;</code><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Objects.html#equals-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>Objects.equals</code></a><code>(entry.getValue(), value))</code> as no statement about <code>null</code>ability was made. Further, you can replace <code>.map(entry -&gt; entry.getKey())</code> with <code>.map(Map.Entry::getKey)</code>"},{"owner":{"account_id":5400671,"reputation":1252,"user_id":4300670,"display_name":"Aliton Oliveira"},"score":0,"creation_date":1589572698,"post_id":2904266,"comment_id":109357960,"body_markdown":"**Call requires API Level 24: java.util.Collection#stream**","body":"<b>Call requires API Level 24: java.util.Collection#stream</b>"}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":5,"down_vote_count":0,"up_vote_count":662,"is_accepted":false,"score":662,"last_activity_date":1532493658,"creation_date":1274788405,"answer_id":2904266,"question_id":1383797,"body_markdown":"If your data structure has *many-to-one* mapping between keys and values you should iterate over entries and pick all suitable keys:\r\n\r\n    public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\r\n        Set&lt;T&gt; keys = new HashSet&lt;T&gt;();\r\n        for (Entry&lt;T, E&gt; entry : map.entrySet()) {\r\n            if (Objects.equals(value, entry.getValue())) {\r\n                keys.add(entry.getKey());\r\n            }\r\n        }\r\n        return keys;\r\n    }\r\n\r\nIn case of *one-to-one* relationship, you can return the first matched key:\r\n\r\n\tpublic static &lt;T, E&gt; T getKeyByValue(Map&lt;T, E&gt; map, E value) {\r\n\t\tfor (Entry&lt;T, E&gt; entry : map.entrySet()) {\r\n\t\t\tif (Objects.equals(value, entry.getValue())) {\r\n\t\t\t\treturn entry.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\nIn Java 8:\r\n\r\n    public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\r\n        return map.entrySet()\r\n                  .stream()\r\n                  .filter(entry -&gt; Objects.equals(entry.getValue(), value))\r\n                  .map(Map.Entry::getKey)\r\n                  .collect(Collectors.toSet());\r\n    }\r\n\r\nAlso, for Guava users, [BiMap][1] may be useful. For example:\r\n\r\n    BiMap&lt;Token, Character&gt; tokenToChar = \r\n        ImmutableBiMap.of(Token.LEFT_BRACKET, &#39;[&#39;, Token.LEFT_PARENTHESIS, &#39;(&#39;);\r\n    Token token = tokenToChar.inverse().get(&#39;(&#39;);\r\n    Character c = tokenToChar.get(token);\r\n\r\n  [1]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/BiMap.html","title":"Java Hashmap: How to get key from value?","body":"<p>If your data structure has <em>many-to-one</em> mapping between keys and values you should iterate over entries and pick all suitable keys:</p>\n\n<pre><code>public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\n    Set&lt;T&gt; keys = new HashSet&lt;T&gt;();\n    for (Entry&lt;T, E&gt; entry : map.entrySet()) {\n        if (Objects.equals(value, entry.getValue())) {\n            keys.add(entry.getKey());\n        }\n    }\n    return keys;\n}\n</code></pre>\n\n<p>In case of <em>one-to-one</em> relationship, you can return the first matched key:</p>\n\n<pre><code>public static &lt;T, E&gt; T getKeyByValue(Map&lt;T, E&gt; map, E value) {\n    for (Entry&lt;T, E&gt; entry : map.entrySet()) {\n        if (Objects.equals(value, entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n\n<p>In Java 8:</p>\n\n<pre><code>public static &lt;T, E&gt; Set&lt;T&gt; getKeysByValue(Map&lt;T, E&gt; map, E value) {\n    return map.entrySet()\n              .stream()\n              .filter(entry -&gt; Objects.equals(entry.getValue(), value))\n              .map(Map.Entry::getKey)\n              .collect(Collectors.toSet());\n}\n</code></pre>\n\n<p>Also, for Guava users, <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/collect/BiMap.html\" rel=\"noreferrer\">BiMap</a> may be useful. For example:</p>\n\n<pre><code>BiMap&lt;Token, Character&gt; tokenToChar = \n    ImmutableBiMap.of(Token.LEFT_BRACKET, '[', Token.LEFT_PARENTHESIS, '(');\nToken token = tokenToChar.inverse().get('(');\nCharacter c = tokenToChar.get(token);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":58429,"reputation":545,"user_id":174953,"display_name":"Andr&#233; van Toly"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1275040378,"creation_date":1275040378,"answer_id":2928021,"question_id":1383797,"body_markdown":"I&#39;m afraid you&#39;ll just have to iterate your map. Shortest I could come up with:\r\n\r\n    Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = map.entrySet().iterator();\r\n    while (iter.hasNext()) {\r\n        Map.Entry&lt;String,String&gt; entry = iter.next();\r\n        if (entry.getValue().equals(value_you_look_for)) {\r\n            String key_you_look_for = entry.getKey();\r\n        }\r\n    }\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>I'm afraid you'll just have to iterate your map. Shortest I could come up with:</p>\n\n<pre><code>Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iter = map.entrySet().iterator();\nwhile (iter.hasNext()) {\n    Map.Entry&lt;String,String&gt; entry = iter.next();\n    if (entry.getValue().equals(value_you_look_for)) {\n        String key_you_look_for = entry.getKey();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":622336,"reputation":75,"user_id":364240,"display_name":"Amit"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1318429618,"creation_date":1276245393,"answer_id":3021353,"question_id":1383797,"body_markdown":"You can get the key using values using following code..\r\n\r\n\tArrayList valuesList = new ArrayList();\r\n\tSet keySet = initalMap.keySet();\r\n\tArrayList keyList = new ArrayList(keySet);\r\n\t\t\r\n\tfor(int i = 0 ; i &lt; keyList.size() ; i++ ) {\r\n\t\tvaluesList.add(initalMap.get(keyList.get(i)));\r\n\t}\r\n\t\t\r\n\tCollections.sort(valuesList);\r\n\tMap finalMap = new TreeMap();\r\n\tfor(int i = 0 ; i &lt; valuesList.size() ; i++ ) {\r\n\t\tString value = (String) valuesList.get(i);\r\n\t\t\r\n\t\tfor( int j = 0 ; j &lt; keyList.size() ; j++ ) {\r\n\t\t\tif(initalMap.get(keyList.get(j)).equals(value))\t{\r\n\t\t\t\tfinalMap.put(keyList.get(j),value);\r\n\t\t\t}\t\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(&quot;fianl map ----------------------&gt;  &quot; + finalMap);","title":"Java Hashmap: How to get key from value?","body":"<p>You can get the key using values using following code..</p>\n\n<pre><code>ArrayList valuesList = new ArrayList();\nSet keySet = initalMap.keySet();\nArrayList keyList = new ArrayList(keySet);\n\nfor(int i = 0 ; i &lt; keyList.size() ; i++ ) {\n    valuesList.add(initalMap.get(keyList.get(i)));\n}\n\nCollections.sort(valuesList);\nMap finalMap = new TreeMap();\nfor(int i = 0 ; i &lt; valuesList.size() ; i++ ) {\n    String value = (String) valuesList.get(i);\n\n    for( int j = 0 ; j &lt; keyList.size() ; j++ ) {\n        if(initalMap.get(keyList.get(j)).equals(value)) {\n            finalMap.put(keyList.get(j),value);\n        }   \n    }\n}\nSystem.out.println(\"fianl map ----------------------&gt;  \" + finalMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":0,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1456898068,"creation_date":1318409293,"answer_id":7737428,"question_id":1383797,"body_markdown":"    public class NewClass1 {\r\n\r\n        public static void main(String[] args) {\r\n           Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\r\n            testMap.put(10, &quot;a&quot;);\r\n            testMap.put(20, &quot;b&quot;);\r\n            testMap.put(30, &quot;c&quot;);\r\n            testMap.put(40, &quot;d&quot;);\r\n            for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\r\n                if (entry.getValue().equals(&quot;c&quot;)) {\r\n                    System.out.println(entry.getKey());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Some additional info... May be useful to you**\r\n\r\n   Above method may not be good if your hashmap is really big. If your hashmap contain unique key to unique value mapping, you can maintain one more hashmap that contain mapping from Value to Key.\r\n\r\nThat is you have to maintain two hashmaps\r\n\r\n    1. Key to value\r\n\r\n    2. Value to key \r\n\r\nIn that case you can use second hashmap to get key.","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public class NewClass1 {\n\n    public static void main(String[] args) {\n       Map&lt;Integer, String&gt; testMap = new HashMap&lt;Integer, String&gt;();\n        testMap.put(10, \"a\");\n        testMap.put(20, \"b\");\n        testMap.put(30, \"c\");\n        testMap.put(40, \"d\");\n        for (Entry&lt;Integer, String&gt; entry : testMap.entrySet()) {\n            if (entry.getValue().equals(\"c\")) {\n                System.out.println(entry.getKey());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Some additional info... May be useful to you</strong></p>\n\n<p>Above method may not be good if your hashmap is really big. If your hashmap contain unique key to unique value mapping, you can maintain one more hashmap that contain mapping from Value to Key.</p>\n\n<p>That is you have to maintain two hashmaps</p>\n\n<pre><code>1. Key to value\n\n2. Value to key \n</code></pre>\n\n<p>In that case you can use second hashmap to get key.</p>\n"},{"tags":[],"owner":{"account_id":65542,"reputation":5772,"user_id":192798,"accept_rate":48,"display_name":"Jayen"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1440224841,"creation_date":1319264090,"answer_id":7857788,"question_id":1383797,"body_markdown":"Use a thin wrapper: [HMap][1]\r\n\r\n    import java.util.Collections;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class HMap&lt;K, V&gt; {\r\n    \r\n       private final Map&lt;K, Map&lt;K, V&gt;&gt; map;\r\n    \r\n       public HMap() {\r\n          map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;();\r\n       }\r\n    \r\n       public HMap(final int initialCapacity) {\r\n          map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;(initialCapacity);\r\n       }\r\n    \r\n       public boolean containsKey(final Object key) {\r\n          return map.containsKey(key);\r\n       }\r\n    \r\n       public V get(final Object key) {\r\n          final Map&lt;K, V&gt; entry = map.get(key);\r\n          if (entry != null)\r\n             return entry.values().iterator().next();\r\n          return null;\r\n       }\r\n    \r\n       public K getKey(final Object key) {\r\n          final Map&lt;K, V&gt; entry = map.get(key);\r\n          if (entry != null)\r\n             return entry.keySet().iterator().next();\r\n          return null;\r\n       }\r\n    \r\n       public V put(final K key, final V value) {\r\n          final Map&lt;K, V&gt; entry = map\r\n                .put(key, Collections.singletonMap(key, value));\r\n          if (entry != null)\r\n             return entry.values().iterator().next();\r\n          return null;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jayenashar/Java-Search-library/blob/master/src/au/edu/unsw/cse/jayen/util/HMap.java","title":"Java Hashmap: How to get key from value?","body":"<p>Use a thin wrapper: <a href=\"https://github.com/jayenashar/Java-Search-library/blob/master/src/au/edu/unsw/cse/jayen/util/HMap.java\" rel=\"nofollow\">HMap</a></p>\n\n<pre><code>import java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class HMap&lt;K, V&gt; {\n\n   private final Map&lt;K, Map&lt;K, V&gt;&gt; map;\n\n   public HMap() {\n      map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;();\n   }\n\n   public HMap(final int initialCapacity) {\n      map = new HashMap&lt;K, Map&lt;K, V&gt;&gt;(initialCapacity);\n   }\n\n   public boolean containsKey(final Object key) {\n      return map.containsKey(key);\n   }\n\n   public V get(final Object key) {\n      final Map&lt;K, V&gt; entry = map.get(key);\n      if (entry != null)\n         return entry.values().iterator().next();\n      return null;\n   }\n\n   public K getKey(final Object key) {\n      final Map&lt;K, V&gt; entry = map.get(key);\n      if (entry != null)\n         return entry.keySet().iterator().next();\n      return null;\n   }\n\n   public V put(final K key, final V value) {\n      final Map&lt;K, V&gt; entry = map\n            .put(key, Collections.singletonMap(key, value));\n      if (entry != null)\n         return entry.values().iterator().next();\n      return null;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1728539,"reputation":19,"user_id":1582679,"display_name":"Madhav"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440067212,"creation_date":1344360890,"answer_id":11851162,"question_id":1383797,"body_markdown":"    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class M{\r\n    public static void main(String[] args) {\r\n    \r\n    \t\tHashMap&lt;String, List&lt;String&gt;&gt; resultHashMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\r\n    \r\n    \t\tSet&lt;String&gt; newKeyList = resultHashMap.keySet();\r\n    \r\n    \r\n    \t\tfor (Iterator&lt;String&gt; iterator = originalHashMap.keySet().iterator(); iterator.hasNext();) {\r\n    \t\t\tString hashKey = (String) iterator.next();\r\n    \r\n    \t\t\tif (!newKeyList.contains(originalHashMap.get(hashKey))) {\r\n    \t\t\t\tList&lt;String&gt; loArrayList = new ArrayList&lt;String&gt;();\r\n    \t\t\t\tloArrayList.add(hashKey);\r\n    \t\t\t\tresultHashMap.put(originalHashMap.get(hashKey), loArrayList);\r\n    \t\t\t} else {\r\n    \t\t\t\tList&lt;String&gt; loArrayList = resultHashMap.get(originalHashMap\r\n    \t\t\t\t\t\t.get(hashKey));\r\n    \t\t\t\tloArrayList.add(hashKey);\r\n    \t\t\t\tresultHashMap.put(originalHashMap.get(hashKey), loArrayList);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;Original HashMap : &quot; + originalHashMap);\r\n    \t\tSystem.out.println(&quot;Result HashMap : &quot; + resultHashMap);\r\n    \t}\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<pre><code>import java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Set;\n\npublic class M{\npublic static void main(String[] args) {\n\n        HashMap&lt;String, List&lt;String&gt;&gt; resultHashMap = new HashMap&lt;String, List&lt;String&gt;&gt;();\n\n        Set&lt;String&gt; newKeyList = resultHashMap.keySet();\n\n\n        for (Iterator&lt;String&gt; iterator = originalHashMap.keySet().iterator(); iterator.hasNext();) {\n            String hashKey = (String) iterator.next();\n\n            if (!newKeyList.contains(originalHashMap.get(hashKey))) {\n                List&lt;String&gt; loArrayList = new ArrayList&lt;String&gt;();\n                loArrayList.add(hashKey);\n                resultHashMap.put(originalHashMap.get(hashKey), loArrayList);\n            } else {\n                List&lt;String&gt; loArrayList = resultHashMap.get(originalHashMap\n                        .get(hashKey));\n                loArrayList.add(hashKey);\n                resultHashMap.put(originalHashMap.get(hashKey), loArrayList);\n            }\n        }\n\n        System.out.println(\"Original HashMap : \" + originalHashMap);\n        System.out.println(\"Result HashMap : \" + resultHashMap);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":26747,"reputation":20083,"user_id":69875,"accept_rate":100,"display_name":"Jonathan"},"score":0,"creation_date":1355345267,"post_id":13847990,"comment_id":19064000,"body_markdown":"I think this answer could be improved by adding an explanation.","body":"I think this answer could be improved by adding an explanation."},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":2,"creation_date":1359540066,"post_id":13847990,"comment_id":20385212,"body_markdown":"-1. I tested it with `String` as key and value. When I call `map.add(&quot;1&quot;, &quot;2&quot;); map.add(&quot;1&quot;,&quot;3&quot;);` then I can call `map.getKey(&quot;2&quot;);` and retrieve `&quot;1&quot;`, even though `&quot;1&quot;` is the key for `&quot;3&quot;`.","body":"-1. I tested it with <code>String</code> as key and value. When I call <code>map.add(&quot;1&quot;, &quot;2&quot;); map.add(&quot;1&quot;,&quot;3&quot;);</code> then I can call <code>map.getKey(&quot;2&quot;);</code> and retrieve <code>&quot;1&quot;</code>, even though <code>&quot;1&quot;</code> is the key for <code>&quot;3&quot;</code>."},{"owner":{"account_id":1273978,"reputation":5819,"user_id":1229612,"accept_rate":74,"display_name":"Chicowitz"},"score":0,"creation_date":1412628894,"post_id":13847990,"comment_id":41130824,"body_markdown":"@Jonathan the idea behind this class is to keep another HashMap with the reverse mappings so that in addition to retrieving a value from a key, you can retrieve a key from a value. The T1 &amp; T2 classes are a bit confusing; maybe literally name them Key &amp; Value instead? Although I would expect the ability to receive more than one value or more than one key in return, depending on the data &amp; what you want. Use with caution","body":"@Jonathan the idea behind this class is to keep another HashMap with the reverse mappings so that in addition to retrieving a value from a key, you can retrieve a key from a value. The T1 &amp; T2 classes are a bit confusing; maybe literally name them Key &amp; Value instead? Although I would expect the ability to receive more than one value or more than one key in return, depending on the data &amp; what you want. Use with caution"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":1,"creation_date":1414236252,"post_id":13847990,"comment_id":41743818,"body_markdown":"@theknightwhosaysni &quot;1&quot; is not the key for &quot;2&quot; (anymore). This is also the answer to your question, calling `getValue(&quot;1&quot;)` will return `3`.","body":"@theknightwhosaysni &quot;1&quot; is not the key for &quot;2&quot; (anymore). This is also the answer to your question, calling <code>getValue(&quot;1&quot;)</code> will return <code>3</code>."},{"owner":{"account_id":1273978,"reputation":5819,"user_id":1229612,"accept_rate":74,"display_name":"Chicowitz"},"score":0,"creation_date":1414384016,"post_id":13847990,"comment_id":41778950,"body_markdown":"Sorry jlordo, I was mistaken about standard Hashmap behavior: you are correct in that adding a new value for a key should replace the old value","body":"Sorry jlordo, I was mistaken about standard Hashmap behavior: you are correct in that adding a new value for a key should replace the old value"}],"tags":[],"owner":{"account_id":2140186,"reputation":37,"user_id":1899039,"display_name":"margus"},"comment_count":5,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1355343894,"creation_date":1355343894,"answer_id":13847990,"question_id":1383797,"body_markdown":"\tpublic static class SmartHashMap &lt;T1 extends Object, T2 extends Object&gt; {\r\n\t\tpublic HashMap&lt;T1, T2&gt; keyValue;\r\n\t\tpublic HashMap&lt;T2, T1&gt; valueKey;\r\n\t\t\r\n\t\tpublic SmartHashMap(){\r\n\t\t\tthis.keyValue = new HashMap&lt;T1, T2&gt;();\r\n\t\t\tthis.valueKey = new HashMap&lt;T2, T1&gt;();\r\n\t\t}\r\n\t\t\r\n\t\tpublic void add(T1 key, T2 value){\r\n\t\t\tthis.keyValue.put(key, value);\r\n\t\t\tthis.valueKey.put(value, key);\r\n\t\t}\r\n\t\t\r\n\t\tpublic T2 getValue(T1 key){\r\n\t\t\treturn this.keyValue.get(key);\r\n\t\t}\r\n\t\t\r\n\t\tpublic T1 getKey(T2 value){\r\n\t\t\treturn this.valueKey.get(value);\r\n\t\t}\r\n\t\t\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public static class SmartHashMap &lt;T1 extends Object, T2 extends Object&gt; {\n    public HashMap&lt;T1, T2&gt; keyValue;\n    public HashMap&lt;T2, T1&gt; valueKey;\n\n    public SmartHashMap(){\n        this.keyValue = new HashMap&lt;T1, T2&gt;();\n        this.valueKey = new HashMap&lt;T2, T1&gt;();\n    }\n\n    public void add(T1 key, T2 value){\n        this.keyValue.put(key, value);\n        this.valueKey.put(value, key);\n    }\n\n    public T2 getValue(T1 key){\n        return this.keyValue.get(key);\n    }\n\n    public T1 getKey(T2 value){\n        return this.valueKey.get(value);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1424844414,"creation_date":1377194037,"answer_id":18387524,"question_id":1383797,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    public class ValueKeysMap&lt;K, V&gt; extends HashMap &lt;K,V&gt;{\r\n    \tHashMap&lt;V, Set&lt;K&gt;&gt; ValueKeysMap = new HashMap&lt;V, Set&lt;K&gt;&gt;();\r\n    \r\n    \t@Override\r\n    \tpublic boolean containsValue(Object value) {\r\n    \t\treturn ValueKeysMap.containsKey(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic V put(K key, V value) {\r\n    \t\tif (containsValue(value)) {\r\n    \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\t\tkeys.add(key);\r\n    \t\t} else {\r\n    \t\t\tSet&lt;K&gt; keys = new HashSet&lt;K&gt;();\r\n    \t\t\tkeys.add(key);\r\n    \t\t\tValueKeysMap.put(value, keys);\r\n    \t\t}\r\n    \t\treturn super.put(key, value);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic V remove(Object key) {\r\n    \t\tV value = super.remove(key);\r\n    \t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\tkeys.remove(key);\r\n            if(keys.size() == 0) {\r\n               ValueKeysMap.remove(value);\r\n            }\r\n    \t\treturn value;\r\n    \t}\r\n\r\n        public Set&lt;K&gt; getKeys4ThisValue(V value){\r\n   \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n   \t\t\treturn keys;\r\n        }\r\n       \r\n        public boolean valueContainsThisKey(K key, V value){\r\n            if (containsValue(value)) {\r\n    \t\t\tSet&lt;K&gt; keys = ValueKeysMap.get(value);\r\n    \t\t\treturn keys.contains(key);\r\n    \t\t}\r\n            return false;\r\n        }\r\n\r\n        /*\r\n         * Take care of argument constructor and other api&#39;s like putAll\r\n         */\r\n    }\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<pre><code>import java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Set;\n\npublic class ValueKeysMap&lt;K, V&gt; extends HashMap &lt;K,V&gt;{\n    HashMap&lt;V, Set&lt;K&gt;&gt; ValueKeysMap = new HashMap&lt;V, Set&lt;K&gt;&gt;();\n\n    @Override\n    public boolean containsValue(Object value) {\n        return ValueKeysMap.containsKey(value);\n    }\n\n    @Override\n    public V put(K key, V value) {\n        if (containsValue(value)) {\n            Set&lt;K&gt; keys = ValueKeysMap.get(value);\n            keys.add(key);\n        } else {\n            Set&lt;K&gt; keys = new HashSet&lt;K&gt;();\n            keys.add(key);\n            ValueKeysMap.put(value, keys);\n        }\n        return super.put(key, value);\n    }\n\n    @Override\n    public V remove(Object key) {\n        V value = super.remove(key);\n        Set&lt;K&gt; keys = ValueKeysMap.get(value);\n        keys.remove(key);\n        if(keys.size() == 0) {\n           ValueKeysMap.remove(value);\n        }\n        return value;\n    }\n\n    public Set&lt;K&gt; getKeys4ThisValue(V value){\n        Set&lt;K&gt; keys = ValueKeysMap.get(value);\n        return keys;\n    }\n\n    public boolean valueContainsThisKey(K key, V value){\n        if (containsValue(value)) {\n            Set&lt;K&gt; keys = ValueKeysMap.get(value);\n            return keys.contains(key);\n        }\n        return false;\n    }\n\n    /*\n     * Take care of argument constructor and other api's like putAll\n     */\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":4,"creation_date":1454545812,"post_id":20077863,"comment_id":58097965,"body_markdown":"This is not really correct. This does not only requires 1-1, but also that the set of values is disjoint from the set of keys. You can&#39;t apply this to the bijective map {1 -&gt; 2, 2 -&gt; 3}:  2 is both a value and a key.","body":"This is not really correct. This does not only requires 1-1, but also that the set of values is disjoint from the set of keys. You can&#39;t apply this to the bijective map {1 -&gt; 2, 2 -&gt; 3}:  2 is both a value and a key."}],"tags":[],"owner":{"account_id":1273978,"reputation":5819,"user_id":1229612,"accept_rate":74,"display_name":"Chicowitz"},"comment_count":1,"down_vote_count":3,"up_vote_count":30,"is_accepted":false,"score":27,"last_activity_date":1454546561,"creation_date":1384881510,"answer_id":20077863,"question_id":1383797,"body_markdown":"You could insert both the key,value pair and its inverse into your map structure\r\n\r\n    map.put(&quot;theKey&quot;, &quot;theValue&quot;);\r\n    map.put(&quot;theValue&quot;, &quot;theKey&quot;);\r\n\r\nUsing map.get(&quot;theValue&quot;) will then return &quot;theKey&quot;.\r\n\r\nIt&#39;s a quick and dirty way that I&#39;ve made constant maps, which will only work for a select few datasets:\r\n\r\n - Contains only 1 to 1 pairs\r\n - Set of values is disjoint from the set of keys (1-&gt;2, 2-&gt;3 breaks it)","title":"Java Hashmap: How to get key from value?","body":"<p>You could insert both the key,value pair and its inverse into your map structure</p>\n\n<pre><code>map.put(\"theKey\", \"theValue\");\nmap.put(\"theValue\", \"theKey\");\n</code></pre>\n\n<p>Using map.get(\"theValue\") will then return \"theKey\".</p>\n\n<p>It's a quick and dirty way that I've made constant maps, which will only work for a select few datasets:</p>\n\n<ul>\n<li>Contains only 1 to 1 pairs</li>\n<li>Set of values is disjoint from the set of keys (1->2, 2->3 breaks it)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402903941,"creation_date":1394623606,"answer_id":22350055,"question_id":1383797,"body_markdown":"    Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iterator = map.entrySet().iterator();\r\n    while (iterator.hasNext()) {\r\n        Map.Entry&lt;String,String&gt; entry = iterator.next();\r\n        if (entry.getValue().equals(value_you_look_for)) {\r\n            String key_you_look_for = entry.getKey();\r\n    }\r\n    } ","title":"Java Hashmap: How to get key from value?","body":"<pre><code>Iterator&lt;Map.Entry&lt;String,String&gt;&gt; iterator = map.entrySet().iterator();\nwhile (iterator.hasNext()) {\n    Map.Entry&lt;String,String&gt; entry = iterator.next();\n    if (entry.getValue().equals(value_you_look_for)) {\n        String key_you_look_for = entry.getKey();\n}\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4591053,"reputation":31,"user_id":3724331,"display_name":"user3724331"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1402365191,"creation_date":1402365191,"answer_id":24131664,"question_id":1383797,"body_markdown":"In java8\r\n\r\n    map.entrySet().stream().filter(entry -&gt; entry.getValue().equals(value))\r\n        .forEach(entry -&gt; System.out.println(entry.getKey()));","title":"Java Hashmap: How to get key from value?","body":"<p>In java8</p>\n\n<pre><code>map.entrySet().stream().filter(entry -&gt; entry.getValue().equals(value))\n    .forEach(entry -&gt; System.out.println(entry.getKey()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5633929,"reputation":187,"user_id":4459973,"accept_rate":0,"display_name":"boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1440224515,"creation_date":1423502369,"answer_id":28415495,"question_id":1383797,"body_markdown":"I think this is best solution, original address: [Java2s][1]\r\n\r\n        import java.util.HashMap;\r\n        import java.util.Map;\r\n        \r\n            public class Main {\r\n            \r\n              public static void main(String[] argv) {\r\n                Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n                map.put(&quot;1&quot;,&quot;one&quot;);\r\n                map.put(&quot;2&quot;,&quot;two&quot;);\r\n                map.put(&quot;3&quot;,&quot;three&quot;);\r\n                map.put(&quot;4&quot;,&quot;four&quot;);\r\n                \r\n                System.out.println(getKeyFromValue(map,&quot;three&quot;));\r\n              }\r\n            \r\n    \r\n    // hm is the map you are trying to get value from it\r\n              public static Object getKeyFromValue(Map hm, Object value) {\r\n                for (Object o : hm.keySet()) {\r\n                  if (hm.get(o).equals(value)) {\r\n                    return o;\r\n                  }\r\n                }\r\n                return null;\r\n              }\r\n            }\r\n\r\nAn easy usage: \r\nif you put all data in hasMap and you have item = &quot;Automobile&quot;, so you are looking its key in hashMap. that is good solution. \r\n\r\n    getKeyFromValue(hashMap, item);\r\n    System.out.println(&quot;getKeyFromValue(hashMap, item): &quot;+getKeyFromValue(hashMap, item));\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Java/Collections-Data-Structure/GetakeyfromvaluewithanHashMap.htm","title":"Java Hashmap: How to get key from value?","body":"<p>I think this is best solution, original address: <a href=\"http://www.java2s.com/Code/Java/Collections-Data-Structure/GetakeyfromvaluewithanHashMap.htm\" rel=\"noreferrer\">Java2s</a></p>\n\n<pre><code>    import java.util.HashMap;\n    import java.util.Map;\n\n        public class Main {\n\n          public static void main(String[] argv) {\n            Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n            map.put(\"1\",\"one\");\n            map.put(\"2\",\"two\");\n            map.put(\"3\",\"three\");\n            map.put(\"4\",\"four\");\n\n            System.out.println(getKeyFromValue(map,\"three\"));\n          }\n\n\n// hm is the map you are trying to get value from it\n          public static Object getKeyFromValue(Map hm, Object value) {\n            for (Object o : hm.keySet()) {\n              if (hm.get(o).equals(value)) {\n                return o;\n              }\n            }\n            return null;\n          }\n        }\n</code></pre>\n\n<p>An easy usage: \nif you put all data in hasMap and you have item = \"Automobile\", so you are looking its key in hashMap. that is good solution. </p>\n\n<pre><code>getKeyFromValue(hashMap, item);\nSystem.out.println(\"getKeyFromValue(hashMap, item): \"+getKeyFromValue(hashMap, item));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1998882,"reputation":523,"user_id":1790382,"display_name":"kanaparthikiran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432274187,"creation_date":1430944510,"answer_id":30087012,"question_id":1383797,"body_markdown":"\t/**\r\n\t * This method gets the Key for the given Value\r\n\t * @param paramName\r\n\t * @return\r\n\t */\r\n\tprivate String getKeyForValueFromMap(String paramName) {\r\n\t\tString keyForValue = null;\r\n\t\tif(paramName!=null)) {\r\n\t\t\tSet&lt;Entry&lt;String,String&gt;&gt; entrySet = myMap().entrySet();\r\n\t\t\tif(entrySet!=null &amp;&amp; entrySet.size&gt;0) {\r\n\t\t\t\tfor(Entry&lt;String,String&gt; entry : entrySet) {\r\n\t\t\t\t\tif(entry!=null &amp;&amp; paramName.equalsIgnoreCase(entry.getValue())) {\r\n\t\t\t\t\t\tkeyForValue = entry.getKey();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn keyForValue;\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<pre><code>/**\n * This method gets the Key for the given Value\n * @param paramName\n * @return\n */\nprivate String getKeyForValueFromMap(String paramName) {\n    String keyForValue = null;\n    if(paramName!=null)) {\n        Set&lt;Entry&lt;String,String&gt;&gt; entrySet = myMap().entrySet();\n        if(entrySet!=null &amp;&amp; entrySet.size&gt;0) {\n            for(Entry&lt;String,String&gt; entry : entrySet) {\n                if(entry!=null &amp;&amp; paramName.equalsIgnoreCase(entry.getValue())) {\n                    keyForValue = entry.getKey();\n                }\n            }\n        }\n    }\n    return keyForValue;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9052,"reputation":11722,"user_id":16549,"accept_rate":75,"display_name":"kervin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433089549,"creation_date":1433089549,"answer_id":30559722,"question_id":1383797,"body_markdown":"It&#39;s important to note that since this question, Apache Collections supports [Generic BidiMaps][1].  So a few of the top voted answers are no longer accurate on that point.\r\n\r\nFor a Serialized BidiMap that also supports duplicate values ( 1-to-many scenario ) also consider [MapDB.org][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\r\n  [2]: https://github.com/jankotek/mapdb/blob/master/src/test/java/examples/Bidi_Map.java","title":"Java Hashmap: How to get key from value?","body":"<p>It's important to note that since this question, Apache Collections supports <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/bidimap/package-summary.html\" rel=\"nofollow\">Generic BidiMaps</a>.  So a few of the top voted answers are no longer accurate on that point.</p>\n\n<p>For a Serialized BidiMap that also supports duplicate values ( 1-to-many scenario ) also consider <a href=\"https://github.com/jankotek/mapdb/blob/master/src/test/java/examples/Bidi_Map.java\" rel=\"nofollow\">MapDB.org</a>.</p>\n"},{"tags":[],"owner":{"account_id":4803345,"reputation":101,"user_id":3903923,"display_name":"Ashwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438778107,"creation_date":1438777879,"answer_id":31832609,"question_id":1383797,"body_markdown":"    for(int key: hm.keySet()) {\r\n        if(hm.get(key).equals(value)) {\r\n            System.out.println(key); \r\n        }\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<pre><code>for(int key: hm.keySet()) {\n    if(hm.get(key).equals(value)) {\n        System.out.println(key); \n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":997704,"reputation":127,"user_id":1013265,"accept_rate":61,"display_name":"frododot"},"score":0,"creation_date":1542168965,"post_id":32475518,"comment_id":93467415,"body_markdown":"@Anton, true unless `value` has been interned.","body":"@Anton, true unless <code>value</code> has been interned."}],"tags":[],"owner":{"account_id":5512449,"reputation":507,"user_id":4378304,"accept_rate":33,"display_name":"phani"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1573537164,"creation_date":1441789930,"answer_id":32475518,"question_id":1383797,"body_markdown":"Using Java 8:\r\n\r\n    ftw.forEach((key, value) -&gt; {\r\n        if (value.equals(&quot;foo&quot;)) {\r\n            System.out.print(key);\r\n        }\r\n    });","title":"Java Hashmap: How to get key from value?","body":"<p>Using Java 8:</p>\n\n<pre><code>ftw.forEach((key, value) -&gt; {\n    if (value.equals(\"foo\")) {\n        System.out.print(key);\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":202322,"reputation":1467,"user_id":449328,"accept_rate":81,"display_name":"Toby Wilson"},"score":0,"creation_date":1482602524,"post_id":36625841,"comment_id":69834813,"body_markdown":"This solution works for me; also developing for an archaeological Android version, in my case to get the key of a Google Map marker held in a Map in an &quot;onMarkerClick&quot; event. Iterating the entrySet works; but iterating the keys and matching them to entries with get(), and comparing the output, didn&#39;t.","body":"This solution works for me; also developing for an archaeological Android version, in my case to get the key of a Google Map marker held in a Map in an &quot;onMarkerClick&quot; event. Iterating the entrySet works; but iterating the keys and matching them to entries with get(), and comparing the output, didn&#39;t."}],"tags":[],"owner":{"account_id":3715619,"reputation":3752,"user_id":3091915,"accept_rate":89,"display_name":"The Berga"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1460643271,"creation_date":1460643271,"answer_id":36625841,"question_id":1383797,"body_markdown":"For Android development targeting API &lt; 19, Vitalii Fedorenko one-to-one relationship solution doesn&#39;t work because `Objects.equals` isn&#39;t implemented. Here&#39;s a simple alternative:\r\n\r\n    public &lt;K, V&gt; K getKeyByValue(Map&lt;K, V&gt; map, V value) {\r\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\r\n                if (value.equals(entry.getValue())) {\r\n                return entry.getKey();\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>For Android development targeting API &lt; 19, Vitalii Fedorenko one-to-one relationship solution doesn't work because <code>Objects.equals</code> isn't implemented. Here's a simple alternative:</p>\n\n<pre><code>public &lt;K, V&gt; K getKeyByValue(Map&lt;K, V&gt; map, V value) {\n    for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\n            if (value.equals(entry.getValue())) {\n            return entry.getKey();\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1476177671,"post_id":37391925,"comment_id":67227194,"body_markdown":"I think this is an interesting approach, though since the relation has to be 1:1, I&#39;d get rid of HashMap altogether and implement Map&lt;K,V&gt; interface instead so to avoid duplicates of both, values and keys.","body":"I think this is an interesting approach, though since the relation has to be 1:1, I&#39;d get rid of HashMap altogether and implement Map&lt;K,V&gt; interface instead so to avoid duplicates of both, values and keys."}],"tags":[],"owner":{"account_id":8497120,"reputation":191,"user_id":6371386,"display_name":"ABHI"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1464011103,"creation_date":1464009024,"answer_id":37391925,"question_id":1383797,"body_markdown":"Decorate map with your own implementation\r\n    \r\n    class MyMap&lt;K,V&gt; extends HashMap&lt;K, V&gt;{\r\n\t\r\n\t    Map&lt;V,K&gt; reverseMap = new HashMap&lt;V,K&gt;();\r\n\t\r\n    \t@Override\r\n    \tpublic V put(K key, V value) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\treverseMap.put(value, key);\r\n    \t\treturn super.put(key, value);\r\n    \t}\r\n\t\r\n    \tpublic K getKey(V value){\r\n    \t\treturn reverseMap.get(value);\r\n    \t}\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>Decorate map with your own implementation</p>\n\n<pre><code>class MyMap&lt;K,V&gt; extends HashMap&lt;K, V&gt;{\n\n    Map&lt;V,K&gt; reverseMap = new HashMap&lt;V,K&gt;();\n\n    @Override\n    public V put(K key, V value) {\n        // TODO Auto-generated method stub\n        reverseMap.put(value, key);\n        return super.put(key, value);\n    }\n\n    public K getKey(V value){\n        return reverseMap.get(value);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1467724017,"post_id":38203990,"comment_id":63832438,"body_markdown":"And why should someone use that approach? As you already said, the performance would be worse, than in other approaches.","body":"And why should someone use that approach? As you already said, the performance would be worse, than in other approaches."}],"tags":[],"owner":{"account_id":5112610,"reputation":135,"user_id":4098779,"accept_rate":40,"display_name":"Manu Bhat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467724835,"creation_date":1467723155,"answer_id":38203990,"question_id":1383797,"body_markdown":"My 2 cents. \r\nYou can get the keys in an array and then loop through the array. This will affect performance of this code block if the map is pretty big , where in you are getting the keys in an array first which might consume some time and then you are looping. Otherwise for smaller maps it should be ok.\r\n\r\n    String[] keys =  yourMap.keySet().toArray(new String[0]);\r\n\t\t\r\n\tfor(int i = 0 ; i &lt; keys.length ; i++){\r\n\t\t//This is your key    \r\n        String key = keys[i];\r\n\r\n        //This is your value\r\n\t    yourMap.get(key)\t    \t\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<p>My 2 cents. \nYou can get the keys in an array and then loop through the array. This will affect performance of this code block if the map is pretty big , where in you are getting the keys in an array first which might consume some time and then you are looping. Otherwise for smaller maps it should be ok.</p>\n\n<pre><code>String[] keys =  yourMap.keySet().toArray(new String[0]);\n\nfor(int i = 0 ; i &lt; keys.length ; i++){\n    //This is your key    \n    String key = keys[i];\n\n    //This is your value\n    yourMap.get(key)            \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5227890,"reputation":301,"user_id":6768865,"display_name":"Batman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478531185,"creation_date":1472451925,"answer_id":39199753,"question_id":1383797,"body_markdown":"1. If you want to get key from value, its best to use bidimap (bi-directional maps) , you can get key from value in O(1) time.\r\n\r\n    But, the drawback with this is you can only use unique keyset and valueset.\r\n\r\n2. There is a data structure called **Table** in java, which is nothing but map of maps like\r\n\r\n   **Table&lt; A, B , C &gt; == map &lt; A , map &lt; B, C &gt; &gt;**\r\n\r\n   Here you can get `map&lt;B,C&gt;` by querying `T.row(a);`, and you can also get `map&lt;A,C&gt;` by querying `T.column(b);`\r\n  \r\nIn your special case, insert C as some constant.\r\n\r\nSo, it like  &lt; a1, b1, 1 &gt; \r\n  &lt; a2, b2 , 1 &gt; , ...\r\n\r\nSo, if you find via T.row(a1) ---&gt; returns map of &lt;b1,1&gt; --&gt; get keyset  this returned map.\r\n\r\nIf you need to find key value then, T.column(b2) --&gt; returns map of &lt;a2,1&gt; --&gt; get keyset of returned map.\r\n\r\nAdvantages over the previous case : \r\n\r\n1. Can use multiple values.\r\n2. More efficient when using large data sets.","title":"Java Hashmap: How to get key from value?","body":"<ol>\n<li><p>If you want to get key from value, its best to use bidimap (bi-directional maps) , you can get key from value in O(1) time.</p>\n\n<p>But, the drawback with this is you can only use unique keyset and valueset.</p></li>\n<li><p>There is a data structure called <strong>Table</strong> in java, which is nothing but map of maps like</p>\n\n<p><strong>Table&lt; A, B , C > == map &lt; A , map &lt; B, C > ></strong></p>\n\n<p>Here you can get <code>map&lt;B,C&gt;</code> by querying <code>T.row(a);</code>, and you can also get <code>map&lt;A,C&gt;</code> by querying <code>T.column(b);</code></p></li>\n</ol>\n\n<p>In your special case, insert C as some constant.</p>\n\n<p>So, it like  &lt; a1, b1, 1 > \n  &lt; a2, b2 , 1 > , ...</p>\n\n<p>So, if you find via T.row(a1) ---> returns map of  --> get keyset  this returned map.</p>\n\n<p>If you need to find key value then, T.column(b2) --> returns map of  --> get keyset of returned map.</p>\n\n<p>Advantages over the previous case : </p>\n\n<ol>\n<li>Can use multiple values.</li>\n<li>More efficient when using large data sets.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1478733442,"post_id":40517435,"comment_id":68276876,"body_markdown":"It is nice that you want to provide useful stuff, but it shouldn&#39;t be a &quot;code only&quot; answer and the code itself shouldn&#39;t be full of code smells, either.","body":"It is nice that you want to provide useful stuff, but it shouldn&#39;t be a &quot;code only&quot; answer and the code itself shouldn&#39;t be full of code smells, either."}],"tags":[],"owner":{"account_id":8299946,"reputation":41,"user_id":6238860,"display_name":"Balasubramanian Ganapathi"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1478733862,"creation_date":1478732404,"answer_id":40517435,"question_id":1383797,"body_markdown":"You can use the below:\r\n\r\n    public class HashmapKeyExist {\r\n        public static void main(String[] args) {\r\n            HashMap&lt;String, String&gt; hmap = new HashMap&lt;String, String&gt;();\r\n            hmap.put(&quot;1&quot;, &quot;Bala&quot;);\r\n            hmap.put(&quot;2&quot;, &quot;Test&quot;);\r\n\r\n            Boolean cantain = hmap.containsValue(&quot;Bala&quot;);\r\n            if(hmap.containsKey(&quot;2&quot;) &amp;&amp; hmap.containsValue(&quot;Test&quot;))\r\n            {\r\n                System.out.println(&quot;Yes&quot;);\r\n            }\r\n            if(cantain == true)\r\n            {\r\n                System.out.println(&quot;Yes&quot;); \r\n            }\r\n\r\n            Set setkeys = hmap.keySet();\r\n            Iterator it = setkeys.iterator();\r\n\r\n            while(it.hasNext())\r\n            {\r\n                String key = (String) it.next();\r\n                if (hmap.get(key).equals(&quot;Bala&quot;))\r\n                {\r\n                    System.out.println(key);\r\n                }\r\n            }\r\n        }\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>You can use the below:</p>\n\n<pre><code>public class HashmapKeyExist {\n    public static void main(String[] args) {\n        HashMap&lt;String, String&gt; hmap = new HashMap&lt;String, String&gt;();\n        hmap.put(\"1\", \"Bala\");\n        hmap.put(\"2\", \"Test\");\n\n        Boolean cantain = hmap.containsValue(\"Bala\");\n        if(hmap.containsKey(\"2\") &amp;&amp; hmap.containsValue(\"Test\"))\n        {\n            System.out.println(\"Yes\");\n        }\n        if(cantain == true)\n        {\n            System.out.println(\"Yes\"); \n        }\n\n        Set setkeys = hmap.keySet();\n        Iterator it = setkeys.iterator();\n\n        while(it.hasNext())\n        {\n            String key = (String) it.next();\n            if (hmap.get(key).equals(\"Bala\"))\n            {\n                System.out.println(key);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10974310,"reputation":31,"user_id":8063449,"display_name":"Amazing India"},"score":0,"creation_date":1498116918,"post_id":44693013,"comment_id":76369103,"body_markdown":"Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\t\tmap.put(&quot;A&quot;, 1);\n\t\tmap.put(&quot;B&quot;, 2);\n\t\tmap.put(&quot;C&quot;, 3);\n\t\tmap.put(&quot;D&quot;, 4);\n\t\t// System.out.println(map);\n\t\tSystem.out.println(getKey(map, &quot;4&quot;));","body":"Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;(); \t\tmap.put(&quot;A&quot;, 1); \t\tmap.put(&quot;B&quot;, 2); \t\tmap.put(&quot;C&quot;, 3); \t\tmap.put(&quot;D&quot;, 4); \t\t// System.out.println(map); \t\tSystem.out.println(getKey(map, &quot;4&quot;));"},{"owner":{"account_id":5685185,"reputation":1923,"user_id":4494979,"display_name":"C&#224; ph&#234; đen"},"score":1,"creation_date":1498117507,"post_id":44693013,"comment_id":76369480,"body_markdown":"What happens if multiple keys have the same value?","body":"What happens if multiple keys have the same value?"},{"owner":{"account_id":10974310,"reputation":31,"user_id":8063449,"display_name":"Amazing India"},"score":0,"creation_date":1498124366,"post_id":44693013,"comment_id":76374409,"body_markdown":"When u pass the multiple keys have the same value, we will get the last key as result.\nexample: \nA 1, \nB 1,\nC 1,\nD 2\noutput: if we pass the 1 value , output will be C","body":"When u pass the multiple keys have the same value, we will get the last key as result. example:  A 1,  B 1, C 1, D 2 output: if we pass the 1 value , output will be C"},{"owner":{"account_id":954974,"reputation":352,"user_id":980455,"display_name":"Niels Doucet"},"score":0,"creation_date":1502872483,"post_id":44693013,"comment_id":78375484,"body_markdown":"@AmazingIndia This is not guaranteed and completely depends on the specific map implementation. HashMap for instance does not guarantee an order, so you have no idea what output will be returned here.","body":"@AmazingIndia This is not guaranteed and completely depends on the specific map implementation. HashMap for instance does not guarantee an order, so you have no idea what output will be returned here."}],"tags":[],"owner":{"account_id":10974310,"reputation":31,"user_id":8063449,"display_name":"Amazing India"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1498116891,"creation_date":1498116891,"answer_id":44693013,"question_id":1383797,"body_markdown":"\tpublic static String getKey(Map&lt;String, Integer&gt; mapref, String value) {\r\n\t\tString key = &quot;&quot;;\r\n\t\tfor (Map.Entry&lt;String, Integer&gt; map : mapref.entrySet()) {\r\n\t\t\tif (map.getValue().toString().equals(value)) {\r\n\t\t\t\tkey = map.getKey();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn key;\r\n\t}\r\n","title":"Java Hashmap: How to get key from value?","body":"<pre><code>public static String getKey(Map&lt;String, Integer&gt; mapref, String value) {\n    String key = \"\";\n    for (Map.Entry&lt;String, Integer&gt; map : mapref.entrySet()) {\n        if (map.getValue().toString().equals(value)) {\n            key = map.getKey();\n        }\n    }\n    return key;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":997704,"reputation":127,"user_id":1013265,"accept_rate":61,"display_name":"frododot"},"score":2,"creation_date":1542168627,"post_id":47181543,"comment_id":93467351,"body_markdown":"`map.get(key) == value` is not a good idea when checking equality of objects, as you are comparing references.  Object equality should always use their `.equals()`","body":"<code>map.get(key) == value</code> is not a good idea when checking equality of objects, as you are comparing references.  Object equality should always use their <code>.equals()</code>"}],"tags":[],"owner":{"account_id":8105684,"reputation":137,"user_id":6107304,"accept_rate":60,"display_name":"FrancisGeek"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1510149304,"creation_date":1510149304,"answer_id":47181543,"question_id":1383797,"body_markdown":"I think **keySet()** may be well to find the keys mapping to the value, and have a better coding style than **entrySet()**.\r\n\r\nEx:\r\n\r\nSuppose you have a HashMap&lt;Integer, Integer&gt; *map*, ArrayList&lt;Integer&gt; *res*, a **value** you want to find **all the key** mapping to , then store keys to the *res*.\r\n\r\nYou can write code below:\r\n\r\n        for (int key : map.keySet()) {\r\n            if (map.get(key) == value) {\r\n                res.add(key);\r\n            }\r\n        }\r\n\r\nrather than use entrySet() below:\r\n\r\n        for (Map.Entry s : map.entrySet()) {\r\n            if ((int)s.getValue() == value) {\r\n                res.add((int)s.getKey());\r\n            }\r\n        }\r\n\r\nHope it helps :)","title":"Java Hashmap: How to get key from value?","body":"<p>I think <strong>keySet()</strong> may be well to find the keys mapping to the value, and have a better coding style than <strong>entrySet()</strong>.</p>\n\n<p>Ex:</p>\n\n<p>Suppose you have a HashMap <em>map</em>, ArrayList <em>res</em>, a <strong>value</strong> you want to find <strong>all the key</strong> mapping to , then store keys to the <em>res</em>.</p>\n\n<p>You can write code below:</p>\n\n<pre><code>    for (int key : map.keySet()) {\n        if (map.get(key) == value) {\n            res.add(key);\n        }\n    }\n</code></pre>\n\n<p>rather than use entrySet() below:</p>\n\n<pre><code>    for (Map.Entry s : map.entrySet()) {\n        if ((int)s.getValue() == value) {\n            res.add((int)s.getKey());\n        }\n    }\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517527325,"creation_date":1517527325,"answer_id":48573372,"question_id":1383797,"body_markdown":"While this does not directly answer the question, it is related.\r\n\r\nThis way you don&#39;t need to keep creating/iterating. Just create a reverse map once and get what you need.\r\n\r\n    /**\r\n     * Both key and value types must define equals() and hashCode() for this to work.\r\n     * This takes into account that all keys are unique but all values may not be.\r\n     *\r\n     * @param map\r\n     * @param &lt;K&gt;\r\n     * @param &lt;V&gt;\r\n     * @return\r\n     */\r\n    public static &lt;K, V&gt; Map&lt;V, List&lt;K&gt;&gt; reverseMap(Map&lt;K,V&gt; map) {\r\n        if(map == null) return null;\r\n\r\n        Map&lt;V, List&lt;K&gt;&gt; reverseMap = new ArrayMap&lt;&gt;();\r\n\r\n        for(Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\r\n            appendValueToMapList(reverseMap, entry.getValue(), entry.getKey());\r\n        }\r\n\r\n        return reverseMap;\r\n    }\r\n\r\n\r\n    /**\r\n     * Takes into account that the list may already have values.\r\n     * \r\n     * @param map\r\n     * @param key\r\n     * @param value\r\n     * @param &lt;K&gt;\r\n     * @param &lt;V&gt;\r\n     * @return\r\n     */\r\n    public static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; appendValueToMapList(Map&lt;K, List&lt;V&gt;&gt; map, K key, V value) {\r\n        if(map == null || key == null || value == null) return map;\r\n\r\n        List&lt;V&gt; list = map.get(key);\r\n\r\n        if(list == null) {\r\n            List&lt;V&gt; newList = new ArrayList&lt;&gt;();\r\n            newList.add(value);\r\n            map.put(key, newList);\r\n        }\r\n        else {\r\n            list.add(value);\r\n        }\r\n\r\n        return map;\r\n    }","title":"Java Hashmap: How to get key from value?","body":"<p>While this does not directly answer the question, it is related.</p>\n\n<p>This way you don't need to keep creating/iterating. Just create a reverse map once and get what you need.</p>\n\n<pre><code>/**\n * Both key and value types must define equals() and hashCode() for this to work.\n * This takes into account that all keys are unique but all values may not be.\n *\n * @param map\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n * @return\n */\npublic static &lt;K, V&gt; Map&lt;V, List&lt;K&gt;&gt; reverseMap(Map&lt;K,V&gt; map) {\n    if(map == null) return null;\n\n    Map&lt;V, List&lt;K&gt;&gt; reverseMap = new ArrayMap&lt;&gt;();\n\n    for(Map.Entry&lt;K,V&gt; entry : map.entrySet()) {\n        appendValueToMapList(reverseMap, entry.getValue(), entry.getKey());\n    }\n\n    return reverseMap;\n}\n\n\n/**\n * Takes into account that the list may already have values.\n * \n * @param map\n * @param key\n * @param value\n * @param &lt;K&gt;\n * @param &lt;V&gt;\n * @return\n */\npublic static &lt;K, V&gt; Map&lt;K, List&lt;V&gt;&gt; appendValueToMapList(Map&lt;K, List&lt;V&gt;&gt; map, K key, V value) {\n    if(map == null || key == null || value == null) return map;\n\n    List&lt;V&gt; list = map.get(key);\n\n    if(list == null) {\n        List&lt;V&gt; newList = new ArrayList&lt;&gt;();\n        newList.add(value);\n        map.put(key, newList);\n    }\n    else {\n        list.add(value);\n    }\n\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4588263,"reputation":25,"user_id":3722311,"display_name":"programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528392616,"creation_date":1528392616,"answer_id":50747074,"question_id":1383797,"body_markdown":"try this:\r\n\r\n    static String getKeyFromValue(LinkedHashMap&lt;String, String&gt; map,String value) {\r\n\t\tfor (int x=0;x&lt;map.size();x++){\r\n\t\t\tif( String.valueOf( (new ArrayList&lt;String&gt;(map.values())).get(x) ).equals(value))\r\n\t\t\t\treturn String.valueOf((new ArrayList&lt;String&gt;(map.keySet())).get(x));\r\n\t\t}\r\n\t\treturn null;\r\n\t}","title":"Java Hashmap: How to get key from value?","body":"<p>try this:</p>\n\n<pre><code>static String getKeyFromValue(LinkedHashMap&lt;String, String&gt; map,String value) {\n    for (int x=0;x&lt;map.size();x++){\n        if( String.valueOf( (new ArrayList&lt;String&gt;(map.values())).get(x) ).equals(value))\n            return String.valueOf((new ArrayList&lt;String&gt;(map.keySet())).get(x));\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12538076,"reputation":467,"user_id":9124072,"display_name":"pseusys"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542153736,"creation_date":1542153736,"answer_id":53291244,"question_id":1383797,"body_markdown":"As far as I know keys and values of a HashMap are not mixed when you represent them as arrays:\r\n\r\n    hashmap.values().toArray()\r\nand\r\n\r\n    hashmap.keySet().toArray()\r\nSo the following code (since java 8) should work as expected:\r\n\r\n    public Object getKeyByFirstValue(Object value) {\r\n        int keyNumber =  Arrays.asList(hashmap.values().toArray()).indexOf(value);\r\n        return hashmap.keySet().toArray()[keyNumber];\r\n    }\r\nHowever, (**WARNING!**) it works 2-3 times slower than iteration.","title":"Java Hashmap: How to get key from value?","body":"<p>As far as I know keys and values of a HashMap are not mixed when you represent them as arrays:</p>\n\n<pre><code>hashmap.values().toArray()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>hashmap.keySet().toArray()\n</code></pre>\n\n<p>So the following code (since java 8) should work as expected:</p>\n\n<pre><code>public Object getKeyByFirstValue(Object value) {\n    int keyNumber =  Arrays.asList(hashmap.values().toArray()).indexOf(value);\n    return hashmap.keySet().toArray()[keyNumber];\n}\n</code></pre>\n\n<p>However, (<strong>WARNING!</strong>) it works 2-3 times slower than iteration.</p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1560236623,"creation_date":1560236623,"answer_id":56538233,"question_id":1383797,"body_markdown":"Let the value be `maxValue`.\r\n\r\n    Set keySet = map.keySet();\r\n    \r\n    keySet.stream().filter(x-&gt;map.get(x)==maxValue).forEach(x-&gt; System.out.println(x));\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>Let the value be <code>maxValue</code>.</p>\n\n<pre><code>Set keySet = map.keySet();\n\nkeySet.stream().filter(x-&gt;map.get(x)==maxValue).forEach(x-&gt; System.out.println(x));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615567532,"creation_date":1613393737,"answer_id":66208453,"question_id":1383797,"body_markdown":"*lambda w/o use of external libraries*&lt;br /&gt;\r\ncan deal with multiple values for one key (in difference to the BidiMap)\r\n\r\n    public static List&lt;String&gt; getKeysByValue(Map&lt;String, String&gt; map, String value) {\r\n      List&lt;String&gt; list = map.keySet().stream()\r\n          .collect(groupingBy(k -&gt; map.get(k))).get(value);\r\n      return (list == null ? Collections.emptyList() : list);\r\n    }\r\n\r\ngets a `List` containing the `key(s)` mapping `value`&lt;br /&gt;\r\nfor an 1:1 mapping the returned list is `empty` or contains 1 `value`","title":"Java Hashmap: How to get key from value?","body":"<p><em>lambda w/o use of external libraries</em><br />\ncan deal with multiple values for one key (in difference to the BidiMap)</p>\n<pre><code>public static List&lt;String&gt; getKeysByValue(Map&lt;String, String&gt; map, String value) {\n  List&lt;String&gt; list = map.keySet().stream()\n      .collect(groupingBy(k -&gt; map.get(k))).get(value);\n  return (list == null ? Collections.emptyList() : list);\n}\n</code></pre>\n<p>gets a <code>List</code> containing the <code>key(s)</code> mapping <code>value</code><br />\nfor an 1:1 mapping the returned list is <code>empty</code> or contains 1 <code>value</code></p>\n"},{"tags":[],"owner":{"account_id":2640556,"reputation":933,"user_id":2284311,"accept_rate":88,"display_name":"smftr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617821578,"creation_date":1617821578,"answer_id":66992436,"question_id":1383797,"body_markdown":"let see my example\r\n\r\n```java\r\nMap&lt;String, String&gt; mapPeopleAndCountry = new HashMap&lt;&gt;();\r\nmapPeopleAndCountry.put(&quot;Matis&quot;, &quot;Lithuania&quot;);\r\nmapPeopleAndCountry.put(&quot;Carlos&quot;, &quot;Honduras&quot;);\r\nmapPeopleAndCountry.put(&quot;Teboho&quot;, &quot;Lesotho&quot;);\r\nmapPeopleAndCountry.put(&quot;Marielos&quot;, &quot;Honduras&quot;);\r\n\r\n\r\nList&lt;String&gt; peopleInHonduras = mapPeopleAndCountry.keySet()\r\n    .stream()\r\n    .filter(r -&gt; mapPeopleAndCountry.get(r)\r\n                .equals(&quot;Honduras&quot;))\r\n    .stream(Collectors.toList());\r\n\r\n// will return [&quot;Carlos&quot;, &quot;Marielos&quot;]\r\n\r\n```\r\n\r\nNote: untested, may contains typo","title":"Java Hashmap: How to get key from value?","body":"<p>let see my example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; mapPeopleAndCountry = new HashMap&lt;&gt;();\nmapPeopleAndCountry.put(&quot;Matis&quot;, &quot;Lithuania&quot;);\nmapPeopleAndCountry.put(&quot;Carlos&quot;, &quot;Honduras&quot;);\nmapPeopleAndCountry.put(&quot;Teboho&quot;, &quot;Lesotho&quot;);\nmapPeopleAndCountry.put(&quot;Marielos&quot;, &quot;Honduras&quot;);\n\n\nList&lt;String&gt; peopleInHonduras = mapPeopleAndCountry.keySet()\n    .stream()\n    .filter(r -&gt; mapPeopleAndCountry.get(r)\n                .equals(&quot;Honduras&quot;))\n    .stream(Collectors.toList());\n\n// will return [&quot;Carlos&quot;, &quot;Marielos&quot;]\n\n</code></pre>\n<p>Note: untested, may contains typo</p>\n"},{"tags":[],"owner":{"account_id":11847624,"reputation":941,"user_id":8669765,"display_name":"Shashank Bodkhe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622372331,"creation_date":1622371523,"answer_id":67760241,"question_id":1383797,"body_markdown":"Simplest utility method to fetch a key of a given value from a Map:\r\n\r\n    public static void fetchValue(Map&lt;String, Integer&gt; map, Integer i)\r\n\t{\t\r\n\tStream stream = map.entrySet().stream().filter(val-&gt; val.getValue().equals(i)).map(Map.Entry::getKey);\r\n\tstream.forEach(System.out::println);\t\r\n\t}\r\n\r\n\r\ndetailed explaination: \t\r\n\r\n\r\n1) Method fetchValue accepts the map, which has String as key and Integer as value. \r\n\r\n2) Then we use entryset().stream() to convert result into a stream.\r\n\r\n3) Next we use filter (intermediate operation) which gives us a value that is equal to the second argument.\r\n \r\n4) Finally, we use forEach(final operation) to print our end result.\r\n\r\n","title":"Java Hashmap: How to get key from value?","body":"<p>Simplest utility method to fetch a key of a given value from a Map:</p>\n<pre><code>public static void fetchValue(Map&lt;String, Integer&gt; map, Integer i)\n{   \nStream stream = map.entrySet().stream().filter(val-&gt; val.getValue().equals(i)).map(Map.Entry::getKey);\nstream.forEach(System.out::println);    \n}\n</code></pre>\n<p>detailed explaination:</p>\n<ol>\n<li><p>Method fetchValue accepts the map, which has String as key and Integer as value.</p>\n</li>\n<li><p>Then we use entryset().stream() to convert result into a stream.</p>\n</li>\n<li><p>Next we use filter (intermediate operation) which gives us a value that is equal to the second argument.</p>\n</li>\n<li><p>Finally, we use forEach(final operation) to print our end result.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22636491,"reputation":93,"user_id":16813234,"display_name":"Jafar Sadik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630676008,"creation_date":1630676008,"answer_id":69045810,"question_id":1383797,"body_markdown":"Found too many answers. Some were really great. But I was particularly looking for a way, so that I can get the value using loops.\r\n\r\nSo here is finally what I did: \r\nFor a HashMap 1-to-1 relation: \r\n\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\t\t\r\n\t\tmap.put(&quot;abc&quot;, &quot;123&quot;);\r\n\t\tmap.put(&quot;xyz&quot;, &quot;456&quot;);\r\n\t\t\r\n\t\tfor(Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n\t\t\tif(entry.getValue().equalsIgnoreCase(&quot;456&quot;)) {\r\n\t\t\t\tSystem.out.println(entry.getKey());\r\n\t\t\t}\r\n\t\t}\r\nOutput: &quot;xyz&quot;\r\n\r\nFor a HashMap 1-to-many relation:\r\n\r\n        Map&lt;String, ArrayList&lt;String&gt;&gt; service = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n\t\t\r\n\t\tservice.put(&quot;abc&quot;, new ArrayList&lt;String&gt;());\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;a&quot;);\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;b&quot;);\r\n\t\tservice.get(&quot;abc&quot;).add(&quot;c&quot;);\r\n\t\t\r\n\t\tservice.put(&quot;xyz&quot;, new ArrayList&lt;String&gt;());\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;x&quot;);\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;y&quot;);\r\n\t\tservice.get(&quot;xyz&quot;).add(&quot;z&quot;);\r\n\t\t\r\n\t\tfor(Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : service.entrySet()) {\r\n\t\t\tArrayList&lt;String&gt; values = entry.getValue();\r\n\t\t\tfor(String value : values) {\r\n\t\t\t\tif(value.equalsIgnoreCase(&quot;x&quot;)) {\r\n\t\t\t\t\tSystem.out.println(entry.getKey());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\nOutput: xyz\r\n\r\n-Thanks","title":"Java Hashmap: How to get key from value?","body":"<p>Found too many answers. Some were really great. But I was particularly looking for a way, so that I can get the value using loops.</p>\n<p>So here is finally what I did:\nFor a HashMap 1-to-1 relation:</p>\n<pre><code>    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n    \n    map.put(&quot;abc&quot;, &quot;123&quot;);\n    map.put(&quot;xyz&quot;, &quot;456&quot;);\n    \n    for(Entry&lt;String, String&gt; entry : map.entrySet()) {\n        if(entry.getValue().equalsIgnoreCase(&quot;456&quot;)) {\n            System.out.println(entry.getKey());\n        }\n    }\n</code></pre>\n<p>Output: &quot;xyz&quot;</p>\n<p>For a HashMap 1-to-many relation:</p>\n<pre><code>    Map&lt;String, ArrayList&lt;String&gt;&gt; service = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\n    \n    service.put(&quot;abc&quot;, new ArrayList&lt;String&gt;());\n    service.get(&quot;abc&quot;).add(&quot;a&quot;);\n    service.get(&quot;abc&quot;).add(&quot;b&quot;);\n    service.get(&quot;abc&quot;).add(&quot;c&quot;);\n    \n    service.put(&quot;xyz&quot;, new ArrayList&lt;String&gt;());\n    service.get(&quot;xyz&quot;).add(&quot;x&quot;);\n    service.get(&quot;xyz&quot;).add(&quot;y&quot;);\n    service.get(&quot;xyz&quot;).add(&quot;z&quot;);\n    \n    for(Entry&lt;String, ArrayList&lt;String&gt;&gt; entry : service.entrySet()) {\n        ArrayList&lt;String&gt; values = entry.getValue();\n        for(String value : values) {\n            if(value.equalsIgnoreCase(&quot;x&quot;)) {\n                System.out.println(entry.getKey());\n            }\n        }\n        \n    }\n</code></pre>\n<p>Output: xyz</p>\n<p>-Thanks</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1640707602,"post_id":70509572,"comment_id":124639094,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70509572/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23765657,"reputation":1,"user_id":17780445,"display_name":"Jasur Hakim"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1640707579,"creation_date":1640707579,"answer_id":70509572,"question_id":1383797,"body_markdown":"You can also do that work:\r\nFirst : put map (key, value)\r\nSecond : to update the key you need to remove expression\r\nThird : and put a new key with the oldValue","title":"Java Hashmap: How to get key from value?","body":"<p>You can also do that work:\nFirst : put map (key, value)\nSecond : to update the key you need to remove expression\nThird : and put a new key with the oldValue</p>\n"},{"comments":[{"owner":{"account_id":288866,"reputation":499,"user_id":589525,"accept_rate":0,"display_name":"Jaap D"},"score":0,"creation_date":1692350792,"post_id":76917189,"comment_id":135614040,"body_markdown":"The output of your program does not contain &#39;first&#39; as stated in your answer.","body":"The output of your program does not contain &#39;first&#39; as stated in your answer."},{"owner":{"account_id":28852584,"reputation":1,"user_id":22098160,"display_name":"kmj15_23"},"score":0,"creation_date":1692508143,"post_id":76917189,"comment_id":135631525,"body_markdown":"@JaapD thank you for catching that, the output has been corrected","body":"@JaapD thank you for catching that, the output has been corrected"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692513548,"post_id":76917189,"comment_id":135631853,"body_markdown":"BTW: using `Entry` to loop over the map, as already suggested in many answers, would be better IMO - no need to retrieve each value by its key","body":"BTW: using <code>Entry</code> to loop over the map, as already suggested in many answers, would be better IMO - no need to retrieve each value by its key"}],"tags":[],"owner":{"account_id":28852584,"reputation":1,"user_id":22098160,"display_name":"kmj15_23"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692508188,"creation_date":1692221496,"answer_id":76917189,"question_id":1383797,"body_markdown":"I&#39;ve been developing a JavaFX application, and this is a problem that I encounter relatively frequently. The best way that I have found to get the desired result is to use a for each loop to iterate over the keys in the hash map and then use the get method of the hash map the value is contained in with the keys you are iterating through. Below is an example of a hash map that maps a String to an int.\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t \tString temp = null; \r\n\t\t    int number = 23;\r\n\t\t    HashMap&lt;String, Integer&gt; nameNum = new HashMap&lt;String, Integer&gt;();\r\n\r\n\t\t    nameNum.put(&quot;Jerry&quot;, 43);\r\n\t\t    nameNum.put(&quot;Michael&quot;, 23);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\tfor(String firstName : nameNum.keySet())\r\n\t\t\t{\r\n\t\t\t\tif(nameNum.get(firstName) == (number))\r\n\t\t\t\t{\r\n\t\t\t\t\ttemp = firstName;\r\n\t\t\t\t\tSystem.out.println(&quot;This is the name: &quot; + temp);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t}\r\n\r\nRunning this will result in the correct name being returned. Below is the output:\r\n\r\n    This is the name: Michael","title":"Java Hashmap: How to get key from value?","body":"<p>I've been developing a JavaFX application, and this is a problem that I encounter relatively frequently. The best way that I have found to get the desired result is to use a for each loop to iterate over the keys in the hash map and then use the get method of the hash map the value is contained in with the keys you are iterating through. Below is an example of a hash map that maps a String to an int.</p>\n<pre><code>public static void main(String[] args) {\n    \n        String temp = null; \n        int number = 23;\n        HashMap&lt;String, Integer&gt; nameNum = new HashMap&lt;String, Integer&gt;();\n\n        nameNum.put(&quot;Jerry&quot;, 43);\n        nameNum.put(&quot;Michael&quot;, 23);\n\n                                    \n        for(String firstName : nameNum.keySet())\n        {\n            if(nameNum.get(firstName) == (number))\n            {\n                temp = firstName;\n                System.out.println(&quot;This is the name: &quot; + temp);\n            }\n        }\n\n}\n</code></pre>\n<p>Running this will result in the correct name being returned. Below is the output:</p>\n<pre><code>This is the name: Michael\n</code></pre>\n"}],"owner":{"account_id":49568,"reputation":119894,"user_id":147601,"accept_rate":63,"display_name":"Nick Heiner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198017,"favorite_count":0,"down_vote_count":0,"up_vote_count":528,"accepted_answer_id":1383830,"answer_count":40,"score":528,"last_activity_date":1692508188,"creation_date":1252170420,"question_id":1383797,"body_markdown":"If I have the value `&quot;foo&quot;`, and a `HashMap&lt;String&gt; ftw` for which `ftw.containsValue(&quot;foo&quot;)` returns `true`, how can I get the corresponding key? Do I have to loop through the hashmap? What is the best way to do that?","title":"Java Hashmap: How to get key from value?","body":"<p>If I have the value <code>\"foo\"</code>, and a <code>HashMap&lt;String&gt; ftw</code> for which <code>ftw.containsValue(\"foo\")</code> returns <code>true</code>, how can I get the corresponding key? Do I have to loop through the hashmap? What is the best way to do that?</p>\n"},{"tags":["java","eclipse","maven","jboss"],"comments":[{"owner":{"account_id":3528777,"reputation":365,"user_id":2949042,"accept_rate":6,"display_name":"user2949042"},"score":0,"creation_date":1397324429,"post_id":23025461,"comment_id":35189963,"body_markdown":"I deleted this project and create a new one, but I got different error this time, these are:Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\nProject build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.0_spec:jar is missing.\nProject build error: Non-resolvable import POM: Failure to transfer \norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom https://repository.jboss.","body":"I deleted this project and create a new one, but I got different error this time, these are:Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT Project build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-api_2.0_spec:jar is missing. Project build error: Non-resolvable import POM: Failure to transfer  org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.v&zwnj;&#8203;ersion}  from <a href=\"https://repository.jboss\" rel=\"nofollow noreferrer\">repository.jboss</a>."}],"answers":[{"comments":[{"owner":{"account_id":3528777,"reputation":365,"user_id":2949042,"accept_rate":6,"display_name":"user2949042"},"score":0,"creation_date":1397324374,"post_id":23028004,"comment_id":35189944,"body_markdown":"The thing is that all the errors are coming  from pom.xml, from what I understanding, the content in pom..xml are built automatically in eclipse framework when create a new seam maven project, I should not add it manually.","body":"The thing is that all the errors are coming  from pom.xml, from what I understanding, the content in pom..xml are built automatically in eclipse framework when create a new seam maven project, I should not add it manually."}],"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397290892,"creation_date":1397290892,"answer_id":23028004,"question_id":23025461,"body_markdown":"You&#39;re using the wrong groupId, it should be `org.apache.maven.plugins`. And another hint: use https://repository.jboss.org/nexus/content/repositories/releases/ instead of public, because the public repo is a group containing a lot of other repo&#39;s, both releases and SNAPSHOTs.","title":"Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39; from the repositories","body":"<p>You're using the wrong groupId, it should be <code>org.apache.maven.plugins</code>. And another hint: use <a href=\"https://repository.jboss.org/nexus/content/repositories/releases/\" rel=\"nofollow\">https://repository.jboss.org/nexus/content/repositories/releases/</a> instead of public, because the public repo is a group containing a lot of other repo's, both releases and SNAPSHOTs.</p>\n"}],"owner":{"account_id":3528777,"reputation":365,"user_id":2949042,"accept_rate":6,"display_name":"user2949042"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692507860,"creation_date":1397270476,"question_id":23025461,"body_markdown":"I am using eclipse Indigo Service Release 2 with *JBoss* tools installed and created a Seam Web project with Maven integration selected. After the project is created, I got this error in my pom.xml file, does anybody know how to resolve it? thanks\r\n\r\n    Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39;\r\n    from the repositories [local (C:\\Users\\Jon\\.m2\\repository), \r\n    jboss-public-repository-group \r\n    (https://repository.jboss.org/nexus/content/groups/public/),\r\n    central (http://repo1.maven.org/maven2)]: \r\n    Plugin not found in any plugin repository\r\n\r\nI also tried to create a new Seam web project with Maven integration again, this is the step I followed: http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project\r\nAfter the project is created, I got these error in eclipse api, all are related to pom.xml (with a red sign)\r\n\r\n    Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\r\n    Project build error: &#39;dependencies.dependency.version&#39; for org.jboss.spec.javax.faces:jboss-jsf-    api_2.0_spec:jar is missing.\r\n    Project build error: Non-resolvable import POM: Failure to transfer \r\n\r\n    org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \r\n    from https://repository.jboss.org/nexus/content/groups/public/ was \r\n    cached in the local repository, resolution will not be reattempted \r\n    until the update interval of jboss-public-repository-group has elapsed \r\n    or updates are forced. Original error: Could not transfer artifact \r\n    org.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \r\n    from/to jboss-public-repository-group    \r\n    (https://repository.jboss.org/nexus/content/groups/public/): \r\n    Illegal character in path at index 94: \r\n    https://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/jboss-javaee-web-6.0/    \r\n    ${javaee6.web.spec.version}/jboss-javaee-web-6.0-${javaee6.web.spec.version}.pom\t\r\n\r\nNo sure why I got different error each time, I use eclipse indigo new version 64big downloaded here:https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2\r\nand add jboss tools from Marketplace, with Jboss server and Seam famework. Based on the error, do I have install any plugins? it is so confusing, because I got different error each time. \r\n","title":"Error resolving version for plugin &#39;org.codehaus.mojo:maven-war-plugin&#39; from the repositories","body":"<p>I am using eclipse Indigo Service Release 2 with <em>JBoss</em> tools installed and created a Seam Web project with Maven integration selected. After the project is created, I got this error in my pom.xml file, does anybody know how to resolve it? thanks</p>\n\n<pre><code>Error resolving version for plugin 'org.codehaus.mojo:maven-war-plugin'\nfrom the repositories [local (C:\\Users\\Jon\\.m2\\repository), \njboss-public-repository-group \n(https://repository.jboss.org/nexus/content/groups/public/),\ncentral (http://repo1.maven.org/maven2)]: \nPlugin not found in any plugin repository\n</code></pre>\n\n<p>I also tried to create a new Seam web project with Maven integration again, this is the step I followed: <a href=\"http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project\" rel=\"nofollow\">http://docs.jboss.org/tools/nightly/trunk/en/seam/html/create_mavenized_seam.html#create_mavenized_project</a>\nAfter the project is created, I got these error in eclipse api, all are related to pom.xml (with a red sign)</p>\n\n<pre><code>Missing artifact org.jboss.tools:Maven2:war:0.0.1-SNAPSHOT\nProject build error: 'dependencies.dependency.version' for org.jboss.spec.javax.faces:jboss-jsf-    api_2.0_spec:jar is missing.\nProject build error: Non-resolvable import POM: Failure to transfer \n\norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom https://repository.jboss.org/nexus/content/groups/public/ was \ncached in the local repository, resolution will not be reattempted \nuntil the update interval of jboss-public-repository-group has elapsed \nor updates are forced. Original error: Could not transfer artifact \norg.jboss.spec:jboss-javaee-web-6.0:pom:${javaee6.web.spec.version} \nfrom/to jboss-public-repository-group    \n(https://repository.jboss.org/nexus/content/groups/public/): \nIllegal character in path at index 94: \nhttps://repository.jboss.org/nexus/content/groups/public/org/jboss/spec/jboss-javaee-web-6.0/    \n${javaee6.web.spec.version}/jboss-javaee-web-6.0-${javaee6.web.spec.version}.pom    \n</code></pre>\n\n<p>No sure why I got different error each time, I use eclipse indigo new version 64big downloaded here:<a href=\"https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2\" rel=\"nofollow\">https://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/indigosr2</a>\nand add jboss tools from Marketplace, with Jboss server and Seam famework. Based on the error, do I have install any plugins? it is so confusing, because I got different error each time. </p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692503701,"post_id":76937797,"comment_id":135631249,"body_markdown":"Are you referring to this [ListUtils](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html) (which is part of [Collections](https://commons.apache.org/proper/commons-collections/) subproject of Apache Commons)?","body":"Are you referring to this <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html\" rel=\"nofollow noreferrer\">ListUtils</a> (which is part of <a href=\"https://commons.apache.org/proper/commons-collections/\" rel=\"nofollow noreferrer\">Collections</a> subproject of Apache Commons)?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692503925,"post_id":76937797,"comment_id":135631262,"body_markdown":"If you are using ListUtils from Apache commons, then the inner lists are just *views*  over the underlying list and not copies of the elements.","body":"If you are using ListUtils from Apache commons, then the inner lists are just <i>views</i>  over the underlying list and not copies of the elements."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692504689,"post_id":76937797,"comment_id":135631303,"body_markdown":"Btw is `gridSize` supposed to denote the number of elements in a partition? Currently, the way you derive the `size` parameter (second argument to the `partition` method), the partition size is always 6 (`gridSize` value). Is this the intention?","body":"Btw is <code>gridSize</code> supposed to denote the number of elements in a partition? Currently, the way you derive the <code>size</code> parameter (second argument to the <code>partition</code> method), the partition size is always 6 (<code>gridSize</code> value). Is this the intention?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1692509266,"post_id":76937797,"comment_id":135631577,"body_markdown":"I think you need to explain what you are trying to do, and what the DB operation is.","body":"I think you need to explain what you are trying to do, and what the DB operation is."}],"answers":[{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692505747,"creation_date":1692504947,"answer_id":76937925,"question_id":76937797,"body_markdown":"I think that maximum performance that you are able to get is `O(n)`.\r\n\r\nE.g. in case you have a `List&lt;Long&gt;` with 1M elements (whatever this is not a big data):\r\n```java\r\n@Getter\r\n@RequiredArgConstructor\r\npublic final class LongSummaryStatistics {\r\n    private final long min;\r\n    private final long max;\r\n}\r\n\r\npublic static LongSummaryStatistics calcMinMax(List&lt;Long&gt; ids) {\r\n    long min = Long.MAX_VALUE;\r\n    long max = Long.MIN_VALUE;\r\n\r\n    for (long id : ids) {\r\n        min = Math.min(min, id);\r\n        max = Math.max(max, id);\r\n    }\r\n\r\n    return new Data(min, max);\r\n}\r\n```\r\n\r\nDefinitely you do not need to use stream to do this. This is pretty simple and native.\r\n\r\nThen you are partitioning the list.\r\n```java\r\nList&lt;List&lt;Long&gt;&gt; pIds = List.of(List.of(1L,2L,3L,4L,5L),\r\n                                List.of(6L,7L,8L,9L,10L));\r\n```\r\n\r\nThe performance will not change - `O(n)`. Indeed, you do not need create a new list or modify it to calculate `min`, `max`.\r\n```java\r\nList&lt;LongSummaryStatistics&gt; data = pIds.stream()\r\n                                       .map(ids -&gt; calcMinMax(ids))\r\n                                       .collect(Collector.toList());\r\n```\r\n\r\nAnd finally. In case you just partition the list by the section and not mix the original order, e.g. `[1,2,3,4,5,6,7,8,9] -&gt; [[1,2,3,4,5,6], [7,8,9]]` for `gridSize = 6`, then you even do not need to make a partitions, because you can calculate the result on the fly; \r\n```java\r\nList&lt;Long&gt; ids = List.of(1L,2L,3L,4L,5L,6L,7L,8L,9L);\r\nint gridSize = 6;\r\nList&lt;LongSummaryStatistics&gt; data = calcMinMax(ids, gridSize); // [[1,6], [7,9]]\r\n\r\n\r\n\r\npublic static List&lt;LongSummaryStatistics&gt; calcMinMax(List&lt;Long&gt; ids,\r\n                                                     int gridSize) {\r\n    List&lt;LongSummaryStatistics&gt; data = new LinkedList&lt;&gt;();\r\n    int i = 0;\r\n    long min = Long.MAX_VALUE;\r\n    long max = Long.MIN_VALUE;\r\n\r\n    for (long id : ids) {\r\n        min = Math.min(min, id);\r\n        max = Math.max(max, id);\r\n\r\n        i++;\r\n\r\n        if (i % gridSize == 0 || i == ids.size()) {\r\n            data.add(new LongSummaryStatistics(min, max));\r\n            min = Long.MAX_VALUE;\r\n            max = Long.MIN_VALUE;\r\n        }\r\n    }\r\n\r\n    return data;\r\n}\r\n\r\n```\r\n\r\nSo you have `O(n)` time performance and `O(1)` memory performance. Which is pretty good.","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>I think that maximum performance that you are able to get is <code>O(n)</code>.</p>\n<p>E.g. in case you have a <code>List&lt;Long&gt;</code> with 1M elements (whatever this is not a big data):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@RequiredArgConstructor\npublic final class LongSummaryStatistics {\n    private final long min;\n    private final long max;\n}\n\npublic static LongSummaryStatistics calcMinMax(List&lt;Long&gt; ids) {\n    long min = Long.MAX_VALUE;\n    long max = Long.MIN_VALUE;\n\n    for (long id : ids) {\n        min = Math.min(min, id);\n        max = Math.max(max, id);\n    }\n\n    return new Data(min, max);\n}\n</code></pre>\n<p>Definitely you do not need to use stream to do this. This is pretty simple and native.</p>\n<p>Then you are partitioning the list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;Long&gt;&gt; pIds = List.of(List.of(1L,2L,3L,4L,5L),\n                                List.of(6L,7L,8L,9L,10L));\n</code></pre>\n<p>The performance will not change - <code>O(n)</code>. Indeed, you do not need create a new list or modify it to calculate <code>min</code>, <code>max</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;LongSummaryStatistics&gt; data = pIds.stream()\n                                       .map(ids -&gt; calcMinMax(ids))\n                                       .collect(Collector.toList());\n</code></pre>\n<p>And finally. In case you just partition the list by the section and not mix the original order, e.g. <code>[1,2,3,4,5,6,7,8,9] -&gt; [[1,2,3,4,5,6], [7,8,9]]</code> for <code>gridSize = 6</code>, then you even do not need to make a partitions, because you can calculate the result on the fly;</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = List.of(1L,2L,3L,4L,5L,6L,7L,8L,9L);\nint gridSize = 6;\nList&lt;LongSummaryStatistics&gt; data = calcMinMax(ids, gridSize); // [[1,6], [7,9]]\n\n\n\npublic static List&lt;LongSummaryStatistics&gt; calcMinMax(List&lt;Long&gt; ids,\n                                                     int gridSize) {\n    List&lt;LongSummaryStatistics&gt; data = new LinkedList&lt;&gt;();\n    int i = 0;\n    long min = Long.MAX_VALUE;\n    long max = Long.MIN_VALUE;\n\n    for (long id : ids) {\n        min = Math.min(min, id);\n        max = Math.max(max, id);\n\n        i++;\n\n        if (i % gridSize == 0 || i == ids.size()) {\n            data.add(new LongSummaryStatistics(min, max));\n            min = Long.MAX_VALUE;\n            max = Long.MIN_VALUE;\n        }\n    }\n\n    return data;\n}\n\n</code></pre>\n<p>So you have <code>O(n)</code> time performance and <code>O(1)</code> memory performance. Which is pretty good.</p>\n"},{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692505173,"creation_date":1692505173,"answer_id":76937931,"question_id":76937797,"body_markdown":"Another approach using java 8 only way could be as below.The essential part is you just need to use `SummaryStatistics` collector before actually realizing `ListCollector`.\r\nFor ways of partionioning you can have a look at this [answer](https://stackoverflow.com/questions/30995763/java-8-partition-list)\r\n```int gridSize = 6;\r\n        List&lt;Long&gt; idList = findAllIds();\r\n        // List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\r\n        final AtomicInteger counter = new AtomicInteger();\r\n            idList.stream()\r\n                .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / gridSize, Collectors.summarizingLong(e -&gt; e)))\r\n                .forEach((k,v)-&gt;repo.callToDb(v.getMin(), v.getMax()));\r\n```","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>Another approach using java 8 only way could be as below.The essential part is you just need to use <code>SummaryStatistics</code> collector before actually realizing <code>ListCollector</code>.\nFor ways of partionioning you can have a look at this <a href=\"https://stackoverflow.com/questions/30995763/java-8-partition-list\">answer</a></p>\n<pre><code>        List&lt;Long&gt; idList = findAllIds();\n        // List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\n        final AtomicInteger counter = new AtomicInteger();\n            idList.stream()\n                .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / gridSize, Collectors.summarizingLong(e -&gt; e)))\n                .forEach((k,v)-&gt;repo.callToDb(v.getMin(), v.getMax()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1692509545,"post_id":76937946,"comment_id":135631595,"body_markdown":"Thank you for the response. If you don&#39;t mind, can you explain how we can determine the partition size based on the number of elements in the list?","body":"Thank you for the response. If you don&#39;t mind, can you explain how we can determine the partition size based on the number of elements in the list?"},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692510868,"post_id":76937946,"comment_id":135631671,"body_markdown":"@Vamsi What is your requirement? Fix the number of partitions or number of elements in a partition?","body":"@Vamsi What is your requirement? Fix the number of partitions or number of elements in a partition?"},{"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"score":0,"creation_date":1692511098,"post_id":76937946,"comment_id":135631686,"body_markdown":"it&#39;s to have a fixed number of partitions. but I got curious to know how we can have a dynamic number of partitions based on list size after reading your response.","body":"it&#39;s to have a fixed number of partitions. but I got curious to know how we can have a dynamic number of partitions based on list size after reading your response."},{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1692513285,"post_id":76937946,"comment_id":135631833,"body_markdown":"If you fix the number of elements in a partition (say `size`), then the `numOfPartition` would be `(int) Math.ceil(idList.size() / (double) size);` i.e., `&lt;size of list&gt; / &lt;partition size&gt;` but the last partition could be smaller when not equally divisible.","body":"If you fix the number of elements in a partition (say <code>size</code>), then the <code>numOfPartition</code> would be <code>(int) Math.ceil(idList.size() &#47; (double) size);</code> i.e., <code>&lt;size of list&gt; &#47; &lt;partition size&gt;</code> but the last partition could be smaller when not equally divisible."}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692506242,"creation_date":1692505643,"answer_id":76937946,"question_id":76937797,"body_markdown":"Assuming you are using Apache Commons Collections&#39; [ListUtils#partition](https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-) method... the returned nested list elements are *views* of the original list (as it uses `List.subList`) and doesn&#39;t create copies of the list elements.\r\n\r\nIf you still want a simpler approach (without creating new (Sub)List instances), you can mimic what `ListUtils#partition` does and use an imperative approach to find the min and max as follows.\r\n\r\nBut before that, a word on your approach...\r\n\r\nUsually we determine the number of elements in a partition (called the partition `size`) and then compute the number of partitions based on the size of the list. But in your code, the way you derive the value of `size` argument passed to the `ListUtils#partition` method, it looks like you have decided the number of partitions (= `gridSize` which is 3) and computing the number of elements in a partition. In the below answer, I&#39;m sticking with the same approach as yours.\r\n\r\nHere we have a helper function to find the min and max values within a range `(start, end]` of a list.\r\n\r\n```\r\n //You can replace this with a class for JDK version &lt; 16\r\nrecord MinMax(Long min, Long max) {\r\n\r\n}\r\n\r\nprivate static MinMax findMinAndMaxForRange(List&lt;Long&gt; list, int start, int end) {\r\n    if (list.isEmpty() || start &lt; 0 || start &gt; end || end &gt; list.size()) {\r\n        throw new IllegalArgumentException();\r\n    }\r\n    Long min = list.get(start);\r\n    Long max = list.get(start);\r\n    for (int i = start + 1; i &lt; end; i++) {\r\n        Long element = list.get(i);\r\n        if (min &gt; element) {\r\n            min = element;\r\n        }\r\n        if (max &lt; element) {\r\n            max = element;\r\n        }\r\n    }\r\n    return new MinMax(min, max);\r\n}\r\n\r\n```\r\nHere, we have an IntStream range from `(0, numOfPartition]`, and find the *start* and *end* range values for each partition and call the above helper function. The minMax values for each partition is then updated in the DB.\r\n\r\n```\r\nint gridSize = 3;\r\nint size = (idList.size() + gridSize - 1) / gridSize;\r\nint numOfPartition = (int) Math.ceil(idList.size() / (double) size);\r\n\r\n\r\nIntStream.range(0, numOfPartition)\r\n        .mapToObj(index -&gt; findMinAndMaxForRange(idList,\r\n                index * size,\r\n                Math.min((index * size) + size, idList.size())))\r\n        .forEach(minMax -&gt; repo.callToDb(minMax.min(), minMax.max()));\r\n\r\n```\r\n","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>Assuming you are using Apache Commons Collections' <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/ListUtils.html#partition-java.util.List-int-\" rel=\"nofollow noreferrer\">ListUtils#partition</a> method... the returned nested list elements are <em>views</em> of the original list (as it uses <code>List.subList</code>) and doesn't create copies of the list elements.</p>\n<p>If you still want a simpler approach (without creating new (Sub)List instances), you can mimic what <code>ListUtils#partition</code> does and use an imperative approach to find the min and max as follows.</p>\n<p>But before that, a word on your approach...</p>\n<p>Usually we determine the number of elements in a partition (called the partition <code>size</code>) and then compute the number of partitions based on the size of the list. But in your code, the way you derive the value of <code>size</code> argument passed to the <code>ListUtils#partition</code> method, it looks like you have decided the number of partitions (= <code>gridSize</code> which is 3) and computing the number of elements in a partition. In the below answer, I'm sticking with the same approach as yours.</p>\n<p>Here we have a helper function to find the min and max values within a range <code>(start, end]</code> of a list.</p>\n<pre><code> //You can replace this with a class for JDK version &lt; 16\nrecord MinMax(Long min, Long max) {\n\n}\n\nprivate static MinMax findMinAndMaxForRange(List&lt;Long&gt; list, int start, int end) {\n    if (list.isEmpty() || start &lt; 0 || start &gt; end || end &gt; list.size()) {\n        throw new IllegalArgumentException();\n    }\n    Long min = list.get(start);\n    Long max = list.get(start);\n    for (int i = start + 1; i &lt; end; i++) {\n        Long element = list.get(i);\n        if (min &gt; element) {\n            min = element;\n        }\n        if (max &lt; element) {\n            max = element;\n        }\n    }\n    return new MinMax(min, max);\n}\n\n</code></pre>\n<p>Here, we have an IntStream range from <code>(0, numOfPartition]</code>, and find the <em>start</em> and <em>end</em> range values for each partition and call the above helper function. The minMax values for each partition is then updated in the DB.</p>\n<pre><code>int gridSize = 3;\nint size = (idList.size() + gridSize - 1) / gridSize;\nint numOfPartition = (int) Math.ceil(idList.size() / (double) size);\n\n\nIntStream.range(0, numOfPartition)\n        .mapToObj(index -&gt; findMinAndMaxForRange(idList,\n                index * size,\n                Math.min((index * size) + size, idList.size())))\n        .forEach(minMax -&gt; repo.callToDb(minMax.min(), minMax.max()));\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1692507559,"creation_date":1692505675,"answer_id":76937948,"question_id":76937797,"body_markdown":"It is easy to prove that the problem is O(N).  Every one of the N elements in the initial list could be either the minimum or maximum.  So every one of them needs to be tested.\r\n\r\nTherefore, for a single-threaded algorithm there is no performance benefit in partitioning the list ... compared to scanning the entire list in a single pass.  If you have the original list in memory, partitioning it and scanning the partitions does not improve anything.\r\n\r\nIf you are going to use multiple threads, then partitioning the list and scanning each partition with a different thread is potentially beneficial.  (You need to be able to create the partitions without copying the list.  That can be done efficiently using `sublist(...)` ... at least with an `ArrayList`.)  \r\n\r\nIf you are going to use streams, you don&#39;t need to do the partitioning yourself.  A simpler way is to use `parallel()` and leave it to the stream infrastructure to do the partitioning ... which the spliterator can do *without* creating new lists for the partitions.\r\n\r\nThere isn&#39;t an explicit statement in the javadocs that the summarizing collectors will operate in parallel on a `parallel()` stream.  However the [javadoc][1] for `LongSummaryStatistics` says:\r\n\r\n&gt; *&quot;This implementation is not thread safe. However, it is safe to use `Collectors.summarizingLong()` on a parallel stream, because the parallel implementation of Stream.collect() provides the necessary partitioning, isolation, and merging of results **for safe and efficient parallel execution**.&quot;*\r\n\r\nIn short:\r\n\r\n    List&lt;Long&gt; ids = findAllIds();\r\n    LongSummaryStatistics idStats = ids.stream()\r\n            .parallel()\r\n            .collect(Collectors.summarizingLong(e -&gt; e));\r\n    repo.callToDb(idStats.getMin(), idStats.getMax());\r\n\r\n(There is no need to use atomic types to do this because of the guarantees provided by the javadocs.)\r\n\r\n---------------------\r\n\r\nOn the other hand, if the real purpose of the partitioning is to partition the database queries, then your best bet would be to partition using `sublist(...)` and then submit tasks to an `ExecutorService` that will scan each partition and then do the DB query.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LongSummaryStatistics.html\r\n","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>It is easy to prove that the problem is O(N).  Every one of the N elements in the initial list could be either the minimum or maximum.  So every one of them needs to be tested.</p>\n<p>Therefore, for a single-threaded algorithm there is no performance benefit in partitioning the list ... compared to scanning the entire list in a single pass.  If you have the original list in memory, partitioning it and scanning the partitions does not improve anything.</p>\n<p>If you are going to use multiple threads, then partitioning the list and scanning each partition with a different thread is potentially beneficial.  (You need to be able to create the partitions without copying the list.  That can be done efficiently using <code>sublist(...)</code> ... at least with an <code>ArrayList</code>.)</p>\n<p>If you are going to use streams, you don't need to do the partitioning yourself.  A simpler way is to use <code>parallel()</code> and leave it to the stream infrastructure to do the partitioning ... which the spliterator can do <em>without</em> creating new lists for the partitions.</p>\n<p>There isn't an explicit statement in the javadocs that the summarizing collectors will operate in parallel on a <code>parallel()</code> stream.  However the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/LongSummaryStatistics.html\" rel=\"nofollow noreferrer\">javadoc</a> for <code>LongSummaryStatistics</code> says:</p>\n<blockquote>\n<p><em>&quot;This implementation is not thread safe. However, it is safe to use <code>Collectors.summarizingLong()</code> on a parallel stream, because the parallel implementation of Stream.collect() provides the necessary partitioning, isolation, and merging of results <strong>for safe and efficient parallel execution</strong>.&quot;</em></p>\n</blockquote>\n<p>In short:</p>\n<pre><code>List&lt;Long&gt; ids = findAllIds();\nLongSummaryStatistics idStats = ids.stream()\n        .parallel()\n        .collect(Collectors.summarizingLong(e -&gt; e));\nrepo.callToDb(idStats.getMin(), idStats.getMax());\n</code></pre>\n<p>(There is no need to use atomic types to do this because of the guarantees provided by the javadocs.)</p>\n<hr />\n<p>On the other hand, if the real purpose of the partitioning is to partition the database queries, then your best bet would be to partition using <code>sublist(...)</code> and then submit tasks to an <code>ExecutorService</code> that will scan each partition and then do the DB query.</p>\n"}],"owner":{"account_id":1894123,"reputation":619,"user_id":1711465,"accept_rate":40,"display_name":"Vamsi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1692507559,"creation_date":1692500125,"question_id":76937797,"body_markdown":"I have a `List&lt;Long&gt;` elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.&lt;br&gt;\r\nI am currently doing this in the following way:&lt;br&gt;\r\n\r\n    int gridSize = 6;\r\n    List&lt;Long&gt; idList = findAllIds();\r\n    List&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\r\n    for(List&lt;Long&gt; ids : partitionedList) {\r\n        LongSummaryStatistics idStats = ids.stream().collect(Collectors.summarizingLong(e -&gt; e));\r\n        repo.callToDb(idStats.getMin(), idStats.getMax());\r\n    }\r\n\r\nThe above code works fine. But I am unnecessarily collecting all the keys to a list and then partition and save them (which saves them to a different list) and then looping through them to get the idStats.\r\n\r\nIs there a more efficient way to do this instead of creating these many lists and consuming so much of memory?","title":"Efficient way of finding min and max of a list by partitioning","body":"<p>I have a <code>List&lt;Long&gt;</code> elements. The list is huge. The list size would be around 1M records. I am trying to partition the list to get the min and max for each partition, which I will be passing them to the DB queries.<br>\nI am currently doing this in the following way:<br></p>\n<pre><code>int gridSize = 6;\nList&lt;Long&gt; idList = findAllIds();\nList&lt;List&lt;Long&gt;&gt; partitionedList = ListUtils.partition(idList, (idList.size() + gridSize - 1) / gridSize);\nfor(List&lt;Long&gt; ids : partitionedList) {\n    LongSummaryStatistics idStats = ids.stream().collect(Collectors.summarizingLong(e -&gt; e));\n    repo.callToDb(idStats.getMin(), idStats.getMax());\n}\n</code></pre>\n<p>The above code works fine. But I am unnecessarily collecting all the keys to a list and then partition and save them (which saves them to a different list) and then looping through them to get the idStats.</p>\n<p>Is there a more efficient way to do this instead of creating these many lists and consuming so much of memory?</p>\n"},{"tags":["java","spring-boot","visual-studio-code"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1691568442,"post_id":76862494,"comment_id":135507725,"body_markdown":"Can you elaborate on what you did and what didn&#39;t work as expected?","body":"Can you elaborate on what you did and what didn&#39;t work as expected?"}],"owner":{"account_id":28867937,"reputation":1,"user_id":22110246,"display_name":"Aryan Golbaghi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692507538,"creation_date":1691521216,"question_id":76862494,"body_markdown":"This is my code and I&#39;m trying to override the `handleMethodArgumentNotValid` method. However, VSCode doesn&#39;t let me override the method\r\n\r\n[![The class that I am trying to override the function][1]][1]\r\n\r\n```java\r\n@ControllerAdvice\r\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\r\n\r\n\t@ExceptionHandler(ContactNotFoundException.class)\r\n\tpublic ResponseEntity&lt;Object&gt; handleContactNotFoundException(ContactNotFoundException ex) {\r\n\t\tErrorResponse error = new ErrorResponse(ex.getLocalizedMessage());\r\n\t\treturn new ResponseEntity&lt;&gt;(error, HttpStatus.NOT_FOUND);\r\n\t}\r\n}\r\n```\r\n\r\nEven if I write the whole function myself (with the same parameter and signature), it still doesn&#39;t work. I don&#39;t get any error, it just doesn&#39;t let me override it.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GdJFE.png","title":"I can&#39;t override the &quot;handleMethodArgumentNotValid&quot; from the &quot;ResponseEntityExceptionHandler&quot; class","body":"<p>This is my code and I'm trying to override the <code>handleMethodArgumentNotValid</code> method. However, VSCode doesn't let me override the method</p>\n<p><a href=\"https://i.stack.imgur.com/GdJFE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GdJFE.png\" alt=\"The class that I am trying to override the function\" /></a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@ControllerAdvice\npublic class ApplicationExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ContactNotFoundException.class)\n    public ResponseEntity&lt;Object&gt; handleContactNotFoundException(ContactNotFoundException ex) {\n        ErrorResponse error = new ErrorResponse(ex.getLocalizedMessage());\n        return new ResponseEntity&lt;&gt;(error, HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n<p>Even if I write the whole function myself (with the same parameter and signature), it still doesn't work. I don't get any error, it just doesn't let me override it.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":184203,"reputation":3430,"user_id":420096,"accept_rate":71,"display_name":"Sombriks"},"score":0,"creation_date":1692496179,"post_id":76937676,"comment_id":135630862,"body_markdown":"can you provide a small sample project/git repo? it could help to cplarify your need.","body":"can you provide a small sample project/git repo? it could help to cplarify your need."}],"answers":[{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692502624,"creation_date":1692502210,"answer_id":76937858,"question_id":76937676,"body_markdown":"Along with the parent record, you can capture the child records as well that is returned by the query. You can map the query results to the DTO.\r\n\r\n1. Define a DTO:\r\n  \r\n       @Getter\r\n       @Setter\r\n       @NoArgsConstructor\r\n       @AllArgsConstructor\r\n       public class ResultDto implements Serializable {\r\n          private Parent p;\r\n          private Child1 ch1;\r\n          private Child2 ch2;\r\n       }\r\n\r\n\r\n  2. Query and map the results to dto.\r\n\r\n         @Query(&quot;SELECT new com.jpatest.jpaexploration.dto.ResultDto(p, ch1, ch2) FROM parent p join Child1 ch1 on ... join Child2 ch2 on ... where ch1.another_parent_id = ... or ch2.another_parent_id = ...&quot;)\r\n         List&lt;ResultDto&gt; getResults();\r\n\r\nThis list of dto will contain only children that were returned by the query.\r\n","title":"Spring boot Jpa filter children","body":"<p>Along with the parent record, you can capture the child records as well that is returned by the query. You can map the query results to the DTO.</p>\n<ol>\n<li><p>Define a DTO:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ResultDto implements Serializable {\n   private Parent p;\n   private Child1 ch1;\n   private Child2 ch2;\n}\n</code></pre>\n</li>\n<li><p>Query and map the results to dto.</p>\n<pre><code>@Query(&quot;SELECT new com.jpatest.jpaexploration.dto.ResultDto(p, ch1, ch2) FROM parent p join Child1 ch1 on ... join Child2 ch2 on ... where ch1.another_parent_id = ... or ch2.another_parent_id = ...&quot;)\nList&lt;ResultDto&gt; getResults();\n</code></pre>\n</li>\n</ol>\n<p>This list of dto will contain only children that were returned by the query.</p>\n"}],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1692502624,"creation_date":1692495955,"question_id":76937676,"body_markdown":"I am using spring boot JPA specification for filtering records according to the filter criteria. I have a Parent and 2 child tables. These two child tables has another common parent2. I need to retrieve Parent record along with child records that matches the common parent2 id.\r\n\r\nselect * from parent \r\njoin child1 on ...\r\njoin child2 on ...\r\nwhere child1.another_parent_id = ... or\r\nchild2.another_parent_id = ...\r\n\r\nProblem here is it retrieves parent record and if I do parent.getChild1 or parent.getChild2 it returns all the records of child1 and child2, not just the matching records of another_parent_id. \r\n\r\nIs it possible to achieve this with spring boot jpa specification ?\r\n\r\nOne way that I have is to have separate repository for child1 and child2 and filter the results and combine and get the results. Here I need to hit 2 queries and also if both the results of child1 and child2 returns same parent then, I need to filter the unique records.\r\n\r\nThanks in advance.","title":"Spring boot Jpa filter children","body":"<p>I am using spring boot JPA specification for filtering records according to the filter criteria. I have a Parent and 2 child tables. These two child tables has another common parent2. I need to retrieve Parent record along with child records that matches the common parent2 id.</p>\n<p>select * from parent\njoin child1 on ...\njoin child2 on ...\nwhere child1.another_parent_id = ... or\nchild2.another_parent_id = ...</p>\n<p>Problem here is it retrieves parent record and if I do parent.getChild1 or parent.getChild2 it returns all the records of child1 and child2, not just the matching records of another_parent_id.</p>\n<p>Is it possible to achieve this with spring boot jpa specification ?</p>\n<p>One way that I have is to have separate repository for child1 and child2 and filter the results and combine and get the results. Here I need to hit 2 queries and also if both the results of child1 and child2 returns same parent then, I need to filter the unique records.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","if-statement","random"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1692428537,"post_id":76933917,"comment_id":135624455,"body_markdown":"&quot;Here is my code. It works for its current purpose&quot; - no, it really doesn&#39;t. It won&#39;t compile for various reasons, and you really need to read https://stackoverflow.com/questions/513832. It&#39;s not clear to me why you&#39;re trying to redeclare local variables which are already in scope, but you can&#39;t do that... and I&#39;d *very strongly* advise you to use consistent formatting which will make the structure of the code much clearer.","body":"&quot;Here is my code. It works for its current purpose&quot; - no, it really doesn&#39;t. It won&#39;t compile for various reasons, and you really need to read <a href=\"https://stackoverflow.com/questions/513832\">stackoverflow.com/questions/513832</a>. It&#39;s not clear to me why you&#39;re trying to redeclare local variables which are already in scope, but you can&#39;t do that... and I&#39;d <i>very strongly</i> advise you to use consistent formatting which will make the structure of the code much clearer."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1692434633,"post_id":76933917,"comment_id":135624940,"body_markdown":"[The Java Tutorials](https://docs.oracle.com/javase/tutorial/)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">The Java Tutorials</a>"},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692452659,"post_id":76933917,"comment_id":135626768,"body_markdown":"Yes, it does compile. It compiles without a problem and outputs a random letter. The code works; I just can&#39;t get it to work *in this specific context*.","body":"Yes, it does compile. It compiles without a problem and outputs a random letter. The code works; I just can&#39;t get it to work <i>in this specific context</i>."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1692484549,"post_id":76933917,"comment_id":135630123,"body_markdown":"What is the overall purpose of this code? There may be a better way to accomplish it.","body":"What is the overall purpose of this code? There may be a better way to accomplish it."},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692500146,"post_id":76933917,"comment_id":135631027,"body_markdown":"There probably is, but everyone has decided to be unhelpful and condescending instead of providing that information. The purpose of the code is to pick ideas and then pick more  specific ideas based on those. So it&#39;ll draw one, then based on that one it&#39;ll draw another, more specific one, and so on.","body":"There probably is, but everyone has decided to be unhelpful and condescending instead of providing that information. The purpose of the code is to pick ideas and then pick more  specific ideas based on those. So it&#39;ll draw one, then based on that one it&#39;ll draw another, more specific one, and so on."},{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1692502051,"post_id":76933917,"comment_id":135631132,"body_markdown":"I recommend that you learn about methods. When you have an &quot;and then...&quot; this almost always means you can implement what came before as one method and what comes next as another method.","body":"I recommend that you learn about methods. When you have an &quot;and then...&quot; this almost always means you can implement what came before as one method and what comes next as another method."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692515001,"post_id":76933917,"comment_id":135631937,"body_markdown":"&quot;*compile without errors*&quot; ?!? `if (nesting = &quot;A&quot;)` should never compile in Java; neither the re-declaration of `generate` - if &quot;*everyone has decided to be unhelpful*&quot; maybe the problem is that you have not posted the correct code. (if every car is driving on the wrong side of the road, I would ask myself, if I am the one on the wrong side...) This was already given in first comment, but seems like you did not interpret it as help, but only as confrontation :-(","body":"&quot;<i>compile without errors</i>&quot; ?!? <code>if (nesting = &quot;A&quot;)</code> should never compile in Java; neither the re-declaration of <code>generate</code> - if &quot;<i>everyone has decided to be unhelpful</i>&quot; maybe the problem is that you have not posted the correct code. (if every car is driving on the wrong side of the road, I would ask myself, if I am the one on the wrong side...) This was already given in first comment, but seems like you did not interpret it as help, but only as confrontation :-("},{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692557292,"post_id":76933917,"comment_id":135636433,"body_markdown":"The code is correct. So was my response. The code was compiling without issues, so everyone had decided to focus on an issue that wasn&#39;t an issue. Instead of providing solutions or asking for context, they assumed that they were right and made a bunch of determinations from there. The code *did* compile; the one person who actually answered the question *did* provide a useful, if needlessly sarcastic and demeaning, answer. And someone else, on a different question, took the time to help me condense the code into 12 lines.","body":"The code is correct. So was my response. The code was compiling without issues, so everyone had decided to focus on an issue that wasn&#39;t an issue. Instead of providing solutions or asking for context, they assumed that they were right and made a bunch of determinations from there. The code <i>did</i> compile; the one person who actually answered the question <i>did</i> provide a useful, if needlessly sarcastic and demeaning, answer. And someone else, on a different question, took the time to help me condense the code into 12 lines."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692561452,"post_id":76933917,"comment_id":135636783,"body_markdown":"6 compile errors: https://ideone.com/7Qnmrf ([screenshot](https://i.stack.imgur.com/5RQwb.png))","body":"6 compile errors: <a href=\"https://ideone.com/7Qnmrf\" rel=\"nofollow noreferrer\">ideone.com/7Qnmrf</a> (<a href=\"https://i.stack.imgur.com/5RQwb.png\" rel=\"nofollow noreferrer\">screenshot</a>)"}],"answers":[{"comments":[{"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"score":1,"creation_date":1692502478,"post_id":76933939,"comment_id":135631161,"body_markdown":"Unfortunately, your &quot;A&quot;.equals(nesting) advice was useful, so I have to let the unnecessary and utterly useless- not to mention badly misaimed- sarcasm slide. I&#39;ve been doing Java coding for 6 years now. I usually code mini-bots to press buttons for me repetitively or to parse for keywords, things like that.  I rarely use it for anything more complex, although in my first Java class we were taught to use Java to generate a snowman and to pull up an Internet link.","body":"Unfortunately, your &quot;A&quot;.equals(nesting) advice was useful, so I have to let the unnecessary and utterly useless- not to mention badly misaimed- sarcasm slide. I&#39;ve been doing Java coding for 6 years now. I usually code mini-bots to press buttons for me repetitively or to parse for keywords, things like that.  I rarely use it for anything more complex, although in my first Java class we were taught to use Java to generate a snowman and to pull up an Internet link."}],"tags":[],"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692429233,"creation_date":1692428517,"answer_id":76933939,"question_id":76933917,"body_markdown":"You better should start with some Java lessons:\r\n\r\n* The =-operator in any case will assign the right value to the variable on the left side.\r\n* For comparison of two primitive types (int, double) you have to use the ==-operator. But since string are objects you&#39;ll have to use the equals-method: `&quot;A&quot;.equals(nesting)`.","title":"How to nest if/then/else statements into random list outputs?","body":"<p>You better should start with some Java lessons:</p>\n<ul>\n<li>The =-operator in any case will assign the right value to the variable on the left side.</li>\n<li>For comparison of two primitive types (int, double) you have to use the ==-operator. But since string are objects you'll have to use the equals-method: <code>&quot;A&quot;.equals(nesting)</code>.</li>\n</ul>\n"}],"owner":{"account_id":13634439,"reputation":27,"user_id":9835823,"display_name":"Richey Baumann"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76933939,"answer_count":1,"score":0,"last_activity_date":1692502389,"creation_date":1692427821,"question_id":76933917,"body_markdown":"I&#39;m trying to create a system that picks randomly from a list, and then, depending on which string it picked, picks another random string from a separate group, and then another one from there. \r\n\r\nBasically, I&#39;m trying to give it a bunch of paths and then, depending on what choice it makes, narrow the subsequent paths down two more times.\r\n\r\nI&#39;ve got the random code going, but I can&#39;t get it to accept if/then/else statements.\r\n\r\nHere is my code. It works for its current purpose, which is generating one of those 4 letters randomly. But because it doesn&#39;t call a variable, it won&#39;t accept if/then/else statements. If I try to make a variable, it complains about being unable to convert the variable to Boolean, but if I define it as Boolean the entire code breaks. \r\n```java\r\npackage randomlist;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Random;\r\n\r\npublic class Randomlist {\r\n\r\n    public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n\r\n        Random generate = new Random();\r\n        String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\r\n        System.out.println(name[generate.nextInt(4)]);\r\n        String nesting = (name[generate.nextInt(4)]);\r\n        if (nesting = &quot;A&quot;) {\r\n            Random generate = new Random();\r\n            String[] name = {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;};\r\n        }\r\n        else if (nesting = &quot;B&quot;) {\r\n            Random generate = new Random();\r\n            String[] name = {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;};\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEDIT: Seems nobody is able to be helpful without also being needlessly sarcastic and demeaning. Apparently, it&#39;s not okay for people to learn how to do things and everyone is expected to be an expert from the beginning. (Also, if the code compiles, it works. It might not work *as intended*, but it works. I do not understand the point of arguing with someone about that. Do not tell me my code won&#39;t function when I have tested it and it does, in fact, compile without errors).\r\n\r\nFortunately, I solved my own problem, mostly out of spite. &lt;strike&gt; It requires new variables every time &lt;/strike&gt; and a lot of very short if statements, but it does what I need it to do.\r\n\r\nEdit #2: it turns out it&#39;s willing to reuse the same variables for each nested level, so while it won&#39;t let me reuse (name) for the lower level, I *can* use (name1) for each of the lower nests and (name2) for the third-order ones.","title":"How to nest if/then/else statements into random list outputs?","body":"<p>I'm trying to create a system that picks randomly from a list, and then, depending on which string it picked, picks another random string from a separate group, and then another one from there.</p>\n<p>Basically, I'm trying to give it a bunch of paths and then, depending on what choice it makes, narrow the subsequent paths down two more times.</p>\n<p>I've got the random code going, but I can't get it to accept if/then/else statements.</p>\n<p>Here is my code. It works for its current purpose, which is generating one of those 4 letters randomly. But because it doesn't call a variable, it won't accept if/then/else statements. If I try to make a variable, it complains about being unable to convert the variable to Boolean, but if I define it as Boolean the entire code breaks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package randomlist;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Random;\n\npublic class Randomlist {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        Random generate = new Random();\n        String[] name = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;};\n        System.out.println(name[generate.nextInt(4)]);\n        String nesting = (name[generate.nextInt(4)]);\n        if (nesting = &quot;A&quot;) {\n            Random generate = new Random();\n            String[] name = {&quot;E&quot;, &quot;F&quot;, &quot;G&quot;, &quot;H&quot;};\n        }\n        else if (nesting = &quot;B&quot;) {\n            Random generate = new Random();\n            String[] name = {&quot;I&quot;, &quot;J&quot;, &quot;K&quot;, &quot;L&quot;};\n        }\n    }\n}\n</code></pre>\n<p>EDIT: Seems nobody is able to be helpful without also being needlessly sarcastic and demeaning. Apparently, it's not okay for people to learn how to do things and everyone is expected to be an expert from the beginning. (Also, if the code compiles, it works. It might not work <em>as intended</em>, but it works. I do not understand the point of arguing with someone about that. Do not tell me my code won't function when I have tested it and it does, in fact, compile without errors).</p>\n<p>Fortunately, I solved my own problem, mostly out of spite. <strike> It requires new variables every time </strike> and a lot of very short if statements, but it does what I need it to do.</p>\n<p>Edit #2: it turns out it's willing to reuse the same variables for each nested level, so while it won't let me reuse (name) for the lower level, I <em>can</em> use (name1) for each of the lower nests and (name2) for the third-order ones.</p>\n"},{"tags":["java","selenium","google-chrome"],"answers":[{"tags":[],"owner":{"account_id":446378,"reputation":170,"user_id":839382,"display_name":"sarimarton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692501245,"creation_date":1692501245,"answer_id":76937830,"question_id":64733874,"body_markdown":"This bothered me as well. It seems like there&#39;s no such entry for it in the [Chrome Preferences JSON][1], I assume because it&#39;s a macOS-only feature. I&#39;ve resolved this by creating a [Karabiner Elements][2] config which selects the Quit menu item on Command-Q in Chrome. Here&#39;s the config in YAML:\r\n\r\n    - manipulators:\r\n      - from:\r\n          key_code: q\r\n          modifiers:\r\n            mandatory:\r\n              - command\r\n        to:\r\n          - shell_command: &gt;-\r\n              osascript\r\n              -e &#39;tell application &quot;Google Chrome for Testing&quot; to activate&#39;\r\n              -e &#39;tell application &quot;System Events&quot;&#39;\r\n              -e &#39;  tell process &quot;Google Chrome for Testing&quot;&#39;\r\n              -e &#39;    click menu item &quot;Quit Chromium&quot; of menu &quot;Google Chrome for Testing&quot; of menu bar 1&#39;\r\n              -e &#39;  end tell&#39;\r\n              -e &#39;end tell&#39;\r\n        conditions:\r\n          - type: frontmost_application_if\r\n            bundle_identifiers:\r\n              - chrome.for.testing\r\n        type: basic\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69301897/selenium-webdriver-start-chrome-with-devtools-open-to-console-panel\r\n  [2]: https://karabiner-elements.pqrs.org","title":"How to disable &quot;Warn before quitting&quot; in Chrome using Java/Selenium?","body":"<p>This bothered me as well. It seems like there's no such entry for it in the <a href=\"https://stackoverflow.com/questions/69301897/selenium-webdriver-start-chrome-with-devtools-open-to-console-panel\">Chrome Preferences JSON</a>, I assume because it's a macOS-only feature. I've resolved this by creating a <a href=\"https://karabiner-elements.pqrs.org\" rel=\"nofollow noreferrer\">Karabiner Elements</a> config which selects the Quit menu item on Command-Q in Chrome. Here's the config in YAML:</p>\n<pre><code>- manipulators:\n  - from:\n      key_code: q\n      modifiers:\n        mandatory:\n          - command\n    to:\n      - shell_command: &gt;-\n          osascript\n          -e 'tell application &quot;Google Chrome for Testing&quot; to activate'\n          -e 'tell application &quot;System Events&quot;'\n          -e '  tell process &quot;Google Chrome for Testing&quot;'\n          -e '    click menu item &quot;Quit Chromium&quot; of menu &quot;Google Chrome for Testing&quot; of menu bar 1'\n          -e '  end tell'\n          -e 'end tell'\n    conditions:\n      - type: frontmost_application_if\n        bundle_identifiers:\n          - chrome.for.testing\n    type: basic\n</code></pre>\n"}],"owner":{"account_id":1734548,"reputation":855,"user_id":1802826,"accept_rate":50,"display_name":"d-b"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692501245,"creation_date":1604796734,"question_id":64733874,"body_markdown":"When developing in Selenium you frequently open a new browser and if the test fails/doesn&#39;t tear down as it should you manually have to quit the browser. By default, Chrome doesn&#39;t quit immediately if you use the keyboard shortcut, instead you have to press and hold the keys for a while. This feature makes sense when the user is a human but as a Selenium developer it gets old very fast to wait for Chrome to quit when you want get back to your IDE as fast a possible.\r\n\r\n**Can this feature *Warn before quitting* in Chrome be disabled from Java/Selenium? Even programmatically sending a click to open a menu and disabling it that way is a valid solution.**","title":"How to disable &quot;Warn before quitting&quot; in Chrome using Java/Selenium?","body":"<p>When developing in Selenium you frequently open a new browser and if the test fails/doesn't tear down as it should you manually have to quit the browser. By default, Chrome doesn't quit immediately if you use the keyboard shortcut, instead you have to press and hold the keys for a while. This feature makes sense when the user is a human but as a Selenium developer it gets old very fast to wait for Chrome to quit when you want get back to your IDE as fast a possible.</p>\n<p><strong>Can this feature <em>Warn before quitting</em> in Chrome be disabled from Java/Selenium? Even programmatically sending a click to open a menu and disabling it that way is a valid solution.</strong></p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1665696075,"post_id":74061810,"comment_id":130765641,"body_markdown":"Do these libraries belong to the module where you see the problem? What&#39;s the scope of these dependencies? Can you browse the jar files to see the actual classes that can&#39;t be imported (possible jar corruption)? Does the project build outside of the IDE using `mvn clean package`? Does it help if you delete `.idea` directory and [perform the clean import](https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start)? Are there any errors in [idea.log](https://intellij-support.jetbrains.com/hc/en-us/articles/207241085) after importing the project?","body":"Do these libraries belong to the module where you see the problem? What&#39;s the scope of these dependencies? Can you browse the jar files to see the actual classes that can&#39;t be imported (possible jar corruption)? Does the project build outside of the IDE using <code>mvn clean package</code>? Does it help if you delete <code>.idea</code> directory and <a href=\"https://www.jetbrains.com/help/idea/maven-support.html#maven_import_project_start\" rel=\"nofollow noreferrer\">perform the clean import</a>? Are there any errors in <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a> after importing the project?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1665696079,"post_id":74061810,"comment_id":130765642,"body_markdown":"Does Build | Sync tool window report any problems? Make sure `.class`/`.jar` and other important extensions were not remapped, inspect `options/filetypes.xml` file under the configuration directory, [see this answer](https://stackoverflow.com/a/13374653/104891) for more details. Check that `.class`/`.jar` extensions are not ignored at File | Settings (Preferences on macOS) | Editor | File Types, [Ignore files and folders](https://i.imgur.com/gwoSwTT.png).","body":"Does Build | Sync tool window report any problems? Make sure <code>.class</code>/<code>.jar</code> and other important extensions were not remapped, inspect <code>options&#47;filetypes.xml</code> file under the configuration directory, <a href=\"https://stackoverflow.com/a/13374653/104891\">see this answer</a> for more details. Check that <code>.class</code>/<code>.jar</code> extensions are not ignored at File | Settings (Preferences on macOS) | Editor | File Types, <a href=\"https://i.imgur.com/gwoSwTT.png\" rel=\"nofollow noreferrer\">Ignore files and folders</a>."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666457168,"post_id":74061810,"comment_id":130943765,"body_markdown":"Comment out lines in build gradle/pom xml, rebuild project and remove comments, rebuild again. If it helps, please, let me know.","body":"Comment out lines in build gradle/pom xml, rebuild project and remove comments, rebuild again. If it helps, please, let me know."}],"answers":[{"tags":[],"owner":{"account_id":29259599,"reputation":1,"user_id":22416894,"display_name":"Ramchandra V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692497696,"creation_date":1692497650,"answer_id":76937726,"question_id":74061810,"body_markdown":"There is something called scope in pom.xml . By default the scope for the code we write in java files is considered as compile. Hence by modifying that scope in pom.xml dependencies are accessible now.\r\n[scope tag in pom][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aXq9O.png","title":"IntelliJ IDEA can&#39;t import packages that are present under External Libraries","body":"<p>There is something called scope in pom.xml . By default the scope for the code we write in java files is considered as compile. Hence by modifying that scope in pom.xml dependencies are accessible now.\n<a href=\"https://i.stack.imgur.com/aXq9O.png\" rel=\"nofollow noreferrer\">scope tag in pom</a></p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692497696,"creation_date":1665695235,"question_id":74061810,"body_markdown":"Trying to help my colleague set up and we&#39;re stumped why IntelliJ cannot find packages it clearly downloaded and sees (according to External Libraries).\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThings he&#39;s tried:\r\n\r\n - File &gt; Invalidate Caches &gt; Invalidate and Restart\r\n - Right click on root pom.xml &gt; Maven &gt; Reload project\r\n - mvn clean compile\r\n - mvn clean install\r\n - Switching Maven home path to bundled Maven (and back)\r\n - Reload All Maven Projects on Maven tab\r\n\r\nWhat else can we check or try?\r\n\r\n  [1]: https://i.stack.imgur.com/oDZer.png","title":"IntelliJ IDEA can&#39;t import packages that are present under External Libraries","body":"<p>Trying to help my colleague set up and we're stumped why IntelliJ cannot find packages it clearly downloaded and sees (according to External Libraries).</p>\n<p><a href=\"https://i.stack.imgur.com/oDZer.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oDZer.png\" alt=\"enter image description here\" /></a></p>\n<p>Things he's tried:</p>\n<ul>\n<li>File &gt; Invalidate Caches &gt; Invalidate and Restart</li>\n<li>Right click on root pom.xml &gt; Maven &gt; Reload project</li>\n<li>mvn clean compile</li>\n<li>mvn clean install</li>\n<li>Switching Maven home path to bundled Maven (and back)</li>\n<li>Reload All Maven Projects on Maven tab</li>\n</ul>\n<p>What else can we check or try?</p>\n"},{"tags":["java","mysql","spring","date","calendar"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1568971260,"post_id":58025438,"comment_id":102453251,"body_markdown":"Does `Order` have a date/time field? Maybe a computated column? What is the query that is actually executed?","body":"Does <code>Order</code> have a date/time field? Maybe a computated column? What is the query that is actually executed?"},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568971313,"post_id":58025438,"comment_id":102453271,"body_markdown":"yes...`Order` has many date/time fields","body":"yes...<code>Order</code> has many date/time fields"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":1,"creation_date":1568971442,"post_id":58025438,"comment_id":102453336,"body_markdown":"I&#39;m not sure if you can fix this on mysql level, since parameters are supplied by your application.","body":"I&#39;m not sure if you can fix this on mysql level, since parameters are supplied by your application."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1568972576,"post_id":58025438,"comment_id":102453989,"body_markdown":"Which hibernate version do you use? It could very well be that your version is too old for java 8 support","body":"Which hibernate version do you use? It could very well be that your version is too old for java 8 support"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1568972771,"post_id":58025438,"comment_id":102454105,"body_markdown":"`java.lang.IllegalArgumentException` - this is not even an sql exception, `HOUR_OF_DAY` - this only exists in your java code, not in mysql. Again, not sure what you want to do about this in mysql.","body":"<code>java.lang.IllegalArgumentException</code> - this is not even an sql exception, <code>HOUR_OF_DAY</code> - this only exists in your java code, not in mysql. Again, not sure what you want to do about this in mysql."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568972960,"post_id":58025438,"comment_id":102454223,"body_markdown":"@Shadow : It is indeed calling Java files, but I am getting the error when I am hitting the query in repository (edit 2)","body":"@Shadow : It is indeed calling Java files, but I am getting the error when I am hitting the query in repository (edit 2)"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":2,"creation_date":1568973240,"post_id":58025438,"comment_id":102454356,"body_markdown":"That still does not mean that the error comes from and therefore can be prevented at mysql level. Nothing of the exception details indicate that this has anything to do with mysql. You really need to debug your code and **data** (invalid datetime data in mysql?) to understand where things go south. This is the drawback of using ORMs - you do not really know what gets executed.","body":"That still does not mean that the error comes from and therefore can be prevented at mysql level. Nothing of the exception details indicate that this has anything to do with mysql. You really need to debug your code and <b>data</b> (invalid datetime data in mysql?) to understand where things go south. This is the drawback of using ORMs - you do not really know what gets executed."},{"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"score":0,"creation_date":1568973952,"post_id":58025438,"comment_id":102454760,"body_markdown":"@Shadow: Yes, but this is all the java code that I have....so can you please suggest something I can add before calling the query method....something like.... `cal.setLenient(true)`","body":"@Shadow: Yes, but this is all the java code that I have....so can you please suggest something I can add before calling the query method....something like.... <code>cal.setLenient(true)</code>"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1568974616,"post_id":58025438,"comment_id":102455101,"body_markdown":"Nope, cannot suggest anything. I only know mysql, but not java. If you want a solution in mysql, you need to identify what causes the issue in mysql - if anything.","body":"Nope, cannot suggest anything. I only know mysql, but not java. If you want a solution in mysql, you need to identify what causes the issue in mysql - if anything."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1568980175,"post_id":58025438,"comment_id":102457817,"body_markdown":"It’s thrown from the line `throw new IllegalArgumentException(getFieldName(field) + &quot;: &quot; + s);` near the end of `GregorianCalendar.computeTime()`. It’s aome validation message, but I don’t understand what exactly it means nor why it happens.","body":"It’s thrown from the line <code>throw new IllegalArgumentException(getFieldName(field) + &quot;: &quot; + s);</code> near the end of <code>GregorianCalendar.computeTime()</code>. It’s aome validation message, but I don’t understand what exactly it means nor why it happens."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692372689,"post_id":58025438,"comment_id":135618607,"body_markdown":"By the way, a creation moment should be tracked as an `Instant` generally, or as a `OffsetDateTime` when retrieved via JDBC 4.2+, not a `ZonedDateTime`.","body":"By the way, a creation moment should be tracked as an <code>Instant</code> generally, or as a <code>OffsetDateTime</code> when retrieved via JDBC 4.2+, not a <code>ZonedDateTime</code>."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647311806,"creation_date":1647296750,"answer_id":71474879,"question_id":58025438,"body_markdown":"The reason is there&#39;s a date time field (not timestamp) that is not available in your timezone.  So it can&#39;t convert it correctly.\r\n\r\n&gt;Caused by: java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\r\n        at java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2826)\r\n        at java.base/java.util.Calendar.updateTime(Calendar.java:3428)\r\n        at java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1812)\r\n        at com.mysql.cj.result.SqlTimestampValueFactory.localCreateFromTimestamp(SqlTimestampValueFactory.java:108)\r\n\r\nThere&#39;s information on https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html\r\n\r\nbut generally you have to locate the errant record and remove or update it from the database.\r\n\r\nAssuming you&#39;re using JOOQ or have access to do it (as using the JPA query will cause issues).  Here&#39;s a code snippet I put in my JUnit Integration test\r\n\r\n```java\r\n@Test\r\nvoid ensureDatesAreOkayDuringDaylightSavings() {\r\n  var fallbackDayClauses = IntStream\r\n    .range(2000, LocalDate.now().getYear() + 1)\r\n    .mapToObj(year -&gt;\r\n      LocalDate.ofYearDay(year, 1)\r\n        .withMonth(3)\r\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\r\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\r\n        .atTime(1, 59, 0)\r\n    )\r\n    .map(startDateTime -&gt; \r\n        MYDB.CREATED_ON.between(\r\n          startDateTime, \r\n          startDateTime\r\n            .plusHours(1)\r\n            .plusMinutes(2)))\r\n    .collect(Collectors.toSet());\r\n\r\n  var potentialProblemIds = dsl.select(MYDB.ID)\r\n    .from(MYDB.TABLE)\r\n    .where(or(fallbackDayClauses))\r\n    .fetch(MYDB.ID);\r\n\r\n  assertThat(potentialProblemIds)\r\n    .isEmpty();\r\n\r\n}\r\n```","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>The reason is there's a date time field (not timestamp) that is not available in your timezone.  So it can't convert it correctly.</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\nat java.base/java.util.GregorianCalendar.computeTime(GregorianCalendar.java:2826)\nat java.base/java.util.Calendar.updateTime(Calendar.java:3428)\nat java.base/java.util.Calendar.getTimeInMillis(Calendar.java:1812)\nat com.mysql.cj.result.SqlTimestampValueFactory.localCreateFromTimestamp(SqlTimestampValueFactory.java:108)</p>\n</blockquote>\n<p>There's information on <a href=\"https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-after-changing-mysql-database-timezone-1063564762.html</a></p>\n<p>but generally you have to locate the errant record and remove or update it from the database.</p>\n<p>Assuming you're using JOOQ or have access to do it (as using the JPA query will cause issues).  Here's a code snippet I put in my JUnit Integration test</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid ensureDatesAreOkayDuringDaylightSavings() {\n  var fallbackDayClauses = IntStream\n    .range(2000, LocalDate.now().getYear() + 1)\n    .mapToObj(year -&gt;\n      LocalDate.ofYearDay(year, 1)\n        .withMonth(3)\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\n        .with(TemporalAdjusters.next(DayOfWeek.SUNDAY))\n        .atTime(1, 59, 0)\n    )\n    .map(startDateTime -&gt; \n        MYDB.CREATED_ON.between(\n          startDateTime, \n          startDateTime\n            .plusHours(1)\n            .plusMinutes(2)))\n    .collect(Collectors.toSet());\n\n  var potentialProblemIds = dsl.select(MYDB.ID)\n    .from(MYDB.TABLE)\n    .where(or(fallbackDayClauses))\n    .fetch(MYDB.ID);\n\n  assertThat(potentialProblemIds)\n    .isEmpty();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9842477,"reputation":11,"user_id":7291100,"display_name":"Marreddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692371493,"creation_date":1692371493,"answer_id":76930582,"question_id":58025438,"body_markdown":"We faced similar issues after migration from MySQL 5 to MySQL 8 connector. Verified following links \r\n\r\nhttps://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html\r\nhttps://bugs.mysql.com/bug.php?id=96276\r\nhttps://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html\r\n\r\n\r\n\r\nIssue Case Query: When both Database and Java application in &#39;US/Pacific&#39; timezone.\r\n\r\nSELECT actiondoneon FROM likes WHERE actiondoneon BETWEEN &#39;2019-03-10 02:00:00&#39; AND &#39;2019-03-10 03:00:00&#39;;\r\n\r\n+---------------------+\r\n\r\n| actiondoneon        |\r\n\r\n+---------------------+\r\n\r\n| 2019-03-10 02:27:47 |\r\n\r\n+---------------------+\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\nFix Case Query:\r\n\r\nmysql&gt; SELECT convert_tz(actiondoneon, &#39;US/Pacific&#39;, &#39;US/Pacific&#39;) AS actiondoneon FROM likes WHERE actiondoneon BETWEEN &#39;2019-03-10 02:00:00&#39; AND &#39;2019-03-10 03:00:00&#39;;\r\n\r\n+---------------------+\r\n\r\n| actiondoneon        |\r\n\r\n+---------------------+\r\n\r\n| 2019-03-10 03:00:00 |\r\n\r\n+---------------------+\r\n\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\nHere we are applying convert_tz with the same time zone. Convert_tz function is rounding off to the nearest correct timestamp.\r\n\r\n\r\nExample :\r\n\r\nmysql&gt; SELECT invalid_timestamp, convert_tz(invalid_timestamp, &#39;US/Pacific&#39;, &#39;US/Pacific&#39;) corrcted_timestamp FROM (SELECT &#39;2019-03-10 02:27:47&#39; invalid_timestamp) tab;\r\n\r\n+---------------------+----------------------------+\r\n\r\n| invalid_timestamp   | corrcted_timestamp         |\r\n\r\n+---------------------+----------------------------+\r\n\r\n| 2019-03-10 02:27:47 | 2019-03-10 03:00:00.000000 |\r\n\r\n+---------------------+----------------------------+\r\n\r\n1 row in set (0.00 sec)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>We faced similar issues after migration from MySQL 5 to MySQL 8 connector. Verified following links</p>\n<p><a href=\"https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/jirakb/illegalargumentexception-hour_of_day-1063564762.html</a>\n<a href=\"https://bugs.mysql.com/bug.php?id=96276\" rel=\"nofollow noreferrer\">https://bugs.mysql.com/bug.php?id=96276</a>\n<a href=\"https://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html\" rel=\"nofollow noreferrer\">https://support.oracle.com/knowledge/Oracle%20Database%20Products/2863969_1.html</a></p>\n<p>Issue Case Query: When both Database and Java application in 'US/Pacific' timezone.</p>\n<p>SELECT actiondoneon FROM likes WHERE actiondoneon BETWEEN '2019-03-10 02:00:00' AND '2019-03-10 03:00:00';</p>\n<p>+---------------------+</p>\n<p>| actiondoneon        |</p>\n<p>+---------------------+</p>\n<p>| 2019-03-10 02:27:47 |</p>\n<p>+---------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n<p>Fix Case Query:</p>\n<p>mysql&gt; SELECT convert_tz(actiondoneon, 'US/Pacific', 'US/Pacific') AS actiondoneon FROM likes WHERE actiondoneon BETWEEN '2019-03-10 02:00:00' AND '2019-03-10 03:00:00';</p>\n<p>+---------------------+</p>\n<p>| actiondoneon        |</p>\n<p>+---------------------+</p>\n<p>| 2019-03-10 03:00:00 |</p>\n<p>+---------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n<p>Here we are applying convert_tz with the same time zone. Convert_tz function is rounding off to the nearest correct timestamp.</p>\n<p>Example :</p>\n<p>mysql&gt; SELECT invalid_timestamp, convert_tz(invalid_timestamp, 'US/Pacific', 'US/Pacific') corrcted_timestamp FROM (SELECT '2019-03-10 02:27:47' invalid_timestamp) tab;</p>\n<p>+---------------------+----------------------------+</p>\n<p>| invalid_timestamp   | corrcted_timestamp         |</p>\n<p>+---------------------+----------------------------+</p>\n<p>| 2019-03-10 02:27:47 | 2019-03-10 03:00:00.000000 |</p>\n<p>+---------------------+----------------------------+</p>\n<p>1 row in set (0.00 sec)</p>\n"},{"comments":[{"owner":{"account_id":6228104,"reputation":1373,"user_id":4845730,"accept_rate":39,"display_name":"Yogendra"},"score":0,"creation_date":1692766972,"post_id":76937714,"comment_id":135667442,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34868690)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34868690\">From Review</a>"}],"tags":[],"owner":{"account_id":23857900,"reputation":1,"user_id":17861212,"display_name":"Varun Shastry"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692497179,"creation_date":1692497179,"answer_id":76937714,"question_id":58025438,"body_markdown":"I tried suggestions here, and various other places. Nothing worked out.\r\nI had to set the MySQL server time to UTC. Followed the steps mentioned here -&gt; https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html\r\nEnsure you pay attention to the section &quot;Populating the Time Zone Tables&quot; which actually was the issue we were facing.","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>I tried suggestions here, and various other places. Nothing worked out.\nI had to set the MySQL server time to UTC. Followed the steps mentioned here -&gt; <a href=\"https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/time-zone-support.html</a>\nEnsure you pay attention to the section &quot;Populating the Time Zone Tables&quot; which actually was the issue we were facing.</p>\n"}],"owner":{"account_id":2138268,"reputation":7872,"user_id":1897528,"accept_rate":62,"display_name":"Farrukh Chishti"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10987,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1692497179,"creation_date":1568971110,"question_id":58025438,"body_markdown":"Full error log:\r\n\r\n&gt; 2019-09-20 08:35:37.860  INFO 1 --- [nio-8081-exec-1]\r\n&gt; o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring\r\n&gt; DispatcherServlet &#39;dispatcherServlet&#39;\r\n&gt; \r\n&gt; \r\n&gt; 2019-09-20 08:47:29.726 ERROR 1 --- [nio-8081-exec-5]\r\n&gt; o.h.engine.jdbc.spi.SqlExceptionHelper   : HOUR_OF_DAY: 2 -&gt; 3\r\n&gt; \r\n&gt; \r\n&gt; 2019-09-20 08:47:29.769 ERROR 1 --- [nio-8081-exec-5]\r\n&gt; o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\r\n&gt; servlet [dispatcherServlet] in context with path [] threw exception\r\n&gt; [Request processing failed; nested exception is\r\n&gt; org.springframework.orm.jpa.JpaSystemException: could not execute\r\n&gt; query; nested exception is\r\n&gt; org.hibernate.exception.GenericJDBCException: could not execute query]\r\n&gt; with root cause\r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; \r\n&gt; java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -&gt; 3\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.GregorianCalendar.computeTime(Unknown Source)\r\n&gt; ~[na:na]\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.Calendar.updateTime(Unknown Source) ~[na:na]\r\n&gt; \r\n&gt; \r\n&gt; \tat java.base/java.util.Calendar.getTimeInMillis(Unknown Source)\r\n&gt; ~[na:na]\r\n\r\nThis problem has been solved at [Java level][1], but how do I avoid it at *mysql* level.\r\n&lt;br&gt;In fact the query does not even have date or time.\r\n&lt;br&gt;\r\n\r\n    @Query(&quot;select o from Order o where o.tickets is not null&quot;)\r\n    List&lt;Order&gt; ordersWithExistingTickets();\r\n\r\n---\r\n### EDIT 1: ###\r\n\r\nOrder.java\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name=&quot;orders&quot;)\r\n    public class Order {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;PK&quot;)\r\n    private Long pk;\r\n\r\n    @Column(name = &quot;createdTS&quot;)\r\n    private ZonedDateTime creationTime;\r\n\r\n    @Column(name = &quot;tickets&quot;)\r\n    private String tickets;\r\n\r\n    public String getTickets() {\r\n        return tickets;\r\n    }\r\n\r\n    public void setTickets(String tickets) {\r\n        this.tickets = tickets;\r\n    }}\r\n\r\n---\r\n### EDIT 2: ###\r\nOrderRepository.java\r\n\r\n    @Repository\r\n    public interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\r\n    \r\n        @Query(&quot;select o from Order o where o.tickets is not null&quot;)\r\n        List&lt;Order&gt; ordersWithExistingTickets();\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22351680/weird-illegalargumentexception-in-calendar-gettime","title":"Error : SqlExceptionHelper : HOUR_OF_DAY: 2 -&gt; 3","body":"<p>Full error log:</p>\n\n<blockquote>\n  <p>2019-09-20 08:35:37.860  INFO 1 --- [nio-8081-exec-1]\n  o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring\n  DispatcherServlet 'dispatcherServlet'</p>\n  \n  <p>2019-09-20 08:47:29.726 ERROR 1 --- [nio-8081-exec-5]\n  o.h.engine.jdbc.spi.SqlExceptionHelper   : HOUR_OF_DAY: 2 -> 3</p>\n  \n  <p>2019-09-20 08:47:29.769 ERROR 1 --- [nio-8081-exec-5]\n  o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for\n  servlet [dispatcherServlet] in context with path [] threw exception\n  [Request processing failed; nested exception is\n  org.springframework.orm.jpa.JpaSystemException: could not execute\n  query; nested exception is\n  org.hibernate.exception.GenericJDBCException: could not execute query]\n  with root cause</p>\n  \n  <p>java.lang.IllegalArgumentException: HOUR_OF_DAY: 2 -> 3</p>\n  \n  <p>at java.base/java.util.GregorianCalendar.computeTime(Unknown Source)\n  ~[na:na]</p>\n  \n  <p>at java.base/java.util.Calendar.updateTime(Unknown Source) ~[na:na]</p>\n  \n  <p>at java.base/java.util.Calendar.getTimeInMillis(Unknown Source)\n  ~[na:na]</p>\n</blockquote>\n\n<p>This problem has been solved at <a href=\"https://stackoverflow.com/questions/22351680/weird-illegalargumentexception-in-calendar-gettime\">Java level</a>, but how do I avoid it at <em>mysql</em> level.\n<br>In fact the query does not even have date or time.\n<br></p>\n\n<pre><code>@Query(\"select o from Order o where o.tickets is not null\")\nList&lt;Order&gt; ordersWithExistingTickets();\n</code></pre>\n\n<hr>\n\n<h3>EDIT 1:</h3>\n\n<p>Order.java</p>\n\n<pre><code>@Entity\n@Data\n@Table(name=\"orders\")\npublic class Order {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"PK\")\nprivate Long pk;\n\n@Column(name = \"createdTS\")\nprivate ZonedDateTime creationTime;\n\n@Column(name = \"tickets\")\nprivate String tickets;\n\npublic String getTickets() {\n    return tickets;\n}\n\npublic void setTickets(String tickets) {\n    this.tickets = tickets;\n}}\n</code></pre>\n\n<hr>\n\n<h3>EDIT 2:</h3>\n\n<p>OrderRepository.java</p>\n\n<pre><code>@Repository\npublic interface OrderRepository extends JpaRepository&lt;Order, Long&gt; {\n\n    @Query(\"select o from Order o where o.tickets is not null\")\n    List&lt;Order&gt; ordersWithExistingTickets();\n}\n</code></pre>\n"},{"tags":["java","r","jdbc","batch-insert","rjdbc"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1473861167,"post_id":39492145,"comment_id":66301982,"body_markdown":"&quot;Details of the failure can be found in the exception chain that is accessible with getNextException.&quot; -- So what does it say?","body":"&quot;Details of the failure can be found in the exception chain that is accessible with getNextException.&quot; -- So what does it say?"},{"owner":{"account_id":7688583,"reputation":748,"user_id":5825545,"display_name":"SanjayIV"},"score":0,"creation_date":1473861528,"post_id":39492145,"comment_id":66302256,"body_markdown":"Thanks @StephenC for pointing that out. I should&#39;ve put this in my original question. I am not sure of how to use `getNextException` with the approach I am using in R.","body":"Thanks @StephenC for pointing that out. I should&#39;ve put this in my original question. I am not sure of how to use <code>getNextException</code> with the approach I am using in R."}],"answers":[{"tags":[],"owner":{"account_id":6568308,"reputation":800,"user_id":5077154,"display_name":"Insac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473932573,"creation_date":1473929446,"answer_id":39506778,"question_id":39492145,"body_markdown":"To get the initial exception &quot;object&quot;, you need to use .jgetEx to and then you can use the getNextException method on it to retrieve the root cause.\r\n\r\nSee [this link][1] on the teradata developers forum for a complete example.\r\n\r\nTypical causes of an exception during a batch insert are:\r\n\r\n - &quot;value related&quot;: invalid values, excessive precision of numeric data\r\n - &quot;size related&quot; : the inserted rows create a &quot;no more room in database&quot; error\r\n\r\nSince you say that you&#39;ve tested different datasets and they all fail at the same execution, that&#39;s very likely a &quot;**no more room in database**&quot;.\r\n\r\nHowever, this doesn&#39;t necessarily mean that the space that has been granted to you is full: it might be that the table has a poorly chosen *Primary Index* (or the data has an error that produces duplicate *primary index*), resulting in a very skewed distribution. In this case, you would be wasting a lot of space that could be reclaimed if you can define a more apt *primary index* (or use a NOPI table, if you&#39;re using it as some sort of a stage table).\r\n\r\n[Here][2] you can find a discussion on this &quot;space waste&quot; topic with lots of useful queries to diagnose the issue.\r\n\r\n\r\n  [1]: https://developer.teradata.com/blog/amarek/2013/12/how-to-capture-chained-jdbc-fastload-sqlexceptionsqlwarning-messages-and-stack\r\n  [2]: http://community.teradata.com/t5/Database/Space-in-the-database/td-p/38564","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>To get the initial exception \"object\", you need to use .jgetEx to and then you can use the getNextException method on it to retrieve the root cause.</p>\n\n<p>See <a href=\"https://developer.teradata.com/blog/amarek/2013/12/how-to-capture-chained-jdbc-fastload-sqlexceptionsqlwarning-messages-and-stack\" rel=\"nofollow\">this link</a> on the teradata developers forum for a complete example.</p>\n\n<p>Typical causes of an exception during a batch insert are:</p>\n\n<ul>\n<li>\"value related\": invalid values, excessive precision of numeric data</li>\n<li>\"size related\" : the inserted rows create a \"no more room in database\" error</li>\n</ul>\n\n<p>Since you say that you've tested different datasets and they all fail at the same execution, that's very likely a \"<strong>no more room in database</strong>\".</p>\n\n<p>However, this doesn't necessarily mean that the space that has been granted to you is full: it might be that the table has a poorly chosen <em>Primary Index</em> (or the data has an error that produces duplicate <em>primary index</em>), resulting in a very skewed distribution. In this case, you would be wasting a lot of space that could be reclaimed if you can define a more apt <em>primary index</em> (or use a NOPI table, if you're using it as some sort of a stage table).</p>\n\n<p><a href=\"http://community.teradata.com/t5/Database/Space-in-the-database/td-p/38564\" rel=\"nofollow\">Here</a> you can find a discussion on this \"space waste\" topic with lots of useful queries to diagnose the issue.</p>\n"},{"tags":[],"owner":{"account_id":16736858,"reputation":51,"user_id":12097702,"display_name":"FTello31"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601322705,"creation_date":1601322705,"answer_id":64108733,"question_id":39492145,"body_markdown":"Same happens to me I was trying to insert 27.4M records into a Teradata table containing 8 columns. I&#39;ve got the same error at 5.35M row.\r\n\r\nThe only thing that works for me was **make a commit every 1M records.** ","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>Same happens to me I was trying to insert 27.4M records into a Teradata table containing 8 columns. I've got the same error at 5.35M row.</p>\n<p>The only thing that works for me was <strong>make a commit every 1M records.</strong></p>\n"},{"tags":[],"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637268245,"creation_date":1637268245,"answer_id":70026515,"question_id":39492145,"body_markdown":"So few notes here. \r\n1. The first is GC. It&#39;s not an issue in the usual java program but under a load of millions records try to do eventually `Thread.sleep` with single seconds. This will trigger GC. I found some race conditions in the Teradata JDBC driver ver `17.00.00.03`. For performance purpose it is reusing old objects with a weak reference to something to be collected. When working with fastload™ or multiload™ loads, this became crucial.\r\n2. Ensure you have enough space in your database. This also causes this exception.","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>So few notes here.</p>\n<ol>\n<li>The first is GC. It's not an issue in the usual java program but under a load of millions records try to do eventually <code>Thread.sleep</code> with single seconds. This will trigger GC. I found some race conditions in the Teradata JDBC driver ver <code>17.00.00.03</code>. For performance purpose it is reusing old objects with a weak reference to something to be collected. When working with fastload™ or multiload™ loads, this became crucial.</li>\n<li>Ensure you have enough space in your database. This also causes this exception.</li>\n</ol>\n"}],"owner":{"account_id":7688583,"reputation":748,"user_id":5825545,"display_name":"SanjayIV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692493485,"creation_date":1473860777,"question_id":39492145,"body_markdown":"I am trying to insert 3.8M records into a Teradata table containing 14 columns, through a batch of 10000 records using `RJDBC` package of R.\r\nIt always crashes after inserting 380000 records i.e. at 39th batch execution.\r\nThis is the error I get,\r\n\r\n&gt; Error in .jcall(ps, &quot;[I&quot;, &quot;executeBatch&quot;) :   \r\n&gt; java.sql.BatchUpdateException: [Teradata JDBC Driver] [TeraJDBC\r\n&gt; 15.10.00.22] [Error 1338] [SQLState HY000] A failure occurred while executing a PreparedStatement batch request. Details of the failure\r\n&gt; can be found in the exception chain that is accessible with\r\n&gt; getNextException.\r\n\r\nI&#39;ve tried changing to a different set of rows from the same dataframe. And, behavior remains same, crashes at the 39th batch execution.\r\n\r\nAny idea what is this `Error 1338` and what could be the fix?\r\nAlso, it mentions about `getNextException` but how do I use that with R?\r\n\r\nThe approach I&#39;m using is similar to this one\r\nhttps://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload\r\n","title":"Teradata JDBC Error 1338 after certain number of batch executions","body":"<p>I am trying to insert 3.8M records into a Teradata table containing 14 columns, through a batch of 10000 records using <code>RJDBC</code> package of R.\nIt always crashes after inserting 380000 records i.e. at 39th batch execution.\nThis is the error I get,</p>\n\n<blockquote>\n  <p>Error in .jcall(ps, \"[I\", \"executeBatch\") :<br>\n  java.sql.BatchUpdateException: [Teradata JDBC Driver] [TeraJDBC\n  15.10.00.22] [Error 1338] [SQLState HY000] A failure occurred while executing a PreparedStatement batch request. Details of the failure\n  can be found in the exception chain that is accessible with\n  getNextException.</p>\n</blockquote>\n\n<p>I've tried changing to a different set of rows from the same dataframe. And, behavior remains same, crashes at the 39th batch execution.</p>\n\n<p>Any idea what is this <code>Error 1338</code> and what could be the fix?\nAlso, it mentions about <code>getNextException</code> but how do I use that with R?</p>\n\n<p>The approach I'm using is similar to this one\n<a href=\"https://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload\" rel=\"nofollow\">https://developer.teradata.com/blog/ulrich/2013/11/a-wider-test-case-on-r-jdbc-fastload</a></p>\n"},{"tags":["java","terminal"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1551133644,"post_id":54875632,"comment_id":96521362,"body_markdown":"&quot;Is it possible to ...&quot; yes. The answer to such a question is almost always &quot;yes&quot;. On the other hand, the amount of effort you must put into it varies.","body":"&quot;Is it possible to ...&quot; yes. The answer to such a question is almost always &quot;yes&quot;. On the other hand, the amount of effort you must put into it varies."},{"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"score":0,"creation_date":1551133816,"post_id":54875632,"comment_id":96521425,"body_markdown":"Do you know any examples of this being done as I cannot find any?","body":"Do you know any examples of this being done as I cannot find any?"},{"owner":{"account_id":307516,"reputation":175,"user_id":618849,"display_name":"ansjob"},"score":0,"creation_date":1551134171,"post_id":54875632,"comment_id":96521554,"body_markdown":"You haven&#39;t specified why python3 doesn&#39;t work, or posted any code, which makes this hard to answer. Always when forking and managing other processes in Java it is useful to familiarise yourself with the [ProcessBuilder](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html) class, which can help you set up the stdin/stderr to be managed from Java.","body":"You haven&#39;t specified why python3 doesn&#39;t work, or posted any code, which makes this hard to answer. Always when forking and managing other processes in Java it is useful to familiarise yourself with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> class, which can help you set up the stdin/stderr to be managed from Java."},{"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"score":0,"creation_date":1551134940,"post_id":54875632,"comment_id":96521829,"body_markdown":"Python will make the app hang and not show anything in the gui or terminal, however it will start a python process which can be viewed in activity monitor","body":"Python will make the app hang and not show anything in the gui or terminal, however it will start a python process which can be viewed in activity monitor"}],"answers":[{"tags":[],"owner":{"account_id":29259372,"reputation":1,"user_id":22416739,"display_name":"uglyfruit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692493425,"creation_date":1692493425,"answer_id":76937606,"question_id":54875632,"body_markdown":"So I&#39;ve been round and round with this switching between Java and Python over the last 2 years. My biggest issues on the Java side is the ssh library itself. jsch seems to be popular. I&#39;ve looked a little a the apache project one as well. on The front side you could use XTerm.js (or HTerm I think is the other popular one). Writing your own terminal emulation is going to be a huge pain, I highly suggest using a framework with a webengine that has a bridge mechanism to the native code your writing in. PyQT/Pyside and JavaFX both have this. This is why you see so many electron/node.js based solutions for this. I learned a lot about the mechanics from this project: https://github.com/javaterminal/TerminalFX. It has good examples of how to handle the streams work.\r\n\r\nThat said, I did finally have success with python, using a similar approach in PyQt6. Feel free to fork, or just take a look at the approach. Managing psuedo terminals is part of the issue. This is working code for ssh specifically, but has links to my other project UglyWidgets with some windows specific functionality and a lot of examples on how to handle native code to javascript bridging as well: https://github.com/scottpeterman/UglyPTY","title":"Embed a terminal frame into a JFrame window Java","body":"<p>So I've been round and round with this switching between Java and Python over the last 2 years. My biggest issues on the Java side is the ssh library itself. jsch seems to be popular. I've looked a little a the apache project one as well. on The front side you could use XTerm.js (or HTerm I think is the other popular one). Writing your own terminal emulation is going to be a huge pain, I highly suggest using a framework with a webengine that has a bridge mechanism to the native code your writing in. PyQT/Pyside and JavaFX both have this. This is why you see so many electron/node.js based solutions for this. I learned a lot about the mechanics from this project: <a href=\"https://github.com/javaterminal/TerminalFX\" rel=\"nofollow noreferrer\">https://github.com/javaterminal/TerminalFX</a>. It has good examples of how to handle the streams work.</p>\n<p>That said, I did finally have success with python, using a similar approach in PyQt6. Feel free to fork, or just take a look at the approach. Managing psuedo terminals is part of the issue. This is working code for ssh specifically, but has links to my other project UglyWidgets with some windows specific functionality and a lot of examples on how to handle native code to javascript bridging as well: <a href=\"https://github.com/scottpeterman/UglyPTY\" rel=\"nofollow noreferrer\">https://github.com/scottpeterman/UglyPTY</a></p>\n"}],"owner":{"account_id":12163020,"reputation":35,"user_id":8880060,"display_name":"T. Roche"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692493425,"creation_date":1551133477,"question_id":54875632,"body_markdown":"I&#39;ve been trying to make an app to act as a ssh / scp client to make transferring files easier from my laptop to my desktop and currently I have been able to get the output of a ls command and get the file tree for the host and remote user, however this requires input in the terminal I am running the app with. \r\n\r\nIs it possible to be able to embed a terminal window into a gui as I have went about making an interpreter however things like tab completion and running, for example, python3 don&#39;t work. I am also hoping to have full use of a terminal and be able to run commands like vim rather than just print the output of commands which is what I currently have.\r\n\r\nMy code for executing the commands is:\r\n\r\n    public void processCmd(String command) {\r\n            if (command.equals(&quot;exit&quot;)) {\r\n        \t    System.exit(0);\r\n            } else if (command != null &amp;&amp; !command.isEmpty()) {\r\n        \t    execCommand(command);\r\n            }\r\n    }\r\n    \r\n    public void execCommand(String input) {\r\n        \tString result = null;\r\n        \ttry {\r\n        \t    Runtime r = Runtime.getRuntime();                    \r\n        \t\r\n        \t    Process p = r.exec(input);\r\n        \t\r\n        \t    BufferedReader in =\r\n        \t        new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        \t    String inputLine;\r\n        \t    while ((inputLine = in.readLine()) != null) {\r\n        \t        System.out.println(inputLine);\r\n        \t        result += inputLine;\r\n        \t    }\r\n        \t    in.close();\r\n        \t\r\n        \t} catch (IOException e) {\r\n        \t    System.out.println(&quot;Error&quot;);\r\n        \t}\r\n    }\r\n\r\nThe main problem is that when anything like python or vim is run, the app will hang and not do anything, python won&#39;t even show up in terminal, however, if I run vim, it will change the terminal screen (not in the app) to mostly vim but without the bottom bar.","title":"Embed a terminal frame into a JFrame window Java","body":"<p>I've been trying to make an app to act as a ssh / scp client to make transferring files easier from my laptop to my desktop and currently I have been able to get the output of a ls command and get the file tree for the host and remote user, however this requires input in the terminal I am running the app with. </p>\n\n<p>Is it possible to be able to embed a terminal window into a gui as I have went about making an interpreter however things like tab completion and running, for example, python3 don't work. I am also hoping to have full use of a terminal and be able to run commands like vim rather than just print the output of commands which is what I currently have.</p>\n\n<p>My code for executing the commands is:</p>\n\n<pre><code>public void processCmd(String command) {\n        if (command.equals(\"exit\")) {\n            System.exit(0);\n        } else if (command != null &amp;&amp; !command.isEmpty()) {\n            execCommand(command);\n        }\n}\n\npublic void execCommand(String input) {\n        String result = null;\n        try {\n            Runtime r = Runtime.getRuntime();                    \n\n            Process p = r.exec(input);\n\n            BufferedReader in =\n                new BufferedReader(new InputStreamReader(p.getInputStream()));\n            String inputLine;\n            while ((inputLine = in.readLine()) != null) {\n                System.out.println(inputLine);\n                result += inputLine;\n            }\n            in.close();\n\n        } catch (IOException e) {\n            System.out.println(\"Error\");\n        }\n}\n</code></pre>\n\n<p>The main problem is that when anything like python or vim is run, the app will hang and not do anything, python won't even show up in terminal, however, if I run vim, it will change the terminal screen (not in the app) to mostly vim but without the bottom bar.</p>\n"},{"tags":["java","kotlin","grafana-loki","promtail"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1692349463,"post_id":76927729,"comment_id":135613773,"body_markdown":"If you don&#39;t need it, don&#39;t use it. No problem.","body":"If you don&#39;t need it, don&#39;t use it. No problem."},{"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"score":0,"creation_date":1692350968,"post_id":76927729,"comment_id":135614075,"body_markdown":"I just want to understand what I am missing. What&#39;s the best practices here?","body":"I just want to understand what I am missing. What&#39;s the best practices here?"}],"answers":[{"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692492448,"creation_date":1692492448,"answer_id":76937554,"question_id":76927729,"body_markdown":"&gt;Why should I use it when the application itself already delivers the data to Loki?\r\n\r\nYou shouldn&#39;t: if your application already instrumented to send logs into loki there no need for Promtail.\r\n\r\nThis situation can be compared to Prometheus. If your application is instrumented with some library it exposes metrics by itself. But if not - you can use some exporter, mysql_exporter for example, to provide interface for Prometheus scraping without modification of your application itself. ","title":"Why would I need Promtail when Loki4j Logback to Loki gets the data too?","body":"<blockquote>\n<p>Why should I use it when the application itself already delivers the data to Loki?</p>\n</blockquote>\n<p>You shouldn't: if your application already instrumented to send logs into loki there no need for Promtail.</p>\n<p>This situation can be compared to Prometheus. If your application is instrumented with some library it exposes metrics by itself. But if not - you can use some exporter, mysql_exporter for example, to provide interface for Prometheus scraping without modification of your application itself.</p>\n"}],"owner":{"account_id":4236992,"reputation":1377,"user_id":3467894,"accept_rate":42,"display_name":"Michal Špondr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692492448,"creation_date":1692348142,"question_id":76927729,"body_markdown":"I am new to developing a Kotlin application and would like to have a tool to centrally manage logs. Since I&#39;m already using Grafana + Prometheus for monitoring, I decided to use **Loki** as a data source, and use **loki-logback-appender** in the Kotlin application to send data directly to Loki. I am able to retrieve these in Grafana.\r\n\r\nAnd then there&#39;s the **Promtail** tool, which can do some extra things that I won&#39;t use yet (I haven&#39;t quite figured out the logging requirements yet). Why should I use it when the application itself already delivers the data to Loki?","title":"Why would I need Promtail when Loki4j Logback to Loki gets the data too?","body":"<p>I am new to developing a Kotlin application and would like to have a tool to centrally manage logs. Since I'm already using Grafana + Prometheus for monitoring, I decided to use <strong>Loki</strong> as a data source, and use <strong>loki-logback-appender</strong> in the Kotlin application to send data directly to Loki. I am able to retrieve these in Grafana.</p>\n<p>And then there's the <strong>Promtail</strong> tool, which can do some extra things that I won't use yet (I haven't quite figured out the logging requirements yet). Why should I use it when the application itself already delivers the data to Loki?</p>\n"},{"tags":["java","spring","security"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692582146,"post_id":76937526,"comment_id":135638422,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29259362,"reputation":1,"user_id":22416727,"display_name":"Ninite"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692491382,"creation_date":1692491382,"question_id":76937526,"body_markdown":"`For a long time I can not understand what the problem is, maybe I already want to sleep. In general, messages on the main page of the site show all messages from all users, that is, you can go to someone else&#39;s personal correspondence, how to fix it/\r\n\r\nLooked for a problem in the backend and frontend, I think that the error is related to the definition of the user&#39;s role or request for a message`\r\n\r\n`Chat conroller-`\r\n```\r\npackage com.ghostchat.ghostchat.controllers;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport com.ghostchat.ghostchat.models.User;\r\nimport com.ghostchat.ghostchat.models.Message; // Импорт модели Message\r\nimport com.ghostchat.ghostchat.repos.UserRepo;\r\nimport com.ghostchat.ghostchat.repos.MessageRepo; // Импорт репозитория MessageRepo\r\nimport java.time.LocalDateTime;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\n\r\n@Controller\r\npublic class ChatController {\r\n\r\n    @Autowired\r\n    private UserRepo userRepo;\r\n\r\n    @Autowired\r\n    private MessageRepo messageRepo;\r\n\r\n    @GetMapping(&quot;/chat&quot;)\r\n    public String chat(Model model) {\r\n        model.addAttribute(&quot;title&quot;, &quot;Messenger&quot;);\r\n        List&lt;User&gt; allUsers = userRepo.findAll();\r\n        String senderUsername = SecurityContextHolder.getContext().getAuthentication().getName();\r\n\r\n        User currentUser = userRepo.findByUsername(senderUsername); // Получение текущего пользователя\r\n\r\n        // Получение входящих сообщений для текущего пользователя\r\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\r\n\r\n        model.addAttribute(&quot;allUsers&quot;, allUsers);\r\n        model.addAttribute(&quot;senderUsername&quot;, senderUsername);\r\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages); // Передача входящих сообщений в шаблон\r\n        return &quot;chat&quot;;\r\n    }\r\n\r\n\r\n    @PostMapping(&quot;/send&quot;)\r\n    public String sendMessage(@RequestParam String senderUsername,\r\n                              @RequestParam String recipientUsername,\r\n                              @RequestParam String messageText) {\r\n        User sender = userRepo.findByUsername(senderUsername);\r\n        User recipient = userRepo.findByUsername(recipientUsername);\r\n\r\n        Message message = new Message();\r\n        message.setSender(sender);\r\n        message.setRecipient(recipient);\r\n        message.setMessageText(messageText);\r\n        message.setTimestamp(LocalDateTime.now());\r\n\r\n        messageRepo.save(message);\r\n\r\n        return &quot;redirect:/chat&quot;;\r\n    }\r\n    @GetMapping(&quot;/update-messages&quot;)\r\n    public String updateMessages(@RequestParam String username, Model model) {\r\n        User currentUser = userRepo.findByUsername(username);\r\n\r\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\r\n        incomingMessages.sort(Comparator.comparing(Message::getTimestamp).reversed());\r\n\r\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages);\r\n\r\n        return &quot;message-list&quot;; // Убедитесь, что это соответствует имени вашего шаблона Thymeleaf\r\n    }\r\n\r\n}\r\n```\r\n\r\n`---------Repo`\r\n```\r\npackage com.ghostchat.ghostchat.repos;\r\n\r\nimport com.ghostchat.ghostchat.models.Message;\r\nimport com.ghostchat.ghostchat.models.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface MessageRepo extends JpaRepository&lt;Message, Long&gt; {\r\n    List&lt;Message&gt; findByRecipient(User recipient);\r\n}\r\n\r\n\r\n```\r\n\r\n`----------Html-------------`\r\n\r\n```\r\n&lt;!doctype html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;html lang=&quot;en&quot; class=&quot;h-100&quot; data-bs-theme=&quot;auto&quot;&gt;\r\n&lt;head&gt;&lt;script src=&quot;/docs/5.3/assets/js/color-modes.js&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\r\n    &lt;meta name=&quot;author&quot; content=&quot;Mark Otto, Jacob Thornton, and Bootstrap contributors&quot;&gt;\r\n    &lt;meta name=&quot;generator&quot; content=&quot;Hugo 0.115.4&quot;&gt;\r\n    &lt;title&gt;Ghostchat.welcome&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\r\n    &lt;link rel=&quot;canonical&quot; href=&quot;https://getbootstrap.com/docs/5.3/examples/cover/&quot;&gt;\r\n\r\n\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@docsearch/css@3&quot;&gt;\r\n\r\n    &lt;link href=&quot;/docs/5.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n\r\n    &lt;!-- Favicons --&gt;\r\n    &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/apple-touch-icon.png&quot; sizes=&quot;180x180&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-32x32.png&quot; sizes=&quot;32x32&quot; type=&quot;image/png&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-16x16.png&quot; sizes=&quot;16x16&quot; type=&quot;image/png&quot;&gt;\r\n    &lt;link rel=&quot;manifest&quot; href=&quot;/docs/5.3/assets/img/favicons/manifest.json&quot;&gt;\r\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/safari-pinned-tab.svg&quot; color=&quot;#712cf9&quot;&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon.ico&quot;&gt;\r\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#712cf9&quot;&gt;\r\n\r\n\r\n    &lt;style&gt;\r\n      .bd-placeholder-img {\r\n        font-size: 1.125rem;\r\n        text-anchor: middle;\r\n        -webkit-user-select: none;\r\n        -moz-user-select: none;\r\n        user-select: none;\r\n      }\r\n\r\n      @media (min-width: 768px) {\r\n        .bd-placeholder-img-lg {\r\n          font-size: 3.5rem;\r\n        }\r\n      }\r\n\r\n      .b-example-divider {\r\n        width: 100%;\r\n        height: 3rem;\r\n        background-color: rgba(0, 0, 0, .1);\r\n        border: solid rgba(0, 0, 0, .15);\r\n        border-width: 1px 0;\r\n        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\r\n      }\r\n\r\n      .b-example-vr {\r\n        flex-shrink: 0;\r\n        width: 1.5rem;\r\n        height: 100vh;\r\n      }\r\n\r\n      .bi {\r\n        vertical-align: -.125em;\r\n        fill: currentColor;\r\n      }\r\n\r\n      .nav-scroller {\r\n        position: relative;\r\n        z-index: 2;\r\n        height: 2.75rem;\r\n        overflow-y: hidden;\r\n      }\r\n\r\n      .nav-scroller .nav {\r\n        display: flex;\r\n        flex-wrap: nowrap;\r\n        padding-bottom: 1rem;\r\n        margin-top: -1px;\r\n        overflow-x: auto;\r\n        text-align: center;\r\n        white-space: nowrap;\r\n        -webkit-overflow-scrolling: touch;\r\n      }\r\n\r\n      .btn-bd-primary {\r\n        --bd-violet-bg: #712cf9;\r\n        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;\r\n\r\n        --bs-btn-font-weight: 600;\r\n        --bs-btn-color: var(--bs-white);\r\n        --bs-btn-bg: var(--bd-violet-bg);\r\n        --bs-btn-border-color: var(--bd-violet-bg);\r\n        --bs-btn-hover-color: var(--bs-white);\r\n        --bs-btn-hover-bg: #6528e0;\r\n        --bs-btn-hover-border-color: #6528e0;\r\n        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);\r\n        --bs-btn-active-color: var(--bs-btn-hover-color);\r\n        --bs-btn-active-bg: #5a23c8;\r\n        --bs-btn-active-border-color: #5a23c8;\r\n      }\r\n      .bd-mode-toggle {\r\n        z-index: 1500;\r\n      }\r\n      .message-list-container {\r\n    position: fixed;\r\n    top: 10px;\r\n    right: 10px;\r\n    background-color: auto;\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\r\n    /* Add the following properties to set a fixed height and enable scrolling */\r\n    height: 300px; /* Set a fixed height */\r\n    overflow-y: auto; /* Enable vertical scrolling */\r\n}\r\n\r\n.message-list {\r\n    list-style: none;\r\n    padding: 0;\r\n    /* Remove any margin to prevent unwanted spacing */\r\n    margin: 0;\r\n}\r\n.chatbox-list-container {\r\n    position: fixed;\r\n    top: 10px;\r\n    left: 10px;\r\n    background-color: auto;\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    border-radius: 5px;\r\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\r\n    width: auto; /* Автоматически подстраиваться по ширине текста */\r\n}\r\n\r\n\r\n/* Стили для индивидуальных чатбоксов */\r\n.chatbox {\r\n    list-style: none;\r\n    padding: 10px;\r\n    cursor: pointer;\r\n    display: flex; /* Добавляем flex display */\r\n    align-items: center; /* Выравниваем элементы вертикально по центру */\r\n}}\r\n\r\n/* Подсветка выбранного чатбокса */\r\n.chatbox.active {\r\n    background-color: auto;\r\n}\r\n.chatbox-content {\r\n    max-width: 100%; /* Ограничьте максимальную ширину по содержимому */\r\n    word-wrap: break-word; /* Переносите длинные слова */\r\n}\r\n\r\n    &lt;/style&gt;\r\n\r\n\r\n    &lt;!-- Custom styles for this template --&gt;\r\n    &lt;link href=&quot;cover.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\r\n&lt;script&gt;\r\n    $(document).ready(function() {\r\n        function updateMessages() {\r\n            $.ajax({\r\n                url: &#39;/update-messages&#39;, // Make sure this matches your mapping\r\n                method: &#39;GET&#39;,\r\n                cache: false, // Disable caching\r\n                success: function(data) {\r\n                    // Update the HTML content of the messages container\r\n                    $(&#39;#incoming-messages&#39;).html(data);\r\n                }\r\n            });\r\n        }\r\n\r\n        // Update messages every 3 seconds\r\n        setInterval(updateMessages, 3000);\r\n    });\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;script&gt;\r\n    $(document).ready(function() {\r\n    // Функция для обновления выбранного чатбокса и сообщений\r\n    function updateChatbox(username) {\r\n        $(&#39;.chatbox&#39;).removeClass(&#39;active&#39;);\r\n        $(&#39;.chatbox[data-username=&quot;&#39; + username + &#39;&quot;]&#39;).addClass(&#39;active&#39;);\r\n\r\n        // Получение сообщений для выбранного пользователя с помощью AJAX\r\n        $.ajax({\r\n            url: &#39;/update-messages?username=&#39; + username, // Обновите URL по необходимости\r\n            method: &#39;GET&#39;,\r\n            cache: false,\r\n            success: function(data) {\r\n                // Обновление области отображения сообщений полученными данными\r\n                $(&#39;#incoming-messages&#39;).html(data);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Обработка события нажатия на чатбокс\r\n    $(&#39;.chatbox&#39;).click(function() {\r\n        var selectedUsername = $(this).attr(&#39;data-username&#39;);\r\n        updateChatbox(selectedUsername);\r\n    });\r\n\r\n    // Начальное обновление с первым пользователем\r\n    if ($(&#39;.chatbox&#39;).length &gt; 0) {\r\n        var firstUsername = $(&#39;.chatbox:first&#39;).attr(&#39;data-username&#39;);\r\n        updateChatbox(firstUsername);\r\n    }\r\n\r\n    // ... Остальной существующий код\r\n});\r\n\r\n&lt;/script&gt;\r\n\r\n&lt;body class=&quot;d-flex h-100 text-center text-bg-dark&quot;&gt;\r\n&lt;div class=&quot;chatbox-list-container&quot;&gt;\r\n    &lt;ul class=&quot;chatbox-list&quot;&gt;\r\n        &lt;li th:each=&quot;user : ${allUsers}&quot; class=&quot;chatbox&quot; th:data-username=&quot;${user.username}&quot;&gt;\r\n            &lt;span th:text=&quot;${user.username}&quot;&gt;&lt;/span&gt;\r\n        &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n&lt;/div&gt;\r\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;d-none&quot;&gt;\r\n    &lt;symbol id=&quot;check2&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;circle-half&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;moon-stars-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z&quot;/&gt;\r\n        &lt;path d=&quot;M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n    &lt;symbol id=&quot;sun-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\r\n        &lt;path d=&quot;M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z&quot;/&gt;\r\n    &lt;/symbol&gt;\r\n&lt;/svg&gt;\r\n\r\n&lt;div class=&quot;dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle&quot;&gt;\r\n    &lt;ul class=&quot;dropdown-menu dropdown-menu-end shadow&quot; aria-labelledby=&quot;bd-theme-text&quot;&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;light&quot; aria-pressed=&quot;false&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#sun-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Light\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;dark&quot; aria-pressed=&quot;false&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#moon-stars-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Dark\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n        &lt;li&gt;\r\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center active&quot; data-bs-theme-value=&quot;auto&quot; aria-pressed=&quot;true&quot;&gt;\r\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#circle-half&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n                Auto\r\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n            &lt;/button&gt;\r\n        &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div class=&quot;cover-container d-flex w-100 h-100 p-3 mx-auto flex-column&quot;&gt;\r\n    &lt;header class=&quot;mb-auto&quot;&gt;\r\n    &lt;/header&gt;\r\n\r\n    &lt;main class=&quot;px-3&quot;&gt;\r\n        &lt;!-- Вывод списка пользователей для отправки сообщений --&gt;\r\n        &lt;form th:action=&quot;@{/send}&quot; method=&quot;post&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;senderUsername&quot; th:value=&quot;${senderUsername}&quot; /&gt;\r\n            &lt;label for=&quot;recipientUsername&quot;&gt;Recipient:&lt;/label&gt;\r\n            &lt;select name=&quot;recipientUsername&quot;&gt;\r\n                &lt;option th:each=&quot;user : ${allUsers}&quot; th:value=&quot;${user.username}&quot; th:text=&quot;${user.username}&quot;&gt;&lt;/option&gt;\r\n            &lt;/select&gt;\r\n\r\n            &lt;br&gt;\r\n            &lt;label for=&quot;messageText&quot;&gt;Message:&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; name=&quot;messageText&quot; required /&gt;\r\n            &lt;br&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\r\n        &lt;/form&gt;\r\n        &lt;div class=&quot;message-list-container chatbox-content&quot;&gt;\r\n            &lt;ul id=&quot;incoming-messages&quot; th:fragment=&quot;messages&quot; class=&quot;message-list&quot;&gt;\r\n                &lt;li th:each=&quot;message : ${incomingMessages}&quot;&gt;\r\n                    &lt;span th:text=&quot;${message.sender.username}&quot;&gt;&lt;/span&gt;:\r\n                    &lt;span th:text=&quot;${message.messageText}&quot;&gt;&lt;/span&gt; -\r\n                    &lt;span th:text=&quot;${#temporals.format(message.timestamp, &#39;yyyy-MM-dd HH:mm&#39;)}&quot;&gt;&lt;/span&gt;\r\n                &lt;/li&gt;\r\n            &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n\r\n\r\n    &lt;/main&gt;\r\n\r\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger position-absolute bottom-0 end-0 m-3&quot;&gt;Logout&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;footer class=&quot;mt-auto text-white-50&quot;&gt;\r\n        &lt;p&gt;dev.by.Flaim92&lt;/p&gt;\r\n    &lt;/footer&gt;\r\n&lt;/div&gt;\r\n&lt;script src=&quot;/docs/5.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```","title":"(Spring)On the main page, users see all messages from the database, but it is necessary that they see only personal messages from user to user","body":"<p>`For a long time I can not understand what the problem is, maybe I already want to sleep. In general, messages on the main page of the site show all messages from all users, that is, you can go to someone else's personal correspondence, how to fix it/</p>\n<p>Looked for a problem in the backend and frontend, I think that the error is related to the definition of the user's role or request for a message`</p>\n<p><code>Chat conroller-</code></p>\n<pre><code>package com.ghostchat.ghostchat.controllers;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport com.ghostchat.ghostchat.models.User;\nimport com.ghostchat.ghostchat.models.Message; // Импорт модели Message\nimport com.ghostchat.ghostchat.repos.UserRepo;\nimport com.ghostchat.ghostchat.repos.MessageRepo; // Импорт репозитория MessageRepo\nimport java.time.LocalDateTime;\nimport java.util.Comparator;\nimport java.util.List;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\n@Controller\npublic class ChatController {\n\n    @Autowired\n    private UserRepo userRepo;\n\n    @Autowired\n    private MessageRepo messageRepo;\n\n    @GetMapping(&quot;/chat&quot;)\n    public String chat(Model model) {\n        model.addAttribute(&quot;title&quot;, &quot;Messenger&quot;);\n        List&lt;User&gt; allUsers = userRepo.findAll();\n        String senderUsername = SecurityContextHolder.getContext().getAuthentication().getName();\n\n        User currentUser = userRepo.findByUsername(senderUsername); // Получение текущего пользователя\n\n        // Получение входящих сообщений для текущего пользователя\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\n\n        model.addAttribute(&quot;allUsers&quot;, allUsers);\n        model.addAttribute(&quot;senderUsername&quot;, senderUsername);\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages); // Передача входящих сообщений в шаблон\n        return &quot;chat&quot;;\n    }\n\n\n    @PostMapping(&quot;/send&quot;)\n    public String sendMessage(@RequestParam String senderUsername,\n                              @RequestParam String recipientUsername,\n                              @RequestParam String messageText) {\n        User sender = userRepo.findByUsername(senderUsername);\n        User recipient = userRepo.findByUsername(recipientUsername);\n\n        Message message = new Message();\n        message.setSender(sender);\n        message.setRecipient(recipient);\n        message.setMessageText(messageText);\n        message.setTimestamp(LocalDateTime.now());\n\n        messageRepo.save(message);\n\n        return &quot;redirect:/chat&quot;;\n    }\n    @GetMapping(&quot;/update-messages&quot;)\n    public String updateMessages(@RequestParam String username, Model model) {\n        User currentUser = userRepo.findByUsername(username);\n\n        List&lt;Message&gt; incomingMessages = messageRepo.findByRecipient(currentUser);\n        incomingMessages.sort(Comparator.comparing(Message::getTimestamp).reversed());\n\n        model.addAttribute(&quot;incomingMessages&quot;, incomingMessages);\n\n        return &quot;message-list&quot;; // Убедитесь, что это соответствует имени вашего шаблона Thymeleaf\n    }\n\n}\n</code></pre>\n<p><code>---------Repo</code></p>\n<pre><code>package com.ghostchat.ghostchat.repos;\n\nimport com.ghostchat.ghostchat.models.Message;\nimport com.ghostchat.ghostchat.models.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.List;\n\npublic interface MessageRepo extends JpaRepository&lt;Message, Long&gt; {\n    List&lt;Message&gt; findByRecipient(User recipient);\n}\n\n\n</code></pre>\n<p><code>----------Html-------------</code></p>\n<pre><code>&lt;!doctype html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;html lang=&quot;en&quot; class=&quot;h-100&quot; data-bs-theme=&quot;auto&quot;&gt;\n&lt;head&gt;&lt;script src=&quot;/docs/5.3/assets/js/color-modes.js&quot;&gt;&lt;/script&gt;\n\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;meta name=&quot;description&quot; content=&quot;&quot;&gt;\n    &lt;meta name=&quot;author&quot; content=&quot;Mark Otto, Jacob Thornton, and Bootstrap contributors&quot;&gt;\n    &lt;meta name=&quot;generator&quot; content=&quot;Hugo 0.115.4&quot;&gt;\n    &lt;title&gt;Ghostchat.welcome&lt;/title&gt;\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css&quot;&gt;\n    &lt;link rel=&quot;canonical&quot; href=&quot;https://getbootstrap.com/docs/5.3/examples/cover/&quot;&gt;\n\n\n\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@docsearch/css@3&quot;&gt;\n\n    &lt;link href=&quot;/docs/5.3/dist/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot; integrity=&quot;sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9&quot; crossorigin=&quot;anonymous&quot;&gt;\n\n    &lt;!-- Favicons --&gt;\n    &lt;link rel=&quot;apple-touch-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/apple-touch-icon.png&quot; sizes=&quot;180x180&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-32x32.png&quot; sizes=&quot;32x32&quot; type=&quot;image/png&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon-16x16.png&quot; sizes=&quot;16x16&quot; type=&quot;image/png&quot;&gt;\n    &lt;link rel=&quot;manifest&quot; href=&quot;/docs/5.3/assets/img/favicons/manifest.json&quot;&gt;\n    &lt;link rel=&quot;mask-icon&quot; href=&quot;/docs/5.3/assets/img/favicons/safari-pinned-tab.svg&quot; color=&quot;#712cf9&quot;&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;/docs/5.3/assets/img/favicons/favicon.ico&quot;&gt;\n    &lt;meta name=&quot;theme-color&quot; content=&quot;#712cf9&quot;&gt;\n\n\n    &lt;style&gt;\n      .bd-placeholder-img {\n        font-size: 1.125rem;\n        text-anchor: middle;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        user-select: none;\n      }\n\n      @media (min-width: 768px) {\n        .bd-placeholder-img-lg {\n          font-size: 3.5rem;\n        }\n      }\n\n      .b-example-divider {\n        width: 100%;\n        height: 3rem;\n        background-color: rgba(0, 0, 0, .1);\n        border: solid rgba(0, 0, 0, .15);\n        border-width: 1px 0;\n        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);\n      }\n\n      .b-example-vr {\n        flex-shrink: 0;\n        width: 1.5rem;\n        height: 100vh;\n      }\n\n      .bi {\n        vertical-align: -.125em;\n        fill: currentColor;\n      }\n\n      .nav-scroller {\n        position: relative;\n        z-index: 2;\n        height: 2.75rem;\n        overflow-y: hidden;\n      }\n\n      .nav-scroller .nav {\n        display: flex;\n        flex-wrap: nowrap;\n        padding-bottom: 1rem;\n        margin-top: -1px;\n        overflow-x: auto;\n        text-align: center;\n        white-space: nowrap;\n        -webkit-overflow-scrolling: touch;\n      }\n\n      .btn-bd-primary {\n        --bd-violet-bg: #712cf9;\n        --bd-violet-rgb: 112.520718, 44.062154, 249.437846;\n\n        --bs-btn-font-weight: 600;\n        --bs-btn-color: var(--bs-white);\n        --bs-btn-bg: var(--bd-violet-bg);\n        --bs-btn-border-color: var(--bd-violet-bg);\n        --bs-btn-hover-color: var(--bs-white);\n        --bs-btn-hover-bg: #6528e0;\n        --bs-btn-hover-border-color: #6528e0;\n        --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);\n        --bs-btn-active-color: var(--bs-btn-hover-color);\n        --bs-btn-active-bg: #5a23c8;\n        --bs-btn-active-border-color: #5a23c8;\n      }\n      .bd-mode-toggle {\n        z-index: 1500;\n      }\n      .message-list-container {\n    position: fixed;\n    top: 10px;\n    right: 10px;\n    background-color: auto;\n    border: 1px solid #ddd;\n    padding: 10px;\n    border-radius: 5px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\n    /* Add the following properties to set a fixed height and enable scrolling */\n    height: 300px; /* Set a fixed height */\n    overflow-y: auto; /* Enable vertical scrolling */\n}\n\n.message-list {\n    list-style: none;\n    padding: 0;\n    /* Remove any margin to prevent unwanted spacing */\n    margin: 0;\n}\n.chatbox-list-container {\n    position: fixed;\n    top: 10px;\n    left: 10px;\n    background-color: auto;\n    border: 1px solid #ddd;\n    padding: 10px;\n    border-radius: 5px;\n    box-shadow: 0px 0px 5px rgba(0, 0, 0, 0.1);\n    width: auto; /* Автоматически подстраиваться по ширине текста */\n}\n\n\n/* Стили для индивидуальных чатбоксов */\n.chatbox {\n    list-style: none;\n    padding: 10px;\n    cursor: pointer;\n    display: flex; /* Добавляем flex display */\n    align-items: center; /* Выравниваем элементы вертикально по центру */\n}}\n\n/* Подсветка выбранного чатбокса */\n.chatbox.active {\n    background-color: auto;\n}\n.chatbox-content {\n    max-width: 100%; /* Ограничьте максимальную ширину по содержимому */\n    word-wrap: break-word; /* Переносите длинные слова */\n}\n\n    &lt;/style&gt;\n\n\n    &lt;!-- Custom styles for this template --&gt;\n    &lt;link href=&quot;cover.css&quot; rel=&quot;stylesheet&quot;&gt;\n&lt;/head&gt;\n&lt;script src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {\n        function updateMessages() {\n            $.ajax({\n                url: '/update-messages', // Make sure this matches your mapping\n                method: 'GET',\n                cache: false, // Disable caching\n                success: function(data) {\n                    // Update the HTML content of the messages container\n                    $('#incoming-messages').html(data);\n                }\n            });\n        }\n\n        // Update messages every 3 seconds\n        setInterval(updateMessages, 3000);\n    });\n\n\n&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {\n    // Функция для обновления выбранного чатбокса и сообщений\n    function updateChatbox(username) {\n        $('.chatbox').removeClass('active');\n        $('.chatbox[data-username=&quot;' + username + '&quot;]').addClass('active');\n\n        // Получение сообщений для выбранного пользователя с помощью AJAX\n        $.ajax({\n            url: '/update-messages?username=' + username, // Обновите URL по необходимости\n            method: 'GET',\n            cache: false,\n            success: function(data) {\n                // Обновление области отображения сообщений полученными данными\n                $('#incoming-messages').html(data);\n            }\n        });\n    }\n\n    // Обработка события нажатия на чатбокс\n    $('.chatbox').click(function() {\n        var selectedUsername = $(this).attr('data-username');\n        updateChatbox(selectedUsername);\n    });\n\n    // Начальное обновление с первым пользователем\n    if ($('.chatbox').length &gt; 0) {\n        var firstUsername = $('.chatbox:first').attr('data-username');\n        updateChatbox(firstUsername);\n    }\n\n    // ... Остальной существующий код\n});\n\n&lt;/script&gt;\n\n&lt;body class=&quot;d-flex h-100 text-center text-bg-dark&quot;&gt;\n&lt;div class=&quot;chatbox-list-container&quot;&gt;\n    &lt;ul class=&quot;chatbox-list&quot;&gt;\n        &lt;li th:each=&quot;user : ${allUsers}&quot; class=&quot;chatbox&quot; th:data-username=&quot;${user.username}&quot;&gt;\n            &lt;span th:text=&quot;${user.username}&quot;&gt;&lt;/span&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; class=&quot;d-none&quot;&gt;\n    &lt;symbol id=&quot;check2&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;circle-half&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;moon-stars-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z&quot;/&gt;\n        &lt;path d=&quot;M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z&quot;/&gt;\n    &lt;/symbol&gt;\n    &lt;symbol id=&quot;sun-fill&quot; viewBox=&quot;0 0 16 16&quot;&gt;\n        &lt;path d=&quot;M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z&quot;/&gt;\n    &lt;/symbol&gt;\n&lt;/svg&gt;\n\n&lt;div class=&quot;dropdown position-fixed bottom-0 end-0 mb-3 me-3 bd-mode-toggle&quot;&gt;\n    &lt;ul class=&quot;dropdown-menu dropdown-menu-end shadow&quot; aria-labelledby=&quot;bd-theme-text&quot;&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;light&quot; aria-pressed=&quot;false&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#sun-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Light\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center&quot; data-bs-theme-value=&quot;dark&quot; aria-pressed=&quot;false&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#moon-stars-fill&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Dark\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n        &lt;li&gt;\n            &lt;button type=&quot;button&quot; class=&quot;dropdown-item d-flex align-items-center active&quot; data-bs-theme-value=&quot;auto&quot; aria-pressed=&quot;true&quot;&gt;\n                &lt;svg class=&quot;bi me-2 opacity-50 theme-icon&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#circle-half&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n                Auto\n                &lt;svg class=&quot;bi ms-auto d-none&quot; width=&quot;1em&quot; height=&quot;1em&quot;&gt;&lt;use href=&quot;#check2&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n            &lt;/button&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n&lt;/div&gt;\n\n\n&lt;div class=&quot;cover-container d-flex w-100 h-100 p-3 mx-auto flex-column&quot;&gt;\n    &lt;header class=&quot;mb-auto&quot;&gt;\n    &lt;/header&gt;\n\n    &lt;main class=&quot;px-3&quot;&gt;\n        &lt;!-- Вывод списка пользователей для отправки сообщений --&gt;\n        &lt;form th:action=&quot;@{/send}&quot; method=&quot;post&quot;&gt;\n            &lt;input type=&quot;hidden&quot; name=&quot;senderUsername&quot; th:value=&quot;${senderUsername}&quot; /&gt;\n            &lt;label for=&quot;recipientUsername&quot;&gt;Recipient:&lt;/label&gt;\n            &lt;select name=&quot;recipientUsername&quot;&gt;\n                &lt;option th:each=&quot;user : ${allUsers}&quot; th:value=&quot;${user.username}&quot; th:text=&quot;${user.username}&quot;&gt;&lt;/option&gt;\n            &lt;/select&gt;\n\n            &lt;br&gt;\n            &lt;label for=&quot;messageText&quot;&gt;Message:&lt;/label&gt;\n            &lt;input type=&quot;text&quot; name=&quot;messageText&quot; required /&gt;\n            &lt;br&gt;\n            &lt;button type=&quot;submit&quot;&gt;Send&lt;/button&gt;\n        &lt;/form&gt;\n        &lt;div class=&quot;message-list-container chatbox-content&quot;&gt;\n            &lt;ul id=&quot;incoming-messages&quot; th:fragment=&quot;messages&quot; class=&quot;message-list&quot;&gt;\n                &lt;li th:each=&quot;message : ${incomingMessages}&quot;&gt;\n                    &lt;span th:text=&quot;${message.sender.username}&quot;&gt;&lt;/span&gt;:\n                    &lt;span th:text=&quot;${message.messageText}&quot;&gt;&lt;/span&gt; -\n                    &lt;span th:text=&quot;${#temporals.format(message.timestamp, 'yyyy-MM-dd HH:mm')}&quot;&gt;&lt;/span&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/div&gt;\n\n\n    &lt;/main&gt;\n\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-danger position-absolute bottom-0 end-0 m-3&quot;&gt;Logout&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;footer class=&quot;mt-auto text-white-50&quot;&gt;\n        &lt;p&gt;dev.by.Flaim92&lt;/p&gt;\n    &lt;/footer&gt;\n&lt;/div&gt;\n&lt;script src=&quot;/docs/5.3/dist/js/bootstrap.bundle.min.js&quot; integrity=&quot;sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"},{"tags":["java","oop","inheritance","test-class"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1692388810,"post_id":76932250,"comment_id":135621379,"body_markdown":"You&#39;re doing exactly what you need to do in the `Main` class. Just check the input you&#39;re getting in `AnimalTest` and then instantiate one of those like you&#39;re doing in `Main` and call the `sound` method on the instances you create. For example `if (input.equals(&quot;cow&quot;)) { cow c = new cow(); c.sound(); }` As an aside, class names start with a capital letter, so `Pig`, `Sheep`, `Duck` and `Cow`.","body":"You&#39;re doing exactly what you need to do in the <code>Main</code> class. Just check the input you&#39;re getting in <code>AnimalTest</code> and then instantiate one of those like you&#39;re doing in <code>Main</code> and call the <code>sound</code> method on the instances you create. For example <code>if (input.equals(&quot;cow&quot;)) { cow c = new cow(); c.sound(); }</code> As an aside, class names start with a capital letter, so <code>Pig</code>, <code>Sheep</code>, <code>Duck</code> and <code>Cow</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1692392034,"post_id":76932250,"comment_id":135621845,"body_markdown":"`Animal animal; if (input.equals(&quot;cow&quot;)) { animal = new cow(); } else if ...` or `Animal animal = switch (input) { case &quot;cow&quot; -&gt; new cow(); case ... }`; and either followed by `animal.sound();`","body":"<code>Animal animal; if (input.equals(&quot;cow&quot;)) { animal = new cow(); } else if ...</code> or <code>Animal animal = switch (input) { case &quot;cow&quot; -&gt; new cow(); case ... }</code>; and either followed by <code>animal.sound();</code>"}],"answers":[{"comments":[{"owner":{"account_id":29253608,"reputation":3,"user_id":22412423,"display_name":"Natalie Gee"},"score":0,"creation_date":1692588877,"post_id":76937501,"comment_id":135638904,"body_markdown":"Thank you so much I get how to do it now: you&#39;re a lifesaver man","body":"Thank you so much I get how to do it now: you&#39;re a lifesaver man"}],"tags":[],"owner":{"account_id":23119134,"reputation":44,"user_id":17400037,"display_name":"brandon v"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692490971,"creation_date":1692490647,"answer_id":76937501,"question_id":76932250,"body_markdown":"AnimalTest is just a name your professor recommmended for the class that holds the main method (I believe there might have been some confusion, as you might have thought it was a special class type). \r\n\r\nSo, your Animal Test class should look something like this:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class AnimalTest{\r\n        public static void main(String[] args) {\r\n            Animal animal = null; // create an animal object\r\n            Scanner scanner = new Scanner(System.in);\r\n            String input = scanner.nextLine();\r\n            if(input.equals(&quot;pig&quot;)){ // assign a specific object instance based on the input\r\n                animal = new Pig();\r\n            }else if(input.equals(&quot;sheep&quot;)){\r\n                animal = new Sheep();\r\n            }else if(input.equals(&quot;cow&quot;)){\r\n                animal = new Cow();\r\n            }            \r\n            animal.sound();       \r\n        }\r\n    }\r\n\r\nYour Animal class only needs the sound() method, which will be overrider by the child clases\r\n\r\n    class Animal {\r\n        void sound(){\r\n            System.out.println(&quot;Animal Sound&quot;);\r\n        }    \r\n    }\r\n\r\nFinally, your animal child classes should appear as follows (The @Override is an [java annotation][1] utilized when replacing method implementation from parent clases). \r\n\r\n    class Pig extends Animal{\r\n        @Override\r\n        void sound (){\r\n            System.out.println(&quot;Pig says oink !!&quot;);\r\n        }\r\n    }\r\n\r\nIf you found this answer useful, consider marking it as the accepted answer. Good luck.\r\n\r\n  [1]: https://www.baeldung.com/java-override","title":"Test Classes in Java","body":"<p>AnimalTest is just a name your professor recommmended for the class that holds the main method (I believe there might have been some confusion, as you might have thought it was a special class type).</p>\n<p>So, your Animal Test class should look something like this:</p>\n<pre><code>import java.util.Scanner;\n\npublic class AnimalTest{\n    public static void main(String[] args) {\n        Animal animal = null; // create an animal object\n        Scanner scanner = new Scanner(System.in);\n        String input = scanner.nextLine();\n        if(input.equals(&quot;pig&quot;)){ // assign a specific object instance based on the input\n            animal = new Pig();\n        }else if(input.equals(&quot;sheep&quot;)){\n            animal = new Sheep();\n        }else if(input.equals(&quot;cow&quot;)){\n            animal = new Cow();\n        }            \n        animal.sound();       \n    }\n}\n</code></pre>\n<p>Your Animal class only needs the sound() method, which will be overrider by the child clases</p>\n<pre><code>class Animal {\n    void sound(){\n        System.out.println(&quot;Animal Sound&quot;);\n    }    \n}\n</code></pre>\n<p>Finally, your animal child classes should appear as follows (The @Override is an <a href=\"https://www.baeldung.com/java-override\" rel=\"nofollow noreferrer\">java annotation</a> utilized when replacing method implementation from parent clases).</p>\n<pre><code>class Pig extends Animal{\n    @Override\n    void sound (){\n        System.out.println(&quot;Pig says oink !!&quot;);\n    }\n}\n</code></pre>\n<p>If you found this answer useful, consider marking it as the accepted answer. Good luck.</p>\n"}],"owner":{"account_id":29253608,"reputation":3,"user_id":22412423,"display_name":"Natalie Gee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76937501,"answer_count":1,"score":-1,"last_activity_date":1692490971,"creation_date":1692388548,"question_id":76932250,"body_markdown":"I have an assignment that looks like this:\r\n\r\n&gt; Write a class called `Animal` with a default `sound()` method. Create child classes with the `sound()` method for the following animals:pig, sheep, duck, cow.\r\n&gt; \r\n&gt; Create another class called `AnimalTest` that reads the command line user input and creates the appropriate Animal child class based on the type of animal, and then calls the animal’s `sound()` method. Take some time to reflect on which class to create.\r\n\r\nDo I write a test class that creates `Animal` child classes? How do you *create* animal classes from the Test Class? YouTube isn&#39;t too helpful on this.\r\n\r\nThis is my code: \r\n\r\nPARENT CLASS \r\n\r\n```java\r\npublic class Animal {\r\n\tvoid animal() {\r\n\t\tSystem.out.println(&quot;I am an animal&quot;);\r\n\t}\r\n\tpublic void sound() {\r\n\t\tSystem.out.println(&quot;An animal makes a sound based on the animal that it is.&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tAnimal mypig = new Animal();\r\n\t\tmypig.sound();\r\n\t}\r\n}\r\n```\r\n\r\nONE OF FOUR CHILD CLASSES (others basically repeats) \r\n\r\n```java\r\npublic class cow extends Animal{\r\n\tpublic cow() {\r\n\t\tSystem.out.println(&quot;I am a cow&quot;);\r\n\t}\r\n\tpublic void sound() {\r\n\t\tSystem.out.println(&quot;cow says “moo”&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nMAIN CLASS \r\n\r\n```java\r\npublic class Main {\r\n\tpig p = new pig();\r\n\tsheep s = new sheep();\r\n\tduck d = new duck();\r\n\tcow c = new cow();\r\n}\r\n```\r\n\r\nANIMAL TEST CLASS\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class AnimalTest {\r\n\t\r\n\t//create main class\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t//create scanner\r\n\t\tScanner scan = new Scanner(System.in);\r\n\r\n\t\t//get scanner input\r\n\t\tString input = scan.nextLine();\t\r\n\t}\r\n}\r\n```\r\n\r\nI tried looking for test classes on YouTube but existing videos were only showing how to test existing classes. ","title":"Test Classes in Java","body":"<p>I have an assignment that looks like this:</p>\n<blockquote>\n<p>Write a class called <code>Animal</code> with a default <code>sound()</code> method. Create child classes with the <code>sound()</code> method for the following animals:pig, sheep, duck, cow.</p>\n<p>Create another class called <code>AnimalTest</code> that reads the command line user input and creates the appropriate Animal child class based on the type of animal, and then calls the animal’s <code>sound()</code> method. Take some time to reflect on which class to create.</p>\n</blockquote>\n<p>Do I write a test class that creates <code>Animal</code> child classes? How do you <em>create</em> animal classes from the Test Class? YouTube isn't too helpful on this.</p>\n<p>This is my code:</p>\n<p>PARENT CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n    void animal() {\n        System.out.println(&quot;I am an animal&quot;);\n    }\n    public void sound() {\n        System.out.println(&quot;An animal makes a sound based on the animal that it is.&quot;);\n    }\n    \n    public static void main(String[] args) {\n        Animal mypig = new Animal();\n        mypig.sound();\n    }\n}\n</code></pre>\n<p>ONE OF FOUR CHILD CLASSES (others basically repeats)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class cow extends Animal{\n    public cow() {\n        System.out.println(&quot;I am a cow&quot;);\n    }\n    public void sound() {\n        System.out.println(&quot;cow says “moo”&quot;);\n    }\n}\n</code></pre>\n<p>MAIN CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    pig p = new pig();\n    sheep s = new sheep();\n    duck d = new duck();\n    cow c = new cow();\n}\n</code></pre>\n<p>ANIMAL TEST CLASS</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class AnimalTest {\n    \n    //create main class\n    public static void main(String[] args) {\n        \n        //create scanner\n        Scanner scan = new Scanner(System.in);\n\n        //get scanner input\n        String input = scan.nextLine(); \n    }\n}\n</code></pre>\n<p>I tried looking for test classes on YouTube but existing videos were only showing how to test existing classes.</p>\n"},{"tags":["java","floating-point","int","type-conversion","rounding"],"comments":[{"owner":{"account_id":4253033,"reputation":9728,"user_id":3479456,"accept_rate":79,"display_name":"pushkin"},"score":0,"creation_date":1459965339,"post_id":36458709,"comment_id":60529695,"body_markdown":"Shouldn&#39;t you be comparing to 0.5 not to 0.3? And can&#39;t you just cast to an int? `(int) floatingPointNumber`","body":"Shouldn&#39;t you be comparing to 0.5 not to 0.3? And can&#39;t you just cast to an int? <code>(int) floatingPointNumber</code>"},{"owner":{"account_id":8194219,"reputation":55,"user_id":6167625,"accept_rate":60,"display_name":"JamesV."},"score":0,"creation_date":1459965587,"post_id":36458709,"comment_id":60529861,"body_markdown":"I have to use .3 so a number such as 1.7 rounds up, and and a number such as 1.6 rounds down. That&#39;s what the assignment is.","body":"I have to use .3 so a number such as 1.7 rounds up, and and a number such as 1.6 rounds down. That&#39;s what the assignment is."},{"owner":{"account_id":34083,"reputation":28467,"user_id":95954,"accept_rate":88,"display_name":"Rudy Velthuis"},"score":0,"creation_date":1459971811,"post_id":36458709,"comment_id":60533646,"body_markdown":"FWIW, `(int)num` is not called *multiplying* with `(int)`, it is called *casting* to `int`.","body":"FWIW, <code>(int)num</code> is not called <i>multiplying</i> with <code>(int)</code>, it is called <i>casting</i> to <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":6121945,"reputation":1417,"user_id":4775223,"display_name":"Wilmer SH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459965731,"creation_date":1459965731,"answer_id":36458907,"question_id":36458709,"body_markdown":"James you can cast a float to an int and it will drop the decimal part of the number.\r\n\r\n       import java.util.*;\r\n       import java.util.Scanner;\r\n       public class HandsOn14JamesVincent {\r\n           public static void main(String[] args){\r\n               Scanner input = new Scanner(System.in);\r\n               System.out.println(&quot;Enter a decimal number and I will round it.&quot;); \r\n               float num = input.nextFloat();\r\n               float num1 = Math.round(num);\r\n               float num2 = num1 - num;\r\n               if (num2 &lt;= .3)\r\n               System.out.println((int)Math.ceil(num));\r\n               if (num2 &gt; .3) \r\n               System.out.println((int)Math.floor(num));\r\n           } \r\n       }\r\n\r\nNotice the `(int)`","title":"How Do I Convert from int to float?","body":"<p>James you can cast a float to an int and it will drop the decimal part of the number.</p>\n\n<pre><code>   import java.util.*;\n   import java.util.Scanner;\n   public class HandsOn14JamesVincent {\n       public static void main(String[] args){\n           Scanner input = new Scanner(System.in);\n           System.out.println(\"Enter a decimal number and I will round it.\"); \n           float num = input.nextFloat();\n           float num1 = Math.round(num);\n           float num2 = num1 - num;\n           if (num2 &lt;= .3)\n           System.out.println((int)Math.ceil(num));\n           if (num2 &gt; .3) \n           System.out.println((int)Math.floor(num));\n       } \n   }\n</code></pre>\n\n<p>Notice the <code>(int)</code></p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692627413,"post_id":76937470,"comment_id":135645606,"body_markdown":"Granted, the question title is misleading. The OP wants to convert a **float** to an **int** (and not the other way round, as stated in the question title). Nonetheless, how does assigning a `float` variable to another `float` variable convert it to an `int`?","body":"Granted, the question title is misleading. The OP wants to convert a <b>float</b> to an <b>int</b> (and not the other way round, as stated in the question title). Nonetheless, how does assigning a <code>float</code> variable to another <code>float</code> variable convert it to an <code>int</code>?"}],"tags":[],"owner":{"account_id":19496194,"reputation":3,"user_id":15271207,"display_name":"Fiat Lux"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692489604,"creation_date":1692489604,"answer_id":76937470,"question_id":36458709,"body_markdown":"To solve this problem I created a float var call numF so i give num to numF `float numf = num` then I use the numF with the same value of num in meth operations\r\n","title":"How Do I Convert from int to float?","body":"<p>To solve this problem I created a float var call numF so i give num to numF <code>float numf = num</code> then I use the numF with the same value of num in meth operations</p>\n"}],"owner":{"account_id":8194219,"reputation":55,"user_id":6167625,"accept_rate":60,"display_name":"JamesV."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692489604,"creation_date":1459965153,"question_id":36458709,"body_markdown":"I am tasked with creating a program that rounds a number such as 2.7 to 3 and 2.5 to 2. I have already written a code that does this but my teacher wants the output in int. (i.e. 2.7 = 3).\r\nHere is what I have:\r\n\r\n       import java.util.*;\r\n       import java.util.Scanner;\r\n       public class HandsOn14JamesVincent {\r\n\t       public static void main(String[] args){\r\n\t           Scanner input = new Scanner(System.in);\r\n\t\t       System.out.println(&quot;Enter a decimal number and I will round it.&quot;); \r\n\t    \t   float num = input.nextFloat();\r\n\t\t       float num1 = Math.round(num);\r\n\t\t       float num2 = num1 - num;\r\n\t\t       if (num2 &lt;= .3)\r\n\t\t       System.out.println(Math.ceil(num));\r\n\t\t       if (num2 &gt; .3) \r\n\t\t       System.out.println(Math.floor(num));\r\n\t       } \r\n       }\r\nIt displays the correct number, but it displays them in float (2.0). I can&#39;t seem to figure out how to convert them. \r\nI tried multiplying the num by (int) but it didn&#39;t work. \r\nPlease Help!! \t ","title":"How Do I Convert from int to float?","body":"<p>I am tasked with creating a program that rounds a number such as 2.7 to 3 and 2.5 to 2. I have already written a code that does this but my teacher wants the output in int. (i.e. 2.7 = 3).\nHere is what I have:</p>\n\n<pre><code>   import java.util.*;\n   import java.util.Scanner;\n   public class HandsOn14JamesVincent {\n       public static void main(String[] args){\n           Scanner input = new Scanner(System.in);\n           System.out.println(\"Enter a decimal number and I will round it.\"); \n           float num = input.nextFloat();\n           float num1 = Math.round(num);\n           float num2 = num1 - num;\n           if (num2 &lt;= .3)\n           System.out.println(Math.ceil(num));\n           if (num2 &gt; .3) \n           System.out.println(Math.floor(num));\n       } \n   }\n</code></pre>\n\n<p>It displays the correct number, but it displays them in float (2.0). I can't seem to figure out how to convert them. \nI tried multiplying the num by (int) but it didn't work. \nPlease Help!!    </p>\n"},{"tags":["java","android","xml","kotlin","android-studio"],"comments":[{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1692426394,"post_id":76930602,"comment_id":135624294,"body_markdown":"It seems some resources is not available in your APK on Android 6. check your res folder to see if you overridden some xml resources for higher api levels. also check if all resources you used are compatible with lower API levels.","body":"It seems some resources is not available in your APK on Android 6. check your res folder to see if you overridden some xml resources for higher api levels. also check if all resources you used are compatible with lower API levels."}],"answers":[{"tags":[],"owner":{"account_id":8356567,"reputation":2899,"user_id":6276596,"display_name":"Furkan Yurdakul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692489481,"creation_date":1692489481,"answer_id":76937464,"question_id":76930602,"body_markdown":"That line refers to `android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;`.\r\n\r\nTry using `android:textAppearance=&quot;?textAppearanceListItemSmall&quot;` or `android:textAppearance=&quot;?attr/textAppearanceListItemSmall&quot;` and see if it helps. Usually `android:` prefixes are targeted towards higher API levels and Android 6 might require support library access.","title":"Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt; (Kotlin Android)","body":"<p>That line refers to <code>android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;</code>.</p>\n<p>Try using <code>android:textAppearance=&quot;?textAppearanceListItemSmall&quot;</code> or <code>android:textAppearance=&quot;?attr/textAppearanceListItemSmall&quot;</code> and see if it helps. Usually <code>android:</code> prefixes are targeted towards higher API levels and Android 6 might require support library access.</p>\n"}],"owner":{"account_id":25531905,"reputation":55,"user_id":19319762,"display_name":"Amir Elahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692489481,"creation_date":1692371669,"question_id":76930602,"body_markdown":"Before beginning, I have to say that I do not have huge image in my project\r\n\r\nThe problem is my **app runs in android 13** with no problem, But **it does not run in android 6** (app stops immediately)\r\n\r\nAnd I have this error : `java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sepehrfarm/com.example.sepehrfarm.MainActivity}: android.view.InflateException: Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt;`\r\n\r\nactivity_main.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/top_linearLayout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;240dp&quot;\r\n            android:background=&quot;@drawable/top_background&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n    \r\n            android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;\r\n            android:id=&quot;@+id/sepehrText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/sepehrName&quot;\r\n            android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n            android:textColor=&quot;@color/white&quot;\r\n            android:textSize=&quot;50sp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            android:layout_marginTop=&quot;30dp&quot;/&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardview0&quot;\r\n    \r\n            android:layout_width=&quot;180dp&quot;\r\n            android:layout_height=&quot;90dp&quot;\r\n            app:cardCornerRadius=&quot;15dp&quot;\r\n            app:cardElevation=&quot;21dp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;@+id/cardView&quot;&gt;\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/card_background&quot;&gt;\r\n                &lt;ImageView\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    android:src=&quot;@drawable/sepehr_logo&quot;\r\n                    android:padding=&quot;2dp&quot;/&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardView&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;400dp&quot;\r\n            android:layout_marginStart=&quot;30dp&quot;\r\n            android:layout_marginTop=&quot;50dp&quot;\r\n            android:layout_marginEnd=&quot;30dp&quot;\r\n            app:cardElevation=&quot;20dp&quot;\r\n    \r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@id/sepehrText&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:layoutDirection=&quot;rtl&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/logintxt&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;50dp&quot;\r\n                    android:text=&quot;@string/login_txt&quot;\r\n                    android:fontFamily=&quot;@font/iransans&quot;\r\n                    android:textStyle=&quot;bold&quot;\r\n                    android:textSize=&quot;40sp&quot;\r\n                    android:textColor=&quot;@color/black&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/edit_text_background&quot;\r\n                    android:drawableStart=&quot;@drawable/phone_icon&quot;\r\n                    android:drawablePadding=&quot;10dp&quot;\r\n                    android:inputType=&quot;phone&quot;\r\n                    android:textAlignment=&quot;textEnd&quot;\r\n                    android:paddingStart=&quot;10dp&quot;\r\n                    android:drawableTint=&quot;@color/black&quot;\r\n                    android:hint=&quot;@string/phoneNum_txt&quot;/&gt;\r\n    \r\n                &lt;EditText\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:layout_marginEnd=&quot;20dp&quot;\r\n                    android:layout_marginTop=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/edit_text_background&quot;\r\n                    android:drawableStart=&quot;@drawable/lock_icon&quot;\r\n                    android:drawablePadding=&quot;10dp&quot;\r\n                    android:inputType=&quot;textPassword&quot;\r\n                    android:paddingStart=&quot;10dp&quot;\r\n                    android:drawableTint=&quot;@color/black&quot;\r\n                    android:textAlignment=&quot;textEnd&quot;\r\n                    android:hint=&quot;@string/password_txt&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:textColor=&quot;@color/primary&quot;\r\n                    android:text=&quot;@string/forget_password_txt&quot;\r\n                    android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                    android:layout_marginTop=&quot;10dp&quot;/&gt;\r\n    \r\n    \r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:layout_width=&quot;160dp&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;center_horizontal&quot;\r\n                    android:layout_marginTop=&quot;30dp&quot;\r\n                    android:background=&quot;@drawable/button_background&quot;\r\n                    android:text=&quot;@string/login_txt&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                    android:textSize=&quot;20dp&quot;/&gt;\r\n    \r\n    \r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/otp_login_layout&quot;\r\n    \r\n            android:layout_width=&quot;270dp&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:background=&quot;@drawable/login_with_phone_background&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;40dp&quot;\r\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\r\n                android:text=&quot;@string/otp_login_txt&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nMainActiviy.kt:\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n        }\r\n    }\r\n\r\nbuild.gradle (:app):\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n    }\r\n    \r\n    android {\r\n        namespace &#39;com.example.sepehrfarm&#39;\r\n        compileSdk 33\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.example.sepehrfarm&quot;\r\n            minSdk 21\r\n            targetSdk 33\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &#39;1.8&#39;\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    }\r\n\r\nMainfest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n            android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.SepehrFarm&quot;\r\n            tools:targetApi=&quot;31&quot;&gt;\r\n            &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n                android:exported=&quot;true&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\nI do not understand the problem, I will be grateful if you help me find the solution.\r\n\r\n**I have read the current solutions** but it did not help","title":"Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt; (Kotlin Android)","body":"<p>Before beginning, I have to say that I do not have huge image in my project</p>\n<p>The problem is my <strong>app runs in android 13</strong> with no problem, But <strong>it does not run in android 6</strong> (app stops immediately)</p>\n<p>And I have this error : <code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sepehrfarm/com.example.sepehrfarm.MainActivity}: android.view.InflateException: Binary XML file line #17: Binary XML file line #17: Error inflating class &lt;unknown&gt;</code></p>\n<p>activity_main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/top_linearLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;240dp&quot;\n        android:background=&quot;@drawable/top_background&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n\n        android:textAppearance=&quot;?android:attr/textAppearanceListItemSmall&quot;\n        android:id=&quot;@+id/sepehrText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/sepehrName&quot;\n        android:fontFamily=&quot;@font/iransans_fanum&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;50sp&quot;\n        android:textStyle=&quot;bold&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        android:layout_marginTop=&quot;30dp&quot;/&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardview0&quot;\n\n        android:layout_width=&quot;180dp&quot;\n        android:layout_height=&quot;90dp&quot;\n        app:cardCornerRadius=&quot;15dp&quot;\n        app:cardElevation=&quot;21dp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@+id/cardView&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/cardView&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:background=&quot;@drawable/card_background&quot;&gt;\n            &lt;ImageView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:src=&quot;@drawable/sepehr_logo&quot;\n                android:padding=&quot;2dp&quot;/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardView&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;400dp&quot;\n        android:layout_marginStart=&quot;30dp&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:layout_marginEnd=&quot;30dp&quot;\n        app:cardElevation=&quot;20dp&quot;\n\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/sepehrText&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layoutDirection=&quot;rtl&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/logintxt&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginTop=&quot;50dp&quot;\n                android:text=&quot;@string/login_txt&quot;\n                android:fontFamily=&quot;@font/iransans&quot;\n                android:textStyle=&quot;bold&quot;\n                android:textSize=&quot;40sp&quot;\n                android:textColor=&quot;@color/black&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/edit_text_background&quot;\n                android:drawableStart=&quot;@drawable/phone_icon&quot;\n                android:drawablePadding=&quot;10dp&quot;\n                android:inputType=&quot;phone&quot;\n                android:textAlignment=&quot;textEnd&quot;\n                android:paddingStart=&quot;10dp&quot;\n                android:drawableTint=&quot;@color/black&quot;\n                android:hint=&quot;@string/phoneNum_txt&quot;/&gt;\n\n            &lt;EditText\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;50dp&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                android:layout_marginTop=&quot;20dp&quot;\n                android:background=&quot;@drawable/edit_text_background&quot;\n                android:drawableStart=&quot;@drawable/lock_icon&quot;\n                android:drawablePadding=&quot;10dp&quot;\n                android:inputType=&quot;textPassword&quot;\n                android:paddingStart=&quot;10dp&quot;\n                android:drawableTint=&quot;@color/black&quot;\n                android:textAlignment=&quot;textEnd&quot;\n                android:hint=&quot;@string/password_txt&quot; /&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;20dp&quot;\n                android:textColor=&quot;@color/primary&quot;\n                android:text=&quot;@string/forget_password_txt&quot;\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\n                android:layout_marginTop=&quot;10dp&quot;/&gt;\n\n\n            &lt;androidx.appcompat.widget.AppCompatButton\n                android:layout_width=&quot;160dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center_horizontal&quot;\n                android:layout_marginTop=&quot;30dp&quot;\n                android:background=&quot;@drawable/button_background&quot;\n                android:text=&quot;@string/login_txt&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:fontFamily=&quot;@font/iransans_fanum&quot;\n                android:textSize=&quot;20dp&quot;/&gt;\n\n\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/otp_login_layout&quot;\n\n        android:layout_width=&quot;270dp&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:background=&quot;@drawable/login_with_phone_background&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/cardView&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/cardView&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/cardView&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;40dp&quot;\n            android:fontFamily=&quot;@font/iransans_fanum&quot;\n            android:text=&quot;@string/otp_login_txt&quot;\n            android:textSize=&quot;15sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>MainActiviy.kt:</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n<p>build.gradle (:app):</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n}\n\nandroid {\n    namespace 'com.example.sepehrfarm'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.sepehrfarm&quot;\n        minSdk 21\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<p>Mainfest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.SepehrFarm&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I do not understand the problem, I will be grateful if you help me find the solution.</p>\n<p><strong>I have read the current solutions</strong> but it did not help</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1601452470,"post_id":64133038,"comment_id":113409279,"body_markdown":"Same here, I don&#39;t think it has anything to do with installing or removing other programs. Usually, the problem corrects itself after you have started IJ via the bat file.","body":"Same here, I don&#39;t think it has anything to do with installing or removing other programs. Usually, the problem corrects itself after you have started IJ via the bat file."},{"owner":{"account_id":19626756,"reputation":1,"user_id":14365915,"display_name":"Minjoon Choi"},"score":0,"creation_date":1601453271,"post_id":64133038,"comment_id":113409608,"body_markdown":"Well, I can start IJ via the bat file, but that doesn&#39;t seem to correct the problem... :(","body":"Well, I can start IJ via the bat file, but that doesn&#39;t seem to correct the problem... :("},{"owner":{"account_id":12273514,"reputation":1909,"user_id":8958060,"display_name":"Petr Rastegaev"},"score":0,"creation_date":1601977612,"post_id":64133038,"comment_id":113567122,"body_markdown":"it may be caused by https://youtrack.jetbrains.com/issue/IDEA-184029.\n\n“This is caused by Windows&#39; Exploit protection, by the Mandatory ASLR (Address Space Layout Randomization), to be exact. This is off by default on Windows, but can be changed. If you want to keep Mandatory ASLR on by default, you will have to add an override for idea.exe or idea64.exe that disables Mandatory ASLR for the executable”","body":"it may be caused by <a href=\"https://youtrack.jetbrains.com/issue/IDEA-184029\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-184029</a>.  “This is caused by Windows&#39; Exploit protection, by the Mandatory ASLR (Address Space Layout Randomization), to be exact. This is off by default on Windows, but can be changed. If you want to keep Mandatory ASLR on by default, you will have to add an override for idea.exe or idea64.exe that disables Mandatory ASLR for the executable”"}],"answers":[{"comments":[{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":0,"creation_date":1646126751,"post_id":71246642,"comment_id":126041360,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/31147969)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/31147969\">From Review</a>"}],"tags":[],"owner":{"account_id":1614389,"reputation":51,"user_id":1492490,"display_name":"Zhiqiang Liu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645672432,"creation_date":1645672432,"answer_id":71246642,"question_id":64133038,"body_markdown":"I met the same problem as what you said. I run the idea64.exe as administrator mode, it can be launched correctly. Very confuse me.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>I met the same problem as what you said. I run the idea64.exe as administrator mode, it can be launched correctly. Very confuse me.</p>\n"},{"comments":[{"owner":{"account_id":10491815,"reputation":26310,"user_id":7733418,"display_name":"Yunnosch"},"score":0,"creation_date":1652872554,"post_id":72288093,"comment_id":127710507,"body_markdown":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;","body":"Please phrase this as an explained conditional answer, in order to avoid the impression of asking a clarification question instead of answering (for which a comment should be used instead of an answer, compare <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\" title=\"why do i need 50 reputation to comment what can i do instead\">meta.stackexchange.com/questions/214173/&hellip;</a> ). For example like &quot;If your problem is ... then the solution is to .... because .... .&quot;"}],"tags":[],"owner":{"account_id":6835378,"reputation":1,"user_id":5257599,"display_name":"Abhishek J S"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652872502,"creation_date":1652872236,"answer_id":72288093,"question_id":64133038,"body_markdown":"You have to put the agent jar file under the Jetbrains of the Program Files.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>You have to put the agent jar file under the Jetbrains of the Program Files.</p>\n"},{"tags":[],"owner":{"account_id":6869537,"reputation":1293,"user_id":5280512,"display_name":"Tom Rutchik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692488413,"creation_date":1692488413,"answer_id":76937425,"question_id":64133038,"body_markdown":"In my case I originally installed Intelli in my windows machine user account.  When I log using that account I have no issues.  I&#39;ve since then created a new domain user account on my machine.  When I logged onto that account and tried to access the Intellij IDE that&#39;s when I observed the same issues that Choi had.  I was able to start the IDE if I ran it as administrator. I went to the folder where the IDE was installed and gave myself full permissions.  When I did this, I got further along, but I got some issues accessing some dll in the AppData directory.  It might have been the AppData directory for the user account that the IDEA was originally installed with (I don&#39;t recall for sure). If it was the other user account that certainly explains why the IDE might have issues trying to access that dll.  The short of it is that I came to the conclusion that trying to fix the problem by correcting permission issues seems to be problematic.  I opted to just reinstall the Intellj IDEA again. In my case there was a newer version of the IDE available, so I would have been doing that anyway.\r\n\r\nChoi&#39;s case seems to occur for some other reason than my situation.  It&#39;s certainly baffling to think that uninstalling a non-related product would affect on how the Intellij IDE works. Removing the MC VC++ Redistributable should not have any effect on how the Intellj IDE starts up. I think those activities are not related as to why your Intellij IDEA won&#39;t start.  From my experience, I&#39;ve learned that file permissions issue can cause the observed symptoms.  Perhaps in doing the delete of this non-related software, Choi unintentionally messed up some file or directory permission. At any rate, that&#39;s water over the dam. My suggestion would be to reinstall the Intellj IDE.","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>In my case I originally installed Intelli in my windows machine user account.  When I log using that account I have no issues.  I've since then created a new domain user account on my machine.  When I logged onto that account and tried to access the Intellij IDE that's when I observed the same issues that Choi had.  I was able to start the IDE if I ran it as administrator. I went to the folder where the IDE was installed and gave myself full permissions.  When I did this, I got further along, but I got some issues accessing some dll in the AppData directory.  It might have been the AppData directory for the user account that the IDEA was originally installed with (I don't recall for sure). If it was the other user account that certainly explains why the IDE might have issues trying to access that dll.  The short of it is that I came to the conclusion that trying to fix the problem by correcting permission issues seems to be problematic.  I opted to just reinstall the Intellj IDEA again. In my case there was a newer version of the IDE available, so I would have been doing that anyway.</p>\n<p>Choi's case seems to occur for some other reason than my situation.  It's certainly baffling to think that uninstalling a non-related product would affect on how the Intellij IDE works. Removing the MC VC++ Redistributable should not have any effect on how the Intellj IDE starts up. I think those activities are not related as to why your Intellij IDEA won't start.  From my experience, I've learned that file permissions issue can cause the observed symptoms.  Perhaps in doing the delete of this non-related software, Choi unintentionally messed up some file or directory permission. At any rate, that's water over the dam. My suggestion would be to reinstall the Intellj IDE.</p>\n"}],"owner":{"account_id":19626756,"reputation":1,"user_id":14365915,"display_name":"Minjoon Choi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1692488413,"creation_date":1601451784,"question_id":64133038,"body_markdown":"I am a user of IntelliJ IDEA, and it used to work properly.\r\nYesterday, I removed Visual Studio 2019 from my laptop, and also some program files named &#39;Microsoft Visual C++ 2008 Redistributable ...&#39;.\r\nThen I installed Visual Studio Code.\r\n\r\nSuddenly, when I double click the icon of IntelliJ IDEA, the opening screen doesn&#39;t appear at all, and nothing happens. I checked the operations going on, and there was nothing.\r\nThis was the same when I clicked idea64.exe (my laptop is Windows 10, 64 bits)\r\nBut when I tried idea.bat, the cmd opened with the following error, and IntelliJ opened properly.\r\n\r\n---------------------\r\n\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n2020-09-30 16:40:07,217 [   1749]   WARN - pi.util.registry.RegistryValue - The registry key &#39;ide.cache.screen.insets&#39; accessed, but not loaded yet\r\n2020-09-30 16:40:07,229 [   1761]   WARN - pi.util.registry.RegistryValue - The registry key &#39;ide.insets.cache.timeout&#39; accessed, but not loaded yet\r\n\r\n---------------------------\r\n\r\nWhat&#39;s the problem and solution to this? How can I open IntelliJ IDEA properly by only clicking the icon that leads to idea64.exe?\r\n","title":"IntelliJ IDEA does not open with idea64.exe but opens with idea.bat","body":"<p>I am a user of IntelliJ IDEA, and it used to work properly.\nYesterday, I removed Visual Studio 2019 from my laptop, and also some program files named 'Microsoft Visual C++ 2008 Redistributable ...'.\nThen I installed Visual Studio Code.</p>\n<p>Suddenly, when I double click the icon of IntelliJ IDEA, the opening screen doesn't appear at all, and nothing happens. I checked the operations going on, and there was nothing.\nThis was the same when I clicked idea64.exe (my laptop is Windows 10, 64 bits)\nBut when I tried idea.bat, the cmd opened with the following error, and IntelliJ opened properly.</p>\n<hr />\n<p>OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\n2020-09-30 16:40:07,217 [   1749]   WARN - pi.util.registry.RegistryValue - The registry key 'ide.cache.screen.insets' accessed, but not loaded yet\n2020-09-30 16:40:07,229 [   1761]   WARN - pi.util.registry.RegistryValue - The registry key 'ide.insets.cache.timeout' accessed, but not loaded yet</p>\n<hr />\n<p>What's the problem and solution to this? How can I open IntelliJ IDEA properly by only clicking the icon that leads to idea64.exe?</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":4615117,"reputation":2794,"user_id":3741900,"display_name":"Cornel Raiu"},"score":1,"creation_date":1570290185,"post_id":58249521,"comment_id":102870147,"body_markdown":"please show us what you tried so we can help adjust your code to a working example","body":"please show us what you tried so we can help adjust your code to a working example"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1570302255,"creation_date":1570288457,"answer_id":58249637,"question_id":58249521,"body_markdown":"Try this.\r\n```java\r\n\t  int values[][] = new int[][] { { 1, 2\r\n\t\t\t}, { 3, 4\r\n\t\t\t}, { 5, 6\r\n\t\t\t}\r\n\t  };\r\n\t  int[] v = Arrays.stream(values).reduce(new int[] { 0, 0\r\n\t  }, (a, b) -&gt;\r\n\t  {\r\n\t\t a[0] += b[0];\r\n\t\t a[1] += b[1];\r\n\t\t return a;\r\n\t  });\r\n\t  System.out.println(Arrays.toString(v));\r\n```\r\nEDIT:\r\n\r\nIn regards to your other question about accomodating different number of columns.  Yes you can do it.  But just because you can doesn&#39;t mean you should or that it&#39;s the best way.  What follows is a simple method that sums up integers in any 2D array regardless of row length.  It even handles ragged arrays.  Note that this sums up the columns, first come, first served basis as they are treated as though they are left justified relative to each other.\r\n\r\nInitialize a irregular (ragged or different row length) array\r\n\r\n```java\r\n\t  int values[][] = new int[][] { { 1\r\n\t\t\t}, { 20, 3\r\n\t\t\t}, { 1, 2, 4\r\n\t\t\t}, { 3, 4, 10\r\n\t\t\t}, { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\r\n\t\t\t}\r\n\t  };\r\n```\r\n\r\nNow compute the sum using the following method.\r\n\t \r\n```java\r\n   public static int[] sumColumns(int[][] vals) {\r\n      // compute the maximum row length (most columns)\r\n\t  int maxColumns = 0;\r\n\t  for (int r = 0; r &lt; vals.length; r++) {\r\n\t\t maxColumns = Math.max(maxColumns, vals[r].length);\r\n\t  }\r\n\t \r\n      // use that to initialize the return array\r\n      int[] sums = new int[maxColumns];\r\n\r\n      //now just iterate over the rows and columns\r\n      // calculating the sum.  \r\n\t  for (int r = 0; r &lt; vals.length; r++) {\r\n\t\t for (int c = 0; c &lt; vals[r].length; c++) {\r\n\t\t\tsums[c] += vals[r][c];\r\n\t\t }\r\n\t  }\r\n\t  return sums;\r\n   }\r\n```\r\n\r\nTo do any rectangular matrix with streams, do the following:\r\n\r\n```java\r\n\t       int[] result2 =\r\n\t           Arrays.stream(values).reduce(new int[values[0].length], (a, b) -&gt;\r\n\t        {\r\n\t\t       for (int i = 0; i &lt; values[0].length; ++i) {\r\n\t\t\t      a[i] += b[i];\r\n\t\t       }\r\n\t\t       return a;\r\n\t        });","title":"Using stream to get results per column in 2D array","body":"<p>Try this.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>      int values[][] = new int[][] { { 1, 2\n            }, { 3, 4\n            }, { 5, 6\n            }\n      };\n      int[] v = Arrays.stream(values).reduce(new int[] { 0, 0\n      }, (a, b) -&gt;\n      {\n         a[0] += b[0];\n         a[1] += b[1];\n         return a;\n      });\n      System.out.println(Arrays.toString(v));\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>In regards to your other question about accomodating different number of columns.  Yes you can do it.  But just because you can doesn't mean you should or that it's the best way.  What follows is a simple method that sums up integers in any 2D array regardless of row length.  It even handles ragged arrays.  Note that this sums up the columns, first come, first served basis as they are treated as though they are left justified relative to each other.</p>\n\n<p>Initialize a irregular (ragged or different row length) array</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>      int values[][] = new int[][] { { 1\n            }, { 20, 3\n            }, { 1, 2, 4\n            }, { 3, 4, 10\n            }, { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10\n            }\n      };\n</code></pre>\n\n<p>Now compute the sum using the following method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>   public static int[] sumColumns(int[][] vals) {\n      // compute the maximum row length (most columns)\n      int maxColumns = 0;\n      for (int r = 0; r &lt; vals.length; r++) {\n         maxColumns = Math.max(maxColumns, vals[r].length);\n      }\n\n      // use that to initialize the return array\n      int[] sums = new int[maxColumns];\n\n      //now just iterate over the rows and columns\n      // calculating the sum.  \n      for (int r = 0; r &lt; vals.length; r++) {\n         for (int c = 0; c &lt; vals[r].length; c++) {\n            sums[c] += vals[r][c];\n         }\n      }\n      return sums;\n   }\n</code></pre>\n\n<p>To do any rectangular matrix with streams, do the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>           int[] result2 =\n               Arrays.stream(values).reduce(new int[values[0].length], (a, b) -&gt;\n            {\n               for (int i = 0; i &lt; values[0].length; ++i) {\n                  a[i] += b[i];\n               }\n               return a;\n            });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1570302163,"post_id":58251273,"comment_id":102873196,"body_markdown":"Your question was perfectly clear to me.  Lambdas and streams are useful tools, but they aren&#39;t always appropriate the task at hand.  And you&#39;re overly complicating the lambda.  See my final edit of my answer.","body":"Your question was perfectly clear to me.  Lambdas and streams are useful tools, but they aren&#39;t always appropriate the task at hand.  And you&#39;re overly complicating the lambda.  See my final edit of my answer."}],"tags":[],"owner":{"account_id":16831055,"reputation":31,"user_id":12169019,"display_name":"Obby"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570301558,"creation_date":1570300927,"answer_id":58251273,"question_id":58249521,"body_markdown":"My question was not precise enough (sorry for my poor english level).\r\n\r\nIn the first example with stream it was based on fact that there was 2 values per rows. In my cas I will always have the same numbers of column but I don&#39;t know how many at coding time.\r\n\r\nSo with a variable &quot;size&quot;, how code will be modified ?\r\n\r\n    int values[][] = new int[][] {\r\n                {1,2,3},\r\n                {4,5,6},\r\n                {7,8,9}\r\n        };\r\n\r\n        int size = 3;\r\n        int[] result2 = Arrays.stream(arr)\r\n                .reduce(new int[size],\r\n                        (a, b) -&gt; new int[] { a[0] + b[0], a[1] + b[1] });\r\n        System.out.println(Arrays.toString(result2));\r\n\r\n\r\nI&#39;m much more focus on the &quot;a[0] + b[0]&quot; part of code\r\n\r\n\r\nEDIT : I finally got something, but I though I could do without the for-loop :\r\n\r\n    int values[][] = new int[][] {\r\n                {1,2,3},\r\n                {4,5,6},\r\n                {7,8,9}\r\n        };\r\n\r\n        int size = 3;\r\n        int[] result2 = Arrays.stream(values)\r\n                .reduce(new int[size],\r\n                        (a, b) -&gt; {\r\n                        int[] myInt = new int[size];\r\n                        for (int i =0; i &lt; size ; ++i) {\r\n                            myInt[i] = a[i] + b[i];\r\n                        }\r\n                        return myInt;\r\n                });\r\n        System.out.println(Arrays.toString(result2));","title":"Using stream to get results per column in 2D array","body":"<p>My question was not precise enough (sorry for my poor english level).</p>\n\n<p>In the first example with stream it was based on fact that there was 2 values per rows. In my cas I will always have the same numbers of column but I don't know how many at coding time.</p>\n\n<p>So with a variable \"size\", how code will be modified ?</p>\n\n<pre><code>int values[][] = new int[][] {\n            {1,2,3},\n            {4,5,6},\n            {7,8,9}\n    };\n\n    int size = 3;\n    int[] result2 = Arrays.stream(arr)\n            .reduce(new int[size],\n                    (a, b) -&gt; new int[] { a[0] + b[0], a[1] + b[1] });\n    System.out.println(Arrays.toString(result2));\n</code></pre>\n\n<p>I'm much more focus on the \"a[0] + b[0]\" part of code</p>\n\n<p>EDIT : I finally got something, but I though I could do without the for-loop :</p>\n\n<pre><code>int values[][] = new int[][] {\n            {1,2,3},\n            {4,5,6},\n            {7,8,9}\n    };\n\n    int size = 3;\n    int[] result2 = Arrays.stream(values)\n            .reduce(new int[size],\n                    (a, b) -&gt; {\n                    int[] myInt = new int[size];\n                    for (int i =0; i &lt; size ; ++i) {\n                        myInt[i] = a[i] + b[i];\n                    }\n                    return myInt;\n            });\n    System.out.println(Arrays.toString(result2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692487447,"creation_date":1692487447,"answer_id":76937387,"question_id":58249521,"body_markdown":"This is a good use case for [`Collectors.teeing`][1], but it is available only from Java 12. Just in case, here is a usage example:\r\n```\r\nint[] res =\r\n    Arrays.stream(values)\r\n        .collect(\r\n            Collectors.teeing(\r\n                Collectors.summingInt(arr -&gt; arr[0]),\r\n                Collectors.summingInt(arr -&gt; arr[1]),\r\n                (a, b) -&gt; new int[] {a, b}));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Using stream to get results per column in 2D array","body":"<p>This is a good use case for <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a>, but it is available only from Java 12. Just in case, here is a usage example:</p>\n<pre><code>int[] res =\n    Arrays.stream(values)\n        .collect(\n            Collectors.teeing(\n                Collectors.summingInt(arr -&gt; arr[0]),\n                Collectors.summingInt(arr -&gt; arr[1]),\n                (a, b) -&gt; new int[] {a, b}));\n</code></pre>\n"}],"owner":{"account_id":16831055,"reputation":31,"user_id":12169019,"display_name":"Obby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1243,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":58249637,"answer_count":3,"score":-1,"last_activity_date":1692487447,"creation_date":1570287800,"question_id":58249521,"body_markdown":"I&#39;m a complete newbie to API stream, and I want to do some operation on a 2D array\r\n\r\nThe following code is a simplified version of what I want to do. \r\n\r\n\r\nI have an array of values :\r\n\r\n    int values[][] = new int[][] {{1,2},{3,4},{5,6}};\r\n\r\nI&#39;d like to process values per column and get \r\n\r\n    int result[] = {x,y}\r\n\r\nFor example, if I do a sum, it should get me \r\n\r\n    result[] = {9, 12}\r\n\r\nThanks by advance for your help","title":"Using stream to get results per column in 2D array","body":"<p>I'm a complete newbie to API stream, and I want to do some operation on a 2D array</p>\n\n<p>The following code is a simplified version of what I want to do. </p>\n\n<p>I have an array of values :</p>\n\n<pre><code>int values[][] = new int[][] {{1,2},{3,4},{5,6}};\n</code></pre>\n\n<p>I'd like to process values per column and get </p>\n\n<pre><code>int result[] = {x,y}\n</code></pre>\n\n<p>For example, if I do a sum, it should get me </p>\n\n<pre><code>result[] = {9, 12}\n</code></pre>\n\n<p>Thanks by advance for your help</p>\n"},{"tags":["java","jenkins","groovy","jenkins-plugins","jenkins-groovy"],"owner":{"account_id":13504110,"reputation":65,"user_id":9742740,"display_name":"MTLTR_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692486516,"creation_date":1691485184,"question_id":76857980,"body_markdown":"I&#39;m trying to pass a variable to the parameter.\r\nI have a structure of pipeline: JOB_NAME &gt; env (ex. test, dev as multibranch pipeline type) &gt; branches\r\n\r\nI want to display different parameters (in GUI) for the user depending on the name of the env. \r\nIn Jenkinsfile I created a simple function. Variable envName has a type of env (test, dev, etc.) and it&#39;s ok.\r\n\r\n    def getEnvName() {\r\n        envName = &quot;${JOB_NAME.split(&#39;/&#39;)[1]}&quot;\r\n    }\r\n\r\nI tried to use the plugin Active Choices (https://plugins.jenkins.io/uno-choice/) but I cannot pass envName to the parameter.\r\n\r\nPart of the implementation of the plugin in code.\r\n\r\n    properties([\r\n    parameters([\r\n        [$class: &#39;ChoiceParameter&#39;, \r\n            choiceType: &#39;PT_SINGLE_SELECT&#39;, \r\n            name: &#39;Env&#39;, \r\n            script: [\r\n                $class: &#39;GroovyScript&#39;, \r\n                fallbackScript: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;return[\\&#39;Could not get Env\\&#39;]&#39;\r\n                ], \r\n                script: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: &#39;&#39;&#39;\r\n                        HERE I NEED MY envName VARIABLE\r\n                        &#39;&#39;&#39;\r\n                ]\r\n            ]\r\n        ], \r\n        [$class: &#39;CascadeChoiceParameter&#39;, \r\n            choiceType: &#39;PT_SINGLE_SELECT&#39;, \r\n            name: &#39;Server&#39;, \r\n            referencedParameters: &#39;Env&#39;, \r\n            script: [\r\n                $class: &#39;GroovyScript&#39;, \r\n                fallbackScript: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;return[\\&#39;Could not get Environment from Env Param\\&#39;]&#39;\r\n                ], \r\n                script: [\r\n                    classpath: [], \r\n                    sandbox: false, \r\n                    script: \r\n                        &#39;&#39;&#39; if (Env.equals(&quot;test&quot;)){\r\n                                return[&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,&quot;test5&quot;,&quot;test5&quot;]\r\n                            }\r\n                            else if(Env.equals(&quot;dev&quot;)){\r\n                                return[&quot;dev1&quot;,&quot;dev2&quot;,&quot;dev3&quot;]\r\n                            }\r\n                        &#39;&#39;&#39;\r\n                ]\r\n            ]\r\n        ]\r\n    ])\r\n    ])\r\n\r\nHas anyone tried to do something like this?\r\nI&#39;m open to any solution. Thanks!\r\n","title":"Jenkins dynamic passing of a variable to a parameter","body":"<p>I'm trying to pass a variable to the parameter.\nI have a structure of pipeline: JOB_NAME &gt; env (ex. test, dev as multibranch pipeline type) &gt; branches</p>\n<p>I want to display different parameters (in GUI) for the user depending on the name of the env.\nIn Jenkinsfile I created a simple function. Variable envName has a type of env (test, dev, etc.) and it's ok.</p>\n<pre><code>def getEnvName() {\n    envName = &quot;${JOB_NAME.split('/')[1]}&quot;\n}\n</code></pre>\n<p>I tried to use the plugin Active Choices (<a href=\"https://plugins.jenkins.io/uno-choice/\" rel=\"nofollow noreferrer\">https://plugins.jenkins.io/uno-choice/</a>) but I cannot pass envName to the parameter.</p>\n<p>Part of the implementation of the plugin in code.</p>\n<pre><code>properties([\nparameters([\n    [$class: 'ChoiceParameter', \n        choiceType: 'PT_SINGLE_SELECT', \n        name: 'Env', \n        script: [\n            $class: 'GroovyScript', \n            fallbackScript: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    'return[\\'Could not get Env\\']'\n            ], \n            script: [\n                classpath: [], \n                sandbox: false, \n                script: '''\n                    HERE I NEED MY envName VARIABLE\n                    '''\n            ]\n        ]\n    ], \n    [$class: 'CascadeChoiceParameter', \n        choiceType: 'PT_SINGLE_SELECT', \n        name: 'Server', \n        referencedParameters: 'Env', \n        script: [\n            $class: 'GroovyScript', \n            fallbackScript: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    'return[\\'Could not get Environment from Env Param\\']'\n            ], \n            script: [\n                classpath: [], \n                sandbox: false, \n                script: \n                    ''' if (Env.equals(&quot;test&quot;)){\n                            return[&quot;test1&quot;,&quot;test2&quot;,&quot;test3&quot;,&quot;test4&quot;,&quot;test5&quot;,&quot;test5&quot;]\n                        }\n                        else if(Env.equals(&quot;dev&quot;)){\n                            return[&quot;dev1&quot;,&quot;dev2&quot;,&quot;dev3&quot;]\n                        }\n                    '''\n            ]\n        ]\n    ]\n])\n])\n</code></pre>\n<p>Has anyone tried to do something like this?\nI'm open to any solution. Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1686055918,"post_id":76411549,"comment_id":134744247,"body_markdown":"Someone had same problem, here is the solution: https://stackoverflow.com/a/37799795/865448","body":"Someone had same problem, here is the solution: <a href=\"https://stackoverflow.com/a/37799795/865448\">stackoverflow.com/a/37799795/865448</a>"}],"answers":[{"tags":[],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1692485637,"creation_date":1686027513,"answer_id":76411550,"question_id":76411549,"body_markdown":"Answer to the question is this class which let&#39;s you to decide the colors for background and text and for the button itself. Other design point is to optimize it to be typed extremely easily in debugging context - reason for breaking the camel case syntax which I never do. I don&#39;t feel bad about it. You can change that one letter...i guess. Text of the used JTextPane length can be anything and scroll bar gets exited if the text grows long. It is easily callable alternative utility class for JOptionPane. One thing worth of notice is that the info method smells it is not part of GUI Event Dispatch Thread(EDT) execution.If not it assigns itself as EDT task. You can choose if it stops(blocking function) execution or not. No EDT violation happens in any case. Basic usage is msgbox.info(&quot;hello&quot;) If you want to print some of the top of the stack trace bundled is one utility function named msgbox.stackTop(numStackelements) \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class msgbox implements ActionListener {\r\n        //**********************************************\r\n        JButton okButton;\r\n        JFrame frame;\r\n    \r\n        public msgbox(String msg) {\r\n    \r\n            frame = new JFrame(&quot;&quot;);\r\n            //buffered image replaces white JAVA icon with nothing\r\n            Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\r\n            frame.setIconImage(icon);\r\n    \r\n            frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            Container contPane = frame.getContentPane();\r\n            contPane.setLayout(new BorderLayout());\r\n            JTextPane info = new JTextPane();\r\n            JScrollPane scroll = initJTextPane(info, msg);\r\n            contPane.add(scroll, BorderLayout.CENTER);\r\n    \r\n            JPanel buttonPanel = new JPanel(); //Flow layout by default\r\n            buttonPanel.setBackground(new Color(0, 0, 0));\r\n            buttonPanel.setForeground(new Color(107, 216, 61));\r\n            okButton = new JButton(&quot;OK&quot;);\r\n            okButton.addActionListener(this);\r\n            okButton.setBackground(new Color(0, 0, 0));\r\n            okButton.setForeground(new Color(107, 216, 61));\r\n            buttonPanel.add(okButton);\r\n            contPane.add(buttonPanel, BorderLayout.SOUTH);\r\n    \r\n            //screen size investigation \r\n            // in case we need to put msg to a particular place\r\n            //this is REAL screen size like GPU sets it for monitor\r\n            GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\r\n            int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\r\n            int height = gd.getDisplayMode().getHeight();//2160  GPU\r\n            //next is what java uses when display in Windows desktop scaling setting is set to for example 250%\r\n            //pixels get stretched....\r\n            int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\r\n            int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\r\n            //put message in the middle of the screen\r\n            frame.setLocation(screenWidth / 2, screenHeight / 2);\r\n            frame.pack();//calls addNotify....\r\n            frame.setVisible(true);\r\n            frame.setAlwaysOnTop(true);\r\n            frame.toFront();\r\n            frame.requestFocus();\r\n            frame.repaint();\r\n        }\r\n    \r\n        //*************************************************\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            String actionCommand = e.getActionCommand();\r\n            String butCommand = okButton.getActionCommand();\r\n            if (actionCommand.equalsIgnoreCase(butCommand))\r\n                frame.dispose();\r\n        }\r\n    \r\n        //*********************************************\r\n        public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\r\n            infoPan.setBackground(new Color(25, 25, 39));\r\n            infoPan.setForeground(new Color(95, 164, 90));\r\n            infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\r\n            infoPan.setText(msg);\r\n            infoPan.setVisible(true);\r\n            JScrollPane scrollPane = new JScrollPane(infoPan);\r\n            return scrollPane;\r\n        }\r\n    \r\n        //********************************************\r\n        public static void info(String msg) {\r\n            try {\r\n                if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\r\n                    //started from plain java main, so assign to EDT\r\n                    Runnable task = () -&gt; new msgbox(msg);\r\n                    try {\r\n                        SwingUtilities.invokeLater(task);//non blocking\r\n                        //SwingUtilities.invokeAndWait(task);//blocking\r\n                    } catch (Exception ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                } else {\r\n                    //we are initially in EDT, called from dispatch thread\r\n                    new msgbox(msg);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        //***********************************************\r\n        public static void main(String[] args) throws Exception {\r\n            stackTop(&quot;base message!\\n&quot;, 15);\r\n        }\r\n    \r\n        //***********************************************\r\n        //UTILS\r\n        //stacktop prints given number of current thread stack items including\r\n        //this stacktop call.Message can be attached as first printed element\r\n        public static void stackTop(String rootMsg, int elemLimit) {\r\n    \r\n            StackTraceElement[] stack = Thread.currentThread().getStackTrace();\r\n            int howMany = elemLimit;\r\n            int available = stack.length;\r\n            if (howMany &gt; available)\r\n                howMany = available;\r\n            for (int i = 1; i &lt; howMany; ++i) {\r\n                rootMsg += stack[i] + &quot;\\n&quot;;\r\n            }\r\n            info(rootMsg);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>Answer to the question is this class which let's you to decide the colors for background and text and for the button itself. Other design point is to optimize it to be typed extremely easily in debugging context - reason for breaking the camel case syntax which I never do. I don't feel bad about it. You can change that one letter...i guess. Text of the used JTextPane length can be anything and scroll bar gets exited if the text grows long. It is easily callable alternative utility class for JOptionPane. One thing worth of notice is that the info method smells it is not part of GUI Event Dispatch Thread(EDT) execution.If not it assigns itself as EDT task. You can choose if it stops(blocking function) execution or not. No EDT violation happens in any case. Basic usage is msgbox.info(&quot;hello&quot;) If you want to print some of the top of the stack trace bundled is one utility function named msgbox.stackTop(numStackelements)</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.image.BufferedImage;\n\npublic class msgbox implements ActionListener {\n    //**********************************************\n    JButton okButton;\n    JFrame frame;\n\n    public msgbox(String msg) {\n\n        frame = new JFrame(&quot;&quot;);\n        //buffered image replaces white JAVA icon with nothing\n        Image icon = new BufferedImage(1, 1, BufferedImage.TYPE_INT_ARGB_PRE);\n        frame.setIconImage(icon);\n\n        frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        Container contPane = frame.getContentPane();\n        contPane.setLayout(new BorderLayout());\n        JTextPane info = new JTextPane();\n        JScrollPane scroll = initJTextPane(info, msg);\n        contPane.add(scroll, BorderLayout.CENTER);\n\n        JPanel buttonPanel = new JPanel(); //Flow layout by default\n        buttonPanel.setBackground(new Color(0, 0, 0));\n        buttonPanel.setForeground(new Color(107, 216, 61));\n        okButton = new JButton(&quot;OK&quot;);\n        okButton.addActionListener(this);\n        okButton.setBackground(new Color(0, 0, 0));\n        okButton.setForeground(new Color(107, 216, 61));\n        buttonPanel.add(okButton);\n        contPane.add(buttonPanel, BorderLayout.SOUTH);\n\n        //screen size investigation \n        // in case we need to put msg to a particular place\n        //this is REAL screen size like GPU sets it for monitor\n        GraphicsDevice gd = GraphicsEnvironment.getLocalGraphicsEnvironment().getDefaultScreenDevice();\n        int width = gd.getDisplayMode().getWidth();//3840 i.e GPU setting\n        int height = gd.getDisplayMode().getHeight();//2160  GPU\n        //next is what java uses when display in Windows desktop scaling setting is set to for example 250%\n        //pixels get stretched....\n        int screenWidth = Toolkit.getDefaultToolkit().getScreenSize().width;//1536 when desktop is scaled 250%\n        int screenHeight = Toolkit.getDefaultToolkit().getScreenSize().height;//864 when desktop is scaled to 250%\n        //put message in the middle of the screen\n        frame.setLocation(screenWidth / 2, screenHeight / 2);\n        frame.pack();//calls addNotify....\n        frame.setVisible(true);\n        frame.setAlwaysOnTop(true);\n        frame.toFront();\n        frame.requestFocus();\n        frame.repaint();\n    }\n\n    //*************************************************\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        String actionCommand = e.getActionCommand();\n        String butCommand = okButton.getActionCommand();\n        if (actionCommand.equalsIgnoreCase(butCommand))\n            frame.dispose();\n    }\n\n    //*********************************************\n    public JScrollPane initJTextPane(JTextPane infoPan, String msg) {\n        infoPan.setBackground(new Color(25, 25, 39));\n        infoPan.setForeground(new Color(95, 164, 90));\n        infoPan.setFont(new Font(&quot;Calibri&quot;, Font.PLAIN, 14));\n        infoPan.setText(msg);\n        infoPan.setVisible(true);\n        JScrollPane scrollPane = new JScrollPane(infoPan);\n        return scrollPane;\n    }\n\n    //********************************************\n    public static void info(String msg) {\n        try {\n            if (!javax.swing.SwingUtilities.isEventDispatchThread()) {\n                //started from plain java main, so assign to EDT\n                Runnable task = () -&gt; new msgbox(msg);\n                try {\n                    SwingUtilities.invokeLater(task);//non blocking\n                    //SwingUtilities.invokeAndWait(task);//blocking\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            } else {\n                //we are initially in EDT, called from dispatch thread\n                new msgbox(msg);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    //***********************************************\n    public static void main(String[] args) throws Exception {\n        stackTop(&quot;base message!\\n&quot;, 15);\n    }\n\n    //***********************************************\n    //UTILS\n    //stacktop prints given number of current thread stack items including\n    //this stacktop call.Message can be attached as first printed element\n    public static void stackTop(String rootMsg, int elemLimit) {\n\n        StackTraceElement[] stack = Thread.currentThread().getStackTrace();\n        int howMany = elemLimit;\n        int available = stack.length;\n        if (howMany &gt; available)\n            howMany = available;\n        for (int i = 1; i &lt; howMany; ++i) {\n            rootMsg += stack[i] + &quot;\\n&quot;;\n        }\n        info(rootMsg);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686103236,"post_id":76418785,"comment_id":134752063,"body_markdown":"Thanks for input! I forgot to specify in the question that the solution should not include any third party library. Did you try my answer it should be run out of the box as one pastwed class ti IDE?","body":"Thanks for input! I forgot to specify in the question that the solution should not include any third party library. Did you try my answer it should be run out of the box as one pastwed class ti IDE?"},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686103414,"post_id":76418785,"comment_id":134752077,"body_markdown":"I got 23 errors from your class so I need ocheck if it is runnable out of the box which i wish for an answer. It is just me so please don&#39;t take it as offending.","body":"I got 23 errors from your class so I need ocheck if it is runnable out of the box which i wish for an answer. It is just me so please don&#39;t take it as offending."},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686103735,"post_id":76418785,"comment_id":134752098,"body_markdown":"Ok it turned out to be IDE being late to add correct imports.  Still one thing left:type java.awt.List does not take parameters","body":"Ok it turned out to be IDE being late to add correct imports.  Still one thing left:type java.awt.List does not take parameters"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686103815,"post_id":76418785,"comment_id":134752107,"body_markdown":"`java.util.List` not `java.awt.List`","body":"<code>java.util.List</code> not <code>java.awt.List</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686103881,"post_id":76418785,"comment_id":134752117,"body_markdown":"As to &quot;no third party libraries&quot; - this shouldn&#39;t mean that you can&#39;t look at how other libraries work, I&#39;ve &quot;borrowed&quot; plenty of ideas from things like SwingX","body":"As to &quot;no third party libraries&quot; - this shouldn&#39;t mean that you can&#39;t look at how other libraries work, I&#39;ve &quot;borrowed&quot; plenty of ideas from things like SwingX"},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686105888,"post_id":76418785,"comment_id":134752283,"body_markdown":"IDE was adding wrong list import. The added dependency complexity of 3rds hits me later like 3-5 years and makes life difficult. It depends on the nature of the task. I work on java audio plugin host project and one of the main design constraint is to keep it to be immediately runnable with any vanilla JDK. I had this very bad experience (around 2011) having forced to install Tomcat and all the dependencies just to run simple websocket server. That triggered me to write my own websocket server and it was really a revelation like how on earth we need to use such monster just for this tiny task?","body":"IDE was adding wrong list import. The added dependency complexity of 3rds hits me later like 3-5 years and makes life difficult. It depends on the nature of the task. I work on java audio plugin host project and one of the main design constraint is to keep it to be immediately runnable with any vanilla JDK. I had this very bad experience (around 2011) having forced to install Tomcat and all the dependencies just to run simple websocket server. That triggered me to write my own websocket server and it was really a revelation like how on earth we need to use such monster just for this tiny task?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686106249,"post_id":76418785,"comment_id":134752313,"body_markdown":"@Tonecops Needs drive musts - as I said, sometime it&#39;s useful to &quot;borrow&quot; functionality from open source projects, so you don&#39;t &quot;need&quot; the whole library.  The point is, as a group of developers is probably going to do something better then I could do alone - just saying","body":"@Tonecops Needs drive musts - as I said, sometime it&#39;s useful to &quot;borrow&quot; functionality from open source projects, so you don&#39;t &quot;need&quot; the whole library.  The point is, as a group of developers is probably going to do something better then I could do alone - just saying"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686106369,"post_id":76418785,"comment_id":134752319,"body_markdown":"@Tonecops Remember, this is just one way to approach the problem, depending on your overall needs, there might be other ways to achieve what you&#39;re trying to do","body":"@Tonecops Remember, this is just one way to approach the problem, depending on your overall needs, there might be other ways to achieve what you&#39;re trying to do"},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686107525,"post_id":76418785,"comment_id":134752416,"body_markdown":"I agree about learning. I forgot to mention underlying reason I&#39;m asking the whole thing: I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast i.e. dark bg but absolutely without white text. Text will be greenish pastel #4c9f8d on bg close to black. Few things in your provided image are not yet quite in my specs: Jave icon is mostly white. The dialog bar is still bright and OK button is still bright. Are those three features stone carved or can they be tuned too?","body":"I agree about learning. I forgot to mention underlying reason I&#39;m asking the whole thing: I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast i.e. dark bg but absolutely without white text. Text will be greenish pastel #4c9f8d on bg close to black. Few things in your provided image are not yet quite in my specs: Jave icon is mostly white. The dialog bar is still bright and OK button is still bright. Are those three features stone carved or can they be tuned too?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686108458,"post_id":76418785,"comment_id":134752489,"body_markdown":"In that case, I would consider designing a whole custom look and feel delegate plugin - but that&#39;s me (for [example](https://www.formdev.com/flatlaf/))","body":"In that case, I would consider designing a whole custom look and feel delegate plugin - but that&#39;s me (for <a href=\"https://www.formdev.com/flatlaf/\" rel=\"nofollow noreferrer\">example</a>)"},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686109384,"post_id":76418785,"comment_id":134752553,"body_markdown":"My very own LAF sounds interesting. How would you start about it? I got your solution working. A question arises about java language. Why that CustomMessageDialog class cannot be an inner class of the MessageDialog? I got &quot;this cannot be called from static context&quot; and I could not explain. I moved CustomMessageDialog to its own .java (and moved main too) and it works.","body":"My very own LAF sounds interesting. How would you start about it? I got your solution working. A question arises about java language. Why that CustomMessageDialog class cannot be an inner class of the MessageDialog? I got &quot;this cannot be called from static context&quot; and I could not explain. I moved CustomMessageDialog to its own .java (and moved main too) and it works."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686110202,"post_id":76418785,"comment_id":134752628,"body_markdown":"`CustomMessageDialog` can&#39;t be an inner class of `MessageDialog` because of the way extension works.  *&quot;This cannot be called from static context&quot;* is why I always get out main the `static main` as fast as I can and into an actual object instance.  As for a custom look and feel, that&#39;s a very complex subject and this is why I might be tempted to see how some other L&amp;Fs are created.  Nimbus is &quot;reasonable&quot; simpler to modifier, but it&#39;s not without it&#39;s issues","body":"<code>CustomMessageDialog</code> can&#39;t be an inner class of <code>MessageDialog</code> because of the way extension works.  <i>&quot;This cannot be called from static context&quot;</i> is why I always get out main the <code>static main</code> as fast as I can and into an actual object instance.  As for a custom look and feel, that&#39;s a very complex subject and this is why I might be tempted to see how some other L&amp;Fs are created.  Nimbus is &quot;reasonable&quot; simpler to modifier, but it&#39;s not without it&#39;s issues"},{"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"score":0,"creation_date":1686110856,"post_id":76418785,"comment_id":134752678,"body_markdown":"How to deal with EDT violation  considering CustomMessageDialog?","body":"How to deal with EDT violation  considering CustomMessageDialog?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686111085,"post_id":76418785,"comment_id":134752698,"body_markdown":"In this context, that&#39;s generally your responsibility, but, since the dialog is only realised on the screen when you call `pack`, it&#39;s otherwise relatively safe, having said that, I would, personally, code in such away to always call it (and even `JOptionPane`) from within the context of the EDT","body":"In this context, that&#39;s generally your responsibility, but, since the dialog is only realised on the screen when you call <code>pack</code>, it&#39;s otherwise relatively safe, having said that, I would, personally, code in such away to always call it (and even <code>JOptionPane</code>) from within the context of the EDT"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":14,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686110967,"creation_date":1686089664,"answer_id":76418785,"question_id":76411549,"body_markdown":"There are multiple ways in which you might achieve this.  You could, for instance, create you own custom Look and Feel delegate ... although to be honest, I wouldn&#39;t recommend it.\r\n\r\nAnother solution would be to build your own custom dialog, which would give you control over these types of decisions.  This is where you begin to understand just how powerful and complex `JOptionPane` actually is.\r\n\r\nThis is a basic concept I just whipped, based on builder pattern...\r\n\r\n    public class MessageDialog {\r\n        public enum Action {\r\n            OKAY, CANCEL;\r\n        }\r\n\r\n        public enum Type {\r\n            ERROR(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.errorIcon&quot;)),\r\n            INFO(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.informationIcon&quot;)),\r\n            WARNING(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.warningIcon&quot;)),\r\n            QUESTION(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.questionIcon&quot;));\r\n\r\n            private Icon icon;\r\n\r\n            private Type(Icon icon) {\r\n                this.icon = icon;\r\n            }\r\n\r\n            public Icon getIcon() {\r\n                return icon;\r\n            }\r\n        }\r\n\r\n        private String title;\r\n        private Object message;\r\n        private Icon icon;\r\n        private List&lt;Action&gt; actions;\r\n        \r\n        private Action value;\r\n        private JDialog dialog;\r\n\r\n        public MessageDialog() {\r\n            actions = new ArrayList&lt;&gt;(8);\r\n        }\r\n\r\n        public MessageDialog withTitle(String title) {\r\n            this.title = title;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withMessage(String message) {\r\n            this.message = message;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withType(Type type) {\r\n            return withIcon(type.getIcon());\r\n        }\r\n\r\n        public MessageDialog withIcon(Icon icon) {\r\n            this.icon = icon;\r\n            return this;\r\n        }\r\n\r\n        public MessageDialog withIcon(ImageIcon image) {\r\n            return withIcon((Icon) image);\r\n        }\r\n\r\n        public MessageDialog withIcon(BufferedImage image) {\r\n            return withIcon(new ImageIcon(image));\r\n        }\r\n\r\n        public MessageDialog withAction(Action action) {\r\n            if (!actions.contains(action)) {\r\n                actions.add(action);\r\n            }\r\n            return this;\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public Object getMessage() {\r\n            return message;\r\n        }\r\n\r\n        public Icon getIcon() {\r\n            return icon;\r\n        }\r\n\r\n        public List&lt;Action&gt; getActions() {\r\n            return actions;\r\n        }\r\n\r\n        protected JDialog makeDialog(Component owner, String title) {\r\n            Window window = owner == null ? null : SwingUtilities.windowForComponent(owner);\r\n            dialog = new JDialog(window, title);\r\n            dialog.setModal(true);\r\n            return dialog;\r\n        }\r\n\r\n        protected JComponent makeMessageComponent() {\r\n            Object message = getMessage();\r\n            if (message instanceof JComponent) {\r\n                return (JComponent) message;\r\n            }\r\n\r\n            return new JLabel(message.toString());\r\n        }\r\n\r\n        protected JComponent makeIconComponent() {\r\n            Icon icon = getIcon();\r\n            if (icon == null) {\r\n                return null;\r\n            }\r\n            return new JLabel(icon);\r\n        }\r\n\r\n        protected JComponent makeActionsComponent() {\r\n            JPanel pane = new JPanel(new GridBagLayout());\r\n            pane.setOpaque(false);\r\n\r\n            List&lt;Action&gt; actions = getActions();\r\n            if (!actions.isEmpty()) {\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.weightx = 1;\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.anchor = GridBagConstraints.LINE_END;\r\n                for (Action action : actions) {\r\n                    String text = &quot;&quot;;\r\n                    switch (action) {\r\n                        case OKAY: \r\n                            text = &quot;Ok&quot;;\r\n                            break;\r\n                        case CANCEL: \r\n                            text = &quot;Cancel&quot;;\r\n                            break;\r\n                    }\r\n                    if (text.isBlank()) {\r\n                        continue;\r\n                    }\r\n                    JButton btn = new JButton(text);\r\n                    btn.addActionListener(new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent e) {\r\n                            setValue(action);\r\n                        }\r\n                    });\r\n                    \r\n                    pane.add(btn, gbc);\r\n                    \r\n                    gbc.gridx++;\r\n                    gbc.weightx = 0;\r\n                }\r\n            }\r\n\r\n            return pane;\r\n        }\r\n        \r\n        protected JDialog getDialog() {\r\n            return dialog;\r\n        }\r\n        \r\n        protected void setValue(Action action) {\r\n            this.value = action;\r\n            JDialog dialog = getDialog();\r\n            if (dialog != null) {\r\n                dialog.dispose();\r\n            }\r\n        }\r\n\r\n        public Action getValue() {\r\n            return value;\r\n        }\r\n        \r\n        protected JComponent makeContentComponent() {\r\n            JPanel pane = new JPanel(new BorderLayout());\r\n            pane.setOpaque(false);\r\n            pane.setBorder(new EmptyBorder(16, 16, 8, 16));\r\n            return pane;\r\n        }\r\n\r\n        public Action show(Component owner, String title) {\r\n            JDialog dialog = makeDialog(owner, title);\r\n            \r\n            JPanel bodyPane = new JPanel(new BorderLayout(8, 8));\r\n            bodyPane.setOpaque(false);\r\n            bodyPane.add(makeIconComponent(), BorderLayout.LINE_START);\r\n            bodyPane.add(makeMessageComponent());\r\n            \r\n            JComponent content = makeContentComponent();\r\n            content.setLayout(new BorderLayout(16, 16));\r\n            \r\n            content.add(bodyPane);\r\n            content.add(makeActionsComponent(), BorderLayout.SOUTH);\r\n            \r\n            dialog.add(content);\r\n            dialog.pack();\r\n            dialog.setLocationRelativeTo(owner);\r\n            \r\n            dialog.setVisible(true);\r\n            \r\n            return getValue();\r\n        }\r\n    }\r\n\r\nwhich you would use something like...\r\n\r\n    MessageDialog.Action action = new MessageDialog()\r\n            .withType(MessageDialog.Type.INFO)\r\n            .withMessage(&quot;This is a message&quot;)\r\n            .withAction(MessageDialog.Action.OKAY)\r\n            .show(null, &quot;What&#39;s up&quot;);\r\n\r\nand would present something like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow please beware, there are some limitations with this implementation, like what to do if the user closes the dialog.  You&#39;d need to decide which is the default action or maybe even return a custom &quot;closed&quot; (the user made no choice) action instead.\r\n\r\nBut how does this help you?\r\n\r\nWell, you could customise the way in which the class works, for example...\r\n\r\n    public class CustomMessageDialog extends MessageDialog {\r\n        @Override\r\n        protected JDialog makeDialog(Component owner, String title) {\r\n            JDialog dialog = super.makeDialog(owner, title);\r\n            dialog.getContentPane().setBackground(Color.RED);\r\n            return dialog;\r\n        }\r\n        \r\n    }\r\n\r\nWhen used with...\r\n\r\n    MessageDialog.Action action = new CustomMessageDialog()\r\n            .withType(MessageDialog.Type.INFO)\r\n            .withMessage(&quot;This is a message&quot;)\r\n            .withAction(MessageDialog.Action.OKAY)\r\n            .show(null, &quot;What&#39;s up&quot;);\r\n\r\nwill present...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nYou could even take the time to design a concept of &quot;configuration&quot; which could be used to customise various aspects of the dialog and it&#39;s content, but we&#39;re drifting over into the look and feel delegate&#39;s territory.\r\n\r\nMy gut feeling is, if you&#39;re creating a &quot;custom&quot; UI, you&#39;d be better off looking at the UI defaults for the current look and feel or actually creating your own custom look and feel.\r\n\r\nIf you&#39;re looking to just &quot;jazz&quot; up the UI a little, then you&#39;re going to need to look at designing some of your own features to fill the gaps - IMHO\r\n\r\nI&#39;d even consider having a look and some pre-existing libraries, like [SwingX](https://github.com/arotenberg/swingx) which already have some pre-built functionality along these lines\r\n\r\n\r\n----------\r\n\r\n&gt; I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast\r\n\r\nThen I would consider starting either with a complete custom look and feel or, at the very least, modifying the core look and feel defaults, as a very crude example...\r\n\r\n[![enter image description here][3]][3]\r\n\r\n    try {        UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\r\n\r\n        UIManager.put(&quot;OptionPane.background&quot;, Color.RED);\r\n        UIManager.put(&quot;Panel.background&quot;, Color.RED);                    \r\n        UIManager.put(&quot;Button.background&quot;, Color.GREEN);\r\n\r\n        JOptionPane.showConfirmDialog(null, &quot;This is a test&quot;, &quot;Testing&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);\r\n    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nIt&#39;s important to note that I specifically set the look and feel to the &quot;cross platform&quot; (AKA metal) look and feel.  This is deliberate, as on macOS, the look and feel has a habit of ignoring some of these properties.\r\n\r\n  [1]: https://i.stack.imgur.com/du0XQ.png\r\n  [2]: https://i.stack.imgur.com/krkQo.png\r\n  [3]: https://i.stack.imgur.com/GsLsw.png","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>There are multiple ways in which you might achieve this.  You could, for instance, create you own custom Look and Feel delegate ... although to be honest, I wouldn't recommend it.</p>\n<p>Another solution would be to build your own custom dialog, which would give you control over these types of decisions.  This is where you begin to understand just how powerful and complex <code>JOptionPane</code> actually is.</p>\n<p>This is a basic concept I just whipped, based on builder pattern...</p>\n<pre><code>public class MessageDialog {\n    public enum Action {\n        OKAY, CANCEL;\n    }\n\n    public enum Type {\n        ERROR(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.errorIcon&quot;)),\n        INFO(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.informationIcon&quot;)),\n        WARNING(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.warningIcon&quot;)),\n        QUESTION(UIManager.getLookAndFeel().getDefaults().getIcon(&quot;OptionPane.questionIcon&quot;));\n\n        private Icon icon;\n\n        private Type(Icon icon) {\n            this.icon = icon;\n        }\n\n        public Icon getIcon() {\n            return icon;\n        }\n    }\n\n    private String title;\n    private Object message;\n    private Icon icon;\n    private List&lt;Action&gt; actions;\n    \n    private Action value;\n    private JDialog dialog;\n\n    public MessageDialog() {\n        actions = new ArrayList&lt;&gt;(8);\n    }\n\n    public MessageDialog withTitle(String title) {\n        this.title = title;\n        return this;\n    }\n\n    public MessageDialog withMessage(String message) {\n        this.message = message;\n        return this;\n    }\n\n    public MessageDialog withType(Type type) {\n        return withIcon(type.getIcon());\n    }\n\n    public MessageDialog withIcon(Icon icon) {\n        this.icon = icon;\n        return this;\n    }\n\n    public MessageDialog withIcon(ImageIcon image) {\n        return withIcon((Icon) image);\n    }\n\n    public MessageDialog withIcon(BufferedImage image) {\n        return withIcon(new ImageIcon(image));\n    }\n\n    public MessageDialog withAction(Action action) {\n        if (!actions.contains(action)) {\n            actions.add(action);\n        }\n        return this;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public Object getMessage() {\n        return message;\n    }\n\n    public Icon getIcon() {\n        return icon;\n    }\n\n    public List&lt;Action&gt; getActions() {\n        return actions;\n    }\n\n    protected JDialog makeDialog(Component owner, String title) {\n        Window window = owner == null ? null : SwingUtilities.windowForComponent(owner);\n        dialog = new JDialog(window, title);\n        dialog.setModal(true);\n        return dialog;\n    }\n\n    protected JComponent makeMessageComponent() {\n        Object message = getMessage();\n        if (message instanceof JComponent) {\n            return (JComponent) message;\n        }\n\n        return new JLabel(message.toString());\n    }\n\n    protected JComponent makeIconComponent() {\n        Icon icon = getIcon();\n        if (icon == null) {\n            return null;\n        }\n        return new JLabel(icon);\n    }\n\n    protected JComponent makeActionsComponent() {\n        JPanel pane = new JPanel(new GridBagLayout());\n        pane.setOpaque(false);\n\n        List&lt;Action&gt; actions = getActions();\n        if (!actions.isEmpty()) {\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.weightx = 1;\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.anchor = GridBagConstraints.LINE_END;\n            for (Action action : actions) {\n                String text = &quot;&quot;;\n                switch (action) {\n                    case OKAY: \n                        text = &quot;Ok&quot;;\n                        break;\n                    case CANCEL: \n                        text = &quot;Cancel&quot;;\n                        break;\n                }\n                if (text.isBlank()) {\n                    continue;\n                }\n                JButton btn = new JButton(text);\n                btn.addActionListener(new ActionListener() {\n                    @Override\n                    public void actionPerformed(ActionEvent e) {\n                        setValue(action);\n                    }\n                });\n                \n                pane.add(btn, gbc);\n                \n                gbc.gridx++;\n                gbc.weightx = 0;\n            }\n        }\n\n        return pane;\n    }\n    \n    protected JDialog getDialog() {\n        return dialog;\n    }\n    \n    protected void setValue(Action action) {\n        this.value = action;\n        JDialog dialog = getDialog();\n        if (dialog != null) {\n            dialog.dispose();\n        }\n    }\n\n    public Action getValue() {\n        return value;\n    }\n    \n    protected JComponent makeContentComponent() {\n        JPanel pane = new JPanel(new BorderLayout());\n        pane.setOpaque(false);\n        pane.setBorder(new EmptyBorder(16, 16, 8, 16));\n        return pane;\n    }\n\n    public Action show(Component owner, String title) {\n        JDialog dialog = makeDialog(owner, title);\n        \n        JPanel bodyPane = new JPanel(new BorderLayout(8, 8));\n        bodyPane.setOpaque(false);\n        bodyPane.add(makeIconComponent(), BorderLayout.LINE_START);\n        bodyPane.add(makeMessageComponent());\n        \n        JComponent content = makeContentComponent();\n        content.setLayout(new BorderLayout(16, 16));\n        \n        content.add(bodyPane);\n        content.add(makeActionsComponent(), BorderLayout.SOUTH);\n        \n        dialog.add(content);\n        dialog.pack();\n        dialog.setLocationRelativeTo(owner);\n        \n        dialog.setVisible(true);\n        \n        return getValue();\n    }\n}\n</code></pre>\n<p>which you would use something like...</p>\n<pre><code>MessageDialog.Action action = new MessageDialog()\n        .withType(MessageDialog.Type.INFO)\n        .withMessage(&quot;This is a message&quot;)\n        .withAction(MessageDialog.Action.OKAY)\n        .show(null, &quot;What's up&quot;);\n</code></pre>\n<p>and would present something like...</p>\n<p><a href=\"https://i.stack.imgur.com/du0XQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/du0XQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Now please beware, there are some limitations with this implementation, like what to do if the user closes the dialog.  You'd need to decide which is the default action or maybe even return a custom &quot;closed&quot; (the user made no choice) action instead.</p>\n<p>But how does this help you?</p>\n<p>Well, you could customise the way in which the class works, for example...</p>\n<pre><code>public class CustomMessageDialog extends MessageDialog {\n    @Override\n    protected JDialog makeDialog(Component owner, String title) {\n        JDialog dialog = super.makeDialog(owner, title);\n        dialog.getContentPane().setBackground(Color.RED);\n        return dialog;\n    }\n    \n}\n</code></pre>\n<p>When used with...</p>\n<pre><code>MessageDialog.Action action = new CustomMessageDialog()\n        .withType(MessageDialog.Type.INFO)\n        .withMessage(&quot;This is a message&quot;)\n        .withAction(MessageDialog.Action.OKAY)\n        .show(null, &quot;What's up&quot;);\n</code></pre>\n<p>will present...</p>\n<p><a href=\"https://i.stack.imgur.com/krkQo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krkQo.png\" alt=\"enter image description here\" /></a></p>\n<p>You could even take the time to design a concept of &quot;configuration&quot; which could be used to customise various aspects of the dialog and it's content, but we're drifting over into the look and feel delegate's territory.</p>\n<p>My gut feeling is, if you're creating a &quot;custom&quot; UI, you'd be better off looking at the UI defaults for the current look and feel or actually creating your own custom look and feel.</p>\n<p>If you're looking to just &quot;jazz&quot; up the UI a little, then you're going to need to look at designing some of your own features to fill the gaps - IMHO</p>\n<p>I'd even consider having a look and some pre-existing libraries, like <a href=\"https://github.com/arotenberg/swingx\" rel=\"nofollow noreferrer\">SwingX</a> which already have some pre-built functionality along these lines</p>\n<hr />\n<blockquote>\n<p>I have white allergy(i.e. whites limit the length of the programming day and incite epileptic condition) so there is a strong personal need to make UIs soft high contrast</p>\n</blockquote>\n<p>Then I would consider starting either with a complete custom look and feel or, at the very least, modifying the core look and feel defaults, as a very crude example...</p>\n<p><a href=\"https://i.stack.imgur.com/GsLsw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GsLsw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>try {        UIManager.setLookAndFeel(UIManager.getCrossPlatformLookAndFeelClassName());\n\n    UIManager.put(&quot;OptionPane.background&quot;, Color.RED);\n    UIManager.put(&quot;Panel.background&quot;, Color.RED);                    \n    UIManager.put(&quot;Button.background&quot;, Color.GREEN);\n\n    JOptionPane.showConfirmDialog(null, &quot;This is a test&quot;, &quot;Testing&quot;, JOptionPane.YES_NO_CANCEL_OPTION, JOptionPane.QUESTION_MESSAGE);\n} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>It's important to note that I specifically set the look and feel to the &quot;cross platform&quot; (AKA metal) look and feel.  This is deliberate, as on macOS, the look and feel has a habit of ignoring some of these properties.</p>\n"}],"owner":{"account_id":9761453,"reputation":127,"user_id":7236415,"display_name":"Tonecops"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692485637,"creation_date":1686027513,"question_id":76411549,"body_markdown":"The default Swing JOptionPane does not implement backgound color for the actual text. There is UIManager.put(&quot;OptionPane.background&quot;, Color.WHITE); But that does not do the job, because it only changes color of underlying panel.The actual text still stays on grey background. This can be verified by viewing JOptionpane code. Also if you fire google search for &quot;Joptionpane background&quot; and switch to image search you see that every single result has grey backgound under \r\nactual text. \r\nSo the question is what would be alternative UI component for JOptionPane so that colors can be fully designed?\r\n\r\n","title":"What would be alternative UI component for JOptionPane so that colors can be fully designed?","body":"<p>The default Swing JOptionPane does not implement backgound color for the actual text. There is UIManager.put(&quot;OptionPane.background&quot;, Color.WHITE); But that does not do the job, because it only changes color of underlying panel.The actual text still stays on grey background. This can be verified by viewing JOptionpane code. Also if you fire google search for &quot;Joptionpane background&quot; and switch to image search you see that every single result has grey backgound under\nactual text.\nSo the question is what would be alternative UI component for JOptionPane so that colors can be fully designed?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1692485984,"post_id":76937296,"comment_id":135630239,"body_markdown":"That&#39;s really a table in itself isn&#39;t it? It should probably be its own entity","body":"That&#39;s really a table in itself isn&#39;t it? It should probably be its own entity"},{"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"score":0,"creation_date":1692504299,"post_id":76937296,"comment_id":135631284,"body_markdown":"@g00se What do you mean by table?","body":"@g00se What do you mean by table?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692518278,"post_id":76937296,"comment_id":135632218,"body_markdown":"In a fully normalized RDBMS, that `Map` you have would be represented by its own table","body":"In a fully normalized RDBMS, that <code>Map</code> you have would be represented by its own table"},{"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"score":0,"creation_date":1692545724,"post_id":76937296,"comment_id":135635139,"body_markdown":"Would you mind answering below how I would implement it as an entity?","body":"Would you mind answering below how I would implement it as an entity?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692548843,"post_id":76937296,"comment_id":135635489,"body_markdown":"You could simply have a `class BalanceHistory { private Map&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;(); }` Keep the `Map` implementation open. For one thing, changes in collections are on the horizon in Java","body":"You could simply have a <code>class BalanceHistory { private Map&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;(); }</code> Keep the <code>Map</code> implementation open. For one thing, changes in collections are on the horizon in Java"}],"owner":{"account_id":10607023,"reputation":111,"user_id":7812031,"display_name":"HankY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692484776,"creation_date":1692484776,"question_id":76937296,"body_markdown":"Here is the GitHub repo of my Spring Boot application that I have trouble with: [click me](https://github.com/HanYuanHsu/shepherd-money/tree/master). \r\n\r\nI was trying to do `./gradlew bootRun` to start this application, but then I got the following error:\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n15:06:01.730 ERROR --- [           main] o.springframework.boot.SpringApplication:820 : Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\r\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n        at com.shepherdmoney.interviewproject.InterviewProjectApplication.main(InterviewProjectApplication.java:32)\r\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\r\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\r\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\r\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507)\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315)\r\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767)\r\nhankevin@DESKTOP-CH9NBS4:/mnt/c/Users/a0306/shepherd-money$\r\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766)\r\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421)\r\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\r\n        ... 16 common frames omitted\r\n\r\n&gt; Task :bootRun FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:bootRun&#39;.\r\n&gt; Process &#39;command &#39;/usr/lib/jvm/java-17-openjdk-amd64/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 17s\r\n4 actionable tasks: 3 executed, 1 up-to-date\r\n```\r\n\r\nI saw the sentence &quot;Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`&quot;. Here is the CreditCard class, which has a variable `balanceHistory` of the type:\r\n```\r\npackage com.shepherdmoney.interviewproject.model;\r\n\r\nimport com.shepherdmoney.interviewproject.repository.UserRepository;\r\nimport lombok.Getter;\r\nimport lombok.RequiredArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.Optional;\r\nimport java.util.TreeMap;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\npublic class CreditCard {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n\r\n    private String issuanceBank;\r\n\r\n    private String number;\r\n\r\n    private int userId; // the id of the user\r\n\r\n    private TreeMap&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;();\r\n\r\n    public CreditCard(int userId) {\r\n        this.userId = userId;\r\n\r\n        // initialize balance history. It must have a date value that matches today&#39;s date.\r\n        balanceHistory.put(LocalDate.now(), 0.0);\r\n    }\r\n\r\n    public CreditCard(String issuanceBank, String number, int userId) {\r\n        this.issuanceBank = issuanceBank;\r\n        this.number = number;\r\n        this.userId = userId;\r\n\r\n        // initialize balance history. It must have a date value that matches today&#39;s date.\r\n        balanceHistory.put(LocalDate.now(), 0.0);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param ur the user repo of this application\r\n     * @return the name of this credit card&#39;s owner\r\n     */\r\n    public String getUsername(UserRepository ur) {\r\n        User u = ur.findById(userId).orElseThrow();\r\n        return u.getName();\r\n    }\r\n\r\n    // TODO: Credit card&#39;s balance history. It is a requirement that the dates in the balanceHistory \r\n    //       list must be in chronological order, with the most recent date appearing first in the list. \r\n    //       Additionally, the first object in the list must have a date value that matches today&#39;s date, \r\n    //       since it represents the current balance of the credit card. For example:\r\n    //       [\r\n    //         {date: &#39;2023-04-13&#39;, balance: 1500},\r\n    //         {date: &#39;2023-04-12&#39;, balance: 1200},\r\n    //         {date: &#39;2023-04-11&#39;, balance: 1000},\r\n    //         {date: &#39;2023-04-10&#39;, balance: 800}\r\n    //       ]\r\n\r\n    /**\r\n     * Given `date` and `balance`, update this credit card&#39;s balance history.\r\n     * Update means to add `balance` to the current balance at the date specified by `date`\r\n     * @param date\r\n     * @param balance\r\n     */\r\n    public void updateBalance(LocalDate date, double balance) {\r\n        double currentBalance = balanceHistory.getOrDefault(date, 0.0);\r\n        balanceHistory.put(date, currentBalance + balance);\r\n    }\r\n}\r\n```\r\n\r\nAny help would be appreciated!","title":"Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`","body":"<p>Here is the GitHub repo of my Spring Boot application that I have trouble with: <a href=\"https://github.com/HanYuanHsu/shepherd-money/tree/master\" rel=\"nofollow noreferrer\">click me</a>.</p>\n<p>I was trying to do <code>./gradlew bootRun</code> to start this application, but then I got the following error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n15:06:01.730 ERROR --- [           main] o.springframework.boot.SpringApplication:820 : Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n        at com.shepherdmoney.interviewproject.InterviewProjectApplication.main(InterviewProjectApplication.java:32)\nCaused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for `java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;`\n        at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:37)\n        at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:222)\n        at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:507)\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:315)\n        at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:305)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$4(InFlightMetadataCollectorImpl.java:1767)\nhankevin@DESKTOP-CH9NBS4:/mnt/c/Users/a0306/shepherd-money$\n        at java.base/java.util.ArrayList.removeIf(ArrayList.java:1660)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1766)\n        at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1752)\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:300)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1350)\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1421)\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747)\n        ... 16 common frames omitted\n\n&gt; Task :bootRun FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':bootRun'.\n&gt; Process 'command '/usr/lib/jvm/java-17-openjdk-amd64/bin/java'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 17s\n4 actionable tasks: 3 executed, 1 up-to-date\n</code></pre>\n<p>I saw the sentence &quot;Could not determine recommended JdbcType for <code>java.util.TreeMap&lt;java.time.LocalDate, java.lang.Double&gt;</code>&quot;. Here is the CreditCard class, which has a variable <code>balanceHistory</code> of the type:</p>\n<pre><code>package com.shepherdmoney.interviewproject.model;\n\nimport com.shepherdmoney.interviewproject.repository.UserRepository;\nimport lombok.Getter;\nimport lombok.RequiredArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\nimport java.time.LocalDate;\nimport java.util.Optional;\nimport java.util.TreeMap;\n\n@Entity\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\npublic class CreditCard {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n\n    private String issuanceBank;\n\n    private String number;\n\n    private int userId; // the id of the user\n\n    private TreeMap&lt;LocalDate, Double&gt; balanceHistory = new TreeMap&lt;&gt;();\n\n    public CreditCard(int userId) {\n        this.userId = userId;\n\n        // initialize balance history. It must have a date value that matches today's date.\n        balanceHistory.put(LocalDate.now(), 0.0);\n    }\n\n    public CreditCard(String issuanceBank, String number, int userId) {\n        this.issuanceBank = issuanceBank;\n        this.number = number;\n        this.userId = userId;\n\n        // initialize balance history. It must have a date value that matches today's date.\n        balanceHistory.put(LocalDate.now(), 0.0);\n    }\n\n    /**\n     *\n     * @param ur the user repo of this application\n     * @return the name of this credit card's owner\n     */\n    public String getUsername(UserRepository ur) {\n        User u = ur.findById(userId).orElseThrow();\n        return u.getName();\n    }\n\n    // TODO: Credit card's balance history. It is a requirement that the dates in the balanceHistory \n    //       list must be in chronological order, with the most recent date appearing first in the list. \n    //       Additionally, the first object in the list must have a date value that matches today's date, \n    //       since it represents the current balance of the credit card. For example:\n    //       [\n    //         {date: '2023-04-13', balance: 1500},\n    //         {date: '2023-04-12', balance: 1200},\n    //         {date: '2023-04-11', balance: 1000},\n    //         {date: '2023-04-10', balance: 800}\n    //       ]\n\n    /**\n     * Given `date` and `balance`, update this credit card's balance history.\n     * Update means to add `balance` to the current balance at the date specified by `date`\n     * @param date\n     * @param balance\n     */\n    public void updateBalance(LocalDate date, double balance) {\n        double currentBalance = balanceHistory.getOrDefault(date, 0.0);\n        balanceHistory.put(date, currentBalance + balance);\n    }\n}\n</code></pre>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","github","github-actions"],"owner":{"account_id":21574689,"reputation":11,"user_id":15907040,"display_name":"ZorTik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692483290,"creation_date":1692483034,"question_id":76937222,"body_markdown":"So, I am currently working on a project that consists of different repositories/services that I want to test using JUnit in Github Actions workflow. Since I have multiple repos that depend on ach other, I would like to test them in one workflow instance so they can connect to each other.\r\n\r\nI have:\r\n- 1. Rest api authorization service\r\n- 2. Rest api service that uses the authorization service\r\n\r\nI would like to run the authorization service as on of the &quot;services&quot; in the 2nd service workflow so the 2nd service can connect to it. Is it possible?\r\n\r\nMy current workflow in the 2nd service:\r\n```\r\non: [push]\r\nenv:\r\n  NODE_NAME: &#39;1&#39;\r\n  MYSQL_DATABASE: &#39;test&#39;\r\n  MYSQL_USER: &#39;test&#39;\r\n  MYSQL_PASSWORD: &#39;test&#39;\r\n\r\n\r\njobs:\r\n  test_node:\r\n    runs-on: ubuntu-latest\r\n    timeout-minutes: 5\r\n    steps:\r\n      - uses: actions/checkout@v3\r\n      - name: Set up JDK 17\r\n        uses: actions/setup-java@v3\r\n        with:\r\n          java-version: &#39;17&#39;\r\n          distribution: &#39;adopt&#39;\r\n      - name: Shutdown default MySQL\r\n        run: sudo service mysql stop\r\n      - name: Setup MySQL\r\n        uses: mirromutth/mysql-action@v1.1\r\n        with:\r\n          mysql database: &#39;test&#39;\r\n          mysql user: &#39;test&#39;\r\n          mysql password: &#39;test&#39;\r\n          mysql port: 3306\r\n      - name: Grant gradlew permissions\r\n        run: chmod +x gradlew\r\n      - name: Gradle Build\r\n        run: ./gradlew :api-node:build -x test\r\n      - name: Gradle Test\r\n        run: ./gradlew :api-node:test\r\n      - name: JUnit Report Action\r\n        uses: mikepenz/action-junit-report@v3.7.1\r\n        if: always()\r\n        with:\r\n          report_paths: &#39;**/build/test-results/test/TEST-*.xml&#39;\r\n```\r\n\r\nI created the workflow and I realized that I can only start public docker images as services, so I would like to use the repository as service without the need of publishing it to docker repository.\r\n\r\nThank you","title":"Use another repository as service in GitHub Actions workflow","body":"<p>So, I am currently working on a project that consists of different repositories/services that I want to test using JUnit in Github Actions workflow. Since I have multiple repos that depend on ach other, I would like to test them in one workflow instance so they can connect to each other.</p>\n<p>I have:</p>\n<ul>\n<li>\n<ol>\n<li>Rest api authorization service</li>\n</ol>\n</li>\n<li>\n<ol start=\"2\">\n<li>Rest api service that uses the authorization service</li>\n</ol>\n</li>\n</ul>\n<p>I would like to run the authorization service as on of the &quot;services&quot; in the 2nd service workflow so the 2nd service can connect to it. Is it possible?</p>\n<p>My current workflow in the 2nd service:</p>\n<pre><code>on: [push]\nenv:\n  NODE_NAME: '1'\n  MYSQL_DATABASE: 'test'\n  MYSQL_USER: 'test'\n  MYSQL_PASSWORD: 'test'\n\n\njobs:\n  test_node:\n    runs-on: ubuntu-latest\n    timeout-minutes: 5\n    steps:\n      - uses: actions/checkout@v3\n      - name: Set up JDK 17\n        uses: actions/setup-java@v3\n        with:\n          java-version: '17'\n          distribution: 'adopt'\n      - name: Shutdown default MySQL\n        run: sudo service mysql stop\n      - name: Setup MySQL\n        uses: mirromutth/mysql-action@v1.1\n        with:\n          mysql database: 'test'\n          mysql user: 'test'\n          mysql password: 'test'\n          mysql port: 3306\n      - name: Grant gradlew permissions\n        run: chmod +x gradlew\n      - name: Gradle Build\n        run: ./gradlew :api-node:build -x test\n      - name: Gradle Test\n        run: ./gradlew :api-node:test\n      - name: JUnit Report Action\n        uses: mikepenz/action-junit-report@v3.7.1\n        if: always()\n        with:\n          report_paths: '**/build/test-results/test/TEST-*.xml'\n</code></pre>\n<p>I created the workflow and I realized that I can only start public docker images as services, so I would like to use the repository as service without the need of publishing it to docker repository.</p>\n<p>Thank you</p>\n"},{"tags":["java","css","button","javafx"],"comments":[{"owner":{"account_id":1956160,"reputation":36345,"user_id":1759128,"accept_rate":54,"display_name":"ItachiUchiha"},"score":0,"creation_date":1464690358,"post_id":37542955,"comment_id":62575096,"body_markdown":"Do you want the text to appear on the Button or change the text of the Button?","body":"Do you want the text to appear on the Button or change the text of the Button?"},{"owner":{"account_id":1546267,"reputation":216,"user_id":1439754,"display_name":"Khaled SAB"},"score":1,"creation_date":1464690454,"post_id":37542955,"comment_id":62575146,"body_markdown":"Are you looking for a [Tooltip](https://docs.oracle.com/javafx/2/ui_controls/tooltip.htm) ?","body":"Are you looking for a <a href=\"https://docs.oracle.com/javafx/2/ui_controls/tooltip.htm\" rel=\"nofollow noreferrer\">Tooltip</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":3,"creation_date":1518714533,"post_id":37543167,"comment_id":84628835,"body_markdown":"Just wanted to point out a tooltip takes 2 seconds of holding the mouse still until it appears. There&#39;s most probably a way to customize that time...","body":"Just wanted to point out a tooltip takes 2 seconds of holding the mouse still until it appears. There&#39;s most probably a way to customize that time..."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":1,"creation_date":1557770743,"post_id":37543167,"comment_id":98868615,"body_markdown":"@EgorHans Or maybe a way to show a hint that there is a tooltip for that button, like a small lightbulb","body":"@EgorHans Or maybe a way to show a hint that there is a tooltip for that button, like a small lightbulb"}],"tags":[],"owner":{"account_id":7899184,"reputation":21461,"user_id":5966775,"display_name":"DVarga"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1496121824,"creation_date":1464690497,"answer_id":37543167,"question_id":37542955,"body_markdown":"The [`Tooltip`][1] class is what you are looking for.\r\n\r\n**Example for a simple Tooltip**\r\n\r\n    Button button = new Button(&quot;Hover Me&quot;);\r\n    button.setTooltip(new Tooltip(&quot;Tooltip for Button&quot;));\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou can also customize your `Tooltip`s: [CSS Reference for Tooltip][3].\r\n\r\n**Example for a styled Tooltip**\r\n\r\n\tButton button = new Button();\r\n\tbutton.setText(&quot;Hover Me!&quot;);\r\n\tTooltip tt = new Tooltip();\r\n\ttt.setText(&quot;Text on Hover&quot;);\r\n\ttt.setStyle(&quot;-fx-font: normal bold 4 Langdon; &quot;\r\n\t\t+ &quot;-fx-base: #AE3522; &quot;\r\n\t\t+ &quot;-fx-text-fill: orange;&quot;);\r\n\t\t\t\t\r\n\tbutton.setTooltip(tt);\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/api/javafx/scene/control/Tooltip.html\r\n  [2]: https://i.stack.imgur.com/5lLYZ.png\r\n  [3]: https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#tooltip\r\n  [4]: https://i.stack.imgur.com/iwnHc.png","title":"How to set a tooltip on a JavaFX Button?","body":"<p>The <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/control/Tooltip.html\" rel=\"noreferrer\"><code>Tooltip</code></a> class is what you are looking for.</p>\n\n<p><strong>Example for a simple Tooltip</strong></p>\n\n<pre><code>Button button = new Button(\"Hover Me\");\nbutton.setTooltip(new Tooltip(\"Tooltip for Button\"));\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5lLYZ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5lLYZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can also customize your <code>Tooltip</code>s: <a href=\"https://docs.oracle.com/javafx/2/api/javafx/scene/doc-files/cssref.html#tooltip\" rel=\"noreferrer\">CSS Reference for Tooltip</a>.</p>\n\n<p><strong>Example for a styled Tooltip</strong></p>\n\n<pre><code>Button button = new Button();\nbutton.setText(\"Hover Me!\");\nTooltip tt = new Tooltip();\ntt.setText(\"Text on Hover\");\ntt.setStyle(\"-fx-font: normal bold 4 Langdon; \"\n    + \"-fx-base: #AE3522; \"\n    + \"-fx-text-fill: orange;\");\n\nbutton.setTooltip(tt);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iwnHc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iwnHc.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":9432667,"reputation":1340,"user_id":7015661,"accept_rate":100,"display_name":"TM00"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1491333633,"creation_date":1491333633,"answer_id":43215887,"question_id":37542955,"body_markdown":"If you are using Scenebuilder, you can add tooltips by locating &quot;Tooltip&quot; under the Miscellaneous dropdown (Left panel) and dragging it to the node you want to install the tooltip. You can then specify various properties (Right panel) of the tooltip like style and text just as you would a normal Node.","title":"How to set a tooltip on a JavaFX Button?","body":"<p>If you are using Scenebuilder, you can add tooltips by locating \"Tooltip\" under the Miscellaneous dropdown (Left panel) and dragging it to the node you want to install the tooltip. You can then specify various properties (Right panel) of the tooltip like style and text just as you would a normal Node.</p>\n"},{"comments":[{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":2,"creation_date":1539547682,"post_id":43796286,"comment_id":92531526,"body_markdown":"I had to add this: &lt;?import javafx.scene.control.Tooltip?&gt;\n\nFor some reason, IntelliJ Idea didn&#39;t catch that one automatically.","body":"I had to add this: &lt;?import javafx.scene.control.Tooltip?&gt;  For some reason, IntelliJ Idea didn&#39;t catch that one automatically."},{"owner":{"account_id":2080516,"reputation":554,"user_id":1852598,"display_name":"ankur_kachru"},"score":0,"creation_date":1539577968,"post_id":43796286,"comment_id":92537503,"body_markdown":"@FranMarzoa hmm IntelliJ does that for me, does Ctrl + Alt + O automatically add the import?","body":"@FranMarzoa hmm IntelliJ does that for me, does Ctrl + Alt + O automatically add the import?"},{"owner":{"account_id":1186511,"reputation":4312,"user_id":1160360,"accept_rate":74,"display_name":"Fran Marzoa"},"score":0,"creation_date":1539632602,"post_id":43796286,"comment_id":92564557,"body_markdown":"It did it with all other imports, I guess it&#39;s a minor glitch.","body":"It did it with all other imports, I guess it&#39;s a minor glitch."},{"owner":{"account_id":51748,"reputation":6271,"user_id":154630,"accept_rate":69,"display_name":"Mikeb"},"score":0,"creation_date":1589227929,"post_id":43796286,"comment_id":109205316,"body_markdown":"Note this only works for things that subclass control - see https://stackoverflow.com/questions/36950542/how-can-i-add-a-tooltip-to-a-node-that-does-not-implement-control-using-fxml","body":"Note this only works for things that subclass control - see <a href=\"https://stackoverflow.com/questions/36950542/how-can-i-add-a-tooltip-to-a-node-that-does-not-implement-control-using-fxml\" title=\"how can i add a tooltip to a node that does not implement control using fxml\">stackoverflow.com/questions/36950542/&hellip;</a>"}],"tags":[],"owner":{"account_id":2080516,"reputation":554,"user_id":1852598,"display_name":"ankur_kachru"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1493956923,"creation_date":1493956923,"answer_id":43796286,"question_id":37542955,"body_markdown":"To add a tooltip in FXML, you could also do this,\r\n\r\n    &lt;Button&gt;\r\n     &lt;tooltip&gt;&lt;Tooltip text=&quot;my tooltip&quot; /&gt;&lt;/tooltip&gt;\r\n    &lt;/Button&gt;","title":"How to set a tooltip on a JavaFX Button?","body":"<p>To add a tooltip in FXML, you could also do this,</p>\n\n<pre><code>&lt;Button&gt;\n &lt;tooltip&gt;&lt;Tooltip text=\"my tooltip\" /&gt;&lt;/tooltip&gt;\n&lt;/Button&gt;\n</code></pre>\n"}],"owner":{"account_id":8318993,"reputation":225,"user_id":6251359,"accept_rate":0,"display_name":"Raffaele Sassano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30598,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"answer_count":3,"score":21,"last_activity_date":1692483060,"creation_date":1464689868,"question_id":37542955,"body_markdown":"How can I set a title or a text that appears above a button when I hover it with the mouse?\r\n\r\n","title":"How to set a tooltip on a JavaFX Button?","body":"<p>How can I set a title or a text that appears above a button when I hover it with the mouse?</p>\n"},{"tags":["java","x509certificate","bouncycastle","asn.1"],"answers":[{"comments":[{"owner":{"account_id":357724,"reputation":2255,"user_id":698070,"accept_rate":58,"display_name":"Arindam Mukherjee"},"score":0,"creation_date":1386321677,"post_id":20419503,"comment_id":30498704,"body_markdown":"I have tried the above logic..but i am getting the exception as follows.\n//getting string  --Exception;java.lang.IllegalArgumentException: illegal object in getInstance: org.spongycastle.asn1.DLSequence\n//getting cert -- Exception;java.lang.ArrayIndexOutOfBoundsException: length=1; index=1\nThen i have tried by passing the index as 0.\n//getting cert-- Exception;java.security.cert.CertificateException: org.apache.harmony.xnet.provider.jsse.OpenSSLX509CertificateFactory$ParsingException: java.lang.RuntimeException: error:0D0680A8:asn1 encoding routines:ASN1_CHECK_TLEN:wrong tag.","body":"I have tried the above logic..but i am getting the exception as follows. //getting string  --Exception;java.lang.IllegalArgumentException: illegal object in getInstance: org.spongycastle.asn1.DLSequence //getting cert -- Exception;java.lang.ArrayIndexOutOfBoundsException: length=1; index=1 Then i have tried by passing the index as 0. //getting cert-- Exception;java.security.cert.CertificateException: org.apache.harmony.xnet.provider.jsse.OpenSSLX509Certificate&zwnj;&#8203;Factory$ParsingExcep&zwnj;&#8203;tion: java.lang.RuntimeException: error:0D0680A8:asn1 encoding routines:ASN1_CHECK_TLEN:wrong tag."},{"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"score":0,"creation_date":1386410381,"post_id":20419503,"comment_id":30534971,"body_markdown":"Hard to guess without the original data. I updated my answer with more details.","body":"Hard to guess without the original data. I updated my answer with more details."}],"tags":[],"owner":{"account_id":191798,"reputation":13419,"user_id":432589,"accept_rate":50,"display_name":"Jcs"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1386410836,"creation_date":1386319205,"answer_id":20419503,"question_id":20417849,"body_markdown":"The ASN.1 encoded object only contains the structured data but not the meaning of every field. An ASN.1 module is required in order to decode meaningful data from the object. The module is a data specification, its purpose is to name a set of types and (optionally) values definitions.\r\n\r\nFor instance this is the ASN.1 module for X.509 certificates: [https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1][1] \r\n\r\nNow, assuming that your ASN.1 module defines this structure\r\n\r\n    MyData ::= SEQUENCE {\r\n        websiteURL         UTF8String (SIZE (1..MAX)),\r\n        certificate        Certificate,\r\n    }\r\n\r\nYou can decode this object with this small code snippet:\r\n\r\n    public void decode(byte[] encoding) throws Exception\r\n    {\r\n      ASN1Sequence seq = ASN1Sequence.getInstance(encoding);\r\n      String url = DERUTF8String.getInstance(seq.getObjectAt(0)).getString();\r\n      CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n      byte[] certEnc = seq.getObjectAt(1).toASN1Primitive().getEncoded();\r\n      Certificate cert = factory.generateCertificate(new ByteArrayInputStream(certEnc));\r\n    }\r\n\r\n**UPDATE Dec, 7th**\r\n\r\nAccording to the ASN.1 decoding tree you gave I think that the certificate is contained in the second Octet String Object:\r\n\r\n    ASN1Sequence\r\n      ASN1Sequence\r\n        ASN1String : 1\r\n        ASN1OctetString\r\n          ASN1Sequence\r\n            ASN1String : https://website url(Some StringDta )\r\n            ASN1String : StringDta\r\n            ASN1Sequence\r\n              ASN1OctetString\r\n                ASN1Sequence        &lt;-- IMHO the certificate starts here\r\n                  ASN1Sequence\r\n                    ASN1TaggedObject\r\n                      ASN1Integer : 2\r\n                    ASN1Integer : 288799720653653968683086\r\n    ...\r\n\r\nYou need to get the `ASN1OctetString` object from the sequence, get the byte[] it wraps and decode the certificate.\r\n\r\n\r\n    ASN1Sequence seq = ...\r\n    ASN1OctetString ostr = ASN1OctetString.getInstance(seq.getObjectAt(0));\r\n    byte[] encodedCertificate = ostr.getOctets();\r\n    Certificate cert = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(encodedCertificate));\r\n\r\nYou can also use openssl [ans1parse][2] command to print more details on the ASN.1 objects\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1\r\n  [2]: http://www.openssl.org/docs/apps/asn1parse.html","title":"How to parse the ASN.1 object and get the data using bouncycastle in java","body":"<p>The ASN.1 encoded object only contains the structured data but not the meaning of every field. An ASN.1 module is required in order to decode meaningful data from the object. The module is a data specification, its purpose is to name a set of types and (optionally) values definitions.</p>\n<p>For instance this is the ASN.1 module for X.509 certificates: <a href=\"https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc5280#appendix-A.1</a></p>\n<p>Now, assuming that your ASN.1 module defines this structure</p>\n<pre><code>MyData ::= SEQUENCE {\n    websiteURL         UTF8String (SIZE (1..MAX)),\n    certificate        Certificate,\n}\n</code></pre>\n<p>You can decode this object with this small code snippet:</p>\n<pre><code>public void decode(byte[] encoding) throws Exception\n{\n  ASN1Sequence seq = ASN1Sequence.getInstance(encoding);\n  String url = DERUTF8String.getInstance(seq.getObjectAt(0)).getString();\n  CertificateFactory factory = CertificateFactory.getInstance(&quot;X.509&quot;);\n  byte[] certEnc = seq.getObjectAt(1).toASN1Primitive().getEncoded();\n  Certificate cert = factory.generateCertificate(new ByteArrayInputStream(certEnc));\n}\n</code></pre>\n<p><strong>UPDATE Dec, 7th</strong></p>\n<p>According to the ASN.1 decoding tree you gave I think that the certificate is contained in the second Octet String Object:</p>\n<pre><code>ASN1Sequence\n  ASN1Sequence\n    ASN1String : 1\n    ASN1OctetString\n      ASN1Sequence\n        ASN1String : https://website url(Some StringDta )\n        ASN1String : StringDta\n        ASN1Sequence\n          ASN1OctetString\n            ASN1Sequence        &lt;-- IMHO the certificate starts here\n              ASN1Sequence\n                ASN1TaggedObject\n                  ASN1Integer : 2\n                ASN1Integer : 288799720653653968683086\n...\n</code></pre>\n<p>You need to get the <code>ASN1OctetString</code> object from the sequence, get the byte[] it wraps and decode the certificate.</p>\n<pre><code>ASN1Sequence seq = ...\nASN1OctetString ostr = ASN1OctetString.getInstance(seq.getObjectAt(0));\nbyte[] encodedCertificate = ostr.getOctets();\nCertificate cert = CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(new ByteArrayInputStream(encodedCertificate));\n</code></pre>\n<p>You can also use openssl <a href=\"http://www.openssl.org/docs/apps/asn1parse.html\" rel=\"nofollow noreferrer\">ans1parse</a> command to print more details on the ASN.1 objects</p>\n"}],"owner":{"account_id":357724,"reputation":2255,"user_id":698070,"accept_rate":58,"display_name":"Arindam Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12007,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1692482745,"creation_date":1386312718,"question_id":20417849,"body_markdown":"I have an ASN.1 data which contain some URL info and certificates data. Now I am trying to parse the data. I am using the dump method which is shown below.\r\n\r\n      private static void dump(ASN1Object obj, StringBuffer buf, int depth)  throws Exception\r\n\t  {\r\n\t    indent(buf, depth);\r\n\t    if (obj == null)\r\n\t    {\r\n\t      buf.append(&quot;Null&quot;).append(NL);\r\n\t    \r\n\t    }\r\n\t    else if (obj instanceof DERBitString)\r\n\t    {\r\n\t    \t  try {\r\n\t\t    \t  \r\n\t\t    \t  DERBitString dbr =  (DERBitString)obj;\r\n\t\t\t      Log.e(&quot;Testing&quot;, &quot;DERBitString length:&quot;+dbr.getBytes().length);\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\t// TODO: handle exception\r\n\t\t\t\tLog.e(&quot;Testing&quot;, &quot;Exception :&quot;+e);\r\n\t\t\t}\r\n\t    \t\r\n\t     // buf.append(&quot;DERBitString : &quot;).append(((DERBitString)obj).getBytes().length * 8).append(&quot; bits&quot;).append(NL);\r\n\t      buf.append(&quot;DERBitString content111 : &quot;).append(new String(((DERBitString)obj).getBytes())).append(NL);\r\n\t      \r\n\t    \r\n\t    \r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1String)\r\n\t    {\r\n\t    \tLog.i(&quot;Testing&quot;, &quot;Hashcode:&quot;+obj.hashCode());\r\n\t        buf.append(&quot;ASN1String : &quot;).append(((ASN1String)obj).getString()).append(NL);\r\n\t        if(numOctString == 1 &amp;&amp; sURL == null )\r\n\t        {\r\n\t        \tsURL = ((ASN1String)obj).getString();\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t        \tcert.write(obj.getEncoded());\r\n\t        }\r\n\t    }\r\n\t    else if (obj instanceof ASN1UTCTime)\r\n\t    {\r\n\t      buf.append(&quot;ASN1UTCTime : &quot;).append(((ASN1UTCTime)obj).getTime()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1GeneralizedTime)\r\n\t    {\r\n\t      buf.append(&quot;ASN1GeneralizedTime : &quot;).append(((ASN1GeneralizedTime)obj).getTime()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1ObjectIdentifier)\r\n\t    {\r\n\t        buf.append(&quot;ASN1ObjectIdentifier : &quot;).append((ASN1ObjectIdentifier)obj).append(NL);\r\n\t        \r\n\t        ASN1ObjectIdentifier identifier =  (ASN1ObjectIdentifier)obj;\r\n\t        \r\n\t        cert.write(obj.getEncoded());\r\n\t    \t//buf.append(&quot;ASN1ObjectIdentifier : &quot;).append(OidMap.get(((ASN1ObjectIdentifier)obj).getId())).append(NL); \r\n\t    }\r\n\t    else if (obj instanceof ASN1Integer)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Integer : &quot;).append(((ASN1Integer)obj).getValue().toString()).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1Boolean)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Boolean : &quot;).append(((ASN1Boolean)obj).isTrue() ? &quot;true&quot; : &quot;false&quot;).append(NL);\r\n\t      cert.write(obj.getEncoded());\r\n\t    }\r\n\t    else if (obj instanceof ASN1OctetString)\r\n\t    {\r\n\t       numOctString ++;\r\n\t      buf.append(&quot;ASN1OctetString&quot;).append(NL);\r\n\t      ASN1OctetString octObj = (ASN1OctetString)obj;\r\n\t      try\r\n\t      {\r\n\t        ASN1InputStream aIn = new ASN1InputStream(octObj.getOctetStream());\r\n\t        ASN1Primitive dobj = aIn.readObject();\r\n\t        dump(dobj, buf, depth + 1);\r\n\t      }\r\n\t      catch(Exception e)\r\n\t      {\r\n\t        indent(buf, depth + 1);\r\n\t        //buf.append(ByteArrayUtil.toHexString(octObj.getOctets(), &quot;:&quot;)).append(NL);\r\n\t      }\r\n\t    }\r\n\t    else if (obj instanceof ASN1TaggedObject)\r\n\t    {\r\n\t      buf.append(&quot;ASN1TaggedObject&quot;).append(NL);\r\n\t      dump(((ASN1TaggedObject)obj).getObject(), buf, depth + 1);\r\n\t    }\r\n\t    else if (obj instanceof ASN1Sequence)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Sequence&quot;).append(NL);\r\n\t     \r\n\t      Enumeration objs = ((ASN1Sequence)obj).getObjects();\r\n\t      while (objs.hasMoreElements())\r\n\t      {\r\n\t        Object o = objs.nextElement();\r\n\t        if (o == null || o instanceof DERNull)\r\n\t        {\r\n\t          indent(buf, depth + 1);\r\n\t          //ASN1VectorImpl impl= new ASN1VectorImpl((ASN1Sequence)obj);\r\n\t          buf.append(&quot;DERNull&quot;).append(NL);\r\n\t        }\r\n\t        else if (o instanceof ASN1Primitive)\r\n\t        {\r\n\t          dump((ASN1Primitive)o, buf, depth + 1);\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else if (obj instanceof ASN1Set)\r\n\t    {\r\n\t      buf.append(&quot;ASN1Set&quot;).append(NL);\r\n\t     \r\n\t      Enumeration objs = ((ASN1Set)obj).getObjects();\r\n\t      while (objs.hasMoreElements())\r\n\t      {\r\n\t        Object o = objs.nextElement();\r\n\t        if (o == null || o instanceof DERNull)\r\n\t        {\r\n\t          indent(buf, depth + 1);\r\n\t          buf.append(NL);\r\n\t        }\r\n\t        else if (o instanceof ASN1Primitive)\r\n\t        {\r\n\t          dump((ASN1Primitive)o, buf, depth + 1);\r\n\t        }\r\n\t        else\r\n\t        {\r\n\t          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t    \tLog.e(&quot;Testing&quot;, &quot;==================Else case=============&quot;);\r\n\t    \tLog.e(&quot;Testing&quot;, &quot;==================obj=============&quot;+obj.getEncoded().length);\r\n\t      buf.append(obj.getClass().getName()).append(NL);\r\n\t    }      \r\n\t  }\r\n\r\n\r\nWhen I print the StringBuffer i am getting the output as below.\r\n\r\n     ASN1Sequence\r\n       ASN1Sequence\r\n         ASN1String : 1\r\n         ASN1OctetString\r\n           ASN1Sequence\r\n             ASN1String : https://website url(Some StringDta )\r\n             ASN1String : StringDta\r\n             ASN1Sequence\r\n               ASN1OctetString\r\n                 ASN1Sequence\r\n                   ASN1Sequence\r\n                     ASN1TaggedObject\r\n                       ASN1Integer : 2\r\n                     ASN1Integer : 288799720653653968683086\r\n                     ASN1Sequence\r\n                       ASN1ObjectIdentifier : 1.2.840.113549.1.1.5\r\n                       DERNull\r\n                     ASN1Sequence\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.3\r\n                           ASN1String : StringDta\r\n                     ASN1Sequence\r\n                       ASN1UTCTime : 130417071944GMT+00:00\r\n                       ASN1UTCTime : 140417072944GMT+00:00\r\n                     ASN1Sequence\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.10\r\n                           ASN1String : StringDta\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 2.5.4.3\r\n                           ASN1String : StringDta\r\n                       ASN1Set\r\n                         ASN1Sequence\r\n                           ASN1ObjectIdentifier : 1.2.840.113549.1.9.1\r\n                           ASN1String : StringDta\r\n                     ASN1Sequence\r\n                       ASN1Sequence\r\n                         ASN1ObjectIdentifier : 1.2.840.113549.1.1.1\r\n                         DERNull\r\n                       DERBitString content111 : 0?\r\n     ?\r\n\r\n\r\nNow how can parse the above data to get the required data like URL and certificates data?\r\n\r\nHow can we identify the URL and certificates data from above output? Can some one help on this?","title":"How to parse the ASN.1 object and get the data using bouncycastle in java","body":"<p>I have an ASN.1 data which contain some URL info and certificates data. Now I am trying to parse the data. I am using the dump method which is shown below.</p>\n\n<pre><code>  private static void dump(ASN1Object obj, StringBuffer buf, int depth)  throws Exception\n  {\n    indent(buf, depth);\n    if (obj == null)\n    {\n      buf.append(\"Null\").append(NL);\n\n    }\n    else if (obj instanceof DERBitString)\n    {\n          try {\n\n              DERBitString dbr =  (DERBitString)obj;\n              Log.e(\"Testing\", \"DERBitString length:\"+dbr.getBytes().length);\n\n        } catch (Exception e) {\n            // TODO: handle exception\n            Log.e(\"Testing\", \"Exception :\"+e);\n        }\n\n     // buf.append(\"DERBitString : \").append(((DERBitString)obj).getBytes().length * 8).append(\" bits\").append(NL);\n      buf.append(\"DERBitString content111 : \").append(new String(((DERBitString)obj).getBytes())).append(NL);\n\n\n\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1String)\n    {\n        Log.i(\"Testing\", \"Hashcode:\"+obj.hashCode());\n        buf.append(\"ASN1String : \").append(((ASN1String)obj).getString()).append(NL);\n        if(numOctString == 1 &amp;&amp; sURL == null )\n        {\n            sURL = ((ASN1String)obj).getString();\n        }\n        else\n        {\n            cert.write(obj.getEncoded());\n        }\n    }\n    else if (obj instanceof ASN1UTCTime)\n    {\n      buf.append(\"ASN1UTCTime : \").append(((ASN1UTCTime)obj).getTime()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1GeneralizedTime)\n    {\n      buf.append(\"ASN1GeneralizedTime : \").append(((ASN1GeneralizedTime)obj).getTime()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1ObjectIdentifier)\n    {\n        buf.append(\"ASN1ObjectIdentifier : \").append((ASN1ObjectIdentifier)obj).append(NL);\n\n        ASN1ObjectIdentifier identifier =  (ASN1ObjectIdentifier)obj;\n\n        cert.write(obj.getEncoded());\n        //buf.append(\"ASN1ObjectIdentifier : \").append(OidMap.get(((ASN1ObjectIdentifier)obj).getId())).append(NL); \n    }\n    else if (obj instanceof ASN1Integer)\n    {\n      buf.append(\"ASN1Integer : \").append(((ASN1Integer)obj).getValue().toString()).append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1Boolean)\n    {\n      buf.append(\"ASN1Boolean : \").append(((ASN1Boolean)obj).isTrue() ? \"true\" : \"false\").append(NL);\n      cert.write(obj.getEncoded());\n    }\n    else if (obj instanceof ASN1OctetString)\n    {\n       numOctString ++;\n      buf.append(\"ASN1OctetString\").append(NL);\n      ASN1OctetString octObj = (ASN1OctetString)obj;\n      try\n      {\n        ASN1InputStream aIn = new ASN1InputStream(octObj.getOctetStream());\n        ASN1Primitive dobj = aIn.readObject();\n        dump(dobj, buf, depth + 1);\n      }\n      catch(Exception e)\n      {\n        indent(buf, depth + 1);\n        //buf.append(ByteArrayUtil.toHexString(octObj.getOctets(), \":\")).append(NL);\n      }\n    }\n    else if (obj instanceof ASN1TaggedObject)\n    {\n      buf.append(\"ASN1TaggedObject\").append(NL);\n      dump(((ASN1TaggedObject)obj).getObject(), buf, depth + 1);\n    }\n    else if (obj instanceof ASN1Sequence)\n    {\n      buf.append(\"ASN1Sequence\").append(NL);\n\n      Enumeration objs = ((ASN1Sequence)obj).getObjects();\n      while (objs.hasMoreElements())\n      {\n        Object o = objs.nextElement();\n        if (o == null || o instanceof DERNull)\n        {\n          indent(buf, depth + 1);\n          //ASN1VectorImpl impl= new ASN1VectorImpl((ASN1Sequence)obj);\n          buf.append(\"DERNull\").append(NL);\n        }\n        else if (o instanceof ASN1Primitive)\n        {\n          dump((ASN1Primitive)o, buf, depth + 1);\n        }\n        else\n        {\n          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\n        }\n      }\n    }\n    else if (obj instanceof ASN1Set)\n    {\n      buf.append(\"ASN1Set\").append(NL);\n\n      Enumeration objs = ((ASN1Set)obj).getObjects();\n      while (objs.hasMoreElements())\n      {\n        Object o = objs.nextElement();\n        if (o == null || o instanceof DERNull)\n        {\n          indent(buf, depth + 1);\n          buf.append(NL);\n        }\n        else if (o instanceof ASN1Primitive)\n        {\n          dump((ASN1Primitive)o, buf, depth + 1);\n        }\n        else\n        {\n          dump(((ASN1Encodable)o).toASN1Primitive(), buf, depth + 1);\n        }\n      }\n    }\n    else\n    {\n        Log.e(\"Testing\", \"==================Else case=============\");\n        Log.e(\"Testing\", \"==================obj=============\"+obj.getEncoded().length);\n      buf.append(obj.getClass().getName()).append(NL);\n    }      \n  }\n</code></pre>\n\n<p>When I print the StringBuffer i am getting the output as below.</p>\n\n<pre><code> ASN1Sequence\n   ASN1Sequence\n     ASN1String : 1\n     ASN1OctetString\n       ASN1Sequence\n         ASN1String : https://website url(Some StringDta )\n         ASN1String : StringDta\n         ASN1Sequence\n           ASN1OctetString\n             ASN1Sequence\n               ASN1Sequence\n                 ASN1TaggedObject\n                   ASN1Integer : 2\n                 ASN1Integer : 288799720653653968683086\n                 ASN1Sequence\n                   ASN1ObjectIdentifier : 1.2.840.113549.1.1.5\n                   DERNull\n                 ASN1Sequence\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.3\n                       ASN1String : StringDta\n                 ASN1Sequence\n                   ASN1UTCTime : 130417071944GMT+00:00\n                   ASN1UTCTime : 140417072944GMT+00:00\n                 ASN1Sequence\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.10\n                       ASN1String : StringDta\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 2.5.4.3\n                       ASN1String : StringDta\n                   ASN1Set\n                     ASN1Sequence\n                       ASN1ObjectIdentifier : 1.2.840.113549.1.9.1\n                       ASN1String : StringDta\n                 ASN1Sequence\n                   ASN1Sequence\n                     ASN1ObjectIdentifier : 1.2.840.113549.1.1.1\n                     DERNull\n                   DERBitString content111 : 0?\n ?\n</code></pre>\n\n<p>Now how can parse the above data to get the required data like URL and certificates data?</p>\n\n<p>How can we identify the URL and certificates data from above output? Can some one help on this?</p>\n"},{"tags":["java","swing","object","transform"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1692278484,"post_id":76920133,"comment_id":135603593,"body_markdown":"Not related to your question but, a painting method should only paint the current state of the component, not change the state. The &quot;remove&quot; logic should NOT be in the pantComponent() method. That logic should be in the &quot;movement&quot; method.","body":"Not related to your question but, a painting method should only paint the current state of the component, not change the state. The &quot;remove&quot; logic should NOT be in the pantComponent() method. That logic should be in the &quot;movement&quot; method."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1692282337,"post_id":76920133,"comment_id":135604541,"body_markdown":"@camickr You are correct I have not gotten to that part yet one issue at the time. right now I cannot figure out how to get it to work.","body":"@camickr You are correct I have not gotten to that part yet one issue at the time. right now I cannot figure out how to get it to work."}],"answers":[{"comments":[{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1692514076,"post_id":76937201,"comment_id":135631880,"body_markdown":"Oh wow I did not think I was gonna get a reply on this. But wow you really did put effort into it. Since you managed to solve the problem I know have  a lot of code to study and learn from thank you.","body":"Oh wow I did not think I was gonna get a reply on this. But wow you really did put effort into it. Since you managed to solve the problem I know have  a lot of code to study and learn from thank you."}],"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692482675,"creation_date":1692482675,"answer_id":76937201,"question_id":76920133,"body_markdown":"# Introduction\r\n\r\nI copied your code into my IDE and ran it.\r\n\r\nYou have a ship (player) that can rotate, move forward and backward, and can shoot a laser beam.  The up arrow key moves the ship forward, the down arrow key moves the ship backward, the left arrow key rotates the ship counterclockwise, the right arrow key rotates the ship clockwise, and the space bar shoots a laser beam.  Holding the space bar makes the laser beam longer.\r\n\r\nThe ship has no momentum.  It only moves for as long as you are holding down one or more of the arrow keys.\r\n\r\nSo far, so good.  Here&#39;s what it looks like when I start the application and shoot a couple of lasers\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn my testing, I found that I could drive the ship off the screen.  I&#39;m not sure what game you&#39;re trying to emulate, since you didn&#39;t say.\r\n\r\nAll four of your classes are extensions of a Java Swing component.  That is not the way to create a complex game.  You will run into problems, as you&#39;ve already discovered.  \r\n\r\n@camickr commented about your painting method.  Organizing your code into classes and methods helps you to isolate problems when debugging your code.\r\n\r\n# Explanation\r\n\r\nWhen I create a Swing GUI, I use the [model-view-controller][2] (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.\r\n\r\nIn Java Swing, the application model is made up of one or more plain Java getter/setter classes.  The application view is made up of Swing components.  Thye application controller is made up of one or more actions or listeners.\r\n\r\nThe application model holds the state of the game.\r\n\r\nThe application view shows the state of the game.  Period.  Nothing else.\r\n\r\nThe application controllers modify the application model and update or repaint the view.\r\n\r\n## Model\r\n\r\nI created three model classes, `GameModel`, `Ship`, and `Shot`.\r\n\r\nThe `GameModel` class is a plain Java getter/setter class that holds an instance of `Ship` and a `List` of instances of `Shot`.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class GameModel {\r\n    \r\n    \tprivate final Dimension drawingPanelSize;\r\n    \t\r\n    \tprivate final List&lt;Shot&gt; shots;\r\n    \r\n    \tprivate final Ship ship;\r\n    \r\n    \tpublic GameModel() {\r\n    \t\tthis.drawingPanelSize = new Dimension(400, 400);\r\n    \t\tPoint2D p = new Point2D.Double(drawingPanelSize.width / 2,\r\n    \t\t\t\tdrawingPanelSize.height / 2);\r\n    \t\tthis.ship = new Ship(p, 0.0, Color.BLUE);\r\n    \t\tthis.shots = new ArrayList&lt;&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic void addShot(Shot shot) {\r\n    \t\tthis.shots.add(shot);\r\n    \t}\r\n    \t\r\n    \tpublic void removeShot(Shot shot) {\r\n    \t\tthis.shots.remove(shot);\r\n    \t}\r\n    \r\n    \tpublic Dimension getDrawingPanelSize() {\r\n    \t\treturn drawingPanelSize;\r\n    \t}\r\n    \r\n    \tpublic Ship getShip() {\r\n    \t\treturn ship;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Shot&gt; getShots() {\r\n    \t\treturn shots;\r\n    \t}\r\n    \r\n    }\r\n\r\nThe `Ship` class is a plain Java getter/setter class that holds the position, direction, and velocity of a ship.  This class also draws an image of a ship.  I made the image a triangle, but you can modify the code to make the ship any combination of shapes you want.\r\n\r\nEvery Java class extends `Object` and can implement a `toString` method for display or debugging.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Polygon;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Ship {\r\n    \r\n    \tprivate final BufferedImage image;\r\n    \r\n    \t/**\r\n    \t * The direction in radians. Zero is north. Positive values rotate\r\n    \t * clockwise. Negative values rotate counterclockwise.  The velocity\r\n    \t * is pixels per frame.\r\n    \t */\r\n    \tprivate double direction, velocity;\r\n    \r\n    \tprivate Point2D location;\r\n    \r\n    \tpublic Ship(Point2D location, double degrees, Color color) {\r\n    \t\tthis.location = location;\r\n    \t\tthis.direction = Math.toRadians(degrees);\r\n    \t\tthis.velocity = 0.0;\r\n    \t\tthis.image = createShipImage(color);\r\n    \t}\r\n    \r\n    \tprivate BufferedImage createShipImage(Color color) {\r\n    \t\tBufferedImage image = new BufferedImage(25, 40,\r\n    \t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(new Color(0, 0, 0, 0));\r\n    \t\tg2d.fillRect(0, 0, width, height);\r\n    \r\n    \t\tPolygon p = new Polygon();\r\n    \t\tp.addPoint(width / 2, 0);\r\n    \t\tp.addPoint(0, height);\r\n    \t\tp.addPoint(width, height);\r\n    \r\n    \t\tg2d.setColor(color);\r\n    \t\tg2d.fillPolygon(p);\r\n    \r\n    \t\tg2d.dispose();\r\n    \t\t\r\n    \t\treturn image;\r\n    \t}\r\n    \t\r\n    \tpublic void moveShip(Dimension drawingPanelSize) {\r\n    \t\tdouble dx = velocity * Math.sin(direction);\r\n    \t\tdouble dy = velocity * Math.cos(direction);\r\n    \t\tdouble x = location.getX() + dx;\r\n    \t\tdouble y = location.getY() - dy;\r\n    \t\tx = Math.max(0.0, x);\r\n    \t\tx = Math.min(drawingPanelSize.width, x);\r\n    \t\ty = Math.max(0.0, y);\r\n    \t\ty = Math.min(drawingPanelSize.height, y);\r\n    \t\tlocation.setLocation(x, y);\r\n    \t}\r\n    \r\n    \tpublic double getDirection() {\r\n    \t\treturn direction;\r\n    \t}\r\n    \r\n    \tpublic void incrementDirection(double degrees) {\r\n    \t\tthis.direction += Math.toRadians(degrees);\r\n    \t}\r\n    \r\n    \tpublic void setVelocity(double velocity) {\r\n    \t\tthis.velocity = velocity;\r\n    \t}\r\n    \r\n    \tpublic Point2D getLocation() {\r\n    \t\treturn location;\r\n    \t}\r\n    \r\n    \tpublic BufferedImage getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;The ship is located at &quot;);\r\n    \t\tString display = String.format(&quot;%.2f&quot;, location.getX());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot;, &quot;);\r\n    \t\tdisplay = String.format(&quot;%.2f&quot;, location.getY());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; and facing &quot;);\r\n    \t\tdouble angle = Math.toDegrees(direction);\r\n    \t\tdisplay = String.format(&quot;%.1f&quot;, angle);\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; degrees&quot;);\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    }\r\n\r\nThe `Shot` class is a plain Java getter/setter class that holds the position, direction, and velocity of a shot.  This class also draws an image of a shot.  \r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    public class Shot {\r\n    \r\n    \tprivate final BufferedImage image;\r\n    \r\n    \t/**\r\n    \t * The direction in radians. Zero is north. Positive values rotate\r\n    \t * clockwise. Negative values rotate counterclockwise. The velocity is\r\n    \t * pixels per frame.\r\n    \t */\r\n    \tprivate double direction, velocity;\r\n    \r\n    \tprivate Point2D location;\r\n    \r\n    \tpublic Shot(Point2D location, double direction, Color color) {\r\n    \t\tthis.location = location;\r\n    \t\tthis.direction = direction;\r\n    \t\tthis.velocity = 5.0;\r\n    \t\tthis.image = createShotImage(color);\r\n    \t}\r\n    \r\n    \tprivate BufferedImage createShotImage(Color color) {\r\n    \t\tBufferedImage image = new BufferedImage((int) velocity, (int) velocity,\r\n    \t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(color);\r\n    \t\tg2d.fillRect(0, 0, width, height);\r\n    \t\tg2d.dispose();\r\n    \r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic boolean moveShot(Dimension drawingPanelSize) {\r\n    \t\tdouble dx = velocity * Math.sin(direction);\r\n    \t\tdouble dy = velocity * Math.cos(direction);\r\n    \t\tdouble x = location.getX() + dx;\r\n    \t\tdouble y = location.getY() - dy;\r\n    \r\n    \t\tif (x &lt; 0.0 || x &gt; drawingPanelSize.width) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (y &lt; 0.0 || y &gt; drawingPanelSize.height) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t\tlocation.setLocation(x, y);\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \tpublic double getDirection() {\r\n    \t\treturn direction;\r\n    \t}\r\n    \r\n    \tpublic Point2D getLocation() {\r\n    \t\treturn location;\r\n    \t}\r\n    \r\n    \tpublic BufferedImage getImage() {\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;The shot is located at &quot;);\r\n    \t\tString display = String.format(&quot;%.2f&quot;, location.getX());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot;, &quot;);\r\n    \t\tdisplay = String.format(&quot;%.2f&quot;, location.getY());\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; and facing &quot;);\r\n    \t\tdouble angle = Math.toDegrees(direction);\r\n    \t\tdisplay = String.format(&quot;%.1f&quot;, angle);\r\n    \t\tbuilder.append(display);\r\n    \t\tbuilder.append(&quot; degrees&quot;);\r\n    \r\n    \t\treturn builder.toString();\r\n    \t}\r\n    \r\n    }\r\n\r\n## View\r\n\r\nI created a `JFrame and a drawing `JPanel`.  Because I created a model, the view is much simpler.\r\n\r\nRather than rotating all sorts of Swing components, I created a `BufferedImage` of the ship and each shot.  That way, I could write one rotating method in the drawing `JPanel` and use it for all the images.\r\n\r\nHere&#39;s the `Game` class.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    \r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.Timer;\r\n    \r\n    public class Game implements Runnable {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Game());\r\n    \t}\r\n    \t\r\n    \tprivate final DrawingPanel drawingPanel;\r\n    \t\r\n    \tprivate final GameKeyBindings gameKeyBindings;\r\n    \t\r\n    \tprivate final GameModel model;\r\n    \t\r\n    \tpublic Game() {\r\n    \t\tthis.model = new GameModel();\r\n    \t\tthis.drawingPanel = new DrawingPanel(model);\r\n    \t\tthis.gameKeyBindings = new GameKeyBindings(drawingPanel);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Game&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(drawingPanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t\t\r\n    \t\tTimer timer = new Timer(20, new GameListener(this, model));\r\n    \t\ttimer.start();\r\n    \t}\r\n    \r\n    \tpublic GameKeyBindings getGameKeyBindings() {\r\n    \t\treturn gameKeyBindings;\r\n    \t}\r\n    \t\r\n    \tpublic Dimension getDrawingPanelSize() {\r\n    \t\treturn drawingPanel.getSize();\r\n    \t}\r\n    \t\r\n    \tpublic void repaint() {\r\n    \t\tdrawingPanel.repaint();\r\n    \t}\r\n    }\r\n\r\nHere&#39;s the `DrawingPanel` class.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Point2D;\r\n    import java.awt.image.AffineTransformOp;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.JPanel;\r\n    \r\n    public class DrawingPanel extends JPanel {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tprivate final GameModel model;\r\n    \r\n    \tpublic DrawingPanel(GameModel model) {\r\n    \t\tthis.model = model;\r\n    \t\tthis.setPreferredSize(model.getDrawingPanelSize());\r\n    \t\tthis.setBackground(Color.BLACK);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void paintComponent(Graphics g) {\r\n    \t\tsuper.paintComponent(g);\r\n    \r\n    \t\tGraphics2D g2d = (Graphics2D) g;\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\t\r\n    \t\tShip ship = model.getShip();\r\n    \t\tBufferedImage image = ship.getImage();\r\n    \t\tPoint2D p = ship.getLocation();\r\n    \t\tdouble rotation = ship.getDirection();\r\n    \r\n    \t\tdrawRotatedImage(g2d, image, p, rotation);\r\n    \t\t\r\n    \t\tfor (Shot shot : model.getShots()) {\r\n    \t\t\timage = shot.getImage();\r\n    \t\t\tp = shot.getLocation();\r\n    \t\t\trotation = shot.getDirection();\r\n    \t\t\t\r\n    \t\t\tdrawRotatedImage(g2d, image, p, rotation);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void drawRotatedImage(Graphics2D g2d, BufferedImage image,\r\n    \t\t\tPoint2D p, double rotation) {\r\n    \t\tBufferedImage rotatedImage = rotateImage(image, rotation);\r\n    \t\tint x = (int) Math.round(p.getX()) - rotatedImage.getWidth() / 2;\r\n    \t\tint y = (int) Math.round(p.getY()) - rotatedImage.getHeight() / 2;\r\n    \r\n    \t\tg2d.drawImage(rotatedImage, x, y, this);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * &lt;p&gt;\r\n    \t * This method will rotate an image on its center point.\r\n    \t * &lt;/p&gt;\r\n    \t * &lt;p&gt;\r\n    \t * First, the image is copied to an image large enough to hold the rotated\r\n    \t * image at any angle. Then, the copied image is rotated.\r\n    \t * &lt;/p&gt;\r\n    \t * \r\n    \t * @param image    - The image to be rotated.\r\n    \t * @param rotation - The rotation angle in radians. A positive value rotates\r\n    \t *                 the image clockwise. A negative value rotates the image\r\n    \t *                 counterclockwise.\r\n    \t * @return The rotated image\r\n    \t */\r\n    \tprivate BufferedImage rotateImage(BufferedImage image, double rotation) {\r\n    \t\tdouble newWidthD = getNewImageWidth(image);\r\n    \t\tdouble halfWidthD = newWidthD / 2.0;\r\n    \t\tint newWidthI = (int) newWidthD;\r\n    \r\n    \t\tBufferedImage newImage = translateImage(image, newWidthI);\r\n    \t\tBufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\r\n    \t\t\t\timage.getType());\r\n    \t\tAffineTransform tx = AffineTransform.getRotateInstance(rotation,\r\n    \t\t\t\thalfWidthD, halfWidthD);\r\n    \t\tAffineTransformOp op = new AffineTransformOp(tx,\r\n    \t\t\t\tAffineTransformOp.TYPE_BILINEAR);\r\n    \t\top.filter(newImage, outputImage);\r\n    \r\n    \t\treturn outputImage;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method calculates the width of the new image. Basically, calculate\r\n    \t * the hypotenuse of the width and height of the image.\r\n    \t * \r\n    \t * @param image - The original image\r\n    \t * @return The width and height of the square that can hold the image\r\n    \t *         rotated at any angle.\r\n    \t */\r\n    \tprivate double getNewImageWidth(BufferedImage image) {\r\n    \t\tint width = image.getWidth();\r\n    \t\tint height = image.getHeight();\r\n    \r\n    \t\tdouble newWidth = width * width + height * height;\r\n    \t\tnewWidth = Math.ceil(Math.pow(newWidth, 0.5));\r\n    \r\n    \t\treturn newWidth;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * This method copies the image to a new image. The original image is placed\r\n    \t * in the center of the new image. The rest of the image is filled with\r\n    \t * transparent pixels.\r\n    \t * \r\n    \t * @param image    - The original image.\r\n    \t * @param newWidth - the width and height of the new image.\r\n    \t * @return The translated image\r\n    \t */\r\n    \tprivate BufferedImage translateImage(BufferedImage image, int newWidth) {\r\n    \t\tBufferedImage newImage = new BufferedImage(newWidth, newWidth,\r\n    \t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D g2d = (Graphics2D) newImage.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setColor(new Color(0, 0, 0, 0));\r\n    \t\tg2d.fillRect(0, 0, newWidth, newWidth);\r\n    \t\tint x = (newWidth - image.getWidth()) / 2;\r\n    \t\tint y = (newWidth - image.getHeight()) / 2;\r\n    \t\tg2d.drawImage(image, x, y, null);\r\n    \t\tg2d.dispose();\r\n    \r\n    \t\treturn newImage;\r\n    \t}\r\n    \r\n    }\r\n\r\nI separated the key bindings into a separate class, mainly to help organize the code.  I created two private `Action` classes that I could reuse.\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.KeyEvent;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    \r\n    public class GameKeyBindings {\r\n    \r\n    \tprivate final Set&lt;Integer&gt; keysPressed;\r\n    \r\n    \tpublic GameKeyBindings(JPanel panel) {\r\n    \t\tthis.keysPressed = new HashSet&lt;&gt;();\r\n    \t\tdefineKeyBindings(panel);\r\n    \t}\r\n    \r\n    \tprivate void defineKeyBindings(JPanel panel) {\r\n    \t\tInputMap inputMap = panel.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\r\n    \t\tActionMap actionMap = panel.getActionMap();\r\n    \r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false),\r\n    \t\t\t\t&quot;moveForward&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true),\r\n    \t\t\t\t&quot;forwardStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false),\r\n    \t\t\t\t&quot;moveBack&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true),\r\n    \t\t\t\t&quot;backwardsStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false),\r\n    \t\t\t\t&quot;rotateLeft&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true),\r\n    \t\t\t\t&quot;leftRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false),\r\n    \t\t\t\t&quot;rotateRight&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true),\r\n    \t\t\t\t&quot;rightRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false),\r\n    \t\t\t\t&quot;shoot&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true),\r\n    \t\t\t\t&quot;stopShooting&quot;);\r\n    \r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false),\r\n    \t\t\t\t&quot;moveForward&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true),\r\n    \t\t\t\t&quot;forwardStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false),\r\n    \t\t\t\t&quot;moveBack&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true),\r\n    \t\t\t\t&quot;backwardsStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false),\r\n    \t\t\t\t&quot;rotateLeft&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true),\r\n    \t\t\t\t&quot;leftRotateStop&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false),\r\n    \t\t\t\t&quot;rotateRight&quot;);\r\n    \t\tinputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true),\r\n    \t\t\t\t&quot;rightRotateStop&quot;);\r\n    \r\n    \t\tactionMap.put(&quot;moveForward&quot;, new KeyAdditionAction(KeyEvent.VK_UP));\r\n    \t\tactionMap.put(&quot;forwardStop&quot;, new KeyRemovalAction(KeyEvent.VK_UP));\r\n    \t\tactionMap.put(&quot;moveBack&quot;, new KeyAdditionAction(KeyEvent.VK_DOWN));\r\n    \t\tactionMap.put(&quot;backwardsStop&quot;, new KeyRemovalAction(KeyEvent.VK_DOWN));\r\n    \t\tactionMap.put(&quot;rotateLeft&quot;, new KeyAdditionAction(KeyEvent.VK_LEFT));\r\n    \t\tactionMap.put(&quot;leftRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_LEFT));\r\n    \t\tactionMap.put(&quot;rotateRight&quot;, new KeyAdditionAction(KeyEvent.VK_RIGHT));\r\n    \t\tactionMap.put(&quot;rightRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_RIGHT));\r\n    \t\tactionMap.put(&quot;shoot&quot;, new KeyAdditionAction(KeyEvent.VK_SPACE));\r\n    \t\tactionMap.put(&quot;stopShooting&quot;, new KeyRemovalAction(KeyEvent.VK_SPACE));\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Integer&gt; getKeysPressed() {\r\n    \t\treturn keysPressed;\r\n    \t}\r\n    \r\n    \tprivate class KeyAdditionAction extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int keyEvent;\r\n    \r\n    \t\tpublic KeyAdditionAction(int keyEvent) {\r\n    \t\t\tthis.keyEvent = keyEvent;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tInteger value = Integer.valueOf(keyEvent);\r\n    \t\t\tkeysPressed.add(value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate class KeyRemovalAction extends AbstractAction {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate final int keyEvent;\r\n    \r\n    \t\tpublic KeyRemovalAction(int keyEvent) {\r\n    \t\t\tthis.keyEvent = keyEvent;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void actionPerformed(ActionEvent event) {\r\n    \t\t\tInteger value = Integer.valueOf(keyEvent);\r\n    \t\t\tkeysPressed.remove(value);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n## Controller\r\n\r\nI created one separate controller class.  I alrady mentioned the two private `Action` classes for key bindings.\r\n\r\nThe `GameListener` class is the game loop.  Move the ship, move the shots, and repaint the drawing `JPanel`.\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.geom.Point2D;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    \r\n    public class GameListener implements ActionListener {\r\n    \r\n    \tprivate final Game view;\r\n    \r\n    \tprivate final GameModel model;\r\n    \r\n    \tpublic GameListener(Game view, GameModel model) {\r\n    \t\tthis.view = view;\r\n    \t\tthis.model = model;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void actionPerformed(ActionEvent event) {\r\n    \t\tdouble velocity = 4.0;\r\n    \t\tdouble degreesRotated = 2.0;\r\n    \t\tGameKeyBindings gameKeyBindings = view.getGameKeyBindings();\r\n    \t\tSet&lt;Integer&gt; keysPressed = gameKeyBindings.getKeysPressed();\r\n    \t\tShip ship = model.getShip();\r\n    \r\n    \t\tmodel.getShip().setVelocity(0.0);\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_UP)) {\r\n    \t\t\tship.setVelocity(velocity);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_DOWN)) {\r\n    \t\t\tship.setVelocity(-velocity);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_LEFT)) {\r\n    \t\t\tship.incrementDirection(-degreesRotated);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_RIGHT)) {\r\n    \t\t\tship.incrementDirection(degreesRotated);\r\n    \t\t}\r\n    \t\tif (keysPressed.contains(KeyEvent.VK_SPACE)) {\r\n    //\t\t\tSystem.out.println(ship);\r\n    \t\t\tPoint2D s = ship.getLocation();\r\n    \t\t\tPoint2D p = new Point2D.Double(s.getX(), s.getY());\r\n    \t\t\tShot shot = new Shot(p, ship.getDirection(), Color.RED);\r\n    \t\t\tmodel.addShot(shot);\r\n    \t\t}\r\n    \r\n    \t\tDimension drawingPanelSize = view.getDrawingPanelSize();\r\n    \t\tship.moveShip(drawingPanelSize);\r\n    \r\n    \t\tList&lt;Shot&gt; shots = model.getShots();\r\n    \t\tfor (int index = shots.size() - 1; index &gt;= 0; index--) {\r\n    \t\t\tShot shot = shots.get(index);\r\n    //\t\t\tSystem.out.println(shot);\r\n    \t\t\tboolean valid = shot.moveShot(drawingPanelSize);\r\n    \t\t\tif (!valid) {\r\n    \t\t\t\tmodel.removeShot(shot);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tview.repaint();\r\n    \t}\r\n    \r\n    }\r\n\r\n# GUI\r\n\r\nHere&#39;s a picture of the revised GUI.  I made it a lot smaller so it fits in this answer better.\r\n\r\nIn Windows, you can click on a box in the upper right corner to make the GUI use the whole display. \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L7RxL.png\r\n  [2]: https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\r\n  [3]: https://i.stack.imgur.com/zUm2d.png","title":"Java transform having an object in a different transform appear on a certain position","body":"<h1>Introduction</h1>\n<p>I copied your code into my IDE and ran it.</p>\n<p>You have a ship (player) that can rotate, move forward and backward, and can shoot a laser beam.  The up arrow key moves the ship forward, the down arrow key moves the ship backward, the left arrow key rotates the ship counterclockwise, the right arrow key rotates the ship clockwise, and the space bar shoots a laser beam.  Holding the space bar makes the laser beam longer.</p>\n<p>The ship has no momentum.  It only moves for as long as you are holding down one or more of the arrow keys.</p>\n<p>So far, so good.  Here's what it looks like when I start the application and shoot a couple of lasers</p>\n<p><a href=\"https://i.stack.imgur.com/L7RxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L7RxL.png\" alt=\"enter image description here\" /></a></p>\n<p>In my testing, I found that I could drive the ship off the screen.  I'm not sure what game you're trying to emulate, since you didn't say.</p>\n<p>All four of your classes are extensions of a Java Swing component.  That is not the way to create a complex game.  You will run into problems, as you've already discovered.</p>\n<p>@camickr commented about your painting method.  Organizing your code into classes and methods helps you to isolate problems when debugging your code.</p>\n<h1>Explanation</h1>\n<p>When I create a Swing GUI, I use the <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">model-view-controller</a> (MVC) pattern.  This pattern allows me to separate my concerns and focus on one part of the application at a time.</p>\n<p>In Java Swing, the application model is made up of one or more plain Java getter/setter classes.  The application view is made up of Swing components.  Thye application controller is made up of one or more actions or listeners.</p>\n<p>The application model holds the state of the game.</p>\n<p>The application view shows the state of the game.  Period.  Nothing else.</p>\n<p>The application controllers modify the application model and update or repaint the view.</p>\n<h2>Model</h2>\n<p>I created three model classes, <code>GameModel</code>, <code>Ship</code>, and <code>Shot</code>.</p>\n<p>The <code>GameModel</code> class is a plain Java getter/setter class that holds an instance of <code>Ship</code> and a <code>List</code> of instances of <code>Shot</code>.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.geom.Point2D;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class GameModel {\n\n    private final Dimension drawingPanelSize;\n    \n    private final List&lt;Shot&gt; shots;\n\n    private final Ship ship;\n\n    public GameModel() {\n        this.drawingPanelSize = new Dimension(400, 400);\n        Point2D p = new Point2D.Double(drawingPanelSize.width / 2,\n                drawingPanelSize.height / 2);\n        this.ship = new Ship(p, 0.0, Color.BLUE);\n        this.shots = new ArrayList&lt;&gt;();\n    }\n    \n    public void addShot(Shot shot) {\n        this.shots.add(shot);\n    }\n    \n    public void removeShot(Shot shot) {\n        this.shots.remove(shot);\n    }\n\n    public Dimension getDrawingPanelSize() {\n        return drawingPanelSize;\n    }\n\n    public Ship getShip() {\n        return ship;\n    }\n\n    public List&lt;Shot&gt; getShots() {\n        return shots;\n    }\n\n}\n</code></pre>\n<p>The <code>Ship</code> class is a plain Java getter/setter class that holds the position, direction, and velocity of a ship.  This class also draws an image of a ship.  I made the image a triangle, but you can modify the code to make the ship any combination of shapes you want.</p>\n<p>Every Java class extends <code>Object</code> and can implement a <code>toString</code> method for display or debugging.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.Polygon;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\n\npublic class Ship {\n\n    private final BufferedImage image;\n\n    /**\n     * The direction in radians. Zero is north. Positive values rotate\n     * clockwise. Negative values rotate counterclockwise.  The velocity\n     * is pixels per frame.\n     */\n    private double direction, velocity;\n\n    private Point2D location;\n\n    public Ship(Point2D location, double degrees, Color color) {\n        this.location = location;\n        this.direction = Math.toRadians(degrees);\n        this.velocity = 0.0;\n        this.image = createShipImage(color);\n    }\n\n    private BufferedImage createShipImage(Color color) {\n        BufferedImage image = new BufferedImage(25, 40,\n                BufferedImage.TYPE_INT_ARGB);\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(new Color(0, 0, 0, 0));\n        g2d.fillRect(0, 0, width, height);\n\n        Polygon p = new Polygon();\n        p.addPoint(width / 2, 0);\n        p.addPoint(0, height);\n        p.addPoint(width, height);\n\n        g2d.setColor(color);\n        g2d.fillPolygon(p);\n\n        g2d.dispose();\n        \n        return image;\n    }\n    \n    public void moveShip(Dimension drawingPanelSize) {\n        double dx = velocity * Math.sin(direction);\n        double dy = velocity * Math.cos(direction);\n        double x = location.getX() + dx;\n        double y = location.getY() - dy;\n        x = Math.max(0.0, x);\n        x = Math.min(drawingPanelSize.width, x);\n        y = Math.max(0.0, y);\n        y = Math.min(drawingPanelSize.height, y);\n        location.setLocation(x, y);\n    }\n\n    public double getDirection() {\n        return direction;\n    }\n\n    public void incrementDirection(double degrees) {\n        this.direction += Math.toRadians(degrees);\n    }\n\n    public void setVelocity(double velocity) {\n        this.velocity = velocity;\n    }\n\n    public Point2D getLocation() {\n        return location;\n    }\n\n    public BufferedImage getImage() {\n        return image;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;The ship is located at &quot;);\n        String display = String.format(&quot;%.2f&quot;, location.getX());\n        builder.append(display);\n        builder.append(&quot;, &quot;);\n        display = String.format(&quot;%.2f&quot;, location.getY());\n        builder.append(display);\n        builder.append(&quot; and facing &quot;);\n        double angle = Math.toDegrees(direction);\n        display = String.format(&quot;%.1f&quot;, angle);\n        builder.append(display);\n        builder.append(&quot; degrees&quot;);\n\n        return builder.toString();\n    }\n}\n</code></pre>\n<p>The <code>Shot</code> class is a plain Java getter/setter class that holds the position, direction, and velocity of a shot.  This class also draws an image of a shot.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\n\npublic class Shot {\n\n    private final BufferedImage image;\n\n    /**\n     * The direction in radians. Zero is north. Positive values rotate\n     * clockwise. Negative values rotate counterclockwise. The velocity is\n     * pixels per frame.\n     */\n    private double direction, velocity;\n\n    private Point2D location;\n\n    public Shot(Point2D location, double direction, Color color) {\n        this.location = location;\n        this.direction = direction;\n        this.velocity = 5.0;\n        this.image = createShotImage(color);\n    }\n\n    private BufferedImage createShotImage(Color color) {\n        BufferedImage image = new BufferedImage((int) velocity, (int) velocity,\n                BufferedImage.TYPE_INT_RGB);\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(color);\n        g2d.fillRect(0, 0, width, height);\n        g2d.dispose();\n\n        return image;\n    }\n\n    public boolean moveShot(Dimension drawingPanelSize) {\n        double dx = velocity * Math.sin(direction);\n        double dy = velocity * Math.cos(direction);\n        double x = location.getX() + dx;\n        double y = location.getY() - dy;\n\n        if (x &lt; 0.0 || x &gt; drawingPanelSize.width) {\n            return false;\n        }\n        if (y &lt; 0.0 || y &gt; drawingPanelSize.height) {\n            return false;\n        }\n\n        location.setLocation(x, y);\n        return true;\n    }\n\n    public double getDirection() {\n        return direction;\n    }\n\n    public Point2D getLocation() {\n        return location;\n    }\n\n    public BufferedImage getImage() {\n        return image;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;The shot is located at &quot;);\n        String display = String.format(&quot;%.2f&quot;, location.getX());\n        builder.append(display);\n        builder.append(&quot;, &quot;);\n        display = String.format(&quot;%.2f&quot;, location.getY());\n        builder.append(display);\n        builder.append(&quot; and facing &quot;);\n        double angle = Math.toDegrees(direction);\n        display = String.format(&quot;%.1f&quot;, angle);\n        builder.append(display);\n        builder.append(&quot; degrees&quot;);\n\n        return builder.toString();\n    }\n\n}\n</code></pre>\n<h2>View</h2>\n<p>I created a <code>JFrame and a drawing </code>JPanel`.  Because I created a model, the view is much simpler.</p>\n<p>Rather than rotating all sorts of Swing components, I created a <code>BufferedImage</code> of the ship and each shot.  That way, I could write one rotating method in the drawing <code>JPanel</code> and use it for all the images.</p>\n<p>Here's the <code>Game</code> class.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\n\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\nimport javax.swing.Timer;\n\npublic class Game implements Runnable {\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Game());\n    }\n    \n    private final DrawingPanel drawingPanel;\n    \n    private final GameKeyBindings gameKeyBindings;\n    \n    private final GameModel model;\n    \n    public Game() {\n        this.model = new GameModel();\n        this.drawingPanel = new DrawingPanel(model);\n        this.gameKeyBindings = new GameKeyBindings(drawingPanel);\n    }\n    \n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Game&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(drawingPanel, BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n        \n        Timer timer = new Timer(20, new GameListener(this, model));\n        timer.start();\n    }\n\n    public GameKeyBindings getGameKeyBindings() {\n        return gameKeyBindings;\n    }\n    \n    public Dimension getDrawingPanelSize() {\n        return drawingPanel.getSize();\n    }\n    \n    public void repaint() {\n        drawingPanel.repaint();\n    }\n}\n</code></pre>\n<p>Here's the <code>DrawingPanel</code> class.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.RenderingHints;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Point2D;\nimport java.awt.image.AffineTransformOp;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.JPanel;\n\npublic class DrawingPanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n\n    private final GameModel model;\n\n    public DrawingPanel(GameModel model) {\n        this.model = model;\n        this.setPreferredSize(model.getDrawingPanelSize());\n        this.setBackground(Color.BLACK);\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        \n        Ship ship = model.getShip();\n        BufferedImage image = ship.getImage();\n        Point2D p = ship.getLocation();\n        double rotation = ship.getDirection();\n\n        drawRotatedImage(g2d, image, p, rotation);\n        \n        for (Shot shot : model.getShots()) {\n            image = shot.getImage();\n            p = shot.getLocation();\n            rotation = shot.getDirection();\n            \n            drawRotatedImage(g2d, image, p, rotation);\n        }\n    }\n\n    private void drawRotatedImage(Graphics2D g2d, BufferedImage image,\n            Point2D p, double rotation) {\n        BufferedImage rotatedImage = rotateImage(image, rotation);\n        int x = (int) Math.round(p.getX()) - rotatedImage.getWidth() / 2;\n        int y = (int) Math.round(p.getY()) - rotatedImage.getHeight() / 2;\n\n        g2d.drawImage(rotatedImage, x, y, this);\n    }\n\n    /**\n     * &lt;p&gt;\n     * This method will rotate an image on its center point.\n     * &lt;/p&gt;\n     * &lt;p&gt;\n     * First, the image is copied to an image large enough to hold the rotated\n     * image at any angle. Then, the copied image is rotated.\n     * &lt;/p&gt;\n     * \n     * @param image    - The image to be rotated.\n     * @param rotation - The rotation angle in radians. A positive value rotates\n     *                 the image clockwise. A negative value rotates the image\n     *                 counterclockwise.\n     * @return The rotated image\n     */\n    private BufferedImage rotateImage(BufferedImage image, double rotation) {\n        double newWidthD = getNewImageWidth(image);\n        double halfWidthD = newWidthD / 2.0;\n        int newWidthI = (int) newWidthD;\n\n        BufferedImage newImage = translateImage(image, newWidthI);\n        BufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\n                image.getType());\n        AffineTransform tx = AffineTransform.getRotateInstance(rotation,\n                halfWidthD, halfWidthD);\n        AffineTransformOp op = new AffineTransformOp(tx,\n                AffineTransformOp.TYPE_BILINEAR);\n        op.filter(newImage, outputImage);\n\n        return outputImage;\n    }\n\n    /**\n     * This method calculates the width of the new image. Basically, calculate\n     * the hypotenuse of the width and height of the image.\n     * \n     * @param image - The original image\n     * @return The width and height of the square that can hold the image\n     *         rotated at any angle.\n     */\n    private double getNewImageWidth(BufferedImage image) {\n        int width = image.getWidth();\n        int height = image.getHeight();\n\n        double newWidth = width * width + height * height;\n        newWidth = Math.ceil(Math.pow(newWidth, 0.5));\n\n        return newWidth;\n    }\n\n    /**\n     * This method copies the image to a new image. The original image is placed\n     * in the center of the new image. The rest of the image is filled with\n     * transparent pixels.\n     * \n     * @param image    - The original image.\n     * @param newWidth - the width and height of the new image.\n     * @return The translated image\n     */\n    private BufferedImage translateImage(BufferedImage image, int newWidth) {\n        BufferedImage newImage = new BufferedImage(newWidth, newWidth,\n                BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = (Graphics2D) newImage.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setColor(new Color(0, 0, 0, 0));\n        g2d.fillRect(0, 0, newWidth, newWidth);\n        int x = (newWidth - image.getWidth()) / 2;\n        int y = (newWidth - image.getHeight()) / 2;\n        g2d.drawImage(image, x, y, null);\n        g2d.dispose();\n\n        return newImage;\n    }\n\n}\n</code></pre>\n<p>I separated the key bindings into a separate class, mainly to help organize the code.  I created two private <code>Action</code> classes that I could reuse.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.KeyEvent;\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\n\npublic class GameKeyBindings {\n\n    private final Set&lt;Integer&gt; keysPressed;\n\n    public GameKeyBindings(JPanel panel) {\n        this.keysPressed = new HashSet&lt;&gt;();\n        defineKeyBindings(panel);\n    }\n\n    private void defineKeyBindings(JPanel panel) {\n        InputMap inputMap = panel.getInputMap(JPanel.WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = panel.getActionMap();\n\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false),\n                &quot;moveForward&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true),\n                &quot;forwardStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false),\n                &quot;moveBack&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true),\n                &quot;backwardsStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false),\n                &quot;rotateLeft&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true),\n                &quot;leftRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false),\n                &quot;rotateRight&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true),\n                &quot;rightRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false),\n                &quot;shoot&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true),\n                &quot;stopShooting&quot;);\n\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, false),\n                &quot;moveForward&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_W, 0, true),\n                &quot;forwardStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, false),\n                &quot;moveBack&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_S, 0, true),\n                &quot;backwardsStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, false),\n                &quot;rotateLeft&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_A, 0, true),\n                &quot;leftRotateStop&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, false),\n                &quot;rotateRight&quot;);\n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_D, 0, true),\n                &quot;rightRotateStop&quot;);\n\n        actionMap.put(&quot;moveForward&quot;, new KeyAdditionAction(KeyEvent.VK_UP));\n        actionMap.put(&quot;forwardStop&quot;, new KeyRemovalAction(KeyEvent.VK_UP));\n        actionMap.put(&quot;moveBack&quot;, new KeyAdditionAction(KeyEvent.VK_DOWN));\n        actionMap.put(&quot;backwardsStop&quot;, new KeyRemovalAction(KeyEvent.VK_DOWN));\n        actionMap.put(&quot;rotateLeft&quot;, new KeyAdditionAction(KeyEvent.VK_LEFT));\n        actionMap.put(&quot;leftRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_LEFT));\n        actionMap.put(&quot;rotateRight&quot;, new KeyAdditionAction(KeyEvent.VK_RIGHT));\n        actionMap.put(&quot;rightRotateStop&quot;, new KeyRemovalAction(KeyEvent.VK_RIGHT));\n        actionMap.put(&quot;shoot&quot;, new KeyAdditionAction(KeyEvent.VK_SPACE));\n        actionMap.put(&quot;stopShooting&quot;, new KeyRemovalAction(KeyEvent.VK_SPACE));\n    }\n\n    public Set&lt;Integer&gt; getKeysPressed() {\n        return keysPressed;\n    }\n\n    private class KeyAdditionAction extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int keyEvent;\n\n        public KeyAdditionAction(int keyEvent) {\n            this.keyEvent = keyEvent;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            Integer value = Integer.valueOf(keyEvent);\n            keysPressed.add(value);\n        }\n    }\n\n    private class KeyRemovalAction extends AbstractAction {\n\n        private static final long serialVersionUID = 1L;\n\n        private final int keyEvent;\n\n        public KeyRemovalAction(int keyEvent) {\n            this.keyEvent = keyEvent;\n        }\n\n        @Override\n        public void actionPerformed(ActionEvent event) {\n            Integer value = Integer.valueOf(keyEvent);\n            keysPressed.remove(value);\n        }\n    }\n\n}\n</code></pre>\n<h2>Controller</h2>\n<p>I created one separate controller class.  I alrady mentioned the two private <code>Action</code> classes for key bindings.</p>\n<p>The <code>GameListener</code> class is the game loop.  Move the ship, move the shots, and repaint the drawing <code>JPanel</code>.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.awt.geom.Point2D;\nimport java.util.List;\nimport java.util.Set;\n\npublic class GameListener implements ActionListener {\n\n    private final Game view;\n\n    private final GameModel model;\n\n    public GameListener(Game view, GameModel model) {\n        this.view = view;\n        this.model = model;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent event) {\n        double velocity = 4.0;\n        double degreesRotated = 2.0;\n        GameKeyBindings gameKeyBindings = view.getGameKeyBindings();\n        Set&lt;Integer&gt; keysPressed = gameKeyBindings.getKeysPressed();\n        Ship ship = model.getShip();\n\n        model.getShip().setVelocity(0.0);\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\n            ship.setVelocity(velocity);\n        }\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\n            ship.setVelocity(-velocity);\n        }\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\n            ship.incrementDirection(-degreesRotated);\n        }\n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\n            ship.incrementDirection(degreesRotated);\n        }\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\n//          System.out.println(ship);\n            Point2D s = ship.getLocation();\n            Point2D p = new Point2D.Double(s.getX(), s.getY());\n            Shot shot = new Shot(p, ship.getDirection(), Color.RED);\n            model.addShot(shot);\n        }\n\n        Dimension drawingPanelSize = view.getDrawingPanelSize();\n        ship.moveShip(drawingPanelSize);\n\n        List&lt;Shot&gt; shots = model.getShots();\n        for (int index = shots.size() - 1; index &gt;= 0; index--) {\n            Shot shot = shots.get(index);\n//          System.out.println(shot);\n            boolean valid = shot.moveShot(drawingPanelSize);\n            if (!valid) {\n                model.removeShot(shot);\n            }\n        }\n\n        view.repaint();\n    }\n\n}\n</code></pre>\n<h1>GUI</h1>\n<p>Here's a picture of the revised GUI.  I made it a lot smaller so it fits in this answer better.</p>\n<p>In Windows, you can click on a box in the upper right corner to make the GUI use the whole display.</p>\n<p><a href=\"https://i.stack.imgur.com/zUm2d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zUm2d.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":76937201,"answer_count":1,"score":0,"last_activity_date":1692482675,"creation_date":1692264139,"question_id":76920133,"body_markdown":"Ok so I have an issue with shots being fired from the player. The shots always appear from  certain place and not in front of the player. I have placed a green square where the shots fires from but of course they should be firing from in this case one of the short sides of the blue rectangle. \r\n\r\nI know the issue is caused by the transform. Essentially how the shot object positions is not updated together with the player object. But I simply do not know how to fix the issue.\r\n\r\nThe commented out code to draw a green triangle inside the players transform essentially will do what I the shot object to do. But I am not sure how to make that happen.\r\n\r\n\r\n\r\n\r\n\r\nMain/frame class\r\n\r\n```\r\npublic class Test extends JFrame {\r\n   public static void main(String argvs[]) {\r\n        Board board = new Board();\r\n        board.timer.start();\r\n        Test frame = new Test();\r\n        frame.add(board);\r\n        frame.setTitle(&quot;overflow&quot;);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);   \r\n        frame.setResizable(false);      \r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBoard class\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Toolkit;\r\nimport javax.swing.JComponent;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.Timer;\r\n\r\npublic class Board extends JComponent implements ActionListener  {\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n    Player player = new Player();\r\n\r\n    Timer timer=new Timer(16, this);\r\n\r\n    public Board(){\r\n        //setFocusable(true);\r\n        add(player);\r\n    }\r\n\r\n    @Override\r\n\tpublic void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        g.setPaintMode();\r\n        board(g);\r\n        player.draw(g);\r\n        for (int i = player.playerShot.size() - 1; i &gt;=0 ; i--) {\r\n\t\t\tShot shot = player.playerShot.get(i);\r\n\t\t\tif(shot.shotX &lt; 0 || shot.shotY &lt; 0 || shot.shotX &gt; size.getWidth() || shot.shotY &gt; size.getHeight())  { \r\n\t\t\t\tplayer.playerShot.remove(i);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tshot.collision();\r\n\t\t\tshot.draw(g);\r\n        }\r\n    }\r\n\r\n    void board(Graphics g){\r\n        g.setColor(Color.BLACK);\r\n        g.fillRect(0, 0, (int)size.getWidth(), (int)size.getHeight());\r\n \r\n    }\r\n\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent ev){\r\n        if(ev.getSource()==timer){\r\n            player.movement();\r\n            //shot.collision();\r\n          repaint();// this will call at every 1 second\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nPlayer class\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.Toolkit;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.util.ArrayList;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\nimport javax.swing.*;\r\nimport java.awt.event.*;\r\n\r\npublic class Player extends JComponent {\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n    int playerX; // Position of the player\r\n    int playerY;\r\n    private double rotationAngle; // Angle in radians\r\n    public Set&lt;Integer&gt; keysPressed; // Store the keys being pressed\r\n    boolean moving = false;\r\n    ArrayList&lt;Shot&gt; playerShot = new ArrayList&lt;Shot&gt;();\r\n\r\n\r\n\r\n    public Player() {\r\n\r\n        playerX = (int) (size.getWidth() / 2); // Initialize player position (you can set your own initial position)\r\n        playerY = (int) (size.getHeight() / 2);\r\n        rotationAngle = 0; \r\n        keysPressed = new HashSet&lt;&gt;();\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false), &quot;moveForward&quot;);\r\n        getActionMap().put(&quot;moveForward&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_UP); \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;forwardStop&quot;);\r\n        getActionMap().put(&quot;forwardStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_UP);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false), &quot;moveBack&quot;);\r\n        getActionMap().put(&quot;moveBack&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_DOWN);                \r\n               // movement();\r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;backwardsStop&quot;);\r\n        getActionMap().put(&quot;backwardsStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_DOWN);                \r\n               // movement();\r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), &quot;rotateLeft&quot;);\r\n        getActionMap().put(&quot;rotateLeft&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_LEFT);                \r\n                //movement();           \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), &quot;leftRotateStop&quot;);\r\n        getActionMap().put(&quot;leftRotateStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_LEFT);                \r\n                //movement();           \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), &quot;rotateRight&quot;);\r\n        getActionMap().put(&quot;rotateRight&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_RIGHT);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), &quot;rightRotateStop&quot;);\r\n        getActionMap().put(&quot;rightRotateStop&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_RIGHT);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;Shoot&quot;);\r\n        getActionMap().put(&quot;Shoot&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.add(KeyEvent.VK_SPACE);                \r\n                //movement();            \r\n            }\r\n        });\r\n\r\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;stopShoting&quot;);\r\n        getActionMap().put(&quot;stopShoting&quot;, new AbstractAction() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                keysPressed.remove(KeyEvent.VK_SPACE);                \r\n                //movement();            \r\n            }\r\n        });\r\n    }\r\n\r\n    public void movement() {\r\n        //System.out.println(&quot;player is at &quot; + playerX +&quot; &quot; +playerY);\r\n        int moveDistance = 4;\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\r\n            // Move forward\r\n            playerX += moveDistance * Math.sin(rotationAngle);\r\n            playerY -= moveDistance * Math.cos(rotationAngle);\r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\r\n            // Move backward\r\n            playerX -= moveDistance * Math.sin(rotationAngle);\r\n            playerY += moveDistance * Math.cos(rotationAngle);\r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\r\n            rotationAngle -= Math.toRadians(2); \r\n        }\r\n        \r\n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\r\n            // Rotate left\r\n            rotationAngle += Math.toRadians(2); \r\n        }\r\n\r\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\r\n            playerShot.add(shoot());\r\n            //shoot();\r\n\r\n            //Shot shot = new Shot();\r\n            //shot.collision(playerX,playerY);\r\n            // Rotate right\r\n        }\r\n       // System.out.println(keysPressed);\r\n    }\r\n\r\n    public Shot shoot() {\r\n        return new Shot(playerX + 6, playerY - 10,rotationAngle);\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        g2d.setColor(Color.BLUE);\r\n\r\n\r\n        Rectangle player = new Rectangle(playerX, playerY, 15, 50);\r\n\r\n        \r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\r\n\r\n\r\n        AffineTransform rotationTransform = new AffineTransform();\r\n        rotationTransform.rotate(rotationAngle, playerX + player.getWidth() / 2, playerY + player.getHeight() / 2);\r\n        g2d.setTransform(rotationTransform);\r\n        g2d.fill(player);\r\n\r\n        //g2d.setColor(Color.green);\r\n        //g2d.fillRect(playerX+6, playerY-10, 5, 5);\r\n\r\n        g2d.setTransform(oldTransform); // Restore the original transform\r\n\r\n        g2d.setColor(Color.green);\r\n        g2d.fillRect(playerX+6, playerY-10, 5, 5);\r\n\r\n\r\n        \r\n    }\r\n}\r\n\r\n\r\n```\r\nShot class\r\n\r\n```\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Rectangle;\r\nimport java.awt.RenderingHints;\r\nimport java.awt.image.BufferedImage;\r\nimport javax.swing.JComponent;\r\n\r\nimport java.awt.Toolkit;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\n\r\n\r\npublic class Shot extends JComponent {\r\n    int shotX;\r\n    int shotY;\r\n    private double rotationAngle; // Angle in radians\r\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\r\n    \r\n    public Shot(int shotX,int shotY,double rotationAngle) {\r\n        this.shotX = shotX;\r\n        this.shotY = shotY;\r\n        this.rotationAngle = rotationAngle;\r\n    }\r\n\r\n    public void draw(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n\r\n        g2d.setColor(Color.red);\r\n\r\n\r\n        Rectangle shot = new Rectangle(shotX, shotY, 5, 5);\r\n\r\n        \r\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n\r\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\r\n\r\n\r\n        AffineTransform rotationTransform = new AffineTransform();\r\n        rotationTransform.rotate(rotationAngle, shotX + shot.getWidth() / 2, shotY + shot.getHeight() / 2);\r\n\r\n        g2d.setTransform(rotationTransform);\r\n        g2d.fill(shot);\r\n        g2d.setTransform(oldTransform); // Restore the original transform\r\n        \r\n    }\r\n\r\n    public  void collision(){\r\n\r\n        shotX += 4 * Math.sin(rotationAngle);\r\n        shotY -= 4 * Math.cos(rotationAngle);\r\n\r\n        \r\n      /*   if ((shotX &lt;= -5)|| (shotX &gt;= (int)(size.getWidth() + 5)) || (shotY  &lt;= -5 || shotY &gt;= (int)(size.getHeight() + 5))){\r\n            System.out.println(&quot;aaaa&quot;);      \r\n        } */\r\n            //shotX += 2;\r\n           // shotY -= 2;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n","title":"Java transform having an object in a different transform appear on a certain position","body":"<p>Ok so I have an issue with shots being fired from the player. The shots always appear from  certain place and not in front of the player. I have placed a green square where the shots fires from but of course they should be firing from in this case one of the short sides of the blue rectangle.</p>\n<p>I know the issue is caused by the transform. Essentially how the shot object positions is not updated together with the player object. But I simply do not know how to fix the issue.</p>\n<p>The commented out code to draw a green triangle inside the players transform essentially will do what I the shot object to do. But I am not sure how to make that happen.</p>\n<p>Main/frame class</p>\n<pre><code>public class Test extends JFrame {\n   public static void main(String argvs[]) {\n        Board board = new Board();\n        board.timer.start();\n        Test frame = new Test();\n        frame.add(board);\n        frame.setTitle(&quot;overflow&quot;);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);   \n        frame.setResizable(false);      \n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n}\n\n</code></pre>\n<p>Board class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Toolkit;\nimport javax.swing.JComponent;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.Timer;\n\npublic class Board extends JComponent implements ActionListener  {\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n\n    Player player = new Player();\n\n    Timer timer=new Timer(16, this);\n\n    public Board(){\n        //setFocusable(true);\n        add(player);\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setPaintMode();\n        board(g);\n        player.draw(g);\n        for (int i = player.playerShot.size() - 1; i &gt;=0 ; i--) {\n            Shot shot = player.playerShot.get(i);\n            if(shot.shotX &lt; 0 || shot.shotY &lt; 0 || shot.shotX &gt; size.getWidth() || shot.shotY &gt; size.getHeight())  { \n                player.playerShot.remove(i);\n                continue;\n            }\n            shot.collision();\n            shot.draw(g);\n        }\n    }\n\n    void board(Graphics g){\n        g.setColor(Color.BLACK);\n        g.fillRect(0, 0, (int)size.getWidth(), (int)size.getHeight());\n \n    }\n\n\n    @Override\n    public void actionPerformed(ActionEvent ev){\n        if(ev.getSource()==timer){\n            player.movement();\n            //shot.collision();\n          repaint();// this will call at every 1 second\n        }\n    }\n}\n</code></pre>\n<p>Player class</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.Toolkit;\nimport java.awt.geom.AffineTransform;\nimport java.util.ArrayList;\nimport java.util.HashSet;\nimport java.util.Set;\nimport javax.swing.*;\nimport java.awt.event.*;\n\npublic class Player extends JComponent {\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n    int playerX; // Position of the player\n    int playerY;\n    private double rotationAngle; // Angle in radians\n    public Set&lt;Integer&gt; keysPressed; // Store the keys being pressed\n    boolean moving = false;\n    ArrayList&lt;Shot&gt; playerShot = new ArrayList&lt;Shot&gt;();\n\n\n\n    public Player() {\n\n        playerX = (int) (size.getWidth() / 2); // Initialize player position (you can set your own initial position)\n        playerY = (int) (size.getHeight() / 2);\n        rotationAngle = 0; \n        keysPressed = new HashSet&lt;&gt;();\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, false), &quot;moveForward&quot;);\n        getActionMap().put(&quot;moveForward&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_UP); \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_UP, 0, true), &quot;forwardStop&quot;);\n        getActionMap().put(&quot;forwardStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_UP);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, false), &quot;moveBack&quot;);\n        getActionMap().put(&quot;moveBack&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_DOWN);                \n               // movement();\n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_DOWN, 0, true), &quot;backwardsStop&quot;);\n        getActionMap().put(&quot;backwardsStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_DOWN);                \n               // movement();\n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, false), &quot;rotateLeft&quot;);\n        getActionMap().put(&quot;rotateLeft&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_LEFT);                \n                //movement();           \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_LEFT, 0, true), &quot;leftRotateStop&quot;);\n        getActionMap().put(&quot;leftRotateStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_LEFT);                \n                //movement();           \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, false), &quot;rotateRight&quot;);\n        getActionMap().put(&quot;rotateRight&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_RIGHT);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_RIGHT, 0, true), &quot;rightRotateStop&quot;);\n        getActionMap().put(&quot;rightRotateStop&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_RIGHT);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, false), &quot;Shoot&quot;);\n        getActionMap().put(&quot;Shoot&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.add(KeyEvent.VK_SPACE);                \n                //movement();            \n            }\n        });\n\n        getInputMap(JComponent.WHEN_IN_FOCUSED_WINDOW).put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0, true), &quot;stopShoting&quot;);\n        getActionMap().put(&quot;stopShoting&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                keysPressed.remove(KeyEvent.VK_SPACE);                \n                //movement();            \n            }\n        });\n    }\n\n    public void movement() {\n        //System.out.println(&quot;player is at &quot; + playerX +&quot; &quot; +playerY);\n        int moveDistance = 4;\n\n        if (keysPressed.contains(KeyEvent.VK_UP)) {\n            // Move forward\n            playerX += moveDistance * Math.sin(rotationAngle);\n            playerY -= moveDistance * Math.cos(rotationAngle);\n        }\n\n        if (keysPressed.contains(KeyEvent.VK_DOWN)) {\n            // Move backward\n            playerX -= moveDistance * Math.sin(rotationAngle);\n            playerY += moveDistance * Math.cos(rotationAngle);\n        }\n\n        if (keysPressed.contains(KeyEvent.VK_LEFT)) {\n            rotationAngle -= Math.toRadians(2); \n        }\n        \n        if (keysPressed.contains(KeyEvent.VK_RIGHT)) {\n            // Rotate left\n            rotationAngle += Math.toRadians(2); \n        }\n\n        if (keysPressed.contains(KeyEvent.VK_SPACE)) {\n            playerShot.add(shoot());\n            //shoot();\n\n            //Shot shot = new Shot();\n            //shot.collision(playerX,playerY);\n            // Rotate right\n        }\n       // System.out.println(keysPressed);\n    }\n\n    public Shot shoot() {\n        return new Shot(playerX + 6, playerY - 10,rotationAngle);\n    }\n\n    public void draw(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(Color.BLUE);\n\n\n        Rectangle player = new Rectangle(playerX, playerY, 15, 50);\n\n        \n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\n\n\n        AffineTransform rotationTransform = new AffineTransform();\n        rotationTransform.rotate(rotationAngle, playerX + player.getWidth() / 2, playerY + player.getHeight() / 2);\n        g2d.setTransform(rotationTransform);\n        g2d.fill(player);\n\n        //g2d.setColor(Color.green);\n        //g2d.fillRect(playerX+6, playerY-10, 5, 5);\n\n        g2d.setTransform(oldTransform); // Restore the original transform\n\n        g2d.setColor(Color.green);\n        g2d.fillRect(playerX+6, playerY-10, 5, 5);\n\n\n        \n    }\n}\n\n\n</code></pre>\n<p>Shot class</p>\n<pre><code>import java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\nimport javax.swing.JComponent;\n\nimport java.awt.Toolkit;\nimport java.awt.geom.AffineTransform;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\n\n\npublic class Shot extends JComponent {\n    int shotX;\n    int shotY;\n    private double rotationAngle; // Angle in radians\n    Dimension size = Toolkit.getDefaultToolkit().getScreenSize();\n    \n    public Shot(int shotX,int shotY,double rotationAngle) {\n        this.shotX = shotX;\n        this.shotY = shotY;\n        this.rotationAngle = rotationAngle;\n    }\n\n    public void draw(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n\n        g2d.setColor(Color.red);\n\n\n        Rectangle shot = new Rectangle(shotX, shotY, 5, 5);\n\n        \n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n\n        AffineTransform oldTransform = g2d.getTransform(); // Save the current transform\n\n\n        AffineTransform rotationTransform = new AffineTransform();\n        rotationTransform.rotate(rotationAngle, shotX + shot.getWidth() / 2, shotY + shot.getHeight() / 2);\n\n        g2d.setTransform(rotationTransform);\n        g2d.fill(shot);\n        g2d.setTransform(oldTransform); // Restore the original transform\n        \n    }\n\n    public  void collision(){\n\n        shotX += 4 * Math.sin(rotationAngle);\n        shotY -= 4 * Math.cos(rotationAngle);\n\n        \n      /*   if ((shotX &lt;= -5)|| (shotX &gt;= (int)(size.getWidth() + 5)) || (shotY  &lt;= -5 || shotY &gt;= (int)(size.getHeight() + 5))){\n            System.out.println(&quot;aaaa&quot;);      \n        } */\n            //shotX += 2;\n           // shotY -= 2;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","gradle","zip","aws-cdk","bitbucket-pipelines"],"comments":[{"owner":{"account_id":152954,"reputation":16366,"user_id":367865,"accept_rate":45,"display_name":"Ouroborus"},"score":1,"creation_date":1692476729,"post_id":76936707,"comment_id":135629414,"body_markdown":"The zip format includes timestamps for &quot;created&quot; and &quot;modified&quot;. (These fields were retired in newer versions of pkzip but still exist on the file entries.) These fields may cause the archive to have a different hash from one that was constructed at a different time.","body":"The zip format includes timestamps for &quot;created&quot; and &quot;modified&quot;. (These fields were retired in newer versions of pkzip but still exist on the file entries.) These fields may cause the archive to have a different hash from one that was constructed at a different time."}],"owner":{"account_id":1926234,"reputation":8411,"user_id":1736601,"accept_rate":70,"display_name":"atkayla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692480327,"creation_date":1692472915,"question_id":76936707,"body_markdown":"I have a Bitbucket Pipeline that runs `gradle build` &gt; `cdk deploy`. \r\n\r\nI am using gradle to build and zip a directory of Java code, then using this zip to deploy a lambda function with cdk Java. \r\n\r\n```\r\nFunction.Builder.create(this, &quot;mylambda&quot;)\r\n                .code(Code.fromAsset(&quot;somepath/mylambda/build/distributions/mylambda.zip&quot;))\r\n```\r\n\r\nAt the end of running the Bitbucket Pipeline, it outputs the asset at `cdk.out/asset.&lt;hash&gt;.zip` where `&lt;hash&gt;` keeps changing, even when the code does not. So this is clogging up my S3 with a bunch of asset zips that have the same code. \r\n\r\nI had to use a Bitbucket Pipeline changeset to work around this, but I don&#39;t think this should be necessary and doesn&#39;t seem like the proper solution. I feel like the hash shouldn&#39;t be changing.\r\n```\r\n    - step:\r\n        name: &quot;deploy&quot;\r\n        condition:\r\n          changesets:\r\n            includePaths:\r\n              - somepath/mylambda/**\r\n```\r\n\r\nI am not sure where the issue is, whether it&#39;s in gradle or cdk or the Bitbucket Pipeline, that is causing redundant asset zips. Any ideas why the hash keeps changing?\r\n\r\nUPDATE: It seems like it works as expected when cdk commands are ran locally on my laptop: same code =&gt; same asset hash, but when running the Bitbucket Pipeline to build with cdk on the exact same commit, it generates different asset hashes and wants to redeploy the same code every time. \r\n\r\nUPDATE 2: Nevermind, the local run was using the gradle cache, so `./gradlew clean build` still changes the asset hash when I would not like it to. \r\n\r\nCDK version:\r\n```\r\n2.87.0 (build 9fca790)\r\n```\r\n\r\nLocal version:\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-10-14 16:13:12 UTC\r\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          11.0.19 (Amazon.com Inc. 11.0.19+7-LTS)\r\nOS:           Mac OS X 11.1 aarch64\r\n```\r\n\r\nBitbucket Pipeline version:\r\n```\r\n------------------------------------------------------------\r\nGradle 6.7\r\n------------------------------------------------------------\r\n\r\nBuild time:   2020-10-14 16:13:12 UTC\r\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\r\n\r\nKotlin:       1.3.72\r\nGroovy:       2.5.12\r\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\r\nJVM:          11.0.16 (Oracle Corporation 11.0.16+8)\r\nOS:           Linux 5.15.0-1040-aws amd64\r\n```","title":"CDK hash for asset zip keeps changing when code doesn&#39;t change","body":"<p>I have a Bitbucket Pipeline that runs <code>gradle build</code> &gt; <code>cdk deploy</code>.</p>\n<p>I am using gradle to build and zip a directory of Java code, then using this zip to deploy a lambda function with cdk Java.</p>\n<pre><code>Function.Builder.create(this, &quot;mylambda&quot;)\n                .code(Code.fromAsset(&quot;somepath/mylambda/build/distributions/mylambda.zip&quot;))\n</code></pre>\n<p>At the end of running the Bitbucket Pipeline, it outputs the asset at <code>cdk.out/asset.&lt;hash&gt;.zip</code> where <code>&lt;hash&gt;</code> keeps changing, even when the code does not. So this is clogging up my S3 with a bunch of asset zips that have the same code.</p>\n<p>I had to use a Bitbucket Pipeline changeset to work around this, but I don't think this should be necessary and doesn't seem like the proper solution. I feel like the hash shouldn't be changing.</p>\n<pre><code>    - step:\n        name: &quot;deploy&quot;\n        condition:\n          changesets:\n            includePaths:\n              - somepath/mylambda/**\n</code></pre>\n<p>I am not sure where the issue is, whether it's in gradle or cdk or the Bitbucket Pipeline, that is causing redundant asset zips. Any ideas why the hash keeps changing?</p>\n<p>UPDATE: It seems like it works as expected when cdk commands are ran locally on my laptop: same code =&gt; same asset hash, but when running the Bitbucket Pipeline to build with cdk on the exact same commit, it generates different asset hashes and wants to redeploy the same code every time.</p>\n<p>UPDATE 2: Nevermind, the local run was using the gradle cache, so <code>./gradlew clean build</code> still changes the asset hash when I would not like it to.</p>\n<p>CDK version:</p>\n<pre><code>2.87.0 (build 9fca790)\n</code></pre>\n<p>Local version:</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7\n------------------------------------------------------------\n\nBuild time:   2020-10-14 16:13:12 UTC\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.19 (Amazon.com Inc. 11.0.19+7-LTS)\nOS:           Mac OS X 11.1 aarch64\n</code></pre>\n<p>Bitbucket Pipeline version:</p>\n<pre><code>------------------------------------------------------------\nGradle 6.7\n------------------------------------------------------------\n\nBuild time:   2020-10-14 16:13:12 UTC\nRevision:     312ba9e0f4f8a02d01854d1ed743b79ed996dfd3\n\nKotlin:       1.3.72\nGroovy:       2.5.12\nAnt:          Apache Ant(TM) version 1.10.8 compiled on May 10 2020\nJVM:          11.0.16 (Oracle Corporation 11.0.16+8)\nOS:           Linux 5.15.0-1040-aws amd64\n</code></pre>\n"},{"tags":["java","character-encoding","mainframe","charset"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692473703,"post_id":76936549,"comment_id":135629128,"body_markdown":"[`IBM1047`](https://docs.oracle.com/en/java/javase/20/intl/supported-encodings.html) is bundled, at least with every OpenJDK-based implementation. Perhaps you could use the [OpenJDK source code](https://github.com/openjdk/jdk) as a guide to write your own implementation of an IBM 924 [`Charset`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html).  You may need to implement a `CharsetProvider` as well, to leverage the [Java Service Provider Interface (SPI)](https://en.m.wikipedia.org/wiki/Service_provider_interface) facility, as noted in the Javadoc.","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/intl/supported-encodings.html\" rel=\"nofollow noreferrer\"><code>IBM1047</code></a> is bundled, at least with every OpenJDK-based implementation. Perhaps you could use the <a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">OpenJDK source code</a> as a guide to write your own implementation of an IBM 924 <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>.  You may need to implement a <code>CharsetProvider</code> as well, to leverage the <a href=\"https://en.m.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\">Java Service Provider Interface (SPI)</a> facility, as noted in the Javadoc."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482181,"post_id":76936549,"comment_id":135629902,"body_markdown":"FYI… I tried adding more `CharSet` classes from the [*ICU4J Charset Provider*](https://mvnrepository.com/artifact/com.ibm.icu/icu4j-charset) of the [ICU4J](https://unicode-org.github.io/icu/userguide/icu4j/) project adapting [ICU](https://en.wikipedia.org/wiki/International_Components_for_Unicode) for Java. This did add 111 more `Charset` objects to the 173 found in Java 20, for a total of 284. Unfortunately, none of these were your elusive IBM 924. (Calling `Charset.availableCharsets` lists all available `Charset` objects.)","body":"FYI… I tried adding more <code>CharSet</code> classes from the <a href=\"https://mvnrepository.com/artifact/com.ibm.icu/icu4j-charset\" rel=\"nofollow noreferrer\"><i>ICU4J Charset Provider</i></a> of the <a href=\"https://unicode-org.github.io/icu/userguide/icu4j/\" rel=\"nofollow noreferrer\">ICU4J</a> project adapting <a href=\"https://en.wikipedia.org/wiki/International_Components_for_Unicode\" rel=\"nofollow noreferrer\">ICU</a> for Java. This did add 111 more <code>Charset</code> objects to the 173 found in Java 20, for a total of 284. Unfortunately, none of these were your elusive IBM 924. (Calling <code>Charset.availableCharsets</code> lists all available <code>Charset</code> objects.)"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482519,"post_id":76936549,"comment_id":135629939,"body_markdown":"Can you provide a link for the &quot;IBM JDK&quot; you mentioned?","body":"Can you provide a link for the &quot;IBM JDK&quot; you mentioned?"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692482652,"post_id":76936549,"comment_id":135629951,"body_markdown":"Indeed the amount of time it took me to figure out it was 924... let&#39;s just say, I have a new hatred for IBM... I wish there was a search functionality to match find charset based on combination of unicode and hexadecimal value.\nWell, I didn&#39;t download a JDK per se, if you download the zip Installation Manager of IBM (https://www.ibm.com/support/pages/installation-manager-and-packaging-utility-download-documents) there is a JRE there and on the lib/charsets.jar you&#39;ll find the 924 charset.","body":"Indeed the amount of time it took me to figure out it was 924... let&#39;s just say, I have a new hatred for IBM... I wish there was a search functionality to match find charset based on combination of unicode and hexadecimal value. Well, I didn&#39;t download a JDK per se, if you download the zip Installation Manager of IBM (<a href=\"https://www.ibm.com/support/pages/installation-manager-and-packaging-utility-download-documents\" rel=\"nofollow noreferrer\">ibm.com/support/pages/&hellip;</a>) there is a JRE there and on the lib/charsets.jar you&#39;ll find the 924 charset."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692482933,"post_id":76936549,"comment_id":135629979,"body_markdown":"By the way, ICU4J seems to include a [*Character Set Detection*](https://unicode-org.github.io/icu/userguide/conversion/detection.html#character-set-detection) feature. I don&#39;t know if this would have helped you though, since ICU4J seems to be unaware of IBM 924 per my Comment above.","body":"By the way, ICU4J seems to include a <a href=\"https://unicode-org.github.io/icu/userguide/conversion/detection.html#character-set-detection\" rel=\"nofollow noreferrer\"><i>Character Set Detection</i></a> feature. I don&#39;t know if this would have helped you though, since ICU4J seems to be unaware of IBM 924 per my Comment above."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692483056,"post_id":76936549,"comment_id":135629991,"body_markdown":"ICU4J does offer an [encoding conversion](https://unicode-org.github.io/icu/userguide/conversion/) feature. I don&#39;t know if this is helpful to you or not.","body":"ICU4J does offer an <a href=\"https://unicode-org.github.io/icu/userguide/conversion/\" rel=\"nofollow noreferrer\">encoding conversion</a> feature. I don&#39;t know if this is helpful to you or not."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692483849,"post_id":76936549,"comment_id":135630061,"body_markdown":"FYI, I tried IBM’s [Semeru](https://developer.ibm.com/languages/java/semeru-runtimes/) JDK version 20.0.2 to list available `Charset` objects. I got a total of 173, just like I did with Azul System’s Zulu 20.0.2 JDK, so I assume they are the same set of `Charset` objects. Certainly no &quot;924&quot; among them.","body":"FYI, I tried IBM’s <a href=\"https://developer.ibm.com/languages/java/semeru-runtimes/\" rel=\"nofollow noreferrer\">Semeru</a> JDK version 20.0.2 to list available <code>Charset</code> objects. I got a total of 173, just like I did with Azul System’s Zulu 20.0.2 JDK, so I assume they are the same set of <code>Charset</code> objects. Certainly no &quot;924&quot; among them."},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692484449,"post_id":76936549,"comment_id":135630111,"body_markdown":"Did you try to download the installation manager of IBM, it contains a JRE folder, if you unzip the charsets.jar and go into sun.nio.cs.ext you&#39;ll find the elusive 924.\nYou have the list of charsets also on the ExtendedCharsets.class","body":"Did you try to download the installation manager of IBM, it contains a JRE folder, if you unzip the charsets.jar and go into sun.nio.cs.ext you&#39;ll find the elusive 924. You have the list of charsets also on the ExtendedCharsets.class"}],"answers":[{"comments":[{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692481448,"post_id":76936879,"comment_id":135629821,"body_markdown":"Indeed the decoding is working with the correct hexadecimal values. Thanks for that! However, I&#39;m having trouble getting the CharsetProvider to work. I created a jar with the following structure:  \nmy/package/Ibm924CharsetProvider.class\nMETA-INF/services/java.nio.charsets.spi.CharsetProvider (which inside has my.package.Ibm924CharsetProvider)\nI then added the jar to the lib/ext folder of my jre.\nHowever when trying to execute:\nbyte[] b = in.getBytes(&quot;IBM-924&quot;);\nIn a very simple main it gives Exception in thread &quot;main&quot; java.io.UnsupportedEncodingException: IBM-924\nAm I missing something?","body":"Indeed the decoding is working with the correct hexadecimal values. Thanks for that! However, I&#39;m having trouble getting the CharsetProvider to work. I created a jar with the following structure:   my/package/Ibm924CharsetProvider.class META-INF/services/java.nio.charsets.spi.CharsetProvider (which inside has my.package.Ibm924CharsetProvider) I then added the jar to the lib/ext folder of my jre. However when trying to execute: byte[] b = in.getBytes(&quot;IBM-924&quot;); In a very simple main it gives Exception in thread &quot;main&quot; java.io.UnsupportedEncodingException: IBM-924 Am I missing something?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692483127,"post_id":76936879,"comment_id":135629997,"body_markdown":"*I then added the jar to the lib/ext folder of my jre* That&#39;s history &gt;= Java 9","body":"<i>I then added the jar to the lib/ext folder of my jre</i> That&#39;s history &gt;= Java 9"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692483487,"post_id":76936879,"comment_id":135630032,"body_markdown":"I don&#39;t understand your first paragraph, ISO-8859-15, does not have the same hexadecimal value for the same unicode value, so you will get a different characters from what you would expect if the charset used was IBM-924 and you tried to decode in ISO-8859-15, e.g., if you tried to decode de symbol &quot;€&quot; from ISO-8859-15 to IBM-924, you would get a &quot;u&quot; instead of &quot;€&quot; since in ISO-8859-15 the hex value is 0xA4 but on IBM-924 it is 0x9F","body":"I don&#39;t understand your first paragraph, ISO-8859-15, does not have the same hexadecimal value for the same unicode value, so you will get a different characters from what you would expect if the charset used was IBM-924 and you tried to decode in ISO-8859-15, e.g., if you tried to decode de symbol &quot;€&quot; from ISO-8859-15 to IBM-924, you would get a &quot;u&quot; instead of &quot;€&quot; since in ISO-8859-15 the hex value is 0xA4 but on IBM-924 it is 0x9F"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692483795,"post_id":76936879,"comment_id":135630058,"body_markdown":"@g00se I&#39;m using java 8, but anyway, I tried adding the jar directly in the classpath, it still didn&#39;t work, i.e., java -cp Charset924.jar;. MyTest","body":"@g00se I&#39;m using java 8, but anyway, I tried adding the jar directly in the classpath, it still didn&#39;t work, i.e., java -cp Charset924.jar;. MyTest"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692484980,"post_id":76936879,"comment_id":135630154,"body_markdown":"Maybe the provider setup is wrong. I don&#39;t do those, so can&#39;t help unfortunately. Fun fact: `iconv` lists 287 IBM conversions on my machine. IBM924 isn&#39;t one of them ;)","body":"Maybe the provider setup is wrong. I don&#39;t do those, so can&#39;t help unfortunately. Fun fact: <code>iconv</code> lists 287 IBM conversions on my machine. IBM924 isn&#39;t one of them ;)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692489564,"post_id":76936879,"comment_id":135630486,"body_markdown":"I&#39;ve got one working if you want it","body":"I&#39;ve got one working if you want it"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692489736,"post_id":76936879,"comment_id":135630492,"body_markdown":"If you could share it, that would be great!","body":"If you could share it, that would be great!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692489782,"post_id":76936879,"comment_id":135630493,"body_markdown":"You&#39;re on Windows are you?","body":"You&#39;re on Windows are you?"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692489931,"post_id":76936879,"comment_id":135630503,"body_markdown":"Yes, I&#39;m running locally on windows but the servers on other environments are running in Linux, so either one will serve.","body":"Yes, I&#39;m running locally on windows but the servers on other environments are running in Linux, so either one will serve."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692490013,"post_id":76936879,"comment_id":135630509,"body_markdown":"Just checking - as your classpath was a Windows one ;) [Here you go](https://technojeeves.com/tech/ibm924.jar)","body":"Just checking - as your classpath was a Windows one ;) <a href=\"https://technojeeves.com/tech/ibm924.jar\" rel=\"nofollow noreferrer\">Here you go</a>"},{"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"score":0,"creation_date":1692494602,"post_id":76936879,"comment_id":135630793,"body_markdown":"3 freaking hours looking for the problem, it was just a typo on the services file, had java.nio.charsets.spi.CharsetProvider instead of java.nio.charset.spi.CharsetProvider, thank you everyone for the help!","body":"3 freaking hours looking for the problem, it was just a typo on the services file, had java.nio.charsets.spi.CharsetProvider instead of java.nio.charset.spi.CharsetProvider, thank you everyone for the help!"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692523843,"post_id":76936879,"comment_id":135632712,"body_markdown":"I often do that. Fortunately it&#39;s when something needs to be compiled","body":"I often do that. Fortunately it&#39;s when something needs to be compiled"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":12,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1692480314,"creation_date":1692476165,"answer_id":76936879,"question_id":76936549,"body_markdown":"Oof, IBM_924 almost doesn&#39;t exist on the entire internet. Looking around, it seems to either be [ISO-8859-15](https://en.wikipedia.org/wiki/ISO/IEC_8859-15) straight up (which _is_ something JDKs ship with, so just go with `Charset.forName(&quot;ISO-8859-15&quot;)`, or..\r\n\r\nIt&#39;s [this](https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm), from [*ICU Data*][1] by the [Unicode Consortium][2].\r\n\r\nThat is some random mapping file I found from some random project (admittedly, the icu-data project from the unicode organisation; as far as sources go that one should be sufficiently authoritative). You read it as follows:\r\n\r\nA line might contain:\r\n\r\n```\r\n&lt;UFF5E&gt; \\xA1 |1\r\n```\r\n\r\nAnd this means:\r\n\r\n* If you see the byte `0xA1` in the data stream...\r\n* Then that represents character 0xFF5E in the unicode table.\r\n* That `|1` means, more or less: Not roundtrippable; it&#39;s an alias. There is a more canonical mapping for the same byte (`0xA1`) in the file earlier.\r\n\r\n\r\nAnd, fortunately, being an ISO-8559 variant, it&#39;s just &#39;1 byte = 1 character&#39;, therefore, there are only at most 256 different byte values you need to map to a character.\r\n\r\n__That means it is trivial to write your own charset implementation!__\r\n\r\nAnd thus you&#39;ve solved all problems: House the charset inside your own project, and now you have no dependencies and no need to rely on a JVM that ships with IBM-924 baked in.\r\n\r\nIt&#39;s not too difficult.\r\n\r\nMake a source file named `Ibm924CharsetProvider.java`, extending from Java’s [`CharsetProvider`][3] class. Copy/paste this into it:\r\n\r\n```java\r\n// Written by Reinier Zwitserloot\r\n// Public domain - use however you like.\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.CharBuffer;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.charset.CharsetDecoder;\r\nimport java.nio.charset.CharsetEncoder;\r\nimport java.nio.charset.CoderResult;\r\nimport java.nio.charset.spi.CharsetProvider;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.Iterator;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\npublic class Ibm924CharsetProvider extends CharsetProvider {\r\n\tprivate static final Charset IBM924 = new Ibm924Charset();\r\n\tprivate static final List&lt;Charset&gt; IBM924_LIST = Collections.singletonList(IBM924);\r\n\t\r\n\tpublic static final Charset ibm924() {\r\n\t\treturn IBM924;\r\n\t}\r\n\t\r\n\t@Override public Iterator&lt;Charset&gt; charsets() {\r\n\t\treturn IBM924_LIST.iterator();\r\n\t}\r\n\t\r\n\t@Override public Charset charsetForName(String charsetName) {\r\n\t\tif (charsetName.equals(IBM924.name())) return IBM924;\r\n\t\tif (IBM924.aliases().contains(charsetName)) return IBM924;\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tString in = &quot;Hello, World!&quot;;\r\n\t\tbyte[] b = in.getBytes(ibm924());\r\n\t\tSystem.out.print(in + &quot; -&gt;&quot;);\r\n\t\tfor (byte a : b) System.out.printf(&quot; %02X&quot;, a);\r\n\t\tSystem.out.println();\r\n\t\tString in2 = new String(b, ibm924());\r\n\t\tSystem.out.println(&quot;... -&gt; &quot; + in2);\r\n\t\tSystem.out.println(&quot;Equal? &quot; + in.equals(in2));\r\n\t}\r\n}\r\n\r\nclass Ibm924Charset extends Charset {\r\n\tpublic Ibm924Charset() {\r\n\t\tsuper(&quot;IBM-924&quot;, new String[] { &quot;IBM924&quot;, &quot;Cp924&quot;, &quot;Cp-924&quot; });\r\n\t}\r\n\t\r\n\t@Override public boolean contains(Charset cs) {\r\n\t\treturn cs.name().equals(&quot;IBM-924&quot;); // It isn&#39;t even a subset of ASCII!\r\n\t}\r\n\t\r\n\t@Override public CharsetDecoder newDecoder() {\r\n\t\treturn new CharsetDecoder(this, 1F, 1F) {\r\n\t\t\t@Override protected CoderResult decodeLoop(ByteBuffer from, CharBuffer to) {\r\n\t\t\t\twhile (from.hasRemaining()) {\r\n\t\t\t\t\tif (!to.hasRemaining()) return CoderResult.OVERFLOW;\r\n\t\t\t\t\tbyte c = from.get();\r\n\t\t\t\t\tchar d = IBM924[c &amp; 0xFF];\r\n\t\t\t\t\tto.put(d);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn CoderResult.UNDERFLOW;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\t@Override public CharsetEncoder newEncoder() {\r\n\t\treturn new CharsetEncoder(this, 1F, 1F) {\r\n\t\t\t@Override protected CoderResult encodeLoop(CharBuffer from, ByteBuffer to) {\r\n\t\t\t\twhile (from.hasRemaining()) {\r\n\t\t\t\t\tif (!to.hasRemaining()) return CoderResult.OVERFLOW;\r\n\t\t\t\t\tchar d = from.get();\r\n\t\t\t\t\tByte v = LOOKUP.get(d);\r\n\t\t\t\t\tif (v == null) {\r\n\t\t\t\t\t\t// &#39;un&#39;consume the character we consumed\r\n\t\t\t\t\t\tfrom.position(from.position() - 1);\r\n\t\t\t\t\t\treturn CoderResult.unmappableForLength(1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tto.put(v.byteValue());\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn CoderResult.UNDERFLOW;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\t\r\n\t// SOURCE: https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\r\n\tprivate static final char[] IBM924 = {\r\n\t\t&#39;\\u0000&#39;, &#39;\\u0001&#39;, &#39;\\u0002&#39;, &#39;\\u0003&#39;, &#39;\\u009C&#39;, &#39;\\u0009&#39;, &#39;\\u0086&#39;, &#39;\\u007F&#39;,\r\n\t\t&#39;\\u0097&#39;, &#39;\\u008D&#39;, &#39;\\u008E&#39;, &#39;\\u000B&#39;, &#39;\\u000C&#39;, &#39;\\r&#39;, &#39;\\u000E&#39;, &#39;\\u000F&#39;,\r\n\t\t&#39;\\u0010&#39;,&#39;\\u0011&#39;,&#39;\\u0012&#39;,&#39;\\u0013&#39;, &#39;\\u009D&#39;,&#39;\\u0085&#39;,&#39;\\u0008&#39;,&#39;\\u0087&#39;,\r\n\t\t&#39;\\u0018&#39;,&#39;\\u0019&#39;,&#39;\\u0092&#39;,&#39;\\u008F&#39;, &#39;\\u001C&#39;,&#39;\\u001D&#39;,&#39;\\u001E&#39;,&#39;\\u001F&#39;,\r\n\t\t&#39;\\u0080&#39;,&#39;\\u0081&#39;,&#39;\\u0082&#39;,&#39;\\u0083&#39;, &#39;\\u0084&#39;,&#39;\\n&#39;,&#39;\\u0017&#39;,&#39;\\u001B&#39;,\r\n\t\t&#39;\\u0088&#39;,&#39;\\u0089&#39;,&#39;\\u008A&#39;,&#39;\\u008B&#39;, &#39;\\u008C&#39;,&#39;\\u0005&#39;, &#39;\\u0006&#39;, &#39;\\u0007&#39;,\r\n\t\t&#39;\\u0090&#39;, &#39;\\u0091&#39;, &#39;\\u0016&#39;, &#39;\\u0093&#39;, &#39;\\u0094&#39;, &#39;\\u0095&#39;, &#39;\\u0096&#39;, &#39;\\u0004&#39;,\r\n\t\t&#39;\\u0098&#39;, &#39;\\u0099&#39;, &#39;\\u009A&#39;, &#39;\\u009B&#39;, &#39;\\u0014&#39;, &#39;\\u0015&#39;, &#39;\\u009E&#39;, &#39;\\u001A&#39;,\r\n\t\t&#39;\\u0020&#39;, &#39;\\u00A0&#39;, &#39;\\u00E2&#39;, &#39;\\u00E4&#39;, &#39;\\u00E0&#39;, &#39;\\u00E1&#39;, &#39;\\u00E3&#39;, &#39;\\u00E5&#39;,\r\n\t\t&#39;\\u00E7&#39;, &#39;\\u00F1&#39;, &#39;\\u00DD&#39;, &#39;\\u002E&#39;, &#39;\\u003C&#39;, &#39;\\u0028&#39;, &#39;\\u002B&#39;, &#39;\\u007C&#39;,\r\n\t\t&#39;\\u0026&#39;, &#39;\\u00E9&#39;, &#39;\\u00EA&#39;, &#39;\\u00EB&#39;, &#39;\\u00E8&#39;, &#39;\\u00ED&#39;, &#39;\\u00EE&#39;, &#39;\\u00EF&#39;,\r\n\t\t&#39;\\u00EC&#39;, &#39;\\u00DF&#39;, &#39;\\u0021&#39;, &#39;\\u0024&#39;, &#39;\\u002A&#39;, &#39;\\u0029&#39;, &#39;\\u003B&#39;, &#39;\\u005E&#39;,\r\n\t\t&#39;\\u002D&#39;, &#39;\\u002F&#39;, &#39;\\u00C2&#39;, &#39;\\u00C4&#39;, &#39;\\u00C0&#39;, &#39;\\u00C1&#39;, &#39;\\u00C3&#39;, &#39;\\u00C5&#39;,\r\n\t\t&#39;\\u00C7&#39;, &#39;\\u00D1&#39;, &#39;\\u0160&#39;, &#39;\\u002C&#39;, &#39;\\u0025&#39;, &#39;\\u005F&#39;, &#39;\\u003E&#39;, &#39;\\u003F&#39;,\r\n\t\t&#39;\\u00F8&#39;, &#39;\\u00C9&#39;, &#39;\\u00CA&#39;, &#39;\\u00CB&#39;, &#39;\\u00C8&#39;, &#39;\\u00CD&#39;, &#39;\\u00CE&#39;, &#39;\\u00CF&#39;,\r\n\t\t&#39;\\u00CC&#39;, &#39;\\u0060&#39;, &#39;\\u003A&#39;, &#39;\\u0023&#39;, &#39;\\u0040&#39;, &#39;\\&#39;&#39;, &#39;\\u003D&#39;, &#39;\\u0022&#39;,\r\n\t\t&#39;\\u00D8&#39;, &#39;\\u0061&#39;, &#39;\\u0062&#39;, &#39;\\u0063&#39;, &#39;\\u0064&#39;, &#39;\\u0065&#39;, &#39;\\u0066&#39;, &#39;\\u0067&#39;,\r\n\t\t&#39;\\u0068&#39;, &#39;\\u0069&#39;, &#39;\\u00AB&#39;, &#39;\\u00BB&#39;, &#39;\\u00F0&#39;, &#39;\\u00FD&#39;, &#39;\\u00FE&#39;, &#39;\\u00B1&#39;,\r\n\t\t&#39;\\u00B0&#39;, &#39;\\u006A&#39;, &#39;\\u006B&#39;, &#39;\\u006C&#39;, &#39;\\u006D&#39;, &#39;\\u006E&#39;, &#39;\\u006F&#39;, &#39;\\u0070&#39;,\r\n\t\t&#39;\\u0071&#39;, &#39;\\u0072&#39;, &#39;\\u00AA&#39;, &#39;\\u00BA&#39;, &#39;\\u00E6&#39;, &#39;\\u017E&#39;, &#39;\\u00C6&#39;, &#39;\\u20AC&#39;,\r\n\t\t&#39;\\u00B5&#39;, &#39;\\u007E&#39;, &#39;\\u0073&#39;, &#39;\\u0074&#39;, &#39;\\u0075&#39;, &#39;\\u0076&#39;, &#39;\\u0077&#39;, &#39;\\u0078&#39;,\r\n\t\t&#39;\\u0079&#39;, &#39;\\u007A&#39;, &#39;\\u00A1&#39;, &#39;\\u00BF&#39;, &#39;\\u00D0&#39;, &#39;\\u005B&#39;, &#39;\\u00DE&#39;, &#39;\\u00AE&#39;,\r\n\t\t&#39;\\u00A2&#39;, &#39;\\u00A3&#39;, &#39;\\u00A5&#39;, &#39;\\u00B7&#39;, &#39;\\u00A9&#39;, &#39;\\u00A7&#39;, &#39;\\u00B6&#39;, &#39;\\u0152&#39;,\r\n\t\t&#39;\\u0153&#39;, &#39;\\u0178&#39;, &#39;\\u00AC&#39;, &#39;\\u0161&#39;, &#39;\\u00AF&#39;, &#39;\\u005D&#39;, &#39;\\u017D&#39;, &#39;\\u00D7&#39;,\r\n\t\t&#39;\\u007B&#39;, &#39;\\u0041&#39;, &#39;\\u0042&#39;, &#39;\\u0043&#39;, &#39;\\u0044&#39;, &#39;\\u0045&#39;, &#39;\\u0046&#39;, &#39;\\u0047&#39;,\r\n\t\t&#39;\\u0048&#39;, &#39;\\u0049&#39;, &#39;\\u00AD&#39;, &#39;\\u00F4&#39;, &#39;\\u00F6&#39;, &#39;\\u00F2&#39;, &#39;\\u00F3&#39;, &#39;\\u00F5&#39;,\r\n\t\t&#39;\\u007D&#39;, &#39;\\u004A&#39;, &#39;\\u004B&#39;, &#39;\\u004C&#39;, &#39;\\u004D&#39;, &#39;\\u004E&#39;, &#39;\\u004F&#39;, &#39;\\u0050&#39;,\r\n\t\t&#39;\\u0051&#39;, &#39;\\u0052&#39;, &#39;\\u00B9&#39;, &#39;\\u00FB&#39;, &#39;\\u00FC&#39;, &#39;\\u00F9&#39;, &#39;\\u00FA&#39;, &#39;\\u00FF&#39;,\r\n\t\t&#39;\\\\&#39;, &#39;\\u00F7&#39;, &#39;\\u0053&#39;, &#39;\\u0054&#39;, &#39;\\u0055&#39;, &#39;\\u0056&#39;, &#39;\\u0057&#39;, &#39;\\u0058&#39;,\r\n\t\t&#39;\\u0059&#39;, &#39;\\u005A&#39;, &#39;\\u00B2&#39;, &#39;\\u00D4&#39;, &#39;\\u00D6&#39;, &#39;\\u00D2&#39;, &#39;\\u00D3&#39;, &#39;\\u00D5&#39;,\r\n\t\t&#39;\\u0030&#39;, &#39;\\u0031&#39;, &#39;\\u0032&#39;, &#39;\\u0033&#39;, &#39;\\u0034&#39;, &#39;\\u0035&#39;, &#39;\\u0036&#39;, &#39;\\u0037&#39;,\r\n\t\t&#39;\\u0038&#39;, &#39;\\u0039&#39;, &#39;\\u00B3&#39;, &#39;\\u00DB&#39;, &#39;\\u00DC&#39;, &#39;\\u00D9&#39;, &#39;\\u00DA&#39;, &#39;\\u009F&#39;,\r\n\t};\r\n\t\r\n\tprivate static final Map&lt;Character, Byte&gt; LOOKUP;\r\n\tstatic {\r\n\t\tMap&lt;Character, Byte&gt; map = new HashMap&lt;&gt;();\r\n\t\tfor (int i = 0; i &lt; IBM924.length; i++) map.put(IBM924[i], (byte) i);\r\n\t\tLOOKUP = Collections.unmodifiableMap(map);\r\n\t}\r\n}\r\n```\r\n\r\n## To use as provider\r\n\r\nIf you want e.g. `new String(bytes, &quot;IBM-924&quot;)` to work, as well as having it listed in the list of all available charsets, this class needs to be registered. To do this, you stick the fully qualified class name (`com.foo.yourapp.util.Ibm924CharsetProvider`, that string, for example) in an otherwise empty text file. You name this textfile `java.nio.charset.spi.CharsetProvider`. This file needs to be in your jar, at the path `META-INF/services/java.nio.charset.spi.CharsetProvider`. Then, if that jar is on your classpath, things should just work.\r\n\r\n## Oof that sounds complicated\r\n\r\nYou don&#39;t really need to do that - that&#39;s just to make sure `&quot;IBM-924&quot;` as a string works out. You can use it as is without registering the provider. See the `main` method in the snippet where I don&#39;t bother registering it but use the [`Charset`][4] object directly.\r\n\r\nRun that, and it prints:\r\n\r\n```\r\nHello, World! -&gt; C8 85 93 93 96 6B 40 E6 96 99 93 84 5A\r\n... -&gt; Hello, World!\r\nEqual? true\r\n```\r\n\r\nNB: This simplistic take doesn&#39;t deal with the aliases. They are only relevant for _encoding_ (if you need to output IBM-924 formatted text); they aren&#39;t useful for decoding (reading IBM-924 formatted text). And only if you use these aliases in your strings.\r\n\r\n\r\n  [1]: https://unicode-org.github.io/icu/userguide/icu_data/#icu-data\r\n  [2]: https://en.wikipedia.org/wiki/Unicode_Consortium\r\n  [3]: https://download.java.net/java/early_access/valhalla/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html","title":"Charset not present in used JDK","body":"<p>Oof, IBM_924 almost doesn't exist on the entire internet. Looking around, it seems to either be <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-15\" rel=\"nofollow noreferrer\">ISO-8859-15</a> straight up (which <em>is</em> something JDKs ship with, so just go with <code>Charset.forName(&quot;ISO-8859-15&quot;)</code>, or..</p>\n<p>It's <a href=\"https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\" rel=\"nofollow noreferrer\">this</a>, from <a href=\"https://unicode-org.github.io/icu/userguide/icu_data/#icu-data\" rel=\"nofollow noreferrer\"><em>ICU Data</em></a> by the <a href=\"https://en.wikipedia.org/wiki/Unicode_Consortium\" rel=\"nofollow noreferrer\">Unicode Consortium</a>.</p>\n<p>That is some random mapping file I found from some random project (admittedly, the icu-data project from the unicode organisation; as far as sources go that one should be sufficiently authoritative). You read it as follows:</p>\n<p>A line might contain:</p>\n<pre><code>&lt;UFF5E&gt; \\xA1 |1\n</code></pre>\n<p>And this means:</p>\n<ul>\n<li>If you see the byte <code>0xA1</code> in the data stream...</li>\n<li>Then that represents character 0xFF5E in the unicode table.</li>\n<li>That <code>|1</code> means, more or less: Not roundtrippable; it's an alias. There is a more canonical mapping for the same byte (<code>0xA1</code>) in the file earlier.</li>\n</ul>\n<p>And, fortunately, being an ISO-8559 variant, it's just '1 byte = 1 character', therefore, there are only at most 256 different byte values you need to map to a character.</p>\n<p><strong>That means it is trivial to write your own charset implementation!</strong></p>\n<p>And thus you've solved all problems: House the charset inside your own project, and now you have no dependencies and no need to rely on a JVM that ships with IBM-924 baked in.</p>\n<p>It's not too difficult.</p>\n<p>Make a source file named <code>Ibm924CharsetProvider.java</code>, extending from Java’s <a href=\"https://download.java.net/java/early_access/valhalla/docs/api/java.base/java/nio/charset/spi/CharsetProvider.html\" rel=\"nofollow noreferrer\"><code>CharsetProvider</code></a> class. Copy/paste this into it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Written by Reinier Zwitserloot\n// Public domain - use however you like.\n\nimport java.nio.ByteBuffer;\nimport java.nio.CharBuffer;\nimport java.nio.charset.Charset;\nimport java.nio.charset.CharsetDecoder;\nimport java.nio.charset.CharsetEncoder;\nimport java.nio.charset.CoderResult;\nimport java.nio.charset.spi.CharsetProvider;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.List;\nimport java.util.Map;\n\npublic class Ibm924CharsetProvider extends CharsetProvider {\n    private static final Charset IBM924 = new Ibm924Charset();\n    private static final List&lt;Charset&gt; IBM924_LIST = Collections.singletonList(IBM924);\n    \n    public static final Charset ibm924() {\n        return IBM924;\n    }\n    \n    @Override public Iterator&lt;Charset&gt; charsets() {\n        return IBM924_LIST.iterator();\n    }\n    \n    @Override public Charset charsetForName(String charsetName) {\n        if (charsetName.equals(IBM924.name())) return IBM924;\n        if (IBM924.aliases().contains(charsetName)) return IBM924;\n        \n        return null;\n    }\n    \n    public static void main(String[] args) throws Exception {\n        String in = &quot;Hello, World!&quot;;\n        byte[] b = in.getBytes(ibm924());\n        System.out.print(in + &quot; -&gt;&quot;);\n        for (byte a : b) System.out.printf(&quot; %02X&quot;, a);\n        System.out.println();\n        String in2 = new String(b, ibm924());\n        System.out.println(&quot;... -&gt; &quot; + in2);\n        System.out.println(&quot;Equal? &quot; + in.equals(in2));\n    }\n}\n\nclass Ibm924Charset extends Charset {\n    public Ibm924Charset() {\n        super(&quot;IBM-924&quot;, new String[] { &quot;IBM924&quot;, &quot;Cp924&quot;, &quot;Cp-924&quot; });\n    }\n    \n    @Override public boolean contains(Charset cs) {\n        return cs.name().equals(&quot;IBM-924&quot;); // It isn't even a subset of ASCII!\n    }\n    \n    @Override public CharsetDecoder newDecoder() {\n        return new CharsetDecoder(this, 1F, 1F) {\n            @Override protected CoderResult decodeLoop(ByteBuffer from, CharBuffer to) {\n                while (from.hasRemaining()) {\n                    if (!to.hasRemaining()) return CoderResult.OVERFLOW;\n                    byte c = from.get();\n                    char d = IBM924[c &amp; 0xFF];\n                    to.put(d);\n                }\n                \n                return CoderResult.UNDERFLOW;\n            }\n        };\n    }\n    \n    @Override public CharsetEncoder newEncoder() {\n        return new CharsetEncoder(this, 1F, 1F) {\n            @Override protected CoderResult encodeLoop(CharBuffer from, ByteBuffer to) {\n                while (from.hasRemaining()) {\n                    if (!to.hasRemaining()) return CoderResult.OVERFLOW;\n                    char d = from.get();\n                    Byte v = LOOKUP.get(d);\n                    if (v == null) {\n                        // 'un'consume the character we consumed\n                        from.position(from.position() - 1);\n                        return CoderResult.unmappableForLength(1);\n                    }\n                    to.put(v.byteValue());\n                }\n                \n                return CoderResult.UNDERFLOW;\n            }\n        };\n    }\n    \n    // SOURCE: https://github.com/unicode-org/icu-data/blob/main/charset/data/ucm/ibm-924_P100-1998.ucm\n    private static final char[] IBM924 = {\n        '\\u0000', '\\u0001', '\\u0002', '\\u0003', '\\u009C', '\\u0009', '\\u0086', '\\u007F',\n        '\\u0097', '\\u008D', '\\u008E', '\\u000B', '\\u000C', '\\r', '\\u000E', '\\u000F',\n        '\\u0010','\\u0011','\\u0012','\\u0013', '\\u009D','\\u0085','\\u0008','\\u0087',\n        '\\u0018','\\u0019','\\u0092','\\u008F', '\\u001C','\\u001D','\\u001E','\\u001F',\n        '\\u0080','\\u0081','\\u0082','\\u0083', '\\u0084','\\n','\\u0017','\\u001B',\n        '\\u0088','\\u0089','\\u008A','\\u008B', '\\u008C','\\u0005', '\\u0006', '\\u0007',\n        '\\u0090', '\\u0091', '\\u0016', '\\u0093', '\\u0094', '\\u0095', '\\u0096', '\\u0004',\n        '\\u0098', '\\u0099', '\\u009A', '\\u009B', '\\u0014', '\\u0015', '\\u009E', '\\u001A',\n        '\\u0020', '\\u00A0', '\\u00E2', '\\u00E4', '\\u00E0', '\\u00E1', '\\u00E3', '\\u00E5',\n        '\\u00E7', '\\u00F1', '\\u00DD', '\\u002E', '\\u003C', '\\u0028', '\\u002B', '\\u007C',\n        '\\u0026', '\\u00E9', '\\u00EA', '\\u00EB', '\\u00E8', '\\u00ED', '\\u00EE', '\\u00EF',\n        '\\u00EC', '\\u00DF', '\\u0021', '\\u0024', '\\u002A', '\\u0029', '\\u003B', '\\u005E',\n        '\\u002D', '\\u002F', '\\u00C2', '\\u00C4', '\\u00C0', '\\u00C1', '\\u00C3', '\\u00C5',\n        '\\u00C7', '\\u00D1', '\\u0160', '\\u002C', '\\u0025', '\\u005F', '\\u003E', '\\u003F',\n        '\\u00F8', '\\u00C9', '\\u00CA', '\\u00CB', '\\u00C8', '\\u00CD', '\\u00CE', '\\u00CF',\n        '\\u00CC', '\\u0060', '\\u003A', '\\u0023', '\\u0040', '\\'', '\\u003D', '\\u0022',\n        '\\u00D8', '\\u0061', '\\u0062', '\\u0063', '\\u0064', '\\u0065', '\\u0066', '\\u0067',\n        '\\u0068', '\\u0069', '\\u00AB', '\\u00BB', '\\u00F0', '\\u00FD', '\\u00FE', '\\u00B1',\n        '\\u00B0', '\\u006A', '\\u006B', '\\u006C', '\\u006D', '\\u006E', '\\u006F', '\\u0070',\n        '\\u0071', '\\u0072', '\\u00AA', '\\u00BA', '\\u00E6', '\\u017E', '\\u00C6', '\\u20AC',\n        '\\u00B5', '\\u007E', '\\u0073', '\\u0074', '\\u0075', '\\u0076', '\\u0077', '\\u0078',\n        '\\u0079', '\\u007A', '\\u00A1', '\\u00BF', '\\u00D0', '\\u005B', '\\u00DE', '\\u00AE',\n        '\\u00A2', '\\u00A3', '\\u00A5', '\\u00B7', '\\u00A9', '\\u00A7', '\\u00B6', '\\u0152',\n        '\\u0153', '\\u0178', '\\u00AC', '\\u0161', '\\u00AF', '\\u005D', '\\u017D', '\\u00D7',\n        '\\u007B', '\\u0041', '\\u0042', '\\u0043', '\\u0044', '\\u0045', '\\u0046', '\\u0047',\n        '\\u0048', '\\u0049', '\\u00AD', '\\u00F4', '\\u00F6', '\\u00F2', '\\u00F3', '\\u00F5',\n        '\\u007D', '\\u004A', '\\u004B', '\\u004C', '\\u004D', '\\u004E', '\\u004F', '\\u0050',\n        '\\u0051', '\\u0052', '\\u00B9', '\\u00FB', '\\u00FC', '\\u00F9', '\\u00FA', '\\u00FF',\n        '\\\\', '\\u00F7', '\\u0053', '\\u0054', '\\u0055', '\\u0056', '\\u0057', '\\u0058',\n        '\\u0059', '\\u005A', '\\u00B2', '\\u00D4', '\\u00D6', '\\u00D2', '\\u00D3', '\\u00D5',\n        '\\u0030', '\\u0031', '\\u0032', '\\u0033', '\\u0034', '\\u0035', '\\u0036', '\\u0037',\n        '\\u0038', '\\u0039', '\\u00B3', '\\u00DB', '\\u00DC', '\\u00D9', '\\u00DA', '\\u009F',\n    };\n    \n    private static final Map&lt;Character, Byte&gt; LOOKUP;\n    static {\n        Map&lt;Character, Byte&gt; map = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt; IBM924.length; i++) map.put(IBM924[i], (byte) i);\n        LOOKUP = Collections.unmodifiableMap(map);\n    }\n}\n</code></pre>\n<h2>To use as provider</h2>\n<p>If you want e.g. <code>new String(bytes, &quot;IBM-924&quot;)</code> to work, as well as having it listed in the list of all available charsets, this class needs to be registered. To do this, you stick the fully qualified class name (<code>com.foo.yourapp.util.Ibm924CharsetProvider</code>, that string, for example) in an otherwise empty text file. You name this textfile <code>java.nio.charset.spi.CharsetProvider</code>. This file needs to be in your jar, at the path <code>META-INF/services/java.nio.charset.spi.CharsetProvider</code>. Then, if that jar is on your classpath, things should just work.</p>\n<h2>Oof that sounds complicated</h2>\n<p>You don't really need to do that - that's just to make sure <code>&quot;IBM-924&quot;</code> as a string works out. You can use it as is without registering the provider. See the <code>main</code> method in the snippet where I don't bother registering it but use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a> object directly.</p>\n<p>Run that, and it prints:</p>\n<pre><code>Hello, World! -&gt; C8 85 93 93 96 6B 40 E6 96 99 93 84 5A\n... -&gt; Hello, World!\nEqual? true\n</code></pre>\n<p>NB: This simplistic take doesn't deal with the aliases. They are only relevant for <em>encoding</em> (if you need to output IBM-924 formatted text); they aren't useful for decoding (reading IBM-924 formatted text). And only if you use these aliases in your strings.</p>\n"}],"owner":{"account_id":4448416,"reputation":153,"user_id":3621092,"display_name":"fnmps"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":76936879,"answer_count":1,"score":6,"last_activity_date":1692480314,"creation_date":1692469855,"question_id":76936549,"body_markdown":"I have a java system communicating that serves as a gateway to different systems (java, mainframe, etc). This java system receives a request using, for example, utf8 and converts it to the encoding of the target \r\n\r\n[![Charset Conversion](https://i.stack.imgur.com/5xOP4.png)](https://i.stack.imgur.com/5xOP4.png)\r\n\r\nThe issue is that there is a mainframe system that is using this obscure encoding that is not available with the JDK that we are using (that charset being IBM-924 which is a &quot;derivative&quot; of IBM-1047 https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047).\r\nsystem.\r\n\r\nFrom what I have seen this charset seems to come only with IBM JDK, which is not the one that we use or want to use.\r\n\r\n\r\nIs there a way to incorporate this specific charset present on the IBM JDK into, for example, an openjdk one?\r\nIf not, is there any alternative beside creating the charset manually?\r\nAnd if so, is there a way to reuse the IBM-1047 encoding and replace the 11 characters that do not match?\r\n\r\nI tried to incorporate the charsets by using the charsets.jar present on the IBM JDK, but it runs into issues because that jar has a dependency of classes only present on the rt.jar of the IBM JDK, and I would certainly not want to replace the rt.jar since it might cause unwanted side effects.","title":"Charset not present in used JDK","body":"<p>I have a java system communicating that serves as a gateway to different systems (java, mainframe, etc). This java system receives a request using, for example, utf8 and converts it to the encoding of the target</p>\n<p><a href=\"https://i.stack.imgur.com/5xOP4.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5xOP4.png\" alt=\"Charset Conversion\" /></a></p>\n<p>The issue is that there is a mainframe system that is using this obscure encoding that is not available with the JDK that we are using (that charset being IBM-924 which is a &quot;derivative&quot; of IBM-1047 <a href=\"https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047\" rel=\"noreferrer\">https://en.wikibooks.org/wiki/Character_Encodings/Code_Tables/EBCDIC/EBCDIC_1047</a>).\nsystem.</p>\n<p>From what I have seen this charset seems to come only with IBM JDK, which is not the one that we use or want to use.</p>\n<p>Is there a way to incorporate this specific charset present on the IBM JDK into, for example, an openjdk one?\nIf not, is there any alternative beside creating the charset manually?\nAnd if so, is there a way to reuse the IBM-1047 encoding and replace the 11 characters that do not match?</p>\n<p>I tried to incorporate the charsets by using the charsets.jar present on the IBM JDK, but it runs into issues because that jar has a dependency of classes only present on the rt.jar of the IBM JDK, and I would certainly not want to replace the rt.jar since it might cause unwanted side effects.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","logbook"],"answers":[{"comments":[{"owner":{"account_id":2842958,"reputation":976,"user_id":2442149,"accept_rate":80,"display_name":"bpereira"},"score":0,"creation_date":1692496777,"post_id":76937065,"comment_id":135630888,"body_markdown":"I have this filter configured with the highest precedence already, but since with logbook starter I don&#39;t manually create the filter, I don&#39;t know how to set a lower precedence.","body":"I have this filter configured with the highest precedence already, but since with logbook starter I don&#39;t manually create the filter, I don&#39;t know how to set a lower precedence."}],"tags":[],"owner":{"account_id":10942924,"reputation":27,"user_id":8359786,"display_name":"YuliyaD"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692480005,"creation_date":1692480005,"answer_id":76937065,"question_id":76936080,"body_markdown":"You need this filter to be invoked in the filter chain earlier than logbook logs the request.\r\n\r\nNot sure how it works for Kotlin, but for Java we use @Order annotation on top of the filter class and specifying precedence.","title":"Run GenericFilterBean before Logbook log","body":"<p>You need this filter to be invoked in the filter chain earlier than logbook logs the request.</p>\n<p>Not sure how it works for Kotlin, but for Java we use @Order annotation on top of the filter class and specifying precedence.</p>\n"}],"owner":{"account_id":2842958,"reputation":976,"user_id":2442149,"accept_rate":80,"display_name":"bpereira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692480005,"creation_date":1692462144,"question_id":76936080,"body_markdown":"I have a filter that adds to MDC a correlationId that is received by my HTTP requests. See example below:\r\n\r\n```\r\n@Component\r\nclass CorrelationIdFilter : GenericFilterBean() {\r\n    private val log = MyLogger.getLogger(this::class.java)\r\n\r\n    override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\r\n        if (request is HttpServletRequest) {\r\n            MDC.put(&quot;correlationId&quot;, getCorrelationId(request))\r\n        }\r\n\r\n        chain.doFilter(request, response)\r\n    }\r\n\r\n    private fun getCorrelationId(request: HttpServletRequest): String {\r\n        val correlationId = request.getHeader(&quot;x-correlation-id&quot;)\r\n        return correlationId ?: &quot;cid-${UUID.randomUUID()}&quot;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that at the moment Logbook logs the request, this filter is still not executed, which results in:\r\n\r\n - logbook request log (without correlationId in MDC)\r\n - add correlationId to MDC\r\n - [other logs]..\r\n\r\nI&#39;m using Spring Boot and logbook starter\r\n```implementation(&quot;org.zalando:logbook-spring-boot-starter:2.14.0&quot;)```\r\n\r\nWhat I want to achieve is to have the filter executed prior to logbook log.\r\n\r\nAny ideas?","title":"Run GenericFilterBean before Logbook log","body":"<p>I have a filter that adds to MDC a correlationId that is received by my HTTP requests. See example below:</p>\n<pre><code>@Component\nclass CorrelationIdFilter : GenericFilterBean() {\n    private val log = MyLogger.getLogger(this::class.java)\n\n    override fun doFilter(request: ServletRequest, response: ServletResponse, chain: FilterChain) {\n        if (request is HttpServletRequest) {\n            MDC.put(&quot;correlationId&quot;, getCorrelationId(request))\n        }\n\n        chain.doFilter(request, response)\n    }\n\n    private fun getCorrelationId(request: HttpServletRequest): String {\n        val correlationId = request.getHeader(&quot;x-correlation-id&quot;)\n        return correlationId ?: &quot;cid-${UUID.randomUUID()}&quot;\n    }\n}\n</code></pre>\n<p>The problem is that at the moment Logbook logs the request, this filter is still not executed, which results in:</p>\n<ul>\n<li>logbook request log (without correlationId in MDC)</li>\n<li>add correlationId to MDC</li>\n<li>[other logs]..</li>\n</ul>\n<p>I'm using Spring Boot and logbook starter\n<code>implementation(&quot;org.zalando:logbook-spring-boot-starter:2.14.0&quot;)</code></p>\n<p>What I want to achieve is to have the filter executed prior to logbook log.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","scala","javafx","internationalization","scalafx"],"owner":{"account_id":3108216,"reputation":75,"user_id":2630579,"display_name":"user2630579"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1692479412,"creation_date":1497962404,"question_id":44653346,"body_markdown":"I&#39;m developing scalafx application (I mentioned javafx because what I&#39;m facing is, basically, javafx problem - scalafx is just shell around it) and I want to switch i18n during the program execution at will. Here is my (working) solution for no-fxml case (I&#39;ll try explain any scala-specific code):\r\n\r\n    val curLocale = new ObjectProperty(new SimpleObjectProperty[Locale](Locale.ENGLISH))\r\n    val curBundle: ObjectBinding[ResourceBundle] = Bindings.createObjectBinding[ResourceBundle](() =&gt; { ResourceBundle.getBundle(&quot;i18n.text&quot;, curLocale.get, control) }, curLocale)\r\n    //Creating and object property of locale (changing stored locale will change language \r\n    //in all related places of application) and object binding for resource bundle\r\n    def i18nLoad(s: String): StringBinding = {\r\n        Bindings.createStringBinding(() =&gt; { curBundle.get.getString(s) }, curBundle)\r\n    }\r\n    //method that provides binding that is used in definition of text for each element\r\n    //Then, to set text for, let&#39;s say, label:\r\n    val smth = new Label()\r\n    smth.text &lt;== i18nLoad(&quot;window.smth&quot;)\r\n    //&lt;== is scalafx operation for one-directional binding, \r\n    //&quot;window. smth&quot; is record name in properties file\r\n\r\nBut I don&#39;t have similar solution for fxml. I looked into standard approach for i18n and it includes passing resource bundle into FXML loader class. Is there a way (by using some external libraries, extending FXMLLoader manually or re-writing it completely) to pass the binding that holds resource bundle into the constructor, and make it to bind for appropriate value (like in a given example) instead of just reading it from properties? I tried to look through FXMLLoader source code, but I did not find the point at which such change could be possible.","title":"Javafx/Scalafx i18n simple switch (using fxml)","body":"<p>I'm developing scalafx application (I mentioned javafx because what I'm facing is, basically, javafx problem - scalafx is just shell around it) and I want to switch i18n during the program execution at will. Here is my (working) solution for no-fxml case (I'll try explain any scala-specific code):</p>\n<pre><code>val curLocale = new ObjectProperty(new SimpleObjectProperty[Locale](Locale.ENGLISH))\nval curBundle: ObjectBinding[ResourceBundle] = Bindings.createObjectBinding[ResourceBundle](() =&gt; { ResourceBundle.getBundle(&quot;i18n.text&quot;, curLocale.get, control) }, curLocale)\n//Creating and object property of locale (changing stored locale will change language \n//in all related places of application) and object binding for resource bundle\ndef i18nLoad(s: String): StringBinding = {\n    Bindings.createStringBinding(() =&gt; { curBundle.get.getString(s) }, curBundle)\n}\n//method that provides binding that is used in definition of text for each element\n//Then, to set text for, let's say, label:\nval smth = new Label()\nsmth.text &lt;== i18nLoad(&quot;window.smth&quot;)\n//&lt;== is scalafx operation for one-directional binding, \n//&quot;window. smth&quot; is record name in properties file\n</code></pre>\n<p>But I don't have similar solution for fxml. I looked into standard approach for i18n and it includes passing resource bundle into FXML loader class. Is there a way (by using some external libraries, extending FXMLLoader manually or re-writing it completely) to pass the binding that holds resource bundle into the constructor, and make it to bind for appropriate value (like in a given example) instead of just reading it from properties? I tried to look through FXMLLoader source code, but I did not find the point at which such change could be possible.</p>\n"},{"tags":["java","android-studio","searchview"],"answers":[{"tags":[],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692206957,"creation_date":1692206957,"answer_id":76915825,"question_id":76894724,"body_markdown":"    SearchView.setIconifiedByDefault(false);","title":"Activate searchView in android studio java","body":"<pre><code>SearchView.setIconifiedByDefault(false);\n</code></pre>\n"}],"owner":{"account_id":447793,"reputation":57,"user_id":841635,"display_name":"Arash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76915825,"answer_count":1,"score":0,"last_activity_date":1692477877,"creation_date":1691952078,"question_id":76894724,"body_markdown":"I have a searchView in my form in android studio (JAVA) with below code:\r\n\r\n    &lt;SearchView\r\n            android:id=&quot;@+id/SView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;25dp&quot;\r\n            android:background=&quot;#52BFECF4&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/tvSearchDesc&quot;/&gt;\r\n\r\nFor type anything in this view, user should touch exactly the magnifier icon in searchView and if user touch anywhere else, the searchView dose not activate.\r\n\r\nI need it to open always.","title":"Activate searchView in android studio java","body":"<p>I have a searchView in my form in android studio (JAVA) with below code:</p>\n<pre><code>&lt;SearchView\n        android:id=&quot;@+id/SView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;25dp&quot;\n        android:background=&quot;#52BFECF4&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/tvSearchDesc&quot;/&gt;\n</code></pre>\n<p>For type anything in this view, user should touch exactly the magnifier icon in searchView and if user touch anywhere else, the searchView dose not activate.</p>\n<p>I need it to open always.</p>\n"},{"tags":["java","encoding","character-encoding","charset"],"comments":[{"owner":{"account_id":4198672,"reputation":28840,"user_id":3439404,"display_name":"JosefZ"},"score":3,"creation_date":1671989060,"post_id":74914750,"comment_id":132204812,"body_markdown":"[UTF-8 Everywhere](https://utf8everywhere.org/).","body":"<a href=\"https://utf8everywhere.org/\" rel=\"nofollow noreferrer\">UTF-8 Everywhere</a>."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1671989833,"post_id":74914750,"comment_id":132204921,"body_markdown":"I mean, you can do this by extending the Charset class and implementing all its methods, but you should never, ever do anything like this.  Use UTF-8 absolutely everywhere.","body":"I mean, you can do this by extending the Charset class and implementing all its methods, but you should never, ever do anything like this.  Use UTF-8 absolutely everywhere."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1671995883,"post_id":74914750,"comment_id":132205851,"body_markdown":"What problem are you trying to solve that cannot be solved by using the standard UTF-8 charset?","body":"What problem are you trying to solve that cannot be solved by using the standard UTF-8 charset?"},{"owner":{"account_id":22350431,"reputation":91,"user_id":16568695,"display_name":"Vreny"},"score":0,"creation_date":1672163552,"post_id":74914750,"comment_id":132233853,"body_markdown":"@ThomasKl&#228;ger, my programme is about cryptography. After long main process I would like to convert output String to hex with my own Charset for extra security reasons.","body":"@ThomasKl&#228;ger, my programme is about cryptography. After long main process I would like to convert output String to hex with my own Charset for extra security reasons."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672024300,"creation_date":1672022883,"answer_id":74916974,"question_id":74914750,"body_markdown":"# *Private Use Areas* within Unicode\r\n\r\nYou’ve not really explained what goal you are trying to achieve, but likely there is no need to invent either:\r\n\r\n - a **character set** (a collection of numbers each assigned to a particular character)\r\n - a **character encoding** (a way to represent instances of those numbers as bits and bytes). \r\n\r\nUnicode defines over 144,000 characters, each assigned a number from a range of zero to just over a million. That leaves large gaps of numbers unassigned. Some of those empty sub-ranges are reserved for future use. But, of interest to you, some of those sub-ranges are set aside for “private use”, never ever to be assigned to a character by the Unicode Consortium. See [Wikipedia][1]. \r\n\r\n&#128073; You are free to assign any meaning you wish to any number within those “private use areas”. So that works as your character set. \r\n\r\n&#128073; As for your character encoding, using UTF-8 is almost always best. This is true for several reasons, as discussed [here][2]. \r\n\r\nJava supports all of Unicode. So no extra programming needed to support your characters. Everything works the same whether encountering characters from inside or outside the private use areas. \r\n\r\nIf you want to involve other people in your endeavor, or want to share documents, then you should be aware that there is an unofficial registry of characters assigned to *Private Use* numbers. This unofficial registry is a volunteer effort, made outside of the Unicode Consortium. This registry is for characters that would never be accepted for inclusion in Unicode. This includes imaginary languages such as *Klingon* from *Star Trek*. When selecting code point numbers for your characters, you may want to avoid these unofficially registered code points. \r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/Private_Use_Areas\r\n  [2]: https://utf8everywhere.org/","title":"How to create my own unique Charset in Java?","body":"<h1><em>Private Use Areas</em> within Unicode</h1>\n<p>You’ve not really explained what goal you are trying to achieve, but likely there is no need to invent either:</p>\n<ul>\n<li>a <strong>character set</strong> (a collection of numbers each assigned to a particular character)</li>\n<li>a <strong>character encoding</strong> (a way to represent instances of those numbers as bits and bytes).</li>\n</ul>\n<p>Unicode defines over 144,000 characters, each assigned a number from a range of zero to just over a million. That leaves large gaps of numbers unassigned. Some of those empty sub-ranges are reserved for future use. But, of interest to you, some of those sub-ranges are set aside for “private use”, never ever to be assigned to a character by the Unicode Consortium. See <a href=\"https://en.m.wikipedia.org/wiki/Private_Use_Areas\" rel=\"nofollow noreferrer\">Wikipedia</a>.</p>\n<p>👉 You are free to assign any meaning you wish to any number within those “private use areas”. So that works as your character set.</p>\n<p>👉 As for your character encoding, using UTF-8 is almost always best. This is true for several reasons, as discussed <a href=\"https://utf8everywhere.org/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Java supports all of Unicode. So no extra programming needed to support your characters. Everything works the same whether encountering characters from inside or outside the private use areas.</p>\n<p>If you want to involve other people in your endeavor, or want to share documents, then you should be aware that there is an unofficial registry of characters assigned to <em>Private Use</em> numbers. This unofficial registry is a volunteer effort, made outside of the Unicode Consortium. This registry is for characters that would never be accepted for inclusion in Unicode. This includes imaginary languages such as <em>Klingon</em> from <em>Star Trek</em>. When selecting code point numbers for your characters, you may want to avoid these unofficially registered code points.</p>\n"},{"comments":[{"owner":{"account_id":22350431,"reputation":91,"user_id":16568695,"display_name":"Vreny"},"score":0,"creation_date":1672853718,"post_id":74917132,"comment_id":132368274,"body_markdown":"For the entire week I have been browsing both documentation and code itself, but have not been able to find anything useful for actually creating new Charset. Could you be more specific about codebase of OpenJDK?","body":"For the entire week I have been browsing both documentation and code itself, but have not been able to find anything useful for actually creating new Charset. Could you be more specific about codebase of OpenJDK?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1672894920,"post_id":74917132,"comment_id":132377305,"body_markdown":"Look at the Java source code for `sun.nio.cs.ext.ISCII91` for example.  Or any of the other classes in that package.  (Note that many of them are generated via a templating engine, but it should be pretty obvious what the templates mean.)","body":"Look at the Java source code for <code>sun.nio.cs.ext.ISCII91</code> for example.  Or any of the other classes in that package.  (Note that many of them are generated via a templating engine, but it should be pretty obvious what the templates mean.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672026818,"creation_date":1672026295,"answer_id":74917132,"question_id":74914750,"body_markdown":"Basil&#39;s answer explains that you don&#39;t need to define a custom `Charset` in order to support some non-standard symbols.\r\n\r\nBut if you really do need to do it, you will have to write a custom class that extends `Charset`.  There are 3 abstract methods that you have to implement:\r\n\r\n   - `boolean contains(Charset&#160;cs)` - Tells whether or not this charset contains the given charset.\r\n\r\n   - `CharsetDecoder newDecoder()` Constructs a new decoder for this charset.\r\n   \r\n   - `CharsetEncoder newEncoder()` Constructs a new encoder for this charset.\r\n\r\nThe other methods in the `Charset` API most likely don&#39;t need to be overridden.\r\n\r\nThe decoder and encoder need to be able to convert between a `ByteBuffer` containing text in your charset&#39;s encoding and Unicode codepoints in a `CharBuffer`.  While both `CharsetDecoder` and `CharsetEncoder` are also abstract classes, they require you to implement a `decodeLoop` or `encodeLoop` method (respectively) which has complicated requirements.\r\n\r\nI am not aware of any specific documentation or tutorials on how to implement a custom `Charset` and its `CharsetDecoder` and `CharsetEncoder` class.  But you should be able to find example code in the OpenJDK Java SE codebase.  (They will be internal classes ...)\r\n\r\n-------------------\r\n\r\n&gt; I tried to browse Charset class but didn&#39;t really find a solution.\r\n\r\nWell the &quot;solution&quot; is that you will need to study existing examples ... or conclude that you don&#39;t *need* to solve this problem at all.  See above.\r\n","title":"How to create my own unique Charset in Java?","body":"<p>Basil's answer explains that you don't need to define a custom <code>Charset</code> in order to support some non-standard symbols.</p>\n<p>But if you really do need to do it, you will have to write a custom class that extends <code>Charset</code>.  There are 3 abstract methods that you have to implement:</p>\n<ul>\n<li><p><code>boolean contains(Charset cs)</code> - Tells whether or not this charset contains the given charset.</p>\n</li>\n<li><p><code>CharsetDecoder newDecoder()</code> Constructs a new decoder for this charset.</p>\n</li>\n<li><p><code>CharsetEncoder newEncoder()</code> Constructs a new encoder for this charset.</p>\n</li>\n</ul>\n<p>The other methods in the <code>Charset</code> API most likely don't need to be overridden.</p>\n<p>The decoder and encoder need to be able to convert between a <code>ByteBuffer</code> containing text in your charset's encoding and Unicode codepoints in a <code>CharBuffer</code>.  While both <code>CharsetDecoder</code> and <code>CharsetEncoder</code> are also abstract classes, they require you to implement a <code>decodeLoop</code> or <code>encodeLoop</code> method (respectively) which has complicated requirements.</p>\n<p>I am not aware of any specific documentation or tutorials on how to implement a custom <code>Charset</code> and its <code>CharsetDecoder</code> and <code>CharsetEncoder</code> class.  But you should be able to find example code in the OpenJDK Java SE codebase.  (They will be internal classes ...)</p>\n<hr />\n<blockquote>\n<p>I tried to browse Charset class but didn't really find a solution.</p>\n</blockquote>\n<p>Well the &quot;solution&quot; is that you will need to study existing examples ... or conclude that you don't <em>need</em> to solve this problem at all.  See above.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692476555,"creation_date":1692476555,"answer_id":76936897,"question_id":74914750,"body_markdown":"See [this SO answer](https://stackoverflow.com/questions/76936549/charset-not-present-in-used-jdk/76936879#76936879) where I wrote an entire implementation including instructions on how to register it, for IBM-924.\r\n\r\nAs others have echoed, your _specific_ needs here (namely, wanting to have 4 different sets of character groups available in a single encoding) sounds like UTF-8 is what you want, but just in case we misunderstand / just in case this post is found by someone with a legitimate need to write their own charset implementation - the linked answer shows you exactly what to do.\r\n\r\nNB: If you think a custom charset &#39;adds security&#39;, oh dear. No, no, it really, _really_ does not. You&#39;re about 100 years behind the times on crypto. This is called a basic replacement cipher, and given that text tends to have properties (such as: It&#39;s written in english, therefore it is somewhat likely to start with `Hello`, and the most common value is likely the letter `e`), you can trivially use these to undo whatever mapping you care to apply. This is the most basic of basic crypto stuff and folks were &#39;undoing such crypto&#39; by hand  __500 years ago__. Assuming you apply an actual cryptography algorithm using a proper protocol (big if!), then also applying a custom charset to it all is a bit like sticking a plaster over the hinges on fort knox. 2 acts intended to protect so incredibly far removed from each other, it&#39;d be played off as a joke in a movie.","title":"How to create my own unique Charset in Java?","body":"<p>See <a href=\"https://stackoverflow.com/questions/76936549/charset-not-present-in-used-jdk/76936879#76936879\">this SO answer</a> where I wrote an entire implementation including instructions on how to register it, for IBM-924.</p>\n<p>As others have echoed, your <em>specific</em> needs here (namely, wanting to have 4 different sets of character groups available in a single encoding) sounds like UTF-8 is what you want, but just in case we misunderstand / just in case this post is found by someone with a legitimate need to write their own charset implementation - the linked answer shows you exactly what to do.</p>\n<p>NB: If you think a custom charset 'adds security', oh dear. No, no, it really, <em>really</em> does not. You're about 100 years behind the times on crypto. This is called a basic replacement cipher, and given that text tends to have properties (such as: It's written in english, therefore it is somewhat likely to start with <code>Hello</code>, and the most common value is likely the letter <code>e</code>), you can trivially use these to undo whatever mapping you care to apply. This is the most basic of basic crypto stuff and folks were 'undoing such crypto' by hand  <strong>500 years ago</strong>. Assuming you apply an actual cryptography algorithm using a proper protocol (big if!), then also applying a custom charset to it all is a bit like sticking a plaster over the hinges on fort knox. 2 acts intended to protect so incredibly far removed from each other, it'd be played off as a joke in a movie.</p>\n"}],"owner":{"account_id":22350431,"reputation":91,"user_id":16568695,"display_name":"Vreny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692476555,"creation_date":1671988276,"question_id":74914750,"body_markdown":"I would like to make my own *Charset* in Java and then use it for the encoding purpose.\r\nI need to add some particular symbols to my *Charset* as well as all of the numbers and 4 languages (Traditional Chinese, US English, Polish and Russian).\r\n\r\nI tried to browse Charset class but didn`t really find a solution.","title":"How to create my own unique Charset in Java?","body":"<p>I would like to make my own <em>Charset</em> in Java and then use it for the encoding purpose.\nI need to add some particular symbols to my <em>Charset</em> as well as all of the numbers and 4 languages (Traditional Chinese, US English, Polish and Russian).</p>\n<p>I tried to browse Charset class but didn`t really find a solution.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"tags":[],"owner":{"account_id":1691733,"reputation":3139,"user_id":1553934,"accept_rate":100,"display_name":"esin88"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1506525978,"creation_date":1490289773,"answer_id":42982876,"question_id":42982029,"body_markdown":"You need to create an additional class that will hold your 2 summarised numbers (salary and bonus). And a custom collector.\r\n\r\nLet&#39;s say you have \r\n\r\n    private static final class Summary {\r\n        private double salarySum;\r\n        private double bonusSum;\r\n\r\n        public Summary() {\r\n            this.salarySum = 0;\r\n            this.bonusSum = 0;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Summary{&quot; +\r\n                    &quot;salarySum=&quot; + salarySum +\r\n                    &quot;, bonusSum=&quot; + bonusSum +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\nfor holding sums. Then you need a collector like this:\r\n\r\n    private static class EmployeeDetailsSummaryCollector implements Collector&lt;EmployeeDetails, Summary, Summary&gt; {\r\n        @Override\r\n        public Supplier&lt;Summary&gt; supplier() {\r\n            return Summary::new;\r\n        }\r\n\r\n        @Override\r\n        public BiConsumer&lt;Summary, EmployeeDetails&gt; accumulator() {\r\n            return (summary, employeeDetails) -&gt; {\r\n                summary.salarySum += employeeDetails.salary;\r\n                summary.bonusSum += employeeDetails.bonus;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public BinaryOperator&lt;Summary&gt; combiner() {\r\n            return (summary, summary1) -&gt; {\r\n                summary.salarySum += summary1.salarySum;\r\n                summary.bonusSum += summary1.bonusSum;\r\n                return summary;\r\n            };\r\n        }\r\n\r\n        @Override\r\n        public Function&lt;Summary, Summary&gt; finisher() {\r\n            return Function.identity();\r\n        }\r\n\r\n        @Override\r\n        public Set&lt;Characteristics&gt; characteristics() {\r\n            return EnumSet.of(Collector.Characteristics.IDENTITY_FINISH);\r\n        }\r\n    }\r\n\r\nWith these classes you can collect your results like\r\n\r\n    final List&lt;EmployeeDetails&gt; employees = asList(\r\n            new EmployeeDetails(/* deptName */&quot;A&quot;, /* salary */ 100d, /* bonus */ 20d),\r\n            new EmployeeDetails(&quot;A&quot;, 150d, 10d),\r\n            new EmployeeDetails(&quot;B&quot;, 80d, 5d),\r\n            new EmployeeDetails(&quot;C&quot;, 100d, 20d)\r\n    );\r\n\r\n    final Collector&lt;EmployeeDetails, Summary, Summary&gt; collector = new EmployeeDetailsSummaryCollector();\r\n    final Map&lt;String, Summary&gt; map = employees.stream()\r\n            .collect(Collectors.groupingBy(o -&gt; o.deptName, collector));\r\n    System.out.println(&quot;map = &quot; + map);\r\n\r\nWhich prints this:\r\n\r\n    map = {A=[salary=250.0, bonus=30.0], B=[salary=80.0, bonus=5.0], C=[salary=100.0, bonus=20.0]}","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>You need to create an additional class that will hold your 2 summarised numbers (salary and bonus). And a custom collector.</p>\n\n<p>Let's say you have </p>\n\n<pre><code>private static final class Summary {\n    private double salarySum;\n    private double bonusSum;\n\n    public Summary() {\n        this.salarySum = 0;\n        this.bonusSum = 0;\n    }\n\n    @Override\n    public String toString() {\n        return \"Summary{\" +\n                \"salarySum=\" + salarySum +\n                \", bonusSum=\" + bonusSum +\n                '}';\n    }\n}\n</code></pre>\n\n<p>for holding sums. Then you need a collector like this:</p>\n\n<pre><code>private static class EmployeeDetailsSummaryCollector implements Collector&lt;EmployeeDetails, Summary, Summary&gt; {\n    @Override\n    public Supplier&lt;Summary&gt; supplier() {\n        return Summary::new;\n    }\n\n    @Override\n    public BiConsumer&lt;Summary, EmployeeDetails&gt; accumulator() {\n        return (summary, employeeDetails) -&gt; {\n            summary.salarySum += employeeDetails.salary;\n            summary.bonusSum += employeeDetails.bonus;\n        };\n    }\n\n    @Override\n    public BinaryOperator&lt;Summary&gt; combiner() {\n        return (summary, summary1) -&gt; {\n            summary.salarySum += summary1.salarySum;\n            summary.bonusSum += summary1.bonusSum;\n            return summary;\n        };\n    }\n\n    @Override\n    public Function&lt;Summary, Summary&gt; finisher() {\n        return Function.identity();\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return EnumSet.of(Collector.Characteristics.IDENTITY_FINISH);\n    }\n}\n</code></pre>\n\n<p>With these classes you can collect your results like</p>\n\n<pre><code>final List&lt;EmployeeDetails&gt; employees = asList(\n        new EmployeeDetails(/* deptName */\"A\", /* salary */ 100d, /* bonus */ 20d),\n        new EmployeeDetails(\"A\", 150d, 10d),\n        new EmployeeDetails(\"B\", 80d, 5d),\n        new EmployeeDetails(\"C\", 100d, 20d)\n);\n\nfinal Collector&lt;EmployeeDetails, Summary, Summary&gt; collector = new EmployeeDetailsSummaryCollector();\nfinal Map&lt;String, Summary&gt; map = employees.stream()\n        .collect(Collectors.groupingBy(o -&gt; o.deptName, collector));\nSystem.out.println(\"map = \" + map);\n</code></pre>\n\n<p>Which prints this:</p>\n\n<pre><code>map = {A=[salary=250.0, bonus=30.0], B=[salary=80.0, bonus=5.0], C=[salary=100.0, bonus=20.0]}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1120685,"reputation":2411,"user_id":1109059,"accept_rate":87,"display_name":"gpa"},"score":0,"creation_date":1490291170,"post_id":42983196,"comment_id":73058739,"body_markdown":"This solution works great too! but limited to two columns right? if we need 3 or 4 column, complexity increases.","body":"This solution works great too! but limited to two columns right? if we need 3 or 4 column, complexity increases."}],"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1490290703,"creation_date":1490290703,"answer_id":42983196,"question_id":42982029,"body_markdown":"I know you&#39;ve got your answer, but here is my take(I was writing while the other was posted). There is already a `Pair` in java in the form of `AbstractMap.SimpleEntry`.\r\n\r\n\r\n     System.out.println(Stream.of(new EmployeeDetails(&quot;first&quot;, 50d, 7d), new EmployeeDetails(&quot;first&quot;, 50d, 7d),\r\n                new EmployeeDetails(&quot;second&quot;, 51d, 8d), new EmployeeDetails(&quot;second&quot;, 51d, 8d))\r\n                .collect(Collectors.toMap(EmployeeDetails::getDeptName,\r\n                        ed -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ed.getSalary(), ed.getBonus()), \r\n                        (left, right) -&gt; {\r\n                            double key = left.getKey() + right.getKey();\r\n                            double value = left.getValue() + right.getValue();\r\n                            return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\r\n                        }, HashMap::new)));","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>I know you've got your answer, but here is my take(I was writing while the other was posted). There is already a <code>Pair</code> in java in the form of <code>AbstractMap.SimpleEntry</code>.</p>\n\n<pre><code> System.out.println(Stream.of(new EmployeeDetails(\"first\", 50d, 7d), new EmployeeDetails(\"first\", 50d, 7d),\n            new EmployeeDetails(\"second\", 51d, 8d), new EmployeeDetails(\"second\", 51d, 8d))\n            .collect(Collectors.toMap(EmployeeDetails::getDeptName,\n                    ed -&gt; new AbstractMap.SimpleEntry&lt;&gt;(ed.getSalary(), ed.getBonus()), \n                    (left, right) -&gt; {\n                        double key = left.getKey() + right.getKey();\n                        double value = left.getValue() + right.getValue();\n                        return new AbstractMap.SimpleEntry&lt;&gt;(key, value);\n                    }, HashMap::new)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7799232,"reputation":396,"user_id":5899277,"display_name":"John Morris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490292657,"creation_date":1490292657,"answer_id":42983828,"question_id":42982029,"body_markdown":"Grouping by is a terminal operation that yields a map.  The map produced by the groupingBy in the code below is a `Map&lt;String, List&lt;EmployeeDetails&gt;&gt;`. I create a new stream using the Map entrySet method. I then create a new Map using `Collectors.toMap`. This approach uses method chaining to avoid creating another class and create more concise code.\r\n\r\n    details.stream()\r\n\t    .collect(Collectors.groupingBy(EmployeeDetails::getDeptName))\r\n\t\t.entrySet()\r\n\t\t.stream()\r\n\t\t.collect(Collectors.toMap(x-&gt;x.getKey(), x-&gt;x.getValue()\r\n\t\t    .stream()\r\n\t\t\t.mapToDouble(y -&gt; y.getSalary() + y.getBonus())\r\n\t\t\t.sum()));\r\n","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>Grouping by is a terminal operation that yields a map.  The map produced by the groupingBy in the code below is a <code>Map&lt;String, List&lt;EmployeeDetails&gt;&gt;</code>. I create a new stream using the Map entrySet method. I then create a new Map using <code>Collectors.toMap</code>. This approach uses method chaining to avoid creating another class and create more concise code.</p>\n\n<pre><code>details.stream()\n    .collect(Collectors.groupingBy(EmployeeDetails::getDeptName))\n    .entrySet()\n    .stream()\n    .collect(Collectors.toMap(x-&gt;x.getKey(), x-&gt;x.getValue()\n        .stream()\n        .mapToDouble(y -&gt; y.getSalary() + y.getBonus())\n        .sum()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3155790,"reputation":14985,"user_id":2668232,"accept_rate":100,"display_name":"Oleksandr Pyrohov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692476264,"creation_date":1692475809,"answer_id":76936865,"question_id":42982029,"body_markdown":"The question targets specifically Java 8, but the time passes and the Java language improves. Long story short, you may try to use [`Collectors.teeing`][1] available since Java 12:\r\n```\r\nMap&lt;String, Pair&lt;Double, Double&gt;&gt; res =\r\n    set.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                EmployeeDetails::getDeptName,\r\n                Collectors.teeing(\r\n                    Collectors.summingDouble(EmployeeDetails::getSalary),\r\n                    Collectors.summingDouble(EmployeeDetails::getBonus),\r\n                    Pair::of)));\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>The question targets specifically Java 8, but the time passes and the Java language improves. Long story short, you may try to use <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/stream/Collectors.html#teeing(java.util.stream.Collector,java.util.stream.Collector,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>Collectors.teeing</code></a> available since Java 12:</p>\n<pre><code>Map&lt;String, Pair&lt;Double, Double&gt;&gt; res =\n    set.stream()\n        .collect(\n            Collectors.groupingBy(\n                EmployeeDetails::getDeptName,\n                Collectors.teeing(\n                    Collectors.summingDouble(EmployeeDetails::getSalary),\n                    Collectors.summingDouble(EmployeeDetails::getBonus),\n                    Pair::of)));\n</code></pre>\n"}],"owner":{"account_id":1120685,"reputation":2411,"user_id":1109059,"accept_rate":87,"display_name":"gpa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":42982876,"answer_count":4,"score":9,"last_activity_date":1692476264,"creation_date":1490287157,"question_id":42982029,"body_markdown":"I have POJO definition as follows:\r\n\r\n    class EmployeeDetails{\r\n     private String deptName;\r\n     private Double salary;\r\n     private Double bonus;\r\n     ...\r\n    }\r\n\r\nCurrently, i have lambda expression for Group By `&#39;deptName&#39;` as :\r\n\r\n    $set.stream().collect(Collectors.groupingBy(EmployeeDetails::getDeptName,\r\n                                     Collectors.summingLong(EmployeeDetails::getSalary));\r\n\r\n\r\n**Question** Is it possible to *Sum* more than one column? I need to compute sum on **both** fields `salary and bonus` in one expression instead of multiple times?\r\n\r\nSQL representation would be:\r\n\r\n    SELECT deptName,SUM(salary),SUM(bonus)\r\n    FROM TABLE_EMP\r\n    GROUP BY deptName;","title":"Java 8 Lambda Collectors.summingLong multiple columns?","body":"<p>I have POJO definition as follows:</p>\n\n<pre><code>class EmployeeDetails{\n private String deptName;\n private Double salary;\n private Double bonus;\n ...\n}\n</code></pre>\n\n<p>Currently, i have lambda expression for Group By <code>'deptName'</code> as :</p>\n\n<pre><code>$set.stream().collect(Collectors.groupingBy(EmployeeDetails::getDeptName,\n                                 Collectors.summingLong(EmployeeDetails::getSalary));\n</code></pre>\n\n<p><strong>Question</strong> Is it possible to <em>Sum</em> more than one column? I need to compute sum on <strong>both</strong> fields <code>salary and bonus</code> in one expression instead of multiple times?</p>\n\n<p>SQL representation would be:</p>\n\n<pre><code>SELECT deptName,SUM(salary),SUM(bonus)\nFROM TABLE_EMP\nGROUP BY deptName;\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"score":0,"creation_date":1692472610,"post_id":76932416,"comment_id":135629043,"body_markdown":"Hi @Francesco, thanks! This kind of work, but if the `InternalNumber.generateInternalNumber()` happens to generate an already used number, Hibernate will correctly throw a `ConstraintViolationException`. How can I query the DB to check if the number was already used? In the `@PrePersist` method I don&#39;t have access to the repository, nor to a JPA `Connection` object. Thank you and sorry for re-asking, but I&#39;m a beginner with JPA","body":"Hi @Francesco, thanks! This kind of work, but if the <code>InternalNumber.generateInternalNumber()</code> happens to generate an already used number, Hibernate will correctly throw a <code>ConstraintViolationException</code>. How can I query the DB to check if the number was already used? In the <code>@PrePersist</code> method I don&#39;t have access to the repository, nor to a JPA <code>Connection</code> object. Thank you and sorry for re-asking, but I&#39;m a beginner with JPA"},{"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"score":0,"creation_date":1692475907,"post_id":76932416,"comment_id":135629340,"body_markdown":"@Admin_PCNGroup edited the post, hopefully i got it right!","body":"@Admin_PCNGroup edited the post, hopefully i got it right!"},{"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"score":0,"creation_date":1692479515,"post_id":76932416,"comment_id":135629669,"body_markdown":"Thank you. This works perfectly. Thank you for your time and effort!","body":"Thank you. This works perfectly. Thank you for your time and effort!"}],"tags":[],"owner":{"account_id":16834351,"reputation":171,"user_id":12171447,"display_name":"Francesco"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692475841,"creation_date":1692390630,"answer_id":76932416,"question_id":76932188,"body_markdown":"The issue might be related to the way you&#39;ve set up the generation of the `internalNumber` field using the custom generator. \r\n\r\nIn the usage of the `@GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)` annotation on the `internalNumber` field, the `internalNumber` is a string and not an UUID, so using `@GeneratedValue` might not be the right approach.\r\n\r\nInstead of using `@GeneratedValue`, you could manually generate the `internalNumber` in your code and set it before saving the `Customer` entity. The generator&#39;s `generate()` method might not be called because it&#39;s designed for generating identifiers for IDs, so UUID, not other fields such as a string.\r\n\r\nyou could modify your `Customer` class to achieve this:\r\n\r\n```java\r\n\r\n// imports\r\n\r\n// Customer.java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, unique = true) // Ensure uniqueness of internalNumber\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n    // ... other fields ...\r\n\r\n    @PrePersist\r\n    public void generateInternalNumber() {\r\n        internalNumber = InternalNumber.generateRandomInternalNumber();\r\n    }\r\n}\r\n```\r\n\r\nBy using the `@PrePersist` annotation, the `generateInternalNumber()` method will be automatically called just before the entity is persisted to the database, ensuring that the `internalNumber` field is generated and set before saving.\r\n\r\nHere&#39;s some [good article](https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/) about the PrePersist annotation.\r\n\r\n**EDIT:**\r\n\r\nTo ensure uniqueness before saving the `Customer` entity you can query the database to check if the generated `internalNumber` already exists before setting it. You don&#39;t need to access the repository or JPA connection directly within the entity class. Instead, you can create a service or manager class to handle this logic and then use it when saving the entity.\r\n\r\nI could think of something like this:\r\n\r\n1. Create a service class to generate and set the `internalNumber`:\r\n\r\n```java\r\n// CustomerService.java\r\n@Service\r\npublic class CustomerService {\r\n\r\n    @Autowired\r\n    private CustomerRepository customerRepository;\r\n\r\n    public Customer createCustomer(Customer customer) {\r\n        String generatedInternalNumber;\r\n        do {\r\n            generatedInternalNumber = InternalNumber.generateRandomInternalNumber();\r\n        } while (customerRepository.existsByInternalNumber(generatedInternalNumber));\r\n        \r\n        customer.setInternalNumber(generatedInternalNumber);\r\n        return customerRepository.save(customer);\r\n    }\r\n}\r\n```\r\n\r\n2. Modify your `Customer` class:\r\n\r\n```java\r\n// Customer.java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n\r\n    // ... other fields ...\r\n\r\n    // No need for @PrePersist in this case\r\n}\r\n```\r\n\r\nThe `CustomerService` class is responsible for generating a unique `internalNumber` by checking if it already exists in the database before saving a new `Customer` entity and the `existsByInternalNumber` method in the `CustomerRepository` checks if a `Customer` with the given `internalNumber` already exists in the database.\r\n\r\nBy doing this you no longer need the `@PrePersist` method because the `internalNumber` is set in the service before saving the entity.\r\n\r\nHope that helps! :)","title":"Custom IdentifierGenerator not used in JPA","body":"<p>The issue might be related to the way you've set up the generation of the <code>internalNumber</code> field using the custom generator.</p>\n<p>In the usage of the <code>@GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)</code> annotation on the <code>internalNumber</code> field, the <code>internalNumber</code> is a string and not an UUID, so using <code>@GeneratedValue</code> might not be the right approach.</p>\n<p>Instead of using <code>@GeneratedValue</code>, you could manually generate the <code>internalNumber</code> in your code and set it before saving the <code>Customer</code> entity. The generator's <code>generate()</code> method might not be called because it's designed for generating identifiers for IDs, so UUID, not other fields such as a string.</p>\n<p>you could modify your <code>Customer</code> class to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n// imports\n\n// Customer.java\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false, unique = true) // Ensure uniqueness of internalNumber\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n    // ... other fields ...\n\n    @PrePersist\n    public void generateInternalNumber() {\n        internalNumber = InternalNumber.generateRandomInternalNumber();\n    }\n}\n</code></pre>\n<p>By using the <code>@PrePersist</code> annotation, the <code>generateInternalNumber()</code> method will be automatically called just before the entity is persisted to the database, ensuring that the <code>internalNumber</code> field is generated and set before saving.</p>\n<p>Here's some <a href=\"https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/\" rel=\"nofollow noreferrer\">good article</a> about the PrePersist annotation.</p>\n<p><strong>EDIT:</strong></p>\n<p>To ensure uniqueness before saving the <code>Customer</code> entity you can query the database to check if the generated <code>internalNumber</code> already exists before setting it. You don't need to access the repository or JPA connection directly within the entity class. Instead, you can create a service or manager class to handle this logic and then use it when saving the entity.</p>\n<p>I could think of something like this:</p>\n<ol>\n<li>Create a service class to generate and set the <code>internalNumber</code>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// CustomerService.java\n@Service\npublic class CustomerService {\n\n    @Autowired\n    private CustomerRepository customerRepository;\n\n    public Customer createCustomer(Customer customer) {\n        String generatedInternalNumber;\n        do {\n            generatedInternalNumber = InternalNumber.generateRandomInternalNumber();\n        } while (customerRepository.existsByInternalNumber(generatedInternalNumber));\n        \n        customer.setInternalNumber(generatedInternalNumber);\n        return customerRepository.save(customer);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Modify your <code>Customer</code> class:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>// Customer.java\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @Column(nullable = false, unique = true)\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n\n    // ... other fields ...\n\n    // No need for @PrePersist in this case\n}\n</code></pre>\n<p>The <code>CustomerService</code> class is responsible for generating a unique <code>internalNumber</code> by checking if it already exists in the database before saving a new <code>Customer</code> entity and the <code>existsByInternalNumber</code> method in the <code>CustomerRepository</code> checks if a <code>Customer</code> with the given <code>internalNumber</code> already exists in the database.</p>\n<p>By doing this you no longer need the <code>@PrePersist</code> method because the <code>internalNumber</code> is set in the service before saving the entity.</p>\n<p>Hope that helps! :)</p>\n"}],"owner":{"account_id":16467655,"reputation":13,"user_id":11897432,"display_name":"Admin_PCNGroup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76932416,"answer_count":1,"score":0,"last_activity_date":1692475841,"creation_date":1692387996,"question_id":76932188,"body_markdown":"I implemented a `CustomerInternalNumberGenerator` that implements JPA&#39;s `IdentifierGenerator` as follows:\r\n```java\r\npackage ch.pcngroup.gestionale.generator;\r\n\r\nimport ch.pcngroup.gestionale.util.InternalNumber;\r\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\r\nimport org.hibernate.id.IdentifierGenerator;\r\nimport org.springframework.data.convert.Jsr310Converters;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\npublic class CustomerInternalNumberGeneratorimplements IdentifierGenerator {\r\n\r\n    @Override\r\n    public Object generate(SharedSessionContractImplementor sharedSessionContractImplementor, Object o) {\r\n        String candidate = InternalNumber.generateRandomInternalNumber();\r\n        try(Connection connection = sharedSessionContractImplementor.getJdbcConnectionAccess().obtainConnection()) {\r\n            System.out.println(candidate); // Just to check -- NEVER called!\r\n            while (true) {\r\n                PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM ? WHERE internal_number = ?&quot;);\r\n                stmt.setString(1, &quot;customer&quot;);\r\n                stmt.setString(2, candidate);\r\n                ResultSet set = stmt.executeQuery();\r\n                if(!set.next()) return candidate;\r\n            }\r\n\r\n        }\r\n        catch(Exception e) {throw new RuntimeException(e);}\r\n    }\r\n}\r\n\r\n```\r\nand I have a JPA Entity `Customer` as follows:\r\n```java\r\npackage ch.pcngroup.gestionale.entity;\r\n\r\nimport ch.pcngroup.gestionale.generator.CustomerInternalNumberGenerator;\r\nimport jakarta.persistence.*;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Builder\r\npublic class Customer {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    private UUID id;\r\n\r\n    @GenericGenerator(name = &quot;customerInternalNumberGenerator&quot;, type = CustomerInternalNumberGenerator.class)\r\n    @GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)\r\n    private String internalNumber;\r\n\r\n    @Column(nullable = false)\r\n    private String firstName;\r\n    @Column(nullable = false)\r\n    private String lastName;\r\n    @Column(nullable = false)\r\n    private String street;\r\n    @Column(nullable = false)\r\n    private String postCode;\r\n    @Column(nullable = false)\r\n    private String city;\r\n    @Column(columnDefinition = &quot;VARCHAR(2)&quot;, nullable = false)\r\n    private String country;\r\n    private String phone;\r\n    private String emailAddress;\r\n}\r\n\r\n\r\n````\r\n\r\nI&#39;d like the `String internalNumber` of the `Customer` class to be autogenerated by the above generator. \r\nThe generator `generate()` method does not seem to be called at all: in fact, when I save a Customer to the DB via JPA (using the repository&#39;s `save()` method, the `println` statement in the `generate()` method is not called (nothing gets printed)). As a result, all added Customers have an `internalNumber` of `null`.\r\n\r\nWhy is this happening?\r\n\r\nThank you! ","title":"Custom IdentifierGenerator not used in JPA","body":"<p>I implemented a <code>CustomerInternalNumberGenerator</code> that implements JPA's <code>IdentifierGenerator</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.pcngroup.gestionale.generator;\n\nimport ch.pcngroup.gestionale.util.InternalNumber;\nimport org.hibernate.engine.spi.SharedSessionContractImplementor;\nimport org.hibernate.id.IdentifierGenerator;\nimport org.springframework.data.convert.Jsr310Converters;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\npublic class CustomerInternalNumberGeneratorimplements IdentifierGenerator {\n\n    @Override\n    public Object generate(SharedSessionContractImplementor sharedSessionContractImplementor, Object o) {\n        String candidate = InternalNumber.generateRandomInternalNumber();\n        try(Connection connection = sharedSessionContractImplementor.getJdbcConnectionAccess().obtainConnection()) {\n            System.out.println(candidate); // Just to check -- NEVER called!\n            while (true) {\n                PreparedStatement stmt = connection.prepareStatement(&quot;SELECT * FROM ? WHERE internal_number = ?&quot;);\n                stmt.setString(1, &quot;customer&quot;);\n                stmt.setString(2, candidate);\n                ResultSet set = stmt.executeQuery();\n                if(!set.next()) return candidate;\n            }\n\n        }\n        catch(Exception e) {throw new RuntimeException(e);}\n    }\n}\n\n</code></pre>\n<p>and I have a JPA Entity <code>Customer</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.pcngroup.gestionale.entity;\n\nimport ch.pcngroup.gestionale.generator.CustomerInternalNumberGenerator;\nimport jakarta.persistence.*;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport java.util.UUID;\n\n@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Builder\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    private UUID id;\n\n    @GenericGenerator(name = &quot;customerInternalNumberGenerator&quot;, type = CustomerInternalNumberGenerator.class)\n    @GeneratedValue(generator = &quot;customerInternalNumberGenerator&quot;)\n    private String internalNumber;\n\n    @Column(nullable = false)\n    private String firstName;\n    @Column(nullable = false)\n    private String lastName;\n    @Column(nullable = false)\n    private String street;\n    @Column(nullable = false)\n    private String postCode;\n    @Column(nullable = false)\n    private String city;\n    @Column(columnDefinition = &quot;VARCHAR(2)&quot;, nullable = false)\n    private String country;\n    private String phone;\n    private String emailAddress;\n}\n\n\n</code></pre>\n<p>I'd like the <code>String internalNumber</code> of the <code>Customer</code> class to be autogenerated by the above generator.\nThe generator <code>generate()</code> method does not seem to be called at all: in fact, when I save a Customer to the DB via JPA (using the repository's <code>save()</code> method, the <code>println</code> statement in the <code>generate()</code> method is not called (nothing gets printed)). As a result, all added Customers have an <code>internalNumber</code> of <code>null</code>.</p>\n<p>Why is this happening?</p>\n<p>Thank you!</p>\n"},{"tags":["java","html","discord","twitch"],"owner":{"account_id":29258648,"reputation":1,"user_id":22416213,"display_name":"Collin Connor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692475575,"creation_date":1692473743,"question_id":76936755,"body_markdown":"I&#39;m working on building a discord bot for a twitch community that can access the community stores Square Website and return messages to a discord channel when the quantity changes (someone buys something or the store is restocked). I&#39;m trying to use Jsoup with Maven but I&#39;m not overly familiar with html and how to pull the individual quantity elements and integrate them into the program. In the code below I think I have the basic structure but I need to know how to include all the different products available\r\n\r\nItem example: https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom\r\n\r\n```\r\nprivate static int scrapeProductAvailability(String productUrl) throws IOException {\r\n        Document productPage = Jsoup.connect(productUrl).get();\r\n\r\n        // Replace these selectors with the actual HTML elements that contain availability information\r\n        Element availabilityElement = productPage.selectFirst(&quot;&quot;);\r\n        \r\n        // Extract the availability information from the element\r\n        if (availabilityElement != null) {\r\n            String availabilityText = availabilityElement.text();\r\n            \r\n            // Parse the availability text to get the quantity (this is just a simplified example)\r\n            int availability = Integer.parseInt(availabilityText);\r\n            \r\n            return availability;\r\n        }\r\n        \r\n        // Return a default value if availability information is not found\r\n        return -1;\r\n    }\r\n```\r\n","title":"Webscraping Square Website For Available Product","body":"<p>I'm working on building a discord bot for a twitch community that can access the community stores Square Website and return messages to a discord channel when the quantity changes (someone buys something or the store is restocked). I'm trying to use Jsoup with Maven but I'm not overly familiar with html and how to pull the individual quantity elements and integrate them into the program. In the code below I think I have the basic structure but I need to know how to include all the different products available</p>\n<p>Item example: <a href=\"https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom\" rel=\"nofollow noreferrer\">https://suknives.square.site/product/pokemon-50-pack-mixer-team-up-evolving-skies-brilliant-stars/232?cs=true&amp;cst=custom</a></p>\n<pre><code>private static int scrapeProductAvailability(String productUrl) throws IOException {\n        Document productPage = Jsoup.connect(productUrl).get();\n\n        // Replace these selectors with the actual HTML elements that contain availability information\n        Element availabilityElement = productPage.selectFirst(&quot;&quot;);\n        \n        // Extract the availability information from the element\n        if (availabilityElement != null) {\n            String availabilityText = availabilityElement.text();\n            \n            // Parse the availability text to get the quantity (this is just a simplified example)\n            int availability = Integer.parseInt(availabilityText);\n            \n            return availability;\n        }\n        \n        // Return a default value if availability information is not found\n        return -1;\n    }\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"answers":[{"tags":[],"owner":{"account_id":14151956,"reputation":1,"user_id":10223664,"display_name":"nikhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534240667,"creation_date":1534239384,"answer_id":51838314,"question_id":40729817,"body_markdown":" 1. Go to overview section of server.\r\n 2. Go to Server Options section.\r\n 3. Select (Publish module contexts to separate XML files).\r\n \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NXC2o.png","title":"Eclipse Tomcat Error: &quot;Could not launch in profiling mode because no profilers are configured.&quot;","body":"<ol>\n<li>Go to overview section of server.</li>\n<li>Go to Server Options section.</li>\n<li>Select (Publish module contexts to separate XML files).</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/NXC2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NXC2o.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":9694453,"reputation":71,"user_id":7191405,"accept_rate":67,"display_name":"John"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11355,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1692475535,"creation_date":1479764127,"question_id":40729817,"body_markdown":"I&#39;m just starting with Java Web Application and I&#39;m using this [tutorial series to learn][1].  I have followed all the instructions and installed all the instructed plug-ins and software successfully, and copied the given program (outputs a simple text line).  However, when I run it, it prompts the following \r\n\r\n[![enter image description here][2]][2]\r\n\r\nCould someone kindly guide me in what the problem is and what I might have done wrong?\r\n\r\nP.s. I&#39;m using Eclipse &#39;Neon&#39; Java EE as my IDE.\r\n\r\n\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=MSS0Tndfh6I&amp;list=PLHqN89yRGMyAcwWcSWk59_S_-BQVn3Rrb&amp;index=5\r\n  [2]: https://i.stack.imgur.com/gToHs.jpg","title":"Eclipse Tomcat Error: &quot;Could not launch in profiling mode because no profilers are configured.&quot;","body":"<p>I'm just starting with Java Web Application and I'm using this <a href=\"https://www.youtube.com/watch?v=MSS0Tndfh6I&amp;list=PLHqN89yRGMyAcwWcSWk59_S_-BQVn3Rrb&amp;index=5\" rel=\"nofollow noreferrer\">tutorial series to learn</a>.  I have followed all the instructions and installed all the instructed plug-ins and software successfully, and copied the given program (outputs a simple text line).  However, when I run it, it prompts the following </p>\n\n<p><a href=\"https://i.stack.imgur.com/gToHs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gToHs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Could someone kindly guide me in what the problem is and what I might have done wrong?</p>\n\n<p>P.s. I'm using Eclipse 'Neon' Java EE as my IDE.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1422283083,"post_id":28151724,"comment_id":44675645,"body_markdown":"What is `request` ? is this an object from a 3rd pary lib or do you have full source code control over this class ?","body":"What is <code>request</code> ? is this an object from a 3rd pary lib or do you have full source code control over this class ?"},{"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"score":0,"creation_date":1422283136,"post_id":28151724,"comment_id":44675680,"body_markdown":"is the part of 3rd library , i dont have a full source code control","body":"is the part of 3rd library , i dont have a full source code control"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1422283392,"post_id":28151724,"comment_id":44675852,"body_markdown":"If there is no special parameter or similiar control for `getContent()` to limit the amount per request, I think you are out of luck. Could you write your own XML-RPC for a specific case ?","body":"If there is no special parameter or similiar control for <code>getContent()</code> to limit the amount per request, I think you are out of luck. Could you write your own XML-RPC for a specific case ?"},{"owner":{"account_id":3609476,"reputation":442,"user_id":3010873,"accept_rate":71,"display_name":"Josef"},"score":0,"creation_date":1422283451,"post_id":28151724,"comment_id":44675900,"body_markdown":"Look here :http://stackoverflow.com/questions/27549232/outofmemory-recycle-images/27555881#27555881","body":"Look here :<a href=\"http://stackoverflow.com/questions/27549232/outofmemory-recycle-images/27555881#27555881\" title=\"outofmemory recycle images\">stackoverflow.com/questions/27549232/outofmemory-recycle-im&zwnj;&#8203;ages/&hellip;</a>"},{"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"score":0,"creation_date":1422284902,"post_id":28151724,"comment_id":44676876,"body_markdown":"@PeterMmm i have a flags to activate the download of data or not  , but a special parameter to  to limit the amount per request dosent exist , i will talk the creator of the library to give me another way to download the data per amount . thanks Peter","body":"@PeterMmm i have a flags to activate the download of data or not  , but a special parameter to  to limit the amount per request dosent exist , i will talk the creator of the library to give me another way to download the data per amount . thanks Peter"}],"owner":{"account_id":2032958,"reputation":4440,"user_id":1816112,"display_name":"Sofien Rahmouni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692475440,"creation_date":1422281561,"question_id":28151724,"body_markdown":"I have a Web service based on XML-RPC ,I tried to download a large data using this method :\r\n\r\n    byte[] data = request.getInfo(infoFilter).getDocuments().get(indexDocument).getContent(); \r\n\r\nWhen the data is considered as big, the application will cause exception of out of memory ,because some device has a small size cache ,my solution here is to truncate the data in small quantity. I think I need to get inspiref from this code :\r\n\r\n    FileOutputStream fos = new FileOutputStream(file);\r\n    while ((current = bis.read()) != -1) {\r\n        fos.write(current);\r\n    }\r\n    fos.close();\r\n\r\nCan anyone has an idea about how can i resolve this issue ?\r\n\r\n","title":"Out Of Memory In XML-RPC result","body":"<p>I have a Web service based on XML-RPC ,I tried to download a large data using this method :</p>\n<pre><code>byte[] data = request.getInfo(infoFilter).getDocuments().get(indexDocument).getContent(); \n</code></pre>\n<p>When the data is considered as big, the application will cause exception of out of memory ,because some device has a small size cache ,my solution here is to truncate the data in small quantity. I think I need to get inspiref from this code :</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(file);\nwhile ((current = bis.read()) != -1) {\n    fos.write(current);\n}\nfos.close();\n</code></pre>\n<p>Can anyone has an idea about how can i resolve this issue ?</p>\n"},{"tags":["java","security","spring-security","regression","bypass"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1692463304,"post_id":76935671,"comment_id":135628005,"body_markdown":"`WebSecurityConfigurerAdapter` is deprecated","body":"<code>WebSecurityConfigurerAdapter</code> is deprecated"}],"answers":[{"comments":[{"owner":{"account_id":23156228,"reputation":1,"user_id":17257435,"display_name":"coiloffaraday"},"score":0,"creation_date":1692498187,"post_id":76936118,"comment_id":135630954,"body_markdown":"Thanks, that&#39;s right. But this question is not about development but security. I&#39;m wondering if this outdated approach poses a tangible security risk","body":"Thanks, that&#39;s right. But this question is not about development but security. I&#39;m wondering if this outdated approach poses a tangible security risk"}],"tags":[],"owner":{"account_id":29121401,"reputation":31,"user_id":22308749,"display_name":"Yordan Yordanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692462777,"creation_date":1692462777,"answer_id":76936118,"question_id":76935671,"body_markdown":"I think you should use **requestMatchers** instead\r\nbecause isn&#39;t **antMatchers** deprecated in the newest **SpringSecurity** version","title":"Fail to bypass a spring security check using antMatcher method","body":"<p>I think you should use <strong>requestMatchers</strong> instead\nbecause isn't <strong>antMatchers</strong> deprecated in the newest <strong>SpringSecurity</strong> version</p>\n"}],"owner":{"account_id":23156228,"reputation":1,"user_id":17257435,"display_name":"coiloffaraday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692475193,"creation_date":1692456197,"question_id":76935671,"body_markdown":"How should I carefully construct url addresses to bypass forensics in this spring project?\r\n\r\n```\r\npublic class SpringSecurityConfig\r\nextends WebSecurityConfigurerAdapter {\r\n    @Bean\r\n    public HttpFirewall httpFirewall() {\r\n        return new CustomHttpFirewall();\r\n    }\r\n\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        ((ExpressionUrlAuthorizationConfigurer.AuthorizedUrl)httpSecurity.authorizeRequests().antMatchers(new String[]{&quot;/admin/**&quot;})).authenticated();\r\n    }\r\n}\r\n```\r\n\r\nAbove is the statement for authentication for this spring project.\r\n\r\nAnd the project have the following statement in the firewall file.\r\n\r\n```\r\npublic class CustomHttpFirewall\r\nextends DefaultHttpFirewall {\r\n    protected void configure(StrictHttpFirewall firewalledRequest) {\r\n        firewalledRequest.setAllowUrlEncodedSlash(true);\r\n        firewalledRequest.setAllowUrlEncodedDoubleSlash(true);\r\n        firewalledRequest.setAllowUrlEncodedPeriod(true);\r\n    }\r\n}\r\n```\r\n\r\nThis project doesn&#39;t use JWT to authenticate a user.\r\n\r\nThe version number of spring-security in this project is 5.6.3, while which of springframework is 2.7.0\r\n\r\n\r\n\r\nI&#39;ve tried multiple ways of double-writing the slash and encoding the url multiple times, but all of them failed.\r\n\r\nI wander whether there is even a way to bypass this forensic statement.","title":"Fail to bypass a spring security check using antMatcher method","body":"<p>How should I carefully construct url addresses to bypass forensics in this spring project?</p>\n<pre><code>public class SpringSecurityConfig\nextends WebSecurityConfigurerAdapter {\n    @Bean\n    public HttpFirewall httpFirewall() {\n        return new CustomHttpFirewall();\n    }\n\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        ((ExpressionUrlAuthorizationConfigurer.AuthorizedUrl)httpSecurity.authorizeRequests().antMatchers(new String[]{&quot;/admin/**&quot;})).authenticated();\n    }\n}\n</code></pre>\n<p>Above is the statement for authentication for this spring project.</p>\n<p>And the project have the following statement in the firewall file.</p>\n<pre><code>public class CustomHttpFirewall\nextends DefaultHttpFirewall {\n    protected void configure(StrictHttpFirewall firewalledRequest) {\n        firewalledRequest.setAllowUrlEncodedSlash(true);\n        firewalledRequest.setAllowUrlEncodedDoubleSlash(true);\n        firewalledRequest.setAllowUrlEncodedPeriod(true);\n    }\n}\n</code></pre>\n<p>This project doesn't use JWT to authenticate a user.</p>\n<p>The version number of spring-security in this project is 5.6.3, while which of springframework is 2.7.0</p>\n<p>I've tried multiple ways of double-writing the slash and encoding the url multiple times, but all of them failed.</p>\n<p>I wander whether there is even a way to bypass this forensic statement.</p>\n"},{"tags":["java","apache-poi","docx4j"],"comments":[{"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"score":0,"creation_date":1540496415,"post_id":39972752,"comment_id":92898721,"body_markdown":"setCantSplitRow(true) not working for me either","body":"setCantSplitRow(true) not working for me either"}],"answers":[{"comments":[{"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"score":0,"creation_date":1692474498,"post_id":39974787,"comment_id":135629201,"body_markdown":"this work just for row","body":"this work just for row"}],"tags":[],"owner":{"account_id":5394212,"reputation":383,"user_id":4295885,"display_name":"Rahul khanvani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476180028,"creation_date":1476180028,"answer_id":39974787,"question_id":39972752,"body_markdown":"Try using Table Row Function :\r\n\r\n\t**setCantSplitRow(boolean split)\r\nThis attribute controls whether to allow table rows to split across pages.**\r\n\r\ntableRow.setCantSplitRow(true);","title":"Prevent Table split in apache poi","body":"<p>Try using Table Row Function :</p>\n\n<pre><code>**setCantSplitRow(boolean split)\n</code></pre>\n\n<p>This attribute controls whether to allow table rows to split across pages.**</p>\n\n<p>tableRow.setCantSplitRow(true);</p>\n"},{"comments":[{"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"score":0,"creation_date":1692474379,"post_id":76936782,"comment_id":135629193,"body_markdown":"so I have not found property for table like setCantSplitRow for rows","body":"so I have not found property for table like setCantSplitRow for rows"}],"tags":[],"owner":{"account_id":24360773,"reputation":61,"user_id":18295167,"display_name":"trom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692474308,"creation_date":1692474308,"answer_id":76936782,"question_id":39972752,"body_markdown":"To make table unsplittable you should set for all paragraphs in table property &quot;isKeepNext = true&quot; like this (for kotlin):\r\n\r\n    fun XWPFTable.setUnsplittable(): XWPFTable {\r\n    return apply {\r\n        rows.map { row -&gt;\r\n            row.tableCells.map { cell -&gt;\r\n                cell.paragraphs.map { paragraph -&gt;\r\n                    if (paragraph.ctp?.pPr == null) paragraph.ctp.addNewPPr().addNewKeepLines()\r\n                    paragraph.isKeepNext = true\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nSo if you want to check how it works in MS Word, you can select table and include &quot;keep with next&quot; in paragraph settings, and finally save docuemnt in .xml and see that isKeepNext is used for all paragraphs =)\r\n","title":"Prevent Table split in apache poi","body":"<p>To make table unsplittable you should set for all paragraphs in table property &quot;isKeepNext = true&quot; like this (for kotlin):</p>\n<pre><code>fun XWPFTable.setUnsplittable(): XWPFTable {\nreturn apply {\n    rows.map { row -&gt;\n        row.tableCells.map { cell -&gt;\n            cell.paragraphs.map { paragraph -&gt;\n                if (paragraph.ctp?.pPr == null) paragraph.ctp.addNewPPr().addNewKeepLines()\n                paragraph.isKeepNext = true\n            }\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>So if you want to check how it works in MS Word, you can select table and include &quot;keep with next&quot; in paragraph settings, and finally save docuemnt in .xml and see that isKeepNext is used for all paragraphs =)</p>\n"}],"owner":{"account_id":6745097,"reputation":93,"user_id":5196944,"display_name":"Ravi Brahmbhatt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1443,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1692474308,"creation_date":1476172718,"question_id":39972752,"body_markdown":"I am facing an issue while generating the docx file using apache poi library.\r\nI have multiple tables of variable sizes to be included dynamically in the document.The issue is that table gets splited between the pages.My requirement is to prevent the table from splitting between the pages.In poi library i found the method `table.getRow(0).setCantSplitRow(true);` but does not changes anything.Any suggestions for how to implement this.Thanks in advance.","title":"Prevent Table split in apache poi","body":"<p>I am facing an issue while generating the docx file using apache poi library.\nI have multiple tables of variable sizes to be included dynamically in the document.The issue is that table gets splited between the pages.My requirement is to prevent the table from splitting between the pages.In poi library i found the method <code>table.getRow(0).setCantSplitRow(true);</code> but does not changes anything.Any suggestions for how to implement this.Thanks in advance.</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"answers":[{"comments":[{"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"score":0,"creation_date":1692648242,"post_id":76936720,"comment_id":135649738,"body_markdown":"In my project, it wouldn&#39;t be possible to use @ManyToOne, but I followed the second solution and it worked out. Thanks","body":"In my project, it wouldn&#39;t be possible to use @ManyToOne, but I followed the second solution and it worked out. Thanks"}],"tags":[],"owner":{"account_id":22317826,"reputation":60,"user_id":16540902,"display_name":"uki34"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692473126,"creation_date":1692473126,"answer_id":76936720,"question_id":76930463,"body_markdown":"**1. Change to **@ManyToOne** Relationship:**\r\n\r\nOne approach is to modify the relationship from @OneToMany to @ManyToOne. By doing this, you can establish a relationship from the book to its author. When adding a new book, you can simply set the author of the book, and Hibernate will efficiently execute a single insert statement. This method works well if you don&#39;t need to navigate from the author to their books directly.\r\n\r\n    BookEntity b = new BookEntity();\r\n        AuthorEntity a = em.getReference(AuthorEntity.class, 1L);\r\n        b.setAuthor(a);\r\n        b.setId(342L);\r\n        em.persist(b);\r\n\r\n**2. **Native SQL Queries**:**\r\n\r\nAnother option is to create a native SQL query to perform the insertion directly. It will not load the entire collection because you will just insert the entity manually without loading it first. \r\n\r\nSimilar question: [Hibernate - How to persist a new item in a Collection without loading the entire Collection][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1409523/hibernate-how-to-persist-a-new-item-in-a-collection-without-loading-the-entire","title":"How to add child record in a Unidirectional @OneToMany without retrieving previous records","body":"<p><strong>1. Change to <strong>@ManyToOne</strong> Relationship:</strong></p>\n<p>One approach is to modify the relationship from @OneToMany to @ManyToOne. By doing this, you can establish a relationship from the book to its author. When adding a new book, you can simply set the author of the book, and Hibernate will efficiently execute a single insert statement. This method works well if you don't need to navigate from the author to their books directly.</p>\n<pre><code>BookEntity b = new BookEntity();\n    AuthorEntity a = em.getReference(AuthorEntity.class, 1L);\n    b.setAuthor(a);\n    b.setId(342L);\n    em.persist(b);\n</code></pre>\n<p><strong>2. <strong>Native SQL Queries</strong>:</strong></p>\n<p>Another option is to create a native SQL query to perform the insertion directly. It will not load the entire collection because you will just insert the entity manually without loading it first.</p>\n<p>Similar question: <a href=\"https://stackoverflow.com/questions/1409523/hibernate-how-to-persist-a-new-item-in-a-collection-without-loading-the-entire\">Hibernate - How to persist a new item in a Collection without loading the entire Collection</a></p>\n"}],"owner":{"account_id":24305602,"reputation":53,"user_id":18248397,"display_name":"YasudaYutaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936720,"answer_count":1,"score":0,"last_activity_date":1692473126,"creation_date":1692370652,"question_id":76930463,"body_markdown":"I&#39;m dealing with a unidirectional @OneToMany association that utilizes the &quot;author_book&quot; table as an intermediate table. However, when attempting to add a new Book to an Author in order to generate a new entry in the &quot;author_book&quot; table, I&#39;m having to first retrieve all previous Books. This process becomes time-consuming, especially when an author has a substantial number of books. In my case, I cannot use a bidirectional @OneToMany association. Is there a more efficient way to accomplish this using a unidirectional approach?\r\n\r\nAuthor Entity:\r\n\r\n    @Entity\r\n    public class AuthorEntity {\r\n       @Id\r\n       private long id;\r\n\r\n       @OneToMany\r\n       @JoinTable(name = &quot;author_book&quot;, joinColumns = @JoinColumn(name = &quot;id_author&quot;),\r\n                  inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\r\n       private Set&lt;BookEntity&gt; books;\r\n    }\r\n\r\nAnd Book Entity:\r\n\r\n    @Entity\r\n    public class BookEntity {\r\n       @Id\r\n       private long id;\r\n    }\r\n\r\nAdding new Book\r\n\r\n    public void addBook(BookEntity book) {\r\n        AuthorEntity author = authorRepository.findById(authorId);\r\n        author.getBooks().add(book);\r\n        entityManager.merge(author);\r\n    }","title":"How to add child record in a Unidirectional @OneToMany without retrieving previous records","body":"<p>I'm dealing with a unidirectional @OneToMany association that utilizes the &quot;author_book&quot; table as an intermediate table. However, when attempting to add a new Book to an Author in order to generate a new entry in the &quot;author_book&quot; table, I'm having to first retrieve all previous Books. This process becomes time-consuming, especially when an author has a substantial number of books. In my case, I cannot use a bidirectional @OneToMany association. Is there a more efficient way to accomplish this using a unidirectional approach?</p>\n<p>Author Entity:</p>\n<pre><code>@Entity\npublic class AuthorEntity {\n   @Id\n   private long id;\n\n   @OneToMany\n   @JoinTable(name = &quot;author_book&quot;, joinColumns = @JoinColumn(name = &quot;id_author&quot;),\n              inverseJoinColumns = @JoinColumn(name = &quot;id_book&quot;))\n   private Set&lt;BookEntity&gt; books;\n}\n</code></pre>\n<p>And Book Entity:</p>\n<pre><code>@Entity\npublic class BookEntity {\n   @Id\n   private long id;\n}\n</code></pre>\n<p>Adding new Book</p>\n<pre><code>public void addBook(BookEntity book) {\n    AuthorEntity author = authorRepository.findById(authorId);\n    author.getBooks().add(book);\n    entityManager.merge(author);\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1692274851,"post_id":76921199,"comment_id":135602726,"body_markdown":"Related: [JPA EntityManager: Why use persist() over merge()?](https://stackoverflow.com/q/1069992) Though what you should actually take from that is that using `merge()` instead of `persist()` will probably do what you want.","body":"Related: <a href=\"https://stackoverflow.com/q/1069992\">JPA EntityManager: Why use persist() over merge()?</a> Though what you should actually take from that is that using <code>merge()</code> instead of <code>persist()</code> will probably do what you want."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692288922,"post_id":76921199,"comment_id":135606108,"body_markdown":"How are you putting 2 players in it exactly? If they aren&#39;t read from the database, I&#39;d hope you are setting the ID and not just their name - you defined the UUID id as uniquely identifying gamer instances, so that is all that JPA will use to determine if it is an existing instance or a new one. If you are only using the gamer name, you&#39;ll have to search the DB to get the existing instance (if it exists) and use that in your game instance.","body":"How are you putting 2 players in it exactly? If they aren&#39;t read from the database, I&#39;d hope you are setting the ID and not just their name - you defined the UUID id as uniquely identifying gamer instances, so that is all that JPA will use to determine if it is an existing instance or a new one. If you are only using the gamer name, you&#39;ll have to search the DB to get the existing instance (if it exists) and use that in your game instance."},{"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"score":0,"creation_date":1692473172,"post_id":76921199,"comment_id":135629089,"body_markdown":"I updated my post, u can see that","body":"I updated my post, u can see that"}],"owner":{"account_id":26572284,"reputation":1,"user_id":20198322,"display_name":"dKopyshov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692473067,"creation_date":1692272683,"question_id":76921199,"body_markdown":"I use Jakarta EE, Hibernate 6.\r\n\r\nThere are two models:\r\n1. Gamer\r\n```\r\n@Entity\r\n@Table(name = &quot;GAMER&quot;)\r\npublic class Gamer {\r\n    @Id\r\n    @Column(name =&quot;GAMER_ID&quot;, columnDefiniton = &quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\n    @Column(name = &quot;NAME&quot;, nullable = false, unique = true)\r\n    private String name;\r\n\r\n    public Gamer() {}\r\n\r\n    public void generateID() {\r\n        id = UUID.randomUUID();\r\n    }\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\n2. Game\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;GAME&quot;)\r\npublic class Game {\r\n    @Id\r\n    @Column(name = &quot;GAME_ID&quot;, columnDefinition = &quot;BINARY(16)&quot;)\r\n    private UUID id;\r\n\r\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    private Gamer gamerOne;\r\n\r\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\r\n    private Gamer gamerTwo;\r\n\r\n    @OneToOne\r\n    private Gamer winner;\r\n\r\n    public Game() {}\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\nI create a game, I put 2 players in it, the game is not stored immediately in the database (H2Database). Only at the end of the game you need to save the game to the database. If the players in the game fields store those that are not in the database, then the saving is successful. If I try to save a game with players that are already exist in the database (by the name of the player - each is unique), then an exception is thrown (a unique value). Is it possible to use cascading tables to save players in the database if they are not in the database and return a player with his id from the database if he exists? Is this possible without using Spring?\r\n\r\nI put players like this:\r\n\r\n   \r\n    Gamer one = new Gamer();\r\n    one.generateId();\r\n    one.setName(&quot;Jon&quot;);\r\n\r\n    Gamer two = new Gamer();\r\n    two.generateId();\r\n    two.setName(&quot;Bob&quot;);\r\n\r\n    Game game = new Game();\r\n    game.setGamerOne(one);\r\n    game.setGamerTwo(two);\r\n    game.setWinner(one);\r\n\r\n    session.persist(game);\r\n    //or\r\n    session.merge(game);\r\n    //or\r\n    session.save(game);\r\n    //or\r\n    session.saveOrUpdate(game);\r\n```","title":"JPA, Hibernate, CascadeTables - saving an entity to a database table","body":"<p>I use Jakarta EE, Hibernate 6.</p>\n<p>There are two models:</p>\n<ol>\n<li>Gamer</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;GAMER&quot;)\npublic class Gamer {\n    @Id\n    @Column(name =&quot;GAMER_ID&quot;, columnDefiniton = &quot;BINARY(16)&quot;)\n    private UUID id;\n\n    @Column(name = &quot;NAME&quot;, nullable = false, unique = true)\n    private String name;\n\n    public Gamer() {}\n\n    public void generateID() {\n        id = UUID.randomUUID();\n    }\n\n    //getters and setters\n}\n</code></pre>\n<ol start=\"2\">\n<li>Game</li>\n</ol>\n<pre><code>@Entity\n@Table(name = &quot;GAME&quot;)\npublic class Game {\n    @Id\n    @Column(name = &quot;GAME_ID&quot;, columnDefinition = &quot;BINARY(16)&quot;)\n    private UUID id;\n\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Gamer gamerOne;\n\n    @OneToOne(cascade = {CascadeType.PERSIST, CascadeType.MERGE})\n    private Gamer gamerTwo;\n\n    @OneToOne\n    private Gamer winner;\n\n    public Game() {}\n\n    //getters and setters\n}\n</code></pre>\n<p>I create a game, I put 2 players in it, the game is not stored immediately in the database (H2Database). Only at the end of the game you need to save the game to the database. If the players in the game fields store those that are not in the database, then the saving is successful. If I try to save a game with players that are already exist in the database (by the name of the player - each is unique), then an exception is thrown (a unique value). Is it possible to use cascading tables to save players in the database if they are not in the database and return a player with his id from the database if he exists? Is this possible without using Spring?</p>\n<p>I put players like this:</p>\n<pre><code>Gamer one = new Gamer();\none.generateId();\none.setName(&quot;Jon&quot;);\n\nGamer two = new Gamer();\ntwo.generateId();\ntwo.setName(&quot;Bob&quot;);\n\nGame game = new Game();\ngame.setGamerOne(one);\ngame.setGamerTwo(two);\ngame.setWinner(one);\n\nsession.persist(game);\n//or\nsession.merge(game);\n//or\nsession.save(game);\n//or\nsession.saveOrUpdate(game);\n</code></pre>\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"owner":{"account_id":325224,"reputation":34820,"user_id":646276,"accept_rate":61,"display_name":"Lolly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692472919,"creation_date":1692472919,"question_id":76936708,"body_markdown":"I am using spring boot JPA specification for applying different filters. I have a table structure like below,\r\n\r\n    Parent Table:\r\n\r\n    | parent_id | parent_name |\r\n    | --------- | ----------- |\r\n    | 11        | parent      |\r\n\r\n    Child1 Table:\r\n\r\n    | child1_id | child1_name | child1_parent_id | child1_another_parent_id |\r\n    | --------  | ----------  | ---------------- | ------------------------ |\r\n    | 22        | child1_1    | 11               | 777                      |\r\n    | 33        | child1_2    | 11               | 888                      |   \r\n    \r\n    Child2 Table:\r\n\r\n    | child2_id | child2_name | child2_parent_id | child2_another_parent_id |\r\n    | --------  | ----------  | ---------------  | ------------------------ |\r\n    | 44        | child2_1    | 11               | 777                      |\r\n    | 55        | child2_2    | 11               | 888                      | \r\n\r\n\r\nNow, if I pass the filter criteria as parent_id = 11 and another_parent_id=777, I should get 2 records. I have formed query like below.\r\n\r\nQuery -\r\n\r\n    select * from parent \r\n    left outer join child1 on child1_parent_id = parent_id \r\n    left outer join child2 on child2_parent_id = parent_id \r\n    where parent_id=11 and\r\n    (child1_another_col_id=777) or (child2_another_col_id=77)\r\n\r\nResult -\r\n\r\n     | parent_id | parent_name | child1_id | child1_name | child1_parent_id | child1_another_parent_id | child2_id | child2_name | child2_parent_id | child2_another_col_id |\r\n        11       | parent      | 22        | child1_1    | 11               | 777                 | NULL                   | NULL        | NULL      | NULL\r\n\r\n        11       | parent      | NULL      | NULL        | NULL             | NULL                | 44        | child2_1    | 11        | 777\r\n\r\nNow if I convert the same to specification,\r\n\r\n  \r\n\r\n    Parent Repository-\r\n              final var predicates = new ArrayList&lt;&gt;();\r\n              Join&lt;Parent, Child1&gt; joinChild1 = root.join(&quot;child1List&quot;, JoinType.LEFT);\r\n              Join&lt;Child1, AnotherParent&gt; joinAnotherParent1 = joinChild1 .join(&quot;anotherParent&quot;, JoinType.LEFT);\r\n        \r\n              Join&lt;Parent, Child2&gt; joinChild2 = root.join(&quot;child2List&quot;, JoinType.LEFT);\r\n              Join&lt;Child1, AnotherParent&gt; joinAnotherParent2 = joinChild2 .join(&quot;anotherParent&quot;, JoinType.LEFT);\r\n    \r\n              predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent1 .get(&quot;id&quot;), 777));   \r\n              predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent2 .get(&quot;id&quot;), 777));\r\n     \r\n              criteriaBuilder.or(predicates.toArray(Predicate[]::new));\r\n              criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;parentId&quot;, 11)));\r\n\r\nWith above code I get right query getting formed and also I get the Parent record which is of Id 11. But when I traverse to child1 (parent.getChild1()) and child2 (parent.getChild2()), I get both the records of child1 and child2 each. Where I am expecting only 1 record each child based on another_col_id=777.\r\n\r\nShould I need to create separate repositories for child1 and child2 and add the specification individually ? In that case it will hit DB twice with create 2 queries, one for child1 and once for child2. What is the right approach ? Thanks in advance.\r\n","title":"Spring boot jpa specification for one to many relationship","body":"<p>I am using spring boot JPA specification for applying different filters. I have a table structure like below,</p>\n<pre><code>Parent Table:\n\n| parent_id | parent_name |\n| --------- | ----------- |\n| 11        | parent      |\n\nChild1 Table:\n\n| child1_id | child1_name | child1_parent_id | child1_another_parent_id |\n| --------  | ----------  | ---------------- | ------------------------ |\n| 22        | child1_1    | 11               | 777                      |\n| 33        | child1_2    | 11               | 888                      |   \n\nChild2 Table:\n\n| child2_id | child2_name | child2_parent_id | child2_another_parent_id |\n| --------  | ----------  | ---------------  | ------------------------ |\n| 44        | child2_1    | 11               | 777                      |\n| 55        | child2_2    | 11               | 888                      | \n</code></pre>\n<p>Now, if I pass the filter criteria as parent_id = 11 and another_parent_id=777, I should get 2 records. I have formed query like below.</p>\n<p>Query -</p>\n<pre><code>select * from parent \nleft outer join child1 on child1_parent_id = parent_id \nleft outer join child2 on child2_parent_id = parent_id \nwhere parent_id=11 and\n(child1_another_col_id=777) or (child2_another_col_id=77)\n</code></pre>\n<p>Result -</p>\n<pre><code> | parent_id | parent_name | child1_id | child1_name | child1_parent_id | child1_another_parent_id | child2_id | child2_name | child2_parent_id | child2_another_col_id |\n    11       | parent      | 22        | child1_1    | 11               | 777                 | NULL                   | NULL        | NULL      | NULL\n\n    11       | parent      | NULL      | NULL        | NULL             | NULL                | 44        | child2_1    | 11        | 777\n</code></pre>\n<p>Now if I convert the same to specification,</p>\n<pre><code>Parent Repository-\n          final var predicates = new ArrayList&lt;&gt;();\n          Join&lt;Parent, Child1&gt; joinChild1 = root.join(&quot;child1List&quot;, JoinType.LEFT);\n          Join&lt;Child1, AnotherParent&gt; joinAnotherParent1 = joinChild1 .join(&quot;anotherParent&quot;, JoinType.LEFT);\n    \n          Join&lt;Parent, Child2&gt; joinChild2 = root.join(&quot;child2List&quot;, JoinType.LEFT);\n          Join&lt;Child1, AnotherParent&gt; joinAnotherParent2 = joinChild2 .join(&quot;anotherParent&quot;, JoinType.LEFT);\n\n          predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent1 .get(&quot;id&quot;), 777));   \n          predicates.add(criteriaBuilder.and(criteriaBuilder.equal(joinAnotherParent2 .get(&quot;id&quot;), 777));\n \n          criteriaBuilder.or(predicates.toArray(Predicate[]::new));\n          criteriaBuilder.and(criteriaBuilder.equal(root.get(&quot;parentId&quot;, 11)));\n</code></pre>\n<p>With above code I get right query getting formed and also I get the Parent record which is of Id 11. But when I traverse to child1 (parent.getChild1()) and child2 (parent.getChild2()), I get both the records of child1 and child2 each. Where I am expecting only 1 record each child based on another_col_id=777.</p>\n<p>Should I need to create separate repositories for child1 and child2 and add the specification individually ? In that case it will hit DB twice with create 2 queries, one for child1 and once for child2. What is the right approach ? Thanks in advance.</p>\n"},{"tags":["java","character-encoding","converters"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675155608,"post_id":229015,"comment_id":132862525,"body_markdown":"Related: [*Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java*](https://stackoverflow.com/q/75293780/642706)","body":"Related: <a href=\"https://stackoverflow.com/q/75293780/642706\"><i>Save cyrillic while change String encoding from UTF-8 to windows-1251 in Java</i></a>"}],"answers":[{"comments":[{"owner":{"account_id":22411,"reputation":4416,"user_id":55208,"accept_rate":86,"display_name":"Christian Klauser"},"score":5,"creation_date":1280845192,"post_id":229022,"comment_id":3533353,"body_markdown":"Unicode is not an encoding! UTF-8, UTF-16 etc. are. See \nhttp://www.joelonsoftware.com/articles/Unicode.html","body":"Unicode is not an encoding! UTF-8, UTF-16 etc. are. See  <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">joelonsoftware.com/articles/Unicode.html</a>"},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1280856906,"post_id":229022,"comment_id":3535560,"body_markdown":"@SealedSun: very true. I have fixed that &quot;java native encoding&quot; section in my answer.","body":"@SealedSun: very true. I have fixed that &quot;java native encoding&quot; section in my answer."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1692472199,"creation_date":1224752241,"answer_id":229022,"question_id":229015,"body_markdown":"[`CharsetDecoder`][1] should be what you are looking for, no ?\r\n\r\nMany network protocols and files store their characters with a byte-oriented character set such as `ISO-8859-1` (`ISO-Latin-1`).  \r\nHowever, Java&#39;s native character encoding is [&lt;del&gt;Unicode&lt;/del&gt;][2] UTF16BE (Sixteen-bit UCS Transformation Format, big-endian byte order).\r\n\r\nSee [`Charset`][3]. That doesn&#39;t mean `UTF16` is the default charset (i.e.: the default &quot;mapping between sequences of sixteen-bit **[Unicode code units][4]** and sequences of bytes&quot;):\r\n\r\n&gt; Every instance of the Java virtual machine has a default charset, which may or may not be one of the standard charsets.  \r\n\\[`US-ASCII`, `ISO-8859-1` a.k.a. `ISO-LATIN-1`, `UTF-8`, `UTF-16BE`, `UTF-16LE`, `UTF-16`\\]  \r\nThe default charset is determined during virtual-machine startup and typically depends upon the locale and charset being used by the underlying operating system.\r\n\r\nThis example demonstrates how to convert `ISO-8859-1` encoded bytes in a `ByteBuffer` to a string in a `CharBuffer` and visa versa.\r\n\r\n    // Create the encoder and decoder for ISO-8859-1\r\n    Charset charset = Charset.forName(&quot;ISO-8859-1&quot;);\r\n    CharsetDecoder decoder = charset.newDecoder();\r\n    CharsetEncoder encoder = charset.newEncoder();\r\n    \r\n    try {\r\n        // Convert a string to ISO-LATIN-1 bytes in a ByteBuffer\r\n        // The new ByteBuffer is ready to be read.\r\n        ByteBuffer bbuf = encoder.encode(CharBuffer.wrap(&quot;a string&quot;));\r\n    \r\n        // Convert ISO-LATIN-1 bytes in a ByteBuffer to a character ByteBuffer and then to a string.\r\n        // The new ByteBuffer is ready to be read.\r\n        CharBuffer cbuf = decoder.decode(bbuf);\r\n        String s = cbuf.toString();\r\n    } catch (CharacterCodingException e) {\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/CharsetDecoder.html\r\n  [2]: http://www.joelonsoftware.com/articles/Unicode.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\r\n  [4]: http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode","title":"Encoding conversion in java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/CharsetDecoder.html\" rel=\"nofollow noreferrer\"><code>CharsetDecoder</code></a> should be what you are looking for, no ?</p>\n<p>Many network protocols and files store their characters with a byte-oriented character set such as <code>ISO-8859-1</code> (<code>ISO-Latin-1</code>).<br />\nHowever, Java's native character encoding is <a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\"><del>Unicode</del></a> UTF16BE (Sixteen-bit UCS Transformation Format, big-endian byte order).</p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\"><code>Charset</code></a>. That doesn't mean <code>UTF16</code> is the default charset (i.e.: the default &quot;mapping between sequences of sixteen-bit <strong><a href=\"http://download-llnw.oracle.com/javase/6/docs/api/java/lang/Character.html#unicode\" rel=\"nofollow noreferrer\">Unicode code units</a></strong> and sequences of bytes&quot;):</p>\n<blockquote>\n<p>Every instance of the Java virtual machine has a default charset, which may or may not be one of the standard charsets.<br />\n[<code>US-ASCII</code>, <code>ISO-8859-1</code> a.k.a. <code>ISO-LATIN-1</code>, <code>UTF-8</code>, <code>UTF-16BE</code>, <code>UTF-16LE</code>, <code>UTF-16</code>]<br />\nThe default charset is determined during virtual-machine startup and typically depends upon the locale and charset being used by the underlying operating system.</p>\n</blockquote>\n<p>This example demonstrates how to convert <code>ISO-8859-1</code> encoded bytes in a <code>ByteBuffer</code> to a string in a <code>CharBuffer</code> and visa versa.</p>\n<pre><code>// Create the encoder and decoder for ISO-8859-1\nCharset charset = Charset.forName(&quot;ISO-8859-1&quot;);\nCharsetDecoder decoder = charset.newDecoder();\nCharsetEncoder encoder = charset.newEncoder();\n\ntry {\n    // Convert a string to ISO-LATIN-1 bytes in a ByteBuffer\n    // The new ByteBuffer is ready to be read.\n    ByteBuffer bbuf = encoder.encode(CharBuffer.wrap(&quot;a string&quot;));\n\n    // Convert ISO-LATIN-1 bytes in a ByteBuffer to a character ByteBuffer and then to a string.\n    // The new ByteBuffer is ready to be read.\n    CharBuffer cbuf = decoder.decode(bbuf);\n    String s = cbuf.toString();\n} catch (CharacterCodingException e) {\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9122,"reputation":9322,"user_id":16724,"display_name":"Alexander"},"score":3,"creation_date":1224752789,"post_id":229023,"comment_id":95444,"body_markdown":"I prefer new String(byte[], encoding) and String.getBytes(encoding) in most cases, because they are simple one-liners as opposed to the more powerful but more complicated API of Charset (which, BTW, is only available in Java 1.4+).","body":"I prefer new String(byte[], encoding) and String.getBytes(encoding) in most cases, because they are simple one-liners as opposed to the more powerful but more complicated API of Charset (which, BTW, is only available in Java 1.4+)."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1224752933,"post_id":229023,"comment_id":95448,"body_markdown":"Yes, it&#39;s a shame that the Charset API is so complicated. The .NET System.Encoding class does this really well, IMO - and keeps the functionality out of String.","body":"Yes, it&#39;s a shame that the Charset API is so complicated. The .NET System.Encoding class does this really well, IMO - and keeps the functionality out of String."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1224758088,"post_id":229023,"comment_id":95523,"body_markdown":"Links fixed. See http://www.free-scripts.net/html_tutorial/html/topics/urlencoding.htm","body":"Links fixed. See <a href=\"http://www.free-scripts.net/html_tutorial/html/topics/urlencoding.htm\" rel=\"nofollow noreferrer\">free-scripts.net/html_tutorial/html/topics/urlencoding.htm</a>"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":3,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1548853091,"creation_date":1224752261,"answer_id":229023,"question_id":229015,"body_markdown":"You don&#39;t need a library beyond the standard one - just use [Charset][1]. (You can just use the String constructors and getBytes methods, but personally I don&#39;t like just working with the names of character encodings. Too much room for typos.)\r\n\r\nEDIT: As pointed out in comments, you can still use Charset instances but have the ease of use of the String methods: [new String(bytes, charset)][2] and [String.getBytes(charset)][3].\r\n\r\nSee &quot;[URL Encoding (or: &#39;What are those &quot;`%20`&quot; codes in URLs?&#39;)][4]&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\r\n  [2]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5B%5D%2C%20java.nio.charset.Charset%29\r\n  [3]: https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28java.nio.charset.Charset%29\r\n  [4]: http://www.blooberry.com/indexdot/html/topics/urlencoding.htm","title":"Encoding conversion in java","body":"<p>You don't need a library beyond the standard one - just use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/nio/charset/Charset.html\" rel=\"noreferrer\">Charset</a>. (You can just use the String constructors and getBytes methods, but personally I don't like just working with the names of character encodings. Too much room for typos.)</p>\n\n<p>EDIT: As pointed out in comments, you can still use Charset instances but have the ease of use of the String methods: <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#String%28byte%5B%5D%2C%20java.nio.charset.Charset%29\" rel=\"noreferrer\">new String(bytes, charset)</a> and <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/String.html#getBytes%28java.nio.charset.Charset%29\" rel=\"noreferrer\">String.getBytes(charset)</a>.</p>\n\n<p>See \"<a href=\"http://www.blooberry.com/indexdot/html/topics/urlencoding.htm\" rel=\"noreferrer\">URL Encoding (or: 'What are those \"<code>%20</code>\" codes in URLs?')</a>\".</p>\n"},{"tags":[],"owner":{"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1251567275,"creation_date":1251567275,"answer_id":1351953,"question_id":229015,"body_markdown":"It is a whole lot easier if you think of unicode as a character set (which it actually is - it is very basically the numbered set of all known characters). You can encode it as UTF-8 (1-3 bytes per character depending) or maybe UTF-16 (2 bytes per character or 4 bytes using surrogate pairs).\r\n\r\nBack in the mist of time Java used to use UCS-2 to encode the unicode character set. This could only handle 2 bytes per character and is now obsolete. It was a fairly obvious hack to add surrogate pairs and move up to UTF-16.\r\n\r\nA lot of people think they should have used UTF-8 in the first place. When Java was originally written unicode had far more than 65535 characters anyway...","title":"Encoding conversion in java","body":"<p>It is a whole lot easier if you think of unicode as a character set (which it actually is - it is very basically the numbered set of all known characters). You can encode it as UTF-8 (1-3 bytes per character depending) or maybe UTF-16 (2 bytes per character or 4 bytes using surrogate pairs).</p>\n\n<p>Back in the mist of time Java used to use UCS-2 to encode the unicode character set. This could only handle 2 bytes per character and is now obsolete. It was a fairly obvious hack to add surrogate pairs and move up to UTF-16.</p>\n\n<p>A lot of people think they should have used UTF-8 in the first place. When Java was originally written unicode had far more than 65535 characters anyway...</p>\n"},{"tags":[],"owner":{"account_id":5985007,"reputation":37,"user_id":4702806,"display_name":"wallabui"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441189907,"creation_date":1441189907,"answer_id":32350781,"question_id":229015,"body_markdown":"I would just like to add that if the String is originally encoded using the wrong encoding it might be impossible to change it to another encoding without errors.\r\nThe question does not state that the conversion here is made from wrong encoding to correct encoding but I personally stumbled to this question just because of this situation so just a heads up for others as well.\r\n\r\nThis answer in other question gives an explanation why the conversion does not always yield correct results\r\nhttps://stackoverflow.com/a/2623793/4702806","title":"Encoding conversion in java","body":"<p>I would just like to add that if the String is originally encoded using the wrong encoding it might be impossible to change it to another encoding without errors.\nThe question does not state that the conversion here is made from wrong encoding to correct encoding but I personally stumbled to this question just because of this situation so just a heads up for others as well.</p>\n\n<p>This answer in other question gives an explanation why the conversion does not always yield correct results\n<a href=\"https://stackoverflow.com/a/2623793/4702806\">https://stackoverflow.com/a/2623793/4702806</a></p>\n"}],"owner":{"account_id":8731,"reputation":1639,"user_id":15878,"accept_rate":62,"display_name":"tropikalista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121601,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":229023,"answer_count":4,"score":33,"last_activity_date":1692472199,"creation_date":1224752095,"question_id":229015,"body_markdown":"Is there any free java library which I can use to convert string in one encoding to other encoding, something like [`iconv`](https://en.wikipedia.org/wiki/Iconv)? I&#39;m using Java version 1.3.","title":"Encoding conversion in java","body":"<p>Is there any free java library which I can use to convert string in one encoding to other encoding, something like <a href=\"https://en.wikipedia.org/wiki/Iconv\" rel=\"nofollow noreferrer\"><code>iconv</code></a>? I'm using Java version 1.3.</p>\n"},{"tags":["java","swing","jframe","jpanel","jscrollpane"],"answers":[{"comments":[{"owner":{"account_id":17355888,"reputation":5,"user_id":12573285,"display_name":"Dory"},"score":0,"creation_date":1577173885,"post_id":59465468,"comment_id":105110986,"body_markdown":"That&#39;s epic! Thank you for the best answer I could have ever asked for!","body":"That&#39;s epic! Thank you for the best answer I could have ever asked for!"},{"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"score":0,"creation_date":1577201487,"post_id":59465468,"comment_id":105120289,"body_markdown":"@Dory Take a look at [what should I do when someone answers my question](https://stackoverflow.com/help/someone-answers).","body":"@Dory Take a look at <a href=\"https://stackoverflow.com/help/someone-answers\">what should I do when someone answers my question</a>."}],"tags":[],"owner":{"account_id":2035724,"reputation":1280,"user_id":1818122,"accept_rate":27,"display_name":"The_Cute_Hedgehog"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1577173212,"creation_date":1577173212,"answer_id":59465468,"question_id":59465168,"body_markdown":"If you read the official tutorial about the scroll panes on https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html, they note about the policies:\r\n\r\n&gt; VERTICAL_SCROLLBAR_ALWAYS \r\n&gt;\r\n&gt; HORIZONTAL_SCROLLBAR_ALWAYS\t\r\n&gt; \r\n&gt; Always display the scroll bar. The knob disappears if the viewport is\r\n&gt; large enough to show the whole client.\r\n","title":"JScrollPane not working with JPanel and JFrame","body":"<p>If you read the official tutorial about the scroll panes on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html</a>, they note about the policies:</p>\n\n<blockquote>\n  <p>VERTICAL_SCROLLBAR_ALWAYS </p>\n  \n  <p>HORIZONTAL_SCROLLBAR_ALWAYS   </p>\n  \n  <p>Always display the scroll bar. The knob disappears if the viewport is\n  large enough to show the whole client.</p>\n</blockquote>\n"}],"owner":{"account_id":17355888,"reputation":5,"user_id":12573285,"display_name":"Dory"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59465468,"answer_count":1,"score":0,"last_activity_date":1692471808,"creation_date":1577171636,"question_id":59465168,"body_markdown":"For my code, I did something like:\r\n```   \r\nJframe frame = new JFrame();\r\nJPanel panel = new JPanel();\r\n\r\nJButton button = new JButton();\r\n// after locating and resizing buttons...\r\npanel.add(button);\r\n\r\n// and after many codes about buttons and labels...\r\n\r\nframe.add(panel);\r\n\r\nJScrollPane scroll = new JScrollPane(panel);\r\nscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\r\nframe.add(scroll);\r\n```\r\nAs far as I know, this should be correct, but I can&#39;t scroll. **The gray bar inside the scroll bar is missing.**\r\n\r\n\r\nHere is image for better idea of what&#39;s happening to my code.\r\n\r\n![][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/db6bB.png","title":"JScrollPane not working with JPanel and JFrame","body":"<p>For my code, I did something like:</p>\n<pre><code>Jframe frame = new JFrame();\nJPanel panel = new JPanel();\n\nJButton button = new JButton();\n// after locating and resizing buttons...\npanel.add(button);\n\n// and after many codes about buttons and labels...\n\nframe.add(panel);\n\nJScrollPane scroll = new JScrollPane(panel);\nscroll.setVerticalScrollBarPolicy(ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS);\nframe.add(scroll);\n</code></pre>\n<p>As far as I know, this should be correct, but I can't scroll. <strong>The gray bar inside the scroll bar is missing.</strong></p>\n<p>Here is image for better idea of what's happening to my code.</p>\n<p><img src=\"https://i.stack.imgur.com/db6bB.png\" alt=\"\" /></p>\n"},{"tags":["java","windows","eclipse","build"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692478327,"post_id":76936648,"comment_id":135629557,"body_markdown":"This is far too broad for a Stack Overflow question. The github projects appear to be a set of Eclipse plug-ins [tag:eclipse-plugin] and the release downloads are Eclipse RCPs [tag:eclipse-rcp]. If you are not familiar with these it will be a lot of work to get this going.","body":"This is far too broad for a Stack Overflow question. The github projects appear to be a set of Eclipse plug-ins <a href=\"https://stackoverflow.com/questions/tagged/eclipse-plugin\">eclipse-plugin</a> and the release downloads are Eclipse RCPs <a href=\"https://stackoverflow.com/questions/tagged/eclipse-rcp\">eclipse-rcp</a>. If you are not familiar with these it will be a lot of work to get this going."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692478630,"post_id":76936648,"comment_id":135629585,"body_markdown":"@greg-449\nI already feared that, a real shame, the lack of support from the author of the code. Thanks for your time.","body":"@greg-449 I already feared that, a real shame, the lack of support from the author of the code. Thanks for your time."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1692515659,"post_id":76936648,"comment_id":135631985,"body_markdown":"Note that the &quot;Releases&quot; section of the site does contain complete executables which will probably run without needing to build the project.","body":"Note that the &quot;Releases&quot; section of the site does contain complete executables which will probably run without needing to build the project."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692549742,"post_id":76936648,"comment_id":135635573,"body_markdown":"@greg-449 The problem is that the author seems to have abandoned the project. He changed the domain for his websites but he didn&#39;t change the websites within the program code. First the program was a demo that could have been unlocked with a serial that I have. After some time the author made the program freeware so that any serial could have been entered to unlock. Now that the domain has changed the program can&#39;t be unlocked at all, saying that there is no connection.\n\nSo my plan was to rewrite the code. But since I can&#39;t even build it, I won&#39;t put much more time into that...","body":"@greg-449 The problem is that the author seems to have abandoned the project. He changed the domain for his websites but he didn&#39;t change the websites within the program code. First the program was a demo that could have been unlocked with a serial that I have. After some time the author made the program freeware so that any serial could have been entered to unlock. Now that the domain has changed the program can&#39;t be unlocked at all, saying that there is no connection.  So my plan was to rewrite the code. But since I can&#39;t even build it, I won&#39;t put much more time into that..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1692567646,"post_id":76936648,"comment_id":135637374,"body_markdown":"The project does not contain a build script; [`com.plucknplay.csg.build`](https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.build) looks like some post-processing. A Maven/Tycho build is missing (see [example](https://github.com/vogellacompany/tycho-example) and [tutorial](https://www.vogella.com/tutorials/EclipseTycho/article.html)). In Eclipse you should be able to open the [product file](https://github.com/plucknplay/chordscalegenerator/blob/main/com.plucknplay.csg.ui/csg.product) and use the _Eclipse Product export wizard_ to build it. Same for `site.xml`.","body":"The project does not contain a build script; <a href=\"https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.build\" rel=\"nofollow noreferrer\"><code>com.plucknplay.csg.build</code></a> looks like some post-processing. A Maven/Tycho build is missing (see <a href=\"https://github.com/vogellacompany/tycho-example\" rel=\"nofollow noreferrer\">example</a> and <a href=\"https://www.vogella.com/tutorials/EclipseTycho/article.html\" rel=\"nofollow noreferrer\">tutorial</a>). In Eclipse you should be able to open the <a href=\"https://github.com/plucknplay/chordscalegenerator/blob/main/com.plucknplay.csg.ui/csg.product\" rel=\"nofollow noreferrer\">product file</a> and use the <i>Eclipse Product export wizard</i> to build it. Same for <code>site.xml</code>."},{"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"score":0,"creation_date":1692809918,"post_id":76936648,"comment_id":135675914,"body_markdown":"@howlger That sounds promising. Thank you very much.\n\nWhat is your general assessment, if I may ask, Is there a serious chance to remove the &quot;nag screen&quot; so that the product starts in full mode or is this rather incomplete and useless part of a product?\n\nI love the core of the app, and would even like to add features and even create a fork for everybody. It has the potential to become one of the most useful tools for musicians. And I&#39;d give my time to learn it.\n\nThe only question left for me is, is it worth or a waste of time?\n\nThanks in advance!","body":"@howlger That sounds promising. Thank you very much.  What is your general assessment, if I may ask, Is there a serious chance to remove the &quot;nag screen&quot; so that the product starts in full mode or is this rather incomplete and useless part of a product?  I love the core of the app, and would even like to add features and even create a fork for everybody. It has the potential to become one of the most useful tools for musicians. And I&#39;d give my time to learn it.  The only question left for me is, is it worth or a waste of time?  Thanks in advance!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1692825598,"post_id":76936648,"comment_id":135678536,"body_markdown":"The code looks well structured, at least at first glance. It might take some time, but it sounds like a great idea to me. I guess the &quot;nag screen&quot; is in [`com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation/`](https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation). If you have questions, use the tags `eclipse-plugin` or `eclipse-rcp` and for building `tycho`. Good luck and happy coding!","body":"The code looks well structured, at least at first glance. It might take some time, but it sounds like a great idea to me. I guess the &quot;nag screen&quot; is in <a href=\"https://github.com/plucknplay/chordscalegenerator/tree/main/com.plucknplay.csg.ui/src/com/plucknplay/csg/ui/activation\" rel=\"nofollow noreferrer\"><code>com.plucknplay.csg.ui&#47;src&#47;com&#47;plucknplay&#47;csg&#47;ui&#47;activation&#47;</code></a>. If you have questions, use the tags <code>eclipse-plugin</code> or <code>eclipse-rcp</code> and for building <code>tycho</code>. Good luck and happy coding!"}],"owner":{"account_id":7991544,"reputation":123,"user_id":8096926,"display_name":"Koenich"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692471635,"creation_date":1692471635,"question_id":76936648,"body_markdown":"I was trying to build the following GitHub repository on Windows 10 x64:\r\n&lt;https://github.com/plucknplay/chordscalegenerator&gt;\r\n\r\nI have little knowledge in JAVA, but I found out that Eclipse 2023-06 and JDK 20 are needed, which I downloaded. I also added JAVA to system paths and confirmed it works. In Eclipse I added and activated jdk 20 as Installed JRE.\r\n\r\nNow when I download the ZIP from the repository mentioned above and import it into Eclipse as Existing Projects into Workspace then 12k+ Errors and 60 Warnings appear.\r\n\r\nFrom there I don&#39;t know how to continue or whether the code is buildable at all. ChatGPT 3.5 is no help as it doesn&#39;t know software or websites from after late 2021.\r\n\r\nCan anybody of you point me in a direction that helps me to build the program?","title":"Having trouble to build the GitHub repository &quot;chordscalegenerator&quot; written in Java/HTML","body":"<p>I was trying to build the following GitHub repository on Windows 10 x64:\n<a href=\"https://github.com/plucknplay/chordscalegenerator\" rel=\"nofollow noreferrer\">https://github.com/plucknplay/chordscalegenerator</a></p>\n<p>I have little knowledge in JAVA, but I found out that Eclipse 2023-06 and JDK 20 are needed, which I downloaded. I also added JAVA to system paths and confirmed it works. In Eclipse I added and activated jdk 20 as Installed JRE.</p>\n<p>Now when I download the ZIP from the repository mentioned above and import it into Eclipse as Existing Projects into Workspace then 12k+ Errors and 60 Warnings appear.</p>\n<p>From there I don't know how to continue or whether the code is buildable at all. ChatGPT 3.5 is no help as it doesn't know software or websites from after late 2021.</p>\n<p>Can anybody of you point me in a direction that helps me to build the program?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1692471473,"post_id":76936629,"comment_id":135628908,"body_markdown":"BigDecimal is *immutable* type. When you do `total.add(product.getPrice())` it doesn&#39;t *modify* object held by `total`, but produces new BigDecimal object which you discard.","body":"BigDecimal is <i>immutable</i> type. When you do <code>total.add(product.getPrice())</code> it doesn&#39;t <i>modify</i> object held by <code>total</code>, but produces new BigDecimal object which you discard."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":1,"creation_date":1692471505,"post_id":76936629,"comment_id":135628912,"body_markdown":"I&#39;m pretty sure that `BigDecimal.add` returns a new BigDecimal and doesn&#39;t mutate the original variable. Try using `reduce` in place of `forEach`","body":"I&#39;m pretty sure that <code>BigDecimal.add</code> returns a new BigDecimal and doesn&#39;t mutate the original variable. Try using <code>reduce</code> in place of <code>forEach</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1692471553,"post_id":76936629,"comment_id":135628918,"body_markdown":"Related: [Adding up BigDecimals using Streams](https://stackoverflow.com/q/22635945)","body":"Related: <a href=\"https://stackoverflow.com/q/22635945\">Adding up BigDecimals using Streams</a>"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1692471616,"post_id":76936629,"comment_id":135628923,"body_markdown":"thanks that&#39;s answering my question","body":"thanks that&#39;s answering my question"}],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1692471679,"answer_count":0,"score":0,"last_activity_date":1692471353,"creation_date":1692471353,"question_id":76936629,"body_markdown":"I have a methode that use an effectively final variable total intialised with 0, i&#39;m suposed to have the sum of products price but i&#39;m always getting 0, can someone tell me what i&#39;m missing \r\n\r\n        public BigDecimal getTotalAmount() {\r\n            BigDecimal total = BigDecimal.ZERO;\r\n            products.forEach(product -&gt; total.add(product.getPrice()));\r\n            return total;\r\n        }\r\n","title":"Effectively Final Variable not working in Java","body":"<p>I have a methode that use an effectively final variable total intialised with 0, i'm suposed to have the sum of products price but i'm always getting 0, can someone tell me what i'm missing</p>\n<pre><code>    public BigDecimal getTotalAmount() {\n        BigDecimal total = BigDecimal.ZERO;\n        products.forEach(product -&gt; total.add(product.getPrice()));\n        return total;\n    }\n</code></pre>\n"},{"tags":["java","recursion","challenge-response","quantitative"],"answers":[{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1692627074,"post_id":76936610,"comment_id":135645531,"body_markdown":"Pardon me, but I don&#39;t see a `getAge` method in the code of the posted question. I don&#39;t even see anything that would imply the existence of such a method. Perhaps you misunderstood the question?","body":"Pardon me, but I don&#39;t see a <code>getAge</code> method in the code of the posted question. I don&#39;t even see anything that would imply the existence of such a method. Perhaps you misunderstood the question?"},{"owner":{"account_id":29203673,"reputation":1,"user_id":22373223,"display_name":"Girish Chandra Mishra"},"score":0,"creation_date":1694795177,"post_id":76936610,"comment_id":135942737,"body_markdown":"Hi Abra, I understood the question but I had added that code as an example to filter like that you can use any method or variable to filter your result instead of age.\nHope, I am clear now.","body":"Hi Abra, I understood the question but I had added that code as an example to filter like that you can use any method or variable to filter your result instead of age. Hope, I am clear now."}],"tags":[],"owner":{"account_id":29203673,"reputation":1,"user_id":22373223,"display_name":"Girish Chandra Mishra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692471154,"creation_date":1692471005,"answer_id":76936610,"question_id":76935840,"body_markdown":" [enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CkIBR.png\r\n\r\nPlease change condition c.getAge() &lt; 50 according to requirement.\r\n\r\n    public static MenuItemObj removeChildMenu(MenuItemObj menuItem) {\r\n        if (menuItem == null || (menuItem != null &amp;&amp; menuItem.getChildren() == null)) {\r\n            return menuItem;\r\n        }\r\n        menuItem.setChildren(Arrays.stream(menuItem.getChildren()).filter(c -&gt; c.getAge() &lt;= 50)\r\n                .toArray(MenuItemObj[]::new));\r\n\r\n        return menuItem;\r\n    }\r\n\r\n","title":"Java: Remove child object from menu tree","body":"<p><a href=\"https://i.stack.imgur.com/CkIBR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Please change condition c.getAge() &lt; 50 according to requirement.</p>\n<pre><code>public static MenuItemObj removeChildMenu(MenuItemObj menuItem) {\n    if (menuItem == null || (menuItem != null &amp;&amp; menuItem.getChildren() == null)) {\n        return menuItem;\n    }\n    menuItem.setChildren(Arrays.stream(menuItem.getChildren()).filter(c -&gt; c.getAge() &lt;= 50)\n            .toArray(MenuItemObj[]::new));\n\n    return menuItem;\n}\n</code></pre>\n"}],"owner":{"account_id":411779,"reputation":39,"user_id":784464,"display_name":"vjkumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692471154,"creation_date":1692458967,"question_id":76935840,"body_markdown":"I have this UI object with below structure, i dont have control on how that list is populated, but i had to remove some child items meeting my condition, can anyone please suggest how i can do it (Language is Java)\r\n\r\nClass definition\r\n\r\n    Class MenuItemObj {\r\n              private string menuID\r\n              private string menuType\r\n              private string menuDescription\r\n              private MenuItemObj[] children\r\n    }\r\n\r\nso my finaly menu item will be in array, menuItemObj[], and each menuItemObj will look like this (not exact code)\r\n\r\n\r\nMenuItemObj\r\n    menuID\r\n    menuDescription\r\n    children --&gt; have to remove child from here based on condition \r\n         MenuItemObj \r\n             children\r\n                MenuItemObj[] --&gt; have to remove child from here based on condition\r\n\r\n         MenuItemObj\r\n\r\n    \r\n\r\ncondition i have is, menuId and type, any idea how can i remove those child objects? \r\n\r\ni tried below logic, but its getting removed from current list, but not in the final list\r\n\r\n\r\n    public static MenuItemObj[] removeChildMenu(MenuItemObj[] menuItemArr) {\r\n         List newMenuItemList = menuItems.toList()\r\n         for( aMenuitem : menuItemArr) {\r\n            if(aMenuItem.Children != null) {\r\n                removeChildMenu(aMenuitem.children)\r\n            } else {\r\n                     newMenuItemList.removeif(conditionToRemove)\r\n       \r\n     }    \r\n     return newMenuItemList.toArray()\r\n    }\r\n\r\n\r\nThere is no error or anything but way I handle the array and list in this recursive calls seems not going as I intended. Any suggestions on this please. \r\n\r\n\r\n\r\n","title":"Java: Remove child object from menu tree","body":"<p>I have this UI object with below structure, i dont have control on how that list is populated, but i had to remove some child items meeting my condition, can anyone please suggest how i can do it (Language is Java)</p>\n<p>Class definition</p>\n<pre><code>Class MenuItemObj {\n          private string menuID\n          private string menuType\n          private string menuDescription\n          private MenuItemObj[] children\n}\n</code></pre>\n<p>so my finaly menu item will be in array, menuItemObj[], and each menuItemObj will look like this (not exact code)</p>\n<p>MenuItemObj\nmenuID\nmenuDescription\nchildren --&gt; have to remove child from here based on condition\nMenuItemObj\nchildren\nMenuItemObj[] --&gt; have to remove child from here based on condition</p>\n<pre><code>     MenuItemObj\n</code></pre>\n<p>condition i have is, menuId and type, any idea how can i remove those child objects?</p>\n<p>i tried below logic, but its getting removed from current list, but not in the final list</p>\n<pre><code>public static MenuItemObj[] removeChildMenu(MenuItemObj[] menuItemArr) {\n     List newMenuItemList = menuItems.toList()\n     for( aMenuitem : menuItemArr) {\n        if(aMenuItem.Children != null) {\n            removeChildMenu(aMenuitem.children)\n        } else {\n                 newMenuItemList.removeif(conditionToRemove)\n   \n }    \n return newMenuItemList.toArray()\n}\n</code></pre>\n<p>There is no error or anything but way I handle the array and list in this recursive calls seems not going as I intended. Any suggestions on this please.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1509979190,"post_id":47139363,"comment_id":81228219,"body_markdown":"There&#39;s a comment in your `User` class that says &quot;default package&quot;, however right under that you have a package declaration...","body":"There&#39;s a comment in your <code>User</code> class that says &quot;default package&quot;, however right under that you have a package declaration..."},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509979755,"post_id":47139363,"comment_id":81228620,"body_markdown":"Thanks I corrected that. Doesn&#39;t solve the error though :P","body":"Thanks I corrected that. Doesn&#39;t solve the error though :P"},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1509979814,"post_id":47139363,"comment_id":81228663,"body_markdown":"Change the entity package to  import org.hibernate.annotations.Entity and try","body":"Change the entity package to  import org.hibernate.annotations.Entity and try"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1509980113,"post_id":47139363,"comment_id":81228879,"body_markdown":"I was hinting at the fact that you&#39;re not using a FQN for your class in your mapping.","body":"I was hinting at the fact that you&#39;re not using a FQN for your class in your mapping."},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509980127,"post_id":47139363,"comment_id":81228894,"body_markdown":"@Codeminer Same error :(","body":"@Codeminer Same error :("},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509980522,"post_id":47139363,"comment_id":81229192,"body_markdown":"@Kayaman Can you please elaborate ?","body":"@Kayaman Can you please elaborate ?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1509980607,"post_id":47139363,"comment_id":81229250,"body_markdown":"If your `User` class is in package `com.journaldev.spring.model`, it&#39;s not just `User`, it&#39;s `com.journaldev.spring.model.User`.","body":"If your <code>User</code> class is in package <code>com.journaldev.spring.model</code>, it&#39;s not just <code>User</code>, it&#39;s <code>com.journaldev.spring.model.User</code>."},{"owner":{"account_id":3869926,"reputation":3576,"user_id":3205437,"accept_rate":100,"display_name":"Vishnu T S"},"score":0,"creation_date":1509980856,"post_id":47139363,"comment_id":81229408,"body_markdown":"You can give the fully qualified name of your class in hbm file","body":"You can give the fully qualified name of your class in hbm file"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1509980998,"post_id":47139363,"comment_id":81229493,"body_markdown":"@Codeminer not **can**, you **must**.","body":"@Codeminer not <b>can</b>, you <b>must</b>."},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509981043,"post_id":47139363,"comment_id":81229525,"body_markdown":"@Kayaman I changed it from  &lt;class catalog=&quot;testdb&quot; entity-name=&quot;User&quot; name=&quot;User&quot; table=&quot;user&quot;&gt; to\n  &lt;class catalog=&quot;testdb&quot; entity-name=&quot;User&quot; name=&quot;com.journaldev.spring.model.User&quot; table=&quot;user&quot;&gt; And still the same error !","body":"@Kayaman I changed it from  &lt;class catalog=&quot;testdb&quot; entity-name=&quot;User&quot; name=&quot;User&quot; table=&quot;user&quot;&gt; to   &lt;class catalog=&quot;testdb&quot; entity-name=&quot;User&quot; name=&quot;com.journaldev.spring.model.User&quot; table=&quot;user&quot;&gt; And still the same error !"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1509981105,"post_id":47139363,"comment_id":81229566,"body_markdown":"and do you have the mapping in the hibernate config file? What kind of tutorial are you following?","body":"and do you have the mapping in the hibernate config file? What kind of tutorial are you following?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1509981151,"post_id":47139363,"comment_id":81229608,"body_markdown":"@Codeminer no need to change (or even use) `entity-name`. Please don&#39;t comment if you have no idea what to do.","body":"@Codeminer no need to change (or even use) <code>entity-name</code>. Please don&#39;t comment if you have no idea what to do."},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509981523,"post_id":47139363,"comment_id":81229917,"body_markdown":"@Kayaman I added &lt;mapping resource=&quot;com.journaldev.spring.model.User.hbm.xml&quot; /&gt; to the hibernate config file and still gives the same error !","body":"@Kayaman I added &lt;mapping resource=&quot;com.journaldev.spring.model.User.hbm.xml&quot; /&gt; to the hibernate config file and still gives the same error !"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1509981624,"post_id":47139363,"comment_id":81229990,"body_markdown":"Well, at least the code is a lot less wrong than what it was in the beginning! Is there a good reason for not using annotations btw?","body":"Well, at least the code is a lot less wrong than what it was in the beginning! Is there a good reason for not using annotations btw?"},{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509982563,"post_id":47139363,"comment_id":81230651,"body_markdown":"Well, I thought I&#39;d generate the entities from database instead of writing them manually since I&#39;m new to hibernate and never used annotation before","body":"Well, I thought I&#39;d generate the entities from database instead of writing them manually since I&#39;m new to hibernate and never used annotation before"}],"answers":[{"comments":[{"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"score":0,"creation_date":1509981919,"post_id":47139715,"comment_id":81230232,"body_markdown":"I added &lt;mapping resource=&quot;com.journaldev.spring.model.User.hbm.xml&quot; /&gt; In Hibernate.cfg.xml and still the same error","body":"I added &lt;mapping resource=&quot;com.journaldev.spring.model.User.hbm.xml&quot; /&gt; In Hibernate.cfg.xml and still the same error"}],"tags":[],"owner":{"account_id":8072907,"reputation":1250,"user_id":6085034,"display_name":"Christian Altamirano Ayala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509980147,"creation_date":1509980147,"answer_id":47139715,"question_id":47139363,"body_markdown":"You must mapped the User.hbm.xml in your Hibernate.cfg.xml.","title":"Hibernate : User is not mapped","body":"<p>You must mapped the User.hbm.xml in your Hibernate.cfg.xml.</p>\n"},{"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1510031431,"post_id":47140500,"comment_id":81250418,"body_markdown":"The table exists. The hbm was generated from the database schema. Using reserved words as table, column etc. names just requires you to escape them, it doesn&#39;t prevent you from using the name &quot;User&quot; completely in your database.","body":"The table exists. The hbm was generated from the database schema. Using reserved words as table, column etc. names just requires you to escape them, it doesn&#39;t prevent you from using the name &quot;User&quot; completely in your database."}],"tags":[],"owner":{"account_id":7371149,"reputation":99,"user_id":5611276,"accept_rate":0,"display_name":"TeeBea"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509982585,"creation_date":1509982585,"answer_id":47140500,"question_id":47139363,"body_markdown":"User is a reserved work in mysql. Rename your table to e.g: &#39;SystemUser&#39; or whatever you like, which is not a reserved keyword in mysql.","title":"Hibernate : User is not mapped","body":"<p>User is a reserved work in mysql. Rename your table to e.g: 'SystemUser' or whatever you like, which is not a reserved keyword in mysql.</p>\n"},{"tags":[],"owner":{"account_id":5436936,"reputation":140,"user_id":4326134,"accept_rate":64,"display_name":"akaAlso"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692470939,"creation_date":1692470939,"answer_id":76936604,"question_id":47139363,"body_markdown":"In your JPQL query you need to use the full path to the user.\r\n\r\nsome thing like this:\r\n\r\n    List&lt;User&gt; usersList = session.createQuery(&quot;from com.journaldev.spring.model.User&quot;).list();\r\n\r\n","title":"Hibernate : User is not mapped","body":"<p>In your JPQL query you need to use the full path to the user.</p>\n<p>some thing like this:</p>\n<pre><code>List&lt;User&gt; usersList = session.createQuery(&quot;from com.journaldev.spring.model.User&quot;).list();\n</code></pre>\n"}],"owner":{"account_id":8077210,"reputation":169,"user_id":6087804,"accept_rate":30,"display_name":"Dawzer"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1692470939,"creation_date":1509979108,"question_id":47139363,"body_markdown":"I have been getting this error after generating the User class from database, everything seems to be in order in the User.hbm.xml yet I can&#39;t find why it&#39;s not mapped!\r\n\r\n\r\n    \r\n   \r\n\r\n     SEVERE: Servlet.service() for servlet [appServlet] in context with path [/CCTVDATASET] threw exception [Request processing failed; nested exception is org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [from User]] with root cause\r\n            org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped\r\n            \tat org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\r\n            \tat org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)\r\n            \tat org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:95)\r\n            \tat org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:331)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3633)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3522)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:706)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:562)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:299)\r\n            \tat org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:247)\r\n            \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:278)\r\n            \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:206)\r\n            \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\r\n            \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\r\n            \tat org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\r\n            \tat org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\r\n            \tat org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\r\n            \tat org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\r\n            \tat org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\r\n            \tat com.journaldev.spring.dao.UserDAOImpl.listUsers(UserDAOImpl.java:42)\r\n            \tat com.journaldev.spring.service.UserServiceImpl.listUsers(UserServiceImpl.java:35)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n            \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\r\n            \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n            \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n            \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n            \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n            \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n            \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n            \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\r\n            \tat com.sun.proxy.$Proxy28.listUsers(Unknown Source)\r\n            \tat com.journaldev.spring.UserController.listUsers(UserController.java:31)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n            \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n            \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n            \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n            \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n            \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n            \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n            \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n            \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n            \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n            \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n            \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n            \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\r\n            \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n            \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n            \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n            \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n            \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n            \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n            \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\r\n            \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\r\n            \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\r\n            \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651)\r\n            \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n            \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\r\n            \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:500)\r\n            \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n            \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\r\n            \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376)\r\n            \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n            \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n            \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            \tat java.lang.Thread.run(Unknown Source)\r\n\r\n**User.java**\r\n\r\n    // default package\r\n    // Generated Nov 6, 2017 9:57:34 AM by Hibernate Tools 5.2.3.Final\r\n    package com.journaldev.spring.model;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Table;\r\n    \r\n    /**\r\n     * User generated by hbm2java\r\n     */\r\n    \r\n    public class User implements java.io.Serializable {\r\n    \r\n    \tprivate Integer iduser;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate Integer ssoId;\r\n    \tprivate Set logs = new HashSet(0);\r\n    \r\n    \tpublic User() {\r\n    \t}\r\n    \r\n    \tpublic User(String username, String password) {\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic User(String username, String password, Integer ssoId, Set logs) {\r\n    \t\tthis.username = username;\r\n    \t\tthis.password = password;\r\n    \t\tthis.ssoId = ssoId;\r\n    \t\tthis.logs = logs;\r\n    \t}\r\n    \r\n    \tpublic Integer getIduser() {\r\n    \t\treturn this.iduser;\r\n    \t}\r\n    \r\n    \tpublic void setIduser(Integer iduser) {\r\n    \t\tthis.iduser = iduser;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn this.username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn this.password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic Integer getSsoId() {\r\n    \t\treturn this.ssoId;\r\n    \t}\r\n    \r\n    \tpublic void setSsoId(Integer ssoId) {\r\n    \t\tthis.ssoId = ssoId;\r\n    \t}\r\n    \r\n    \tpublic Set getLogs() {\r\n    \t\treturn this.logs;\r\n    \t}\r\n    \r\n    \tpublic void setLogs(Set logs) {\r\n    \t\tthis.logs = logs;\r\n    \t}\r\n    \r\n    }\r\n\r\n**User.hbm.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n                                       &quot;http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd&quot;&gt;\r\n    &lt;!-- Generated Nov 6, 2017 9:57:34 AM by Hibernate Tools 5.2.3.Final --&gt;\r\n    &lt;hibernate-mapping&gt;\r\n     &lt;class catalog=&quot;testdb&quot; entity-name=&quot;User&quot; name=&quot;User&quot; table=&quot;user&quot;&gt;\r\n      &lt;id name=&quot;iduser&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n       &lt;column name=&quot;iduser&quot;/&gt;\r\n       &lt;generator class=&quot;identity&quot;/&gt;\r\n      &lt;/id&gt;\r\n      &lt;property generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;username&quot; type=&quot;string&quot;&gt;\r\n       &lt;column length=&quot;45&quot; name=&quot;username&quot; not-null=&quot;true&quot;/&gt;\r\n      &lt;/property&gt;\r\n      &lt;property generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;password&quot; type=&quot;string&quot;&gt;\r\n       &lt;column length=&quot;45&quot; name=&quot;password&quot; not-null=&quot;true&quot;/&gt;\r\n      &lt;/property&gt;\r\n      &lt;property generated=&quot;never&quot; lazy=&quot;false&quot; name=&quot;ssoId&quot; type=&quot;java.lang.Integer&quot;&gt;\r\n       &lt;column name=&quot;SSO_ID&quot;/&gt;\r\n      &lt;/property&gt;\r\n      &lt;set fetch=&quot;select&quot; inverse=&quot;true&quot; lazy=&quot;true&quot; name=&quot;logs&quot;\r\n       sort=&quot;unsorted&quot; table=&quot;log&quot;&gt;\r\n       &lt;key&gt;\r\n        &lt;column name=&quot;iduser&quot; not-null=&quot;true&quot;/&gt;\r\n       &lt;/key&gt;\r\n       &lt;one-to-many class=&quot;Log&quot;/&gt;\r\n      &lt;/set&gt;\r\n     &lt;/class&gt;\r\n    &lt;/hibernate-mapping&gt;\r\n\r\n\r\n**UserDAO.java**\r\n\r\n    package com.journaldev.spring.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.journaldev.spring.model.User;\r\n    \r\n    public interface UserDAO {\r\n    \r\n    \tpublic void addUser(User u);\r\n    \tpublic void updateUser(User u);\r\n    \tpublic List&lt;User&gt; listUsers();\r\n    \tpublic User getUserById(int id);\r\n    \tpublic void removeUser(int id);\r\n    }\r\n\r\n**UserDAOImpl.java**\r\n\r\n    package com.journaldev.spring.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.hibernate.Session;\r\n    import org.hibernate.SessionFactory;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.journaldev.spring.model.User;\r\n    \r\n    @Repository\r\n    public class UserDAOImpl implements UserDAO {\r\n    \t\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(UserDAOImpl.class);\r\n    \r\n    \tprivate SessionFactory sessionFactory;\r\n    \t\r\n    \tpublic void setSessionFactory(SessionFactory sf){\r\n    \t\tthis.sessionFactory = sf;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void addUser(User u) {\r\n    \t\tSession session = this.sessionFactory.getCurrentSession();\r\n    \t\tsession.persist(u);\r\n    \t\tlogger.info(&quot;User saved successfully, User Details=&quot;+u);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void updateUser(User u) {\r\n    \t\tSession session = this.sessionFactory.getCurrentSession();\r\n    \t\tsession.update(u);\r\n    \t\tlogger.info(&quot;User updated successfully, User Details=&quot;+u);\r\n    \t}\r\n    \r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@Override\r\n    \tpublic List&lt;User&gt; listUsers() {\r\n    \t\tSession session = this.sessionFactory.getCurrentSession();\r\n    \t\tList&lt;User&gt; usersList = session.createQuery(&quot;from User&quot;).list();\r\n    \t\tfor(User u : usersList){\r\n    \t\t\tlogger.info(&quot;User List::&quot;+u);\r\n    \t\t}\r\n    \t\treturn usersList;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic User getUserById(int id) {\r\n    \t\tSession session = this.sessionFactory.getCurrentSession();\t\t\r\n    \t\tUser u = (User) session.load(User.class, new Integer(id));\r\n    \t\tlogger.info(&quot;User loaded successfully, User details=&quot;+u);\r\n    \t\treturn u;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void removeUser(int id) {\r\n    \t\tSession session = this.sessionFactory.getCurrentSession();\r\n    \t\tUser u = (User) session.load(User.class, new Integer(id));\r\n    \t\tif(null != u){\r\n    \t\t\tsession.delete(u);\r\n    \t\t}\r\n    \t\tlogger.info(&quot;User deleted successfully, user details=&quot;+u);\r\n    \t}\r\n    \r\n    }\r\n\r\n**UserService.java**\r\n\r\n    package com.journaldev.spring.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import com.journaldev.spring.model.User;\r\n    \r\n    public interface UserService {\r\n    \r\n    \tpublic void addUser(User u);\r\n    \tpublic void updateUser(User u);\r\n    \tpublic List&lt;User&gt; listUsers();\r\n    \tpublic User getUserById(int id);\r\n    \tpublic void removeUser(int id);\r\n    \t\r\n    }\r\n\r\n**UserServiceImpl.java**\r\n\r\n    package com.journaldev.spring.service;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.journaldev.spring.dao.UserDAO;\r\n    import com.journaldev.spring.model.User;\r\n    \r\n    @Service\r\n    public class UserServiceImpl implements UserService {\r\n    \t\r\n    \tprivate UserDAO userDAO;\r\n    \r\n    \tpublic void setUserDAO(UserDAO userDAO) {\r\n    \t\tthis.userDAO = userDAO;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void addUser(User u) {\r\n    \t\tthis.userDAO.addUser(u);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void updateUser(User u) {\r\n    \t\tthis.userDAO.updateUser(u);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic List&lt;User&gt; listUsers() {\r\n    \t\treturn this.userDAO.listUsers();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic User getUserById(int id) {\r\n    \t\treturn this.userDAO.getUserById(id);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \t@Transactional\r\n    \tpublic void removeUser(int id) {\r\n    \t\tthis.userDAO.removeUser(id);\r\n    \t}\r\n    \r\n    }\r\n\r\n**UserController.java**\r\n\r\n    package com.journaldev.spring;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    \r\n    import com.journaldev.spring.service.UserService;\r\n    import com.journaldev.spring.model.User;\r\n    \r\n    @Controller\r\n    public class UserController {\r\n    \r\n    \tprivate UserService userService;\r\n    \r\n    \t\r\n    \t@Autowired(required=true)\r\n    \t@Qualifier(value=&quot;userService&quot;)\r\n    \tpublic void setUserervice(UserService us){\r\n    \t\tthis.userService = us;\r\n    \t}\r\n    \t\r\n    \t@RequestMapping(value = &quot;/cctvsets&quot;, method = RequestMethod.GET)\r\n    \tpublic String listUsers(Model model) {\r\n    \t\tSystem.out.println(&quot;CHECKPOINT 1&quot;);\r\n    \t\tmodel.addAttribute(&quot;user&quot;, new User());\r\n    \t\tSystem.out.println(&quot;CHECKPOINT 2&quot;);\r\n    \t\tmodel.addAttribute(&quot;listUsers&quot;, this.userService.listUsers());\r\n    \t\tSystem.out.println(&quot;CHECKPOINT 3&quot;);\r\n    \t\treturn &quot;cctvsets&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\n**hibernate.cfg.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    \t\t&quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    \t\t&quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.password&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/testdb&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n**servlet-context.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot; xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\r\n    \t\thttp://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd&quot;&gt;\r\n    \r\n    \t&lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing \r\n    \t\tinfrastructure --&gt;\r\n    \t\r\n    \r\n    \t&lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n    \t&lt;annotation-driven /&gt;\r\n    \r\n    \t&lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \r\n    \t\tup static resources in the ${webappRoot}/resources directory --&gt;\r\n    \t&lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n    \t&lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \r\n    \t\tin the /WEB-INF/views directory --&gt;\r\n    \t&lt;beans:bean\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \r\n    \t&lt;beans:bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;url&quot;\r\n    \t\t\tvalue=&quot;jdbc:mysql://localhost:3306/testdb&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;password&quot; value=&quot;root&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \r\n    \t&lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\r\n    \t&lt;beans:bean id=&quot;hibernate4AnnotatedSessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t\t\r\n    \t\t&lt;beans:property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;beans:property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t\t&lt;beans:list&gt;\r\n    \t\t\t\t&lt;beans:value&gt;com.journaldev.spring.model.Person&lt;/beans:value&gt;\r\n    \t\t\t\t&lt;beans:value&gt;com.journaldev.spring.model.User&lt;/beans:value&gt;\r\n    \t\t\t&lt;/beans:list&gt;\r\n    \t\t&lt;/beans:property&gt;\r\n    \t\t&lt;beans:property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;beans:props&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect\r\n    \t\t\t\t&lt;/beans:prop&gt;\r\n    \t\t\t\t&lt;beans:prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/beans:prop&gt;\r\n    \t\t\t&lt;/beans:props&gt;\r\n    \t\t&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t\r\n    \t&lt;beans:bean id=&quot;personDAO&quot; class=&quot;com.journaldev.spring.dao.PersonDAOImpl&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t&lt;beans:bean id=&quot;personService&quot; class=&quot;com.journaldev.spring.service.PersonServiceImpl&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;personDAO&quot; ref=&quot;personDAO&quot;&gt;&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t\r\n    \t&lt;beans:bean id=&quot;userDAO&quot; class=&quot;com.journaldev.spring.dao.UserDAOImpl&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t&lt;beans:bean id=&quot;userService&quot; class=&quot;com.journaldev.spring.service.UserServiceImpl&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;userDAO&quot; ref=&quot;userDAO&quot;&gt;&lt;/beans:property&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \t\r\n    \t\r\n    \t&lt;context:component-scan base-package=&quot;com.journaldev.spring&quot; /&gt;\r\n    \t\r\n    \t\r\n    \t&lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \t\r\n    \t&lt;beans:bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n    \t\t&lt;beans:property name=&quot;sessionFactory&quot; ref=&quot;hibernate4AnnotatedSessionFactory&quot; /&gt;\r\n    \t&lt;/beans:bean&gt;\r\n    \r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\n\r\n","title":"Hibernate : User is not mapped","body":"<p>I have been getting this error after generating the User class from database, everything seems to be in order in the User.hbm.xml yet I can't find why it's not mapped!</p>\n\n<pre><code> SEVERE: Servlet.service() for servlet [appServlet] in context with path [/CCTVDATASET] threw exception [Request processing failed; nested exception is org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped [from User]] with root cause\n        org.hibernate.hql.internal.ast.QuerySyntaxException: User is not mapped\n            at org.hibernate.hql.internal.ast.util.SessionFactoryHelper.requireClassPersister(SessionFactoryHelper.java:189)\n            at org.hibernate.hql.internal.ast.tree.FromElementFactory.addFromElement(FromElementFactory.java:109)\n            at org.hibernate.hql.internal.ast.tree.FromClause.addFromElement(FromClause.java:95)\n            at org.hibernate.hql.internal.ast.HqlSqlWalker.createFromElement(HqlSqlWalker.java:331)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElement(HqlSqlBaseWalker.java:3633)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromElementList(HqlSqlBaseWalker.java:3522)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.fromClause(HqlSqlBaseWalker.java:706)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:562)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:299)\n            at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:247)\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:278)\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:206)\n            at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:158)\n            at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:126)\n            at org.hibernate.engine.query.spi.HQLQueryPlan.&lt;init&gt;(HQLQueryPlan.java:88)\n            at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:190)\n            at org.hibernate.internal.AbstractSessionImpl.getHQLQueryPlan(AbstractSessionImpl.java:301)\n            at org.hibernate.internal.AbstractSessionImpl.createQuery(AbstractSessionImpl.java:236)\n            at org.hibernate.internal.SessionImpl.createQuery(SessionImpl.java:1800)\n            at com.journaldev.spring.dao.UserDAOImpl.listUsers(UserDAOImpl.java:42)\n            at com.journaldev.spring.service.UserServiceImpl.listUsers(UserServiceImpl.java:35)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n            at java.lang.reflect.Method.invoke(Unknown Source)\n            at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:317)\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n            at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n            at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n            at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:207)\n            at com.sun.proxy.$Proxy28.listUsers(Unknown Source)\n            at com.journaldev.spring.UserController.listUsers(UserController.java:31)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n            at java.lang.reflect.Method.invoke(Unknown Source)\n            at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n            at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:852)\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:475)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:81)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:651)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:500)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:754)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1376)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p><strong>User.java</strong></p>\n\n<pre><code>// default package\n// Generated Nov 6, 2017 9:57:34 AM by Hibernate Tools 5.2.3.Final\npackage com.journaldev.spring.model;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Table;\n\n/**\n * User generated by hbm2java\n */\n\npublic class User implements java.io.Serializable {\n\n    private Integer iduser;\n    private String username;\n    private String password;\n    private Integer ssoId;\n    private Set logs = new HashSet(0);\n\n    public User() {\n    }\n\n    public User(String username, String password) {\n        this.username = username;\n        this.password = password;\n    }\n\n    public User(String username, String password, Integer ssoId, Set logs) {\n        this.username = username;\n        this.password = password;\n        this.ssoId = ssoId;\n        this.logs = logs;\n    }\n\n    public Integer getIduser() {\n        return this.iduser;\n    }\n\n    public void setIduser(Integer iduser) {\n        this.iduser = iduser;\n    }\n\n    public String getUsername() {\n        return this.username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return this.password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Integer getSsoId() {\n        return this.ssoId;\n    }\n\n    public void setSsoId(Integer ssoId) {\n        this.ssoId = ssoId;\n    }\n\n    public Set getLogs() {\n        return this.logs;\n    }\n\n    public void setLogs(Set logs) {\n        this.logs = logs;\n    }\n\n}\n</code></pre>\n\n<p><strong>User.hbm.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n                                   \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\"&gt;\n&lt;!-- Generated Nov 6, 2017 9:57:34 AM by Hibernate Tools 5.2.3.Final --&gt;\n&lt;hibernate-mapping&gt;\n &lt;class catalog=\"testdb\" entity-name=\"User\" name=\"User\" table=\"user\"&gt;\n  &lt;id name=\"iduser\" type=\"java.lang.Integer\"&gt;\n   &lt;column name=\"iduser\"/&gt;\n   &lt;generator class=\"identity\"/&gt;\n  &lt;/id&gt;\n  &lt;property generated=\"never\" lazy=\"false\" name=\"username\" type=\"string\"&gt;\n   &lt;column length=\"45\" name=\"username\" not-null=\"true\"/&gt;\n  &lt;/property&gt;\n  &lt;property generated=\"never\" lazy=\"false\" name=\"password\" type=\"string\"&gt;\n   &lt;column length=\"45\" name=\"password\" not-null=\"true\"/&gt;\n  &lt;/property&gt;\n  &lt;property generated=\"never\" lazy=\"false\" name=\"ssoId\" type=\"java.lang.Integer\"&gt;\n   &lt;column name=\"SSO_ID\"/&gt;\n  &lt;/property&gt;\n  &lt;set fetch=\"select\" inverse=\"true\" lazy=\"true\" name=\"logs\"\n   sort=\"unsorted\" table=\"log\"&gt;\n   &lt;key&gt;\n    &lt;column name=\"iduser\" not-null=\"true\"/&gt;\n   &lt;/key&gt;\n   &lt;one-to-many class=\"Log\"/&gt;\n  &lt;/set&gt;\n &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n</code></pre>\n\n<p><strong>UserDAO.java</strong></p>\n\n<pre><code>package com.journaldev.spring.dao;\n\nimport java.util.List;\n\nimport com.journaldev.spring.model.User;\n\npublic interface UserDAO {\n\n    public void addUser(User u);\n    public void updateUser(User u);\n    public List&lt;User&gt; listUsers();\n    public User getUserById(int id);\n    public void removeUser(int id);\n}\n</code></pre>\n\n<p><strong>UserDAOImpl.java</strong></p>\n\n<pre><code>package com.journaldev.spring.dao;\n\nimport java.util.List;\n\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Repository;\n\nimport com.journaldev.spring.model.User;\n\n@Repository\npublic class UserDAOImpl implements UserDAO {\n\n    private static final Logger logger = LoggerFactory.getLogger(UserDAOImpl.class);\n\n    private SessionFactory sessionFactory;\n\n    public void setSessionFactory(SessionFactory sf){\n        this.sessionFactory = sf;\n    }\n\n    @Override\n    public void addUser(User u) {\n        Session session = this.sessionFactory.getCurrentSession();\n        session.persist(u);\n        logger.info(\"User saved successfully, User Details=\"+u);\n    }\n\n    @Override\n    public void updateUser(User u) {\n        Session session = this.sessionFactory.getCurrentSession();\n        session.update(u);\n        logger.info(\"User updated successfully, User Details=\"+u);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public List&lt;User&gt; listUsers() {\n        Session session = this.sessionFactory.getCurrentSession();\n        List&lt;User&gt; usersList = session.createQuery(\"from User\").list();\n        for(User u : usersList){\n            logger.info(\"User List::\"+u);\n        }\n        return usersList;\n    }\n\n    @Override\n    public User getUserById(int id) {\n        Session session = this.sessionFactory.getCurrentSession();      \n        User u = (User) session.load(User.class, new Integer(id));\n        logger.info(\"User loaded successfully, User details=\"+u);\n        return u;\n    }\n\n    @Override\n    public void removeUser(int id) {\n        Session session = this.sessionFactory.getCurrentSession();\n        User u = (User) session.load(User.class, new Integer(id));\n        if(null != u){\n            session.delete(u);\n        }\n        logger.info(\"User deleted successfully, user details=\"+u);\n    }\n\n}\n</code></pre>\n\n<p><strong>UserService.java</strong></p>\n\n<pre><code>package com.journaldev.spring.service;\n\nimport java.util.List;\n\nimport com.journaldev.spring.model.User;\n\npublic interface UserService {\n\n    public void addUser(User u);\n    public void updateUser(User u);\n    public List&lt;User&gt; listUsers();\n    public User getUserById(int id);\n    public void removeUser(int id);\n\n}\n</code></pre>\n\n<p><strong>UserServiceImpl.java</strong></p>\n\n<pre><code>package com.journaldev.spring.service;\n\nimport java.util.List;\n\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.journaldev.spring.dao.UserDAO;\nimport com.journaldev.spring.model.User;\n\n@Service\npublic class UserServiceImpl implements UserService {\n\n    private UserDAO userDAO;\n\n    public void setUserDAO(UserDAO userDAO) {\n        this.userDAO = userDAO;\n    }\n\n    @Override\n    @Transactional\n    public void addUser(User u) {\n        this.userDAO.addUser(u);\n    }\n\n    @Override\n    @Transactional\n    public void updateUser(User u) {\n        this.userDAO.updateUser(u);\n    }\n\n    @Override\n    @Transactional\n    public List&lt;User&gt; listUsers() {\n        return this.userDAO.listUsers();\n    }\n\n    @Override\n    @Transactional\n    public User getUserById(int id) {\n        return this.userDAO.getUserById(id);\n    }\n\n    @Override\n    @Transactional\n    public void removeUser(int id) {\n        this.userDAO.removeUser(id);\n    }\n\n}\n</code></pre>\n\n<p><strong>UserController.java</strong></p>\n\n<pre><code>package com.journaldev.spring;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\n\nimport com.journaldev.spring.service.UserService;\nimport com.journaldev.spring.model.User;\n\n@Controller\npublic class UserController {\n\n    private UserService userService;\n\n\n    @Autowired(required=true)\n    @Qualifier(value=\"userService\")\n    public void setUserervice(UserService us){\n        this.userService = us;\n    }\n\n    @RequestMapping(value = \"/cctvsets\", method = RequestMethod.GET)\n    public String listUsers(Model model) {\n        System.out.println(\"CHECKPOINT 1\");\n        model.addAttribute(\"user\", new User());\n        System.out.println(\"CHECKPOINT 2\");\n        model.addAttribute(\"listUsers\", this.userService.listUsers());\n        System.out.println(\"CHECKPOINT 3\");\n        return \"cctvsets\";\n    }\n}\n</code></pre>\n\n<p><strong>hibernate.cfg.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/testdb&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>servlet-context.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\" xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-4.0.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing \n        infrastructure --&gt;\n\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt;\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving \n        up static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources \n        in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;beans:property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n        &lt;beans:property name=\"url\"\n            value=\"jdbc:mysql://localhost:3306/testdb\" /&gt;\n        &lt;beans:property name=\"username\" value=\"root\" /&gt;\n        &lt;beans:property name=\"password\" value=\"root\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;!-- Hibernate 4 SessionFactory Bean definition --&gt;\n    &lt;beans:bean id=\"hibernate4AnnotatedSessionFactory\"\n        class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n\n        &lt;beans:property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;beans:property name=\"annotatedClasses\"&gt;\n            &lt;beans:list&gt;\n                &lt;beans:value&gt;com.journaldev.spring.model.Person&lt;/beans:value&gt;\n                &lt;beans:value&gt;com.journaldev.spring.model.User&lt;/beans:value&gt;\n            &lt;/beans:list&gt;\n        &lt;/beans:property&gt;\n        &lt;beans:property name=\"hibernateProperties\"&gt;\n            &lt;beans:props&gt;\n                &lt;beans:prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect\n                &lt;/beans:prop&gt;\n                &lt;beans:prop key=\"hibernate.show_sql\"&gt;true&lt;/beans:prop&gt;\n            &lt;/beans:props&gt;\n        &lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"personDAO\" class=\"com.journaldev.spring.dao.PersonDAOImpl\"&gt;\n        &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n    &lt;/beans:bean&gt;\n    &lt;beans:bean id=\"personService\" class=\"com.journaldev.spring.service.PersonServiceImpl\"&gt;\n        &lt;beans:property name=\"personDAO\" ref=\"personDAO\"&gt;&lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;beans:bean id=\"userDAO\" class=\"com.journaldev.spring.dao.UserDAOImpl\"&gt;\n        &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n    &lt;/beans:bean&gt;\n    &lt;beans:bean id=\"userService\" class=\"com.journaldev.spring.service.UserServiceImpl\"&gt;\n        &lt;beans:property name=\"userDAO\" ref=\"userDAO\"&gt;&lt;/beans:property&gt;\n    &lt;/beans:bean&gt;\n\n\n    &lt;context:component-scan base-package=\"com.journaldev.spring\" /&gt;\n\n\n    &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n    &lt;beans:bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n        &lt;beans:property name=\"sessionFactory\" ref=\"hibernate4AnnotatedSessionFactory\" /&gt;\n    &lt;/beans:bean&gt;\n\n\n&lt;/beans:beans&gt;\n</code></pre>\n"},{"tags":["java","command-line-interface"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692454561,"post_id":76935382,"comment_id":135626994,"body_markdown":"`args.length` is what you need","body":"<code>args.length</code> is what you need"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1692460871,"post_id":76935382,"comment_id":135627734,"body_markdown":"Do not use declarations like `String args[]`. Although it works, it is considered bad form to use. Instead use `String[] args`.","body":"Do not use declarations like <code>String args[]</code>. Although it works, it is considered bad form to use. Instead use <code>String[] args</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1692466823,"post_id":76935382,"comment_id":135628430,"body_markdown":"You should check the length of args *before* trying to parse them, otherwise you may get an ArrayIndexOutOfBoundsException","body":"You should check the length of args <i>before</i> trying to parse them, otherwise you may get an ArrayIndexOutOfBoundsException"}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1692466422,"creation_date":1692454549,"answer_id":76935541,"question_id":76935382,"body_markdown":"The `length` attribute is accessed thus:  `args.length`\r\n\r\nExample use:\r\n\r\n    if( args.length == 2 ) { … } else { … }\r\n\r\n\r\nThe issue isn&#39;t really with CLI, but with understanding arrays in Java. \r\n\r\n**Some array basics for this example:**\r\n\r\n- `String [] args` declares variable `args` to be an array of `String`. \r\n- `String args []` is an alternate way of declaring variable `args` to be an array of `String`.\r\n- So, `args` is a variable. It&#39;s type is `String []`, i.e., an array of `String`. \r\n- `args[n]` is an element of that array, i.e., in this case, an individual `String`. \r\n- - `n` may be a constant, variable, or expression. \r\n- - `n` must be resolvable to an `int` type. \r\n- In Java, an array is a reference type. It has the attributes and methods of an `Object`. In addition, it has a `length` attribute.\r\n- `args` is the name of the reference in this example.\r\n- The `length` attribute is accessed thus:  `args.length`\r\n- - Example:  `if (args.length &gt; 100) { System.out.println (&quot;foo&quot;); }`\r\n- `args[]` by itself won&#39;t compile. Neither will `args[].foo` where `foo` is an attribute. Neither will `args[].foo()` where `foo` is a method. Again, the name of the variable representing the whole array is `args`, not `args[]`.\r\n\r\n**Other comments:** \r\n\r\n- Check the length of `args` *before* attempting to parse (an) element(s). It might be `args` is empty. That is,  `args.length` could be zero. If that is the case, `args[0]` won&#39;t exist.\r\n- If you don&#39;t check the length before parsing an element, you should be prepared for an `ArrayIndexOutOfBoundsException`. \r\n- If an element exists, but doesn&#39;t represent an integer, an attempt to parse can throw a `NumberFormatException`. \r\n\r\n\r\n","title":"How to check number of arguments is while passing them in CLI?","body":"<p>The <code>length</code> attribute is accessed thus:  <code>args.length</code></p>\n<p>Example use:</p>\n<pre><code>if( args.length == 2 ) { … } else { … }\n</code></pre>\n<p>The issue isn't really with CLI, but with understanding arrays in Java.</p>\n<p><strong>Some array basics for this example:</strong></p>\n<ul>\n<li><code>String [] args</code> declares variable <code>args</code> to be an array of <code>String</code>.</li>\n<li><code>String args []</code> is an alternate way of declaring variable <code>args</code> to be an array of <code>String</code>.</li>\n<li>So, <code>args</code> is a variable. It's type is <code>String []</code>, i.e., an array of <code>String</code>.</li>\n<li><code>args[n]</code> is an element of that array, i.e., in this case, an individual <code>String</code>.</li>\n<li>\n<ul>\n<li><code>n</code> may be a constant, variable, or expression.</li>\n</ul>\n</li>\n<li>\n<ul>\n<li><code>n</code> must be resolvable to an <code>int</code> type.</li>\n</ul>\n</li>\n<li>In Java, an array is a reference type. It has the attributes and methods of an <code>Object</code>. In addition, it has a <code>length</code> attribute.</li>\n<li><code>args</code> is the name of the reference in this example.</li>\n<li>The <code>length</code> attribute is accessed thus:  <code>args.length</code></li>\n<li>\n<ul>\n<li>Example:  <code>if (args.length &gt; 100) { System.out.println (&quot;foo&quot;); }</code></li>\n</ul>\n</li>\n<li><code>args[]</code> by itself won't compile. Neither will <code>args[].foo</code> where <code>foo</code> is an attribute. Neither will <code>args[].foo()</code> where <code>foo</code> is a method. Again, the name of the variable representing the whole array is <code>args</code>, not <code>args[]</code>.</li>\n</ul>\n<p><strong>Other comments:</strong></p>\n<ul>\n<li>Check the length of <code>args</code> <em>before</em> attempting to parse (an) element(s). It might be <code>args</code> is empty. That is,  <code>args.length</code> could be zero. If that is the case, <code>args[0]</code> won't exist.</li>\n<li>If you don't check the length before parsing an element, you should be prepared for an <code>ArrayIndexOutOfBoundsException</code>.</li>\n<li>If an element exists, but doesn't represent an integer, an attempt to parse can throw a <code>NumberFormatException</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692469640,"post_id":76936516,"comment_id":135628735,"body_markdown":"Throwing an empty and uninformative custom exception and then immediately catching it is worse than pointless. It&#39;s fundamentally wrong. The normal procedure is to print an error/usage message to stderr and exit with an error code","body":"Throwing an empty and uninformative custom exception and then immediately catching it is worse than pointless. It&#39;s fundamentally wrong. The normal procedure is to print an error/usage message to stderr and exit with an error code"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1692469739,"post_id":76936516,"comment_id":135628749,"body_markdown":"@g00se, you should write a solution.","body":"@g00se, you should write a solution."},{"owner":{"account_id":28896923,"reputation":11,"user_id":22132738,"display_name":"Almas Bhisti"},"score":0,"creation_date":1692779809,"post_id":76936516,"comment_id":135669498,"body_markdown":"Understood Thanks","body":"Understood Thanks"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692469355,"creation_date":1692469355,"answer_id":76936516,"question_id":76935382,"body_markdown":"&gt; _&quot;How to check number of arguments is while passing them in CLI? ...&quot;_\r\n\r\nYour syntax is incorrect.  \r\nInstead of _args[]_, use just _args_.\r\n\r\nThe bracket syntax is only used during declaration, and when accessing an element.  \r\n_[Arrays (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)_.\r\n\r\nAdditionally, you&#39;re attempting to access _args_ elements which may not exist.  \r\nIf _args_ has no elements, then these will throw an _[ArrayIndexOutOfBoundsException](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html)_.\r\n\r\n```java\r\nint A = Integer.parseInt(args[0]);\r\nint B = Integer.parseInt(args[1]);\r\n```\r\n\r\nCheck the _args_ parameter first.\r\n\r\n```java\r\nif(args.length &lt; 2) {\r\n    try\r\n    {\r\n        throw new MyException();\r\n    }\r\n    catch(Exception e)\r\n    {\r\n        System.out.println(e.toString());\r\n    }\r\n} else {\r\n    int A = Integer.parseInt(args[0]);\r\n    int B = Integer.parseInt(args[1]);\r\n    System.out.println(&quot;Result: &quot;+A*B);\r\n}\r\n```\r\n\r\nHere is an example output with no input.\r\n\r\n```none\r\nSomething Went Wrong :(\r\n```\r\n\r\nAnd, here is an output with _2_ and _3_ as the input.\r\n\r\n```java\r\nResult: 6\r\n```","title":"How to check number of arguments is while passing them in CLI?","body":"<blockquote>\n<p><em>&quot;How to check number of arguments is while passing them in CLI? ...&quot;</em></p>\n</blockquote>\n<p>Your syntax is incorrect.<br />\nInstead of <em>args[]</em>, use just <em>args</em>.</p>\n<p>The bracket syntax is only used during declaration, and when accessing an element.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Arrays (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em>.</p>\n<p>Additionally, you're attempting to access <em>args</em> elements which may not exist.<br />\nIf <em>args</em> has no elements, then these will throw an <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">ArrayIndexOutOfBoundsException</a></em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int A = Integer.parseInt(args[0]);\nint B = Integer.parseInt(args[1]);\n</code></pre>\n<p>Check the <em>args</em> parameter first.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(args.length &lt; 2) {\n    try\n    {\n        throw new MyException();\n    }\n    catch(Exception e)\n    {\n        System.out.println(e.toString());\n    }\n} else {\n    int A = Integer.parseInt(args[0]);\n    int B = Integer.parseInt(args[1]);\n    System.out.println(&quot;Result: &quot;+A*B);\n}\n</code></pre>\n<p>Here is an example output with no input.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Something Went Wrong :(\n</code></pre>\n<p>And, here is an output with <em>2</em> and <em>3</em> as the input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Result: 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692469927,"creation_date":1692469927,"answer_id":76936556,"question_id":76935382,"body_markdown":"This is the usual MO:\r\n```\r\nif (args.length &lt; 2) {\r\n   System.err.println(&quot;Usage: java ExceptionCLI &lt;number 1&gt; &lt;number 2&gt;&quot;);\r\n   System.exit(1);\r\n}\r\n```\r\nIf you want to practise with custom exceptions, extend `RuntimeException` and use it in the context of some method other than `main`","title":"How to check number of arguments is while passing them in CLI?","body":"<p>This is the usual MO:</p>\n<pre><code>if (args.length &lt; 2) {\n   System.err.println(&quot;Usage: java ExceptionCLI &lt;number 1&gt; &lt;number 2&gt;&quot;);\n   System.exit(1);\n}\n</code></pre>\n<p>If you want to practise with custom exceptions, extend <code>RuntimeException</code> and use it in the context of some method other than <code>main</code></p>\n"}],"owner":{"account_id":28896923,"reputation":11,"user_id":22132738,"display_name":"Almas Bhisti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692469927,"creation_date":1692452274,"question_id":76935382,"body_markdown":"A simple program that takes 2 arguments from the commandline and if they&#39;re 2, it simply multiplies them, otherwise throws my custom exception.\r\n\r\n```java\r\nimport java.util.*;\r\n\r\nclass MyException extends Exception\r\n{\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn &quot;Something Went Wrong :(&quot;;\r\n\t}\r\n}\r\n\r\nclass ExceptionCLI\r\n{\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tint A = Integer.parseInt(args[0]);\r\n\t\tint B = Integer.parseInt(args[1]);\r\n\t\t\r\n\t\tif() //** Missing condition, what should I write? args[].length &lt; 2 doesn&#39;t work**\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tthrow new MyException();\r\n\t\t\t}\r\n\t\t\tcatch(Exception e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(e.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Result: &quot;+A*B);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nI tried:\r\n1. `args[].length`\r\n2. `int len = args[].length`\r\n\r\nI am not that experienced in Java, so I don&#39;t know any other methods to try.","title":"How to check number of arguments is while passing them in CLI?","body":"<p>A simple program that takes 2 arguments from the commandline and if they're 2, it simply multiplies them, otherwise throws my custom exception.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\nclass MyException extends Exception\n{\n    public String toString()\n    {\n        return &quot;Something Went Wrong :(&quot;;\n    }\n}\n\nclass ExceptionCLI\n{\n    public static void main(String args[])\n    {\n        int A = Integer.parseInt(args[0]);\n        int B = Integer.parseInt(args[1]);\n        \n        if() //** Missing condition, what should I write? args[].length &lt; 2 doesn't work**\n        {\n            try\n            {\n                throw new MyException();\n            }\n            catch(Exception e)\n            {\n                System.out.println(e.toString());\n            }\n        }\n        else\n        {\n            System.out.println(&quot;Result: &quot;+A*B);\n        }\n    }\n}\n</code></pre>\n<p>I tried:</p>\n<ol>\n<li><code>args[].length</code></li>\n<li><code>int len = args[].length</code></li>\n</ol>\n<p>I am not that experienced in Java, so I don't know any other methods to try.</p>\n"},{"tags":["java","swing","graphics2d","image-rotation","affinetransform"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1385678179,"post_id":20275424,"comment_id":30247550,"body_markdown":"I&#39;m not sure you want to translate the AffineTransform, you should, instead, supply the rotation points with the rotate method, which typically is the centre point, but that&#39;s up to you. I would also not assign the result of the rotation back to the master image otherwise you up compounding the rotation....","body":"I&#39;m not sure you want to translate the AffineTransform, you should, instead, supply the rotation points with the rotate method, which typically is the centre point, but that&#39;s up to you. I would also not assign the result of the rotation back to the master image otherwise you up compounding the rotation...."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1385678348,"post_id":20275424,"comment_id":30247602,"body_markdown":"I &quot;think&quot; basically what is happen, is your image is being rotated &quot;out of bounds&quot; of the available space...","body":"I &quot;think&quot; basically what is happen, is your image is being rotated &quot;out of bounds&quot; of the available space..."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1385678474,"post_id":20275424,"comment_id":30247643,"body_markdown":"You could take a look at [this example](http://stackoverflow.com/questions/15779877/rotate-bufferedimage-inside-jpanel/15780090#15780090)","body":"You could take a look at <a href=\"http://stackoverflow.com/questions/15779877/rotate-bufferedimage-inside-jpanel/15780090#15780090\">this example</a>"},{"owner":{"display_name":"user2410128"},"score":0,"creation_date":1385678528,"post_id":20275424,"comment_id":30247662,"body_markdown":"i forgot to save a orginal image - thats true. but still dont understand how i can correct my code to not rotating it out of bounds of my space. any ideas? ofc i will take a look on that link in a few sec","body":"i forgot to save a orginal image - thats true. but still dont understand how i can correct my code to not rotating it out of bounds of my space. any ideas? ofc i will take a look on that link in a few sec"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1385680207,"post_id":20275424,"comment_id":30248148,"body_markdown":"15 questions asked. Not a single answer accepted. You obviously don&#39;t appreciate the help you get on the questions, so I  think I&#39;ll skip this one.","body":"15 questions asked. Not a single answer accepted. You obviously don&#39;t appreciate the help you get on the questions, so I  think I&#39;ll skip this one."},{"owner":{"display_name":"user2410128"},"score":0,"creation_date":1385682098,"post_id":20275424,"comment_id":30248593,"body_markdown":"@camickr Can i accept answer if i have less then 15 rep point? Every single time i wanted to vote up that answer which help me the most but i coulnt with less then 15 rep. if i can &quot;accept&quot; answer im totaly sorry for everyone who did got his answer accepted.","body":"@camickr Can i accept answer if i have less then 15 rep point? Every single time i wanted to vote up that answer which help me the most but i coulnt with less then 15 rep. if i can &quot;accept&quot; answer im totaly sorry for everyone who did got his answer accepted."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1385699189,"post_id":20275424,"comment_id":30251942,"body_markdown":"I&#39;d say you have issues, the translation (which I&#39;ve not spent much time looking at) and not supplying anchor points for the rotation, which I &quot;think&quot; defaults to the top/left corner","body":"I&#39;d say you have issues, the translation (which I&#39;ve not spent much time looking at) and not supplying anchor points for the rotation, which I &quot;think&quot; defaults to the top/left corner"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1385699352,"post_id":20275424,"comment_id":30251984,"body_markdown":"Another [example](http://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943), which is a little off topic, but demonstrates rotating an image...","body":"Another <a href=\"http://stackoverflow.com/questions/16865391/slow-movement-using-paintcomponent-method/16867943#16867943\">example</a>, which is a little off topic, but demonstrates rotating an image..."},{"owner":{"display_name":"user2410128"},"score":0,"creation_date":1385708628,"post_id":20275424,"comment_id":30254716,"body_markdown":"@MadProgrammer ye you were 100% sure. problem was that 2 points of translation. i missunderstood examples and use there wrong coordinates. im not sure that should i post my own answer for this problem, if not topic can be closed. thank you MadProgrammer again, sorry for camickr and other not appreciated by my person peoples","body":"@MadProgrammer ye you were 100% sure. problem was that 2 points of translation. i missunderstood examples and use there wrong coordinates. im not sure that should i post my own answer for this problem, if not topic can be closed. thank you MadProgrammer again, sorry for camickr and other not appreciated by my person peoples"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1385709208,"post_id":20275424,"comment_id":30254972,"body_markdown":"I&#39;ve added an example which is kind of a combination of at least two the examples I&#39;ve previously posted, not the exact example I wanted, but it&#39;s all I had time to create :P","body":"I&#39;ve added an example which is kind of a combination of at least two the examples I&#39;ve previously posted, not the exact example I wanted, but it&#39;s all I had time to create :P"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1538728597,"creation_date":1385709151,"answer_id":20280225,"question_id":20275424,"body_markdown":"The major problem (that I can see) is the translation of the `Graphics` context which is offset the position that the rotation will take place.\r\n\r\nI &quot;think&quot; rotation by default occurs at the top/left corner of the `Graphics` context (where it&#39;s 0x0 position is, which you&#39;ve translated to something else), this could be causing the image to be rotated out of frame (or viewable area)\r\n\r\nYou should provide a &quot;anchor&quot; point where the rotation takes place, typically, the centre is my personal preference.\r\n\r\nThe following example simply has a master image (due to size constraints I had to scale it, but you may not need this).  I then use this to generate a &quot;rotated&quot; instance which is sized to allow the image to fit within in.  This is a lot of fun with trig - I stole the code from somewhere, so credit to that developer.\r\n\r\nThe example allows you to click any where and it will change the rotation pivot, so you can see what&#39;s going on.  The default position is the centre of the pane...\r\n\r\n![Spinning][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Point;\r\n    import java.awt.event.MouseAdapter;\r\n    import java.awt.event.MouseEvent;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JSlider;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n    import javax.swing.event.ChangeEvent;\r\n    import javax.swing.event.ChangeListener;\r\n\r\n    public class SampleRotation {\r\n\r\n        public static void main(String[] args) {\r\n            new SampleRotation();\r\n        }\r\n    \r\n        public SampleRotation() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                        ex.printStackTrace();\r\n                    }\r\n                \r\n                    final RotationPane rotationPane = new RotationPane();\r\n                    final JSlider slider = new JSlider(0, 100);\r\n                    slider.addChangeListener(new ChangeListener() {\r\n                        @Override\r\n                        public void stateChanged(ChangeEvent e) {\r\n                            double angle = 720d * (slider.getValue() / 100d);\r\n                            rotationPane.setAngle(angle);\r\n                        }\r\n                    });\r\n                    slider.setValue(0);\r\n                \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.add(rotationPane);\r\n                    frame.add(slider, BorderLayout.SOUTH);\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public class RotationPane extends JPanel {\r\n        \r\n            private BufferedImage img;\r\n            private BufferedImage rotated;\r\n            private double angle;\r\n            private Point clickPoint;\r\n        \r\n            public RotationPane() {\r\n                try {\r\n                    img = ImageIO.read(new File(&quot;/Users/swhitehead/Dropbox/MegaTokyo/issue459.jpg&quot;));\r\n                    BufferedImage scaled = new BufferedImage(img.getWidth() / 2, img.getHeight() / 2, BufferedImage.TYPE_INT_ARGB);\r\n                    Graphics2D g2d = scaled.createGraphics();\r\n                    g2d.setTransform(AffineTransform.getScaleInstance(0.5d, 0.5d));\r\n                    g2d.drawImage(img, 0, 0, this);\r\n                    g2d.dispose();\r\n                    img = scaled;\r\n                    setAngle(0d);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            \r\n                addMouseListener(new MouseAdapter() {\r\n\r\n                    @Override\r\n                    public void mouseClicked(MouseEvent e) {\r\n                        clickPoint = e.getPoint();\r\n                        repaint();\r\n                    }\r\n                \r\n                });\r\n            \r\n            }\r\n        \r\n            public void setAngle(double angle) {\r\n                this.angle = angle;\r\n            \r\n                double rads = Math.toRadians(getAngle());\r\n                double sin = Math.abs(Math.sin(rads)), cos = Math.abs(Math.cos(rads));\r\n                int w = img.getWidth();\r\n                int h = img.getHeight();\r\n                int newWidth = (int) Math.floor(w * cos + h * sin);\r\n                int newHeight = (int) Math.floor(h * cos + w * sin);\r\n            \r\n                rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = rotated.createGraphics();\r\n                AffineTransform at = new AffineTransform();\r\n                at.translate((newWidth - w) / 2, (newHeight - h) / 2);\r\n            \r\n                int x = clickPoint == null ? w / 2 : clickPoint.x;\r\n                int y = clickPoint == null ? h / 2 : clickPoint.y;\r\n            \r\n                at.rotate(rads, x, y);\r\n                g2d.setTransform(at);\r\n                g2d.drawImage(img, 0, 0, this);\r\n                g2d.setColor(Color.RED);\r\n                g2d.drawRect(0, 0, newWidth - 1, newHeight - 1);\r\n                g2d.dispose();\r\n            \r\n                repaint();\r\n            }\r\n        \r\n            public double getAngle() {\r\n                return angle;\r\n            }\r\n        \r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return img == null ? new Dimension(200, 200) : new Dimension(img.getWidth(this), img.getHeight(this));\r\n            }\r\n        \r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                if (rotated != null) {\r\n                    Graphics2D g2d = (Graphics2D) g.create();\r\n                \r\n                    int x = (getWidth() - rotated.getWidth()) / 2;\r\n                    int y = (getHeight() - rotated.getHeight()) / 2;\r\n                    g2d.drawImage(rotated, x, y, this);\r\n                \r\n                    g2d.setColor(Color.RED);\r\n                \r\n                    x = clickPoint == null ? getWidth() / 2 : clickPoint.x;\r\n                    y = clickPoint == null ? getHeight()/ 2 : clickPoint.y;\r\n                \r\n                    x -= 5;\r\n                    y -= 5;\r\n                \r\n                    g2d.drawOval(x, y, 10, 10);\r\n                    g2d.dispose();\r\n                }\r\n            }        \r\n        }    \r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/C4SiG.gif","title":"Rotating Image with AffineTransform","body":"<p>The major problem (that I can see) is the translation of the <code>Graphics</code> context which is offset the position that the rotation will take place.</p>\n\n<p>I \"think\" rotation by default occurs at the top/left corner of the <code>Graphics</code> context (where it's 0x0 position is, which you've translated to something else), this could be causing the image to be rotated out of frame (or viewable area)</p>\n\n<p>You should provide a \"anchor\" point where the rotation takes place, typically, the centre is my personal preference.</p>\n\n<p>The following example simply has a master image (due to size constraints I had to scale it, but you may not need this).  I then use this to generate a \"rotated\" instance which is sized to allow the image to fit within in.  This is a lot of fun with trig - I stole the code from somewhere, so credit to that developer.</p>\n\n<p>The example allows you to click any where and it will change the rotation pivot, so you can see what's going on.  The default position is the centre of the pane...</p>\n\n<p><img src=\"https://i.stack.imgur.com/C4SiG.gif\" alt=\"Spinning\"></p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Point;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JSlider;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class SampleRotation {\n\n    public static void main(String[] args) {\n        new SampleRotation();\n    }\n\n    public SampleRotation() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                final RotationPane rotationPane = new RotationPane();\n                final JSlider slider = new JSlider(0, 100);\n                slider.addChangeListener(new ChangeListener() {\n                    @Override\n                    public void stateChanged(ChangeEvent e) {\n                        double angle = 720d * (slider.getValue() / 100d);\n                        rotationPane.setAngle(angle);\n                    }\n                });\n                slider.setValue(0);\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(rotationPane);\n                frame.add(slider, BorderLayout.SOUTH);\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class RotationPane extends JPanel {\n\n        private BufferedImage img;\n        private BufferedImage rotated;\n        private double angle;\n        private Point clickPoint;\n\n        public RotationPane() {\n            try {\n                img = ImageIO.read(new File(\"/Users/swhitehead/Dropbox/MegaTokyo/issue459.jpg\"));\n                BufferedImage scaled = new BufferedImage(img.getWidth() / 2, img.getHeight() / 2, BufferedImage.TYPE_INT_ARGB);\n                Graphics2D g2d = scaled.createGraphics();\n                g2d.setTransform(AffineTransform.getScaleInstance(0.5d, 0.5d));\n                g2d.drawImage(img, 0, 0, this);\n                g2d.dispose();\n                img = scaled;\n                setAngle(0d);\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n\n            addMouseListener(new MouseAdapter() {\n\n                @Override\n                public void mouseClicked(MouseEvent e) {\n                    clickPoint = e.getPoint();\n                    repaint();\n                }\n\n            });\n\n        }\n\n        public void setAngle(double angle) {\n            this.angle = angle;\n\n            double rads = Math.toRadians(getAngle());\n            double sin = Math.abs(Math.sin(rads)), cos = Math.abs(Math.cos(rads));\n            int w = img.getWidth();\n            int h = img.getHeight();\n            int newWidth = (int) Math.floor(w * cos + h * sin);\n            int newHeight = (int) Math.floor(h * cos + w * sin);\n\n            rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = rotated.createGraphics();\n            AffineTransform at = new AffineTransform();\n            at.translate((newWidth - w) / 2, (newHeight - h) / 2);\n\n            int x = clickPoint == null ? w / 2 : clickPoint.x;\n            int y = clickPoint == null ? h / 2 : clickPoint.y;\n\n            at.rotate(rads, x, y);\n            g2d.setTransform(at);\n            g2d.drawImage(img, 0, 0, this);\n            g2d.setColor(Color.RED);\n            g2d.drawRect(0, 0, newWidth - 1, newHeight - 1);\n            g2d.dispose();\n\n            repaint();\n        }\n\n        public double getAngle() {\n            return angle;\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return img == null ? new Dimension(200, 200) : new Dimension(img.getWidth(this), img.getHeight(this));\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            if (rotated != null) {\n                Graphics2D g2d = (Graphics2D) g.create();\n\n                int x = (getWidth() - rotated.getWidth()) / 2;\n                int y = (getHeight() - rotated.getHeight()) / 2;\n                g2d.drawImage(rotated, x, y, this);\n\n                g2d.setColor(Color.RED);\n\n                x = clickPoint == null ? getWidth() / 2 : clickPoint.x;\n                y = clickPoint == null ? getHeight()/ 2 : clickPoint.y;\n\n                x -= 5;\n                y -= 5;\n\n                g2d.drawOval(x, y, 10, 10);\n                g2d.dispose();\n            }\n        }        \n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12150204,"reputation":257,"user_id":8870782,"display_name":"Atreide"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613740003,"creation_date":1509572939,"answer_id":47064247,"question_id":20275424,"body_markdown":"This is what worked for me (kinda copying from here and there):\r\n\r\n    public BufferedImage rotateImag (BufferedImage imag, int n) { //n rotation in gradians\r\n\r\n\t\t\tdouble rotationRequired = Math.toRadians (n);\r\n\t\t\tdouble locationX = imag.getWidth() / 2;\r\n\t\t\tdouble locationY = imag.getHeight() / 2;\r\n\t\t\tAffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\r\n\t\t\tAffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);    \t   \r\n     \t   BufferedImage newImage =new BufferedImage(imag.getWidth(), imag.getHeight(), imag.getType()); \r\n    \t   op.filter(imag, newImage);\r\n\r\n    \t       //this.img = newImage;\r\n    \t   return(newImage);\r\n    \t }","title":"Rotating Image with AffineTransform","body":"<p>This is what worked for me (kinda copying from here and there):</p>\n<pre><code>public BufferedImage rotateImag (BufferedImage imag, int n) { //n rotation in gradians\n\n        double rotationRequired = Math.toRadians (n);\n        double locationX = imag.getWidth() / 2;\n        double locationY = imag.getHeight() / 2;\n        AffineTransform tx = AffineTransform.getRotateInstance(rotationRequired, locationX, locationY);\n        AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);         \n       BufferedImage newImage =new BufferedImage(imag.getWidth(), imag.getHeight(), imag.getType()); \n       op.filter(imag, newImage);\n\n           //this.img = newImage;\n       return(newImage);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11675,"reputation":307,"user_id":22631,"display_name":"Szundi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592419839,"creation_date":1592419839,"answer_id":62436278,"question_id":20275424,"body_markdown":"You cannot translate back simply when you already did a rotate. What you can do is: create a new Graphics object by Graphics g2 = g.create(), do a translate/rotate on g2, then throw g2 away. This way it does not effect the original Graphics g state.","title":"Rotating Image with AffineTransform","body":"<p>You cannot translate back simply when you already did a rotate. What you can do is: create a new Graphics object by Graphics g2 = g.create(), do a translate/rotate on g2, then throw g2 away. This way it does not effect the original Graphics g state.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692469082,"creation_date":1692466287,"answer_id":76936311,"question_id":20275424,"body_markdown":"I tried to use @Atreide&#39;s answer.  The image clipped as I rotated it.\r\n\r\nI needed a way to rotate an image on its center point so the entire image would be visible no matter the angle of rotation.\r\n\r\nHere&#39;s an example of what I mean.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe triangle has been rotated 57.3 degrees or 1 radian.\r\n\r\nWhat I needed to do was copy the triangle image to an image large enough to hold the image at any angle of rotation.  Then I could rotate the copied image on its center point.\r\n\r\nHere&#39;s the code I used.  I&#39;m rotating the triangle on its center point.\r\n\r\n\t/**\r\n\t * &lt;p&gt;\r\n\t * This method will rotate an image on its center point.\r\n\t * &lt;/p&gt;\r\n\t * &lt;p&gt;\r\n\t * First, the image is copied to an image large enough to hold the rotated\r\n\t * image at any angle. Then, the copied image is rotated.\r\n\t * &lt;/p&gt;\r\n\t * \r\n\t * @param image    - The image to be rotated.\r\n\t * @param rotation - The rotation angle in radians. A positive value rotates\r\n\t *                 the image clockwise. A negative value rotates the image\r\n\t *                 counterclockwise.\r\n\t * @return The rotated image\r\n\t */\r\n\tpublic BufferedImage rotateImage(BufferedImage image, double rotation) {\r\n\t\tdouble newWidthD = getNewImageWidth(image);\r\n\t\tdouble halfWidthD = newWidthD / 2.0;\r\n\t\tint newWidthI = (int) newWidthD;\r\n\r\n\t\tBufferedImage newImage = translateImage(image, newWidthI);\r\n\t\tBufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\r\n\t\t\t\timage.getType());\r\n\t\tAffineTransform tx = AffineTransform.getRotateInstance(rotation,\r\n\t\t\t\thalfWidthD, halfWidthD);\r\n\t\tAffineTransformOp op = new AffineTransformOp(tx,\r\n\t\t\t\tAffineTransformOp.TYPE_BILINEAR);\r\n\t\top.filter(newImage, outputImage);\r\n\r\n\t\treturn outputImage;\r\n\t}\r\n\r\n\t/**\r\n\t * This method calculates the width of the new image. Basically, calculate\r\n\t * the hypotenuse of the width and height of the image.\r\n\t * \r\n\t * @param image - The original image\r\n\t * @return The width and height of the square that can hold the image\r\n\t *         rotated at any angle.\r\n\t */\r\n\tprivate double getNewImageWidth(BufferedImage image) {\r\n\t\tint width = image.getWidth();\r\n\t\tint height = image.getHeight();\r\n\r\n\t\tdouble newWidth = width * width + height * height;\r\n\t\tnewWidth = Math.ceil(Math.pow(newWidth, 0.5));\r\n\r\n\t\treturn newWidth;\r\n\t}\r\n\r\n\t/**\r\n\t * This method copies the image to a new image. The original image is placed\r\n\t * in the center of the new image. The rest of the image is filled with\r\n\t * transparent pixels.\r\n\t * \r\n\t * @param image - The original image.\r\n\t * @param newWidth - the width and height of the new image.\r\n\t * @return The translated image\r\n\t */\r\n\tprivate BufferedImage translateImage(BufferedImage image, int newWidth) {\r\n\t\tBufferedImage newImage = new BufferedImage(newWidth, newWidth,\r\n\t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n\t\tGraphics2D g2d = (Graphics2D) newImage.getGraphics();\r\n\t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n\t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n\t\tg2d.setColor(new Color(0, 0, 0, 0));\r\n\t\tg2d.fillRect(0, 0, newWidth, newWidth);\r\n\t\tint x = (newWidth - image.getWidth()) / 2;\r\n\t\tint y = (newWidth - image.getHeight()) / 2;\r\n\t\tg2d.drawImage(image, x, y, null);\r\n\t\tg2d.dispose();\r\n\r\n\t\treturn newImage;\r\n\t}\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SrVoF.png","title":"Rotating Image with AffineTransform","body":"<p>I tried to use @Atreide's answer.  The image clipped as I rotated it.</p>\n<p>I needed a way to rotate an image on its center point so the entire image would be visible no matter the angle of rotation.</p>\n<p>Here's an example of what I mean.</p>\n<p><a href=\"https://i.stack.imgur.com/SrVoF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SrVoF.png\" alt=\"enter image description here\" /></a></p>\n<p>The triangle has been rotated 57.3 degrees or 1 radian.</p>\n<p>What I needed to do was copy the triangle image to an image large enough to hold the image at any angle of rotation.  Then I could rotate the copied image on its center point.</p>\n<p>Here's the code I used.  I'm rotating the triangle on its center point.</p>\n<pre><code>/**\n * &lt;p&gt;\n * This method will rotate an image on its center point.\n * &lt;/p&gt;\n * &lt;p&gt;\n * First, the image is copied to an image large enough to hold the rotated\n * image at any angle. Then, the copied image is rotated.\n * &lt;/p&gt;\n * \n * @param image    - The image to be rotated.\n * @param rotation - The rotation angle in radians. A positive value rotates\n *                 the image clockwise. A negative value rotates the image\n *                 counterclockwise.\n * @return The rotated image\n */\npublic BufferedImage rotateImage(BufferedImage image, double rotation) {\n    double newWidthD = getNewImageWidth(image);\n    double halfWidthD = newWidthD / 2.0;\n    int newWidthI = (int) newWidthD;\n\n    BufferedImage newImage = translateImage(image, newWidthI);\n    BufferedImage outputImage = new BufferedImage(newWidthI, newWidthI,\n            image.getType());\n    AffineTransform tx = AffineTransform.getRotateInstance(rotation,\n            halfWidthD, halfWidthD);\n    AffineTransformOp op = new AffineTransformOp(tx,\n            AffineTransformOp.TYPE_BILINEAR);\n    op.filter(newImage, outputImage);\n\n    return outputImage;\n}\n\n/**\n * This method calculates the width of the new image. Basically, calculate\n * the hypotenuse of the width and height of the image.\n * \n * @param image - The original image\n * @return The width and height of the square that can hold the image\n *         rotated at any angle.\n */\nprivate double getNewImageWidth(BufferedImage image) {\n    int width = image.getWidth();\n    int height = image.getHeight();\n\n    double newWidth = width * width + height * height;\n    newWidth = Math.ceil(Math.pow(newWidth, 0.5));\n\n    return newWidth;\n}\n\n/**\n * This method copies the image to a new image. The original image is placed\n * in the center of the new image. The rest of the image is filled with\n * transparent pixels.\n * \n * @param image - The original image.\n * @param newWidth - the width and height of the new image.\n * @return The translated image\n */\nprivate BufferedImage translateImage(BufferedImage image, int newWidth) {\n    BufferedImage newImage = new BufferedImage(newWidth, newWidth,\n            BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2d = (Graphics2D) newImage.getGraphics();\n    g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n            RenderingHints.VALUE_ANTIALIAS_ON);\n    g2d.setColor(new Color(0, 0, 0, 0));\n    g2d.fillRect(0, 0, newWidth, newWidth);\n    int x = (newWidth - image.getWidth()) / 2;\n    int y = (newWidth - image.getHeight()) / 2;\n    g2d.drawImage(image, x, y, null);\n    g2d.dispose();\n\n    return newImage;\n}\n</code></pre>\n"}],"owner":{"display_name":"user2410128"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25564,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":20280225,"answer_count":4,"score":10,"last_activity_date":1692469082,"creation_date":1385676476,"question_id":20275424,"body_markdown":"I have got class called `Airplane`. Inside this class i have got variable `img` which is a `BufferedImage` type. What is more i have got class `WorldMap` which overrides function `paintComponent(Graphics g)`:\r\n\r\n\t@Override\r\n    public void paintComponent(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.drawImage(mapa, 0, 0, getWidth(), getHeight(), null); \r\n        drawAirplanes(g2d);\r\n    }\r\n\r\nFunction `drawAirplanes()` look like this:\r\n\r\n\tprivate void drawAirplane(Graphics2D g){\r\n\t\tfor(Samolot i: s){\r\n\t\t\ti.rotateAirplane();\r\n\t\t\tg.drawImage(i.getImg(),i.getX(),i.getY(),(int)i.getDim().getWidth(),(int)i.getDim().getHeight(),  null);\r\n\t\t}\r\n\t}\r\n\r\nIt simply need to 1) rotate airplane (BufferedImage inside Airplane object) 2) draw him.\r\n\r\n\r\nMy Airplane.rotateAirplane() function looks like this:\r\n\r\n     public void rotateSamolot() {\r\n\t   AffineTransform tx = new AffineTransform();\r\n\r\n\t   tx.translate(10,10); //10, 10 is height and width of img divide by 2\r\n\t   tx.rotate(Math.PI / 2);\r\n\t   tx.translate(-10,-10); \r\n\t\r\n\t   AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\r\n\t\r\n\t   BufferedImage newImage =new BufferedImage(20, 20, img.getType()); //20, 20 is a height and width of img ofc\r\n\t   op.filter(img, newImage);\r\n\t   \r\n           this.img = newImage;\r\n     }\r\n\r\n\r\nofc when im running my program only `mapa` object is drawn. when im deleting this lane\r\n\r\n`this.img = newImage;`\r\n\r\ni have got ofc my airplane too but not rotated.","title":"Rotating Image with AffineTransform","body":"<p>I have got class called <code>Airplane</code>. Inside this class i have got variable <code>img</code> which is a <code>BufferedImage</code> type. What is more i have got class <code>WorldMap</code> which overrides function <code>paintComponent(Graphics g)</code>:</p>\n\n<pre><code>@Override\npublic void paintComponent(Graphics g) {\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.drawImage(mapa, 0, 0, getWidth(), getHeight(), null); \n    drawAirplanes(g2d);\n}\n</code></pre>\n\n<p>Function <code>drawAirplanes()</code> look like this:</p>\n\n<pre><code>private void drawAirplane(Graphics2D g){\n    for(Samolot i: s){\n        i.rotateAirplane();\n        g.drawImage(i.getImg(),i.getX(),i.getY(),(int)i.getDim().getWidth(),(int)i.getDim().getHeight(),  null);\n    }\n}\n</code></pre>\n\n<p>It simply need to 1) rotate airplane (BufferedImage inside Airplane object) 2) draw him.</p>\n\n<p>My Airplane.rotateAirplane() function looks like this:</p>\n\n<pre><code> public void rotateSamolot() {\n   AffineTransform tx = new AffineTransform();\n\n   tx.translate(10,10); //10, 10 is height and width of img divide by 2\n   tx.rotate(Math.PI / 2);\n   tx.translate(-10,-10); \n\n   AffineTransformOp op = new AffineTransformOp(tx, AffineTransformOp.TYPE_BILINEAR);\n\n   BufferedImage newImage =new BufferedImage(20, 20, img.getType()); //20, 20 is a height and width of img ofc\n   op.filter(img, newImage);\n\n       this.img = newImage;\n }\n</code></pre>\n\n<p>ofc when im running my program only <code>mapa</code> object is drawn. when im deleting this lane</p>\n\n<p><code>this.img = newImage;</code></p>\n\n<p>i have got ofc my airplane too but not rotated.</p>\n"},{"tags":["java","android","listview","save","export"],"comments":[{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692431520,"post_id":76934081,"comment_id":135624688,"body_markdown":"First of all, you are writing to a `txt` file, but your question is about PDF? &#129300; Also your list is displaying strings, why don&#39;t you simply write strings to the file, why are you casting list items to `Object` first?","body":"First of all, you are writing to a <code>txt</code> file, but your question is about PDF? 🤔 Also your list is displaying strings, why don&#39;t you simply write strings to the file, why are you casting list items to <code>Object</code> first?"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692431762,"post_id":76934081,"comment_id":135624703,"body_markdown":"Also you are opening and closing the file for every item in the list, you should probably open the file *before* the loop and close it *after* the loop.","body":"Also you are opening and closing the file for every item in the list, you should probably open the file <i>before</i> the loop and close it <i>after</i> the loop."},{"owner":{"account_id":25778635,"reputation":5,"user_id":19524546,"display_name":"MR loo"},"score":0,"creation_date":1692432057,"post_id":76934081,"comment_id":135624732,"body_markdown":"I am a newbie\nI want to save the items that are displayed in the list view with a button in PDF format so that I can use them later. Please, if possible, solve this problem.","body":"I am a newbie I want to save the items that are displayed in the list view with a button in PDF format so that I can use them later. Please, if possible, solve this problem."},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692432466,"post_id":76934081,"comment_id":135624753,"body_markdown":"Reading the docs about the built-in PdfDocument API would be a good place to start: https://developer.android.com/reference/android/graphics/pdf/PdfDocument","body":"Reading the docs about the built-in PdfDocument API would be a good place to start: <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfDocument\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/graphics/pdf/&hellip;</a>"},{"owner":{"account_id":14327066,"reputation":141,"user_id":10348872,"display_name":"Shovel_Knight"},"score":0,"creation_date":1692432531,"post_id":76934081,"comment_id":135624756,"body_markdown":"Also try this tutorial, I haven&#39;t followed it myself but it looks very simple. https://www.geeksforgeeks.org/how-to-generate-a-pdf-file-in-android-app/","body":"Also try this tutorial, I haven&#39;t followed it myself but it looks very simple. <a href=\"https://www.geeksforgeeks.org/how-to-generate-a-pdf-file-in-android-app/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/how-to-generate-a-pdf-file-in-android-app</a>"},{"owner":{"account_id":25778635,"reputation":5,"user_id":19524546,"display_name":"MR loo"},"score":0,"creation_date":1692432781,"post_id":76934081,"comment_id":135624774,"body_markdown":"As I said before, I just left and now I&#39;m really confused. If you can write me the code so I can understand more, thanks","body":"As I said before, I just left and now I&#39;m really confused. If you can write me the code so I can understand more, thanks"}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692468749,"creation_date":1692468749,"answer_id":76936470,"question_id":76934081,"body_markdown":"Really should not use a list view now a days, a recyclerview is more efficient for display to a screen but as you can draw view direct to a PDF with [PDFDocument][1] a list view or recyclerview can either create non standard PDF pages sizes to fit everything in one page or you have to work out how to split the items over multiple pages.\r\n\r\nI&#39;ve done a [full example][2] of how to draw a recyclerview to multiple page pdf.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/graphics/pdf/PdfDocument\r\n  [2]: https://github.com/Zardozz/RecyclerviewPdf","title":"I want save all items in ListView to pdf file","body":"<p>Really should not use a list view now a days, a recyclerview is more efficient for display to a screen but as you can draw view direct to a PDF with <a href=\"https://developer.android.com/reference/android/graphics/pdf/PdfDocument\" rel=\"nofollow noreferrer\">PDFDocument</a> a list view or recyclerview can either create non standard PDF pages sizes to fit everything in one page or you have to work out how to split the items over multiple pages.</p>\n<p>I've done a <a href=\"https://github.com/Zardozz/RecyclerviewPdf\" rel=\"nofollow noreferrer\">full example</a> of how to draw a recyclerview to multiple page pdf.</p>\n"}],"owner":{"account_id":25778635,"reputation":5,"user_id":19524546,"display_name":"MR loo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936470,"answer_count":1,"score":0,"last_activity_date":1692468749,"creation_date":1692431203,"question_id":76934081,"body_markdown":"I wrote a barcode reader program that displays barcodes in a listview\r\n\r\n No matter how hard I tried, I could not save my watch list items to a PDF file by pressing a button, please help me.\r\n\r\n```\r\n@SuppressWarnings(&quot;ALL&quot;)\r\npublic class MainActivity extends AppCompatActivity  implements View.OnClickListener {\r\n\r\n    Button scanBtn, btnok;\r\n\r\n    TextView  messageFormat,ragham ;\r\n    ArrayList&lt;String&gt; barcodelist = new ArrayList&lt;&gt;();\r\n\r\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\r\n\r\n    ArrayAdapter &lt;String&gt; adapter;\r\n    String filename = &quot;&quot;;\r\n    String filepath = &quot;&quot;;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // referencing and initializing\r\n        // the button and textviews\r\n        scanBtn = findViewById(R.id.btnscann);\r\n        filename = &quot;barcodes.txt&quot;;\r\n        ListView list1 = findViewById(R.id.list1);\r\n\r\n        adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,barcodelist);\r\n\r\n        list1.setAdapter(adapter);\r\n\r\n\r\n\r\n        scanBtn.setOnClickListener(this);\r\n\r\n\r\n\r\n        Button b=findViewById(R.id.btnok);\r\n        btnok.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                Toast.makeText(MainActivity.this, &quot;ok&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                ObjectOutputStream out;\r\n               Object[] objs = new Object[list1.getCount()];\r\n               for (int i = 0 ; i &lt; list1.getCount();i++) {\r\n                  Object obj = (Object)list1.getItemAtPosition(i);\r\n                  objs[i] = obj;\r\n               }                try {\r\n                   out = new ObjectOutputStream\r\n                           (new FileOutputStream(new File(filename)));\r\n                   out.writeObject(objs);\r\n                   out.flush();\r\n                    out.close();\r\n                } catch (FileNotFoundException e) {\r\n                   e.printStackTrace();\r\n               } catch (IOException e) {\r\n                    e.printStackTrace();\r\n               }\r\n\r\n\r\n            }\r\n});\r\n```","title":"I want save all items in ListView to pdf file","body":"<p>I wrote a barcode reader program that displays barcodes in a listview</p>\n<p>No matter how hard I tried, I could not save my watch list items to a PDF file by pressing a button, please help me.</p>\n<pre><code>@SuppressWarnings(&quot;ALL&quot;)\npublic class MainActivity extends AppCompatActivity  implements View.OnClickListener {\n\n    Button scanBtn, btnok;\n\n    TextView  messageFormat,ragham ;\n    ArrayList&lt;String&gt; barcodelist = new ArrayList&lt;&gt;();\n\n    HashSet&lt;String&gt; hashSet = new HashSet&lt;String&gt;();\n\n    ArrayAdapter &lt;String&gt; adapter;\n    String filename = &quot;&quot;;\n    String filepath = &quot;&quot;;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // referencing and initializing\n        // the button and textviews\n        scanBtn = findViewById(R.id.btnscann);\n        filename = &quot;barcodes.txt&quot;;\n        ListView list1 = findViewById(R.id.list1);\n\n        adapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1,barcodelist);\n\n        list1.setAdapter(adapter);\n\n\n\n        scanBtn.setOnClickListener(this);\n\n\n\n        Button b=findViewById(R.id.btnok);\n        btnok.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                Toast.makeText(MainActivity.this, &quot;ok&quot;, Toast.LENGTH_SHORT).show();\n\n\n                ObjectOutputStream out;\n               Object[] objs = new Object[list1.getCount()];\n               for (int i = 0 ; i &lt; list1.getCount();i++) {\n                  Object obj = (Object)list1.getItemAtPosition(i);\n                  objs[i] = obj;\n               }                try {\n                   out = new ObjectOutputStream\n                           (new FileOutputStream(new File(filename)));\n                   out.writeObject(objs);\n                   out.flush();\n                    out.close();\n                } catch (FileNotFoundException e) {\n                   e.printStackTrace();\n               } catch (IOException e) {\n                    e.printStackTrace();\n               }\n\n\n            }\n});\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","servlets","nullpointerexception"],"comments":[{"owner":{"account_id":29217477,"reputation":11,"user_id":22383968,"display_name":"meimaymay"},"score":0,"creation_date":1692341599,"post_id":76923852,"comment_id":135612448,"body_markdown":"I figured it out. The null pointer exception comes from loginVo = null in public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response). Without &quot;@Valid&quot; the program runs fine. So the problem happens during validation / exception handling process. I realise there is a type in ExceptionHangler(Exception e). Should be &quot;ExceptionHandler&quot;. Annotations like ExceptionHandler and ControllerAdvice use reflection to discover and apply the functionality defined in your classes. These annotations rely on correctly named methods to handle specific exceptions.","body":"I figured it out. The null pointer exception comes from loginVo = null in public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response). Without &quot;@Valid&quot; the program runs fine. So the problem happens during validation / exception handling process. I realise there is a type in ExceptionHangler(Exception e). Should be &quot;ExceptionHandler&quot;. Annotations like ExceptionHandler and ControllerAdvice use reflection to discover and apply the functionality defined in your classes. These annotations rely on correctly named methods to handle specific exceptions."},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1692365241,"post_id":76923852,"comment_id":135616978,"body_markdown":"Can you please write your solution as an answer to the question and accept it? comments are not meant for answers and they&#39;re not very noticeable","body":"Can you please write your solution as an answer to the question and accept it? comments are not meant for answers and they&#39;re not very noticeable"}],"answers":[{"tags":[],"owner":{"account_id":29217477,"reputation":11,"user_id":22383968,"display_name":"meimaymay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692468418,"creation_date":1692468418,"answer_id":76936450,"question_id":76923852,"body_markdown":"I figured it out. The null pointer exception comes from loginVo = null in public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response). Without &quot;@Valid&quot; the program runs fine. So the problem happens during validation / exception handling process. I realise there is a type in ExceptionHangler(Exception e). Should be &quot;ExceptionHandler&quot;. Annotations like ExceptionHandler and ControllerAdvice use reflection to discover and apply the functionality defined in your classes. These annotations rely on correctly named methods to handle specific exceptions.","title":"Server response: .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]","body":"<p>I figured it out. The null pointer exception comes from loginVo = null in public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response). Without &quot;@Valid&quot; the program runs fine. So the problem happens during validation / exception handling process. I realise there is a type in ExceptionHangler(Exception e). Should be &quot;ExceptionHandler&quot;. Annotations like ExceptionHandler and ControllerAdvice use reflection to discover and apply the functionality defined in your classes. These annotations rely on correctly named methods to handle specific exceptions.</p>\n"}],"owner":{"account_id":29217477,"reputation":11,"user_id":22383968,"display_name":"meimaymay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76936450,"answer_count":1,"score":0,"last_activity_date":1692468418,"creation_date":1692293209,"question_id":76923852,"body_markdown":"I am building a user login page. The server returns the following null pointer exception (below) when I input the right user mobile and password. &quot;Other Exception&quot; is printed from GlobalExceptionHandler\r\n\r\n.m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]\r\n[enter image description here][1]\r\n\r\nAlso, the public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) function under LoginController doesn&#39;t run. (System.out.println(&quot;LoginController doLogin running&quot;); doesn&#39;t get printed out). The null pointer exception happens before the mobile and the password are received from the server.\r\n\r\nBefore adding HttpServletRequest request, HttpServletResponse response as inputs into the function, the user login worked fine and the doLogin function gets executed in full. After adding these two input, the null pointer exception happens.\r\n\r\nCould I please get some guidance on how I can identify what cause the null pointer exception?\r\n\r\nlogin.html\r\n\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang = &quot;en&quot;\r\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Login&lt;/title&gt;\r\n\r\n\r\n    &lt;!-- jquery --&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- bootstrap --&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/bootstrap/css/bootstrap.min.css}&quot; /&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- jquery-validator --&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/jquery-validation/jquery.validate.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/jquery-validation/localization/messages_zh.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- layer --&gt;\r\n        &lt;!-- pop ups--&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/layer/layer.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- md5.js --&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/md5.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;!-- common.js --&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/common.js}&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n        html,body{\r\n            height:100%;\r\n            width:100%;\r\n        }\r\n        body{\r\n            background:url(&#39;@{/img/bg.jpg}&#39;) no-repeat;\r\n            background-size:100% 100%;\r\n            padding-top:100px;\r\n        }\r\n    &lt;/style&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;form name=&quot;loginForm&quot; id=&quot;loginForm&quot; method=&quot;post&quot;  style=&quot;width:50%; margin:0 auto;&quot;&gt;\r\n\r\n    &lt;h2 style=&quot;text-align:center; margin-bottom: 20px&quot;&gt;User Login&lt;/h2&gt;\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;label class=&quot;form-label col-md-4&quot;&gt;Please input your mobile number&lt;/label&gt;\r\n            &lt;div class=&quot;col-md-5&quot;&gt;\r\n                &lt;!-- mobile len requirement 11 digits--&gt;\r\n                &lt;input id=&quot;mobile&quot; name = &quot;mobile&quot; class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;mobile-number&quot; required=&quot;true&quot;  minlength=&quot;11&quot; maxlength=&quot;11&quot; /&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;col-md-1&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;form-group&quot;&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;label class=&quot;form-label col-md-4&quot;&gt;Please input your password&lt;/label&gt;\r\n            &lt;div class=&quot;col-md-5&quot;&gt;\r\n                &lt;!-- password len requirement 6-16 digits--&gt;\r\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot;  placeholder=&quot;password&quot; required=&quot;true&quot; minlength=&quot;6&quot; maxlength=&quot;16&quot; /&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=&quot;row&quot; style=&quot;margin-top:40px;&quot;&gt;\r\n        &lt;div class=&quot;col-md-5&quot;&gt;\r\n            &lt;button class=&quot;btn btn-primary btn-block&quot; type=&quot;reset&quot; onclick=&quot;reset()&quot;&gt;reset&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;col-md-5&quot;&gt;\r\n            &lt;button class=&quot;btn btn-primary btn-block&quot; type=&quot;submit&quot; onclick=&quot;login()&quot;&gt;login&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;script&gt;\r\n\r\n\r\n    function login(){\r\n        // validate content in the table first, after validation passes, call doLogin function\r\n        $(&quot;#loginForm&quot;).validate({\r\n            submitHandler:function(form){\r\n                doLogin();\r\n            }\r\n        });\r\n    }\r\n    function doLogin(){\r\n        g_showLoading();\r\n\r\n        //get password input from user and do the first MD5 encoding\r\n        var inputPass = $(&quot;#password&quot;).val();\r\n        var salt = g_passsword_salt;\r\n        var str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4);\r\n        var password = md5(str);\r\n\r\n        $.ajax({\r\n            url: &quot;/login/doLogin&quot;,\r\n            type: &quot;POST&quot;,\r\n            data:{\r\n                mobile:$(&quot;#mobile&quot;).val(),\r\n                password: password\r\n            },\r\n            success:function(data){\r\n\r\n                layer.closeAll();\r\n                if(data.code == 200){\r\n                    layer.msg(&quot;login successful&quot;);\r\n    \r\n                    window.location.href=&quot;/goods/toList&quot;;\r\n                }else{\r\n                    layer.msg(&quot;something wrong&quot;)\r\n                    layer.msg(data.message); // data.msg won&#39;t work\r\n                }\r\n            },\r\n            error:function(){\r\n                layer.closeAll();\r\n            }\r\n        });\r\n    }\r\n&lt;/script&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nLoginController.java\r\n\r\n```\r\npackage com.xxxx.seckill.controller;\r\n\r\nimport com.xxxx.seckill.service.IUserService;\r\nimport com.xxxx.seckill.vo.LoginVo;\r\nimport com.xxxx.seckill.vo.RespBean;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.validation.Valid;\r\n\r\n@Controller\r\n//should not use RestController, should use Controller; RestController will add response body to all methods under this class, will return a body, not jumping to another page\r\n@RequestMapping(&quot;/login&quot;)\r\n@Slf4j //lombok, for logging output e.g. log infor, log warning, log error\r\npublic class LoginController {\r\n\r\n    @Autowired\r\n    private IUserService userService;\r\n\r\n    @RequestMapping(&quot;/toLogin&quot;) //to log in page 跳转登录页\r\n    public String toLogin(){\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    \r\n    @RequestMapping(&quot;/doLogin&quot;)\r\n    @ResponseBody\r\n    //公用返回对象 response bean, to return response bean, need to @ResponseBody\r\n    public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) {\r\n        System.out.println(&quot;LoginController doLogin running&quot;);\r\n        // 接受传参 receive parameter from users with LoginVo\r\n        log.info(&quot;{}&quot;, loginVo); //log can be used directly as it is included in Slf4j\r\n        return userService.doLogin(loginVo, request, response);\r\n//        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nUserService\r\nThe doLogin function doesn&#39;t get executed. None of the System.out.println gets printed.\r\n\r\n```\r\npublic interface IUserService extends IService&lt;User&gt; {\r\n\r\n\r\n    RespBean doLogin(LoginVo loginVo, HttpServletRequest request, HttpServletResponse response);\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements IUserService {\r\n\r\n    @Autowired\r\n    private UserMapper userMapper;\r\n\r\n    @Override\r\n    public RespBean doLogin(LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) {\r\n        System.out.println(&quot;userService doLogin&quot;);\r\n        String mobile = loginVo.getMobile();\r\n        String password = loginVo.getPassword();\r\n\r\n\r\n        // find user with mobile\r\n        User user = userMapper.selectById(mobile);\r\n        System.out.println(&quot;user is not null, user mapper injected&quot;);\r\n        if (null == user) {\r\n            System.out.println(&quot;user doesn&#39;t exist&quot;);\r\n            throw new GlobalException(RespBeanEnum.LOGIN_ERROR);\r\n        }\r\n\r\n        // verify whether user password is correct\r\n        if (!MD5Util.frontPassToDBPass(password, user.getSalt()).equals(user.getPassword())) {\r\n\r\n            System.out.println(&quot;wrong password&quot;);\r\n            throw new GlobalException(RespBeanEnum.LOGIN_ERROR);\r\n\r\n        }\r\n        System.out.println(&quot;generating cookie&quot;);\r\n        //generate cookie\r\n        String ticket = UUIDUtil.uuid();\r\n        request.getSession().setAttribute(ticket, user);\r\n        CookieUtil.setCookie(request, response, &quot;userTicket&quot;, ticket);\r\n        return RespBean.success();\r\n    }\r\n}\r\n\r\n```\r\n\r\nGlobalExceptionHandler\r\n\r\n\r\n```\r\n\r\n@RestControllerAdvice // will return a response body\r\npublic class GlobalExceptionHandler {\r\n\r\n    @ExceptionHandler(Exception.class)\r\n    public RespBean ExceptionHangler(Exception e) {\r\n        if (e instanceof GlobalException) {\r\n            System.out.println(&quot;GlobalException&quot;);\r\n            GlobalException ex = (GlobalException) e;\r\n            return RespBean.error(ex.getRespBeanEnum());\r\n        } else if (e instanceof BindException) {\r\n            System.out.println(&quot;BindException&quot;);\r\n            BindException ex = (BindException) e;\r\n            RespBean respBean = RespBean.error(RespBeanEnum.BIND_ERROR);\r\n            respBean.setMessage(&quot;Validation error: &quot; + ex.getBindingResult().getAllErrors().get(0).getDefaultMessage());\r\n            return respBean;\r\n        }\r\n        System.out.println(&quot;Other Exception&quot;);\r\n        return RespBean.error(RespBeanEnum.ERROR);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI tried rebuilding the project in IDEA. And I added all these system.out.println to identify the cause. None of the system.out.println got printed except the &quot;Other Exception&quot; from GlobalExceptionHandler.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zx5V6.png","title":"Server response: .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]","body":"<p>I am building a user login page. The server returns the following null pointer exception (below) when I input the right user mobile and password. &quot;Other Exception&quot; is printed from GlobalExceptionHandler</p>\n<p>.m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException]\n<a href=\"https://i.stack.imgur.com/zx5V6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Also, the public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) function under LoginController doesn't run. (System.out.println(&quot;LoginController doLogin running&quot;); doesn't get printed out). The null pointer exception happens before the mobile and the password are received from the server.</p>\n<p>Before adding HttpServletRequest request, HttpServletResponse response as inputs into the function, the user login worked fine and the doLogin function gets executed in full. After adding these two input, the null pointer exception happens.</p>\n<p>Could I please get some guidance on how I can identify what cause the null pointer exception?</p>\n<p>login.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang = &quot;en&quot;\n      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Login&lt;/title&gt;\n\n\n    &lt;!-- jquery --&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;!-- bootstrap --&gt;\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{/bootstrap/css/bootstrap.min.css}&quot; /&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;!-- jquery-validator --&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/jquery-validation/jquery.validate.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/jquery-validation/localization/messages_zh.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;!-- layer --&gt;\n        &lt;!-- pop ups--&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/layer/layer.js}&quot;&gt;&lt;/script&gt;\n    &lt;!-- md5.js --&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/md5.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;!-- common.js --&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/common.js}&quot;&gt;&lt;/script&gt;\n\n    &lt;style type=&quot;text/css&quot;&gt;\n        html,body{\n            height:100%;\n            width:100%;\n        }\n        body{\n            background:url('@{/img/bg.jpg}') no-repeat;\n            background-size:100% 100%;\n            padding-top:100px;\n        }\n    &lt;/style&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;form name=&quot;loginForm&quot; id=&quot;loginForm&quot; method=&quot;post&quot;  style=&quot;width:50%; margin:0 auto;&quot;&gt;\n\n    &lt;h2 style=&quot;text-align:center; margin-bottom: 20px&quot;&gt;User Login&lt;/h2&gt;\n\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;label class=&quot;form-label col-md-4&quot;&gt;Please input your mobile number&lt;/label&gt;\n            &lt;div class=&quot;col-md-5&quot;&gt;\n                &lt;!-- mobile len requirement 11 digits--&gt;\n                &lt;input id=&quot;mobile&quot; name = &quot;mobile&quot; class=&quot;form-control&quot; type=&quot;text&quot; placeholder=&quot;mobile-number&quot; required=&quot;true&quot;  minlength=&quot;11&quot; maxlength=&quot;11&quot; /&gt;\n            &lt;/div&gt;\n            &lt;div class=&quot;col-md-1&quot;&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;form-group&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;label class=&quot;form-label col-md-4&quot;&gt;Please input your password&lt;/label&gt;\n            &lt;div class=&quot;col-md-5&quot;&gt;\n                &lt;!-- password len requirement 6-16 digits--&gt;\n                &lt;input id=&quot;password&quot; name=&quot;password&quot; class=&quot;form-control&quot; type=&quot;password&quot;  placeholder=&quot;password&quot; required=&quot;true&quot; minlength=&quot;6&quot; maxlength=&quot;16&quot; /&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=&quot;row&quot; style=&quot;margin-top:40px;&quot;&gt;\n        &lt;div class=&quot;col-md-5&quot;&gt;\n            &lt;button class=&quot;btn btn-primary btn-block&quot; type=&quot;reset&quot; onclick=&quot;reset()&quot;&gt;reset&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;col-md-5&quot;&gt;\n            &lt;button class=&quot;btn btn-primary btn-block&quot; type=&quot;submit&quot; onclick=&quot;login()&quot;&gt;login&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;script&gt;\n\n\n    function login(){\n        // validate content in the table first, after validation passes, call doLogin function\n        $(&quot;#loginForm&quot;).validate({\n            submitHandler:function(form){\n                doLogin();\n            }\n        });\n    }\n    function doLogin(){\n        g_showLoading();\n\n        //get password input from user and do the first MD5 encoding\n        var inputPass = $(&quot;#password&quot;).val();\n        var salt = g_passsword_salt;\n        var str = &quot;&quot; + salt.charAt(0) + salt.charAt(2) + inputPass + salt.charAt(5) + salt.charAt(4);\n        var password = md5(str);\n\n        $.ajax({\n            url: &quot;/login/doLogin&quot;,\n            type: &quot;POST&quot;,\n            data:{\n                mobile:$(&quot;#mobile&quot;).val(),\n                password: password\n            },\n            success:function(data){\n\n                layer.closeAll();\n                if(data.code == 200){\n                    layer.msg(&quot;login successful&quot;);\n    \n                    window.location.href=&quot;/goods/toList&quot;;\n                }else{\n                    layer.msg(&quot;something wrong&quot;)\n                    layer.msg(data.message); // data.msg won't work\n                }\n            },\n            error:function(){\n                layer.closeAll();\n            }\n        });\n    }\n&lt;/script&gt;\n&lt;/html&gt;\n</code></pre>\n<p>LoginController.java</p>\n<pre><code>package com.xxxx.seckill.controller;\n\nimport com.xxxx.seckill.service.IUserService;\nimport com.xxxx.seckill.vo.LoginVo;\nimport com.xxxx.seckill.vo.RespBean;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.validation.Valid;\n\n@Controller\n//should not use RestController, should use Controller; RestController will add response body to all methods under this class, will return a body, not jumping to another page\n@RequestMapping(&quot;/login&quot;)\n@Slf4j //lombok, for logging output e.g. log infor, log warning, log error\npublic class LoginController {\n\n    @Autowired\n    private IUserService userService;\n\n    @RequestMapping(&quot;/toLogin&quot;) //to log in page 跳转登录页\n    public String toLogin(){\n        return &quot;login&quot;;\n    }\n\n    \n    @RequestMapping(&quot;/doLogin&quot;)\n    @ResponseBody\n    //公用返回对象 response bean, to return response bean, need to @ResponseBody\n    public RespBean doLogin(@Valid LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) {\n        System.out.println(&quot;LoginController doLogin running&quot;);\n        // 接受传参 receive parameter from users with LoginVo\n        log.info(&quot;{}&quot;, loginVo); //log can be used directly as it is included in Slf4j\n        return userService.doLogin(loginVo, request, response);\n//        return null;\n    }\n}\n\n</code></pre>\n<p>UserService\nThe doLogin function doesn't get executed. None of the System.out.println gets printed.</p>\n<pre><code>public interface IUserService extends IService&lt;User&gt; {\n\n\n    RespBean doLogin(LoginVo loginVo, HttpServletRequest request, HttpServletResponse response);\n\n}\n</code></pre>\n<pre><code>@Service\npublic class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements IUserService {\n\n    @Autowired\n    private UserMapper userMapper;\n\n    @Override\n    public RespBean doLogin(LoginVo loginVo, HttpServletRequest request, HttpServletResponse response) {\n        System.out.println(&quot;userService doLogin&quot;);\n        String mobile = loginVo.getMobile();\n        String password = loginVo.getPassword();\n\n\n        // find user with mobile\n        User user = userMapper.selectById(mobile);\n        System.out.println(&quot;user is not null, user mapper injected&quot;);\n        if (null == user) {\n            System.out.println(&quot;user doesn't exist&quot;);\n            throw new GlobalException(RespBeanEnum.LOGIN_ERROR);\n        }\n\n        // verify whether user password is correct\n        if (!MD5Util.frontPassToDBPass(password, user.getSalt()).equals(user.getPassword())) {\n\n            System.out.println(&quot;wrong password&quot;);\n            throw new GlobalException(RespBeanEnum.LOGIN_ERROR);\n\n        }\n        System.out.println(&quot;generating cookie&quot;);\n        //generate cookie\n        String ticket = UUIDUtil.uuid();\n        request.getSession().setAttribute(ticket, user);\n        CookieUtil.setCookie(request, response, &quot;userTicket&quot;, ticket);\n        return RespBean.success();\n    }\n}\n\n</code></pre>\n<p>GlobalExceptionHandler</p>\n<pre><code>\n@RestControllerAdvice // will return a response body\npublic class GlobalExceptionHandler {\n\n    @ExceptionHandler(Exception.class)\n    public RespBean ExceptionHangler(Exception e) {\n        if (e instanceof GlobalException) {\n            System.out.println(&quot;GlobalException&quot;);\n            GlobalException ex = (GlobalException) e;\n            return RespBean.error(ex.getRespBeanEnum());\n        } else if (e instanceof BindException) {\n            System.out.println(&quot;BindException&quot;);\n            BindException ex = (BindException) e;\n            RespBean respBean = RespBean.error(RespBeanEnum.BIND_ERROR);\n            respBean.setMessage(&quot;Validation error: &quot; + ex.getBindingResult().getAllErrors().get(0).getDefaultMessage());\n            return respBean;\n        }\n        System.out.println(&quot;Other Exception&quot;);\n        return RespBean.error(RespBeanEnum.ERROR);\n\n    }\n}\n\n</code></pre>\n<p>I tried rebuilding the project in IDEA. And I added all these system.out.println to identify the cause. None of the system.out.println got printed except the &quot;Other Exception&quot; from GlobalExceptionHandler.</p>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":388401,"reputation":6292,"user_id":747320,"accept_rate":100,"display_name":"Basanth Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309269019,"creation_date":1309268352,"answer_id":6507355,"question_id":6507073,"body_markdown":"This is part of the code I used for generating with JasperPrint; and sending the file back to a browser response. This using JDBC though, not EJBQL. But the JasperReports part of the code is the same.\r\n\r\n\r\n                 FileResolver fileResolver = new FileResolver() {\r\n                                                @Override\r\n                                                public File resolveFile(String fileName) {\r\n                                                   return new File(getServletContext().getRealPath(&quot;/&quot;) + fileName);\r\n                                                }\r\n                                             };\r\n\r\n                 Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n                 parameters.put(&quot;REPORT_FILE_RESOLVER&quot;, fileResolver);\r\n\r\n                 ...... // blah blah\r\n\r\n                 JasperPrint jrprint = JasperFillManager.fillReport(input, parameters,  conn);\r\n\r\n                 byte[] reportBytes;\r\n\r\n                 jrprint.setName(&quot;MyFile.&quot; + fileFormat);\r\n\r\n                 response.setContentType(&quot;APPLICATION/OCTET-STREAM&quot;);\r\n                 String disHeader = &quot;Attachment;Filename=\\&quot;MyFile.&quot;;\r\n\r\n                 ServletOutputStream os = response.getOutputStream();\r\n\r\n                    response.setHeader(&quot;Content-Disposition&quot;, disHeader);\r\n\r\n                    reportBytes = JasperExportManager.exportReportToPdf(jrprint);\r\n                    os.write(reportBytes);","title":"Generating a pdf report using JasperRunManager","body":"<p>This is part of the code I used for generating with JasperPrint; and sending the file back to a browser response. This using JDBC though, not EJBQL. But the JasperReports part of the code is the same.</p>\n\n<pre><code>             FileResolver fileResolver = new FileResolver() {\n                                            @Override\n                                            public File resolveFile(String fileName) {\n                                               return new File(getServletContext().getRealPath(\"/\") + fileName);\n                                            }\n                                         };\n\n             Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\n             parameters.put(\"REPORT_FILE_RESOLVER\", fileResolver);\n\n             ...... // blah blah\n\n             JasperPrint jrprint = JasperFillManager.fillReport(input, parameters,  conn);\n\n             byte[] reportBytes;\n\n             jrprint.setName(\"MyFile.\" + fileFormat);\n\n             response.setContentType(\"APPLICATION/OCTET-STREAM\");\n             String disHeader = \"Attachment;Filename=\\\"MyFile.\";\n\n             ServletOutputStream os = response.getOutputStream();\n\n                response.setHeader(\"Content-Disposition\", disHeader);\n\n                reportBytes = JasperExportManager.exportReportToPdf(jrprint);\n                os.write(reportBytes);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3930160,"reputation":11,"user_id":3249098,"display_name":"user3249098"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391003894,"creation_date":1391003894,"answer_id":21433220,"question_id":6507073,"body_markdown":"You need to pass all the parameters needed as below:\r\n\r\n    JasperPrint jrprint = JasperFillManager.fillReport(input, parameters,  connections);","title":"Generating a pdf report using JasperRunManager","body":"<p>You need to pass all the parameters needed as below:</p>\n\n<pre><code>JasperPrint jrprint = JasperFillManager.fillReport(input, parameters,  connections);\n</code></pre>\n"}],"owner":{"account_id":772758,"reputation":113,"user_id":809941,"accept_rate":20,"display_name":"rym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11826,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1692468045,"creation_date":1309267127,"question_id":6507073,"body_markdown":"I want to generate a pdf report using ejbql ,but I dont know how to do that.\r\nI have tried to do thye following but an error occure:\r\n\r\n    parameterMap.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER,    entityManager);\r\n    parameterMap.put(&quot;priority&quot;, &quot;3&quot;);\r\n    try\r\n    {\r\n    JasperFillManager.fillReportToFile(&quot;C:/Documents and Settings/MyDocuments/NetBeansProjects/JiraMap/src/java/Reports/Test.jasper&quot;, parameterMap);\r\n    JasperRunManager.runReportToPdfFile(&quot;C:/Documents and Settings/MyDocuments/NetBeansProjects/JiraMap/src/java/Reports/Test.pdf&quot;, parameterMap);\r\n    }\r\n    catch (JRException ex)\r\n    {\r\n    ex.printStackTrace();\r\n    }\r\n\r\nTehb error is:\r\n\r\n\r\n    net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Documents and Settings\\My Documents\\NetBeansProjects\\JiraMap\\src\\java\\Reports\\Test.pdf\r\n\tat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:101)\r\n\tat net.sf.jasperreports.engine.JasperRunManager.runReportToPdfFile(JasperRunManager.java:93)\r\n\tat Reporting.ReportBean.main(ReportBean.java:38)\r\n    Caused by: java.io.EOFException\r\n\r\n**UPdate**\r\n\r\nI have use this code (I haven&#39;t use any parameter ) but always the report is empty:\r\n\r\n    JasperReport report = JasperCompileManager.compileReport(&quot;C:/Documents and Settings/My Documents/NetBeansProjects/JiraMap/src/java/Reports/Test.jrxml&quot;);\r\n    JasperPrint print = JasperFillManager.fillReport(report,null);\r\n    JasperExportManager.exportReportToPdfFile(print,&quot;C:/Documents and Settings/My Documents/NetBeansProjects/JiraMap/src/java/Reports/Test.pdf&quot;);\r\n\r\nMy report with the Aggregate Function count(I have tried to use the alias **as numebr** but it didn&#39;t work):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;Test&quot; language=&quot;groovy&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot;  topMargin=&quot;20&quot; bottomMargin=&quot;20&quot;&gt;\r\n\t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n    &lt;parameter name=&quot;priority&quot; class=&quot;java.lang.String&quot;&gt;\r\n    &lt;defaultValueExpression&gt;&lt;![CDATA[]]&gt;&lt;/defaultValueExpression&gt;\r\n    &lt;/parameter&gt;\r\n\r\n\t&lt;queryString language=&quot;ejbql&quot;&gt;\r\n\t\t&lt;![CDATA[select count(j)  from Jiraissue j where j.priority=&#39;3&#39;]]&gt;\r\n\t&lt;/queryString&gt;\r\n\t\t&lt;field name=&quot;count(j)&quot; class=&quot;java.lang.Long&quot;/&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;title&gt;\r\n\t\t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t\r\n\t\t&lt;/band&gt;\r\n\t&lt;/title&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band height=&quot;35&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageHeader&gt;\r\n\t&lt;columnHeader&gt;\r\n\t\t&lt;band height=&quot;84&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;staticText&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;28&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n\t\t\t\t&lt;textElement/&gt;\r\n\t\t\t\t&lt;text&gt;&lt;![CDATA[count(j)]]&gt;&lt;/text&gt;\r\n\t\t\t&lt;/staticText&gt;\r\n\t\t\r\n\t\t&lt;/band&gt;\r\n\t&lt;/columnHeader&gt;\r\n\t&lt;detail&gt;\r\n\t\t&lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;textField&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;11&quot; width=&quot;100&quot; height=&quot;20&quot;/&gt;\r\n\t\t\t\t&lt;textElement/&gt;\r\n\t\t\t\t&lt;textFieldExpression class=&quot;java.lang.Long&quot;&gt;  &lt;![CDATA[$F{count(j)}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t&lt;/textField&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/detail&gt;\r\n\t&lt;columnFooter&gt;\r\n\t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnFooter&gt;\r\n\t&lt;pageFooter&gt;\r\n\t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageFooter&gt;\r\n\t&lt;summary&gt;\r\n\t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n\r\nThe error is :\r\n\r\n    net.sf.jasperreports.engine.JRException: Error retrieving field value from bean : count(j)\r\n\tat    net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDat    aSource.java:123)\r\n\tat   net.sf.jasperreports.engine.data.JRJpaDataSource$PropertyReader.getValue(JRJpaDataSource.java:206)\r\n\tat  net.sf.jasperreports.engine.data.JRJpaDataSource.getFieldValue(JRJpaDataSource.java:131)\r\n\tat  net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:821)\r\n\tat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:785)\r\n\tat net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1482)\r\n\tat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:126)\r\n\tat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:946)\r\n\tat net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:118)\r\n\tat net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:435)\r\n\tat Reporting.ReportBean.main(ReportBean.java:41)\r\n    Caused by: java.lang.NoSuchMethodException: Unknown property &#39;count&#39;+ on bean class &#39;class java.lang.Long&#39;\r\n    [EL Info]: 2011-06-29 11:05:12.606--ServerSession(27055962)--file:/C:/Documents and     Settings/a497165/My Documents/NetBeansProjects/JiraMap/build/web/WEB-INF/classes/_JiraMapPU logout successful\r\n\tat   org.apache.commons.beanutils.PropertyUtilsBean.getMappedProperty(PropertyUtilsBean.java:624)\r\n\tat org.apache.commons.beanutils.PropertyUtilsBean.getMappedProperty(PropertyUtilsBean.java:570)\r\n\tat org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:758)\r\n\tat org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:837)\r\n\tat org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:426)\r\n\tat  net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:111)\r\n\t... 10 more\r\n","title":"Generating a pdf report using JasperRunManager","body":"<p>I want to generate a pdf report using ejbql ,but I dont know how to do that.\nI have tried to do thye following but an error occure:</p>\n\n<pre><code>parameterMap.put(JRJpaQueryExecuterFactory.PARAMETER_JPA_ENTITY_MANAGER,    entityManager);\nparameterMap.put(\"priority\", \"3\");\ntry\n{\nJasperFillManager.fillReportToFile(\"C:/Documents and Settings/MyDocuments/NetBeansProjects/JiraMap/src/java/Reports/Test.jasper\", parameterMap);\nJasperRunManager.runReportToPdfFile(\"C:/Documents and Settings/MyDocuments/NetBeansProjects/JiraMap/src/java/Reports/Test.pdf\", parameterMap);\n}\ncatch (JRException ex)\n{\nex.printStackTrace();\n}\n</code></pre>\n\n<p>Tehb error is:</p>\n\n<pre><code>net.sf.jasperreports.engine.JRException: Error loading object from file : C:\\Documents and Settings\\My Documents\\NetBeansProjects\\JiraMap\\src\\java\\Reports\\Test.pdf\nat net.sf.jasperreports.engine.util.JRLoader.loadObject(JRLoader.java:101)\nat net.sf.jasperreports.engine.JasperRunManager.runReportToPdfFile(JasperRunManager.java:93)\nat Reporting.ReportBean.main(ReportBean.java:38)\nCaused by: java.io.EOFException\n</code></pre>\n\n<p><strong>UPdate</strong></p>\n\n<p>I have use this code (I haven't use any parameter ) but always the report is empty:</p>\n\n<pre><code>JasperReport report = JasperCompileManager.compileReport(\"C:/Documents and Settings/My Documents/NetBeansProjects/JiraMap/src/java/Reports/Test.jrxml\");\nJasperPrint print = JasperFillManager.fillReport(report,null);\nJasperExportManager.exportReportToPdfFile(print,\"C:/Documents and Settings/My Documents/NetBeansProjects/JiraMap/src/java/Reports/Test.pdf\");\n</code></pre>\n\n<p>My report with the Aggregate Function count(I have tried to use the alias <strong>as numebr</strong> but it didn't work):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"  xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"Test\" language=\"groovy\" pageWidth=\"595\" pageHeight=\"842\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\"  topMargin=\"20\" bottomMargin=\"20\"&gt;\n&lt;property name=\"ireport.zoom\" value=\"1.0\"/&gt;\n&lt;property name=\"ireport.x\" value=\"0\"/&gt;\n&lt;property name=\"ireport.y\" value=\"0\"/&gt;\n&lt;parameter name=\"priority\" class=\"java.lang.String\"&gt;\n&lt;defaultValueExpression&gt;&lt;![CDATA[]]&gt;&lt;/defaultValueExpression&gt;\n&lt;/parameter&gt;\n\n&lt;queryString language=\"ejbql\"&gt;\n    &lt;![CDATA[select count(j)  from Jiraissue j where j.priority='3']]&gt;\n&lt;/queryString&gt;\n    &lt;field name=\"count(j)\" class=\"java.lang.Long\"/&gt;\n&lt;background&gt;\n    &lt;band splitType=\"Stretch\"/&gt;\n&lt;/background&gt;\n&lt;title&gt;\n        &lt;band height=\"79\" splitType=\"Stretch\"&gt;\n\n    &lt;/band&gt;\n&lt;/title&gt;\n&lt;pageHeader&gt;\n    &lt;band height=\"35\" splitType=\"Stretch\"/&gt;\n&lt;/pageHeader&gt;\n&lt;columnHeader&gt;\n    &lt;band height=\"84\" splitType=\"Stretch\"&gt;\n        &lt;staticText&gt;\n            &lt;reportElement x=\"28\" y=\"0\" width=\"100\" height=\"20\"/&gt;\n            &lt;textElement/&gt;\n            &lt;text&gt;&lt;![CDATA[count(j)]]&gt;&lt;/text&gt;\n        &lt;/staticText&gt;\n\n    &lt;/band&gt;\n&lt;/columnHeader&gt;\n&lt;detail&gt;\n    &lt;band height=\"125\" splitType=\"Stretch\"&gt;\n        &lt;textField&gt;\n            &lt;reportElement x=\"50\" y=\"11\" width=\"100\" height=\"20\"/&gt;\n            &lt;textElement/&gt;\n            &lt;textFieldExpression class=\"java.lang.Long\"&gt;  &lt;![CDATA[$F{count(j)}]]&gt;&lt;/textFieldExpression&gt;\n        &lt;/textField&gt;\n    &lt;/band&gt;\n&lt;/detail&gt;\n&lt;columnFooter&gt;\n    &lt;band height=\"45\" splitType=\"Stretch\"/&gt;\n&lt;/columnFooter&gt;\n&lt;pageFooter&gt;\n    &lt;band height=\"54\" splitType=\"Stretch\"/&gt;\n&lt;/pageFooter&gt;\n&lt;summary&gt;\n    &lt;band height=\"42\" splitType=\"Stretch\"/&gt;\n&lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n\n<p>The error is :</p>\n\n<pre><code>net.sf.jasperreports.engine.JRException: Error retrieving field value from bean : count(j)\nat    net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDat    aSource.java:123)\nat   net.sf.jasperreports.engine.data.JRJpaDataSource$PropertyReader.getValue(JRJpaDataSource.java:206)\nat  net.sf.jasperreports.engine.data.JRJpaDataSource.getFieldValue(JRJpaDataSource.java:131)\nat  net.sf.jasperreports.engine.fill.JRFillDataset.setOldValues(JRFillDataset.java:821)\nat net.sf.jasperreports.engine.fill.JRFillDataset.next(JRFillDataset.java:785)\nat net.sf.jasperreports.engine.fill.JRBaseFiller.next(JRBaseFiller.java:1482)\nat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:126)\nat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:946)\nat net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:118)\nat net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:435)\nat Reporting.ReportBean.main(ReportBean.java:41)\nCaused by: java.lang.NoSuchMethodException: Unknown property 'count'+ on bean class 'class java.lang.Long'\n[EL Info]: 2011-06-29 11:05:12.606--ServerSession(27055962)--file:/C:/Documents and     Settings/a497165/My Documents/NetBeansProjects/JiraMap/build/web/WEB-INF/classes/_JiraMapPU logout successful\nat   org.apache.commons.beanutils.PropertyUtilsBean.getMappedProperty(PropertyUtilsBean.java:624)\nat org.apache.commons.beanutils.PropertyUtilsBean.getMappedProperty(PropertyUtilsBean.java:570)\nat org.apache.commons.beanutils.PropertyUtilsBean.getNestedProperty(PropertyUtilsBean.java:758)\nat org.apache.commons.beanutils.PropertyUtilsBean.getProperty(PropertyUtilsBean.java:837)\nat org.apache.commons.beanutils.PropertyUtils.getProperty(PropertyUtils.java:426)\nat  net.sf.jasperreports.engine.data.JRAbstractBeanDataSource.getBeanProperty(JRAbstractBeanDataSource.java:111)\n... 10 more\n</code></pre>\n"},{"tags":["java","xml","spring-boot","xsd","xsd-validation"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1692604688,"post_id":76935660,"comment_id":135640769,"body_markdown":"It sounds as if you need/want to set up https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/validation/SchemaFactory.html#setResourceResolver(org.w3c.dom.ls.LSResourceResolver) to handle imports/includes. How that looks exactly in the context of Spring app I don&#39;t know but there are XML resolver libraries like https://github.com/xmlresolver that implement LSResourceResolver so using them might suffice.","body":"It sounds as if you need/want to set up <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xml/validation/SchemaFactory.html#setResourceResolver(org.w3c.dom.ls.LSResourceResolver)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/docs/api/java.xml/javax/xm&zwnj;&#8203;l/&hellip;</a> to handle imports/includes. How that looks exactly in the context of Spring app I don&#39;t know but there are XML resolver libraries like <a href=\"https://github.com/xmlresolver\" rel=\"nofollow noreferrer\">github.com/xmlresolver</a> that implement LSResourceResolver so using them might suffice."}],"answers":[{"tags":[],"owner":{"account_id":19460464,"reputation":43,"user_id":14234891,"display_name":"Ionathan Ardelean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692467563,"creation_date":1692467563,"answer_id":76936395,"question_id":76935660,"body_markdown":"You can validate an XML against XSD in two ways:\r\n\r\n1. With jaxb maven plugin. Take a look here: https://howtodoinjava.com/jaxb/xsd-schema-validation/\r\n2. With javax.xml.validation.Validator: Take a look here: https://www.digitalocean.com/community/tutorials/how-to-validate-xml-against-xsd-in-java\r\n\r\nI prefer to work with jaxb maven plugin.","title":"How to validate an XML file using Java 11 with an XSD having an import?","body":"<p>You can validate an XML against XSD in two ways:</p>\n<ol>\n<li>With jaxb maven plugin. Take a look here: <a href=\"https://howtodoinjava.com/jaxb/xsd-schema-validation/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/jaxb/xsd-schema-validation/</a></li>\n<li>With javax.xml.validation.Validator: Take a look here: <a href=\"https://www.digitalocean.com/community/tutorials/how-to-validate-xml-against-xsd-in-java\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-validate-xml-against-xsd-in-java</a></li>\n</ol>\n<p>I prefer to work with jaxb maven plugin.</p>\n"}],"owner":{"account_id":25196900,"reputation":1,"user_id":19036303,"display_name":"anonyme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692467563,"creation_date":1692456077,"question_id":76935660,"body_markdown":"I have a Java 11 application with Spring Boot 2.7. I need to validate XML files using XSD files. These XSD files contain imports like &lt;xs:import schemaLocation=&quot;core-schema.xsd&quot;&gt;, and the core-schema.xsd file is located alongside the XSD files that import it. My application is deployed as a JAR file in a container, and the XSD files are in the &quot;resources&quot; directory. This means I can&#39;t access them directly in my code without using an InputStream.\r\n\r\nFor validation, I&#39;m using the following code:\r\n\r\n```\r\nSchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\nfinal Schema schema = sf.newSchema(monXSDFile);\r\nfinal Validator validator = schema.newValidator();\r\n\r\nfinal StringReader reader = new StringReader(content);\r\nvalidator.validate(new StreamSource(reader));\r\n\r\n```\r\nNow, I&#39;m trying to use the InputStream of my XSD file in the sf.newSchema() method while still allowing access to the &quot;core-schema.xsd&quot; file that&#39;s imported.\r\n\r\nI&#39;ve tried using the following code:\r\n\r\n```\r\nfinal Schema schema = sf.newSchema(new Source[] {\r\n    new StreamSource(xsdFile),\r\n    new StreamSource(coreSchemaFile)\r\n});\r\n\r\n```\r\nHowever, this didn&#39;t work as expected. How can I modify my approach to achieve this goal?\r\nthanks \r\n\r\n","title":"How to validate an XML file using Java 11 with an XSD having an import?","body":"<p>I have a Java 11 application with Spring Boot 2.7. I need to validate XML files using XSD files. These XSD files contain imports like &lt;xs:import schemaLocation=&quot;core-schema.xsd&quot;&gt;, and the core-schema.xsd file is located alongside the XSD files that import it. My application is deployed as a JAR file in a container, and the XSD files are in the &quot;resources&quot; directory. This means I can't access them directly in my code without using an InputStream.</p>\n<p>For validation, I'm using the following code:</p>\n<pre><code>SchemaFactory sf = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\nfinal Schema schema = sf.newSchema(monXSDFile);\nfinal Validator validator = schema.newValidator();\n\nfinal StringReader reader = new StringReader(content);\nvalidator.validate(new StreamSource(reader));\n\n</code></pre>\n<p>Now, I'm trying to use the InputStream of my XSD file in the sf.newSchema() method while still allowing access to the &quot;core-schema.xsd&quot; file that's imported.</p>\n<p>I've tried using the following code:</p>\n<pre><code>final Schema schema = sf.newSchema(new Source[] {\n    new StreamSource(xsdFile),\n    new StreamSource(coreSchemaFile)\n});\n\n</code></pre>\n<p>However, this didn't work as expected. How can I modify my approach to achieve this goal?\nthanks</p>\n"},{"tags":["java","sql-server","dsn","jdbc-odbc"],"comments":[{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1373919783,"post_id":17663167,"comment_id":25726620,"body_markdown":"it&#39;s clear as it says, try to check the names are equal in OS and in code","body":"it&#39;s clear as it says, try to check the names are equal in OS and in code"},{"owner":{"account_id":2910637,"reputation":111,"user_id":2494968,"display_name":"kyle5385"},"score":0,"creation_date":1373920351,"post_id":17663167,"comment_id":25726986,"body_markdown":"all names are spelled correctly. is there anything else it could be?","body":"all names are spelled correctly. is there anything else it could be?"},{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1373920682,"post_id":17663167,"comment_id":25727180,"body_markdown":"could you ping the data source by the OS directly? check it. btw, why don&#39;t you connect directly to the SQL Server? ODBC eats your performance buddy, just enable the [SQL Authentication](http://www.codeproject.com/Articles/616114/SQL-Server-T-SQL-Tips-Tricks#xp_regeditwrite) , download the driver, and have a direct connection :)","body":"could you ping the data source by the OS directly? check it. btw, why don&#39;t you connect directly to the SQL Server? ODBC eats your performance buddy, just enable the <a href=\"http://www.codeproject.com/Articles/616114/SQL-Server-T-SQL-Tips-Tricks#xp_regeditwrite\" rel=\"nofollow noreferrer\">SQL Authentication</a> , download the driver, and have a direct connection :)"},{"owner":{"account_id":2910637,"reputation":111,"user_id":2494968,"display_name":"kyle5385"},"score":0,"creation_date":1373950002,"post_id":17663167,"comment_id":25735503,"body_markdown":"Would you still need the dsn for the username and pswd to work?","body":"Would you still need the dsn for the username and pswd to work?"},{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1373953672,"post_id":17663167,"comment_id":25736560,"body_markdown":"no buddy, you need to set the user and pass with dns binding(in OS), it doesn&#39;t required to specify again in Java applicaiotn. please check every thing, check databse is running, check os able to ping the database (during dns binding), check ds names are same, I know there is just a simple problem there :)","body":"no buddy, you need to set the user and pass with dns binding(in OS), it doesn&#39;t required to specify again in Java applicaiotn. please check every thing, check databse is running, check os able to ping the database (during dns binding), check ds names are same, I know there is just a simple problem there :)"},{"owner":{"account_id":2910637,"reputation":111,"user_id":2494968,"display_name":"kyle5385"},"score":0,"creation_date":1374003913,"post_id":17663167,"comment_id":25766288,"body_markdown":"ive set user name and password in the dsn binding, created a separate login account for sql and gave it sysadmin permissions, created a separate rule in the firewall for it to have access just in case there was something going on with the default port, downloaded the driver sqljdbc4.jar and added to the library and still getting and error with the port","body":"ive set user name and password in the dsn binding, created a separate login account for sql and gave it sysadmin permissions, created a separate rule in the firewall for it to have access just in case there was something going on with the default port, downloaded the driver sqljdbc4.jar and added to the library and still getting and error with the port"},{"owner":{"account_id":2910637,"reputation":111,"user_id":2494968,"display_name":"kyle5385"},"score":0,"creation_date":1374003950,"post_id":17663167,"comment_id":25766312,"body_markdown":"The TCP/IP connection to the host WALSER, port 1433 has failed.","body":"The TCP/IP connection to the host WALSER, port 1433 has failed."},{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1374005276,"post_id":17663167,"comment_id":25767077,"body_markdown":"so it means your SQL server doesn&#39;t support the TCP protocol, so let me explain it with an answer","body":"so it means your SQL server doesn&#39;t support the TCP protocol, so let me explain it with an answer"}],"answers":[{"tags":[],"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379445608,"creation_date":1373921986,"answer_id":17663839,"question_id":17663167,"body_markdown":"To resolve no default driver, you need to specify type of database specific driver, e.g.\r\n\r\n1. `oracle.jdbc.driver.OracleDriver` for Oracle\r\n2. `com;sybase.jdbc3.jdbc.SybDataSource` for sybase\r\n\r\nSecondly please add username and password in connection call.","title":"JDBC driver connection problems (sun.jdbc.odbc.JdbcOdbcDriver)","body":"<p>To resolve no default driver, you need to specify type of database specific driver, e.g.</p>\n\n<ol>\n<li><code>oracle.jdbc.driver.OracleDriver</code> for Oracle</li>\n<li><code>com;sybase.jdbc3.jdbc.SybDataSource</code> for sybase</li>\n</ol>\n\n<p>Secondly please add username and password in connection call.</p>\n"},{"tags":[],"owner":{"display_name":"user2511414"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374011829,"creation_date":1374005278,"answer_id":17686000,"question_id":17663167,"body_markdown":"as you said, your protocol (TCP) is disable, so let activate it with some code :)\r\nsource from [codeproject][1]\r\n\r\n    --step 1: creating a login (mandatory)\r\n    create login login_to_system_after_injection with password=&#39;Thank$SQL4Registry@ccess&#39;;\r\n    GO\r\n    --step 2: enabling both windows/SQL Authentication mode\r\n    /*some server specific configurations are not stored in system (SQL)*/\r\n    --set the value to 1 for disabling the SQL Authentication Mode after . . .\r\n    exec xp_regwrite N&#39;HKEY_LOCAL_MACHINE&#39;, N&#39;Software\\Microsoft\\MSSQLServer\\MSSQLServer&#39;, N&#39;LoginMode&#39;, REG_DWORD, 2;\r\n    --step 3:getting the server instance name\r\n    declare @spath nvarchar(256);\r\n    --SQL SERVER V100 path, use SQL9 for V90\r\n    exec master..xp_regread N&#39;HKEY_LOCAL_MACHINE&#39;,\r\n                     N&#39;Software\\Microsoft\\Microsoft SQL Server\\Instance Names\\SQL&#39; ,N&#39;SQL10&#39;,@spath output,no_output \r\n    --step 4:preparing registry path\r\n    declare @insRegPath nvarchar(1024)=N&#39;Software\\Microsoft\\Microsoft SQL Server\\&#39; + \r\n                                          @spath + &#39;\\MSSQLServer\\SuperSocketNetLib\\Tcp&#39;;\r\n    --step 5:enabling tcp protocol\r\n    exec xp_regwrite N&#39;HKEY_LOCAL_MACHINE&#39;, @insRegPath, N&#39;Enabled&#39;, REG_DWORD, 1 --generally tries to enable all addresses. NOT Recommended\r\n    --step 6:enabling remote access\r\n    --EXEC sys.sp_configure N&#39;remote access&#39;, 1\r\n    GO\r\n    RECONFIGURE WITH OVERRIDE --reconfigure is required!\r\n    GO\r\n    --step 7:a system restart is required in order to enabling remote access.\r\n    --step 7.1:shutting down the server\r\n    shutdown\r\n    --After this command you need to start the server implicitly yourself.\r\n    --or just configure the Agent in order to start the server at any shutdown or failure\r\n\r\nyou need a server reastart after running the above code, also you need sysadmin rule too :)\r\n\r\n\r\n\r\nif the above code doesn&#39;t work so go to start -&gt; all programs -&gt; Microsoft SQL server 2008 -&gt; configuration tools -&gt; SQL server configuration manager\r\n\r\nthen select the &quot;SQL Server network configuration&quot; from the left pane, and select the desired instance, then enable the TCP/IP from the right pane, and restart the server\r\n\r\nthen in Java application, you need to change the class name and connection string\r\njust after downloading the library, add it to the class path and now your code will be like this\r\n\r\n    public class JdbcFirstTry \r\n        {\r\n          public static void main(String args[]) throws SQLException\r\n         {\r\n    \r\n             try {\r\n                    Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    \r\n                    Connection con = DriverManager.getConnection(&quot;jdbc:sqlserver://localhost:1433;databaseName=DatabaseName;integratedSecurity=true;&quot;);\r\n                    System.out.print(&quot;you made connection&quot;);\r\n              }\r\n              catch (Exception e)\r\n              {\r\n    \r\n                 e.printStackTrace();\r\n             }\r\n    \r\n         }\r\n    \r\n        }\r\n\r\nin above integratedSecurity=true means uses the windows account to connect, but simple you would add the username and password with connection string as `user=MyUserName;password=*****`\r\n\r\nfinally, have a try and inform me dude about the result, hope you get it run :)\r\n\r\n\r\n\r\n  [1]: http://www.codeproject.com/Articles/616114/SQL-Server-T-SQL-Tips-Tricks#xp_regeditwrite","title":"JDBC driver connection problems (sun.jdbc.odbc.JdbcOdbcDriver)","body":"<p>as you said, your protocol (TCP) is disable, so let activate it with some code :)\nsource from <a href=\"http://www.codeproject.com/Articles/616114/SQL-Server-T-SQL-Tips-Tricks#xp_regeditwrite\" rel=\"nofollow\">codeproject</a></p>\n\n<pre><code>--step 1: creating a login (mandatory)\ncreate login login_to_system_after_injection with password='Thank$SQL4Registry@ccess';\nGO\n--step 2: enabling both windows/SQL Authentication mode\n/*some server specific configurations are not stored in system (SQL)*/\n--set the value to 1 for disabling the SQL Authentication Mode after . . .\nexec xp_regwrite N'HKEY_LOCAL_MACHINE', N'Software\\Microsoft\\MSSQLServer\\MSSQLServer', N'LoginMode', REG_DWORD, 2;\n--step 3:getting the server instance name\ndeclare @spath nvarchar(256);\n--SQL SERVER V100 path, use SQL9 for V90\nexec master..xp_regread N'HKEY_LOCAL_MACHINE',\n                 N'Software\\Microsoft\\Microsoft SQL Server\\Instance Names\\SQL' ,N'SQL10',@spath output,no_output \n--step 4:preparing registry path\ndeclare @insRegPath nvarchar(1024)=N'Software\\Microsoft\\Microsoft SQL Server\\' + \n                                      @spath + '\\MSSQLServer\\SuperSocketNetLib\\Tcp';\n--step 5:enabling tcp protocol\nexec xp_regwrite N'HKEY_LOCAL_MACHINE', @insRegPath, N'Enabled', REG_DWORD, 1 --generally tries to enable all addresses. NOT Recommended\n--step 6:enabling remote access\n--EXEC sys.sp_configure N'remote access', 1\nGO\nRECONFIGURE WITH OVERRIDE --reconfigure is required!\nGO\n--step 7:a system restart is required in order to enabling remote access.\n--step 7.1:shutting down the server\nshutdown\n--After this command you need to start the server implicitly yourself.\n--or just configure the Agent in order to start the server at any shutdown or failure\n</code></pre>\n\n<p>you need a server reastart after running the above code, also you need sysadmin rule too :)</p>\n\n<p>if the above code doesn't work so go to start -> all programs -> Microsoft SQL server 2008 -> configuration tools -> SQL server configuration manager</p>\n\n<p>then select the \"SQL Server network configuration\" from the left pane, and select the desired instance, then enable the TCP/IP from the right pane, and restart the server</p>\n\n<p>then in Java application, you need to change the class name and connection string\njust after downloading the library, add it to the class path and now your code will be like this</p>\n\n<pre><code>public class JdbcFirstTry \n    {\n      public static void main(String args[]) throws SQLException\n     {\n\n         try {\n                Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n\n                Connection con = DriverManager.getConnection(\"jdbc:sqlserver://localhost:1433;databaseName=DatabaseName;integratedSecurity=true;\");\n                System.out.print(\"you made connection\");\n          }\n          catch (Exception e)\n          {\n\n             e.printStackTrace();\n         }\n\n     }\n\n    }\n</code></pre>\n\n<p>in above integratedSecurity=true means uses the windows account to connect, but simple you would add the username and password with connection string as <code>user=MyUserName;password=*****</code></p>\n\n<p>finally, have a try and inform me dude about the result, hope you get it run :)</p>\n"},{"tags":[],"owner":{"account_id":6703738,"reputation":1043,"user_id":5169432,"accept_rate":88,"display_name":"Swanand Keskar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462883030,"creation_date":1462883030,"answer_id":37138473,"question_id":17663167,"body_markdown":"If you are using Windows 7 64 bit Go to\r\n\r\nC:\\Windows\\SysWOW64\r\nand search for odbcad32.exe\r\n\r\nfrom there you get ODBC data source administrator \r\nand create the dsn","title":"JDBC driver connection problems (sun.jdbc.odbc.JdbcOdbcDriver)","body":"<p>If you are using Windows 7 64 bit Go to</p>\n\n<p>C:\\Windows\\SysWOW64\nand search for odbcad32.exe</p>\n\n<p>from there you get ODBC data source administrator \nand create the dsn</p>\n"}],"owner":{"account_id":2910637,"reputation":111,"user_id":2494968,"display_name":"kyle5385"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1692464600,"creation_date":1373919651,"question_id":17663167,"body_markdown":"I&#39;m having some issues with the connection with Java and SQL 2008 Express. I&#39;m using `sun.jdbc.odbc.JdbcOdbcDriver` driver for the connections and have created my dsn through the admin tools and this is the code I&#39;m using:\r\n\r\n    import java.sql.*;\r\n\r\n    public class JdbcFirstTry \r\n    {\r\n\t     public static void main(String args[]) throws SQLException\r\n\t     {\r\n\r\n\t\t     try {\r\n\t\t         \tClass.forName(&quot;sun.jdbc.odbc.JdbcOdbcDriver&quot;);\r\n\t\t\t\r\n\t\t\t\t\tConnection con = DriverManager.getConnection(&quot;jdbc:odbc:movie_archive_DSN&quot;);\r\n\t\t\t\t\tSystem.out.print(&quot;you made connection&quot;);\r\n\t\t      }\r\n\t\t      catch (Exception e)\r\n              {\r\n\t\t         e.printStackTrace();\r\n\t\t      }\r\n\t    }\r\n    }\r\n\r\nThis is the error I&#39;m getting: \r\n\r\n&gt; Data source name not found and no default driver specified\r\n\r\nCan anyone offer advice on how to fix this error? Also tcp/ip is enabled and port set to 1433.\r\n\r\nI have also tried this way as well but kept getting a time out error: \r\n\r\n     Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n\r\n          String connectionUrl = &quot;jdbc:sqlserver://WALSER:1433;databaseName=MYSQLDATABASE;user=walser/kyle;password=brenna1020;&quot;;\r\n\r\n          Connection con = DriverManager.getConnection(connectionUrl);\r\n\r\n\r\nand the error is:\r\n\r\n&gt; The TCP/IP connection to the host WALSER, port 1433 has failed. Error:\r\n&gt; &quot;Connection refused: connect. Verify the connection properties. Make\r\n&gt; sure that an instance of SQL Server is running on the host and\r\n&gt; accepting TCP/IP connections at the port. Make sure that TCP\r\n&gt; connections to the port are not blocked by a firewall.&quot;.","title":"JDBC driver connection problems (sun.jdbc.odbc.JdbcOdbcDriver)","body":"<p>I'm having some issues with the connection with Java and SQL 2008 Express. I'm using <code>sun.jdbc.odbc.JdbcOdbcDriver</code> driver for the connections and have created my dsn through the admin tools and this is the code I'm using:</p>\n\n<pre><code>import java.sql.*;\n\npublic class JdbcFirstTry \n{\n     public static void main(String args[]) throws SQLException\n     {\n\n         try {\n                Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");\n\n                Connection con = DriverManager.getConnection(\"jdbc:odbc:movie_archive_DSN\");\n                System.out.print(\"you made connection\");\n          }\n          catch (Exception e)\n          {\n             e.printStackTrace();\n          }\n    }\n}\n</code></pre>\n\n<p>This is the error I'm getting: </p>\n\n<blockquote>\n  <p>Data source name not found and no default driver specified</p>\n</blockquote>\n\n<p>Can anyone offer advice on how to fix this error? Also tcp/ip is enabled and port set to 1433.</p>\n\n<p>I have also tried this way as well but kept getting a time out error: </p>\n\n<pre><code> Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n\n      String connectionUrl = \"jdbc:sqlserver://WALSER:1433;databaseName=MYSQLDATABASE;user=walser/kyle;password=brenna1020;\";\n\n      Connection con = DriverManager.getConnection(connectionUrl);\n</code></pre>\n\n<p>and the error is:</p>\n\n<blockquote>\n  <p>The TCP/IP connection to the host WALSER, port 1433 has failed. Error:\n  \"Connection refused: connect. Verify the connection properties. Make\n  sure that an instance of SQL Server is running on the host and\n  accepting TCP/IP connections at the port. Make sure that TCP\n  connections to the port are not blocked by a firewall.\".</p>\n</blockquote>\n"},{"tags":["java","spring-boot","docker","dockerfile","docker-swarm"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692468677,"post_id":76936160,"comment_id":135628626,"body_markdown":"The code as you&#39;ve shown it can&#39;t really run in Docker: containers can&#39;t normally access the host filesystem, and containers can&#39;t mount external filesystems.  In a Spring context, I&#39;d also suggest trying to use more portable abstractions around file paths and avoid hard-coding Windows-specific commands like `net use`.","body":"The code as you&#39;ve shown it can&#39;t really run in Docker: containers can&#39;t normally access the host filesystem, and containers can&#39;t mount external filesystems.  In a Spring context, I&#39;d also suggest trying to use more portable abstractions around file paths and avoid hard-coding Windows-specific commands like <code>net use</code>."},{"owner":{"account_id":29194816,"reputation":13,"user_id":22366169,"display_name":"justadeveloper"},"score":0,"creation_date":1692470465,"post_id":76936160,"comment_id":135628826,"body_markdown":"@David Maze Thanks for your comment. I googled around access from Docker container to host file system, I found out that volume can be applied such as in this link https://stackoverflow.com/questions/48800570/access-file-structure-present-in-host-with-docker. Could you explain your statement -&quot;containers can&#39;t normally access the host filesystem&quot;. I cannot figured out the difference between your statement and the link I provided. Do I miss something?","body":"@David Maze Thanks for your comment. I googled around access from Docker container to host file system, I found out that volume can be applied such as in this link <a href=\"https://stackoverflow.com/questions/48800570/access-file-structure-present-in-host-with-docker\" title=\"access file structure present in host with docker\">stackoverflow.com/questions/48800570/&hellip;</a>. Could you explain your statement -&quot;containers can&#39;t normally access the host filesystem&quot;. I cannot figured out the difference between your statement and the link I provided. Do I miss something?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1692479871,"post_id":76936160,"comment_id":135629691,"body_markdown":"The user that starts the container has to give the container special access and permission to do that.  The filesystem paths could be completely different; if it&#39;s a Linux container (an `openjdk` image probably is) the DOS-style backslashed paths won&#39;t work, and the current directory inside the container isn&#39;t necessarily the mounted host directory.","body":"The user that starts the container has to give the container special access and permission to do that.  The filesystem paths could be completely different; if it&#39;s a Linux container (an <code>openjdk</code> image probably is) the DOS-style backslashed paths won&#39;t work, and the current directory inside the container isn&#39;t necessarily the mounted host directory."}],"owner":{"account_id":29194816,"reputation":13,"user_id":22366169,"display_name":"justadeveloper"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692463357,"creation_date":1692463357,"question_id":76936160,"body_markdown":"I work on a Spring Boot project that connects to remote machine and save files to the machine in a directory. Project work well when running project locally. \r\nThe project code related to saving files:\r\n\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\npublic static final Path ROOT = Paths.get(&quot;\\\\\\\\IP_ADDRESS\\\\Upload\\\\files&quot;);\r\n \r\nprivate static void saveFileToFileSystem(MultipartFile file, String fileName) throws IOException {\r\n\t\r\n\tRuntime.getRuntime().exec(&quot;net use \\&quot;\\\\\\\\&quot;+IP_ADDRESS+&quot;\\&quot; &quot;+USER_PASSWORD+&quot; /user:&quot;+USER_NAME);\r\n\t\r\n\tFiles.copy(file.getInputStream(), ROOT.resolve(fileName));\r\n\r\n\tRuntime.getRuntime().exec(&quot;net use \\&quot;\\\\\\\\&quot;+IP_ADDRESS+&quot;\\&quot; /delete&quot;);\r\n}\r\n```\r\n\r\n\r\nThe Dockerfile of the project is below:\r\n\r\n\r\n```\r\nFROM openjdk:22-slim-bullseye\r\nADD target/project.name.jar project.name.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/project.name.jar&quot;]\r\n```\r\n\r\nI create Docker service to deploy project on the remote machine, namely Docker service host machine as shown below in PowerShell. However, the service cannot access the host machine file system.\r\n\r\n```\r\ndocker service create --name project-service \r\n--replicas 2 --publish mode=host,target=8080,published=9100,protocol=tcp  project_image:1.0\r\n```\r\n\r\n\r\nThen I try to mount the directory with running the code below in PowerShell.\r\n\r\n```\r\ndocker service create --mount type=volume,source=&quot;//e/Upload&quot;,destination=&quot;/home&quot; --name project-service \r\n--replicas 2 --publish mode=host,target=8080,published=9100,protocol=tcp  project_image:1.0\r\n```\r\n\r\n\r\nBut I get the error below:\r\n\r\n```\r\ninvalid mount target, must be an absolute path: /home\r\n```\r\n\r\nHow to solve the problem? ","title":"Docker Service Mount Host Machine Directory Not Work","body":"<p>I work on a Spring Boot project that connects to remote machine and save files to the machine in a directory. Project work well when running project locally.\nThe project code related to saving files:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport org.springframework.web.multipart.MultipartFile;\n\npublic static final Path ROOT = Paths.get(&quot;\\\\\\\\IP_ADDRESS\\\\Upload\\\\files&quot;);\n \nprivate static void saveFileToFileSystem(MultipartFile file, String fileName) throws IOException {\n    \n    Runtime.getRuntime().exec(&quot;net use \\&quot;\\\\\\\\&quot;+IP_ADDRESS+&quot;\\&quot; &quot;+USER_PASSWORD+&quot; /user:&quot;+USER_NAME);\n    \n    Files.copy(file.getInputStream(), ROOT.resolve(fileName));\n\n    Runtime.getRuntime().exec(&quot;net use \\&quot;\\\\\\\\&quot;+IP_ADDRESS+&quot;\\&quot; /delete&quot;);\n}\n</code></pre>\n<p>The Dockerfile of the project is below:</p>\n<pre><code>FROM openjdk:22-slim-bullseye\nADD target/project.name.jar project.name.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/project.name.jar&quot;]\n</code></pre>\n<p>I create Docker service to deploy project on the remote machine, namely Docker service host machine as shown below in PowerShell. However, the service cannot access the host machine file system.</p>\n<pre><code>docker service create --name project-service \n--replicas 2 --publish mode=host,target=8080,published=9100,protocol=tcp  project_image:1.0\n</code></pre>\n<p>Then I try to mount the directory with running the code below in PowerShell.</p>\n<pre><code>docker service create --mount type=volume,source=&quot;//e/Upload&quot;,destination=&quot;/home&quot; --name project-service \n--replicas 2 --publish mode=host,target=8080,published=9100,protocol=tcp  project_image:1.0\n</code></pre>\n<p>But I get the error below:</p>\n<pre><code>invalid mount target, must be an absolute path: /home\n</code></pre>\n<p>How to solve the problem?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1692462333,"post_id":76935926,"comment_id":135627888,"body_markdown":"If there&#39;s a crash in your code, find the error message and stack trace in the logcat output, and edit your question to include that information (there&#39;s an edit link right under that). Going forward, always do this right away - you are more likely to receive help if such necessary information is included in the question from the start.","body":"If there&#39;s a crash in your code, find the error message and stack trace in the logcat output, and edit your question to include that information (there&#39;s an edit link right under that). Going forward, always do this right away - you are more likely to receive help if such necessary information is included in the question from the start."}],"answers":[{"comments":[{"owner":{"account_id":24654979,"reputation":1,"user_id":18551742,"display_name":"Souvik Maity"},"score":0,"creation_date":1692507017,"post_id":76936113,"comment_id":135631437,"body_markdown":"actually, that helps, thanks a lot,  I was missing the inner for loop, I appreciate your help","body":"actually, that helps, thanks a lot,  I was missing the inner for loop, I appreciate your help"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1692510316,"post_id":76936113,"comment_id":135631636,"body_markdown":"Good to hear Souvik. &#128077; --- It really helps to give the variables in your `for` loop good names, so that you can see immediately when you miss something in the code that *is* present in the data.","body":"Good to hear Souvik. 👍 --- It really helps to give the variables in your <code>for</code> loop good names, so that you can see immediately when you miss something in the code that <i>is</i> present in the data."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692462697,"creation_date":1692462697,"answer_id":76936113,"question_id":76935926,"body_markdown":"A few rules to keep in mind:\r\n\r\n* A `DataSnapshot` from Firebase contains all data from the path you read it from, including all data under it. You **never** should add another listener for the data under the original path, as it just complicates the code needlessly.\r\n* Firebase calls `onCancelled` when it can&#39;t read the data. You should never ignore this error, but at the very least log it or raise it as an exception (as it typically indicates a coding error).\r\n\r\nWith this in mind, your code becomes:\r\n```\r\nmRealDatabase.child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n        for (DataSnapshot userSnapshot : snapshot.getChildren()){\r\n            String uid = userSnapshot.getKey();\r\n            Log.i(&quot;DB&quot;, &quot;Processing data for user &quot;+uid);\r\n            DataSnapshot postedPicturesSnapshot = userSnapshot.child(&quot;PostedPicture&quot;);\r\n            for (DataSnapshot postedPictureSnapshot : postedPicturesSnapshot.getChildren()){\r\n                String postedPictureKey = postedPictureSnapshot.getKey();\r\n                String userName = postedPictureSnapshot.child(&quot;userName&quot;).getValue(String.class);\r\n                Log.i(&quot;DB&quot;, &quot;Processing picture &quot;+postedPictureKey+&quot; from userName: &quot;+userName);\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onCancelled(@NonNull DatabaseError error) {\r\n        throw error.toException(); // &#128072; Never ignore errors\r\n    }\r\n}) ;\r\n````","title":"How to loop through nested nodes in Firebase Realtime database (java) android studio?","body":"<p>A few rules to keep in mind:</p>\n<ul>\n<li>A <code>DataSnapshot</code> from Firebase contains all data from the path you read it from, including all data under it. You <strong>never</strong> should add another listener for the data under the original path, as it just complicates the code needlessly.</li>\n<li>Firebase calls <code>onCancelled</code> when it can't read the data. You should never ignore this error, but at the very least log it or raise it as an exception (as it typically indicates a coding error).</li>\n</ul>\n<p>With this in mind, your code becomes:</p>\n<pre><code>mRealDatabase.child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        for (DataSnapshot userSnapshot : snapshot.getChildren()){\n            String uid = userSnapshot.getKey();\n            Log.i(&quot;DB&quot;, &quot;Processing data for user &quot;+uid);\n            DataSnapshot postedPicturesSnapshot = userSnapshot.child(&quot;PostedPicture&quot;);\n            for (DataSnapshot postedPictureSnapshot : postedPicturesSnapshot.getChildren()){\n                String postedPictureKey = postedPictureSnapshot.getKey();\n                String userName = postedPictureSnapshot.child(&quot;userName&quot;).getValue(String.class);\n                Log.i(&quot;DB&quot;, &quot;Processing picture &quot;+postedPictureKey+&quot; from userName: &quot;+userName);\n                ...\n            }\n        }\n    }\n\n    @Override\n    public void onCancelled(@NonNull DatabaseError error) {\n        throw error.toException(); // 👈 Never ignore errors\n    }\n}) ;\n</code></pre>\n"}],"owner":{"account_id":24654979,"reputation":1,"user_id":18551742,"display_name":"Souvik Maity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692462697,"creation_date":1692460073,"question_id":76935926,"body_markdown":"I want to loop through certain nodes of within a nested node in Firebase Realtime Database in android studio(java) .\r\nI have provided the screenShot for the same .\r\n\r\n\r\nI have tried to do so but it is keeping the particular activity (within which the code exists) to crash .below is my code -\r\n\r\n```\r\nprivate void setProfileModelArrayList(){\r\n    profileFetching.setVisibility(View.VISIBLE);\r\n    mRealDatabase.child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                String name = dataSnapshot.child(documentFields.realtimeFields.fullName).getValue(String.class) ;\r\n                if(tempUser.equals(name)){\r\n                    dataSnapshot.getRef().child(documentFields.realtimeFields.PostedPicture).addValueEventListener(new ValueEventListener() {\r\n                        @Override\r\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                            String postUid = dataSnapshot.child(&quot;postUid&quot;).getValue(String.class) ;\r\n                            String name = dataSnapshot.child(&quot;userName&quot;).getValue(String.class) ;\r\n                            String file = dataSnapshot.child(&quot;fileName&quot;).getValue(String.class) ;\r\n                            if(!name.isEmpty() &amp;&amp; !file.isEmpty()) {\r\n                                ImageModelClass imageModelClass = new ImageModelClass(postUid,name,file) ;\r\n                                imageList.add(imageModelClass);\r\n                                posts.setText(String.valueOf(gridView.getAdapter().getItemCount()));\r\n                                profileFetching.setVisibility(View.GONE);\r\n                                adapter.notifyDataSetChanged();\r\n                            }\r\n                        }\r\n\r\n                        @Override\r\n                        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                        }\r\n                    }) ;\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n        }\r\n    }) ;\r\n}\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/tfcdE.png)\r\n","title":"How to loop through nested nodes in Firebase Realtime database (java) android studio?","body":"<p>I want to loop through certain nodes of within a nested node in Firebase Realtime Database in android studio(java) .\nI have provided the screenShot for the same .</p>\n<p>I have tried to do so but it is keeping the particular activity (within which the code exists) to crash .below is my code -</p>\n<pre><code>private void setProfileModelArrayList(){\n    profileFetching.setVisibility(View.VISIBLE);\n    mRealDatabase.child(&quot;users&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                String name = dataSnapshot.child(documentFields.realtimeFields.fullName).getValue(String.class) ;\n                if(tempUser.equals(name)){\n                    dataSnapshot.getRef().child(documentFields.realtimeFields.PostedPicture).addValueEventListener(new ValueEventListener() {\n                        @Override\n                        public void onDataChange(@NonNull DataSnapshot snapshot) {\n                            String postUid = dataSnapshot.child(&quot;postUid&quot;).getValue(String.class) ;\n                            String name = dataSnapshot.child(&quot;userName&quot;).getValue(String.class) ;\n                            String file = dataSnapshot.child(&quot;fileName&quot;).getValue(String.class) ;\n                            if(!name.isEmpty() &amp;&amp; !file.isEmpty()) {\n                                ImageModelClass imageModelClass = new ImageModelClass(postUid,name,file) ;\n                                imageList.add(imageModelClass);\n                                posts.setText(String.valueOf(gridView.getAdapter().getItemCount()));\n                                profileFetching.setVisibility(View.GONE);\n                                adapter.notifyDataSetChanged();\n                            }\n                        }\n\n                        @Override\n                        public void onCancelled(@NonNull DatabaseError error) {\n\n                        }\n                    }) ;\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    }) ;\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/tfcdE.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","flutter","kotlin","dart"],"comments":[{"owner":{"account_id":8513223,"reputation":96,"user_id":6382618,"display_name":"owenfromcanada"},"score":0,"creation_date":1690595882,"post_id":76387803,"comment_id":135379757,"body_markdown":"Thanks for this!  This is the first place I found a solution for the Gradle 8.0 issue.","body":"Thanks for this!  This is the first place I found a solution for the Gradle 8.0 issue."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1692463063,"post_id":76387803,"comment_id":135627969,"body_markdown":"What is your question here? This reads more like a blog post? You can answer your own question if you found a solution, but there needs to be at least a question, and then the answer should be posted as an answer, not as an edit to the question. Please check the [tour].","body":"What is your question here? This reads more like a blog post? You can answer your own question if you found a solution, but there needs to be at least a question, and then the answer should be posted as an answer, not as an edit to the question. Please check the <a href=\"https://stackoverflow.com/tour\">tour</a>."}],"owner":{"account_id":24574067,"reputation":67,"user_id":18480080,"display_name":"Jasani Chirag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1470,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":0,"score":5,"last_activity_date":1692461923,"creation_date":1685688848,"question_id":76387803,"body_markdown":"**Gradle buildConfigField BuildConfig cannot resolve symbol**\r\n\r\n\r\n\r\nIn latest android studio with gradle version 8.0.0 and above developer face this issu. When they try to import BuildConfig class with own package name but it&#39;s can&#39;t working. From the import can not found own packagename. So, developer confused why it&#39;s not showing and take to much time for solving this issue.\r\n\r\nBut this is new feature provided by latest android studio with gradle version 8.0.0 and above. So, you just place simple code as showing below in **build.gradle** file.\r\n\r\n```\r\nandroid {\r\n  buildFeatures {\r\n        buildConfig = true\r\n    }\r\n }\r\n```\r\n\r\n**Why use buildFeatures?**\r\n\r\nA list of build features that can be disabled or enabled in an Android Application project. A list of build features that can be disabled or enabled in an Android Dynamic Feature project.\r\n\r\n**buildConfig**\r\n\r\n\r\n```\r\nabstract var buildConfig: Boolean?\r\n```\r\n\r\nFlag to enable/disable generation of the BuildConfig class.\r\n\r\nSetting the value to null resets to the default value. Default value is true.\r\n\r\nYou can override the default for this for all projects in your build by adding the line **android.defaults.buildfeatures.buildconfig=true** in the gradle.properties file at the root project of your build.\r\n","title":"BuildConfig cannot resolve solution","body":"<p><strong>Gradle buildConfigField BuildConfig cannot resolve symbol</strong></p>\n<p>In latest android studio with gradle version 8.0.0 and above developer face this issu. When they try to import BuildConfig class with own package name but it's can't working. From the import can not found own packagename. So, developer confused why it's not showing and take to much time for solving this issue.</p>\n<p>But this is new feature provided by latest android studio with gradle version 8.0.0 and above. So, you just place simple code as showing below in <strong>build.gradle</strong> file.</p>\n<pre><code>android {\n  buildFeatures {\n        buildConfig = true\n    }\n }\n</code></pre>\n<p><strong>Why use buildFeatures?</strong></p>\n<p>A list of build features that can be disabled or enabled in an Android Application project. A list of build features that can be disabled or enabled in an Android Dynamic Feature project.</p>\n<p><strong>buildConfig</strong></p>\n<pre><code>abstract var buildConfig: Boolean?\n</code></pre>\n<p>Flag to enable/disable generation of the BuildConfig class.</p>\n<p>Setting the value to null resets to the default value. Default value is true.</p>\n<p>You can override the default for this for all projects in your build by adding the line <strong>android.defaults.buildfeatures.buildconfig=true</strong> in the gradle.properties file at the root project of your build.</p>\n"},{"tags":["java","hibernate","jpa","orm","persistence"],"comments":[{"owner":{"account_id":17705436,"reputation":731,"user_id":12854146,"display_name":"tremendous7"},"score":0,"creation_date":1692475731,"post_id":76936033,"comment_id":135629321,"body_markdown":"hello! what happens if instead of repositoryMerge(a); you have repositoryMerge(a, b); and in a single transaction you save both a and b? in your example changes to b are never persisted; b.a could still contain the A b was removed from","body":"hello! what happens if instead of repositoryMerge(a); you have repositoryMerge(a, b); and in a single transaction you save both a and b? in your example changes to b are never persisted; b.a could still contain the A b was removed from"},{"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"score":0,"creation_date":1692556273,"post_id":76936033,"comment_id":135636321,"body_markdown":"Why do i need to save b? i want a separate repository for a and b. I know that my example works while i doing all with one opened entity manager. Open entity manager, fetch a, find b with particular id, remove it from a with remove(b) method and merge. Only after this close entity manager and all is works, when i trying to do same with detached entity this doesn&#39;t work. I don&#39;t get this hibernate behavior. Strangely when update not collection fields, name, for example this works with detached entity.","body":"Why do i need to save b? i want a separate repository for a and b. I know that my example works while i doing all with one opened entity manager. Open entity manager, fetch a, find b with particular id, remove it from a with remove(b) method and merge. Only after this close entity manager and all is works, when i trying to do same with detached entity this doesn&#39;t work. I don&#39;t get this hibernate behavior. Strangely when update not collection fields, name, for example this works with detached entity."}],"owner":{"account_id":29257641,"reputation":1,"user_id":22415462,"display_name":"randomuser333"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692461467,"creation_date":1692461467,"question_id":76936033,"body_markdown":"I have two classes A and B that have many to many relationship. When i delete one item from list of B in class A and trying to merge this is doesn&#39;t work. \r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        A a = getAByIdFromRepository(2);\r\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\r\n        a.remove(b);\r\n        repositoryMerge(a);\r\n    }\r\n\r\n    public static A getAByIdFromRepository(int id) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager em = factory.createEntityManager();\r\n        A a = em.find(A.class, id);\r\n        em.close();\r\n        factory.close();\r\n        return a;\r\n    }\r\n\r\n    public static void repositoryMerge(A a) {\r\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\r\n        EntityManager entityManager = factory.createEntityManager();\r\n        entityManager.getTransaction().begin();\r\n        entityManager.merge(a);\r\n        entityManager.getTransaction().commit();\r\n        entityManager.close();\r\n        factory.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;a&quot;)\r\npublic class A implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;a_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;a_name&quot;)\r\n    protected String name;\r\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\r\n    protected List&lt;B&gt; b;\r\n\r\n   //getters setters etc.\r\n\r\n    public void remove(B b) {\r\n        this.getB().remove(b);\r\n        b.getA().remove(this);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;b&quot;)\r\npublic class B implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;b_id&quot;)\r\n    protected int id;\r\n    @Column(name = &quot;b_name&quot;)\r\n    protected String name;\r\n    @JoinTable(\r\n            name = &quot;b_a&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\r\n    @ManyToMany(fetch = FetchType.EAGER)\r\n    protected List&lt;A&gt; a;\r\n\r\n  //getters setters etc.\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nFor example i have related table in database b_a that connects these entities and there is no deletion from this table after merge. When i fetch instance of A then close entity manager, delete from list of this instance some B elements, open entity manager again and merge this is doesn&#39;t work.","title":"Jpa/hibernate problem while merge entity after remove related entity from it","body":"<p>I have two classes A and B that have many to many relationship. When i delete one item from list of B in class A and trying to merge this is doesn't work.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        A a = getAByIdFromRepository(2);\n        B b = a.getB().stream().filter(i -&gt; i.getId() == 1).findFirst().orElse(null);\n        a.remove(b);\n        repositoryMerge(a);\n    }\n\n    public static A getAByIdFromRepository(int id) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager em = factory.createEntityManager();\n        A a = em.find(A.class, id);\n        em.close();\n        factory.close();\n        return a;\n    }\n\n    public static void repositoryMerge(A a) {\n        EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;persistence_unit&quot;);\n        EntityManager entityManager = factory.createEntityManager();\n        entityManager.getTransaction().begin();\n        entityManager.merge(a);\n        entityManager.getTransaction().commit();\n        entityManager.close();\n        factory.close();\n    }\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;a&quot;)\npublic class A implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;a_id&quot;)\n    protected int id;\n    @Column(name = &quot;a_name&quot;)\n    protected String name;\n    @ManyToMany(mappedBy = &quot;a&quot;, fetch = FetchType.EAGER)\n    protected List&lt;B&gt; b;\n\n   //getters setters etc.\n\n    public void remove(B b) {\n        this.getB().remove(b);\n        b.getA().remove(this);\n    }\n\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;b&quot;)\npublic class B implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;b_id&quot;)\n    protected int id;\n    @Column(name = &quot;b_name&quot;)\n    protected String name;\n    @JoinTable(\n            name = &quot;b_a&quot;,\n            joinColumns = @JoinColumn(name = &quot;b_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;a_id&quot;))\n    @ManyToMany(fetch = FetchType.EAGER)\n    protected List&lt;A&gt; a;\n\n  //getters setters etc.\n\n\n}\n</code></pre>\n<p>For example i have related table in database b_a that connects these entities and there is no deletion from this table after merge. When i fetch instance of A then close entity manager, delete from list of this instance some B elements, open entity manager again and merge this is doesn't work.</p>\n"},{"tags":["java","spring-boot","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690180445,"post_id":76751726,"comment_id":135311770,"body_markdown":"How are you running the application?","body":"How are you running the application?"}],"answers":[{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690184412,"creation_date":1690183932,"answer_id":76752269,"question_id":76751726,"body_markdown":"When building a web application for the Java Enterprise Edition, Servlet API and related Java EE APIs must be provided by the web container (Tomcat) in runtime.\r\nwith a full-blown Tomcat servlet, these dependencies will be provided at runtime but this does not happen when using an embedded Tomcat.\r\n\r\nThere are two solutions.\r\n\r\n**Solution 1: (Not recommended)**\r\n\r\nchange the scope of Tomcat from provided to compiled (comment or remove provided) to include the classes in the classpath.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Solution 2:**\r\nConfigure your IDE to add the provided dependencies to the classpath.\r\n\r\n[Intellij IDEA][1]: \r\n\r\n&gt; Run -&gt; Edit Configurations.. -&gt; Build and Run -&gt; Modify options -&gt;   \r\n&gt; add dependencies with provided scope to classpath\r\n\r\n  [1]: https://i.stack.imgur.com/SVYYh.png","title":"BeanCreationException: Error creating bean with name &#39;servletComponentRegisteringPostProcessor&#39;: Instantiation of supplied bean failed","body":"<p>When building a web application for the Java Enterprise Edition, Servlet API and related Java EE APIs must be provided by the web container (Tomcat) in runtime.\nwith a full-blown Tomcat servlet, these dependencies will be provided at runtime but this does not happen when using an embedded Tomcat.</p>\n<p>There are two solutions.</p>\n<p><strong>Solution 1: (Not recommended)</strong></p>\n<p>change the scope of Tomcat from provided to compiled (comment or remove provided) to include the classes in the classpath.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Solution 2:</strong>\nConfigure your IDE to add the provided dependencies to the classpath.</p>\n<p><a href=\"https://i.stack.imgur.com/SVYYh.png\" rel=\"nofollow noreferrer\">Intellij IDEA</a>:</p>\n<blockquote>\n<p>Run -&gt; Edit Configurations.. -&gt; Build and Run -&gt; Modify options -&gt;<br />\nadd dependencies with provided scope to classpath</p>\n</blockquote>\n"}],"owner":{"account_id":29077711,"reputation":1,"user_id":22274418,"display_name":"Ilmam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76752269,"answer_count":1,"score":0,"last_activity_date":1692461437,"creation_date":1690177892,"question_id":76751726,"body_markdown":"While learning java web servlet from Youtube videos i encountered this error whereas the tutorial not. This is still at the start of the tutorial and i don&#39;t know how spring works too. I just learned how to deploy manually by putting war file to webapps folder in tomcat folder and after this is how to deploy automatically by borrowing/using embedded tomcat spring boot (this is not a spring tutorial so he doesn&#39;t explain much about this).\r\n\r\nThere are just two file\r\n\r\n1. BelajarServletApp.java\r\n\r\n```\r\npackage yt.pzn.servlet;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.web.servlet.ServletComponentScan;\r\n\r\n@ServletComponentScan\r\n@SpringBootApplication\r\npublic class BelajarServletApp {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(BelajarServletApp.class);\r\n    }\r\n}\r\n```\r\n\r\n2. HelloServlet.java file\r\n\r\n```\r\npackage yt.pzn.servlet;\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\nimport java.io.IOException;\r\n\r\n@WebServlet(urlPatterns = {&quot;/halo&quot;, &quot;/bang&quot;})\r\npublic class HelloServlet extends HttpServlet {\r\n\r\n    @Override\r\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n        resp.getWriter().println(&quot;halo bang&quot;);\r\n    }\r\n}\r\n\r\n```\r\nThis is what it said after i run it. What supposed to happen is the file is deployed on localhost port 8080 and no error occured. This isn&#39;t caused by used port right? port 8080 is free btw. So how do i fix this? and what is it caused by?\r\n\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.1.2)\r\n\r\n2023-07-24T11:45:53.757+07:00  INFO 8752 --- [           main] yt.pzn.servlet.BelajarServletApp         : Starting BelajarServletApp using Java 17.0.7 with PID 8752 (C:\\Coding Projects\\belajar-java-web-servlet\\target\\classes started by USER in C:\\Coding Projects\\belajar-java-web-servlet)\r\n2023-07-24T11:45:53.774+07:00  INFO 8752 --- [           main] yt.pzn.servlet.BelajarServletApp         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-07-24T11:45:55.441+07:00  WARN 8752 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletComponentRegisteringPostProcessor&#39;: Instantiation of supplied bean failed\r\n2023-07-24T11:45:55.472+07:00  INFO 8752 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-07-24T11:45:55.553+07:00 ERROR 8752 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletComponentRegisteringPostProcessor&#39;: Instantiation of supplied bean failed\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:199) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat yt.pzn.servlet.BelajarServletApp.main(BelajarServletApp.java:12) ~[classes/:na]\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/annotation/WebServlet\r\n\tat org.springframework.boot.web.servlet.WebServletHandler.&lt;init&gt;(WebServletHandler.java:39) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletComponentRegisteringPostProcessor.&lt;clinit&gt;(ServletComponentRegisteringPostProcessor.java:49) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.web.servlet.ServletComponentScanRegistrar$ServletComponentRegisteringPostProcessorBeanDefinition.lambda$getInstanceSupplier$0(ServletComponentScanRegistrar.java:96) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:949) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.annotation.WebServlet\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\t... 22 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\n\r\n\r\n```\r\npom.xml below if you need it.\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;yt.pzn&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;belajar-java-web-servlet&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;Belajar Java Web Servlet&lt;/name&gt;\r\n\t&lt;description&gt;Belajar Java Web Servlet&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nplease help me, thank you.","title":"BeanCreationException: Error creating bean with name &#39;servletComponentRegisteringPostProcessor&#39;: Instantiation of supplied bean failed","body":"<p>While learning java web servlet from Youtube videos i encountered this error whereas the tutorial not. This is still at the start of the tutorial and i don't know how spring works too. I just learned how to deploy manually by putting war file to webapps folder in tomcat folder and after this is how to deploy automatically by borrowing/using embedded tomcat spring boot (this is not a spring tutorial so he doesn't explain much about this).</p>\n<p>There are just two file</p>\n<ol>\n<li>BelajarServletApp.java</li>\n</ol>\n<pre><code>package yt.pzn.servlet;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.web.servlet.ServletComponentScan;\n\n@ServletComponentScan\n@SpringBootApplication\npublic class BelajarServletApp {\n\n    public static void main(String[] args) {\n        SpringApplication.run(BelajarServletApp.class);\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>HelloServlet.java file</li>\n</ol>\n<pre><code>package yt.pzn.servlet;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\nimport java.io.IOException;\n\n@WebServlet(urlPatterns = {&quot;/halo&quot;, &quot;/bang&quot;})\npublic class HelloServlet extends HttpServlet {\n\n    @Override\n    protected void service(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        resp.getWriter().println(&quot;halo bang&quot;);\n    }\n}\n\n</code></pre>\n<p>This is what it said after i run it. What supposed to happen is the file is deployed on localhost port 8080 and no error occured. This isn't caused by used port right? port 8080 is free btw. So how do i fix this? and what is it caused by?</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.1.2)\n\n2023-07-24T11:45:53.757+07:00  INFO 8752 --- [           main] yt.pzn.servlet.BelajarServletApp         : Starting BelajarServletApp using Java 17.0.7 with PID 8752 (C:\\Coding Projects\\belajar-java-web-servlet\\target\\classes started by USER in C:\\Coding Projects\\belajar-java-web-servlet)\n2023-07-24T11:45:53.774+07:00  INFO 8752 --- [           main] yt.pzn.servlet.BelajarServletApp         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-07-24T11:45:55.441+07:00  WARN 8752 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletComponentRegisteringPostProcessor': Instantiation of supplied bean failed\n2023-07-24T11:45:55.472+07:00  INFO 8752 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-24T11:45:55.553+07:00 ERROR 8752 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletComponentRegisteringPostProcessor': Instantiation of supplied bean failed\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1220) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1158) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:199) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at yt.pzn.servlet.BelajarServletApp.main(BelajarServletApp.java:12) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/annotation/WebServlet\n    at org.springframework.boot.web.servlet.WebServletHandler.&lt;init&gt;(WebServletHandler.java:39) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletComponentRegisteringPostProcessor.&lt;clinit&gt;(ServletComponentRegisteringPostProcessor.java:49) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.web.servlet.ServletComponentScanRegistrar$ServletComponentRegisteringPostProcessorBeanDefinition.lambda$getInstanceSupplier$0(ServletComponentScanRegistrar.java:96) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.obtainInstanceFromSupplier(DefaultListableBeanFactory.java:949) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 16 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.annotation.WebServlet\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 22 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<pre><code>pom.xml below if you need it.\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;yt.pzn&lt;/groupId&gt;\n    &lt;artifactId&gt;belajar-java-web-servlet&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Belajar Java Web Servlet&lt;/name&gt;\n    &lt;description&gt;Belajar Java Web Servlet&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>please help me, thank you.</p>\n"},{"tags":["java","javafx"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1692460565,"creation_date":1692460565,"answer_id":76935962,"question_id":76935248,"body_markdown":"The use of prompt text in a combo box is not well documented. The [API documentation](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ComboBoxBase.html#promptTextProperty) says, somewhat vaguely:\r\n\r\n&gt; Prompt text is not displayed in all circumstances, it is dependent upon the subclasses of ComboBoxBase to clarify when promptText will be shown. For example, in most cases prompt text will never be shown when a combo box is non-editable\r\n\r\nThe implementation seems patchy, as the question notes. The prompt text appears not to be supported in non-editable mode, with the exception of the initial display.\r\n\r\nThe (mostly) more robust approach here is to use a custom button cell (which is used to configure the display of the combo box button):\r\n\r\n    public class Test implements Initializable {\r\n        @FXML\r\n        public ComboBox&lt;String&gt; DevelopmentType;\r\n        @FXML\r\n        public ComboBox&lt;String&gt; LanguageProgramming;\r\n    \r\n        ObservableList&lt;String&gt; listDevelopmentType = FXCollections.observableArrayList(&quot;Back-end&quot;, &quot;Front-end&quot;);\r\n        ObservableList&lt;String&gt; listLanguageProgrammingBackEnd = FXCollections.observableArrayList(&quot;Java&quot;, &quot;PHP&quot;);\r\n        ObservableList&lt;String&gt; listLanguageProgrammingFrontEnd = FXCollections.observableArrayList(&quot;HTML&quot;, &quot;CSS&quot;, &quot;Javascript&quot;);\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            DevelopmentType.setItems(listDevelopmentType);\r\n            LanguageProgramming.setButtonCell(new ListCell&lt;String&gt;() {\r\n                @Override\r\n                protected void updateItem(String item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (empty || item == null || item.isEmpty()) {\r\n                        setText(&quot;Select a programming language&quot;);\r\n                    } else {\r\n                        setText(item);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        public void DevelopmentTypeEvent(){\r\n            if(DevelopmentType.getValue().equals(&quot;Back-end&quot;)){\r\n                LanguageProgramming.setItems(listLanguageProgrammingBackEnd);\r\n            }\r\n            else if(DevelopmentType.getValue().equals(&quot;Front-end&quot;)){\r\n                LanguageProgramming.setItems(listLanguageProgrammingFrontEnd);\r\n            }\r\n        }\r\n    }\r\n\r\nThis also seems slightly broken: it doesn&#39;t by itself properly set the text on the initial display. If you keep the initial setting of the prompt text in the FMXL, it seems to work the way you want.","title":"The setPromptText() function doesn&#39;t work after selecting an item for the 2nd time or more in JavaFX","body":"<p>The use of prompt text in a combo box is not well documented. The <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/control/ComboBoxBase.html#promptTextProperty\" rel=\"nofollow noreferrer\">API documentation</a> says, somewhat vaguely:</p>\n<blockquote>\n<p>Prompt text is not displayed in all circumstances, it is dependent upon the subclasses of ComboBoxBase to clarify when promptText will be shown. For example, in most cases prompt text will never be shown when a combo box is non-editable</p>\n</blockquote>\n<p>The implementation seems patchy, as the question notes. The prompt text appears not to be supported in non-editable mode, with the exception of the initial display.</p>\n<p>The (mostly) more robust approach here is to use a custom button cell (which is used to configure the display of the combo box button):</p>\n<pre><code>public class Test implements Initializable {\n    @FXML\n    public ComboBox&lt;String&gt; DevelopmentType;\n    @FXML\n    public ComboBox&lt;String&gt; LanguageProgramming;\n\n    ObservableList&lt;String&gt; listDevelopmentType = FXCollections.observableArrayList(&quot;Back-end&quot;, &quot;Front-end&quot;);\n    ObservableList&lt;String&gt; listLanguageProgrammingBackEnd = FXCollections.observableArrayList(&quot;Java&quot;, &quot;PHP&quot;);\n    ObservableList&lt;String&gt; listLanguageProgrammingFrontEnd = FXCollections.observableArrayList(&quot;HTML&quot;, &quot;CSS&quot;, &quot;Javascript&quot;);\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        DevelopmentType.setItems(listDevelopmentType);\n        LanguageProgramming.setButtonCell(new ListCell&lt;String&gt;() {\n            @Override\n            protected void updateItem(String item, boolean empty) {\n                super.updateItem(item, empty);\n                if (empty || item == null || item.isEmpty()) {\n                    setText(&quot;Select a programming language&quot;);\n                } else {\n                    setText(item);\n                }\n            }\n        });\n    }\n    public void DevelopmentTypeEvent(){\n        if(DevelopmentType.getValue().equals(&quot;Back-end&quot;)){\n            LanguageProgramming.setItems(listLanguageProgrammingBackEnd);\n        }\n        else if(DevelopmentType.getValue().equals(&quot;Front-end&quot;)){\n            LanguageProgramming.setItems(listLanguageProgrammingFrontEnd);\n        }\n    }\n}\n</code></pre>\n<p>This also seems slightly broken: it doesn't by itself properly set the text on the initial display. If you keep the initial setting of the prompt text in the FMXL, it seems to work the way you want.</p>\n"}],"owner":{"account_id":19740683,"reputation":67,"user_id":14454122,"display_name":"Cat Dragon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76935962,"answer_count":1,"score":3,"last_activity_date":1692460565,"creation_date":1692450283,"question_id":76935248,"body_markdown":"Suppose I have 2 ComboBoxes like these, and they show prompt text.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen let&#39;s say I choose 2 items corresponding to those 2 comboboxes\r\n[![enter image description here][2]][2]\r\n\r\n\r\nHowever, upon reselecting the Front-end, the second combobox lost its prompt text, despite me having set the prompt text using `setPromptText()`\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow can I do that? Here is my Application file\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class HelloApplication extends Application {\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            try{\r\n                Parent root = FXMLLoader.load(this.getClass().getResource(&quot;test.fxml&quot;));\r\n                Scene scene = new Scene(root);\r\n                primaryStage.setScene(scene);\r\n                primaryStage.show();\r\n            }catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is the Controller file\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.ComboBox;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Test implements Initializable {\r\n        @FXML\r\n        public ComboBox&lt;String&gt; DevelopmentType;\r\n        @FXML\r\n        public ComboBox&lt;String&gt; LanguageProgramming;\r\n    \r\n        ObservableList&lt;String&gt; listDevelopmentType = FXCollections.observableArrayList(&quot;Back-end&quot;, &quot;Front-end&quot;);\r\n        ObservableList&lt;String&gt; listLanguageProgrammingBackEnd = FXCollections.observableArrayList(&quot;Java&quot;, &quot;PHP&quot;);\r\n        ObservableList&lt;String&gt; listLanguageProgrammingFrontEnd = FXCollections.observableArrayList(&quot;HTML&quot;, &quot;CSS&quot;, &quot;Javascript&quot;);\r\n    \r\n        @Override\r\n        public void initialize(URL location, ResourceBundle resources) {\r\n            DevelopmentType.setItems(listDevelopmentType);\r\n        }\r\n        public void DevelopmentTypeEvent(){\r\n            if(DevelopmentType.getValue().equals(&quot;Back-end&quot;)){\r\n                LanguageProgramming.setPromptText(&quot;Select a language programming&quot;);//Not working\r\n                LanguageProgramming.setItems(listLanguageProgrammingBackEnd);\r\n            }\r\n            else if(DevelopmentType.getValue().equals(&quot;Front-end&quot;)){\r\n                LanguageProgramming.setPromptText(&quot;Select a language programming&quot;);//Not working\r\n                LanguageProgramming.setItems(listLanguageProgrammingFrontEnd);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the FXML file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.ComboBox?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    \r\n    &lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.Test&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;ComboBox fx:id=&quot;DevelopmentType&quot; layoutX=&quot;75.0&quot; layoutY=&quot;62.0&quot; onAction=&quot;#DevelopmentTypeEvent&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;218.0&quot; promptText=&quot;Select a development type&quot; /&gt;\r\n          &lt;ComboBox fx:id=&quot;LanguageProgramming&quot; layoutX=&quot;75.0&quot; layoutY=&quot;98.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;217.0&quot; promptText=&quot;Select a language programming&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/luPoH.png\r\n  [2]: https://i.stack.imgur.com/4I2C4.png\r\n  [3]: https://i.stack.imgur.com/eIMnr.png\r\n\r\n","title":"The setPromptText() function doesn&#39;t work after selecting an item for the 2nd time or more in JavaFX","body":"<p>Suppose I have 2 ComboBoxes like these, and they show prompt text.</p>\n<p><a href=\"https://i.stack.imgur.com/luPoH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luPoH.png\" alt=\"enter image description here\" /></a></p>\n<p>Then let's say I choose 2 items corresponding to those 2 comboboxes\n<a href=\"https://i.stack.imgur.com/4I2C4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4I2C4.png\" alt=\"enter image description here\" /></a></p>\n<p>However, upon reselecting the Front-end, the second combobox lost its prompt text, despite me having set the prompt text using <code>setPromptText()</code></p>\n<p><a href=\"https://i.stack.imgur.com/eIMnr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIMnr.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I do that? Here is my Application file</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class HelloApplication extends Application {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    @Override\n    public void start(Stage primaryStage) {\n        try{\n            Parent root = FXMLLoader.load(this.getClass().getResource(&quot;test.fxml&quot;));\n            Scene scene = new Scene(root);\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        }catch (Exception e){\n            System.out.println(e);\n        }\n    }\n}\n</code></pre>\n<p>Here is the Controller file</p>\n<pre><code>package com.example.demo;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.ComboBox;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Test implements Initializable {\n    @FXML\n    public ComboBox&lt;String&gt; DevelopmentType;\n    @FXML\n    public ComboBox&lt;String&gt; LanguageProgramming;\n\n    ObservableList&lt;String&gt; listDevelopmentType = FXCollections.observableArrayList(&quot;Back-end&quot;, &quot;Front-end&quot;);\n    ObservableList&lt;String&gt; listLanguageProgrammingBackEnd = FXCollections.observableArrayList(&quot;Java&quot;, &quot;PHP&quot;);\n    ObservableList&lt;String&gt; listLanguageProgrammingFrontEnd = FXCollections.observableArrayList(&quot;HTML&quot;, &quot;CSS&quot;, &quot;Javascript&quot;);\n\n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n        DevelopmentType.setItems(listDevelopmentType);\n    }\n    public void DevelopmentTypeEvent(){\n        if(DevelopmentType.getValue().equals(&quot;Back-end&quot;)){\n            LanguageProgramming.setPromptText(&quot;Select a language programming&quot;);//Not working\n            LanguageProgramming.setItems(listLanguageProgrammingBackEnd);\n        }\n        else if(DevelopmentType.getValue().equals(&quot;Front-end&quot;)){\n            LanguageProgramming.setPromptText(&quot;Select a language programming&quot;);//Not working\n            LanguageProgramming.setItems(listLanguageProgrammingFrontEnd);\n        }\n    }\n}\n</code></pre>\n<p>Here is the FXML file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/20.0.1&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.demo.Test&quot;&gt;\n   &lt;children&gt;\n      &lt;ComboBox fx:id=&quot;DevelopmentType&quot; layoutX=&quot;75.0&quot; layoutY=&quot;62.0&quot; onAction=&quot;#DevelopmentTypeEvent&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;218.0&quot; promptText=&quot;Select a development type&quot; /&gt;\n      &lt;ComboBox fx:id=&quot;LanguageProgramming&quot; layoutX=&quot;75.0&quot; layoutY=&quot;98.0&quot; prefHeight=&quot;26.0&quot; prefWidth=&quot;217.0&quot; promptText=&quot;Select a language programming&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","second-level-cache"],"comments":[{"owner":{"account_id":19460464,"reputation":43,"user_id":14234891,"display_name":"Ionathan Ardelean"},"score":0,"creation_date":1692466543,"post_id":76935945,"comment_id":135628392,"body_markdown":"Please tacke a look at this post: https://stackoverflow.com/questions/7995549/where-and-how-to-check-that-hibernate-cache-really-works","body":"Please tacke a look at this post: <a href=\"https://stackoverflow.com/questions/7995549/where-and-how-to-check-that-hibernate-cache-really-works\" title=\"where and how to check that hibernate cache really works\">stackoverflow.com/questions/7995549/&hellip;</a>"}],"owner":{"account_id":20196394,"reputation":21,"user_id":14813248,"display_name":"Xai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692460385,"creation_date":1692460385,"question_id":76935945,"body_markdown":"How can I ensure that 2nd level cache is enabled in my Spring Boot app or how can I know that it already worked? \r\nI&#39;m using Ehcache and Spring data JPA pattern for the Domain layer. \r\n\r\nby using these method, \r\n```\r\n    public Book fetchById(Long id){\r\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\r\n        if (book.isEmpty()){\r\n\r\n            System.out.println(&quot;book not found&quot;);\r\n        }\r\n\r\n        return book.orElse(null);\r\n\r\n    }\r\n\r\n    public Book findById(Long id){\r\n\r\n        Optional&lt;Book&gt; book = bookRepository.findById(id);\r\n        if (book.isEmpty()){\r\n\r\n            System.out.println(&quot;book not found&quot;);\r\n        }\r\n\r\n        return book.get();\r\n    }\r\n\r\n```\r\n\r\n\r\nIn application.properties class config:\r\n```\r\nhibernate.cache.use_second_level_cache=true\r\nhibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory\r\nhibernate.cache.use_query_cache=true\r\nspring.cache.ehcache.config=classpath:ehcache.xml\r\n```\r\nBook repository:\r\n```\r\n@Repository\r\n@Transactional\r\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\r\n    @Override\r\n    @Transactional\r\n    @EntityGraph(value = &quot;book-author&quot;, type = EntityGraph.EntityGraphType.LOAD)\r\n    List&lt;Book&gt; findAll();\r\n\r\n    @org.springframework.transaction.annotation.Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    @Cacheable(value = &quot;book&quot;)\r\n    @Query(value = &quot;SELECT b FROM Book b JOIN FETCH b.author a WHERE b.id = :id&quot;)\r\n    Optional&lt;Book&gt; fetchById(@Param(&quot;id&quot;) Long id);\r\n\r\n}\r\n```\r\nBook Entity:\r\n\r\n```\r\n@Table(name = &quot;book&quot;)\r\n@NamedEntityGraph(name = &quot;book-author&quot; , attributeNodes = @NamedAttributeNode(&quot;author&quot;))\r\n@Cacheable\r\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\r\npublic class Book {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String isbn;\r\n\r\n    @Column(nullable = false)\r\n    private String title;\r\n    private String category;\r\n\r\n    private Double price;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private Author author;\r\n\r\n{ getter &amp; setter, etc... }\r\n\r\n}\r\n\r\n```\r\n\r\nBookService.class:\r\n\r\n```\r\n\r\n@Service\r\n@Transactional\r\npublic class BookService {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(BookService.class);\r\n\r\n    BookRepository bookRepository;\r\n    @Autowired\r\n    public BookService(BookRepository authorRepository) {\r\n        this.bookRepository = authorRepository;\r\n    }\r\n\r\n    public Book fetchById(Long id){\r\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\r\n        if (book.isEmpty()){\r\n\r\n            System.out.println(&quot;book not found&quot;);\r\n        }\r\n\r\n        return book.orElse(null);\r\n\r\n    }\r\n\r\n    public Book findById(Long id){\r\n\r\n        Optional&lt;Book&gt; book = bookRepository.findById(id);\r\n        if (book.isEmpty()){\r\n\r\n            System.out.println(&quot;book not found&quot;);\r\n        }\r\n\r\n        return book.get();\r\n    }\r\n\r\n```\r\nPom.xml:\r\n\r\n```\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.10.8&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-ehcache --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0.Alpha7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How can I ensure that 2nd level cache is enabled in spring boot app?","body":"<p>How can I ensure that 2nd level cache is enabled in my Spring Boot app or how can I know that it already worked?\nI'm using Ehcache and Spring data JPA pattern for the Domain layer.</p>\n<p>by using these method,</p>\n<pre><code>    public Book fetchById(Long id){\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\n        if (book.isEmpty()){\n\n            System.out.println(&quot;book not found&quot;);\n        }\n\n        return book.orElse(null);\n\n    }\n\n    public Book findById(Long id){\n\n        Optional&lt;Book&gt; book = bookRepository.findById(id);\n        if (book.isEmpty()){\n\n            System.out.println(&quot;book not found&quot;);\n        }\n\n        return book.get();\n    }\n\n</code></pre>\n<p>In application.properties class config:</p>\n<pre><code>hibernate.cache.use_second_level_cache=true\nhibernate.cache.region.factory_class=org.hibernate.cache.ehcache.EhCacheRegionFactory\nhibernate.cache.use_query_cache=true\nspring.cache.ehcache.config=classpath:ehcache.xml\n</code></pre>\n<p>Book repository:</p>\n<pre><code>@Repository\n@Transactional\npublic interface BookRepository extends JpaRepository&lt;Book, Long&gt; {\n    @Override\n    @Transactional\n    @EntityGraph(value = &quot;book-author&quot;, type = EntityGraph.EntityGraphType.LOAD)\n    List&lt;Book&gt; findAll();\n\n    @org.springframework.transaction.annotation.Transactional(propagation = Propagation.REQUIRES_NEW)\n    @Cacheable(value = &quot;book&quot;)\n    @Query(value = &quot;SELECT b FROM Book b JOIN FETCH b.author a WHERE b.id = :id&quot;)\n    Optional&lt;Book&gt; fetchById(@Param(&quot;id&quot;) Long id);\n\n}\n</code></pre>\n<p>Book Entity:</p>\n<pre><code>@Table(name = &quot;book&quot;)\n@NamedEntityGraph(name = &quot;book-author&quot; , attributeNodes = @NamedAttributeNode(&quot;author&quot;))\n@Cacheable\n@org.hibernate.annotations.Cache(usage = CacheConcurrencyStrategy.READ_WRITE)\npublic class Book {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String isbn;\n\n    @Column(nullable = false)\n    private String title;\n    private String category;\n\n    private Double price;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n\n{ getter &amp; setter, etc... }\n\n}\n\n</code></pre>\n<p>BookService.class:</p>\n<pre><code>\n@Service\n@Transactional\npublic class BookService {\n\n    private static final Logger logger = LoggerFactory.getLogger(BookService.class);\n\n    BookRepository bookRepository;\n    @Autowired\n    public BookService(BookRepository authorRepository) {\n        this.bookRepository = authorRepository;\n    }\n\n    public Book fetchById(Long id){\n        Optional&lt;Book&gt; book = bookRepository.fetchById(id);\n        if (book.isEmpty()){\n\n            System.out.println(&quot;book not found&quot;);\n        }\n\n        return book.orElse(null);\n\n    }\n\n    public Book findById(Long id){\n\n        Optional&lt;Book&gt; book = bookRepository.findById(id);\n        if (book.isEmpty()){\n\n            System.out.println(&quot;book not found&quot;);\n        }\n\n        return book.get();\n    }\n\n</code></pre>\n<p>Pom.xml:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.ehcache/ehcache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;3.10.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-ehcache --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n            &lt;version&gt;6.0.0.Alpha7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","spring-security","authorization"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1692707094,"post_id":76935010,"comment_id":135658179,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76935010/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29256754,"reputation":1,"user_id":22414782,"display_name":"Islam Haddad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692446741,"creation_date":1692446741,"answer_id":76935010,"question_id":76934915,"body_markdown":"To answer your question, i would recommend binding the business logic to your id, let&#39;s say for example you have **employeeService** and it has findByEmail method in restClientController\r\n\r\na code example would be like this\r\n \r\n\r\n     @GET(&quot;employee/{id}&quot;)\r\n     public Response getClient(@AuthHeader(&quot;Token&quot;) String token ) {\r\n           String email  = /** code to get the user&#39;s email or something **/\r\n           try {\r\n               Employee employee = employeeService.findByEmail(email);\r\n               return Response\r\n                            .ok(employee)\r\n                            .build();\r\n           } catch (Exception e) {\r\n           /** exception logic **/\r\n              return Response.status(Response.status.ERROR).build();\r\n           }\r\n}\r\n\r\nyour method business logic (this is the bare minimum) would be something like!\r\n\r\nHope this helps.","title":"How can I make an endpoint accessible only for the user that has the id contained in that endpoint using Spring Security?","body":"<p>To answer your question, i would recommend binding the business logic to your id, let's say for example you have <strong>employeeService</strong> and it has findByEmail method in restClientController</p>\n<p>a code example would be like this</p>\n<pre><code> @GET(&quot;employee/{id}&quot;)\n public Response getClient(@AuthHeader(&quot;Token&quot;) String token ) {\n       String email  = /** code to get the user's email or something **/\n       try {\n           Employee employee = employeeService.findByEmail(email);\n           return Response\n                        .ok(employee)\n                        .build();\n       } catch (Exception e) {\n       /** exception logic **/\n          return Response.status(Response.status.ERROR).build();\n       }\n</code></pre>\n<p>}</p>\n<p>your method business logic (this is the bare minimum) would be something like!</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":22759730,"reputation":1,"user_id":16918746,"display_name":"Brahim Baibbat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1692459968,"creation_date":1692445274,"question_id":76934915,"body_markdown":"I have created an API using Spring Boot with the database (Postgres) that manages employees and departments. I&#39;m using java 20, Spring Boot 3.0.1 and Spring security 6, And I created this endpoint &quot;**/api/employees**&quot; accessible only for the admin because it return all the employees in the database, and I have this endpoint **/api/employees/{id}** that return the specific employee with the given **id**.\r\nBy the way I didn&#39;t create any controller for employees or department because I used HATEOES which means that it creates for me the endpoints for the employees and the departments with writing any code.\r\nHere&#39;s the Security configuration file:\r\n    \r\n    public class SecurityConfig {\r\n    \r\n        private final RSAKeyProperties keys;\r\n    \r\n        public SecurityConfig(RSAKeyProperties keys) {\r\n            this.keys = keys;\r\n        }\r\n    \r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        AuthenticationManager authManager(UserDetailsService detailsService) {\r\n            DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\r\n            daoProvider.setUserDetailsService(detailsService);\r\n            daoProvider.setPasswordEncoder(passwordEncoder());\r\n            return new ProviderManager(daoProvider);\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.csrf(csrf -&gt; csrf.disable()).authorizeHttpRequests(auth -&gt; {\r\n                auth.requestMatchers(&quot;/auth/**&quot;).permitAll(); // This will allow anyone to access this endpoint in\r\n                // order to Login or Signup\r\n                auth.requestMatchers(&quot;/api/employees&quot;).hasRole(&quot;ADMIN&quot;);\r\n                auth.requestMatchers(&quot;/api/employees/{id}&quot;);\r\n                auth.anyRequest().authenticated();\r\n            });\r\n            httpSecurity.oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\r\n            httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n            return httpSecurity.build();\r\n        }\r\n    \r\n        @Bean\r\n        JwtDecoder jwtDecoder() {\r\n            return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\r\n        }\r\n    \r\n        @Bean\r\n        JwtEncoder jwtEncoder() {\r\n            JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\r\n            JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n            return new NimbusJwtEncoder(jwkSource);\r\n        }\r\n    \r\n        @Bean\r\n        JwtAuthenticationConverter jwtAuthenticationConverter() {\r\n            JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\r\n            jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\r\n            jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\r\n            JwtAuthenticationConverter jwtConverter = new JwtAuthenticationConverter();\r\n            jwtConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\r\n            return jwtConverter;\r\n        }\r\n    \r\n    }\r\n\r\nWhat I&#39;m asking is how can I make this endpoint &quot;**/api/employees/{id}**&quot; accessible only for the employee that has the same **id** ?\r\n\r\nI&#39;m new to Spring Security so I couldn&#39;t find any solution for this.","title":"How can I make an endpoint accessible only for the user that has the id contained in that endpoint using Spring Security?","body":"<p>I have created an API using Spring Boot with the database (Postgres) that manages employees and departments. I'm using java 20, Spring Boot 3.0.1 and Spring security 6, And I created this endpoint &quot;<strong>/api/employees</strong>&quot; accessible only for the admin because it return all the employees in the database, and I have this endpoint <strong>/api/employees/{id}</strong> that return the specific employee with the given <strong>id</strong>.\nBy the way I didn't create any controller for employees or department because I used HATEOES which means that it creates for me the endpoints for the employees and the departments with writing any code.\nHere's the Security configuration file:</p>\n<pre><code>public class SecurityConfig {\n\n    private final RSAKeyProperties keys;\n\n    public SecurityConfig(RSAKeyProperties keys) {\n        this.keys = keys;\n    }\n\n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    AuthenticationManager authManager(UserDetailsService detailsService) {\n        DaoAuthenticationProvider daoProvider = new DaoAuthenticationProvider();\n        daoProvider.setUserDetailsService(detailsService);\n        daoProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(daoProvider);\n    }\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf(csrf -&gt; csrf.disable()).authorizeHttpRequests(auth -&gt; {\n            auth.requestMatchers(&quot;/auth/**&quot;).permitAll(); // This will allow anyone to access this endpoint in\n            // order to Login or Signup\n            auth.requestMatchers(&quot;/api/employees&quot;).hasRole(&quot;ADMIN&quot;);\n            auth.requestMatchers(&quot;/api/employees/{id}&quot;);\n            auth.anyRequest().authenticated();\n        });\n        httpSecurity.oauth2ResourceServer().jwt().jwtAuthenticationConverter(jwtAuthenticationConverter());\n        httpSecurity.sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n        return httpSecurity.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withPublicKey(keys.getPublicKey()).build();\n    }\n\n    @Bean\n    JwtEncoder jwtEncoder() {\n        JWK jwk = new RSAKey.Builder(keys.getPublicKey()).privateKey(keys.getPrivateKey()).build();\n        JWKSource&lt;SecurityContext&gt; jwkSource = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n        return new NimbusJwtEncoder(jwkSource);\n    }\n\n    @Bean\n    JwtAuthenticationConverter jwtAuthenticationConverter() {\n        JwtGrantedAuthoritiesConverter jwtGrantedAuthoritiesConverter = new JwtGrantedAuthoritiesConverter();\n        jwtGrantedAuthoritiesConverter.setAuthoritiesClaimName(&quot;roles&quot;);\n        jwtGrantedAuthoritiesConverter.setAuthorityPrefix(&quot;ROLE_&quot;);\n        JwtAuthenticationConverter jwtConverter = new JwtAuthenticationConverter();\n        jwtConverter.setJwtGrantedAuthoritiesConverter(jwtGrantedAuthoritiesConverter);\n        return jwtConverter;\n    }\n\n}\n</code></pre>\n<p>What I'm asking is how can I make this endpoint &quot;<strong>/api/employees/{id}</strong>&quot; accessible only for the employee that has the same <strong>id</strong> ?</p>\n<p>I'm new to Spring Security so I couldn't find any solution for this.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":5,"creation_date":1692457461,"post_id":76935732,"comment_id":135627327,"body_markdown":"&quot;hello&quot; (String) and 123 (Integer) share a single common ancestor (Object). Notice you specify the type in `MyGeneric`, but don&#39;t in `App`. The equivalent code would be `App.&lt;String&gt;smethod(&quot;abc&quot;, 123);` (which will give you a compiler error).","body":"&quot;hello&quot; (String) and 123 (Integer) share a single common ancestor (Object). Notice you specify the type in <code>MyGeneric</code>, but don&#39;t in <code>App</code>. The equivalent code would be <code>App.&lt;String&gt;smethod(&quot;abc&quot;, 123);</code> (which will give you a compiler error)."}],"answers":[{"comments":[{"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"score":0,"creation_date":1692683826,"post_id":76935770,"comment_id":135653477,"body_markdown":"Excuse me, is it your answer or chatGpt?","body":"Excuse me, is it your answer or chatGpt?"}],"tags":[],"owner":{"account_id":29249351,"reputation":59,"user_id":22409044,"display_name":"RayD-TeamNINJA"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1692457784,"creation_date":1692457784,"answer_id":76935770,"question_id":76935732,"body_markdown":"I&#39;ll take a stab at this.\r\n\r\nSo basically in the Java code you provided, the behavior of the `method` in the `MyGeneric` class and the `smethod` static method in the `App` class is different due to the context and the way Java&#39;s type inference works in different situations.\r\n\r\nIn more detail:\r\n\r\nIn the `MyGeneric` class, you&#39;ve defined a generic method `method` that takes two parameters of type `T`. The type parameter `T` for this method is determined by the type parameter of the `MyGeneric` class itself. When you instantiate `MyGeneric&lt;String&gt;`, the type parameter `T` becomes `String`, so the `method` expects two arguments of type `String`.\r\n\r\nThe `smethod` is a static generic method defined in the `App` class. When you invoke `smethod(&quot;hello&quot;, 123)`, Java uses type inference to determine the most specific supertype that is applicable to both `&quot;hello&quot;` (a `String`) and `123` (an `Integer`). In this case, the most specific supertype that both `String` and `Integer` have in common is `Object`. Therefore, the type parameter `T` for `smethod` is inferred to be `Object`, and the method is effectively treated as if it&#39;s defined as `static void smethod(Object t1, Object t2)`.\r\n\r\nThis difference in behavior arises from the context in which the generic method is defined and the type inference mechanism used by Java. In the case of the `MyGeneric` class, the type parameter `T` is determined by the instantiation of the class, and the `method` is bound to a specific type. In the case of the `smethod` in the `App` class, the type parameter `T` is inferred based on the actual arguments provided to the method, and the type inference tries to find a common supertype.\r\n\r\nBasically the behavior of the two methods is different because of the context in which they are defined and the way Java&#39;s type inference works.","title":"Why can a single parameterized type in static method take two different types?","body":"<p>I'll take a stab at this.</p>\n<p>So basically in the Java code you provided, the behavior of the <code>method</code> in the <code>MyGeneric</code> class and the <code>smethod</code> static method in the <code>App</code> class is different due to the context and the way Java's type inference works in different situations.</p>\n<p>In more detail:</p>\n<p>In the <code>MyGeneric</code> class, you've defined a generic method <code>method</code> that takes two parameters of type <code>T</code>. The type parameter <code>T</code> for this method is determined by the type parameter of the <code>MyGeneric</code> class itself. When you instantiate <code>MyGeneric&lt;String&gt;</code>, the type parameter <code>T</code> becomes <code>String</code>, so the <code>method</code> expects two arguments of type <code>String</code>.</p>\n<p>The <code>smethod</code> is a static generic method defined in the <code>App</code> class. When you invoke <code>smethod(&quot;hello&quot;, 123)</code>, Java uses type inference to determine the most specific supertype that is applicable to both <code>&quot;hello&quot;</code> (a <code>String</code>) and <code>123</code> (an <code>Integer</code>). In this case, the most specific supertype that both <code>String</code> and <code>Integer</code> have in common is <code>Object</code>. Therefore, the type parameter <code>T</code> for <code>smethod</code> is inferred to be <code>Object</code>, and the method is effectively treated as if it's defined as <code>static void smethod(Object t1, Object t2)</code>.</p>\n<p>This difference in behavior arises from the context in which the generic method is defined and the type inference mechanism used by Java. In the case of the <code>MyGeneric</code> class, the type parameter <code>T</code> is determined by the instantiation of the class, and the <code>method</code> is bound to a specific type. In the case of the <code>smethod</code> in the <code>App</code> class, the type parameter <code>T</code> is inferred based on the actual arguments provided to the method, and the type inference tries to find a common supertype.</p>\n<p>Basically the behavior of the two methods is different because of the context in which they are defined and the way Java's type inference works.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692458660,"creation_date":1692458660,"answer_id":76935827,"question_id":76935732,"body_markdown":"&gt; take two different types?\r\n\r\nNo, they don&#39;t take two different types at all.\r\n\r\nThey take one type. And that type, here, is `java.lang.Object`.\r\n\r\n## The meta-aspect of generics\r\n\r\nGenerics isn&#39;t about the types of specific things. It&#39;s about the types of the method, itself. It&#39;s about _your code_, not about what the runtime type of things are. It helps to keep in mind that generics are __entirely__ a thing `javac` does. `java.exe` has few generics to work with (most of it is erased), and __has no idea what they are__ - you can read through the entire JVM Specification and it simply doesn&#39;t even recognize they exist. Other than describe how they are stored in .class files. They are like comments: Completely ignored at runtime. Hence, the only thing generics can ever do, is modify what the compiler does with your code. Thus: Generics operate on &#39;lines of code&#39; level.\r\n\r\nTo make that more concrete:\r\n\r\n`List&lt;? extends Number&gt;` does not mean: &quot;A list that can store anything that is a Number or a subclass thereof&quot;. No, it means: &quot;This list stores.. I don&#39;t actually know what it stores (hence, the question mark). All I know is, there is _some sort_ of restriction, and I also know that this restriction is either `Number`, _or_ some subtype of it. Hence, `.add()` doesn&#39;t work at all (there is nothing you can add to this list), but `.get()` gets you, at least, Number. That&#39;s for sure.\r\n\r\nNote that: &quot;A list that can store anything that is a Number or a subclass thereof&quot; is perfectly described by `List&lt;Number&gt;`. Not `List&lt;? extends Number&gt;`. After all, all `Integer` instances are also `Number`. If `(x instanceof Integer)` resolves to true, `(x instanceof Number)` is guaranteed to also do so. Hence, `List&lt;Number&gt; list = ...; list.add(5);` is legal already.\r\n\r\nThe same happens in a signature:\r\n\r\n&gt; ```java\r\n&gt; static &lt;T&gt; void smethod(T t1, T t2){}\r\n&gt; ```\r\n\r\nMeans: _Callers_ will, for every line of code in the project that calls this method, have __the compiler__ figure out a `T` that works, and acts as if this method has all its &#39;T&#39; replaced with that type. Given that this is just a thing the compiler does, and the `smethod` method is likely already compiled, that has no effect whatsoever on how this method runs, but it does affect how the line of code that calls it &#39;acts&#39; - it acts as if that method was `smethod(WhateverTypeTheCompilerChose t1, ExactSameTypeHere t2)`.\r\n\r\n## Inference\r\n\r\nIf you don&#39;t explicitly pick what that type should be, e.g. with `TypeThatIsIn.&lt;String&gt;smethod(a, b)`, then the compiler will __infer__ - it will try to figure out what you meant.\r\n\r\nIt does that by checking for the most specific commonality between every place you use &#39;T&#39; at the call-site. In this case, you pass an expression of type String and one of type Integer (auto-boxed from `int`, because generics can&#39;t be primitive). The most specific common super type between those two isn&#39;t &#39;non-existent&#39;.. it does exist.\r\n\r\nIt&#39;s `java.lang.Object`.\r\n\r\nSo the compiler dutifully acts as if the signature really reads `static void smethod(Object a, Object b)`.\r\n\r\nCalling `smethod(&quot;hello&quot;, 123)` would be a perfectly valid call.\r\n\r\n\r\n","title":"Why can a single parameterized type in static method take two different types?","body":"<blockquote>\n<p>take two different types?</p>\n</blockquote>\n<p>No, they don't take two different types at all.</p>\n<p>They take one type. And that type, here, is <code>java.lang.Object</code>.</p>\n<h2>The meta-aspect of generics</h2>\n<p>Generics isn't about the types of specific things. It's about the types of the method, itself. It's about <em>your code</em>, not about what the runtime type of things are. It helps to keep in mind that generics are <strong>entirely</strong> a thing <code>javac</code> does. <code>java.exe</code> has few generics to work with (most of it is erased), and <strong>has no idea what they are</strong> - you can read through the entire JVM Specification and it simply doesn't even recognize they exist. Other than describe how they are stored in .class files. They are like comments: Completely ignored at runtime. Hence, the only thing generics can ever do, is modify what the compiler does with your code. Thus: Generics operate on 'lines of code' level.</p>\n<p>To make that more concrete:</p>\n<p><code>List&lt;? extends Number&gt;</code> does not mean: &quot;A list that can store anything that is a Number or a subclass thereof&quot;. No, it means: &quot;This list stores.. I don't actually know what it stores (hence, the question mark). All I know is, there is <em>some sort</em> of restriction, and I also know that this restriction is either <code>Number</code>, <em>or</em> some subtype of it. Hence, <code>.add()</code> doesn't work at all (there is nothing you can add to this list), but <code>.get()</code> gets you, at least, Number. That's for sure.</p>\n<p>Note that: &quot;A list that can store anything that is a Number or a subclass thereof&quot; is perfectly described by <code>List&lt;Number&gt;</code>. Not <code>List&lt;? extends Number&gt;</code>. After all, all <code>Integer</code> instances are also <code>Number</code>. If <code>(x instanceof Integer)</code> resolves to true, <code>(x instanceof Number)</code> is guaranteed to also do so. Hence, <code>List&lt;Number&gt; list = ...; list.add(5);</code> is legal already.</p>\n<p>The same happens in a signature:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; void smethod(T t1, T t2){}\n</code></pre>\n</blockquote>\n<p>Means: <em>Callers</em> will, for every line of code in the project that calls this method, have <strong>the compiler</strong> figure out a <code>T</code> that works, and acts as if this method has all its 'T' replaced with that type. Given that this is just a thing the compiler does, and the <code>smethod</code> method is likely already compiled, that has no effect whatsoever on how this method runs, but it does affect how the line of code that calls it 'acts' - it acts as if that method was <code>smethod(WhateverTypeTheCompilerChose t1, ExactSameTypeHere t2)</code>.</p>\n<h2>Inference</h2>\n<p>If you don't explicitly pick what that type should be, e.g. with <code>TypeThatIsIn.&lt;String&gt;smethod(a, b)</code>, then the compiler will <strong>infer</strong> - it will try to figure out what you meant.</p>\n<p>It does that by checking for the most specific commonality between every place you use 'T' at the call-site. In this case, you pass an expression of type String and one of type Integer (auto-boxed from <code>int</code>, because generics can't be primitive). The most specific common super type between those two isn't 'non-existent'.. it does exist.</p>\n<p>It's <code>java.lang.Object</code>.</p>\n<p>So the compiler dutifully acts as if the signature really reads <code>static void smethod(Object a, Object b)</code>.</p>\n<p>Calling <code>smethod(&quot;hello&quot;, 123)</code> would be a perfectly valid call.</p>\n"}],"owner":{"account_id":17753497,"reputation":71,"user_id":14039564,"display_name":"Squared"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935770,"answer_count":2,"score":0,"last_activity_date":1692458660,"creation_date":1692457236,"question_id":76935732,"body_markdown":"```\r\nclass MyGeneric &lt;T&gt; {\r\n    void method(T t1, T t2){}\r\n}\r\n\r\nclass App{\r\n    static &lt;T&gt; void smethod(T t1, T t2){}\r\n    //Java will infer the most specific supertype of the arguments passed in\r\n\r\n    public static void main(String[] args){\r\n        MyGeneric&lt;String&gt; mg = new MyGeneric&lt;&gt;();\r\n        //! mg.method(&quot;hello&quot;, 123);// understandable\r\n\r\n        smethod(&quot;hello&quot;, 123);// not understandable\r\n    }\r\n}\r\n```\r\nWhy are they different? ","title":"Why can a single parameterized type in static method take two different types?","body":"<pre><code>class MyGeneric &lt;T&gt; {\n    void method(T t1, T t2){}\n}\n\nclass App{\n    static &lt;T&gt; void smethod(T t1, T t2){}\n    //Java will infer the most specific supertype of the arguments passed in\n\n    public static void main(String[] args){\n        MyGeneric&lt;String&gt; mg = new MyGeneric&lt;&gt;();\n        //! mg.method(&quot;hello&quot;, 123);// understandable\n\n        smethod(&quot;hello&quot;, 123);// not understandable\n    }\n}\n</code></pre>\n<p>Why are they different?</p>\n"},{"tags":["java","arrays","eclipse","multidimensional-array"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680565831,"post_id":75924410,"comment_id":133916838,"body_markdown":"Have you tried testing `if (arr[yIndex][xIndex].equals (&quot;0,0&quot;))` ?","body":"Have you tried testing <code>if (arr[yIndex][xIndex].equals (&quot;0,0&quot;))</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1680565935,"post_id":75924410,"comment_id":133916848,"body_markdown":"Off-topic: The `String[][] arr` seems to have redundant information.  A `boolean [][] arr` could be used.","body":"Off-topic: The <code>String[][] arr</code> seems to have redundant information.  A <code>boolean [][] arr</code> could be used."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680566142,"post_id":75924410,"comment_id":133916873,"body_markdown":"So, if `updateArray` is modified to re-roll when a roll results in a duplicated roll, then calling `updateArray` 36 times will &quot;record&quot; every possible roll, regardless of how many rolls there were, which could be hundreds.","body":"So, if <code>updateArray</code> is modified to re-roll when a roll results in a duplicated roll, then calling <code>updateArray</code> 36 times will &quot;record&quot; every possible roll, regardless of how many rolls there were, which could be hundreds."},{"owner":{"account_id":27835804,"reputation":1,"user_id":21253277,"display_name":"dstrix"},"score":0,"creation_date":1680566614,"post_id":75924410,"comment_id":133916904,"body_markdown":"@OldDogProgrammer precisely","body":"@OldDogProgrammer precisely"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1680568745,"post_id":75924410,"comment_id":133917073,"body_markdown":"I have to wonder if this is an [XY Problem](https://en.wikipedia.org/wiki/XY_problem). What problem is a solution to this problem intended to solve?","body":"I have to wonder if this is an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY Problem</a>. What problem is a solution to this problem intended to solve?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1680569400,"post_id":75924410,"comment_id":133917135,"body_markdown":"Why are you using Strings? Why not `int[][] arr = { {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0} };` ?","body":"Why are you using Strings? Why not <code>int[][] arr = { {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0}, {0,0,0,0,0,0} };</code> ?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1692620167,"post_id":76935824,"comment_id":135643884,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76935824/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27884431,"reputation":16,"user_id":21292226,"display_name":"Dawson Ring"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692458641,"creation_date":1692458641,"answer_id":76935824,"question_id":75924410,"body_markdown":"\r\n    const UserInput = null;\r\n    int intNumOfDoubles = null;\r\n    int[][] intDiceRollsArr = {\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\r\n        {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}\r\n        };\r\n\r\n    public static int[][] updateArray(int[][] intDiceRollsArr, int userInput) {\r\n    for (int rolls = 0; rolls &lt; userInput; rolls++) {\r\n \r\n        UserInput = userInput\r\n        int roll1 = rollDice(); // x\r\n        int roll2 = rollDice(); // y\r\n            \r\n        System.out.println(&quot;The dice rolled: &quot; + roll1 + &quot; and &quot; + roll2);\r\n        int xIndex = roll1 - 1;\r\n        int yIndex = roll2 - 1;\r\n        intDiceRollsArr[rolls][xIndex] = roll1;\r\n        intDiceRollsArr[rolls][yIndex] = roll2;\r\n    }   \r\n       return intDiceRollsArr;\r\n    }\r\n\r\n    public static void CheckDoubles(int[][] intDiceRollsArr){\r\n        boolean boolIsMoreRolled = true;\r\n        while(boolIsMoreRolled == true){\r\n            for(int intCounter = 0; intCounter &lt; UserInput; intCounter++){\r\n                if(intDiceRollArr[intCounter][1] == 0){\r\n                    boolIsMoreRolled = false;\r\n                } \r\n                else{\r\n    if(intDiceRollArr[intCounter][0] == intDiceRollArr[intCounter][1]){\r\n                        intNumOfDoubles++;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n ","title":"How to Catch repeated string values in a 2D array and replace it","body":"<pre><code>const UserInput = null;\nint intNumOfDoubles = null;\nint[][] intDiceRollsArr = {\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0},\n    {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}, {0,0}\n    };\n\npublic static int[][] updateArray(int[][] intDiceRollsArr, int userInput) {\nfor (int rolls = 0; rolls &lt; userInput; rolls++) {\n\n    UserInput = userInput\n    int roll1 = rollDice(); // x\n    int roll2 = rollDice(); // y\n        \n    System.out.println(&quot;The dice rolled: &quot; + roll1 + &quot; and &quot; + roll2);\n    int xIndex = roll1 - 1;\n    int yIndex = roll2 - 1;\n    intDiceRollsArr[rolls][xIndex] = roll1;\n    intDiceRollsArr[rolls][yIndex] = roll2;\n}   \n   return intDiceRollsArr;\n}\n\npublic static void CheckDoubles(int[][] intDiceRollsArr){\n    boolean boolIsMoreRolled = true;\n    while(boolIsMoreRolled == true){\n        for(int intCounter = 0; intCounter &lt; UserInput; intCounter++){\n            if(intDiceRollArr[intCounter][1] == 0){\n                boolIsMoreRolled = false;\n            } \n            else{\nif(intDiceRollArr[intCounter][0] == intDiceRollArr[intCounter][1]){\n                    intNumOfDoubles++;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27835804,"reputation":1,"user_id":21253277,"display_name":"dstrix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692458641,"creation_date":1680564260,"question_id":75924410,"body_markdown":"I have created a program that rolls a dice twice depending on the amount of rolls that the user inputs. Each two rolls are stored as an x and y value and are inserted into it&#39;s corresponding spot in a 2D array. However, I cannot figure out a correct way to catch when the dice rolls duplicate. \r\n\r\n**The Array is as such:**\r\n```\r\nString [][] arr =  {\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\r\n\t\t\t\t{&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;}\r\n\t\t};\r\n```\r\nIf dice output is:\r\n&quot;4 and 4&quot;\r\n&quot;4 and 5&quot;\r\n&quot;4 and 4&quot;\r\n\r\nThen the array will appear as:\r\n      \r\n[2D Array Output](https://i.stack.imgur.com/LAMOP.png)\r\n\r\nMy current code for inserting these numbers into the 2D array is as follows:\r\n```\r\n\tpublic static String[][] updateArray(String[][] arr, int userInput) {\r\n\t\tfor (int rolls = 0; rolls &lt; userInput; rolls++) {\r\n\t\t\tint roll1 = rollDice(); // x\r\n\t\t\tint roll2 = rollDice(); // y\r\n\t\t\tString rolled = roll1 + &quot;,&quot; + roll2;\r\n\t\t\tSystem.out.println(&quot;The dice rolled: &quot; + roll1 + &quot; and &quot; + roll2);\r\n\t\t\tint xIndex = roll1 - 1;\r\n\t\t\tint yIndex = roll2 - 1;\r\n\t\t\tarr[yIndex][xIndex] = rolled; // first value is y second is x\r\n\t\t}\r\n\t\treturn arr;\r\n\t}\r\n```\r\n\r\nWhat should be happening is that the program should be finding that there is a duplicate number and rerolling ONLY those two specific rolls to get an array that has no duplicates.\r\n\r\nI have tried many complex methods, that still do not end up working for me. I believe there is an easier solution. If you need any more clarification for anything let me know.","title":"How to Catch repeated string values in a 2D array and replace it","body":"<p>I have created a program that rolls a dice twice depending on the amount of rolls that the user inputs. Each two rolls are stored as an x and y value and are inserted into it's corresponding spot in a 2D array. However, I cannot figure out a correct way to catch when the dice rolls duplicate.</p>\n<p><strong>The Array is as such:</strong></p>\n<pre><code>String [][] arr =  {\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;},\n                {&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;,&quot;0,0&quot;}\n        };\n</code></pre>\n<p>If dice output is:\n&quot;4 and 4&quot;\n&quot;4 and 5&quot;\n&quot;4 and 4&quot;</p>\n<p>Then the array will appear as:</p>\n<p><a href=\"https://i.stack.imgur.com/LAMOP.png\" rel=\"nofollow noreferrer\">2D Array Output</a></p>\n<p>My current code for inserting these numbers into the 2D array is as follows:</p>\n<pre><code>    public static String[][] updateArray(String[][] arr, int userInput) {\n        for (int rolls = 0; rolls &lt; userInput; rolls++) {\n            int roll1 = rollDice(); // x\n            int roll2 = rollDice(); // y\n            String rolled = roll1 + &quot;,&quot; + roll2;\n            System.out.println(&quot;The dice rolled: &quot; + roll1 + &quot; and &quot; + roll2);\n            int xIndex = roll1 - 1;\n            int yIndex = roll2 - 1;\n            arr[yIndex][xIndex] = rolled; // first value is y second is x\n        }\n        return arr;\n    }\n</code></pre>\n<p>What should be happening is that the program should be finding that there is a duplicate number and rerolling ONLY those two specific rolls to get an array that has no duplicates.</p>\n<p>I have tried many complex methods, that still do not end up working for me. I believe there is an easier solution. If you need any more clarification for anything let me know.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":6,"creation_date":1676916086,"post_id":75512680,"comment_id":133229493,"body_markdown":"you are thinking of &quot;sorting&quot;.  &quot;ordering&quot; refers to the encounter order of the stream.  there are a ton of resources online which explain this, here&#39;s a quick link https://www.baeldung.com/java-stream-ordering","body":"you are thinking of &quot;sorting&quot;.  &quot;ordering&quot; refers to the encounter order of the stream.  there are a ton of resources online which explain this, here&#39;s a quick link <a href=\"https://www.baeldung.com/java-stream-ordering\" rel=\"nofollow noreferrer\">baeldung.com/java-stream-ordering</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692458345,"creation_date":1692458345,"answer_id":76935808,"question_id":75512680,"body_markdown":"Yes it is still ordered. The first stream&#39;s elements were printed and then the seconds.  It appears you are confusing `sorted` with `ordered`. You get the same result when using `s.forEachOrdered(System.out::println)`.\r\n```\r\nStream&lt;Integer&gt; s1 = Stream.of(1,3,5,7); // ordered\r\nStream&lt;Integer&gt; s2 = Stream.of(2,4,6,8); // ordered\r\nStream&lt;Integer&gt; s = Stream.concat(s1, s2); // not ordered!\r\ns.forEachOrdered(System.out::println);\r\n```\r\nprints\r\n```\r\n1\r\n3\r\n5\r\n7\r\n2\r\n4\r\n6\r\n8\r\n","title":"What does &quot;The resulting stream is ordered if both of the input streams are ordered&quot; mean in the Javadoc?","body":"<p>Yes it is still ordered. The first stream's elements were printed and then the seconds.  It appears you are confusing <code>sorted</code> with <code>ordered</code>. You get the same result when using <code>s.forEachOrdered(System.out::println)</code>.</p>\n<pre><code>Stream&lt;Integer&gt; s1 = Stream.of(1,3,5,7); // ordered\nStream&lt;Integer&gt; s2 = Stream.of(2,4,6,8); // ordered\nStream&lt;Integer&gt; s = Stream.concat(s1, s2); // not ordered!\ns.forEachOrdered(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>1\n3\n5\n7\n2\n4\n6\n8\n</code></pre>\n"}],"owner":{"account_id":7777897,"reputation":261,"user_id":10307613,"display_name":"ATW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1692458345,"creation_date":1676915860,"question_id":75512680,"body_markdown":"The Javadoc of the Stream::concat-method says:\r\n\r\n&gt; The resulting stream is ordered if both of the input streams are\r\n&gt; ordered\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\r\n\r\nWhat does that mean?\r\n\r\nHaving\r\n\r\n    Stream&lt;Integer&gt; s1 = Stream.of(1,3,5,7); // ordered\r\n    Stream&lt;Integer&gt; s2 = Stream.of(2,4,6,8); // ordered\r\n    Stream&lt;Integer&gt; s = Stream.concat(s1, s2); // not ordered!\r\n    s.forEach(System.out::println);\r\n\r\nthe output is:\r\n\r\n    1\r\n    3\r\n    5\r\n    7\r\n    2\r\n    4\r\n    6\r\n    8\r\n\r\ni.e. the concatenated stream is not ordered. So what does the cited part mean?","title":"What does &quot;The resulting stream is ordered if both of the input streams are ordered&quot; mean in the Javadoc?","body":"<p>The Javadoc of the Stream::concat-method says:</p>\n<blockquote>\n<p>The resulting stream is ordered if both of the input streams are\nordered</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)</a></p>\n<p>What does that mean?</p>\n<p>Having</p>\n<pre><code>Stream&lt;Integer&gt; s1 = Stream.of(1,3,5,7); // ordered\nStream&lt;Integer&gt; s2 = Stream.of(2,4,6,8); // ordered\nStream&lt;Integer&gt; s = Stream.concat(s1, s2); // not ordered!\ns.forEach(System.out::println);\n</code></pre>\n<p>the output is:</p>\n<pre><code>1\n3\n5\n7\n2\n4\n6\n8\n</code></pre>\n<p>i.e. the concatenated stream is not ordered. So what does the cited part mean?</p>\n"},{"tags":["java","hibernate","jpa","persistence","jpql"],"comments":[{"owner":{"account_id":558023,"reputation":17978,"user_id":920607,"accept_rate":89,"display_name":"Piotr Nowicki"},"score":2,"creation_date":1339331508,"post_id":10968536,"comment_id":14322211,"body_markdown":"Did you check that in both cases the A and B tables will have FK to each other?","body":"Did you check that in both cases the A and B tables will have FK to each other?"}],"answers":[{"tags":[],"owner":{"account_id":361794,"reputation":19187,"user_id":704616,"accept_rate":77,"display_name":"siebz0r"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339331144,"creation_date":1339331144,"answer_id":10968682,"question_id":10968536,"body_markdown":"In the first example the `A` table is going to have 2 columns `id` and `b_id`, the `B` table is going to have one column, `id`. This makes `A` the owning side.\r\n\r\nIn the second example `B` is the owning side. `B` has two columns, `id` and `a_id`. `A` is going to have one column, `id`.\r\n\r\nAnd that is the difference :-)","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>In the first example the <code>A</code> table is going to have 2 columns <code>id</code> and <code>b_id</code>, the <code>B</code> table is going to have one column, <code>id</code>. This makes <code>A</code> the owning side.</p>\n\n<p>In the second example <code>B</code> is the owning side. <code>B</code> has two columns, <code>id</code> and <code>a_id</code>. <code>A</code> is going to have one column, <code>id</code>.</p>\n\n<p>And that is the difference :-)</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1339332061,"creation_date":1339332061,"answer_id":10968788,"question_id":10968536,"body_markdown":"The owning side is the side that JPA considers to know is the association exists or not. Suppose you go with your first example. The owning side is the side where there is no mappedBy attribute. The owning side is thus A, and not B.\r\n\r\nThis means that if you have an A and a B in database, and you do\r\n\r\n    A a = em.find(A.class, aId);\r\n    B b = em.find(B.class, bId);\r\n    a.setB(b);\r\n\r\nJPA will save the association (i.e. it will store the ID of B in the join column of table A). \r\n\r\nBut if you do\r\n\r\n    A a = em.find(A.class, aId);\r\n    B b = em.find(B.class, bId);\r\n    b.setA(a);\r\n\r\nnothing will be changed in database, because you modified the inverse side and forgot to modify the owning side.","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>The owning side is the side that JPA considers to know is the association exists or not. Suppose you go with your first example. The owning side is the side where there is no mappedBy attribute. The owning side is thus A, and not B.</p>\n\n<p>This means that if you have an A and a B in database, and you do</p>\n\n<pre><code>A a = em.find(A.class, aId);\nB b = em.find(B.class, bId);\na.setB(b);\n</code></pre>\n\n<p>JPA will save the association (i.e. it will store the ID of B in the join column of table A). </p>\n\n<p>But if you do</p>\n\n<pre><code>A a = em.find(A.class, aId);\nB b = em.find(B.class, bId);\nb.setA(a);\n</code></pre>\n\n<p>nothing will be changed in database, because you modified the inverse side and forgot to modify the owning side.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1339333185,"creation_date":1339333185,"answer_id":10968902,"question_id":10968536,"body_markdown":"The [JPA 2.0 specification](http://download.oracle.com/otndocs/jcp/persistence-2.0-fr-eval-oth-JSpec/), section 2.9, writes:\r\n\r\n&gt; Relationships may be bidirectional or unidirectional. A bidirectional relationship has both an owning side and an inverse (non-owning) side. A unidirectional relationship has only an owning side. The owning side of a relationship determines the updates to the relationship in the database, as described in section 3.2.4.\r\n\r\n&gt; The following rules apply to bidirectional relationships:\r\n\r\n&gt;- The  inverse  side  of  a  bidirectional  relationship  must  refer  to  its  owning  side  by  use  of  the `mappedBy`  element  of  the  `OneToOne`,  `OneToMany`,  or  `ManyToMany`  annotation.    The `mappedBy` element designates the property or field in the entity that is the owner of the relationship.\r\n&gt;- The many side of one-to-many / many-to-one bidirectional relationships must be the owning side, hence the `mappedBy` element cannot be specified on the `ManyToOne` annotation.\r\n&gt;- For one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.\r\n&gt;- For many-to-many bidirectional relationships either side may be the owning side.\r\n\r\nThe relevant parts of section 3.2.4 are:\r\n\r\n&gt; The state of persistent entities is synchronized to the database at transaction commit. This synchronization involving writing to the database any updates to persistent entities and their relationships as specified above.\r\n\r\nand \r\n\r\n&gt; Bidirectional relationships between managed entities will be persisted based on references held by the owning side of the relationship.  It is the developer’s responsibility to keep the in-memory references held on the owning side and those held on the inverse side consistent with each other when they change.\r\nIn the case of unidirectional one-to-one and one-to-many relationships, it is the developer’s responsibility to insure that the semantics of the relationships are adhered to.\r\n\r\n&gt;&gt; *It is particularly important to ensure that changes to the inverse side of a relationship result in appropriate updates on the owning side, so as to ensure the changes are not lost when they are synchronized to the database.*","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>The <a href=\"http://download.oracle.com/otndocs/jcp/persistence-2.0-fr-eval-oth-JSpec/\">JPA 2.0 specification</a>, section 2.9, writes:</p>\n\n<blockquote>\n  <p>Relationships may be bidirectional or unidirectional. A bidirectional relationship has both an owning side and an inverse (non-owning) side. A unidirectional relationship has only an owning side. The owning side of a relationship determines the updates to the relationship in the database, as described in section 3.2.4.</p>\n  \n  <p>The following rules apply to bidirectional relationships:</p>\n  \n  <ul>\n  <li>The  inverse  side  of  a  bidirectional  relationship  must  refer  to  its  owning  side  by  use  of  the <code>mappedBy</code>  element  of  the  <code>OneToOne</code>,  <code>OneToMany</code>,  or  <code>ManyToMany</code>  annotation.    The <code>mappedBy</code> element designates the property or field in the entity that is the owner of the relationship.</li>\n  <li>The many side of one-to-many / many-to-one bidirectional relationships must be the owning side, hence the <code>mappedBy</code> element cannot be specified on the <code>ManyToOne</code> annotation.</li>\n  <li>For one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.</li>\n  <li>For many-to-many bidirectional relationships either side may be the owning side.</li>\n  </ul>\n</blockquote>\n\n<p>The relevant parts of section 3.2.4 are:</p>\n\n<blockquote>\n  <p>The state of persistent entities is synchronized to the database at transaction commit. This synchronization involving writing to the database any updates to persistent entities and their relationships as specified above.</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>Bidirectional relationships between managed entities will be persisted based on references held by the owning side of the relationship.  It is the developer’s responsibility to keep the in-memory references held on the owning side and those held on the inverse side consistent with each other when they change.\n  In the case of unidirectional one-to-one and one-to-many relationships, it is the developer’s responsibility to insure that the semantics of the relationships are adhered to.</p>\n  \n  <blockquote>\n    <p><em>It is particularly important to ensure that changes to the inverse side of a relationship result in appropriate updates on the owning side, so as to ensure the changes are not lost when they are synchronized to the database.</em></p>\n  </blockquote>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1339335405,"post_id":10968938,"comment_id":14322992,"body_markdown":"No, JPA specifies that the owning side of a OneToOne bidirectional associatiuon is the one which contains the foreign key. Same for bidirectional OneToMany.","body":"No, JPA specifies that the owning side of a OneToOne bidirectional associatiuon is the one which contains the foreign key. Same for bidirectional OneToMany."},{"owner":{"account_id":1332762,"reputation":3059,"user_id":1276252,"display_name":"esej"},"score":0,"creation_date":1339338142,"post_id":10968938,"comment_id":14323542,"body_markdown":"&quot;and it may be used in a OneToOne mapping in which the primary key of the referencing entity is used as a foreign key to the referenced entity.&quot; http://docs.oracle.com/javaee/6/api/javax/persistence/PrimaryKeyJoinColumn.html . The situation _just_ doesn&#39;t appear so often.","body":"&quot;and it may be used in a OneToOne mapping in which the primary key of the referencing entity is used as a foreign key to the referenced entity.&quot; <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/PrimaryKeyJoinColumn.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/&hellip;</a> . The situation <i>just</i> doesn&#39;t appear so often."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1339338350,"post_id":10968938,"comment_id":14323580,"body_markdown":"And that doesn&#39;t change anything. In this case, the primary key column is the join column (hence the name PrimaryKeyJoinColumn), and the entity containing this annotation, and thus the join column, is the owning side. Read @meriton&#39;s answer, containing this excerpt from the JPA spec: &quot;For one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.&quot;","body":"And that doesn&#39;t change anything. In this case, the primary key column is the join column (hence the name PrimaryKeyJoinColumn), and the entity containing this annotation, and thus the join column, is the owning side. Read @meriton&#39;s answer, containing this excerpt from the JPA spec: &quot;For one-to-one bidirectional relationships, the owning side corresponds to the side that contains the corresponding foreign key.&quot;"},{"owner":{"account_id":1332762,"reputation":3059,"user_id":1276252,"display_name":"esej"},"score":1,"creation_date":1339339416,"post_id":10968938,"comment_id":14323790,"body_markdown":"Yes. I stand corrected. I can do it in EclipseLink, and I totally missed it is not according to 2.0 final spec. The wording in the spec kinda makes me feel the implementation(s) are breaking the spec. I&#39;ll update my answer to get rid of the lie. Thank you.","body":"Yes. I stand corrected. I can do it in EclipseLink, and I totally missed it is not according to 2.0 final spec. The wording in the spec kinda makes me feel the implementation(s) are breaking the spec. I&#39;ll update my answer to get rid of the lie. Thank you."}],"tags":[],"owner":{"account_id":1332762,"reputation":3059,"user_id":1276252,"display_name":"esej"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1339340545,"creation_date":1339333518,"answer_id":10968938,"question_id":10968536,"body_markdown":"As other have pointed out, you are wrong about which side is the owning side in your examples.\r\nWith owning side we mean owning the relationship from an OO perspecitve, in practise that quite often ends up being the opposite of how it is or will be generated in the db if one uses a rdbm as persistence provider.\r\n\r\nIn normal circumstances the OO model makes it quite clear which sides is the owning side.\r\nFor example an Order has OrderLines. If we delete an Order all Orderlines should be deleted. If we delete an OrderLine the Order possibly still has a right to existence.\r\nHence, the Order is the owning side.\r\n\r\nFor a more concrete and excellent example, on the effects of which side is the owning side, I refer to @JB Nizet answer.\r\n\r\nAccording to section 2.9 of the [JPA 2.0 spec][1]:\r\n\r\n&gt; For one-to-one bidirectional relationships, the owning side\r\n&gt; corresponds to the side that contains the corresponding foreign key.\r\n\r\nBut in the same section we also have:\r\n\r\n&gt; In addition, this specification also requires support for the\r\n&gt; following alternative mapping strategies: [..] The mapping of\r\n&gt; unidirectional and bidirectional one-to-one relationships,\r\n&gt; bidirectional many-to-one/one-to-many relationships, and\r\n&gt; unidirectional many-to-one relationships by means of join table\r\n&gt; mappings.\r\n\r\nA bit futher down in the same section it continues with:\r\n\r\n&gt; Additional mapping annotations (e.g., column and table mapping\r\n&gt; annotations) may be speci- fied to override or further refine the\r\n&gt; default mappings and mapping strategies described in Section 2.10.\r\nSome implementations make use of that to allow the FK of a birectional OneToOne to be in the target table.\r\n\r\nTo read some about some strategies to solve that scenario, see: [An almost good explaination][2]\r\n\r\nI haven&#39;t checked but I do hope and believe that 2.1 will remove the first quote. Since the actual database structure should put as little limit as possible on how we can model data as entities.\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/persistence-2.0-fr-eval-oth-JSpec/\r\n  [2]: http://en.wikibooks.org/wiki/Java_Persistence/OneToOne#Target_Foreign_Keys.2C_Primary_Key_Join_Columns.2C_Cascade_Primary_Keys","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>As other have pointed out, you are wrong about which side is the owning side in your examples.\nWith owning side we mean owning the relationship from an OO perspecitve, in practise that quite often ends up being the opposite of how it is or will be generated in the db if one uses a rdbm as persistence provider.</p>\n\n<p>In normal circumstances the OO model makes it quite clear which sides is the owning side.\nFor example an Order has OrderLines. If we delete an Order all Orderlines should be deleted. If we delete an OrderLine the Order possibly still has a right to existence.\nHence, the Order is the owning side.</p>\n\n<p>For a more concrete and excellent example, on the effects of which side is the owning side, I refer to @JB Nizet answer.</p>\n\n<p>According to section 2.9 of the <a href=\"http://download.oracle.com/otndocs/jcp/persistence-2.0-fr-eval-oth-JSpec/\" rel=\"noreferrer\">JPA 2.0 spec</a>:</p>\n\n<blockquote>\n  <p>For one-to-one bidirectional relationships, the owning side\n  corresponds to the side that contains the corresponding foreign key.</p>\n</blockquote>\n\n<p>But in the same section we also have:</p>\n\n<blockquote>\n  <p>In addition, this specification also requires support for the\n  following alternative mapping strategies: [..] The mapping of\n  unidirectional and bidirectional one-to-one relationships,\n  bidirectional many-to-one/one-to-many relationships, and\n  unidirectional many-to-one relationships by means of join table\n  mappings.</p>\n</blockquote>\n\n<p>A bit futher down in the same section it continues with:</p>\n\n<blockquote>\n  <p>Additional mapping annotations (e.g., column and table mapping\n  annotations) may be speci- fied to override or further refine the\n  default mappings and mapping strategies described in Section 2.10.\n  Some implementations make use of that to allow the FK of a birectional OneToOne to be in the target table.</p>\n</blockquote>\n\n<p>To read some about some strategies to solve that scenario, see: <a href=\"http://en.wikibooks.org/wiki/Java_Persistence/OneToOne#Target_Foreign_Keys.2C_Primary_Key_Join_Columns.2C_Cascade_Primary_Keys\" rel=\"noreferrer\">An almost good explaination</a></p>\n\n<p>I haven't checked but I do hope and believe that 2.1 will remove the first quote. Since the actual database structure should put as little limit as possible on how we can model data as entities.</p>\n"},{"tags":[],"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692457382,"creation_date":1692457382,"answer_id":76935746,"question_id":10968536,"body_markdown":"The example you have provided is the ***one to one bidirectional*** relationship.\r\n\r\nBidirectional relationship means that ***both the entities will store reference of each other in the domain model***. But, \r\n\r\n&gt; ***It does not mean both of the tables will be storing reference to one another as well. The relationship is still unidirectional at the database level.***\r\n\r\nIn bidirectional relationship there are:\r\n\r\n*1. **Owning side***\r\n*2. **Referencing side**.*\r\n\r\nSo, ***what is the owning side?***\r\n\r\nLet&#39;s understand this referring to your first example. \r\n\r\n(I have added `@JoinColumn` and `Table` annotations to make things clearer for beginners).\r\n\r\n    @Entity\r\n    @Table(name=&quot;a&quot;)\r\n    class A {\r\n       @Id int id;\r\n    \r\n       @OneToOne\r\n       @JoinColumn(name=&quot;b_id&quot;)\r\n       B b;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name= &quot;b&quot;)\r\n    class B {\r\n       @Id int id;\r\n    \r\n       @OneToOne(mappedBy=&quot;b&quot;)\r\n       A a;\r\n    } \r\n\r\nHere, let assume, the corresponding tables for entities `A` and `B` are `a` and `b` respectively.\r\n\r\nWe have used `@JoinColumn` in entity `A` and set its value as `b_id`. It means that a column named `b_id` will be created in table `a` which will store the `id` or reference of the table `b`. This column, `b_id`, also acts as a foreign key. Note that, although a bidirectional relationship, \r\n\r\n&gt; ***table b is not storing the reference to table a***.\r\n\r\nSince, table `a` is storing the relationship information i.e. reference to table `b`, its corresponding entity, `A`, is called the ***owner entity***.\r\n\r\nAnd, the other entity,`B`, is called the referencing entity. It references the owner entity, `A`, using `mappedBy` attribute.\r\n\r\nSimilarly, in the second example, `B` is the owning entity and `A` is the ***reference entity***.","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>The example you have provided is the <em><strong>one to one bidirectional</strong></em> relationship.</p>\n<p>Bidirectional relationship means that <em><strong>both the entities will store reference of each other in the domain model</strong></em>. But,</p>\n<blockquote>\n<p><em><strong>It does not mean both of the tables will be storing reference to one another as well. The relationship is still unidirectional at the database level.</strong></em></p>\n</blockquote>\n<p>In bidirectional relationship there are:</p>\n<p><em>1. <strong>Owning side</strong></em>\n<em>2. <strong>Referencing side</strong>.</em></p>\n<p>So, <em><strong>what is the owning side?</strong></em></p>\n<p>Let's understand this referring to your first example.</p>\n<p>(I have added <code>@JoinColumn</code> and <code>Table</code> annotations to make things clearer for beginners).</p>\n<pre><code>@Entity\n@Table(name=&quot;a&quot;)\nclass A {\n   @Id int id;\n\n   @OneToOne\n   @JoinColumn(name=&quot;b_id&quot;)\n   B b;\n}\n\n@Entity\n@Table(name= &quot;b&quot;)\nclass B {\n   @Id int id;\n\n   @OneToOne(mappedBy=&quot;b&quot;)\n   A a;\n} \n</code></pre>\n<p>Here, let assume, the corresponding tables for entities <code>A</code> and <code>B</code> are <code>a</code> and <code>b</code> respectively.</p>\n<p>We have used <code>@JoinColumn</code> in entity <code>A</code> and set its value as <code>b_id</code>. It means that a column named <code>b_id</code> will be created in table <code>a</code> which will store the <code>id</code> or reference of the table <code>b</code>. This column, <code>b_id</code>, also acts as a foreign key. Note that, although a bidirectional relationship,</p>\n<blockquote>\n<p><em><strong>table b is not storing the reference to table a</strong></em>.</p>\n</blockquote>\n<p>Since, table <code>a</code> is storing the relationship information i.e. reference to table <code>b</code>, its corresponding entity, <code>A</code>, is called the <em><strong>owner entity</strong></em>.</p>\n<p>And, the other entity,<code>B</code>, is called the referencing entity. It references the owner entity, <code>A</code>, using <code>mappedBy</code> attribute.</p>\n<p>Similarly, in the second example, <code>B</code> is the owning entity and <code>A</code> is the <em><strong>reference entity</strong></em>.</p>\n"}],"owner":{"account_id":101813,"reputation":15707,"user_id":273657,"accept_rate":89,"display_name":"ziggy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13744,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":10968902,"answer_count":5,"score":9,"last_activity_date":1692457382,"creation_date":1339330013,"question_id":10968536,"body_markdown":"What exactly is the difference in the following two declarations\r\n\r\nB is the owning side\r\n\r\n    @Entity\r\n    class A {\r\n       @Id int id;\r\n    \r\n       @OneToOne\r\n       B b;\r\n    }\r\n    \r\n    @Entity\r\n    class B {\r\n       @Id int id;\r\n    \r\n       @OneToOne(mappedBy=&quot;b&quot;)\r\n       A a;\r\n    }\r\n\r\nA is the owning side\r\n\r\n    @Entity\r\n    class A {\r\n       @Id int id;\r\n    \r\n       @OneToOne(mappedBy=&quot;a&quot;)\r\n       B b;\r\n    }\r\n    \r\n    @Entity\r\n    class B {\r\n       @Id int id;\r\n    \r\n       @OneToOne\r\n       A a;\r\n    }\r\n\r\nThinking of this in &quot;normal SQL&quot; i think it is the same as having two tables each having the other table&#39;s foreign key. What i don&#39;t understand though is what is the effect of specifying which entity is the owning side i.e using the &#39;mappedBy&#39; property. What does this actually achieve as i don&#39;t believe there is an equivalent in normal SQL. ","title":"JPA - difference in the use of the mappedBy property to define the owning entity","body":"<p>What exactly is the difference in the following two declarations</p>\n\n<p>B is the owning side</p>\n\n<pre><code>@Entity\nclass A {\n   @Id int id;\n\n   @OneToOne\n   B b;\n}\n\n@Entity\nclass B {\n   @Id int id;\n\n   @OneToOne(mappedBy=\"b\")\n   A a;\n}\n</code></pre>\n\n<p>A is the owning side</p>\n\n<pre><code>@Entity\nclass A {\n   @Id int id;\n\n   @OneToOne(mappedBy=\"a\")\n   B b;\n}\n\n@Entity\nclass B {\n   @Id int id;\n\n   @OneToOne\n   A a;\n}\n</code></pre>\n\n<p>Thinking of this in \"normal SQL\" i think it is the same as having two tables each having the other table's foreign key. What i don't understand though is what is the effect of specifying which entity is the owning side i.e using the 'mappedBy' property. What does this actually achieve as i don't believe there is an equivalent in normal SQL. </p>\n"},{"tags":["java","oop","encapsulation","software-design","data-hiding"],"comments":[{"owner":{"account_id":156914,"reputation":9897,"user_id":374499,"accept_rate":80,"display_name":"Chander Shivdasani"},"score":0,"creation_date":1345239239,"post_id":12013448,"comment_id":16027820,"body_markdown":"Possible dup of : http://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation","body":"Possible dup of : <a href=\"http://stackoverflow.com/questions/24626/abstraction-vs-information-hiding-vs-encapsulation\" title=\"abstraction vs information hiding vs encapsulation\">stackoverflow.com/questions/24626/&hellip;</a>"},{"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"score":1,"creation_date":1345239301,"post_id":12013448,"comment_id":16027839,"body_markdown":"@ChanderShivdasani this is more specific to Java!","body":"@ChanderShivdasani this is more specific to Java!"},{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":1,"creation_date":1345239595,"post_id":12013448,"comment_id":16027927,"body_markdown":"&quot;The information may be data or implementation or algorithm&quot; - And hiding the data is data hiding, but hiding the implementation or  algorithm wouldn&#39;t come under the definition of data hiding. Encapsulation is a goal, while data hiding is one of the ways of achieving it. But access modifiers aren&#39;t really a way to achieve encapsulation.","body":"&quot;The information may be data or implementation or algorithm&quot; - And hiding the data is data hiding, but hiding the implementation or  algorithm wouldn&#39;t come under the definition of data hiding. Encapsulation is a goal, while data hiding is one of the ways of achieving it. But access modifiers aren&#39;t really a way to achieve encapsulation."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":12,"creation_date":1345240870,"post_id":12013448,"comment_id":16028275,"body_markdown":"Altogether, yet another lame interview question. What does that say about your programming skills? I&#39;d never bother my interviewees with such nitpicking. Especially since there isn&#39;t exactly an RFC or IEEE standard that spells out exactly what is the definition of encapsulation. Various authors will use various definitions.","body":"Altogether, yet another lame interview question. What does that say about your programming skills? I&#39;d never bother my interviewees with such nitpicking. Especially since there isn&#39;t exactly an RFC or IEEE standard that spells out exactly what is the definition of encapsulation. Various authors will use various definitions."},{"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"score":0,"creation_date":1345240972,"post_id":12013448,"comment_id":16028304,"body_markdown":"I would want to give +100 to this :)","body":"I would want to give +100 to this :)"},{"owner":{"account_id":18719450,"reputation":49,"user_id":13647695,"display_name":"Anirudh_k07"},"score":0,"creation_date":1608383385,"post_id":12013448,"comment_id":115569840,"body_markdown":"@SandeepJindal **Encapsulation is a mechanism to hide information from the client. The information may be data or implementation or algorithm. We achieve this using access modifiers** Isn&#39;t this abstraction. **Abstraction** means hiding internal details !","body":"@SandeepJindal <b>Encapsulation is a mechanism to hide information from the client. The information may be data or implementation or algorithm. We achieve this using access modifiers</b> Isn&#39;t this abstraction. <b>Abstraction</b> means hiding internal details !"},{"owner":{"account_id":8059433,"reputation":846,"user_id":6075404,"accept_rate":100,"display_name":"forumulator"},"score":0,"creation_date":1614510354,"post_id":12013448,"comment_id":117402203,"body_markdown":"I&#39;d say this is what happens when interviewers sometimes try to conduct &#39;clever&#39; interviews. These concepts (data hiding, encapsulation, abstraction) are highly related and almost always used together, and being pedantic about subtle differences between them does not help distinguish good candidates. You&#39;d much rather see how someone designs a system.","body":"I&#39;d say this is what happens when interviewers sometimes try to conduct &#39;clever&#39; interviews. These concepts (data hiding, encapsulation, abstraction) are highly related and almost always used together, and being pedantic about subtle differences between them does not help distinguish good candidates. You&#39;d much rather see how someone designs a system."}],"answers":[{"comments":[{"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"score":2,"creation_date":1345239492,"post_id":12013485,"comment_id":16027891,"body_markdown":"Concrete Question: What is the way other than Access modifiers to implement Encapsulation in Java","body":"Concrete Question: What is the way other than Access modifiers to implement Encapsulation in Java"},{"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"score":1,"creation_date":1345239541,"post_id":12013485,"comment_id":16027912,"body_markdown":"The answer is really too simple: expose methods to manipulate the data.","body":"The answer is really too simple: expose methods to manipulate the data."},{"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"score":0,"creation_date":1345239617,"post_id":12013485,"comment_id":16027935,"body_markdown":"Thanks. But interviewer was expecting more than this and I want to confirm if this is it or there is something more to it?","body":"Thanks. But interviewer was expecting more than this and I want to confirm if this is it or there is something more to it?"},{"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"score":3,"creation_date":1345239836,"post_id":12013485,"comment_id":16027993,"body_markdown":"@SandeepJindal: How do you know the interviewer was expecting more than this explanation? This wasn&#39;t your answer was it?","body":"@SandeepJindal: How do you know the interviewer was expecting more than this explanation? This wasn&#39;t your answer was it?"},{"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"score":0,"creation_date":1345240032,"post_id":12013485,"comment_id":16028045,"body_markdown":"Is the answer: &quot;Encapsulation is a mechanism to hide some information from the client. The information may be data or implementation or algorithm. How do we achieve is using access modifiers&quot; not complete? I think this covers(implicitly) that using methods expose information (data, algorithms, implementation, etc). Is not it complete?","body":"Is the answer: &quot;Encapsulation is a mechanism to hide some information from the client. The information may be data or implementation or algorithm. How do we achieve is using access modifiers&quot; not complete? I think this covers(implicitly) that using methods expose information (data, algorithms, implementation, etc). Is not it complete?"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":5,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1345240858,"creation_date":1345239308,"answer_id":12013485,"question_id":12013448,"body_markdown":"More generally _encapsulation_ refers simply to bundling the data (e.g. of an object) with the operations on that data. So you have a class encapsulating data - _fields_ - along with the _methods_ for manipulating that data.\r\n\r\nBut encapsulation is also sometimes used in the same way as your answer, and indeed, one of the points of bundling data and methods is to _hide_ the implementation.\r\n\r\nI suppose a better answer than _just use methods and make all fields private_ is: use interfaces. This way, operations on an object are purely based on the interface contract, and are in no way tied to the fields or helper methods used to implement that contract internally.","title":"Encapsulation vs Data Hiding - Java","body":"<p>More generally <em>encapsulation</em> refers simply to bundling the data (e.g. of an object) with the operations on that data. So you have a class encapsulating data - <em>fields</em> - along with the <em>methods</em> for manipulating that data.</p>\n\n<p>But encapsulation is also sometimes used in the same way as your answer, and indeed, one of the points of bundling data and methods is to <em>hide</em> the implementation.</p>\n\n<p>I suppose a better answer than <em>just use methods and make all fields private</em> is: use interfaces. This way, operations on an object are purely based on the interface contract, and are in no way tied to the fields or helper methods used to implement that contract internally.</p>\n"},{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1456483557,"creation_date":1345240141,"answer_id":12013605,"question_id":12013448,"body_markdown":"I hate to do this but, from [Wikipedia][1]:\r\n\r\n&gt; In programming languages, encapsulation is used to refer to one of two\r\n&gt; related but distinct notions, and sometimes to the combination\r\n&gt; thereof:\r\n&gt; \r\n&gt;  1. A language mechanism for restricting access to some of the object&#39;s components.\r\n&gt;  2. A language construct that facilitates the bundling of data with the methods (or other functions) operating on that data\r\n\r\nYour explanation was more along the lines of the first notion, the interviewer was looking for something on the second. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29","title":"Encapsulation vs Data Hiding - Java","body":"<p>I hate to do this but, from <a href=\"http://en.wikipedia.org/wiki/Encapsulation_%28object-oriented_programming%29\" rel=\"noreferrer\">Wikipedia</a>:</p>\n\n<blockquote>\n  <p>In programming languages, encapsulation is used to refer to one of two\n  related but distinct notions, and sometimes to the combination\n  thereof:</p>\n  \n  <ol>\n  <li>A language mechanism for restricting access to some of the object's components.</li>\n  <li>A language construct that facilitates the bundling of data with the methods (or other functions) operating on that data</li>\n  </ol>\n</blockquote>\n\n<p>Your explanation was more along the lines of the first notion, the interviewer was looking for something on the second. </p>\n"},{"comments":[{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1376161095,"post_id":12228951,"comment_id":26611653,"body_markdown":"Access modifiers don&#39;t control access in Java, you can access private anytime if you want e.g. through  reflection. Therefore it doesn&#39;t differ from python in that sense.","body":"Access modifiers don&#39;t control access in Java, you can access private anytime if you want e.g. through  reflection. Therefore it doesn&#39;t differ from python in that sense."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1376167548,"post_id":12228951,"comment_id":26613279,"body_markdown":"@Esailija Let me see if I get this &quot;access&quot; modifiers &quot;do not control access in Java&quot;. That&#39;s quite contradictory.  In Python you have full access to all the object members. In Java you have to use reflection in order to circumvent the access modifiers, which means you want to violate your encapsulation on purpose, and not by mistake (as you could do in Python). Thus reflection is an API mechanism, not a language mechanism. And if you are using a security manager, you won&#39;t be allow to break the modifiers because Java reflection would give you exceptions.","body":"@Esailija Let me see if I get this &quot;access&quot; modifiers &quot;do not control access in Java&quot;. That&#39;s quite contradictory.  In Python you have full access to all the object members. In Java you have to use reflection in order to circumvent the access modifiers, which means you want to violate your encapsulation on purpose, and not by mistake (as you could do in Python). Thus reflection is an API mechanism, not a language mechanism. And if you are using a security manager, you won&#39;t be allow to break the modifiers because Java reflection would give you exceptions."},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1376167707,"post_id":12228951,"comment_id":26613312,"body_markdown":"Security Manager is not relevant because that is what the user of the application runs, not something that a developer has control over. I don&#39;t care about the implementation, at high-level, in Java as well in Python, one only communicates privacy and in both cases anyone can break it if they want to. Whether something is in the language or the language standard API is completely irrelevant to this.","body":"Security Manager is not relevant because that is what the user of the application runs, not something that a developer has control over. I don&#39;t care about the implementation, at high-level, in Java as well in Python, one only communicates privacy and in both cases anyone can break it if they want to. Whether something is in the language or the language standard API is completely irrelevant to this."},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1376168895,"post_id":12228951,"comment_id":26613601,"body_markdown":"So let me rephrase this all: The Python way is already sufficient to prevent any accidental access of internals as communicated by the author with underscores and what not. There is really no plausible scenario where someone\ncould bypass this system by honest accident. If the intent is deliberate, then it doesn&#39;t matter if one has to prefix underscore or use reflection (which can be made convenient with a library).","body":"So let me rephrase this all: The Python way is already sufficient to prevent any accidental access of internals as communicated by the author with underscores and what not. There is really no plausible scenario where someone could bypass this system by honest accident. If the intent is deliberate, then it doesn&#39;t matter if one has to prefix underscore or use reflection (which can be made convenient with a library)."},{"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"score":0,"creation_date":1376169356,"post_id":12228951,"comment_id":26613704,"body_markdown":"I actually got to read your post to end and it&#39;s pretty good. I cannot change my downvote to upvote now because it is locked down :( (needs edit to unlock). I just had to stop reading when it seemed like you thought Java had enforced privacy and made Python look hackier.","body":"I actually got to read your post to end and it&#39;s pretty good. I cannot change my downvote to upvote now because it is locked down :( (needs edit to unlock). I just had to stop reading when it seemed like you thought Java had enforced privacy and made Python look hackier."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1376181785,"post_id":12228951,"comment_id":26615986,"body_markdown":"@Esailija I read the post again, and I do not find any reference that says anything about Python having issues with encapsulation or data hiding. All I did was to raise the questions of how a language without access modifiers deal with something like this. If you read my words again you will notice they have question marks. Then I move to explain that this can be achieve by convention. So, I have never questioned your arguments, neither I have said even remotely that Python is hackier than Java or anything. As a recommendation, you should discuss first, and then downvote and not the opposite.","body":"@Esailija I read the post again, and I do not find any reference that says anything about Python having issues with encapsulation or data hiding. All I did was to raise the questions of how a language without access modifiers deal with something like this. If you read my words again you will notice they have question marks. Then I move to explain that this can be achieve by convention. So, I have never questioned your arguments, neither I have said even remotely that Python is hackier than Java or anything. As a recommendation, you should discuss first, and then downvote and not the opposite."},{"owner":{"account_id":2248460,"reputation":12996,"user_id":1981279,"display_name":"Vishal K"},"score":0,"creation_date":1434278032,"post_id":12228951,"comment_id":49701995,"body_markdown":"Of all the answers posted above, this one has put forward the most clear picture of &quot;Encapsulation&quot; in broad sense.  Have logged in after a long time only to up-vote this answer..+1 from me.","body":"Of all the answers posted above, this one has put forward the most clear picture of &quot;Encapsulation&quot; in broad sense.  Have logged in after a long time only to up-vote this answer..+1 from me."}],"tags":[],"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"comment_count":7,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1346513121,"creation_date":1346512773,"answer_id":12228951,"question_id":12013448,"body_markdown":"The question appears misleading, I doubt that anybody but the interviewer could possibly answer it and chances are that his/her answer could be wrong. Most importantly, it is not clear what the question is supposed to evaluate or discover.\r\n\r\nStill, I gave it some thought and the following is what I believe could be my attempt to answer the question.\r\n\r\nWith Access Modifiers\r\n---\r\n\r\nIn Java, encapsulation is implemented by hiding details using the accessibility modifiers (i.e. public, protected, private, etc.).  With these levels of accessibility you control the level of information hiding. The less restrictive the level, the more expensive change is when it happens and the more coupled the class is with other dependent classes (i.e. user classes, subclasses).\r\n\r\nEvidently, encapsulation is more than just hiding state. In Java you can hide entire classes and interfaces and their state and behaviors, by this, hiding the implementation details of an entire API. \r\n\r\nFor example, the method `Arrays.asList()` returns a `List` implementation, but we do no care which implementation, as long as it satisfies the `List` public interface, right?. The implementation can be changed in the future without affecting us, the users of the method, but the actual implementation is hidden from us. \r\n\r\nUp to this point, it would appear as if encapsulation depended entirely from the capacity of a programming language to hide details, and therefore, that it could not be achieved without access modifiers, right?\r\n\r\nWithout Access Modifiers\r\n---\r\n\r\nHowever, how does a language like Python achieves encapsulation when it does not have access modifiers? Everything is public in Python? Does that mean that encapsulation is not possible?\r\n\r\nWhat if, by convention, we define the public interface of our components and then access the objects&#39; state and behavior only through their public interface? Evidently, for this we need a clear understanding of the abstractions in our problem domain and how these are supposed to be consumed by our users.  \r\n\r\nTo me, it appears as if the interview question was intended to evaluate encapsulation as broader concept, one depending on the definition of very clear abstractions, and not just a as by-product of a language feature like access modifiers. \r\n\r\nThe Role of Abstraction\r\n---\r\n\r\nThat&#39;s why, in my opinion, to really understand encapsulation, one must first understand abstraction. \r\n\r\nThink, for example, in the level of abstraction in the concept of a car. A car is complex in its internal implementation. They have several subsystem, like a transmission system, a break system, a fuel system, etc. \r\n\r\nHowever, we have simplified its abstraction, and we interact with all cars in the world through the public interface of their abstraction. We know that all cars have a steering wheel through which we control direction, they have a pedal that when you press it you accelerate the car and control speed, and another that when you press it you make it stop, and you have a gear stick that let you control if you go forward of backward. These features constitute the *public interface* of the car abstraction. In the morning you can drive a sedan and then get out of it and drive an SUV in the afternoon as if it was the same thing. \r\n\r\nIt is not that you cannot open the hood and see how it all works. However, few of us know the details of how all these underlying features are implemented under the hood, and the truth is that we do not need to know the details to drive a car. All these things are encapsulated under the car abstraction. We only need to know the public interface of the abstraction. \r\n\r\nThink of the time when cars did not have a hydraulics directional system. One day, the car manufactures invented it, and they decide it to put it in cars from there on. Still, this did not change the way in which users where interacting with them. At most, users experienced an improvement in the use of the directional system. A change like this was possible because the *internal implementation* of a car was encapsulated. \r\n\r\nThis clearly demonstrates that by *hiding the details* of how the directional systems was implemented, they could *safely change it* without affecting the public interface of the car and, correspondingly, without affecting the way users interacted with it. \r\n\r\n\r\nNow, think that car manufactures decided to put the fuel cap below the car, and not in one of its sides. You go and buy one of these new cars, and when you run out of gas you go to the gas station, and you do not find the fuel cap. Suddenly you realize is below the car, but you cannot reach it with the gas pump hose. Now, we have broken the public interface contract, and therefore, the entire world breaks, it falls apart because things are not working the way it was expected. A change like this would cost millions. We would need to change all gas pumps in the world. When we break encapsulation we have to pay a price.\r\n\r\nSo, as you can see, the goal of encapsulation is to *minimize interdependence and facilitate change*. You maximize encapsulation by minimizing the exposure of implementation details. The state of a class should only be accessed through its public interface.\r\n\r\nThe beauty of encapsulation is *the power of changing things without affecting its users*. \r\n\r\nWe could  say that this ultimate goal depends on careful planning and design. In Java, access modifiers are a way to bring these ideas to life, but in language where this feature does not exist, it is equally possible to achieve encapsulation.","title":"Encapsulation vs Data Hiding - Java","body":"<p>The question appears misleading, I doubt that anybody but the interviewer could possibly answer it and chances are that his/her answer could be wrong. Most importantly, it is not clear what the question is supposed to evaluate or discover.</p>\n\n<p>Still, I gave it some thought and the following is what I believe could be my attempt to answer the question.</p>\n\n<h2>With Access Modifiers</h2>\n\n<p>In Java, encapsulation is implemented by hiding details using the accessibility modifiers (i.e. public, protected, private, etc.).  With these levels of accessibility you control the level of information hiding. The less restrictive the level, the more expensive change is when it happens and the more coupled the class is with other dependent classes (i.e. user classes, subclasses).</p>\n\n<p>Evidently, encapsulation is more than just hiding state. In Java you can hide entire classes and interfaces and their state and behaviors, by this, hiding the implementation details of an entire API. </p>\n\n<p>For example, the method <code>Arrays.asList()</code> returns a <code>List</code> implementation, but we do no care which implementation, as long as it satisfies the <code>List</code> public interface, right?. The implementation can be changed in the future without affecting us, the users of the method, but the actual implementation is hidden from us. </p>\n\n<p>Up to this point, it would appear as if encapsulation depended entirely from the capacity of a programming language to hide details, and therefore, that it could not be achieved without access modifiers, right?</p>\n\n<h2>Without Access Modifiers</h2>\n\n<p>However, how does a language like Python achieves encapsulation when it does not have access modifiers? Everything is public in Python? Does that mean that encapsulation is not possible?</p>\n\n<p>What if, by convention, we define the public interface of our components and then access the objects' state and behavior only through their public interface? Evidently, for this we need a clear understanding of the abstractions in our problem domain and how these are supposed to be consumed by our users.  </p>\n\n<p>To me, it appears as if the interview question was intended to evaluate encapsulation as broader concept, one depending on the definition of very clear abstractions, and not just a as by-product of a language feature like access modifiers. </p>\n\n<h2>The Role of Abstraction</h2>\n\n<p>That's why, in my opinion, to really understand encapsulation, one must first understand abstraction. </p>\n\n<p>Think, for example, in the level of abstraction in the concept of a car. A car is complex in its internal implementation. They have several subsystem, like a transmission system, a break system, a fuel system, etc. </p>\n\n<p>However, we have simplified its abstraction, and we interact with all cars in the world through the public interface of their abstraction. We know that all cars have a steering wheel through which we control direction, they have a pedal that when you press it you accelerate the car and control speed, and another that when you press it you make it stop, and you have a gear stick that let you control if you go forward of backward. These features constitute the <em>public interface</em> of the car abstraction. In the morning you can drive a sedan and then get out of it and drive an SUV in the afternoon as if it was the same thing. </p>\n\n<p>It is not that you cannot open the hood and see how it all works. However, few of us know the details of how all these underlying features are implemented under the hood, and the truth is that we do not need to know the details to drive a car. All these things are encapsulated under the car abstraction. We only need to know the public interface of the abstraction. </p>\n\n<p>Think of the time when cars did not have a hydraulics directional system. One day, the car manufactures invented it, and they decide it to put it in cars from there on. Still, this did not change the way in which users where interacting with them. At most, users experienced an improvement in the use of the directional system. A change like this was possible because the <em>internal implementation</em> of a car was encapsulated. </p>\n\n<p>This clearly demonstrates that by <em>hiding the details</em> of how the directional systems was implemented, they could <em>safely change it</em> without affecting the public interface of the car and, correspondingly, without affecting the way users interacted with it. </p>\n\n<p>Now, think that car manufactures decided to put the fuel cap below the car, and not in one of its sides. You go and buy one of these new cars, and when you run out of gas you go to the gas station, and you do not find the fuel cap. Suddenly you realize is below the car, but you cannot reach it with the gas pump hose. Now, we have broken the public interface contract, and therefore, the entire world breaks, it falls apart because things are not working the way it was expected. A change like this would cost millions. We would need to change all gas pumps in the world. When we break encapsulation we have to pay a price.</p>\n\n<p>So, as you can see, the goal of encapsulation is to <em>minimize interdependence and facilitate change</em>. You maximize encapsulation by minimizing the exposure of implementation details. The state of a class should only be accessed through its public interface.</p>\n\n<p>The beauty of encapsulation is <em>the power of changing things without affecting its users</em>. </p>\n\n<p>We could  say that this ultimate goal depends on careful planning and design. In Java, access modifiers are a way to bring these ideas to life, but in language where this feature does not exist, it is equally possible to achieve encapsulation.</p>\n"},{"tags":[],"owner":{"account_id":386862,"reputation":883,"user_id":744860,"accept_rate":0,"display_name":"Alexander Gharibashvili"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365545386,"creation_date":1365545386,"answer_id":15913490,"question_id":12013448,"body_markdown":"In the class, attributes and behaviors are placed together. An encapsulation means, that when you create a class, this itself means that you realize encapsulation principle. Because data and behaviors are encapsulated into the class. So data hiding is a major part of the term - encapsulation. And this means access points of the object.","title":"Encapsulation vs Data Hiding - Java","body":"<p>In the class, attributes and behaviors are placed together. An encapsulation means, that when you create a class, this itself means that you realize encapsulation principle. Because data and behaviors are encapsulated into the class. So data hiding is a major part of the term - encapsulation. And this means access points of the object.</p>\n"},{"tags":[],"owner":{"account_id":227818,"reputation":3518,"user_id":489718,"accept_rate":71,"display_name":"Sanjay Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1383039128,"creation_date":1383039128,"answer_id":19654330,"question_id":12013448,"body_markdown":"I saw a lots of discussion is already done, just to simplify from my understanding:\r\n\r\n**Encapsulation**\r\nEnsures that the behavior of an object can only be affected through its API.\r\nIt lets us control how much a change to one object will impact other parts of\r\nthe system by ensuring that there are no unexpected dependencies between\r\nunrelated components.Access modifier can used to achieve Encapsulation.\r\n\r\n**Information hiding**\r\nConceals how an object implements its functionality behind the abstraction\r\nof its API. It lets us work with higher abstractions by ignoring lower-level details\r\nthat are unrelated to the task at hand. Abstraction at design level can be used to achieve data hiding.","title":"Encapsulation vs Data Hiding - Java","body":"<p>I saw a lots of discussion is already done, just to simplify from my understanding:</p>\n\n<p><strong>Encapsulation</strong>\nEnsures that the behavior of an object can only be affected through its API.\nIt lets us control how much a change to one object will impact other parts of\nthe system by ensuring that there are no unexpected dependencies between\nunrelated components.Access modifier can used to achieve Encapsulation.</p>\n\n<p><strong>Information hiding</strong>\nConceals how an object implements its functionality behind the abstraction\nof its API. It lets us work with higher abstractions by ignoring lower-level details\nthat are unrelated to the task at hand. Abstraction at design level can be used to achieve data hiding.</p>\n"},{"comments":[{"owner":{"account_id":1333279,"reputation":6465,"user_id":1276636,"accept_rate":62,"display_name":"Sufian"},"score":0,"creation_date":1416482351,"post_id":27036197,"comment_id":42596181,"body_markdown":"There were formatting issues which I have now fixed. Please check [How do I format my posts using Markdown or HTML?](http://stackoverflow.com/help/formatting) for more information.","body":"There were formatting issues which I have now fixed. Please check <a href=\"http://stackoverflow.com/help/formatting\">How do I format my posts using Markdown or HTML?</a> for more information."},{"owner":{"account_id":9791160,"reputation":676,"user_id":7773888,"accept_rate":40,"display_name":"raviraja"},"score":0,"creation_date":1537184772,"post_id":27036197,"comment_id":91678148,"body_markdown":"**Its just act like a Black box to outside world** this actually refers to Abstraction, not Encapsulation.","body":"<b>Its just act like a Black box to outside world</b> this actually refers to Abstraction, not Encapsulation."}],"tags":[],"owner":{"account_id":1630087,"reputation":2337,"user_id":1504824,"accept_rate":67,"display_name":"bharatj"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1456743338,"creation_date":1416476373,"answer_id":27036197,"question_id":12013448,"body_markdown":"Encapsulation\r\n-\r\nIn general **Encapsulation** means to bundle similar items, simple as that.\r\n\r\nFor example, take a `Student` class where we will have students instance variables and behaviors/methods acting on those instance variables @ one place.\r\n\r\nWhy it is important? We don&#39;t want our code scattered all around in our code Base.\r\n\r\nIf let say we need to make changes then we need find the variants(of that changes) at all the places. By Bundling similar items we are just avoiding such scenarios and it also helps to make our Bundled code more focused.\r\n\r\n\r\nData Hiding\r\n-\r\nIt just provides a way to protect your data from the outside world. What it means is, lets say if I made my instance variable public, then anyone can change its state. But if we make our instance variable private/protected then actually we are restricting outside entities from making changes to it.\r\n\r\nComparison/Discussion\r\n-\r\nNow question arises, in what respect are we making our variables protected?\r\n\r\nAgain we need to understand that **Encapsulation** is just the container we need to place our similar items.\r\n\r\nIts just act like a *Black box* to outside world. Outside world (I mean to say clients/consumers: using our `Student` class) don&#39;t know the internal details/implementation details of the `Student` class and actually they should not care about the internal details/implementation details of the class. They just want some methods/APIs so that they can use them in their client application.\r\n\r\nSo my point is all student related behaviors/variables are placed in a *Black box* which we are calling it as a class. Now its up to designer of the class what are the elements of the class should be hidden and what should not be hidden from outside world.\r\n\r\nNow coming back to the question In Java: we are making our variables private it means they are class protected.If we want our instance variables to be accessible throughout the package then they are package protected. Through out project they are public. So what I mean to say is to hide data you need some sort of container where you will put your data and hide with respect to container.\r\n\r\nSo what I feel **Data Hiding** is not possible without **Encapsulation**. You can&#39;t hide your data without putting it in some form of container. Again I&#39;m reminding you that I&#39;m putting this on the Object Oriented Language context.\r\n\r\nBut yes **Encapsulation** is possible without hiding your data. Put all things public and you can the see the affect.","title":"Encapsulation vs Data Hiding - Java","body":"<h2>Encapsulation</h2>\n\n<p>In general <strong>Encapsulation</strong> means to bundle similar items, simple as that.</p>\n\n<p>For example, take a <code>Student</code> class where we will have students instance variables and behaviors/methods acting on those instance variables @ one place.</p>\n\n<p>Why it is important? We don't want our code scattered all around in our code Base.</p>\n\n<p>If let say we need to make changes then we need find the variants(of that changes) at all the places. By Bundling similar items we are just avoiding such scenarios and it also helps to make our Bundled code more focused.</p>\n\n<h2>Data Hiding</h2>\n\n<p>It just provides a way to protect your data from the outside world. What it means is, lets say if I made my instance variable public, then anyone can change its state. But if we make our instance variable private/protected then actually we are restricting outside entities from making changes to it.</p>\n\n<h2>Comparison/Discussion</h2>\n\n<p>Now question arises, in what respect are we making our variables protected?</p>\n\n<p>Again we need to understand that <strong>Encapsulation</strong> is just the container we need to place our similar items.</p>\n\n<p>Its just act like a <em>Black box</em> to outside world. Outside world (I mean to say clients/consumers: using our <code>Student</code> class) don't know the internal details/implementation details of the <code>Student</code> class and actually they should not care about the internal details/implementation details of the class. They just want some methods/APIs so that they can use them in their client application.</p>\n\n<p>So my point is all student related behaviors/variables are placed in a <em>Black box</em> which we are calling it as a class. Now its up to designer of the class what are the elements of the class should be hidden and what should not be hidden from outside world.</p>\n\n<p>Now coming back to the question In Java: we are making our variables private it means they are class protected.If we want our instance variables to be accessible throughout the package then they are package protected. Through out project they are public. So what I mean to say is to hide data you need some sort of container where you will put your data and hide with respect to container.</p>\n\n<p>So what I feel <strong>Data Hiding</strong> is not possible without <strong>Encapsulation</strong>. You can't hide your data without putting it in some form of container. Again I'm reminding you that I'm putting this on the Object Oriented Language context.</p>\n\n<p>But yes <strong>Encapsulation</strong> is possible without hiding your data. Put all things public and you can the see the affect.</p>\n"},{"tags":[],"owner":{"account_id":5777163,"reputation":121,"user_id":4558924,"display_name":"Samar Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1431599831,"creation_date":1431597341,"answer_id":30234301,"question_id":12013448,"body_markdown":"***Encapsulation***: Take the example of a capsule. If you open it, it contains a lot of ingredients in it. Object Oriented programming&#39;s Encapsulation is also like that. As the name suggests &quot;*Encapsulation* means to encapsulate (make a capsule of) all the data members, attributes and corresponding methods within one single capsule.\r\n\r\n**How do you do it:** Lets say you made a class named &quot;Car&quot;. Now car has a color price and model. These are attributes, and it has a run method. So here you&#39;ve encapsulated all these attributes and methods of a vehicle named &quot;Car&quot;. When you create an instance of car like so\r\n\r\n    Car myCar = new Car();\r\n\r\nYou can access all the attributes of Car using the myCar variable.\r\n\r\n&quot;**Data hiding**&quot;: Data hiding is controlled in Java using access modifiers. To access the data members you use *ACCESSORS* while to modify the data you use &quot;**Mutators**&quot;. Java doesn&#39;t provide accessors and mutators by itself, you create them yourself (getters and setters). While C# provides PROPERTIES to do so.","title":"Encapsulation vs Data Hiding - Java","body":"<p><strong><em>Encapsulation</em></strong>: Take the example of a capsule. If you open it, it contains a lot of ingredients in it. Object Oriented programming's Encapsulation is also like that. As the name suggests \"<em>Encapsulation</em> means to encapsulate (make a capsule of) all the data members, attributes and corresponding methods within one single capsule.</p>\n\n<p><strong>How do you do it:</strong> Lets say you made a class named \"Car\". Now car has a color price and model. These are attributes, and it has a run method. So here you've encapsulated all these attributes and methods of a vehicle named \"Car\". When you create an instance of car like so</p>\n\n<pre><code>Car myCar = new Car();\n</code></pre>\n\n<p>You can access all the attributes of Car using the myCar variable.</p>\n\n<p>\"<strong>Data hiding</strong>\": Data hiding is controlled in Java using access modifiers. To access the data members you use <em>ACCESSORS</em> while to modify the data you use \"<strong>Mutators</strong>\". Java doesn't provide accessors and mutators by itself, you create them yourself (getters and setters). While C# provides PROPERTIES to do so.</p>\n"},{"tags":[],"owner":{"account_id":6378804,"reputation":17,"user_id":4948941,"display_name":"Aarif Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438952658,"creation_date":1438952658,"answer_id":31878456,"question_id":12013448,"body_markdown":"The easiest definition of encapsulation is &quot;Binding data and code that operates data into a single unit&quot;, so that the data can&#39;t be accessed directly by outside world.\r\n\r\nIn structure language like c data is declared at the start of the block and used directly, accessed openly(Any tom, dick and harry can access data).\r\nData hiding is a concept to restrict data access directly and openly to any tom dick and harry.  \r\nEncapsulation is one of the way to achieve Data hiding.\r\nYou achieve data hiding by putting data and function together (Encapsulation).\r\n\r\nHow you achieve in JAVA, see any getter(), setter() function example in JAVA.\r\nCheck this \r\n\r\nhttps://stackoverflow.com/questions/2036970/how-do-getters-and-setters-work\r\n","title":"Encapsulation vs Data Hiding - Java","body":"<p>The easiest definition of encapsulation is \"Binding data and code that operates data into a single unit\", so that the data can't be accessed directly by outside world.</p>\n\n<p>In structure language like c data is declared at the start of the block and used directly, accessed openly(Any tom, dick and harry can access data).\nData hiding is a concept to restrict data access directly and openly to any tom dick and harry.<br>\nEncapsulation is one of the way to achieve Data hiding.\nYou achieve data hiding by putting data and function together (Encapsulation).</p>\n\n<p>How you achieve in JAVA, see any getter(), setter() function example in JAVA.\nCheck this </p>\n\n<p><a href=\"https://stackoverflow.com/questions/2036970/how-do-getters-and-setters-work\">How do getters and setters work?</a></p>\n"},{"tags":[],"owner":{"account_id":4148170,"reputation":79,"user_id":3401332,"display_name":"Vrajendra Singh Mandloi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1451925014,"creation_date":1451924833,"answer_id":34595478,"question_id":12013448,"body_markdown":"Encapsulation: Encapsulation is one of the pillar of OOPS, also is superset for the other two terms, data hiding and abstraction. (Data hiding, as the term refers.. Data can only be stored in variables. To hide the data from external world we use data hiding concept. Public, Private, Protected these are three access modifiers provided to us for data hiding. Default is limited to package.  Protected limited to inherited class.)\r\n** Private variables are accessible only inside class which means if there is an inner class, there also private variables could be called directly. Only Static Inner Classes can call Static Variables.\r\n\r\nNow coming to Abstraction (meaning  Intangible). Abstraction is also considered as the process to hide the implementation from user and provide only final result. Example: we have a person class which has “Weight” property. This property is quite tricky because we cannot accept less than 0 weight for a person. Also we cannot accept more than 500 kgs. So hiding the implementation for these will be in the setter method. This thing hiding the implementation details is Abstraction. \r\n\r\n** And the Complete Package i.e. making the object private and implementation of logic in setter and getter is called ENCAPSULATION. \r\n","title":"Encapsulation vs Data Hiding - Java","body":"<p>Encapsulation: Encapsulation is one of the pillar of OOPS, also is superset for the other two terms, data hiding and abstraction. (Data hiding, as the term refers.. Data can only be stored in variables. To hide the data from external world we use data hiding concept. Public, Private, Protected these are three access modifiers provided to us for data hiding. Default is limited to package.  Protected limited to inherited class.)\n** Private variables are accessible only inside class which means if there is an inner class, there also private variables could be called directly. Only Static Inner Classes can call Static Variables.</p>\n\n<p>Now coming to Abstraction (meaning  Intangible). Abstraction is also considered as the process to hide the implementation from user and provide only final result. Example: we have a person class which has “Weight” property. This property is quite tricky because we cannot accept less than 0 weight for a person. Also we cannot accept more than 500 kgs. So hiding the implementation for these will be in the setter method. This thing hiding the implementation details is Abstraction. </p>\n\n<p>** And the Complete Package i.e. making the object private and implementation of logic in setter and getter is called ENCAPSULATION. </p>\n"},{"tags":[],"owner":{"account_id":8091606,"reputation":11,"user_id":6097358,"display_name":"Shahnawaz Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458634869,"creation_date":1458634869,"answer_id":36149303,"question_id":12013448,"body_markdown":"1. ENCAPSULATION is the bundling the data (fields) and behavior (methods) together in classes.\r\n2. Now, You have to provide access control on the data using access modifiers (private/protected/public or default) which is DATA HIDING.\r\nIt protects data from the outside world where you do not want to provide the access.\r\n3. Also, in order to hide the complexity of the operations you must use interfaces in order to achieve ABSTRACTION.","title":"Encapsulation vs Data Hiding - Java","body":"<ol>\n<li>ENCAPSULATION is the bundling the data (fields) and behavior (methods) together in classes.</li>\n<li>Now, You have to provide access control on the data using access modifiers (private/protected/public or default) which is DATA HIDING.\nIt protects data from the outside world where you do not want to provide the access.</li>\n<li>Also, in order to hide the complexity of the operations you must use interfaces in order to achieve ABSTRACTION.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8664947,"reputation":23,"user_id":6485866,"display_name":"Dharmpal Chaudhary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467308674,"creation_date":1467304993,"answer_id":38128997,"question_id":12013448,"body_markdown":"**Encapsulation** means binding data members and method(behaviour) in a single unit and providing as much information as much user required easily you can say [encapsulation=data hiding+abstraction].  \r\n\r\nClass is fully encapsulated element in java\r\n\r\n**Data hiding** means declaring data variables as private to secure it from unauthorized access but if you are giving some public setter and getter method for validation.","title":"Encapsulation vs Data Hiding - Java","body":"<p><strong>Encapsulation</strong> means binding data members and method(behaviour) in a single unit and providing as much information as much user required easily you can say [encapsulation=data hiding+abstraction].  </p>\n\n<p>Class is fully encapsulated element in java</p>\n\n<p><strong>Data hiding</strong> means declaring data variables as private to secure it from unauthorized access but if you are giving some public setter and getter method for validation.</p>\n"},{"tags":[],"owner":{"account_id":6677596,"reputation":1285,"user_id":5151769,"display_name":"YaDav MaNish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480168916,"creation_date":1480168916,"answer_id":40819137,"question_id":12013448,"body_markdown":"The process of defining a class by hiding its data from direct access from the outside class member and providing the access only through publicly accessible setter and getter method through proper validation it is called Encapsulation.","title":"Encapsulation vs Data Hiding - Java","body":"<p>The process of defining a class by hiding its data from direct access from the outside class member and providing the access only through publicly accessible setter and getter method through proper validation it is called Encapsulation.</p>\n"},{"comments":[{"owner":{"account_id":8059433,"reputation":846,"user_id":6075404,"accept_rate":100,"display_name":"forumulator"},"score":0,"creation_date":1614509784,"post_id":41763986,"comment_id":117402083,"body_markdown":"+1, This needs to be higher. This is an alternate way to look at encapsulation than *Bundling* and *Access modifiers*. I would expand it to say low coupling between client code that uses the data and the data itself, and high cohesion or consistency of the state of data in that capsule.","body":"+1, This needs to be higher. This is an alternate way to look at encapsulation than <i>Bundling</i> and <i>Access modifiers</i>. I would expand it to say low coupling between client code that uses the data and the data itself, and high cohesion or consistency of the state of data in that capsule."}],"tags":[],"owner":{"account_id":5941500,"reputation":684,"user_id":4672544,"accept_rate":71,"display_name":"Maaz Rehman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484916174,"creation_date":1484916174,"answer_id":41763986,"question_id":12013448,"body_markdown":"The way i see it , **Encapsulation** refer to the idea of **binding data** and **method** to a **single** unit called ***class*** . However there are ***two main criteria*** to bind data and methods . One of them is information hiding, just not the only one . To be perfectly **concise** i would say the two main criteria are\r\n\r\n 1. Low Coupling (ensure by information hiding)  \r\n 2. High Cohesion","title":"Encapsulation vs Data Hiding - Java","body":"<p>The way i see it , <strong>Encapsulation</strong> refer to the idea of <strong>binding data</strong> and <strong>method</strong> to a <strong>single</strong> unit called <strong><em>class</em></strong> . However there are <strong><em>two main criteria</em></strong> to bind data and methods . One of them is information hiding, just not the only one . To be perfectly <strong>concise</strong> i would say the two main criteria are</p>\n\n<ol>\n<li>Low Coupling (ensure by information hiding)  </li>\n<li>High Cohesion</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2475134,"reputation":4546,"user_id":2155922,"accept_rate":35,"display_name":"Rahul Rastogi"},"score":1,"creation_date":1568216017,"post_id":44202586,"comment_id":102206388,"body_markdown":"In above statement &quot;Data hiding refers to hiding the unimportant details from the user and show him only the relevant data&quot;, I think you&#39;re taking about Abstraction here, instead of data-hiding.","body":"In above statement &quot;Data hiding refers to hiding the unimportant details from the user and show him only the relevant data&quot;, I think you&#39;re taking about Abstraction here, instead of data-hiding."}],"tags":[],"owner":{"account_id":10899750,"reputation":71,"user_id":8012361,"display_name":"alok kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495850250,"creation_date":1495804460,"answer_id":44202586,"question_id":12013448,"body_markdown":"*Data encapsulation* refers to the mechanism of *keeping all the related properties and method into a single entity*.\r\n\r\n*Example*: A Car. It keeps steering wheels, tires, engine and all the related stuffs into one collective entity known as `Car`.\r\n \r\nIn programming languages the *encapsulation* is achieved with *classes*. A class contains all the properties and related methods in `one single entity` that is designed to do a specific task.\r\n\r\n---\r\n*Data hiding* refers to *hiding the unimportant details from the user* and show him only the relevant data.\r\n\r\n*Example*: When we press brakes or accelerator in a car, we don&#39;t know what&#39;s happening behind the scene (*how* its increases its speed or *how* its applying the brakes into tires). All we know is that we have brake and accelerator to perform the desired outcome.\r\n\r\nIn programming this is done with the help of *access modifiers*. *Private* members are *not accessible* from outside the class and only `public` members are accessible to users. The private members can only be accessed from *members of the class* thus providing the *security* for private members to be directly evaluated from the outside of the class. ","title":"Encapsulation vs Data Hiding - Java","body":"<p><em>Data encapsulation</em> refers to the mechanism of <em>keeping all the related properties and method into a single entity</em>.</p>\n\n<p><em>Example</em>: A Car. It keeps steering wheels, tires, engine and all the related stuffs into one collective entity known as <code>Car</code>.</p>\n\n<p>In programming languages the <em>encapsulation</em> is achieved with <em>classes</em>. A class contains all the properties and related methods in <code>one single entity</code> that is designed to do a specific task.</p>\n\n<hr>\n\n<p><em>Data hiding</em> refers to <em>hiding the unimportant details from the user</em> and show him only the relevant data.</p>\n\n<p><em>Example</em>: When we press brakes or accelerator in a car, we don't know what's happening behind the scene (<em>how</em> its increases its speed or <em>how</em> its applying the brakes into tires). All we know is that we have brake and accelerator to perform the desired outcome.</p>\n\n<p>In programming this is done with the help of <em>access modifiers</em>. <em>Private</em> members are <em>not accessible</em> from outside the class and only <code>public</code> members are accessible to users. The private members can only be accessed from <em>members of the class</em> thus providing the <em>security</em> for private members to be directly evaluated from the outside of the class. </p>\n"},{"tags":[],"owner":{"account_id":5600488,"reputation":47,"user_id":4436892,"accept_rate":0,"display_name":"Ramesh Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502696365,"creation_date":1502696365,"answer_id":45669607,"question_id":12013448,"body_markdown":"The process of binding data members and corresponding methods into a single unit is nothing but encapuslation.\r\n\r\nEncapsulation = Data Hiding + Abstraction","title":"Encapsulation vs Data Hiding - Java","body":"<p>The process of binding data members and corresponding methods into a single unit is nothing but encapuslation.</p>\n\n<p>Encapsulation = Data Hiding + Abstraction</p>\n"},{"tags":[],"owner":{"account_id":6192337,"reputation":621,"user_id":4824719,"display_name":"Brijesh Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1503653624,"creation_date":1503653624,"answer_id":45878510,"question_id":12013448,"body_markdown":"&gt; Data hiding means we are providing security to data within the class.\n&gt;\n&gt; Abstraction means hiding the code by defining member functions.  \n&gt;\n&gt; Encapsulation is the combination of abstraction and data hiding, means we are \n wrapping data and code associated with that data.   For ex bean class\n \n\n  \n\n        class student {\n    private int age;  // Data Hiding \n    public setAge(){} // Abstraction \n    public getAge(){} // Abstraction \n    }\n\nstudent class is encapsulated. \n\n&gt; encapsulation = data hiding + abstraction \n\n ","title":"Encapsulation vs Data Hiding - Java","body":"<blockquote>\n<p>Data hiding means we are providing security to data within the class.</p>\n<p>Abstraction means hiding the code by defining member functions.</p>\n<p>Encapsulation is the combination of abstraction and data hiding, means we are\nwrapping data and code associated with that data.   For ex bean class</p>\n</blockquote>\n<pre><code>    class student {\nprivate int age;  // Data Hiding \npublic setAge(){} // Abstraction \npublic getAge(){} // Abstraction \n}\n</code></pre>\n<p>student class is encapsulated.</p>\n<blockquote>\n<p>encapsulation = data hiding + abstraction</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530216951,"creation_date":1530216951,"answer_id":51090629,"question_id":12013448,"body_markdown":"[From Wikipedia][1] \r\n\r\n&gt; Encapsulation Encapsulation is an object-oriented programming concept\r\n&gt; that binds together the data and functions that manipulate the data,\r\n&gt; and that keeps both safe from outside interference and misuse. Data\r\n&gt; encapsulation led to the important OOP concept of data hiding.\r\n&gt; \r\n&gt; If a class does not allow calling code to access internal object data\r\n&gt; and permits access through methods only, this is a strong form of\r\n&gt; abstraction or information hiding known as encapsulation. Some\r\n&gt; languages (Java, for example) let classes enforce access restrictions\r\n&gt; explicitly, for example denoting internal data with the private\r\n&gt; keyword and designating methods intended for use by code outside the\r\n&gt; class with the public keyword. Methods may also be designed public,\r\n&gt; private, or intermediate levels such as protected (which allows access\r\n&gt; from the same class and its subclasses, but not objects of a different\r\n&gt; class). In other languages (like Python) this is enforced only by\r\n&gt; convention (for example, private methods may have names that start\r\n&gt; with an underscore). Encapsulation prevents external code from being\r\n&gt; concerned with the internal workings of an object. This facilitates\r\n&gt; code refactoring, for example allowing the author of the class to\r\n&gt; change how objects of that class represent their data internally\r\n&gt; without changing any external code (as long as &quot;public&quot; method calls\r\n&gt; work the same way). It also encourages programmers to put all the code\r\n&gt; that is concerned with a certain set of data in the same class, which\r\n&gt; organizes it for easy comprehension by other programmers.\r\n&gt; Encapsulation is a technique that encourages decoupling.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Object-oriented_programming#Encapsulation","title":"Encapsulation vs Data Hiding - Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming#Encapsulation\" rel=\"nofollow noreferrer\">From Wikipedia</a> </p>\n\n<blockquote>\n  <p>Encapsulation Encapsulation is an object-oriented programming concept\n  that binds together the data and functions that manipulate the data,\n  and that keeps both safe from outside interference and misuse. Data\n  encapsulation led to the important OOP concept of data hiding.</p>\n  \n  <p>If a class does not allow calling code to access internal object data\n  and permits access through methods only, this is a strong form of\n  abstraction or information hiding known as encapsulation. Some\n  languages (Java, for example) let classes enforce access restrictions\n  explicitly, for example denoting internal data with the private\n  keyword and designating methods intended for use by code outside the\n  class with the public keyword. Methods may also be designed public,\n  private, or intermediate levels such as protected (which allows access\n  from the same class and its subclasses, but not objects of a different\n  class). In other languages (like Python) this is enforced only by\n  convention (for example, private methods may have names that start\n  with an underscore). Encapsulation prevents external code from being\n  concerned with the internal workings of an object. This facilitates\n  code refactoring, for example allowing the author of the class to\n  change how objects of that class represent their data internally\n  without changing any external code (as long as \"public\" method calls\n  work the same way). It also encourages programmers to put all the code\n  that is concerned with a certain set of data in the same class, which\n  organizes it for easy comprehension by other programmers.\n  Encapsulation is a technique that encourages decoupling.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13881982,"reputation":11,"user_id":10022131,"display_name":"Ali.Chauhdary"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530544931,"creation_date":1530544931,"answer_id":51139330,"question_id":12013448,"body_markdown":"Basically Data encapsulation is a process while data hiding is a technique .\r\nIn encapsulation data can be public or private but in data hiding data is only private. So data hiding uses Encapsulation but it also uses different techniques to keep data permitted to authorized access only.\r\nHope it helps!","title":"Encapsulation vs Data Hiding - Java","body":"<p>Basically Data encapsulation is a process while data hiding is a technique .\nIn encapsulation data can be public or private but in data hiding data is only private. So data hiding uses Encapsulation but it also uses different techniques to keep data permitted to authorized access only.\nHope it helps!</p>\n"},{"tags":[],"owner":{"account_id":6274251,"reputation":383,"user_id":4877428,"accept_rate":94,"display_name":"Ankit Rana"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545097125,"creation_date":1545097125,"answer_id":53825256,"question_id":12013448,"body_markdown":"Abstraction says that what needed to interact with object.\r\n\r\nEncapsulation means encapsulate object properties , state and behaviours into single logical unit called class.\r\n\r\nData hiding says that hiding inner implementation of objects means private methods and properties, the object that use to maintain their state.","title":"Encapsulation vs Data Hiding - Java","body":"<p>Abstraction says that what needed to interact with object.</p>\n\n<p>Encapsulation means encapsulate object properties , state and behaviours into single logical unit called class.</p>\n\n<p>Data hiding says that hiding inner implementation of objects means private methods and properties, the object that use to maintain their state.</p>\n"},{"tags":[],"owner":{"account_id":29257485,"reputation":1,"user_id":22415360,"display_name":"Eng Mohammed  Abd-Elaleem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692457362,"creation_date":1692457362,"answer_id":76935745,"question_id":12013448,"body_markdown":"Encapsulation is the broader concept of bundling data and methods together, while data hiding is a specific aspect of encapsulation that focuses on restricting direct access to internal data. Encapsulation provides the means to achieve modularity and maintainability, while data hiding enhances encapsulation by protecting the integrity and privacy of internal data.\r\n\r\n-Encapsulation is the bundling of data and methods (or functions) that operate on that data into a single unit, known as a class.\r\n-Encapsulation provides a way to hide the internal implementation details of a class and provide a well-defined interface for interacting with the class.\r\n-The internal data and implementation details are typically kept private or protected within the class, and access to them is controlled through public methods.\r\n-Encapsulation helps achieve modularity, reusability, and maintainability by enforcing a clear separation between the interface and implementation of a class.\r\n\r\n-Data hiding, also known as information hiding, is a specific aspect of encapsulation that focuses on restricting direct access to internal data or implementation details of a class.\r\n-Data hiding helps enforce encapsulation and protects the integrity of the class&#39;s internal state by preventing unintended or unauthorized access to the data.\r\n-It allows for better control over how the data is modified, validated, or used, ensuring proper encapsulation and avoiding potential data corruption or inconsistency.","title":"Encapsulation vs Data Hiding - Java","body":"<p>Encapsulation is the broader concept of bundling data and methods together, while data hiding is a specific aspect of encapsulation that focuses on restricting direct access to internal data. Encapsulation provides the means to achieve modularity and maintainability, while data hiding enhances encapsulation by protecting the integrity and privacy of internal data.</p>\n<p>-Encapsulation is the bundling of data and methods (or functions) that operate on that data into a single unit, known as a class.\n-Encapsulation provides a way to hide the internal implementation details of a class and provide a well-defined interface for interacting with the class.\n-The internal data and implementation details are typically kept private or protected within the class, and access to them is controlled through public methods.\n-Encapsulation helps achieve modularity, reusability, and maintainability by enforcing a clear separation between the interface and implementation of a class.</p>\n<p>-Data hiding, also known as information hiding, is a specific aspect of encapsulation that focuses on restricting direct access to internal data or implementation details of a class.\n-Data hiding helps enforce encapsulation and protects the integrity of the class's internal state by preventing unintended or unauthorized access to the data.\n-It allows for better control over how the data is modified, validated, or used, ensuring proper encapsulation and avoiding potential data corruption or inconsistency.</p>\n"}],"owner":{"account_id":82331,"reputation":14750,"user_id":231567,"accept_rate":81,"display_name":"Sandeep Jindal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80578,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":12013485,"answer_count":20,"score":61,"last_activity_date":1692457362,"creation_date":1345239097,"question_id":12013448,"body_markdown":"&gt; **Interviewer:** What is encapsulation and how do you achieve it in Java?\r\n&gt; \r\n&gt; **Me:**  Encapsulation is a mechanism to hide information from the client. The information may be data or implementation or algorithm. We\r\n&gt; achieve this using access modifiers. \r\n&gt; \r\n&gt; \r\n&gt; **Interviewer:** This is data hiding. How do we achieve encapsulation in Java?\r\n&gt; \r\n&gt; **Me**: uummmm\r\n\r\n\r\n\r\n**Concrete Question:** Other than &#39;Access Modifiers&#39;, what is the way to implement Encapsulation in Java?","title":"Encapsulation vs Data Hiding - Java","body":"<blockquote>\n  <p><strong>Interviewer:</strong> What is encapsulation and how do you achieve it in Java?</p>\n  \n  <p><strong>Me:</strong>  Encapsulation is a mechanism to hide information from the client. The information may be data or implementation or algorithm. We\n  achieve this using access modifiers. </p>\n  \n  <p><strong>Interviewer:</strong> This is data hiding. How do we achieve encapsulation in Java?</p>\n  \n  <p><strong>Me</strong>: uummmm</p>\n</blockquote>\n\n<p><strong>Concrete Question:</strong> Other than 'Access Modifiers', what is the way to implement Encapsulation in Java?</p>\n"},{"tags":["java","jpa","ejb-3.0"],"answers":[{"comments":[{"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"score":11,"creation_date":1303195809,"post_id":2441675,"comment_id":6530606,"body_markdown":"this is not the solution !","body":"this is not the solution !"},{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":1,"creation_date":1303230365,"post_id":2441675,"comment_id":6539845,"body_markdown":"i know, but this worked for me. any other answer here which worked for you? if yes, then i will be more than happy to select it.","body":"i know, but this worked for me. any other answer here which worked for you? if yes, then i will be more than happy to select it."},{"owner":{"account_id":1268863,"reputation":6147,"user_id":1225583,"accept_rate":55,"display_name":"Ben"},"score":4,"creation_date":1338827112,"post_id":2441675,"comment_id":14186238,"body_markdown":"It worked because your object was detached from the hibernate session or the object is transient but hibernate sees it as detached because you got the primary key declared,  With using merge you attach the object tot he session again this enables you to update objects in your database; see: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-detached","body":"It worked because your object was detached from the hibernate session or the object is transient but hibernate sees it as detached because you got the primary key declared,  With using merge you attach the object tot he session again this enables you to update objects in your database; see: <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html#objectstate-detached\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/core/3.3/reference/en/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":3,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1268557639,"creation_date":1268557639,"answer_id":2441675,"question_id":2441598,"body_markdown":"I got the answer, I was using:\r\n\r\n    em.persist(user);\r\n\r\nI used merge in place of persist:\r\n\r\n    em.merge(user);\r\n\r\nBut no idea, why persist didn&#39;t work. :(","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>I got the answer, I was using:</p>\n\n<pre><code>em.persist(user);\n</code></pre>\n\n<p>I used merge in place of persist:</p>\n\n<pre><code>em.merge(user);\n</code></pre>\n\n<p>But no idea, why persist didn't work. :(</p>\n"},{"comments":[{"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"score":0,"creation_date":1268596917,"post_id":2442036,"comment_id":2429737,"body_markdown":"Will I be technically right when I say, I am using JPA and not Hibernate so, that above statement should not apply right? I am newbie in JPA (3 ays to be precise :P)","body":"Will I be technically right when I say, I am using JPA and not Hibernate so, that above statement should not apply right? I am newbie in JPA (3 ays to be precise :P)"},{"owner":{"account_id":104635,"reputation":10035,"user_id":279623,"accept_rate":82,"display_name":"Tomislav Nakic-Alfirevic"},"score":0,"creation_date":1268600875,"post_id":2442036,"comment_id":2430002,"body_markdown":"Sun&#39;s JPA Javadoc (http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#persist(java.lang.Object)) and that of Toplink are exactly the same and suggest you are technically right. However, it really boils down to what the specification says persist() should behave like and sadly, I don&#39;t know what that is.","body":"Sun&#39;s JPA Javadoc (<a href=\"http://java.sun.com/javaee/5/docs/api/javax/persistence/EntityManager.html#persist(java.lang.Object)\" rel=\"nofollow noreferrer\">java.sun.com/javaee/5/docs/api/javax/persistence/&hellip;</a>) and that of Toplink are exactly the same and suggest you are technically right. However, it really boils down to what the specification says persist() should behave like and sadly, I don&#39;t know what that is."},{"owner":{"account_id":210974,"reputation":545,"user_id":462891,"display_name":"cs94njw"},"score":0,"creation_date":1327678323,"post_id":2442036,"comment_id":11333374,"body_markdown":"This solution worked for me.  I was persisting an object, keeping the ID stored somewhere.\nI then want to overwrite that existing object with a new value, so I created the object, copied the ID back in, and it blew up when I tried to save.\nIn the end, I had to requery the DB (findById), make the changes, and then persist *that* object.","body":"This solution worked for me.  I was persisting an object, keeping the ID stored somewhere. I then want to overwrite that existing object with a new value, so I created the object, copied the ID back in, and it blew up when I tried to save. In the end, I had to requery the DB (findById), make the changes, and then persist <i>that</i> object."}],"tags":[],"owner":{"account_id":104635,"reputation":10035,"user_id":279623,"accept_rate":82,"display_name":"Tomislav Nakic-Alfirevic"},"comment_count":3,"down_vote_count":0,"up_vote_count":140,"is_accepted":false,"score":140,"last_activity_date":1417534137,"creation_date":1268567093,"answer_id":2442036,"question_id":2441598,"body_markdown":"The error occurs because the object&#39;s ID is set. Hibernate distinguishes between transient and detached objects and `persist` works only with transient objects. If `persist` concludes the object is detached (which it will because the ID is set), it will return the &quot;detached object passed to persist&quot; error. You can find more details [here][1] and [here][2].\r\n\r\nHowever, this only applies _if_ you have specified the primary key to be auto-generated: if the field is configured to always be set manually, then your code works.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\r\n  [2]: http://javapeople.blogspot.com/2008/02/transientpersistent-or-detached.html","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>The error occurs because the object's ID is set. Hibernate distinguishes between transient and detached objects and <code>persist</code> works only with transient objects. If <code>persist</code> concludes the object is detached (which it will because the ID is set), it will return the \"detached object passed to persist\" error. You can find more details <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">here</a> and <a href=\"http://javapeople.blogspot.com/2008/02/transientpersistent-or-detached.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>However, this only applies <em>if</em> you have specified the primary key to be auto-generated: if the field is configured to always be set manually, then your code works.</p>\n"},{"comments":[{"owner":{"account_id":2296572,"reputation":12748,"user_id":2017866,"accept_rate":76,"display_name":"Rollerball"},"score":2,"creation_date":1456853816,"post_id":4905238,"comment_id":59134086,"body_markdown":"If you use generics, there is no need of using &quot;targetEntity=Photo.class&quot;","body":"If you use generics, there is no need of using &quot;targetEntity=Photo.class&quot;"},{"owner":{"account_id":5199879,"reputation":652,"user_id":4159684,"accept_rate":77,"display_name":"Dilanka Rathnayake"},"score":0,"creation_date":1485151580,"post_id":4905238,"comment_id":70788353,"body_markdown":"hi, after setting album object to photo1 nad photo2... what object we have to save list of Photos or Album?","body":"hi, after setting album object to photo1 nad photo2... what object we have to save list of Photos or Album?"}],"tags":[],"owner":{"account_id":160026,"reputation":8395,"user_id":379779,"accept_rate":57,"display_name":"zawhtut"},"comment_count":2,"down_vote_count":4,"up_vote_count":55,"is_accepted":true,"score":51,"last_activity_date":1296882009,"creation_date":1296882009,"answer_id":4905238,"question_id":2441598,"body_markdown":"![ERD][1]\r\n\r\nLet&#39;s say you have two entities `Album` and `Photo`. Album contains many photos, so it&#39;s a one to many relationship.\r\n\r\n**Album class**\r\n\r\n    @Entity\r\n\tpublic class Album {\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t\tInteger albumId;\r\n\t\t\r\n\t\tString albumName;\r\n\t\t\r\n\t\t@OneToMany(targetEntity=Photo.class,mappedBy=&quot;album&quot;,cascade={CascadeType.ALL},orphanRemoval=true)\r\n\t\tSet&lt;Photo&gt; photos = new HashSet&lt;Photo&gt;();\r\n\t}\r\n\r\n**Photo class**\r\n\r\n    @Entity\r\n\tpublic class Photo{\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t\tInteger photo_id;\r\n\t\r\n\t\tString photoName;\r\n\t\r\n\t\t@ManyToOne(targetEntity=Album.class)\r\n\t\t@JoinColumn(name=&quot;album_id&quot;)\r\n\t\tAlbum album;\r\n\t\t\r\n\t}\r\n\r\nWhat you have to do before persist or merge is to set the Album reference in each photos.\r\n\r\n    \t\tAlbum myAlbum = new Album();\r\n\t\t\tPhoto photo1 = new Photo();\r\n\t\t\tPhoto photo2 = new Photo();\r\n\t\t\t\r\n\t\t\tphoto1.setAlbum(myAlbum);\r\n\t\t\tphoto2.setAlbum(myAlbum);\t\t\r\n                        \r\nThat is how to attach the related entity before you persist or merge.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/LyAi0.jpg","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p><img src=\"https://i.stack.imgur.com/LyAi0.jpg\" alt=\"ERD\"></p>\n\n<p>Let's say you have two entities <code>Album</code> and <code>Photo</code>. Album contains many photos, so it's a one to many relationship.</p>\n\n<p><strong>Album class</strong></p>\n\n<pre><code>@Entity\npublic class Album {\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    Integer albumId;\n\n    String albumName;\n\n    @OneToMany(targetEntity=Photo.class,mappedBy=\"album\",cascade={CascadeType.ALL},orphanRemoval=true)\n    Set&lt;Photo&gt; photos = new HashSet&lt;Photo&gt;();\n}\n</code></pre>\n\n<p><strong>Photo class</strong></p>\n\n<pre><code>@Entity\npublic class Photo{\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    Integer photo_id;\n\n    String photoName;\n\n    @ManyToOne(targetEntity=Album.class)\n    @JoinColumn(name=\"album_id\")\n    Album album;\n\n}\n</code></pre>\n\n<p>What you have to do before persist or merge is to set the Album reference in each photos.</p>\n\n<pre><code>        Album myAlbum = new Album();\n        Photo photo1 = new Photo();\n        Photo photo2 = new Photo();\n\n        photo1.setAlbum(myAlbum);\n        photo2.setAlbum(myAlbum);       \n</code></pre>\n\n<p>That is how to attach the related entity before you persist or merge.</p>\n"},{"tags":[],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1299858924,"creation_date":1299858924,"answer_id":5275192,"question_id":2441598,"body_markdown":"I had this problem and it was caused by the second level cache:\r\n\r\n1. I persisted an entity using hibernate\r\n2. Then I deleted the row created from a separate process that didn&#39;t interact with the second level cache\r\n3. I persisted another entity with the same identifier (my identifier values are not auto-generated)\r\n\r\nHence, because the cache wasn&#39;t invalidated, hibernate assumed that it was dealing with a detached instance of the same entity.","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>I had this problem and it was caused by the second level cache:</p>\n\n<ol>\n<li>I persisted an entity using hibernate</li>\n<li>Then I deleted the row created from a separate process that didn't interact with the second level cache</li>\n<li>I persisted another entity with the same identifier (my identifier values are not auto-generated)</li>\n</ol>\n\n<p>Hence, because the cache wasn't invalidated, hibernate assumed that it was dealing with a detached instance of the same entity.</p>\n"},{"tags":[],"owner":{"account_id":161416,"reputation":1250,"user_id":382154,"accept_rate":69,"display_name":"Ammar Bozorgvar"},"comment_count":0,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1303284474,"creation_date":1303284474,"answer_id":5726918,"question_id":2441598,"body_markdown":"remove \r\n\r\n    user.setId(1);\r\nbecause it is auto generate on the DB,\r\nand continue with persist command.\r\n\r\n","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>remove </p>\n\n<pre><code>user.setId(1);\n</code></pre>\n\n<p>because it is auto generate on the DB,\nand continue with persist command.</p>\n"},{"tags":[],"owner":{"account_id":1630560,"reputation":51,"user_id":1505214,"display_name":"haripriya"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1341522520,"creation_date":1341522520,"answer_id":11352590,"question_id":2441598,"body_markdown":"I know its kind of too late and proly every one got the answer. But little bit more to add to this: when GenerateType is set, persist() on an object is expected to get an id generated.\r\n\r\nIf there is a value set to the Id by user already, hibernate treats it as saved record and so it is treated as detached.\r\n\r\nif the id is null - in this situation a null pointer exception is raised when the type is AUTO or IDENTITY etc unless the id is generated from a table or a sequece etc.\r\n\r\ndesign: this happens when the table has a bean property as primary key.\r\nGenerateType must be set only when an id is autogenerated.\r\nremove this and the insert should work with the user specified id.\r\n(it is a bad design to have a property mapped to primary key field)","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>I know its kind of too late and proly every one got the answer. But little bit more to add to this: when GenerateType is set, persist() on an object is expected to get an id generated.</p>\n\n<p>If there is a value set to the Id by user already, hibernate treats it as saved record and so it is treated as detached.</p>\n\n<p>if the id is null - in this situation a null pointer exception is raised when the type is AUTO or IDENTITY etc unless the id is generated from a table or a sequece etc.</p>\n\n<p>design: this happens when the table has a bean property as primary key.\nGenerateType must be set only when an id is autogenerated.\nremove this and the insert should work with the user specified id.\n(it is a bad design to have a property mapped to primary key field)</p>\n"},{"comments":[{"owner":{"account_id":3974566,"reputation":1419,"user_id":3278064,"display_name":"Thach Van"},"score":0,"creation_date":1463522605,"post_id":11506666,"comment_id":62098947,"body_markdown":"It costed me a ton of time until I got your answer. Thank you very much!","body":"It costed me a ton of time until I got your answer. Thank you very much!"}],"tags":[],"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522516501,"creation_date":1342449667,"answer_id":11506666,"question_id":2441598,"body_markdown":"\r\nHere **.persist()** only will insert the record.If we use **.merge()** it will check is there any record exist with the current ID, If it exists, it will update otherwise it will insert a new record.","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>Here <strong>.persist()</strong> only will insert the record.If we use <strong>.merge()</strong> it will check is there any record exist with the current ID, If it exists, it will update otherwise it will insert a new record.</p>\n"},{"tags":[],"owner":{"account_id":1778290,"reputation":111,"user_id":1621603,"display_name":"Sergio Ord&#243;&#241;ez"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1349453050,"creation_date":1345783789,"answer_id":12103298,"question_id":2441598,"body_markdown":"if you use to generate the `id = GenerationType.AUTO` strategy in your entity.\r\n\r\nReplaces `user.setId (1)` by `user.setId (null)`, and the problem is solved.","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>if you use to generate the <code>id = GenerationType.AUTO</code> strategy in your entity.</p>\n\n<p>Replaces <code>user.setId (1)</code> by <code>user.setId (null)</code>, and the problem is solved.</p>\n"},{"comments":[{"owner":{"account_id":4716545,"reputation":4615,"user_id":3815547,"accept_rate":81,"display_name":"s1ddok"},"score":0,"creation_date":1457718117,"post_id":35682111,"comment_id":59549767,"body_markdown":"I tried that and I know getting this error: `detached entity passed to persist`","body":"I tried that and I know getting this error: <code>detached entity passed to persist</code>"}],"tags":[],"owner":{"account_id":4477029,"reputation":3909,"user_id":3641900,"accept_rate":68,"display_name":"Nemus"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456660036,"creation_date":1456660036,"answer_id":35682111,"question_id":2441598,"body_markdown":"If you set id in your database to be primary key and autoincrement, then this line of code is wrong:  \r\n\r\n    user.setId(1);\r\n\r\nTry with this:\r\n\r\n    public static void main(String[] args){\r\n             UserBean user = new UserBean();\r\n             user.setUserName(&quot;name1&quot;);\r\n             user.setPassword(&quot;passwd1&quot;);\r\n             em.persist(user);\r\n      }","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>If you set id in your database to be primary key and autoincrement, then this line of code is wrong:  </p>\n\n<pre><code>user.setId(1);\n</code></pre>\n\n<p>Try with this:</p>\n\n<pre><code>public static void main(String[] args){\n         UserBean user = new UserBean();\n         user.setUserName(\"name1\");\n         user.setPassword(\"passwd1\");\n         em.persist(user);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4553174,"reputation":454,"user_id":15068701,"display_name":"Maksym Ovsianikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692457276,"creation_date":1692457276,"answer_id":76935736,"question_id":2441598,"body_markdown":"You can assign ID and then persist an entity, if, for example, your ID is represented by email of a user. But, to make it work, you need to make sure that your ID field doesn&#39;t have @GeneratedValue set. \r\n\r\nFor example, this code will raise an exception if you have this Entity with the email ID field and @GeneratedValue set:\r\n\r\n    public class UserEntity {\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n\r\n        ...\r\n    }\r\n\r\nand try to persist such an object:\r\n\r\n    UserEntity user = new UserEntity();\r\n    user.setEmail(email);\r\n    entityManager.getTransaction().begin();\r\n    entityManager.persist(user);\r\n    entityManager.getTransaction().commit();\r\n\r\nso, in order to make it work, you need to remove the @GeneratedValue, but keep the @ID:\r\n\r\n    public class UserEntity {\r\n        @Id\r\n        @Column(name = &quot;email&quot;)\r\n        private String email;\r\n\r\n        ...\r\n    }","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>You can assign ID and then persist an entity, if, for example, your ID is represented by email of a user. But, to make it work, you need to make sure that your ID field doesn't have @GeneratedValue set.</p>\n<p>For example, this code will raise an exception if you have this Entity with the email ID field and @GeneratedValue set:</p>\n<pre><code>public class UserEntity {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    ...\n}\n</code></pre>\n<p>and try to persist such an object:</p>\n<pre><code>UserEntity user = new UserEntity();\nuser.setEmail(email);\nentityManager.getTransaction().begin();\nentityManager.persist(user);\nentityManager.getTransaction().commit();\n</code></pre>\n<p>so, in order to make it work, you need to remove the @GeneratedValue, but keep the @ID:</p>\n<pre><code>public class UserEntity {\n    @Id\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":82500,"reputation":38454,"user_id":231917,"accept_rate":98,"display_name":"zengr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161619,"favorite_count":0,"down_vote_count":0,"up_vote_count":83,"accepted_answer_id":4905238,"answer_count":10,"score":83,"last_activity_date":1692457276,"creation_date":1268555117,"question_id":2441598,"body_markdown":"I am trying to run this basic JPA/EJB code:\r\n\r\n    public static void main(String[] args){\r\n    \t\t UserBean user = new UserBean();\r\n    \t\t user.setId(1);\r\n    \t\t user.setUserName(&quot;name1&quot;);\r\n    \t\t user.setPassword(&quot;passwd1&quot;);\r\n    \t\t em.persist(user);\r\n      }\r\n\r\n\r\nI get this error:\r\n\r\n    javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.JPA.Database\r\n\r\nAny ideas?\r\n\r\nI search on the internet and the reason I found was: \r\n\r\n&gt; This was caused by how you created the objects, i.e. If you set the ID property explicitly. Removing ID assignment fixed it.\r\n\r\nBut I didn&#39;t get it, what will I have to modify to get the code working?\r\n","title":"&quot;detached entity passed to persist error&quot; with JPA/EJB code","body":"<p>I am trying to run this basic JPA/EJB code:</p>\n\n<pre><code>public static void main(String[] args){\n         UserBean user = new UserBean();\n         user.setId(1);\n         user.setUserName(\"name1\");\n         user.setPassword(\"passwd1\");\n         em.persist(user);\n  }\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.JPA.Database\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>I search on the internet and the reason I found was: </p>\n\n<blockquote>\n  <p>This was caused by how you created the objects, i.e. If you set the ID property explicitly. Removing ID assignment fixed it.</p>\n</blockquote>\n\n<p>But I didn't get it, what will I have to modify to get the code working?</p>\n"},{"tags":["java","spring-boot","frontend","backend","angular-fullstack"],"answers":[{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692455596,"creation_date":1692455596,"answer_id":76935617,"question_id":76935245,"body_markdown":"You&#39;re running Tomcat 11, [which requires Java 21 / class version 65][1], but you&#39;re running Java 17 (class version 61).\r\n\r\nI&#39;m not sure why you are running such a new version of Tomcat but such an old version of Spring boot, my I think you have some dependencies mixed up. I&#39;d recommend removing Tomcat 11 for now since it&#39;s not officially released yet at this stage (it&#39;s 11.0.0-M10 at this time of writing)\r\n\r\n  [1]: https://tomcat.apache.org/whichversion.html","title":"Cannot access jakarta.servlet.FilterChain","body":"<p>You're running Tomcat 11, <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">which requires Java 21 / class version 65</a>, but you're running Java 17 (class version 61).</p>\n<p>I'm not sure why you are running such a new version of Tomcat but such an old version of Spring boot, my I think you have some dependencies mixed up. I'd recommend removing Tomcat 11 for now since it's not officially released yet at this stage (it's 11.0.0-M10 at this time of writing)</p>\n"}],"owner":{"account_id":29227755,"reputation":1,"user_id":22392080,"display_name":"swathi raju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692455596,"creation_date":1692450216,"question_id":76935245,"body_markdown":"I was writing an application in intellij idea using springboot.When I tried to run the program it showed cannot access jakarta.servlet.FilterChain\r\n  bad class file: /C:/Program Files/Apache Software Foundation/Tomcat 11.0/lib/servlet-api.jar!/jakarta/servlet/FilterChain.class\r\n    class file has wrong version 65.0, should be 61.0\r\n    Please remove or make sure it appears in the correct subdirectory of the classpath. I have added jakarta.servlet dependency too.I tried adding the servlet jar file to the classpath still the issue hasn&#39;t been resolved.I also trie mvn clean,install(it didn&#39;t help)This is my classpath:C:\\Program Files\\Apache Software Foundation\\Tomcat 11.0\\lib-servlet-api.jar.I have given the dependencies for your reference.\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.10&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;23.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;android-json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;9.0.78&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\nI have also enclosed the error for your reference.Let me know the solution at the earliest.Thanks in advance.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JvzPE.png","title":"Cannot access jakarta.servlet.FilterChain","body":"<p>I was writing an application in intellij idea using springboot.When I tried to run the program it showed cannot access jakarta.servlet.FilterChain\nbad class file: /C:/Program Files/Apache Software Foundation/Tomcat 11.0/lib/servlet-api.jar!/jakarta/servlet/FilterChain.class\nclass file has wrong version 65.0, should be 61.0\nPlease remove or make sure it appears in the correct subdirectory of the classpath. I have added jakarta.servlet dependency too.I tried adding the servlet jar file to the classpath still the issue hasn't been resolved.I also trie mvn clean,install(it didn't help)This is my classpath:C:\\Program Files\\Apache Software Foundation\\Tomcat 11.0\\lib-servlet-api.jar.I have given the dependencies for your reference.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n        &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n        &lt;version&gt;5.5.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.pdfbox&lt;/groupId&gt;\n        &lt;artifactId&gt;pdfbox&lt;/artifactId&gt;\n        &lt;version&gt;2.0.4&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;23.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n        &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;version&gt;2.10.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vaadin.external.google&lt;/groupId&gt;\n        &lt;artifactId&gt;android-json&lt;/artifactId&gt;\n        &lt;version&gt;0.0.20131108.vaadin1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;5.0.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n        &lt;version&gt;9.0.78&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have also enclosed the error for your reference.Let me know the solution at the earliest.Thanks in advance.<a href=\"https://i.stack.imgur.com/JvzPE.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","typeerror"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":3,"creation_date":1449699643,"post_id":34190089,"comment_id":56126575,"body_markdown":"Did you import the class?","body":"Did you import the class?"},{"owner":{"account_id":1393384,"reputation":6371,"user_id":1770601,"accept_rate":59,"display_name":"ha9u63a7"},"score":0,"creation_date":1449699671,"post_id":34190089,"comment_id":56126586,"body_markdown":"Where&#39;s import? Also you can do `private ArrayList&lt;DonorList&gt; donors;` declaration to `private List&lt;DonorList&gt; donors;` just a suggestion","body":"Where&#39;s import? Also you can do <code>private ArrayList&lt;DonorList&gt; donors;</code> declaration to <code>private List&lt;DonorList&gt; donors;</code> just a suggestion"},{"owner":{"account_id":446566,"reputation":18084,"user_id":839689,"accept_rate":71,"display_name":"Nayuki"},"score":1,"creation_date":1449699852,"post_id":34190089,"comment_id":56126676,"body_markdown":"Since you&#39;re working in Eclipse, you can hover over the red-underlined code and select the item &quot;Import &#39;ArrayList&#39; (java.util)&quot; to fix your problem.","body":"Since you&#39;re working in Eclipse, you can hover over the red-underlined code and select the item &quot;Import &#39;ArrayList&#39; (java.util)&quot; to fix your problem."},{"owner":{"account_id":7337669,"reputation":105,"user_id":5588447,"display_name":"BJustice"},"score":0,"creation_date":1449700095,"post_id":34190089,"comment_id":56126791,"body_markdown":"I do have the import statement, sorry for not including that in the example code.","body":"I do have the import statement, sorry for not including that in the example code."},{"owner":{"account_id":49167,"reputation":144581,"user_id":146325,"display_name":"APC"},"score":0,"creation_date":1449702653,"post_id":34190089,"comment_id":56127925,"body_markdown":"please **edit your question** to include all of the relevant code","body":"please <b>edit your question</b> to include all of the relevant code"}],"answers":[{"comments":[{"owner":{"account_id":7337669,"reputation":105,"user_id":5588447,"display_name":"BJustice"},"score":0,"creation_date":1449700022,"post_id":34190112,"comment_id":56126750,"body_markdown":"Yes I do have an import statement.. Sorry for not including that.","body":"Yes I do have an import statement.. Sorry for not including that."}],"tags":[],"owner":{"account_id":7322653,"reputation":467,"user_id":5578139,"display_name":"Kyle Gowen"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1449699653,"creation_date":1449699653,"answer_id":34190112,"question_id":34190089,"body_markdown":"You probably need to add an import statement.\r\n\r\n    import java.util.ArrayList;\r\n\r\nThis goes after your package declaration.  This let&#39;s the system know what an ArrayList is and what methods it has available.\r\n\r\nHope that was it!","title":"ArrayList&lt;&gt; cannot be resolved to a type","body":"<p>You probably need to add an import statement.</p>\n\n<pre><code>import java.util.ArrayList;\n</code></pre>\n\n<p>This goes after your package declaration.  This let's the system know what an ArrayList is and what methods it has available.</p>\n\n<p>Hope that was it!</p>\n"},{"tags":[],"owner":{"account_id":2652155,"reputation":28560,"user_id":2293534,"accept_rate":75,"display_name":"SkyWalker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487696138,"creation_date":1487696138,"answer_id":42373401,"question_id":34190089,"body_markdown":"For auto importing in Eclipse IDE, you should press &lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;O&lt;/kbd&gt; \r\n\r\n**Resource Link:** https://stackoverflow.com/a/11065545/2293534","title":"ArrayList&lt;&gt; cannot be resolved to a type","body":"<p>For auto importing in Eclipse IDE, you should press <kbd>Shift</kbd>+<kbd>Ctrl</kbd>+<kbd>O</kbd> </p>\n\n<p><strong>Resource Link:</strong> <a href=\"https://stackoverflow.com/a/11065545/2293534\">https://stackoverflow.com/a/11065545/2293534</a></p>\n"},{"tags":[],"owner":{"account_id":14248629,"reputation":281,"user_id":10292838,"display_name":"N.Neupane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574300701,"creation_date":1574300701,"answer_id":58966023,"question_id":34190089,"body_markdown":"Hello you have made a lot of mistakes. \r\n\r\n1) There is dot after import.\r\n2) No main method\r\n\r\nand many other.\r\n\r\nThough I have corrected all of them . Hope this finally works. \r\n\r\n\r\n\r\n\r\n    import java.util.ArrayList; \r\n    \r\n    public class Campaign {\r\n        private String candidateName;\r\n        private ArrayList&lt;String&gt; donors;\r\n    \r\n        \r\n        public Campaign(String name, ArrayList&lt;String&gt; a1) {\r\n        \tcandidateName = name;\r\n        \tdonors = a1;\r\n    \t\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n        \t\r\n        \tArrayList &lt;String&gt; aa = new ArrayList &lt;String&gt;();\r\n        \taa.add(&quot;Ram&quot;);\r\n        \taa.add(&quot;Sita&quot;);\r\n    \r\n        \tCampaign obj = new Campaign(&quot;Nischal&quot;,aa);\r\n        \tSystem.out.println(obj.candidateName + &quot; &quot;+ obj.donors);\r\n    \r\n      \r\n        }\r\n\r\n  ","title":"ArrayList&lt;&gt; cannot be resolved to a type","body":"<p>Hello you have made a lot of mistakes. </p>\n\n<p>1) There is dot after import.\n2) No main method</p>\n\n<p>and many other.</p>\n\n<p>Though I have corrected all of them . Hope this finally works. </p>\n\n<pre><code>import java.util.ArrayList; \n\npublic class Campaign {\n    private String candidateName;\n    private ArrayList&lt;String&gt; donors;\n\n\n    public Campaign(String name, ArrayList&lt;String&gt; a1) {\n        candidateName = name;\n        donors = a1;\n\n    }\n\n    public static void main(String[] args) {\n\n        ArrayList &lt;String&gt; aa = new ArrayList &lt;String&gt;();\n        aa.add(\"Ram\");\n        aa.add(\"Sita\");\n\n        Campaign obj = new Campaign(\"Nischal\",aa);\n        System.out.println(obj.candidateName + \" \"+ obj.donors);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29057691,"reputation":1,"user_id":22259123,"display_name":"Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692455303,"creation_date":1692455303,"answer_id":76935591,"question_id":34190089,"body_markdown":"You shouldn&#39;t use a dot after the import keyword, you should write it as\r\n\r\n    import java.util.ArrayList;\r\n\r\nif it doesn&#39;t work even after this correction, then it&#39;s probably because of a bug in your editor.\r\njust close your code editor and reopen it, then the import statement will work fine.\r\n","title":"ArrayList&lt;&gt; cannot be resolved to a type","body":"<p>You shouldn't use a dot after the import keyword, you should write it as</p>\n<pre><code>import java.util.ArrayList;\n</code></pre>\n<p>if it doesn't work even after this correction, then it's probably because of a bug in your editor.\njust close your code editor and reopen it, then the import statement will work fine.</p>\n"}],"owner":{"account_id":7337669,"reputation":105,"user_id":5588447,"display_name":"BJustice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56559,"favorite_count":0,"down_vote_count":3,"up_vote_count":11,"answer_count":4,"score":8,"last_activity_date":1692455303,"creation_date":1449699572,"question_id":34190089,"body_markdown":"I am struggling with a homework assignment in my java course.  The problem I am having is with constructing instance data.  My professor has given us a video to watch and I am following each step, but Eclipse is saying that my ArrayList&lt;Donor&gt; cannot be resolved to a type.\r\n\r\n    import.java.util.ArrayList;\r\n\r\n    public class Campaign {\r\n\r\n\t\tprivate String candidateName;\r\n\t\tprivate ArrayList&lt;DonorList&gt; donors;\r\n\t\t\r\n\t\tpublic Campaign(String  name)\r\n\t\t{\r\n\t\t\t//TODO Initialize all of the instance data\r\n\t\t\tcandidateName = name;\r\n\t\t    donors = new ArrayList&lt;DonorList&gt;();\r\n\t\t}\r\n\r\n\r\n\r\nAny and all help is appreciated.","title":"ArrayList&lt;&gt; cannot be resolved to a type","body":"<p>I am struggling with a homework assignment in my java course.  The problem I am having is with constructing instance data.  My professor has given us a video to watch and I am following each step, but Eclipse is saying that my ArrayList cannot be resolved to a type.</p>\n\n<pre><code>import.java.util.ArrayList;\n\npublic class Campaign {\n\n    private String candidateName;\n    private ArrayList&lt;DonorList&gt; donors;\n\n    public Campaign(String  name)\n    {\n        //TODO Initialize all of the instance data\n        candidateName = name;\n        donors = new ArrayList&lt;DonorList&gt;();\n    }\n</code></pre>\n\n<p>Any and all help is appreciated.</p>\n"},{"tags":["java","android","image"],"comments":[{"owner":{"account_id":8153562,"reputation":23731,"user_id":6139861,"display_name":"rafsanahmad007"},"score":0,"creation_date":1481891096,"post_id":41184166,"comment_id":69568369,"body_markdown":"you have to load your bitmap efficiently according to scren sizes..see this https://developer.android.com/training/displaying-bitmaps/load-bitmap.html","body":"you have to load your bitmap efficiently according to scren sizes..see this <a href=\"https://developer.android.com/training/displaying-bitmaps/load-bitmap.html\" rel=\"nofollow noreferrer\">developer.android.com/training/displaying-bitmaps/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2060115,"reputation":508,"user_id":1836897,"display_name":"Rasmusob"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481892608,"creation_date":1481892608,"answer_id":41184818,"question_id":41184166,"body_markdown":"It sounds like you are either caching too many files in RAM or instantiating the same bitmaps and videos over and over until you run out of memory.\r\n\r\nYou should not write your own image loading and caching code on Android in 2016 unless you have unusual requirements. Use one of the libraries that have solved this problem. See https://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide for more guidance.","title":"java.lang.OutOfMemoryError: Failed to allocate a allocation until OOM","body":"<p>It sounds like you are either caching too many files in RAM or instantiating the same bitmaps and videos over and over until you run out of memory.</p>\n\n<p>You should not write your own image loading and caching code on Android in 2016 unless you have unusual requirements. Use one of the libraries that have solved this problem. See <a href=\"https://stackoverflow.com/questions/29363321/picasso-v-s-imageloader-v-s-fresco-vs-glide\">Picasso v/s Imageloader v/s Fresco vs Glide</a> for more guidance.</p>\n"},{"comments":[{"owner":{"account_id":1254678,"reputation":517,"user_id":1214403,"accept_rate":53,"display_name":"venkat"},"score":2,"creation_date":1630889609,"post_id":44332261,"comment_id":122070323,"body_markdown":"Why should hardwareAccelerated to be false?","body":"Why should hardwareAccelerated to be false?"},{"owner":{"account_id":8110518,"reputation":3386,"user_id":6110783,"accept_rate":78,"display_name":"Ben"},"score":0,"creation_date":1661529139,"post_id":44332261,"comment_id":129801537,"body_markdown":"hardwareAccelerated = false will impact animations, shadows, and elevation and make them look bad.","body":"hardwareAccelerated = false will impact animations, shadows, and elevation and make them look bad."},{"owner":{"account_id":17732886,"reputation":547,"user_id":12875014,"display_name":"Abdulrahman Hasanato"},"score":0,"creation_date":1682488488,"post_id":44332261,"comment_id":134221957,"body_markdown":"As I heard, the largeHeap isn&#39;t recommended as it can cause other issues and is not a permanent solution.","body":"As I heard, the largeHeap isn&#39;t recommended as it can cause other issues and is not a permanent solution."}],"tags":[],"owner":{"account_id":5197618,"reputation":3780,"user_id":4158261,"accept_rate":45,"display_name":"Narendra Sorathiya"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1496416597,"creation_date":1496416597,"answer_id":44332261,"question_id":41184166,"body_markdown":"Simple Solution which I found is,\r\nAdd `hardwareAccelerated` &amp; `largeHeap` under `application` `AndroidManifest.xml`\r\n\r\n    &lt;application\r\n         android:allowBackup=&quot;true&quot;\r\n         android:hardwareAccelerated=&quot;false&quot;\r\n         android:icon=&quot;@mipmap/ic_launcher&quot;\r\n         android:label=&quot;@string/app_name&quot;\r\n         android:largeHeap=&quot;true&quot;\r\n         android:supportsRtl=&quot;true&quot;\r\n         android:theme=&quot;@style/AppTheme&quot;&gt;","title":"java.lang.OutOfMemoryError: Failed to allocate a allocation until OOM","body":"<p>Simple Solution which I found is,\nAdd <code>hardwareAccelerated</code> &amp; <code>largeHeap</code> under <code>application</code> <code>AndroidManifest.xml</code></p>\n\n<pre><code>&lt;application\n     android:allowBackup=\"true\"\n     android:hardwareAccelerated=\"false\"\n     android:icon=\"@mipmap/ic_launcher\"\n     android:label=\"@string/app_name\"\n     android:largeHeap=\"true\"\n     android:supportsRtl=\"true\"\n     android:theme=\"@style/AppTheme\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11384585,"reputation":336,"user_id":8362967,"display_name":"LEGEND MORTAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514301700,"creation_date":1514299841,"answer_id":47980191,"question_id":41184166,"body_markdown":"This is happening because of large size image. Try with small size image i.e. of your phone screen resolution.\r\n\r\nI had the same problem. Tried reducing the image size in Paint with 2100 x 1300 px and it worked but the app was lagging very much.","title":"java.lang.OutOfMemoryError: Failed to allocate a allocation until OOM","body":"<p>This is happening because of large size image. Try with small size image i.e. of your phone screen resolution.</p>\n\n<p>I had the same problem. Tried reducing the image size in Paint with 2100 x 1300 px and it worked but the app was lagging very much.</p>\n"},{"tags":[],"owner":{"account_id":5571668,"reputation":852,"user_id":9196699,"display_name":"Wajid khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545811581,"creation_date":1517229000,"answer_id":48501311,"question_id":41184166,"body_markdown":"It&#39;s a common error when you dealing with `Bitmap` so add this line in `AndroidManifest.xml`:\r\n`android:largeHeap=&quot;true&quot;`\r\n\r\n     &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:largeHeap=&quot;true&quot;\r\n            android:hardwareAccelerated=&quot;false&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n\r\n\r\nHope it will be helpful.\r\n ","title":"java.lang.OutOfMemoryError: Failed to allocate a allocation until OOM","body":"<p>It's a common error when you dealing with <code>Bitmap</code> so add this line in <code>AndroidManifest.xml</code>:\n<code>android:largeHeap=\"true\"</code></p>\n\n<pre><code> &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:largeHeap=\"true\"\n        android:hardwareAccelerated=\"false\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n</code></pre>\n\n<p>Hope it will be helpful.</p>\n"}],"owner":{"account_id":9120682,"reputation":97,"user_id":6786188,"accept_rate":80,"display_name":"NatheemYousf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39841,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":44332261,"answer_count":4,"score":5,"last_activity_date":1692454933,"creation_date":1481890384,"question_id":41184166,"body_markdown":"Actually, I am trying to create a app with n number of multimedia files which includes images and videos. My apps size is around `34MB`, and my assets size is around `60mb`. While I am loading the app in normal devices we are not facing any problem, But the devices having `2K resolutions` such as `Nexus 6P, HTC, LG` etc., the apps get crash in the middle of the process with the error &quot;Out Of Memory&quot;. \nI have produced the error report with this. I have tried to bitmap factory also.\nAt the same time I am using videos in array method.\n\nCan anyone help with this issue?\n\n\n&gt; FATAL EXCEPTION: main Process: com.example.we.appname, PID: 9353 \n&gt;\n&gt;   java.lang.OutOfMemoryError: Failed to allocate a 1660396 byte allocation with 1243880 free bytes and 1214KB until OOM at dalvik.system.VMRuntime.newNonMovableArray(Native Method) at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method) at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:620) at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:455) at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:1155) at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:720) at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571) at android.content.res.Resources.loadDrawable(Resources.java:858) at android.content.res.TypedArray.getDrawable(TypedArray.java:928) at android.graphics.drawable.AnimationDrawable.inflateChildElements(AnimationDrawable.java:327) at android.graphics.drawable.AnimationDrawable.inflate(AnimationDrawable.java:297) at android.graphics.drawable.DrawableInflater.inflateFromXml(DrawableInflater.java:130) at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1227) at android.graphics.drawable.Drawable.createFromXml(Drawable.java:1200) at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:715) at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571) at android.content.res.Resources.getDrawable(Resources.java:771) at android.content.Context.getDrawable(Context.java:525) at android.view.View.setBackgroundResource(View.java:18228) at com.example.kq.meettheshps.Score_Card.onCreate(Score_Card.java:58) at android.app.Activity.performCreate(Activity.java:6679) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726) at android.app.ActivityThread.-wrap12(ActivityThread.java) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.app.ActivityThread.main(ActivityThread.java:6119) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)","title":"java.lang.OutOfMemoryError: Failed to allocate a allocation until OOM","body":"<p>Actually, I am trying to create a app with n number of multimedia files which includes images and videos. My apps size is around <code>34MB</code>, and my assets size is around <code>60mb</code>. While I am loading the app in normal devices we are not facing any problem, But the devices having <code>2K resolutions</code> such as <code>Nexus 6P, HTC, LG</code> etc., the apps get crash in the middle of the process with the error &quot;Out Of Memory&quot;.\nI have produced the error report with this. I have tried to bitmap factory also.\nAt the same time I am using videos in array method.</p>\n<p>Can anyone help with this issue?</p>\n<blockquote>\n<p>FATAL EXCEPTION: main Process: com.example.we.appname, PID: 9353</p>\n<p>java.lang.OutOfMemoryError: Failed to allocate a 1660396 byte allocation with 1243880 free bytes and 1214KB until OOM at dalvik.system.VMRuntime.newNonMovableArray(Native Method) at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method) at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:620) at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:455) at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:1155) at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:720) at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571) at android.content.res.Resources.loadDrawable(Resources.java:858) at android.content.res.TypedArray.getDrawable(TypedArray.java:928) at android.graphics.drawable.AnimationDrawable.inflateChildElements(AnimationDrawable.java:327) at android.graphics.drawable.AnimationDrawable.inflate(AnimationDrawable.java:297) at android.graphics.drawable.DrawableInflater.inflateFromXml(DrawableInflater.java:130) at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:1227) at android.graphics.drawable.Drawable.createFromXml(Drawable.java:1200) at android.content.res.ResourcesImpl.loadDrawableForCookie(ResourcesImpl.java:715) at android.content.res.ResourcesImpl.loadDrawable(ResourcesImpl.java:571) at android.content.res.Resources.getDrawable(Resources.java:771) at android.content.Context.getDrawable(Context.java:525) at android.view.View.setBackgroundResource(View.java:18228) at com.example.kq.meettheshps.Score_Card.onCreate(Score_Card.java:58) at android.app.Activity.performCreate(Activity.java:6679) at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118) at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618) at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726) at android.app.ActivityThread.-wrap12(ActivityThread.java) at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477) at android.os.Handler.dispatchMessage(Handler.java:102) at android.os.Looper.loop(Looper.java:154) at android.app.ActivityThread.main(ActivityThread.java:6119) at java.lang.reflect.Method.invoke(Native Method) at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886) at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)</p>\n</blockquote>\n"},{"tags":["java","math","equation","polynomial-math","equation-solving"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1511808659,"post_id":47517741,"comment_id":81991799,"body_markdown":"Your equation `103x^5 - 5x^4 - 5x^3 - 5x^2 - 5x - 105=0` is a polynomial equation, not an exponential equation.","body":"Your equation <code>103x^5 - 5x^4 - 5x^3 - 5x^2 - 5x - 105=0</code> is a polynomial equation, not an exponential equation."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1511808773,"post_id":47517741,"comment_id":81991859,"body_markdown":"It&#39;s been proven that a degree five polynomial has no general closed-form solution.  You&#39;re going to have to choose a numeric method.  There&#39;s plenty of information about this out there - you just may have to search a little.","body":"It&#39;s been proven that a degree five polynomial has no general closed-form solution.  You&#39;re going to have to choose a numeric method.  There&#39;s plenty of information about this out there - you just may have to search a little."},{"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"score":0,"creation_date":1511809101,"post_id":47517741,"comment_id":81992022,"body_markdown":"Apache Commons has an implementation of Brent&#39;s Method for root finding.  See: http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/solvers/BrentSolver.html","body":"Apache Commons has an implementation of Brent&#39;s Method for root finding.  See: <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/analysis/solvers/BrentSolver.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-math/javadocs/api-3.3/org/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1511809340,"post_id":47517888,"comment_id":81992119,"body_markdown":"The qunitinc equation can indeed not be solved by radicals, and there are specific numerical methods much more efficient than graphing and zooming.","body":"The qunitinc equation can indeed not be solved by radicals, and there are specific numerical methods much more efficient than graphing and zooming."}],"tags":[],"owner":{"account_id":27553,"reputation":15767,"user_id":72858,"accept_rate":94,"display_name":"CodeMonkey1313"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511808812,"creation_date":1511808812,"answer_id":47517888,"question_id":47517741,"body_markdown":"You would need to determine if your equation can be solved using [radicals][1], and if so, you could try implementing that algorithm. Otherwise, you could try taking the TI-82 graphing calculator approach of &quot;visualizing&quot; the equation in code (iterating at a &quot;sufficiently&quot; small grain), watching for an inflection from positive to negative (or vice versa), or a point where the equation hits zero exactly, and approximating down to find a close enough value. However, in reading up on Quintic Functions, it seems there may not be a great formulaic solution to this problem (at least not one that my math capabilities can fathom).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Quintic_function","title":"Solving polynomial equation in Java","body":"<p>You would need to determine if your equation can be solved using <a href=\"https://en.wikipedia.org/wiki/Quintic_function\" rel=\"nofollow noreferrer\">radicals</a>, and if so, you could try implementing that algorithm. Otherwise, you could try taking the TI-82 graphing calculator approach of \"visualizing\" the equation in code (iterating at a \"sufficiently\" small grain), watching for an inflection from positive to negative (or vice versa), or a point where the equation hits zero exactly, and approximating down to find a close enough value. However, in reading up on Quintic Functions, it seems there may not be a great formulaic solution to this problem (at least not one that my math capabilities can fathom).</p>\n"},{"tags":[],"owner":{"display_name":"user1196549"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511809270,"creation_date":1511808911,"answer_id":47517923,"question_id":47517741,"body_markdown":"The computation of the interest rate from the price is known to be a problem without a closed-form solution (for `N&gt;4`).\r\n\r\nUsing the summation formula for geometric progressions, the equation spells\r\n\r\n    ((1+r)^N - 1) / r = R\r\n\r\nwhich amounts to finding the roots of a polynomial of degree `N`. You could use a polynomial solver, but here Netwon&#39;s method is more appropriate.\r\n\r\nThe function to be cancelled is\r\n\r\n    (1+r)^N - 1 - R r\r\n\r\nand its derivative on `r`,\r\n\r\n    N(1+r)^(N-1) - R.\r\n\r\nThe rate that would correspond to simple interest, `R/N`, can be a good starting value.","title":"Solving polynomial equation in Java","body":"<p>The computation of the interest rate from the price is known to be a problem without a closed-form solution (for <code>N&gt;4</code>).</p>\n\n<p>Using the summation formula for geometric progressions, the equation spells</p>\n\n<pre><code>((1+r)^N - 1) / r = R\n</code></pre>\n\n<p>which amounts to finding the roots of a polynomial of degree <code>N</code>. You could use a polynomial solver, but here Netwon's method is more appropriate.</p>\n\n<p>The function to be cancelled is</p>\n\n<pre><code>(1+r)^N - 1 - R r\n</code></pre>\n\n<p>and its derivative on <code>r</code>,</p>\n\n<pre><code>N(1+r)^(N-1) - R.\n</code></pre>\n\n<p>The rate that would correspond to simple interest, <code>R/N</code>, can be a good starting value.</p>\n"},{"tags":[],"owner":{"account_id":6710967,"reputation":17723,"user_id":5174436,"accept_rate":50,"display_name":"Matthew McPeak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1511816434,"creation_date":1511816434,"answer_id":47519719,"question_id":47517741,"body_markdown":"Here is code that does it using the implementation of Brent&#39;s Method for root finding (from Apache Commons).  It will print any roots between -10000 and +10000.  It may not work for functions having multiple roots less than `intervalSize` (0.01) apart (yours is not such a function).\r\n\r\n    package sandbox;\r\n    \r\n    import org.apache.commons.math3.analysis.UnivariateFunction;\r\n    import org.apache.commons.math3.analysis.solvers.BrentSolver;\r\n    \r\n    public class BrentsMethodRootFinderExample {\r\n     \r\n    \tprivate void solveit () {\r\n    \t\tBrentSolver solver = new BrentSolver();\r\n    \t\tUnivariateFunction f = new UnivariateFunction() {\r\n    \t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic double value(double x) {\r\n    \t\t\t\treturn 103*Math.pow(x, 5.0)-5*Math.pow(x, 4.0)-5*Math.pow(x, 3.0)-5*Math.pow(x, 2.0)-5*x - 105;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n            double intervalStart = -10000;\r\n            double intervalSize = 0.01;\r\n            while (intervalStart &lt; 10000) {\r\n                intervalStart+= intervalSize;\r\n                if(Math.signum(f.value(intervalStart)) != Math.signum(f.value(intervalStart+intervalSize))) {\r\n                \tSystem.out.println(&quot;x = &quot; + solver.solve(1000, f, intervalStart, intervalStart+intervalSize));\r\n                }\r\n            }\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew BrentsMethodRootFinderExample().solveit();\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nOutput: \r\n\r\n&gt; x = 1.0432004413216969","title":"Solving polynomial equation in Java","body":"<p>Here is code that does it using the implementation of Brent's Method for root finding (from Apache Commons).  It will print any roots between -10000 and +10000.  It may not work for functions having multiple roots less than <code>intervalSize</code> (0.01) apart (yours is not such a function).</p>\n\n<pre><code>package sandbox;\n\nimport org.apache.commons.math3.analysis.UnivariateFunction;\nimport org.apache.commons.math3.analysis.solvers.BrentSolver;\n\npublic class BrentsMethodRootFinderExample {\n\n    private void solveit () {\n        BrentSolver solver = new BrentSolver();\n        UnivariateFunction f = new UnivariateFunction() {\n\n            @Override\n            public double value(double x) {\n                return 103*Math.pow(x, 5.0)-5*Math.pow(x, 4.0)-5*Math.pow(x, 3.0)-5*Math.pow(x, 2.0)-5*x - 105;\n            }\n        };\n\n        double intervalStart = -10000;\n        double intervalSize = 0.01;\n        while (intervalStart &lt; 10000) {\n            intervalStart+= intervalSize;\n            if(Math.signum(f.value(intervalStart)) != Math.signum(f.value(intervalStart+intervalSize))) {\n                System.out.println(\"x = \" + solver.solve(1000, f, intervalStart, intervalStart+intervalSize));\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        new BrentsMethodRootFinderExample().solveit();\n    }\n\n\n}\n</code></pre>\n\n<p>Output: </p>\n\n<blockquote>\n  <p>x = 1.0432004413216969</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7498975,"reputation":347,"user_id":5698125,"display_name":"Francisco Javier Rojas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692454664,"creation_date":1692454664,"answer_id":76935547,"question_id":47517741,"body_markdown":"Another option for finding polynomial real roots may be using a library just programed by me.\r\n\r\nThe output using the command line version is the following:\r\n\r\n```\r\n$ java -jar ./polynomial-roots-v1.0-SNAPSHOT-all.jar -precision 15 -polynomial_coefs &quot;-105 -5 -5 -5 -5 103&quot;\r\n{ 103 * x ^ 5 - 5 * x ^ 4 - 5 * x ^ 3 - 5 * x ^ 2 - 5 * x - 105 = 0 }\r\n\r\nSolution[1]: x = 1.04320048314876\r\n\r\n```\r\n\r\nThe library can be easily included in a Java application (it is offered under lgpl license)\r\n\r\n\r\nYou can download it at:\r\n\r\n[real polynomial root calculation library download][1]\r\n\r\n\r\n  [1]: https://frojasg1.com:8443/downloads_web/downloadServletv3?file=polynomial_roots.v1.0&amp;origin=stackoverflow&amp;language=English","title":"Solving polynomial equation in Java","body":"<p>Another option for finding polynomial real roots may be using a library just programed by me.</p>\n<p>The output using the command line version is the following:</p>\n<pre><code>$ java -jar ./polynomial-roots-v1.0-SNAPSHOT-all.jar -precision 15 -polynomial_coefs &quot;-105 -5 -5 -5 -5 103&quot;\n{ 103 * x ^ 5 - 5 * x ^ 4 - 5 * x ^ 3 - 5 * x ^ 2 - 5 * x - 105 = 0 }\n\nSolution[1]: x = 1.04320048314876\n\n</code></pre>\n<p>The library can be easily included in a Java application (it is offered under lgpl license)</p>\n<p>You can download it at:</p>\n<p><a href=\"https://frojasg1.com:8443/downloads_web/downloadServletv3?file=polynomial_roots.v1.0&amp;origin=stackoverflow&amp;language=English\" rel=\"nofollow noreferrer\">real polynomial root calculation library download</a></p>\n"}],"owner":{"account_id":12106420,"reputation":1085,"user_id":8845108,"display_name":"rezan21"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47519719,"answer_count":4,"score":0,"last_activity_date":1692454664,"creation_date":1511808226,"question_id":47517741,"body_markdown":"I have the following code which gives the *price* given a certain *rate*:\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tdouble term = 5;\r\n\t\tdouble coupon = 5;\r\n\t\tdouble rate = 0.0432;\r\n\r\n        //should get the price == 103;\r\n\t\tdouble price;\r\n\r\n\t\tdouble sum = 0;\r\n\t\tfor (int i = 1; i &lt;= term; i++) {\r\n\t\t\tsum = sum + (coupon / Math.pow((1 + rate), i));\r\n\t\t}\r\n\t\r\n\t\tdouble lastAmount = (100 / Math.pow((1 + rate), (term)));\r\n\t\t\r\n\t\tprice = sum + lastAmount;\r\n\r\n\t\tSystem.out.println(&quot;price is:&quot; + price);\r\n\t}\r\n\r\nMy question is, how can I do this other way around? where the price is given and the rate is unknown.\r\nSo I figured out, it&#39;s going to be an exponential equation.\r\nwhere it should look like below:\r\n\r\n    103x^5 - 5x^4 - 5x^3 - 5x^2 - 5x - 105=0\r\n\r\nwhere `x = 1+rate`\r\n\r\nsolving the exponential equation, you get x = 1.0432 which means the rate is 0.0432 as expected.\r\n\r\nHow can I implement this in java to solve the equation.","title":"Solving polynomial equation in Java","body":"<p>I have the following code which gives the <em>price</em> given a certain <em>rate</em>:</p>\n\n<pre><code>public static void main(String[] args) {\n    double term = 5;\n    double coupon = 5;\n    double rate = 0.0432;\n\n    //should get the price == 103;\n    double price;\n\n    double sum = 0;\n    for (int i = 1; i &lt;= term; i++) {\n        sum = sum + (coupon / Math.pow((1 + rate), i));\n    }\n\n    double lastAmount = (100 / Math.pow((1 + rate), (term)));\n\n    price = sum + lastAmount;\n\n    System.out.println(\"price is:\" + price);\n}\n</code></pre>\n\n<p>My question is, how can I do this other way around? where the price is given and the rate is unknown.\nSo I figured out, it's going to be an exponential equation.\nwhere it should look like below:</p>\n\n<pre><code>103x^5 - 5x^4 - 5x^3 - 5x^2 - 5x - 105=0\n</code></pre>\n\n<p>where <code>x = 1+rate</code></p>\n\n<p>solving the exponential equation, you get x = 1.0432 which means the rate is 0.0432 as expected.</p>\n\n<p>How can I implement this in java to solve the equation.</p>\n"},{"tags":["java","graph-theory","tarjans-algorithm"],"comments":[{"owner":{"account_id":28975729,"reputation":1,"user_id":22194885,"display_name":"Abhishek kumar"},"score":0,"creation_date":1688824491,"post_id":76642739,"comment_id":135127456,"body_markdown":"Graph 1:\nArticulation Points in the Graph:\n0 2 \nGraph 2:\nArticulation Points in the Graph:\n0 4 5 6","body":"Graph 1: Articulation Points in the Graph: 0 2  Graph 2: Articulation Points in the Graph: 0 4 5 6"},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1688825636,"post_id":76642739,"comment_id":135127593,"body_markdown":"Is your graph undirected? If so, then both answers are wrong.","body":"Is your graph undirected? If so, then both answers are wrong."},{"owner":{"account_id":28975729,"reputation":1,"user_id":22194885,"display_name":"Abhishek kumar"},"score":0,"creation_date":1688825985,"post_id":76642739,"comment_id":135127629,"body_markdown":"No it is directed graph.","body":"No it is directed graph."},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1688826452,"post_id":76642739,"comment_id":135127683,"body_markdown":"Did you get your code, possibly indirectly, from https://www.geeksforgeeks.org/articulation-points-or-cut-vertices-in-a-graph/?  It looks as if you did.  The comments on that code state that it applies only to undirected graphs.","body":"Did you get your code, possibly indirectly, from <a href=\"https://www.geeksforgeeks.org/articulation-points-or-cut-vertices-in-a-graph/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>?  It looks as if you did.  The comments on that code state that it applies only to undirected graphs."},{"owner":{"account_id":28975729,"reputation":1,"user_id":22194885,"display_name":"Abhishek kumar"},"score":0,"creation_date":1688833082,"post_id":76642739,"comment_id":135128393,"body_markdown":"Code doesn&#39;t work for undirected graph. Can you share me code for directed graph?","body":"Code doesn&#39;t work for undirected graph. Can you share me code for directed graph?"}],"answers":[{"tags":[],"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692454334,"creation_date":1692454334,"answer_id":76935526,"question_id":76642739,"body_markdown":"The Tarjan algorithm works only for undirected graphs.\r\n\r\n&quot;The classic sequential algorithm for computing biconnected components in a connected undirected graph is due to John Hopcroft and Robert Tarjan&quot;  https://en.wikipedia.org/wiki/Biconnected_component\r\n\r\n&quot; A C++ program to find biconnected components in a given undirected graph&quot; https://www.geeksforgeeks.org/biconnected-components/\r\n\r\nYou are getting inconsistent results for the same, but differently specified, graph because you are mis-applying the algorithm.\r\n\r\nNote that if your graph is undirected, then there no articulation points ( you can remove any vertex and the graph remains biconnected )\r\n\r\nFYI, here are the C++ unit tests for your graph and the PathFinder graph theory library implementation of the Tarjan algrithm https://github.com/JamesBremner/PathFinder\r\n\r\n    TEST(AP_so76642739_undirected)\r\n    {\r\n        raven::graph::sGraphData gd;\r\n        gd.g.add(&quot;0&quot;, &quot;2&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;1&quot;);\r\n        gd.g.add(&quot;1&quot;, &quot;0&quot;);\r\n        gd.g.add(&quot;0&quot;, &quot;4&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;3&quot;);\r\n        gd.g.add(&quot;4&quot;, &quot;5&quot;);\r\n        gd.g.add(&quot;5&quot;, &quot;6&quot;);\r\n        gd.g.add(&quot;6&quot;, &quot;3&quot;);\r\n        raven::graph::cTarjan T;\r\n        auto vAP = T.ArticulationPoints(gd);\r\n        CHECK_EQUAL(0, vAP.size());\r\n    }\r\n    \r\n    TEST(AP_so76642739_undirected_2)\r\n    {\r\n        // define edges in a different order\r\n        raven::graph::sGraphData gd;\r\n        gd.g.add(&quot;0&quot;, &quot;4&quot;);\r\n        gd.g.add(&quot;0&quot;, &quot;2&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;1&quot;);\r\n        gd.g.add(&quot;1&quot;, &quot;0&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;3&quot;);\r\n        gd.g.add(&quot;4&quot;, &quot;5&quot;);\r\n        gd.g.add(&quot;5&quot;, &quot;6&quot;);\r\n        gd.g.add(&quot;6&quot;, &quot;3&quot;);\r\n        raven::graph::cTarjan T;\r\n        auto vAP = T.ArticulationPoints(gd);\r\n        CHECK_EQUAL(0, vAP.size());\r\n    }\r\n    \r\n    TEST(AP_so76642739_directed)\r\n    {\r\n        raven::graph::sGraphData gd;\r\n        gd.g.directed();\r\n        gd.g.add(&quot;0&quot;, &quot;2&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;1&quot;);\r\n        gd.g.add(&quot;1&quot;, &quot;0&quot;);\r\n        gd.g.add(&quot;0&quot;, &quot;4&quot;);\r\n        gd.g.add(&quot;2&quot;, &quot;3&quot;);\r\n        gd.g.add(&quot;4&quot;, &quot;5&quot;);\r\n        gd.g.add(&quot;5&quot;, &quot;6&quot;);\r\n        gd.g.add(&quot;6&quot;, &quot;3&quot;);\r\n        raven::graph::cTarjan T;\r\n        try\r\n        {\r\n            auto vAP = T.ArticulationPoints(gd);\r\n            CHECK(false);\r\n        }\r\n        catch( ... )\r\n        {}\r\n    }","title":"Articulation Points (or Cut Vertices) in a Graph shows different result for different order of edges","body":"<p>The Tarjan algorithm works only for undirected graphs.</p>\n<p>&quot;The classic sequential algorithm for computing biconnected components in a connected undirected graph is due to John Hopcroft and Robert Tarjan&quot;  <a href=\"https://en.wikipedia.org/wiki/Biconnected_component\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Biconnected_component</a></p>\n<p>&quot; A C++ program to find biconnected components in a given undirected graph&quot; <a href=\"https://www.geeksforgeeks.org/biconnected-components/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/biconnected-components/</a></p>\n<p>You are getting inconsistent results for the same, but differently specified, graph because you are mis-applying the algorithm.</p>\n<p>Note that if your graph is undirected, then there no articulation points ( you can remove any vertex and the graph remains biconnected )</p>\n<p>FYI, here are the C++ unit tests for your graph and the PathFinder graph theory library implementation of the Tarjan algrithm <a href=\"https://github.com/JamesBremner/PathFinder\" rel=\"nofollow noreferrer\">https://github.com/JamesBremner/PathFinder</a></p>\n<pre><code>TEST(AP_so76642739_undirected)\n{\n    raven::graph::sGraphData gd;\n    gd.g.add(&quot;0&quot;, &quot;2&quot;);\n    gd.g.add(&quot;2&quot;, &quot;1&quot;);\n    gd.g.add(&quot;1&quot;, &quot;0&quot;);\n    gd.g.add(&quot;0&quot;, &quot;4&quot;);\n    gd.g.add(&quot;2&quot;, &quot;3&quot;);\n    gd.g.add(&quot;4&quot;, &quot;5&quot;);\n    gd.g.add(&quot;5&quot;, &quot;6&quot;);\n    gd.g.add(&quot;6&quot;, &quot;3&quot;);\n    raven::graph::cTarjan T;\n    auto vAP = T.ArticulationPoints(gd);\n    CHECK_EQUAL(0, vAP.size());\n}\n\nTEST(AP_so76642739_undirected_2)\n{\n    // define edges in a different order\n    raven::graph::sGraphData gd;\n    gd.g.add(&quot;0&quot;, &quot;4&quot;);\n    gd.g.add(&quot;0&quot;, &quot;2&quot;);\n    gd.g.add(&quot;2&quot;, &quot;1&quot;);\n    gd.g.add(&quot;1&quot;, &quot;0&quot;);\n    gd.g.add(&quot;2&quot;, &quot;3&quot;);\n    gd.g.add(&quot;4&quot;, &quot;5&quot;);\n    gd.g.add(&quot;5&quot;, &quot;6&quot;);\n    gd.g.add(&quot;6&quot;, &quot;3&quot;);\n    raven::graph::cTarjan T;\n    auto vAP = T.ArticulationPoints(gd);\n    CHECK_EQUAL(0, vAP.size());\n}\n\nTEST(AP_so76642739_directed)\n{\n    raven::graph::sGraphData gd;\n    gd.g.directed();\n    gd.g.add(&quot;0&quot;, &quot;2&quot;);\n    gd.g.add(&quot;2&quot;, &quot;1&quot;);\n    gd.g.add(&quot;1&quot;, &quot;0&quot;);\n    gd.g.add(&quot;0&quot;, &quot;4&quot;);\n    gd.g.add(&quot;2&quot;, &quot;3&quot;);\n    gd.g.add(&quot;4&quot;, &quot;5&quot;);\n    gd.g.add(&quot;5&quot;, &quot;6&quot;);\n    gd.g.add(&quot;6&quot;, &quot;3&quot;);\n    raven::graph::cTarjan T;\n    try\n    {\n        auto vAP = T.ArticulationPoints(gd);\n        CHECK(false);\n    }\n    catch( ... )\n    {}\n}\n</code></pre>\n"}],"owner":{"account_id":28975729,"reputation":1,"user_id":22194885,"display_name":"Abhishek kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692454334,"creation_date":1688816152,"question_id":76642739,"body_markdown":"Definition: An articulation point is a node whose removal increases the number of connected components in the graph.\r\n\r\n    import java.util.ArrayList;\r\n\r\n    public class ArticulationPoints {\r\n    static int TIME;\r\n\r\n    static void APUtil(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj, int u,\r\n                       boolean visited[], int disc[], int low[],\r\n                       int parent, boolean isAP[]) {\r\n        int children = 0;\r\n        visited[u] = true;\r\n        disc[u] = low[u] = TIME++;\r\n\r\n        for (Integer v : adj.get(u)) {\r\n            if (!visited[v]) {\r\n                children++;\r\n                APUtil(adj, v, visited, disc, low, u, isAP);\r\n                low[u] = Math.min(low[u], low[v]);\r\n\r\n                if (parent == -1 &amp;&amp; children &gt; 1)\r\n                    isAP[u] = true;\r\n                if (parent != -1 &amp;&amp; low[v] &gt;= disc[u])\r\n                    isAP[u] = true;\r\n            } else if (v != parent) {\r\n                low[u] = Math.min(low[u], disc[v]);\r\n            }\r\n        }\r\n    }\r\n\r\n    static void AP(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj, int V) {\r\n        boolean[] visited = new boolean[V];\r\n        int[] disc = new int[V];\r\n        int[] low = new int[V];\r\n        boolean[] isAP = new boolean[V];\r\n        TIME = 0;\r\n        int par = -1;\r\n\r\n        for (int u = 0; u &lt; V; u++) {\r\n            if (!visited[u]) {\r\n                APUtil(adj, u, visited, disc, low, par, isAP);\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;Articulation Points in the Graph:&quot;);\r\n        for (int u = 0; u &lt; V; u++) {\r\n            if (isAP[u]) {\r\n                System.out.print(u + &quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // Graph 1\r\n        int V1 = 7;\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj1 = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; V1; i++) {\r\n            adj1.add(new ArrayList&lt;&gt;());\r\n        }\r\n        adj1.get(0).add(2);\r\n        adj1.get(2).add(1);\r\n        adj1.get(1).add(0);\r\n        adj1.get(0).add(4);\r\n        adj1.get(2).add(3);\r\n        adj1.get(4).add(5);\r\n        adj1.get(5).add(6);\r\n        adj1.get(6).add(3);\r\n\r\n        System.out.println(&quot;Graph 1:&quot;);\r\n        AP(adj1, V1);\r\n\r\n        // Graph 2\r\n        int V2 = 7;\r\n        ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj2 = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; V2; i++) {\r\n            adj2.add(new ArrayList&lt;&gt;());\r\n        }\r\n        adj2.get(0).add(4);\r\n        adj2.get(0).add(2);\r\n        adj2.get(2).add(1);\r\n        adj2.get(1).add(0);\r\n        adj2.get(2).add(3);\r\n        adj2.get(4).add(5);\r\n        adj2.get(5).add(6);\r\n        adj2.get(6).add(3);\r\n\r\n        System.out.println(&quot;Graph 2:&quot;);\r\n        AP(adj2, V2);\r\n    }\r\n}\r\n\r\n\r\nI am trying to understand why different order of edges is giving different result?\r\nI am trying with gfg code to find articulation point. I was checking the effect of Cross edge in this case and for this graph I am not able to get correct answer.\r\n\r\n```\r\nOutput\r\nGraph 1:\r\nArticulation Points in the Graph:\r\n0 2 \r\nGraph 2:\r\nArticulation Points in the Graph:\r\n0 4 5 6 ```","title":"Articulation Points (or Cut Vertices) in a Graph shows different result for different order of edges","body":"<p>Definition: An articulation point is a node whose removal increases the number of connected components in the graph.</p>\n<pre><code>import java.util.ArrayList;\n\npublic class ArticulationPoints {\nstatic int TIME;\n\nstatic void APUtil(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj, int u,\n                   boolean visited[], int disc[], int low[],\n                   int parent, boolean isAP[]) {\n    int children = 0;\n    visited[u] = true;\n    disc[u] = low[u] = TIME++;\n\n    for (Integer v : adj.get(u)) {\n        if (!visited[v]) {\n            children++;\n            APUtil(adj, v, visited, disc, low, u, isAP);\n            low[u] = Math.min(low[u], low[v]);\n\n            if (parent == -1 &amp;&amp; children &gt; 1)\n                isAP[u] = true;\n            if (parent != -1 &amp;&amp; low[v] &gt;= disc[u])\n                isAP[u] = true;\n        } else if (v != parent) {\n            low[u] = Math.min(low[u], disc[v]);\n        }\n    }\n}\n\nstatic void AP(ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj, int V) {\n    boolean[] visited = new boolean[V];\n    int[] disc = new int[V];\n    int[] low = new int[V];\n    boolean[] isAP = new boolean[V];\n    TIME = 0;\n    int par = -1;\n\n    for (int u = 0; u &lt; V; u++) {\n        if (!visited[u]) {\n            APUtil(adj, u, visited, disc, low, par, isAP);\n        }\n    }\n\n    System.out.println(&quot;Articulation Points in the Graph:&quot;);\n    for (int u = 0; u &lt; V; u++) {\n        if (isAP[u]) {\n            System.out.print(u + &quot; &quot;);\n        }\n    }\n    System.out.println();\n}\n\npublic static void main(String[] args) {\n    // Graph 1\n    int V1 = 7;\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj1 = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; V1; i++) {\n        adj1.add(new ArrayList&lt;&gt;());\n    }\n    adj1.get(0).add(2);\n    adj1.get(2).add(1);\n    adj1.get(1).add(0);\n    adj1.get(0).add(4);\n    adj1.get(2).add(3);\n    adj1.get(4).add(5);\n    adj1.get(5).add(6);\n    adj1.get(6).add(3);\n\n    System.out.println(&quot;Graph 1:&quot;);\n    AP(adj1, V1);\n\n    // Graph 2\n    int V2 = 7;\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; adj2 = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; V2; i++) {\n        adj2.add(new ArrayList&lt;&gt;());\n    }\n    adj2.get(0).add(4);\n    adj2.get(0).add(2);\n    adj2.get(2).add(1);\n    adj2.get(1).add(0);\n    adj2.get(2).add(3);\n    adj2.get(4).add(5);\n    adj2.get(5).add(6);\n    adj2.get(6).add(3);\n\n    System.out.println(&quot;Graph 2:&quot;);\n    AP(adj2, V2);\n}\n</code></pre>\n<p>}</p>\n<p>I am trying to understand why different order of edges is giving different result?\nI am trying with gfg code to find articulation point. I was checking the effect of Cross edge in this case and for this graph I am not able to get correct answer.</p>\n<pre><code>Output\nGraph 1:\nArticulation Points in the Graph:\n0 2 \nGraph 2:\nArticulation Points in the Graph:\n0 4 5 6 ```\n</code></pre>\n"},{"tags":["java","arrays","if-statement","multidimensional-array","while-loop"],"owner":{"account_id":27913834,"reputation":11,"user_id":21315417,"display_name":"Takeshi DBXV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692454203,"creation_date":1688004294,"question_id":76577655,"body_markdown":"Sorry for the confusing title. To be clear, I&#39;m trying to:\r\n1. Get user input (ex: x = 10)\r\n2. &quot;filter&quot; the input through range limits (ex: {0, 5, 11, 16, 20})\r\n3. Assign the while-loop control variable to **x** based on how &quot;deep&quot; into the array it gets (ex: loops thrice since &#39;x&#39; is greater than 5 but not 11, so x = 3)\r\n4. Use that value to retrieve a 2D Array value (ex: pricing[0][x] = 1) \r\n\r\nThe issues arise as well... it doesn&#39;t work as intended. The program only outputs &quot;1&quot; no matter what I enter for the quantity. Below is the code I used. I can provide anything missing\r\n\r\n```\r\n//Main.java\r\n    public static void orderMenu(Orders ord) {\r\n        Scanner uIn = new Scanner(System.in);\r\n        int sAmt = 0;\r\n        int mAmt = 0;\r\n        int lAmt = 0;\r\n        int x = 0;\r\n        //Placeholder Function until I can think of something better\r\n        while(x != 4){\r\n            x = uIn.nextInt();\r\n            System.out.print(&quot;Enter amount desired: &quot;);\r\n            if(x == 4){\r\n                break;\r\n            }\r\n            //This function will stack on the amounts the user enters\r\n            switch(x){\r\n                case 1:\r\n                    sAmt += uIn.nextInt();\r\n                    break;\r\n                case 2:\r\n                    mAmt += uIn.nextInt();\r\n                    break;\r\n                case 3:\r\n                    lAmt += uIn.nextInt();\r\n                    break;\r\n            }\r\n            //Prints the list out again\r\n            System.out.print(pList); //I removed this from the snip since it is gargantuan\r\n        }\r\n        //Calls Orders.java and calculates prices\r\n        ord.setSmall(sAmt);\r\n        ord.setMed(mAmt);\r\n        ord.setLarge(lAmt);\r\n        System.out.println(ord.reciept()); //Displays calculated price. Only smallPrice for now\r\n    }\r\n\r\n//Calc.java code\r\n    public String receipt(){\r\n        calculations();\r\n        String receipt = &quot;\\nDebug Price:&quot; + smallPrice;\r\n        return receipt;\r\n    }\r\n\r\n    public void calculations(){\r\n        int[] rangeLim = {0, 5, 11, 16, 20}; //limits array\r\n        int[][] pricing = {{1, 2, 3, 4, 5},     //Row 1\r\n                           {3, 6, 9, 12, 15},   //Row 2\r\n                           {5, 10, 15, 20, 25}};//Row 3\r\n        int sub = rangeLim.length - 1;\r\n        \r\n//This is where I am having trouble:\r\n\r\n        //finds the y for pricing[x][y]\r\n        while(sub &gt;= 0){\r\n            //System.out.print(sub);\r\n            if(smallOrder &gt;= rangeLim[sub]){\r\n                smallOrder = rangeLim[sub];\r\n            }\r\n            if(mediumOrder &gt;= rangeLim[sub]){\r\n                mediumOrder= rangeLim[sub];\r\n            }\r\n            if(largeOrder &gt;= rangeLim[sub]){\r\n                largeOrder = rangeLim[sub];\r\n            }\r\n            --sub;\r\n        }\r\n        \r\n        //Assigns price value to variable\r\n        smallPrice = pricing[0][smallOrder];\r\n        mediumPrice = pricing[1][mediumOrder];\r\n        largePrice = pricing[2][largeOrder];\r\n    }\r\n```\r\nI&#39;m not sure how little or much I should have included but I hope this is enough. \r\n\r\nJust to make my goal clear: If input 1, it will wait to receive input for &quot;sAmt&quot;. After typing a value such as &quot;16&quot;, it will loop again. Inputting 4 will end the loop, and I should see &quot;4&quot; or pricing[0][3]\r\n\r\nI&#39;m a little lost here.","title":"&quot;Filtering&quot; a value through range limits and retrieving a value form a 2D array using said value?","body":"<p>Sorry for the confusing title. To be clear, I'm trying to:</p>\n<ol>\n<li>Get user input (ex: x = 10)</li>\n<li>&quot;filter&quot; the input through range limits (ex: {0, 5, 11, 16, 20})</li>\n<li>Assign the while-loop control variable to <strong>x</strong> based on how &quot;deep&quot; into the array it gets (ex: loops thrice since 'x' is greater than 5 but not 11, so x = 3)</li>\n<li>Use that value to retrieve a 2D Array value (ex: pricing[0][x] = 1)</li>\n</ol>\n<p>The issues arise as well... it doesn't work as intended. The program only outputs &quot;1&quot; no matter what I enter for the quantity. Below is the code I used. I can provide anything missing</p>\n<pre><code>//Main.java\n    public static void orderMenu(Orders ord) {\n        Scanner uIn = new Scanner(System.in);\n        int sAmt = 0;\n        int mAmt = 0;\n        int lAmt = 0;\n        int x = 0;\n        //Placeholder Function until I can think of something better\n        while(x != 4){\n            x = uIn.nextInt();\n            System.out.print(&quot;Enter amount desired: &quot;);\n            if(x == 4){\n                break;\n            }\n            //This function will stack on the amounts the user enters\n            switch(x){\n                case 1:\n                    sAmt += uIn.nextInt();\n                    break;\n                case 2:\n                    mAmt += uIn.nextInt();\n                    break;\n                case 3:\n                    lAmt += uIn.nextInt();\n                    break;\n            }\n            //Prints the list out again\n            System.out.print(pList); //I removed this from the snip since it is gargantuan\n        }\n        //Calls Orders.java and calculates prices\n        ord.setSmall(sAmt);\n        ord.setMed(mAmt);\n        ord.setLarge(lAmt);\n        System.out.println(ord.reciept()); //Displays calculated price. Only smallPrice for now\n    }\n\n//Calc.java code\n    public String receipt(){\n        calculations();\n        String receipt = &quot;\\nDebug Price:&quot; + smallPrice;\n        return receipt;\n    }\n\n    public void calculations(){\n        int[] rangeLim = {0, 5, 11, 16, 20}; //limits array\n        int[][] pricing = {{1, 2, 3, 4, 5},     //Row 1\n                           {3, 6, 9, 12, 15},   //Row 2\n                           {5, 10, 15, 20, 25}};//Row 3\n        int sub = rangeLim.length - 1;\n        \n//This is where I am having trouble:\n\n        //finds the y for pricing[x][y]\n        while(sub &gt;= 0){\n            //System.out.print(sub);\n            if(smallOrder &gt;= rangeLim[sub]){\n                smallOrder = rangeLim[sub];\n            }\n            if(mediumOrder &gt;= rangeLim[sub]){\n                mediumOrder= rangeLim[sub];\n            }\n            if(largeOrder &gt;= rangeLim[sub]){\n                largeOrder = rangeLim[sub];\n            }\n            --sub;\n        }\n        \n        //Assigns price value to variable\n        smallPrice = pricing[0][smallOrder];\n        mediumPrice = pricing[1][mediumOrder];\n        largePrice = pricing[2][largeOrder];\n    }\n</code></pre>\n<p>I'm not sure how little or much I should have included but I hope this is enough.</p>\n<p>Just to make my goal clear: If input 1, it will wait to receive input for &quot;sAmt&quot;. After typing a value such as &quot;16&quot;, it will loop again. Inputting 4 will end the loop, and I should see &quot;4&quot; or pricing[0][3]</p>\n<p>I'm a little lost here.</p>\n"},{"tags":["java","spring","spring-boot","resilience4j"],"comments":[{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692439485,"post_id":76932704,"comment_id":135625392,"body_markdown":"hi Monish,  please add configurations used for Resilience4j.\nOne point to note , the method that is annotated with @CircuitBreaker should not be in the same class as the caller.","body":"hi Monish,  please add configurations used for Resilience4j. One point to note , the method that is annotated with @CircuitBreaker should not be in the same class as the caller."},{"owner":{"account_id":4761634,"reputation":13,"user_id":3848881,"display_name":"Monish"},"score":0,"creation_date":1692453808,"post_id":76932704,"comment_id":135626910,"body_markdown":"Hi Ajinkya, i have added the configurations for Resilience4j. I didnt understand the 2nd part. Do you mean that the methods annotated using @CircuitBreaker should be in a separate file?","body":"Hi Ajinkya, i have added the configurations for Resilience4j. I didnt understand the 2nd part. Do you mean that the methods annotated using @CircuitBreaker should be in a separate file?"},{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692454838,"post_id":76932704,"comment_id":135627024,"body_markdown":"getDepartmentInfo(), getOrganizationInfo() methods should be in different class","body":"getDepartmentInfo(), getOrganizationInfo() methods should be in different class"}],"owner":{"account_id":4761634,"reputation":13,"user_id":3848881,"display_name":"Monish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692454134,"creation_date":1692394812,"question_id":76932704,"body_markdown":"I am currently learning to build microservices using spring-boot. I am stuck at handling circuit breaking mechanism for a controller that calls 2 microservices. How can i handle the circuit breaking mechanism such that if one of the services fails and the other is healthy, i should get a response such that the failed microservice response is default and the other response is valid?\r\n\r\n\r\nI am using resilience4j for circuit breaking mechanism. This is my code. I shut down department service to simulate one service being down. However, I get an error with message &quot;DEPARTMENT-SERVICE executing GET &lt;&lt;ENDPOINT_OF_DEPARTMENT_SERVICE&gt;&gt;&quot; and errorCode: Internal Server Error.\r\n\r\nEverything works fine if both the services are up and running. Also, everything works fine if i add the circuit breaker annotation over the getEmployeeById method. However, doing this means that if one of the services is down, i would have to return default responses for both services despite the other service being up.\r\n\r\nNOTE: I am also using api gateway for centralized routing of the requests to various services in case this is useful information.\r\n\r\n\r\n```\r\n\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n    private EmployeeRepository employeeRepository;\r\n    private DepartmentApiClient departmentApiClient;\r\n    private OrganizationApiClient organizationApiClient;\r\n\r\n    @Override\r\n    public ApiResponseDto getEmployeeById(Long id) {\r\n        Employee employee = employeeRepository.findById(id).orElseThrow(\r\n                () -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, id)\r\n        );\r\n\r\n        DepartmentDto departmentDto = getDepartmentInfo(employee.getDepartmentCode());\r\n        OrganizationDto organizationDto = getOrganizationInfo(employee.getOrganizationCode());\r\n\r\n        ApiResponseDto apiResponseDto = new ApiResponseDto();\r\n        apiResponseDto.setDepartmentDto(departmentDto);\r\n        apiResponseDto.setEmployeeDto(AutoEmployeeMapper.MAPPER.mapToEmployeeDto(employee));\r\n        apiResponseDto.setOrganizationDto(organizationDto);\r\n        return apiResponseDto;\r\n    }\r\n   \r\n    @CircuitBreaker(name = &quot;DEPARTMENT-SERVICE&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\r\n    public DepartmentDto getDepartmentInfo(String departmentCode) {\r\n        return departmentApiClient.getDepartmentByCode(departmentCode);\r\n    }\r\n\r\n    @CircuitBreaker(name = &quot;ORGANIZATION-SERVICE&quot;, fallbackMethod = &quot;getDefaultOrganization&quot;)\r\n    public OrganizationDto getOrganizationInfo(String organizationCode) {\r\n        return organizationApiClient.getOrganizationByCode(organizationCode);\r\n    }\r\n\r\n    public DepartmentDto getDefaultDepartment(Exception ex) {\r\n        DepartmentDto defaultDepartment = new DepartmentDto();\r\n        defaultDepartment.setDepartmentCode(&quot;DEFAULT&quot;);\r\n        defaultDepartment.setDepartmentName(&quot;DEFAULT DEPARTMENT&quot;);\r\n        defaultDepartment.setDepartmentDescription(&quot;Default Department&quot;);\r\n        return defaultDepartment;\r\n    }\r\n\r\n    public OrganizationDto getDefaultOrganization(Exception ex) {\r\n        OrganizationDto defaultOrganization = new OrganizationDto();\r\n        defaultOrganization.setOrganizationCode(&quot;DEFAULT&quot;);\r\n        defaultOrganization.setOrganizationName(&quot;DEFAULT ORG&quot;);\r\n        defaultOrganization.setOrganizationDescription(&quot;Default Organization&quot;);\r\n        return defaultOrganization;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis are the properties for circuit breaker in application.properties file.\r\n```\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.failureRateThreshold=50\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.minimumNumberOfCalls=5\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.waitDurationInOpenState=5s\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.permittedNumberOfCallsInHalfOpenState=3\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowType=COUNT_BASED\r\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowSize=10\r\n```\r\n\r\nI am not sure if the circuit breaker configurations for the other services should also be here or not. But i tried to run it using the same configuration for the other services as well like the properties below\r\n```\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.registerHealthIndicator=true\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.failureRateThreshold=50\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.minimumNumberOfCalls=5\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.waitDurationInOpenState=5s\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.permittedNumberOfCallsInHalfOpenState=3\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.slidingWindowType=COUNT_BASED\r\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.slidingWindowSize=10\r\n\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.registerHealthIndicator=true\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.failureRateThreshold=50\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.minimumNumberOfCalls=5\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.waitDurationInOpenState=5s\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.permittedNumberOfCallsInHalfOpenState=3\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.slidingWindowType=COUNT_BASED\r\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.slidingWindowSize=10\r\n```","title":"How to handle circuit breaking mechanism for a single endpoint that calls multiple microservices","body":"<p>I am currently learning to build microservices using spring-boot. I am stuck at handling circuit breaking mechanism for a controller that calls 2 microservices. How can i handle the circuit breaking mechanism such that if one of the services fails and the other is healthy, i should get a response such that the failed microservice response is default and the other response is valid?</p>\n<p>I am using resilience4j for circuit breaking mechanism. This is my code. I shut down department service to simulate one service being down. However, I get an error with message &quot;DEPARTMENT-SERVICE executing GET &lt;&lt;ENDPOINT_OF_DEPARTMENT_SERVICE&gt;&gt;&quot; and errorCode: Internal Server Error.</p>\n<p>Everything works fine if both the services are up and running. Also, everything works fine if i add the circuit breaker annotation over the getEmployeeById method. However, doing this means that if one of the services is down, i would have to return default responses for both services despite the other service being up.</p>\n<p>NOTE: I am also using api gateway for centralized routing of the requests to various services in case this is useful information.</p>\n<pre><code>\npublic class EmployeeServiceImpl implements EmployeeService {\n    private EmployeeRepository employeeRepository;\n    private DepartmentApiClient departmentApiClient;\n    private OrganizationApiClient organizationApiClient;\n\n    @Override\n    public ApiResponseDto getEmployeeById(Long id) {\n        Employee employee = employeeRepository.findById(id).orElseThrow(\n                () -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, id)\n        );\n\n        DepartmentDto departmentDto = getDepartmentInfo(employee.getDepartmentCode());\n        OrganizationDto organizationDto = getOrganizationInfo(employee.getOrganizationCode());\n\n        ApiResponseDto apiResponseDto = new ApiResponseDto();\n        apiResponseDto.setDepartmentDto(departmentDto);\n        apiResponseDto.setEmployeeDto(AutoEmployeeMapper.MAPPER.mapToEmployeeDto(employee));\n        apiResponseDto.setOrganizationDto(organizationDto);\n        return apiResponseDto;\n    }\n   \n    @CircuitBreaker(name = &quot;DEPARTMENT-SERVICE&quot;, fallbackMethod = &quot;getDefaultDepartment&quot;)\n    public DepartmentDto getDepartmentInfo(String departmentCode) {\n        return departmentApiClient.getDepartmentByCode(departmentCode);\n    }\n\n    @CircuitBreaker(name = &quot;ORGANIZATION-SERVICE&quot;, fallbackMethod = &quot;getDefaultOrganization&quot;)\n    public OrganizationDto getOrganizationInfo(String organizationCode) {\n        return organizationApiClient.getOrganizationByCode(organizationCode);\n    }\n\n    public DepartmentDto getDefaultDepartment(Exception ex) {\n        DepartmentDto defaultDepartment = new DepartmentDto();\n        defaultDepartment.setDepartmentCode(&quot;DEFAULT&quot;);\n        defaultDepartment.setDepartmentName(&quot;DEFAULT DEPARTMENT&quot;);\n        defaultDepartment.setDepartmentDescription(&quot;Default Department&quot;);\n        return defaultDepartment;\n    }\n\n    public OrganizationDto getDefaultOrganization(Exception ex) {\n        OrganizationDto defaultOrganization = new OrganizationDto();\n        defaultOrganization.setOrganizationCode(&quot;DEFAULT&quot;);\n        defaultOrganization.setOrganizationName(&quot;DEFAULT ORG&quot;);\n        defaultOrganization.setOrganizationDescription(&quot;Default Organization&quot;);\n        return defaultOrganization;\n    }\n}\n\n</code></pre>\n<p>This are the properties for circuit breaker in application.properties file.</p>\n<pre><code>resilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.registerHealthIndicator=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.failureRateThreshold=50\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.minimumNumberOfCalls=5\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.waitDurationInOpenState=5s\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.permittedNumberOfCallsInHalfOpenState=3\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowType=COUNT_BASED\nresilience4j.circuitbreaker.instances.EMPLOYEE-SERVICE.slidingWindowSize=10\n</code></pre>\n<p>I am not sure if the circuit breaker configurations for the other services should also be here or not. But i tried to run it using the same configuration for the other services as well like the properties below</p>\n<pre><code>resilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.registerHealthIndicator=true\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.failureRateThreshold=50\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.minimumNumberOfCalls=5\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.waitDurationInOpenState=5s\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.permittedNumberOfCallsInHalfOpenState=3\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.slidingWindowType=COUNT_BASED\nresilience4j.circuitbreaker.instances.DEPARTMENT-SERVICE.slidingWindowSize=10\n\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.registerHealthIndicator=true\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.failureRateThreshold=50\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.minimumNumberOfCalls=5\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.automaticTransitionFromOpenToHalfOpenEnabled=true\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.waitDurationInOpenState=5s\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.permittedNumberOfCallsInHalfOpenState=3\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.slidingWindowType=COUNT_BASED\nresilience4j.circuitbreaker.instances.ORGANIZATION-SERVICE.slidingWindowSize=10\n</code></pre>\n"},{"tags":["java","ssl","websphere"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1418738364,"post_id":27505954,"comment_id":43442717,"body_markdown":"You need to add paypal servers certificate to the NodeDefaultTrustStore (for single server) or CellDefaultTrustStore (if you are running WAS ND with deployment manager).","body":"You need to add paypal servers certificate to the NodeDefaultTrustStore (for single server) or CellDefaultTrustStore (if you are running WAS ND with deployment manager)."},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1418744276,"post_id":27505954,"comment_id":43446556,"body_markdown":"Probably not. This alert comes from the server and should have nothing to do with certificate validation done by the client.","body":"Probably not. This alert comes from the server and should have nothing to do with certificate validation done by the client."},{"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"score":0,"creation_date":1418747125,"post_id":27505954,"comment_id":43448432,"body_markdown":"Should be pretty straightforward to look in a packet capture or ssldump to see how your client side handshake differs in the two servers -- client hello version, extensions, etc.  javax.net.debug=ALL would be a much more eye-busting way.  Likely candidates would be one client or the other using SSLv3 or TLSv1.2 and causing a problem","body":"Should be pretty straightforward to look in a packet capture or ssldump to see how your client side handshake differs in the two servers -- client hello version, extensions, etc.  javax.net.debug=ALL would be a much more eye-busting way.  Likely candidates would be one client or the other using SSLv3 or TLSv1.2 and causing a problem"},{"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"score":0,"creation_date":1418747883,"post_id":27505954,"comment_id":43448992,"body_markdown":"As I said, we&#39;ve already added Paypal certificate to the Websphere.\nThanks anyway @Gas.","body":"As I said, we&#39;ve already added Paypal certificate to the Websphere. Thanks anyway @Gas."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1418827295,"post_id":27505954,"comment_id":43484728,"body_markdown":"Based on Steffen info - check what protocol is set in `SSL certificate and key management &gt; SSL configurations &gt; NodeDefaultSSLSettings &gt; Quality of protection (QoP) settings`","body":"Based on Steffen info - check what protocol is set in <code>SSL certificate and key management &gt; SSL configurations &gt; NodeDefaultSSLSettings &gt; Quality of protection (QoP) settings</code>"},{"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"score":0,"creation_date":1418894440,"post_id":27505954,"comment_id":43512981,"body_markdown":"Hello @Gas. It&#39;s TLS. Set, restart and same result.","body":"Hello @Gas. It&#39;s TLS. Set, restart and same result."},{"owner":{"account_id":1528764,"reputation":809,"user_id":1426529,"accept_rate":57,"display_name":"csharpnewbie"},"score":0,"creation_date":1512140809,"post_id":27505954,"comment_id":82149966,"body_markdown":"Hi @JaimeRey - Am running into a similar issue when trying to connect to APNS. Can you pls help me with the fix you applied to solve your issue?","body":"Hi @JaimeRey - Am running into a similar issue when trying to connect to APNS. Can you pls help me with the fix you applied to solve your issue?"},{"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"score":0,"creation_date":1512385630,"post_id":27505954,"comment_id":82221521,"body_markdown":"Sorry @csharpnewbie, but it&#39;s been a while since this answer and I&#39;m now even doing the same job. Anyway, the configuration of the server was in hands of the customer&#39;s IT service and they handled the issue. I&#39;m sorry I can&#39;t help you out any more...","body":"Sorry @csharpnewbie, but it&#39;s been a while since this answer and I&#39;m now even doing the same job. Anyway, the configuration of the server was in hands of the customer&#39;s IT service and they handled the issue. I&#39;m sorry I can&#39;t help you out any more..."},{"owner":{"account_id":1528764,"reputation":809,"user_id":1426529,"accept_rate":57,"display_name":"csharpnewbie"},"score":0,"creation_date":1512401425,"post_id":27505954,"comment_id":82231416,"body_markdown":"@JaimeRey thank you for the update.","body":"@JaimeRey thank you for the update."}],"answers":[{"comments":[{"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"score":0,"creation_date":1418747908,"post_id":27508180,"comment_id":43449007,"body_markdown":"I&#39;ll review our configuration using the links you provided.\nThanks!","body":"I&#39;ll review our configuration using the links you provided. Thanks!"},{"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"score":0,"creation_date":1418815022,"post_id":27508180,"comment_id":43477286,"body_markdown":"Did you add the certificate from the endpoint in the truststore already?","body":"Did you add the certificate from the endpoint in the truststore already?"},{"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"score":0,"creation_date":1418816269,"post_id":27508180,"comment_id":43477990,"body_markdown":"See edit: your are using SSL 3.0 which is probably denied on the server.","body":"See edit: your are using SSL 3.0 which is probably denied on the server."}],"tags":[],"owner":{"account_id":3701398,"reputation":116692,"user_id":3081018,"display_name":"Steffen Ullrich"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418816235,"creation_date":1418744120,"answer_id":27508180,"question_id":27505954,"body_markdown":"&gt;  Received fatal alert: handshake_failure\r\n\r\nThis can be anything, like missing client certificate, no shared ciphers, wrong protocol version etc. But it has usually nothing to do with certificate validation.\r\n\r\nPlease check with other clients, check with SSLLabs etc to reduce the number of possible reasons. See also http://noxxi.de/howto/ssl-debugging.html#aid_external_debugging for steps you might try in debugging and which information you should collect if you need help from others. If you have more information post it here so one could hopefully find a solution for your problem.\r\n\r\nEDIT based on new information in the question:\r\n\r\n     O *** ClientHello, SSLv3\r\n     ...\r\n     O 0000: 16 03 00\r\n\r\nYou are using SSL 3.0 which can be seen from the debug messages. SSL 3.0 is blocked by most major sites because of POODLE. While you claim to use TLS1.x already this seems not to be the case according to these debugging information, so you should check your setup again.","title":"SSL handshake_failure on Websphere 8.5 (working on Tomcat)","body":"<blockquote>\n  <p>Received fatal alert: handshake_failure</p>\n</blockquote>\n\n<p>This can be anything, like missing client certificate, no shared ciphers, wrong protocol version etc. But it has usually nothing to do with certificate validation.</p>\n\n<p>Please check with other clients, check with SSLLabs etc to reduce the number of possible reasons. See also <a href=\"http://noxxi.de/howto/ssl-debugging.html#aid_external_debugging\" rel=\"nofollow\">http://noxxi.de/howto/ssl-debugging.html#aid_external_debugging</a> for steps you might try in debugging and which information you should collect if you need help from others. If you have more information post it here so one could hopefully find a solution for your problem.</p>\n\n<p>EDIT based on new information in the question:</p>\n\n<pre><code> O *** ClientHello, SSLv3\n ...\n O 0000: 16 03 00\n</code></pre>\n\n<p>You are using SSL 3.0 which can be seen from the debug messages. SSL 3.0 is blocked by most major sites because of POODLE. While you claim to use TLS1.x already this seems not to be the case according to these debugging information, so you should check your setup again.</p>\n"},{"comments":[{"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"score":0,"creation_date":1418805394,"post_id":27512096,"comment_id":43471865,"body_markdown":"Thanks @Raul Lapeira Herrero. Security level is already set at SSL_TLS, so it should be able to handle both. We&#39;ll keep investigating. Gracias! ;-)","body":"Thanks @Raul Lapeira Herrero. Security level is already set at SSL_TLS, so it should be able to handle both. We&#39;ll keep investigating. Gracias! ;-)"}],"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418756974,"creation_date":1418756974,"answer_id":27512096,"question_id":27505954,"body_markdown":"Usually in Websphere you need to import the certificate of the server you want to communicate with. If you try it by hand probably you will not import the appropiate cert in the chain so rather use &quot;retrieve from port&quot; in the admin console.\r\n\r\nAnother option is that Paypal is killing SSL due to the Poodle issue :). Raise your security level to TLS in that case in the security menu in the admin console","title":"SSL handshake_failure on Websphere 8.5 (working on Tomcat)","body":"<p>Usually in Websphere you need to import the certificate of the server you want to communicate with. If you try it by hand probably you will not import the appropiate cert in the chain so rather use \"retrieve from port\" in the admin console.</p>\n\n<p>Another option is that Paypal is killing SSL due to the Poodle issue :). Raise your security level to TLS in that case in the security menu in the admin console</p>\n"},{"tags":[],"owner":{"account_id":5289685,"reputation":346,"user_id":4222618,"accept_rate":75,"display_name":"wFateem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418890226,"creation_date":1418890226,"answer_id":27541843,"question_id":27505954,"body_markdown":"The trace shows that you received a handshake failure from the remote server. I can see that your server sent a client hello message, so you would expect to see a response with a server hello message, instead the connection ended abruptly from the other end. In these cases you would need someone from the remote side to take a look and tell you why this connection is failing. Otherwise, you&#39;re really working in the dark and you can try many different things.\r\n\r\nHowever, one thing I&#39;m noticing is that you&#39;re using SSLv3 protocol while the other end seems to be using TLSv1 protocol. I would assume an entity like Paypal is probably FIPS compliant which means they stopped using SSL protocol and only use TLS as part of being compliant. ","title":"SSL handshake_failure on Websphere 8.5 (working on Tomcat)","body":"<p>The trace shows that you received a handshake failure from the remote server. I can see that your server sent a client hello message, so you would expect to see a response with a server hello message, instead the connection ended abruptly from the other end. In these cases you would need someone from the remote side to take a look and tell you why this connection is failing. Otherwise, you're really working in the dark and you can try many different things.</p>\n\n<p>However, one thing I'm noticing is that you're using SSLv3 protocol while the other end seems to be using TLSv1 protocol. I would assume an entity like Paypal is probably FIPS compliant which means they stopped using SSL protocol and only use TLS as part of being compliant. </p>\n"}],"owner":{"account_id":2137876,"reputation":108,"user_id":1897194,"display_name":"Jaime Rey"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12103,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1692454005,"creation_date":1418737100,"question_id":27505954,"body_markdown":"Long story short; is there any reason why an application working on a Tomcat isn&#39;t able to communicate with Paypal servers?\r\nSome background: we are developing a series of portlets on Liferay, which at some point communicate with paypal servers to start and validate a purchasing process. This works like charm on local tomcat without any special configuration, but after installing Liferay and the portlet it fails to start the process.\r\nThe stack looks like this:\r\n\r\n    [16/12/14 13:51:01:728 GMT+01:00] 0000015d SystemOut     O 13:51:01,727 ERROR [WebContainer : 2][render_portlet_jsp:132] null\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    \tat com.ibm.jsse2.o.a(o.java:33)\r\n    \tat com.ibm.jsse2.o.a(o.java:30)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:168)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:318)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:403)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:431)\r\n    \tat com.ibm.jsse2.SSLSocketImpl.startHandshake(SSLSocketImpl.java:315)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.c.afterConnect(c.java:103)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:42)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1184)\r\n    \tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:390)\r\n    \tat com.ibm.net.ssl.www2.protocol.https.b.getResponseCode(b.java:82)\r\n    \tat com.paypal.core.HttpConnection.execute(HttpConnection.java:93)\r\n    \tat com.paypal.core.APIService.makeRequestUsing(APIService.java:176)\r\n    \tat com.paypal.core.BaseService.call(BaseService.java:265)\r\n    \tat urn.ebay.api.PayPalAPI.PayPalAPIInterfaceServiceService.setExpressCheckout(PayPalAPIInterfaceServiceService.java:2196)\r\n    \tat urn.ebay.api.PayPalAPI.PayPalAPIInterfaceServiceService.setExpressCheckout(PayPalAPIInterfaceServiceService.java:2148)\r\n\r\nI&#39;ve been &quot;googleing&quot; a bit around and can&#39;t figure out where the error can be.\r\nWe have tried to register signer the Verisign certificate retrieved from paypal site, but nothing changed.\r\n\r\nMay somebody aim us on the right direction?\r\nThanks!\r\n&lt;hr/&gt;\r\nUPDATE\r\nAfter rising the network logging level I can see the following in the logs:\r\n\r\n         O class com.ibm.websphere.ssl.protocol.SSLSocketFactory is loaded\r\n         O instantiated an instance of class com.ibm.websphere.ssl.protocol.SSLSocketFactory\r\n         O \r\n    handshake: true\r\n         O Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA\r\n         O Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA\r\n         O Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA\r\n         O %% No cached client session\r\n         O *** ClientHello, SSLv3\r\n         O RandomCookie:  GMT: 1402031796 bytes = { 166, 100, 171, 183, 214, 31, 12, 68, 124, 68, 151, 195, 7, 4, 28, 112, 39, 90, 248, 143, 129, 106, 212, 33, 244, 40, 233, 94 }\r\n         O Session ID:  {}\r\n         O Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_RC4_128_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_RSA_FIPS_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\r\n         O Compression Methods:  { 0 }\r\n         O ***\r\n         O [write] MD5 and SHA1 hashes:  len = 75\r\n         O 0000: 01 00 00 47 03 00 54 91  4f b4 a6 64 ab b7 d6 1f  ...G..T.O..d....\r\n    0010: 0c 44 7c 44 97 c3 07 04  1c 70 27 5a f8 8f 81 6a  .D.D.....p.Z...j\r\n    0020: d4 21 f4 28 e9 5e 00 00  20 00 04 00 05 00 0a fe  ................\r\n    0030: ff 00 16 00 13 00 66 00  09 fe fe 00 15 00 12 00  ......f.........\r\n    0040: 03 00 08 00 14 00 11 00  ff 01 00                 ...........\r\n    \r\n         O WebContainer : 10, WRITE: SSLv3 Handshake, length = 75\r\n         O [Raw write]: length = 80\r\n         O 0000: 16 03 00 00 4b 01 00 00  47 03 00 54 91 4f b4 a6  ....K...G..T.O..\r\n    0010: 64 ab b7 d6 1f 0c 44 7c  44 97 c3 07 04 1c 70 27  d.....D.D.....p.\r\n    0020: 5a f8 8f 81 6a d4 21 f4  28 e9 5e 00 00 20 00 04  Z...j...........\r\n    0030: 00 05 00 0a fe ff 00 16  00 13 00 66 00 09 fe fe  ...........f....\r\n    0040: 00 15 00 12 00 03 00 08  00 14 00 11 00 ff 01 00  ................\r\n    \r\n         O [Raw read]: length = 5\r\n         O 0000: 15 03 00 00 02                                     .....\r\n    \r\n         O [Raw read]: length = 2\r\n         O 0000: 02 28                                              ..\r\n    \r\n         O WebContainer : 10, READ: SSLv3 Alert, length = 2\r\n         O WebContainer : 10, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n         O WebContainer : 10, called closeSocket()\r\n         O WebContainer : 10, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n         O \r\n    handshake: true\r\n         O Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA\r\n         O Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA\r\n         O Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA\r\n         O %% No cached client session\r\n         O *** ClientHello, SSLv3\r\n         O RandomCookie:  GMT: 1402031797 bytes = { 153, 95, 153, 155, 68, 36, 152, 92, 71, 172, 226, 104, 156, 107, 235, 73, 63, 239, 198, 202, 166, 216, 158, 26, 45, 59, 169, 169 }\r\n         O Session ID:  {}\r\n         O Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_RC4_128_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_RSA_FIPS_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\r\n         O Compression Methods:  { 0 }\r\n         O ***\r\n         O [write] MD5 and SHA1 hashes:  len = 75\r\n         O 0000: 01 00 00 47 03 00 54 91  4f b5 99 5f 99 9b 44 24  ...G..T.O.....D.\r\n    0010: 98 5c 47 ac e2 68 9c 6b  eb 49 3f ef c6 ca a6 d8  ..G..h.k.I......\r\n    0020: 9e 1a 2d 3b a9 a9 00 00  20 00 04 00 05 00 0a fe  ................\r\n    0030: ff 00 16 00 13 00 66 00  09 fe fe 00 15 00 12 00  ......f.........\r\n    0040: 03 00 08 00 14 00 11 00  ff 01 00                 ...........\r\n    \r\n         O WebContainer : 10, WRITE: SSLv3 Handshake, length = 75\r\n         O [Raw write]: length = 80\r\n         O 0000: 16 03 00 00 4b 01 00 00  47 03 00 54 91 4f b5 99  ....K...G..T.O..\r\n    0010: 5f 99 9b 44 24 98 5c 47  ac e2 68 9c 6b eb 49 3f  ...D...G..h.k.I.\r\n    0020: ef c6 ca a6 d8 9e 1a 2d  3b a9 a9 00 00 20 00 04  ................\r\n    0030: 00 05 00 0a fe ff 00 16  00 13 00 66 00 09 fe fe  ...........f....\r\n    0040: 00 15 00 12 00 03 00 08  00 14 00 11 00 ff 01 00  ................\r\n    \r\n         O [Raw read]: length = 5\r\n         O 0000: 15 03 00 00 02                                     .....\r\n    \r\n         O [Raw read]: length = 2\r\n         O 0000: 02 28                                              ..\r\n    \r\n         O WebContainer : 10, READ: SSLv3 Alert, length = 2\r\n         O WebContainer : 10, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n         O WebContainer : 10, called closeSocket()\r\n         O WebContainer : 10, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n         O 10:41:09,593 ERROR [WebContainer : 10][PaypalUtils:145] Errores en setPaypalExpressCheckout\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    \tat com.ibm.jsse2.o.a(o.java:33)\r\n    \tat com.ibm.jsse2.o.a(o.java:30)\r\n\r\nThe SSL protocol configured in the server console is TLS.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ZurSd.png","title":"SSL handshake_failure on Websphere 8.5 (working on Tomcat)","body":"<p>Long story short; is there any reason why an application working on a Tomcat isn't able to communicate with Paypal servers?\nSome background: we are developing a series of portlets on Liferay, which at some point communicate with paypal servers to start and validate a purchasing process. This works like charm on local tomcat without any special configuration, but after installing Liferay and the portlet it fails to start the process.\nThe stack looks like this:</p>\n\n<pre><code>[16/12/14 13:51:01:728 GMT+01:00] 0000015d SystemOut     O 13:51:01,727 ERROR [WebContainer : 2][render_portlet_jsp:132] null\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at com.ibm.jsse2.o.a(o.java:33)\n    at com.ibm.jsse2.o.a(o.java:30)\n    at com.ibm.jsse2.SSLSocketImpl.b(SSLSocketImpl.java:168)\n    at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:318)\n    at com.ibm.jsse2.SSLSocketImpl.h(SSLSocketImpl.java:403)\n    at com.ibm.jsse2.SSLSocketImpl.a(SSLSocketImpl.java:431)\n    at com.ibm.jsse2.SSLSocketImpl.startHandshake(SSLSocketImpl.java:315)\n    at com.ibm.net.ssl.www2.protocol.https.c.afterConnect(c.java:103)\n    at com.ibm.net.ssl.www2.protocol.https.d.connect(d.java:42)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1184)\n    at java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:390)\n    at com.ibm.net.ssl.www2.protocol.https.b.getResponseCode(b.java:82)\n    at com.paypal.core.HttpConnection.execute(HttpConnection.java:93)\n    at com.paypal.core.APIService.makeRequestUsing(APIService.java:176)\n    at com.paypal.core.BaseService.call(BaseService.java:265)\n    at urn.ebay.api.PayPalAPI.PayPalAPIInterfaceServiceService.setExpressCheckout(PayPalAPIInterfaceServiceService.java:2196)\n    at urn.ebay.api.PayPalAPI.PayPalAPIInterfaceServiceService.setExpressCheckout(PayPalAPIInterfaceServiceService.java:2148)\n</code></pre>\n\n<p>I've been \"googleing\" a bit around and can't figure out where the error can be.\nWe have tried to register signer the Verisign certificate retrieved from paypal site, but nothing changed.</p>\n\n<p>May somebody aim us on the right direction?\nThanks!\n<hr/>\nUPDATE\nAfter rising the network logging level I can see the following in the logs:</p>\n\n<pre><code>     O class com.ibm.websphere.ssl.protocol.SSLSocketFactory is loaded\n     O instantiated an instance of class com.ibm.websphere.ssl.protocol.SSLSocketFactory\n     O \nhandshake: true\n     O Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA\n     O Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA\n     O Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA\n     O %% No cached client session\n     O *** ClientHello, SSLv3\n     O RandomCookie:  GMT: 1402031796 bytes = { 166, 100, 171, 183, 214, 31, 12, 68, 124, 68, 151, 195, 7, 4, 28, 112, 39, 90, 248, 143, 129, 106, 212, 33, 244, 40, 233, 94 }\n     O Session ID:  {}\n     O Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_RC4_128_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_RSA_FIPS_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\n     O Compression Methods:  { 0 }\n     O ***\n     O [write] MD5 and SHA1 hashes:  len = 75\n     O 0000: 01 00 00 47 03 00 54 91  4f b4 a6 64 ab b7 d6 1f  ...G..T.O..d....\n0010: 0c 44 7c 44 97 c3 07 04  1c 70 27 5a f8 8f 81 6a  .D.D.....p.Z...j\n0020: d4 21 f4 28 e9 5e 00 00  20 00 04 00 05 00 0a fe  ................\n0030: ff 00 16 00 13 00 66 00  09 fe fe 00 15 00 12 00  ......f.........\n0040: 03 00 08 00 14 00 11 00  ff 01 00                 ...........\n\n     O WebContainer : 10, WRITE: SSLv3 Handshake, length = 75\n     O [Raw write]: length = 80\n     O 0000: 16 03 00 00 4b 01 00 00  47 03 00 54 91 4f b4 a6  ....K...G..T.O..\n0010: 64 ab b7 d6 1f 0c 44 7c  44 97 c3 07 04 1c 70 27  d.....D.D.....p.\n0020: 5a f8 8f 81 6a d4 21 f4  28 e9 5e 00 00 20 00 04  Z...j...........\n0030: 00 05 00 0a fe ff 00 16  00 13 00 66 00 09 fe fe  ...........f....\n0040: 00 15 00 12 00 03 00 08  00 14 00 11 00 ff 01 00  ................\n\n     O [Raw read]: length = 5\n     O 0000: 15 03 00 00 02                                     .....\n\n     O [Raw read]: length = 2\n     O 0000: 02 28                                              ..\n\n     O WebContainer : 10, READ: SSLv3 Alert, length = 2\n     O WebContainer : 10, RECV TLSv1 ALERT:  fatal, handshake_failure\n     O WebContainer : 10, called closeSocket()\n     O WebContainer : 10, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n     O \nhandshake: true\n     O Ignoring unsupported cipher suite: SSL_RSA_WITH_AES_128_CBC_SHA\n     O Ignoring unsupported cipher suite: SSL_DHE_RSA_WITH_AES_128_CBC_SHA\n     O Ignoring unsupported cipher suite: SSL_DHE_DSS_WITH_AES_128_CBC_SHA\n     O %% No cached client session\n     O *** ClientHello, SSLv3\n     O RandomCookie:  GMT: 1402031797 bytes = { 153, 95, 153, 155, 68, 36, 152, 92, 71, 172, 226, 104, 156, 107, 235, 73, 63, 239, 198, 202, 166, 216, 158, 26, 45, 59, 169, 169 }\n     O Session ID:  {}\n     O Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_RC4_128_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_RSA_FIPS_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, SSL_RENEGO_PROTECTION_REQUEST]\n     O Compression Methods:  { 0 }\n     O ***\n     O [write] MD5 and SHA1 hashes:  len = 75\n     O 0000: 01 00 00 47 03 00 54 91  4f b5 99 5f 99 9b 44 24  ...G..T.O.....D.\n0010: 98 5c 47 ac e2 68 9c 6b  eb 49 3f ef c6 ca a6 d8  ..G..h.k.I......\n0020: 9e 1a 2d 3b a9 a9 00 00  20 00 04 00 05 00 0a fe  ................\n0030: ff 00 16 00 13 00 66 00  09 fe fe 00 15 00 12 00  ......f.........\n0040: 03 00 08 00 14 00 11 00  ff 01 00                 ...........\n\n     O WebContainer : 10, WRITE: SSLv3 Handshake, length = 75\n     O [Raw write]: length = 80\n     O 0000: 16 03 00 00 4b 01 00 00  47 03 00 54 91 4f b5 99  ....K...G..T.O..\n0010: 5f 99 9b 44 24 98 5c 47  ac e2 68 9c 6b eb 49 3f  ...D...G..h.k.I.\n0020: ef c6 ca a6 d8 9e 1a 2d  3b a9 a9 00 00 20 00 04  ................\n0030: 00 05 00 0a fe ff 00 16  00 13 00 66 00 09 fe fe  ...........f....\n0040: 00 15 00 12 00 03 00 08  00 14 00 11 00 ff 01 00  ................\n\n     O [Raw read]: length = 5\n     O 0000: 15 03 00 00 02                                     .....\n\n     O [Raw read]: length = 2\n     O 0000: 02 28                                              ..\n\n     O WebContainer : 10, READ: SSLv3 Alert, length = 2\n     O WebContainer : 10, RECV TLSv1 ALERT:  fatal, handshake_failure\n     O WebContainer : 10, called closeSocket()\n     O WebContainer : 10, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n     O 10:41:09,593 ERROR [WebContainer : 10][PaypalUtils:145] Errores en setPaypalExpressCheckout\njavax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at com.ibm.jsse2.o.a(o.java:33)\n    at com.ibm.jsse2.o.a(o.java:30)\n</code></pre>\n\n<p>The SSL protocol configured in the server console is TLS.</p>\n"},{"tags":["javascript","java","android","root","frida"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692462671,"post_id":76935493,"comment_id":135627926,"body_markdown":"I do remember having read about some internal optimizations that prevent Frida sometimes to work correctly. There was also a Frida command to &quot;unoptimized&quot; everything. Unfortunately I wasn&#39;t able find the documentation of that command again.","body":"I do remember having read about some internal optimizations that prevent Frida sometimes to work correctly. There was also a Frida command to &quot;unoptimized&quot; everything. Unfortunately I wasn&#39;t able find the documentation of that command again."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692527388,"post_id":76935493,"comment_id":135633036,"body_markdown":"Finally found it, not sure if it helps you but it is at least worth a try: `Java.performNow(function(){\n    Java.deoptimizeEverything();\n    // hooks\n}`","body":"Finally found it, not sure if it helps you but it is at least worth a try: <code>Java.performNow(function(){     Java.deoptimizeEverything();     &#47;&#47; hooks }</code>"}],"owner":{"account_id":29248812,"reputation":11,"user_id":22408607,"display_name":"danest"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692453883,"creation_date":1692453883,"question_id":76935493,"body_markdown":"I tested on some android apps that has an embedded WebView or sub-class of android.webkit.WebView, on a frida shell I can use the frida api Java.choose to find a webview instance like this code:\r\n\r\n```\r\nJava.perform(function() {\r\n    Java.choose(&quot;android.webkit.WebView&quot;, {\r\n        &quot;onMatch&quot;: function(o) {\r\n            try {\r\n                console.log(&#39;object is &#39;, o);\r\n            } catch (e) {\r\n                console.log(&quot;Execution failed &quot; + e.message);\r\n            }\r\n        },\r\n        &quot;onComplete&quot;: function() {\r\n            console.log(&quot;Execution completed&quot;)\r\n        }\r\n    })\r\n}\r\n);\r\n```\r\nThe code successfully finds a webview instance and logs it out on app like in this apk in this repo https://github.com/agusibrahim/Android-Web-Inspector\r\nHowever, on other apps I am sure that do containing a WebView once loaded in an activity like facebook app (com.facebook.katana) in its built-in browser, or the chrome android browser (com.android.chrome), the above code does not catch the &quot;onMatch&quot; block and go straight to the &quot;onComplete&quot; block. I did inspect the view hierarchy of these two apps and could surely see they contain WebView in their view hierarchy once a webpage is being showed. Please help me figure out why this happens and what other code I can try to point to the webview instance in cases like this.\r\n\r\n\r\nI check the app&#39;s view hierarchy to make sure it contains android.webkit.WebView\r\nI expect the frida script would find and log out a webview instance in the shell console","title":"Frida android can&#39;t find out WebView instance","body":"<p>I tested on some android apps that has an embedded WebView or sub-class of android.webkit.WebView, on a frida shell I can use the frida api Java.choose to find a webview instance like this code:</p>\n<pre><code>Java.perform(function() {\n    Java.choose(&quot;android.webkit.WebView&quot;, {\n        &quot;onMatch&quot;: function(o) {\n            try {\n                console.log('object is ', o);\n            } catch (e) {\n                console.log(&quot;Execution failed &quot; + e.message);\n            }\n        },\n        &quot;onComplete&quot;: function() {\n            console.log(&quot;Execution completed&quot;)\n        }\n    })\n}\n);\n</code></pre>\n<p>The code successfully finds a webview instance and logs it out on app like in this apk in this repo <a href=\"https://github.com/agusibrahim/Android-Web-Inspector\" rel=\"nofollow noreferrer\">https://github.com/agusibrahim/Android-Web-Inspector</a>\nHowever, on other apps I am sure that do containing a WebView once loaded in an activity like facebook app (com.facebook.katana) in its built-in browser, or the chrome android browser (com.android.chrome), the above code does not catch the &quot;onMatch&quot; block and go straight to the &quot;onComplete&quot; block. I did inspect the view hierarchy of these two apps and could surely see they contain WebView in their view hierarchy once a webpage is being showed. Please help me figure out why this happens and what other code I can try to point to the webview instance in cases like this.</p>\n<p>I check the app's view hierarchy to make sure it contains android.webkit.WebView\nI expect the frida script would find and log out a webview instance in the shell console</p>\n"},{"tags":["java","swing","jtable","jscrollpane"],"comments":[{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":0,"creation_date":1407955592,"post_id":25293754,"comment_id":39419962,"body_markdown":"Modify the code to listen to how many items are in the Table and then only draw that many gray line areas? Would that be possible?","body":"Modify the code to listen to how many items are in the Table and then only draw that many gray line areas? Would that be possible?"},{"owner":{"account_id":3906887,"reputation":138,"user_id":3233343,"accept_rate":17,"display_name":"TinyStrides"},"score":0,"creation_date":1407955697,"post_id":25293754,"comment_id":39420026,"body_markdown":"@NESPowerGlove Yes, I tried to get the row numbers from the model. And then setting the height to that dimension. But its somehow not working. I got the height by using the below: Rectangle tblRect = table.getCellRect(table.getModel().getRowCount()-1, 0, false); //Getting table dimensions","body":"@NESPowerGlove Yes, I tried to get the row numbers from the model. And then setting the height to that dimension. But its somehow not working. I got the height by using the below: Rectangle tblRect = table.getCellRect(table.getModel().getRowCount()-1, 0, false); //Getting table dimensions"},{"owner":{"account_id":4082028,"reputation":5506,"user_id":3352285,"display_name":"NESPowerGlove"},"score":0,"creation_date":1407956395,"post_id":25293754,"comment_id":39420391,"body_markdown":"Well I didn&#39;t look too much at the code on that website, but I&#39;d imagine it was looping through from 1 to n to create those line numbers, so isn&#39;t there somewhere to stop the looping not at n, but at number of items in the table?","body":"Well I didn&#39;t look too much at the code on that website, but I&#39;d imagine it was looping through from 1 to n to create those line numbers, so isn&#39;t there somewhere to stop the looping not at n, but at number of items in the table?"},{"owner":{"account_id":3906887,"reputation":138,"user_id":3233343,"accept_rate":17,"display_name":"TinyStrides"},"score":0,"creation_date":1407957947,"post_id":25293754,"comment_id":39421252,"body_markdown":"It does loop through the table.getRowCount() number of items, to add proper line line numbers. And the problem is not with the line numbers as they are generated only until the number of table rows as expected. But the problem is that the lineNumber column (just the blank column) gets added even if the table has 0 rows. And the line number column is added for the entire height of the JScrollPane which looks very bad. (I would post a screen shot if I had higher reputation.) I want to paint the line Number Column only till table height and not for the entire ViewPort size.","body":"It does loop through the table.getRowCount() number of items, to add proper line line numbers. And the problem is not with the line numbers as they are generated only until the number of table rows as expected. But the problem is that the lineNumber column (just the blank column) gets added even if the table has 0 rows. And the line number column is added for the entire height of the JScrollPane which looks very bad. (I would post a screen shot if I had higher reputation.) I want to paint the line Number Column only till table height and not for the entire ViewPort size."}],"answers":[{"comments":[{"owner":{"account_id":3906887,"reputation":138,"user_id":3233343,"accept_rate":17,"display_name":"TinyStrides"},"score":0,"creation_date":1408024867,"post_id":25295556,"comment_id":39449792,"body_markdown":"I have tried this class. However there is some issue as it does not generate or update row numbers after row 2.","body":"I have tried this class. However there is some issue as it does not generate or update row numbers after row 2."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692370654,"post_id":25295556,"comment_id":135618171,"body_markdown":"The source code for row number table gives my browser a whole bunch of security warnings when trying to download. Do you have it hosted somewhere else?","body":"The source code for row number table gives my browser a whole bunch of security warnings when trying to download. Do you have it hosted somewhere else?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1692375935,"post_id":25295556,"comment_id":135619259,"body_markdown":"I have been thinking about moving the code to github. But I haven&#39;t done that yet, so this is the only place.","body":"I have been thinking about moving the code to github. But I haven&#39;t done that yet, so this is the only place."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1692402504,"post_id":25295556,"comment_id":135622930,"body_markdown":"@camickr All good, thanks for doing this.","body":"@camickr All good, thanks for doing this."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692453319,"creation_date":1407961773,"answer_id":25295556,"question_id":25293754,"body_markdown":"The [Row Number Table](http://tips4java.wordpress.com/2008/11/18/row-number-table/) bases the row header on the number of rows in the JTable (most current version will be found at this link).\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.beans.*;\r\n    import javax.swing.*;\r\n    import javax.swing.event.*;\r\n    import javax.swing.table.*;\r\n    \r\n    /*\r\n     *  Use a JTable as a renderer for row numbers of a given main table.\r\n     *  This table must be added to the row header of the scrollpane that\r\n     *  contains the main table.\r\n     */\r\n    public class RowNumberTable extends JTable\r\n        implements ChangeListener, PropertyChangeListener\r\n    {\r\n        private JTable main;\r\n    \r\n        public RowNumberTable(JTable table)\r\n        {\r\n            main = table;\r\n            main.addPropertyChangeListener( this );\r\n            main.getModel().addTableModelListener( this );\r\n    \r\n            setFocusable( false );\r\n            setAutoCreateColumnsFromModel( false );\r\n            setSelectionModel( main.getSelectionModel() );\r\n            setRowHeight( main.getRowHeight() );\r\n    \r\n            TableColumn column = new TableColumn();\r\n            column.setHeaderValue(&quot; &quot;);\r\n            addColumn( column );\r\n            column.setCellRenderer(new RowNumberRenderer());\r\n    \r\n            getColumnModel().getColumn(0).setPreferredWidth(50);\r\n            setPreferredScrollableViewportSize(getPreferredSize());\r\n        }\r\n    \r\n        @Override\r\n        public void addNotify()\r\n        {\r\n            super.addNotify();\r\n    \r\n            Component c = getParent();\r\n    \r\n            //  Keep scrolling of the row table in sync with the main table.\r\n    \r\n            if (c instanceof JViewport)\r\n            {\r\n                JViewport viewport = (JViewport)c;\r\n                viewport.addChangeListener( this );\r\n            }\r\n        }\r\n    \r\n        /*\r\n         *  Delegate method to main table\r\n         */\r\n        @Override\r\n        public int getRowCount()\r\n        {\r\n            return main.getRowCount();\r\n    \t}\r\n    \r\n        @Override\r\n        public int getRowHeight(int row)\r\n        {\r\n            int rowHeight = super.getRowHeight(row);\r\n            int mainRowHeight = main.getRowHeight(row);\r\n    \r\n            if (rowHeight != mainRowHeight)\r\n            {\r\n                super.setRowHeight(row, mainRowHeight);\r\n            }\r\n    \r\n            return mainRowHeight;\r\n        }\r\n    \r\n        /*\r\n         *  No model is being used for this table so just use the row number\r\n         *  as the value of the cell.\r\n         */\r\n        @Override\r\n        public Object getValueAt(int row, int column)\r\n        {\r\n            return Integer.toString(row + 1);\r\n        }\r\n    \r\n        /*\r\n         *  Don&#39;t edit data in the main TableModel by mistake\r\n         */\r\n        @Override\r\n        public boolean isCellEditable(int row, int column)\r\n        {\r\n            return false;\r\n        }\r\n    \r\n        /*\r\n         *  Do nothing since the table ignores the model\r\n         */\r\n        @Override\r\n        public void setValueAt(Object value, int row, int column) {}\r\n    //\r\n    //  Implement the ChangeListener\r\n    //\r\n        public void stateChanged(ChangeEvent e)\r\n        {\r\n            //  Keep the scrolling of the row table in sync with main table\r\n    \r\n            JViewport viewport = (JViewport) e.getSource();\r\n            JScrollPane scrollPane = (JScrollPane)viewport.getParent();\r\n            scrollPane.getVerticalScrollBar().setValue(viewport.getViewPosition().y);\r\n        }\r\n    //\r\n    //  Implement the PropertyChangeListener\r\n    //\r\n        public void propertyChange(PropertyChangeEvent e)\r\n        {\r\n            //  Keep the row table in sync with the main table\r\n    \r\n            if (&quot;selectionModel&quot;.equals(e.getPropertyName()))\r\n            {\r\n                setSelectionModel( main.getSelectionModel() );\r\n            }\r\n    \r\n            if (&quot;rowHeight&quot;.equals(e.getPropertyName()))\r\n            {\r\n                repaint();\r\n            }\r\n    \r\n            if (&quot;model&quot;.equals(e.getPropertyName()))\r\n            {\r\n                main.getModel().addTableModelListener( this );\r\n                revalidate();\r\n            }\r\n        }\r\n    \r\n        /*\r\n         *  Attempt to mimic the table header renderer\r\n         */\r\n        private static class RowNumberRenderer extends DefaultTableCellRenderer\r\n        {\r\n            public RowNumberRenderer()\r\n            {\r\n                setHorizontalAlignment(JLabel.CENTER);\r\n            }\r\n    \r\n            public Component getTableCellRendererComponent(\r\n                JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\r\n            {\r\n                if (table != null)\r\n                {\r\n                    JTableHeader header = table.getTableHeader();\r\n    \r\n                    if (header != null)\r\n                    {\r\n                        setForeground(header.getForeground());\r\n                        setBackground(header.getBackground());\r\n                        setFont(header.getFont());\r\n                    }\r\n                }\r\n    \r\n                if (isSelected)\r\n                {\r\n                    setFont( getFont().deriveFont(Font.BOLD) );\r\n                }\r\n    \r\n                setText((value == null) ? &quot;&quot; : value.toString());\r\n                setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\r\n    \r\n                return this;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"JTable showing and updating line numbers in View","body":"<p>The <a href=\"http://tips4java.wordpress.com/2008/11/18/row-number-table/\" rel=\"nofollow noreferrer\">Row Number Table</a> bases the row header on the number of rows in the JTable (most current version will be found at this link).</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport java.beans.*;\nimport javax.swing.*;\nimport javax.swing.event.*;\nimport javax.swing.table.*;\n\n/*\n *  Use a JTable as a renderer for row numbers of a given main table.\n *  This table must be added to the row header of the scrollpane that\n *  contains the main table.\n */\npublic class RowNumberTable extends JTable\n    implements ChangeListener, PropertyChangeListener\n{\n    private JTable main;\n\n    public RowNumberTable(JTable table)\n    {\n        main = table;\n        main.addPropertyChangeListener( this );\n        main.getModel().addTableModelListener( this );\n\n        setFocusable( false );\n        setAutoCreateColumnsFromModel( false );\n        setSelectionModel( main.getSelectionModel() );\n        setRowHeight( main.getRowHeight() );\n\n        TableColumn column = new TableColumn();\n        column.setHeaderValue(&quot; &quot;);\n        addColumn( column );\n        column.setCellRenderer(new RowNumberRenderer());\n\n        getColumnModel().getColumn(0).setPreferredWidth(50);\n        setPreferredScrollableViewportSize(getPreferredSize());\n    }\n\n    @Override\n    public void addNotify()\n    {\n        super.addNotify();\n\n        Component c = getParent();\n\n        //  Keep scrolling of the row table in sync with the main table.\n\n        if (c instanceof JViewport)\n        {\n            JViewport viewport = (JViewport)c;\n            viewport.addChangeListener( this );\n        }\n    }\n\n    /*\n     *  Delegate method to main table\n     */\n    @Override\n    public int getRowCount()\n    {\n        return main.getRowCount();\n    }\n\n    @Override\n    public int getRowHeight(int row)\n    {\n        int rowHeight = super.getRowHeight(row);\n        int mainRowHeight = main.getRowHeight(row);\n\n        if (rowHeight != mainRowHeight)\n        {\n            super.setRowHeight(row, mainRowHeight);\n        }\n\n        return mainRowHeight;\n    }\n\n    /*\n     *  No model is being used for this table so just use the row number\n     *  as the value of the cell.\n     */\n    @Override\n    public Object getValueAt(int row, int column)\n    {\n        return Integer.toString(row + 1);\n    }\n\n    /*\n     *  Don't edit data in the main TableModel by mistake\n     */\n    @Override\n    public boolean isCellEditable(int row, int column)\n    {\n        return false;\n    }\n\n    /*\n     *  Do nothing since the table ignores the model\n     */\n    @Override\n    public void setValueAt(Object value, int row, int column) {}\n//\n//  Implement the ChangeListener\n//\n    public void stateChanged(ChangeEvent e)\n    {\n        //  Keep the scrolling of the row table in sync with main table\n\n        JViewport viewport = (JViewport) e.getSource();\n        JScrollPane scrollPane = (JScrollPane)viewport.getParent();\n        scrollPane.getVerticalScrollBar().setValue(viewport.getViewPosition().y);\n    }\n//\n//  Implement the PropertyChangeListener\n//\n    public void propertyChange(PropertyChangeEvent e)\n    {\n        //  Keep the row table in sync with the main table\n\n        if (&quot;selectionModel&quot;.equals(e.getPropertyName()))\n        {\n            setSelectionModel( main.getSelectionModel() );\n        }\n\n        if (&quot;rowHeight&quot;.equals(e.getPropertyName()))\n        {\n            repaint();\n        }\n\n        if (&quot;model&quot;.equals(e.getPropertyName()))\n        {\n            main.getModel().addTableModelListener( this );\n            revalidate();\n        }\n    }\n\n    /*\n     *  Attempt to mimic the table header renderer\n     */\n    private static class RowNumberRenderer extends DefaultTableCellRenderer\n    {\n        public RowNumberRenderer()\n        {\n            setHorizontalAlignment(JLabel.CENTER);\n        }\n\n        public Component getTableCellRendererComponent(\n            JTable table, Object value, boolean isSelected, boolean hasFocus, int row, int column)\n        {\n            if (table != null)\n            {\n                JTableHeader header = table.getTableHeader();\n\n                if (header != null)\n                {\n                    setForeground(header.getForeground());\n                    setBackground(header.getBackground());\n                    setFont(header.getFont());\n                }\n            }\n\n            if (isSelected)\n            {\n                setFont( getFont().deriveFont(Font.BOLD) );\n            }\n\n            setText((value == null) ? &quot;&quot; : value.toString());\n            setBorder(UIManager.getBorder(&quot;TableHeader.cellBorder&quot;));\n\n            return this;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3906887,"reputation":138,"user_id":3233343,"accept_rate":17,"display_name":"TinyStrides"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408025635,"creation_date":1408025635,"answer_id":25310315,"question_id":25293754,"body_markdown":"I was able to fix the issue. Posting the fix incase someone else will benefit in future.\r\n\r\nI had to first paint the lineNumber column white for the entire height of scrollPane. Then I got the last row of the table and its rectangle position and painted the lineNumber column with the background color only till the height of the rectangle. Below is the extra code I added to the LineNumberTableRowHeader class. \r\n\r\n            Rectangle tblRect = table.getCellRect(table.getModel().getRowCount()-1, 0, false); //Getting table dimensions\r\n        super.paintComponent(g);\r\n\r\n        g.setColor(Color.WHITE);\r\n        g.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n        g.setColor(getBackground());\r\n        g.fillRect(0, 0, getWidth(), tblRect.height+ tblRect.y);\r\n\r\n","title":"JTable showing and updating line numbers in View","body":"<p>I was able to fix the issue. Posting the fix incase someone else will benefit in future.</p>\n\n<p>I had to first paint the lineNumber column white for the entire height of scrollPane. Then I got the last row of the table and its rectangle position and painted the lineNumber column with the background color only till the height of the rectangle. Below is the extra code I added to the LineNumberTableRowHeader class. </p>\n\n<pre><code>        Rectangle tblRect = table.getCellRect(table.getModel().getRowCount()-1, 0, false); //Getting table dimensions\n    super.paintComponent(g);\n\n    g.setColor(Color.WHITE);\n    g.fillRect(0, 0, getWidth(), getHeight());\n\n    g.setColor(getBackground());\n    g.fillRect(0, 0, getWidth(), tblRect.height+ tblRect.y);\n</code></pre>\n"}],"owner":{"account_id":3906887,"reputation":138,"user_id":3233343,"accept_rate":17,"display_name":"TinyStrides"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1692453319,"creation_date":1407955267,"question_id":25293754,"body_markdown":"I have a &#39;JTable&#39; added to the &#39;JScroll&#39; Pane. I want to display line numbers for each row in the &#39;JTable&#39; without changing the &#39;JTable&#39; model. \r\n\r\nThe below link is a nice solution which solves my line number issue. \r\n[LineNumber Solution][1]\r\nHowever the line number column gets added till the entire scroll Pane height. Even though the JTable has no rows, or just 1 row, this extra blank gray column shows up for the entire height of the scroll Pane. I tried changing the ScrollPane height, table height everything.. Nothing seems to make the line number column as high as just the current table rows. \r\n\r\nCan you please suggest a away to have this Line Number column height according to table rows and increase/decrease height according to new rows being added or deleted?\r\n\r\n\r\n  [1]: http://www.javarichclient.com/display-line-numbers-jtable/","title":"JTable showing and updating line numbers in View","body":"<p>I have a 'JTable' added to the 'JScroll' Pane. I want to display line numbers for each row in the 'JTable' without changing the 'JTable' model. </p>\n\n<p>The below link is a nice solution which solves my line number issue. \n<a href=\"http://www.javarichclient.com/display-line-numbers-jtable/\" rel=\"nofollow\">LineNumber Solution</a>\nHowever the line number column gets added till the entire scroll Pane height. Even though the JTable has no rows, or just 1 row, this extra blank gray column shows up for the entire height of the scroll Pane. I tried changing the ScrollPane height, table height everything.. Nothing seems to make the line number column as high as just the current table rows. </p>\n\n<p>Can you please suggest a away to have this Line Number column height according to table rows and increase/decrease height according to new rows being added or deleted?</p>\n"},{"tags":["java","redis","redisson"],"owner":{"account_id":28709976,"reputation":271,"user_id":21985642,"display_name":"Sapan V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692452854,"creation_date":1692452854,"question_id":76935423,"body_markdown":"Is there any available logger that can be used to show the commands executed by Redisson to Redis?\r\ne.g. like *hibernate show sql flag*.\r\n\r\nSomething like when code does `redisson.getJsonBucket().set()` then the respective redis command `JSON.SET` is logged.\r\n\r\nThanks.\r\n","title":"log Redis commands fired by Redisson Java client","body":"<p>Is there any available logger that can be used to show the commands executed by Redisson to Redis?\ne.g. like <em>hibernate show sql flag</em>.</p>\n<p>Something like when code does <code>redisson.getJsonBucket().set()</code> then the respective redis command <code>JSON.SET</code> is logged.</p>\n<p>Thanks.</p>\n"},{"tags":["java","configuration","log4j","log4j2","log-rotation"],"comments":[{"owner":{"account_id":67839,"reputation":3952,"user_id":198274,"accept_rate":65,"display_name":"aces."},"score":0,"creation_date":1528915484,"post_id":50002172,"comment_id":88691855,"body_markdown":"I am facing the same issue.","body":"I am facing the same issue."}],"owner":{"account_id":1588587,"reputation":2946,"user_id":1472416,"accept_rate":96,"display_name":"jgr208"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1692452677,"creation_date":1524574302,"question_id":50002172,"body_markdown":"I am using `log4j2 2.11` to create log files. I have these log files rotated based on time and size. The rotating based on time works great however, I am having a weird issue when I rotate based on size.\r\n\r\nWhen I rotated based on size I compress the log file into the following named gzip file `${logdir}/${eventfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz`, however, the `log.gz` file keeps ending up with the same time and thus overwrites the previous zipped log file endlessly. Where my understanding is that the current time will be used for the gzip file and not the first time grabbed to create the gzip file.\r\n\r\nWhat could be causing this issue where my rotated file based on size keeps ending up with the same name and does not update to the current time to be used in the file name?\r\n\r\nAs of note here is my complete configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;ALL&quot; shutdownHook=&quot;disable&quot;&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;logdir&quot;&gt;${env:DIR}/log&lt;/Property&gt;\r\n            &lt;Property name=&quot;eventfilename&quot;&gt;foo_event&lt;/Property&gt;\r\n            &lt;Property name=&quot;errorfilename&quot;&gt;foo_error&lt;/Property&gt;\r\n            &lt;Property name=&quot;msgformat&quot;&gt;%d{yyyy-MM-dd HH:mm:ss.SSS}{GMT+0}Z [%t] %-5level %logger{1} - %msg%n&lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${msgformat}&quot;/&gt;\r\n            &lt;/Console&gt;\r\n            &lt;RollingFile name=&quot;ERROR_FILE&quot; fileName=&quot;${logdir}/${errorfilename}.log&quot;\r\n                filePattern=&quot;${logdir}/${errorfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz&quot;&gt;\r\n                &lt;PatternLayout charset=&quot;UTF-8&quot; pattern=&quot;${msgformat}&quot;/&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;10 MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy&gt;\r\n                    &lt;Delete basePath=&quot;${logdir}&quot;&gt;\r\n                        &lt;IfFileName glob=&quot;${errorfilename}-*&quot;&gt;\r\n                            &lt;IfAccumulatedFileSize exceeds=&quot;100 MB&quot;/&gt;\r\n                        &lt;/IfFileName&gt;\r\n                    &lt;/Delete&gt;\r\n                &lt;/DefaultRolloverStrategy&gt;\r\n                &lt;ThresholdFilter level=&quot;WARN&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n            &lt;RollingFile name=&quot;EVENT_FILE&quot; fileName=&quot;${logdir}/${eventfilename}.log&quot;\r\n                filePattern=&quot;${logdir}/${eventfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz&quot;&gt;\r\n                &lt;PatternLayout charset=&quot;UTF-8&quot; pattern=&quot;${msgformat}&quot;/&gt;\r\n                &lt;Policies&gt;\r\n    \t\t&lt;TimeBasedTriggeringPolicy interval=&quot;43200&quot; modulate=&quot;false&quot;/&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;1 MB&quot;/&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy&gt;\r\n                    &lt;Delete basePath=&quot;${logdir}&quot;&gt;\r\n                        &lt;IfFileName glob=&quot;${eventfilename}-*&quot;&gt;\r\n                            &lt;IfAccumulatedFileSize exceeds=&quot;100 MB&quot;/&gt;\r\n                        &lt;/IfFileName&gt;\r\n                    &lt;/Delete&gt;\r\n                &lt;/DefaultRolloverStrategy&gt;\r\n                &lt;ThresholdFilter level=&quot;TRACE&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Logger name=&quot;foo.utils.FooLogger&quot; level=&quot;TRACE&quot;\r\n                additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ERROR_FILE&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;EVENT_FILE&quot;/&gt;\r\n            &lt;/Logger&gt;\r\n            &lt;Logger name=&quot;foo.utils.foo.FooPathUtils&quot; level=&quot;INFO&quot;\r\n                additivity=&quot;false&quot;&gt;\r\n                &lt;!-- Change level to debug to log java path info at startup --&gt;\r\n                &lt;AppenderRef ref=&quot;ERROR_FILE&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;EVENT_FILE&quot;/&gt;\r\n            &lt;/Logger&gt;        \r\n            &lt;Logger name=&quot;foo&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ERROR_FILE&quot;/&gt;\r\n                &lt;AppenderRef ref=&quot;EVENT_FILE&quot;/&gt;\r\n            &lt;/Logger&gt;    \r\n            &lt;Root level=&quot;TRACE&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;","title":"Log4j2 keeps same time for renaming of files","body":"<p>I am using <code>log4j2 2.11</code> to create log files. I have these log files rotated based on time and size. The rotating based on time works great however, I am having a weird issue when I rotate based on size.</p>\n\n<p>When I rotated based on size I compress the log file into the following named gzip file <code>${logdir}/${eventfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz</code>, however, the <code>log.gz</code> file keeps ending up with the same time and thus overwrites the previous zipped log file endlessly. Where my understanding is that the current time will be used for the gzip file and not the first time grabbed to create the gzip file.</p>\n\n<p>What could be causing this issue where my rotated file based on size keeps ending up with the same name and does not update to the current time to be used in the file name?</p>\n\n<p>As of note here is my complete configuration file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"ALL\" shutdownHook=\"disable\"&gt;\n    &lt;Properties&gt;\n        &lt;Property name=\"logdir\"&gt;${env:DIR}/log&lt;/Property&gt;\n        &lt;Property name=\"eventfilename\"&gt;foo_event&lt;/Property&gt;\n        &lt;Property name=\"errorfilename\"&gt;foo_error&lt;/Property&gt;\n        &lt;Property name=\"msgformat\"&gt;%d{yyyy-MM-dd HH:mm:ss.SSS}{GMT+0}Z [%t] %-5level %logger{1} - %msg%n&lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"${msgformat}\"/&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"ERROR_FILE\" fileName=\"${logdir}/${errorfilename}.log\"\n            filePattern=\"${logdir}/${errorfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz\"&gt;\n            &lt;PatternLayout charset=\"UTF-8\" pattern=\"${msgformat}\"/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"10 MB\"/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=\"${logdir}\"&gt;\n                    &lt;IfFileName glob=\"${errorfilename}-*\"&gt;\n                        &lt;IfAccumulatedFileSize exceeds=\"100 MB\"/&gt;\n                    &lt;/IfFileName&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n            &lt;ThresholdFilter level=\"WARN\"/&gt;\n        &lt;/RollingFile&gt;\n        &lt;RollingFile name=\"EVENT_FILE\" fileName=\"${logdir}/${eventfilename}.log\"\n            filePattern=\"${logdir}/${eventfilename}-%d{yyyyMMddHHmmss}{GMT+0}.log.gz\"&gt;\n            &lt;PatternLayout charset=\"UTF-8\" pattern=\"${msgformat}\"/&gt;\n            &lt;Policies&gt;\n        &lt;TimeBasedTriggeringPolicy interval=\"43200\" modulate=\"false\"/&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"1 MB\"/&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy&gt;\n                &lt;Delete basePath=\"${logdir}\"&gt;\n                    &lt;IfFileName glob=\"${eventfilename}-*\"&gt;\n                        &lt;IfAccumulatedFileSize exceeds=\"100 MB\"/&gt;\n                    &lt;/IfFileName&gt;\n                &lt;/Delete&gt;\n            &lt;/DefaultRolloverStrategy&gt;\n            &lt;ThresholdFilter level=\"TRACE\"/&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger name=\"foo.utils.FooLogger\" level=\"TRACE\"\n            additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"ERROR_FILE\"/&gt;\n            &lt;AppenderRef ref=\"EVENT_FILE\"/&gt;\n        &lt;/Logger&gt;\n        &lt;Logger name=\"foo.utils.foo.FooPathUtils\" level=\"INFO\"\n            additivity=\"false\"&gt;\n            &lt;!-- Change level to debug to log java path info at startup --&gt;\n            &lt;AppenderRef ref=\"ERROR_FILE\"/&gt;\n            &lt;AppenderRef ref=\"EVENT_FILE\"/&gt;\n        &lt;/Logger&gt;        \n        &lt;Logger name=\"foo\" level=\"INFO\" additivity=\"false\"&gt;\n            &lt;AppenderRef ref=\"ERROR_FILE\"/&gt;\n            &lt;AppenderRef ref=\"EVENT_FILE\"/&gt;\n        &lt;/Logger&gt;    \n        &lt;Root level=\"TRACE\"&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1679055155,"post_id":75767398,"comment_id":133656393,"body_markdown":"To update data all at once. You should use a batch update. https://www.baeldung.com/jpa-hibernate-batch-insert-update","body":"To update data all at once. You should use a batch update. <a href=\"https://www.baeldung.com/jpa-hibernate-batch-insert-update\" rel=\"nofollow noreferrer\">baeldung.com/jpa-hibernate-batch-insert-update</a>"},{"owner":{"account_id":24224809,"reputation":363,"user_id":18179479,"display_name":"Mircea Sirghi"},"score":0,"creation_date":1692452206,"post_id":75767398,"comment_id":135627104,"body_markdown":"Detach entities from persistence context, then reattach and merge. Here you are an example: https://javabydeveloper.com/merge-re-attaching-detached-entities/","body":"Detach entities from persistence context, then reattach and merge. Here you are an example: <a href=\"https://javabydeveloper.com/merge-re-attaching-detached-entities/\" rel=\"nofollow noreferrer\">javabydeveloper.com/merge-re-attaching-detached-entities</a>"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692216657,"creation_date":1692216657,"answer_id":76916770,"question_id":75767398,"body_markdown":"You should try to defer the SQL constraint. You didn&#39;t specify which database you are using, but I think most DBs support deferring unique constraints.\r\n\r\nIf you can&#39;t do that, you&#39;ll have to flush changes in order to not run into the unique constraint violation.\r\n\r\n&gt;I&#39;d rather not do this as other classes actively test for the presence of timeslots.\r\n\r\nEven if you are using the READ_COMMITTED isolation level, this shouldn&#39;t be an issue. At the end of the day, the unique constraint will take care of ensuring consistency.","title":"Delay Update operation until every entity is updated [HIBERNATE]","body":"<p>You should try to defer the SQL constraint. You didn't specify which database you are using, but I think most DBs support deferring unique constraints.</p>\n<p>If you can't do that, you'll have to flush changes in order to not run into the unique constraint violation.</p>\n<blockquote>\n<p>I'd rather not do this as other classes actively test for the presence of timeslots.</p>\n</blockquote>\n<p>Even if you are using the READ_COMMITTED isolation level, this shouldn't be an issue. At the end of the day, the unique constraint will take care of ensuring consistency.</p>\n"}],"owner":{"account_id":16303682,"reputation":83,"user_id":14227763,"display_name":"Henry Page"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76916770,"answer_count":1,"score":0,"last_activity_date":1692452206,"creation_date":1679054723,"question_id":75767398,"body_markdown":"I currently have the following code:\r\n\r\n```java\r\n@Transactional\r\n\tpublic void updateSlots(@NotNull AbstractSlottedLabPatchDTO&lt;?&gt; slottedLabPatchDTO,\r\n\t\t\t@NotNull AbstractSlottedLab&lt;?&gt; slottedLab) {\r\n\r\n\t\tLong duration = slottedLab.getSlottedLabConfig().getDuration();\r\n\t\tList&lt;? extends TimeSlot&gt; timeSlots = slottedLab.getTimeSlots();\r\n\t\tLocalDateTime newStartTime = slottedLabPatchDTO.getSlot().getOpensAt();\r\n\r\n\t\tBiFunction&lt;LocalDateTime, Integer, Slot&gt; calculateSlotLambda = (startTime, offset) -&gt;\r\n\t\t\t\tnew Slot(startTime.plusMinutes(offset * duration), startTime.plusMinutes(offset * duration + duration));\r\n\r\n\t\ttimeSlots\r\n\t\t\t\t.forEach(slot -&gt; slot.setSlot(calculateSlotLambda.apply(newStartTime, slot.getOffsetSequenceNumber())));\r\n\t}\r\n```\r\n\r\nIn the last statement, I am setting the slot property for each of the individual entities, which causes some problems as I have a unique key constraint, which can be seen below:\r\n\r\n```java\r\n@Table(uniqueConstraints = {\r\n\t\t@UniqueConstraint(columnNames = { &quot;lab_id&quot;, &quot;opensAt&quot; })\r\n})\r\n```\r\n\r\nIn the `forEach` operation, whilst updating the slot. The `opensAt` field can overlap as successive slots have not yet been updated. I&#39;ve tried deleting all the slots and creating new ones, however, I&#39;d rather **not** do this as other classes actively test for the presence of timeslots. \r\n\r\nThus, I am wondering if there is an operation which can delay the update and execute the update all at once?\r\n\r\nAny help is appreciated. \r\n\r\n","title":"Delay Update operation until every entity is updated [HIBERNATE]","body":"<p>I currently have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n    public void updateSlots(@NotNull AbstractSlottedLabPatchDTO&lt;?&gt; slottedLabPatchDTO,\n            @NotNull AbstractSlottedLab&lt;?&gt; slottedLab) {\n\n        Long duration = slottedLab.getSlottedLabConfig().getDuration();\n        List&lt;? extends TimeSlot&gt; timeSlots = slottedLab.getTimeSlots();\n        LocalDateTime newStartTime = slottedLabPatchDTO.getSlot().getOpensAt();\n\n        BiFunction&lt;LocalDateTime, Integer, Slot&gt; calculateSlotLambda = (startTime, offset) -&gt;\n                new Slot(startTime.plusMinutes(offset * duration), startTime.plusMinutes(offset * duration + duration));\n\n        timeSlots\n                .forEach(slot -&gt; slot.setSlot(calculateSlotLambda.apply(newStartTime, slot.getOffsetSequenceNumber())));\n    }\n</code></pre>\n<p>In the last statement, I am setting the slot property for each of the individual entities, which causes some problems as I have a unique key constraint, which can be seen below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(uniqueConstraints = {\n        @UniqueConstraint(columnNames = { &quot;lab_id&quot;, &quot;opensAt&quot; })\n})\n</code></pre>\n<p>In the <code>forEach</code> operation, whilst updating the slot. The <code>opensAt</code> field can overlap as successive slots have not yet been updated. I've tried deleting all the slots and creating new ones, however, I'd rather <strong>not</strong> do this as other classes actively test for the presence of timeslots.</p>\n<p>Thus, I am wondering if there is an operation which can delay the update and execute the update all at once?</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","eclipse","intellij-idea","keyboard-shortcuts","hotkeys"],"comments":[{"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"score":2,"creation_date":1435944849,"post_id":31211842,"comment_id":50425340,"body_markdown":"possible duplicate of [IntelliJ Idea 12: How do i auto import namespaces?](http://stackoverflow.com/questions/14032680/intellij-idea-12-how-do-i-auto-import-namespaces)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14032680/intellij-idea-12-how-do-i-auto-import-namespaces\">IntelliJ Idea 12: How do i auto import namespaces?</a>"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":4,"creation_date":1435948045,"post_id":31211842,"comment_id":50426450,"body_markdown":"When looking for a command/keyboard shortcut, type Ctrl-shift-A (or Cmd-shift-A on Mac), and search for the command. For example here, typing &quot;imports&quot; will show you the command &quot;Optimize imports&quot;, and its keyboard shortcut.","body":"When looking for a command/keyboard shortcut, type Ctrl-shift-A (or Cmd-shift-A on Mac), and search for the command. For example here, typing &quot;imports&quot; will show you the command &quot;Optimize imports&quot;, and its keyboard shortcut."},{"owner":{"account_id":2566767,"reputation":2815,"user_id":2226595,"accept_rate":94,"display_name":"PlainOldProgrammer"},"score":3,"creation_date":1435956268,"post_id":31211842,"comment_id":50429170,"body_markdown":"The &quot;Optimize imports&quot; doesn&#39;t work add the Classes","body":"The &quot;Optimize imports&quot; doesn&#39;t work add the Classes"},{"owner":{"account_id":3283735,"reputation":4243,"user_id":2763683,"accept_rate":94,"display_name":"Andrea Bergonzo"},"score":0,"creation_date":1509303965,"post_id":31211842,"comment_id":80954677,"body_markdown":"The auto import for classes is working if you enable it under &quot;Settings &gt; Editor &gt; General &gt; Auto Import&quot;.","body":"The auto import for classes is working if you enable it under &quot;Settings &gt; Editor &gt; General &gt; Auto Import&quot;."},{"owner":{"account_id":1059510,"reputation":15581,"user_id":1061426,"accept_rate":69,"display_name":"bharal"},"score":0,"creation_date":1573484391,"post_id":31211842,"comment_id":103887432,"body_markdown":"this really is the biggest failing of intellij. it&#39;s a pain. getting conflicts and merges on imports is stupid, but intellij cannot easily help you resolve it","body":"this really is the biggest failing of intellij. it&#39;s a pain. getting conflicts and merges on imports is stupid, but intellij cannot easily help you resolve it"}],"answers":[{"comments":[{"owner":{"account_id":1474388,"reputation":5265,"user_id":1385174,"accept_rate":60,"display_name":"Adam"},"score":16,"creation_date":1478020277,"post_id":31221613,"comment_id":67983235,"body_markdown":"It&#39;s a lot more work this way when you&#39;re editing old files.","body":"It&#39;s a lot more work this way when you&#39;re editing old files."},{"owner":{"account_id":1791341,"reputation":518,"user_id":1631665,"display_name":"Rodrigo"},"score":0,"creation_date":1485899586,"post_id":31221613,"comment_id":71115073,"body_markdown":"This isn&#39;t working for me. When I press Enter after selecting a class that appears in the autocomplete list, IntelliJ doesn&#39;t import it. Instead, it writes the fully-qualified name of the class.  This is very annoying and useless.\nDo you know how to fix this?","body":"This isn&#39;t working for me. When I press Enter after selecting a class that appears in the autocomplete list, IntelliJ doesn&#39;t import it. Instead, it writes the fully-qualified name of the class.  This is very annoying and useless. Do you know how to fix this?"},{"owner":{"account_id":1791341,"reputation":518,"user_id":1631665,"display_name":"Rodrigo"},"score":0,"creation_date":1485905418,"post_id":31221613,"comment_id":71117313,"body_markdown":"^ the reason for this behavior is that the class I was trying to import was not in the build path. Once added, pressing Enter correctly imported the class.","body":"^ the reason for this behavior is that the class I was trying to import was not in the build path. Once added, pressing Enter correctly imported the class."},{"owner":{"account_id":439165,"reputation":2353,"user_id":827921,"accept_rate":17,"display_name":"Rahul Saini"},"score":3,"creation_date":1500272188,"post_id":31221613,"comment_id":77243387,"body_markdown":"I had come to this question hoping to find any such key shortcut for IntelliJ. The problem is that if I comment a large section of code having classes, IntelliJ automatically removes the namespace imports. Now If I go and uncomment the code, IntelliJ does not re-import the namespaces for the same and it becomes quite a headache to go on doing ALT+Enter for each of them. Any solution?","body":"I had come to this question hoping to find any such key shortcut for IntelliJ. The problem is that if I comment a large section of code having classes, IntelliJ automatically removes the namespace imports. Now If I go and uncomment the code, IntelliJ does not re-import the namespaces for the same and it becomes quite a headache to go on doing ALT+Enter for each of them. Any solution?"},{"owner":{"account_id":971267,"reputation":1259,"user_id":993802,"accept_rate":66,"display_name":"peekay"},"score":0,"creation_date":1561646114,"post_id":31221613,"comment_id":100141306,"body_markdown":"I agree with @RahulSaini on this.  There is no reason to have two separate key maps for a single activity.  I don&#39;t want to and shouldn&#39;t have to do multiple things to accomplish a single action.  I would say that at this point intellij is just being belligerent about it and has no real reason not to &quot;organize&quot; the imports as opposed to &quot;optimizing&quot; the imports.  I really want to down vote this answer even though it is technically correct.","body":"I agree with @RahulSaini on this.  There is no reason to have two separate key maps for a single activity.  I don&#39;t want to and shouldn&#39;t have to do multiple things to accomplish a single action.  I would say that at this point intellij is just being belligerent about it and has no real reason not to &quot;organize&quot; the imports as opposed to &quot;optimizing&quot; the imports.  I really want to down vote this answer even though it is technically correct."}],"tags":[],"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"comment_count":5,"down_vote_count":2,"up_vote_count":130,"is_accepted":true,"score":128,"last_activity_date":1468689207,"creation_date":1436019353,"answer_id":31221613,"question_id":31211842,"body_markdown":"IntelliJ IDEA does not have an action to add imports. Rather it has the ability to do such as you type. If you enable the &quot;Add unambiguous imports on the fly&quot; in _Settings &gt; Editor &gt; General &gt; Auto Import_, IntelliJ IDEA will add them as you type without the need for any shortcuts. You can also add classes and packages to exclude from auto importing to make a class you use heavily, that clashes with other classes of the same name, unambiguous. \r\n\r\nFor classes that are ambiguous (or is you prefer to have the &quot;Add unambiguous imports on the fly&quot; option turned off), just type the name of the class (just the name is OK, no need to fully qualify). Use code completion and select the particular class you want:\r\n\r\n[![enter image description here][1]][1] \r\n\r\nNotice the fully qualified names to the right. When I select the one I want and hit enter, IDEA will automatically add the import statement. This works the same if I was typing the name of a constructor. For static methods, you can even just keep typing the method you want. In the following screenshot, no &quot;StringUtils&quot; class is imported yet.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**Alternatively, type the class name and then hit &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; or &lt;kbd&gt;⌥&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; to &quot;Show intention actions and quick-fixes&quot; and then select the import option.**\r\n\r\nAlthough I&#39;ve never used it, I _think_ the [Eclipse Code Formatter][3] third party plug-in will do what you want. It lists &quot;emulates Eclipse&#39;s imports optimizing&quot; as a feature. See its [instructions][4] for more information. But in the end, I suspect you&#39;ll find the built in IDEA features work fine once you get use to their paradigm. In general, IDEA uses a &quot;develop by intentions&quot; concept. So rather than interrupting my development work to add an import statement, I just type the class I want (my intention) and IDEA automatically adds the import statement for the class for me.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Zmo2p.png\r\n  [2]: http://i.stack.imgur.com/Z8Gft.png\r\n  [3]: https://plugins.jetbrains.com/plugin/6546?pr=idea\r\n  [4]: https://github.com/krasa/EclipseCodeFormatter#instructions","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>IntelliJ IDEA does not have an action to add imports. Rather it has the ability to do such as you type. If you enable the \"Add unambiguous imports on the fly\" in <em>Settings > Editor > General > Auto Import</em>, IntelliJ IDEA will add them as you type without the need for any shortcuts. You can also add classes and packages to exclude from auto importing to make a class you use heavily, that clashes with other classes of the same name, unambiguous. </p>\n\n<p>For classes that are ambiguous (or is you prefer to have the \"Add unambiguous imports on the fly\" option turned off), just type the name of the class (just the name is OK, no need to fully qualify). Use code completion and select the particular class you want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zmo2p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Zmo2p.png\" alt=\"enter image description here\"></a> </p>\n\n<p>Notice the fully qualified names to the right. When I select the one I want and hit enter, IDEA will automatically add the import statement. This works the same if I was typing the name of a constructor. For static methods, you can even just keep typing the method you want. In the following screenshot, no \"StringUtils\" class is imported yet.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z8Gft.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Z8Gft.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Alternatively, type the class name and then hit <kbd>Alt</kbd>+<kbd>Enter</kbd> or <kbd>⌥</kbd>+<kbd>Enter</kbd> to \"Show intention actions and quick-fixes\" and then select the import option.</strong></p>\n\n<p>Although I've never used it, I <em>think</em> the <a href=\"https://plugins.jetbrains.com/plugin/6546?pr=idea\" rel=\"noreferrer\">Eclipse Code Formatter</a> third party plug-in will do what you want. It lists \"emulates Eclipse's imports optimizing\" as a feature. See its <a href=\"https://github.com/krasa/EclipseCodeFormatter#instructions\" rel=\"noreferrer\">instructions</a> for more information. But in the end, I suspect you'll find the built in IDEA features work fine once you get use to their paradigm. In general, IDEA uses a \"develop by intentions\" concept. So rather than interrupting my development work to add an import statement, I just type the class I want (my intention) and IDEA automatically adds the import statement for the class for me.</p>\n"},{"comments":[{"owner":{"account_id":40168,"reputation":7421,"user_id":116301,"accept_rate":89,"display_name":"GuiSim"},"score":1,"creation_date":1462372894,"post_id":36312868,"comment_id":61612060,"body_markdown":"I assume you are referring to the keyboard key symbols. These can be added using the `kbd` tag`&lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt;`","body":"I assume you are referring to the keyboard key symbols. These can be added using the <code>kbd</code> tag<code>&lt;kbd&gt;Alt&lt;&#47;kbd&gt; + &lt;kbd&gt;Enter&lt;&#47;kbd&gt;</code>"},{"owner":{"account_id":5092825,"reputation":737,"user_id":4085279,"accept_rate":29,"display_name":"Ajak6"},"score":1,"creation_date":1464912183,"post_id":36312868,"comment_id":62692569,"body_markdown":"Go to the class which it is not able to find and press ⌥+ Enter. Glad that I scrolled down.","body":"Go to the class which it is not able to find and press ⌥+ Enter. Glad that I scrolled down."},{"owner":{"account_id":3399318,"reputation":1774,"user_id":2851999,"accept_rate":100,"display_name":"laylaylom"},"score":1,"creation_date":1490385629,"post_id":36312868,"comment_id":73105898,"body_markdown":"Is there a way to remap `Alt+Enter` to a more finger-friendly combination? I couldn&#39;t figure it out through the `IntelliJ IDEA &gt; Preferences &gt; Keymap` menu.","body":"Is there a way to remap <code>Alt+Enter</code> to a more finger-friendly combination? I couldn&#39;t figure it out through the <code>IntelliJ IDEA &gt; Preferences &gt; Keymap</code> menu."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":1,"creation_date":1518003982,"post_id":36312868,"comment_id":84323280,"body_markdown":"I found Eclipse way of missing import statement addition easier than IDEA&#39;s.  I always get confused where to put mouse cursor before typing Alt + Enter","body":"I found Eclipse way of missing import statement addition easier than IDEA&#39;s.  I always get confused where to put mouse cursor before typing Alt + Enter"},{"owner":{"account_id":433561,"reputation":2685,"user_id":818960,"accept_rate":100,"display_name":"osundblad"},"score":0,"creation_date":1534191467,"post_id":36312868,"comment_id":90614257,"body_markdown":"Alt+Enter in combination with F2 (Next Highlighted Error) is usually quite quick even for (too) large Classes.","body":"Alt+Enter in combination with F2 (Next Highlighted Error) is usually quite quick even for (too) large Classes."},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1553803393,"post_id":36312868,"comment_id":97532546,"body_markdown":"This is wrong in at least one case. I just tried it gives options for the current (no errors) line when other lines need import.","body":"This is wrong in at least one case. I just tried it gives options for the current (no errors) line when other lines need import."},{"owner":{"account_id":7499769,"reputation":2018,"user_id":5698626,"accept_rate":82,"display_name":"PlsWork"},"score":0,"creation_date":1570567306,"post_id":36312868,"comment_id":102951617,"body_markdown":"Option + Enter on Mac","body":"Option + Enter on Mac"},{"owner":{"account_id":12399473,"reputation":1295,"user_id":10189759,"display_name":"Luk Aron"},"score":0,"creation_date":1571627606,"post_id":36312868,"comment_id":103290805,"body_markdown":"This should be the accepted answer. Other answers required lot of works.","body":"This should be the accepted answer. Other answers required lot of works."}],"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"comment_count":8,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1501845430,"creation_date":1459350607,"answer_id":36312868,"question_id":31211842,"body_markdown":"Not all at once. But you can press\r\n\r\n&lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt;\r\n\r\nPeople assume it only works when you are at the particular item. But it actually works for &quot;next missing type&quot;. So if you keep pressing &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt;, IDEA fixes one after another until all are fixed.","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Not all at once. But you can press</p>\n\n<p><kbd>Alt</kbd> + <kbd>Enter</kbd></p>\n\n<p>People assume it only works when you are at the particular item. But it actually works for \"next missing type\". So if you keep pressing <kbd>Alt</kbd> + <kbd>Enter</kbd>, IDEA fixes one after another until all are fixed.</p>\n"},{"tags":[],"owner":{"account_id":1796566,"reputation":929,"user_id":1635855,"accept_rate":83,"display_name":"Wuaner"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1520855143,"creation_date":1462936870,"answer_id":37152567,"question_id":31211842,"body_markdown":"Seems like IntelliJ IDEA will import missed class automatically, and you can import them by hit &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; manually.","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Seems like IntelliJ IDEA will import missed class automatically, and you can import them by hit <kbd>Alt</kbd> + <kbd>Enter</kbd> manually.</p>\n"},{"comments":[{"owner":{"account_id":5306113,"reputation":3722,"user_id":4233951,"accept_rate":56,"display_name":"atlas_scoffed"},"score":1,"creation_date":1527920493,"post_id":50092612,"comment_id":88318540,"body_markdown":"@Raja I&#39;m not sure why either. I do know that when I told my co-workers they chose not to use this method though... mysterious.","body":"@Raja I&#39;m not sure why either. I do know that when I told my co-workers they chose not to use this method though... mysterious."},{"owner":{"account_id":3015538,"reputation":4229,"user_id":2557818,"accept_rate":82,"display_name":"Raja Anbazhagan"},"score":0,"creation_date":1527960671,"post_id":50092612,"comment_id":88328876,"body_markdown":"The instructions are pretty clear. It only auto imports the `unambiguous` classes. And I have been using it since past two days on my 3000+ classes project. Works like a charm. Thanks for sharing.","body":"The instructions are pretty clear. It only auto imports the <code>unambiguous</code> classes. And I have been using it since past two days on my 3000+ classes project. Works like a charm. Thanks for sharing."},{"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"score":0,"creation_date":1689325662,"post_id":50092612,"comment_id":135200523,"body_markdown":"When you have ambiguous imports, and you know that you never want to import some of the options, you can exclude hem in &quot;Preferences &gt; Editor &gt; General &gt; Auto Import &gt; Exclude from auto-import and completion&quot;. That way, &quot;Add unambiguous imports on the fly&quot; works more often.","body":"When you have ambiguous imports, and you know that you never want to import some of the options, you can exclude hem in &quot;Preferences &gt; Editor &gt; General &gt; Auto Import &gt; Exclude from auto-import and completion&quot;. That way, &quot;Add unambiguous imports on the fly&quot; works more often."}],"tags":[],"owner":{"account_id":5306113,"reputation":3722,"user_id":4233951,"accept_rate":56,"display_name":"atlas_scoffed"},"comment_count":3,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1543274390,"creation_date":1525048132,"answer_id":50092612,"question_id":31211842,"body_markdown":"I think the best solution, though not exactly the same as Eclipse/Netbeans, is to change the &#39;Optimize Imports&#39; settings.\r\n\r\nUnder `Preferences &gt; Editor &gt; General &gt; Auto Import`\r\n\r\nSet `Add unambiguous imports on the fly`\r\n\r\nEdit: Using this method, when there *are* ambiguous imports, IntelliJ will let you know, and you can then use &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; method outlined in the [answer by Wuaner](https://stackoverflow.com/a/37152567/4233951)\r\n\r\nI find that, almost always, the most appropriate Import is at the top of the list. ","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>I think the best solution, though not exactly the same as Eclipse/Netbeans, is to change the 'Optimize Imports' settings.</p>\n\n<p>Under <code>Preferences &gt; Editor &gt; General &gt; Auto Import</code></p>\n\n<p>Set <code>Add unambiguous imports on the fly</code></p>\n\n<p>Edit: Using this method, when there <em>are</em> ambiguous imports, IntelliJ will let you know, and you can then use <kbd>Alt</kbd> + <kbd>Enter</kbd> method outlined in the <a href=\"https://stackoverflow.com/a/37152567/4233951\">answer by Wuaner</a></p>\n\n<p>I find that, almost always, the most appropriate Import is at the top of the list. </p>\n"},{"comments":[{"owner":{"account_id":3116542,"reputation":1299,"user_id":3450840,"accept_rate":56,"display_name":"Florian F"},"score":2,"creation_date":1568876205,"post_id":51577386,"comment_id":102415488,"body_markdown":"I tried.  It doesn&#39;t make &quot;organize imports&quot; behave the Eclipse way.","body":"I tried.  It doesn&#39;t make &quot;organize imports&quot; behave the Eclipse way."}],"tags":[],"owner":{"account_id":2080635,"reputation":4105,"user_id":1852693,"accept_rate":71,"display_name":"Dexter"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1625781529,"creation_date":1532840639,"answer_id":51577386,"question_id":31211842,"body_markdown":"Another option is to ask IDEA to behave like eclipse with eclipse shortcut keys. **You can use all eclipse shortcuts** by enabling this.\r\n\r\nHere are the steps:\r\n\r\n**1- With IDEA open, press *Control + `*. Following options will be popped up.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**2- Select Keymap. You will see another pop-up. Select Eclipse there.**\r\n\r\nIf you don&#39;t see &quot;Keymap&quot; in the options, install &quot;Eclipse Keymap&quot; plugin\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3- **Now  press `Ctrl + Shift + O`**. **You are done!**\r\n\r\n  [1]: https://i.stack.imgur.com/4lV3K.png\r\n  [2]: https://i.stack.imgur.com/RaJV2.png","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Another option is to ask IDEA to behave like eclipse with eclipse shortcut keys. <strong>You can use all eclipse shortcuts</strong> by enabling this.</p>\n<p>Here are the steps:</p>\n<p><strong>1- With IDEA open, press <em>Control + `</em>. Following options will be popped up.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4lV3K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lV3K.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>2- Select Keymap. You will see another pop-up. Select Eclipse there.</strong></p>\n<p>If you don't see &quot;Keymap&quot; in the options, install &quot;Eclipse Keymap&quot; plugin</p>\n<p><a href=\"https://i.stack.imgur.com/RaJV2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RaJV2.png\" alt=\"enter image description here\" /></a></p>\n<p>3- <strong>Now  press <code>Ctrl + Shift + O</code></strong>. <strong>You are done!</strong></p>\n"},{"tags":[],"owner":{"account_id":10071285,"reputation":2543,"user_id":7444762,"display_name":"Lyncean Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1566467755,"creation_date":1566467755,"answer_id":57606669,"question_id":31211842,"body_markdown":"Can&#39;t import all at once but can use following combination:\r\n\r\n`ALT` + `Enter` --&gt;  Show intention actions and quick-fixes.\r\n\r\n`F2`            --&gt;  Next highlighted error. ","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Can't import all at once but can use following combination:</p>\n\n<p><code>ALT</code> + <code>Enter</code> -->  Show intention actions and quick-fixes.</p>\n\n<p><code>F2</code>            -->  Next highlighted error. </p>\n"},{"tags":[],"owner":{"account_id":6597861,"reputation":7627,"user_id":5097027,"accept_rate":71,"display_name":"NarendraR"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1585213938,"creation_date":1585213938,"answer_id":60863970,"question_id":31211842,"body_markdown":"Use &lt;kbd&gt;control&lt;/kbd&gt;+&lt;kbd&gt;option&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt; to auto import the package and auto remove unused packages on Mac","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Use <kbd>control</kbd>+<kbd>option</kbd>+<kbd>L</kbd> to auto import the package and auto remove unused packages on Mac</p>\n"},{"comments":[{"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"score":0,"creation_date":1615726281,"post_id":65194988,"comment_id":117775054,"body_markdown":"0 Zero or O Ou ? Both did not work on IDEA CE 2019.","body":"0 Zero or O Ou ? Both did not work on IDEA CE 2019."}],"tags":[],"owner":{"account_id":15544115,"reputation":103,"user_id":11213927,"display_name":"Jun"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1607413569,"creation_date":1607413569,"answer_id":65194988,"question_id":31211842,"body_markdown":"Use `control`+`option`+`O` to auto-import the package or auto remove unused packages on MacOS","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Use <code>control</code>+<code>option</code>+<code>O</code> to auto-import the package or auto remove unused packages on MacOS</p>\n"},{"comments":[{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":0,"creation_date":1700471425,"post_id":67513701,"comment_id":136654172,"body_markdown":"This does nothing.","body":"This does nothing."}],"tags":[],"owner":{"account_id":9068580,"reputation":1,"user_id":6752612,"display_name":"Unnikrishnan S"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620878185,"creation_date":1620878185,"answer_id":67513701,"question_id":31211842,"body_markdown":"Use &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; for importing a single package or use &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; to auto import all the unambiguous packages in the current file.","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Use <kbd>Alt</kbd>+<kbd>Enter</kbd> for importing a single package or use <kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>Enter</kbd> to auto import all the unambiguous packages in the current file.</p>\n"},{"tags":[],"owner":{"account_id":18168949,"reputation":90,"user_id":13218973,"display_name":"Mbuso Kotobe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622639405,"creation_date":1622639405,"answer_id":67805770,"question_id":31211842,"body_markdown":"Hover on top of the code which needs a class then press \r\n\r\nalt + shift + Enter\r\n\r\nThis will auto import the needed class.","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>Hover on top of the code which needs a class then press</p>\n<p>alt + shift + Enter</p>\n<p>This will auto import the needed class.</p>\n"},{"tags":[],"owner":{"account_id":4528798,"reputation":10533,"user_id":3679900,"accept_rate":48,"display_name":"y2k-shubham"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662151426,"creation_date":1662150642,"answer_id":73587684,"question_id":31211842,"body_markdown":"**UPDATE**\r\n\r\n[**@ntg**][1] has given a [very smart solution][2] for converting `import .*` to individual imports in existing files (it is not completely automatic, but still quite low-effort)\r\n\r\n - Go to any `import .*` statement and press &lt;kbd&gt;Alt&lt;/kbd&gt; &lt;kbd&gt;Enter&lt;/kbd&gt; (&lt;kbd&gt;⌥&lt;/kbd&gt; &lt;kbd&gt;return&lt;/kbd&gt; on Mac)\r\n   - a popup will appear to replace the * import with individual imports\r\n - then just hit &lt;kbd&gt;Enter&lt;/kbd&gt; again\r\n\r\n[![enter image description here][3]][3]\r\n\r\n-------\r\n\r\n**Original answer**\r\n\r\nNot sure if this is universal but I&#39;ve found that after enabling both the following settings (as told in earlier answers), my `IntelliJ` is able to smartly **convert `package.*` imports into individual imports** (in existing files) just **by deleting the `import com.company.package.*` line**\r\n\r\n - Add unambiguous imports on the fly\r\n - Optimize imports on the fly\r\n\r\n[![enter image description here][4]][4]\r\n\r\n*Essentially it will be able to add all &#39;unambiguous&#39; imports for us, the rest will have to be resolved manually*\r\n\r\n----\r\n\r\nI&#39;m using\r\n - IntelliJ IDEA Ultimate 2022.1 (Build #IU-222.3739.54)\r\n - MacOS Monterey 12.5.1\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/508907/ntg\r\n  [2]: https://stackoverflow.com/a/69939063/3679900\r\n  [3]: https://i.stack.imgur.com/m91xw.png\r\n  [4]: https://i.stack.imgur.com/3HlDr.png","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p><strong>UPDATE</strong></p>\n<p><a href=\"https://stackoverflow.com/users/508907/ntg\"><strong>@ntg</strong></a> has given a <a href=\"https://stackoverflow.com/a/69939063/3679900\">very smart solution</a> for converting <code>import .*</code> to individual imports in existing files (it is not completely automatic, but still quite low-effort)</p>\n<ul>\n<li>Go to any <code>import .*</code> statement and press <kbd>Alt</kbd> <kbd>Enter</kbd> (<kbd>⌥</kbd> <kbd>return</kbd> on Mac)\n<ul>\n<li>a popup will appear to replace the * import with individual imports</li>\n</ul>\n</li>\n<li>then just hit <kbd>Enter</kbd> again</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/m91xw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m91xw.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><strong>Original answer</strong></p>\n<p>Not sure if this is universal but I've found that after enabling both the following settings (as told in earlier answers), my <code>IntelliJ</code> is able to smartly <strong>convert <code>package.*</code> imports into individual imports</strong> (in existing files) just <strong>by deleting the <code>import com.company.package.*</code> line</strong></p>\n<ul>\n<li>Add unambiguous imports on the fly</li>\n<li>Optimize imports on the fly</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3HlDr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3HlDr.png\" alt=\"enter image description here\" /></a></p>\n<p><em>Essentially it will be able to add all 'unambiguous' imports for us, the rest will have to be resolved manually</em></p>\n<hr />\n<p>I'm using</p>\n<ul>\n<li>IntelliJ IDEA Ultimate 2022.1 (Build #IU-222.3739.54)</li>\n<li>MacOS Monterey 12.5.1</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15294318,"reputation":69,"user_id":11034928,"display_name":"REghZY"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692451943,"creation_date":1692451943,"answer_id":76935355,"question_id":31211842,"body_markdown":"As others mentioned, IntelliJ auto imports them on the fly (if enabled in the settings). \r\n\r\nIf you want to do this across an entire project, what you can do is replace all (`CTRL+SHIFT+H`) occurrences of the class name to include the package too (e.g. `MyClass` -&gt; `com.app.MyClass`), and then you can run the &quot;Remove Unnecessary Qualifications&quot; inspection on the whole project by pressing `ALT+Enter` on some code that was replaced. Then once the inspection is done, just keep clicking the &quot;Replace qualified name with import&quot; button on the right.\r\n\r\nI couldn&#39;t find any other way to do the project-wide auto import","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>As others mentioned, IntelliJ auto imports them on the fly (if enabled in the settings).</p>\n<p>If you want to do this across an entire project, what you can do is replace all (<code>CTRL+SHIFT+H</code>) occurrences of the class name to include the package too (e.g. <code>MyClass</code> -&gt; <code>com.app.MyClass</code>), and then you can run the &quot;Remove Unnecessary Qualifications&quot; inspection on the whole project by pressing <code>ALT+Enter</code> on some code that was replaced. Then once the inspection is done, just keep clicking the &quot;Replace qualified name with import&quot; button on the right.</p>\n<p>I couldn't find any other way to do the project-wide auto import</p>\n"}],"owner":{"account_id":2566767,"reputation":2815,"user_id":2226595,"accept_rate":94,"display_name":"PlainOldProgrammer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228125,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"accepted_answer_id":31221613,"answer_count":12,"score":161,"last_activity_date":1692451943,"creation_date":1435944596,"question_id":31211842,"body_markdown":"In Eclipse, while coding in Java and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;O&lt;/kbd&gt; auto import all the Classes automatically.  \r\nIn NetBeans, this is done with &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;I&lt;/kbd&gt;.\r\n\r\nIs any way to do this in IntelliJ IDEA?\r\n\r\nI searched an equivalent shortcut in google, StackOverflow, IntelliJ IDEA configuration and in the official IntelliJ website [Keyboard Shortcuts You Cannot Miss][1] \r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/help/keyboard-shortcuts-you-cannot-miss.html\r\n\r\n","title":"Any way (or shortcut) to auto import the classes in IntelliJ IDEA like in Eclipse?","body":"<p>In Eclipse, while coding in Java and press <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd> auto import all the Classes automatically.<br>\nIn NetBeans, this is done with <kbd>Ctrl</kbd> + <kbd>Shift</kbd> + <kbd>I</kbd>.</p>\n\n<p>Is any way to do this in IntelliJ IDEA?</p>\n\n<p>I searched an equivalent shortcut in google, StackOverflow, IntelliJ IDEA configuration and in the official IntelliJ website <a href=\"https://www.jetbrains.com/idea/help/keyboard-shortcuts-you-cannot-miss.html\" rel=\"noreferrer\">Keyboard Shortcuts You Cannot Miss</a> </p>\n"},{"tags":["java","android","security","shared-libraries"],"owner":{"account_id":29075161,"reputation":1,"user_id":22272527,"display_name":"Jochengehtab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692451937,"creation_date":1692384585,"question_id":76931916,"body_markdown":"### The Problem\r\n\r\nI have a lot of shared librays (.so) that I need for my project. But I noticed that everyone can extract the apk file and rename it to .zip, and can copy and use the shared librays.\r\n \r\n### What I tried\r\n\r\nI tried to encrypt the shared librays and copy them later to the libs Folder, but this doesn&#39;t work because when the app get&#39;s installed the libs gets created, and you can never change it. I also tried to use an .aar file, but I do also not work.\r\n","title":"Protect Android Native Librays","body":"<h3>The Problem</h3>\n<p>I have a lot of shared librays (.so) that I need for my project. But I noticed that everyone can extract the apk file and rename it to .zip, and can copy and use the shared librays.</p>\n<h3>What I tried</h3>\n<p>I tried to encrypt the shared librays and copy them later to the libs Folder, but this doesn't work because when the app get's installed the libs gets created, and you can never change it. I also tried to use an .aar file, but I do also not work.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1692446875,"post_id":76934887,"comment_id":135626178,"body_markdown":"add code as text (not images), also give us more info on how you sent the request and actual path u used (images for that would be useful)","body":"add code as text (not images), also give us more info on how you sent the request and actual path u used (images for that would be useful)"},{"owner":{"account_id":12715948,"reputation":109,"user_id":9237975,"display_name":"Ashish Tripathi"},"score":0,"creation_date":1692449502,"post_id":76934887,"comment_id":135626434,"body_markdown":"@AhmedNabil as requested I added the code in text form and code for controller and service class.","body":"@AhmedNabil as requested I added the code in text form and code for controller and service class."},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692451076,"post_id":76934887,"comment_id":135626592,"body_markdown":"Why you are creating ```UserSecurity``` Bean?","body":"Why you are creating <code>UserSecurity</code> Bean?"},{"owner":{"account_id":12715948,"reputation":109,"user_id":9237975,"display_name":"Ashish Tripathi"},"score":0,"creation_date":1692451207,"post_id":76934887,"comment_id":135626603,"body_markdown":"that is to return passoword encoder @GD07. But I don&#39;t think it is causing the trouble. Is it ?","body":"that is to return passoword encoder @GD07. But I don&#39;t think it is causing the trouble. Is it ?"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692451430,"post_id":76934887,"comment_id":135626637,"body_markdown":"Seems, there is no trouble with that.","body":"Seems, there is no trouble with that."}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692447018,"creation_date":1692447018,"answer_id":76935030,"question_id":76934887,"body_markdown":"one problem I&#39;ve noticed you&#39;ve missed @Bean on SecurityFilterChain method\r\n\r\n```\r\n&gt;&gt; @Bean &lt;&lt;\r\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        .....\r\n}\r\n\r\n```","title":"Spring security configuration not working","body":"<p>one problem I've noticed you've missed @Bean on SecurityFilterChain method</p>\n<pre><code>&gt;&gt; @Bean &lt;&lt;\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        .....\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12715948,"reputation":109,"user_id":9237975,"display_name":"Ashish Tripathi"},"score":1,"creation_date":1692453535,"post_id":76935345,"comment_id":135626878,"body_markdown":"The issue resolved now, it was because csrf was enabled. So i added .csrf(AbstractHttpConfigurer::disable);  and it worked","body":"The issue resolved now, it was because csrf was enabled. So i added .csrf(AbstractHttpConfigurer::disable);  and it worked"},{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692454009,"post_id":76935345,"comment_id":135626936,"body_markdown":"@AshishTripathi yeah right ```csrf``` should be disabled, that&#39;s great.","body":"@AshishTripathi yeah right <code>csrf</code> should be disabled, that&#39;s great."}],"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692451687,"creation_date":1692451687,"answer_id":76935345,"question_id":76934887,"body_markdown":"You can try to modify the code something like this, for me it is working fine in my local.\r\n\r\n*Here, any request matching the url `/api/user/**` is allowed, for other url&#39;s, asking for the authentication.*\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n                httpSecurity.authorizeHttpRequests(x -&gt; x.requestMatchers(&quot;/api/user/**&quot;)\r\n                                        .permitAll()\r\n                                        .anyRequest().authenticated());\r\n            return httpSecurity.build();\r\n        }\r\n    }","title":"Spring security configuration not working","body":"<p>You can try to modify the code something like this, for me it is working fine in my local.</p>\n<p><em>Here, any request matching the url <code>/api/user/**</code> is allowed, for other url's, asking for the authentication.</em></p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n            httpSecurity.authorizeHttpRequests(x -&gt; x.requestMatchers(&quot;/api/user/**&quot;)\n                                    .permitAll()\n                                    .anyRequest().authenticated());\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12715948,"reputation":109,"user_id":9237975,"display_name":"Ashish Tripathi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935345,"answer_count":2,"score":0,"last_activity_date":1692451687,"creation_date":1692444883,"question_id":76934887,"body_markdown":"I am new to spring security. I noticed that as soon as I added the spring security dependency in my project I got 401. So, I tried to create a config file where added the following code. However again I am getting 401.\r\n\r\nBelow is my code for the configuration file. Let me know if I am missing something.\r\n\r\n    package com.hasti.birdy.portfolio.user.config;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class UserConfig {\r\n    \r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\r\n        try {\r\n            System.out.println(&quot;filtering certain requests&quot;);\r\n            return httpSecurity.csrf()\r\n\t\t\t.disable()\t\t\t\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t.requestMatchers(&quot;/api/user/**&quot;)\r\n\t\t\t.permitAll()\r\n\t\t\t.and()\r\n\t\t\t.httpBasic()\r\n\t\t\t.and()\r\n\t\t\t.build();\r\n        } catch (Exception e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    @Bean\r\n    public UserSecurity getUserSecurity() {\r\n        return new UserSecurity();\r\n    }\r\n    }\r\n\r\nThis is the code for the service class :\r\n\r\n    package com.hasti.birdy.portfolio.user.service;\r\n\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import com.hasti.birdy.portfolio.user.config.UserSecurity;\r\n    import com.hasti.birdy.portfolio.user.dto.PermissionDto;\r\n    import com.hasti.birdy.portfolio.user.dto.UserDto;\r\n    import com.hasti.birdy.portfolio.user.mapper.PermissionMapper;\r\n    import com.hasti.birdy.portfolio.user.mapper.RoleMapper;\r\n    import com.hasti.birdy.portfolio.user.mapper.UserMapper;\r\n    import com.hasti.birdy.portfolio.user.model.Permission;\r\n    import com.hasti.birdy.portfolio.user.model.Role;\r\n    import com.hasti.birdy.portfolio.user.model.UserModel;\r\n    import com.hasti.birdy.portfolio.user.repository.RoleRepository;\r\n    import com.hasti.birdy.portfolio.user.repository.UserRepository;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n\r\n    @Service\r\n    @Slf4j\r\n    @RequiredArgsConstructor\r\n    public class UserService {\r\n\r\n\tprivate final UserMapper userMapper;\r\n\tprivate final RoleMapper roleMapper;\r\n\tprivate final PermissionMapper permissionMapper;\r\n\tprivate final UserRepository userRepository;\r\n\tprivate final RoleRepository roleRepository;\r\n\tprivate final UserSecurity userSecurity;\r\n\tpublic String createAdmin(UserDto userDto)\r\n\t{\r\n\t\tUserModel userModel = userMapper.map(userDto);\r\n\t\tRole role = roleRepository.findAdminRole();\r\n\t\tuserModel.setEncryptedPassword(userSecurity.getPasswordEncoder().encode(userDto.getPassword()));\r\n\t\tuserModel.setRole(role);\r\n\t\tuserRepository.save(userModel);\r\n\t\treturn &quot;created&quot;;\r\n\t}\r\n\t\r\n\tpublic String createCustomer(UserDto userDto)\r\n\t{\r\n\t\tUserModel userModel = userMapper.map(userDto);\r\n\t\tRole role = roleRepository.findCustomerRole();\r\n\t\tuserModel.setEncryptedPassword(userSecurity.getPasswordEncoder().encode(userDto.getPassword()));\r\n\t\tuserModel.setRole(role);\r\n\t\tuserRepository.save(userModel);\r\n\t\treturn &quot;created&quot;;\r\n\t}\r\n\t\r\n\t\r\n    }\r\n\r\nAnd this is the code for the controller class : \r\n\r\n    package com.hasti.birdy.portfolio.user.controller;\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.HttpStatusCode;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import com.hasti.birdy.portfolio.user.dto.UserDto;\r\n    import com.hasti.birdy.portfolio.user.service.UserService;\r\n\r\n    import lombok.RequiredArgsConstructor;\r\n\r\n    @RequiredArgsConstructor\r\n    @RestController\r\n    @RequestMapping(&quot;/api/user&quot;)\r\n    public class UserController {\r\n\t\r\n\tprivate final UserService userService;\r\n\t@PostMapping(&quot;/hsstudio/admin&quot;)\r\n\tpublic ResponseEntity&lt;String&gt; createAdmin(@RequestBody UserDto userDto)\r\n\t{\r\n\t\tuserService.createAdmin(userDto);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(&quot;created Admin&quot;);\r\n\t}\r\n\t@PostMapping()\r\n\tpublic ResponseEntity&lt;String&gt; createCustomer(@RequestBody UserDto userDto)\r\n\t{\r\n\t\tuserService.createCustomer(userDto);\r\n\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(&quot;created customer &quot;);\r\n\t}\r\n\t\r\n        }\r\n\r\n\r\n\r\n","title":"Spring security configuration not working","body":"<p>I am new to spring security. I noticed that as soon as I added the spring security dependency in my project I got 401. So, I tried to create a config file where added the following code. However again I am getting 401.</p>\n<p>Below is my code for the configuration file. Let me know if I am missing something.</p>\n<pre><code>package com.hasti.birdy.portfolio.user.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class UserConfig {\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) {\n    try {\n        System.out.println(&quot;filtering certain requests&quot;);\n        return httpSecurity.csrf()\n        .disable()          \n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/api/user/**&quot;)\n        .permitAll()\n        .and()\n        .httpBasic()\n        .and()\n        .build();\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    return null;\n}\n\n@Bean\npublic UserSecurity getUserSecurity() {\n    return new UserSecurity();\n}\n}\n</code></pre>\n<p>This is the code for the service class :</p>\n<pre><code>package com.hasti.birdy.portfolio.user.service;\n\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\nimport org.springframework.stereotype.Service;\n\nimport com.hasti.birdy.portfolio.user.config.UserSecurity;\nimport com.hasti.birdy.portfolio.user.dto.PermissionDto;\nimport com.hasti.birdy.portfolio.user.dto.UserDto;\nimport com.hasti.birdy.portfolio.user.mapper.PermissionMapper;\nimport com.hasti.birdy.portfolio.user.mapper.RoleMapper;\nimport com.hasti.birdy.portfolio.user.mapper.UserMapper;\nimport com.hasti.birdy.portfolio.user.model.Permission;\nimport com.hasti.birdy.portfolio.user.model.Role;\nimport com.hasti.birdy.portfolio.user.model.UserModel;\nimport com.hasti.birdy.portfolio.user.repository.RoleRepository;\nimport com.hasti.birdy.portfolio.user.repository.UserRepository;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\n@Service\n@Slf4j\n@RequiredArgsConstructor\npublic class UserService {\n\nprivate final UserMapper userMapper;\nprivate final RoleMapper roleMapper;\nprivate final PermissionMapper permissionMapper;\nprivate final UserRepository userRepository;\nprivate final RoleRepository roleRepository;\nprivate final UserSecurity userSecurity;\npublic String createAdmin(UserDto userDto)\n{\n    UserModel userModel = userMapper.map(userDto);\n    Role role = roleRepository.findAdminRole();\n    userModel.setEncryptedPassword(userSecurity.getPasswordEncoder().encode(userDto.getPassword()));\n    userModel.setRole(role);\n    userRepository.save(userModel);\n    return &quot;created&quot;;\n}\n\npublic String createCustomer(UserDto userDto)\n{\n    UserModel userModel = userMapper.map(userDto);\n    Role role = roleRepository.findCustomerRole();\n    userModel.setEncryptedPassword(userSecurity.getPasswordEncoder().encode(userDto.getPassword()));\n    userModel.setRole(role);\n    userRepository.save(userModel);\n    return &quot;created&quot;;\n}\n\n\n}\n</code></pre>\n<p>And this is the code for the controller class :</p>\n<pre><code>package com.hasti.birdy.portfolio.user.controller;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.HttpStatusCode;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.hasti.birdy.portfolio.user.dto.UserDto;\nimport com.hasti.birdy.portfolio.user.service.UserService;\n\nimport lombok.RequiredArgsConstructor;\n\n@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\nprivate final UserService userService;\n@PostMapping(&quot;/hsstudio/admin&quot;)\npublic ResponseEntity&lt;String&gt; createAdmin(@RequestBody UserDto userDto)\n{\n    userService.createAdmin(userDto);\n    return ResponseEntity.status(HttpStatus.CREATED).body(&quot;created Admin&quot;);\n}\n@PostMapping()\npublic ResponseEntity&lt;String&gt; createCustomer(@RequestBody UserDto userDto)\n{\n    userService.createCustomer(userDto);\n    return ResponseEntity.status(HttpStatus.CREATED).body(&quot;created customer &quot;);\n}\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","cookies"],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1692451420,"creation_date":1692451420,"question_id":76935330,"body_markdown":"I&#39;m developing a Spring Boot app (backend) with Vaadin (frontend). The app is secured with HTTPS and uses JWT in authentication &amp; authorization process.\r\n\r\nI&#39;ve got a simple `/login` view where there are two `TextField` fields for username and password. Clicking `Login` button sends an HTTPS request using `WebClient` class. The client receives JWT value in a successful response which also contains `Set-Cookie` header that looks like this: `token=SOME_JWT; Path=/; Secure; HttpOnly`. Now, the issue is that this header does not actually set any cookie. I use Firefox and there&#39;s nothing in cookie storage.\r\n\r\nHere&#39;s how the view class looks like (it includes the WebClient config).\r\n```\r\n@PageTitle(&quot;Login&quot;)\r\n@Route(value = &quot;login&quot;)\r\npublic class LogView extends VerticalLayout {\r\n\r\n\tprivate WebClient webClient;\r\n\r\n\tpublic LogView(WebClient.Builder builder) throws IOException {\r\n\t\tthis.webClient = webClient(builder);\r\n\r\n\t\tTextField username = new TextField(&quot;Username&quot;);\r\n\t\tTextField password = new TextField(&quot;Password&quot;);\r\n\t\tadd(username, password);\r\n\r\n\t\tadd(new Button(&quot;Login&quot;, (click) -&gt; {\r\n\t\t\tString jsonBody = &quot;{\\n&quot;\r\n\t\t\t\t\t+ &quot;  \\&quot;username\\&quot;: \\&quot;&quot; + username.getValue() + &quot;\\&quot;,\\n&quot;\r\n\t\t\t\t\t+ &quot;  \\&quot;password\\&quot;: \\&quot;&quot; + password.getValue() + &quot;\\&quot;\\n&quot;\r\n\t\t\t\t\t+ &quot;}&quot;;\r\n\t\t\tvar response = this.webClient\r\n\t\t\t\t\t.post()\r\n\t\t\t\t\t.uri(&quot;/api/auth/authenticate&quot;)\r\n\t\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t\t.body(BodyInserters.fromObject(jsonBody))\r\n\t\t\t\t\t.retrieve()\r\n\t\t\t\t\t.bodyToMono(AuthResponseDTO.class);\r\n\t\t}));\r\n\t}\r\n\t\r\n\tprivate WebClient webClient(WebClient.Builder webClientBuilder) throws SSLException {\r\n\t\tSslContext sslContext = SslContextBuilder\r\n\t\t\t\t.forClient()\r\n\t\t\t\t.trustManager(InsecureTrustManagerFactory.INSTANCE)\r\n\t\t\t\t.build();\r\n\t\tClientHttpConnector httpConnector =  new ReactorClientHttpConnector(\r\n\t\t\t\tHttpClient.create().secure(t -&gt; t.sslContext(sslContext)));\r\n\r\n\t\tthis.webClient = webClientBuilder\r\n\t\t\t\t.clientConnector(httpConnector)\r\n\t\t\t\t.baseUrl(&quot;https://127.0.0.1:8433&quot;)\r\n\t\t\t\t.build();\r\n\t\treturn webClient;\r\n\t}\r\n}\r\n```\r\nAnd here&#39;s also an authentication endpoint from `AuthController`:\r\n```\r\n\t@PostMapping(&quot;/authenticate&quot;)\r\n\tpublic AuthResponseDTO authenticate(@RequestBody AuthRequestDTO request,\r\n\t\t\tHttpServletResponse response) {\r\n\t\tAuthResponseDTO tokenDTO = authService.authenticate(request);\r\n\t\tthis.addAuthCookie(response, tokenDTO);\r\n\t\treturn tokenDTO;\r\n\t}\r\n\r\n\tprivate void addAuthCookie(HttpServletResponse response, AuthResponseDTO tokenDTO) {\r\n\t\tresponse.addCookie(createAuthCookie(tokenDTO.getToken()));\r\n\t}\r\n\r\n\tprivate Cookie createAuthCookie(String token) {\r\n\t\tCookie cookie = new Cookie(&quot;token&quot;, token);\r\n\t\tcookie.setHttpOnly(true);\r\n\t\tcookie.setSecure(true);\r\n\t\tcookie.setPath(&quot;/&quot;);\r\n\t\treturn cookie;\r\n\t}\r\n```","title":"&quot;Set-Cookie&quot; header does not set cookie","body":"<p>I'm developing a Spring Boot app (backend) with Vaadin (frontend). The app is secured with HTTPS and uses JWT in authentication &amp; authorization process.</p>\n<p>I've got a simple <code>/login</code> view where there are two <code>TextField</code> fields for username and password. Clicking <code>Login</code> button sends an HTTPS request using <code>WebClient</code> class. The client receives JWT value in a successful response which also contains <code>Set-Cookie</code> header that looks like this: <code>token=SOME_JWT; Path=/; Secure; HttpOnly</code>. Now, the issue is that this header does not actually set any cookie. I use Firefox and there's nothing in cookie storage.</p>\n<p>Here's how the view class looks like (it includes the WebClient config).</p>\n<pre><code>@PageTitle(&quot;Login&quot;)\n@Route(value = &quot;login&quot;)\npublic class LogView extends VerticalLayout {\n\n    private WebClient webClient;\n\n    public LogView(WebClient.Builder builder) throws IOException {\n        this.webClient = webClient(builder);\n\n        TextField username = new TextField(&quot;Username&quot;);\n        TextField password = new TextField(&quot;Password&quot;);\n        add(username, password);\n\n        add(new Button(&quot;Login&quot;, (click) -&gt; {\n            String jsonBody = &quot;{\\n&quot;\n                    + &quot;  \\&quot;username\\&quot;: \\&quot;&quot; + username.getValue() + &quot;\\&quot;,\\n&quot;\n                    + &quot;  \\&quot;password\\&quot;: \\&quot;&quot; + password.getValue() + &quot;\\&quot;\\n&quot;\n                    + &quot;}&quot;;\n            var response = this.webClient\n                    .post()\n                    .uri(&quot;/api/auth/authenticate&quot;)\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromObject(jsonBody))\n                    .retrieve()\n                    .bodyToMono(AuthResponseDTO.class);\n        }));\n    }\n    \n    private WebClient webClient(WebClient.Builder webClientBuilder) throws SSLException {\n        SslContext sslContext = SslContextBuilder\n                .forClient()\n                .trustManager(InsecureTrustManagerFactory.INSTANCE)\n                .build();\n        ClientHttpConnector httpConnector =  new ReactorClientHttpConnector(\n                HttpClient.create().secure(t -&gt; t.sslContext(sslContext)));\n\n        this.webClient = webClientBuilder\n                .clientConnector(httpConnector)\n                .baseUrl(&quot;https://127.0.0.1:8433&quot;)\n                .build();\n        return webClient;\n    }\n}\n</code></pre>\n<p>And here's also an authentication endpoint from <code>AuthController</code>:</p>\n<pre><code>    @PostMapping(&quot;/authenticate&quot;)\n    public AuthResponseDTO authenticate(@RequestBody AuthRequestDTO request,\n            HttpServletResponse response) {\n        AuthResponseDTO tokenDTO = authService.authenticate(request);\n        this.addAuthCookie(response, tokenDTO);\n        return tokenDTO;\n    }\n\n    private void addAuthCookie(HttpServletResponse response, AuthResponseDTO tokenDTO) {\n        response.addCookie(createAuthCookie(tokenDTO.getToken()));\n    }\n\n    private Cookie createAuthCookie(String token) {\n        Cookie cookie = new Cookie(&quot;token&quot;, token);\n        cookie.setHttpOnly(true);\n        cookie.setSecure(true);\n        cookie.setPath(&quot;/&quot;);\n        return cookie;\n    }\n</code></pre>\n"},{"tags":["java","css","flying-saucer"],"comments":[{"owner":{"account_id":2217012,"reputation":1273,"user_id":1957354,"accept_rate":71,"display_name":"Redone"},"score":0,"creation_date":1411462988,"post_id":25990886,"comment_id":40701344,"body_markdown":"Hey have you checked if the css is loaded properly? If yes you could do `color:red !important;`.","body":"Hey have you checked if the css is loaded properly? If yes you could do <code>color:red !important;</code>."},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1411463994,"post_id":25990886,"comment_id":40701894,"body_markdown":"Please explain, what you mean by &quot;css is loaded&quot;.How could I  check  css is loaded or not in java .That is possible in Web alone.there I didn&#39;t face any problem.Proble with PDF generation in Java Code.","body":"Please explain, what you mean by &quot;css is loaded&quot;.How could I  check  css is loaded or not in java .That is possible in Web alone.there I didn&#39;t face any problem.Proble with PDF generation in Java Code."},{"owner":{"account_id":162885,"reputation":1922,"user_id":384646,"accept_rate":75,"display_name":"Romski"},"score":0,"creation_date":1411716170,"post_id":25990886,"comment_id":40816553,"body_markdown":"Looking at your project structure, shouldn&#39;t the href be `css/RedCSS.css`?","body":"Looking at your project structure, shouldn&#39;t the href be <code>css&#47;RedCSS.css</code>?"},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1411724887,"post_id":25990886,"comment_id":40820987,"body_markdown":"Thanks for reply.I tried that too but no use.","body":"Thanks for reply.I tried that too but no use."}],"answers":[{"comments":[{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1411990684,"post_id":26098507,"comment_id":40898731,"body_markdown":"Thanks for reply,but it seems not working.Could you give me folder structure for all the files you mentioned ?","body":"Thanks for reply,but it seems not working.Could you give me folder structure for all the files you mentioned ?"},{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1411992692,"post_id":26098507,"comment_id":40899804,"body_markdown":"I added a screenshot of my java project in the response.","body":"I added a screenshot of my java project in the response."},{"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"score":0,"creation_date":1412057105,"post_id":26098507,"comment_id":40925542,"body_markdown":"It is not working for me. could you give me your email id ? I will send the zip file where you can find error.","body":"It is not working for me. could you give me your email id ? I will send the zip file where you can find error."},{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1412148028,"post_id":26098507,"comment_id":40966041,"body_markdown":"You&#39;d better upload it on a public file server and add the link in the question.","body":"You&#39;d better upload it on a public file server and add the link in the question."}],"tags":[],"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411992531,"creation_date":1411989004,"answer_id":26098507,"question_id":25990886,"body_markdown":"Given the structure of the project, `&lt;link href=&quot;css/RedCSS.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;` should definitely work.\r\n\r\nHere is a working sample :\r\n\r\nFile struct :\r\n\r\n![enter image description here][1]\r\n\r\nFile 1 : `testRed.html`\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;link href=&quot;css/testRed.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        Should be &lt;b class=&quot;redFontClass&quot;&gt;red&lt;/b&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nFile 2 : `css/testRed.css`\r\n\r\n    .redFontClass {color : red;}\r\n\r\nJava code :\r\n\r\n      String inputFile = &quot;testRed.html&quot;;\r\n      String outputFile = &quot;testRed.pdf&quot;;\r\n      OutputStream os = new FileOutputStream(outputFile);\r\n      ITextRenderer renderer = new ITextRenderer();\r\n\r\n      DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n      InputStream is = new ByteArrayInputStream(FileUtils.readFileToByteArray(new File(inputFile)));\r\n      Document doc = builder.parse(is);\r\n      is.close();\r\n      renderer.setDocument(doc, null);\r\n      renderer.layout();\r\n      renderer.createPDF(os);\r\n      os.close();\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/9jg4A.png","title":"External CSS in Flying Saucer","body":"<p>Given the structure of the project, <code>&lt;link href=\"css/RedCSS.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;</code> should definitely work.</p>\n\n<p>Here is a working sample :</p>\n\n<p>File struct :</p>\n\n<p><img src=\"https://i.stack.imgur.com/9jg4A.png\" alt=\"enter image description here\"></p>\n\n<p>File 1 : <code>testRed.html</code></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;link href=\"css/testRed.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    Should be &lt;b class=\"redFontClass\"&gt;red&lt;/b&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>File 2 : <code>css/testRed.css</code></p>\n\n<pre><code>.redFontClass {color : red;}\n</code></pre>\n\n<p>Java code :</p>\n\n<pre><code>  String inputFile = \"testRed.html\";\n  String outputFile = \"testRed.pdf\";\n  OutputStream os = new FileOutputStream(outputFile);\n  ITextRenderer renderer = new ITextRenderer();\n\n  DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n  InputStream is = new ByteArrayInputStream(FileUtils.readFileToByteArray(new File(inputFile)));\n  Document doc = builder.parse(is);\n  is.close();\n  renderer.setDocument(doc, null);\n  renderer.layout();\n  renderer.createPDF(os);\n  os.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5066626,"reputation":735,"user_id":4094697,"display_name":"user"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412239418,"creation_date":1412239418,"answer_id":26157256,"question_id":25990886,"body_markdown":"I tried an similar thing on my localmachine and i tried it with the solution of obourgain\r\n&lt;code&gt;\r\n    `&lt;link href=&quot;css/testRed.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;`\r\n&lt;/code&gt;\r\nThe response for this way was 302 which means that the resource was found with redirecting but the result of this get was empty.\r\nWhen i add a / before css all works fine.\r\n&lt;code&gt;\r\n    `&lt;link href=&quot;/css/testRed.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;`\r\n&lt;/code&gt;","title":"External CSS in Flying Saucer","body":"<p>I tried an similar thing on my localmachine and i tried it with the solution of obourgain\n<code>\n    <code>&lt;link href=\"css/testRed.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;</code>\n</code>\nThe response for this way was 302 which means that the resource was found with redirecting but the result of this get was empty.\nWhen i add a / before css all works fine.\n<code>\n    <code>&lt;link href=\"/css/testRed.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;</code>\n</code></p>\n"},{"comments":[{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1541632900,"post_id":53198036,"comment_id":93287348,"body_markdown":"Please explain why it worked for you, and why it should work for others. Random coincidence is not good enough reason to exhume a post from 4 years ago.","body":"Please explain why it worked for you, and why it should work for others. Random coincidence is not good enough reason to exhume a post from 4 years ago."},{"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"score":0,"creation_date":1548047417,"post_id":53198036,"comment_id":95388986,"body_markdown":"it is not working for Spring Boot + Thymeleaf + Flying Saucer setup. run time error: &quot;org.thymeleaf.exceptions.TemplateProcessingException: Link base &quot;classpath:css/pdfexport.css&quot; cannot be context relative (/) or page relative unless you implement the org.thymeleaf.context.IWebContext interface (context is of class: org.thymeleaf.context.Context) (offerDetailsPDFTemplate:5)\n\t&quot;","body":"it is not working for Spring Boot + Thymeleaf + Flying Saucer setup. run time error: &quot;org.thymeleaf.exceptions.TemplateProcessingException: Link base &quot;classpath:css/pdfexport.css&quot; cannot be context relative (/) or page relative unless you implement the org.thymeleaf.context.IWebContext interface (context is of class: org.thymeleaf.context.Context) (offerDetailsPDFTemplate:5) \t&quot;"}],"tags":[],"owner":{"account_id":1341993,"reputation":2674,"user_id":1283501,"accept_rate":74,"display_name":"Wolf359"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541637261,"creation_date":1541625834,"answer_id":53198036,"question_id":25990886,"body_markdown":"I use the &quot;classpath&quot; keyword in a Spring Boot environment. \r\n\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;all&quot; th:href=&quot;@{classpath:templates/style.css}&quot;/&gt;\r\n\r\nworked for me.\r\n\r\nI hope this helps someone with a Spring Boot + Thymeleaf + Flying Saucer setup.","title":"External CSS in Flying Saucer","body":"<p>I use the \"classpath\" keyword in a Spring Boot environment. </p>\n\n<pre><code>&lt;link rel=\"stylesheet\" type=\"text/css\" media=\"all\" th:href=\"@{classpath:templates/style.css}\"/&gt;\n</code></pre>\n\n<p>worked for me.</p>\n\n<p>I hope this helps someone with a Spring Boot + Thymeleaf + Flying Saucer setup.</p>\n"},{"tags":[],"owner":{"account_id":12450665,"reputation":11,"user_id":9065420,"display_name":"Boris Velichko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602494034,"creation_date":1602492719,"answer_id":64314559,"question_id":25990886,"body_markdown":"Recently I faced a similar problem: it turned out that the CSS file was in a different encoding. You may have the same problem. First, you need to find out the encoding of the file: \r\n\r\n    file -i &lt;my css file&gt;\r\n\r\nAnd then convert it into UTF-8:\r\n\r\n    iconv -f &lt;my css file enconding&gt; -t UTF-8 &lt;my css file&gt; &gt; &lt;my css file in utf-8&gt;\r\n\r\nIn my case, after converting from UTF-16 to UTF-8, a PDF file has been generated.\r\n","title":"External CSS in Flying Saucer","body":"<p>Recently I faced a similar problem: it turned out that the CSS file was in a different encoding. You may have the same problem. First, you need to find out the encoding of the file:</p>\n<pre><code>file -i &lt;my css file&gt;\n</code></pre>\n<p>And then convert it into UTF-8:</p>\n<pre><code>iconv -f &lt;my css file enconding&gt; -t UTF-8 &lt;my css file&gt; &gt; &lt;my css file in utf-8&gt;\n</code></pre>\n<p>In my case, after converting from UTF-16 to UTF-8, a PDF file has been generated.</p>\n"},{"tags":[],"owner":{"account_id":1554097,"reputation":1553,"user_id":1445754,"accept_rate":40,"display_name":"Swaprks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607393971,"creation_date":1607393971,"answer_id":65192174,"question_id":25990886,"body_markdown":"Please refer this link. https://web.archive.org/web/20150905173204/http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html\r\n\r\nIts mentioned that when you want to use an external css file, you should have a media=&quot;print&quot; attribute on the link tag.\r\n\r\n\r\nlink href=&quot;file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css&quot;  rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;print&quot; ","title":"External CSS in Flying Saucer","body":"<p>Please refer this link. <a href=\"https://web.archive.org/web/20150905173204/http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html\" rel=\"nofollow noreferrer\">https://web.archive.org/web/20150905173204/http://today.java.net/pub/a/today/2007/06/26/generating-pdfs-with-flying-saucer-and-itext.html</a></p>\n<p>Its mentioned that when you want to use an external css file, you should have a media=&quot;print&quot; attribute on the link tag.</p>\n<p>link href=&quot;file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css&quot;  rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;print&quot;</p>\n"},{"tags":[],"owner":{"account_id":53420,"reputation":863,"user_id":159652,"accept_rate":50,"display_name":"Juan Diego"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647750420,"creation_date":1647750420,"answer_id":71544037,"question_id":25990886,"body_markdown":"For me, I just did exactly what [Wolf359][1] did:\r\n\r\nA lil bit of detail, this is my html template:\r\n```\r\n&lt;link th:href=&quot;@{classpath:/css/styles.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\r\n```\r\n\r\nAnd in the Spring Boot project under the `src/main/resources` folder, I have\r\n```\r\nsrc/main/resources\r\n|\r\n|── css/\r\n|   |── styles.css\r\n|   |\r\n. . . . .\r\n```\r\n\r\nIt works like a charm!\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53198036/159652","title":"External CSS in Flying Saucer","body":"<p>For me, I just did exactly what <a href=\"https://stackoverflow.com/a/53198036/159652\">Wolf359</a> did:</p>\n<p>A lil bit of detail, this is my html template:</p>\n<pre><code>&lt;link th:href=&quot;@{classpath:/css/styles.css}&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\n</code></pre>\n<p>And in the Spring Boot project under the <code>src/main/resources</code> folder, I have</p>\n<pre><code>src/main/resources\n|\n|── css/\n|   |── styles.css\n|   |\n. . . . .\n</code></pre>\n<p>It works like a charm!</p>\n"}],"owner":{"account_id":1951203,"reputation":10695,"user_id":1755242,"accept_rate":80,"display_name":"sunleo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9729,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1692450225,"creation_date":1411462549,"question_id":25990886,"body_markdown":"I would like to know how to include the External CSS in Flying-Saucer.Before that *THB* I checked with all the available links in `StackOverflow` but they are not helpful.That&#39;s the reason why made this one my self.\r\n\r\n`TestCSS.xhtml` renamed version of `TestCSS.html`.So content of them are same.\r\nBelow (Image 1 ) is the Structure of my Project  in Eclipse IDE.If I run the TestCSS.html it will give the page result as Image 2 in Browser.\r\n\r\n***Below are Code which are not working as External CSS :***\r\n\r\n    This one Working :\r\n    &lt;style&gt;\r\n    .redFontClass\r\n    {\r\n      color : red;\r\n    }\r\n    .blueFontClass\r\n    {\r\n      color : blue;\r\n    }\r\n    &lt;/style&gt;\r\n    \r\n    This one NOT Working :\r\n    &lt;link href=&quot;RedCSS.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\r\n    \r\n    This one NOT Working :\r\n    &lt;link rel=&quot;stylesheet&quot; \r\n    href=&quot;http://localhost:8888/Fly-Sauccer-Web/css/RedCSS.css&quot; type=&quot;text/css&quot; /&gt;\r\n    \r\n    This one NOT Working :\r\n    &lt;link href=&quot;file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css&quot;  rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\r\n\r\n\r\n\r\n\r\nI tried with all the ways including absolute path of css inside of the xhtml also.but css is not getting applied.Please help me to fix the problem.\r\n\r\n\r\n***Image 1***\r\n\r\n![enter image description here][1]\r\n\r\n***Image 2***\r\n\r\n![enter image description here][2]\r\n\r\n\r\n***RedCSS.css*** \r\n\r\n    .fontClass\r\n    {\r\n      color : red;\r\n    }\r\n***TestCSS.html***\r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;link href=&quot;file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css&quot;  rel=&quot;stylesheet&quot; type=&quot;text/css&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;b&gt;This Should come assss &lt;span class = &quot;fontClass&quot; &gt;Red&lt;/span&gt; &lt;/b&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**Java Code :**\r\n\r\n    public static void main(String[] args) throws Exception{\r\n    \r\n    \t// Path of Input File \r\n        String inputFile = &quot;C:\\\\Users\\\\Joseph.M\\\\WorkPlace_Struts2\\\\Fly-Sauccer-Web\\\\WebContent\\\\TestCSS.xhtml&quot;;\r\n    \t// Path of Output File \r\n        String outputFile = &quot;C:\\\\Users\\\\Joseph.M\\\\WorkPlace_Struts2\\\\Fly-Sauccer-Web\\\\output.pdf&quot;;\r\n        OutputStream os = new FileOutputStream(outputFile);\t\t        \r\n        ITextRenderer renderer = new ITextRenderer();\r\n                      \r\n        DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n        InputStream is = new ByteArrayInputStream(FileUtils.readFileToByteArray(new File(inputFile)));\r\n        Document doc = builder.parse(is);\r\n        is.close();\r\n        renderer.setDocument(doc,null);        \r\n        renderer.layout();\r\n        renderer.createPDF(os);\t\t        \r\n        os.close();\r\n    }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Rfwm8.jpg\r\n  [2]: http://i.stack.imgur.com/AlOLt.jpg","title":"External CSS in Flying Saucer","body":"<p>I would like to know how to include the External CSS in Flying-Saucer.Before that <em>THB</em> I checked with all the available links in <code>StackOverflow</code> but they are not helpful.That's the reason why made this one my self.</p>\n\n<p><code>TestCSS.xhtml</code> renamed version of <code>TestCSS.html</code>.So content of them are same.\nBelow (Image 1 ) is the Structure of my Project  in Eclipse IDE.If I run the TestCSS.html it will give the page result as Image 2 in Browser.</p>\n\n<p><strong><em>Below are Code which are not working as External CSS :</em></strong></p>\n\n<pre><code>This one Working :\n&lt;style&gt;\n.redFontClass\n{\n  color : red;\n}\n.blueFontClass\n{\n  color : blue;\n}\n&lt;/style&gt;\n\nThis one NOT Working :\n&lt;link href=\"RedCSS.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\nThis one NOT Working :\n&lt;link rel=\"stylesheet\" \nhref=\"http://localhost:8888/Fly-Sauccer-Web/css/RedCSS.css\" type=\"text/css\" /&gt;\n\nThis one NOT Working :\n&lt;link href=\"file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css\"  rel=\"stylesheet\" type=\"text/css\" /&gt;\n</code></pre>\n\n<p>I tried with all the ways including absolute path of css inside of the xhtml also.but css is not getting applied.Please help me to fix the problem.</p>\n\n<p><strong><em>Image 1</em></strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/Rfwm8.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong><em>Image 2</em></strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/AlOLt.jpg\" alt=\"enter image description here\"></p>\n\n<p><strong><em>RedCSS.css</em></strong> </p>\n\n<pre><code>.fontClass\n{\n  color : red;\n}\n</code></pre>\n\n<p><strong><em>TestCSS.html</em></strong></p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;link href=\"file:///C:/Users/Joseph.M/WorkPlace_Struts2/Fly-Sauccer-Web/WebContent/css/RedCSS.css\"  rel=\"stylesheet\" type=\"text/css\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;b&gt;This Should come assss &lt;span class = \"fontClass\" &gt;Red&lt;/span&gt; &lt;/b&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Java Code :</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception{\n\n    // Path of Input File \n    String inputFile = \"C:\\\\Users\\\\Joseph.M\\\\WorkPlace_Struts2\\\\Fly-Sauccer-Web\\\\WebContent\\\\TestCSS.xhtml\";\n    // Path of Output File \n    String outputFile = \"C:\\\\Users\\\\Joseph.M\\\\WorkPlace_Struts2\\\\Fly-Sauccer-Web\\\\output.pdf\";\n    OutputStream os = new FileOutputStream(outputFile);             \n    ITextRenderer renderer = new ITextRenderer();\n\n    DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n    InputStream is = new ByteArrayInputStream(FileUtils.readFileToByteArray(new File(inputFile)));\n    Document doc = builder.parse(is);\n    is.close();\n    renderer.setDocument(doc,null);        \n    renderer.layout();\n    renderer.createPDF(os);             \n    os.close();\n}\n</code></pre>\n"},{"tags":["java","migration"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1673523344,"post_id":75095544,"comment_id":132520757,"body_markdown":"An error 500 often has an entry in the server log","body":"An error 500 often has an entry in the server log"}],"owner":{"account_id":19001868,"reputation":11,"user_id":13869216,"display_name":"Megha Verma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1692449977,"creation_date":1673522409,"question_id":75095544,"body_markdown":"For migration, I updated javax imports to corresponding jakarta. It&#39;s failing with 500 internal server error while calling POST service\r\n\r\nCode snippet from service class\r\n```\r\nimport jakarta.ws.rs.Consumes;\r\nimport jakarta.ws.rs.GET;\r\nimport jakarta.ws.rs.HeaderParam;\r\nimport jakarta.ws.rs.POST;\r\nimport jakarta.ws.rs.Path;\r\nimport jakarta.ws.rs.Produces;\r\nimport jakarta.ws.rs.core.MediaType;\r\n@Path(&quot;/m1&quot;)\r\n\t@POST\r\n\t@Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\r\n\t@Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\r\n\tpublic String sayHello(AcceptRequest request, @HeaderParam(&quot;Accept&quot;) String contentType) {\r\n\t\tlogger.info(&quot;Invoked API : /sayHello&quot;);\r\n\t\treturn &quot;Hello&quot;;\r\n\r\n\t}\r\n```\r\nCode snippet of DAO\r\n```\r\nimport jakarta.xml.bind.annotation.XmlAccessorType;\r\nimport jakarta.xml.bind.annotation.XmlElement;\r\nimport jakarta.xml.bind.annotation.XmlElementWrapper;\r\nimport jakarta.xml.bind.annotation.XmlRootElement;\r\nimport jakarta.xml.bind.annotation.XmlAccessType;\r\n@XmlRootElement(name=&quot;feature&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class AcceptRequest {\r\n\tprivate static final Logger logger = LogManager.getLogger(AcceptRequest.class);\r\n\t\r\n\t@XmlElement(required = true)\r\n\tpublic String a;\r\n\t\r\n\t@XmlElement(required = true)\r\n\tpublic String b;\r\n\t\r\n\t@XmlElement(required = true)\r\n\tpublic String c;\r\n}\r\n\r\n```\r\n\r\nDuring execution we are not even getting  &quot;Invoked API : /sayHello&quot; logger line.","title":"Migration from tomcat 7 to tomcat 10","body":"<p>For migration, I updated javax imports to corresponding jakarta. It's failing with 500 internal server error while calling POST service</p>\n<p>Code snippet from service class</p>\n<pre><code>import jakarta.ws.rs.Consumes;\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.HeaderParam;\nimport jakarta.ws.rs.POST;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n@Path(&quot;/m1&quot;)\n    @POST\n    @Produces({ MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML })\n    @Consumes({MediaType.APPLICATION_JSON, MediaType.APPLICATION_XML})\n    public String sayHello(AcceptRequest request, @HeaderParam(&quot;Accept&quot;) String contentType) {\n        logger.info(&quot;Invoked API : /sayHello&quot;);\n        return &quot;Hello&quot;;\n\n    }\n</code></pre>\n<p>Code snippet of DAO</p>\n<pre><code>import jakarta.xml.bind.annotation.XmlAccessorType;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlElementWrapper;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlAccessType;\n@XmlRootElement(name=&quot;feature&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class AcceptRequest {\n    private static final Logger logger = LogManager.getLogger(AcceptRequest.class);\n    \n    @XmlElement(required = true)\n    public String a;\n    \n    @XmlElement(required = true)\n    public String b;\n    \n    @XmlElement(required = true)\n    public String c;\n}\n\n</code></pre>\n<p>During execution we are not even getting  &quot;Invoked API : /sayHello&quot; logger line.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1692449513,"post_id":76935178,"comment_id":135626435,"body_markdown":"Put the `-D` param before `-jar` The latter has to go immediately before the jar file name","body":"Put the <code>-D</code> param before <code>-jar</code> The latter has to go immediately before the jar file name"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1692455013,"post_id":76935178,"comment_id":135627041,"body_markdown":"In my opinion it&#39;s not too hard to look at the error message and figure out what&#39;s wrong. Have you done that?","body":"In my opinion it&#39;s not too hard to look at the error message and figure out what&#39;s wrong. Have you done that?"}],"answers":[{"tags":[],"owner":{"account_id":29256966,"reputation":26,"user_id":22414949,"display_name":"dani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692449703,"creation_date":1692449703,"answer_id":76935203,"question_id":76935178,"body_markdown":"The argument after the -jar argument is treated as the file to execute, so it is parsing **-Dserver.port=8082** as the file name. This means you need to use the command **java -Dserver.port=8082 -jar department-service-0.0.1-SNAPSHOT.jar**.","title":"cannot able to execute jar file on windows","body":"<p>The argument after the -jar argument is treated as the file to execute, so it is parsing <strong>-Dserver.port=8082</strong> as the file name. This means you need to use the command <strong>java -Dserver.port=8082 -jar department-service-0.0.1-SNAPSHOT.jar</strong>.</p>\n"}],"owner":{"account_id":27831288,"reputation":3,"user_id":21249660,"display_name":"Raghavendr Uppar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1692466260,"accepted_answer_id":76935203,"answer_count":1,"score":-1,"last_activity_date":1692449703,"creation_date":1692449224,"question_id":76935178,"body_markdown":"PS D:\\my_proj_2023\\springboot-microservice\\department-service\\target&gt; java -jar -Dserver.port=8082 department-service-0.0.1-SNAPSHOT.jar\r\nError: Unable to access jarfile .port=8082\r\n\r\n\r\ni checked the path it is correct,but getting same thing","title":"cannot able to execute jar file on windows","body":"<p>PS D:\\my_proj_2023\\springboot-microservice\\department-service\\target&gt; java -jar -Dserver.port=8082 department-service-0.0.1-SNAPSHOT.jar\nError: Unable to access jarfile .port=8082</p>\n<p>i checked the path it is correct,but getting same thing</p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1692358350,"post_id":76928090,"comment_id":135615454,"body_markdown":"Does this answer your question? [How to extract response header &amp; status code from Spring 5 WebClient ClientResponse](https://stackoverflow.com/questions/50223891/how-to-extract-response-header-status-code-from-spring-5-webclient-clientrespo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/50223891/how-to-extract-response-header-status-code-from-spring-5-webclient-clientrespo\">How to extract response header &amp; status code from Spring 5 WebClient ClientResponse</a>"},{"owner":{"account_id":20298748,"reputation":13,"user_id":14888704,"display_name":"Влад Савостиков"},"score":0,"creation_date":1692359143,"post_id":76928090,"comment_id":135615630,"body_markdown":"@maio290 no, I need custom log headers, status and BODY of response. In your link only about headers and status","body":"@maio290 no, I need custom log headers, status and BODY of response. In your link only about headers and status"}],"answers":[{"tags":[],"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1692449130,"creation_date":1692449130,"answer_id":76935173,"question_id":76928090,"body_markdown":"You can use RequestBodyAdviceAdapter &amp; ResponseBodyAdvice&lt;Object&gt; for logging request-body, headers etc.         \r\nPlease find the code snippets.     \r\n\r\n**CustomResponseBodyAdviceAdapter.class**.  \r\n\r\n    import com.pmi.hyperface.constants.Constants;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.MethodParameter;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.http.server.ServerHttpRequest;\r\n    import org.springframework.http.server.ServerHttpResponse;\r\n    import org.springframework.http.server.ServletServerHttpRequest;\r\n    import org.springframework.http.server.ServletServerHttpResponse;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\r\n    \r\n    @ControllerAdvice\r\n    public class CustomResponseBodyAdviceAdapter implements ResponseBodyAdvice&lt;Object&gt; {\r\n    \r\n    \t@Autowired\r\n    \tprivate LoggingService loggingService;\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(MethodParameter methodParameter, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object beforeBodyWrite(Object o, MethodParameter methodParameter, MediaType mediaType,\r\n    \t\t\tClass&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass, ServerHttpRequest serverHttpRequest,\r\n    \t\t\tServerHttpResponse serverHttpResponse) {\r\n    \r\n    \t\tif (serverHttpRequest instanceof ServletServerHttpRequest\r\n    \t\t\t\t&amp;&amp; serverHttpResponse instanceof ServletServerHttpResponse\r\n    \t\t\t\t&amp;&amp; (!serverHttpRequest.getURI().toString().contains(Constants.ACTUATOR_HEALTH_PATH))) {\r\n    \t\t\tloggingService.logResponse(((ServletServerHttpRequest) serverHttpRequest).getServletRequest(),\r\n    \t\t\t\t\t((ServletServerHttpResponse) serverHttpResponse).getServletResponse(), o);\r\n    \t\t}\r\n    \r\n    \t\treturn o;\r\n    \t}\r\n\r\n\r\n**CustomRequestBodyAdviceAdapter.class**.   \r\n\r\n    import com.pmi.hyperface.constants.Constants;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.MethodParameter;\r\n    import org.springframework.http.HttpInputMessage;\r\n    import org.springframework.http.converter.HttpMessageConverter;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.servlet.mvc.method.annotation.RequestBodyAdviceAdapter;\r\n    \r\n    import java.lang.reflect.Type;\r\n    \r\n    @ControllerAdvice\r\n    public class CustomRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\r\n    \r\n    \t@Autowired\r\n    \tLoggingService loggingService;\r\n    \r\n    \t@Autowired\r\n    \tHttpServletRequest httpServletRequest;\r\n    \r\n    \t@Override\r\n    \tpublic boolean supports(MethodParameter methodParameter, Type type,\r\n    \t\t\tClass&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\r\n    \t\treturn true;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType,\r\n    \t\t\tClass&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\r\n    \t\tif (!httpServletRequest.getRequestURI().contains(Constants.ACTUATOR_HEALTH_PATH))\r\n    \t\t\tloggingService.logRequest(httpServletRequest, body);\r\n    \r\n    \t\treturn super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\r\n    \t}\r\n    }\r\n\r\n\r\n**LoggingServiceImpl.class**.  \r\n\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    import java.util.Collection;\r\n    import java.util.Enumeration;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    @Service\r\n    @Slf4j\r\n    public class LoggingServiceImpl implements LoggingService {\r\n    \r\n    \tprivate static final ObjectMapper objectMapper = new ObjectMapper();\r\n    \r\n    \t@Override\r\n    \tpublic void logRequest(HttpServletRequest httpServletRequest, Object body) {\r\n    \t\tStringBuilder stringBuilder = new StringBuilder();\r\n    \t\tMap&lt;String, String&gt; parameters = buildParametersMap(httpServletRequest);\r\n    \r\n    \t\tstringBuilder.append(&quot;\\nREQUEST&quot;);\r\n    \t\tstringBuilder.append(&quot;\\nmethod=[&quot;).append(httpServletRequest.getMethod()).append(&quot;]&quot;);\r\n    \t\tstringBuilder.append(&quot;\\npath=[&quot;).append(httpServletRequest.getRequestURI()).append(&quot;]&quot;);\r\n    \t\tstringBuilder.append(&quot;\\nheaders=[&quot;).append(buildHeadersMap(httpServletRequest)).append(&quot;]&quot;);\r\n    \r\n    \t\tif (!parameters.isEmpty()) {\r\n    \t\t\tstringBuilder.append(&quot;\\nparameters=[&quot;).append(parameters).append(&quot;] &quot;);\r\n    \t\t}\r\n    \r\n    \t\tif (body != null) {\r\n    \t\t\ttry {\r\n    \t\t\t\tstringBuilder.append(&quot;\\nbody=[&quot; + objectMapper.writeValueAsString(body) + &quot;]&quot;);\r\n    \t\t\t} catch (JsonProcessingException e) {\r\n    \t\t\t\tlog.error(&quot;Json processing exception while logging request details&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tlog.info(stringBuilder.toString());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void logResponse(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n    \t\t\tObject body) {\r\n    \t\tStringBuilder stringBuilder = new StringBuilder();\r\n    \r\n    \t\tstringBuilder.append(&quot;\\nRESPONSE&quot;);\r\n    \t\tstringBuilder.append(&quot;\\nmethod=[&quot;).append(httpServletRequest.getMethod()).append(&quot;]&quot;);\r\n    \t\tstringBuilder.append(&quot;\\npath=[&quot;).append(httpServletRequest.getRequestURI()).append(&quot;]&quot;);\r\n    \t\tstringBuilder.append(&quot;\\nresponseHeaders=[&quot;).append(buildHeadersMap(httpServletResponse)).append(&quot;]&quot;);\r\n    \t\ttry {\r\n    \t\t\tstringBuilder.append(&quot;\\nresponseBody=[&quot;).append(objectMapper.writeValueAsString(body)).append(&quot;] &quot;);\r\n    \t\t} catch (JsonProcessingException e) {\r\n    \t\t\tlog.error(&quot;Json processing exception while logging request details&quot;);\r\n    \t\t}\r\n    \r\n    \t\tlog.info(stringBuilder.toString());\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String&gt; buildParametersMap(HttpServletRequest httpServletRequest) {\r\n    \t\tMap&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\r\n    \t\tEnumeration&lt;String&gt; parameterNames = httpServletRequest.getParameterNames();\r\n    \r\n    \t\twhile (parameterNames.hasMoreElements()) {\r\n    \t\t\tString key = parameterNames.nextElement();\r\n    \t\t\tString value = httpServletRequest.getParameter(key);\r\n    \t\t\tresultMap.put(key, value);\r\n    \t\t}\r\n    \r\n    \t\treturn resultMap;\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String&gt; buildHeadersMap(HttpServletRequest request) {\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    \t\tEnumeration&lt;String&gt; headerNames = request.getHeaderNames();\r\n    \t\twhile (headerNames.hasMoreElements()) {\r\n    \t\t\tString key = headerNames.nextElement();\r\n    \t\t\tString value = request.getHeader(key);\r\n    \t\t\tmap.put(key, value);\r\n    \t\t}\r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String&gt; buildHeadersMap(HttpServletResponse response) {\r\n    \t\tMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n    \r\n    \t\tCollection&lt;String&gt; headerNames = response.getHeaderNames();\r\n    \t\tfor (String header : headerNames) {\r\n    \t\t\tmap.put(header, response.getHeader(header));\r\n    \t\t}\r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Custom log format for HttpRequest and HttpResponse using webClient","body":"<p>You can use RequestBodyAdviceAdapter &amp; ResponseBodyAdvice for logging request-body, headers etc.<br />\nPlease find the code snippets.</p>\n<p><strong>CustomResponseBodyAdviceAdapter.class</strong>.</p>\n<pre><code>import com.pmi.hyperface.constants.Constants;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.MethodParameter;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.http.server.ServerHttpRequest;\nimport org.springframework.http.server.ServerHttpResponse;\nimport org.springframework.http.server.ServletServerHttpRequest;\nimport org.springframework.http.server.ServletServerHttpResponse;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseBodyAdvice;\n\n@ControllerAdvice\npublic class CustomResponseBodyAdviceAdapter implements ResponseBodyAdvice&lt;Object&gt; {\n\n    @Autowired\n    private LoggingService loggingService;\n\n    @Override\n    public boolean supports(MethodParameter methodParameter, Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\n        return true;\n    }\n\n    @Override\n    public Object beforeBodyWrite(Object o, MethodParameter methodParameter, MediaType mediaType,\n            Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass, ServerHttpRequest serverHttpRequest,\n            ServerHttpResponse serverHttpResponse) {\n\n        if (serverHttpRequest instanceof ServletServerHttpRequest\n                &amp;&amp; serverHttpResponse instanceof ServletServerHttpResponse\n                &amp;&amp; (!serverHttpRequest.getURI().toString().contains(Constants.ACTUATOR_HEALTH_PATH))) {\n            loggingService.logResponse(((ServletServerHttpRequest) serverHttpRequest).getServletRequest(),\n                    ((ServletServerHttpResponse) serverHttpResponse).getServletResponse(), o);\n        }\n\n        return o;\n    }\n</code></pre>\n<p><strong>CustomRequestBodyAdviceAdapter.class</strong>.</p>\n<pre><code>import com.pmi.hyperface.constants.Constants;\nimport jakarta.servlet.http.HttpServletRequest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.MethodParameter;\nimport org.springframework.http.HttpInputMessage;\nimport org.springframework.http.converter.HttpMessageConverter;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.servlet.mvc.method.annotation.RequestBodyAdviceAdapter;\n\nimport java.lang.reflect.Type;\n\n@ControllerAdvice\npublic class CustomRequestBodyAdviceAdapter extends RequestBodyAdviceAdapter {\n\n    @Autowired\n    LoggingService loggingService;\n\n    @Autowired\n    HttpServletRequest httpServletRequest;\n\n    @Override\n    public boolean supports(MethodParameter methodParameter, Type type,\n            Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; aClass) {\n        return true;\n    }\n\n    @Override\n    public Object afterBodyRead(Object body, HttpInputMessage inputMessage, MethodParameter parameter, Type targetType,\n            Class&lt;? extends HttpMessageConverter&lt;?&gt;&gt; converterType) {\n        if (!httpServletRequest.getRequestURI().contains(Constants.ACTUATOR_HEALTH_PATH))\n            loggingService.logRequest(httpServletRequest, body);\n\n        return super.afterBodyRead(body, inputMessage, parameter, targetType, converterType);\n    }\n}\n</code></pre>\n<p><strong>LoggingServiceImpl.class</strong>.</p>\n<pre><code>import jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.extern.slf4j.Slf4j;\n\nimport org.springframework.stereotype.Service;\n\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.Collection;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Service\n@Slf4j\npublic class LoggingServiceImpl implements LoggingService {\n\n    private static final ObjectMapper objectMapper = new ObjectMapper();\n\n    @Override\n    public void logRequest(HttpServletRequest httpServletRequest, Object body) {\n        StringBuilder stringBuilder = new StringBuilder();\n        Map&lt;String, String&gt; parameters = buildParametersMap(httpServletRequest);\n\n        stringBuilder.append(&quot;\\nREQUEST&quot;);\n        stringBuilder.append(&quot;\\nmethod=[&quot;).append(httpServletRequest.getMethod()).append(&quot;]&quot;);\n        stringBuilder.append(&quot;\\npath=[&quot;).append(httpServletRequest.getRequestURI()).append(&quot;]&quot;);\n        stringBuilder.append(&quot;\\nheaders=[&quot;).append(buildHeadersMap(httpServletRequest)).append(&quot;]&quot;);\n\n        if (!parameters.isEmpty()) {\n            stringBuilder.append(&quot;\\nparameters=[&quot;).append(parameters).append(&quot;] &quot;);\n        }\n\n        if (body != null) {\n            try {\n                stringBuilder.append(&quot;\\nbody=[&quot; + objectMapper.writeValueAsString(body) + &quot;]&quot;);\n            } catch (JsonProcessingException e) {\n                log.error(&quot;Json processing exception while logging request details&quot;);\n            }\n        }\n\n        log.info(stringBuilder.toString());\n    }\n\n    @Override\n    public void logResponse(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n            Object body) {\n        StringBuilder stringBuilder = new StringBuilder();\n\n        stringBuilder.append(&quot;\\nRESPONSE&quot;);\n        stringBuilder.append(&quot;\\nmethod=[&quot;).append(httpServletRequest.getMethod()).append(&quot;]&quot;);\n        stringBuilder.append(&quot;\\npath=[&quot;).append(httpServletRequest.getRequestURI()).append(&quot;]&quot;);\n        stringBuilder.append(&quot;\\nresponseHeaders=[&quot;).append(buildHeadersMap(httpServletResponse)).append(&quot;]&quot;);\n        try {\n            stringBuilder.append(&quot;\\nresponseBody=[&quot;).append(objectMapper.writeValueAsString(body)).append(&quot;] &quot;);\n        } catch (JsonProcessingException e) {\n            log.error(&quot;Json processing exception while logging request details&quot;);\n        }\n\n        log.info(stringBuilder.toString());\n    }\n\n    private Map&lt;String, String&gt; buildParametersMap(HttpServletRequest httpServletRequest) {\n        Map&lt;String, String&gt; resultMap = new HashMap&lt;&gt;();\n        Enumeration&lt;String&gt; parameterNames = httpServletRequest.getParameterNames();\n\n        while (parameterNames.hasMoreElements()) {\n            String key = parameterNames.nextElement();\n            String value = httpServletRequest.getParameter(key);\n            resultMap.put(key, value);\n        }\n\n        return resultMap;\n    }\n\n    private Map&lt;String, String&gt; buildHeadersMap(HttpServletRequest request) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();\n        while (headerNames.hasMoreElements()) {\n            String key = headerNames.nextElement();\n            String value = request.getHeader(key);\n            map.put(key, value);\n        }\n\n        return map;\n    }\n\n    private Map&lt;String, String&gt; buildHeadersMap(HttpServletResponse response) {\n        Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\n        Collection&lt;String&gt; headerNames = response.getHeaderNames();\n        for (String header : headerNames) {\n            map.put(header, response.getHeader(header));\n        }\n\n        return map;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":20298748,"reputation":13,"user_id":14888704,"display_name":"Влад Савостиков"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935173,"answer_count":1,"score":0,"last_activity_date":1692449130,"creation_date":1692350959,"question_id":76928090,"body_markdown":"I need log HttpRequest body and HttpResponse body in custom format. \r\nFor example \r\n&quot;Send request. Headers: {}, Body: {}, uri: {}&quot;\r\n\r\nHow can I get request body? \r\n\r\nI&#39;m try this:\r\n```java\r\nlog.info(&quot;Send request. Headers: {}, Body: {}, uri: {}&quot;, request, headers, path);\r\n        return webClient.post()\r\n                .uri(path)\r\n                .headers(httpHeaders -&gt; {....})\r\n                .bodyValue(request)...\r\n```\r\nBut in this case, the log does not correspond to the fact of sending the request, but is only part of the reactor pipeline being formed\r\n\r\nCan I log HttpRequest body and HttpResponse body in custom format in the moment of send/received this?","title":"Custom log format for HttpRequest and HttpResponse using webClient","body":"<p>I need log HttpRequest body and HttpResponse body in custom format.\nFor example\n&quot;Send request. Headers: {}, Body: {}, uri: {}&quot;</p>\n<p>How can I get request body?</p>\n<p>I'm try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>log.info(&quot;Send request. Headers: {}, Body: {}, uri: {}&quot;, request, headers, path);\n        return webClient.post()\n                .uri(path)\n                .headers(httpHeaders -&gt; {....})\n                .bodyValue(request)...\n</code></pre>\n<p>But in this case, the log does not correspond to the fact of sending the request, but is only part of the reactor pipeline being formed</p>\n<p>Can I log HttpRequest body and HttpResponse body in custom format in the moment of send/received this?</p>\n"},{"tags":["java","redis","redis-cluster","redis-sentinel"],"answers":[{"tags":[],"owner":{"account_id":27470363,"reputation":298,"user_id":20959381,"display_name":"duckoak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692446740,"creation_date":1692258184,"answer_id":76919409,"question_id":76761389,"body_markdown":"The user you trying to create must be created in the Redis instance, not in the Sentinel instance.\r\n\r\nThere are two users related to Sentinel:\r\n\r\n - One user that communicates with Redis. This user must be created in all of the Redis instances. Example:\r\n\r\n         acl setuser sentinel_to_redis on &gt;&quot;sentinelredis123&quot; allchannels +multi +slaveof +ping +exec +subscribe +config|rewrite +role +publish +info +client|setname +client|kill +script|kill\r\n\r\n - One user that communicates with other Sentinels. This user must be created in all of the Sentinal instances. Example:\r\n\r\n         acl setuser sentinel_to_sentinel on &gt;&quot;sentinelsentinel123&quot; allchannels +@all\r\n\r\nWhen the users have been created you must configure them in all Sentinal instances. Example doing it in runtime:\r\n\r\n    sentinel set &lt;MASTER_NAME&gt; auth-user sentinel_to_redis\r\n    sentinel set &lt;MASTER_NAME&gt; auth-pass &quot;sentinelredis123&quot;\r\n    sentinel config set sentinel-user sentinel_to_sentinel\r\n    sentinel config set sentinel-pass &quot;sentinelsentinel123&quot;","title":"sentinel_user in users.acl not working with limited permission in redis 7","body":"<p>The user you trying to create must be created in the Redis instance, not in the Sentinel instance.</p>\n<p>There are two users related to Sentinel:</p>\n<ul>\n<li><p>One user that communicates with Redis. This user must be created in all of the Redis instances. Example:</p>\n<pre><code>  acl setuser sentinel_to_redis on &gt;&quot;sentinelredis123&quot; allchannels +multi +slaveof +ping +exec +subscribe +config|rewrite +role +publish +info +client|setname +client|kill +script|kill\n</code></pre>\n</li>\n<li><p>One user that communicates with other Sentinels. This user must be created in all of the Sentinal instances. Example:</p>\n<pre><code>  acl setuser sentinel_to_sentinel on &gt;&quot;sentinelsentinel123&quot; allchannels +@all\n</code></pre>\n</li>\n</ul>\n<p>When the users have been created you must configure them in all Sentinal instances. Example doing it in runtime:</p>\n<pre><code>sentinel set &lt;MASTER_NAME&gt; auth-user sentinel_to_redis\nsentinel set &lt;MASTER_NAME&gt; auth-pass &quot;sentinelredis123&quot;\nsentinel config set sentinel-user sentinel_to_sentinel\nsentinel config set sentinel-pass &quot;sentinelsentinel123&quot;\n</code></pre>\n"}],"owner":{"account_id":28110166,"reputation":1,"user_id":21478057,"display_name":"anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1692446740,"creation_date":1690278068,"question_id":76761389,"body_markdown":"I am trying to have a sentinel_user acl user in users.acl file that will have limited permission to run commnads related to sentinel only.\r\n\r\nI tried setting this user as  below following redis documentaion :\r\n```\r\nACL SETUSER sentinel_user ON nopass allchannels +multi +slaveof +ping +exec +subscribe +config|rewrite +role +publish +info +client|setname +client|kill +script|kill\r\n```\r\nbut i am getting the issue when starting the sentinel_user as it says  # Aborting Redis startup because of ACL errors:```  Error in applying operation &#39;+script|kill&#39;: Unknown command or category name in ACL ``` \r\n\r\ncomplete error log  :\r\n```\r\n052811:X 25 Jul 2023 15:01:06.354 # Aborting Redis startup because of ACL errors: /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation &#39;+script|kill&#39;: Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation &#39;+exec&#39;: Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation &#39;+multi&#39;: Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation &#39;+config|rewrite&#39;: Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation &#39;+slaveof&#39;: Unknown command or category name in ACL. WARNING: ACL errors detected, no change to the previously active ACL rules was performed\r\n```","title":"sentinel_user in users.acl not working with limited permission in redis 7","body":"<p>I am trying to have a sentinel_user acl user in users.acl file that will have limited permission to run commnads related to sentinel only.</p>\n<p>I tried setting this user as  below following redis documentaion :</p>\n<pre><code>ACL SETUSER sentinel_user ON nopass allchannels +multi +slaveof +ping +exec +subscribe +config|rewrite +role +publish +info +client|setname +client|kill +script|kill\n</code></pre>\n<p>but i am getting the issue when starting the sentinel_user as it says  # Aborting Redis startup because of ACL errors:<code> Error in applying operation '+script|kill': Unknown command or category name in ACL</code></p>\n<p>complete error log  :</p>\n<pre><code>052811:X 25 Jul 2023 15:01:06.354 # Aborting Redis startup because of ACL errors: /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation '+script|kill': Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation '+exec': Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation '+multi': Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation '+config|rewrite': Unknown command or category name in ACL. /home/somepath/redis-centinal-poc/redis-7.0.11/users.acl:6: Error in applying operation '+slaveof': Unknown command or category name in ACL. WARNING: ACL errors detected, no change to the previously active ACL rules was performed\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","rest","postman"],"comments":[{"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"score":0,"creation_date":1692425629,"post_id":76933818,"comment_id":135624232,"body_markdown":"It seems there is a typo in the url for get request and is there any error you are getting in the logs?","body":"It seems there is a typo in the url for get request and is there any error you are getting in the logs?"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1692426473,"post_id":76933818,"comment_id":135624302,"body_markdown":"hi @GD07, sorry while typing in the post the typo came. Actually it should be &quot;products&quot; and for this it is giving blank output having the response code 200 OK.","body":"hi @GD07, sorry while typing in the post the typo came. Actually it should be &quot;products&quot; and for this it is giving blank output having the response code 200 OK."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692427987,"post_id":76933818,"comment_id":135624404,"body_markdown":"Is any data already stored in the database with POST requests?","body":"Is any data already stored in the database with POST requests?"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1692428249,"post_id":76933818,"comment_id":135624423,"body_markdown":"Hi @Karsten, no that is not happening.","body":"Hi @Karsten, no that is not happening."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1692428899,"post_id":76933818,"comment_id":135624486,"body_markdown":"This is strange. The fact that you get a response in case of your POST requests tells that anything is happening already and does look fine for framework. Next thing to check is if data receives at your code using a debugger.","body":"This is strange. The fact that you get a response in case of your POST requests tells that anything is happening already and does look fine for framework. Next thing to check is if data receives at your code using a debugger."},{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692429228,"post_id":76933818,"comment_id":135624506,"body_markdown":"hi @RDX,     \nCan you try to manually save a record in Database and try the /get API\nAlso, if you can tell which editor are you using ? Eclipse has some issue with Lombok.      Try generating getters/setters and give it a try","body":"hi @RDX,      Can you try to manually save a record in Database and try the /get API Also, if you can tell which editor are you using ? Eclipse has some issue with Lombok.      Try generating getters/setters and give it a try"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692430471,"post_id":76933818,"comment_id":135624606,"body_markdown":"Can you show the repo class? There might be some issue there","body":"Can you show the repo class? There might be some issue there"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1692431994,"post_id":76933818,"comment_id":135624724,"body_markdown":"@hermit, I have added the repo class now. Please let me know if you can find anything.","body":"@hermit, I have added the repo class now. Please let me know if you can find anything."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1692432399,"post_id":76933818,"comment_id":135624750,"body_markdown":"Are you sure you are properly sending the request body  via Postman? Can you upload screenshot of your postman?","body":"Are you sure you are properly sending the request body  via Postman? Can you upload screenshot of your postman?"},{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692438794,"post_id":76933818,"comment_id":135625323,"body_markdown":"hi @RDX\nDid you try manually adding getters and setters ?","body":"hi @RDX Did you try manually adding getters and setters ?"},{"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"score":0,"creation_date":1692445707,"post_id":76933818,"comment_id":135626069,"body_markdown":"hi @AjinkyaKarode, yes using getters and setters it resolved. Thanks for the info. So I understand using Eclipse we can&#39;t use lombok, right?","body":"hi @AjinkyaKarode, yes using getters and setters it resolved. Thanks for the info. So I understand using Eclipse we can&#39;t use lombok, right?"},{"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"score":0,"creation_date":1692446728,"post_id":76933818,"comment_id":135626160,"body_markdown":"you can use eclipse with Lombok, but need to manually install it. Refer the answer below and upvote. Thank you","body":"you can use eclipse with Lombok, but need to manually install it. Refer the answer below and upvote. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":6701329,"reputation":172,"user_id":5167691,"display_name":"Ajinkya Karode"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692446655,"creation_date":1692446655,"answer_id":76935007,"question_id":76933818,"body_markdown":"This looks like a Lombok plugin installation issue.   \r\nNormally arises when we use IDE&#39;s like Eclipse and SpringToolSuite.\r\n\r\n 1. It&#39;s better if we can manually add getters/setters in our Entity\r\n    class.     \r\n\r\n    OR    \r\n    \r\n 2. Install the Lombok plugin in our IDE&#39;s by referring\r\n        the site below.  \r\n        [https://stackoverflow.com/questions/11803948/lombok-is-not-generating-getter-and-setter][1].\r\n\r\n  \r\n\r\nAlso, Don&#39;t directly pass the result returned by Database in response.  \r\nKindly use identical DTO classes and return those in Response.   \r\nRefer [https://mapstruct.org][2] for such mappings.   \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11803948/lombok-is-not-generating-getter-and-setter\r\n  [2]: https://mapstruct.org","title":"Getting null response for post, get requests in spring boot","body":"<p>This looks like a Lombok plugin installation issue.<br />\nNormally arises when we use IDE's like Eclipse and SpringToolSuite.</p>\n<ol>\n<li><p>It's better if we can manually add getters/setters in our Entity\nclass.</p>\n<p>OR</p>\n</li>\n<li><p>Install the Lombok plugin in our IDE's by referring\nthe site below.<br />\n<a href=\"https://stackoverflow.com/questions/11803948/lombok-is-not-generating-getter-and-setter\">Lombok is not generating getter and setter</a>.</p>\n</li>\n</ol>\n<p>Also, Don't directly pass the result returned by Database in response.<br />\nKindly use identical DTO classes and return those in Response.<br />\nRefer <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">https://mapstruct.org</a> for such mappings.</p>\n"}],"owner":{"account_id":6268533,"reputation":145,"user_id":4873403,"accept_rate":17,"display_name":"RDX"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76935007,"answer_count":1,"score":0,"last_activity_date":1692446655,"creation_date":1692425374,"question_id":76933818,"body_markdown":"I am new to Spring boot. So I am facing a problem when I am sending get, post requests using Postman. I am getting null response even though everything seems to be the all right. \r\n\r\nMy controller file is as follows:\r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.DeleteMapping;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    //import org.springframework.web.bind.annotation.*;\r\n    \r\n    import com.javatechie.crud.example.entity.Product;\r\n    import com.javatechie.crud.example.service.ProductService;\r\n    \r\n    @RestController\r\n    public class ProductController {\r\n    \t\r\n        @Autowired\r\n        private ProductService service;\r\n    \r\n        @PostMapping(&quot;/addProduct&quot;)\r\n        public Product addProduct(@RequestBody Product product) {\r\n            return service.saveProduct(product);\r\n        }\r\n    \r\n        @PostMapping(&quot;/addProducts&quot;)\r\n        public List&lt;Product&gt; addProducts(@RequestBody List&lt;Product&gt; products) {\r\n            return service.saveProductAll(products);\r\n        }\r\n    \r\n        @GetMapping(&quot;/products&quot;)\r\n        public List&lt;Product&gt; findAllProducts() {\r\n            return service.getProductAll();\r\n        }\r\n    \r\n        @GetMapping(&quot;/productById/{id}&quot;)\r\n        public Product findProductById(@PathVariable int id) {\r\n            return service.getProductById(id);\r\n        }\r\n    \r\n        @GetMapping(&quot;/product/{name}&quot;)\r\n        public Product findProductByName(@PathVariable String name) {\r\n            return service.getProductByName(name);\r\n        }\r\n    \r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public String deleteProduct(@PathVariable int id) {\r\n            return service.deleteProduct(id);\r\n        }\r\n    }\r\n\r\nMy entity class file is as follows: \r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;PRODUCT_TBL&quot;)\r\n    \r\n    \r\n    public class Product {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate int id;\r\n    \tprivate String name;\r\n    \tprivate int quantity;\r\n    \tprivate double price;\r\n    \r\n    }\r\n\r\nMy service class file is as follows: \r\n\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.javatechie.crud.example.entity.Product;\r\n    import com.javatechie.crud.example.repository.ProductRepository;\r\n    \r\n    @Service\r\n    public class ProductService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ProductRepository repository;\r\n    \t\r\n    \tpublic Product saveProduct(Product product) {\r\n    \t\treturn repository.save(product);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Product&gt; saveProductAll(List&lt;Product&gt; products) {\r\n    \t\treturn repository.saveAll(products);\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Product&gt; getProductAll() {\r\n    \t\treturn repository.findAll();\r\n    \t}\r\n    \t\r\n    \tpublic Product getProductById(int id) {\r\n    \t\treturn repository.findById(id).orElse(null);\r\n    \t}\r\n    \r\n    \tpublic Product getProductByName(String name) {\r\n    \t\treturn repository.findByName(name);\r\n    \t}\r\n    \t\r\n    \tpublic String deleteProduct(int id) {\r\n    \t\trepository.deleteById(id);\r\n    \t\treturn &quot;Product havig id &quot; +id +&quot;deleted successfully&quot;;\r\n    \t}\r\n    }\r\n\r\nMy application.properties file is: \r\n\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username = root\r\n    spring.datasource.password = india\r\n    spring.jpa.show-sql = true\r\n    spring.jpa.hibernate.ddl-auto = create\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    server.port=9191\r\n\r\n**Edited:**\r\nFollowing is my repo class: \r\n\r\n    import java.util.Optional;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.javatechie.crud.example.entity.Product;\r\n    \r\n    @Repository\r\n    public interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\r\n    \r\n    \tProduct findByName(String name);\r\n    \r\n    }\r\n\r\nI am sending the following request for POST via Postman- http://localhost:9191/addProduct\r\n\r\nFor the above I am getting the following response - {}\r\n\r\nFor the following GET request also I am getting blank response - http://localhost:9191/products\r\n\r\nI am using mysql db having lombok.\r\n\r\nKindly let me know what is going wrong. ","title":"Getting null response for post, get requests in spring boot","body":"<p>I am new to Spring boot. So I am facing a problem when I am sending get, post requests using Postman. I am getting null response even though everything seems to be the all right.</p>\n<p>My controller file is as follows:</p>\n<pre><code>import java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n//import org.springframework.web.bind.annotation.*;\n\nimport com.javatechie.crud.example.entity.Product;\nimport com.javatechie.crud.example.service.ProductService;\n\n@RestController\npublic class ProductController {\n    \n    @Autowired\n    private ProductService service;\n\n    @PostMapping(&quot;/addProduct&quot;)\n    public Product addProduct(@RequestBody Product product) {\n        return service.saveProduct(product);\n    }\n\n    @PostMapping(&quot;/addProducts&quot;)\n    public List&lt;Product&gt; addProducts(@RequestBody List&lt;Product&gt; products) {\n        return service.saveProductAll(products);\n    }\n\n    @GetMapping(&quot;/products&quot;)\n    public List&lt;Product&gt; findAllProducts() {\n        return service.getProductAll();\n    }\n\n    @GetMapping(&quot;/productById/{id}&quot;)\n    public Product findProductById(@PathVariable int id) {\n        return service.getProductById(id);\n    }\n\n    @GetMapping(&quot;/product/{name}&quot;)\n    public Product findProductByName(@PathVariable String name) {\n        return service.getProductByName(name);\n    }\n\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public String deleteProduct(@PathVariable int id) {\n        return service.deleteProduct(id);\n    }\n}\n</code></pre>\n<p>My entity class file is as follows:</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;PRODUCT_TBL&quot;)\n\n\npublic class Product {\n    \n    @Id\n    @GeneratedValue\n    private int id;\n    private String name;\n    private int quantity;\n    private double price;\n\n}\n</code></pre>\n<p>My service class file is as follows:</p>\n<pre><code>import java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.javatechie.crud.example.entity.Product;\nimport com.javatechie.crud.example.repository.ProductRepository;\n\n@Service\npublic class ProductService {\n    \n    @Autowired\n    private ProductRepository repository;\n    \n    public Product saveProduct(Product product) {\n        return repository.save(product);\n    }\n    \n    public List&lt;Product&gt; saveProductAll(List&lt;Product&gt; products) {\n        return repository.saveAll(products);\n    }\n    \n    public List&lt;Product&gt; getProductAll() {\n        return repository.findAll();\n    }\n    \n    public Product getProductById(int id) {\n        return repository.findById(id).orElse(null);\n    }\n\n    public Product getProductByName(String name) {\n        return repository.findByName(name);\n    }\n    \n    public String deleteProduct(int id) {\n        repository.deleteById(id);\n        return &quot;Product havig id &quot; +id +&quot;deleted successfully&quot;;\n    }\n}\n</code></pre>\n<p>My application.properties file is:</p>\n<pre><code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.datasource.url = jdbc:mysql://localhost:3306/test\nspring.datasource.username = root\nspring.datasource.password = india\nspring.jpa.show-sql = true\nspring.jpa.hibernate.ddl-auto = create\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nserver.port=9191\n</code></pre>\n<p><strong>Edited:</strong>\nFollowing is my repo class:</p>\n<pre><code>import java.util.Optional;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.javatechie.crud.example.entity.Product;\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Integer&gt; {\n\n    Product findByName(String name);\n\n}\n</code></pre>\n<p>I am sending the following request for POST via Postman- http://localhost:9191/addProduct</p>\n<p>For the above I am getting the following response - {}</p>\n<p>For the following GET request also I am getting blank response - http://localhost:9191/products</p>\n<p>I am using mysql db having lombok.</p>\n<p>Kindly let me know what is going wrong.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9895,"page":239,"page_size":100}
