{"items":[{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679650687,"post_id":75831995,"comment_id":133762752,"body_markdown":"What&#39;s wrong with getting all values? You can still pick the 12th from &quot;all values&quot;. How about `get(key).get(11)`?","body":"What&#39;s wrong with getting all values? You can still pick the 12th from &quot;all values&quot;. How about <code>get(key).get(11)</code>?"},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679650832,"post_id":75831995,"comment_id":133762783,"body_markdown":"I can&#39;t get all the values ​​because the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name.","body":"I can&#39;t get all the values ​​because the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679650996,"post_id":75831995,"comment_id":133762820,"body_markdown":"And how does &quot;the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name&quot; prevent you from getting all the values exactly? Please demonstrate with some code.","body":"And how does &quot;the values ​​I will get will come as UUIDs and I have to process them one by one and convert them to the player name&quot; prevent you from getting all the values exactly? Please demonstrate with some code."},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679651960,"post_id":75831995,"comment_id":133763057,"body_markdown":"**Bukkit.getOfflinePlayer(callFile.players.get(name)).getName());** This is how I return the player name. This form of conversion accepts a single value. Maybe there is another shortcut for me to do this but I don&#39;t know. If I can get the values ​​in order I can loop it and translate all the values. By the way **.get(key).get(11)** didn&#39;t work.","body":"<b>Bukkit.getOfflinePlayer(callFile.players.get(name)).getName(&zwnj;&#8203;));</b> This is how I return the player name. This form of conversion accepts a single value. Maybe there is another shortcut for me to do this but I don&#39;t know. If I can get the values ​​in order I can loop it and translate all the values. By the way <b>.get(key).get(11)</b> didn&#39;t work."},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679652105,"post_id":75831995,"comment_id":133763090,"body_markdown":"no such method found : [link](https://i.ibb.co/BPWz3Ch/Ekran-g-r-nt-s-2023-03-24-130008.png)","body":"no such method found : <a href=\"https://i.ibb.co/BPWz3Ch/Ekran-g-r-nt-s-2023-03-24-130008.png\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"score":0,"creation_date":1679678064,"post_id":75831995,"comment_id":133770012,"body_markdown":"can anyone help?","body":"can anyone help?"}],"owner":{"account_id":28067466,"reputation":1,"user_id":21440641,"display_name":"garoz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650464,"creation_date":1679650464,"question_id":75831995,"body_markdown":"In MultiMap, I need to receive and process values ​​sequentially. I can&#39;t use the `&quot;.get&quot;` method because it pulls all values. What I need is a code like `&quot;.get(key, 12)&quot;` that returns the 12th value\r\n\r\nThis is how I created the MultiMap.\r\n```\r\npublic static Multimap&lt;String, Player&gt; players = ArrayListMultimap.create();\r\n```\r\n","title":"How can I get the key values ​from the order I want in MultiMap?","body":"<p>In MultiMap, I need to receive and process values ​​sequentially. I can't use the <code>&quot;.get&quot;</code> method because it pulls all values. What I need is a code like <code>&quot;.get(key, 12)&quot;</code> that returns the 12th value</p>\n<p>This is how I created the MultiMap.</p>\n<pre><code>public static Multimap&lt;String, Player&gt; players = ArrayListMultimap.create();\n</code></pre>\n"},{"tags":["java","spring-boot","solr","jackson-databind"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576372,"post_id":75823242,"comment_id":133748402,"body_markdown":"can you try by removing lombok from your persisting entity? I mean create/add the code at your own","body":"can you try by removing lombok from your persisting entity? I mean create/add the code at your own"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679576618,"post_id":75823242,"comment_id":133748464,"body_markdown":"Removed lombok annotations and created my own getters and setters but still issue exists","body":"Removed lombok annotations and created my own getters and setters but still issue exists"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576701,"post_id":75823242,"comment_id":133748477,"body_markdown":"Please add the property SerializationFeature.FAIL_ON_EMPTY_BEANS= false to your object mapper like objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);","body":"Please add the property SerializationFeature.FAIL_ON_EMPTY_BEANS= false to your object mapper like objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BE&zwnj;&#8203;ANS, false);"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576803,"post_id":75823242,"comment_id":133748517,"body_markdown":"I wanted you to remove all the lombok code and try if ...remove this lombok dependency and try","body":"I wanted you to remove all the lombok code and try if ...remove this lombok dependency and try"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679576843,"post_id":75823242,"comment_id":133748527,"body_markdown":"here is nice answer https://stackoverflow.com/questions/70630933/no-serializer-found-problem-returning-responseentity-including-exception","body":"here is nice answer <a href=\"https://stackoverflow.com/questions/70630933/no-serializer-found-problem-returning-responseentity-including-exception\" title=\"no serializer found problem returning responseentity including exception\">stackoverflow.com/questions/70630933/&hellip;</a>"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679577859,"post_id":75823242,"comment_id":133748795,"body_markdown":"added configuration as suggested, but now while trying to index data, it getting indexed some other data rather than what it supposed to be. it was supposed to be store \n\n{\n    &quot;name&quot;: &quot;xyz&quot;,\n    &quot;id&quot;: &quot;2&quot;,\n    &quot;address&quot;: [{\n        &quot;addressLine&quot;: &quot;xyz street&quot;,\n        &quot;zipcode&quot;: &quot;12345&quot;,\n        &quot;state&quot;: &quot;AP&quot;,\n        &quot;country&quot;: &quot;India&quot;\n    }]\n}","body":"added configuration as suggested, but now while trying to index data, it getting indexed some other data rather than what it supposed to be. it was supposed to be store   {     &quot;name&quot;: &quot;xyz&quot;,     &quot;id&quot;: &quot;2&quot;,     &quot;address&quot;: [{         &quot;addressLine&quot;: &quot;xyz street&quot;,         &quot;zipcode&quot;: &quot;12345&quot;,         &quot;state&quot;: &quot;AP&quot;,         &quot;country&quot;: &quot;India&quot;     }] }"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578157,"post_id":75823242,"comment_id":133748868,"body_markdown":"But it is storing\n\n{\n    &quot;name&quot;: &quot;xyz&quot;,\n    &quot;id&quot;: &quot;2&quot;,\n    &quot;address&quot;: [\n        {\n            &quot;typeName&quot;: null,\n            &quot;indexAnalyzer&quot;: {\n                &quot;reuseStrategy&quot;: {},\n                &quot;version&quot;: {\n                    &quot;major&quot;: 8,\n                    &quot;minor&quot;: 11,\n                    &quot;bugfix&quot;: 2,\n                    &quot;prerelease&quot;: 0\n                }\n            },","body":"But it is storing  {     &quot;name&quot;: &quot;xyz&quot;,     &quot;id&quot;: &quot;2&quot;,     &quot;address&quot;: [         {             &quot;typeName&quot;: null,             &quot;indexAnalyzer&quot;: {                 &quot;reuseStrategy&quot;: {},                 &quot;version&quot;: {                     &quot;major&quot;: 8,                     &quot;minor&quot;: 11,                     &quot;bugfix&quot;: 2,                     &quot;prerelease&quot;: 0                 }             },"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578195,"post_id":75823242,"comment_id":133748885,"body_markdown":"&quot;queryAnalyzer&quot;: {\n                &quot;reuseStrategy&quot;: {},\n                &quot;version&quot;: {\n                    &quot;major&quot;: 8,\n                    &quot;minor&quot;: 11,\n                    &quot;bugfix&quot;: 2,\n                    &quot;prerelease&quot;: 0\n                }\n            },","body":"&quot;queryAnalyzer&quot;: {                 &quot;reuseStrategy&quot;: {},                 &quot;version&quot;: {                     &quot;major&quot;: 8,                     &quot;minor&quot;: 11,                     &quot;bugfix&quot;: 2,                     &quot;prerelease&quot;: 0                 }             },"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578215,"post_id":75823242,"comment_id":133748895,"body_markdown":"&quot;similarityFactory&quot;: null,\n            &quot;similarity&quot;: null,\n            &quot;postingsFormat&quot;: null,\n            &quot;docValuesFormat&quot;: null,\n            &quot;addressLine&quot;: &quot;xyz street&quot;,\n            &quot;zipcode&quot;: &quot;12345&quot;,\n            &quot;country&quot;: &quot;India&quot;,\n            &quot;state&quot;: &quot;AP&quot;,\n            &quot;numberType&quot;: null,\n            &quot;multiValued&quot;: false,\n            &quot;explicitQueryAnalyzer&quot;: false,\n            &quot;explicitAnalyzer&quot;: false,\n            &quot;tokenized&quot;: false,\n            &quot;polyField&quot;: false,","body":"&quot;similarityFactory&quot;: null,             &quot;similarity&quot;: null,             &quot;postingsFormat&quot;: null,             &quot;docValuesFormat&quot;: null,             &quot;addressLine&quot;: &quot;xyz street&quot;,             &quot;zipcode&quot;: &quot;12345&quot;,             &quot;country&quot;: &quot;India&quot;,             &quot;state&quot;: &quot;AP&quot;,             &quot;numberType&quot;: null,             &quot;multiValued&quot;: false,             &quot;explicitQueryAnalyzer&quot;: false,             &quot;explicitAnalyzer&quot;: false,             &quot;tokenized&quot;: false,             &quot;polyField&quot;: false,"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679578229,"post_id":75823242,"comment_id":133748902,"body_markdown":"&quot;pointField&quot;: false,\n            &quot;utf8Field&quot;: false,\n            &quot;classArg&quot;: &quot;com.apachesolr.sample.application.model.Address&quot;\n        }\n    ]\n}\n\n@AbhijitBashetti","body":"&quot;pointField&quot;: false,             &quot;utf8Field&quot;: false,             &quot;classArg&quot;: &quot;com.apachesolr.sample.application.model.Address&quot;         }     ] }  @AbhijitBashetti"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679581264,"post_id":75823242,"comment_id":133749854,"body_markdown":"May I know why are you extending the address class with FieldType...? public class Address extends FieldType... Can you remove it and try indexing the data again. I hope it would then index the correct and expected data.","body":"May I know why are you extending the address class with FieldType...? public class Address extends FieldType... Can you remove it and try indexing the data again. I hope it would then index the correct and expected data."},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679590730,"post_id":75823242,"comment_id":133752773,"body_markdown":"when i edit with this configuration in schema.xml  \n&lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\n\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\n\nI am getting\n\n org.apache.solr.common.SolrException:org.apache.solr.common.SolrException: Could not load conf for core Employee: Can&#39;t load schema C:\\solr-8.11.2\\solr-8.11.2\\server\\solr\\Employee\\conf\\myschema.xml: Plugin init failure for [schema.xml] fieldType &quot;Address&quot;: Error loading class &#39;com.apachesolr.sample.application.model.Address&#39;\n\nI am getting this exception, @AbhijitBashetti","body":"when i edit with this configuration in schema.xml   &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;    &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;  I am getting   org.apache.solr.common.SolrException:org.apache.solr.common.&zwnj;&#8203;SolrException: Could not load conf for core Employee: Can&#39;t load schema C:\\solr-8.11.2\\solr-8.11.2\\server\\solr\\Employee\\conf\\myschem&zwnj;&#8203;a.xml: Plugin init failure for [schema.xml] fieldType &quot;Address&quot;: Error loading class &#39;com.apachesolr.sample.application.model.Address&#39;  I am getting this exception, @AbhijitBashetti"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679590836,"post_id":75823242,"comment_id":133752806,"body_markdown":"could you please let me know how to configure schema.xml file for custom java classes to add as solr field type.@AbhijitBashetti","body":"could you please let me know how to configure schema.xml file for custom java classes to add as solr field type.@AbhijitBashetti"},{"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"score":0,"creation_date":1679591160,"post_id":75823242,"comment_id":133752883,"body_markdown":"I think it not able to load Address class since i am giving class=&quot;com.apachesolr.sample.application.model.Address&quot;(this class is from java code) in schema.xml file. is there any other way that we can give class other than specifying qualified java class name? @AbhijitBashetti","body":"I think it not able to load Address class since i am giving class=&quot;com.apachesolr.sample.application.model.Address&quot;(this class is from java code) in schema.xml file. is there any other way that we can give class other than specifying qualified java class name? @AbhijitBashetti"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679592058,"post_id":75823242,"comment_id":133753144,"body_markdown":"If you want to add a custom field type in solr, I think you may need to checkout the solr code and then you need add it there and then build jar/war of it","body":"If you want to add a custom field type in solr, I think you may need to checkout the solr code and then you need add it there and then build jar/war of it"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1679592234,"post_id":75823242,"comment_id":133753194,"body_markdown":"https://stackoverflow.com/questions/27705276/custom-field-class-in-solr?rq=1 ... you can check this","body":"<a href=\"https://stackoverflow.com/questions/27705276/custom-field-class-in-solr?rq=1\" title=\"custom field class in solr\">stackoverflow.com/questions/27705276/&hellip;</a> ... you can check this"}],"owner":{"account_id":28065994,"reputation":11,"user_id":21439384,"display_name":"siva"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650418,"creation_date":1679575990,"question_id":75823242,"body_markdown":"I am trying to create a custom field type in solr from spring boot application. I have employee class which contains Address as a nested object\r\n\r\n```\r\npackage com.apachesolr.sample.application.model;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.solr.core.mapping.Indexed;\r\nimport org.springframework.data.solr.core.mapping.SolrDocument;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@SolrDocument(collection =&quot;Employee&quot; )\r\npublic class Employee {\r\n\r\n\t@Indexed\r\n\tprivate String name;\r\n\t@Indexed\r\n\t@Id\r\n\tprivate String id;\r\n\t@Indexed\r\n\tprivate List&lt;Address&gt; address;\r\n}\r\n\r\n```\r\n\r\nHere is my Address class:\r\n\r\n\r\n```\r\npackage com.apachesolr.sample.application.model;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.apache.lucene.index.IndexableField;\r\nimport org.apache.lucene.search.SortField;\r\nimport org.apache.solr.common.params.SolrParams;\r\nimport org.apache.solr.response.TextResponseWriter;\r\nimport org.apache.solr.schema.FieldType;\r\nimport org.apache.solr.schema.SchemaField;\r\nimport org.apache.solr.uninverting.UninvertingReader.Type;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class Address extends FieldType {\r\n\r\n\tpublic Address() {\r\n\r\n\t}\r\n\r\n\tpublic Address(String fieldTypeName, SolrParams q) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic Address(String fieldTypeName) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tprivate String addressLine;\r\n\tprivate String zipcode;\r\n\tprivate String State;\r\n\tprivate String country;\r\n\r\n\t@Override\r\n\tpublic Type getUninversionType(SchemaField sf) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void write(TextResponseWriter writer, String name, IndexableField f) throws IOException {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic SortField getSortField(SchemaField field, boolean top) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\nI have added field this field type and a field in schema.xml:\r\n\r\n```\r\n &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\r\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\r\n\r\n```\r\nBut when i tried to index data to employee core using solrCrudRepository it is throwing `InvalidDefinitionException` exception, Please let me know how to solve this.\r\n\r\n\r\n\r\n\r\n    com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.lucene.analysis.Analyzer$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.apachesolr.sample.application.model.Employee[&quot;address&quot;]-&gt;java.util.ArrayList[0]-&gt;com.apachesolr.sample.application.model.Address[&quot;indexAnalyzer&quot;]-&gt;org.apache.solr.schema.FieldType$DefaultAnalyzer[&quot;reuseStrategy&quot;])\r\n    \tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.5.jar:2.13.5]\r\n    \tat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat com.apachesolr.sample.application.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:75) ~[main/:na]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\r\n    \tat java.lang.Thread.run(Unknown Source) [na:1.8.0_251]\r\n\r\n\r\n\r\n\r\ntried creating getters and setters but not working","title":"InvalidDefinitionException while creating a custom field type in solr from springboot application","body":"<p>I am trying to create a custom field type in solr from spring boot application. I have employee class which contains Address as a nested object</p>\n<pre><code>package com.apachesolr.sample.application.model;\n\nimport java.util.List;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.solr.core.mapping.Indexed;\nimport org.springframework.data.solr.core.mapping.SolrDocument;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@SolrDocument(collection =&quot;Employee&quot; )\npublic class Employee {\n\n    @Indexed\n    private String name;\n    @Indexed\n    @Id\n    private String id;\n    @Indexed\n    private List&lt;Address&gt; address;\n}\n\n</code></pre>\n<p>Here is my Address class:</p>\n<pre><code>package com.apachesolr.sample.application.model;\n\nimport java.io.IOException;\n\nimport org.apache.lucene.index.IndexableField;\nimport org.apache.lucene.search.SortField;\nimport org.apache.solr.common.params.SolrParams;\nimport org.apache.solr.response.TextResponseWriter;\nimport org.apache.solr.schema.FieldType;\nimport org.apache.solr.schema.SchemaField;\nimport org.apache.solr.uninverting.UninvertingReader.Type;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class Address extends FieldType {\n\n    public Address() {\n\n    }\n\n    public Address(String fieldTypeName, SolrParams q) {\n        super();\n    }\n\n    public Address(String fieldTypeName) {\n        super();\n    }\n\n    private String addressLine;\n    private String zipcode;\n    private String State;\n    private String country;\n\n    @Override\n    public Type getUninversionType(SchemaField sf) {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void write(TextResponseWriter writer, String name, IndexableField f) throws IOException {\n\n    }\n\n    @Override\n    public SortField getSortField(SchemaField field, boolean top) {\n        return null;\n    }\n}\n</code></pre>\n<p>I have added field this field type and a field in schema.xml:</p>\n<pre><code> &lt;fieldType name=&quot;Address&quot; class=&quot;com.apachesolr.sample.application.model.Address&quot; docValues=&quot;true&quot;/&gt;\n  &lt;field name=&quot;address&quot; type=&quot;Address&quot;/&gt;\n\n</code></pre>\n<p>But when i tried to index data to employee core using solrCrudRepository it is throwing <code>InvalidDefinitionException</code> exception, Please let me know how to solve this.</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.apache.lucene.analysis.Analyzer$1 and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.apachesolr.sample.application.model.Employee[&quot;address&quot;]-&gt;java.util.ArrayList[0]-&gt;com.apachesolr.sample.application.model.Address[&quot;indexAnalyzer&quot;]-&gt;org.apache.solr.schema.FieldType$DefaultAnalyzer[&quot;reuseStrategy&quot;])\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1300) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.failForEmpty(UnknownSerializer.java:46) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.UnknownSerializer.serialize(UnknownSerializer.java:29) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:119) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:79) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serialize(IndexedListSerializer.java:18) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1518) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1007) ~[jackson-databind-2.13.5.jar:2.13.5]\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.25.jar:5.3.25]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at com.apachesolr.sample.application.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:75) ~[main/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186) ~[spring-security-web-5.7.7.jar:5.7.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.25.jar:5.3.25]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:891) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1784) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-9.0.71.jar:9.0.71]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_251]\n</code></pre>\n<p>tried creating getters and setters but not working</p>\n"},{"tags":["java","ubuntu","eclipse-plugin"],"comments":[{"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"score":0,"creation_date":1478602310,"post_id":40259589,"comment_id":68213698,"body_markdown":"in `run` method of `PlatformUI.getWorkbench().getDisplay().syncExec`by `PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShell()` i got shell and now `shell.getDisplay` works for me thnks Hermann and greg-449","body":"in <code>run</code> method of <code>PlatformUI.getWorkbench().getDisplay().syncExec</code>by <code>PlatformUI.getWorkbench().getActiveWorkbenchWindow().getShel&zwnj;&#8203;l()</code> i got shell and now <code>shell.getDisplay</code> works for me thnks Hermann and greg-449"}],"answers":[{"comments":[{"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"score":0,"creation_date":1477478273,"post_id":40259917,"comment_id":67780726,"body_markdown":"Second `Display` is open from some action perform on first `Display` which opens a `org.eclipse.swt.browser.Browser` using `org.eclipse.swt.widgets.Shell`. I need both `Display` to open","body":"Second <code>Display</code> is open from some action perform on first <code>Display</code> which opens a <code>org.eclipse.swt.browser.Browser</code> using <code>org.eclipse.swt.widgets.Shell</code>. I need both <code>Display</code> to open"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1477478436,"post_id":40259917,"comment_id":67780826,"body_markdown":"I don&#39;t see why that requires another display. I have plenty of code using browsers in shells and they don&#39;t need another display. As the other answer says in an Eclipse plugin you should never create a display, **ever**","body":"I don&#39;t see why that requires another display. I have plenty of code using browsers in shells and they don&#39;t need another display. As the other answer says in an Eclipse plugin you should never create a display, <b>ever</b>"},{"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"score":0,"creation_date":1477488619,"post_id":40259917,"comment_id":67787669,"body_markdown":"When I create \n\t`display = PlatformUI.getWorkbench().getDisplay();`\n\t`shell = new Shell(display);`\nIt gives `org.eclipse.swt.SWTException: Invalid thread access`","body":"When I create  \t<code>display = PlatformUI.getWorkbench().getDisplay();</code> \t<code>shell = new Shell(display);</code> It gives <code>org.eclipse.swt.SWTException: Invalid thread access</code>"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1477489107,"post_id":40259917,"comment_id":67788071,"body_markdown":"All SWT UI operations must be done on the single UI thread. If your code is not running on that thread use the `asyncExec` or `syncExec` methods of `Display` to execute a `Runnable` on the UI thread","body":"All SWT UI operations must be done on the single UI thread. If your code is not running on that thread use the <code>asyncExec</code> or <code>syncExec</code> methods of <code>Display</code> to execute a <code>Runnable</code> on the UI thread"}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1477477984,"creation_date":1477477984,"answer_id":40259917,"question_id":40259589,"body_markdown":"Support for multiple `Display` objects varies between platforms. Looking at the source code this is not supported on Linux/GTK or macOS.\r\n\r\nFor full portability you need to stick to a single `Display` device. It is generally not necessary to use more than one.","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>Support for multiple <code>Display</code> objects varies between platforms. Looking at the source code this is not supported on Linux/GTK or macOS.</p>\n\n<p>For full portability you need to stick to a single <code>Display</code> device. It is generally not necessary to use more than one.</p>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679650283,"creation_date":1477478069,"answer_id":40259945,"question_id":40259589,"body_markdown":"On some platforms, SWT does not support creating multiple displays.\r\n\r\nHowever, plug-in code should not create a `Display` at all. During workbench startup, a display is created for you that you can access either through\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    PlatformUI.getWorkbench().getDisplay()\r\n\r\nor by obtaining the display from an existing widget, for example:\r\n    \r\n&lt;!-- language: java --&gt;\r\n\r\n    void createControls(Composite parent) {\r\n      Display display = parent.getDisplay();\r\n      ...\r\n    }","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>On some platforms, SWT does not support creating multiple displays.</p>\n<p>However, plug-in code should not create a <code>Display</code> at all. During workbench startup, a display is created for you that you can access either through</p>\n<pre class=\"lang-java prettyprint-override\"><code>PlatformUI.getWorkbench().getDisplay()\n</code></pre>\n<p>or by obtaining the display from an existing widget, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void createControls(Composite parent) {\n  Display display = parent.getDisplay();\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":7447054,"reputation":773,"user_id":5662881,"accept_rate":46,"display_name":"Hitesh Ghuge"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":40259917,"answer_count":2,"score":3,"last_activity_date":1679650283,"creation_date":1477477061,"question_id":40259589,"body_markdown":"I have plug-in project in which I am using \r\n\r\n\tDisplay display = new Display(); // twice \r\n\t\r\nthis plug-in is working fine on Windows. \r\n\r\nBut when I run plug-in on Linux it throws an error:\r\n\r\n\torg.eclipse.swt.SWTError: Not implemented [multiple displays]\r\n\tRoot exception:\r\n\t\torg.eclipse.swt.SWTError: Not implemented [multiple displays]\r\n\t\tat org.eclipse.swt.SWT.error(SWT.java:4423)\r\n\t\tat org.eclipse.swt.widgets.Display.checkDisplay(Display.java:767)\r\n\t\tat org.eclipse.swt.widgets.Display.create(Display.java:908)\r\n\t\tat org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:156)\r\n\t\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:507)\r\n\t\tat org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:498)\r\n\t\tat com.test$OpenPage.run(test.java:267)\r\n\t\tat org.eclipse.mylyn.tasks.ui.wizards.AbstractRepositorySettingsPage$29.run(AbstractRepositorySettingsPage.java:1964)\r\n\t\tat org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\r\n\r\n\r\nI have tested it on Windows 7/8.1/10 (working fine) and Ubuntu (not working)\r\n\r\n","title":"SWTError: Not implemented [multiple displays] in Eclipse plug-in devlopment","body":"<p>I have plug-in project in which I am using </p>\n\n<pre><code>Display display = new Display(); // twice \n</code></pre>\n\n<p>this plug-in is working fine on Windows. </p>\n\n<p>But when I run plug-in on Linux it throws an error:</p>\n\n<pre><code>org.eclipse.swt.SWTError: Not implemented [multiple displays]\nRoot exception:\n    org.eclipse.swt.SWTError: Not implemented [multiple displays]\n    at org.eclipse.swt.SWT.error(SWT.java:4423)\n    at org.eclipse.swt.widgets.Display.checkDisplay(Display.java:767)\n    at org.eclipse.swt.widgets.Display.create(Display.java:908)\n    at org.eclipse.swt.graphics.Device.&lt;init&gt;(Device.java:156)\n    at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:507)\n    at org.eclipse.swt.widgets.Display.&lt;init&gt;(Display.java:498)\n    at com.test$OpenPage.run(test.java:267)\n    at org.eclipse.mylyn.tasks.ui.wizards.AbstractRepositorySettingsPage$29.run(AbstractRepositorySettingsPage.java:1964)\n    at org.eclipse.jface.operation.ModalContext$ModalContextThread.run(ModalContext.java:121)\n</code></pre>\n\n<p>I have tested it on Windows 7/8.1/10 (working fine) and Ubuntu (not working)</p>\n"},{"tags":["java","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679629838,"post_id":75829874,"comment_id":133759451,"body_markdown":"Well, `numbers[10]` throws an exception, and you also throw one in `demo`. I don&#39;t see what&#39;s wrong.","body":"Well, <code>numbers[10]</code> throws an exception, and you also throw one in <code>demo</code>. I don&#39;t see what&#39;s wrong."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679630491,"post_id":75829874,"comment_id":133759499,"body_markdown":"An AIOOBE exception will automatically be thrown if an attempt is made to access an array at an invalid index. You do this with `numbers[10]` (the index `10` is out of bounds for the `numbers` array of length `5`). That&#39;s where one exception is coming from. The other exception is coming from the one you throw in `demo()`. And note that `finally` is _always_ executed if the associated `try` has been entered (ignoring special situations, such as a call to `System.exit(...)`). So, even though `numbers[10]` is throwing an exception, the `finally` block is still executed, and thus so is `demo()`.","body":"An AIOOBE exception will automatically be thrown if an attempt is made to access an array at an invalid index. You do this with <code>numbers[10]</code> (the index <code>10</code> is out of bounds for the <code>numbers</code> array of length <code>5</code>). That&#39;s where one exception is coming from. The other exception is coming from the one you throw in <code>demo()</code>. And note that <code>finally</code> is <i>always</i> executed if the associated <code>try</code> has been entered (ignoring special situations, such as a call to <code>System.exit(...)</code>). So, even though <code>numbers[10]</code> is throwing an exception, the <code>finally</code> block is still executed, and thus so is <code>demo()</code>."},{"owner":{"account_id":3350252,"reputation":199,"user_id":2814446,"accept_rate":43,"display_name":"CodeIntro"},"score":0,"creation_date":1679630534,"post_id":75829874,"comment_id":133759503,"body_markdown":"Yes, this should throw 2 exceptions, 1 due to accessing numbers[10] (as you are not catching it) and then the one you throw intentionally in finally block. JVM will throw the exception when it occurs (if you haven&#39;t catch) regardless of what you have done.","body":"Yes, this should throw 2 exceptions, 1 due to accessing numbers[10] (as you are not catching it) and then the one you throw intentionally in finally block. JVM will throw the exception when it occurs (if you haven&#39;t catch) regardless of what you have done."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679632380,"post_id":75829874,"comment_id":133759688,"body_markdown":"You should only see one exception reported by the JVM, as an exception thrown in a finally block hides the original exception. But yes, two exceptions are being thrown. Why are you manually throwing the exception? If the goal of the exercise is to cause an ArrayIndexOutOfBoundsException the array access is sufficient.","body":"You should only see one exception reported by the JVM, as an exception thrown in a finally block hides the original exception. But yes, two exceptions are being thrown. Why are you manually throwing the exception? If the goal of the exercise is to cause an ArrayIndexOutOfBoundsException the array access is sufficient."},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713449,"post_id":75829874,"comment_id":133774999,"body_markdown":"@tgdavies Our assignment specifically asks us to manually throw the exception, which kind of puzzled me, but I can&#39;t argue with what the professor wants","body":"@tgdavies Our assignment specifically asks us to manually throw the exception, which kind of puzzled me, but I can&#39;t argue with what the professor wants"},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713674,"post_id":75829874,"comment_id":133775012,"body_markdown":"TY @CodeIntro, your answer was very informative. All of this is so new to me, so that was helpful!","body":"TY @CodeIntro, your answer was very informative. All of this is so new to me, so that was helpful!"},{"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"score":0,"creation_date":1679713687,"post_id":75829874,"comment_id":133775013,"body_markdown":"TY @Slaw! Now I totally understand why it&#39;s throwing two, and why!","body":"TY @Slaw! Now I totally understand why it&#39;s throwing two, and why!"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679722018,"post_id":75829874,"comment_id":133775613,"body_markdown":"Glad I could help :) Though I recommend getting some clarification from your professor. The use of `try`-`finally` here is confusing because, as noted, the exception from `demo()` _should_ be hiding the exception from `numbers[10]` due to `demo()` being called in the `finally` block (throwing an exception or returning a value from `finally` &quot;overrides&quot; any exception or return from the associated `try` or `catch`). Perhaps what your professor wants is for you to create a method that takes an array and an index, which manually checks `index &gt;= 0 &amp;&amp; index &lt; array.length`, throwing as appropriate.","body":"Glad I could help :) Though I recommend getting some clarification from your professor. The use of <code>try</code>-<code>finally</code> here is confusing because, as noted, the exception from <code>demo()</code> <i>should</i> be hiding the exception from <code>numbers[10]</code> due to <code>demo()</code> being called in the <code>finally</code> block (throwing an exception or returning a value from <code>finally</code> &quot;overrides&quot; any exception or return from the associated <code>try</code> or <code>catch</code>). Perhaps what your professor wants is for you to create a method that takes an array and an index, which manually checks <code>index &gt;= 0 &amp;&amp; index &lt; array.length</code>, throwing as appropriate."}],"owner":{"account_id":28110369,"reputation":19,"user_id":21478240,"display_name":"zafflesia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679650273,"creation_date":1679629725,"question_id":75829874,"body_markdown":"I&#39;m very, very new to coding and currently taking a class for Java. For our most recent assignment, we have to purposely throw several different Built-in Exceptions, even though to my understanding you don&#39;t have to manually do this. I&#39;m currently trying to throw an ArrayIndexOutOfBoundsException with a try and finally statement.\r\n\r\nMy code currently looks like this:\r\n\r\n```java\r\npublic class ArrayIndexOutOfBoundsExceptionThrown {\r\n\r\n    static void demo() {\r\n        System.out.println(&quot;Asked for index 10&quot;);\r\n        throw new ArrayIndexOutOfBoundsException(&quot;Invalid array index!&quot;);\r\n    } // end of demo\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] numbers = new int[5];\r\n        try {\r\n            System.out.println(numbers[10]);\r\n        } finally {\r\n            demo();\r\n        }\r\n    }// end of main\r\n\r\n} // end of ArrayIOOBE\r\n```\r\n\r\nAnd that does seem to work, but Java is **also** giving me two Exception errors on its own. Is this normal? Does Java always automatically show me Exceptions on its own even after I&#39;ve manually asked it to throw one?","title":"Trying to purposely throw an ArrayIndexOutOfBoundsException","body":"<p>I'm very, very new to coding and currently taking a class for Java. For our most recent assignment, we have to purposely throw several different Built-in Exceptions, even though to my understanding you don't have to manually do this. I'm currently trying to throw an ArrayIndexOutOfBoundsException with a try and finally statement.</p>\n<p>My code currently looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ArrayIndexOutOfBoundsExceptionThrown {\n\n    static void demo() {\n        System.out.println(&quot;Asked for index 10&quot;);\n        throw new ArrayIndexOutOfBoundsException(&quot;Invalid array index!&quot;);\n    } // end of demo\n\n    public static void main(String[] args) {\n\n        int[] numbers = new int[5];\n        try {\n            System.out.println(numbers[10]);\n        } finally {\n            demo();\n        }\n    }// end of main\n\n} // end of ArrayIOOBE\n</code></pre>\n<p>And that does seem to work, but Java is <strong>also</strong> giving me two Exception errors on its own. Is this normal? Does Java always automatically show me Exceptions on its own even after I've manually asked it to throw one?</p>\n"},{"tags":["java","spring-boot","annotations"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1679647215,"post_id":75831445,"comment_id":133761929,"body_markdown":"Your question is misleading, `Details` is not subclass of `Data`, `Data` is composed of `Details` (you have composition, not inheritance here). Going by memory, you need to add `@Valid` or `@Validated`, some annotation among those lines, on the details field in `Data` class.","body":"Your question is misleading, <code>Details</code> is not subclass of <code>Data</code>, <code>Data</code> is composed of <code>Details</code> (you have composition, not inheritance here). Going by memory, you need to add <code>@Valid</code> or <code>@Validated</code>, some annotation among those lines, on the details field in <code>Data</code> class."}],"owner":{"account_id":26159513,"reputation":9,"user_id":19846300,"display_name":"Swaraj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679648195,"answer_count":0,"score":0,"last_activity_date":1679650037,"creation_date":1679646680,"question_id":75831445,"body_markdown":"```\r\nimport javax.validation.constraints.Pattern;\r\n\r\npublic class Data {\r\n\r\n\tDetails details ;\r\n}\r\n```\r\n```\r\npublic class Details {\r\n\r\n\t@Pattern(regexp = &quot;^[//a-zA-Z0-9]+$&quot;, message = &quot;yyyyy&quot;)\r\n\tprivate String Id;\r\n}\r\n```\r\n**In controller layer** \r\n```\r\n@RequestMapping(value = &quot;/xyz&quot;, method = RequestMethod.POST)\r\npublic Object create(@Valid @RequestBody Data policy, HttpServletRequest request,   \r\n                                                                        HttpServletResponse response){\r\n}\r\n```\r\nI need the validations that is present in **Details** class . It is a sub-class of **Data**.\r\nIn controller layer, i have given RequestBody **Data**  and @valid annotation is there \r\nI am trying from postman , but not able to throw the **@Pattern** validation.","title":"@Pattern annotation in subclasses of a spring boot","body":"<pre><code>import javax.validation.constraints.Pattern;\n\npublic class Data {\n\n    Details details ;\n}\n</code></pre>\n<pre><code>public class Details {\n\n    @Pattern(regexp = &quot;^[//a-zA-Z0-9]+$&quot;, message = &quot;yyyyy&quot;)\n    private String Id;\n}\n</code></pre>\n<p><strong>In controller layer</strong></p>\n<pre><code>@RequestMapping(value = &quot;/xyz&quot;, method = RequestMethod.POST)\npublic Object create(@Valid @RequestBody Data policy, HttpServletRequest request,   \n                                                                        HttpServletResponse response){\n}\n</code></pre>\n<p>I need the validations that is present in <strong>Details</strong> class . It is a sub-class of <strong>Data</strong>.\nIn controller layer, i have given RequestBody <strong>Data</strong>  and @valid annotation is there\nI am trying from postman , but not able to throw the <strong>@Pattern</strong> validation.</p>\n"},{"tags":["java","import","jupyter","jupyter-kernel"],"owner":{"account_id":27175383,"reputation":21,"user_id":20711457,"display_name":"Jakub Lechowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679649547,"creation_date":1679649547,"question_id":75831868,"body_markdown":"I want to import a custom java script into an `IJava` notebook. Is it possible?\r\n\r\n\r\n\r\nI&#39;m trying to do it this way, but it doesn&#39;t seem to work. I&#39;m new to &quot;IJava&quot; so if I&#39;m doing something wrong please correct me.\r\n\r\nMy working directory structure:\r\n\r\n```\r\n├── com\r\n│&#160;&#160; └── example\r\n│&#160;&#160;     ├── MyClass.class\r\n│&#160;&#160;     └── MyClass.java\r\n└── Test.ipynb\r\n\r\n```\r\n\r\nTest.ipynb (code from cell):\r\n\r\n```java\r\n%classpath add jar ./com/example/MyClass.class\r\n%jars ./com/example/MyClass.class\r\nimport com.example.MyClass;\r\nMyClass myObj = new MyClass();\r\nmyObj.helloWorld();\r\n```\r\n\r\nError message:\r\n```java\r\n| import com.example.MyClass;\r\npackage com.example does not exist\r\n\r\n```\r\n\r\n\r\nMyClass.class/MyClass.java:\r\n\r\n```java\r\npackage com.example;\r\npublic class MyClass {\r\n    public void helloWorld() {\r\n       System.out.println(&quot;Hello, world!&quot;);\r\n    }\r\n}\r\n\r\n```","title":"How to import code from an external module to IJava notebook?","body":"<p>I want to import a custom java script into an <code>IJava</code> notebook. Is it possible?</p>\n<p>I'm trying to do it this way, but it doesn't seem to work. I'm new to &quot;IJava&quot; so if I'm doing something wrong please correct me.</p>\n<p>My working directory structure:</p>\n<pre><code>├── com\n│   └── example\n│       ├── MyClass.class\n│       └── MyClass.java\n└── Test.ipynb\n\n</code></pre>\n<p>Test.ipynb (code from cell):</p>\n<pre class=\"lang-java prettyprint-override\"><code>%classpath add jar ./com/example/MyClass.class\n%jars ./com/example/MyClass.class\nimport com.example.MyClass;\nMyClass myObj = new MyClass();\nmyObj.helloWorld();\n</code></pre>\n<p>Error message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>| import com.example.MyClass;\npackage com.example does not exist\n\n</code></pre>\n<p>MyClass.class/MyClass.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\npublic class MyClass {\n    public void helloWorld() {\n       System.out.println(&quot;Hello, world!&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","javafx","shutdown","shutdown-hook","application-shutdown"],"answers":[{"comments":[{"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"score":0,"creation_date":1488644347,"post_id":42598179,"comment_id":72327498,"body_markdown":"Well with this answer you just made me wonder if i would ever use stop() to close some important resource at all, since i can forcefully kill my process and as i see its not called at all, same probably with crash. Thanks for the fast answer.","body":"Well with this answer you just made me wonder if i would ever use stop() to close some important resource at all, since i can forcefully kill my process and as i see its not called at all, same probably with crash. Thanks for the fast answer."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1488644638,"post_id":42598179,"comment_id":72327608,"body_markdown":"@TomasBisciak The vast majority of JavaFX applications will not call `System.exit()` (you should always favor `Platform.exit()`) and are not run from the command line (reducing the possibility of an interrupt), so usually `stop()` will suffice. But again, it depends on your use case.","body":"@TomasBisciak The vast majority of JavaFX applications will not call <code>System.exit()</code> (you should always favor <code>Platform.exit()</code>) and are not run from the command line (reducing the possibility of an interrupt), so usually <code>stop()</code> will suffice. But again, it depends on your use case."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1588428449,"creation_date":1488643967,"answer_id":42598179,"question_id":42598097,"body_markdown":"`stop()` will only be called if you exit the application via `Platform.exit()` (or when the last window is closed if  `Platform.implicitExit` is true). Shutdown hooks will execute if `System.exit()` is called, or if the native process running the JVM is interrupted (e.g. ctrl-C on a *nix-like OS), in addition to the usual way of exiting a JavaFX Application.\r\n\r\nNote that it appears to be important to register the shutdown hook in the main thread, before calling `Application.launch()`.\r\n\r\n`stop()` is executed on the FX Application Thread, so it is safe to access UI elements (e.g. to show &quot;save unsaved changes&quot; dialogs, etc). Shutdown hooks are run in a background thread, so cannot access UI elements (indeed the FX Toolkit will probably long have stopped running by that stage).\r\n\r\nSo the choice depends on the use case.\r\n\r\nTo make this a little more concrete, here&#39;s a quick test class:\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ShutdownTest extends Application {\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage primaryStage) {\r\n    \t\tButton platformExit = new Button(&quot;Platform Exit&quot;);\r\n    \t\tplatformExit.setOnAction(e -&gt; Platform.exit());\r\n    \t\tButton systemExit = new Button(&quot;System Exit&quot;);\r\n    \t\tsystemExit.setOnAction(e -&gt; System.exit(0));\r\n    \t\tButton hang = new Button(&quot;Hang&quot;);\r\n    \t\thang.setOnAction(e -&gt; {while(true);});\r\n    \t\tHBox root = new HBox(5, platformExit, systemExit, hang);\r\n    \t\troot.setPadding(new Insets(20));\r\n    \t\troot.setAlignment(Pos.CENTER);\r\n    \t\tScene scene = new Scene(root);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void stop() {\r\n    \t\tSystem.out.println(&quot;Stop&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tRuntime.getRuntime().addShutdownHook(new Thread(() -&gt; System.out.println(&quot;Shutdown hook&quot;)));\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\nI tested this on Mac OS X.\r\n\r\nExiting via the &quot;Platform Exit&quot; button, by closing the window, or by right-clicking on the Dock and choosing &quot;Quit&quot; will execute both the `stop()` method and the shutdown hook.\r\n\r\nExiting by the &quot;System Exit&quot; button, by forcing the process to quit from &quot;Activity Monitor&quot;, or by killing the process by `kill id` from the command line, will execute the shutdown hook only. Hanging the application by pressing the &quot;Hang&quot; button and then right-clicking on the Dock and choosing &quot;Force Quit&quot; has the same result.\r\n\r\nExiting by sending a SIGKILL to the process (`kill -9 id` or `kill -SIGKILL id` from the command line) executes neither the `stop()` method nor the shutdown hook.\r\n","title":"Using JavaFX Application.stop() method over Shutdownhook","body":"<p><code>stop()</code> will only be called if you exit the application via <code>Platform.exit()</code> (or when the last window is closed if  <code>Platform.implicitExit</code> is true). Shutdown hooks will execute if <code>System.exit()</code> is called, or if the native process running the JVM is interrupted (e.g. ctrl-C on a *nix-like OS), in addition to the usual way of exiting a JavaFX Application.</p>\n\n<p>Note that it appears to be important to register the shutdown hook in the main thread, before calling <code>Application.launch()</code>.</p>\n\n<p><code>stop()</code> is executed on the FX Application Thread, so it is safe to access UI elements (e.g. to show \"save unsaved changes\" dialogs, etc). Shutdown hooks are run in a background thread, so cannot access UI elements (indeed the FX Toolkit will probably long have stopped running by that stage).</p>\n\n<p>So the choice depends on the use case.</p>\n\n<p>To make this a little more concrete, here's a quick test class:</p>\n\n<pre><code>import javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class ShutdownTest extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        Button platformExit = new Button(\"Platform Exit\");\n        platformExit.setOnAction(e -&gt; Platform.exit());\n        Button systemExit = new Button(\"System Exit\");\n        systemExit.setOnAction(e -&gt; System.exit(0));\n        Button hang = new Button(\"Hang\");\n        hang.setOnAction(e -&gt; {while(true);});\n        HBox root = new HBox(5, platformExit, systemExit, hang);\n        root.setPadding(new Insets(20));\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n\n    }\n\n    @Override\n    public void stop() {\n        System.out.println(\"Stop\");\n    }\n\n    public static void main(String[] args) {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; System.out.println(\"Shutdown hook\")));\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>I tested this on Mac OS X.</p>\n\n<p>Exiting via the \"Platform Exit\" button, by closing the window, or by right-clicking on the Dock and choosing \"Quit\" will execute both the <code>stop()</code> method and the shutdown hook.</p>\n\n<p>Exiting by the \"System Exit\" button, by forcing the process to quit from \"Activity Monitor\", or by killing the process by <code>kill id</code> from the command line, will execute the shutdown hook only. Hanging the application by pressing the \"Hang\" button and then right-clicking on the Dock and choosing \"Force Quit\" has the same result.</p>\n\n<p>Exiting by sending a SIGKILL to the process (<code>kill -9 id</code> or <code>kill -SIGKILL id</code> from the command line) executes neither the <code>stop()</code> method nor the shutdown hook.</p>\n"}],"owner":{"account_id":3240077,"reputation":2811,"user_id":2733333,"accept_rate":89,"display_name":"Tomas Bisciak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13949,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":42598179,"answer_count":1,"score":16,"last_activity_date":1679649511,"creation_date":1488643524,"question_id":42598097,"body_markdown":"So im using shutdownhook to clean up. But since its not always guaranteed that shutdownhooks thread executes, should i just push this code onto JavaFX Application Thread (method stop()), which executes every time i close my application? Code is not expensive to run. Its basically just close socket if not closed and kill processs if not killed.\r\n\r\n**Is it good practice to use Application.stop() to cleanup over ShutdownHook?**\r\n\r\nQuote from doc:\r\n\r\n&gt; This method is called when the application should stop, and provides a\r\n&gt; convenient place to prepare for application exit and destroy\r\n&gt; resources. The implementation of this method provided by the\r\n&gt; Application class does nothing.\r\n&gt; \r\n&gt; NOTE: This method is called on the JavaFX Application Thread.\r\n\r\nIs this method only intended to clean up resources of UI? So far i don&#39;t see a reason using shutdownhook over stop() at all.","title":"Using JavaFX Application.stop() method over Shutdownhook","body":"<p>So im using shutdownhook to clean up. But since its not always guaranteed that shutdownhooks thread executes, should i just push this code onto JavaFX Application Thread (method stop()), which executes every time i close my application? Code is not expensive to run. Its basically just close socket if not closed and kill processs if not killed.</p>\n<p><strong>Is it good practice to use Application.stop() to cleanup over ShutdownHook?</strong></p>\n<p>Quote from doc:</p>\n<blockquote>\n<p>This method is called when the application should stop, and provides a\nconvenient place to prepare for application exit and destroy\nresources. The implementation of this method provided by the\nApplication class does nothing.</p>\n<p>NOTE: This method is called on the JavaFX Application Thread.</p>\n</blockquote>\n<p>Is this method only intended to clean up resources of UI? So far i don't see a reason using shutdownhook over stop() at all.</p>\n"},{"tags":["java","spring","maven","exception","controller-advice"],"comments":[{"owner":{"account_id":2621829,"reputation":990,"user_id":2269692,"display_name":"Sergi"},"score":0,"creation_date":1679649733,"post_id":75831840,"comment_id":133762506,"body_markdown":"I think this is not handled by the exception handler, but with access denied handler. See the example: https://www.baeldung.com/spring-security-custom-access-denied-page","body":"I think this is not handled by the exception handler, but with access denied handler. See the example: <a href=\"https://www.baeldung.com/spring-security-custom-access-denied-page\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-custom-access-denied-page</a>"}],"owner":{"account_id":4116899,"reputation":3660,"user_id":3378245,"accept_rate":55,"display_name":"Arun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679649393,"creation_date":1679649393,"question_id":75831840,"body_markdown":"I am a very beginner in `spring`. In my application, I created a global exception handler class using `@ControllerAdvice`. It is catching all **5xx errors**. But when it is getting some 403 error, it is showing the default page.\r\n\r\n**My calls file is**\r\n\r\n    package com.example.learn.controller;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n    \r\n    @Slf4j\r\n    @ControllerAdvice\r\n    public class GlobalExceptionController {\r\n    \r\n     \r\n        @ExceptionHandler(Exception.class)\r\n        public ModelAndView exceptionHandler(Exception exception) {\r\n            ModelAndView errorPage = new ModelAndView();\r\n            errorPage.setViewName(&quot;error&quot;);\r\n            errorPage.addObject(&quot;errormsg&quot;, exception.getMessage());\r\n            return errorPage;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n**And when it is getting some 403 error the below page is coming**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHow can I show a custom error page instead of this in the global exception handler?\r\n\r\n**Spring Version:** 3.0.5\r\n\r\n**Java version:** 17\r\n\r\n**Build using maven**\r\n\r\nThanks in advance\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d85KW.png","title":"Spring is not catching 403 error in global exception handler","body":"<p>I am a very beginner in <code>spring</code>. In my application, I created a global exception handler class using <code>@ControllerAdvice</code>. It is catching all <strong>5xx errors</strong>. But when it is getting some 403 error, it is showing the default page.</p>\n<p><strong>My calls file is</strong></p>\n<pre><code>package com.example.learn.controller;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.servlet.ModelAndView;\n\n@Slf4j\n@ControllerAdvice\npublic class GlobalExceptionController {\n\n \n    @ExceptionHandler(Exception.class)\n    public ModelAndView exceptionHandler(Exception exception) {\n        ModelAndView errorPage = new ModelAndView();\n        errorPage.setViewName(&quot;error&quot;);\n        errorPage.addObject(&quot;errormsg&quot;, exception.getMessage());\n        return errorPage;\n    }\n\n}\n</code></pre>\n<p><strong>And when it is getting some 403 error the below page is coming</strong></p>\n<p><a href=\"https://i.stack.imgur.com/d85KW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d85KW.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I show a custom error page instead of this in the global exception handler?</p>\n<p><strong>Spring Version:</strong> 3.0.5</p>\n<p><strong>Java version:</strong> 17</p>\n<p><strong>Build using maven</strong></p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","jpql"],"answers":[{"comments":[{"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"score":0,"creation_date":1679650728,"post_id":75831824,"comment_id":133762762,"body_markdown":"Now I am getting an different error\n**Unable to locate appropriate constructor Expected arguments are: java.lang.String, java.lang.String, java.util.Collection, java.util.Collection**","body":"Now I am getting an different error <b>Unable to locate appropriate constructor Expected arguments are: java.lang.String, java.lang.String, java.util.Collection, java.util.Collection</b>"}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679649306,"creation_date":1679649306,"answer_id":75831824,"question_id":75830863,"body_markdown":"I guess you should rather use `t.basicProperties` and `t.measurementProperties` to bind the `List` instances. Give a try the following query:\r\n\r\n```\r\n@Query(value = \r\n        &quot;select new&quot; + \r\n        &quot;io.badhusha.iotmonitor.model.ThingType(&quot; +\r\n            &quot;t.thingTypeId, t.description, t.basicProperties, t.measurementProperties&quot; +\r\n        &quot;)&quot; +\r\n        &quot;from ThingType t&quot; +\r\n        &quot;left join t.basicProperties&quot; +\r\n        &quot;left join t.measurementProperties&quot; +\r\n        &quot;where t.thingTypeId = ?1&quot;)\r\n```\r\n```java\r\n&quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId, t.description, t.basicProperties, t.measurementProperties) from ThingType t LEFT JOIN t.basicProperties LEFT JOIN t.measurementProperties where t.thingTypeId = ?1&quot;\r\n```\r\n\r\nFinally, your constructor generated with `@AllArgsConstructor` contains 5 parameters (with `Managed` as the 3rd parameter). You need to define new constructor matching: \r\n\r\n```\r\n(String, String, List&lt;ThingTypeBasicProperties&gt;, List&lt;ThingTypeMeasurementProperties&gt;)\r\n```\r\n","title":"Associated values in JPQL : Unable to locate appropriate constructor on class","body":"<p>I guess you should rather use <code>t.basicProperties</code> and <code>t.measurementProperties</code> to bind the <code>List</code> instances. Give a try the following query:</p>\n<pre><code>@Query(value = \n        &quot;select new&quot; + \n        &quot;io.badhusha.iotmonitor.model.ThingType(&quot; +\n            &quot;t.thingTypeId, t.description, t.basicProperties, t.measurementProperties&quot; +\n        &quot;)&quot; +\n        &quot;from ThingType t&quot; +\n        &quot;left join t.basicProperties&quot; +\n        &quot;left join t.measurementProperties&quot; +\n        &quot;where t.thingTypeId = ?1&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>&quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId, t.description, t.basicProperties, t.measurementProperties) from ThingType t LEFT JOIN t.basicProperties LEFT JOIN t.measurementProperties where t.thingTypeId = ?1&quot;\n</code></pre>\n<p>Finally, your constructor generated with <code>@AllArgsConstructor</code> contains 5 parameters (with <code>Managed</code> as the 3rd parameter). You need to define new constructor matching:</p>\n<pre><code>(String, String, List&lt;ThingTypeBasicProperties&gt;, List&lt;ThingTypeMeasurementProperties&gt;)\n</code></pre>\n"}],"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75831824,"answer_count":1,"score":1,"last_activity_date":1679649306,"creation_date":1679641890,"question_id":75830863,"body_markdown":"I have a Entities as shown below.\r\n\r\n**ThingType.java**\r\n\r\n    @Entity\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class ThingType {\r\n     @Id\r\n     @Column(name = &quot;thing_type_id&quot;)\r\n     private String thingTypeId;\r\n\r\n     @Column(length = 50)\r\n     private String description;\r\n\r\n     @Embedded\r\n     private Managed managed;\r\n\r\n     @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n     private List&lt;ThingTypeBasicProperties&gt; basicProperties = new ArrayList&lt;&gt;();\r\n\r\n     @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n     private List&lt;ThingTypeMeasurementProperties&gt; measurementProperties = new ArrayList&lt;&gt;();\r\n    }\r\n\r\nI have repository interface for ThingType.\r\n\r\nThingTypeRepository.java\r\n\r\n    @Repository\r\n    public interface ThingTypeRepository extends JpaRepository&lt;ThingType,String&gt; {\r\n     @Query(value = &quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId,t.description,bp,mp) from ThingType t LEFT JOIN t.basicProperties bp LEFT JOIN t.measurementProperties mp where t.thingTypeId = ?1&quot;)\r\n    Optional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\r\n    }\r\n\r\nI am trying to fetch the **ThingType** with its associated **basicProperties** and **measurementProperties** using JPQL query.\r\n\r\nI get error below\r\n\r\n&gt; Unable to locate appropriate constructor on class [io.project.model.ThingType]. Expected arguments are: java.lang.String, java.lang.String, io.project.model.ThingTypeBasicProperties, io.project.model.ThingTypeMeasurementProperties\r\n\r\n\r\nThe error is saying it is expecting a single value of **ThingTypeBasicProperties** and **ThingTypeMeasurementProperties**. Why ? I am having a OneToMany relationship, it should be a List.\r\n\r\n\r\nCan anyone please help me here ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Associated values in JPQL : Unable to locate appropriate constructor on class","body":"<p>I have a Entities as shown below.</p>\n<p><strong>ThingType.java</strong></p>\n<pre><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\npublic class ThingType {\n @Id\n @Column(name = &quot;thing_type_id&quot;)\n private String thingTypeId;\n\n @Column(length = 50)\n private String description;\n\n @Embedded\n private Managed managed;\n\n @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n private List&lt;ThingTypeBasicProperties&gt; basicProperties = new ArrayList&lt;&gt;();\n\n @OneToMany(orphanRemoval = true,mappedBy = &quot;thingType&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n private List&lt;ThingTypeMeasurementProperties&gt; measurementProperties = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>I have repository interface for ThingType.</p>\n<p>ThingTypeRepository.java</p>\n<pre><code>@Repository\npublic interface ThingTypeRepository extends JpaRepository&lt;ThingType,String&gt; {\n @Query(value = &quot;select new io.badhusha.iotmonitor.model.ThingType(t.thingTypeId,t.description,bp,mp) from ThingType t LEFT JOIN t.basicProperties bp LEFT JOIN t.measurementProperties mp where t.thingTypeId = ?1&quot;)\nOptional&lt;ThingType&gt; findThingTypeById(@NonNull String thingTypeId);\n}\n</code></pre>\n<p>I am trying to fetch the <strong>ThingType</strong> with its associated <strong>basicProperties</strong> and <strong>measurementProperties</strong> using JPQL query.</p>\n<p>I get error below</p>\n<blockquote>\n<p>Unable to locate appropriate constructor on class [io.project.model.ThingType]. Expected arguments are: java.lang.String, java.lang.String, io.project.model.ThingTypeBasicProperties, io.project.model.ThingTypeMeasurementProperties</p>\n</blockquote>\n<p>The error is saying it is expecting a single value of <strong>ThingTypeBasicProperties</strong> and <strong>ThingTypeMeasurementProperties</strong>. Why ? I am having a OneToMany relationship, it should be a List.</p>\n<p>Can anyone please help me here ?</p>\n"},{"tags":["java","ssl","tls1.2","java-17","testssl.sh"],"answers":[{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1679675515,"post_id":75831772,"comment_id":133769373,"body_markdown":"Configuring the VM is certainly about programming if you ask me.  And no, you cannot just set properties in `main` or something similar and expect that to work, -D is indeed the way.","body":"Configuring the VM is certainly about programming if you ask me.  And no, you cannot just set properties in <code>main</code> or something similar and expect that to work, -D is indeed the way."}],"tags":[],"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679649003,"creation_date":1679649003,"answer_id":75831772,"question_id":75826640,"body_markdown":"There are no system properties with the names you show, or similar. (Also, technically, system properties set in code are not &#39;JVM arg[ument]s&#39;, although they can have the same _effect_.)\r\n\r\nIn Java 8u271 up, 11.0.9 up, and 14 up, when using the &#39;standard&#39; (upstream-distributed) `java.security` file, there is a **security** property `jdk.disabled.namedCurves` (not Groups) that is &#39;included&#39; into three other _security_ properties `jdk.{certpath,jar,tls}.disabledAlgorithms` with the effect of disabling for those purposes curves that are now unsafe, unportable, or otherwise unrecommended. \r\n\r\nYour code could add `, X448` to `jdk.disabled.namedCurves` and have it automatically apply to the three other cases; certpath could never use X448 anyway since it doesn&#39;t support signing, and I&#39;m pretty sure jar also wouldn&#39;t, so this would most likely affect only TLS. Or you could add it directly to `jdk.tls.disabledAlgorithms` and be certain it affects only TLS. In either case you should **add** it to, not replace, the existing value, because all four of these properties already contain numerous curves or algorithms, respectively, that need to be disabled to prevent various problems or risks. \r\n\r\nAnd in either case you must do it very near the beginning of execution of your JVM, specifically before the first reference by any class to `sun.security.util.DisabledAlgorithmConstraints` (directly or indirectly). I&#39;m not sure even the beginning of your main method is early enough, although you can try it. Putting it in the configuration file (before the JVM even starts) is safe; for this you can either modify the file `JDKORJRE/conf/security/java.security` in j9 up or `JRE/lib/security/java.security` in j8 down, which affects all JVMs using that JRE, or by creating a modified or patch file and using **system** property `java.security.properties` on a specific JVM as described in the comments in the standard file; this needs to be in effect during JVM startup and thus the `-D` _argument_ is the only way to achieve it.\r\n\r\nWhich sadly makes this not a programming question and I&#39;m not sure it counts as development, so it may be off-topic here.","title":"Set Elliptical Curve in JDK17","body":"<p>There are no system properties with the names you show, or similar. (Also, technically, system properties set in code are not 'JVM arg[ument]s', although they can have the same <em>effect</em>.)</p>\n<p>In Java 8u271 up, 11.0.9 up, and 14 up, when using the 'standard' (upstream-distributed) <code>java.security</code> file, there is a <strong>security</strong> property <code>jdk.disabled.namedCurves</code> (not Groups) that is 'included' into three other <em>security</em> properties <code>jdk.{certpath,jar,tls}.disabledAlgorithms</code> with the effect of disabling for those purposes curves that are now unsafe, unportable, or otherwise unrecommended.</p>\n<p>Your code could add <code>, X448</code> to <code>jdk.disabled.namedCurves</code> and have it automatically apply to the three other cases; certpath could never use X448 anyway since it doesn't support signing, and I'm pretty sure jar also wouldn't, so this would most likely affect only TLS. Or you could add it directly to <code>jdk.tls.disabledAlgorithms</code> and be certain it affects only TLS. In either case you should <strong>add</strong> it to, not replace, the existing value, because all four of these properties already contain numerous curves or algorithms, respectively, that need to be disabled to prevent various problems or risks.</p>\n<p>And in either case you must do it very near the beginning of execution of your JVM, specifically before the first reference by any class to <code>sun.security.util.DisabledAlgorithmConstraints</code> (directly or indirectly). I'm not sure even the beginning of your main method is early enough, although you can try it. Putting it in the configuration file (before the JVM even starts) is safe; for this you can either modify the file <code>JDKORJRE/conf/security/java.security</code> in j9 up or <code>JRE/lib/security/java.security</code> in j8 down, which affects all JVMs using that JRE, or by creating a modified or patch file and using <strong>system</strong> property <code>java.security.properties</code> on a specific JVM as described in the comments in the standard file; this needs to be in effect during JVM startup and thus the <code>-D</code> <em>argument</em> is the only way to achieve it.</p>\n<p>Which sadly makes this not a programming question and I'm not sure it counts as development, so it may be off-topic here.</p>\n"}],"owner":{"account_id":21137539,"reputation":11,"user_id":15540694,"display_name":"RHYTHM VARSHNEY"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679649003,"creation_date":1679595102,"question_id":75826640,"body_markdown":"I have migrated a service from JDK8 to JDK17. Now, whenever client connects to server, server offers `X448` elliptical curve. I want to disable it.\r\n\r\n```\r\nPFS is offered (OK)          ECDHE-RSA-AES128-GCM-SHA256\r\n Elliptic curves offered:     prime256v1 secp384r1 secp521r1 X25519 X448\r\n```\r\nAbove output is from testssl tool, which is testing SSL.\r\n\r\n\r\n\r\nI have tried setting JVMargs as- \r\n\r\n```\r\nSystem.setProperty(&quot;jdk.tls.namedGroups&quot;,&quot;prime256v1&quot;);\r\nSystem.setProperty(&quot;jdk.disabled.namedGroups&quot;,&quot;X448&quot;);\r\n```\r\n\r\nBut the above thing is not working with JDK17. Can someone help me in how to disable `X448` Elliptical curve in JDK17?","title":"Set Elliptical Curve in JDK17","body":"<p>I have migrated a service from JDK8 to JDK17. Now, whenever client connects to server, server offers <code>X448</code> elliptical curve. I want to disable it.</p>\n<pre><code>PFS is offered (OK)          ECDHE-RSA-AES128-GCM-SHA256\n Elliptic curves offered:     prime256v1 secp384r1 secp521r1 X25519 X448\n</code></pre>\n<p>Above output is from testssl tool, which is testing SSL.</p>\n<p>I have tried setting JVMargs as-</p>\n<pre><code>System.setProperty(&quot;jdk.tls.namedGroups&quot;,&quot;prime256v1&quot;);\nSystem.setProperty(&quot;jdk.disabled.namedGroups&quot;,&quot;X448&quot;);\n</code></pre>\n<p>But the above thing is not working with JDK17. Can someone help me in how to disable <code>X448</code> Elliptical curve in JDK17?</p>\n"},{"tags":["java","spring-boot","cors","spring-webflux","same-origin-policy"],"answers":[{"comments":[{"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"score":0,"creation_date":1593863140,"post_id":62727414,"comment_id":110928618,"body_markdown":"Thank you very much for your answer. After reading it carefully and also reading again the documentation I still have the same problem. Actually, I do not use Spring Security. One more thing: Running the test gives also this error:\n`2020-07-04 13:44:45.611 ERROR 17867 --- [     parallel-1] o.s.w.s.adapter.HttpWebHandlerAdapter    : [38a66881] 500 Server Error for HTTP GET &quot;/cors-enabled-endpoint&quot;`\n\n`java.lang.IllegalArgumentException: Actual request scheme must not be null`\n\nIt might be the root cause but I don&#39;t find helping resources in the internet. Can you help?","body":"Thank you very much for your answer. After reading it carefully and also reading again the documentation I still have the same problem. Actually, I do not use Spring Security. One more thing: Running the test gives also this error: <code>2020-07-04 13:44:45.611 ERROR 17867 --- [     parallel-1] o.s.w.s.adapter.HttpWebHandlerAdapter    : [38a66881] 500 Server Error for HTTP GET &quot;&#47;cors-enabled-endpoint&quot;</code>  <code>java.lang.IllegalArgumentException: Actual request scheme must not be null</code>  It might be the root cause but I don&#39;t find helping resources in the internet. Can you help?"},{"owner":{"account_id":2333795,"reputation":865,"user_id":2046584,"accept_rate":100,"display_name":"vzhemevko"},"score":0,"creation_date":1593868303,"post_id":62727414,"comment_id":110930096,"body_markdown":"@RichArt Make sure you put CrossOrigin on the exact same request mapping you are sending the request to. If you put CrossOrigin on GET &quot;/api/users&quot; then CORS will be enabled only for GET &quot;/api/users&quot; . You could also put  CrossOrigin on the controller level then CORS will be available for all request mapping in the controller e.g. POST &quot;/api/users&quot; GET &quot;/api/users&quot; etc. and of course, it will depend on which methods you allowed in CORS configuration in the controller.","body":"@RichArt Make sure you put CrossOrigin on the exact same request mapping you are sending the request to. If you put CrossOrigin on GET &quot;/api/users&quot; then CORS will be enabled only for GET &quot;/api/users&quot; . You could also put  CrossOrigin on the controller level then CORS will be available for all request mapping in the controller e.g. POST &quot;/api/users&quot; GET &quot;/api/users&quot; etc. and of course, it will depend on which methods you allowed in CORS configuration in the controller."}],"tags":[],"owner":{"account_id":2333795,"reputation":865,"user_id":2046584,"accept_rate":100,"display_name":"vzhemevko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593854548,"creation_date":1593854548,"answer_id":62727414,"question_id":62723224,"body_markdown":"In the [JavaDocs][1] of the `@CrossOrigin` there is mentioning \r\n\r\n&gt; Both Spring Web MVC and Spring WebFlux support this annotation through\r\n&gt; the RequestMappingHandlerMapping in their respective modules. The\r\n&gt; values from each type and method level pair of annotations are added\r\n&gt; to a CorsConfiguration\r\n\r\nWhich means your CORS settings will be added to [CorsConfiguration][2]\r\n\r\nIf you are using Spring Security you need to [enable CORS][3] so that your CorsConfiguration will be used. See below a small example \r\n\r\n\r\n       protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors()\r\n                ...\r\n        }\r\n\r\nFrom the [JavaDocs][4] \r\n\r\n&gt; Adds a CorsFilter to be used. If a bean by the name of corsFilter is\r\n&gt; provided, that CorsFilter is used. Else if corsConfigurationSource is\r\n&gt; defined, then that CorsConfiguration is used. Otherwise, if Spring MVC\r\n&gt; is on the classpath a HandlerMappingIntrospector is used.\r\n\r\nNote, if you are sending credentials with the request (cookies) you need to add it to your CORS settings\r\n\r\n    @CrossOrigin(allowCredentials = &quot;true&quot;)\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/CrossOrigin.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.3.3.RELEASE/reference/html5/#cors\r\n  [4]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors--\r\n","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>In the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/CrossOrigin.html\" rel=\"nofollow noreferrer\">JavaDocs</a> of the <code>@CrossOrigin</code> there is mentioning</p>\n<blockquote>\n<p>Both Spring Web MVC and Spring WebFlux support this annotation through\nthe RequestMappingHandlerMapping in their respective modules. The\nvalues from each type and method level pair of annotations are added\nto a CorsConfiguration</p>\n</blockquote>\n<p>Which means your CORS settings will be added to <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/cors/CorsConfiguration.html\" rel=\"nofollow noreferrer\">CorsConfiguration</a></p>\n<p>If you are using Spring Security you need to <a href=\"https://docs.spring.io/spring-security/site/docs/5.3.3.RELEASE/reference/html5/#cors\" rel=\"nofollow noreferrer\">enable CORS</a> so that your CorsConfiguration will be used. See below a small example</p>\n<pre><code>   protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors()\n            ...\n    }\n</code></pre>\n<p>From the <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/web/builders/HttpSecurity.html#cors--\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<blockquote>\n<p>Adds a CorsFilter to be used. If a bean by the name of corsFilter is\nprovided, that CorsFilter is used. Else if corsConfigurationSource is\ndefined, then that CorsConfiguration is used. Otherwise, if Spring MVC\nis on the classpath a HandlerMappingIntrospector is used.</p>\n</blockquote>\n<p>Note, if you are sending credentials with the request (cookies) you need to add it to your CORS settings</p>\n<pre><code>@CrossOrigin(allowCredentials = &quot;true&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593991403,"creation_date":1593991403,"answer_id":62747353,"question_id":62723224,"body_markdown":"The solution was to use following configuration for the WebTestClient:\r\n\r\n```\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\n\r\nclass MyTestClass {\r\n\r\n    @Autowired\r\n    private WebTestClient webTestClient;\r\n\r\n    @Test\r\n    void corsTest() {\r\n        ResponseSpec response = webTestClient.get()\r\n                .uri(&quot;/cors-enabled-endpoint&quot;)\r\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                .exchange();\r\n\r\n        response.expectHeader()\r\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n    }\r\n\r\n}\r\n```\r\nAnd I also needed to add the `spring-boot-starter-web` dependency, which is very strange because I am using only Webflux. But without it the test still fails with `IllegalArgumentException: Actual request scheme must not be null`.\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNow, the test is green!","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>The solution was to use following configuration for the WebTestClient:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\n\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @Test\n    void corsTest() {\n        ResponseSpec response = webTestClient.get()\n                .uri(&quot;/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange();\n\n        response.expectHeader()\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n\n}\n</code></pre>\n<p>And I also needed to add the <code>spring-boot-starter-web</code> dependency, which is very strange because I am using only Webflux. But without it the test still fails with <code>IllegalArgumentException: Actual request scheme must not be null</code>.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now, the test is green!</p>\n"},{"tags":[],"owner":{"account_id":4823606,"reputation":417,"user_id":3893627,"display_name":"Carlos Andres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607555684,"creation_date":1607555684,"answer_id":65226314,"question_id":62723224,"body_markdown":"For me what actually worked without adding the spring-starter-web dependency was to use a web filter and force return if the http method is **OPTIONS**.\r\n\r\n    @Configuration\r\n    public class CorsGlobalConfiguration implements WebFilter {\r\n\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\r\n                             WebFilterChain webFilterChain) {\r\n        ServerHttpRequest request = serverWebExchange.getRequest();\r\n        ServerHttpResponse response = serverWebExchange.getResponse();\r\n        HttpHeaders headers = response.getHeaders();\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;*&quot;);\r\n        headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;18000L&quot;);\r\n        if (request.getMethod() == HttpMethod.OPTIONS) {\r\n            response.setStatusCode(HttpStatus.OK);\r\n            return Mono.empty();//HERE\r\n        }\r\n        return webFilterChain.filter(serverWebExchange);\r\n    }\r\n  \r\n\r\n    }\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://www.programcreek.com/java-api-examples/?code=SophiaLeo%2Fsophia_scaffolding%2Fsophia_scaffolding-master%2Fv3%2Fsophia_scaffolding%2Fsophia_gateway%2Fsrc%2Fmain%2Fjava%2Fcom%2Fscaffolding%2Fsophia%2Fgateway%2Ffilter%2FCorsFilter.java","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>For me what actually worked without adding the spring-starter-web dependency was to use a web filter and force return if the http method is <strong>OPTIONS</strong>.</p>\n<pre><code>@Configuration\npublic class CorsGlobalConfiguration implements WebFilter {\n\n\n@Override\npublic Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange,\n                         WebFilterChain webFilterChain) {\n    ServerHttpRequest request = serverWebExchange.getRequest();\n    ServerHttpResponse response = serverWebExchange.getResponse();\n    HttpHeaders headers = response.getHeaders();\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_METHODS, &quot;POST, GET, PUT, OPTIONS, DELETE, PATCH&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_CREDENTIALS, &quot;true&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_ALLOW_HEADERS, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, &quot;*&quot;);\n    headers.add(HttpHeaders.ACCESS_CONTROL_MAX_AGE, &quot;18000L&quot;);\n    if (request.getMethod() == HttpMethod.OPTIONS) {\n        response.setStatusCode(HttpStatus.OK);\n        return Mono.empty();//HERE\n    }\n    return webFilterChain.filter(serverWebExchange);\n}\n\n\n}\n</code></pre>\n<p><a href=\"https://www.programcreek.com/java-api-examples/?code=SophiaLeo%2Fsophia_scaffolding%2Fsophia_scaffolding-master%2Fv3%2Fsophia_scaffolding%2Fsophia_gateway%2Fsrc%2Fmain%2Fjava%2Fcom%2Fscaffolding%2Fsophia%2Fgateway%2Ffilter%2FCorsFilter.java\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1633698827,"post_id":67909564,"comment_id":122836099,"body_markdown":"Thank you very much. Yes adding mvc stuff probably not a good idea.","body":"Thank you very much. Yes adding mvc stuff probably not a good idea."}],"tags":[],"owner":{"account_id":179459,"reputation":710,"user_id":412151,"accept_rate":88,"display_name":"thinice"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623261969,"creation_date":1623261969,"answer_id":67909564,"question_id":62723224,"body_markdown":"@RichArt&#39;s solution is 99% close - but you don&#39;t need the dependency (spring-boot-starter-web); since it&#39;s checking CORS, it appears Spring needs help knowing what scheme and host you&#39;re hitting it from in the test; it can&#39;t derive the &#39;scheme&#39; (http) or the host with the shorter URI. \r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n    \r\n        @LocalServerPort\r\n        private Int lsp;\r\n\r\n        @Test\r\n        void corsTest() {\r\n            ResponseSpec response = webTestClient.get()\r\n                    .uri(&quot;http://localhost&quot; + lsp.toString() + &quot;/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange();\r\n    \r\n            response.expectHeader()\r\n                    .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }\r\n    \r\n    }","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>@RichArt's solution is 99% close - but you don't need the dependency (spring-boot-starter-web); since it's checking CORS, it appears Spring needs help knowing what scheme and host you're hitting it from in the test; it can't derive the 'scheme' (http) or the host with the shorter URI.</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n\n    @LocalServerPort\n    private Int lsp;\n\n    @Test\n    void corsTest() {\n        ResponseSpec response = webTestClient.get()\n                .uri(&quot;http://localhost&quot; + lsp.toString() + &quot;/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange();\n\n        response.expectHeader()\n                .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14667513,"reputation":142,"user_id":10592946,"display_name":"BeshEater"},"score":1,"creation_date":1655716463,"post_id":70849042,"comment_id":128389389,"body_markdown":"The whole thing that you must add ANY host (`http://whatever`) to the URI is very strange, but it&#39;s actually works","body":"The whole thing that you must add ANY host (<code>http:&#47;&#47;whatever</code>) to the URI is very strange, but it&#39;s actually works"}],"tags":[],"owner":{"account_id":16316237,"reputation":41,"user_id":11783278,"display_name":"Dichoda"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1643119422,"creation_date":1643115556,"answer_id":70849042,"question_id":62723224,"body_markdown":"Thinice&#39;s solution is 99.9% there.  The Spring WebTestClient CORS testing requires that the URI contain *any* hostname and port.  The *actual* hostname and port is ignored by WebTestClient to connect to the test web server:\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n        \r\n        @Test\r\n        void corsTest() {\r\n            webTestClient.get()\r\n                    .uri(&quot;http://hostname-ignored:666/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange()   \r\n                    .expectHeader()\r\n                      .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }    \r\n    }\r\n\r\nFurthermore, one can omit the explicit port and it will continue to work:\r\n\r\n    @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n    @AutoConfigureWebTestClient\r\n    class MyTestClass {\r\n    \r\n        @Autowired\r\n        private WebTestClient webTestClient;\r\n        \r\n        @Test\r\n        void corsTest() {\r\n            webTestClient.get()\r\n                    .uri(&quot;http://look-ma-no-port/cors-enabled-endpoint&quot;)\r\n                    .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\r\n                    .exchange()   \r\n                    .expectHeader()\r\n                      .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n        }\r\n    }\r\n\r\n\r\nTo enable CORS for all endpoints, one can use the given WebFluxConfigurer:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class MyWebFluxConfigurer {\r\n    \r\n      @Bean\r\n      public WebFluxConfigurer corsConfigurer() {\r\n        return new WebFluxConfigurerComposite() {\r\n    \r\n          @Override\r\n          public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n - Including the Origin header is important.  Without the Origin header the Access-Control-Allow-Origin header will not be set and the test will fail.\r\n\r\n - Setting Origin as the same hostname as the URI will be considered the same origin, so no cross origin headers are set.\r\n\r\n - RichArt&#39;s suggestion to include the spring-boot-starter-web dependency is not specifically required to enable CORS testing.\r\n\r\n - This answer only applies to testing.  It assumes you have enabled CORS in your server.\r\n\r\n - My answer is using Spring WebFlux 5.3.10.","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>Thinice's solution is 99.9% there.  The Spring WebTestClient CORS testing requires that the URI contain <em>any</em> hostname and port.  The <em>actual</em> hostname and port is ignored by WebTestClient to connect to the test web server:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n    \n    @Test\n    void corsTest() {\n        webTestClient.get()\n                .uri(&quot;http://hostname-ignored:666/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange()   \n                .expectHeader()\n                  .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }    \n}\n</code></pre>\n<p>Furthermore, one can omit the explicit port and it will continue to work:</p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\nclass MyTestClass {\n\n    @Autowired\n    private WebTestClient webTestClient;\n    \n    @Test\n    void corsTest() {\n        webTestClient.get()\n                .uri(&quot;http://look-ma-no-port/cors-enabled-endpoint&quot;)\n                .header(&quot;Origin&quot;, &quot;http://any-origin.com&quot;)\n                .exchange()   \n                .expectHeader()\n                  .valueEquals(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n    }\n}\n</code></pre>\n<p>To enable CORS for all endpoints, one can use the given WebFluxConfigurer:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\npublic class MyWebFluxConfigurer {\n\n  @Bean\n  public WebFluxConfigurer corsConfigurer() {\n    return new WebFluxConfigurerComposite() {\n\n      @Override\n      public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedOrigins(&quot;*&quot;).allowedMethods(&quot;*&quot;);\n      }\n    };\n  }\n}\n</code></pre>\n<ul>\n<li><p>Including the Origin header is important.  Without the Origin header the Access-Control-Allow-Origin header will not be set and the test will fail.</p>\n</li>\n<li><p>Setting Origin as the same hostname as the URI will be considered the same origin, so no cross origin headers are set.</p>\n</li>\n<li><p>RichArt's suggestion to include the spring-boot-starter-web dependency is not specifically required to enable CORS testing.</p>\n</li>\n<li><p>This answer only applies to testing.  It assumes you have enabled CORS in your server.</p>\n</li>\n<li><p>My answer is using Spring WebFlux 5.3.10.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":5187513,"reputation":1584,"user_id":4151472,"accept_rate":71,"display_name":"RichArt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3509,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62747353,"answer_count":5,"score":2,"last_activity_date":1679648991,"creation_date":1593814172,"question_id":62723224,"body_markdown":"I have Vuejs frontend and a Spring Boot Webflux controller. Now the browser is complaining with CORS when doing a call to Spring Boot.\r\n\r\n`\r\nAccess to XMLHttpRequest at &#39;https://...&#39; from origin &#39;https://...&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n`\r\n\r\nTo enable CORS I tried to use the @CrossOrigin annotation as described here: https://www.baeldung.com/spring-webflux-cors\r\n\r\nBut it didn&#39;t help and somehow Spring does not send the CORS headers back in the response even with the @CrossOrigin annotation in the controller.\r\n\r\nI also tried with the WebTestClient as described in the Bealdung tutorial and it confirms the header is not there:\r\n```\r\njava.lang.AssertionError: Response header &#39;Access-Control-Allow-Origin&#39; expected:&lt;[*]&gt; but was:&lt;null&gt;\r\n\r\n&gt; OPTIONS /cors-enabled-endpoint\r\n&gt; WebTestClient-Request-Id: [1]\r\n&gt; Origin: [http://any-origin.com]\r\n&gt; Access-Control-Request-Method: [GET]\r\n\r\nNo content\r\n\r\n&lt; 500 INTERNAL_SERVER_ERROR Internal Server Error\r\n&lt; Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]\r\n\r\n0 bytes of content (unknown content-type).\r\n\r\n```\r\n\r\nIf I test with `response.expectHeader().exists(&quot;Access-Control-Allow-Origin&quot;);`\r\nI get:\r\n```\r\njava.lang.AssertionError: Response header &#39;Access-Control-Allow-Origin&#39; does not exist\r\n```\r\n\r\n\r\nAny Idea why CORS configuration as described in the link above does not work? I also tried Enabling CORS on the Global Configuration and Enabling CORS with a WebFilter. But nothing seems to work. ","title":"WebTestClient - CORS with Spring Boot and Webflux","body":"<p>I have Vuejs frontend and a Spring Boot Webflux controller. Now the browser is complaining with CORS when doing a call to Spring Boot.</p>\n<p><code>Access to XMLHttpRequest at 'https://...' from origin 'https://...' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p>To enable CORS I tried to use the @CrossOrigin annotation as described here: <a href=\"https://www.baeldung.com/spring-webflux-cors\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-webflux-cors</a></p>\n<p>But it didn't help and somehow Spring does not send the CORS headers back in the response even with the @CrossOrigin annotation in the controller.</p>\n<p>I also tried with the WebTestClient as described in the Bealdung tutorial and it confirms the header is not there:</p>\n<pre><code>java.lang.AssertionError: Response header 'Access-Control-Allow-Origin' expected:&lt;[*]&gt; but was:&lt;null&gt;\n\n&gt; OPTIONS /cors-enabled-endpoint\n&gt; WebTestClient-Request-Id: [1]\n&gt; Origin: [http://any-origin.com]\n&gt; Access-Control-Request-Method: [GET]\n\nNo content\n\n&lt; 500 INTERNAL_SERVER_ERROR Internal Server Error\n&lt; Vary: [Origin, Access-Control-Request-Method, Access-Control-Request-Headers]\n\n0 bytes of content (unknown content-type).\n\n</code></pre>\n<p>If I test with <code>response.expectHeader().exists(&quot;Access-Control-Allow-Origin&quot;);</code>\nI get:</p>\n<pre><code>java.lang.AssertionError: Response header 'Access-Control-Allow-Origin' does not exist\n</code></pre>\n<p>Any Idea why CORS configuration as described in the link above does not work? I also tried Enabling CORS on the Global Configuration and Enabling CORS with a WebFilter. But nothing seems to work.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":4669761,"reputation":264,"user_id":3781828,"accept_rate":25,"display_name":"Akhil Tiwari"},"score":4,"creation_date":1495683688,"post_id":41447045,"comment_id":75359204,"body_markdown":"Thanks buddy.... Its the solution that I was looking for.... complete solution at one place....","body":"Thanks buddy.... Its the solution that I was looking for.... complete solution at one place...."},{"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"score":2,"creation_date":1505699367,"post_id":41447045,"comment_id":79503592,"body_markdown":"This solution is perfection! Thanks you very much.","body":"This solution is perfection! Thanks you very much."},{"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"score":0,"creation_date":1523623647,"post_id":41447045,"comment_id":86649161,"body_markdown":"@SharpEdge try it out, I never thought of it, try to make one and share","body":"@SharpEdge try it out, I never thought of it, try to make one and share"},{"owner":{"account_id":11013148,"reputation":5634,"user_id":8089770,"display_name":"Vidhi Dave"},"score":0,"creation_date":1531804940,"post_id":41447045,"comment_id":89718914,"body_markdown":"@kinsleykajiva I want to know the last item of any particular group.. is there any way to achieve this?","body":"@kinsleykajiva I want to know the last item of any particular group.. is there any way to achieve this?"},{"owner":{"account_id":16526863,"reputation":177,"user_id":11941333,"display_name":"luhluh"},"score":0,"creation_date":1571897168,"post_id":41447045,"comment_id":103392958,"body_markdown":"The blog link is not available","body":"The blog link is not available"},{"owner":{"account_id":1112484,"reputation":1418,"user_id":1102691,"accept_rate":76,"display_name":"krtkush"},"score":1,"creation_date":1577441448,"post_id":41447045,"comment_id":105171010,"body_markdown":"That blog is mine; thanks for the acknowledgement @kinsleykajiva. A friend shared the link to this question with me.","body":"That blog is mine; thanks for the acknowledgement @kinsleykajiva. A friend shared the link to this question with me."},{"owner":{"account_id":1112484,"reputation":1418,"user_id":1102691,"accept_rate":76,"display_name":"krtkush"},"score":0,"creation_date":1577531329,"post_id":41447045,"comment_id":105192651,"body_markdown":"@luhluh Try this - https://krtkush.com/2016/07/08/android-recyclerview-grouping-data.html","body":"@luhluh Try this - <a href=\"https://krtkush.com/2016/07/08/android-recyclerview-grouping-data.html\" rel=\"nofollow noreferrer\">krtkush.com/2016/07/08/android-recyclerview-grouping-data.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":0,"creation_date":1580827317,"post_id":41447045,"comment_id":106220718,"body_markdown":"You can&#39;t use it with pagination, e.g. `PagedListAdapterd`","body":"You can&#39;t use it with pagination, e.g. <code>PagedListAdapterd</code>"},{"owner":{"account_id":17653471,"reputation":290,"user_id":12813514,"display_name":"AndroidDev123"},"score":0,"creation_date":1649175486,"post_id":41447045,"comment_id":126807339,"body_markdown":"This is an incredibly helpful answer, many thanks.","body":"This is an incredibly helpful answer, many thanks."}],"tags":[],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":9,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1483457898,"creation_date":1483457898,"answer_id":41447045,"question_id":41447044,"body_markdown":"Here is a solution i came by with the aid of alot research over the net and this blog link as well [Kartikey Kuswhaha][1] so its not all my credit but i just want to give more clarity to it.\r\n below is the code:\r\ncreate the following files:**PojoOfJsonArray**,**MainActivity**, **ListItem** ,**GeneralItem** ,**DateItem** , **Adapter** \r\n\r\n\r\n\r\n  [1]: https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\r\n**PojoOfJsonArray**.java -this file wil represent your POJO class or whatever pojo you got going on in your app so:\r\n\r\n   \r\n\r\n     public class PojoOfJsonArray  {\r\n    \r\n        public PojoOfJsonArray(String name, String date) {\r\n            this.name = name;\r\n            this.date = date;\r\n        }\r\n    \r\n        private String name,date;\r\n    \r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    }\r\n\r\n **MainActivity**.java this is  the activity that you will use to implement you recyclerview :\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private List&lt;PojoOfJsonArray&gt; myOptions = new ArrayList&lt;&gt;();\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n    \r\n        private RecyclerView mRecyclerView;\r\n        private Adapter adapter;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mRecyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n            mRecyclerView.setHasFixedSize(true);\r\n    \r\n            myOptions.add(new PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;));\r\n            myOptions.add(new PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;));\r\n    \r\n            HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = groupDataIntoHashMap(myOptions);\r\n    \r\n    \r\n            for (String date : groupedHashMap.keySet()) {\r\n                DateItem dateItem = new DateItem();\r\n                dateItem.setDate(date);\r\n                consolidatedList.add(dateItem);\r\n    \r\n    \r\n                for (PojoOfJsonArray pojoOfJsonArray : groupedHashMap.get(date)) {\r\n                    GeneralItem generalItem = new GeneralItem();\r\n                    generalItem.setPojoOfJsonArray(pojoOfJsonArray);//setBookingDataTabs(bookingDataTabs);\r\n                    consolidatedList.add(generalItem);\r\n                }\r\n            }\r\n    \r\n    \r\n            adapter = new Adapter(this, consolidatedList);\r\n            LinearLayoutManager layoutManager = new LinearLayoutManager(this);\r\n            layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\r\n            mRecyclerView.setLayoutManager(layoutManager);\r\n            mRecyclerView.setAdapter(adapter);\r\n    \r\n    \r\n        }\r\n    \r\n        private HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupDataIntoHashMap(List&lt;PojoOfJsonArray&gt; listOfPojosOfJsonArray) {\r\n    \r\n            HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = new HashMap&lt;&gt;();\r\n    \r\n            for (PojoOfJsonArray pojoOfJsonArray : listOfPojosOfJsonArray) {\r\n    \r\n                String hashMapKey = pojoOfJsonArray.getDate();\r\n    \r\n                if (groupedHashMap.containsKey(hashMapKey)) {\r\n                    // The key is already in the HashMap; add the pojo object\r\n                    // against the existing key.\r\n                    groupedHashMap.get(hashMapKey).add(pojoOfJsonArray);\r\n                } else {\r\n                    // The key is not there in the HashMap; create a new key-value pair\r\n                    List&lt;PojoOfJsonArray&gt; list = new ArrayList&lt;&gt;();\r\n                    list.add(pojoOfJsonArray);\r\n                    groupedHashMap.put(hashMapKey, list);\r\n                }\r\n            }\r\n    \r\n    \r\n            return groupedHashMap;\r\n        }\r\n    \r\n    }\r\n the myOptions is where one would use to feed your data into.\r\n**ListItem**.java \r\n\r\n    public abstract class ListItem {\r\n    \r\n        public static final int TYPE_DATE = 0;\r\n        public static final int TYPE_GENERAL = 1;\r\n    \r\n        abstract public int getType();\r\n    }\r\n**GeneralItem**.java \r\n\r\n    public class GeneralItem extends ListItem {\r\n        private PojoOfJsonArray pojoOfJsonArray;\r\n    \r\n        public PojoOfJsonArray getPojoOfJsonArray() {\r\n            return pojoOfJsonArray;\r\n        }\r\n    \r\n        public void setPojoOfJsonArray(PojoOfJsonArray pojoOfJsonArray) {\r\n            this.pojoOfJsonArray = pojoOfJsonArray;\r\n        }\r\n    \r\n        @Override\r\n        public int getType() {\r\n            return TYPE_GENERAL;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n**DateItem**.java \r\n\r\n    public class DateItem extends ListItem {\r\n    \r\n        private String date;\r\n    \r\n        public String getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        @Override\r\n        public int getType() {\r\n            return TYPE_DATE;\r\n        }\r\n    }\r\n\r\n**Adapter**.java this adapter is for the recyclerview if your not well informed on how to make simple sectioned recyclerview then i suggest you read on those and be good in the area because this is abit more tricky anyways:\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    \r\n       \r\n        private Context mContext;\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n    \r\n        public Adapter(Context context, List&lt;ListItem&gt; consolidatedList) {\r\n            this.consolidatedList = consolidatedList;\r\n            this.mContext = context;\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent,  int viewType) {\r\n    \r\n            RecyclerView.ViewHolder viewHolder = null;\r\n            LayoutInflater inflater = LayoutInflater.from(parent.getContext());\r\n    \r\n            switch (viewType) {\r\n    \r\n                case ListItem.TYPE_GENERAL:\r\n                    View v1 = inflater.inflate(R.layout.items, parent,\r\n                            false);\r\n                    viewHolder = new GeneralViewHolder(v1);\r\n                    break;\r\n    \r\n                case ListItem.TYPE_DATE:\r\n                    View v2 = inflater.inflate(R.layout.itemsh, parent, false);\r\n                    viewHolder = new DateViewHolder(v2);\r\n                    break;\r\n            }\r\n    \r\n            return viewHolder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\r\n    \r\n            switch (viewHolder.getItemViewType()) {\r\n    \r\n                case ListItem.TYPE_GENERAL:\r\n    \r\n                    GeneralItem generalItem   = (GeneralItem) consolidatedList.get(position);\r\n                    GeneralViewHolder generalViewHolder= (GeneralViewHolder) viewHolder;\r\n                    generalViewHolder.txtTitle.setText(generalItem.getPojoOfJsonArray().getName());\r\n    \r\n                    break;\r\n    \r\n                case ListItem.TYPE_DATE:\r\n                    DateItem dateItem = (DateItem) consolidatedList.get(position);\r\n                    DateViewHolder dateViewHolder = (DateViewHolder) viewHolder;\r\n    \r\n                    dateViewHolder.txtTitle.setText(dateItem.getDate());\r\n                    // Populate date item data here\r\n    \r\n                    break;\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n        // ViewHolder for date row item\r\n        class DateViewHolder extends RecyclerView.ViewHolder {\r\n            protected TextView txtTitle;\r\n    \r\n            public DateViewHolder(View v) {\r\n                super(v);\r\n                this.txtTitle = (TextView) v.findViewById(R.id.txt);\r\n    \r\n            }\r\n        }\r\n    \r\n        // View holder for general row item\r\n        class GeneralViewHolder extends RecyclerView.ViewHolder {\r\n            protected TextView txtTitle;\r\n    \r\n            public GeneralViewHolder(View v) {\r\n                super(v);\r\n                this.txtTitle = (TextView) v.findViewById(R.id.txt);\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return consolidatedList.get(position).getType();\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return consolidatedList != null ? consolidatedList.size() : 0;\r\n        }\r\n    \r\n    }\r\nand this has two layout being used . thus all \r\n\r\n","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>Here is a solution i came by with the aid of alot research over the net and this blog link as well <a href=\"https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\" rel=\"noreferrer\">Kartikey Kuswhaha</a> so its not all my credit but i just want to give more clarity to it.\n below is the code:\ncreate the following files:<strong>PojoOfJsonArray</strong>,<strong>MainActivity</strong>, <strong>ListItem</strong> ,<strong>GeneralItem</strong> ,<strong>DateItem</strong> , <strong>Adapter</strong> </p>\n\n<p><strong>PojoOfJsonArray</strong>.java -this file wil represent your POJO class or whatever pojo you got going on in your app so:</p>\n\n<pre><code> public class PojoOfJsonArray  {\n\n    public PojoOfJsonArray(String name, String date) {\n        this.name = name;\n        this.date = date;\n    }\n\n    private String name,date;\n\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n}\n</code></pre>\n\n<p><strong>MainActivity</strong>.java this is  the activity that you will use to implement you recyclerview :</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private List&lt;PojoOfJsonArray&gt; myOptions = new ArrayList&lt;&gt;();\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    private RecyclerView mRecyclerView;\n    private Adapter adapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mRecyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n        mRecyclerView.setHasFixedSize(true);\n\n        myOptions.add(new PojoOfJsonArray(\"name 1\", \"2016-06-21\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n        myOptions.add(new PojoOfJsonArray(\"name 2\", \"2016-06-05\"));\n        myOptions.add(new PojoOfJsonArray(\"name 3\", \"2016-05-17\"));\n\n        HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = groupDataIntoHashMap(myOptions);\n\n\n        for (String date : groupedHashMap.keySet()) {\n            DateItem dateItem = new DateItem();\n            dateItem.setDate(date);\n            consolidatedList.add(dateItem);\n\n\n            for (PojoOfJsonArray pojoOfJsonArray : groupedHashMap.get(date)) {\n                GeneralItem generalItem = new GeneralItem();\n                generalItem.setPojoOfJsonArray(pojoOfJsonArray);//setBookingDataTabs(bookingDataTabs);\n                consolidatedList.add(generalItem);\n            }\n        }\n\n\n        adapter = new Adapter(this, consolidatedList);\n        LinearLayoutManager layoutManager = new LinearLayoutManager(this);\n        layoutManager.setOrientation(LinearLayoutManager.VERTICAL);\n        mRecyclerView.setLayoutManager(layoutManager);\n        mRecyclerView.setAdapter(adapter);\n\n\n    }\n\n    private HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupDataIntoHashMap(List&lt;PojoOfJsonArray&gt; listOfPojosOfJsonArray) {\n\n        HashMap&lt;String, List&lt;PojoOfJsonArray&gt;&gt; groupedHashMap = new HashMap&lt;&gt;();\n\n        for (PojoOfJsonArray pojoOfJsonArray : listOfPojosOfJsonArray) {\n\n            String hashMapKey = pojoOfJsonArray.getDate();\n\n            if (groupedHashMap.containsKey(hashMapKey)) {\n                // The key is already in the HashMap; add the pojo object\n                // against the existing key.\n                groupedHashMap.get(hashMapKey).add(pojoOfJsonArray);\n            } else {\n                // The key is not there in the HashMap; create a new key-value pair\n                List&lt;PojoOfJsonArray&gt; list = new ArrayList&lt;&gt;();\n                list.add(pojoOfJsonArray);\n                groupedHashMap.put(hashMapKey, list);\n            }\n        }\n\n\n        return groupedHashMap;\n    }\n\n}\n</code></pre>\n\n<p>the myOptions is where one would use to feed your data into.\n<strong>ListItem</strong>.java </p>\n\n<pre><code>public abstract class ListItem {\n\n    public static final int TYPE_DATE = 0;\n    public static final int TYPE_GENERAL = 1;\n\n    abstract public int getType();\n}\n</code></pre>\n\n<p><strong>GeneralItem</strong>.java </p>\n\n<pre><code>public class GeneralItem extends ListItem {\n    private PojoOfJsonArray pojoOfJsonArray;\n\n    public PojoOfJsonArray getPojoOfJsonArray() {\n        return pojoOfJsonArray;\n    }\n\n    public void setPojoOfJsonArray(PojoOfJsonArray pojoOfJsonArray) {\n        this.pojoOfJsonArray = pojoOfJsonArray;\n    }\n\n    @Override\n    public int getType() {\n        return TYPE_GENERAL;\n    }\n\n\n}\n</code></pre>\n\n<p><strong>DateItem</strong>.java </p>\n\n<pre><code>public class DateItem extends ListItem {\n\n    private String date;\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date = date;\n    }\n\n    @Override\n    public int getType() {\n        return TYPE_DATE;\n    }\n}\n</code></pre>\n\n<p><strong>Adapter</strong>.java this adapter is for the recyclerview if your not well informed on how to make simple sectioned recyclerview then i suggest you read on those and be good in the area because this is abit more tricky anyways:</p>\n\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n\n    private Context mContext;\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    public Adapter(Context context, List&lt;ListItem&gt; consolidatedList) {\n        this.consolidatedList = consolidatedList;\n        this.mContext = context;\n\n\n    }\n\n\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent,  int viewType) {\n\n        RecyclerView.ViewHolder viewHolder = null;\n        LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n\n        switch (viewType) {\n\n            case ListItem.TYPE_GENERAL:\n                View v1 = inflater.inflate(R.layout.items, parent,\n                        false);\n                viewHolder = new GeneralViewHolder(v1);\n                break;\n\n            case ListItem.TYPE_DATE:\n                View v2 = inflater.inflate(R.layout.itemsh, parent, false);\n                viewHolder = new DateViewHolder(v2);\n                break;\n        }\n\n        return viewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder viewHolder, int position) {\n\n        switch (viewHolder.getItemViewType()) {\n\n            case ListItem.TYPE_GENERAL:\n\n                GeneralItem generalItem   = (GeneralItem) consolidatedList.get(position);\n                GeneralViewHolder generalViewHolder= (GeneralViewHolder) viewHolder;\n                generalViewHolder.txtTitle.setText(generalItem.getPojoOfJsonArray().getName());\n\n                break;\n\n            case ListItem.TYPE_DATE:\n                DateItem dateItem = (DateItem) consolidatedList.get(position);\n                DateViewHolder dateViewHolder = (DateViewHolder) viewHolder;\n\n                dateViewHolder.txtTitle.setText(dateItem.getDate());\n                // Populate date item data here\n\n                break;\n        }\n    }\n\n\n\n\n\n    // ViewHolder for date row item\n    class DateViewHolder extends RecyclerView.ViewHolder {\n        protected TextView txtTitle;\n\n        public DateViewHolder(View v) {\n            super(v);\n            this.txtTitle = (TextView) v.findViewById(R.id.txt);\n\n        }\n    }\n\n    // View holder for general row item\n    class GeneralViewHolder extends RecyclerView.ViewHolder {\n        protected TextView txtTitle;\n\n        public GeneralViewHolder(View v) {\n            super(v);\n            this.txtTitle = (TextView) v.findViewById(R.id.txt);\n\n        }\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return consolidatedList.get(position).getType();\n    }\n\n    @Override\n    public int getItemCount() {\n        return consolidatedList != null ? consolidatedList.size() : 0;\n    }\n\n}\n</code></pre>\n\n<p>and this has two layout being used . thus all </p>\n"},{"tags":[],"owner":{"account_id":1494993,"reputation":6603,"user_id":1401164,"accept_rate":67,"display_name":"Gustavo Pagani"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483726167,"creation_date":1483726167,"answer_id":41511688,"question_id":41447044,"body_markdown":"You can use the library [SectionedRecyclerViewAdapter](https://github.com/luizgrp/SectionedRecyclerViewAdapter) to easily group your data into sections and add a header to each section.\r\n\r\nFirst create a Section class:\r\n\r\n    class MySection extends StatelessSection {\r\n    \r\n        String title;\r\n        List&lt;String&gt; list;\r\n    \r\n        public MySection(String title, List&lt;String&gt; list) {\r\n            // call constructor with layout resources for this Section header, footer and items \r\n            super(R.layout.section_header, R.layout.section_item);\r\n\r\n            this.title = title;\r\n            this.list = list;\r\n        }\r\n    \r\n        @Override\r\n        public int getContentItemsTotal() {\r\n            return list.size(); // number of items of this section\r\n        }\r\n    \r\n        @Override\r\n        public RecyclerView.ViewHolder getItemViewHolder(View view) {\r\n            // return a custom instance of ViewHolder for the items of this section\r\n            return new MyItemViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindItemViewHolder(RecyclerView.ViewHolder holder, int position) {\r\n            MyItemViewHolder itemHolder = (MyItemViewHolder) holder;\r\n    \r\n            // bind your view here\r\n            itemHolder.tvItem.setText(list.get(position));\r\n        }\r\n\r\n        @Override\r\n        public RecyclerView.ViewHolder getFooterViewHolder(View view) {\r\n            return new MyFooterViewHolder(view);\r\n        }\r\n\r\n        @Override\r\n        public void onBindFooterViewHolder(RecyclerView.ViewHolder holder) {\r\n            MyFooterViewHolder footerHolder = (MyFooterViewHolder) holder;\r\n    \r\n            // bind your footer view here\r\n            footerHolder.tvItem.setText(title);\r\n        }\r\n    }\r\n\r\nThen you set up the RecyclerView with your Sections:\r\n\r\n    // Create an instance of SectionedRecyclerViewAdapter \r\n    SectionedRecyclerViewAdapter sectionAdapter = new SectionedRecyclerViewAdapter();\r\n\r\n    // Create your sections with the list of data for each year\r\n    MySection section1 = new MySection(&quot;1 week ago&quot;, week1data);\r\n    MySection section2 = new MySection(&quot;2 weeks ago&quot;, week2data);\r\n\r\n    // Add your Sections to the adapter\r\n    sectionAdapter.addSection(section1);\r\n    sectionAdapter.addSection(section2);\r\n    \r\n    // Set up your RecyclerView with the SectionedRecyclerViewAdapter\r\n    RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\r\n    recyclerView.setAdapter(sectionAdapter);","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>You can use the library <a href=\"https://github.com/luizgrp/SectionedRecyclerViewAdapter\" rel=\"nofollow noreferrer\">SectionedRecyclerViewAdapter</a> to easily group your data into sections and add a header to each section.</p>\n\n<p>First create a Section class:</p>\n\n<pre><code>class MySection extends StatelessSection {\n\n    String title;\n    List&lt;String&gt; list;\n\n    public MySection(String title, List&lt;String&gt; list) {\n        // call constructor with layout resources for this Section header, footer and items \n        super(R.layout.section_header, R.layout.section_item);\n\n        this.title = title;\n        this.list = list;\n    }\n\n    @Override\n    public int getContentItemsTotal() {\n        return list.size(); // number of items of this section\n    }\n\n    @Override\n    public RecyclerView.ViewHolder getItemViewHolder(View view) {\n        // return a custom instance of ViewHolder for the items of this section\n        return new MyItemViewHolder(view);\n    }\n\n    @Override\n    public void onBindItemViewHolder(RecyclerView.ViewHolder holder, int position) {\n        MyItemViewHolder itemHolder = (MyItemViewHolder) holder;\n\n        // bind your view here\n        itemHolder.tvItem.setText(list.get(position));\n    }\n\n    @Override\n    public RecyclerView.ViewHolder getFooterViewHolder(View view) {\n        return new MyFooterViewHolder(view);\n    }\n\n    @Override\n    public void onBindFooterViewHolder(RecyclerView.ViewHolder holder) {\n        MyFooterViewHolder footerHolder = (MyFooterViewHolder) holder;\n\n        // bind your footer view here\n        footerHolder.tvItem.setText(title);\n    }\n}\n</code></pre>\n\n<p>Then you set up the RecyclerView with your Sections:</p>\n\n<pre><code>// Create an instance of SectionedRecyclerViewAdapter \nSectionedRecyclerViewAdapter sectionAdapter = new SectionedRecyclerViewAdapter();\n\n// Create your sections with the list of data for each year\nMySection section1 = new MySection(\"1 week ago\", week1data);\nMySection section2 = new MySection(\"2 weeks ago\", week2data);\n\n// Add your Sections to the adapter\nsectionAdapter.addSection(section1);\nsectionAdapter.addSection(section2);\n\n// Set up your RecyclerView with the SectionedRecyclerViewAdapter\nRecyclerView recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\nrecyclerView.setLayoutManager(new LinearLayoutManager(getContext()));\nrecyclerView.setAdapter(sectionAdapter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146657,"reputation":4761,"user_id":1904141,"accept_rate":44,"display_name":"Akshay Chordiya"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1515675176,"creation_date":1515675176,"answer_id":48207580,"question_id":41447044,"body_markdown":"I solved this problem with the help of [Section RecyclerView library][1] and using these [functions (Gist)][2] to check if date is &quot;Today&quot;, &quot;Yesterday&quot;, and so on.\r\n\r\nI&#39;m hoping to build a end-to-end library for this. Let me know if your interested then I can build and open-source it.\r\n\r\nSample screenshot below:\r\n\r\n[![Screenshot of UI showing date sections][3]][3]\r\n\r\n\r\n  [1]: https://github.com/afollestad/sectioned-recyclerview\r\n  [2]: https://gist.github.com/AkshayChordiya/b1c9788d24e62d92e3e20778288e64a8\r\n  [3]: https://i.stack.imgur.com/BgSSc.png","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I solved this problem with the help of <a href=\"https://github.com/afollestad/sectioned-recyclerview\" rel=\"nofollow noreferrer\">Section RecyclerView library</a> and using these <a href=\"https://gist.github.com/AkshayChordiya/b1c9788d24e62d92e3e20778288e64a8\" rel=\"nofollow noreferrer\">functions (Gist)</a> to check if date is \"Today\", \"Yesterday\", and so on.</p>\n\n<p>I'm hoping to build a end-to-end library for this. Let me know if your interested then I can build and open-source it.</p>\n\n<p>Sample screenshot below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BgSSc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BgSSc.png\" alt=\"Screenshot of UI showing date sections\"></a></p>\n"},{"tags":[],"owner":{"account_id":4203244,"reputation":157,"user_id":3442842,"display_name":"Khal91"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1618787748,"creation_date":1618785925,"answer_id":67154085,"question_id":41447044,"body_markdown":"I just report here a **Kotlin** version of [kinsley kajiva][1] response.\r\n\r\n**Note**: This version makes use of [data biding][2], so remember to enable it on app build.gradle:\r\n\r\n    android {\r\n        ...\r\n        buildFeatures {\r\n            dataBinding true\r\n        }\r\n    }\r\n\r\n**PojoOfJsonArray.kt**\r\n\r\n    data class PojoOfJsonArray(\r\n        val name: String,\r\n        val date: String\r\n    )\r\n\r\n**MainActivity.kt**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n        private lateinit var binding: ActivityMainBinding\r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\r\n    \r\n            binding.list.setHasFixedSize(true)\r\n    \r\n            val myOptions = listOf(\r\n                PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\r\n                PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\r\n                PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;)\r\n            )\r\n    \r\n            val groupedMapMap: Map&lt;String, List&lt;PojoOfJsonArray&gt;&gt; = myOptions.groupBy {\r\n                it.date\r\n            }\r\n    \r\n            val consolidatedList = mutableListOf&lt;ListItem&gt;()\r\n            for (date:String in groupedMapMap.keys){\r\n                consolidatedList.add(DateItem(date))\r\n                val groupItems: List&lt;PojoOfJsonArray&gt;? = groupedMapMap[date]\r\n                groupItems?.forEach {\r\n                    consolidatedList.add(GeneralItem(it.name))\r\n                }\r\n            }\r\n    \r\n            val adapter = Adapter(consolidatedList)\r\n            val layoutManager = LinearLayoutManager(this)\r\n            layoutManager.orientation = LinearLayoutManager.VERTICAL\r\n            binding.list.layoutManager = layoutManager\r\n            binding.list.adapter = adapter\r\n        }\r\n    }\r\n\r\n**activity_main.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:id=&quot;@+id/list&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:listitem=&quot;@layout/general_item&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n**ListItem.kt**\r\n\r\n    open class ListItem(\r\n        val type: Int\r\n    ) {\r\n        companion object {\r\n            const val TYPE_DATE = 0\r\n            const val TYPE_GENERAL = 1\r\n        }\r\n    }\r\n\r\n**GeneralItem.kt**\r\n\r\n    class GeneralItem(\r\n        var name: String,\r\n    ) : ListItem(TYPE_GENERAL)\r\n\r\n**DateItem.kt**\r\n\r\n    class DateItem(\r\n        val date: String\r\n    ) : ListItem(TYPE_DATE)\r\n\r\n**Adapter.kt**\r\n\r\n    class Adapter(\r\n        private val items: List&lt;ListItem&gt;,\r\n    ) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\r\n    \r\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n            val layoutInflater = LayoutInflater.from(parent.context)\r\n            return when (viewType) {\r\n                ListItem.TYPE_DATE -&gt;\r\n                    DateViewHolder(DateItemBinding.inflate(layoutInflater))\r\n                else -&gt;\r\n                    GeneralViewHolder(GeneralItemBinding.inflate(layoutInflater))\r\n            }\r\n        }\r\n    \r\n        override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n            when (holder.itemViewType) {\r\n                ListItem.TYPE_DATE -&gt; (holder as DateViewHolder).bind(\r\n                    item = items[position] as DateItem,\r\n                )\r\n                ListItem.TYPE_GENERAL -&gt; (holder as GeneralViewHolder).bind(\r\n                    item = items[position] as GeneralItem\r\n                )\r\n            }\r\n        }\r\n    \r\n        override fun getItemViewType(position: Int): Int {\r\n            return items[position].type\r\n        }\r\n    \r\n        override fun getItemCount(): Int {\r\n            return items.size\r\n        }\r\n    \r\n        inner class DateViewHolder(val binding: DateItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n            fun bind(item: DateItem) {\r\n                binding.txtDate.text = item.date\r\n            }\r\n        }\r\n    \r\n        inner class GeneralViewHolder(val binding: GeneralItemBinding) : RecyclerView.ViewHolder(binding.root) {\r\n            fun bind(item: GeneralItem) {\r\n                binding.txtTitle.text = item.name\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n**date_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_date&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;01/01/2021&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n**general_item.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/txt_title&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_margin=&quot;8dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                tools:text=&quot;Name&quot;/&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\n[![Final result][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6334851/kinsley-kajiva\r\n  [2]: https://developer.android.com/topic/libraries/data-binding/expressions\r\n  [3]: https://i.stack.imgur.com/25yBg.png","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I just report here a <strong>Kotlin</strong> version of <a href=\"https://stackoverflow.com/users/6334851/kinsley-kajiva\">kinsley kajiva</a> response.</p>\n<p><strong>Note</strong>: This version makes use of <a href=\"https://developer.android.com/topic/libraries/data-binding/expressions\" rel=\"noreferrer\">data biding</a>, so remember to enable it on app build.gradle:</p>\n<pre><code>android {\n    ...\n    buildFeatures {\n        dataBinding true\n    }\n}\n</code></pre>\n<p><strong>PojoOfJsonArray.kt</strong></p>\n<pre><code>data class PojoOfJsonArray(\n    val name: String,\n    val date: String\n)\n</code></pre>\n<p><strong>MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var binding: ActivityMainBinding\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = DataBindingUtil.setContentView(this, R.layout.activity_main)\n\n        binding.list.setHasFixedSize(true)\n\n        val myOptions = listOf(\n            PojoOfJsonArray(&quot;name 1&quot;, &quot;2016-06-21&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;),\n            PojoOfJsonArray(&quot;name 2&quot;, &quot;2016-06-05&quot;),\n            PojoOfJsonArray(&quot;name 3&quot;, &quot;2016-05-17&quot;)\n        )\n\n        val groupedMapMap: Map&lt;String, List&lt;PojoOfJsonArray&gt;&gt; = myOptions.groupBy {\n            it.date\n        }\n\n        val consolidatedList = mutableListOf&lt;ListItem&gt;()\n        for (date:String in groupedMapMap.keys){\n            consolidatedList.add(DateItem(date))\n            val groupItems: List&lt;PojoOfJsonArray&gt;? = groupedMapMap[date]\n            groupItems?.forEach {\n                consolidatedList.add(GeneralItem(it.name))\n            }\n        }\n\n        val adapter = Adapter(consolidatedList)\n        val layoutManager = LinearLayoutManager(this)\n        layoutManager.orientation = LinearLayoutManager.VERTICAL\n        binding.list.layoutManager = layoutManager\n        binding.list.adapter = adapter\n    }\n}\n</code></pre>\n<p><strong>activity_main.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:id=&quot;@+id/list&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;0dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:listitem=&quot;@layout/general_item&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>ListItem.kt</strong></p>\n<pre><code>open class ListItem(\n    val type: Int\n) {\n    companion object {\n        const val TYPE_DATE = 0\n        const val TYPE_GENERAL = 1\n    }\n}\n</code></pre>\n<p><strong>GeneralItem.kt</strong></p>\n<pre><code>class GeneralItem(\n    var name: String,\n) : ListItem(TYPE_GENERAL)\n</code></pre>\n<p><strong>DateItem.kt</strong></p>\n<pre><code>class DateItem(\n    val date: String\n) : ListItem(TYPE_DATE)\n</code></pre>\n<p><strong>Adapter.kt</strong></p>\n<pre><code>class Adapter(\n    private val items: List&lt;ListItem&gt;,\n) : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val layoutInflater = LayoutInflater.from(parent.context)\n        return when (viewType) {\n            ListItem.TYPE_DATE -&gt;\n                DateViewHolder(DateItemBinding.inflate(layoutInflater))\n            else -&gt;\n                GeneralViewHolder(GeneralItemBinding.inflate(layoutInflater))\n        }\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (holder.itemViewType) {\n            ListItem.TYPE_DATE -&gt; (holder as DateViewHolder).bind(\n                item = items[position] as DateItem,\n            )\n            ListItem.TYPE_GENERAL -&gt; (holder as GeneralViewHolder).bind(\n                item = items[position] as GeneralItem\n            )\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return items[position].type\n    }\n\n    override fun getItemCount(): Int {\n        return items.size\n    }\n\n    inner class DateViewHolder(val binding: DateItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        fun bind(item: DateItem) {\n            binding.txtDate.text = item.date\n        }\n    }\n\n    inner class GeneralViewHolder(val binding: GeneralItemBinding) : RecyclerView.ViewHolder(binding.root) {\n        fun bind(item: GeneralItem) {\n            binding.txtTitle.text = item.name\n        }\n    }\n\n}\n</code></pre>\n<p><strong>date_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_date&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:text=&quot;01/01/2021&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><strong>general_item.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txt_title&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_margin=&quot;8dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:text=&quot;Name&quot;/&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/25yBg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/25yBg.png\" alt=\"Final result\" /></a></p>\n"},{"tags":[],"owner":{"account_id":21336706,"reputation":72,"user_id":15707830,"display_name":"Prem Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667242544,"creation_date":1667219205,"answer_id":74263269,"question_id":41447044,"body_markdown":"I want to just optimize the following things in [kinsley kajiva][1]&#39;s answer:-\r\n\r\n 1. [Kartikey Kuswhaha][2] used two main loops and some nested loops to consolidate the list while this can be done by going through only one loop and without grouping data into a `HashMap`.The following method uses ability of `Set` to store only unique objects inside it.\r\n\r\n .\r\n\r\n        /** this method takes a List of PojoOfJsonArray and consolidate the list in this format\r\n     *  item&#39;s Date\r\n    item\r\n    item\r\n    item\r\n    item\r\n    item&#39;s Date\r\n    item\r\n    item\r\n    item\r\n     * @param list PojoOfJsonArray to be consolidated\r\n     * @return consolidate list\r\n     */\r\n   \r\n    private static List&lt;ListItem&gt; consolidateList(List&lt;PojoOfJsonArray&gt; list){\r\n    \tSet&lt;String&gt; set = new HashSet&lt;String&gt;();\r\n        List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\r\n\r\n    \tfor(PojoOfJsonArray item: list) {\r\n    \t\t\r\n    \t\tif(set.add(item.getDate())) {\r\n    \t\t\t//add DateItem to the consolidatedList only when \r\n    \t\t\t//the item&#39;s date can be inserted in the set\r\n    \t\t\t//(as Set only allows unique object inside it)\r\n    \t\t\t//this implies that the item&#39;s date is not previously inserted into the list\r\n    \t\t\t\r\n    \t\t\tDateItem dateItem = new DateItem();\r\n    \t\t\tdateItem.setDate(item.getDate());\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\tconsolidatedList.add(dateItem);\r\n    \t\t}\r\n    \t\t\r\n    \t\t//add general item into the consolidated list\r\n    \t\tGeneralItem generalItem = new GeneralItem();\r\n    \t\tgeneralItem.setPojoOfJsonArray(item);\r\n    \t\tconsolidatedList.add(generalItem);\r\n    \t}\r\n    \treturn consolidatedList;\r\n    }\r\n\r\n\r\n \r\n2. Moreover, he used `HashMap` to first group data which when taking key set returns key (In this case the dates) in random order. This can be resolved by using `LinkedHashMap`. However if you are using the 1st option (of this answer)\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/users/6334851/kinsley-kajiva\r\n  [2]: https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>I want to just optimize the following things in <a href=\"https://stackoverflow.com/users/6334851/kinsley-kajiva\">kinsley kajiva</a>'s answer:-</p>\n<ol>\n<li><a href=\"https://krtkush.github.io/2016/07/08/android-recyclerview-grouping-data.html\" rel=\"nofollow noreferrer\">Kartikey Kuswhaha</a> used two main loops and some nested loops to consolidate the list while this can be done by going through only one loop and without grouping data into a <code>HashMap</code>.The following method uses ability of <code>Set</code> to store only unique objects inside it.</li>\n</ol>\n<p>.</p>\n<pre><code>    /** this method takes a List of PojoOfJsonArray and consolidate the list in this format\n *  item's Date\nitem\nitem\nitem\nitem\nitem's Date\nitem\nitem\nitem\n * @param list PojoOfJsonArray to be consolidated\n * @return consolidate list\n */\n\nprivate static List&lt;ListItem&gt; consolidateList(List&lt;PojoOfJsonArray&gt; list){\n    Set&lt;String&gt; set = new HashSet&lt;String&gt;();\n    List&lt;ListItem&gt; consolidatedList = new ArrayList&lt;&gt;();\n\n    for(PojoOfJsonArray item: list) {\n        \n        if(set.add(item.getDate())) {\n            //add DateItem to the consolidatedList only when \n            //the item's date can be inserted in the set\n            //(as Set only allows unique object inside it)\n            //this implies that the item's date is not previously inserted into the list\n            \n            DateItem dateItem = new DateItem();\n            dateItem.setDate(item.getDate());\n            \n            \n            consolidatedList.add(dateItem);\n        }\n        \n        //add general item into the consolidated list\n        GeneralItem generalItem = new GeneralItem();\n        generalItem.setPojoOfJsonArray(item);\n        consolidatedList.add(generalItem);\n    }\n    return consolidatedList;\n}\n</code></pre>\n<ol start=\"2\">\n<li>Moreover, he used <code>HashMap</code> to first group data which when taking key set returns key (In this case the dates) in random order. This can be resolved by using <code>LinkedHashMap</code>. However if you are using the 1st option (of this answer)</li>\n</ol>\n"}],"owner":{"account_id":8443122,"reputation":1840,"user_id":6334851,"accept_rate":0,"display_name":"kinsley kajiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24831,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":41447045,"answer_count":5,"score":23,"last_activity_date":1679648731,"creation_date":1483457898,"question_id":41447044,"body_markdown":"i want to group my android `RecyclerView` items with a header made based on date like this: \r\n\r\n        1 week ago\r\n        - item\r\n        - item\r\n        - item\r\n        - item\r\n        2 weeks ago\r\n        - item\r\n        - item\r\n        - item\r\n that sort of thing or grouping based on some element.","title":"Divide elements on groups in RecyclerView or Grouping Recyclerview items ,say by date","body":"<p>i want to group my android <code>RecyclerView</code> items with a header made based on date like this: </p>\n\n<pre><code>    1 week ago\n    - item\n    - item\n    - item\n    - item\n    2 weeks ago\n    - item\n    - item\n    - item\n</code></pre>\n\n<p>that sort of thing or grouping based on some element.</p>\n"},{"tags":["java","spring-boot","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648701,"creation_date":1679648701,"answer_id":75831731,"question_id":75831454,"body_markdown":"It is either `application/gpx+xml` or `application/octet-stream` that are correct for GPX files","title":"What format of Content type should i use when upload GPX file to s3 storage","body":"<p>It is either <code>application/gpx+xml</code> or <code>application/octet-stream</code> that are correct for GPX files</p>\n"}],"owner":{"account_id":22560169,"reputation":11,"user_id":16747918,"display_name":"Шатов Данил"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648701,"creation_date":1679646715,"question_id":75831454,"body_markdown":"i have InputStream of .gpx file, i try to save this file on s3, what Media type should i use?\r\nIs exsists &quot;text/gpx&quot; format?","title":"What format of Content type should i use when upload GPX file to s3 storage","body":"<p>i have InputStream of .gpx file, i try to save this file on s3, what Media type should i use?\nIs exsists &quot;text/gpx&quot; format?</p>\n"},{"tags":["java","postgresql","java-ee-7","ejb-3.2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679589725,"post_id":75821160,"comment_id":133752498,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26345307,"reputation":1,"user_id":20003795,"display_name":"Павел Пимуков"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648640,"creation_date":1679648640,"answer_id":75831724,"question_id":75821160,"body_markdown":"Resolved  \r\ntable is not self-clearable\r\nyou should delete rows for deleted timers if you dont want to see exeptions about not founding bean for timer execution","title":"Is it important to delete deleted from code timers from jboss_ejb_timer. EJB3. POSTGRES","body":"<p>Resolved<br />\ntable is not self-clearable\nyou should delete rows for deleted timers if you dont want to see exeptions about not founding bean for timer execution</p>\n"}],"owner":{"account_id":26345307,"reputation":1,"user_id":20003795,"display_name":"Павел Пимуков"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648640,"creation_date":1679563254,"question_id":75821160,"body_markdown":"I removed timer from code, but after app started, the timer is still exists in jboss_ejb_timer. It does not start, but maybe it is important to delete it from jboss_ejb_timer too.","title":"Is it important to delete deleted from code timers from jboss_ejb_timer. EJB3. POSTGRES","body":"<p>I removed timer from code, but after app started, the timer is still exists in jboss_ejb_timer. It does not start, but maybe it is important to delete it from jboss_ejb_timer too.</p>\n"},{"tags":["java","maven","jar","protocol-buffers"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1679042011,"post_id":75756784,"comment_id":133653243,"body_markdown":"Show output from `jar tvf your.jar`","body":"Show output from <code>jar tvf your.jar</code>"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678983928,"creation_date":1678983928,"answer_id":75758978,"question_id":75756784,"body_markdown":"I don&#39;t see a compile step to make .class from .jar. Are there any .class files in the jar or only .java?\r\n\r\nYou need something like the following run from the base of the package tree:\r\n\r\n    javac ./ \r\n\r\nBetween the protoc and jar steps","title":"Cannot import Java classes from a previously built JAR","body":"<p>I don't see a compile step to make .class from .jar. Are there any .class files in the jar or only .java?</p>\n<p>You need something like the following run from the base of the package tree:</p>\n<pre><code>javac ./ \n</code></pre>\n<p>Between the protoc and jar steps</p>\n"},{"tags":[],"owner":{"account_id":27562191,"reputation":21,"user_id":21035052,"display_name":"foshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648207,"creation_date":1679648207,"answer_id":75831663,"question_id":75756784,"body_markdown":"Figured the problem was due to missing required dependencies in the produced JAR (i.e. &quot;protobuf-java&quot;, &quot;grpc-protobuf&quot;, &quot;grpc-stub&quot;). Issue solved by using the &quot;protoc-jar-maven-plugin&quot; which generates the Java classes from the .proto files and include the said dependencies in the JAR, making it possible to use the generated classes that are inside.","title":"Cannot import Java classes from a previously built JAR","body":"<p>Figured the problem was due to missing required dependencies in the produced JAR (i.e. &quot;protobuf-java&quot;, &quot;grpc-protobuf&quot;, &quot;grpc-stub&quot;). Issue solved by using the &quot;protoc-jar-maven-plugin&quot; which generates the Java classes from the .proto files and include the said dependencies in the JAR, making it possible to use the generated classes that are inside.</p>\n"}],"owner":{"account_id":27562191,"reputation":21,"user_id":21035052,"display_name":"foshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679648207,"creation_date":1678972530,"question_id":75756784,"body_markdown":"I am trying to implement a shell script that generates the Java classes for a given set of Protobuf files. The generated classes are then grouped into a JAR which is to be imported by any Java project  that needs to use these protobuf generated classes or gRPC stubs.\r\n\r\nThe script roughly looks like bellow:\r\n\r\n```\r\n# Generate java classes from .proto files\r\nprotoc -I ${PROTO_REPO_PATH} \r\n    --plugin=protoc-gen-grpc-java=$GEN_GRPC_JAVA_PATH \\\r\n    --grpc-java_out=$JAVA_OUT --java_out=$JAVA_OUT \\\r\n    $FILES\r\n  \r\nJAR_FILE=&quot;$JAVA_OUT/$SERVICE_NAME-$API_VERSION.jar&quot;\r\n\r\n# Create JAR from generated classes\r\njar cf &quot;$JAR_FILE&quot; -C &quot;$JAVA_OUT&quot; .\r\n  \r\n# Install JAR in local repository\r\n  mvn install:install-file -Dfile=$JAR_FILE -Dpackaging=jar -DgroupId=foo.grpc -DartifactId=$SERVICE_NAME-proto -Dversion=1.0\r\n\r\n# Clean generated java code\r\nrm -r $JAVA_OUT\r\n```\r\n\r\nAfter execution, the JAR is present in `~/.m2/repository` and, using `jar tf foo-service-1.0.jar`, I verified that all the generated classes are inside it.\r\n\r\nYet I cannot import any of those classes in a Java project on any IDE I tried (i.e. IntelliJ, VScode). The JAR appears  empty inside the IDE browser yet autocompletion works when importing the parrent packages but fails when trying to import a specific class. \r\n\r\nI tried proposed answers on this similar but different [question ](https://stackoverflow.com/questions/39703092/what-causes-jar-files-to-appear-empty-to-intellij-idea)but without any success.","title":"Cannot import Java classes from a previously built JAR","body":"<p>I am trying to implement a shell script that generates the Java classes for a given set of Protobuf files. The generated classes are then grouped into a JAR which is to be imported by any Java project  that needs to use these protobuf generated classes or gRPC stubs.</p>\n<p>The script roughly looks like bellow:</p>\n<pre><code># Generate java classes from .proto files\nprotoc -I ${PROTO_REPO_PATH} \n    --plugin=protoc-gen-grpc-java=$GEN_GRPC_JAVA_PATH \\\n    --grpc-java_out=$JAVA_OUT --java_out=$JAVA_OUT \\\n    $FILES\n  \nJAR_FILE=&quot;$JAVA_OUT/$SERVICE_NAME-$API_VERSION.jar&quot;\n\n# Create JAR from generated classes\njar cf &quot;$JAR_FILE&quot; -C &quot;$JAVA_OUT&quot; .\n  \n# Install JAR in local repository\n  mvn install:install-file -Dfile=$JAR_FILE -Dpackaging=jar -DgroupId=foo.grpc -DartifactId=$SERVICE_NAME-proto -Dversion=1.0\n\n# Clean generated java code\nrm -r $JAVA_OUT\n</code></pre>\n<p>After execution, the JAR is present in <code>~/.m2/repository</code> and, using <code>jar tf foo-service-1.0.jar</code>, I verified that all the generated classes are inside it.</p>\n<p>Yet I cannot import any of those classes in a Java project on any IDE I tried (i.e. IntelliJ, VScode). The JAR appears  empty inside the IDE browser yet autocompletion works when importing the parrent packages but fails when trying to import a specific class.</p>\n<p>I tried proposed answers on this similar but different <a href=\"https://stackoverflow.com/questions/39703092/what-causes-jar-files-to-appear-empty-to-intellij-idea\">question </a>but without any success.</p>\n"},{"tags":["java","android-studio","unit-testing"],"owner":{"account_id":23356086,"reputation":134,"user_id":17429040,"display_name":"ayeshchanaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679648096,"creation_date":1679648096,"question_id":75831652,"body_markdown":"I am  trying to unit test a simple viewmodel class with a method which is return a mutableLiveData.but when set observeForever() for my method , it retun a NullPointerException.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ListViewModelTest {\r\n        @Rule\r\n        public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\r\n    \r\n    \r\n        ListViewModel SUT;\r\n    \r\n        @Mock\r\n        Observer&lt;List&lt;Blog&gt;&gt; observer;\r\n    \r\n        @Mock\r\n        BlogRepository repository;\r\n    \r\n        @Mock\r\n        LifecycleOwner owner;\r\n    \r\n    \r\n        List&lt;Blog&gt; data = new ArrayList&lt;&gt;();\r\n        @Before\r\n        public void setup() throws Exception {\r\n            MockitoAnnotations.initMocks(this);\r\n            SUT = new ListViewModel(repository);\r\n    /*\r\n            Blog da= new Blog();\r\n            da.setDescription(&quot;s&quot;);\r\n            da.setImageUrl(&quot;dssd&quot;);\r\n            da.setTitle(&quot;dss&quot;);\r\n            data.add(da);\r\n            observer.onChanged(data);*/\r\n    \r\n        }\r\n    \r\n        @Test\r\n        public void testfatchingDataSuccess(){\r\n            SUT.getLiveBlogData().observeForever(observer);\r\n            when(repository.getBlogList()).thenReturn(data);\r\n            verify(observer).onChanged(data);\r\n        }\r\n    \r\n        @After\r\n        public void tearDown() throws Exception {\r\n            SUT = null;\r\n            repository = null;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nthe log &quot;\r\njava.lang.NullPointerException\r\n\tat androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\r\n\tat androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\r\n\tat androidx.lifecycle.LiveData.assertMainThread(LiveData.java:486)\r\n\tat androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\r\n\tat com.example.mvvmfirebase.viewmodel.ListViewModelTest.testfatchingDataNull(ListViewModelTest.java:61)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n\tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n\tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n\tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\n&quot;","title":"why android studio MVVM observeForever return null in Unit testing?","body":"<p>I am  trying to unit test a simple viewmodel class with a method which is return a mutableLiveData.but when set observeForever() for my method , it retun a NullPointerException.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ListViewModelTest {\n    @Rule\n    public InstantTaskExecutorRule instantExecutorRule = new InstantTaskExecutorRule();\n\n\n    ListViewModel SUT;\n\n    @Mock\n    Observer&lt;List&lt;Blog&gt;&gt; observer;\n\n    @Mock\n    BlogRepository repository;\n\n    @Mock\n    LifecycleOwner owner;\n\n\n    List&lt;Blog&gt; data = new ArrayList&lt;&gt;();\n    @Before\n    public void setup() throws Exception {\n        MockitoAnnotations.initMocks(this);\n        SUT = new ListViewModel(repository);\n/*\n        Blog da= new Blog();\n        da.setDescription(&quot;s&quot;);\n        da.setImageUrl(&quot;dssd&quot;);\n        da.setTitle(&quot;dss&quot;);\n        data.add(da);\n        observer.onChanged(data);*/\n\n    }\n\n    @Test\n    public void testfatchingDataSuccess(){\n        SUT.getLiveBlogData().observeForever(observer);\n        when(repository.getBlogList()).thenReturn(data);\n        verify(observer).onChanged(data);\n    }\n\n    @After\n    public void tearDown() throws Exception {\n        SUT = null;\n        repository = null;\n    }\n\n}\n</code></pre>\n<p>the log &quot;\njava.lang.NullPointerException\nat androidx.arch.core.executor.DefaultTaskExecutor.isMainThread(DefaultTaskExecutor.java:77)\nat androidx.arch.core.executor.ArchTaskExecutor.isMainThread(ArchTaskExecutor.java:116)\nat androidx.lifecycle.LiveData.assertMainThread(LiveData.java:486)\nat androidx.lifecycle.LiveData.observeForever(LiveData.java:224)\nat com.example.mvvmfirebase.viewmodel.ListViewModelTest.testfatchingDataNull(ListViewModelTest.java:61)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:61)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\nat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\nat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\nat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\nat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\nat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\nat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)\nat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\nat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\n&quot;</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":121289,"reputation":4343,"user_id":314283,"accept_rate":92,"display_name":"Lisa"},"score":0,"creation_date":1637542858,"post_id":65978396,"comment_id":123846879,"body_markdown":"See the fix at https://stackoverflow.com/questions/31800639/an-internal-error-occurred-during-updating-maven-project-org-eclipse-m2e-wtp","body":"See the fix at <a href=\"https://stackoverflow.com/questions/31800639/an-internal-error-occurred-during-updating-maven-project-org-eclipse-m2e-wtp\" title=\"an internal error occurred during updating maven project org eclipse m2e wtp\">stackoverflow.com/questions/31800639/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6106545,"reputation":165,"user_id":4764122,"display_name":"Rub&#233;n Aguado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679648021,"creation_date":1679648021,"answer_id":75831634,"question_id":65978396,"body_markdown":"Switch workspace to another, then return to your original workspace.\r\n\r\nAnother solution: restart eclipse.","title":"Eclipse Maven project facade","body":"<p>Switch workspace to another, then return to your original workspace.</p>\n<p>Another solution: restart eclipse.</p>\n"}],"owner":{"account_id":20156430,"reputation":35,"user_id":14782512,"display_name":"Martha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3830,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679648021,"creation_date":1612091298,"question_id":65978396,"body_markdown":"I had a dynamic web project which I configured to use Maven. Now I am trying to run unit testing the login servlet(with JUnit, without spring), but eclipse always gives me the same error when I try to run the test case. The error is: &#39;An internal error occurred during: &quot;Launching LoginPatientTest&quot;.\r\nCannot invoke &quot;org.eclipse.m2e.core.project.IMavenProjectFacade.getMavenProject (org.eclipse.core.runtime.IProgressMonitor)&quot; because &quot;facade&quot; is null&#39;.\r\nMy test case is : \r\n```\r\npackage control;\r\n\r\nimport static org.mockito.Mockito.*;\r\nimport java.io.IOException;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport org.junit.After;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\nimport model.ProfileManager;\r\nimport model.Bean.PatientBean;\r\n\r\npublic class LoginPatientTest {\r\n\r\n\tString fiscal_code;\r\n\tString user_password;\r\n\t\r\n\t@Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tfiscal_code = &quot;aaaaaaa&quot;;\r\n\t\tuser_password = &quot;bbbbb&quot;;\r\n\t}\r\n\r\n\t@After\r\n\tpublic void tearDown() throws Exception {\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testPresent() throws IOException, ServletException{\r\n\t\t   HttpServletRequest req = mock(HttpServletRequest.class);\r\n\t\t   HttpServletResponse res = mock(HttpServletResponse.class);\r\n\t\t   HttpSession session = mock(HttpSession.class);\r\n\t\t   when(req.getSession()).thenReturn(session);\r\n\t\t   ProfileManager pm = mock(ProfileManager.class);\r\n\t\t   when(pm.ReturnPatientByKey(fiscal_code, user_password)).thenReturn(new PatientBean());\r\n\t\t   LoginPatient servlet = new LoginPatient();\r\n\t\t   servlet.doPost(req, res);\r\n\t\t}\r\n\r\n}\r\n\r\n```","title":"Eclipse Maven project facade","body":"<p>I had a dynamic web project which I configured to use Maven. Now I am trying to run unit testing the login servlet(with JUnit, without spring), but eclipse always gives me the same error when I try to run the test case. The error is: 'An internal error occurred during: &quot;Launching LoginPatientTest&quot;.\nCannot invoke &quot;org.eclipse.m2e.core.project.IMavenProjectFacade.getMavenProject (org.eclipse.core.runtime.IProgressMonitor)&quot; because &quot;facade&quot; is null'.\nMy test case is :</p>\n<pre><code>package control;\n\nimport static org.mockito.Mockito.*;\nimport java.io.IOException;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport model.ProfileManager;\nimport model.Bean.PatientBean;\n\npublic class LoginPatientTest {\n\n    String fiscal_code;\n    String user_password;\n    \n    @Before\n    public void setUp() throws Exception {\n        fiscal_code = &quot;aaaaaaa&quot;;\n        user_password = &quot;bbbbb&quot;;\n    }\n\n    @After\n    public void tearDown() throws Exception {\n    }\n\n    @Test\n    public void testPresent() throws IOException, ServletException{\n           HttpServletRequest req = mock(HttpServletRequest.class);\n           HttpServletResponse res = mock(HttpServletResponse.class);\n           HttpSession session = mock(HttpSession.class);\n           when(req.getSession()).thenReturn(session);\n           ProfileManager pm = mock(ProfileManager.class);\n           when(pm.ReturnPatientByKey(fiscal_code, user_password)).thenReturn(new PatientBean());\n           LoginPatient servlet = new LoginPatient();\n           servlet.doPost(req, res);\n        }\n\n}\n\n</code></pre>\n"},{"tags":["java","android","byte","bit"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679631318,"post_id":75829927,"comment_id":133759580,"body_markdown":"Do you have to modify both `byteOne` and `byteTwo`? Why does it have to be a single operation?","body":"Do you have to modify both <code>byteOne</code> and <code>byteTwo</code>? Why does it have to be a single operation?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679632631,"post_id":75829927,"comment_id":133759715,"body_markdown":"Are you _copying_ the last three bits from the first byte to the second byte, or are you _swapping_ the last three bits between the two bytes? Or maybe even _moving_ the last three bits of byte one to byte two, leaving `000` as the last three bits of byte one regardless of what was in byte two? Does this _need_ to be a single operation? What do you consider a &quot;single operation&quot;?","body":"Are you <i>copying</i> the last three bits from the first byte to the second byte, or are you <i>swapping</i> the last three bits between the two bytes? Or maybe even <i>moving</i> the last three bits of byte one to byte two, leaving <code>000</code> as the last three bits of byte one regardless of what was in byte two? Does this <i>need</i> to be a single operation? What do you consider a &quot;single operation&quot;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679635385,"post_id":75829927,"comment_id":133760016,"body_markdown":"`Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.` ??? No. Which means you have to replace the last three bits of Two with the last three bits of One.","body":"<code>Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.</code> ??? No. Which means you have to replace the last three bits of Two with the last three bits of One."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1679635545,"post_id":75829927,"comment_id":133760037,"body_markdown":"If the last three bits of Two are always 0 then you can simply add (One &amp; 0x 00000FFF) to Two.","body":"If the last three bits of Two are always 0 then you can simply add (One &amp; 0x 00000FFF) to Two."},{"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"score":0,"creation_date":1679638351,"post_id":75829927,"comment_id":133760389,"body_markdown":"****i need to copy only 3 bits from the byteOne and move that value into byteTwo with the same position****","body":"****i need to copy only 3 bits from the byteOne and move that value into byteTwo with the same position****"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1679645052,"post_id":75829927,"comment_id":133761446,"body_markdown":"(byteOne &amp; 0000 0111) | (byteTwo &amp; 1111 1000)","body":"(byteOne &amp; 0000 0111) | (byteTwo &amp; 1111 1000)"}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1679672406,"post_id":75831632,"comment_id":133768525,"body_markdown":"Careful: See what happens with `0010 0101` and `0110 0010`. The result of `b2 | (b1 &amp; 0x07)` will give you `111` in the last three bits, instead of `101` as expected. In other words, this only works if the last three bits of byte two are guaranteed to all be `0`.","body":"Careful: See what happens with <code>0010 0101</code> and <code>0110 0010</code>. The result of <code>b2 | (b1 &amp; 0x07)</code> will give you <code>111</code> in the last three bits, instead of <code>101</code> as expected. In other words, this only works if the last three bits of byte two are guaranteed to all be <code>0</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679672585,"post_id":75831632,"comment_id":133768585,"body_markdown":"However, [this will work](https://stackoverflow.com/questions/75829927/transfer-the-value-of-few-bits-from-one-byte-to-another-byte#comment133761446_75829927).","body":"However, <a href=\"https://stackoverflow.com/questions/75829927/transfer-the-value-of-few-bits-from-one-byte-to-another-byte#comment133761446_75829927\">this will work</a>."}],"tags":[],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679648004,"creation_date":1679648004,"answer_id":75831632,"question_id":75829927,"body_markdown":"I did using the following snippet\r\n\r\n       byte byteTwo = (byte) (byteTwo | (byteOne &amp; 0x07));\r\nwhich takes the value from byteOne 3-1 and set it to byteTwo&#39;s 3-1\r\n\r\n    0x07 = 0000 0111\r\n    //&amp; (AND) - helped to pick the value from byteOne with the help of 0x07\r\n    //| (OR) - Helped to set the value to byteTwo the position remains same\r\n\r\nThanks guys for the guidance.","title":"Transfer the value of few bits from one byte to another byte","body":"<p>I did using the following snippet</p>\n<pre><code>   byte byteTwo = (byte) (byteTwo | (byteOne &amp; 0x07));\n</code></pre>\n<p>which takes the value from byteOne 3-1 and set it to byteTwo's 3-1</p>\n<pre><code>0x07 = 0000 0111\n//&amp; (AND) - helped to pick the value from byteOne with the help of 0x07\n//| (OR) - Helped to set the value to byteTwo the position remains same\n</code></pre>\n<p>Thanks guys for the guidance.</p>\n"}],"owner":{"account_id":9751136,"reputation":418,"user_id":7229349,"display_name":"IamVariable"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679648004,"creation_date":1679630477,"question_id":75829927,"body_markdown":"lets say,\r\n\r\n    byte byteOne = 0010 1011;\r\n    byte byteTwo = 0110 0000;\r\n\r\nnow i need to move byteOne&#39;s last 3 bits to byteTwo&#39;s last three bit. Which means have to replace(011)from byteOne &amp; set in byteTwo&#39;s 000.\r\n\r\nHow to do this in single operation?. the value might be dynamic. \r\n\r\n","title":"Transfer the value of few bits from one byte to another byte","body":"<p>lets say,</p>\n<pre><code>byte byteOne = 0010 1011;\nbyte byteTwo = 0110 0000;\n</code></pre>\n<p>now i need to move byteOne's last 3 bits to byteTwo's last three bit. Which means have to replace(011)from byteOne &amp; set in byteTwo's 000.</p>\n<p>How to do this in single operation?. the value might be dynamic.</p>\n"},{"tags":["java","kryo"],"owner":{"account_id":1008298,"reputation":1777,"user_id":1021423,"accept_rate":78,"display_name":"gfytd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679647979,"creation_date":1679647979,"question_id":75831627,"body_markdown":"I check the source code of Kryo, it seems that when registering a class, it uses auto increment ID for it, if this is the case, what will happen if the writer and reader use different registeration order, \r\n```\r\n# writer\r\nkryo.register(Foo.class);\r\nkryo.register(Bar.class);\r\n```\r\n\r\n```\r\n# reader\r\nkryo.register(Bar.class);\r\nkryo.register(Foo.class);\r\n```\r\n\r\nWill the deserialization still work? If not, wouldn&#39;t this be a problem? Because there&#39;s a pretty high possibility that writer and reader are not in the same application, therefore no easy way to ensure both register classes in the same order, right? Or am I missing something here?","title":"Kryo serialization system, how does it ensure that same ID will be generated when registering the same class","body":"<p>I check the source code of Kryo, it seems that when registering a class, it uses auto increment ID for it, if this is the case, what will happen if the writer and reader use different registeration order,</p>\n<pre><code># writer\nkryo.register(Foo.class);\nkryo.register(Bar.class);\n</code></pre>\n<pre><code># reader\nkryo.register(Bar.class);\nkryo.register(Foo.class);\n</code></pre>\n<p>Will the deserialization still work? If not, wouldn't this be a problem? Because there's a pretty high possibility that writer and reader are not in the same application, therefore no easy way to ensure both register classes in the same order, right? Or am I missing something here?</p>\n"},{"tags":["java","android","development-environment"],"comments":[{"owner":{"account_id":28039661,"reputation":1,"user_id":21417432,"display_name":"Rajat Das"},"score":0,"creation_date":1687261729,"post_id":75831594,"comment_id":134909053,"body_markdown":"Any help will be appreciable.","body":"Any help will be appreciable."}],"owner":{"account_id":28039661,"reputation":1,"user_id":21417432,"display_name":"Rajat Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679647782,"creation_date":1679647782,"question_id":75831594,"body_markdown":"I want to know that how to launch an application right after the phone ends and the application will only open if the user didn&#39;t able to pick up the call and also how to get the incoming phone number in any android  phone with the help of broadcast receiver\r\n\r\nI used this technique to get the incoming phone number\r\n\r\npublic class CallStateListener extends PhoneStateListener {\r\nprivate int prev_state;\r\n\r\n    private static final String TAG = &quot;CallStateListener&quot;;\r\n    @Override\r\n    public void onCallStateChanged(int state, String phoneNumber) {\r\n        Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n        Log.v(TAG, phoneNumber);\r\n    \r\n        switch (state) {\r\n            case TelephonyManager.CALL_STATE_RINGING:\r\n                Log.d(TAG, &quot;RINGING&quot;);\r\n                prev_state = state;\r\n                break;\r\n            case TelephonyManager.CALL_STATE_IDLE:\r\n                Log.d(TAG, &quot;CALL_STATE_IDLE==&gt;&quot;+phoneNumber);\r\n    \r\n                if((prev_state == TelephonyManager.CALL_STATE_OFFHOOK)){\r\n                    prev_state=state;\r\n                    //Answered Call which is ended\r\n                }\r\n                if((prev_state == TelephonyManager.CALL_STATE_RINGING)){\r\n                    prev_state=state;\r\n                    //Rejected or Missed call\r\n                }\r\n                break;\r\n            case TelephonyManager.CALL_STATE_OFFHOOK:\r\n                Log.d(TAG, &quot;CALL_STATE_OFFHOOK&quot;);\r\n                prev_state=state;\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n**and I called it in the broadcast receiver class**\r\n\r\nLog.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n\r\nTelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n\r\nCallStateListener callStateListener = new CallStateListener();\r\ntelephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n\r\nBundle bundle = intent.getExtras();\r\n\r\nString phoneNr= bundle.getString(&quot;incoming_number&quot;);\r\n\r\nLog.v(TAG, &quot;phoneNr: &quot;+phoneNr);\r\n\r\n*but it didn&#39;t work*\r\n\r\n*Please help me to solve both the issues.*\r\n\r\n*I tried many techniques to overcome this isssue but nothing work.*\r\n\r\n*I tried to open the application and getting the incoming phone number  by using these codes*\r\n\r\n# \\*Full Code \\*\r\n\r\nCallDetector.java\r\n-\r\n\r\npublic class CallDetector extends BroadcastReceiver {\r\n\r\nprivate static final String TAG = &quot;CallDetector&quot;;\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.Q)\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\r\n    \r\n    TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\r\n    \r\n    CallStateListener callStateListener = new CallStateListener();telephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\r\n    \r\n    Bundle bundle = intent.getExtras();String phoneNr= bundle.getString(&quot;incoming_number&quot;);Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);\r\n    \r\n    if (intent.getAction().equals(ACTION_PHONE_STATE_CHANGED)) \r\n    {\r\n    Log.e(&quot;Start&quot;,&quot;Call Started&quot;);\r\n    }else if(intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_IDLE)) {\r\n    Log.e(&quot;End&quot;,&quot;CallEnded&quot;);\r\n    Intent launchIntent = new Intent(Intent.ACTION_MAIN);\r\n    launchIntent.setComponent(new ComponentName(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;,&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver.MainActivity&quot;));\r\n    \r\n    launchIntent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;);\r\n    \r\n    launchIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    \r\n    try {\r\n    \r\n    Toast.makeText(context, &quot;Package available, Successfully executed&quot;,Toast.LENGTH_SHORT).show();\r\n    \r\n    context.startActivity(launchIntent);\r\n    \r\n    Toast.makeText(context, &quot;Executed?&quot;, Toast.LENGTH_SHORT).show();\r\n    }catch (ActivityNotFoundException e)\r\n    {\r\n    e.printStackTrace();\r\n    Toast.makeText(context, &quot;Package not available &quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n    \r\n    PackageManager packageManager = context.getPackageManager();\r\n    \r\n    Intent homeIntent = new Intent(Intent.ACTION_VIEW);homeIntent.setType(&quot;application/vnd.android.package.archive&quot;);\r\n    \r\n    List list =       packageManager.queryIntentActivities(homeIntent,PackageManager.MATCH_DEFAULT_ONLY);\r\n    \r\n    if(list.size()&gt;0){intent.setDataAndType(Uri.parse(PACKAGE_PATH),&quot;application/vnd.android.package.archive&quot;);\r\n    \r\n    context.startActivity(intent);\r\n    }\r\n    } else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_RINGING)) \r\n    {\r\n    Log.e(&quot;Incoming&quot;, &quot;Incoming Call&quot;);\r\n    }\r\n\r\nMainActivity.java\r\n-\r\n\r\nCallDetector receiver = new CallDetector();\r\n\r\n\r\nIntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\r\nregisterReceiver(receiver, filter);","title":"How to launch an installed demo application right after the phone call ends","body":"<p>I want to know that how to launch an application right after the phone ends and the application will only open if the user didn't able to pick up the call and also how to get the incoming phone number in any android  phone with the help of broadcast receiver</p>\n<p>I used this technique to get the incoming phone number</p>\n<p>public class CallStateListener extends PhoneStateListener {\nprivate int prev_state;</p>\n<pre><code>private static final String TAG = &quot;CallStateListener&quot;;\n@Override\npublic void onCallStateChanged(int state, String phoneNumber) {\n    Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\n    Log.v(TAG, phoneNumber);\n\n    switch (state) {\n        case TelephonyManager.CALL_STATE_RINGING:\n            Log.d(TAG, &quot;RINGING&quot;);\n            prev_state = state;\n            break;\n        case TelephonyManager.CALL_STATE_IDLE:\n            Log.d(TAG, &quot;CALL_STATE_IDLE==&gt;&quot;+phoneNumber);\n\n            if((prev_state == TelephonyManager.CALL_STATE_OFFHOOK)){\n                prev_state=state;\n                //Answered Call which is ended\n            }\n            if((prev_state == TelephonyManager.CALL_STATE_RINGING)){\n                prev_state=state;\n                //Rejected or Missed call\n            }\n            break;\n        case TelephonyManager.CALL_STATE_OFFHOOK:\n            Log.d(TAG, &quot;CALL_STATE_OFFHOOK&quot;);\n            prev_state=state;\n            break;\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>and I called it in the broadcast receiver class</strong></p>\n<p>Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);</p>\n<p>TelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);</p>\n<p>CallStateListener callStateListener = new CallStateListener();\ntelephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);</p>\n<p>Bundle bundle = intent.getExtras();</p>\n<p>String phoneNr= bundle.getString(&quot;incoming_number&quot;);</p>\n<p>Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);</p>\n<p><em>but it didn't work</em></p>\n<p><em>Please help me to solve both the issues.</em></p>\n<p><em>I tried many techniques to overcome this isssue but nothing work.</em></p>\n<p><em>I tried to open the application and getting the incoming phone number  by using these codes</em></p>\n<h1>*Full Code *</h1>\n<h2>CallDetector.java</h2>\n<p>public class CallDetector extends BroadcastReceiver {</p>\n<p>private static final String TAG = &quot;CallDetector&quot;;</p>\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.Q)\n@Override\npublic void onReceive(Context context, Intent intent) {\n    Log.v(TAG, &quot;WE ARE INSIDE!!!!!!!!!!!&quot;);\n\nTelephonyManager telephony = (TelephonyManager)context.getSystemService(Context.TELEPHONY_SERVICE);\n\nCallStateListener callStateListener = new CallStateListener();telephony.listen(callStateListener, PhoneStateListener.LISTEN_CALL_STATE);\n\nBundle bundle = intent.getExtras();String phoneNr= bundle.getString(&quot;incoming_number&quot;);Log.v(TAG, &quot;phoneNr: &quot;+phoneNr);\n\nif (intent.getAction().equals(ACTION_PHONE_STATE_CHANGED)) \n{\nLog.e(&quot;Start&quot;,&quot;Call Started&quot;);\n}else if(intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_IDLE)) {\nLog.e(&quot;End&quot;,&quot;CallEnded&quot;);\nIntent launchIntent = new Intent(Intent.ACTION_MAIN);\nlaunchIntent.setComponent(new ComponentName(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;,&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver.MainActivity&quot;));\n\nlaunchIntent = context.getPackageManager().getLaunchIntentForPackage(&quot;com.codewithrajat.detectcallstateusingbroadcastreceiver&quot;);\n\nlaunchIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n\ntry {\n\nToast.makeText(context, &quot;Package available, Successfully executed&quot;,Toast.LENGTH_SHORT).show();\n\ncontext.startActivity(launchIntent);\n\nToast.makeText(context, &quot;Executed?&quot;, Toast.LENGTH_SHORT).show();\n}catch (ActivityNotFoundException e)\n{\ne.printStackTrace();\nToast.makeText(context, &quot;Package not available &quot;, Toast.LENGTH_SHORT).show();\n}\n\nPackageManager packageManager = context.getPackageManager();\n\nIntent homeIntent = new Intent(Intent.ACTION_VIEW);homeIntent.setType(&quot;application/vnd.android.package.archive&quot;);\n\nList list =       packageManager.queryIntentActivities(homeIntent,PackageManager.MATCH_DEFAULT_ONLY);\n\nif(list.size()&gt;0){intent.setDataAndType(Uri.parse(PACKAGE_PATH),&quot;application/vnd.android.package.archive&quot;);\n\ncontext.startActivity(intent);\n}\n} else if (intent.getStringExtra(TelephonyManager.EXTRA_STATE).equals(TelephonyManager.EXTRA_STATE_RINGING)) \n{\nLog.e(&quot;Incoming&quot;, &quot;Incoming Call&quot;);\n}\n</code></pre>\n<h2>MainActivity.java</h2>\n<p>CallDetector receiver = new CallDetector();</p>\n<p>IntentFilter filter = new IntentFilter(TelephonyManager.ACTION_PHONE_STATE_CHANGED);\nregisterReceiver(receiver, filter);</p>\n"},{"tags":["java","android","eclipse","libgdx"],"answers":[{"tags":[],"owner":{"account_id":4697107,"reputation":413,"user_id":3801728,"display_name":"dwana"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1405514363,"creation_date":1405513448,"answer_id":24780720,"question_id":24780532,"body_markdown":"Move this to the constructor:\r\n\r\n    position = new Vector2(0,0);\r\n\r\nIf you have this line in your `update` you reset the `position`every time.\r\n\r\n\r\nps: you might also get in trouble with your private and global touchPosition","title":"LIBGDX Input isTouched()","body":"<p>Move this to the constructor:</p>\n\n<pre><code>position = new Vector2(0,0);\n</code></pre>\n\n<p>If you have this line in your <code>update</code> you reset the <code>position</code>every time.</p>\n\n<p>ps: you might also get in trouble with your private and global touchPosition</p>\n"}],"owner":{"account_id":4750223,"reputation":1,"user_id":3840449,"display_name":"Brandon Capes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679647180,"creation_date":1405512845,"question_id":24780532,"body_markdown":"Can anyone give me any tips why my Player isn&#39;t moving?  It started moving till the player.dat was saved then it just Kind of nudges and returns to original position\r\n   \r\n\r\n    public class Player implements Serializable, InputProcessor{\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tVector2 position, touchPosition;\r\n\tString textureLoc;\r\n\t\r\n\tpublic Player(Vector2 position, String textureLoc){\r\n\t\tthis.position = position;\r\n\t\t}\r\n\t\r\n\tpublic void update(){\r\n\t\t\r\n\t\tposition = new Vector2(0,0);\r\n\t\tVector2 touchPosition = new Vector2(0,0);\r\n\t\t\r\n\t\t\r\n\t\tif (Gdx.input.isTouched()){\r\n\t\t\ttouchPosition.set(Gdx.input.getX(), Gdx.input.getY());\r\n\t\t\r\n\t\t}\r\n\t\tif(touchPosition.x &gt; position.x){\r\n\t\t\tposition.x += 2f;}\r\n\t\t\t\r\n\t\t if (touchPosition.x &lt; position.x){\r\n\t\t\t\tposition.x -= 2f;}\r\n\t\t\r\n\t\tif(touchPosition.y &gt; position.y){\r\n\t\t\tposition.y += 2f;}\r\n\t\t\t\r\n\t\t if (touchPosition.y &lt; position.y){\r\n\t\t\t\tposition.y -= 2f; \r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThis is under `Player` class.","title":"LIBGDX Input isTouched()","body":"<p>Can anyone give me any tips why my Player isn't moving?  It started moving till the player.dat was saved then it just Kind of nudges and returns to original position</p>\n<pre><code>public class Player implements Serializable, InputProcessor{\n\nprivate static final long serialVersionUID = 1L;\nVector2 position, touchPosition;\nString textureLoc;\n\npublic Player(Vector2 position, String textureLoc){\n    this.position = position;\n    }\n\npublic void update(){\n    \n    position = new Vector2(0,0);\n    Vector2 touchPosition = new Vector2(0,0);\n    \n    \n    if (Gdx.input.isTouched()){\n        touchPosition.set(Gdx.input.getX(), Gdx.input.getY());\n    \n    }\n    if(touchPosition.x &gt; position.x){\n        position.x += 2f;}\n        \n     if (touchPosition.x &lt; position.x){\n            position.x -= 2f;}\n    \n    if(touchPosition.y &gt; position.y){\n        position.y += 2f;}\n        \n     if (touchPosition.y &lt; position.y){\n            position.y -= 2f; \n    }\n    \n}\n</code></pre>\n<p>This is under <code>Player</code> class.</p>\n"},{"tags":["java","spring","properties"],"answers":[{"tags":[],"owner":{"account_id":70704,"reputation":49440,"user_id":204788,"display_name":"Biju Kunjummen"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1308105869,"creation_date":1308105869,"answer_id":6352469,"question_id":6352371,"body_markdown":"You should be able to use a [PropertyPlaceHolderConfigurer][1] to load a properties file, and then refer to the properties using an Spring-EL expression - \r\n\r\n    &lt;context:property-placeholder location=&quot;classpath:custom.properties&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;....&quot; class=&quot;....&quot;&gt;\r\n        &lt;property name=&quot;loginURL&quot;&gt;${propname}&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer\r\n\r\n","title":"Using Properties String in Spring XML configuration file","body":"<p>You should be able to use a <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/beans.html#beans-factory-placeholderconfigurer\" rel=\"noreferrer\">PropertyPlaceHolderConfigurer</a> to load a properties file, and then refer to the properties using an Spring-EL expression - </p>\n\n<pre><code>&lt;context:property-placeholder location=\"classpath:custom.properties\"/&gt;\n\n&lt;bean id=\"....\" class=\"....\"&gt;\n    &lt;property name=\"loginURL\"&gt;${propname}&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646861,"creation_date":1679646861,"answer_id":75831480,"question_id":6352371,"body_markdown":"In my case, each server picked up its own property file whose name came from the system variable. \r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PROPERTIES_FILE&#39;]}&quot;/&gt;\r\n        &lt;/bean&gt;  \r\n\r\nAfter this, I had to add the property key via Spring JSTL expression e.g \r\n\r\n    class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\r\n            &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\r\n            &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\r\n        &lt;/bean&gt;","title":"Using Properties String in Spring XML configuration file","body":"<p>In my case, each server picked up its own property file whose name came from the system variable.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties['APPLICATION_PROPERTIES_FILE']}&quot;/&gt;\n    &lt;/bean&gt;  \n</code></pre>\n<p>After this, I had to add the property key via Spring JSTL expression e.g</p>\n<pre><code>class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\n        &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\n        &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":168806,"reputation":7457,"user_id":394491,"accept_rate":60,"display_name":"NRaf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8404,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":6352469,"answer_count":2,"score":4,"last_activity_date":1679646861,"creation_date":1308104901,"question_id":6352371,"body_markdown":"Is there a way to set a property of a bean in a Spring configuration file to that of a string read from a Properties file?\r\n\r\ne.g.\r\n\r\n    &lt;bean id=&quot;....&quot; class=&quot;....&quot;&gt;\r\n        &lt;property name=&quot;loginURL&quot;&gt;GET_THIS_VALUE_FROM_&#39;ENV.PROPERTIES&#39;_FILE&lt;/property&gt;\r\n    &lt;/bean&gt;","title":"Using Properties String in Spring XML configuration file","body":"<p>Is there a way to set a property of a bean in a Spring configuration file to that of a string read from a Properties file?</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;bean id=\"....\" class=\"....\"&gt;\n    &lt;property name=\"loginURL\"&gt;GET_THIS_VALUE_FROM_'ENV.PROPERTIES'_FILE&lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring","environment-variables"],"comments":[{"owner":{"account_id":4215498,"reputation":1219,"user_id":3451846,"display_name":"Valerio Bozz"},"score":0,"creation_date":1676992503,"post_id":3965446,"comment_id":133246417,"body_markdown":"Do you want to read a Java system property, or an environment variable (in Linux, for example)? This is quite important. Thank you for this clarification. I know that the question is old, but...","body":"Do you want to read a Java system property, or an environment variable (in Linux, for example)? This is quite important. Thank you for this clarification. I know that the question is old, but..."}],"answers":[{"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1287467992,"creation_date":1287467992,"answer_id":3965690,"question_id":3965446,"body_markdown":"Yes, you can do `&lt;property name=&quot;defaultLocale&quot; value=&quot;#{ systemProperties[&#39;user.region&#39;]}&quot;/&gt;` for instance.\r\n\r\nThe variable **systemProperties** is predefined, see [6.4.1 XML based configuration][1].\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based","title":"how to read System environment variable in Spring applicationContext","body":"<p>Yes, you can do <code>&lt;property name=\"defaultLocale\" value=\"#{ systemProperties['user.region']}\"/&gt;</code> for instance.</p>\n\n<p>The variable <strong>systemProperties</strong> is predefined, see <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html#expressions-beandef-xml-based\">6.4.1 XML based configuration</a>.</p>\n"},{"comments":[{"owner":{"account_id":980303,"reputation":6724,"user_id":1000194,"accept_rate":72,"display_name":"fresh_dev"},"score":0,"creation_date":1326898070,"post_id":3965700,"comment_id":11147719,"body_markdown":"what&#39;s the java ... -Denv=QA means ?","body":"what&#39;s the java ... -Denv=QA means ?"},{"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"score":3,"creation_date":1327079648,"post_id":3965700,"comment_id":11197131,"body_markdown":"You set a java system property value. You can read this value in code like `assert System.getProperty(&quot;env&quot;) == &quot;QA&quot;;`","body":"You set a java system property value. You can read this value in code like <code>assert System.getProperty(&quot;env&quot;) == &quot;QA&quot;;</code>"},{"owner":{"account_id":94130,"reputation":4483,"user_id":257169,"accept_rate":67,"display_name":"amoe"},"score":0,"creation_date":1384521888,"post_id":3965700,"comment_id":29781123,"body_markdown":"I think this answer is incorrect, this doesn&#39;t allow reading system environment variables (i.e. OS-level variables set with `export`, etc), it only allows reading Java system properties.","body":"I think this answer is incorrect, this doesn&#39;t allow reading system environment variables (i.e. OS-level variables set with <code>export</code>, etc), it only allows reading Java system properties."},{"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"score":3,"creation_date":1390236888,"post_id":3965700,"comment_id":31994740,"body_markdown":"-Dprop=... sets a java property in command line. You can read this property via `System.getProperty(&quot;prop&quot;)`. If you would like to read a OS property then use `System.getenv(&quot;os-env-variable&quot;)`. See javadoc: http://docs.oracle.com/javase/6/docs/api/java/lang/System.html","body":"-Dprop=... sets a java property in command line. You can read this property via <code>System.getProperty(&quot;prop&quot;)</code>. If you would like to read a OS property then use <code>System.getenv(&quot;os-env-variable&quot;)</code>. See javadoc: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/System.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/lang/System.html</a>"},{"owner":{"account_id":1252576,"reputation":2885,"user_id":1212682,"display_name":"Yiling"},"score":27,"creation_date":1406185322,"post_id":3965700,"comment_id":38733112,"body_markdown":"In order to access system environment variable, that is OS level variables as amoe commented, we can simply use &quot;systemEnvironment&quot; instead of &quot;systemProperties&quot; in that EL.                          Like `#{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}`.","body":"In order to access system environment variable, that is OS level variables as amoe commented, we can simply use &quot;systemEnvironment&quot; instead of &quot;systemProperties&quot; in that EL.                          Like <code>#{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}</code>."},{"owner":{"account_id":300727,"reputation":603,"user_id":608035,"accept_rate":37,"display_name":"Lyndon"},"score":0,"creation_date":1479461154,"post_id":3965700,"comment_id":68576957,"body_markdown":"This works fine, I just tried it. #{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}","body":"This works fine, I just tried it. #{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}"},{"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"score":0,"creation_date":1679646422,"post_id":3965700,"comment_id":133761751,"body_markdown":"This worked for me, &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PROPERTIES_FILE&#39;]}&quot;/&gt;\n    &lt;/bean&gt;   My propery file (from among 5 prop files for each server )was present in folder resources&gt;config folder","body":"This worked for me, &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlac&zwnj;&#8203;eholderConfigurer&quot;&gt;         &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PRO&zwnj;&#8203;PERTIES_FILE&#39;]}&quot;/&gt;     &lt;/bean&gt;   My propery file (from among 5 prop files for each server )was present in folder resources&gt;config folder"}],"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"comment_count":7,"down_vote_count":0,"up_vote_count":114,"is_accepted":false,"score":114,"last_activity_date":1474214099,"creation_date":1287468132,"answer_id":3965700,"question_id":3965446,"body_markdown":"You are close :o)\r\nSpring 3.0 adds [Spring Expression Language][1]. \r\nYou can use \r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot; \r\n        location=&quot;classpath:config_#{systemProperties[&#39;env&#39;]}/db.properties&quot; /&gt;\r\n\r\nCombined with `java ... -Denv=QA` should solve your problem.\r\n\r\nNote also a comment by @yiling:\r\n\r\n&gt; In order to access system environment variable, that is OS level\r\n&gt; variables as amoe commented, we can simply use &quot;systemEnvironment&quot;\r\n&gt; instead of &quot;systemProperties&quot; in that EL. Like\r\n&gt; `#{systemEnvironment[&#39;ENV_VARIABLE_NAME&#39;]}`\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html","title":"how to read System environment variable in Spring applicationContext","body":"<p>You are close :o)\nSpring 3.0 adds <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/expressions.html\" rel=\"noreferrer\">Spring Expression Language</a>. \nYou can use </p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\" \n    location=\"classpath:config_#{systemProperties['env']}/db.properties\" /&gt;\n</code></pre>\n\n<p>Combined with <code>java ... -Denv=QA</code> should solve your problem.</p>\n\n<p>Note also a comment by @yiling:</p>\n\n<blockquote>\n  <p>In order to access system environment variable, that is OS level\n  variables as amoe commented, we can simply use \"systemEnvironment\"\n  instead of \"systemProperties\" in that EL. Like\n  <code>#{systemEnvironment['ENV_VARIABLE_NAME']}</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":3,"up_vote_count":54,"is_accepted":true,"score":51,"last_activity_date":1542198357,"creation_date":1287468453,"answer_id":3965727,"question_id":3965446,"body_markdown":"Check [this article][1]. It gives you several ways to do this, via the [`PropertyPlaceholderConfigurer`][2] which supports external properties (via the `systemPropertiesMode` property).\r\n\r\n[1]: https://web.archive.org/web/20151124064624/http://www.summa-tech.com/blog/2009/04/20/6-tips-for-managing-property-files-with-spring/\r\n[2]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html ","title":"how to read System environment variable in Spring applicationContext","body":"<p>Check <a href=\"https://web.archive.org/web/20151124064624/http://www.summa-tech.com/blog/2009/04/20/6-tips-for-managing-property-files-with-spring/\" rel=\"noreferrer\">this article</a>. It gives you several ways to do this, via the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html\" rel=\"noreferrer\"><code>PropertyPlaceholderConfigurer</code></a> which supports external properties (via the <code>systemPropertiesMode</code> property).</p>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1352222078,"creation_date":1352222078,"answer_id":13256038,"question_id":3965446,"body_markdown":"In your bean definition, make sure to include &quot;searchSystemEnvironment&quot; and set it to &quot;true&quot;. And if you&#39;re using it to build a path to a file, specify it as a file:/// url.\r\n\r\nSo for example, if you have a config file located in \r\n\r\n    /testapp/config/my.app.config.properties\r\n\r\nthen set an environment variable like so:\r\n\r\n    MY_ENV_VAR_PATH=/testapp/config\r\n\r\nand your app can load the file using a bean definition like this:\r\n\r\ne.g.\r\n\r\n    &lt;bean class=&quot;org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;searchContextAttributes&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;contextOverride&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;ignoreResourceNotFound&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;file:///${MY_ENV_VAR_PATH}/my.app.config.properties&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n","title":"how to read System environment variable in Spring applicationContext","body":"<p>In your bean definition, make sure to include \"searchSystemEnvironment\" and set it to \"true\". And if you're using it to build a path to a file, specify it as a file:/// url.</p>\n\n<p>So for example, if you have a config file located in </p>\n\n<pre><code>/testapp/config/my.app.config.properties\n</code></pre>\n\n<p>then set an environment variable like so:</p>\n\n<pre><code>MY_ENV_VAR_PATH=/testapp/config\n</code></pre>\n\n<p>and your app can load the file using a bean definition like this:</p>\n\n<p>e.g.</p>\n\n<pre><code>&lt;bean class=\"org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n    &lt;property name=\"searchContextAttributes\" value=\"true\" /&gt;\n    &lt;property name=\"contextOverride\" value=\"true\" /&gt;\n    &lt;property name=\"ignoreResourceNotFound\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:///${MY_ENV_VAR_PATH}/my.app.config.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1378830018,"creation_date":1378830018,"answer_id":18724139,"question_id":3965446,"body_markdown":"For my use case, I needed to access just the system properties, but provide default values in case they are undefined.\r\n\r\nThis is how you do it:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;bean id=&quot;propertyPlaceholderConfigurer&quot;   \r\n        class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;  \r\n        &lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    &lt;/bean&gt;  \r\n    &lt;bean id=&quot;myBean&quot; class=&quot;path.to.my.BeanClass&quot;&gt;\r\n        &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\r\n        &lt;constructor-arg value=&quot;${test.target.host:http://localhost:18888}&quot;/&gt;\r\n    &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>For my use case, I needed to access just the system properties, but provide default values in case they are undefined.</p>\n\n<p>This is how you do it:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean id=\"propertyPlaceholderConfigurer\"   \n    class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;  \n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n&lt;/bean&gt;  \n&lt;bean id=\"myBean\" class=\"path.to.my.BeanClass\"&gt;\n    &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\n    &lt;constructor-arg value=\"${test.target.host:http://localhost:18888}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":167155,"reputation":322,"user_id":391782,"display_name":"Mikus"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1395741203,"creation_date":1395741203,"answer_id":22630883,"question_id":3965446,"body_markdown":"Using Spring EL you can [eis example](https://stackoverflow.com/a/18724139/391782) write as follows\r\n\r\n    &lt;bean id=&quot;myBean&quot; class=&quot;path.to.my.BeanClass&quot;&gt;\r\n        &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\r\n        &lt;constructor-arg value=&quot;#{systemProperties[&#39;test.target.host&#39;] ?: &#39;http://localhost:18888&#39;}&quot;/&gt;\r\n    &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>Using Spring EL you can <a href=\"https://stackoverflow.com/a/18724139/391782\">eis example</a> write as follows</p>\n\n<pre><code>&lt;bean id=\"myBean\" class=\"path.to.my.BeanClass\"&gt;\n    &lt;!-- can be overridden with -Dtest.target.host=http://whatever.com --&gt;\n    &lt;constructor-arg value=\"#{systemProperties['test.target.host'] ?: 'http://localhost:18888'}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010535,"reputation":11,"user_id":4721127,"display_name":"Atit Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427466894,"creation_date":1427466894,"answer_id":29303233,"question_id":3965446,"body_markdown":"This is how you do it:\r\n\r\n    &lt;bean id=&quot;systemPrereqs&quot; class=&quot;org.springframework.beans.factory.config.MethodInvokingFactoryBean&quot; scope=&quot;prototype&quot;&gt;\r\n                 &lt;property name=&quot;targetObject&quot; value=&quot;#{@systemProperties}&quot; /&gt;\r\n                 &lt;property name=&quot;targetMethod&quot; value=&quot;putAll&quot; /&gt;\r\n                 &lt;property name=&quot;arguments&quot;&gt;\r\n    \t\t           &lt;util:properties&gt;\r\n    \t\t               &lt;prop key=&quot;deployment.env&quot;&gt;dev&lt;/prop&gt;\r\n    \t\t           &lt;/util:properties&gt;\r\n         \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nBut remember spring gets loaded first and then it will load this bean MethodInvokingFactoryBean. So if you are trying to use this for your test case then make sure that you use depends-on. For e.g. in this case\r\n&lt;bean id=&quot;featureToggleUtil&quot; class=&quot;package name&quot; depends-on=&quot;systemPrereqs&quot;/&gt;\r\n\r\nIn case you are using it for your main class better to set this property using your pom.xml as\r\n\r\n    &lt;systemProperty&gt;\r\n        &lt;name&gt;deployment.env&lt;/name&gt;\r\n        &lt;value&gt;dev&lt;/value&gt;\r\n    &lt;/systemProperty&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>This is how you do it:</p>\n\n<pre><code>&lt;bean id=\"systemPrereqs\" class=\"org.springframework.beans.factory.config.MethodInvokingFactoryBean\" scope=\"prototype\"&gt;\n             &lt;property name=\"targetObject\" value=\"#{@systemProperties}\" /&gt;\n             &lt;property name=\"targetMethod\" value=\"putAll\" /&gt;\n             &lt;property name=\"arguments\"&gt;\n                   &lt;util:properties&gt;\n                       &lt;prop key=\"deployment.env\"&gt;dev&lt;/prop&gt;\n                   &lt;/util:properties&gt;\n            &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>But remember spring gets loaded first and then it will load this bean MethodInvokingFactoryBean. So if you are trying to use this for your test case then make sure that you use depends-on. For e.g. in this case\n</p>\n\n<p>In case you are using it for your main class better to set this property using your pom.xml as</p>\n\n<pre><code>&lt;systemProperty&gt;\n    &lt;name&gt;deployment.env&lt;/name&gt;\n    &lt;value&gt;dev&lt;/value&gt;\n&lt;/systemProperty&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2127970,"reputation":2483,"user_id":1889574,"accept_rate":67,"display_name":"Nikhil Sahu"},"score":1,"creation_date":1481479576,"post_id":29744955,"comment_id":69383537,"body_markdown":"Are env variables also accessible through the `Environment` interface ?","body":"Are env variables also accessible through the <code>Environment</code> interface ?"},{"owner":{"account_id":2025195,"reputation":734,"user_id":1810406,"accept_rate":100,"display_name":"Ninetou"},"score":0,"creation_date":1498587336,"post_id":29744955,"comment_id":76555100,"body_markdown":"@NikhilSahu Yes, they are. You access them with the same key as you would when querying `java.lang.System` eg to get OS type you&#39;d do `env.getProperty(&quot;os.name&quot;)` assuming `env` is your instance of `org.springframework.core.env.Environment`.","body":"@NikhilSahu Yes, they are. You access them with the same key as you would when querying <code>java.lang.System</code> eg to get OS type you&#39;d do <code>env.getProperty(&quot;os.name&quot;)</code> assuming <code>env</code> is your instance of <code>org.springframework.core.env.Environment</code>."},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1530789076,"post_id":29744955,"comment_id":89361183,"body_markdown":"`@Autowired\nprivate Environment environment;` doesn&#39;t work for my `Component` the environment is always null","body":"<code>@Autowired private Environment environment;</code> doesn&#39;t work for my <code>Component</code> the environment is always null"}],"tags":[],"owner":{"account_id":2222583,"reputation":21731,"user_id":1961634,"accept_rate":81,"display_name":"Dariusz"},"comment_count":3,"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1481212580,"creation_date":1429524597,"answer_id":29744955,"question_id":3965446,"body_markdown":"**Nowadays you can put** \r\n\r\n\t@Autowired\r\n\tprivate Environment environment;\r\n\r\nin your `@Component`, `@Bean`, etc., and then access the properties through the `Environment` class:\r\n\r\n    environment.getProperty(&quot;myProp&quot;);\r\n\r\n---\r\n\r\n**For a single property** in a `@Bean`\r\n\r\n    @Value(&quot;${my.another.property:123}&quot;) // value after &#39;:&#39; is the default\r\n    Integer property;\r\n\r\n\r\n---\r\n\r\n**Another way** are the handy `@ConfigurationProperties` beans:\r\n\r\n\r\n    @ConfigurationProperties(prefix=&quot;my.properties.prefix&quot;)\r\n    public class MyProperties {\r\n      // value from my.properties.prefix.myProperty will be bound to this variable\r\n      String myProperty;\r\n    \r\n      // and this will even throw a startup exception if the property is not found\r\n      @javax.validation.constraints.NotNull\r\n      String myRequiredProperty;\r\n    \r\n      //getters\r\n    }\r\n    \r\n    @Component\r\n    public class MyOtherBean {\r\n      @Autowired\r\n      MyProperties myProperties;\r\n    }\r\n\r\nNote: Just remember to restart eclipse after setting a new environment variable","title":"how to read System environment variable in Spring applicationContext","body":"<p><strong>Nowadays you can put</strong> </p>\n\n<pre><code>@Autowired\nprivate Environment environment;\n</code></pre>\n\n<p>in your <code>@Component</code>, <code>@Bean</code>, etc., and then access the properties through the <code>Environment</code> class:</p>\n\n<pre><code>environment.getProperty(\"myProp\");\n</code></pre>\n\n<hr>\n\n<p><strong>For a single property</strong> in a <code>@Bean</code></p>\n\n<pre><code>@Value(\"${my.another.property:123}\") // value after ':' is the default\nInteger property;\n</code></pre>\n\n<hr>\n\n<p><strong>Another way</strong> are the handy <code>@ConfigurationProperties</code> beans:</p>\n\n<pre><code>@ConfigurationProperties(prefix=\"my.properties.prefix\")\npublic class MyProperties {\n  // value from my.properties.prefix.myProperty will be bound to this variable\n  String myProperty;\n\n  // and this will even throw a startup exception if the property is not found\n  @javax.validation.constraints.NotNull\n  String myRequiredProperty;\n\n  //getters\n}\n\n@Component\npublic class MyOtherBean {\n  @Autowired\n  MyProperties myProperties;\n}\n</code></pre>\n\n<p>Note: Just remember to restart eclipse after setting a new environment variable</p>\n"},{"tags":[],"owner":{"account_id":3952484,"reputation":364,"user_id":3262257,"display_name":"Sunil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450413330,"creation_date":1450413330,"answer_id":34348600,"question_id":3965446,"body_markdown":"You can mention your variable attributes in a property file and define environment specific property files like local.properties, production.propertied etc.\r\n\r\nNow based on the environment, one of these property file can be read in one the listeners invoked at startup, like the ServletContextListener.\r\n\r\nThe property file will contain the the environment specific values for various keys.\r\n\r\nSample &quot;local.propeties&quot;\r\n    \r\n    db.logsDataSource.url=jdbc:mysql://localhost:3306/logs\r\n    db.logsDataSource.username=root\r\n    db.logsDataSource.password=root\r\n\r\n    db.dataSource.url=jdbc:mysql://localhost:3306/main\r\n    db.dataSource.username=root\r\n    db.dataSource.password=root\r\n\r\nSample &quot;production.properties&quot;\r\n\r\n\r\n    db.logsDataSource.url=jdbc:mariadb://111.111.111.111:3306/logs\r\n    db.logsDataSource.username=admin\r\n    db.logsDataSource.password=xyzqer\r\n\r\n    db.dataSource.url=jdbc:mysql://111.111.111.111:3306/carsinfo\r\n    db.dataSource.username=admin\r\n    db.dataSource.password=safasf@mn\r\n\r\nFor using these properties file, you can make use of  REsource as mentioned below\r\n\r\n            PropertyPlaceholderConfigurer configurer = new PropertyPlaceholderConfigurer();\r\n\t\t\tResourceLoader resourceLoader = new DefaultResourceLoader();\r\n\t\t\t\r\n\t\t\tResource resource = resourceLoader.getResource(&quot;classpath:&quot;+System.getenv(&quot;SERVER_TYPE&quot;)+&quot;DB.properties&quot;);\r\n\t\t\tconfigurer.setLocation(resource);\r\n\t\t\tconfigurer.postProcessBeanFactory(beanFactory);\r\n\r\nSERVER_TYPE can be defined as the environment variable with appropriate values for local and production environment.  \r\n\r\nWith these changes the appplicationContext.xml will have the following changes\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n\t &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t  &lt;property name=&quot;url&quot; value=&quot;${db.dataSource.url}&quot; /&gt;\r\n\t  &lt;property name=&quot;username&quot; value=&quot;${db.dataSource.username}&quot; /&gt;\r\n\t  &lt;property name=&quot;password&quot; value=&quot;${db.dataSource.password}&quot; /&gt;\r\n   &lt;/bean&gt;   \r\n\r\n\r\nHope this helps .\r\n\r\n","title":"how to read System environment variable in Spring applicationContext","body":"<p>You can mention your variable attributes in a property file and define environment specific property files like local.properties, production.propertied etc.</p>\n\n<p>Now based on the environment, one of these property file can be read in one the listeners invoked at startup, like the ServletContextListener.</p>\n\n<p>The property file will contain the the environment specific values for various keys.</p>\n\n<p>Sample \"local.propeties\"</p>\n\n<pre><code>db.logsDataSource.url=jdbc:mysql://localhost:3306/logs\ndb.logsDataSource.username=root\ndb.logsDataSource.password=root\n\ndb.dataSource.url=jdbc:mysql://localhost:3306/main\ndb.dataSource.username=root\ndb.dataSource.password=root\n</code></pre>\n\n<p>Sample \"production.properties\"</p>\n\n<pre><code>db.logsDataSource.url=jdbc:mariadb://111.111.111.111:3306/logs\ndb.logsDataSource.username=admin\ndb.logsDataSource.password=xyzqer\n\ndb.dataSource.url=jdbc:mysql://111.111.111.111:3306/carsinfo\ndb.dataSource.username=admin\ndb.dataSource.password=safasf@mn\n</code></pre>\n\n<p>For using these properties file, you can make use of  REsource as mentioned below</p>\n\n<pre><code>        PropertyPlaceholderConfigurer configurer = new PropertyPlaceholderConfigurer();\n        ResourceLoader resourceLoader = new DefaultResourceLoader();\n\n        Resource resource = resourceLoader.getResource(\"classpath:\"+System.getenv(\"SERVER_TYPE\")+\"DB.properties\");\n        configurer.setLocation(resource);\n        configurer.postProcessBeanFactory(beanFactory);\n</code></pre>\n\n<p>SERVER_TYPE can be defined as the environment variable with appropriate values for local and production environment.  </p>\n\n<p>With these changes the appplicationContext.xml will have the following changes</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n  &lt;property name=\"url\" value=\"${db.dataSource.url}\" /&gt;\n  &lt;property name=\"username\" value=\"${db.dataSource.username}\" /&gt;\n  &lt;property name=\"password\" value=\"${db.dataSource.password}\" /&gt;\n</code></pre>\n\n<p>   </p>\n\n<p>Hope this helps .</p>\n"},{"tags":[],"owner":{"account_id":5578474,"reputation":1353,"user_id":4421156,"display_name":"Justin Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458644379,"creation_date":1458640991,"answer_id":36151328,"question_id":3965446,"body_markdown":"Declare the property place holder as follows\r\n\r\n    &lt;bean id=&quot;propertyPlaceholderConfigurer&quot;   \r\n            class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;  \r\n        &lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n        &lt;property name=&quot;locations&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;file:///path.to.your.app.config.properties&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThen lets say you want to read `System.property(&quot;java.io.tmpdir&quot;)` for your Tomcat bean or any bean then add following in your properties file:\r\n\r\n    tomcat.tmp.dir=${java.io.tmpdir}","title":"how to read System environment variable in Spring applicationContext","body":"<p>Declare the property place holder as follows</p>\n\n<pre><code>&lt;bean id=\"propertyPlaceholderConfigurer\"   \n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;  \n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:///path.to.your.app.config.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Then lets say you want to read <code>System.property(\"java.io.tmpdir\")</code> for your Tomcat bean or any bean then add following in your properties file:</p>\n\n<pre><code>tomcat.tmp.dir=${java.io.tmpdir}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1152235,"reputation":1124,"user_id":1133690,"accept_rate":47,"display_name":"Jaikrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549534037,"creation_date":1459174448,"answer_id":36264151,"question_id":3965446,"body_markdown":"Thanks to @Yiling. That was a hint.\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot;\r\n    \t\tclass=&quot;org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer&quot;&gt;\r\n    \t\t\r\n    \t&lt;property name=&quot;systemPropertiesModeName&quot; value=&quot;SYSTEM_PROPERTIES_MODE_OVERRIDE&quot; /&gt;\r\n    \t&lt;property name=&quot;searchSystemEnvironment&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;property name=&quot;locations&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/first.properties&lt;/value&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/second.properties&lt;/value&gt;\r\n    \t\t\t&lt;value&gt;file:#{systemEnvironment[&#39;FILE_PATH&#39;]}/third.properties&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\nAfter this, you should have one environment variable named &#39;FILE_PATH&#39;. Make sure you restart your terminal/IDE after creating that environment variable.","title":"how to read System environment variable in Spring applicationContext","body":"<p>Thanks to @Yiling. That was a hint.</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.web.context.support.ServletContextPropertyPlaceholderConfigurer\"&gt;\n\n    &lt;property name=\"systemPropertiesModeName\" value=\"SYSTEM_PROPERTIES_MODE_OVERRIDE\" /&gt;\n    &lt;property name=\"searchSystemEnvironment\" value=\"true\" /&gt;\n    &lt;property name=\"locations\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/first.properties&lt;/value&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/second.properties&lt;/value&gt;\n            &lt;value&gt;file:#{systemEnvironment['FILE_PATH']}/third.properties&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>After this, you should have one environment variable named 'FILE_PATH'. Make sure you restart your terminal/IDE after creating that environment variable.</p>\n"},{"comments":[{"owner":{"account_id":3402511,"reputation":136,"user_id":2854364,"accept_rate":0,"display_name":"Venus"},"score":0,"creation_date":1616329407,"post_id":65168171,"comment_id":117962273,"body_markdown":"getenv (lowercase)","body":"getenv (lowercase)"}],"tags":[],"owner":{"account_id":11511943,"reputation":359,"user_id":8436465,"display_name":"Rub&#233;n Morales"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616354884,"creation_date":1607258591,"answer_id":65168171,"question_id":3965446,"body_markdown":"Updated version (2020).\r\n\r\nUse [System.getenv(&quot;ENV_VARIABLE&quot;)][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/lang/system_getenv_string.htm","title":"how to read System environment variable in Spring applicationContext","body":"<p>Updated version (2020).</p>\n<p>Use <a href=\"https://www.tutorialspoint.com/java/lang/system_getenv_string.htm\" rel=\"nofollow noreferrer\">System.getenv(&quot;ENV_VARIABLE&quot;)</a></p>\n"},{"tags":[],"owner":{"account_id":2508599,"reputation":374,"user_id":2181576,"display_name":"veritas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679646697,"creation_date":1679646697,"answer_id":75831450,"question_id":3965446,"body_markdown":"Amra solution helped me to get this right. In my case, each server picked up its own property file who name came from the system variable. \r\n\r\n    &lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties[&#39;APPLICATION_PROPERTIES_FILE&#39;]}&quot;/&gt;\r\n        &lt;/bean&gt;  \r\n\r\nAfter this, I had to add the property key via Spring JSTL expression e.g \r\n\r\n    class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\r\n            &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\r\n            &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\r\n        &lt;/bean&gt;","title":"how to read System environment variable in Spring applicationContext","body":"<p>Amra solution helped me to get this right. In my case, each server picked up its own property file who name came from the system variable.</p>\n<pre><code>&lt;bean class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\n        &lt;property name=&quot;locations&quot; value=&quot;classpath:/config/#{systemProperties['APPLICATION_PROPERTIES_FILE']}&quot;/&gt;\n    &lt;/bean&gt;  \n</code></pre>\n<p>After this, I had to add the property key via Spring JSTL expression e.g</p>\n<pre><code>class=&quot;org.springframework.security.oauth2.provider.token.store.JwtAccessTokenConverter&quot;&gt;\n        &lt;property name=&quot;signingKey&quot; value=&quot;${oauth.signingkey}&quot;/&gt;\n        &lt;property name=&quot;jwtClaimsSetVerifier&quot; ref=&quot;OauthClaimVerifier&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":52759,"reputation":21589,"user_id":157705,"accept_rate":74,"display_name":"jai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344904,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":3965727,"answer_count":13,"score":123,"last_activity_date":1679646697,"creation_date":1287464275,"question_id":3965446,"body_markdown":"How to read the system environment variable in the application context?\r\n\r\nI want something like :\r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_DEV/db.properties&quot; /&gt;\r\n\r\nor\r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_QA/db.properties&quot; /&gt;\r\n\r\ndepending on the environement.\r\n\r\nCan I have something like this in my application Context? \r\n\r\n    &lt;util:properties id=&quot;dbProperties&quot;\r\n    \t\tlocation=&quot;classpath:config_${systemProperties.env}/db.properties&quot; /&gt;\r\n\r\nwhere the actual val is set based on the SYSTEM ENVIRONMENT VARIABLE\r\n\r\nI&#39;m using Spring 3.0","title":"how to read System environment variable in Spring applicationContext","body":"<p>How to read the system environment variable in the application context?</p>\n\n<p>I want something like :</p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_DEV/db.properties\" /&gt;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_QA/db.properties\" /&gt;\n</code></pre>\n\n<p>depending on the environement.</p>\n\n<p>Can I have something like this in my application Context? </p>\n\n<pre><code>&lt;util:properties id=\"dbProperties\"\n        location=\"classpath:config_${systemProperties.env}/db.properties\" /&gt;\n</code></pre>\n\n<p>where the actual val is set based on the SYSTEM ENVIRONMENT VARIABLE</p>\n\n<p>I'm using Spring 3.0</p>\n"},{"tags":["java","module","package"],"owner":{"account_id":28111982,"reputation":1,"user_id":21479617,"display_name":"edmund pahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679645956,"creation_date":1679645956,"question_id":75831343,"body_markdown":"So I&#39;m trying to add background music for a game and there is something wrong while trying to access com.sun for some reason.\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\r\n\tat javafx.controls/javafx.scene.control.CheckBox.fire(CheckBox.java:239)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\r\n\tat javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\r\n\t... 45 more\r\n**Caused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media**\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\r\n\tat javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\r\n\tat javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\r\n\tat javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\r\n\tat javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\r\n\tat org.directional.dirt/org.directional.dirt.Sound.music(Sound.java:25)\r\n\tat org.directional.dirt/org.directional.dirt.SecondaryController.play(SecondaryController.java:88)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 52 more\r\n\r\n```\r\n\r\nCould appreciate a quick help as to what I can do.\r\n\r\nSo in my module info I tried something like `exports com.sun.javafx to javafx.media;`and it showed &quot;Cannot export the package com.sun.javafx which belongs to module javafx.base&quot;, which I understood later but then how do I go about this?","title":"how to export com.sun.javafx to module javafx.media from javafx.base","body":"<p>So I'm trying to add background music for a game and there is something wrong while trying to access com.sun for some reason.</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1787)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1670)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8879)\n    at javafx.controls/javafx.scene.control.CheckBox.fire(CheckBox.java:239)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:206)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:218)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:238)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3851)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.access$1200(Scene.java:3579)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1849)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2588)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:397)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:295)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:434)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:390)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:433)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:556)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:942)\n    at javafx.graphics/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:76)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:273)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:83)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1784)\n    ... 45 more\n**Caused by: java.lang.IllegalAccessError: class com.sun.media.jfxmediaimpl.platform.PlatformManager (in module javafx.media) cannot access class com.sun.javafx.PlatformUtil (in module javafx.base) because module javafx.base does not export com.sun.javafx to module javafx.media**\n    at javafx.media/com.sun.media.jfxmediaimpl.platform.PlatformManager.getSupportedProtocols(PlatformManager.java:203)\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.loadProtocols(NativeMediaManager.java:197)\n    at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.canPlayProtocol(NativeMediaManager.java:267)\n    at javafx.media/com.sun.media.jfxmedia.MediaManager.canPlayProtocol(MediaManager.java:78)\n    at javafx.media/com.sun.media.jfxmedia.locator.Locator.&lt;init&gt;(Locator.java:239)\n    at javafx.media/javafx.scene.media.Media.&lt;init&gt;(Media.java:393)\n    at org.directional.dirt/org.directional.dirt.Sound.music(Sound.java:25)\n    at org.directional.dirt/org.directional.dirt.SecondaryController.play(SecondaryController.java:88)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 52 more\n\n</code></pre>\n<p>Could appreciate a quick help as to what I can do.</p>\n<p>So in my module info I tried something like <code>exports com.sun.javafx to javafx.media;</code>and it showed &quot;Cannot export the package com.sun.javafx which belongs to module javafx.base&quot;, which I understood later but then how do I go about this?</p>\n"},{"tags":["java","apache-httpclient-4.x","keep-alive","session-reuse"],"comments":[{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1679646540,"post_id":75827839,"comment_id":133761785,"body_markdown":"Does the nginx set a Keep-Alive header in the response? IIUC, it should reuse the connection if there is no Keep-Alive header anyways, but I&#39;m not sure about that.\nSee https://stackoverflow.com/questions/68990038/apache-httpclient-keep-alive-strategy-for-active-connections","body":"Does the nginx set a Keep-Alive header in the response? IIUC, it should reuse the connection if there is no Keep-Alive header anyways, but I&#39;m not sure about that. See <a href=\"https://stackoverflow.com/questions/68990038/apache-httpclient-keep-alive-strategy-for-active-connections\" title=\"apache httpclient keep alive strategy for active connections\">stackoverflow.com/questions/68990038/&hellip;</a>"},{"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"score":0,"creation_date":1679699507,"post_id":75827839,"comment_id":133773793,"body_markdown":"yes, Nginx set a keep-alive header in the response","body":"yes, Nginx set a keep-alive header in the response"},{"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"score":0,"creation_date":1679903156,"post_id":75827839,"comment_id":133797581,"body_markdown":"OK, then what&#39;s the value of the keep-alive header?","body":"OK, then what&#39;s the value of the keep-alive header?"},{"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"score":0,"creation_date":1681241307,"post_id":75827839,"comment_id":134024115,"body_markdown":"Keep alive is set to 2000ms - confirmed by debug logs","body":"Keep alive is set to 2000ms - confirmed by debug logs"}],"owner":{"account_id":14788583,"reputation":60,"user_id":10680142,"display_name":"Kreans"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679645892,"creation_date":1679604365,"question_id":75827839,"body_markdown":"I have nginx with enabled keepalive. I create simple java code, which sends 2 requests to nginx:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        var apacheHttpClient = HttpClients.custom()\r\n                .setConnectionManager(new PoolingHttpClientConnectionManager())\r\n                .build();\r\n\r\n        HttpGet httpGet = new HttpGet(&quot;http://127.0.0.1:5000&quot;);\r\n        \r\n        for (int i = 0; i &lt; 2; i++) {\r\n            try (CloseableHttpResponse httpResponse = apacheHttpClient.execute(httpGet)) {\r\n                System.out.println(httpResponse.getStatusLine().getStatusCode());\r\n            } catch (ClientProtocolException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have checked with wireshark that the java program creates 2 connection to execute this command. Why Java apache httpclient do not reuse connection? I assume that 1 connection should be established and be reused.[![enter image description here](https://i.stack.imgur.com/nUe81.png)](https://i.stack.imgur.com/nUe81.png)\r\n\r\n\r\n","title":"Does Java Apache HttpClient reuse keepalive connection?","body":"<p>I have nginx with enabled keepalive. I create simple java code, which sends 2 requests to nginx:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        var apacheHttpClient = HttpClients.custom()\n                .setConnectionManager(new PoolingHttpClientConnectionManager())\n                .build();\n\n        HttpGet httpGet = new HttpGet(&quot;http://127.0.0.1:5000&quot;);\n        \n        for (int i = 0; i &lt; 2; i++) {\n            try (CloseableHttpResponse httpResponse = apacheHttpClient.execute(httpGet)) {\n                System.out.println(httpResponse.getStatusLine().getStatusCode());\n            } catch (ClientProtocolException e) {\n                throw new RuntimeException(e);\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have checked with wireshark that the java program creates 2 connection to execute this command. Why Java apache httpclient do not reuse connection? I assume that 1 connection should be established and be reused.<a href=\"https://i.stack.imgur.com/nUe81.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nUe81.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-15"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1679576720,"post_id":75823301,"comment_id":133748483,"body_markdown":"&quot;Isn&#39;t `public class Square extends Shape {...}` more intuitive?&quot; Well that&#39;s your opinion. The language designers had their own, different opinions.","body":"&quot;Isn&#39;t <code>public class Square extends Shape {...}</code> more intuitive?&quot; Well that&#39;s your opinion. The language designers had their own, different opinions."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1679577080,"post_id":75823301,"comment_id":133748592,"body_markdown":"[Right now it is unclear what kind of explanation would satisfy you.](https://meta.stackoverflow.com/a/323382/5133585) Please [edit] your question to clarify.","body":"<a href=\"https://meta.stackoverflow.com/a/323382/5133585\">Right now it is unclear what kind of explanation would satisfy you.</a> Please <a href=\"https://stackoverflow.com/posts/75823301/edit\">edit</a> your question to clarify."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1679577765,"post_id":75823301,"comment_id":133748770,"body_markdown":"Think about what `sealed` is intended to mean.  The point is to denote that Shape has a known set of implementors.  Violating that contract in the Square class should not be the default.  The programmer should be made to explicitly state, “I hereby acknowledge I am breaking the sealed designation.”","body":"Think about what <code>sealed</code> is intended to mean.  The point is to denote that Shape has a known set of implementors.  Violating that contract in the Square class should not be the default.  The programmer should be made to explicitly state, “I hereby acknowledge I am breaking the sealed designation.”"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1679577894,"post_id":75823301,"comment_id":133748808,"body_markdown":"The spec requires you to be explicit: do you want a subclass of a sealed class to be `final`, `sealed` or `non-sealed`? If the spec would allow you to write `public class Square extends Shape {...}` you loose that explicitness. Did you really intend the class `Square` to be non-sealed or did you just forget to write `final` or `sealed`?","body":"The spec requires you to be explicit: do you want a subclass of a sealed class to be <code>final</code>, <code>sealed</code> or <code>non-sealed</code>? If the spec would allow you to write <code>public class Square extends Shape {...}</code> you loose that explicitness. Did you really intend the class <code>Square</code> to be non-sealed or did you just forget to write <code>final</code> or <code>sealed</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679645779,"creation_date":1679645779,"answer_id":75831309,"question_id":75823301,"body_markdown":"You said you “could not see any explanation at JEP 360” but [the linked document] says explicitly:\r\n\r\n&gt; A sealed class imposes three constraints on its permitted subclasses (the classes specified by its `permits` clause):\r\n&gt; \r\n&gt; 1. The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, the same package.\r\n&gt; \r\n&gt; 2. Every permitted subclass must directly extend the sealed class.\r\n&gt; \r\n&gt; 3. Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:\r\n&gt; \r\n&gt; …\r\n\r\nThe last point indicates the intended mindset: a sealing is *initiated* by a class declared `sealed` but is not just about the direct subclasses but the entire type hierarchy. Therefore, the permitted subclasses must declare, how to continue the sealing, either by being `final` or `sealed` or by explicitly declaring a re-opened branch of the class tree.\r\n\r\nOpening (resp. accidentally breaking) a sealing by just not declaring an appropriate modifier, which could be an oversight, is not an option.\r\n\r\nThe available options are also listed directly under the cited part:\r\n\r\n&gt;  - A permitted subclass may be declared `final` to prevent its part of the class hierarchy from being extended further.\r\n&gt;  - A permitted subclass may be declared `sealed` to allow its part of the hierarchy to be extended further than envisaged by its sealed superclass, but in a restricted fashion.\r\n&gt;  - A permitted subclass may be declared `non-sealed` so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)\r\n\r\nThe JEP doesn’t mention it but [the specification] allows implicit declarations, so you don’t need to specify `sealed` or `final` for `enum` or `record` types implementing a sealed interface.\r\n\r\n[the linked document]: https://openjdk.org/jeps/360#:~:text=A%20sealed%20class%20imposes%20three%20constraints,%3A\r\n[the specification]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.1.2","title":"What is the purpose explicitly specifying a sub-class as non-sealed?","body":"<p>You said you “could not see any explanation at JEP 360” but <a href=\"https://openjdk.org/jeps/360#:%7E:text=A%20sealed%20class%20imposes%20three%20constraints,%3A\" rel=\"noreferrer\">the linked document</a> says explicitly:</p>\n<blockquote>\n<p>A sealed class imposes three constraints on its permitted subclasses (the classes specified by its <code>permits</code> clause):</p>\n<ol>\n<li><p>The sealed class and its permitted subclasses must belong to the same module, and, if declared in an unnamed module, the same package.</p>\n</li>\n<li><p>Every permitted subclass must directly extend the sealed class.</p>\n</li>\n<li><p>Every permitted subclass must choose a modifier to describe how it continues the sealing initiated by its superclass:</p>\n</li>\n</ol>\n<p>…</p>\n</blockquote>\n<p>The last point indicates the intended mindset: a sealing is <em>initiated</em> by a class declared <code>sealed</code> but is not just about the direct subclasses but the entire type hierarchy. Therefore, the permitted subclasses must declare, how to continue the sealing, either by being <code>final</code> or <code>sealed</code> or by explicitly declaring a re-opened branch of the class tree.</p>\n<p>Opening (resp. accidentally breaking) a sealing by just not declaring an appropriate modifier, which could be an oversight, is not an option.</p>\n<p>The available options are also listed directly under the cited part:</p>\n<blockquote>\n<ul>\n<li>A permitted subclass may be declared <code>final</code> to prevent its part of the class hierarchy from being extended further.</li>\n<li>A permitted subclass may be declared <code>sealed</code> to allow its part of the hierarchy to be extended further than envisaged by its sealed superclass, but in a restricted fashion.</li>\n<li>A permitted subclass may be declared <code>non-sealed</code> so that its part of the hierarchy reverts to being open for extension by unknown subclasses. (A sealed class cannot prevent its permitted subclasses from doing this.)</li>\n</ul>\n</blockquote>\n<p>The JEP doesn’t mention it but <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.1.1.2\" rel=\"noreferrer\">the specification</a> allows implicit declarations, so you don’t need to specify <code>sealed</code> or <code>final</code> for <code>enum</code> or <code>record</code> types implementing a sealed interface.</p>\n"}],"owner":{"account_id":1238861,"reputation":9,"user_id":6607900,"display_name":"visha1"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679646906,"answer_count":1,"score":0,"last_activity_date":1679645779,"creation_date":1679576326,"question_id":75823301,"body_markdown":"In the following example why do I explicitly need to specify a class Square as non-sealed?\r\n\r\nIsn&#39;t `public class Square extends Shape {...}` more intuitive?\r\n\r\n```\r\npackage com.example.geometry;\r\n\r\npublic abstract sealed class Shape permits Circle, Rectangle, Square {...}\r\n\r\npublic final class Circle extends Shape {...}\r\n\r\npublic sealed class Rectangle extends Shape permits TransparentRectangle, FilledRectangle {...} public final class TransparentRectangle extends Rectangle {...} public final class FilledRectangle extends Rectangle {...}\r\n\r\npublic non-sealed class Square extends Shape {...}\r\n```\r\n\r\nI could not see any explanation at [JEP 360](https://openjdk.org/jeps/360)","title":"What is the purpose explicitly specifying a sub-class as non-sealed?","body":"<p>In the following example why do I explicitly need to specify a class Square as non-sealed?</p>\n<p>Isn't <code>public class Square extends Shape {...}</code> more intuitive?</p>\n<pre><code>package com.example.geometry;\n\npublic abstract sealed class Shape permits Circle, Rectangle, Square {...}\n\npublic final class Circle extends Shape {...}\n\npublic sealed class Rectangle extends Shape permits TransparentRectangle, FilledRectangle {...} public final class TransparentRectangle extends Rectangle {...} public final class FilledRectangle extends Rectangle {...}\n\npublic non-sealed class Square extends Shape {...}\n</code></pre>\n<p>I could not see any explanation at <a href=\"https://openjdk.org/jeps/360\" rel=\"nofollow noreferrer\">JEP 360</a></p>\n"},{"tags":["java","smb","smbj","libsmbclient"],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679645423,"creation_date":1679595939,"question_id":75826766,"body_markdown":"I would like to check if a file exists in a particular directory in shared drive using SMBJ library.\r\nFor example this is the file I want to check the existence of - \\\\\\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\r\n\r\nBelow is the code snippet I&#39;m using\r\n\r\n```\r\n      SMBClient smbClient = new SMBClient(SmbConfig.builder().withMultiProtocolNegotiate(true).build());\r\n\t  Connection connection = smbClient.connect(&quot;server1&quot;);\r\n      AuthenticationContext ac = new AuthenticationContext(USER_NAME, PWD.toCharArray(),&quot;DOMAIN&quot;);\r\n      Session session = connection.authenticate(ac);\r\n\r\n      DiskShare share = (DiskShare) session.connectShare(&quot;CF&quot;);\r\n\t  boolean exists = share.fileExists(&quot;Sub1\\\\Sub2\\\\Sub3\\\\test.txt&quot;)\r\n```\r\n\r\neventhough the specified path is correct I get an exception \r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_PATH_NOT_COVERED (0xc0000257): Create failed for \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\r\nat com.hierynomus.smbj.share.Share.receive(Share.java:380)\r\n\tat com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\r\n\tat com.hierynomus.smbj.share.Share.createFile(Share.java:156)\r\n\tat com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\r\n\tat com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105)\r\n\tat com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32)\r\n\tat com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62)\r\n\tat com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105)\r\n\tat com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65)\r\n\tat com.hierynomus.smbj.share.DiskShare.openDirectory(DiskShare.java:151)\r\n\tat com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:258)\r\n\tat com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:231)\r\n```\r\n\r\nI can print available files under Sub1 by doing the following but cannot do the same for path = &quot;Sub1\\\\Sub2&quot;\r\n```\r\n      for (FileIdBothDirectoryInformation f : share.list(&quot;Sub1&quot;)) {\r\n        Logger.log(&quot;File : &quot; + f.getFileName());\r\n      }\r\n```\r\n\r\nIs there something wrong in how the path is formed?","title":"Problem while trying to access files in sub-directories using 0.11.5 SMBJ library","body":"<p>I would like to check if a file exists in a particular directory in shared drive using SMBJ library.\nFor example this is the file I want to check the existence of - \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt</p>\n<p>Below is the code snippet I'm using</p>\n<pre><code>      SMBClient smbClient = new SMBClient(SmbConfig.builder().withMultiProtocolNegotiate(true).build());\n      Connection connection = smbClient.connect(&quot;server1&quot;);\n      AuthenticationContext ac = new AuthenticationContext(USER_NAME, PWD.toCharArray(),&quot;DOMAIN&quot;);\n      Session session = connection.authenticate(ac);\n\n      DiskShare share = (DiskShare) session.connectShare(&quot;CF&quot;);\n      boolean exists = share.fileExists(&quot;Sub1\\\\Sub2\\\\Sub3\\\\test.txt&quot;)\n</code></pre>\n<p>eventhough the specified path is correct I get an exception</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_PATH_NOT_COVERED (0xc0000257): Create failed for \\\\server1\\CF\\Sub1\\Sub2\\Sub3\\test.txt\nat com.hierynomus.smbj.share.Share.receive(Share.java:380)\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359)\n    at com.hierynomus.smbj.share.Share.createFile(Share.java:156)\n    at com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75)\n    at com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55)\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109)\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105)\n    at com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32)\n    at com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62)\n    at com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105)\n    at com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65)\n    at com.hierynomus.smbj.share.DiskShare.openDirectory(DiskShare.java:151)\n    at com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:258)\n    at com.hierynomus.smbj.share.DiskShare.list(DiskShare.java:231)\n</code></pre>\n<p>I can print available files under Sub1 by doing the following but cannot do the same for path = &quot;Sub1\\Sub2&quot;</p>\n<pre><code>      for (FileIdBothDirectoryInformation f : share.list(&quot;Sub1&quot;)) {\n        Logger.log(&quot;File : &quot; + f.getFileName());\n      }\n</code></pre>\n<p>Is there something wrong in how the path is formed?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20433410,"reputation":19841,"user_id":14991864,"display_name":"Abdul Aziz Barkat"},"score":0,"creation_date":1679644975,"post_id":75831229,"comment_id":133761431,"body_markdown":"Does this answer your question? [Converting string to date with timezone](https://stackoverflow.com/questions/4203718/converting-string-to-date-with-timezone)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4203718/converting-string-to-date-with-timezone\">Converting string to date with timezone</a>"},{"owner":{"account_id":27021312,"reputation":1,"user_id":20579265,"display_name":"abhinav Negi"},"score":0,"creation_date":1679926541,"post_id":75831229,"comment_id":133803812,"body_markdown":"no its not the solution, actually the issue is i am storing date in gmt format and while getting it from db, the date is coinciding with dst date and time.","body":"no its not the solution, actually the issue is i am storing date in gmt format and while getting it from db, the date is coinciding with dst date and time."}],"owner":{"account_id":27021312,"reputation":1,"user_id":20579265,"display_name":"abhinav Negi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644975,"creation_date":1679644975,"question_id":75831229,"body_markdown":"So in the following code i am passing these input (03/11/2023 10:23 02:23,-4) in function convertToGMT(String date, String timezone)\r\n\r\nfrom which i am getting output(to be stored in table) 03/12/2023 02:23\r\n\r\nand the output from function convertToGMT(output --&gt;  03/12/2023 02:23) i am passing into convertToClientDate(03/12/2023 02:23,-4) which is returning me output 03/11/2023 21:23\r\n\r\nnow the issue is the final output that i am getting from second function should be the same time which i am providing in first function. but its showing 1 hour less.\r\n\r\n\r\n\r\n        public static String convertToGMT(String date, String timezone) {\r\n  \r\n        if (date == null || date.isEmpty()) {\r\n            return date;\r\n        }\r\n\r\n        try {\r\n            timezone = formatTimeZone(timezone);\r\n             SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MM/dd/20yy HH:mm&quot;);\r\n            TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\r\n            TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n            Date date2 = null;\r\n            String format = getDateFormat();\r\n            if (format.startsWith(&quot;dd&quot;)) {\r\n                date = convertCNDateToDBFormat(date);\r\n            }\r\n            date2 = new Date(date);\r\n\r\n            Calendar cal = Calendar.getInstance(timeZone);\r\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),\r\n            date2.getMinutes(), 0);    \r\n            simpleDateFormat.format(cal.getTime());\r\n            cal.setTimeZone(timeZoneGMT);\r\n            simpleDateFormat.setTimeZone(timeZoneGMT);\r\n            MyLog.v(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Final GMT &quot; + simpleDateFormat.format(cal.getTime()));\r\n            return simpleDateFormat.format(cal.getTime());\r\n            } catch (Exception e) {\r\n            e.getStackTrace();MyLog.e(&quot;&gt;&gt;&gt;&gt; error in convertToGTM &quot; + e.getMessage());\r\n            return &quot;00/00/0000 00:00&quot;;\r\n            }\r\n        }\r\n \r\n       ------------------------------\r\n        public static String convertToClientDate(String date, String timezone) {\r\n        if (date == null || date.isEmpty()) {\r\n            return date;\r\n           }\r\n           try {\r\n            timezone = formatTimeZone(timezone);\r\n            String format = getDateFormat();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(format + &quot; HH:mm&quot;);\r\n            TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\r\n            TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n\r\n            Date date2 = new Date(date);\r\n            String []arr=date.split(&quot; &quot;);\r\n            String dateCheck=arr[0].split(&quot;/&quot;)[1]+arr[1].split(&quot;:&quot;)[0];\r\n\r\n            Calendar cal = Calendar.getInstance(timeZoneGMT);\r\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),          \r\n            date2.getMinutes(), 0);\r\n            if(dateCheck.equals(&quot;1202&quot;)){\r\n                cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), 02, date2.getMinutes(), 0);\r\n            }\r\n            simpleDateFormat.format(cal.getTime());\r\n            cal.setTimeZone(timeZone);\r\n            simpleDateFormat.setTimeZone(timeZone);\r\n\r\n            return simpleDateFormat.format(cal.getTime());\r\n        } catch (Exception e) {\r\n            e.getStackTrace();\r\n            return &quot;00/00/0000 00:00&quot;;\r\n        }\r\n    }\r\n\r\n        can someone help me out with the problem?","title":"Getting wrong time for date before DST","body":"<p>So in the following code i am passing these input (03/11/2023 10:23 02:23,-4) in function convertToGMT(String date, String timezone)</p>\n<p>from which i am getting output(to be stored in table) 03/12/2023 02:23</p>\n<p>and the output from function convertToGMT(output --&gt;  03/12/2023 02:23) i am passing into convertToClientDate(03/12/2023 02:23,-4) which is returning me output 03/11/2023 21:23</p>\n<p>now the issue is the final output that i am getting from second function should be the same time which i am providing in first function. but its showing 1 hour less.</p>\n<pre><code>    public static String convertToGMT(String date, String timezone) {\n\n    if (date == null || date.isEmpty()) {\n        return date;\n    }\n\n    try {\n        timezone = formatTimeZone(timezone);\n         SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;MM/dd/20yy HH:mm&quot;);\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\n        TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\n        Date date2 = null;\n        String format = getDateFormat();\n        if (format.startsWith(&quot;dd&quot;)) {\n            date = convertCNDateToDBFormat(date);\n        }\n        date2 = new Date(date);\n\n        Calendar cal = Calendar.getInstance(timeZone);\n        cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),\n        date2.getMinutes(), 0);    \n        simpleDateFormat.format(cal.getTime());\n        cal.setTimeZone(timeZoneGMT);\n        simpleDateFormat.setTimeZone(timeZoneGMT);\n        MyLog.v(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;Final GMT &quot; + simpleDateFormat.format(cal.getTime()));\n        return simpleDateFormat.format(cal.getTime());\n        } catch (Exception e) {\n        e.getStackTrace();MyLog.e(&quot;&gt;&gt;&gt;&gt; error in convertToGTM &quot; + e.getMessage());\n        return &quot;00/00/0000 00:00&quot;;\n        }\n    }\n\n   ------------------------------\n    public static String convertToClientDate(String date, String timezone) {\n    if (date == null || date.isEmpty()) {\n        return date;\n       }\n       try {\n        timezone = formatTimeZone(timezone);\n        String format = getDateFormat();\n        SimpleDateFormat simpleDateFormat = new SimpleDateFormat(format + &quot; HH:mm&quot;);\n        TimeZone timeZone = TimeZone.getTimeZone(&quot;GMT&quot; + timezone);\n        TimeZone timeZoneGMT = TimeZone.getTimeZone(&quot;UTC&quot;);\n\n        Date date2 = new Date(date);\n        String []arr=date.split(&quot; &quot;);\n        String dateCheck=arr[0].split(&quot;/&quot;)[1]+arr[1].split(&quot;:&quot;)[0];\n\n        Calendar cal = Calendar.getInstance(timeZoneGMT);\n        cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), date2.getHours(),          \n        date2.getMinutes(), 0);\n        if(dateCheck.equals(&quot;1202&quot;)){\n            cal.set(date2.getYear(), date2.getMonth(), date2.getDate(), 02, date2.getMinutes(), 0);\n        }\n        simpleDateFormat.format(cal.getTime());\n        cal.setTimeZone(timeZone);\n        simpleDateFormat.setTimeZone(timeZone);\n\n        return simpleDateFormat.format(cal.getTime());\n    } catch (Exception e) {\n        e.getStackTrace();\n        return &quot;00/00/0000 00:00&quot;;\n    }\n}\n\n    can someone help me out with the problem?\n</code></pre>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679647121,"post_id":75831037,"comment_id":133761910,"body_markdown":"It is unclear what you&#39;re trying to achieve here, and why not just declaring static fields of type `org.apache.logging.log4j.Logger` in classes where you want to log is sufficient for your needs. That is the normal pattern. In addition, declaring `logger` to be static here is **wrong**, because the last `MyLogger` constructor to have been called &quot;wins&quot;, which goes against wanting to create loggers per class or per name.","body":"It is unclear what you&#39;re trying to achieve here, and why not just declaring static fields of type <code>org.apache.logging.log4j.Logger</code> in classes where you want to log is sufficient for your needs. That is the normal pattern. In addition, declaring <code>logger</code> to be static here is <b>wrong</b>, because the last <code>MyLogger</code> constructor to have been called &quot;wins&quot;, which goes against wanting to create loggers per class or per name."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1679686750,"post_id":75831037,"comment_id":133771808,"body_markdown":"Custom logging APIs or wrappers cause a lot of problem with almost no advantages, use Log4j2 API directly. Cf. [this question](https://stackoverflow.com/q/75256959/11748454).","body":"Custom logging APIs or wrappers cause a lot of problem with almost no advantages, use Log4j2 API directly. Cf. <a href=\"https://stackoverflow.com/q/75256959/11748454\">this question</a>."}],"owner":{"account_id":27695027,"reputation":1,"user_id":21140936,"display_name":"Spring Boot Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644834,"creation_date":1679643546,"question_id":75831037,"body_markdown":"I have following class but if we are creating objects multiple times then what will be use of static\r\n\r\n    class MyLogger {\r\n    \r\n    \tstatic Logger logger;\r\n    \r\n    \tpublic MyLogger(Class cls) {\r\n    \t\tlogger = Logger.getLogger(cls.getName());\r\n    \t}\r\n    \r\n    \tpublic MyLogger(String name) {\r\n    \t\tlogger = Logger.getLogger(name);\r\n    \t}\r\n    }\r\n\r\nI want to improve performance of logging and I am using my own caller class for logging.","title":"How to use logger with caller class to get better performance?","body":"<p>I have following class but if we are creating objects multiple times then what will be use of static</p>\n<pre><code>class MyLogger {\n\n    static Logger logger;\n\n    public MyLogger(Class cls) {\n        logger = Logger.getLogger(cls.getName());\n    }\n\n    public MyLogger(String name) {\n        logger = Logger.getLogger(name);\n    }\n}\n</code></pre>\n<p>I want to improve performance of logging and I am using my own caller class for logging.</p>\n"},{"tags":["java","performance","garbage-collection"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679645153,"post_id":75831193,"comment_id":133761473,"body_markdown":"Does this answer your question? [When does System.gc() do something?](https://stackoverflow.com/questions/66540/when-does-system-gc-do-something)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66540/when-does-system-gc-do-something\">When does System.gc() do something?</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1679645336,"post_id":75831193,"comment_id":133761509,"body_markdown":"External article that seems to consider this exact topic: https://www.baeldung.com/java-system-gc","body":"External article that seems to consider this exact topic: <a href=\"https://www.baeldung.com/java-system-gc\" rel=\"nofollow noreferrer\">baeldung.com/java-system-gc</a>"}],"owner":{"account_id":19966598,"reputation":13,"user_id":14633062,"display_name":"apflu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644823,"creation_date":1679644823,"question_id":75831193,"body_markdown":"Under what specific circumstances, calling System.gc() have a great positive effect, and not considered as a useless action?\r\n\r\nThat may imply, if:\r\n- Calling System.gc() solves a frequent bug or crash, and have a clear connection in between\r\n- Calling System.gc() saves development time\r\n- Have significant positive effect on performance or resource saving\r\n- other related worth to mention\r\n\r\nExcluded:\r\n- What could possibly go wrong\r\n- saves 2KB memory\r\n\r\nI&#39;ve searched with some keywords but haven&#39;t find any existing questions. Glad to know if there is any.\r\n\r\nFound lots of posts about how to call gc, and does gc actually do. But none of them related to my question.\r\n","title":"Any Situation requires to manually call System.gc() in java?","body":"<p>Under what specific circumstances, calling System.gc() have a great positive effect, and not considered as a useless action?</p>\n<p>That may imply, if:</p>\n<ul>\n<li>Calling System.gc() solves a frequent bug or crash, and have a clear connection in between</li>\n<li>Calling System.gc() saves development time</li>\n<li>Have significant positive effect on performance or resource saving</li>\n<li>other related worth to mention</li>\n</ul>\n<p>Excluded:</p>\n<ul>\n<li>What could possibly go wrong</li>\n<li>saves 2KB memory</li>\n</ul>\n<p>I've searched with some keywords but haven't find any existing questions. Glad to know if there is any.</p>\n<p>Found lots of posts about how to call gc, and does gc actually do. But none of them related to my question.</p>\n"},{"tags":["java","ssl","database-connection"],"comments":[{"owner":{"account_id":4180514,"reputation":3621,"user_id":3425691,"display_name":"Milos86"},"score":3,"creation_date":1449786363,"post_id":34189756,"comment_id":56170235,"body_markdown":"Thanks for reply, its ok, i just didnt know that i need to put ssl=true or false on end of my String connectionURL.","body":"Thanks for reply, its ok, i just didnt know that i need to put ssl=true or false on end of my String connectionURL."},{"owner":{"account_id":3991347,"reputation":4300,"user_id":3290180,"accept_rate":69,"display_name":"user3290180"},"score":0,"creation_date":1450176281,"post_id":34189756,"comment_id":56315571,"body_markdown":"thanks, so how is it the new connectionURL?","body":"thanks, so how is it the new connectionURL?"},{"owner":{"account_id":324662,"reputation":773,"user_id":645362,"display_name":"Fernando Silveira"},"score":5,"creation_date":1489154992,"post_id":34189756,"comment_id":72560542,"body_markdown":"It&#39;s not an error, it&#39;s a warning.","body":"It&#39;s not an error, it&#39;s a warning."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692142130,"post_id":34189756,"comment_id":135583293,"body_markdown":"The `Class.forName(&quot;com.mysql.jdbc.Driver&quot;)` line hasn&#39;t been needed since 2006.","body":"The <code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;)</code> line hasn&#39;t been needed since 2006."}],"answers":[{"comments":[{"owner":{"account_id":5410912,"reputation":360,"user_id":4307732,"accept_rate":66,"display_name":"DevilInDisguise"},"score":0,"creation_date":1454683595,"post_id":34449182,"comment_id":58168363,"body_markdown":"upvoted. But the URL string should now end with semicolon.","body":"upvoted. But the URL string should now end with semicolon."},{"owner":{"account_id":1832104,"reputation":1424,"user_id":1663296,"accept_rate":50,"display_name":"Amith"},"score":9,"creation_date":1455200243,"post_id":34449182,"comment_id":58390584,"body_markdown":"in tomcat context file \njdbc:mysql://localhost:3306/databaseName?autoReconnect=true;useSSL=false;","body":"in tomcat context file  jdbc:mysql://localhost:3306/databaseName?autoReconnect=true;&zwnj;&#8203;useSSL=false;"},{"owner":{"account_id":2252388,"reputation":731,"user_id":1984357,"accept_rate":75,"display_name":"James Jensen"},"score":0,"creation_date":1460559644,"post_id":34449182,"comment_id":60801732,"body_markdown":"I don&#39;t know about Tomcat, but in reference to the method used in the OP&#39;s code, the semicolon at the end will cause a connection error and must be removed.  Tested using mysql connecter 5.1.38 and JVM v1.7.0_79.","body":"I don&#39;t know about Tomcat, but in reference to the method used in the OP&#39;s code, the semicolon at the end will cause a connection error and must be removed.  Tested using mysql connecter 5.1.38 and JVM v1.7.0_79."},{"owner":{"account_id":46051,"reputation":36790,"user_id":135946,"accept_rate":92,"display_name":"Bostone"},"score":28,"creation_date":1469830861,"post_id":34449182,"comment_id":64717461,"body_markdown":"The confusion with semicolon is possibly due to the fact that in XML configuration you need to have it as ?autoReconnect=true&amp;amp;useSSL=false. Otherwise the parser thinks that you have some weird entity that you have to end with &#39;;&#39;","body":"The confusion with semicolon is possibly due to the fact that in XML configuration you need to have it as ?autoReconnect=true&amp;amp;useSSL=false. Otherwise the parser thinks that you have some weird entity that you have to end with &#39;;&#39;"},{"owner":{"account_id":6011371,"reputation":1250,"user_id":4721737,"accept_rate":78,"display_name":"Saqib Ahmed"},"score":31,"creation_date":1492497854,"post_id":34449182,"comment_id":73985982,"body_markdown":"I had same issue in hibernate but resolved by URL like this:\n\n`jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;amp;useSSL=false`\n\nI used **&amp;amp;** instead of **&amp;**","body":"I had same issue in hibernate but resolved by URL like this:  <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;Peoples?autoReconnect=true&amp;amp;u&zwnj;&#8203;seSSL=false</code>  I used <b>&amp;amp;</b> instead of <b>&amp;</b>"},{"owner":{"account_id":3201004,"reputation":857,"user_id":2703058,"display_name":"C.Vergnaud"},"score":0,"creation_date":1540282605,"post_id":34449182,"comment_id":92796510,"body_markdown":"disabling ssl is not a good idea, disabling the certificate verification will do less harm.","body":"disabling ssl is not a good idea, disabling the certificate verification will do less harm."},{"owner":{"account_id":8689428,"reputation":273,"user_id":6502722,"accept_rate":75,"display_name":"legend"},"score":0,"creation_date":1555938484,"post_id":34449182,"comment_id":98258641,"body_markdown":"how to specify this property for cloud fondry","body":"how to specify this property for cloud fondry"},{"owner":{"account_id":2552681,"reputation":2752,"user_id":2216148,"accept_rate":100,"display_name":"Rodney"},"score":3,"creation_date":1556006995,"post_id":34449182,"comment_id":98281319,"body_markdown":"@Rogerthat there are cases for disabling SSL if the network is secure. For example I have SQL servers running in containers only accessed by clients on the same physical hardware.","body":"@Rogerthat there are cases for disabling SSL if the network is secure. For example I have SQL servers running in containers only accessed by clients on the same physical hardware."},{"owner":{"account_id":443799,"reputation":977,"user_id":835239,"accept_rate":71,"display_name":"zhongxiao37"},"score":0,"creation_date":1619444315,"post_id":34449182,"comment_id":118900441,"body_markdown":"`useSSL` is deprecated, please use `sslModel=DISABLED`. See https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html","body":"<code>useSSL</code> is deprecated, please use <code>sslModel=DISABLED</code>. See <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692142187,"post_id":34449182,"comment_id":135583301,"body_markdown":"Going to plaintext is a highly retrograde step. He should *enable* SSL and ensure the truststores are correct, as recommended in the error message.","body":"Going to plaintext is a highly retrograde step. He should <i>enable</i> SSL and ensure the truststores are correct, as recommended in the error message."}],"tags":[],"owner":{"account_id":5494272,"reputation":6643,"user_id":4365949,"display_name":"Priyank Gosalia"},"comment_count":10,"down_vote_count":4,"up_vote_count":647,"is_accepted":false,"score":643,"last_activity_date":1463467656,"creation_date":1450943309,"answer_id":34449182,"question_id":34189756,"body_markdown":"Your connection URL should look like the below,\r\n\r\n    jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n\r\nThis will disable SSL and also suppress the SSL errors.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Your connection URL should look like the below,</p>\n\n<pre><code>jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n\n<p>This will disable SSL and also suppress the SSL errors.</p>\n"},{"comments":[{"owner":{"account_id":1984827,"reputation":709,"user_id":2390967,"display_name":"Fusca Software"},"score":0,"creation_date":1501855391,"post_id":39300852,"comment_id":77978601,"body_markdown":"Sounds nice, but how I get this into my application.yml of my grails-app?","body":"Sounds nice, but how I get this into my application.yml of my grails-app?"}],"tags":[],"owner":{"account_id":5847287,"reputation":555,"user_id":4607057,"display_name":"Jon"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1679644555,"creation_date":1472851187,"answer_id":39300852,"question_id":34189756,"body_markdown":"An alternative method would be:\r\n\r\n```lang-java\r\n    Properties properties = new Properties();\r\n    properties.setProperty(&quot;user&quot;, &quot;root&quot;);\r\n    properties.setProperty(&quot;password&quot;, &quot;milos23&quot;);\r\n    properties.setProperty(&quot;useSSL&quot;, &quot;false&quot;);\r\n\r\n    try (Connection conn = DriverManager.getConnection(connectionUrl, properties)) {\r\n    ...\r\n    } catch (SQLException e) {\r\n    ...\r\n    }\r\n```","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>An alternative method would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Properties properties = new Properties();\n    properties.setProperty(&quot;user&quot;, &quot;root&quot;);\n    properties.setProperty(&quot;password&quot;, &quot;milos23&quot;);\n    properties.setProperty(&quot;useSSL&quot;, &quot;false&quot;);\n\n    try (Connection conn = DriverManager.getConnection(connectionUrl, properties)) {\n    ...\n    } catch (SQLException e) {\n    ...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8851784,"reputation":93,"user_id":6610790,"display_name":"Ahmad.ak"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473121236,"creation_date":1473111492,"answer_id":39337977,"question_id":34189756,"body_markdown":"the new versions of mysql-connector establish SSL connection by default ...to solve it:\r\n\r\nDownload the older version of mysql-connector such as [mysql-connector-java-5.0.8.zip][1] \r\n\r\n\r\n.\r\n.\r\nor\r\n.\r\n.\r\nDownload [OpenSSL for Windows][2] and follow the instructions how to set it\r\n\r\n\r\n  [1]: https://dev.mysql.com/downloads/connector/j/5.0.html\r\n  [2]: http://slproweb.com/products/Win32OpenSSL.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>the new versions of mysql-connector establish SSL connection by default ...to solve it:</p>\n\n<p>Download the older version of mysql-connector such as <a href=\"https://dev.mysql.com/downloads/connector/j/5.0.html\" rel=\"nofollow\">mysql-connector-java-5.0.8.zip</a> </p>\n\n<p>.\n.\nor\n.\n.\nDownload <a href=\"http://slproweb.com/products/Win32OpenSSL.html\" rel=\"nofollow\">OpenSSL for Windows</a> and follow the instructions how to set it</p>\n"},{"comments":[{"owner":{"account_id":1412218,"reputation":9144,"user_id":1338588,"accept_rate":64,"display_name":"Kulasangar"},"score":0,"creation_date":1497932341,"post_id":39370949,"comment_id":76272863,"body_markdown":"But why doesn&#39;t it take with the **and** operator? I had something like `jdbc:mysql://localhost/metastore?useSSL=false&amp;createDatabaseIfNotExist=true`. Without the and it works fine.","body":"But why doesn&#39;t it take with the <b>and</b> operator? I had something like <code>jdbc:mysql:&#47;&#47;localhost&#47;metastore?useSSL=false&amp;createDatabase&zwnj;&#8203;IfNotExist=true</code>. Without the and it works fine."},{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":1,"creation_date":1513415317,"post_id":39370949,"comment_id":82652309,"body_markdown":"for me the posted value worked smoothly, so I will flag this as a answer in end dec month of 2017 and working with hive-2.1.1 hive-site.xml.","body":"for me the posted value worked smoothly, so I will flag this as a answer in end dec month of 2017 and working with hive-2.1.1 hive-site.xml."},{"owner":{"account_id":18007271,"reputation":639,"user_id":13087749,"display_name":"Amit Kumar"},"score":1,"creation_date":1624021188,"post_id":39370949,"comment_id":120250605,"body_markdown":"I added/replaced this property in my hive-site.xml and it worked for me.","body":"I added/replaced this property in my hive-site.xml and it worked for me."}],"tags":[],"owner":{"account_id":5913142,"reputation":18660,"user_id":4652706,"accept_rate":100,"display_name":"KARTHIKEYAN.A"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1509705905,"creation_date":1473254132,"answer_id":39370949,"question_id":34189756,"body_markdown":"Use this to solve the problem in hive while making connection with MySQL\r\n\r\n    &lt;property&gt;\r\n       &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\r\n       &lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&amp;amp;autoReconnect=true&amp;amp;useSSL=false&lt;/value&gt;\r\n       &lt;description&gt;metadata is stored in a MySQL server&lt;/description&gt;\r\n    &lt;/property&gt;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Use this to solve the problem in hive while making connection with MySQL</p>\n\n<pre><code>&lt;property&gt;\n   &lt;name&gt;javax.jdo.option.ConnectionURL&lt;/name&gt;\n   &lt;value&gt;jdbc:mysql://localhost/metastore?createDatabaseIfNotExist=true&amp;amp;autoReconnect=true&amp;amp;useSSL=false&lt;/value&gt;\n   &lt;description&gt;metadata is stored in a MySQL server&lt;/description&gt;\n&lt;/property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":218926,"reputation":1225,"user_id":475505,"accept_rate":67,"display_name":"Swaraj"},"score":2,"creation_date":1481334321,"post_id":40593166,"comment_id":69349585,"body_markdown":"This is what I needed to do to connect to a MySQL database over SSL via IntelliJ / DataGrip","body":"This is what I needed to do to connect to a MySQL database over SSL via IntelliJ / DataGrip"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1692142206,"post_id":40593166,"comment_id":135583303,"body_markdown":"That is exactly what he should *not* do. Read the error message.","body":"That is exactly what he should <i>not</i> do. Read the error message."}],"tags":[],"owner":{"account_id":1373434,"reputation":1729,"user_id":1307918,"display_name":"Peter DeGregorio"},"comment_count":2,"down_vote_count":2,"up_vote_count":149,"is_accepted":false,"score":147,"last_activity_date":1479140057,"creation_date":1479140057,"answer_id":40593166,"question_id":34189756,"body_markdown":"How about using SSL but turning off server verification (such as when in development mode on your own computer):\r\n\r\n    jdbc:mysql://localhost:3306/Peoples?verifyServerCertificate=false&amp;useSSL=true","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>How about using SSL but turning off server verification (such as when in development mode on your own computer):</p>\n\n<pre><code>jdbc:mysql://localhost:3306/Peoples?verifyServerCertificate=false&amp;useSSL=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":525142,"reputation":91,"user_id":1274477,"display_name":"Tomal"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1503766708,"creation_date":1485094970,"answer_id":41792032,"question_id":34189756,"body_markdown":"This was OK for me:\r\n\r\n    this.conn = (Connection)DriverManager\r\n        .getConnection(url + dbName + &quot;?useSSL=false&quot;, userName, password);","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>This was OK for me:</p>\n\n<pre><code>this.conn = (Connection)DriverManager\n    .getConnection(url + dbName + \"?useSSL=false\", userName, password);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1492577857,"creation_date":1490792912,"answer_id":43094468,"question_id":34189756,"body_markdown":"you need to user your mysql path like this: \r\n\r\n    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/world?useSSL=true&quot;/&gt;\r\n\r\n\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>you need to user your mysql path like this: </p>\n\n<pre><code>&lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/world?useSSL=true\"/&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2042955,"reputation":1341,"user_id":1823710,"accept_rate":59,"display_name":"qualebs"},"score":0,"creation_date":1600486336,"post_id":48437821,"comment_id":113110823,"body_markdown":"@caot for the comment about the ampersand and how to write it in the connection string, thank you","body":"@caot for the comment about the ampersand and how to write it in the connection string, thank you"}],"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":1,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1586340386,"creation_date":1516865894,"answer_id":48437821,"question_id":34189756,"body_markdown":"Mention the **`url`** like:\r\n\r\n    jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;useSSL=false\r\nBut in xml configuration when you mention **`&amp;`** sign, the IDE shows below error:\r\n&gt;The reference to entity &quot;useSSL&quot; must end with the &#39;;&#39; delimiter.\r\n\r\nAnd then you have to explicitly use the **`&amp;amp;`** instead of **`&amp;`** to be determined as **`&amp;`** by `xml` thereafter in `xml` you have to give the url in xml configuration like this:\r\n\r\n    &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;amp;useSSL=false&lt;/property&gt;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Mention the <strong><code>url</code></strong> like:</p>\n\n<pre><code>jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;useSSL=false\n</code></pre>\n\n<p>But in xml configuration when you mention <strong><code>&amp;</code></strong> sign, the IDE shows below error:</p>\n\n<blockquote>\n  <p>The reference to entity \"useSSL\" must end with the ';' delimiter.</p>\n</blockquote>\n\n<p>And then you have to explicitly use the <strong><code>&amp;amp;</code></strong> instead of <strong><code>&amp;</code></strong> to be determined as <strong><code>&amp;</code></strong> by <code>xml</code> thereafter in <code>xml</code> you have to give the url in xml configuration like this:</p>\n\n<pre><code>&lt;property name=\"connection.url\"&gt;jdbc:mysql://hostname:3306/hibernatedb?autoReconnect=true&amp;amp;useSSL=false&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10285565,"reputation":2232,"user_id":7588987,"display_name":"KHACHORNCHIT"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1525359995,"creation_date":1520239218,"answer_id":49106379,"question_id":34189756,"body_markdown":"I found this warning too then I fixed it by using SSL=false suffix to the connection string like this example code.\r\n\r\n**Example:**\r\n\r\n    connectionString = &quot;jdbc:mysql://{server-name}:3306/%s?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false&quot;","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>I found this warning too then I fixed it by using SSL=false suffix to the connection string like this example code.</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>connectionString = \"jdbc:mysql://{server-name}:3306/%s?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539760737,"creation_date":1539759294,"answer_id":52848925,"question_id":34189756,"body_markdown":"I use this property for hibernate in config xml\r\n\r\n \r\n\r\n    &lt;property name=&quot;hibernate.connection.url&quot;&gt;\r\n    jdbc:mysql://localhost:3306/bookshop?serverTimezone=UTC&amp;amp;useSSL=false\r\n    &lt;/property&gt;\r\n\r\nwithout - *serverTimezone=UTC*  - it doesn&#39;t work\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>I use this property for hibernate in config xml</p>\n\n<pre><code>&lt;property name=\"hibernate.connection.url\"&gt;\njdbc:mysql://localhost:3306/bookshop?serverTimezone=UTC&amp;amp;useSSL=false\n&lt;/property&gt;\n</code></pre>\n\n<p>without - <em>serverTimezone=UTC</em>  - it doesn't work</p>\n"},{"tags":[],"owner":{"account_id":8088812,"reputation":4423,"user_id":6095444,"display_name":"Pravin Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558847612,"creation_date":1558847612,"answer_id":56310830,"question_id":34189756,"body_markdown":"Solution\nTo fix it, append a useSSL=false at the end of the MySQL connection string : \n\nex.\n\napplication.properties\n# mysql datasource\n\n    spring.datasource.url=jdbc:mysql://localhost/dbname?useSSL=false\n    spring.datasource.username=root\n    spring.datasource.password=password\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\n\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Solution\nTo fix it, append a useSSL=false at the end of the MySQL connection string :</p>\n<p>ex.</p>\n<p>application.properties</p>\n<h1>mysql datasource</h1>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost/dbname?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=password\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10516871,"reputation":149,"user_id":7750711,"display_name":"Deepali Maniyar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568791674,"creation_date":1568791674,"answer_id":57987269,"question_id":34189756,"body_markdown":"Since I am currently in development mode I set useSSL to No not in tomcat but in mysql server configurations. Went to Manage Access Settings\\Manage Server Connections from workbench -&gt; Selected my connection. Inside connection tab went to SSL tab and disabled the settings. Worked for me.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Since I am currently in development mode I set useSSL to No not in tomcat but in mysql server configurations. Went to Manage Access Settings\\Manage Server Connections from workbench -> Selected my connection. Inside connection tab went to SSL tab and disabled the settings. Worked for me.</p>\n"},{"comments":[{"owner":{"account_id":201042,"reputation":518,"user_id":447250,"display_name":"iakko"},"score":3,"creation_date":1586451810,"post_id":58728615,"comment_id":108139614,"body_markdown":"Not only this is the right answer, but it&#39;s also the most detailed and secure. If you get a warning on SSL, you should never skip it (except sandbox and local installations). You pointed me to the right solution for a Kubernetes Keycloack 9.0.2 cluster connecting to Azure MySQL. Thanks a lot!","body":"Not only this is the right answer, but it&#39;s also the most detailed and secure. If you get a warning on SSL, you should never skip it (except sandbox and local installations). You pointed me to the right solution for a Kubernetes Keycloack 9.0.2 cluster connecting to Azure MySQL. Thanks a lot!"}],"tags":[],"owner":{"account_id":5034466,"reputation":1699,"user_id":4043723,"display_name":"Buffoonism"},"comment_count":1,"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1573038095,"creation_date":1573038095,"answer_id":58728615,"question_id":34189756,"body_markdown":"The defaults for initiating a connection to a MySQL server were changed in the recent past, and (from a quick look through the most popular questions and answers on stack overflow) the new values are causing a lot of confusion. What is worse is that the standard advice seems to be to disable SSL altogether, which is a bit of a disaster in the making.\r\n\r\nNow, if your connection is genuinely not exposed to the network (localhost only) or you are working in a non-production environment with no real data, then sure: there&#39;s no harm in disabling SSL by including the option `useSSL=false`.\r\n\r\nFor everyone else, the following set of options are required to get SSL working with certificate and host verification:\r\n\r\n - useSSL=true \r\n - sslMode=VERIFY_IDENTITY\r\n - trustCertificateKeyStoreUrl=file:path_to_keystore\r\n - trustCertificateKeyStorePassword=password\r\n\r\nAs an added bonus, seeing as you&#39;re already playing with the options, it is simple to disable the weak SSL protocols too:\r\n\r\n - enabledTLSProtocols=TLSv1.2\r\n\r\n# Example\r\nSo as a working example you&#39;ll need to follow the following broad steps:\r\n\r\nFirst, make sure you have a valid certificate generated for the MySQL server host, and that the CA certificate is installed onto the client host (if you are using self-signed, then you&#39;ll likely need to do this manually, but for the popular public CAs it&#39;ll already be there).\r\n\r\nNext, make sure that the java keystore contains all the CA certificates. On Debian/Ubuntu this is achieved by running:\r\n\r\n    update-ca-certificates -f\r\n    chmod 644 /etc/ssl/certs/java/cacerts\r\n\r\nThen finally, update the connection string to include all the required options, which on Debian/Ubuntu would be something a bit like (adapt as required):\r\n\r\n    jdbc:mysql://{mysql_server}/confluence?useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file%3A%2Fetc%2Fssl%2Fcerts%2Fjava%2Fcacerts&amp;trustCertificateKeyStorePassword=changeit&amp;enabledTLSProtocols=TLSv1.2&amp;useUnicode=true&amp;characterEncoding=utf8\r\n\r\nReference: [https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html][1]\r\n\r\n\r\n  [1]: https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>The defaults for initiating a connection to a MySQL server were changed in the recent past, and (from a quick look through the most popular questions and answers on stack overflow) the new values are causing a lot of confusion. What is worse is that the standard advice seems to be to disable SSL altogether, which is a bit of a disaster in the making.</p>\n\n<p>Now, if your connection is genuinely not exposed to the network (localhost only) or you are working in a non-production environment with no real data, then sure: there's no harm in disabling SSL by including the option <code>useSSL=false</code>.</p>\n\n<p>For everyone else, the following set of options are required to get SSL working with certificate and host verification:</p>\n\n<ul>\n<li>useSSL=true </li>\n<li>sslMode=VERIFY_IDENTITY</li>\n<li>trustCertificateKeyStoreUrl=file:path_to_keystore</li>\n<li>trustCertificateKeyStorePassword=password</li>\n</ul>\n\n<p>As an added bonus, seeing as you're already playing with the options, it is simple to disable the weak SSL protocols too:</p>\n\n<ul>\n<li>enabledTLSProtocols=TLSv1.2</li>\n</ul>\n\n<h1>Example</h1>\n\n<p>So as a working example you'll need to follow the following broad steps:</p>\n\n<p>First, make sure you have a valid certificate generated for the MySQL server host, and that the CA certificate is installed onto the client host (if you are using self-signed, then you'll likely need to do this manually, but for the popular public CAs it'll already be there).</p>\n\n<p>Next, make sure that the java keystore contains all the CA certificates. On Debian/Ubuntu this is achieved by running:</p>\n\n<pre><code>update-ca-certificates -f\nchmod 644 /etc/ssl/certs/java/cacerts\n</code></pre>\n\n<p>Then finally, update the connection string to include all the required options, which on Debian/Ubuntu would be something a bit like (adapt as required):</p>\n\n<pre><code>jdbc:mysql://{mysql_server}/confluence?useSSL=true&amp;sslMode=VERIFY_IDENTITY&amp;trustCertificateKeyStoreUrl=file%3A%2Fetc%2Fssl%2Fcerts%2Fjava%2Fcacerts&amp;trustCertificateKeyStorePassword=changeit&amp;enabledTLSProtocols=TLSv1.2&amp;useUnicode=true&amp;characterEncoding=utf8\n</code></pre>\n\n<p>Reference: <a href=\"https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html\" rel=\"noreferrer\">https://beansandanicechianti.blogspot.com/2019/11/mysql-ssl-configuration.html</a></p>\n"},{"comments":[{"owner":{"account_id":3950871,"reputation":2975,"user_id":3261332,"accept_rate":59,"display_name":"H A&#223;d&#248;&#181;"},"score":0,"creation_date":1646563036,"post_id":66214230,"comment_id":126150071,"body_markdown":"Is there a way to do this in the server configuration file?","body":"Is there a way to do this in the server configuration file?"}],"tags":[],"owner":{"account_id":9361010,"reputation":1008,"user_id":6947332,"display_name":"naib khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613417266,"creation_date":1613417266,"answer_id":66214230,"question_id":34189756,"body_markdown":"To disable the warning while connecting to a database in Java, use the below concept −\r\n\r\n    autoReconnect=true&amp;useSSL=false\r\n\r\nJust need to change connectionURL like :\r\n\r\n    String connectionURL = jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\r\n\r\nThis will disable SSL and also suppress the SSL errors.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>To disable the warning while connecting to a database in Java, use the below concept −</p>\n<pre><code>autoReconnect=true&amp;useSSL=false\n</code></pre>\n<p>Just need to change connectionURL like :</p>\n<pre><code>String connectionURL = jdbc:mysql://localhost:3306/Peoples?autoReconnect=true&amp;useSSL=false\n</code></pre>\n<p>This will disable SSL and also suppress the SSL errors.</p>\n"},{"comments":[{"owner":{"account_id":10480368,"reputation":121,"user_id":7725536,"display_name":"Tinel Barb"},"score":0,"creation_date":1679044399,"post_id":67267459,"comment_id":133653814,"body_markdown":"It&#39;s not &quot;sslModel&quot;, but &quot;sslMode&quot;.However, the change occured with MySQL version 8.0.13. Extra-info: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"It&#39;s not &quot;sslModel&quot;, but &quot;sslMode&quot;.However, the change occured with MySQL version 8.0.13. Extra-info: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"tags":[],"owner":{"account_id":443799,"reputation":977,"user_id":835239,"accept_rate":71,"display_name":"zhongxiao37"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679150608,"creation_date":1619443265,"answer_id":67267459,"question_id":34189756,"body_markdown":"Per https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html, `sslMode` property replaced the deprecated legacy properties `useSSL`, `requireSSL`, and `verifyServerCertificate`. So, you could use the connection string `sslMode=DISABLED`.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Per <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html</a>, <code>sslMode</code> property replaced the deprecated legacy properties <code>useSSL</code>, <code>requireSSL</code>, and <code>verifyServerCertificate</code>. So, you could use the connection string <code>sslMode=DISABLED</code>.</p>\n"},{"tags":[],"owner":{"account_id":6269858,"reputation":19,"user_id":4874410,"display_name":"SHUBHAM RUHELA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623397429,"creation_date":1623397429,"answer_id":67933098,"question_id":34189756,"body_markdown":"Please update your mysql connector. That will help.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Please update your mysql connector. That will help.</p>\n"},{"tags":[],"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636538794,"creation_date":1636538794,"answer_id":69911271,"question_id":34189756,"body_markdown":"If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn&#39;t be disabling SSL by including the option useSSL=false.\r\n\r\nTry to update the JDBC connection string to include the latest protocol version as foloowing: jdbc:mysql://&lt;hostName&gt;:&lt;portNumber&gt;/&lt;schemaName&gt;?enabledTLSProtocols=TLSv1.2\r\n\r\nWe have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn't be disabling SSL by including the option useSSL=false.</p>\n<p>Try to update the JDBC connection string to include the latest protocol version as foloowing: jdbc:mysql://:/?enabledTLSProtocols=TLSv1.2</p>\n<p>We have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.</p>\n"},{"tags":[],"owner":{"account_id":10811702,"reputation":81,"user_id":7952107,"display_name":"Jackson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642079209,"creation_date":1642079209,"answer_id":70697140,"question_id":34189756,"body_markdown":"Simply use Platform Independent zip or tar\r\nhttps://dev.mysql.com/downloads/connector/j/?os=26","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>Simply use Platform Independent zip or tar\n<a href=\"https://dev.mysql.com/downloads/connector/j/?os=26\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/?os=26</a></p>\n"},{"tags":[],"owner":{"account_id":435806,"reputation":111,"user_id":8363642,"display_name":"Pyroseza"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645615755,"creation_date":1645615755,"answer_id":71236091,"question_id":34189756,"body_markdown":"As of 8.0.13 the `useSSL` parameter is now deprecated and you should use `sslMode`:\r\n\r\n[MySQL :: MySQL Connector/J 8.0 Developer Guide :: 6.3.5 Security][1]\r\n\r\n&gt; sslMode\r\n&gt; \r\n&gt; By default, network connections are SSL encrypted; this property\r\n&gt; permits secure connections to be turned off, or a different levels of\r\n&gt; security to be chosen. The following values are allowed: &quot;DISABLED&quot; -\r\n&gt; Establish unencrypted connections; &quot;PREFERRED&quot; - (default) Establish\r\n&gt; encrypted connections if the server enabled them, otherwise fall back\r\n&gt; to unencrypted connections; &quot;REQUIRED&quot; - Establish secure connections\r\n&gt; if the server enabled them, fail otherwise; &quot;VERIFY_CA&quot; - Like\r\n&gt; &quot;REQUIRED&quot; but additionally verify the server TLS certificate against\r\n&gt; the configured Certificate Authority (CA) certificates;\r\n&gt; &quot;VERIFY_IDENTITY&quot; - Like &quot;VERIFY_CA&quot;, but additionally verify that the\r\n&gt; server certificate matches the host to which the connection is\r\n&gt; attempted.\r\n&gt; \r\n&gt; This property replaced the deprecated legacy properties &quot;useSSL&quot;,\r\n&gt; &quot;requireSSL&quot;, and &quot;verifyServerCertificate&quot;, which are still accepted\r\n&gt; but translated into a value for &quot;sslMode&quot; if &quot;sslMode&quot; is not\r\n&gt; explicitly set: &quot;useSSL=false&quot; is translated to &quot;sslMode=DISABLED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;,\r\n&gt; &quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=PREFERRED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;,\r\n&gt; &quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=REQUIRED&quot;;\r\n&gt; \r\n&gt; Unknown macro: {&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;} is\r\n&gt; translated to &quot;sslMode=VERIFY_CA&quot;. There is no equivalent legacy\r\n&gt; settings for &quot;sslMode=VERIFY_IDENTITY&quot;. Note that, for ALL server\r\n&gt; versions, the default setting of &quot;sslMode&quot; is &quot;PREFERRED&quot;, and it is\r\n&gt; equivalent to the legacy settings of &quot;useSSL=true&quot;,\r\n&gt; &quot;requireSSL=false&quot;, and &quot;verifyServerCertificate=false&quot;, which are\r\n&gt; different from their default settings for Connector/J 8.0.12 and\r\n&gt; earlier in some situations. Applications that continue to use the\r\n&gt; legacy properties and rely on their old default settings should be\r\n&gt; reviewed.\r\n&gt; \r\n&gt; The legacy properties are ignored if &quot;sslMode&quot; is set explicitly. If\r\n&gt; none of &quot;sslMode&quot; or &quot;useSSL&quot; is set explicitly, the default setting\r\n&gt; of &quot;sslMode=PREFERRED&quot; applies.\r\n&gt; \r\n&gt; Default Value\tPREFERRED Since Version\t8.0.13\r\n\r\n\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>As of 8.0.13 the <code>useSSL</code> parameter is now deprecated and you should use <code>sslMode</code>:</p>\n<p><a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html\" rel=\"nofollow noreferrer\">MySQL :: MySQL Connector/J 8.0 Developer Guide :: 6.3.5 Security</a></p>\n<blockquote>\n<p>sslMode</p>\n<p>By default, network connections are SSL encrypted; this property\npermits secure connections to be turned off, or a different levels of\nsecurity to be chosen. The following values are allowed: &quot;DISABLED&quot; -\nEstablish unencrypted connections; &quot;PREFERRED&quot; - (default) Establish\nencrypted connections if the server enabled them, otherwise fall back\nto unencrypted connections; &quot;REQUIRED&quot; - Establish secure connections\nif the server enabled them, fail otherwise; &quot;VERIFY_CA&quot; - Like\n&quot;REQUIRED&quot; but additionally verify the server TLS certificate against\nthe configured Certificate Authority (CA) certificates;\n&quot;VERIFY_IDENTITY&quot; - Like &quot;VERIFY_CA&quot;, but additionally verify that the\nserver certificate matches the host to which the connection is\nattempted.</p>\n<p>This property replaced the deprecated legacy properties &quot;useSSL&quot;,\n&quot;requireSSL&quot;, and &quot;verifyServerCertificate&quot;, which are still accepted\nbut translated into a value for &quot;sslMode&quot; if &quot;sslMode&quot; is not\nexplicitly set: &quot;useSSL=false&quot; is translated to &quot;sslMode=DISABLED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;,\n&quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=PREFERRED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;,\n&quot;verifyServerCertificate=false&quot;} is translated to &quot;sslMode=REQUIRED&quot;;</p>\n<p>Unknown macro: {&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;} is\ntranslated to &quot;sslMode=VERIFY_CA&quot;. There is no equivalent legacy\nsettings for &quot;sslMode=VERIFY_IDENTITY&quot;. Note that, for ALL server\nversions, the default setting of &quot;sslMode&quot; is &quot;PREFERRED&quot;, and it is\nequivalent to the legacy settings of &quot;useSSL=true&quot;,\n&quot;requireSSL=false&quot;, and &quot;verifyServerCertificate=false&quot;, which are\ndifferent from their default settings for Connector/J 8.0.12 and\nearlier in some situations. Applications that continue to use the\nlegacy properties and rely on their old default settings should be\nreviewed.</p>\n<p>The legacy properties are ignored if &quot;sslMode&quot; is set explicitly. If\nnone of &quot;sslMode&quot; or &quot;useSSL&quot; is set explicitly, the default setting\nof &quot;sslMode=PREFERRED&quot; applies.</p>\n<p>Default Value PREFERRED Since Version 8.0.13</p>\n</blockquote>\n"}],"owner":{"account_id":4180514,"reputation":3621,"user_id":3425691,"display_name":"Milos86"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614172,"favorite_count":0,"down_vote_count":1,"up_vote_count":362,"answer_count":19,"score":361,"last_activity_date":1679644555,"creation_date":1449698191,"question_id":34189756,"body_markdown":"With the two classes below, I&#39;ve tried connect to a MySQL database. However, I always get this error:\r\n\r\n&lt;blockquote&gt;\r\nWed Dec 09 22:46:52 CET 2015 WARN: Establishing SSL connection without server&#39;s identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn&#39;t set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to &#39;false&#39;. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\r\n&lt;/blockquote&gt;\r\n\r\n\r\nThis is the test class with the `main` method:\r\n\r\n    public class TestDatabase {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tDatabase db = new Database();\r\n    \t\ttry {\r\n    \t\t\tdb.connect();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tdb.close();\r\n    \t}\r\n    }\r\n\r\nThis is the `Database` class:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.SQLException;\r\n    \r\n    public class Database {\r\n    \t\r\n    \tprivate Connection con;\r\n    \t\r\n    \tpublic void connect() throws Exception{\r\n    \t\t\r\n    \t\tif(con != null) return;\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \t\t} catch (ClassNotFoundException e) {\r\n    \t\t\tthrow new Exception(&quot;No database&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tString connectionURL = &quot;jdbc:mysql://localhost:3306/Peoples&quot;;\r\n    \t\t\r\n    \t\tcon = DriverManager.getConnection(connectionURL, &quot;root&quot;, &quot;milos23&quot;);\t\t\r\n    \t}\r\n    \t\r\n    \tpublic void close(){\r\n    \t\tif(con != null){\r\n    \t\t\ttry {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\t\r\n\r\n","title":"Warning about SSL connection when connecting to MySQL database","body":"<p>With the two classes below, I've tried connect to a MySQL database. However, I always get this error:</p>\n\n<blockquote>\nWed Dec 09 22:46:52 CET 2015 WARN: Establishing SSL connection without server's identity verification is not recommended. According to MySQL 5.5.45+, 5.6.26+ and 5.7.6+ requirements SSL connection must be established by default if explicit option isn't set. For compliance with existing applications not using SSL the verifyServerCertificate property is set to 'false'. You need either to explicitly disable SSL by setting useSSL=false, or set useSSL=true and provide truststore for server certificate verification.\n</blockquote>\n\n<p>This is the test class with the <code>main</code> method:</p>\n\n<pre><code>public class TestDatabase {\n\n    public static void main(String[] args) {\n        Database db = new Database();\n        try {\n            db.connect();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        db.close();\n    }\n}\n</code></pre>\n\n<p>This is the <code>Database</code> class:</p>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.SQLException;\n\npublic class Database {\n\n    private Connection con;\n\n    public void connect() throws Exception{\n\n        if(con != null) return;\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n        } catch (ClassNotFoundException e) {\n            throw new Exception(\"No database\");\n        }\n\n        String connectionURL = \"jdbc:mysql://localhost:3306/Peoples\";\n\n        con = DriverManager.getConnection(connectionURL, \"root\", \"milos23\");        \n    }\n\n    public void close(){\n        if(con != null){\n            try {\n                con.close();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28091251,"reputation":1,"user_id":21460733,"display_name":"white fox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679644158,"creation_date":1679644158,"question_id":75831109,"body_markdown":"i wanna write customize annotation\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @RequestMapping(\r\n    method = {RequestMethod.POST}\r\n    )\r\n    public @interface PostRequest {\r\n    \r\n        String[] value() default {};\r\n        \r\n        String[] path() default {};\r\n    \r\n    }\r\n\r\nif i dont use @AliasFor annotation for value() and path() ,the console show error code when i use postman to request my method like :\r\n&quot;o.s.web.servlet.PageNotFound : No mapping for POST /camera/play/getId&quot;.\r\n\r\nif i use @AliasFor, i can send a successful request.\r\nlike this :\r\n\r\n    @Target({ElementType.METHOD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    @RequestMapping(\r\n            method = {RequestMethod.POST}\r\n    )\r\n    public @interface PostRequest {\r\n    \r\n        @AliasFor(&quot;path&quot;)\r\n        String[] value() default {};\r\n    \r\n        @AliasFor(&quot;value&quot;)\r\n        String[] path() default {};\r\n    }\r\n\r\nwhat reason is this?","title":"o.s.web.servlet.PageNotFound : No mapping for POST","body":"<p>i wanna write customize annotation</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\nmethod = {RequestMethod.POST}\n)\npublic @interface PostRequest {\n\n    String[] value() default {};\n    \n    String[] path() default {};\n\n}\n</code></pre>\n<p>if i dont use @AliasFor annotation for value() and path() ,the console show error code when i use postman to request my method like :\n&quot;o.s.web.servlet.PageNotFound : No mapping for POST /camera/play/getId&quot;.</p>\n<p>if i use @AliasFor, i can send a successful request.\nlike this :</p>\n<pre><code>@Target({ElementType.METHOD})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@RequestMapping(\n        method = {RequestMethod.POST}\n)\npublic @interface PostRequest {\n\n    @AliasFor(&quot;path&quot;)\n    String[] value() default {};\n\n    @AliasFor(&quot;value&quot;)\n    String[] path() default {};\n}\n</code></pre>\n<p>what reason is this?</p>\n"},{"tags":["java","reflection","annotations","java-bytecode-asm","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":5255036,"reputation":1267,"user_id":4198170,"display_name":"Tobse"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589492996,"creation_date":1589491889,"answer_id":61807759,"question_id":61807758,"body_markdown":"There are many samples which show the setup with asm and reading annotaions. But they don&#39;t showed it, for method annotations and how to also read the annotation value.\r\n\r\nMinimal example how to do it:\r\n``` java\r\nimport org.objectweb.asm.*;\r\n\r\npublic class AnnotationScanner extends ClassVisitor {\r\n    public static void main(String[] args) throws Exception {\r\n        ClassReader cr = new ClassReader(SampleClass.class.getCanonicalName());\r\n        cr.accept(new AnnotationScanner(), 0);\r\n    }\r\n\r\n    public AnnotationScanner() {\r\n        super(Opcodes.ASM8);\r\n    }\r\n\r\n    static class MyAnnotationVisitor extends AnnotationVisitor {\r\n        MyAnnotationVisitor() {\r\n            super(Opcodes.ASM8);\r\n        }\r\n        @Override\r\n        public void visit(String name, Object value) {\r\n            System.out.println(&quot;annotation: &quot; + name + &quot; = &quot; + value);\r\n            super.visit(name, value);\r\n        }\r\n    }\r\n\r\n    static class MyMethodVisitor extends MethodVisitor {\r\n        MyMethodVisitor() {\r\n            super(Opcodes.ASM8);\r\n        }\r\n        @Override\r\n        public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\r\n            System.out.println(&quot;annotation type: &quot; + desc);\r\n            return new MyAnnotationVisitor();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public MethodVisitor visitMethod(int access, String name, String desc,\r\n                                     String signature, String[] exceptions) {\r\n        System.out.println(&quot;method: name = &quot; + name);\r\n        return new MyMethodVisitor();\r\n    }\r\n}\r\n```\r\n\r\n**Maven dependecy**\r\n``` xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n  &lt;version&gt;8.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n▶ **It will print:**\r\n```\r\nmethod: name = callMeMaybe\r\nannotation type: Lorg/springdot/sandbox/asm/simple/asm/MyAnnotation;\r\nannotation: artist = Carly Rae Jepsen\r\n```","title":"How to read a Java class method annotation value with ASM","body":"<p>There are many samples which show the setup with asm and reading annotaions. But they don't showed it, for method annotations and how to also read the annotation value.</p>\n\n<p>Minimal example how to do it:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.objectweb.asm.*;\n\npublic class AnnotationScanner extends ClassVisitor {\n    public static void main(String[] args) throws Exception {\n        ClassReader cr = new ClassReader(SampleClass.class.getCanonicalName());\n        cr.accept(new AnnotationScanner(), 0);\n    }\n\n    public AnnotationScanner() {\n        super(Opcodes.ASM8);\n    }\n\n    static class MyAnnotationVisitor extends AnnotationVisitor {\n        MyAnnotationVisitor() {\n            super(Opcodes.ASM8);\n        }\n        @Override\n        public void visit(String name, Object value) {\n            System.out.println(\"annotation: \" + name + \" = \" + value);\n            super.visit(name, value);\n        }\n    }\n\n    static class MyMethodVisitor extends MethodVisitor {\n        MyMethodVisitor() {\n            super(Opcodes.ASM8);\n        }\n        @Override\n        public AnnotationVisitor visitAnnotation(String desc, boolean visible) {\n            System.out.println(\"annotation type: \" + desc);\n            return new MyAnnotationVisitor();\n        }\n    }\n\n    @Override\n    public MethodVisitor visitMethod(int access, String name, String desc,\n                                     String signature, String[] exceptions) {\n        System.out.println(\"method: name = \" + name);\n        return new MyMethodVisitor();\n    }\n}\n</code></pre>\n\n<p><strong>Maven dependecy</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n  &lt;artifactId&gt;asm&lt;/artifactId&gt;\n  &lt;version&gt;8.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>▶ <strong>It will print:</strong></p>\n\n<pre><code>method: name = callMeMaybe\nannotation type: Lorg/springdot/sandbox/asm/simple/asm/MyAnnotation;\nannotation: artist = Carly Rae Jepsen\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15607235,"reputation":41,"user_id":11259656,"display_name":"Gagan Kaushish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643875,"creation_date":1679369192,"answer_id":75797092,"question_id":61807758,"body_markdown":"Usually People face issue when they want to read array values in an Annotation.\r\n    \r\nBecause to read array Annotation we have to use visitArray Method and\r\nvisitArray calls visit method internally to read values. Sharing below code how can you achieve. Best practice to use switch under visit &amp; visitArray Method\r\n    \r\nSuppose there is a test class, interface Group is defined but we have to \r\nread values via visitArray method of AnnotationVisitor class\r\n    \r\n    @Tid(value = &quot;1234&quot;)\r\n    @Group(value = {&quot;G1&quot;,&quot;G2&quot;})\r\n    Class A {\r\n    }\r\n    \r\n    =====================================Solution ========================\r\n    \r\n    public AnnotationVisitor visitAnnotation(String desc){\r\n    \r\n    if(desc = Attr.Tid) new AnnotationVisitor(Opcodes.ASM9){\r\n            String id = &quot;&quot;;\r\n          @Override \r\n          public void visit(String name, Object v ){\r\n            id = v;\r\n            }\r\n    \r\n          @Override\r\n          public void visitEnd(){\r\n         \r\n            }\r\n      }  //if statement closes\r\n    \r\n     else if(desc == Attr.Group) new AnnotationVisitor(Opcodes.ASM9){\r\n       //declare Set or ArrayList e.g. storeGroupValue\r\n       @Override\r\n      public AnnotationVisitor visitArray(String name){\r\n    \r\n        if(name.equals(&quot;Group&quot;)){ new AnnotationVisitor(Opcodes.ASM9) {\r\n       @Override\r\n        public void visit(String name, Object value){\r\n        storeGroupValue.add(value)    --&gt; this will store G1, G2 values\r\n        } //visit method \r\n       } //Av Object\r\n      } // if condition\r\n     else{\r\n      super.visitArray(name) }\r\n    \r\n    }// close visitArray method\r\n    \r\n    === write visitEnd of visitArray=====\r\n    \r\n    }  //else if to validate Group Annotation\r\n    \r\n    } //close visitAnnotation\r\n\r\n\r\n\r\n","title":"How to read a Java class method annotation value with ASM","body":"<p>Usually People face issue when they want to read array values in an Annotation.</p>\n<p>Because to read array Annotation we have to use visitArray Method and\nvisitArray calls visit method internally to read values. Sharing below code how can you achieve. Best practice to use switch under visit &amp; visitArray Method</p>\n<p>Suppose there is a test class, interface Group is defined but we have to\nread values via visitArray method of AnnotationVisitor class</p>\n<pre><code>@Tid(value = &quot;1234&quot;)\n@Group(value = {&quot;G1&quot;,&quot;G2&quot;})\nClass A {\n}\n\n=====================================Solution ========================\n\npublic AnnotationVisitor visitAnnotation(String desc){\n\nif(desc = Attr.Tid) new AnnotationVisitor(Opcodes.ASM9){\n        String id = &quot;&quot;;\n      @Override \n      public void visit(String name, Object v ){\n        id = v;\n        }\n\n      @Override\n      public void visitEnd(){\n     \n        }\n  }  //if statement closes\n\n else if(desc == Attr.Group) new AnnotationVisitor(Opcodes.ASM9){\n   //declare Set or ArrayList e.g. storeGroupValue\n   @Override\n  public AnnotationVisitor visitArray(String name){\n\n    if(name.equals(&quot;Group&quot;)){ new AnnotationVisitor(Opcodes.ASM9) {\n   @Override\n    public void visit(String name, Object value){\n    storeGroupValue.add(value)    --&gt; this will store G1, G2 values\n    } //visit method \n   } //Av Object\n  } // if condition\n else{\n  super.visitArray(name) }\n\n}// close visitArray method\n\n=== write visitEnd of visitArray=====\n\n}  //else if to validate Group Annotation\n\n} //close visitAnnotation\n</code></pre>\n"}],"owner":{"account_id":5255036,"reputation":1267,"user_id":4198170,"display_name":"Tobse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679643875,"creation_date":1589491889,"question_id":61807758,"body_markdown":"How can I read read the value of a Java method annotation at runtime with [ASM](https://asm.ow2.io/) ?  \r\nThe Annotation has only a `CLASS` `RetentionPolicy`, so it&#39;s not possible to do that with Reflections.\r\n\r\n| Policy `CLASS`: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time\r\n\r\n**Example**:  \r\nI want to extract the value `Carly Rae Jepsen` out of the `artist` field at runtime:\r\n``` java\r\npublic class SampleClass {\r\n\r\n    @MyAnnotation(artist = &quot;Carly Rae Jepsen&quot;)\r\n    public void callMeMaybe(){}\r\n}\r\n```\r\n``` java\r\n@Documented\r\n@Retention(RetentionPolicy.CLASS)\r\n@Target(ElementType.METHOD)\r\npublic @interface MyAnnotation {\r\n\r\n    String artist() default &quot;&quot;;\r\n}\r\n```\r\n\r\n**But why?**  \r\nCan&#39;t you just change the `RetentionPolicy` to `RUNTIME` and do it with reflections?  \r\nIn short: No. I use the [modelmapper](http://modelmapper.org/) framework (Simple, Intelligent, Object Mapping). There I specify bidirectional mappings between Java classes by annotated methods. I wan&#39;t to reuse this information of hierarchical mappings, for change event propagation. But the provided _mapstruct_ `org.mapstruct.Mapping` Annotation has `CLASS RetentionPolicy`. This is why I need to read that information out of the class files - and need [ASM](https://asm.ow2.io/).\r\n","title":"How to read a Java class method annotation value with ASM","body":"<p>How can I read read the value of a Java method annotation at runtime with <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a> ?<br>\nThe Annotation has only a <code>CLASS</code> <code>RetentionPolicy</code>, so it's not possible to do that with Reflections.</p>\n\n<p>| Policy <code>CLASS</code>: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time</p>\n\n<p><strong>Example</strong>:<br>\nI want to extract the value <code>Carly Rae Jepsen</code> out of the <code>artist</code> field at runtime:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class SampleClass {\n\n    @MyAnnotation(artist = \"Carly Rae Jepsen\")\n    public void callMeMaybe(){}\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Documented\n@Retention(RetentionPolicy.CLASS)\n@Target(ElementType.METHOD)\npublic @interface MyAnnotation {\n\n    String artist() default \"\";\n}\n</code></pre>\n\n<p><strong>But why?</strong><br>\nCan't you just change the <code>RetentionPolicy</code> to <code>RUNTIME</code> and do it with reflections?<br>\nIn short: No. I use the <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">modelmapper</a> framework (Simple, Intelligent, Object Mapping). There I specify bidirectional mappings between Java classes by annotated methods. I wan't to reuse this information of hierarchical mappings, for change event propagation. But the provided <em>mapstruct</em> <code>org.mapstruct.Mapping</code> Annotation has <code>CLASS RetentionPolicy</code>. This is why I need to read that information out of the class files - and need <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">ASM</a>.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7879473,"reputation":907,"user_id":5954058,"display_name":"Miller Cy Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1538974784,"creation_date":1538974784,"answer_id":52695636,"question_id":52694164,"body_markdown":"You have to add maven dependency\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>You have to add maven dependency</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28071014,"reputation":1,"user_id":21443595,"display_name":"Ubiratan Roberte Cardoso Passo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643853,"creation_date":1679362892,"answer_id":75796699,"question_id":52694164,"body_markdown":"Add the dependencies and change your import to like this\r\n\r\n    import org.springframework.core.io.*;","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>Add the dependencies and change your import to like this</p>\n<pre><code>import org.springframework.core.io.*;\n</code></pre>\n"}],"owner":{"account_id":9481069,"reputation":25,"user_id":7048996,"accept_rate":12,"display_name":"dalami0i"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52695636,"answer_count":2,"score":0,"last_activity_date":1679643853,"creation_date":1538959934,"question_id":52694164,"body_markdown":"I am a wholly beginner for spring framework.\r\n\r\nA code below what I attached I have an error at `MultipartFile mf = fileList.get(i);`\r\nThe error statement especially I can see at under `fileList.get(i)`\r\nThe error says like title `cannot access org.springframework.core.io.Inputstreamsource`\r\nHow could I fix it?\r\n\r\n    public static boolean upload(MultipartHttpServletRequest mtfRequest, int attractionIdx){\r\n        List&lt;MultipartFile&gt; fileList = mtfRequest.getFiles(&quot;file&quot;);\r\n        String src = mtfRequest.getParameter(&quot;src&quot;);\r\n\r\n        String path = &quot;somepath&quot;;\r\n        fileList.size();\r\n\r\n        int size = fileList.size();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            MultipartFile mf = fileList.get(i);\r\n\r\n            String originFileName = mf.getOriginalFilename(); \r\n            long fileSize = mf.getSize(); \r\n\r\n            System.out.println(&quot;originFileName : &quot; + originFileName);\r\n            System.out.println(&quot;fileSize : &quot; + fileSize);\r\n\r\n            String safeFile = path + attractionIdx + &quot;_&quot; + size + &quot;_&quot; + i + &quot;.png&quot;;\r\n            try {\r\n                mf.transferTo(new File(safeFile));\r\n            } catch (IllegalStateException e) {\r\n                e.printStackTrace();\r\n                return false;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"spring cannot access org.springframework.core.io.Inputstreamsource in list multipartfile","body":"<p>I am a wholly beginner for spring framework.</p>\n\n<p>A code below what I attached I have an error at <code>MultipartFile mf = fileList.get(i);</code>\nThe error statement especially I can see at under <code>fileList.get(i)</code>\nThe error says like title <code>cannot access org.springframework.core.io.Inputstreamsource</code>\nHow could I fix it?</p>\n\n<pre><code>public static boolean upload(MultipartHttpServletRequest mtfRequest, int attractionIdx){\n    List&lt;MultipartFile&gt; fileList = mtfRequest.getFiles(\"file\");\n    String src = mtfRequest.getParameter(\"src\");\n\n    String path = \"somepath\";\n    fileList.size();\n\n    int size = fileList.size();\n    for (int i = 0; i &lt; size; i++) {\n        MultipartFile mf = fileList.get(i);\n\n        String originFileName = mf.getOriginalFilename(); \n        long fileSize = mf.getSize(); \n\n        System.out.println(\"originFileName : \" + originFileName);\n        System.out.println(\"fileSize : \" + fileSize);\n\n        String safeFile = path + attractionIdx + \"_\" + size + \"_\" + i + \".png\";\n        try {\n            mf.transferTo(new File(safeFile));\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n            return false;\n        } catch (IOException e) {\n            e.printStackTrace();\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1644699801,"post_id":71095840,"comment_id":125677473,"body_markdown":"Welcome to Stack Overflow. &quot;I am confused about how to move forward&quot; To move forward, start by reading [ask] and https://meta.stackoverflow.com/questions/334822. Make sure you understand that this is *not a discussion forum*. We need a clear, *specific* question, that starts with your attempt to *read and understand* the error message. (Hint: what do you think is the type of `numElements`? Did you check that? What is the purpose of `numElements` in your program? Does the type *make sense*, given that purpose? In your own words, what is a `double`, and what is an `int`?)","body":"Welcome to Stack Overflow. &quot;I am confused about how to move forward&quot; To move forward, start by reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/334822\">meta.stackoverflow.com/questions/334822</a>. Make sure you understand that this is <i>not a discussion forum</i>. We need a clear, <i>specific</i> question, that starts with your attempt to <i>read and understand</i> the error message. (Hint: what do you think is the type of <code>numElements</code>? Did you check that? What is the purpose of <code>numElements</code> in your program? Does the type <i>make sense</i>, given that purpose? In your own words, what is a <code>double</code>, and what is an <code>int</code>?)"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1644699877,"post_id":71095840,"comment_id":125677496,"body_markdown":"Please try to make sure your question is focused on *the actual problem you are currently trying to solve* (i.e., the error message), *not* on the overall task of your code.","body":"Please try to make sure your question is focused on <i>the actual problem you are currently trying to solve</i> (i.e., the error message), <i>not</i> on the overall task of your code."},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644704522,"post_id":71095840,"comment_id":125678399,"body_markdown":"@KarlKnechtel Hi, sorry about that, I just posted that so it would make sense. The type of numElements is what the user input and it&#39;s for floating-point values. I am confused why it&#39;s saying error when I declared it as double and not int. Would I have to convert it as an int to a double?","body":"@KarlKnechtel Hi, sorry about that, I just posted that so it would make sense. The type of numElements is what the user input and it&#39;s for floating-point values. I am confused why it&#39;s saying error when I declared it as double and not int. Would I have to convert it as an int to a double?"},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1644762478,"post_id":71095840,"comment_id":125686717,"body_markdown":"&quot;and it&#39;s for floating-point values&quot; Yes; *that&#39;s the problem*. &quot;I am confused why it&#39;s saying error when I declared it as double and not int.&quot; Because you *should neither declare it as double, nor read a double; you should declare an int and read an int*. Why? Because you want to *use that value to count the elements of an array*. (Right? That&#39;s why it&#39;s called `numElements`, i.e. &quot;number of elements&quot;? That&#39;s why it&#39;s used like `new double[numElements]`?) Does it make sense to use a floating-point number for this purpose? No, obviously not, right?","body":"&quot;and it&#39;s for floating-point values&quot; Yes; <i>that&#39;s the problem</i>. &quot;I am confused why it&#39;s saying error when I declared it as double and not int.&quot; Because you <i>should neither declare it as double, nor read a double; you should declare an int and read an int</i>. Why? Because you want to <i>use that value to count the elements of an array</i>. (Right? That&#39;s why it&#39;s called <code>numElements</code>, i.e. &quot;number of elements&quot;? That&#39;s why it&#39;s used like <code>new double[numElements]</code>?) Does it make sense to use a floating-point number for this purpose? No, obviously not, right?"},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644770310,"post_id":71095840,"comment_id":125688718,"body_markdown":"Oh!! That makes so much sense! I&#39;m sorry I didn&#39;t understand first, they never really went over that because the array element number was always fixed. Thank you so much!!","body":"Oh!! That makes so much sense! I&#39;m sorry I didn&#39;t understand first, they never really went over that because the array element number was always fixed. Thank you so much!!"},{"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"score":0,"creation_date":1644771998,"post_id":71095840,"comment_id":125689197,"body_markdown":"Also, I&#39;m an idiot bc I didn&#39;t understand that the 5 was the number of elements, I thought it was part of the values.","body":"Also, I&#39;m an idiot bc I didn&#39;t understand that the 5 was the number of elements, I thought it was part of the values."}],"answers":[{"tags":[],"owner":{"account_id":27606625,"reputation":1,"user_id":21070599,"display_name":"Rohit Kunta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674540507,"creation_date":1674540388,"answer_id":75217953,"question_id":71095840,"body_markdown":"Just change the data type of numElements to int and the scanner command to int as well\r\n\r\nLike this:\r\n\r\n    int numElements = scnr.nextInt(); ","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>Just change the data type of numElements to int and the scanner command to int as well</p>\n<p>Like this:</p>\n<pre><code>int numElements = scnr.nextInt(); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":28061540,"reputation":1,"user_id":21435576,"display_name":"Jason Trent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679643776,"creation_date":1679280854,"answer_id":75786240,"question_id":71095840,"body_markdown":"Did you end up figuring it out??? I have a solution for you. --- \r\n    There were a few adjustments I had to make. I used your code as a \r\n    blueprint, because I was stuck too, and I ended up getting it \r\n    right. --- Cheers.\r\n    \r\n      Scanner scnr = new Scanner(System.in);\r\n      int numElements; \r\n      numElements = scnr.nextInt(); \r\n      double [] userList = new double [numElements]; \r\n      int i; \r\n      double maxValue; \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = scnr.nextDouble(); \r\n       } \r\n      \r\n      maxValue = userList[0]; \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         if (userList[i] &gt; maxValue) { \r\n            maxValue = userList[i]; \r\n         } \r\n      } \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = userList[i] / maxValue; \r\n         System.out.printf(&quot;%.2f &quot;, userList[i]);\r\n       } \r\n     System.out.println();  \r\n    } }","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>Did you end up figuring it out??? I have a solution for you. ---\nThere were a few adjustments I had to make. I used your code as a\nblueprint, because I was stuck too, and I ended up getting it\nright. --- Cheers.</p>\n<pre><code>  Scanner scnr = new Scanner(System.in);\n  int numElements; \n  numElements = scnr.nextInt(); \n  double [] userList = new double [numElements]; \n  int i; \n  double maxValue; \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = scnr.nextDouble(); \n   } \n  \n  maxValue = userList[0]; \n  for (i = 0; i &lt; userList.length; ++i) { \n     if (userList[i] &gt; maxValue) { \n        maxValue = userList[i]; \n     } \n  } \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = userList[i] / maxValue; \n     System.out.printf(&quot;%.2f &quot;, userList[i]);\n   } \n System.out.println();  \n} }\n</code></pre>\n"}],"owner":{"account_id":24238831,"reputation":13,"user_id":18191522,"display_name":"TruliTori"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679643776,"creation_date":1644699614,"question_id":71095840,"body_markdown":"5.16 LAB: Adjust list by normalizing\r\nWhen analyzing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.\r\n\r\nFor this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.\r\n\r\nOutput each floating-point value with two digits after the decimal point, which can be achieved as follows:\r\nSystem.out.printf(&quot;%.2f&quot;, yourValue);\r\n\r\nEx: If the input is:\r\n\r\n5 30.0 50.0 10.0 100.0 65.0\r\nthe output is:\r\n\r\n0.30 0.50 0.10 1.00 0.65 \r\nThe 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.\r\n\r\nFor coding simplicity, follow every output value by a space, including the last one.\r\n\r\nI have been confused about how to do floating-point values in arrays and loops as in my book it never went over that. \r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n      double numElements; \r\n      numElements = scnr.nextDouble(); \r\n      double [] userList = new double [numElements]; \r\n      int i; \r\n      double maxValue; \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = scnr.nextDouble(); \r\n      } \r\n      \r\n      maxValue = userList[i]; \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         if (userList[i] &gt; maxValue) { \r\n            maxValue = userList[i]; \r\n         } \r\n      } \r\n      \r\n      for (i = 0; i &lt; userList.length; ++i) { \r\n         userList[i] = userList[i] / maxValue; \r\n         System.out.print(userList[i] + &quot; &quot;); \r\n         System.out.printf(&quot;%.2f&quot;, userList[i]);\r\n      } \r\n      \r\n   }\r\n}\r\n\r\nIt&#39;s outputting: \r\n\r\n    LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\r\n      double [] userList = new double [numElements]; \r\n\r\nI am confused about how to move forward, any help will be much appreciated!\r\n\r\n","title":"5.16 LAB: Adjust list by normalizing _ zybook - Java","body":"<p>5.16 LAB: Adjust list by normalizing\nWhen analyzing data sets, such as data for human heights or for human weights, a common step is to adjust the data. This adjustment can be done by normalizing to values between 0 and 1, or throwing away outliers.</p>\n<p>For this program, adjust the values by dividing all values by the largest value. The input begins with an integer indicating the number of floating-point values that follow. Assume that the list will always contain fewer than 20 floating-point values.</p>\n<p>Output each floating-point value with two digits after the decimal point, which can be achieved as follows:\nSystem.out.printf(&quot;%.2f&quot;, yourValue);</p>\n<p>Ex: If the input is:</p>\n<p>5 30.0 50.0 10.0 100.0 65.0\nthe output is:</p>\n<p>0.30 0.50 0.10 1.00 0.65\nThe 5 indicates that there are five floating-point values in the list, namely 30.0, 50.0, 10.0, 100.0, and 65.0. 100.0 is the largest value in the list, so each value is divided by 100.0.</p>\n<p>For coding simplicity, follow every output value by a space, including the last one.</p>\n<p>I have been confused about how to do floating-point values in arrays and loops as in my book it never went over that.</p>\n<pre><code>  Scanner scnr = new Scanner(System.in);\n  double numElements; \n  numElements = scnr.nextDouble(); \n  double [] userList = new double [numElements]; \n  int i; \n  double maxValue; \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = scnr.nextDouble(); \n  } \n  \n  maxValue = userList[i]; \n  for (i = 0; i &lt; userList.length; ++i) { \n     if (userList[i] &gt; maxValue) { \n        maxValue = userList[i]; \n     } \n  } \n  \n  for (i = 0; i &lt; userList.length; ++i) { \n     userList[i] = userList[i] / maxValue; \n     System.out.print(userList[i] + &quot; &quot;); \n     System.out.printf(&quot;%.2f&quot;, userList[i]);\n  } \n  \n</code></pre>\n<p>}\n}</p>\n<p>It's outputting:</p>\n<pre><code>LabProgram.java:8: error: incompatible types: possible lossy conversion from double to int\n  double [] userList = new double [numElements]; \n</code></pre>\n<p>I am confused about how to move forward, any help will be much appreciated!</p>\n"},{"tags":["java","swing","user-interface"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":3,"creation_date":1679298050,"post_id":75787415,"comment_id":133689513,"body_markdown":"Use an appropriate layout, something like a BoxLayout with Y_AXIS policy, and then embed the whole into a ScrollPane.","body":"Use an appropriate layout, something like a BoxLayout with Y_AXIS policy, and then embed the whole into a ScrollPane."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679298422,"post_id":75787415,"comment_id":133689611,"body_markdown":"I would probably consider using something like a [`JList`](https://docs.oracle.com/javase/tutorial/uiswing/components/list.html), but you&#39;d probably need a custom look and feel to make it post content from the bottom instead of the top","body":"I would probably consider using something like a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/list.html\" rel=\"nofollow noreferrer\"><code>JList</code></a>, but you&#39;d probably need a custom look and feel to make it post content from the bottom instead of the top"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1679298449,"post_id":75787415,"comment_id":133689615,"body_markdown":"*&quot;When the jPanel have many messages it cannot scroll to see the old messages.&quot;* - wrap the `JPanel` in `JScrollPane`","body":"<i>&quot;When the jPanel have many messages it cannot scroll to see the old messages.&quot;</i> - wrap the <code>JPanel</code> in <code>JScrollPane</code>"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679320117,"creation_date":1679320117,"answer_id":75791074,"question_id":75787415,"body_markdown":"&gt; When another Jlabel is inserted into it will be in the last position and the old Jlabel will be moved upwards\r\n\r\nYou can use a `Box`, which is really a convenience class for a `JPanel` with a `BoxLayout`. The first component should be &quot;glue&quot; so all components are shifted to the bottom:\r\n\r\n    Box messagePanel = new Box.createVerticalBox();\r\n    messagePanel.add( Box.createGlue() );\r\n\r\nYou will also need to tell the label to be aligned to the right in the panel:\r\n\r\n    JLabel message = new JLabel(&quot;...&quot;);\r\n\tmessage.setAlignmentX(SwingConstants.TRAILING);\r\n    messagePanel.add( message );\r\n\r\nRead the Swing tutorial on [How to Use BoxLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html) for more information and examples. \r\n\r\nThe tutorial also contains a section on using scroll panes.\r\n\r\n\r\n","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<blockquote>\n<p>When another Jlabel is inserted into it will be in the last position and the old Jlabel will be moved upwards</p>\n</blockquote>\n<p>You can use a <code>Box</code>, which is really a convenience class for a <code>JPanel</code> with a <code>BoxLayout</code>. The first component should be &quot;glue&quot; so all components are shifted to the bottom:</p>\n<pre><code>Box messagePanel = new Box.createVerticalBox();\nmessagePanel.add( Box.createGlue() );\n</code></pre>\n<p>You will also need to tell the label to be aligned to the right in the panel:</p>\n<pre><code>JLabel message = new JLabel(&quot;...&quot;);\nmessage.setAlignmentX(SwingConstants.TRAILING);\nmessagePanel.add( message );\n</code></pre>\n<p>Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/box.html\" rel=\"nofollow noreferrer\">How to Use BoxLayout</a> for more information and examples.</p>\n<p>The tutorial also contains a section on using scroll panes.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679656825,"post_id":75830953,"comment_id":133764210,"body_markdown":"as unclear as the question is: this doesn&#39;t look anywhere near the intended outcome, why do you think it helps to have the texts left/right aligned (for different types of messages, f.i.)? Also there are obvious problems, in no particular orders: a) don&#39;t hard-code sizing hints b) don&#39;t fix the size of a window (users typically get annoyed) c) replacing complete text on every addition d) adding empty lines (why?) e) frame repaint is .. not needed (as in utter nonsense) f) .. could it be that this code is written by a chatqpt?","body":"as unclear as the question is: this doesn&#39;t look anywhere near the intended outcome, why do you think it helps to have the texts left/right aligned (for different types of messages, f.i.)? Also there are obvious problems, in no particular orders: a) don&#39;t hard-code sizing hints b) don&#39;t fix the size of a window (users typically get annoyed) c) replacing complete text on every addition d) adding empty lines (why?) e) frame repaint is .. not needed (as in utter nonsense) f) .. could it be that this code is written by a chatqpt?"},{"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"score":0,"creation_date":1679661798,"post_id":75830953,"comment_id":133765500,"body_markdown":"Thank you for your feedback! This code is not written by chatGPT but I tried to give him an example of how to resolve the problem! The text alignment Left or right is not the problem but I am not sure how to calculate the window size, I&#39;ll appreciate your help if you provide me with more information about it and improve my code!","body":"Thank you for your feedback! This code is not written by chatGPT but I tried to give him an example of how to resolve the problem! The text alignment Left or right is not the problem but I am not sure how to calculate the window size, I&#39;ll appreciate your help if you provide me with more information about it and improve my code!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679663496,"post_id":75830953,"comment_id":133765951,"body_markdown":"thanks for the info, naturally I take your word for it :) Intention to help is good, spreading faulty code is not. Using an EditorPane (vs. individual Labels) is an interesting idea and certainly doable - but: the output should be at least _near_ the image in the question plus using editorPane api correctly (aside from not having all the errors already listed in my first comment). btw: _calculate the window size_ is a completely wrong track. There are tons of tutorials to learn from, see the swing tag wiki for references :)","body":"thanks for the info, naturally I take your word for it :) Intention to help is good, spreading faulty code is not. Using an EditorPane (vs. individual Labels) is an interesting idea and certainly doable - but: the output should be at least <i>near</i> the image in the question plus using editorPane api correctly (aside from not having all the errors already listed in my first comment). btw: <i>calculate the window size</i> is a completely wrong track. There are tons of tutorials to learn from, see the swing tag wiki for references :)"}],"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679642795,"creation_date":1679642795,"answer_id":75830953,"question_id":75787415,"body_markdown":"I think instead of using JLabel, you can use JEditorPane because if you have long text in JLabel, it will not wrap text to the second line, moreover adding JscrollPane will make it easy to move up and down!\r\n\r\nTake look at this snippet of code and hopefully will help you to resolve your problem.\r\n\r\n \r\n\r\n       public class ChatBox {\r\n        public static void main(String[] args) {\r\n            ChatBox cw = new ChatBox();\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    cw.buildGui();\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        public void buildGui() {\r\n            JFrame jFrame = new JFrame();\r\n    \r\n            Container container = jFrame.getContentPane();\r\n            container.setLayout(new GridBagLayout());\r\n    \r\n            GridBagConstraints c = new GridBagConstraints();\r\n            c.fill = GridBagConstraints.CENTER;\r\n            c.gridx = 2;\r\n            c.gridy = 0;\r\n    \r\n            JEditorPane textPane = new JEditorPane();\r\n            textPane.setEnabled(false);\r\n            textPane.setPreferredSize(new Dimension(250, 250));\r\n            textPane.setContentType(&quot;text/plain&quot;);\r\n    \r\n    \r\n            JScrollPane scrollPane = new JScrollPane(textPane,\r\n                    JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\r\n                    JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\r\n    \r\n    \r\n            container.add(scrollPane, c);\r\n    \r\n    \r\n            JTextField jTextField = new JTextField();\r\n    \r\n            // In case a user press enter, it will add the text to jeditorpane\r\n            jTextField.addActionListener(new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String message = jTextField.getText();\r\n                    jTextField.setText(&quot;&quot;);\r\n                    addText(textPane, jFrame, message);\r\n                }\r\n            });\r\n            c.fill = GridBagConstraints.HORIZONTAL;\r\n            c.anchor = GridBagConstraints.PAGE_START;\r\n            c.insets = new Insets(10, 0, 0, 0);\r\n            c.gridx = 2;\r\n            c.gridwidth = 2;\r\n            c.gridy++;\r\n    \r\n            container.add(jTextField, c);\r\n    \r\n            JButton sendButton = new JButton(&quot;Send&quot;);\r\n            sendButton.addActionListener(new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String message = jTextField.getText();\r\n                    jTextField.setText(&quot;&quot;);\r\n                    addText(textPane, jFrame, message);\r\n                }\r\n            });\r\n            c.fill = GridBagConstraints.EAST;\r\n            c.insets = new Insets(10, 0, 0, 10);\r\n            c.gridx = 4;\r\n    \r\n            c.weightx = 0.1;\r\n            sendButton.setPreferredSize(new Dimension(65, 20));\r\n            container.add(sendButton, c);\r\n    \r\n    \r\n            jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            jFrame.setResizable(false);\r\n            jFrame.setPreferredSize(new Dimension(370, 350));\r\n            jFrame.pack();\r\n            jFrame.setVisible(true);\r\n        }\r\n    \r\n        private void addText(JEditorPane jEditorPane, JFrame jFrame, String message) {\r\n            try {\r\n                // Saving the old message from jEditorPane\r\n                String text = jEditorPane.getText();\r\n                // Clear all\r\n                jEditorPane.setText(&quot;&quot;);\r\n    \r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                //Append new lines to show the text in the lower left of the corner\r\n                for (int i = 0; i &lt; 16; i++)\r\n                    stringBuilder.append(&#39;\\n&#39;);\r\n                stringBuilder.append(text);\r\n                stringBuilder.append(&#39;\\n&#39;);\r\n                Document doc = jEditorPane.getDocument();\r\n    \r\n                doc.insertString(doc.getLength(), stringBuilder.toString(), new SimpleAttributeSet());\r\n                doc.insertString(doc.getLength(), message, new SimpleAttributeSet());\r\n                jFrame.repaint();\r\n            } catch (BadLocationException e) {\r\n                JOptionPane.showMessageDialog(jFrame, &quot;Obs,something went wrong sorry &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<p>I think instead of using JLabel, you can use JEditorPane because if you have long text in JLabel, it will not wrap text to the second line, moreover adding JscrollPane will make it easy to move up and down!</p>\n<p>Take look at this snippet of code and hopefully will help you to resolve your problem.</p>\n<pre><code>   public class ChatBox {\n    public static void main(String[] args) {\n        ChatBox cw = new ChatBox();\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                cw.buildGui();\n            }\n        });\n\n    }\n\n    public void buildGui() {\n        JFrame jFrame = new JFrame();\n\n        Container container = jFrame.getContentPane();\n        container.setLayout(new GridBagLayout());\n\n        GridBagConstraints c = new GridBagConstraints();\n        c.fill = GridBagConstraints.CENTER;\n        c.gridx = 2;\n        c.gridy = 0;\n\n        JEditorPane textPane = new JEditorPane();\n        textPane.setEnabled(false);\n        textPane.setPreferredSize(new Dimension(250, 250));\n        textPane.setContentType(&quot;text/plain&quot;);\n\n\n        JScrollPane scrollPane = new JScrollPane(textPane,\n                JScrollPane.VERTICAL_SCROLLBAR_ALWAYS,\n                JScrollPane.HORIZONTAL_SCROLLBAR_AS_NEEDED);\n\n\n        container.add(scrollPane, c);\n\n\n        JTextField jTextField = new JTextField();\n\n        // In case a user press enter, it will add the text to jeditorpane\n        jTextField.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String message = jTextField.getText();\n                jTextField.setText(&quot;&quot;);\n                addText(textPane, jFrame, message);\n            }\n        });\n        c.fill = GridBagConstraints.HORIZONTAL;\n        c.anchor = GridBagConstraints.PAGE_START;\n        c.insets = new Insets(10, 0, 0, 0);\n        c.gridx = 2;\n        c.gridwidth = 2;\n        c.gridy++;\n\n        container.add(jTextField, c);\n\n        JButton sendButton = new JButton(&quot;Send&quot;);\n        sendButton.addActionListener(new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String message = jTextField.getText();\n                jTextField.setText(&quot;&quot;);\n                addText(textPane, jFrame, message);\n            }\n        });\n        c.fill = GridBagConstraints.EAST;\n        c.insets = new Insets(10, 0, 0, 10);\n        c.gridx = 4;\n\n        c.weightx = 0.1;\n        sendButton.setPreferredSize(new Dimension(65, 20));\n        container.add(sendButton, c);\n\n\n        jFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        jFrame.setResizable(false);\n        jFrame.setPreferredSize(new Dimension(370, 350));\n        jFrame.pack();\n        jFrame.setVisible(true);\n    }\n\n    private void addText(JEditorPane jEditorPane, JFrame jFrame, String message) {\n        try {\n            // Saving the old message from jEditorPane\n            String text = jEditorPane.getText();\n            // Clear all\n            jEditorPane.setText(&quot;&quot;);\n\n            StringBuilder stringBuilder = new StringBuilder();\n            //Append new lines to show the text in the lower left of the corner\n            for (int i = 0; i &lt; 16; i++)\n                stringBuilder.append('\\n');\n            stringBuilder.append(text);\n            stringBuilder.append('\\n');\n            Document doc = jEditorPane.getDocument();\n\n            doc.insertString(doc.getLength(), stringBuilder.toString(), new SimpleAttributeSet());\n            doc.insertString(doc.getLength(), message, new SimpleAttributeSet());\n            jFrame.repaint();\n        } catch (BadLocationException e) {\n            JOptionPane.showMessageDialog(jFrame, &quot;Obs,something went wrong sorry &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23146621,"reputation":11,"user_id":17249285,"display_name":"Nguyen Linh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679642795,"creation_date":1679296398,"question_id":75787415,"body_markdown":"How to add a `jLabel` to the last position in jPanel?\r\n\r\nI want to insert a `Jlabel` into the last position of a `Jpanel`. When another `Jlabel` is inserted into it will be in the last position and the old Jlabel will be moved upwards. Like messaging with Messenger.\r\n\r\n\r\n```\r\n//Create a message jlabel\r\nJLabel message = createInnerPanel(messageContent); \r\n//Code I want right here\r\npanel.add(message);\r\npanel.invalidate();\r\npanel.validate();\r\npanel.repaint();\r\n```\r\n[![It is similar to messaging apps][1]][1]\r\n\r\nI used `setBound()` but I think it isn&#39;t useful when the chat frame has many messages and `BorderLayout` is inactive \r\n\r\nSorry if my English is not good.\r\n\r\nThanks so much, wish the best for you.\r\n\r\nMoreover, I wanna ask what should I use to contain these messages. When the `jPanel` have many messages it cannot scroll to see the old messages.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQhVx.png","title":"How can I set size for JLabel or JButton as the maximum length of the content?","body":"<p>How to add a <code>jLabel</code> to the last position in jPanel?</p>\n<p>I want to insert a <code>Jlabel</code> into the last position of a <code>Jpanel</code>. When another <code>Jlabel</code> is inserted into it will be in the last position and the old Jlabel will be moved upwards. Like messaging with Messenger.</p>\n<pre><code>//Create a message jlabel\nJLabel message = createInnerPanel(messageContent); \n//Code I want right here\npanel.add(message);\npanel.invalidate();\npanel.validate();\npanel.repaint();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/PQhVx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQhVx.png\" alt=\"It is similar to messaging apps\" /></a></p>\n<p>I used <code>setBound()</code> but I think it isn't useful when the chat frame has many messages and <code>BorderLayout</code> is inactive</p>\n<p>Sorry if my English is not good.</p>\n<p>Thanks so much, wish the best for you.</p>\n<p>Moreover, I wanna ask what should I use to contain these messages. When the <code>jPanel</code> have many messages it cannot scroll to see the old messages.</p>\n"},{"tags":["java","android","visualization","anychart"],"owner":{"account_id":28107376,"reputation":1,"user_id":21475768,"display_name":"Enrabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679642741,"creation_date":1679595444,"question_id":75826678,"body_markdown":"![Visualization of data](https://i.stack.imgur.com/GCUZt.png)\r\n\r\nI&#39;m looking to make something similar to this image for visualizing data in my app, that I&#39;m using Java for. \r\n\r\nIt doesn&#39;t have to be exactly like this, a straight bar would be fine. What is important is that I can display a total number of data entries, and the amount of each visualized in different colors and widths. \r\n\r\nI&#39;ve looked into using a progress bar or AnyChart or similar. I&#39;m interested too see what alternative routes I could take to achieve this. ","title":"Visualization of data on Android with Java","body":"<p><img src=\"https://i.stack.imgur.com/GCUZt.png\" alt=\"Visualization of data\" /></p>\n<p>I'm looking to make something similar to this image for visualizing data in my app, that I'm using Java for.</p>\n<p>It doesn't have to be exactly like this, a straight bar would be fine. What is important is that I can display a total number of data entries, and the amount of each visualized in different colors and widths.</p>\n<p>I've looked into using a progress bar or AnyChart or similar. I'm interested too see what alternative routes I could take to achieve this.</p>\n"},{"tags":["javascript","java","spring","spring-mvc"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1679640691,"post_id":75830721,"comment_id":133760691,"body_markdown":"Check https://datatables.net/","body":"Check <a href=\"https://datatables.net/\" rel=\"nofollow noreferrer\">datatables.net</a>"}],"answers":[{"tags":[],"owner":{"account_id":25324623,"reputation":70,"user_id":19145469,"display_name":"DANIYAL FARUKI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679641664,"creation_date":1679641568,"answer_id":75830841,"question_id":75830721,"body_markdown":"like this: (Use Jquery DataTables)\r\n\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;col-md-12&quot;&gt;\r\n            &lt;div class=&quot;table-responsive&quot;&gt;\r\n                &lt;div class=&quot;divReceipts&quot;&gt;&lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nAnd in Script \r\n\r\n    $.post(&#39;/FeeAccount/getReceiptsData&#39;, { dateRange : $(&#39;input[name=&quot;daterange&quot;]&#39;).val()}, function (data) {\r\n                       $(&quot;.divReceipts&quot;).html(&#39;&#39;);\r\n                       $(&quot;.divReceipts&quot;).html(data);\r\n                       $(&quot;.divReceipts&quot;).find(&quot;.tblReceipts&quot;).DataTable({\r\n                           &quot;order&quot;: [[0, &quot;desc&quot;]]\r\n                       });\r\n                   });","title":"Data Grid view with sorting , pagination and exporting","body":"<p>like this: (Use Jquery DataTables)</p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n    &lt;div class=&quot;col-md-12&quot;&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;div class=&quot;divReceipts&quot;&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And in Script</p>\n<pre><code>$.post('/FeeAccount/getReceiptsData', { dateRange : $('input[name=&quot;daterange&quot;]').val()}, function (data) {\n                   $(&quot;.divReceipts&quot;).html('');\n                   $(&quot;.divReceipts&quot;).html(data);\n                   $(&quot;.divReceipts&quot;).find(&quot;.tblReceipts&quot;).DataTable({\n                       &quot;order&quot;: [[0, &quot;desc&quot;]]\n                   });\n               });\n</code></pre>\n"}],"owner":{"account_id":6941576,"reputation":201,"user_id":5327712,"accept_rate":44,"display_name":"Sajal Saxena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75830841,"answer_count":1,"score":-1,"last_activity_date":1679641664,"creation_date":1679640533,"question_id":75830721,"body_markdown":"I want to implement a Grid View of data coming from Database from a Spring Controller.\r\nView must support Pagination , Sorting and Exporting to CSV and Xls.\r\nI do not want to write different methods to do all this stuff.\r\nWhat all good Javascript ( like jquery datatables ) or Spring MVC options can i use to do this work ? Please suggest.\r\n","title":"Data Grid view with sorting , pagination and exporting","body":"<p>I want to implement a Grid View of data coming from Database from a Spring Controller.\nView must support Pagination , Sorting and Exporting to CSV and Xls.\nI do not want to write different methods to do all this stuff.\nWhat all good Javascript ( like jquery datatables ) or Spring MVC options can i use to do this work ? Please suggest.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4885279,"reputation":51,"user_id":3937935,"display_name":"Ali.M"},"score":0,"creation_date":1679558864,"post_id":75820220,"comment_id":133744001,"body_markdown":"Can you share at least parts of your code? There may be different reasons the callback is not called!","body":"Can you share at least parts of your code? There may be different reasons the callback is not called!"}],"answers":[{"tags":[],"owner":{"account_id":23295761,"reputation":7,"user_id":17377194,"display_name":"Osam Alek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679641494,"creation_date":1679641494,"answer_id":75830828,"question_id":75820220,"body_markdown":"It sounds like you’re having trouble with biometric authentication in your Android app. \r\nOne possible reason why it’s not working the second time is that you might be reusing the same instance of BiometricPrompt.\r\nYou should create a new instance of BiometricPrompt each time you want to authenticate the user.\r\n\r\nAnother possible reason why it’s not working is that you might be using an incorrect cancellation signal when dismissing the dialog.\r\nYou should use a new cancellation signal each time you show the dialog.","title":"Facing issue in Biometric Authentication in android","body":"<p>It sounds like you’re having trouble with biometric authentication in your Android app.\nOne possible reason why it’s not working the second time is that you might be reusing the same instance of BiometricPrompt.\nYou should create a new instance of BiometricPrompt each time you want to authenticate the user.</p>\n<p>Another possible reason why it’s not working is that you might be using an incorrect cancellation signal when dismissing the dialog.\nYou should use a new cancellation signal each time you show the dialog.</p>\n"}],"owner":{"account_id":15303613,"reputation":1,"user_id":11041152,"display_name":"muzammal hussain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679641494,"creation_date":1679556687,"question_id":75820220,"body_markdown":"I implemented biometric authentication using java . it authenticate first time correctly . when i try to authenticate second time it does not call its callback also enable &amp; disable switch for biometric did not work \r\n\r\nI tried to authenticate secondtime using biometric after successfully authentication . but it does not authenticate user , it remain on same screen ","title":"Facing issue in Biometric Authentication in android","body":"<p>I implemented biometric authentication using java . it authenticate first time correctly . when i try to authenticate second time it does not call its callback also enable &amp; disable switch for biometric did not work</p>\n<p>I tried to authenticate secondtime using biometric after successfully authentication . but it does not authenticate user , it remain on same screen</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":2,"creation_date":1540512015,"post_id":52999621,"comment_id":92903869,"body_markdown":"If you want to print all of the array elements, you don&#39;t want the -1, just `i &lt; array.length;`","body":"If you want to print all of the array elements, you don&#39;t want the -1, just <code>i &lt; array.length;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1540512624,"creation_date":1540512624,"answer_id":52999727,"question_id":52999621,"body_markdown":"Your array has 8 elements, so `array.length=8`.\r\n\r\nTherefore `array.length-1` = `8-1` = `7`.\r\n\r\nYou are running the loop from when `i` is `0`, until `i` is **less than** `7`. So it will run from `i=0` to `i=6`.\r\n\r\nTo traverse the entire array, you need to run it from `i=0` to `i=7` instead.\r\n\r\nSo change\r\n\r\n    i&lt; array.length -1\r\n\r\nto\r\n\r\n    i &lt; array.length \r\n\r\nor\r\n\r\n    i &lt;= array.length - 1","title":"What does arrays.length -1 mean in Java?","body":"<p>Your array has 8 elements, so <code>array.length=8</code>.</p>\n\n<p>Therefore <code>array.length-1</code> = <code>8-1</code> = <code>7</code>.</p>\n\n<p>You are running the loop from when <code>i</code> is <code>0</code>, until <code>i</code> is <strong>less than</strong> <code>7</code>. So it will run from <code>i=0</code> to <code>i=6</code>.</p>\n\n<p>To traverse the entire array, you need to run it from <code>i=0</code> to <code>i=7</code> instead.</p>\n\n<p>So change</p>\n\n<pre><code>i&lt; array.length -1\n</code></pre>\n\n<p>to</p>\n\n<pre><code>i &lt; array.length \n</code></pre>\n\n<p>or</p>\n\n<pre><code>i &lt;= array.length - 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28111522,"reputation":1,"user_id":21479218,"display_name":"Priyam Mehta"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1679641467,"creation_date":1679641467,"answer_id":75830823,"question_id":52999621,"body_markdown":"to make it super clear let us understand it the other way round. The length of your array here is 8. When talking about indexing of arrays,we know that index always starts from 0. The reason behind arr.length-1 is, we are looping all the elements from i=0 to i=6 as array lenght=8 and i&lt;8-1 means i&lt;7 so it would result in printing only from 0 to 6.. So its going to print elements only upto :[23,75,982,22,74,45,0]. Code should be changed from i&lt;arr.length-1 to i&lt;arr.length and you will print all values. Specially,arr.length-1 is used only when working with i+1 elements (Finding duplicates,etc.) because there, we don&#39;t want the index to go out of bounds.\r\n\r\nFor an array of length=3 when i=0, &quot;next element exists only for 0 which is 1, and for 1 which is 2. There exists no next element for the 3rd element&quot;. Hope it gave you some clarity. Cheers. \r\n","title":"What does arrays.length -1 mean in Java?","body":"<p>to make it super clear let us understand it the other way round. The length of your array here is 8. When talking about indexing of arrays,we know that index always starts from 0. The reason behind arr.length-1 is, we are looping all the elements from i=0 to i=6 as array lenght=8 and i&lt;8-1 means i&lt;7 so it would result in printing only from 0 to 6.. So its going to print elements only upto :[23,75,982,22,74,45,0]. Code should be changed from i&lt;arr.length-1 to i&lt;arr.length and you will print all values. Specially,arr.length-1 is used only when working with i+1 elements (Finding duplicates,etc.) because there, we don't want the index to go out of bounds.</p>\n<p>For an array of length=3 when i=0, &quot;next element exists only for 0 which is 1, and for 1 which is 2. There exists no next element for the 3rd element&quot;. Hope it gave you some clarity. Cheers.</p>\n"}],"owner":{"account_id":14233370,"reputation":1,"user_id":10281912,"display_name":"Mohamed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14152,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":52999727,"answer_count":2,"score":-3,"last_activity_date":1679641467,"creation_date":1540511629,"question_id":52999621,"body_markdown":"I have a problem understanding what `array.length-1` means in my code:\r\n\r\n    public static void main(String args[]){ \r\n        int[] array = new int[]{23, 75, 982, 22, 74, 45, 0, 76};\r\n        for (int i=0; i&lt; array.length -1; i++) {\r\n                System.out.println(array[i]);\r\n            }\r\n    }","title":"What does arrays.length -1 mean in Java?","body":"<p>I have a problem understanding what <code>array.length-1</code> means in my code:</p>\n<pre><code>public static void main(String args[]){ \n    int[] array = new int[]{23, 75, 982, 22, 74, 45, 0, 76};\n    for (int i=0; i&lt; array.length -1; i++) {\n            System.out.println(array[i]);\n        }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679639372,"post_id":75830544,"comment_id":133760500,"body_markdown":"Potentially, when you are using HBN API it may take advantage of using caches (both session- and 2nd-level), moreover, since HBN has more information about it&#39;s intestines it can manage caches more reliable than `spring`&#39;s `@Cacheable`, however, IRL I do believe HBN cache implementation is broken: https://discourse.hibernate.org/t/2nd-level-cache-does-not-work-as-expected/7041/1","body":"Potentially, when you are using HBN API it may take advantage of using caches (both session- and 2nd-level), moreover, since HBN has more information about it&#39;s intestines it can manage caches more reliable than <code>spring</code>&#39;s <code>@Cacheable</code>, however, IRL I do believe HBN cache implementation is broken: <a href=\"https://discourse.hibernate.org/t/2nd-level-cache-does-not-work-as-expected/7041/1\" rel=\"nofollow noreferrer\">discourse.hibernate.org/t/&hellip;</a>"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679644233,"post_id":75830544,"comment_id":133761291,"body_markdown":"`spring-data-jpa` (`Optional&lt;Product&gt; findByCode(String code)` method) can&#39;t take advantage of `@NaturalId` because `@NaturalId` is a proprietary feature of HBN, so, if you worry about performance you need to either use HBN API (`bySimpleNaturalId`), however there is no guarantee that you will get any visible performance benefits, or use spring caching capabilities; if you don&#39;t there is no feasible reason to use `@NaturalId` at all.","body":"<code>spring-data-jpa</code> (<code>Optional&lt;Product&gt; findByCode(String code)</code> method) can&#39;t take advantage of <code>@NaturalId</code> because <code>@NaturalId</code> is a proprietary feature of HBN, so, if you worry about performance you need to either use HBN API (<code>bySimpleNaturalId</code>), however there is no guarantee that you will get any visible performance benefits, or use spring caching capabilities; if you don&#39;t there is no feasible reason to use <code>@NaturalId</code> at all."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1679647843,"post_id":75830544,"comment_id":133762078,"body_markdown":"HBN - Hibernate, idiomatic way is to create Composite Repositories: https://thorben-janssen.com/composite-repositories-spring-data-jpa/, https://www.baeldung.com/spring-data-composable-repositories, https://vladmihalcea.com/custom-spring-data-repository/","body":"HBN - Hibernate, idiomatic way is to create Composite Repositories: <a href=\"https://thorben-janssen.com/composite-repositories-spring-data-jpa/\" rel=\"nofollow noreferrer\">thorben-janssen.com/composite-repositories-spring-data-jpa</a>, <a href=\"https://www.baeldung.com/spring-data-composable-repositories\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-composable-repositories</a>, <a href=\"https://vladmihalcea.com/custom-spring-data-repository/\" rel=\"nofollow noreferrer\">vladmihalcea.com/custom-spring-data-repository</a>"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679641411,"creation_date":1679638719,"question_id":75830544,"body_markdown":"I am trying to use `@NaturalId` with a proper implementation and have seen the following implementation example:\r\n\r\n[How to Use Hibernate Natural IDs in Spring Boot](https://dzone.com/articles/how-to-use-hibernate-natural-ids-in-spring-boot)\r\n\r\nHowever, I could not understand what the difference is between just using a `findByFieldName()` method and that implementation mentioned on that page. \r\n\r\nSo, what is the difference when searching a record by `@NaturalId` using simply this:\r\n\r\n**Approach I:**\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {  \r\n    Optional&lt;Product&gt; findByCode(String code);  \r\n}\r\n```\r\n\r\nAnd this (with tons of implementations) &gt;&gt;&gt;\r\n\r\n\r\n**Approach II:**\r\n\r\n```\r\n@Entity\r\npublic class Product implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n\r\n    @NaturalId(mutable = false)\r\n    @Column(nullable = false, updatable = false, unique = true, length = 50)\r\n    private String code;\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@NoRepositoryBean\r\npublic interface NaturalRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\r\n\r\n    // use this method when your entity has a single field annotated with @NaturalId\r\n    Optional&lt;T&gt; findBySimpleNaturalId(ID naturalId);\r\n\r\n    // use this method when your entity has more than one field annotated with @NaturalId\r\n    Optional&lt;T&gt; findByNaturalId(Map&lt;String, Object&gt; naturalIds);        \r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Transactional(readOnly = true)\r\npublic class NaturalRepositoryImpl&lt;T, ID extends Serializable&gt;\r\n        extends SimpleJpaRepository&lt;T, ID&gt; implements NaturalRepository&lt;T, ID&gt; {\r\n\r\n    private final EntityManager entityManager;\r\n\r\n    public NaturalRepositoryImpl(JpaEntityInformation entityInformation,\r\n            EntityManager entityManager) {\r\n        super(entityInformation, entityManager);\r\n\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findBySimpleNaturalId(ID naturalId) {\r\n\r\n        Optional&lt;T&gt; entity = entityManager.unwrap(Session.class)\r\n                .bySimpleNaturalId(this.getDomainClass())\r\n                .loadOptional(naturalId);\r\n\r\n        return entity;\r\n    }\r\n\r\n    @Override\r\n    public Optional&lt;T&gt; findByNaturalId(Map&lt;String, Object&gt; naturalIds) {\r\n\r\n        NaturalIdLoadAccess&lt;T&gt; loadAccess\r\n                = entityManager.unwrap(Session.class).byNaturalId(this.getDomainClass());\r\n        naturalIds.forEach(loadAccess::using);\r\n\r\n        return loadAccess.loadOptional();\r\n    }\r\n\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableJpaRepositories(repositoryBaseClass = NaturalRepositoryImpl.class)\r\npublic class NaturalIdApplication {\r\n    ...\r\n}\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n```\r\n@Repository\r\npublic interface ProductRepository&lt;T, ID&gt; extends NaturalRepository&lt;Product, Long&gt;{    \r\n}\r\n```\r\n\r\nAny help would be appreciated.","title":"How to use Hibernate @NaturalId in Spring Boot?","body":"<p>I am trying to use <code>@NaturalId</code> with a proper implementation and have seen the following implementation example:</p>\n<p><a href=\"https://dzone.com/articles/how-to-use-hibernate-natural-ids-in-spring-boot\" rel=\"nofollow noreferrer\">How to Use Hibernate Natural IDs in Spring Boot</a></p>\n<p>However, I could not understand what the difference is between just using a <code>findByFieldName()</code> method and that implementation mentioned on that page.</p>\n<p>So, what is the difference when searching a record by <code>@NaturalId</code> using simply this:</p>\n<p><strong>Approach I:</strong></p>\n<pre><code>@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {  \n    Optional&lt;Product&gt; findByCode(String code);  \n}\n</code></pre>\n<p>And this (with tons of implementations) &gt;&gt;&gt;</p>\n<p><strong>Approach II:</strong></p>\n<pre><code>@Entity\npublic class Product implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n\n    @NaturalId(mutable = false)\n    @Column(nullable = false, updatable = false, unique = true, length = 50)\n    private String code;\n}\n</code></pre>\n<br/>\n<pre><code>@NoRepositoryBean\npublic interface NaturalRepository&lt;T, ID extends Serializable&gt; extends JpaRepository&lt;T, ID&gt; {\n\n    // use this method when your entity has a single field annotated with @NaturalId\n    Optional&lt;T&gt; findBySimpleNaturalId(ID naturalId);\n\n    // use this method when your entity has more than one field annotated with @NaturalId\n    Optional&lt;T&gt; findByNaturalId(Map&lt;String, Object&gt; naturalIds);        \n}\n</code></pre>\n<br/>\n<pre><code>@Transactional(readOnly = true)\npublic class NaturalRepositoryImpl&lt;T, ID extends Serializable&gt;\n        extends SimpleJpaRepository&lt;T, ID&gt; implements NaturalRepository&lt;T, ID&gt; {\n\n    private final EntityManager entityManager;\n\n    public NaturalRepositoryImpl(JpaEntityInformation entityInformation,\n            EntityManager entityManager) {\n        super(entityInformation, entityManager);\n\n        this.entityManager = entityManager;\n    }\n\n    @Override\n    public Optional&lt;T&gt; findBySimpleNaturalId(ID naturalId) {\n\n        Optional&lt;T&gt; entity = entityManager.unwrap(Session.class)\n                .bySimpleNaturalId(this.getDomainClass())\n                .loadOptional(naturalId);\n\n        return entity;\n    }\n\n    @Override\n    public Optional&lt;T&gt; findByNaturalId(Map&lt;String, Object&gt; naturalIds) {\n\n        NaturalIdLoadAccess&lt;T&gt; loadAccess\n                = entityManager.unwrap(Session.class).byNaturalId(this.getDomainClass());\n        naturalIds.forEach(loadAccess::using);\n\n        return loadAccess.loadOptional();\n    }\n\n}\n</code></pre>\n<br/>\n<pre><code>@SpringBootApplication\n@EnableJpaRepositories(repositoryBaseClass = NaturalRepositoryImpl.class)\npublic class NaturalIdApplication {\n    ...\n}\n</code></pre>\n<br/>\n<pre><code>@Repository\npublic interface ProductRepository&lt;T, ID&gt; extends NaturalRepository&lt;Product, Long&gt;{    \n}\n</code></pre>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679592567,"post_id":75824081,"comment_id":133753301,"body_markdown":"Try using [wait](https://www.baeldung.com/java-wait-notify#2-waitlong-timeout). Also its not necessary to pass the activity as a parameter because you can call `this.getApplicationContext`.","body":"Try using <a href=\"https://www.baeldung.com/java-wait-notify#2-waitlong-timeout\" rel=\"nofollow noreferrer\">wait</a>. Also its not necessary to pass the activity as a parameter because you can call <code>this.getApplicationContext</code>."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1679639546,"post_id":75824081,"comment_id":133760523,"body_markdown":"Aside from my answer, if you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) will help. Here is the corresponding [repo](https://github.com/alexmamo/RealtimeDatabase).","body":"Aside from my answer, if you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/RealtimeDatabase\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679748957,"post_id":75830623,"comment_id":133778449,"body_markdown":"Hey Mesameh. Did my answer help? Can I help you with other information?","body":"Hey Mesameh. Did my answer help? Can I help you with other information?"},{"owner":{"account_id":17539380,"reputation":33,"user_id":13338910,"display_name":"Mesameh"},"score":1,"creation_date":1680167587,"post_id":75830623,"comment_id":133853207,"body_markdown":"Yes, I now understand how it works and have already implemented that in my code. Thanks a lot.","body":"Yes, I now understand how it works and have already implemented that in my code. Thanks a lot."},{"owner":{"account_id":17539380,"reputation":33,"user_id":13338910,"display_name":"Mesameh"},"score":0,"creation_date":1680167732,"post_id":75830623,"comment_id":133853244,"body_markdown":"Also, I don&#39;t use Stackoverflow much, so I wanted to ask you another question unrelated to this topic, but I don&#39;t know where to ask you.","body":"Also, I don&#39;t use Stackoverflow much, so I wanted to ask you another question unrelated to this topic, but I don&#39;t know where to ask you."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1680168500,"post_id":75830623,"comment_id":133853425,"body_markdown":"I&#39;m only available, here, on StackOverflow.","body":"I&#39;m only available, here, on StackOverflow."},{"owner":{"account_id":17539380,"reputation":33,"user_id":13338910,"display_name":"Mesameh"},"score":0,"creation_date":1680257114,"post_id":75830623,"comment_id":133871236,"body_markdown":"I appreciate your help; I have a question; I&#39;m used to Java and building an android app now with it; I would like to have an IOS version in the future; which language should I use for the IOS app?","body":"I appreciate your help; I have a question; I&#39;m used to Java and building an android app now with it; I would like to have an IOS version in the future; which language should I use for the IOS app?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680261661,"post_id":75830623,"comment_id":133872266,"body_markdown":"@Mesameh I will recommend you [Swift](https://developer.apple.com/swift/).","body":"@Mesameh I will recommend you <a href=\"https://developer.apple.com/swift/\" rel=\"nofollow noreferrer\">Swift</a>."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679641102,"creation_date":1679639521,"answer_id":75830623,"question_id":75824081,"body_markdown":"Since you&#39;re attaching an [OnCompleteListener][1] to the `setValue()` operation, it means that there will always be a guarantee that you&#39;ll get either a completion result or an Exception, but you&#39;ll have to check that. How can you do that? Simply, by calling `isSuccessful()` method on the `Task` object. So if the `Task` is successful it means that the operation for adding the data to the Realtime Database is complete and there were no errors. On the other hand, if the `Task` isn&#39;t successful, then an Exception is thrown. Such an Exception usually arises when you have un proper security rules. And remember, it&#39;s always one, or the other, never both.\r\n\r\nSince all Firebase operations are asynchronous, the solution is always the same. If you need to perform some action only when you want to be 100% sure that the operation for adding data to the database is complete, then any code needs to be inside the onComplete method or be called from there. So in your case, right after the Toast.\r\n\r\nIf you need to use the result of an async operation outside the onComplete, then I recommend you check my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n\r\nIt&#39;s true that the answer refers to a read operation, but the exact same rules apply to the setValue operation.\r\n\r\n  [1]: https://developer.android.com/reference/com/google/android/play/core/tasks/OnCompleteListener","title":"I want to wait for a function till the tasks inside it finish, Android Java","body":"<p>Since you're attaching an <a href=\"https://developer.android.com/reference/com/google/android/play/core/tasks/OnCompleteListener\" rel=\"nofollow noreferrer\">OnCompleteListener</a> to the <code>setValue()</code> operation, it means that there will always be a guarantee that you'll get either a completion result or an Exception, but you'll have to check that. How can you do that? Simply, by calling <code>isSuccessful()</code> method on the <code>Task</code> object. So if the <code>Task</code> is successful it means that the operation for adding the data to the Realtime Database is complete and there were no errors. On the other hand, if the <code>Task</code> isn't successful, then an Exception is thrown. Such an Exception usually arises when you have un proper security rules. And remember, it's always one, or the other, never both.</p>\n<p>Since all Firebase operations are asynchronous, the solution is always the same. If you need to perform some action only when you want to be 100% sure that the operation for adding data to the database is complete, then any code needs to be inside the onComplete method or be called from there. So in your case, right after the Toast.</p>\n<p>If you need to use the result of an async operation outside the onComplete, then I recommend you check my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">How to return DataSnapshot value as a result of a method?</a></li>\n</ul>\n<p>It's true that the answer refers to a read operation, but the exact same rules apply to the setValue operation.</p>\n"}],"owner":{"account_id":17539380,"reputation":33,"user_id":13338910,"display_name":"Mesameh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75830623,"answer_count":1,"score":0,"last_activity_date":1679641102,"creation_date":1679580473,"question_id":75824081,"body_markdown":"Let&#39;s say I have this Function that sets a value in Firebase Database:\r\n\r\n\r\n```\r\n    public  void RegisterUserInDB(FirebaseUser user,Profile p,Activity activity){\r\n\r\n        DatabaseReference ref= database.getReference(&quot;Users&quot;);\r\n        ref.child(user.getUid()).setValue(p).addOnCompleteListener(\r\n                new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            Toast.makeText(\r\n                                    activity.getApplicationContext()\r\n                                    ,&quot;DB Updated&quot;\r\n                                    ,Toast.LENGTH_LONG)\r\n                                    .show();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n        dbProfile=p;\r\n        localProfile=p;\r\n    }\r\n\r\n```\r\nI want to use that function somewhere else like this:\r\n\r\n```\r\nRegisterUserInDB(user,p,activity);\r\ndoSomeThingAfter();\r\n```\r\nbut I want everything to wait till that task inside the function finishes, I understand that I&#39;m only adding a listener here but not running the task, but as mentioned earlier, something depends on the code I&#39;ll put in the onComplete method.\r\nCan someone help :)?\r\n\r\nAlso, do you think it&#39;s a bad use to pass the Activity as a parameter?\r\n\r\n\r\nEvery time I do that, the function doSomeThingAfter() executes before the task is done.","title":"I want to wait for a function till the tasks inside it finish, Android Java","body":"<p>Let's say I have this Function that sets a value in Firebase Database:</p>\n<pre><code>    public  void RegisterUserInDB(FirebaseUser user,Profile p,Activity activity){\n\n        DatabaseReference ref= database.getReference(&quot;Users&quot;);\n        ref.child(user.getUid()).setValue(p).addOnCompleteListener(\n                new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        if(task.isSuccessful()){\n                            Toast.makeText(\n                                    activity.getApplicationContext()\n                                    ,&quot;DB Updated&quot;\n                                    ,Toast.LENGTH_LONG)\n                                    .show();\n                        }\n                    }\n                }\n        );\n        dbProfile=p;\n        localProfile=p;\n    }\n\n</code></pre>\n<p>I want to use that function somewhere else like this:</p>\n<pre><code>RegisterUserInDB(user,p,activity);\ndoSomeThingAfter();\n</code></pre>\n<p>but I want everything to wait till that task inside the function finishes, I understand that I'm only adding a listener here but not running the task, but as mentioned earlier, something depends on the code I'll put in the onComplete method.\nCan someone help :)?</p>\n<p>Also, do you think it's a bad use to pass the Activity as a parameter?</p>\n<p>Every time I do that, the function doSomeThingAfter() executes before the task is done.</p>\n"},{"tags":["java","connection","httpurlconnection","proxies"],"owner":{"account_id":27945286,"reputation":1,"user_id":21340414,"display_name":"Nikhil Makwana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679640821,"creation_date":1679593916,"question_id":75826457,"body_markdown":"Basically, I have txt File filled with proxies. Format \\[127.0.0.1:8080\\], and I want to check that all proxies are alive or Dead.\r\nI have written this code but its stopes after one iteration and give error connection reset.\r\n\r\n```\r\npackage proxychecker;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.Proxy;\r\nimport java.net.URL;\r\n\r\npublic class ProxyChecker {\r\n    public static void main(String[] args) throws IOException {\r\n\r\n            String TEST_URL = &quot;https://google.com&quot;;\r\n\r\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;proxies.txt&quot;));\r\n            String line;\r\n\r\n            List&lt;String&gt; proxies = new ArrayList&lt;&gt;();\r\n\r\n            while ((line = reader.readLine()) != null) {\r\n                proxies.add(line);\r\n            }\r\n            reader.close();\r\n\r\n            for (String proxyString : proxies) {\r\n                String[] parts = proxyString.split(&quot;:&quot;);\r\n                String host = parts[0];\r\n                int port = Integer.parseInt(parts[1]);\r\n\r\n                Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(host, port));\r\n                URL url = new URL(TEST_URL);\r\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection(proxy);\r\n\r\n                // Set connection and read timeouts\r\n                conn.setConnectTimeout(5000);\r\n                conn.setReadTimeout(5000);\r\n\r\n                // Get response code and time taken\r\n                long start = System.currentTimeMillis();\r\n\r\n                int responseCode = conn.getResponseCode();\r\n\r\n                long timeTaken = System.currentTimeMillis() - start;\r\n\r\n                ((HttpURLConnection) conn).disconnect();\r\n                System.out.println(&quot;[ &quot;+ responseCode+&quot; ]  :  [ &quot;+ timeTaken + &quot; ]  : &quot; + proxyString);\r\n\r\n                conn.disconnect();\r\n\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nError:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\r\n&gt; at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\r\n&gt; at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340) at\r\n&gt; java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789) at\r\n&gt; java.base/java.net.Socket$SocketInputStream.read(Socket.java:1025) at\r\n&gt; java.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\r\n&gt; at\r\n&gt; java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:310)\r\n&gt; at\r\n&gt; java.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:382)\r\n&gt; at\r\n&gt; java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:361)\r\n&gt; at\r\n&gt; java.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:827)\r\n&gt; at\r\n&gt; java.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.doTunneling0(HttpURLConnection.java:2170)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2132)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\r\n&gt; at\r\n&gt; java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n&gt; at\r\n&gt; java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n&gt; at proxychecker.ProxyChecker.main(ProxyChecker.java:45)**\r\n&gt; \r\n&gt; \r\n&gt; I want to check all proxies, no matter which library you are using.\r\n&gt; I&#39;m frustrated at this point.","title":"Proxy Checking, Stops after one iteration. Connection reset, Java","body":"<p>Basically, I have txt File filled with proxies. Format [127.0.0.1:8080], and I want to check that all proxies are alive or Dead.\nI have written this code but its stopes after one iteration and give error connection reset.</p>\n<pre><code>package proxychecker;\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.net.HttpURLConnection;\nimport java.net.InetSocketAddress;\nimport java.net.Proxy;\nimport java.net.URL;\n\npublic class ProxyChecker {\n    public static void main(String[] args) throws IOException {\n\n            String TEST_URL = &quot;https://google.com&quot;;\n\n            BufferedReader reader = new BufferedReader(new FileReader(&quot;proxies.txt&quot;));\n            String line;\n\n            List&lt;String&gt; proxies = new ArrayList&lt;&gt;();\n\n            while ((line = reader.readLine()) != null) {\n                proxies.add(line);\n            }\n            reader.close();\n\n            for (String proxyString : proxies) {\n                String[] parts = proxyString.split(&quot;:&quot;);\n                String host = parts[0];\n                int port = Integer.parseInt(parts[1]);\n\n                Proxy proxy = new Proxy(Proxy.Type.HTTP, new InetSocketAddress(host, port));\n                URL url = new URL(TEST_URL);\n                HttpURLConnection conn = (HttpURLConnection) url.openConnection(proxy);\n\n                // Set connection and read timeouts\n                conn.setConnectTimeout(5000);\n                conn.setReadTimeout(5000);\n\n                // Get response code and time taken\n                long start = System.currentTimeMillis();\n\n                int responseCode = conn.getResponseCode();\n\n                long timeTaken = System.currentTimeMillis() - start;\n\n                ((HttpURLConnection) conn).disconnect();\n                System.out.println(&quot;[ &quot;+ responseCode+&quot; ]  :  [ &quot;+ timeTaken + &quot; ]  : &quot; + proxyString);\n\n                conn.disconnect();\n\n            }\n    }\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.net.SocketException: Connection reset\nat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:313)\nat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:340) at\njava.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:789) at\njava.base/java.net.Socket$SocketInputStream.read(Socket.java:1025) at\njava.base/java.io.BufferedInputStream.fill(BufferedInputStream.java:255)\nat\njava.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:310)\nat\njava.base/java.io.BufferedInputStream.implRead(BufferedInputStream.java:382)\nat\njava.base/java.io.BufferedInputStream.read(BufferedInputStream.java:361)\nat\njava.base/sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:827)\nat\njava.base/sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:759)\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.doTunneling0(HttpURLConnection.java:2170)\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.doTunneling(HttpURLConnection.java:2132)\nat\njava.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\nat\njava.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\nat\njava.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\nat\njava.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\nat proxychecker.ProxyChecker.main(ProxyChecker.java:45)**</p>\n<p>I want to check all proxies, no matter which library you are using.\nI'm frustrated at this point.</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","visual-studio-code","gradle"],"answers":[{"tags":[],"owner":{"account_id":27168756,"reputation":36,"user_id":20705809,"display_name":"IncapableCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673811018,"creation_date":1673811018,"answer_id":75127850,"question_id":75127379,"body_markdown":"I have found 3 links where people faced the same or something similar to what you are having. I hope these help! :)\r\n\r\n[IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid][1]\r\n\r\n[Android Studio - supplied javaHome is not a valid folder][2]\r\n\r\n[The supplied javaHome seems to be invalid][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29356796/intellij-gradle-plugin-the-supplied-javahome-seems-to-be-invalid\r\n  [2]: https://stackoverflow.com/questions/22749200/android-studio-supplied-javahome-is-not-a-valid-folder\r\n  [3]: https://stackoverflow.com/questions/69448462/the-supplied-javahome-seems-to-be-invalid-i-cannot-find-the-java-executable-tr","title":"i get this error after update Android Studio","body":"<p>I have found 3 links where people faced the same or something similar to what you are having. I hope these help! :)</p>\n<p><a href=\"https://stackoverflow.com/questions/29356796/intellij-gradle-plugin-the-supplied-javahome-seems-to-be-invalid\">IntelliJ Gradle Plugin: The supplied javaHome seems to be invalid</a></p>\n<p><a href=\"https://stackoverflow.com/questions/22749200/android-studio-supplied-javahome-is-not-a-valid-folder\">Android Studio - supplied javaHome is not a valid folder</a></p>\n<p><a href=\"https://stackoverflow.com/questions/69448462/the-supplied-javahome-seems-to-be-invalid-i-cannot-find-the-java-executable-tr\">The supplied javaHome seems to be invalid</a></p>\n"},{"tags":[],"owner":{"account_id":20802364,"reputation":33,"user_id":15278093,"display_name":"Mohamed Abdelmaged"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673963097,"creation_date":1673817545,"answer_id":75128471,"question_id":75127379,"body_markdown":"This solution worked for me:\r\n\r\nIf someone faces this error after Android Studio update to Android Studio Electric Eel | 2022.1.1 than simply follow following steps:\r\n\r\n1. Go To Android Studio directory (default `C:\\Program Files\\Android\\Android Studio`) and remove jre folder.\r\n2. Run cmd as administrator.\r\n3. Write: `cd C:\\Program Files\\Android\\Android Studio`\r\n4. Write `mklink /D &quot;jre&quot; &quot;jbr&quot;`","title":"i get this error after update Android Studio","body":"<p>This solution worked for me:</p>\n<p>If someone faces this error after Android Studio update to Android Studio Electric Eel | 2022.1.1 than simply follow following steps:</p>\n<ol>\n<li>Go To Android Studio directory (default <code>C:\\Program Files\\Android\\Android Studio</code>) and remove jre folder.</li>\n<li>Run cmd as administrator.</li>\n<li>Write: <code>cd C:\\Program Files\\Android\\Android Studio</code></li>\n<li>Write <code>mklink /D &quot;jre&quot; &quot;jbr&quot;</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5624239,"reputation":111,"user_id":4453154,"display_name":"gtgray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679640716,"creation_date":1679640716,"answer_id":75830740,"question_id":75127379,"body_markdown":"If someone facing a problem with update from AS Electric Eel 2022.1.1 **patch 1** to AS Electric Eel 2022.1.1 **patch 2**, the following solution worked for me: &lt;br/&gt;\r\n    1\\ Create an empty file `/jre/bin/.marker` in AS folder &lt;br/&gt;\r\n    2\\ Run update again\r\n\r\nNote: &lt;br/&gt;\r\nsince AS Electric Eel 2022.1.1 patch 1 there is no `jre` folder, but `jbr` folder exists instead\r\n\r\nMy environment:&lt;br/&gt;\r\nWindows 11 &lt;br/&gt;\r\nAS folder is c:/android/android_studio","title":"i get this error after update Android Studio","body":"<p>If someone facing a problem with update from AS Electric Eel 2022.1.1 <strong>patch 1</strong> to AS Electric Eel 2022.1.1 <strong>patch 2</strong>, the following solution worked for me: <br/>\n1\\ Create an empty file <code>/jre/bin/.marker</code> in AS folder <br/>\n2\\ Run update again</p>\n<p>Note: <br/>\nsince AS Electric Eel 2022.1.1 patch 1 there is no <code>jre</code> folder, but <code>jbr</code> folder exists instead</p>\n<p>My environment:<br/>\nWindows 11 <br/>\nAS folder is c:/android/android_studio</p>\n"}],"owner":{"account_id":20802364,"reputation":33,"user_id":15278093,"display_name":"Mohamed Abdelmaged"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75127850,"answer_count":3,"score":0,"last_activity_date":1679640716,"creation_date":1673806782,"question_id":75127379,"body_markdown":"FAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nException: Gradle task assembleDebug failed with exit code 1\r\n","title":"i get this error after update Android Studio","body":"<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a>\nException: Gradle task assembleDebug failed with exit code 1</li>\n</ul>\n"},{"tags":["java","spring-boot","hibernate","hibernate-6.x"],"comments":[{"owner":{"account_id":1782099,"reputation":843,"user_id":1624551,"display_name":"Pao"},"score":0,"creation_date":1679650283,"post_id":75830677,"comment_id":133762652,"body_markdown":"Have you tried escaped double quotes instead of ticks, cf. https://stackoverflow.com/questions/28571848/spring-boot-jpa-insert-in-table-with-uppercase-name-with-hibernate#comment61318428_28574416? In this question and the answers there is also something about naming strategies, might also help.","body":"Have you tried escaped double quotes instead of ticks, cf. <a href=\"https://stackoverflow.com/questions/28571848/spring-boot-jpa-insert-in-table-with-uppercase-name-with-hibernate#comment61318428_28574416\" title=\"spring boot jpa insert in table with uppercase name with hibernate%23comment61318428_28574416\">stackoverflow.com/questions/28571848/&hellip;</a>? In this question and the answers there is also something about naming strategies, might also help."}],"owner":{"account_id":25196903,"reputation":136,"user_id":19036320,"display_name":"Kirill Vizniuk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679640573,"creation_date":1679640090,"question_id":75830677,"body_markdown":"Good day everyone,\r\ntrying to upgrade Spring 5 to 6 as well as Hibernate from 5 to 6 versions.\r\nStumble upon an issue which I guess related to JPA and id casing.\r\n\r\nWe are using JpaRepository with mix of custom `@Query`&#39;es, no XML configuration.\r\n\r\nThe problem we face is methods delivered from JpaRepository can&#39;t find ID of Domain Model, presumably due to casing issue. So for example `findById(String id)` doesn&#39;t work out of box.\r\n\r\nOriginal Stack Trace\r\n\r\n```\r\norg.springframework.orm.jpa.JpaSystemException: Unable to resolve property: {id}\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:321)\r\n\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\r\n\tat org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\r\n\tat org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy188.findById(Unknown Source)\r\nCaused by: org.hibernate.HibernateException: Unable to resolve property: {id}\r\n\tat org.hibernate.tuple.entity.EntityMetamodel.getPropertyIndex(EntityMetamodel.java:878)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.getPropertyIndex(AbstractEntityPersister.java:2826)\r\n\tat org.hibernate.sql.results.graph.entity.internal.AbstractBatchEntitySelectFetchInitializer.getPropertyIndex(AbstractBatchEntitySelectFetchInitializer.java:133)\r\n\tat org.hibernate.sql.results.graph.entity.internal.BatchEntityInsideEmbeddableSelectFetchInitializer.lambda$registerResolutionListener$0(BatchEntityInsideEmbeddableSelectFetchInitializer.java:82)\r\n\tat org.hibernate.sql.results.graph.AbstractFetchParentAccess.notifyResolutionListeners(AbstractFetchParentAccess.java:41)\r\n\tat org.hibernate.sql.results.graph.embeddable.AbstractEmbeddableInitializer.initializeInstance(AbstractEmbeddableInitializer.java:205)\r\n\tat org.hibernate.sql.results.graph.embeddable.internal.EmbeddableAssembler.assemble(EmbeddableAssembler.java:34)\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeIdentifier(AbstractEntityInitializer.java:425)\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveEntityKey(AbstractEntityInitializer.java:387)\r\n\tat org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveKey(AbstractEntityInitializer.java:318)\r\n\tat org.hibernate.sql.results.graph.entity.internal.EntityJoinedFetchInitializer.resolveKey(EntityJoinedFetchInitializer.java:74)\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:126)\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:97)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:178)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:98)\r\n\tat org.hibernate.loader.ast.internal.CollectionLoaderBatchKey.load(CollectionLoaderBatchKey.java:122)\r\n\tat org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:789)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n\tat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1710)\r\n\tat org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:617)\r\n\tat org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)\r\n\tat org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:615)\r\n\tat org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:813)\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1003)\r\n\tat org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:989)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:225)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.loader.ast.internal.SingleUniqueKeyEntityLoaderStandard.load(SingleUniqueKeyEntityLoaderStandard.java:102)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2798)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2790)\r\n\tat org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchByUniqueKeyInitializer.initializeInstance(EntitySelectFetchByUniqueKeyInitializer.java:86)\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:152)\r\n\tat org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:97)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:178)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:88)\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderDynamicBatch.load(SingleIdEntityLoaderDynamicBatch.java:78)\r\n\tat org.hibernate.loader.ast.internal.SingleIdEntityLoaderDynamicBatch.load(SingleIdEntityLoaderDynamicBatch.java:60)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4416)\r\n\tat org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4406)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:590)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:563)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:221)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\r\n\tat org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1232)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:195)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\r\n\tat org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\r\n\tat org.hibernate.internal.SessionImpl.find(SessionImpl.java:2303)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy179.find(Unknown Source)\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:316)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\t... 25 common frames omitted\r\n```\r\n\r\n\r\n\r\n\r\nExample of our ID mappings in Domain Model\r\n\r\n```java\r\n @Id\r\n @GeneratedValue(generator = &quot;uuid2&quot;)\r\n @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n @JsonProperty(&quot;ID&quot;)\r\n @Column(name = &quot;`ID`&quot;, length = 36)\r\n private String id;\r\n```\r\n\r\nWe are using upperCase Database Column names with `ID`. I suppose the problem is JPA trying to look for `id` while we have `ID` there. \r\nMaking custom `findById(String id)` with `@Query` works fine, but not very eager to change ~200 repositories :) So hoping for better solution.\r\n\r\nTried making custom `findById()` but that&#39;s local fix, tried naming strategy with Uppercase, didn&#39;t worked.","title":"Hibernate 6.1 JPA - Unable to resolve property: {id}","body":"<p>Good day everyone,\ntrying to upgrade Spring 5 to 6 as well as Hibernate from 5 to 6 versions.\nStumble upon an issue which I guess related to JPA and id casing.</p>\n<p>We are using JpaRepository with mix of custom <code>@Query</code>'es, no XML configuration.</p>\n<p>The problem we face is methods delivered from JpaRepository can't find ID of Domain Model, presumably due to casing issue. So for example <code>findById(String id)</code> doesn't work out of box.</p>\n<p>Original Stack Trace</p>\n<pre><code>org.springframework.orm.jpa.JpaSystemException: Unable to resolve property: {id}\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:321)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:550)\n    at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)\n    at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy188.findById(Unknown Source)\nCaused by: org.hibernate.HibernateException: Unable to resolve property: {id}\n    at org.hibernate.tuple.entity.EntityMetamodel.getPropertyIndex(EntityMetamodel.java:878)\n    at org.hibernate.persister.entity.AbstractEntityPersister.getPropertyIndex(AbstractEntityPersister.java:2826)\n    at org.hibernate.sql.results.graph.entity.internal.AbstractBatchEntitySelectFetchInitializer.getPropertyIndex(AbstractBatchEntitySelectFetchInitializer.java:133)\n    at org.hibernate.sql.results.graph.entity.internal.BatchEntityInsideEmbeddableSelectFetchInitializer.lambda$registerResolutionListener$0(BatchEntityInsideEmbeddableSelectFetchInitializer.java:82)\n    at org.hibernate.sql.results.graph.AbstractFetchParentAccess.notifyResolutionListeners(AbstractFetchParentAccess.java:41)\n    at org.hibernate.sql.results.graph.embeddable.AbstractEmbeddableInitializer.initializeInstance(AbstractEmbeddableInitializer.java:205)\n    at org.hibernate.sql.results.graph.embeddable.internal.EmbeddableAssembler.assemble(EmbeddableAssembler.java:34)\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.initializeIdentifier(AbstractEntityInitializer.java:425)\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveEntityKey(AbstractEntityInitializer.java:387)\n    at org.hibernate.sql.results.graph.entity.AbstractEntityInitializer.resolveKey(AbstractEntityInitializer.java:318)\n    at org.hibernate.sql.results.graph.entity.internal.EntityJoinedFetchInitializer.resolveKey(EntityJoinedFetchInitializer.java:74)\n    at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:126)\n    at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:97)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:178)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:98)\n    at org.hibernate.loader.ast.internal.CollectionLoaderBatchKey.load(CollectionLoaderBatchKey.java:122)\n    at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:789)\n    at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n    at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1710)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:617)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:615)\n    at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:813)\n    at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1003)\n    at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:989)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:225)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.loader.ast.internal.SingleUniqueKeyEntityLoaderStandard.load(SingleUniqueKeyEntityLoaderStandard.java:102)\n    at org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2798)\n    at org.hibernate.persister.entity.AbstractEntityPersister.loadByUniqueKey(AbstractEntityPersister.java:2790)\n    at org.hibernate.sql.results.graph.entity.internal.EntitySelectFetchByUniqueKeyInitializer.initializeInstance(EntitySelectFetchByUniqueKeyInitializer.java:86)\n    at org.hibernate.sql.results.internal.StandardRowReader.coordinateInitializers(StandardRowReader.java:152)\n    at org.hibernate.sql.results.internal.StandardRowReader.readRow(StandardRowReader.java:97)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:178)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.loader.ast.internal.SingleIdLoadPlan.load(SingleIdLoadPlan.java:140)\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderStandardImpl.load(SingleIdEntityLoaderStandardImpl.java:88)\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderDynamicBatch.load(SingleIdEntityLoaderDynamicBatch.java:78)\n    at org.hibernate.loader.ast.internal.SingleIdEntityLoaderDynamicBatch.load(SingleIdEntityLoaderDynamicBatch.java:60)\n    at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4416)\n    at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4406)\n    at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:590)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:563)\n    at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:221)\n    at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:358)\n    at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:110)\n    at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:72)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118)\n    at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1244)\n    at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1232)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.doLoad(IdentifierLoadAccessImpl.java:195)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.lambda$load$1(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.perform(IdentifierLoadAccessImpl.java:108)\n    at org.hibernate.loader.access.IdentifierLoadAccessImpl.load(IdentifierLoadAccessImpl.java:161)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2336)\n    at org.hibernate.internal.SessionImpl.find(SessionImpl.java:2303)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)\n    at jdk.proxy2/jdk.proxy2.$Proxy179.find(Unknown Source)\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findById(SimpleJpaRepository.java:316)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    ... 25 common frames omitted\n</code></pre>\n<p>Example of our ID mappings in Domain Model</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Id\n @GeneratedValue(generator = &quot;uuid2&quot;)\n @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n @JsonProperty(&quot;ID&quot;)\n @Column(name = &quot;`ID`&quot;, length = 36)\n private String id;\n</code></pre>\n<p>We are using upperCase Database Column names with <code>ID</code>. I suppose the problem is JPA trying to look for <code>id</code> while we have <code>ID</code> there.\nMaking custom <code>findById(String id)</code> with <code>@Query</code> works fine, but not very eager to change ~200 repositories :) So hoping for better solution.</p>\n<p>Tried making custom <code>findById()</code> but that's local fix, tried naming strategy with Uppercase, didn't worked.</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679639917,"creation_date":1679639917,"answer_id":75830663,"question_id":75824832,"body_markdown":"The following syntaxes are invalid:\r\n```\r\nselect `System.User`\r\nselect `System.User` from `System.User`\r\n```\r\n\r\nThe correct one is:\r\n```\r\nselect a from `System.User` a\r\n```\r\n","title":"failed to retrieve objects with database first approach","body":"<p>The following syntaxes are invalid:</p>\n<pre><code>select `System.User`\nselect `System.User` from `System.User`\n</code></pre>\n<p>The correct one is:</p>\n<pre><code>select a from `System.User` a\n</code></pre>\n"}],"owner":{"account_id":201208,"reputation":3985,"user_id":447503,"accept_rate":61,"display_name":"basin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679639917,"creation_date":1679584669,"question_id":75824832,"body_markdown":"I&#39;m trying to use Hibernate 6 on a readonly replica of a Mendix app. For starters, I wrote a few entity classes and instantiated EntityManager. When I try to retrieve objects it fails with `EntityTypeLiteral cannot be cast to class org.hibernate.metamodel.mapping.SqlExpressible`. I tried Postgres and HSQLDB with the same result. See the full output below.\r\n\r\nThe full test project is here: https://github.com/basinilya/MendixHibernate , commit [e52ad6826f][1]\r\n\r\nSome code:\r\n\r\n```\r\nCREATE TABLE &quot;system$user&quot;(\r\n&quot;id&quot; BIGINT,\r\n&quot;name&quot; VARCHAR(100),\r\n&quot;submetaobjectname&quot; VARCHAR(255)\r\n);\r\nCREATE TABLE &quot;administration$account&quot;(\r\n&quot;id&quot; BIGINT\r\n);\r\n\r\n    private static void retrieveAllMxUsers(final EntityManager entityManager) {\r\n        final Query query = entityManager.createQuery(&quot;select System.User from System.User&quot;);\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        final List&lt;DbUser&gt; objs = query.getResultList();\r\n        for (final DbUser obj : objs) {\r\n            System.out\r\n                .println(\r\n                    entityManager.getMetamodel().entity(obj.getClass()).getName() + &quot;: &quot; + obj\r\n                        .getName());\r\n        }\r\n    }\r\n\r\n@Entity(name = mxhibernate.entities.DbUser.entityName)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@Table(name = &quot;system$user&quot;)\r\n@DiscriminatorColumn(name = &quot;submetaobjectname&quot;)\r\npublic class DbUser {\r\n\r\n    public static final java.lang.String entityName = &quot;System.User&quot;;\r\n\r\n    private long id;\r\n\r\n    private String name;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(final String aaa) {\r\n        this.name = aaa;\r\n    }\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(final long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n@Entity(name = mxhibernate.entities.DbAccount.entityName)\r\n@Table(name = &quot;administration$account&quot;)\r\npublic class DbAccount extends DbUser {\r\n\r\n    public static final java.lang.String entityName = &quot;Administration.Account&quot;;\r\n\r\n}\r\n```\r\n_\r\n```\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Starting...\r\n[main] INFO com.zaxxer.hikari.pool.PoolBase - MxDbConnector-HikaryCP-0 - Driver does not support get/set network timeout for connections. (feature not supported)\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Start completed.\r\ncontents of system$user:\r\n(id:844424930132203)(submetaobjectname:System.User)(name:Anonymous_de9f940c-b0c6-47f8-b4a7-a10b8392ed42)\r\n(id:844424930145019)(submetaobjectname:System.User)(name:MxAdmin)\r\n(id:5348024557502651)(submetaobjectname:Administration.Account)(name:demo_administrator)\r\n(id:5348024557502777)(submetaobjectname:Administration.Account)(name:demo_user)\r\n\r\nMar 23, 2023 6:03:42 PM org.hibernate.Version logVersion\r\nINFO: HHH000412: Hibernate ORM core version 6.1.7.Final\r\nMar 23, 2023 6:03:42 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\r\nINFO: HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\r\nMar 23, 2023 6:03:42 PM org.hibernate.cfg.annotations.EntityBinder processJoinedDiscriminatorProperties\r\nWARN: HHH000457: Joined inheritance hierarchy [mxhibernate.entities.DbUser] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)\r\nMar 23, 2023 6:03:43 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\r\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\nKnown entity: Administration.Account\r\nKnown entity: System.User\r\n\r\njakarta.persistence.PersistenceException: Converting `org.hibernate.HibernateException` to JPA `PersistenceException` : Unable to extract JDBC value for position `1`\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:374)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat mxhibernate.MendixHibernate.retrieveAllMxUsers(MendixHibernate.java:111)\r\n\tat mxhibernate.MendixHibernate.logUsersWithHibernate(MendixHibernate.java:97)\r\n\tat mxhibernate.MendixHibernate.customLogic0(MendixHibernate.java:66)\r\n\tat mxhibernate.MendixHibernate.customLogic(MendixHibernate.java:54)\r\n\tat mxhibernate.MendixHibernate.executeWithMxDataSource(MendixHibernate.java:159)\r\n\tat mxhibernate.MendixHibernate.main(MendixHibernate.java:49)\r\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC value for position `1`\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.readCurrentRowValues(JdbcValuesResultSetImpl.java:271)\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advance(JdbcValuesResultSetImpl.java:244)\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)\r\n\tat org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:197)\r\n\tat org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:113)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:335)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\t... 8 more\r\nCaused by: java.lang.ClassCastException: class org.hibernate.sql.ast.tree.expression.EntityTypeLiteral cannot be cast to class org.hibernate.metamodel.mapping.SqlExpressible (org.hibernate.sql.ast.tree.expression.EntityTypeLiteral and org.hibernate.metamodel.mapping.SqlExpressible are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.sql.results.internal.SqlSelectionImpl.getJdbcValueExtractor(SqlSelectionImpl.java:60)\r\n\tat org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.readCurrentRowValues(JdbcValuesResultSetImpl.java:263)\r\n\t... 23 more\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Shutdown initiated...\r\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Shutdown completed.\r\n```\r\n\r\n\r\n  [1]: https://github.com/basinilya/MendixHibernate/tree/e52ad6826fab314a487ec17e12afafdaee149600","title":"failed to retrieve objects with database first approach","body":"<p>I'm trying to use Hibernate 6 on a readonly replica of a Mendix app. For starters, I wrote a few entity classes and instantiated EntityManager. When I try to retrieve objects it fails with <code>EntityTypeLiteral cannot be cast to class org.hibernate.metamodel.mapping.SqlExpressible</code>. I tried Postgres and HSQLDB with the same result. See the full output below.</p>\n<p>The full test project is here: <a href=\"https://github.com/basinilya/MendixHibernate\" rel=\"nofollow noreferrer\">https://github.com/basinilya/MendixHibernate</a> , commit <a href=\"https://github.com/basinilya/MendixHibernate/tree/e52ad6826fab314a487ec17e12afafdaee149600\" rel=\"nofollow noreferrer\">e52ad6826f</a></p>\n<p>Some code:</p>\n<pre><code>CREATE TABLE &quot;system$user&quot;(\n&quot;id&quot; BIGINT,\n&quot;name&quot; VARCHAR(100),\n&quot;submetaobjectname&quot; VARCHAR(255)\n);\nCREATE TABLE &quot;administration$account&quot;(\n&quot;id&quot; BIGINT\n);\n\n    private static void retrieveAllMxUsers(final EntityManager entityManager) {\n        final Query query = entityManager.createQuery(&quot;select System.User from System.User&quot;);\n        @SuppressWarnings(&quot;unchecked&quot;)\n        final List&lt;DbUser&gt; objs = query.getResultList();\n        for (final DbUser obj : objs) {\n            System.out\n                .println(\n                    entityManager.getMetamodel().entity(obj.getClass()).getName() + &quot;: &quot; + obj\n                        .getName());\n        }\n    }\n\n@Entity(name = mxhibernate.entities.DbUser.entityName)\n@Inheritance(strategy = InheritanceType.JOINED)\n@Table(name = &quot;system$user&quot;)\n@DiscriminatorColumn(name = &quot;submetaobjectname&quot;)\npublic class DbUser {\n\n    public static final java.lang.String entityName = &quot;System.User&quot;;\n\n    private long id;\n\n    private String name;\n\n    @Column(name = &quot;name&quot;)\n    public String getName() {\n        return name;\n    }\n\n    public void setName(final String aaa) {\n        this.name = aaa;\n    }\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n}\n\n@Entity(name = mxhibernate.entities.DbAccount.entityName)\n@Table(name = &quot;administration$account&quot;)\npublic class DbAccount extends DbUser {\n\n    public static final java.lang.String entityName = &quot;Administration.Account&quot;;\n\n}\n</code></pre>\n<p>_</p>\n<pre><code>[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Starting...\n[main] INFO com.zaxxer.hikari.pool.PoolBase - MxDbConnector-HikaryCP-0 - Driver does not support get/set network timeout for connections. (feature not supported)\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Start completed.\ncontents of system$user:\n(id:844424930132203)(submetaobjectname:System.User)(name:Anonymous_de9f940c-b0c6-47f8-b4a7-a10b8392ed42)\n(id:844424930145019)(submetaobjectname:System.User)(name:MxAdmin)\n(id:5348024557502651)(submetaobjectname:Administration.Account)(name:demo_administrator)\n(id:5348024557502777)(submetaobjectname:Administration.Account)(name:demo_user)\n\nMar 23, 2023 6:03:42 PM org.hibernate.Version logVersion\nINFO: HHH000412: Hibernate ORM core version 6.1.7.Final\nMar 23, 2023 6:03:42 PM org.hibernate.engine.jdbc.dialect.internal.DialectFactoryImpl logSelectedDialect\nINFO: HHH000400: Using dialect: org.hibernate.dialect.HSQLDialect\nMar 23, 2023 6:03:42 PM org.hibernate.cfg.annotations.EntityBinder processJoinedDiscriminatorProperties\nWARN: HHH000457: Joined inheritance hierarchy [mxhibernate.entities.DbUser] defined explicit @DiscriminatorColumn.  Legacy Hibernate behavior was to ignore the @DiscriminatorColumn.  However, as part of issue HHH-6911 we now apply the explicit @DiscriminatorColumn.  If you would prefer the legacy behavior, enable the `hibernate.discriminator.ignore_explicit_for_joined` setting (hibernate.discriminator.ignore_explicit_for_joined=true)\nMar 23, 2023 6:03:43 PM org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator initiateService\nINFO: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\nKnown entity: Administration.Account\nKnown entity: System.User\n\njakarta.persistence.PersistenceException: Converting `org.hibernate.HibernateException` to JPA `PersistenceException` : Unable to extract JDBC value for position `1`\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:165)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:374)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at mxhibernate.MendixHibernate.retrieveAllMxUsers(MendixHibernate.java:111)\n    at mxhibernate.MendixHibernate.logUsersWithHibernate(MendixHibernate.java:97)\n    at mxhibernate.MendixHibernate.customLogic0(MendixHibernate.java:66)\n    at mxhibernate.MendixHibernate.customLogic(MendixHibernate.java:54)\n    at mxhibernate.MendixHibernate.executeWithMxDataSource(MendixHibernate.java:159)\n    at mxhibernate.MendixHibernate.main(MendixHibernate.java:49)\nCaused by: org.hibernate.HibernateException: Unable to extract JDBC value for position `1`\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.readCurrentRowValues(JdbcValuesResultSetImpl.java:271)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.advance(JdbcValuesResultSetImpl.java:244)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.processNext(JdbcValuesResultSetImpl.java:85)\n    at org.hibernate.sql.results.jdbc.internal.AbstractJdbcValues.next(AbstractJdbcValues.java:29)\n    at org.hibernate.sql.results.internal.RowProcessingStateStandardImpl.next(RowProcessingStateStandardImpl.java:88)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:197)\n    at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:33)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:443)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166)\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91)\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$0(ConcreteSqmSelectQueryPlan.java:113)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:335)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    ... 8 more\nCaused by: java.lang.ClassCastException: class org.hibernate.sql.ast.tree.expression.EntityTypeLiteral cannot be cast to class org.hibernate.metamodel.mapping.SqlExpressible (org.hibernate.sql.ast.tree.expression.EntityTypeLiteral and org.hibernate.metamodel.mapping.SqlExpressible are in unnamed module of loader 'app')\n    at org.hibernate.sql.results.internal.SqlSelectionImpl.getJdbcValueExtractor(SqlSelectionImpl.java:60)\n    at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.readCurrentRowValues(JdbcValuesResultSetImpl.java:263)\n    ... 23 more\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Shutdown initiated...\n[main] INFO com.zaxxer.hikari.HikariDataSource - MxDbConnector-HikaryCP-0 - Shutdown completed.\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679639846,"creation_date":1679579575,"question_id":75823915,"body_markdown":"I have the following stack :\r\n\r\n    Spring Boot : 2.7.3\r\n    Spring Security Enabled\r\n    springdoc-openapi-ui : 1.6.15\r\n\r\n**Application.properties**\r\n\r\n    # Swagger Properties\r\n    springdoc.api-docs.path=/ics/api/docs\r\n    springdoc.swagger-ui.path=/ics/api/swagger-ui.html\r\n\r\n**Dependency:**    \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.6.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMy code in **Spring Security** :\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.cors().and().csrf().disable().authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll());\r\n\t\treturn http.build();\r\n\t\r\n\t@Bean\r\n\tpublic WebSecurityCustomizer webSecurityCustomizer() {\r\n\t\treturn (web) -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/ics/api/**&quot;);\r\n\t}\r\n\r\nWhen I run my application in **localhost** I get the below :\r\n\r\n    api doc at the path : http://localhost:8080/ics/api/docs\r\n    swagger at the path : http://localhost:8080/ics/api/swagger-ui/index.html\r\n    Swagger Config path : http://localhost:8080/ics/api/docs/swagger-config\r\n\r\n\r\n**localhost api-docs content :**\r\n\r\n    {\r\n        &quot;openapi&quot;: &quot;3.0.1&quot;,\r\n        &quot;info&quot;: {\r\n            &quot;title&quot;: &quot;OpenAPI definition&quot;,\r\n            &quot;version&quot;: &quot;v0&quot;\r\n        },\r\n        &quot;servers&quot;: [\r\n        {\r\n            &quot;url&quot;: &quot;http://localhost:8080&quot;,\r\n            &quot;description&quot;: &quot;Generated server url&quot;\r\n        }\r\n        ],\r\n        &quot;paths&quot;: {...}\r\n    }\r\n\r\n**localhost Swagger-Config contents :**\r\n\r\n    {\r\n        &quot;configUrl&quot;: &quot;/ics/api/docs/swagger-config&quot;,\r\n        &quot;oauth2RedirectUrl&quot;: &quot;http://localhost:8080/ics/api/swagger-ui/oauth2-redirect.html&quot;,\r\n        &quot;url&quot;: &quot;/ics/api/docs&quot;,\r\n        &quot;validatorUrl&quot;: &quot;&quot;\r\n    }\r\n\r\n**localhost Swagger-UI contents :**\r\n\r\n[![swagger-ui-screen-shot][1]][1]\r\n\r\n\r\n\r\n\r\nNow when I deploy my appl in the environment (kubernetes cluster) I can see the api-doc and swagger config both, however while rendering the swagger-UI I get the below error :\r\n\r\n[![swagger-ui-error][2]][2]\r\n\r\nThen when I click on **&quot;Explore&quot;** on the right side I get the below :\r\n\r\n[![swagger-ui-error-2][3]][3]\r\n\r\n\r\nI have checked in many forums, but till now I did not get any solution for this. I have tried with default properties as well, but the same result.\r\n\r\n\r\n**UPDATE :**\r\n\r\nI found that the swagger-ui when tries to render swagger-config, the application context is misisng from the URL and as a result it is unable to render the config file. When I explicitly give the whole URL of the api-doc it is able to render properly. Now the URL becomes HTTP instead of HTTPS and as a result I am unable to test the APIs. Can anyone please help me out here.\r\n\r\nError on a API hit :\r\n\r\n\t\r\n    Failed to fetch.\r\n    Possible Reasons:\r\n    \r\n    CORS\r\n    Network Failure\r\n    URL scheme must be &quot;http&quot; or &quot;https&quot; for CORS request.\r\n\r\n** The request URL contains HTTPS i checked.\r\n\r\n  [1]: https://i.stack.imgur.com/wWcyE.png\r\n  [2]: https://i.stack.imgur.com/1lknr.png\r\n  [3]: https://i.stack.imgur.com/ty8cd.png","title":"Unable to render this definition Error with Spring Boot Swagger OpenAPI 3.0.1","body":"<p>I have the following stack :</p>\n<pre><code>Spring Boot : 2.7.3\nSpring Security Enabled\nspringdoc-openapi-ui : 1.6.15\n</code></pre>\n<p><strong>Application.properties</strong></p>\n<pre><code># Swagger Properties\nspringdoc.api-docs.path=/ics/api/docs\nspringdoc.swagger-ui.path=/ics/api/swagger-ui.html\n</code></pre>\n<p><strong>Dependency:</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.15&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My code in <strong>Spring Security</strong> :</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.cors().and().csrf().disable().authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll());\n    return http.build();\n\n@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/ics/api/**&quot;);\n}\n</code></pre>\n<p>When I run my application in <strong>localhost</strong> I get the below :</p>\n<pre><code>api doc at the path : http://localhost:8080/ics/api/docs\nswagger at the path : http://localhost:8080/ics/api/swagger-ui/index.html\nSwagger Config path : http://localhost:8080/ics/api/docs/swagger-config\n</code></pre>\n<p><strong>localhost api-docs content :</strong></p>\n<pre><code>{\n    &quot;openapi&quot;: &quot;3.0.1&quot;,\n    &quot;info&quot;: {\n        &quot;title&quot;: &quot;OpenAPI definition&quot;,\n        &quot;version&quot;: &quot;v0&quot;\n    },\n    &quot;servers&quot;: [\n    {\n        &quot;url&quot;: &quot;http://localhost:8080&quot;,\n        &quot;description&quot;: &quot;Generated server url&quot;\n    }\n    ],\n    &quot;paths&quot;: {...}\n}\n</code></pre>\n<p><strong>localhost Swagger-Config contents :</strong></p>\n<pre><code>{\n    &quot;configUrl&quot;: &quot;/ics/api/docs/swagger-config&quot;,\n    &quot;oauth2RedirectUrl&quot;: &quot;http://localhost:8080/ics/api/swagger-ui/oauth2-redirect.html&quot;,\n    &quot;url&quot;: &quot;/ics/api/docs&quot;,\n    &quot;validatorUrl&quot;: &quot;&quot;\n}\n</code></pre>\n<p><strong>localhost Swagger-UI contents :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wWcyE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wWcyE.png\" alt=\"swagger-ui-screen-shot\" /></a></p>\n<p>Now when I deploy my appl in the environment (kubernetes cluster) I can see the api-doc and swagger config both, however while rendering the swagger-UI I get the below error :</p>\n<p><a href=\"https://i.stack.imgur.com/1lknr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1lknr.png\" alt=\"swagger-ui-error\" /></a></p>\n<p>Then when I click on <strong>&quot;Explore&quot;</strong> on the right side I get the below :</p>\n<p><a href=\"https://i.stack.imgur.com/ty8cd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ty8cd.png\" alt=\"swagger-ui-error-2\" /></a></p>\n<p>I have checked in many forums, but till now I did not get any solution for this. I have tried with default properties as well, but the same result.</p>\n<p><strong>UPDATE :</strong></p>\n<p>I found that the swagger-ui when tries to render swagger-config, the application context is misisng from the URL and as a result it is unable to render the config file. When I explicitly give the whole URL of the api-doc it is able to render properly. Now the URL becomes HTTP instead of HTTPS and as a result I am unable to test the APIs. Can anyone please help me out here.</p>\n<p>Error on a API hit :</p>\n<pre><code>Failed to fetch.\nPossible Reasons:\n\nCORS\nNetwork Failure\nURL scheme must be &quot;http&quot; or &quot;https&quot; for CORS request.\n</code></pre>\n<p>** The request URL contains HTTPS i checked.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8615399,"reputation":176,"user_id":6452448,"display_name":"BlackList96"},"score":0,"creation_date":1700642459,"post_id":75826527,"comment_id":136678476,"body_markdown":"Is it fixed? I am getting the same issue. However, I am using `helper.addAttachment` method to directly pass the multipart file. I am getting the exception while `mailSender.send(mimeMessage);`","body":"Is it fixed? I am getting the same issue. However, I am using <code>helper.addAttachment</code> method to directly pass the multipart file. I am getting the exception while <code>mailSender.send(mimeMessage);</code>"}],"owner":{"account_id":6395576,"reputation":13,"user_id":11776653,"display_name":"danielfss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679639700,"creation_date":1679594255,"question_id":75826527,"body_markdown":"My controller:\r\n\r\n```\r\n        @PostMapping(value = &quot;/sending-email&quot;, consumes = { &quot;multipart/form-data&quot; })\r\n    \tpublic ResponseEntity&lt;Mensagem&gt; sendingEmail(@ModelAttribute @Valid MensagemDto mensagemDto) {\r\n    \t\tMensagem mensagem = new Mensagem();\r\n    \t\tBeanUtils.copyProperties(mensagemDto, mensagem);\r\n    \t\tmensagemService.sendEmail(mensagem);\r\n    \t\tSystem.out.println(mensagem);\r\n    \t\treturn new ResponseEntity&lt;&gt;(mensagem, HttpStatus.CREATED);\r\n    \t}\r\n```\r\n\r\nMy service:\r\n\r\n```\r\npublic Mensagem sendEmail(Mensagem mensagem) {\r\n\tMensagem mensagemAux = new Mensagem();\r\n\tmensagem.setDataEnvio(LocalDateTime.now());\r\n\t// Get all files in Folder\r\n      File filesInPath = new File(FILE_PATH);\r\n      List&lt;File&gt; listOfFlies = Arrays.asList(filesInPath.listFiles());\r\n      System.out.println(&quot;sendMail: &quot; + listOfFlies);\r\n\ttry {\r\n\r\n\t\tMimeMessage message = emailSender.createMimeMessage();\r\n\r\n\t\tMimeMessageHelper helper = new MimeMessageHelper(message, &quot;UTF-8&quot;);\r\n\t\thelper.setFrom(emailProperties.getRemetente());\r\n\t\thelper.setTo(mensagem.getDestinatarios().toArray(new String[0]));\r\n\t\thelper.setSubject(mensagem.getAssunto());\r\n\t\t\r\n\t\tBodyPart messageBodyPart = new MimeBodyPart(); \r\n\t\tmessageBodyPart.setText(mensagem.getCorpo());\r\n\t\t\r\n\t\tMimeMultipart multipart = new MimeMultipart();\r\n\t\tmultipart.addBodyPart(messageBodyPart);\r\n\t\t\r\n\t\t// Converte o MultipartFile para File\r\n\t\tList&lt;File&gt; attachFiles = new ArrayList&lt;&gt;();\r\n\t\tif (mensagem.getAnexos() != null &amp;&amp; mensagem.getAnexos().size() &gt; 0) {\t\t\t\t\r\n\t\t\tfor (MultipartFile anexo : mensagem.getAnexos()) {\r\n\t\t\t\tSystem.out.println(&quot;sendMail anexo: &quot; + anexo.getOriginalFilename());\r\n\t\t\t\tattachFiles.add(Util.multipartToFile(anexo, anexo.getOriginalFilename()));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (attachFiles != null &amp;&amp; attachFiles.size() &gt; 0) {\r\n            for (File filePath : attachFiles) {\r\n                MimeBodyPart attachPart = new MimeBodyPart();\r\n                try {\r\n                    attachPart.attachFile(filePath);\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n                multipart.addBodyPart(attachPart);\r\n            }\r\n        }\r\n\t\t\r\n\t\tmessage.setContent(multipart);\r\n\r\n\t\temailSender.send(message);\r\n\r\n        mensagem.setStatusEmail(StatusEmail.SENT);\r\n\t} catch (MailAuthenticationException e) {\r\n\t\tSystem.out.println(&quot;Erro: &quot; + e);\r\n\t\tmensagem.setStatusEmail(StatusEmail.ERROR);\r\n\t} catch(MailSendException e) {\r\n\t\tSystem.out.println(e);\r\n\t} catch(MailParseException e) {\r\n\t\tSystem.out.println(e);\r\n\t} finally {\r\n\t\tSystem.out.println(&quot;Prestes a salvar: &quot; + mensagem);\r\n\t\tmensagemAux = mensagemRepository.save(mensagem);\r\n\t\treturn mensagemAux;\r\n\t}\r\n}\r\n```\r\n\r\nMethod that converts MultipartFile to File:\r\n\r\n```\r\n    public static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\r\n    \tSystem.out.println(multipart.getOriginalFilename()); // vem o nome do arquivo\r\n    \tSystem.out.println(fileName); // vem o nome do arquivo\r\n    \tFile convFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + fileName);\r\n    \tSystem.out.println(&quot;Absoluto: &quot; + convFile.getAbsolutePath());\r\n    \tmultipart.transferTo(convFile);\r\n    \treturn convFile;\r\n    }\r\n```\r\n\r\nMy mission is to be able to send to several recipients and to be able to place more than 1 attachment in the message and I am managing to do this, but at the end of the execution, when it returns to the ResponseEntity it gives an error cascade stating that it did not find the file.\r\n\r\n[Postman][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ijsOw.png\r\n\r\nError:\r\n\r\n&gt; java.nio.file.NoSuchFileException:\r\n&gt; C:\\Users\\danielsantos\\AppData\\Local\\Temp\\tomcat.8080.10723655241108226697\\work\\Tomcat\\localhost\\ROOT\\upload_9d7f50e7_41cd_4b48_bb73_ba205ffd75e6_00000006.tmp\r\n&gt; at\r\n&gt; java.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\r\n&gt; ~[na:na] at\r\n&gt; java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\r\n&gt; ~[na:na] at\r\n&gt; java.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\r\n&gt; ~[na:na] at\r\n&gt; java.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236)\r\n&gt; ~[na:na] at\r\n&gt; java.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\r\n&gt; at java.base/java.nio.file.Files.newByteChannel(Files.java:432)\r\n&gt; ~[na:na] at\r\n&gt; java.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:422)\r\n&gt; ~[na:na] at\r\n&gt; java.base/java.nio.file.Files.newInputStream(Files.java:160) ~[na:na]\r\n&gt; at\r\n&gt; org.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:196)\r\n&gt; ~[tomcat-embed-core-10.1.5.jar:10.1.5] at\r\n&gt; org.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100)\r\n&gt; ~[tomcat-embed-core-10.1.5.jar:10.1.5] at\r\n&gt; org.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getBytes(StandardMultipartHttpServletRequest.java:244)\r\n&gt; ~[spring-web-6.0.6.jar:6.0.6]\r\n\r\n\r\n\r\nI believe that the problem is related to the access permission to the folder or the path is wrong, I made some attempts to change the file path, but it gives the same error.\r\n\r\nExample:\r\nFile convFile = new File(System.getProperty(&quot;user.home&quot;) + &quot;/Temp/&quot; + fileName);","title":"After sending an email with an attachment (using JavaMail) the error &quot;java.nio.file.NoSuchFileException&quot; occurs","body":"<p>My controller:</p>\n<pre><code>        @PostMapping(value = &quot;/sending-email&quot;, consumes = { &quot;multipart/form-data&quot; })\n        public ResponseEntity&lt;Mensagem&gt; sendingEmail(@ModelAttribute @Valid MensagemDto mensagemDto) {\n            Mensagem mensagem = new Mensagem();\n            BeanUtils.copyProperties(mensagemDto, mensagem);\n            mensagemService.sendEmail(mensagem);\n            System.out.println(mensagem);\n            return new ResponseEntity&lt;&gt;(mensagem, HttpStatus.CREATED);\n        }\n</code></pre>\n<p>My service:</p>\n<pre><code>public Mensagem sendEmail(Mensagem mensagem) {\n    Mensagem mensagemAux = new Mensagem();\n    mensagem.setDataEnvio(LocalDateTime.now());\n    // Get all files in Folder\n      File filesInPath = new File(FILE_PATH);\n      List&lt;File&gt; listOfFlies = Arrays.asList(filesInPath.listFiles());\n      System.out.println(&quot;sendMail: &quot; + listOfFlies);\n    try {\n\n        MimeMessage message = emailSender.createMimeMessage();\n\n        MimeMessageHelper helper = new MimeMessageHelper(message, &quot;UTF-8&quot;);\n        helper.setFrom(emailProperties.getRemetente());\n        helper.setTo(mensagem.getDestinatarios().toArray(new String[0]));\n        helper.setSubject(mensagem.getAssunto());\n        \n        BodyPart messageBodyPart = new MimeBodyPart(); \n        messageBodyPart.setText(mensagem.getCorpo());\n        \n        MimeMultipart multipart = new MimeMultipart();\n        multipart.addBodyPart(messageBodyPart);\n        \n        // Converte o MultipartFile para File\n        List&lt;File&gt; attachFiles = new ArrayList&lt;&gt;();\n        if (mensagem.getAnexos() != null &amp;&amp; mensagem.getAnexos().size() &gt; 0) {              \n            for (MultipartFile anexo : mensagem.getAnexos()) {\n                System.out.println(&quot;sendMail anexo: &quot; + anexo.getOriginalFilename());\n                attachFiles.add(Util.multipartToFile(anexo, anexo.getOriginalFilename()));\n            }\n        }\n        \n        if (attachFiles != null &amp;&amp; attachFiles.size() &gt; 0) {\n            for (File filePath : attachFiles) {\n                MimeBodyPart attachPart = new MimeBodyPart();\n                try {\n                    attachPart.attachFile(filePath);\n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                }\n                multipart.addBodyPart(attachPart);\n            }\n        }\n        \n        message.setContent(multipart);\n\n        emailSender.send(message);\n\n        mensagem.setStatusEmail(StatusEmail.SENT);\n    } catch (MailAuthenticationException e) {\n        System.out.println(&quot;Erro: &quot; + e);\n        mensagem.setStatusEmail(StatusEmail.ERROR);\n    } catch(MailSendException e) {\n        System.out.println(e);\n    } catch(MailParseException e) {\n        System.out.println(e);\n    } finally {\n        System.out.println(&quot;Prestes a salvar: &quot; + mensagem);\n        mensagemAux = mensagemRepository.save(mensagem);\n        return mensagemAux;\n    }\n}\n</code></pre>\n<p>Method that converts MultipartFile to File:</p>\n<pre><code>    public static File multipartToFile(MultipartFile multipart, String fileName) throws IllegalStateException, IOException {\n        System.out.println(multipart.getOriginalFilename()); // vem o nome do arquivo\n        System.out.println(fileName); // vem o nome do arquivo\n        File convFile = new File(System.getProperty(&quot;java.io.tmpdir&quot;) + &quot;/&quot; + fileName);\n        System.out.println(&quot;Absoluto: &quot; + convFile.getAbsolutePath());\n        multipart.transferTo(convFile);\n        return convFile;\n    }\n</code></pre>\n<p>My mission is to be able to send to several recipients and to be able to place more than 1 attachment in the message and I am managing to do this, but at the end of the execution, when it returns to the ResponseEntity it gives an error cascade stating that it did not find the file.</p>\n<p><a href=\"https://i.stack.imgur.com/ijsOw.png\" rel=\"nofollow noreferrer\">Postman</a></p>\n<p>Error:</p>\n<blockquote>\n<p>java.nio.file.NoSuchFileException:\nC:\\Users\\danielsantos\\AppData\\Local\\Temp\\tomcat.8080.10723655241108226697\\work\\Tomcat\\localhost\\ROOT\\upload_9d7f50e7_41cd_4b48_bb73_ba205ffd75e6_00000006.tmp\nat\njava.base/sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:85)\n~[na:na] at\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:103)\n~[na:na] at\njava.base/sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:108)\n~[na:na] at\njava.base/sun.nio.fs.WindowsFileSystemProvider.newByteChannel(WindowsFileSystemProvider.java:236)\n~[na:na] at\njava.base/java.nio.file.Files.newByteChannel(Files.java:380) ~[na:na]\nat java.base/java.nio.file.Files.newByteChannel(Files.java:432)\n~[na:na] at\njava.base/java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:422)\n~[na:na] at\njava.base/java.nio.file.Files.newInputStream(Files.java:160) ~[na:na]\nat\norg.apache.tomcat.util.http.fileupload.disk.DiskFileItem.getInputStream(DiskFileItem.java:196)\n~[tomcat-embed-core-10.1.5.jar:10.1.5] at\norg.apache.catalina.core.ApplicationPart.getInputStream(ApplicationPart.java:100)\n~[tomcat-embed-core-10.1.5.jar:10.1.5] at\norg.springframework.web.multipart.support.StandardMultipartHttpServletRequest$StandardMultipartFile.getBytes(StandardMultipartHttpServletRequest.java:244)\n~[spring-web-6.0.6.jar:6.0.6]</p>\n</blockquote>\n<p>I believe that the problem is related to the access permission to the folder or the path is wrong, I made some attempts to change the file path, but it gives the same error.</p>\n<p>Example:\nFile convFile = new File(System.getProperty(&quot;user.home&quot;) + &quot;/Temp/&quot; + fileName);</p>\n"},{"tags":["java","javafx","css-selectors","jsoup","javafx-webengine"],"answers":[{"comments":[{"owner":{"account_id":1582418,"reputation":5334,"user_id":1467482,"accept_rate":74,"display_name":"Vjeetje"},"score":0,"creation_date":1453575380,"post_id":34962395,"comment_id":57665100,"body_markdown":"I don&#39;t want to open up a real browser, I have no need to render any GUI. I just want to simulate a browser with javascript and cookies and such. The Selenium HTMLUnitDriver comes close, but its javascript implementation is really lacking.","body":"I don&#39;t want to open up a real browser, I have no need to render any GUI. I just want to simulate a browser with javascript and cookies and such. The Selenium HTMLUnitDriver comes close, but its javascript implementation is really lacking."},{"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"score":0,"creation_date":1453576651,"post_id":34962395,"comment_id":57665564,"body_markdown":"then go with phantomjs. It uses a headless webkit engine and should be able to run any real-world JavaScript. I found that the best solution in cases where I could not figure out the AJAX calls directly.","body":"then go with phantomjs. It uses a headless webkit engine and should be able to run any real-world JavaScript. I found that the best solution in cases where I could not figure out the AJAX calls directly."},{"owner":{"account_id":1582418,"reputation":5334,"user_id":1467482,"accept_rate":74,"display_name":"Vjeetje"},"score":0,"creation_date":1453578730,"post_id":34962395,"comment_id":57666337,"body_markdown":"Ow I didn&#39;t realize there was a Java implementation as PhantomJSDriver as external library. The library is getting deprecated but it fits exactly the role I am looking for","body":"Ow I didn&#39;t realize there was a Java implementation as PhantomJSDriver as external library. The library is getting deprecated but it fits exactly the role I am looking for"}],"tags":[],"owner":{"account_id":2570317,"reputation":11557,"user_id":2229229,"accept_rate":76,"display_name":"luksch"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1453545455,"creation_date":1453545455,"answer_id":34962395,"question_id":34962086,"body_markdown":"Jsoup **does** support cookies. You just need to collect them and send them in every request along. So it is some work involved, but it is possible.\r\n\r\nYour solution will work, but I doubt that the WebEngine of JavaFX is your best option, unless your application is employing JavaFX anyway and you need to display web content as well. In case you need it only for the task you described I would certainly recommend [selenium webdriver][1] for the job. With that you can remote control a real browser to access all content. There are bindings to many standard browsers, including phantomjs as a headless webkit solution for maximum compatibility and HTMLUnit for a Java only solution.\r\n\r\nHowever, if speed is of great concern, I would give Jsoup another try. Try to find the AJAX calls the Javascript triggers and get the stuff you need directly. This would be much faster than selenium or WebEngine. \r\n\r\n\r\n  [1]: http://docs.seleniumhq.org/projects/webdriver/","title":"Webpage content selector using WebEngine","body":"<p>Jsoup <strong>does</strong> support cookies. You just need to collect them and send them in every request along. So it is some work involved, but it is possible.</p>\n\n<p>Your solution will work, but I doubt that the WebEngine of JavaFX is your best option, unless your application is employing JavaFX anyway and you need to display web content as well. In case you need it only for the task you described I would certainly recommend <a href=\"http://docs.seleniumhq.org/projects/webdriver/\" rel=\"nofollow\">selenium webdriver</a> for the job. With that you can remote control a real browser to access all content. There are bindings to many standard browsers, including phantomjs as a headless webkit solution for maximum compatibility and HTMLUnit for a Java only solution.</p>\n\n<p>However, if speed is of great concern, I would give Jsoup another try. Try to find the AJAX calls the Javascript triggers and get the stuff you need directly. This would be much faster than selenium or WebEngine. </p>\n"},{"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":1,"creation_date":1679639681,"post_id":75829837,"comment_id":133760536,"body_markdown":"Please read [answer] and [edit] your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post.","body":"Please read <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a> and <a href=\"https://stackoverflow.com/posts/75829837/edit\">edit</a> your answer to contain an explanation as to why this code would actually solve the problem at hand. Always remember that you&#39;re not only solving the problem, but are also educating the OP and any future readers of this post."}],"tags":[],"owner":{"account_id":26248611,"reputation":1,"user_id":19921744,"display_name":"Shisan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679639677,"creation_date":1679629280,"answer_id":75829837,"question_id":34962086,"body_markdown":"You can use:\r\n``` \r\nengine.executeScript(&quot;document.getElementsByTagName(&#39;html&#39;)\r\n``` ","title":"Webpage content selector using WebEngine","body":"<p>You can use:</p>\n<pre><code>engine.executeScript(&quot;document.getElementsByTagName('html')\n</code></pre>\n"}],"owner":{"account_id":1582418,"reputation":5334,"user_id":1467482,"accept_rate":74,"display_name":"Vjeetje"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":445,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":34962395,"answer_count":2,"score":0,"last_activity_date":1679639677,"creation_date":1453543354,"question_id":34962086,"body_markdown":"I want to load web content from a site *URI* and use selectors to get some useful information. I tried *JSoup* which allows me to [select elements with a CSS Selector][1]. Unfortunately *Jsoup* doesn&#39;t work as a browser and doesn&#39;t parse Javascript or handles cookies. That&#39;s why I looked into using the *JavaFX WebEngine* which works as a browser. But The *WebEngine* class returns [Documents][2] which are very limited in selector possibilities compared to *JSoup*. The only selectors are by *Id* or by *Tag*.\r\n\r\nIs there a clean way to use the WebEngine of JavaFX with more specialized selector possibilities? \r\n\r\nOr are there other browser implementations in Java that allow for more specialized selections? The implementation should preferably be fast.\r\n\r\nThe best solution I can come up with for now is the following:\r\n\r\n 1. Use *WebEngine* of *JavaFX* to get a *Document* object of which the Javascript is parsed.\r\n 2. Convert the *Document* to a *String* using a *Transformer*.\r\n 3. Pass this String as argument to a *JSoup* object and use their *CSS* selector capabilities.\r\n\r\n  [1]: http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#select-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Document.html","title":"Webpage content selector using WebEngine","body":"<p>I want to load web content from a site <em>URI</em> and use selectors to get some useful information. I tried <em>JSoup</em> which allows me to <a href=\"http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#select-java.lang.String-\" rel=\"nofollow\">select elements with a CSS Selector</a>. Unfortunately <em>Jsoup</em> doesn't work as a browser and doesn't parse Javascript or handles cookies. That's why I looked into using the <em>JavaFX WebEngine</em> which works as a browser. But The <em>WebEngine</em> class returns <a href=\"https://docs.oracle.com/javase/7/docs/api/org/w3c/dom/Document.html\" rel=\"nofollow\">Documents</a> which are very limited in selector possibilities compared to <em>JSoup</em>. The only selectors are by <em>Id</em> or by <em>Tag</em>.</p>\n\n<p>Is there a clean way to use the WebEngine of JavaFX with more specialized selector possibilities? </p>\n\n<p>Or are there other browser implementations in Java that allow for more specialized selections? The implementation should preferably be fast.</p>\n\n<p>The best solution I can come up with for now is the following:</p>\n\n<ol>\n<li>Use <em>WebEngine</em> of <em>JavaFX</em> to get a <em>Document</em> object of which the Javascript is parsed.</li>\n<li>Convert the <em>Document</em> to a <em>String</em> using a <em>Transformer</em>.</li>\n<li>Pass this String as argument to a <em>JSoup</em> object and use their <em>CSS</em> selector capabilities.</li>\n</ol>\n"},{"tags":["java","spring","spring-boot","api","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":15523600,"reputation":129,"user_id":11199128,"display_name":"xAdvitya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679606141,"creation_date":1679606141,"answer_id":75828055,"question_id":75827935,"body_markdown":"I needed to add annotations for serialization \r\n\r\n`@JsonAutoDetect`, `@JsonProperty`, and `@JsonInclude`\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonAutoDetect;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\npublic class Spot {\r\n    @JsonProperty(&quot;id&quot;)\r\n    private long id;\r\n    @JsonProperty(&quot;name&quot;)\r\n    private String name;\r\n    @JsonProperty(&quot;location&quot;)\r\n    private String location;\r\n\r\n    public Spot(long id, String name, String location) {\r\n        super();\r\n        this.id = id;\r\n        this.name = name;\r\n        this.location = location;\r\n    }\r\n\r\n    public Spot() {\r\n        super();\r\n    }\r\n\r\n    // getters and setters here\r\n}\r\n\r\n```","title":"How to fix Type definition error in Spring Boot application?","body":"<p>I needed to add annotations for serialization</p>\n<p><code>@JsonAutoDetect</code>, <code>@JsonProperty</code>, and <code>@JsonInclude</code></p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonAutoDetect;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\npublic class Spot {\n    @JsonProperty(&quot;id&quot;)\n    private long id;\n    @JsonProperty(&quot;name&quot;)\n    private String name;\n    @JsonProperty(&quot;location&quot;)\n    private String location;\n\n    public Spot(long id, String name, String location) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.location = location;\n    }\n\n    public Spot() {\n        super();\n    }\n\n    // getters and setters here\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12301810,"reputation":1,"user_id":8975941,"display_name":"robot111"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679639192,"creation_date":1679638190,"answer_id":75830493,"question_id":75827935,"body_markdown":"Are you using spring boot?\r\nIf you use spring boot ....\r\n\r\nYou can add a @getter\r\n\r\n```\r\n@Getter\r\npublic class Spot {\r\n    private long id;\r\n    private String name;\r\n    private String location;\r\n\r\n    public Spot(long id, String name, String location) {\r\n\r\n        super();\r\n        this.id = id;\r\n        this.name = name;\r\n        this.location = location;\r\n\r\n    }\r\n    public Spot() {\r\n        super();\r\n    }\r\n}\r\n\r\n\r\n```","title":"How to fix Type definition error in Spring Boot application?","body":"<p>Are you using spring boot?\nIf you use spring boot ....</p>\n<p>You can add a @getter</p>\n<pre><code>@Getter\npublic class Spot {\n    private long id;\n    private String name;\n    private String location;\n\n    public Spot(long id, String name, String location) {\n\n        super();\n        this.id = id;\n        this.name = name;\n        this.location = location;\n\n    }\n    public Spot() {\n        super();\n    }\n}\n\n\n</code></pre>\n"}],"owner":{"account_id":15523600,"reputation":129,"user_id":11199128,"display_name":"xAdvitya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1931,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75828055,"answer_count":2,"score":0,"last_activity_date":1679639192,"creation_date":1679605241,"question_id":75827935,"body_markdown":" I am building a Spring Boot application that utilizes the com.explore.explore.entities.Spot class. but getting this error\r\n\r\n`Type definition error: [simple type, class com.explore.explore.entities.Spot]] with root cause\r\n`\r\n\r\nI have checked the Spot class and its dependencies, but I can&#39;t seem to find the issue. How can I fix this error and properly serialize the Spot object to JSON?\r\n\r\nI have already tried the following steps:\r\n\r\n- Checked that the Spot class is defined correctly, with all fields and methods properly annotated.\r\n- Checked that any custom data types used in the Spot class are defined correctly and annotated properly.\r\n- Checked that any dependencies used by the Spot class are present and correctly configured.\r\n\r\n\r\n\r\n\r\n**MyController.java**\r\n\r\n```\r\npackage com.explore.explore.controller;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.explore.explore.entities.Spot;\r\nimport com.explore.explore.services.SpotService;\r\n\r\n@RestController\r\npublic class MyController {\r\n\r\n    @Autowired\r\n    public SpotService SpotService;\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String home() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    // get spots\r\n    @GetMapping(&quot;/spots&quot;)\r\n    // public List&lt;Integer&gt; getSpots() {\r\n    // List&lt;Integer&gt; list;\r\n    // list = new ArrayList&lt;&gt;();\r\n    // list.add(3);\r\n    // list.add(5);\r\n    // return this.SpotService.getSpots();\r\n    // }\r\n\r\n    public List&lt;Spot&gt; getSpots() {\r\n        \r\n        List&lt;Spot&gt; list;\r\n        list = new ArrayList&lt;&gt;();\r\n        list.add(new Spot(1, &quot;38 Block&quot;, &quot;Near 38&quot;));\r\n        list.add(new Spot(0, &quot;UNIMAll&quot;, &quot;Near Me&quot;));\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\n**Spot.java**\r\n\r\n```\r\npackage com.explore.explore.entities;\r\n\r\nimport org.springframework.http.converter.HttpMessageConversionException;\r\n\r\npublic class Spot {\r\n    private long id;\r\n    private String name;\r\n    private String location;\r\n\r\n    public Spot(long id, String name, String location) {\r\n    \r\n        super();\r\n        this.id = id;\r\n        this.name = name;\r\n        this.location = location;\r\n    \r\n    }\r\n    public Spot() {\r\n        super();\r\n    }\r\n}\r\n\r\n```","title":"How to fix Type definition error in Spring Boot application?","body":"<p>I am building a Spring Boot application that utilizes the com.explore.explore.entities.Spot class. but getting this error</p>\n<p><code>Type definition error: [simple type, class com.explore.explore.entities.Spot]] with root cause </code></p>\n<p>I have checked the Spot class and its dependencies, but I can't seem to find the issue. How can I fix this error and properly serialize the Spot object to JSON?</p>\n<p>I have already tried the following steps:</p>\n<ul>\n<li>Checked that the Spot class is defined correctly, with all fields and methods properly annotated.</li>\n<li>Checked that any custom data types used in the Spot class are defined correctly and annotated properly.</li>\n<li>Checked that any dependencies used by the Spot class are present and correctly configured.</li>\n</ul>\n<p><strong>MyController.java</strong></p>\n<pre><code>package com.explore.explore.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.explore.explore.entities.Spot;\nimport com.explore.explore.services.SpotService;\n\n@RestController\npublic class MyController {\n\n    @Autowired\n    public SpotService SpotService;\n\n    @GetMapping(&quot;/hello&quot;)\n    public String home() {\n        return &quot;hello&quot;;\n    }\n\n    // get spots\n    @GetMapping(&quot;/spots&quot;)\n    // public List&lt;Integer&gt; getSpots() {\n    // List&lt;Integer&gt; list;\n    // list = new ArrayList&lt;&gt;();\n    // list.add(3);\n    // list.add(5);\n    // return this.SpotService.getSpots();\n    // }\n\n    public List&lt;Spot&gt; getSpots() {\n        \n        List&lt;Spot&gt; list;\n        list = new ArrayList&lt;&gt;();\n        list.add(new Spot(1, &quot;38 Block&quot;, &quot;Near 38&quot;));\n        list.add(new Spot(0, &quot;UNIMAll&quot;, &quot;Near Me&quot;));\n        return list;\n    }\n}\n</code></pre>\n<p><strong>Spot.java</strong></p>\n<pre><code>package com.explore.explore.entities;\n\nimport org.springframework.http.converter.HttpMessageConversionException;\n\npublic class Spot {\n    private long id;\n    private String name;\n    private String location;\n\n    public Spot(long id, String name, String location) {\n    \n        super();\n        this.id = id;\n        this.name = name;\n        this.location = location;\n    \n    }\n    public Spot() {\n        super();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ec2"],"owner":{"account_id":5725404,"reputation":2915,"user_id":4522512,"accept_rate":43,"display_name":"Shivkumar Mallesappa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679638918,"creation_date":1679638918,"question_id":75830562,"body_markdown":"I have hosted my JAVA Application (Spring Boot) on an EC2 Instance.\r\n\r\nMy application makes API calls to Third Parties for Image Processing. It is a four-step process as follows:\r\n\r\n - Initiate Transaction: After I initiate this call I receive a unique identifier as a response for executing the next APIs\r\n - Upload Image/File: I call this API with the unique identifier obtained in the first step. I receive a File id after this API call as a response\r\n - Process Image File: This API is called with the unique identifier and File id which was received in the first step and second step respectively\r\n - Request Details: Once all of the files are uploaded this is the last API that is called to mark that all of the images are uploaded now return me the response for the images.\r\n\r\n\r\n**Problem Statement**\r\n - Upload and Process API can be called back to back based on the number of files\r\n - For example, if I have 3 files, I will call upload and process API back to back 3 times. One-time upload then process, then upload, and then process respectively\r\n - I am facing the following exception while calling these APIs back-to-back randomly\r\n\r\n`Unexpected end of file from server; nested exception is java.net.SocketException: Unexpected end of file from server`\r\n\r\n - The above error is faced randomly either in upload API or process API\r\n - When I contacted the third party claiming this issue is from their end, they came back with a response that the request has not reached their system only\r\n\r\nUnfortunately, I am not able to understand the root cause of this, whether the issue is at the Application end or Server end since I have not faced this issue in Dev or UAT. I am facing this issue in Production only.\r\n\r\nNow, in order to understand their claim that the request is not reached the Server only, I want to have something like `traceroute` which can tell me the lifecycle or path of the API. So that I can understand at which layer or at what stage my API is failing. Also, whether it is reaching their server or not.\r\n\r\nHow can I troubleshoot this? and understand the root cause of this.\r\n\r\nNote: My traffic goes through NAT and IGW, with no firewall, etc in place. The server size is also good enough (m5.2x.large).\r\n\r\n","title":"Debugging Socket Exception","body":"<p>I have hosted my JAVA Application (Spring Boot) on an EC2 Instance.</p>\n<p>My application makes API calls to Third Parties for Image Processing. It is a four-step process as follows:</p>\n<ul>\n<li>Initiate Transaction: After I initiate this call I receive a unique identifier as a response for executing the next APIs</li>\n<li>Upload Image/File: I call this API with the unique identifier obtained in the first step. I receive a File id after this API call as a response</li>\n<li>Process Image File: This API is called with the unique identifier and File id which was received in the first step and second step respectively</li>\n<li>Request Details: Once all of the files are uploaded this is the last API that is called to mark that all of the images are uploaded now return me the response for the images.</li>\n</ul>\n<p><strong>Problem Statement</strong></p>\n<ul>\n<li>Upload and Process API can be called back to back based on the number of files</li>\n<li>For example, if I have 3 files, I will call upload and process API back to back 3 times. One-time upload then process, then upload, and then process respectively</li>\n<li>I am facing the following exception while calling these APIs back-to-back randomly</li>\n</ul>\n<p><code>Unexpected end of file from server; nested exception is java.net.SocketException: Unexpected end of file from server</code></p>\n<ul>\n<li>The above error is faced randomly either in upload API or process API</li>\n<li>When I contacted the third party claiming this issue is from their end, they came back with a response that the request has not reached their system only</li>\n</ul>\n<p>Unfortunately, I am not able to understand the root cause of this, whether the issue is at the Application end or Server end since I have not faced this issue in Dev or UAT. I am facing this issue in Production only.</p>\n<p>Now, in order to understand their claim that the request is not reached the Server only, I want to have something like <code>traceroute</code> which can tell me the lifecycle or path of the API. So that I can understand at which layer or at what stage my API is failing. Also, whether it is reaching their server or not.</p>\n<p>How can I troubleshoot this? and understand the root cause of this.</p>\n<p>Note: My traffic goes through NAT and IGW, with no firewall, etc in place. The server size is also good enough (m5.2x.large).</p>\n"},{"tags":["java","android","flutter","visual-studio-code","java-11"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679638890,"creation_date":1679638890,"answer_id":75830559,"question_id":75826702,"body_markdown":"- Set `java.configuration.runtimes` in vscode, configured it to *java 11*.\r\n  \r\n  https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\r\n\r\n  ***example:***\r\n\r\n  ```json\r\n  &quot;java.configuration.runtimes&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n      &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n      &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n      &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n      &quot;default&quot;:  true\r\n     },\r\n  ]\r\n  ```\r\n\r\n- Set `org.gradle.java.home` in `gradle.properties`,\r\n\r\n  ```\r\n  org.gradle.java.home=C:/Program Files/Eclipse Adoptium/jdk-11.0.18.10-hotspot\r\n  ```\r\n\r\n  *Make sure it is the correct java 11 installation path.*","title":"Could not run phased build action using connection to Gradle distribution (Flutter)","body":"<ul>\n<li><p>Set <code>java.configuration.runtimes</code> in vscode, configured it to <em>java 11</em>.</p>\n<p><a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects</a></p>\n<p><em><strong>example:</strong></em></p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n]\n</code></pre>\n</li>\n<li><p>Set <code>org.gradle.java.home</code> in <code>gradle.properties</code>,</p>\n<pre><code>org.gradle.java.home=C:/Program Files/Eclipse Adoptium/jdk-11.0.18.10-hotspot\n</code></pre>\n<p><em>Make sure it is the correct java 11 installation path.</em></p>\n</li>\n</ul>\n"}],"owner":{"account_id":28106218,"reputation":73,"user_id":21474770,"display_name":"Mahmoud Samy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75830559,"answer_count":1,"score":0,"last_activity_date":1679638890,"creation_date":1679595550,"question_id":75826702,"body_markdown":"Could not run phased build action using connection to Gradle distribution &#39;https://services.gradle.org/distributions/gradle-7.5-all.zip&#39;.\r\n\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring root project &#39;android&#39;.\r\n\r\nA problem occurred configuring root project &#39;android&#39;.\r\n\r\nA problem occurred evaluating root project &#39;android&#39;.\r\n\r\nA problem occurred configuring project &#39;:app&#39;.\r\n\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n\r\nFailed to apply plugin &#39;com.android.internal.application&#39;.\r\n\r\nAndroid Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\\\\nYour current JDK is located in  C:\\\\\\\\Program Files\\\\\\\\Eclipse Foundation\\\\\\\\jdk-8.0.302.8-hotspot\\\\\\\\jre\\\\nYou can try some of the following options:\r\n\r\n  - changing the IDE settings.\r\n\r\n  - changing the JAVA_HOME environment variable.\r\n\r\n  - changing \\`org.gradle.java.home\\` in \\`gradle.properties\\`.\r\n\r\nI tried changing the JAVA_HOME environment variable to &quot;C:\\\\Program Files\\\\Eclipse Adoptium\\\\jdk-11.0.18.10-hotspot&quot;, and also tried &quot;F1&quot; then JAVA: Install New JDK and install &quot;OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10&quot;, I even deleted all java related programs from the control panel uninstall except &quot;Eclipse temurin JDK with Hotspot 11.0.18+10(x64)&quot; and &quot;java(TM) SE Development Kit 11.0.17 (64-bit)&quot; ... NOTE: I am using flutter on VS code","title":"Could not run phased build action using connection to Gradle distribution (Flutter)","body":"<p>Could not run phased build action using connection to Gradle distribution 'https://services.gradle.org/distributions/gradle-7.5-all.zip'.</p>\n<p>org.gradle.api.ProjectConfigurationException: A problem occurred configuring root project 'android'.</p>\n<p>A problem occurred configuring root project 'android'.</p>\n<p>A problem occurred evaluating root project 'android'.</p>\n<p>A problem occurred configuring project ':app'.</p>\n<p>A problem occurred evaluating project ':app'.</p>\n<p>Failed to apply plugin 'com.android.internal.application'.</p>\n<p>Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8.\\nYour current JDK is located in  C:\\\\Program Files\\\\Eclipse Foundation\\\\jdk-8.0.302.8-hotspot\\\\jre\\nYou can try some of the following options:</p>\n<ul>\n<li><p>changing the IDE settings.</p>\n</li>\n<li><p>changing the JAVA_HOME environment variable.</p>\n</li>\n<li><p>changing `org.gradle.java.home` in `gradle.properties`.</p>\n</li>\n</ul>\n<p>I tried changing the JAVA_HOME environment variable to &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.18.10-hotspot&quot;, and also tried &quot;F1&quot; then JAVA: Install New JDK and install &quot;OpenJDK11U-jdk_x64_windows_hotspot_11.0.18_10&quot;, I even deleted all java related programs from the control panel uninstall except &quot;Eclipse temurin JDK with Hotspot 11.0.18+10(x64)&quot; and &quot;java(TM) SE Development Kit 11.0.17 (64-bit)&quot; ... NOTE: I am using flutter on VS code</p>\n"},{"tags":["java","android","admob"],"comments":[{"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"score":0,"creation_date":1420155160,"post_id":27729547,"comment_id":43882841,"body_markdown":"You are calling #setContentView twice. Once in onCreate and once in createAd.","body":"You are calling #setContentView twice. Once in onCreate and once in createAd."},{"owner":{"account_id":2882504,"reputation":344,"user_id":2473036,"accept_rate":30,"display_name":"Chuck Onwuzuruike"},"score":0,"creation_date":1420155538,"post_id":27729547,"comment_id":43882928,"body_markdown":"Yeah thats not the problem. I caught that hours ago and it still didn&#39;t help","body":"Yeah thats not the problem. I caught that hours ago and it still didn&#39;t help"},{"owner":{"account_id":230213,"reputation":20200,"user_id":493682,"accept_rate":82,"display_name":"William"},"score":0,"creation_date":1420243230,"post_id":27729547,"comment_id":43911587,"body_markdown":"if that&#39;s the case then you should really update your question so you don&#39;t waste other people&#39;s","body":"if that&#39;s the case then you should really update your question so you don&#39;t waste other people&#39;s"},{"owner":{"account_id":1987195,"reputation":1538,"user_id":2361084,"accept_rate":39,"display_name":"maddy d"},"score":0,"creation_date":1433750662,"post_id":27729547,"comment_id":49465683,"body_markdown":"@ChuckOnwuzuruike did it work now. I am facing same issue. My admob ads was working perfectly in past. I have checked in listener and it returns error code 2.","body":"@ChuckOnwuzuruike did it work now. I am facing same issue. My admob ads was working perfectly in past. I have checked in listener and it returns error code 2."},{"owner":{"account_id":2839394,"reputation":3441,"user_id":2439283,"display_name":"Ignacio Tomas Crespo"},"score":0,"creation_date":1562338133,"post_id":27729547,"comment_id":100355160,"body_markdown":"For me it was this stupid thing https://stackoverflow.com/a/56208452/2439283","body":"For me it was this stupid thing <a href=\"https://stackoverflow.com/a/56208452/2439283\">stackoverflow.com/a/56208452/2439283</a>"}],"answers":[{"comments":[{"owner":{"account_id":2882504,"reputation":344,"user_id":2473036,"accept_rate":30,"display_name":"Chuck Onwuzuruike"},"score":0,"creation_date":1420143259,"post_id":27730006,"comment_id":43879959,"body_markdown":"Thanks, I have already done this via xml and it was also consistently not working. I&#39;ll give it another go and hopefully it&#39;ll work. Thanks. Btw I was trying to inflate a banner.","body":"Thanks, I have already done this via xml and it was also consistently not working. I&#39;ll give it another go and hopefully it&#39;ll work. Thanks. Btw I was trying to inflate a banner."},{"owner":{"account_id":2882504,"reputation":344,"user_id":2473036,"accept_rate":30,"display_name":"Chuck Onwuzuruike"},"score":0,"creation_date":1420146400,"post_id":27730006,"comment_id":43880722,"body_markdown":"So it did not work. I will edit my post and show you what I have","body":"So it did not work. I will edit my post and show you what I have"}],"tags":[],"owner":{"account_id":1720337,"reputation":6346,"user_id":1576416,"accept_rate":46,"display_name":"Amrut Bidri"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1420108501,"creation_date":1420108501,"answer_id":27730006,"question_id":27729547,"body_markdown":"at first be clear about which type of add you want to load, interstitial or banner ad. if you want to load banner ad, create a banner ad_unit_id on admob site, then use AdView directly inside your activity view as below:\r\n\r\n     &lt;com.google.android.gms.ads.AdView\r\n        xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/xadView&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        ads:adSize=&quot;SMART_BANNER&quot;\r\n        ads:adUnitId=&quot;@string/admob_banner_ad_unit_id&quot; /&gt;\r\n\r\nand just request to load banner ad from your code as below: write this code in your activity inside oncreate after setcontentview\r\n\r\n    AdView mAdView = (AdView) findViewById(R.id.xadView);\r\n    AdRequest adRequest = new AdRequest.Builder().addTestDevice(\r\n\t\t\t\t\tAdRequest.DEVICE_ID_EMULATOR).build();\r\n    mAdView.loadAd(adRequest); \r\n\r\n**AND**\r\n\r\nif you want to load interstial ads, create a interstitial ad_unit_id on admob site, then use it in below method:\r\n\r\n    public void showFullScreenAd() {\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\t\t\tcom.google.android.gms.ads.InterstitialAd interstitial = new com.google.android.gms.ads.InterstitialAd(context);\r\n\t\t\t\t\tinterstitial\r\n\t\t\t\t\t\t\t.setAdUnitId(ADMOB_INTERSTITIAL_AD_UNIT_ID);\r\n\r\n\t\t\t\t\t// Check the logcat output for your hashed device ID to get test ads\r\n\t\t\t\t\t// on\r\n\t\t\t\t\t// a physical device.\r\n\t\t\t\t\tcom.google.android.gms.ads.AdRequest adRequest = new AdRequest.Builder()\r\n\t\t\t\t\t\t\t.build();\r\n\r\n\t\t\t\t\t// Load the interstitial ad.\r\n\t\t\t\t\tinterstitial.loadAd(adRequest);\r\n\t\t\t\t\tinterstitial\r\n\t\t\t\t\t\t\t.setAdListener(new com.google.android.gms.ads.AdListener() {\r\n\t\t\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\t\t\tpublic void onAdLoaded() {\r\n\t\t\t\t\t\t\t\t\tinterstitial.show();\r\n\t\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n\r\n**NOTE: important thing is that sometimes we use banner ad unit id inside interstitial ads or interstitial ad unit id inside banner ads, so this error occurs.**","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>at first be clear about which type of add you want to load, interstitial or banner ad. if you want to load banner ad, create a banner ad_unit_id on admob site, then use AdView directly inside your activity view as below:</p>\n\n<pre><code> &lt;com.google.android.gms.ads.AdView\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/xadView\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    ads:adSize=\"SMART_BANNER\"\n    ads:adUnitId=\"@string/admob_banner_ad_unit_id\" /&gt;\n</code></pre>\n\n<p>and just request to load banner ad from your code as below: write this code in your activity inside oncreate after setcontentview</p>\n\n<pre><code>AdView mAdView = (AdView) findViewById(R.id.xadView);\nAdRequest adRequest = new AdRequest.Builder().addTestDevice(\n                AdRequest.DEVICE_ID_EMULATOR).build();\nmAdView.loadAd(adRequest); \n</code></pre>\n\n<p><strong>AND</strong></p>\n\n<p>if you want to load interstial ads, create a interstitial ad_unit_id on admob site, then use it in below method:</p>\n\n<pre><code>public void showFullScreenAd() {\n    try {\n\n                com.google.android.gms.ads.InterstitialAd interstitial = new com.google.android.gms.ads.InterstitialAd(context);\n                interstitial\n                        .setAdUnitId(ADMOB_INTERSTITIAL_AD_UNIT_ID);\n\n                // Check the logcat output for your hashed device ID to get test ads\n                // on\n                // a physical device.\n                com.google.android.gms.ads.AdRequest adRequest = new AdRequest.Builder()\n                        .build();\n\n                // Load the interstitial ad.\n                interstitial.loadAd(adRequest);\n                interstitial\n                        .setAdListener(new com.google.android.gms.ads.AdListener() {\n                            @Override\n                            public void onAdLoaded() {\n                                interstitial.show();\n                            }                           \n                        });\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>NOTE: important thing is that sometimes we use banner ad unit id inside interstitial ads or interstitial ad unit id inside banner ads, so this error occurs.</strong></p>\n"},{"comments":[{"owner":{"account_id":5363697,"reputation":2558,"user_id":6200296,"accept_rate":89,"display_name":"Hasan Abdullah"},"score":2,"creation_date":1494878790,"post_id":31811314,"comment_id":75005063,"body_markdown":"Saved my day! I changed my date for testing purpose but forgot to reset. Thanks!","body":"Saved my day! I changed my date for testing purpose but forgot to reset. Thanks!"},{"owner":{"account_id":5103611,"reputation":1084,"user_id":4092412,"accept_rate":60,"display_name":"Motoko"},"score":1,"creation_date":1509414829,"post_id":31811314,"comment_id":81000618,"body_markdown":"I work in Xamarin Android and this is also the reason why. I didn&#39;t realize that the emulator time wasn&#39;t in sync with the PC time","body":"I work in Xamarin Android and this is also the reason why. I didn&#39;t realize that the emulator time wasn&#39;t in sync with the PC time"}],"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1438696590,"creation_date":1438696590,"answer_id":31811314,"question_id":27729547,"body_markdown":"Admob ad will not load. Error 2 appears if date or time is wrong on your device, just set autodate correcting on your device","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>Admob ad will not load. Error 2 appears if date or time is wrong on your device, just set autodate correcting on your device</p>\n"},{"comments":[{"owner":{"account_id":559932,"reputation":2532,"user_id":922140,"accept_rate":72,"display_name":"Jawad Amjad"},"score":1,"creation_date":1470650322,"post_id":33640936,"comment_id":65018340,"body_markdown":"this is the main reason :)","body":"this is the main reason :)"},{"owner":{"account_id":6084545,"reputation":2524,"user_id":4749098,"accept_rate":50,"display_name":"Anand Savjani"},"score":0,"creation_date":1512479331,"post_id":33640936,"comment_id":82266915,"body_markdown":"its only happen i connect with mobile data. Any solution for it?","body":"its only happen i connect with mobile data. Any solution for it?"},{"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"score":0,"creation_date":1538644645,"post_id":33640936,"comment_id":92218491,"body_markdown":"@AnandSavjani if your SIM is prepaid probably you are out of credit on your mobile data.","body":"@AnandSavjani if your SIM is prepaid probably you are out of credit on your mobile data."},{"owner":{"account_id":77156,"reputation":1373,"user_id":220410,"accept_rate":53,"display_name":"amit"},"score":0,"creation_date":1608842938,"post_id":33640936,"comment_id":115700630,"body_markdown":"Oddly my emulator had lost internet connection so this was the solution!","body":"Oddly my emulator had lost internet connection so this was the solution!"}],"tags":[],"owner":{"account_id":1433556,"reputation":5425,"user_id":1355410,"accept_rate":14,"display_name":"MikeL"},"comment_count":4,"down_vote_count":2,"up_vote_count":39,"is_accepted":false,"score":37,"last_activity_date":1447194816,"creation_date":1447194816,"answer_id":33640936,"question_id":27729547,"body_markdown":"Check that your device has a proper internet connection. Without internet connection you will not get ads.\r\n","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>Check that your device has a proper internet connection. Without internet connection you will not get ads.</p>\n"},{"comments":[{"owner":{"account_id":3671296,"reputation":2453,"user_id":3058454,"accept_rate":17,"display_name":"Neerkoli"},"score":0,"creation_date":1487779829,"post_id":41569684,"comment_id":71940441,"body_markdown":"I was using a custom ROM and adblocker was installed. Analytics and Ads were not working. Disabled it and everything is working like a charm! Thank you.","body":"I was using a custom ROM and adblocker was installed. Analytics and Ads were not working. Disabled it and everything is working like a charm! Thank you."},{"owner":{"account_id":1239500,"reputation":6747,"user_id":3761545,"accept_rate":54,"display_name":"Paul Woitaschek"},"score":0,"creation_date":1495352407,"post_id":41569684,"comment_id":75209921,"body_markdown":"It is also blocking the test ads when you added your device id to the test devices of the ad request.","body":"It is also blocking the test ads when you added your device id to the test devices of the ad request."}],"tags":[],"owner":{"account_id":2432851,"reputation":6204,"user_id":3596576,"accept_rate":48,"display_name":"Ionut Negru"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1484053903,"creation_date":1484053903,"answer_id":41569684,"question_id":27729547,"body_markdown":"Another issue could be an adblocker application as suggested in this post:\r\nhttps://stackoverflow.com/a/36010639/3596576 by @Durian.\r\n\r\nFor me this was the issue.","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>Another issue could be an adblocker application as suggested in this post:\n<a href=\"https://stackoverflow.com/a/36010639/3596576\">https://stackoverflow.com/a/36010639/3596576</a> by @Durian.</p>\n\n<p>For me this was the issue.</p>\n"},{"comments":[{"owner":{"account_id":959866,"reputation":25919,"user_id":984471,"display_name":"Manohar Reddy Poreddy"},"score":0,"creation_date":1551506075,"post_id":42197437,"comment_id":96673545,"body_markdown":"Good troubleshooting skills, other apps that have ads are also not working","body":"Good troubleshooting skills, other apps that have ads are also not working"},{"owner":{"account_id":2636362,"reputation":91,"user_id":2280917,"display_name":"edwell"},"score":0,"creation_date":1654709308,"post_id":42197437,"comment_id":128158487,"body_markdown":"Restarting my device made it work.","body":"Restarting my device made it work."}],"tags":[],"owner":{"account_id":10203168,"reputation":31,"user_id":7532680,"display_name":"Erdem"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486965094,"creation_date":1486965094,"answer_id":42197437,"question_id":27729547,"body_markdown":"I had the similar problem. The internet connection was OK and there was no ad blocker installed.\r\n\r\nThe problem might be related with your test device. Check if you have another application that contains Admob with your test device.\r\nYou can also check with another device and another app that contains Admob.\r\n\r\nIn my case I realized that my test device has the internet connection but doesn&#39;t show up any Admob ads in different applications. So I tried to restart my test device and It worked.","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>I had the similar problem. The internet connection was OK and there was no ad blocker installed.</p>\n\n<p>The problem might be related with your test device. Check if you have another application that contains Admob with your test device.\nYou can also check with another device and another app that contains Admob.</p>\n\n<p>In my case I realized that my test device has the internet connection but doesn't show up any Admob ads in different applications. So I tried to restart my test device and It worked.</p>\n"},{"tags":[],"owner":{"account_id":963979,"reputation":813,"user_id":987762,"display_name":"kalandar"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1545754736,"creation_date":1490300198,"answer_id":42986170,"question_id":27729547,"body_markdown":"Error no 2 means `ERROR_CODE_NETWORK_ERROR`.\r\nso check your internet connection and still not showing ads then just restart your mobile and check...that was worked for me.","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>Error no 2 means <code>ERROR_CODE_NETWORK_ERROR</code>.\nso check your internet connection and still not showing ads then just restart your mobile and check...that was worked for me.</p>\n"},{"comments":[{"owner":{"account_id":940056,"reputation":305,"user_id":968281,"display_name":"Talu"},"score":0,"creation_date":1575500755,"post_id":44793172,"comment_id":104591898,"body_markdown":"Hi, do you know if this issue was solved? It&#39;s 2019, almost 2020 and my app has a very low show rate (2-3%) and I don&#39;t know if it is my code or Admob SDK. Thanks a lot.","body":"Hi, do you know if this issue was solved? It&#39;s 2019, almost 2020 and my app has a very low show rate (2-3%) and I don&#39;t know if it is my code or Admob SDK. Thanks a lot."}],"tags":[],"owner":{"account_id":11209106,"reputation":21,"user_id":8223695,"display_name":"Sơn Nguyễn trường"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498620553,"creation_date":1498620553,"answer_id":44793172,"question_id":27729547,"body_markdown":"This behavior is being caused by an app making too many ad requests at once, which puts the SDK into a bad state. Restarting Google play services, which can effectively be done by clearing all data, fixes the issue for me.\r\nThe SDK fix for this issue will be included in the next Google play services release. Once your device picks up the update, you won&#39;t need to update your app.\r\n[this is known issue of sdk ][1]\r\n\r\n\r\n  [1]: https://github.com/googleads/googleads-mobile-android-examples/issues/60","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>This behavior is being caused by an app making too many ad requests at once, which puts the SDK into a bad state. Restarting Google play services, which can effectively be done by clearing all data, fixes the issue for me.\nThe SDK fix for this issue will be included in the next Google play services release. Once your device picks up the update, you won't need to update your app.\n<a href=\"https://github.com/googleads/googleads-mobile-android-examples/issues/60\" rel=\"nofollow noreferrer\">this is known issue of sdk </a></p>\n"},{"comments":[{"owner":{"account_id":959866,"reputation":25919,"user_id":984471,"display_name":"Manohar Reddy Poreddy"},"score":0,"creation_date":1551505700,"post_id":47528253,"comment_id":96673503,"body_markdown":"Good troubleshooting skills, other apps that have ads are also not working.","body":"Good troubleshooting skills, other apps that have ads are also not working."}],"tags":[],"owner":{"account_id":2152104,"reputation":587,"user_id":1908192,"accept_rate":88,"display_name":"Velda"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511862070,"creation_date":1511862070,"answer_id":47528253,"question_id":27729547,"body_markdown":"If using real device, check also other apps, you know they contain ads, if ads are shown. Also check individually on mobile network and on Wi-Fi.\r\n\r\nFor me, it does not show only on mobile network and in all apps. **Deleting data of Google Play Services** help me, and ads starts showing again. Until GPS downloads its data back. So it worked for about one minute. :-D","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>If using real device, check also other apps, you know they contain ads, if ads are shown. Also check individually on mobile network and on Wi-Fi.</p>\n\n<p>For me, it does not show only on mobile network and in all apps. <strong>Deleting data of Google Play Services</strong> help me, and ads starts showing again. Until GPS downloads its data back. So it worked for about one minute. :-D</p>\n"},{"tags":[],"owner":{"account_id":12535938,"reputation":31,"user_id":9122626,"display_name":"anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513773152,"creation_date":1513771635,"answer_id":47905736,"question_id":27729547,"body_markdown":"I had the same issue of the ad not appearing on the physical test device screen.\r\n\r\nI switched off my wifi and started using 3g mobile data  and then my ads started appearing on the physical test devices.\r\n\r\nI also have a difference in dependecies: \r\n\r\n    com.google.android.gms:play-services-ads:9.2.0\r\n\r\ninstead of `11.6.2`","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>I had the same issue of the ad not appearing on the physical test device screen.</p>\n\n<p>I switched off my wifi and started using 3g mobile data  and then my ads started appearing on the physical test devices.</p>\n\n<p>I also have a difference in dependecies: </p>\n\n<pre><code>com.google.android.gms:play-services-ads:9.2.0\n</code></pre>\n\n<p>instead of <code>11.6.2</code></p>\n"},{"tags":[],"owner":{"account_id":7506593,"reputation":3,"user_id":5702905,"display_name":"Rveer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516187508,"creation_date":1516187508,"answer_id":48299731,"question_id":27729547,"body_markdown":"try &#39;disable background data on mobile networks&#39; set as disable in google services, it work for me","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>try 'disable background data on mobile networks' set as disable in google services, it work for me</p>\n"},{"tags":[],"owner":{"account_id":7702026,"reputation":21,"user_id":5834248,"display_name":"Alessandro Mento"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561922312,"creation_date":1561922012,"answer_id":56827404,"question_id":27729547,"body_markdown":"In the emulator of Android Studio my issue was the wrong virtual location of the device: once I set it as my real location it started working.\r\n\r\n","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>In the emulator of Android Studio my issue was the wrong virtual location of the device: once I set it as my real location it started working.</p>\n"},{"tags":[],"owner":{"account_id":3141841,"reputation":1061,"user_id":2657153,"display_name":"Pinkesh Darji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574336886,"creation_date":1574336886,"answer_id":58974302,"question_id":27729547,"body_markdown":"In our case, our company had some settings in the firewall to block ads. It worked when I switched to an open internet connection without a firewall.","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>In our case, our company had some settings in the firewall to block ads. It worked when I switched to an open internet connection without a firewall.</p>\n"},{"tags":[],"owner":{"account_id":9336759,"reputation":4466,"user_id":6930719,"accept_rate":50,"display_name":"Fakhriddin Abdullaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679638805,"creation_date":1679638805,"answer_id":75830552,"question_id":27729547,"body_markdown":"To fix the `Admob ad will not load. Error 2` error\r\n - check your device is connected to the internet\r\n - check your device date and time\r\n\r\nIf the above two are correct, then\r\n - `restart your device` ","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>To fix the <code>Admob ad will not load. Error 2</code> error</p>\n<ul>\n<li>check your device is connected to the internet</li>\n<li>check your device date and time</li>\n</ul>\n<p>If the above two are correct, then</p>\n<ul>\n<li><code>restart your device</code></li>\n</ul>\n"}],"owner":{"account_id":2882504,"reputation":344,"user_id":2473036,"accept_rate":30,"display_name":"Chuck Onwuzuruike"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30608,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":13,"score":21,"last_activity_date":1679638805,"creation_date":1420103495,"question_id":27729547,"body_markdown":"Here is the entire class that I am trying to load a banner ad into (createAd() method does the work)\r\n\r\n    public class HomeActivity extends Activity {\r\n    \r\n        private HomeView homeView;\r\n        private ImageView playButton;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n    \r\n    //        playButton = (ImageView)findViewById(R.id.playButton);\r\n    //        playButton.setImageBitmap(BitmapFactory.decodeResource(getResources(),\r\n    //                R.drawable.play));\r\n    //        setListener();\r\n            setContentView(R.layout.home_main);\r\n            createAd();\r\n    \r\n        }\r\n    \r\n        private void setListener (){\r\n            playButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    playButton.setImageBitmap(BitmapFactory.decodeResource(getResources(),\r\n                            R.drawable.play2));\r\n                    playGame();\r\n                }\r\n            });\r\n        }\r\n    \r\n        private void createAd(){\r\n            setContentView(R.layout.home_main);\r\n            AdView adView = (AdView)findViewById(R.id.bottomAd);\r\n            AdRequest.Builder adRequestBuilder = new AdRequest.Builder();\r\n            adRequestBuilder.addTestDevice(&quot;FEACCF89D31180ABDD853C9C3DD2E871&quot;);\r\n    //                .addTestDevice(&quot;1744314CD0C7B0619F94D44CE2E5093E&quot;);\r\n    \r\n            adView.loadAd(adRequestBuilder.build());\r\n        }\r\n    \r\n        public void playGame() {\r\n            SharedPreferences savedData = getApplicationContext()\r\n                    .getSharedPreferences(&quot;lastScore&quot;, Context.MODE_PRIVATE);\r\n            int score = savedData.getInt(&quot;lastScore&quot;, Context.MODE_PRIVATE);\r\n            Intent intent = new Intent(HomeActivity.this, GamePlay.class);\r\n            intent.putExtra(&quot;lastScore&quot;, score);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            // Inflate the menu; this adds items to the action bar if it is present.\r\n            getMenuInflater().inflate(R.menu.main, menu);\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item) {\r\n            // Handle action bar item clicks here. The action bar will\r\n            // automatically handle clicks on the Home/Up button, so long\r\n            // as you specify a parent activity in AndroidManifest.xml.\r\n            int id = item.getItemId();\r\n            if (id == R.id.action_settings) {\r\n                return true;\r\n            }\r\n            return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\nHere is the xml of home_main\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/homeRelative&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;.HomeActivity&quot;&gt;\r\n    \r\n        &lt;com.google.android.gms.ads.AdView\r\n            xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            android:id=&quot;@+id/bottomAd&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            ads:adSize=&quot;SMART_BANNER&quot;\r\n            ads:adUnitId=&quot;@string/admob_banner_id&quot;&gt;\r\n        &lt;/com.google.android.gms.ads.AdView&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nHere is my log after the most recent run\r\n   \r\n\r\n     01-01 16:00:32.235  26387-26387/com.rune.colorhunt D/OpenGLRenderer﹕ Enabling debug mode 0\r\n    01-01 16:00:32.275      652-796/? I/CrashAnrDetector﹕ onPackageUpdateFinished : com.rune.colorhunt\r\n    01-01 16:00:37.351  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DexOpt: --- BEGIN &#39;ads976472321.jar&#39; (bootstrap=0) ---\r\n    01-01 16:00:37.361  26387-26387/com.rune.colorhunt V/WebViewChromium﹕ Binding Chromium to the main looper Looper (main, tid 1) {41d00b38}\r\n    01-01 16:00:37.361  26387-26387/com.rune.colorhunt I/chromium﹕ [INFO:library_loader_hooks.cc(112)] Chromium logging enabled: level = 0, default verbosity = 0\r\n    01-01 16:00:37.361  26387-26387/com.rune.colorhunt I/BrowserProcessMain﹕ Initializing chromium process, renderers=0\r\n    01-01 16:00:37.391  26387-26426/com.rune.colorhunt W/chromium﹕ [WARNING:proxy_service.cc(888)] PAC support disabled because there is no system implementation\r\n    01-01 16:00:37.421  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\r\n    01-01 16:00:37.441  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DexOpt: --- END &#39;ads976472321.jar&#39; (success) ---\r\n    01-01 16:00:37.441  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DEX prep &#39;/data/data/com.rune.colorhunt/cache/ads976472321.jar&#39;: unzip in 0ms, rewrite 91ms\r\n    01-01 16:00:37.611  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 11\r\n    01-01 16:00:37.611  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 12\r\n    01-01 16:00:37.621  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 13\r\n    01-01 16:00:37.621  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 14\r\n    01-01 16:00:37.651  26387-26431/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\r\n    01-01 16:00:37.691  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\r\n    01-01 16:00:37.691  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\r\n    01-01 16:01:37.715  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\r\n    01-01 16:01:37.825  26387-26490/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\r\n    01-01 16:01:37.845  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\r\n    01-01 16:01:37.845  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\r\n    01-01 16:02:37.889  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\r\n    01-01 16:02:38.009  26387-26531/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\r\n    01-01 16:02:38.039  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\r\n    01-01 16:02:38.039  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\r\n    01-01 16:03:38.972  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\r\n    01-01 16:03:39.062  26387-26783/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\r\n    01-01 16:03:39.062  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\r\n    01-01 16:03:39.062  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\r\n\r\nIf somebody would help me, that would be amazing. I literally have no idea what the problem could be. Perhaps im missing something very simple and just need another pair of eyes. Any help is appreciated, thanks. ","title":"Admob ad will not load. Error 2. It worked before but suddenly stopped","body":"<p>Here is the entire class that I am trying to load a banner ad into (createAd() method does the work)</p>\n\n<pre><code>public class HomeActivity extends Activity {\n\n    private HomeView homeView;\n    private ImageView playButton;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n//        playButton = (ImageView)findViewById(R.id.playButton);\n//        playButton.setImageBitmap(BitmapFactory.decodeResource(getResources(),\n//                R.drawable.play));\n//        setListener();\n        setContentView(R.layout.home_main);\n        createAd();\n\n    }\n\n    private void setListener (){\n        playButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                playButton.setImageBitmap(BitmapFactory.decodeResource(getResources(),\n                        R.drawable.play2));\n                playGame();\n            }\n        });\n    }\n\n    private void createAd(){\n        setContentView(R.layout.home_main);\n        AdView adView = (AdView)findViewById(R.id.bottomAd);\n        AdRequest.Builder adRequestBuilder = new AdRequest.Builder();\n        adRequestBuilder.addTestDevice(\"FEACCF89D31180ABDD853C9C3DD2E871\");\n//                .addTestDevice(\"1744314CD0C7B0619F94D44CE2E5093E\");\n\n        adView.loadAd(adRequestBuilder.build());\n    }\n\n    public void playGame() {\n        SharedPreferences savedData = getApplicationContext()\n                .getSharedPreferences(\"lastScore\", Context.MODE_PRIVATE);\n        int score = savedData.getInt(\"lastScore\", Context.MODE_PRIVATE);\n        Intent intent = new Intent(HomeActivity.this, GamePlay.class);\n        intent.putExtra(\"lastScore\", score);\n        startActivity(intent);\n        finish();\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        getMenuInflater().inflate(R.menu.main, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        int id = item.getItemId();\n        if (id == R.id.action_settings) {\n            return true;\n        }\n        return super.onOptionsItemSelected(item);\n    }\n}\n</code></pre>\n\n<p>Here is the xml of home_main</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/homeRelative\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\".HomeActivity\"&gt;\n\n    &lt;com.google.android.gms.ads.AdView\n        xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/bottomAd\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        ads:adSize=\"SMART_BANNER\"\n        ads:adUnitId=\"@string/admob_banner_id\"&gt;\n    &lt;/com.google.android.gms.ads.AdView&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Here is my log after the most recent run</p>\n\n<pre><code> 01-01 16:00:32.235  26387-26387/com.rune.colorhunt D/OpenGLRenderer﹕ Enabling debug mode 0\n01-01 16:00:32.275      652-796/? I/CrashAnrDetector﹕ onPackageUpdateFinished : com.rune.colorhunt\n01-01 16:00:37.351  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DexOpt: --- BEGIN 'ads976472321.jar' (bootstrap=0) ---\n01-01 16:00:37.361  26387-26387/com.rune.colorhunt V/WebViewChromium﹕ Binding Chromium to the main looper Looper (main, tid 1) {41d00b38}\n01-01 16:00:37.361  26387-26387/com.rune.colorhunt I/chromium﹕ [INFO:library_loader_hooks.cc(112)] Chromium logging enabled: level = 0, default verbosity = 0\n01-01 16:00:37.361  26387-26387/com.rune.colorhunt I/BrowserProcessMain﹕ Initializing chromium process, renderers=0\n01-01 16:00:37.391  26387-26426/com.rune.colorhunt W/chromium﹕ [WARNING:proxy_service.cc(888)] PAC support disabled because there is no system implementation\n01-01 16:00:37.421  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\n01-01 16:00:37.441  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DexOpt: --- END 'ads976472321.jar' (success) ---\n01-01 16:00:37.441  26387-26416/com.rune.colorhunt D/dalvikvm﹕ DEX prep '/data/data/com.rune.colorhunt/cache/ads976472321.jar': unzip in 0ms, rewrite 91ms\n01-01 16:00:37.611  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 11\n01-01 16:00:37.611  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 12\n01-01 16:00:37.621  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 13\n01-01 16:00:37.621  26387-26394/com.rune.colorhunt I/dalvikvm﹕ Total arena pages for JIT: 14\n01-01 16:00:37.651  26387-26431/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\n01-01 16:00:37.691  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\n01-01 16:00:37.691  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\n01-01 16:01:37.715  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\n01-01 16:01:37.825  26387-26490/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\n01-01 16:01:37.845  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\n01-01 16:01:37.845  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\n01-01 16:02:37.889  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\n01-01 16:02:38.009  26387-26531/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\n01-01 16:02:38.039  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\n01-01 16:02:38.039  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\n01-01 16:03:38.972  26387-26387/com.rune.colorhunt I/Ads﹕ Starting ad request.\n01-01 16:03:39.062  26387-26783/com.rune.colorhunt W/Ads﹕ There was a problem getting an ad response. ErrorCode: 2\n01-01 16:03:39.062  26387-26387/com.rune.colorhunt I/Ads﹕ Scheduling ad refresh 60000 milliseconds from now.\n01-01 16:03:39.062  26387-26387/com.rune.colorhunt W/Ads﹕ Failed to load ad: 2\n</code></pre>\n\n<p>If somebody would help me, that would be amazing. I literally have no idea what the problem could be. Perhaps im missing something very simple and just need another pair of eyes. Any help is appreciated, thanks. </p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1679641129,"post_id":75830541,"comment_id":133760765,"body_markdown":"Why can&#39;t you make use `@Conditional` or `@DependsOn`?","body":"Why can&#39;t you make use <code>@Conditional</code> or <code>@DependsOn</code>?"},{"owner":{"account_id":3087042,"reputation":131,"user_id":2613986,"accept_rate":64,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1679642228,"post_id":75830541,"comment_id":133760946,"body_markdown":"In this case, the consumer of the library will need to initialize the internal beans of my starter in their configuration. This is contrary to the philosophy of spring-boot-starters (when we can activate a configuration by simply writing a dependency).\nI can&#39;t declaratively declare these technical beans in the starter, simply because I don&#39;t know the number of `X` beans, nor their type, nor their name. I can get this information only after the fact in runtime.","body":"In this case, the consumer of the library will need to initialize the internal beans of my starter in their configuration. This is contrary to the philosophy of spring-boot-starters (when we can activate a configuration by simply writing a dependency). I can&#39;t declaratively declare these technical beans in the starter, simply because I don&#39;t know the number of <code>X</code> beans, nor their type, nor their name. I can get this information only after the fact in runtime."},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1679657121,"post_id":75830541,"comment_id":133764282,"body_markdown":"`BeanPostProcessor` is the contract for post-processing individual beans. It should not be used to register additional beans. You should use `BeanFactoryPostProcessor` or `BeanDefinitionRegistryPostProcessor` to register beans. This will require you to change you detection of annotation `A` as you will have to examine bean definitions rather than bean instances.","body":"<code>BeanPostProcessor</code> is the contract for post-processing individual beans. It should not be used to register additional beans. You should use <code>BeanFactoryPostProcessor</code> or <code>BeanDefinitionRegistryPostProcessor</code> to register beans. This will require you to change you detection of annotation <code>A</code> as you will have to examine bean definitions rather than bean instances."},{"owner":{"account_id":3087042,"reputation":131,"user_id":2613986,"accept_rate":64,"display_name":"0xDEADBEEF"},"score":0,"creation_date":1679664569,"post_id":75830541,"comment_id":133766213,"body_markdown":"In this case, I will have to pass the name of the `X` bean to the `BeanFactory` of the `Y` bean and than get there the `X` bean from the context in order to inject it. Is this definitely better than the current solution? \n\nI absolutely understand so BPP is for working with specific beans and is not the best place to define new ones. But it&#39;s also the only place I think I can get bean `X` ready and use it to define bean `Y`.","body":"In this case, I will have to pass the name of the <code>X</code> bean to the <code>BeanFactory</code> of the <code>Y</code> bean and than get there the <code>X</code> bean from the context in order to inject it. Is this definitely better than the current solution?   I absolutely understand so BPP is for working with specific beans and is not the best place to define new ones. But it&#39;s also the only place I think I can get bean <code>X</code> ready and use it to define bean <code>Y</code>."}],"owner":{"account_id":3087042,"reputation":131,"user_id":2613986,"accept_rate":64,"display_name":"0xDEADBEEF"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679638692,"creation_date":1679638692,"question_id":75830541,"body_markdown":"I write a spring boot starter, which provides custom annotation. Expecting that any bean `X` that is marked with this annotation `A` will be intercepted and based on it (it will be injected as a dependency) another bean `Y` will be created. This new bean `Y` is a technical bean, and it is expected that the library consumer will not intentionally inject it into their beans. But it is important to me that it be initialized in the context.\r\n\r\nI wrote such a bean post processor. This is not real code, but close to it.\r\n\r\n```java\r\n@RequiredArgsConstructor\r\npublic class CustomBeanPostProcessor implements BeanPostProcessor {\r\n    private final ApplicationContext context;\r\n    private Map&lt;String, ParamsContainer&gt; candidates = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n        if (isCandidate(bean)) {\r\n            candidates.putIfAbsent(beanName, collectParams(bean));\r\n        }\r\n        return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName);\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n        if (candidates.containsKey(beanName)) {\r\n            var registry = (BeanDefinitionRegistry) context.getAutowireCapableBeanFactory();\r\n            BeanDefinition beanDefinition = makeBeanDefinition(bean, candidates.get(beanName));\r\n            var newBeanName = format(&quot;%s_binding&quot;, beanName);\r\n            registry.registerBeanDefinition(newBeanName, beanDefinition);\r\n\r\n            //Hack to initialize new bean just now\r\n            context.getBean(newBeanName);\r\n        }\r\n        return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\r\n    }\r\n}\r\n```\r\nIn the `*Before*` method, I check all objects for the presence of my annotation (`isCandidate` method) and read metadata from it (`collectParams` method). Then, in `*After*` method, I determine by the bean name whether it is necessary to determine the technical bean (`Y`) by the presence of the original bean in the map.\r\n\r\nThis code works as expected, but I have 2 questions:\r\n1) I don&#39;t like that I have to explicitly call `context.getBean(newBeanName);` to initialize a new bean, it looks like a crutch. How can I tell Spring (when registering or creating a `beanDefinition`, for example) that the bean should be initialized immediately, without waiting for a request? (`beanDefinition` create with `lazy` flag is false)\r\n2) Is such an implementation through BPP the best solution, or is there another? (Provided that in the new bean I need an instance of the original one)","title":"Spring Boot. Dynamic creation of another bean after of initialization of the first one","body":"<p>I write a spring boot starter, which provides custom annotation. Expecting that any bean <code>X</code> that is marked with this annotation <code>A</code> will be intercepted and based on it (it will be injected as a dependency) another bean <code>Y</code> will be created. This new bean <code>Y</code> is a technical bean, and it is expected that the library consumer will not intentionally inject it into their beans. But it is important to me that it be initialized in the context.</p>\n<p>I wrote such a bean post processor. This is not real code, but close to it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor\npublic class CustomBeanPostProcessor implements BeanPostProcessor {\n    private final ApplicationContext context;\n    private Map&lt;String, ParamsContainer&gt; candidates = new HashMap&lt;&gt;();\n\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n        if (isCandidate(bean)) {\n            candidates.putIfAbsent(beanName, collectParams(bean));\n        }\n        return BeanPostProcessor.super.postProcessBeforeInitialization(bean, beanName);\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n        if (candidates.containsKey(beanName)) {\n            var registry = (BeanDefinitionRegistry) context.getAutowireCapableBeanFactory();\n            BeanDefinition beanDefinition = makeBeanDefinition(bean, candidates.get(beanName));\n            var newBeanName = format(&quot;%s_binding&quot;, beanName);\n            registry.registerBeanDefinition(newBeanName, beanDefinition);\n\n            //Hack to initialize new bean just now\n            context.getBean(newBeanName);\n        }\n        return BeanPostProcessor.super.postProcessAfterInitialization(bean, beanName);\n    }\n}\n</code></pre>\n<p>In the <code>*Before*</code> method, I check all objects for the presence of my annotation (<code>isCandidate</code> method) and read metadata from it (<code>collectParams</code> method). Then, in <code>*After*</code> method, I determine by the bean name whether it is necessary to determine the technical bean (<code>Y</code>) by the presence of the original bean in the map.</p>\n<p>This code works as expected, but I have 2 questions:</p>\n<ol>\n<li>I don't like that I have to explicitly call <code>context.getBean(newBeanName);</code> to initialize a new bean, it looks like a crutch. How can I tell Spring (when registering or creating a <code>beanDefinition</code>, for example) that the bean should be initialized immediately, without waiting for a request? (<code>beanDefinition</code> create with <code>lazy</code> flag is false)</li>\n<li>Is such an implementation through BPP the best solution, or is there another? (Provided that in the new bean I need an instance of the original one)</li>\n</ol>\n"},{"tags":["java","apache-poi","xlsx","xssf"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":1,"creation_date":1678352194,"post_id":75681849,"comment_id":133516601,"body_markdown":"Are you sure that input is valid xls(x) file and not a binary xlsb format?","body":"Are you sure that input is valid xls(x) file and not a binary xlsb format?"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1678356653,"post_id":75681849,"comment_id":133517917,"body_markdown":"You are using an ancient version of xmlbeans. `piccolo` in your stacktace: removed years ago. You really would have a better chance of success if you tried to use up to date jars.","body":"You are using an ancient version of xmlbeans. <code>piccolo</code> in your stacktace: removed years ago. You really would have a better chance of success if you tried to use up to date jars."},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1678358776,"post_id":75681849,"comment_id":133518527,"body_markdown":"@zforgo, It is a valid xlsx file containing some demo data from twitter.","body":"@zforgo, It is a valid xlsx file containing some demo data from twitter."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678359915,"post_id":75681849,"comment_id":133518827,"body_markdown":"As an aside, this really has nothing to do with JavaFX (and I see jewelsea removed the [tag:javafx] tag). Mentioning it only confuses the issue. The stack trace shows the error is entirely about _xmlbeans_ inability to parse your xlsx file. Which, again, is separate from JavaFX. I bring this up because understanding the scope of the problem can help find a solution.","body":"As an aside, this really has nothing to do with JavaFX (and I see jewelsea removed the <a href=\"https://stackoverflow.com/questions/tagged/javafx\">javafx</a> tag). Mentioning it only confuses the issue. The stack trace shows the error is entirely about <i>xmlbeans</i> inability to parse your xlsx file. Which, again, is separate from JavaFX. I bring this up because understanding the scope of the problem can help find a solution."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1678360184,"post_id":75681849,"comment_id":133518889,"body_markdown":"That said, looking at [this Q&amp;A](https://stackoverflow.com/q/52810296/6395627), [this Q&amp;A](https://stackoverflow.com/q/31296635/6395627), and [this Q&amp;A](https://stackoverflow.com/q/53002856/6395627), it would appear your error is caused by an encoding issue and/or your file is really an xlsb file and not an xlsx file (remember, just because your file ends in `.xlsx` does not necessarily mean the file is in xlsx format). Also, make sure you&#39;re using the latest versions of the library as possible.","body":"That said, looking at <a href=\"https://stackoverflow.com/q/52810296/6395627\">this Q&amp;A</a>, <a href=\"https://stackoverflow.com/q/31296635/6395627\">this Q&amp;A</a>, and <a href=\"https://stackoverflow.com/q/53002856/6395627\">this Q&amp;A</a>, it would appear your error is caused by an encoding issue and/or your file is really an xlsb file and not an xlsx file (remember, just because your file ends in <code>.xlsx</code> does not necessarily mean the file is in xlsx format). Also, make sure you&#39;re using the latest versions of the library as possible."},{"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"score":0,"creation_date":1679637175,"post_id":75681849,"comment_id":133760234,"body_markdown":"as @PJFanning said, I was using an outdated version of apache poi libraries in my pom.xml dependencies.","body":"as @PJFanning said, I was using an outdated version of apache poi libraries in my pom.xml dependencies."}],"answers":[{"tags":[],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679638557,"creation_date":1679638557,"answer_id":75830526,"question_id":75681849,"body_markdown":"The issue here is that I was using an outdated version of the apache poi and XML beans libraries.By upgrading to the **apache poi** **version 5.2.3** , **org.apache.xmlbeans** **version 5.1.1** and **poi-ooxml** **version 5.2.3** , I was able to open the xlsx file. \r\nAlso, I faced the error below during opening one of my larger xlsx file.\r\nError:\r\n\r\n \r\n\r\n  \r\n\r\n      Exception in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Tried to read data but the maximum length for this record type is 100,000,000.\r\n    If the file is not corrupt and not large, please open an issue on bugzilla to request \r\n    increasing the maximum allowable size for this record type.\r\n    You can set a higher override value with IOUtils.setByteArrayMaxOverride()\r\n    \tat org.apache.poi.poi/org.apache.poi.util.IOUtils.throwRecordTruncationException(IOUtils.java:607)\r\n    \tat org.apache.poi.poi/org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:249)\r\n    \tat org.apache.poi.poi/org.apache.poi.util.IOUtils.toByteArrayWithMaxLength(IOUtils.java:220)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.openxml4j.util.ZipArchiveFakeEntry.&lt;init&gt;(ZipArchiveFakeEntry.java:81)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:98)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:132)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:319)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:290)\r\n    \tat org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:286)\r\n    \tat com.example.scrapper/com.example.scrapper.ChangeToCSV.main(ChangeToCSV.java:15)\r\n    \r\n    Process finished with exit code 1\r\n\r\nI fixed the error by using the line below, just before declaring the Workbook and other variables to open the xlsx file:\r\n        **IOUtils.setByteArrayMaxOverride(1000000000);**\r\nIllustration here:\r\n\r\n   \r\n    IOUtils.setByteArrayMaxOverride(1000000000);\r\n    try {\r\n         FileInputStream inputStream = new FileInputStream(xlsxFilePath);\r\n         Workbook workbook = new XSSFWorkbook(inputStream);\r\n         Sheet sheet = workbook.getSheetAt(0);\r\n         //The rest of the code\r\n\r\n","title":"Is there a way I can open an xlsx file in without facing the CharconversionException exception?","body":"<p>The issue here is that I was using an outdated version of the apache poi and XML beans libraries.By upgrading to the <strong>apache poi</strong> <strong>version 5.2.3</strong> , <strong>org.apache.xmlbeans</strong> <strong>version 5.1.1</strong> and <strong>poi-ooxml</strong> <strong>version 5.2.3</strong> , I was able to open the xlsx file.\nAlso, I faced the error below during opening one of my larger xlsx file.\nError:</p>\n<pre><code>  Exception in thread &quot;main&quot; org.apache.poi.util.RecordFormatException: Tried to read data but the maximum length for this record type is 100,000,000.\nIf the file is not corrupt and not large, please open an issue on bugzilla to request \nincreasing the maximum allowable size for this record type.\nYou can set a higher override value with IOUtils.setByteArrayMaxOverride()\n    at org.apache.poi.poi/org.apache.poi.util.IOUtils.throwRecordTruncationException(IOUtils.java:607)\n    at org.apache.poi.poi/org.apache.poi.util.IOUtils.toByteArray(IOUtils.java:249)\n    at org.apache.poi.poi/org.apache.poi.util.IOUtils.toByteArrayWithMaxLength(IOUtils.java:220)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.util.ZipArchiveFakeEntry.&lt;init&gt;(ZipArchiveFakeEntry.java:81)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.util.ZipInputStreamZipEntrySource.&lt;init&gt;(ZipInputStreamZipEntrySource.java:98)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.ZipPackage.&lt;init&gt;(ZipPackage.java:132)\n    at org.apache.poi.ooxml/org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:319)\n    at org.apache.poi.ooxml/org.apache.poi.ooxml.util.PackageHelper.open(PackageHelper.java:59)\n    at org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:290)\n    at org.apache.poi.ooxml/org.apache.poi.xssf.usermodel.XSSFWorkbook.&lt;init&gt;(XSSFWorkbook.java:286)\n    at com.example.scrapper/com.example.scrapper.ChangeToCSV.main(ChangeToCSV.java:15)\n\nProcess finished with exit code 1\n</code></pre>\n<p>I fixed the error by using the line below, just before declaring the Workbook and other variables to open the xlsx file:\n<strong>IOUtils.setByteArrayMaxOverride(1000000000);</strong>\nIllustration here:</p>\n<pre><code>IOUtils.setByteArrayMaxOverride(1000000000);\ntry {\n     FileInputStream inputStream = new FileInputStream(xlsxFilePath);\n     Workbook workbook = new XSSFWorkbook(inputStream);\n     Sheet sheet = workbook.getSheetAt(0);\n     //The rest of the code\n</code></pre>\n"}],"owner":{"account_id":22296747,"reputation":151,"user_id":16522650,"display_name":"NebuCodeNezzar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75830526,"answer_count":1,"score":0,"last_activity_date":1679638557,"creation_date":1678348959,"question_id":75681849,"body_markdown":"My application processes excel files; but when opening xlsx Excel format, it gives me the following error. Is there something I&#39;m doing wrong or anything I&#39;ve left out?. Below is the code and the error stack trace; I&#39;ve traced the error&#39;s origin to here:\r\n\r\n```\r\nmyExcelBook = new XSSFWorkbook(new FileInputStream(f));\r\nmyExcelSheet = ((XSSFWorkbook) myExcelBook).getSheetAt(0);\r\n```\r\n\r\nThe exception stack trace:\r\n\r\n```\r\nCaused by: java.io.CharConversionException: Characters larger than 4 bytes are not supported: byte 0x8f implies a length of more than 4 bytes\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.UTF8XMLDecoder.decode(UTF8XMLDecoder.java:162)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.XMLStreamReader$FastStreamDecoder.read(XMLStreamReader.java:762)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.XMLStreamReader.read(XMLStreamReader.java:162)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yy_refill(PiccoloLexer.java:3477)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yylex(PiccoloLexer.java:3962)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yylex(Piccolo.java:1290)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yyparse(Piccolo.java:1400)\r\n\tat org.apache.xmlbeans.impl.piccolo.xml.Piccolo.parse(Piccolo.java:714)\r\n\tat org.apache.xmlbeans.impl.store.Locale$SaxLoader.load(Locale.java:3479)\r\n\tat org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1277)\r\n\tat org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1264)\r\n\tat org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)\r\n\tat org.openxmlformats.schemas.spreadsheetml.x2006.main.SstDocument$Factory.parse(Unknown Source)\r\n\tat org.apache.poi.xssf.model.SharedStringsTable.readFrom(SharedStringsTable.java:119)\r\n\tat org.apache.poi.xssf.model.SharedStringsTable.&lt;init&gt;(SharedStringsTable.java:106)\r\n\tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n\t... 61 more\r\n```\r\n\r\nI wanted to get the number of columns and cell data from the xlsx file for processing in my application, but when I load the file in the JavaFx application, the error shows up and the application freezes.","title":"Is there a way I can open an xlsx file in without facing the CharconversionException exception?","body":"<p>My application processes excel files; but when opening xlsx Excel format, it gives me the following error. Is there something I'm doing wrong or anything I've left out?. Below is the code and the error stack trace; I've traced the error's origin to here:</p>\n<pre><code>myExcelBook = new XSSFWorkbook(new FileInputStream(f));\nmyExcelSheet = ((XSSFWorkbook) myExcelBook).getSheetAt(0);\n</code></pre>\n<p>The exception stack trace:</p>\n<pre><code>Caused by: java.io.CharConversionException: Characters larger than 4 bytes are not supported: byte 0x8f implies a length of more than 4 bytes\n    at org.apache.xmlbeans.impl.piccolo.xml.UTF8XMLDecoder.decode(UTF8XMLDecoder.java:162)\n    at org.apache.xmlbeans.impl.piccolo.xml.XMLStreamReader$FastStreamDecoder.read(XMLStreamReader.java:762)\n    at org.apache.xmlbeans.impl.piccolo.xml.XMLStreamReader.read(XMLStreamReader.java:162)\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yy_refill(PiccoloLexer.java:3477)\n    at org.apache.xmlbeans.impl.piccolo.xml.PiccoloLexer.yylex(PiccoloLexer.java:3962)\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yylex(Piccolo.java:1290)\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.yyparse(Piccolo.java:1400)\n    at org.apache.xmlbeans.impl.piccolo.xml.Piccolo.parse(Piccolo.java:714)\n    at org.apache.xmlbeans.impl.store.Locale$SaxLoader.load(Locale.java:3479)\n    at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1277)\n    at org.apache.xmlbeans.impl.store.Locale.parseToXmlObject(Locale.java:1264)\n    at org.apache.xmlbeans.impl.schema.SchemaTypeLoaderBase.parse(SchemaTypeLoaderBase.java:345)\n    at org.openxmlformats.schemas.spreadsheetml.x2006.main.SstDocument$Factory.parse(Unknown Source)\n    at org.apache.poi.xssf.model.SharedStringsTable.readFrom(SharedStringsTable.java:119)\n    at org.apache.poi.xssf.model.SharedStringsTable.&lt;init&gt;(SharedStringsTable.java:106)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 61 more\n</code></pre>\n<p>I wanted to get the number of columns and cell data from the xlsx file for processing in my application, but when I load the file in the JavaFx application, the error shows up and the application freezes.</p>\n"},{"tags":["java","spring","foreign-keys"],"comments":[{"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"score":0,"creation_date":1679562639,"post_id":75820822,"comment_id":133744821,"body_markdown":"I would not let spring or the underlying persistence manager generate the database. This does not usually happen in production.  What is the right thing to do depends on what your goals are. If you want to test something quickly, then of course you save time if you let spring generate the tables.","body":"I would not let spring or the underlying persistence manager generate the database. This does not usually happen in production.  What is the right thing to do depends on what your goals are. If you want to test something quickly, then of course you save time if you let spring generate the tables."},{"owner":{"account_id":4151902,"reputation":14863,"user_id":3404097,"display_name":"philipxy"},"score":0,"creation_date":1679638429,"post_id":75820822,"comment_id":133760397,"body_markdown":"[Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/3404097)","body":"<a href=\"https://meta.stackoverflow.com/q/285551/3404097\">Why should I not upload images of code/data/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24695665,"reputation":26,"user_id":18587679,"display_name":"Kishore Krishnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679562912,"creation_date":1679562912,"answer_id":75821108,"question_id":75820822,"body_markdown":"In my experience It&#39;s better to have relationship on only one side\r\n\r\nTo ensure that only one relational table is created and to prevent Spring Boot from creating another table automatically, it&#39;s recommended to use only one side of the mapping for the relationship.\r\n\r\nTo accomplish this, you can use the mappedBy attribute on the non-owning side of the relationship mapping. For example, if you want to ignore the creation of the intermediate table for a @OneToMany relationship, you can add the mappedBy attribute to the @ManyToOne side of the relationship and specify the column name to map to:","title":"BASIC SPRING: Foreign Keys and Relational Tables","body":"<p>In my experience It's better to have relationship on only one side</p>\n<p>To ensure that only one relational table is created and to prevent Spring Boot from creating another table automatically, it's recommended to use only one side of the mapping for the relationship.</p>\n<p>To accomplish this, you can use the mappedBy attribute on the non-owning side of the relationship mapping. For example, if you want to ignore the creation of the intermediate table for a @OneToMany relationship, you can add the mappedBy attribute to the @ManyToOne side of the relationship and specify the column name to map to:</p>\n"}],"owner":{"account_id":27677990,"reputation":3,"user_id":21127394,"display_name":"Alessandro Armari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75821108,"answer_count":1,"score":0,"last_activity_date":1679638388,"creation_date":1679561091,"question_id":75820822,"body_markdown":"I&#39;m creating a simple Java-Spring project using MySQL server.\r\nWhile creating tables on the database I see that Spring creates some sort of &quot;relational tables&quot;.\r\n\r\n[OneToMany, ManyToOne tables](https://i.stack.imgur.com/hKSFx.png)\r\n\r\nBut all of them are empty.\r\n\r\nI check the table &quot;ticket&quot; and the column gig_id (Foreign key) is filled with the right value.\r\n\r\n[Foreign Keys](https://i.stack.imgur.com/1MrLu.png)\r\n\r\nThe system works.\r\n\r\nShould I have both the tables filled, or leave it as Spring creates them?\r\n\r\n","title":"BASIC SPRING: Foreign Keys and Relational Tables","body":"<p>I'm creating a simple Java-Spring project using MySQL server.\nWhile creating tables on the database I see that Spring creates some sort of &quot;relational tables&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/hKSFx.png\" rel=\"nofollow noreferrer\">OneToMany, ManyToOne tables</a></p>\n<p>But all of them are empty.</p>\n<p>I check the table &quot;ticket&quot; and the column gig_id (Foreign key) is filled with the right value.</p>\n<p><a href=\"https://i.stack.imgur.com/1MrLu.png\" rel=\"nofollow noreferrer\">Foreign Keys</a></p>\n<p>The system works.</p>\n<p>Should I have both the tables filled, or leave it as Spring creates them?</p>\n"},{"tags":["java","spring-boot","graalvm-native-image"],"owner":{"account_id":28110551,"reputation":1,"user_id":21478388,"display_name":"Heldi Apriadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679638139,"creation_date":1679638139,"question_id":75830491,"body_markdown":"With the latest releases of Spring Boot 3.0.4, native-maven-plugin-0.9.20, and spring-boot-starter-data-redis-reactive-3.0.4\r\n\r\nI have a Redis configuration using the RedisConfig code as shown above. \r\n\r\n```\r\n@Configuration\r\npublic class RedisConfig {\r\n\r\n    @Value(&quot;${spring.redis.host}&quot;)\r\n    private String host;\r\n\r\n    @Value(&quot;${spring.redis.port}&quot;)\r\n    private int port;\r\n\r\n    @Bean\r\n    public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\r\n        return new LettuceConnectionFactory(host, port);\r\n    }\r\n\r\n    @Bean\r\n    public RedisClient redisClient(){\r\n        ClientOptions options = ClientOptions.builder()\r\n                .autoReconnect(true)\r\n                .build();\r\n        RedisClient redisClient = RedisClient.create(&quot;redis://&quot;+host+&quot;:&quot;+port);\r\n        redisClient.setOptions(options);\r\n        return redisClient;\r\n    }\r\n\r\n    @Bean\r\n    public RedisReactiveCommands&lt;String, String&gt; redisReactiveCommands() {\r\n        return redisClient().connect().reactive();\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, when I try to compile with Maven &quot;mvn native:compile -Pnative&quot; &amp; run the Spring Boot application using native image , I encounter a problem with the exception \r\n\r\n```\r\n&quot;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reactiveRedisConnectionFactory&#39;: null&quot;. \r\n```\r\n\r\nBut, when I run the application using JVM, everything runs smoothly. Am I missing something?\r\n\r\nI have tried updating the Redis and Spring Framework dependency versions, as well as updating the RedisConfig configuration. I also tried searching for solutions in forums and Spring documentation, but have not found a suitable solution. I hope to find a solution or suggestion that can help me overcome the exception problem that occurs when running a Spring Boot application with a native image using the RedisConfig configuration above.","title":"Exception encountered during context initialization in Native Spring Boot with RedisConfig","body":"<p>With the latest releases of Spring Boot 3.0.4, native-maven-plugin-0.9.20, and spring-boot-starter-data-redis-reactive-3.0.4</p>\n<p>I have a Redis configuration using the RedisConfig code as shown above.</p>\n<pre><code>@Configuration\npublic class RedisConfig {\n\n    @Value(&quot;${spring.redis.host}&quot;)\n    private String host;\n\n    @Value(&quot;${spring.redis.port}&quot;)\n    private int port;\n\n    @Bean\n    public ReactiveRedisConnectionFactory reactiveRedisConnectionFactory() {\n        return new LettuceConnectionFactory(host, port);\n    }\n\n    @Bean\n    public RedisClient redisClient(){\n        ClientOptions options = ClientOptions.builder()\n                .autoReconnect(true)\n                .build();\n        RedisClient redisClient = RedisClient.create(&quot;redis://&quot;+host+&quot;:&quot;+port);\n        redisClient.setOptions(options);\n        return redisClient;\n    }\n\n    @Bean\n    public RedisReactiveCommands&lt;String, String&gt; redisReactiveCommands() {\n        return redisClient().connect().reactive();\n    }\n}\n\n</code></pre>\n<p>However, when I try to compile with Maven &quot;mvn native:compile -Pnative&quot; &amp; run the Spring Boot application using native image , I encounter a problem with the exception</p>\n<pre><code>&quot;Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reactiveRedisConnectionFactory': null&quot;. \n</code></pre>\n<p>But, when I run the application using JVM, everything runs smoothly. Am I missing something?</p>\n<p>I have tried updating the Redis and Spring Framework dependency versions, as well as updating the RedisConfig configuration. I also tried searching for solutions in forums and Spring documentation, but have not found a suitable solution. I hope to find a solution or suggestion that can help me overcome the exception problem that occurs when running a Spring Boot application with a native image using the RedisConfig configuration above.</p>\n"},{"tags":["java","android","android-recyclerview","sql-order-by","android-room"],"answers":[{"tags":[],"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679637658,"creation_date":1679625910,"answer_id":75829609,"question_id":75756491,"body_markdown":"I figured it out by ordinary way in roomdatabase\r\n(add feild for parameter in this case in Entity.\r\nupdate parameter in Query and retrieve it in Livedata&#39;s observe.).\r\n","title":"How Can I persist the state changed by ORDER BY CASE WHEN?","body":"<p>I figured it out by ordinary way in roomdatabase\n(add feild for parameter in this case in Entity.\nupdate parameter in Query and retrieve it in Livedata's observe.).</p>\n"}],"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75829609,"answer_count":1,"score":0,"last_activity_date":1679637658,"creation_date":1678970884,"question_id":75756491,"body_markdown":"I got the answer on this site about how to express ORDER BY CASE and it&#39;s works fine.\r\n\r\nlike bellow\r\n\r\nDao:\r\n\r\n```\r\n@Query(&quot;SELECT * FROM decks ORDER BY &quot; +\r\n        &quot;CASE WHEN :parameter = 0 THEN dateTime END ASC, &quot; +\r\n        &quot;CASE WHEN :parameter = 1 THEN dateTime END DESC, &quot; +\r\n        &quot;CASE WHEN :parameter = 2 THEN deckName END ASC, &quot; +\r\n        &quot;CASE WHEN :parameter = 3 THEN deckName END DESC&quot;)\r\nList&lt;Deck&gt; getAllDecksByOrder(int parameter);\r\n```\r\n\r\nBut When I press the AVD&#39;s run app button,the user select order of recycler view return to the default order(in this case parameter = 0 although I didn&#39;t define it).\r\n\r\nHow Can I persist the state  of order changed by user(onOptionsItemSelected)?Idon&#39;t have idea to handle this.\r\n\r\nexcerpted code bellow\r\n\r\nThank you.\r\n\r\nRepository\r\n\r\n```\r\npublic class DeckRepository {\r\n    private final MutableLiveData&lt;List&lt;Deck&gt;&gt; searchResults\r\n            = new MutableLiveData&lt;&gt;();\r\n    private List&lt;Deck&gt; results;\r\n    private final DeckDao deckDao;\r\n    .\r\n\r\n    public DeckRepository(Application application){\r\n        RoomDatabase db;\r\n        db = RoomDatabase.getDatabase(application);\r\n        deckDao = db.deckDao();\r\n    }\r\n\r\n    Handler handler = new Handler(Looper.getMainLooper()) {\r\n        @Override\r\n        public void handleMessage(Message msg){\r\n            searchResults.setValue(results);\r\n        }\r\n    };\r\n\r\n    public void getAllDecksByOrder(int parameter){\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        executor.submit(() -&gt;{\r\n            results = deckDao.getAllDecksByOrder(parameter);\r\n            handler.sendEmptyMessage(0);\r\n        });\r\n        executor.shutdown();\r\n    }\r\n\r\n\r\n    public MutableLiveData&lt;List&lt;Deck&gt;&gt; getSearchResults(){\r\n        return searchResults;\r\n    }\r\n}\r\n```\r\n\r\nmainViewModel\r\n\r\n```\r\npublic class MainViewModel extends AndroidViewModel{\r\n    private DeckRepository repository;\r\n    private MutableLiveData&lt;List&lt;Deck&gt;&gt; searchResults;\r\n\r\n    public MainViewModel(Application application){\r\n        super(application);\r\n        repository = new DeckRepository(application);\r\n        searchResults = repository.getSearchResults();\r\n    }\r\n\r\n    public MutableLiveData&lt;List&lt;Deck&gt;&gt; getSearchResults(){\r\n        return searchResults;\r\n    }\r\n\r\n    public void getAllDecksByOrder(int parameter){\r\n        repository.getAllDecksByOrder(parameter);\r\n    }\r\n}\r\n```\r\n\r\nMainFragment\r\n\r\n```\r\npublic class MainFragment extends Fragment implements NoticeDialogFragment.NoticeDialogListener {\r\n\r\n    private MainViewModel mViewModel;\r\n    private DeckListAdapter adapter;  \r\n    int parameter;\r\n\r\n    .\r\n    .\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.order_dateTime_ASC:  {\r\n                mViewModel.getAllDecksByOrder(0);\r\n                return true;\r\n            }\r\n\r\n            case R.id.order_dateTime_DESC:  {\r\n                mViewModel.getAllDecksByOrder(1);\r\n                return true;\r\n            }\r\n\r\n            case R.id.order_question_ASC:  {\r\n                mViewModel.getAllDecksByOrder(2);\r\n                return true;\r\n            }\r\n\r\n            case R.id.order_question_DESC:  {\r\n                mViewModel.getAllDecksByOrder(3);\r\n                return true;\r\n            }\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n   .\r\n   .\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        mViewModel = new ViewModelProvider(this).get(MainViewModel.class);\r\n        mViewModel.getAllDecksByOrder(parameter);\r\n        mViewModel.getSearchResults().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Deck&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(@Nullable final List&lt;Deck&gt; decks) {\r\n                adapter.setDeckList(decks);\r\n            }\r\n        });  \r\n    }\r\n   .\r\n   . \r\n}\r\n```\r\nEntity\r\n\r\n    @Entity(tableName = &quot;decks&quot;)\r\n    public class Deck {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        @NonNull\r\n        @ColumnInfo(name = &quot;deckId&quot;)\r\n        private int id;\r\n    \r\n        @ColumnInfo(name = &quot;deckName&quot;)\r\n        private String name;\r\n    \r\n        @ColumnInfo(name = &quot;deckListCount&quot;)\r\n        private int listCount;\r\n    \r\n        private LocalDateTime dateTime;\r\n    \r\n        public Deck(String name, int listCount, LocalDateTime dateTime){\r\n            this.name = name;\r\n            this.listCount = listCount;\r\n            this.dateTime = dateTime;\r\n        }\r\n    .\r\n    .\r\n    }","title":"How Can I persist the state changed by ORDER BY CASE WHEN?","body":"<p>I got the answer on this site about how to express ORDER BY CASE and it's works fine.</p>\n<p>like bellow</p>\n<p>Dao:</p>\n<pre><code>@Query(&quot;SELECT * FROM decks ORDER BY &quot; +\n        &quot;CASE WHEN :parameter = 0 THEN dateTime END ASC, &quot; +\n        &quot;CASE WHEN :parameter = 1 THEN dateTime END DESC, &quot; +\n        &quot;CASE WHEN :parameter = 2 THEN deckName END ASC, &quot; +\n        &quot;CASE WHEN :parameter = 3 THEN deckName END DESC&quot;)\nList&lt;Deck&gt; getAllDecksByOrder(int parameter);\n</code></pre>\n<p>But When I press the AVD's run app button,the user select order of recycler view return to the default order(in this case parameter = 0 although I didn't define it).</p>\n<p>How Can I persist the state  of order changed by user(onOptionsItemSelected)?Idon't have idea to handle this.</p>\n<p>excerpted code bellow</p>\n<p>Thank you.</p>\n<p>Repository</p>\n<pre><code>public class DeckRepository {\n    private final MutableLiveData&lt;List&lt;Deck&gt;&gt; searchResults\n            = new MutableLiveData&lt;&gt;();\n    private List&lt;Deck&gt; results;\n    private final DeckDao deckDao;\n    .\n\n    public DeckRepository(Application application){\n        RoomDatabase db;\n        db = RoomDatabase.getDatabase(application);\n        deckDao = db.deckDao();\n    }\n\n    Handler handler = new Handler(Looper.getMainLooper()) {\n        @Override\n        public void handleMessage(Message msg){\n            searchResults.setValue(results);\n        }\n    };\n\n    public void getAllDecksByOrder(int parameter){\n        ExecutorService executor = Executors.newSingleThreadExecutor();\n        executor.submit(() -&gt;{\n            results = deckDao.getAllDecksByOrder(parameter);\n            handler.sendEmptyMessage(0);\n        });\n        executor.shutdown();\n    }\n\n\n    public MutableLiveData&lt;List&lt;Deck&gt;&gt; getSearchResults(){\n        return searchResults;\n    }\n}\n</code></pre>\n<p>mainViewModel</p>\n<pre><code>public class MainViewModel extends AndroidViewModel{\n    private DeckRepository repository;\n    private MutableLiveData&lt;List&lt;Deck&gt;&gt; searchResults;\n\n    public MainViewModel(Application application){\n        super(application);\n        repository = new DeckRepository(application);\n        searchResults = repository.getSearchResults();\n    }\n\n    public MutableLiveData&lt;List&lt;Deck&gt;&gt; getSearchResults(){\n        return searchResults;\n    }\n\n    public void getAllDecksByOrder(int parameter){\n        repository.getAllDecksByOrder(parameter);\n    }\n}\n</code></pre>\n<p>MainFragment</p>\n<pre><code>public class MainFragment extends Fragment implements NoticeDialogFragment.NoticeDialogListener {\n\n    private MainViewModel mViewModel;\n    private DeckListAdapter adapter;  \n    int parameter;\n\n    .\n    .\n\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.order_dateTime_ASC:  {\n                mViewModel.getAllDecksByOrder(0);\n                return true;\n            }\n\n            case R.id.order_dateTime_DESC:  {\n                mViewModel.getAllDecksByOrder(1);\n                return true;\n            }\n\n            case R.id.order_question_ASC:  {\n                mViewModel.getAllDecksByOrder(2);\n                return true;\n            }\n\n            case R.id.order_question_DESC:  {\n                mViewModel.getAllDecksByOrder(3);\n                return true;\n            }\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n\n   .\n   .\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        mViewModel = new ViewModelProvider(this).get(MainViewModel.class);\n        mViewModel.getAllDecksByOrder(parameter);\n        mViewModel.getSearchResults().observe(getViewLifecycleOwner(), new Observer&lt;List&lt;Deck&gt;&gt;() {\n            @Override\n            public void onChanged(@Nullable final List&lt;Deck&gt; decks) {\n                adapter.setDeckList(decks);\n            }\n        });  \n    }\n   .\n   . \n}\n</code></pre>\n<p>Entity</p>\n<pre><code>@Entity(tableName = &quot;decks&quot;)\npublic class Deck {\n\n    @PrimaryKey(autoGenerate = true)\n    @NonNull\n    @ColumnInfo(name = &quot;deckId&quot;)\n    private int id;\n\n    @ColumnInfo(name = &quot;deckName&quot;)\n    private String name;\n\n    @ColumnInfo(name = &quot;deckListCount&quot;)\n    private int listCount;\n\n    private LocalDateTime dateTime;\n\n    public Deck(String name, int listCount, LocalDateTime dateTime){\n        this.name = name;\n        this.listCount = listCount;\n        this.dateTime = dateTime;\n    }\n.\n.\n}\n</code></pre>\n"},{"tags":["java","timestamp","timezone","java-time","datetime-conversion"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1679577260,"post_id":75823220,"comment_id":133748643,"body_markdown":"It doesn&#39;t add 5:30. It just displays the date and time in the timezone of your machine, which happens to be IST which is 5:30 ahead of UTC. Tip 1: Stop using `java.util.Date`. When you print a `java.util.Date` directly, it will always print its content in the timezone of your machine, which is why you see it in IST. Tip 2: To print your timestamp in a specific timezone, format it using a formatter with the desired timezone configured (on the formatter).","body":"It doesn&#39;t add 5:30. It just displays the date and time in the timezone of your machine, which happens to be IST which is 5:30 ahead of UTC. Tip 1: Stop using <code>java.util.Date</code>. When you print a <code>java.util.Date</code> directly, it will always print its content in the timezone of your machine, which is why you see it in IST. Tip 2: To print your timestamp in a specific timezone, format it using a formatter with the desired timezone configured (on the formatter)."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679577954,"post_id":75823220,"comment_id":133748821,"body_markdown":"I agree with Jasper. The time is converted and shown in your local timezone which is IST and that&#39;s what you are trying to print right? The equivalent of UTC time in IST.","body":"I agree with Jasper. The time is converted and shown in your local timezone which is IST and that&#39;s what you are trying to print right? The equivalent of UTC time in IST."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679592262,"post_id":75823220,"comment_id":133753204,"body_markdown":"Please confirm that you want to preserve the wall-clock time (here 11:27:04) thereby giving you a point in time that is 5 hours 30 minutes earlier than the incoming time from the request? Asking because I have a hard time making sense if such a requirement.","body":"Please confirm that you want to preserve the wall-clock time (here 11:27:04) thereby giving you a point in time that is 5 hours 30 minutes earlier than the incoming time from the request? Asking because I have a hard time making sense if such a requirement."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679592890,"post_id":75823220,"comment_id":133753392,"body_markdown":"If you insist: (1) Parse using `OffsetDateTime reqDateTime = OffsetDateTime.parse(&quot;2023-03-22T11:27:04Z&quot;);`. (2) Check that `reqDateTime.getOffset().equals(ZoneOffset.UTC)` (because from what you told us we have no idea what to do if not). (3) Convert to your computer’s time zone keeping the wall clock time: `ZonedDateTime sameWallClockTime = reqDateTime.atZoneSimilarLocal(ZoneId.systemDefault());`. Gives `2023-03-22T11:27:04+05:30[Asia/Kolkata]`. (4) Optionally: If you need a `Date` for a legacy API: `Date.from(sameWallClockTime.toInstant());`. Gives `Wed Mar 22 11:27:04 IST 2023`.","body":"If you insist: (1) Parse using <code>OffsetDateTime reqDateTime = OffsetDateTime.parse(&quot;2023-03-22T11:27:04Z&quot;);</code>. (2) Check that <code>reqDateTime.getOffset().equals(ZoneOffset.UTC)</code> (because from what you told us we have no idea what to do if not). (3) Convert to your computer’s time zone keeping the wall clock time: <code>ZonedDateTime sameWallClockTime = reqDateTime.atZoneSimilarLocal(ZoneId.systemDefault());</code>. Gives <code>2023-03-22T11:27:04+05:30[Asia&#47;Kolkata]</code>. (4) Optionally: If you need a <code>Date</code> for a legacy API: <code>Date.from(sameWallClockTime.toInstant());</code>. Gives <code>Wed Mar 22 11:27:04 IST 2023</code>."}],"answers":[{"comments":[{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679586990,"post_id":75823853,"comment_id":133751747,"body_markdown":"@BasilBourque Right. Updated.","body":"@BasilBourque Right. Updated."},{"owner":{"account_id":13474613,"reputation":157,"user_id":9722013,"display_name":"Divya Singh"},"score":1,"creation_date":1679635094,"post_id":75823853,"comment_id":133759987,"body_markdown":"@AnishB. your answer seems to be convincing to me, just one question though. I dont want to convert the timestamp to any timezone rather i just want to format it to this farmat: Wed Mar 22 11:27:04 IST 2023","body":"@AnishB. your answer seems to be convincing to me, just one question though. I dont want to convert the timestamp to any timezone rather i just want to format it to this farmat: Wed Mar 22 11:27:04 IST 2023"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679635942,"post_id":75823853,"comment_id":133760092,"body_markdown":"@DivyaSingh Let me update my answer.","body":"@DivyaSingh Let me update my answer."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1679637496,"post_id":75823853,"comment_id":133760277,"body_markdown":"@DivyaSingh I have updated the code. Now it will work according to what you want.","body":"@DivyaSingh I have updated the code. Now it will work according to what you want."}],"tags":[],"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679637470,"creation_date":1679579223,"answer_id":75823853,"question_id":75823220,"body_markdown":"Please don&#39;t use `java.util.Date` as it&#39;s poorly designed and may be deprecated in future. \r\n\r\nInstead use `java.time.LocalDateTime` or `java.time.ZonedDateTime`.\r\n\r\n**Update:**\r\n\r\nYou have to use `ZonedDateTime.withZoneSameLocal(ZoneId zone)` if you want to keep the same time with the change in timezone only.\r\n\r\nFrom [ZonedDateTime.withZoneSameLocal(ZoneId zone) JDK 8 doc][1] : \r\n\r\n&gt; Returns a copy of this date-time with a different time-zone, retaining\r\n&gt; the local date-time if possible. This method changes the time-zone and\r\n&gt; retains the local date-time.\r\n\r\nSo, update the code (without using `java.util.Date`) to this: \r\n\r\n    String startTime = searchParams.getDeploymentStartDate();\r\n    System.out.println(&quot;startTime from req body in utc:&quot; + startTime);\r\n    ZonedDateTime ist = ZonedDateTime.parse(startTime)\r\n    \t\t\t\t.withZoneSameLocal(ZoneId.of(&quot;Asia/Kolkata&quot;));\r\n    System.out.println(&quot;startDate converted to desired format in IST:&quot; \r\n                 + ist.format(DateTimeFormatter.ofPattern(&quot;E MMM dd HH:mm:ss z u&quot;)));\r\n\r\nOutput:\r\n\r\n    startTime from req body in utc:2023-03-22T11:27:04Z\r\n    startDate converted to desired format in IST:Wed Mar 22 11:27:04 IST 2023\r\n\r\n**Note:** If you want the timestamp in a different timezone, then just pass that timezone in `ZoneId.of(...)` \r\n\r\nI&#39;m providing a list of ZoneIds from the [official doc][2] that are supported : \r\n\r\n    EST - -05:00\r\n    HST - -10:00\r\n    MST - -07:00\r\n    ACT - Australia/Darwin\r\n    AET - Australia/Sydney\r\n    AGT - America/Argentina/Buenos_Aires\r\n    ART - Africa/Cairo\r\n    AST - America/Anchorage\r\n    BET - America/Sao_Paulo\r\n    BST - Asia/Dhaka\r\n    CAT - Africa/Harare\r\n    CNT - America/St_Johns\r\n    CST - America/Chicago\r\n    CTT - Asia/Shanghai\r\n    EAT - Africa/Addis_Ababa\r\n    ECT - Europe/Paris\r\n    IET - America/Indiana/Indianapolis\r\n    IST - Asia/Kolkata\r\n    JST - Asia/Tokyo\r\n    MIT - Pacific/Apia\r\n    NET - Asia/Yerevan\r\n    NST - Pacific/Auckland\r\n    PLT - Asia/Karachi\r\n    PNT - America/Phoenix\r\n    PRT - America/Puerto_Rico\r\n    PST - America/Los_Angeles\r\n    SST - Pacific/Guadalcanal\r\n    VST - Asia/Ho_Chi_Minh\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameLocal-java.time.ZoneId-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html","title":"Unwanted timezone conversion for an incoming timestamp in spring boot app","body":"<p>Please don't use <code>java.util.Date</code> as it's poorly designed and may be deprecated in future.</p>\n<p>Instead use <code>java.time.LocalDateTime</code> or <code>java.time.ZonedDateTime</code>.</p>\n<p><strong>Update:</strong></p>\n<p>You have to use <code>ZonedDateTime.withZoneSameLocal(ZoneId zone)</code> if you want to keep the same time with the change in timezone only.</p>\n<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#withZoneSameLocal-java.time.ZoneId-\" rel=\"nofollow noreferrer\">ZonedDateTime.withZoneSameLocal(ZoneId zone) JDK 8 doc</a> :</p>\n<blockquote>\n<p>Returns a copy of this date-time with a different time-zone, retaining\nthe local date-time if possible. This method changes the time-zone and\nretains the local date-time.</p>\n</blockquote>\n<p>So, update the code (without using <code>java.util.Date</code>) to this:</p>\n<pre><code>String startTime = searchParams.getDeploymentStartDate();\nSystem.out.println(&quot;startTime from req body in utc:&quot; + startTime);\nZonedDateTime ist = ZonedDateTime.parse(startTime)\n                .withZoneSameLocal(ZoneId.of(&quot;Asia/Kolkata&quot;));\nSystem.out.println(&quot;startDate converted to desired format in IST:&quot; \n             + ist.format(DateTimeFormatter.ofPattern(&quot;E MMM dd HH:mm:ss z u&quot;)));\n</code></pre>\n<p>Output:</p>\n<pre><code>startTime from req body in utc:2023-03-22T11:27:04Z\nstartDate converted to desired format in IST:Wed Mar 22 11:27:04 IST 2023\n</code></pre>\n<p><strong>Note:</strong> If you want the timestamp in a different timezone, then just pass that timezone in <code>ZoneId.of(...)</code></p>\n<p>I'm providing a list of ZoneIds from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"nofollow noreferrer\">official doc</a> that are supported :</p>\n<pre><code>EST - -05:00\nHST - -10:00\nMST - -07:00\nACT - Australia/Darwin\nAET - Australia/Sydney\nAGT - America/Argentina/Buenos_Aires\nART - Africa/Cairo\nAST - America/Anchorage\nBET - America/Sao_Paulo\nBST - Asia/Dhaka\nCAT - Africa/Harare\nCNT - America/St_Johns\nCST - America/Chicago\nCTT - Asia/Shanghai\nEAT - Africa/Addis_Ababa\nECT - Europe/Paris\nIET - America/Indiana/Indianapolis\nIST - Asia/Kolkata\nJST - Asia/Tokyo\nMIT - Pacific/Apia\nNET - Asia/Yerevan\nNST - Pacific/Auckland\nPLT - Asia/Karachi\nPNT - America/Phoenix\nPRT - America/Puerto_Rico\nPST - America/Los_Angeles\nSST - Pacific/Guadalcanal\nVST - Asia/Ho_Chi_Minh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679586956,"creation_date":1679584982,"answer_id":75824908,"question_id":75823220,"body_markdown":"# tldr\r\n\r\n    java.util.Date juDate = \r\n        Date                                   // Legacy class. Best to avoid wherever possible. Represents a moment as seen in UTC (zero offset) but it’s poorly designed `toString` applies the JVM’s current default time zone while generating text. \r\n        .from(                                 // A new method on old legacy class to bridge between legacy and modern classes. \r\n            java.time.Instant                  // The modern class for representing a moment as seen with an offset of zero. \r\n            .parse( &quot;2023-03-22T11:27:04Z&quot; )   // Parsing text in standard ISO 8601 format. \r\n        )\r\n    ;\r\n\r\nBest to avoid the terribly flawed legacy date-time class `java.util.Date`. Use only *java.time* classes. \r\n\r\n    Instant\r\n    .parse( &quot;2023-03-22T11:27:04Z&quot; )  // Returns an `Instant` object. \r\n    .atZone(                          // Adjust from UTC to a specific time zone. \r\n        ZoneId.of( &quot;Asia/Kolkata&quot; )   // Returns a `ZoneId` object. \r\n    )                                 // Returns a `ZonedDateTime` object. \r\n\r\n\r\n# Incorrect formatting pattern, also unnecessary\r\n\r\n&gt; 2023-03-22T11:27:04Z\r\n\r\n&gt; DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39; HH:mm:ss&quot;\r\n             , Locale.ENGLISH).ISO_OFFSET_DATE_TIME;\r\n\r\nYour formatting pattern for parsing does not match the input data. The `Z` on the end of the input indicates the date and time represent a moment as seen with an offset from UTC of zero hours-minutes-seconds. Your formatter ignores that crucial part. \r\n\r\nAnd, the formatting pattern needs other fixes: a stray single-quote mark, and a SPACE that should instead be `T`. \r\n\r\nFurthermore, there is no need to define this formatting pattern at all. Your input text happens to comply with the ISO 8601 format. The *java.time* classes use ISO 8601 formats by default when parsing/generating text. \r\n\r\n    Instant instant = Instant.parse( &quot;2023-03-22T11:27:04Z&quot; ) ;\r\n\r\n\r\n# Avoid legacy date-time types\r\n\r\n&gt; Date startDate = …\r\n\r\nBoth `Date` classes bundled with Java are terribly flawed, designed by people who did not understand date-time handling. Avoid these classes. Use only the *java.time* classes defined in JSR 310. \r\n\r\nIf you must have an object of the legacy classes to interoperate with old code not yet updated to *java.time*, convert using new methods added to the old classes. \r\n\r\n    java.util.Date juDate = java.util.Date.from( instant ) ;\r\n\r\nBeware: The `toString` method of `java.util.Date` unfortunately applies the JVM’s current time zone while generating its resulting text. This design flaw may be adding to your confusion. A `java.util.Date` actually represents a moment with an offset from UTC of zero hours-minutes-seconds. \r\n\r\n# Adjusting to a time zone\r\n\r\nAn `Instant` represents a moment as seen with an offset from UTC of zero hours-minutes-seconds. \r\n\r\nIf you want to view that moment through the lens of a particular time zone, apply a `ZoneId` to get a `ZonedDateTime`. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;  // Same moment, different wall-clock time. \r\n\r\n\r\n\r\n","title":"Unwanted timezone conversion for an incoming timestamp in spring boot app","body":"<h1>tldr</h1>\n<pre><code>java.util.Date juDate = \n    Date                                   // Legacy class. Best to avoid wherever possible. Represents a moment as seen in UTC (zero offset) but it’s poorly designed `toString` applies the JVM’s current default time zone while generating text. \n    .from(                                 // A new method on old legacy class to bridge between legacy and modern classes. \n        java.time.Instant                  // The modern class for representing a moment as seen with an offset of zero. \n        .parse( &quot;2023-03-22T11:27:04Z&quot; )   // Parsing text in standard ISO 8601 format. \n    )\n;\n</code></pre>\n<p>Best to avoid the terribly flawed legacy date-time class <code>java.util.Date</code>. Use only <em>java.time</em> classes.</p>\n<pre><code>Instant\n.parse( &quot;2023-03-22T11:27:04Z&quot; )  // Returns an `Instant` object. \n.atZone(                          // Adjust from UTC to a specific time zone. \n    ZoneId.of( &quot;Asia/Kolkata&quot; )   // Returns a `ZoneId` object. \n)                                 // Returns a `ZonedDateTime` object. \n</code></pre>\n<h1>Incorrect formatting pattern, also unnecessary</h1>\n<blockquote>\n<p>2023-03-22T11:27:04Z</p>\n</blockquote>\n<blockquote>\n<p>DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd' HH:mm:ss&quot;\n, Locale.ENGLISH).ISO_OFFSET_DATE_TIME;</p>\n</blockquote>\n<p>Your formatting pattern for parsing does not match the input data. The <code>Z</code> on the end of the input indicates the date and time represent a moment as seen with an offset from UTC of zero hours-minutes-seconds. Your formatter ignores that crucial part.</p>\n<p>And, the formatting pattern needs other fixes: a stray single-quote mark, and a SPACE that should instead be <code>T</code>.</p>\n<p>Furthermore, there is no need to define this formatting pattern at all. Your input text happens to comply with the ISO 8601 format. The <em>java.time</em> classes use ISO 8601 formats by default when parsing/generating text.</p>\n<pre><code>Instant instant = Instant.parse( &quot;2023-03-22T11:27:04Z&quot; ) ;\n</code></pre>\n<h1>Avoid legacy date-time types</h1>\n<blockquote>\n<p>Date startDate = …</p>\n</blockquote>\n<p>Both <code>Date</code> classes bundled with Java are terribly flawed, designed by people who did not understand date-time handling. Avoid these classes. Use only the <em>java.time</em> classes defined in JSR 310.</p>\n<p>If you must have an object of the legacy classes to interoperate with old code not yet updated to <em>java.time</em>, convert using new methods added to the old classes.</p>\n<pre><code>java.util.Date juDate = java.util.Date.from( instant ) ;\n</code></pre>\n<p>Beware: The <code>toString</code> method of <code>java.util.Date</code> unfortunately applies the JVM’s current time zone while generating its resulting text. This design flaw may be adding to your confusion. A <code>java.util.Date</code> actually represents a moment with an offset from UTC of zero hours-minutes-seconds.</p>\n<h1>Adjusting to a time zone</h1>\n<p>An <code>Instant</code> represents a moment as seen with an offset from UTC of zero hours-minutes-seconds.</p>\n<p>If you want to view that moment through the lens of a particular time zone, apply a <code>ZoneId</code> to get a <code>ZonedDateTime</code>.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Kolkata&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;  // Same moment, different wall-clock time. \n</code></pre>\n"}],"owner":{"account_id":13474613,"reputation":157,"user_id":9722013,"display_name":"Divya Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1679637470,"creation_date":1679575867,"question_id":75823220,"body_markdown":"I&#39;m trying to format the incoming timestamp in my spring boot app, but the code that I wrote is changing the timezone of the incoming timestamp. It is adding 5:30 hrs on its own which I don&#39;t want.\r\n\r\nHere is my snippet: \r\n\r\n```\r\nString startTime = searchParams.getDeploymentStartDate();\r\nSystem.out.println(&quot;startTime from req body in utc:&quot;+startTime);\r\nDateTimeFormatter targetFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39; HH:mm:ss&quot;\r\n             , Locale.ENGLISH).ISO_OFFSET_DATE_TIME;\r\nDate startDate = Date.from(ZonedDateTime.parse(startTime, targetFormatter).toInstant());\r\nSystem.out.println(&quot;startDate converted to desired format in IST:&quot;+startDate);\r\n```\r\n\r\nActual output:\r\n\r\n```\r\nstartTime from req body in utc:2023-03-22T11:27:04Z\r\nstartDate converted to desired format in IST:Wed Mar 22 16:57:04 IST 2023 \r\n```\r\n\r\nDesired output:\r\n```\r\nstartTime from req body in utc:2023-03-22T11:27:04Z\r\nstartDate converted to desired format in IST:Wed Mar 22 11:27:04 IST 2023\r\n```\r\n\r\nPlease help me find a way to convert the format without converting timezone.\r\n\r\n","title":"Unwanted timezone conversion for an incoming timestamp in spring boot app","body":"<p>I'm trying to format the incoming timestamp in my spring boot app, but the code that I wrote is changing the timezone of the incoming timestamp. It is adding 5:30 hrs on its own which I don't want.</p>\n<p>Here is my snippet:</p>\n<pre><code>String startTime = searchParams.getDeploymentStartDate();\nSystem.out.println(&quot;startTime from req body in utc:&quot;+startTime);\nDateTimeFormatter targetFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd' HH:mm:ss&quot;\n             , Locale.ENGLISH).ISO_OFFSET_DATE_TIME;\nDate startDate = Date.from(ZonedDateTime.parse(startTime, targetFormatter).toInstant());\nSystem.out.println(&quot;startDate converted to desired format in IST:&quot;+startDate);\n</code></pre>\n<p>Actual output:</p>\n<pre><code>startTime from req body in utc:2023-03-22T11:27:04Z\nstartDate converted to desired format in IST:Wed Mar 22 16:57:04 IST 2023 \n</code></pre>\n<p>Desired output:</p>\n<pre><code>startTime from req body in utc:2023-03-22T11:27:04Z\nstartDate converted to desired format in IST:Wed Mar 22 11:27:04 IST 2023\n</code></pre>\n<p>Please help me find a way to convert the format without converting timezone.</p>\n"},{"tags":["python","java","pyspark"],"owner":{"account_id":28065617,"reputation":33,"user_id":21439055,"display_name":"Jade Chen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679637382,"creation_date":1679578024,"question_id":75823614,"body_markdown":"I&#39;am trying to writing a dataframe to parquet use \r\n`df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)`\r\nBecause I have lots 7z files to read and extract data,so I call this code every time I got the data I want.It runs successfully sometimes,but sometimes this error occurs:\r\n\r\n```\r\n df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\r\n    self._jwrite.parquet(path)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\r\n    return_value = get_return_value(\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\r\n    return f(*a, **kw)\r\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\r\n    raise Py4JJavaError(\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o356.parquet.\r\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 922 in stage 29.0 failed 1 times, most recent failure: Lost task 922.0 in stage 29.0 (TID 8684) (10.77.50.130 executor driver): java.net.SocketException: Connection reset\r\n```\r\nI searched the internet and in vain,I also asked chatgpt,it said due to internet connection.So what actually causes this?\r\nMy spark version is spark-3.3.2,and my java version is jdk-11.0.18\r\n\r\nexpecting a solution","title":"Py4JJavaError When writing dataframe to parquet","body":"<p>I'am trying to writing a dataframe to parquet use\n<code>df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)</code>\nBecause I have lots 7z files to read and extract data,so I call this code every time I got the data I want.It runs successfully sometimes,but sometimes this error occurs:</p>\n<pre><code> df.write.parquet(&quot;tmp&quot;, mode=&quot;append&quot;)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/readwriter.py&quot;, line 1140, in parquet\n    self._jwrite.parquet(path)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/java_gateway.py&quot;, line 1321, in __call__\n    return_value = get_return_value(\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/pyspark/sql/utils.py&quot;, line 190, in deco\n    return f(*a, **kw)\n  File &quot;/home/cjy2022/.local/lib/python3.9/site-packages/py4j/protocol.py&quot;, line 326, in get_return_value\n    raise Py4JJavaError(\npy4j.protocol.Py4JJavaError: An error occurred while calling o356.parquet.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 922 in stage 29.0 failed 1 times, most recent failure: Lost task 922.0 in stage 29.0 (TID 8684) (10.77.50.130 executor driver): java.net.SocketException: Connection reset\n</code></pre>\n<p>I searched the internet and in vain,I also asked chatgpt,it said due to internet connection.So what actually causes this?\nMy spark version is spark-3.3.2,and my java version is jdk-11.0.18</p>\n<p>expecting a solution</p>\n"},{"tags":["java","spring-boot","prometheus","spring-boot-actuator"],"owner":{"account_id":2105809,"reputation":3833,"user_id":1872168,"accept_rate":64,"display_name":"Crystark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679637228,"creation_date":1676400880,"question_id":75452165,"body_markdown":"I&#39;ve been working with spring boot 2.7 and its tomcat server. Today, I&#39;m trying out spring 3 with webflux and netty. As always I want to add the prometheus endpoint but I can&#39;t seem to make it work. Here&#39;s what I did:\r\n\r\nI added the following dependencies:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;!-- Required for the prometheus actuator endpoint --&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI have done the following configuration:\r\n```\r\nmanagement:\r\n  endpoint:\r\n    metrics.enabled: true\r\n    prometheus.enabled: true\r\n  endpoints.web:\r\n    # Removing /actuator from all paths\r\n    base-path: /\r\n    path-mapping:\r\n      prometheus: metrics\r\n    exposure.include: health,prometheus\r\n```\r\n\r\nBut whenever I call `/metrics` that usually works on all my other projects I get a 404. I&#39;ve tried removing all the specificities like the path-mapping or the base-path change to no avail.\r\n\r\nI&#39;m kinda stuck at this point.\r\n**What am I missing here?**","title":"How can I get my prometheus endpoint with spring boot 3.0 and webflux?","body":"<p>I've been working with spring boot 2.7 and its tomcat server. Today, I'm trying out spring 3 with webflux and netty. As always I want to add the prometheus endpoint but I can't seem to make it work. Here's what I did:</p>\n<p>I added the following dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;!-- Required for the prometheus actuator endpoint --&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I have done the following configuration:</p>\n<pre><code>management:\n  endpoint:\n    metrics.enabled: true\n    prometheus.enabled: true\n  endpoints.web:\n    # Removing /actuator from all paths\n    base-path: /\n    path-mapping:\n      prometheus: metrics\n    exposure.include: health,prometheus\n</code></pre>\n<p>But whenever I call <code>/metrics</code> that usually works on all my other projects I get a 404. I've tried removing all the specificities like the path-mapping or the base-path change to no avail.</p>\n<p>I'm kinda stuck at this point.\n<strong>What am I missing here?</strong></p>\n"},{"tags":["java","android-studio","kotlin","intellij-idea","suppress-warnings"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1679401543,"post_id":75800799,"comment_id":133711836,"body_markdown":"Just ignoring all warnings on a certain piece of code might also not be the best option as this could swallow warnings you would care about. Don&#39;t the logs or error messages tell you which exact warning it would be?","body":"Just ignoring all warnings on a certain piece of code might also not be the best option as this could swallow warnings you would care about. Don&#39;t the logs or error messages tell you which exact warning it would be?"},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679403199,"post_id":75800799,"comment_id":133712375,"body_markdown":"@Thomas The premise is that you know that this warning is an IDE error or other reasons, which means that this is actually a wrong warning. IDEA prompts an error, but does not provide a value for `@Suppress`","body":"@Thomas The premise is that you know that this warning is an IDE error or other reasons, which means that this is actually a wrong warning. IDEA prompts an error, but does not provide a value for <code>@Suppress</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679403640,"post_id":75800799,"comment_id":133712524,"body_markdown":"The issue may be that IDEs have their own sets of checks and configurations on how to handle those. `@SuppressWarnings` is normally understood by the compiler or libraries that are working on the code. IDE-specific warnings would normally be disabled in the project settings and not the code itself (or it would be done via IDE-specific values or approaches which could be something other than `@SupressWarnings`)","body":"The issue may be that IDEs have their own sets of checks and configurations on how to handle those. <code>@SuppressWarnings</code> is normally understood by the compiler or libraries that are working on the code. IDE-specific warnings would normally be disabled in the project settings and not the code itself (or it would be done via IDE-specific values or approaches which could be something other than <code>@SupressWarnings</code>)"},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679403802,"post_id":75800799,"comment_id":133712559,"body_markdown":"@Thomas Maybe the library is causing it, but I&#39;m not really concerned about where the errors come from, I just want to know how to eliminate them.","body":"@Thomas Maybe the library is causing it, but I&#39;m not really concerned about where the errors come from, I just want to know how to eliminate them."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404095,"post_id":75800799,"comment_id":133712649,"body_markdown":"I think you misunderstood me: I didn&#39;t refer to causes but who&#39;s able to understand the annotations or who is able to detect certain conditions. So if a certain IDE or any other tool is detecting warnings I&#39;d not suppress those right in the code as this might be a very specific setting for that tool or IDE only. Instead, you might need to look into the tool&#39;s/IDE&#39;s settings. If you just compile on the command line do you get that warning as well?","body":"I think you misunderstood me: I didn&#39;t refer to causes but who&#39;s able to understand the annotations or who is able to detect certain conditions. So if a certain IDE or any other tool is detecting warnings I&#39;d not suppress those right in the code as this might be a very specific setting for that tool or IDE only. Instead, you might need to look into the tool&#39;s/IDE&#39;s settings. If you just compile on the command line do you get that warning as well?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404262,"post_id":75800799,"comment_id":133712699,"body_markdown":"Btw, &quot;it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder&quot; - I totally agree with you. I wouldn&#39;t call this OCD but it&#39;s actually imperative to eliminate errors and warnings as much as possible. The intent of warnings and errors is to draw your attention so you need to avoid becoming numb to those. Hence, removing false positives and fixing errors/warnings is a must.","body":"Btw, &quot;it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder&quot; - I totally agree with you. I wouldn&#39;t call this OCD but it&#39;s actually imperative to eliminate errors and warnings as much as possible. The intent of warnings and errors is to draw your attention so you need to avoid becoming numb to those. Hence, removing false positives and fixing errors/warnings is a must."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679405455,"post_id":75800799,"comment_id":133713106,"body_markdown":"@Thomas I understand your concern, I also know the need for a warning, But that&#39;s not what I&#39;m talking about in this question. Sorry I didn&#39;t mention it earlier, this isn&#39;t actually a error, code works fine.","body":"@Thomas I understand your concern, I also know the need for a warning, But that&#39;s not what I&#39;m talking about in this question. Sorry I didn&#39;t mention it earlier, this isn&#39;t actually a error, code works fine."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679406115,"post_id":75800799,"comment_id":133713322,"body_markdown":"No, I think I get you but we still may have a misunderstanding. As I said this may be a a false positive which is only reported by the IDE (and not the compiler or any library) so it may have to be the IDE that is told to ignore this error. I wouldn&#39;t ignore all errors/warnings just because you don&#39;t know the name (and you don&#39;t even know the IDE would use the annotation for this, do you?) - so if this is specific to a certain IDE then look for a IDE-specific solution.","body":"No, I think I get you but we still may have a misunderstanding. As I said this may be a a false positive which is only reported by the IDE (and not the compiler or any library) so it may have to be the IDE that is told to ignore this error. I wouldn&#39;t ignore all errors/warnings just because you don&#39;t know the name (and you don&#39;t even know the IDE would use the annotation for this, do you?) - so if this is specific to a certain IDE then look for a IDE-specific solution."},{"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"score":0,"creation_date":1679406637,"post_id":75800799,"comment_id":133713497,"body_markdown":"@Thomas I don&#39;t know whether it is Gradle or the IDE caused the error. It seems that there is no clear answer in the issue link. I only know that this error will appear in `IDEA` and `Android Studio`, I haven&#39;t tested other IDEs, in a way this may be considered `a IDE-specific`.","body":"@Thomas I don&#39;t know whether it is Gradle or the IDE caused the error. It seems that there is no clear answer in the issue link. I only know that this error will appear in <code>IDEA</code> and <code>Android Studio</code>, I haven&#39;t tested other IDEs, in a way this may be considered <code>a IDE-specific</code>."}],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679637181,"creation_date":1679399370,"question_id":75800799,"body_markdown":"I recently ran into a compilation error that was red flagging files as well.\r\n```kotlin\r\n@Suppress(&quot;DSL_SCOPE_VIOLATION&quot;)\r\nplugins {\r\n    alias(libs.plugins.spring.framework.boot) apply false\r\n}\r\n```\r\nI know IDEA will suggest what the error type is, but it might not. The example above is caused by a bug in `Android Studio`.\r\n\r\nI don&#39;t want to waste time trying to figure out which type error it is. After all, if you are lucky you will find it. If you are unlucky, it will take a lot of time, which I think is unnecessary.\r\n\r\nBut this kind of compilation warning marks the file name in red, and it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder.\r\n\r\nI&#39;m wondering how to ignore the warning without knowing what the concrete type is, Can you tell me a solution?\r\n1. It is acceptable to ignore warnings using IDE, either `Android Studio` or `IDEA`, because in my opinion these two IDEs have great similarities.\r\n2. It is also acceptable to use `java` language annotations or `kotlin` language annotations\r\n3. It is unacceptable to simply ignore all compilation warnings for the entire project.\r\n\r\n##### first edit 2023-3-21\r\nI&#39;m pretty sure this isn&#39;t actually a error, if you want you can check [this](https://youtrack.jetbrains.com/issue/KTIJ-19369) out for more on this example.","title":"How to use suppress warnings without knowing the specific error type?","body":"<p>I recently ran into a compilation error that was red flagging files as well.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Suppress(&quot;DSL_SCOPE_VIOLATION&quot;)\nplugins {\n    alias(libs.plugins.spring.framework.boot) apply false\n}\n</code></pre>\n<p>I know IDEA will suggest what the error type is, but it might not. The example above is caused by a bug in <code>Android Studio</code>.</p>\n<p>I don't want to waste time trying to figure out which type error it is. After all, if you are lucky you will find it. If you are unlucky, it will take a lot of time, which I think is unnecessary.</p>\n<p>But this kind of compilation warning marks the file name in red, and it is difficult for you not to notice it, so it is necessary to eliminate this warning, maybe I have a little obsessive-compulsive disorder.</p>\n<p>I'm wondering how to ignore the warning without knowing what the concrete type is, Can you tell me a solution?</p>\n<ol>\n<li>It is acceptable to ignore warnings using IDE, either <code>Android Studio</code> or <code>IDEA</code>, because in my opinion these two IDEs have great similarities.</li>\n<li>It is also acceptable to use <code>java</code> language annotations or <code>kotlin</code> language annotations</li>\n<li>It is unacceptable to simply ignore all compilation warnings for the entire project.</li>\n</ol>\n<h5>first edit 2023-3-21</h5>\n<p>I'm pretty sure this isn't actually a error, if you want you can check <a href=\"https://youtrack.jetbrains.com/issue/KTIJ-19369\" rel=\"nofollow noreferrer\">this</a> out for more on this example.</p>\n"},{"tags":["java","android","flutter","keystore"],"comments":[{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":0,"creation_date":1626247927,"post_id":67631927,"comment_id":120838772,"body_markdown":"This solution solved my issue -- https://github.com/flutter/website/issues/5871#issuecomment-855597669","body":"This solution solved my issue -- <a href=\"https://github.com/flutter/website/issues/5871#issuecomment-855597669\" rel=\"nofollow noreferrer\">github.com/flutter/website/issues/5871#issuecomment-85559766&zwnj;&#8203;9</a>"},{"owner":{"account_id":9945900,"reputation":3598,"user_id":8164116,"display_name":"Daksh Gargas"},"score":0,"creation_date":1642116201,"post_id":67631927,"comment_id":124993276,"body_markdown":"Mark this as &quot;answered&quot; pls: https://stackoverflow.com/a/68773266/8164116","body":"Mark this as &quot;answered&quot; pls: <a href=\"https://stackoverflow.com/a/68773266/8164116\">stackoverflow.com/a/68773266/8164116</a>"}],"answers":[{"comments":[{"owner":{"account_id":4069774,"reputation":96,"user_id":3836903,"display_name":"expectedAn"},"score":3,"creation_date":1622242470,"post_id":67632064,"comment_id":119745490,"body_markdown":"The same command fails because HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. @Jason Does this happen to you?","body":"The same command fails because HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. @Jason Does this happen to you?"},{"owner":{"account_id":16121949,"reputation":1453,"user_id":11637725,"display_name":"Jason Perfetto"},"score":0,"creation_date":1622318159,"post_id":67632064,"comment_id":119760622,"body_markdown":"I&#39;m not sure, but i faced the same issue regardless of trying from terminal or running a build from Android Studio - ultimately the only way I could fix the problem was by prefixing my java location as mentioned in my followup","body":"I&#39;m not sure, but i faced the same issue regardless of trying from terminal or running a build from Android Studio - ultimately the only way I could fix the problem was by prefixing my java location as mentioned in my followup"},{"owner":{"account_id":4069774,"reputation":96,"user_id":3836903,"display_name":"expectedAn"},"score":0,"creation_date":1622339338,"post_id":67632064,"comment_id":119763729,"body_markdown":"That&#39;s weird, can you check the java version shipped with Android studio?\n\n/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/java --version","body":"That&#39;s weird, can you check the java version shipped with Android studio?  /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/java --version"},{"owner":{"account_id":4069774,"reputation":96,"user_id":3836903,"display_name":"expectedAn"},"score":2,"creation_date":1622339429,"post_id":67632064,"comment_id":119763737,"body_markdown":"I did find a way to get it working is to use `genkeypair` rather than `-genkey`. \n\nI created an issue here: https://github.com/flutter/website/issues/5871","body":"I did find a way to get it working is to use <code>genkeypair</code> rather than <code>-genkey</code>.   I created an issue here: <a href=\"https://github.com/flutter/website/issues/5871\" rel=\"nofollow noreferrer\">github.com/flutter/website/issues/5871</a>"},{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":1,"creation_date":1623835476,"post_id":67632064,"comment_id":120188816,"body_markdown":"I did as you said, But I didn&#39;t know in which location keystone file is created. I executed this command in root folder to prevent permission issue. Can you tell me the location where keystore file is created?","body":"I did as you said, But I didn&#39;t know in which location keystone file is created. I executed this command in root folder to prevent permission issue. Can you tell me the location where keystore file is created?"},{"owner":{"account_id":6704249,"reputation":1419,"user_id":8364900,"accept_rate":69,"display_name":"ThinkAndCode"},"score":0,"creation_date":1623839058,"post_id":67632064,"comment_id":120190392,"body_markdown":"@expectedAn I am using genkeypair and Java 16, but still I am getting error. What alternatives can I try?","body":"@expectedAn I am using genkeypair and Java 16, but still I am getting error. What alternatives can I try?"},{"owner":{"account_id":424586,"reputation":153,"user_id":804662,"display_name":"Parampreet Dhatt"},"score":0,"creation_date":1629108176,"post_id":67632064,"comment_id":121590616,"body_markdown":"I had the same issue and this solution resolved it","body":"I had the same issue and this solution resolved it"},{"owner":{"account_id":3779161,"reputation":494,"user_id":3139120,"accept_rate":67,"display_name":"fabienbranchel"},"score":0,"creation_date":1634806217,"post_id":67632064,"comment_id":123126509,"body_markdown":"Solved the issue, thank you. For me, the path to keytool is : /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/keytool","body":"Solved the issue, thank you. For me, the path to keytool is : /Applications/Android Studio.app/Contents/jre/Contents/Home/bin/keytool"}],"tags":[],"owner":{"account_id":16121949,"reputation":1453,"user_id":11637725,"display_name":"Jason Perfetto"},"comment_count":8,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1621579867,"creation_date":1621579867,"answer_id":67632064,"question_id":67631927,"body_markdown":"It turns out i was generating my signing key using a different Java Version than my app was using to build the app. You can check this by running flutter doctor -v and seeing where the Java binary is located, and comparing it to when you run &quot;which java&quot;.\r\n\r\nThe solution is to run your keygen command prefixed with the location of the Java bin found in the flutter doctor output like so:\r\n\r\n    /Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>It turns out i was generating my signing key using a different Java Version than my app was using to build the app. You can check this by running flutter doctor -v and seeing where the Java binary is located, and comparing it to when you run &quot;which java&quot;.</p>\n<p>The solution is to run your keygen command prefixed with the location of the Java bin found in the flutter doctor output like so:</p>\n<pre><code>/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home/bin/keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13172246,"reputation":1376,"user_id":9514156,"display_name":"R. Gurung"},"score":1,"creation_date":1626030175,"post_id":68334980,"comment_id":120778490,"body_markdown":"You can add screenshots to make your answer easy to understand.","body":"You can add screenshots to make your answer easy to understand."}],"tags":[],"owner":{"account_id":22180724,"reputation":19,"user_id":16424480,"display_name":"Ahmed Maher"},"comment_count":1,"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1645451233,"creation_date":1625996020,"answer_id":68334980,"question_id":67631927,"body_markdown":"in `android` &gt; `app` folder, open `build.gradle` and make sure to keep\r\n\r\n```\r\nbuildTypes {\r\n    release {\r\n        signingConfig signingConfigs.debug\r\n    }\r\n}\r\n```\r\n\r\nand before building release bundle, change it to\r\n\r\n```\r\nbuildTypes {\r\n    release {\r\n        signingConfig signingConfigs.release\r\n    }\r\n}\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>in <code>android</code> &gt; <code>app</code> folder, open <code>build.gradle</code> and make sure to keep</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.debug\n    }\n}\n</code></pre>\n<p>and before building release bundle, change it to</p>\n<pre><code>buildTypes {\n    release {\n        signingConfig signingConfigs.release\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19178400,"reputation":155,"user_id":14574982,"display_name":"Neail"},"score":0,"creation_date":1639339993,"post_id":68394992,"comment_id":124318133,"body_markdown":"I have removed all the files related to Keystore, and worked.  Please remember to rebuild the key (SHA1 and SHA256) and update with firebase.","body":"I have removed all the files related to Keystore, and worked.  Please remember to rebuild the key (SHA1 and SHA256) and update with firebase."}],"tags":[],"owner":{"account_id":5763632,"reputation":2744,"user_id":4549220,"accept_rate":80,"display_name":"Md Tariqul Islam"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1626356533,"creation_date":1626356533,"answer_id":68394992,"question_id":67631927,"body_markdown":"It solves me when I remove debug.keystore from the bellow directory. \r\n\r\n/Users/tariqul/.android/debug.keystore\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>It solves me when I remove debug.keystore from the bellow directory.</p>\n<p>/Users/tariqul/.android/debug.keystore</p>\n"},{"comments":[{"owner":{"account_id":14535066,"reputation":730,"user_id":10498695,"display_name":"Demoxing"},"score":0,"creation_date":1640242557,"post_id":68773266,"comment_id":124549701,"body_markdown":"It worked for me, too. one question, Is there any harm to using the JKS instead of the PKS12?","body":"It worked for me, too. one question, Is there any harm to using the JKS instead of the PKS12?"},{"owner":{"account_id":15412834,"reputation":659,"user_id":11119141,"display_name":"Moshiur"},"score":5,"creation_date":1652160293,"post_id":68773266,"comment_id":127532170,"body_markdown":"solved the problem but what about the warning to migrate to PKCS12 which is an industry standard?","body":"solved the problem but what about the warning to migrate to PKCS12 which is an industry standard?"},{"owner":{"account_id":13548431,"reputation":3662,"user_id":9774005,"display_name":"Rajesh"},"score":0,"creation_date":1655644138,"post_id":68773266,"comment_id":128376003,"body_markdown":"This one solved the issue!","body":"This one solved the issue!"},{"owner":{"account_id":234185,"reputation":1219,"user_id":500182,"accept_rate":55,"display_name":"JCraine"},"score":0,"creation_date":1655704382,"post_id":68773266,"comment_id":128385823,"body_markdown":"Is this Windows?","body":"Is this Windows?"},{"owner":{"account_id":14463344,"reputation":159,"user_id":10447548,"display_name":"Samuel Kamau"},"score":0,"creation_date":1660689071,"post_id":68773266,"comment_id":129590818,"body_markdown":"This worked for me ,on mac please remember to check the java -version and avoid buildgradle 3.5.0","body":"This worked for me ,on mac please remember to check the java -version and avoid buildgradle 3.5.0"},{"owner":{"account_id":7895222,"reputation":1297,"user_id":5964111,"display_name":"tmsbrndz"},"score":2,"creation_date":1663181791,"post_id":68773266,"comment_id":130181493,"body_markdown":"worked on M1 Mac, thanks.","body":"worked on M1 Mac, thanks."},{"owner":{"account_id":13399040,"reputation":2369,"user_id":9669133,"display_name":"PhillipJacobs"},"score":0,"creation_date":1668545813,"post_id":68773266,"comment_id":131430784,"body_markdown":"What a champ! Thanks.","body":"What a champ! Thanks."}],"tags":[],"owner":{"account_id":16811033,"reputation":2119,"user_id":12154054,"display_name":"Azhar Ali"},"comment_count":7,"down_vote_count":0,"up_vote_count":135,"is_accepted":false,"score":135,"last_activity_date":1631847164,"creation_date":1628861647,"answer_id":68773266,"question_id":67631927,"body_markdown":"I was getting the same error, I try this command\r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\nwith extra attribute\r\n\r\n    -storetype JKS\r\n\r\nit helps me to solve my problem and successfully create bundle.\r\n\r\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I was getting the same error, I try this command</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<p>with extra attribute</p>\n<pre><code>-storetype JKS\n</code></pre>\n<p>it helps me to solve my problem and successfully create bundle.</p>\n<p>The -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12.</p>\n"},{"tags":[],"owner":{"account_id":11326829,"reputation":2754,"user_id":8305467,"display_name":"Ryosuke Hujisawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629353240,"creation_date":1629353240,"answer_id":68842797,"question_id":67631927,"body_markdown":"I don&#39;t know if the way I solved the problem is the right way, and I don&#39;t know if others will solve it this way, but I think I would have solved it if I had done a lot of things.\r\n\r\nI adapted JAVA_HOME to the form of the java binary that came up with `flutter doctor -v`  like this\r\n\r\n```\r\n% flutter doctor -v                            \r\n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n.\r\n.\r\n.\r\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\r\n\r\n```\r\n\r\nand set `JAVA_HOME` to `.zshrc`\r\n\r\n```\r\n% cd ~\r\n% vi .zshrc\r\n\r\n```\r\n\r\n```\r\nexport JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&quot;\r\n```\r\n\r\n```\r\n% echo $JAVA_HOME\r\n/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home\r\n```\r\n\r\nand \r\n\r\n```\r\n% flutter clean\r\n% flutter build appbundle\r\n```\r\n\r\nand that works\r\n\r\n```\r\n% flutter build appbundle\r\n\r\n&#128170; Building with sound null safety &#128170;\r\n\r\nRunning Gradle task &#39;bundleRelease&#39;...                                  \r\nRunning Gradle task &#39;bundleRelease&#39;... Done                         4.1s\r\n✓ Built build/app/outputs/bundle/release/app-release.aab (21.2MB).\r\n\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I don't know if the way I solved the problem is the right way, and I don't know if others will solve it this way, but I think I would have solved it if I had done a lot of things.</p>\n<p>I adapted JAVA_HOME to the form of the java binary that came up with <code>flutter doctor -v</code>  like this</p>\n<pre><code>% flutter doctor -v                            \n[✓] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n.\n.\n.\n    • Java binary at: /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/bin/java\n\n</code></pre>\n<p>and set <code>JAVA_HOME</code> to <code>.zshrc</code></p>\n<pre><code>% cd ~\n% vi .zshrc\n\n</code></pre>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home&quot;\n</code></pre>\n<pre><code>% echo $JAVA_HOME\n/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home\n</code></pre>\n<p>and</p>\n<pre><code>% flutter clean\n% flutter build appbundle\n</code></pre>\n<p>and that works</p>\n<pre><code>% flutter build appbundle\n\n💪 Building with sound null safety 💪\n\nRunning Gradle task 'bundleRelease'...                                  \nRunning Gradle task 'bundleRelease'... Done                         4.1s\n✓ Built build/app/outputs/bundle/release/app-release.aab (21.2MB).\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8090239,"reputation":43,"user_id":6096392,"display_name":"Shirish Koirala"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632685927,"creation_date":1632685495,"answer_id":69338398,"question_id":67631927,"body_markdown":"I got the same issue yesterday. I deleted my old debug key, which is located at `/Users/&lt;username&gt;/.android/debug.keystore`. I think this is the simplest way to handle this problem for a Newbie like me.\r\n\r\nP.S. Not sure about the &quot;release&quot; mode. This just works for &quot;debug&quot; mode.\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I got the same issue yesterday. I deleted my old debug key, which is located at <code>/Users/&lt;username&gt;/.android/debug.keystore</code>. I think this is the simplest way to handle this problem for a Newbie like me.</p>\n<p>P.S. Not sure about the &quot;release&quot; mode. This just works for &quot;debug&quot; mode.</p>\n"},{"comments":[{"owner":{"account_id":18693023,"reputation":276,"user_id":13626958,"display_name":"Caspar Bm"},"score":0,"creation_date":1645329489,"post_id":69518880,"comment_id":125840699,"body_markdown":"I have a MacOs M1 and this solved my problem. Thanks!","body":"I have a MacOs M1 and this solved my problem. Thanks!"}],"tags":[],"owner":{"account_id":14685171,"reputation":1167,"user_id":10605394,"display_name":"Tokiniaina Eddy Andriamiandris"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1633899564,"creation_date":1633898959,"answer_id":69518880,"question_id":67631927,"body_markdown":"Note:\r\nThe keytool command might not be in your path—it’s part of Java, which is installed as part of Android Studio. For the concrete path, run flutter doctor -v and locate the path printed after ‘Java binary at:’. Then use that fully qualified path replacing java (at the end) with keytool. If your path includes space-separated names, such as Program Files, use platform-appropriate notation for the names. For example, on Mac/Linux use Program\\ Files, and on Windows use &quot;Program Files&quot;.\r\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12\r\n\r\n**1- remove upload-keystore.jks** \r\n\r\n    a-  /android/app/upload-keystore.jks\r\n    b- /home/user/upload-keystore.jks\r\n\r\n2- **Regenerate file :**\r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\n3- copy file /home/user/**upload-keystore.jks** to android/app/\r\n\r\n4- `flutter clean`\r\n\r\n5- `Flutter build appbundle` \r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Note:\nThe keytool command might not be in your path—it’s part of Java, which is installed as part of Android Studio. For the concrete path, run flutter doctor -v and locate the path printed after ‘Java binary at:’. Then use that fully qualified path replacing java (at the end) with keytool. If your path includes space-separated names, such as Program Files, use platform-appropriate notation for the names. For example, on Mac/Linux use Program\\ Files, and on Windows use &quot;Program Files&quot;.\nThe -storetype JKS tag is only required for Java 9 or newer. As of the Java 9 release, the keystore type defaults to PKS12</p>\n<p><strong>1- remove upload-keystore.jks</strong></p>\n<pre><code>a-  /android/app/upload-keystore.jks\nb- /home/user/upload-keystore.jks\n</code></pre>\n<p>2- <strong>Regenerate file :</strong></p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<p>3- copy file /home/user/<strong>upload-keystore.jks</strong> to android/app/</p>\n<p>4- <code>flutter clean</code></p>\n<p>5- <code>Flutter build appbundle</code></p>\n"},{"tags":[],"owner":{"account_id":1145147,"reputation":89,"user_id":5958045,"display_name":"organicnz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635087160,"creation_date":1635087160,"answer_id":69697914,"question_id":67631927,"body_markdown":"This works fine for me :)\r\n\r\n    /Users/macbookpro/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/bin/keytool -genkey -v -keystore android/app/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>This works fine for me :)</p>\n<pre><code>/Users/macbookpro/Library/Java/JavaVirtualMachines/openjdk-16.0.1/Contents/Home/bin/keytool -genkey -v -keystore android/app/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14329608,"reputation":184,"user_id":10350687,"display_name":"Hashan"},"score":0,"creation_date":1691424437,"post_id":69865393,"comment_id":135486595,"body_markdown":"This solution worked for me&#128525;","body":"This solution worked for me😍"}],"tags":[],"owner":{"account_id":9224544,"reputation":1024,"user_id":6852754,"display_name":"Graciela Carrillo"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1636212917,"creation_date":1636212917,"answer_id":69865393,"question_id":67631927,"body_markdown":"**IF YOU CAN&#39;T/DON&#39;T WANT TO GENERATE NEW KEYS\r\n.**\r\n\r\nGenerating new keys was not an option for me because our app is already in production and contacting google was such a hassle. As others have pointed out, the build fails because the app was signed with a java version higher than Java 11. But the HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. That is, Android Studio is trying to build your app with Java 11.\r\n\r\nSo the solution for me was to get Android Studio to build the aab with my local java version, not java 11. To tell Android Studio which JDK version to use, in `gradle.properties`, I added: \r\n\r\n`org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home`\r\n\r\nAfter this, I was able to build my aab without any issues with the keys I already had.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p><strong>IF YOU CAN'T/DON'T WANT TO GENERATE NEW KEYS\n.</strong></p>\n<p>Generating new keys was not an option for me because our app is already in production and contacting google was such a hassle. As others have pointed out, the build fails because the app was signed with a java version higher than Java 11. But the HmacPBESHA256 algorithm is not available in java 11 which is shipped with Android Studio. That is, Android Studio is trying to build your app with Java 11.</p>\n<p>So the solution for me was to get Android Studio to build the aab with my local java version, not java 11. To tell Android Studio which JDK version to use, in <code>gradle.properties</code>, I added:</p>\n<p><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-15.0.2.jdk/Contents/Home</code></p>\n<p>After this, I was able to build my aab without any issues with the keys I already had.</p>\n"},{"tags":[],"owner":{"account_id":14765604,"reputation":1,"user_id":10663746,"display_name":"Waleed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637368778,"creation_date":1637368778,"answer_id":70042341,"question_id":67631927,"body_markdown":"I found this problem befor and i solve it when i change the JDK from 11 version to 16 version in windows 10 64bit","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I found this problem befor and i solve it when i change the JDK from 11 version to 16 version in windows 10 64bit</p>\n"},{"comments":[{"owner":{"account_id":12990096,"reputation":100,"user_id":9389569,"display_name":"ege men"},"score":0,"creation_date":1646243516,"post_id":70337364,"comment_id":126077142,"body_markdown":"you are the best...\nIn addition, you can use the latest code directly from the terminal screen of android studio. Again, it will use the java version integrated into Android studio.\nexample;\n`keytool -importkeystore -srckeystore .../new-pcstore.p12 -destkeystore .../new-upload-keystore.jks -deststoretype jks`","body":"you are the best... In addition, you can use the latest code directly from the terminal screen of android studio. Again, it will use the java version integrated into Android studio. example; <code>keytool -importkeystore -srckeystore ...&#47;new-pcstore.p12 -destkeystore ...&#47;new-upload-keystore.jks -deststoretype jks</code>"}],"tags":[],"owner":{"account_id":186196,"reputation":105,"user_id":423405,"display_name":"Jim Jenkins"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1639410670,"creation_date":1639410670,"answer_id":70337364,"question_id":67631927,"body_markdown":"Like Graciela, I am unable to recreate the certificate. However, I using Java 12+ in Android Studio isn&#39;t a good fix for me. Using an updated Java version works for deploying from my machine, but not from the CI server.\r\n\r\nInstead, I exported and imported the certificate to change the signing algorithm. \r\n\r\nHere are the steps I used:\r\n\r\nExport the certificate to PKCS12 using Java v12+:\r\n\r\n    keytool -importkeystore -srckeystore ./upload-keystore.jks -destkeystore ./pcstore.p12 -deststoretype PKCS12\r\n\r\nUsing openssl, export the key as .pem\r\n\r\n    openssl pkcs12 -nodes -in pcstore.p12 -out keystore.pem\r\n\r\nCreate a new .p12 store using openssl\r\n\r\n    openssl pkcs12 -export -in keystore.pem -out new-pcstore.p12 -name upload\r\n\r\nCreate a new jks store using the Android Studio version of Java (Java 11) by importing the .p12 store:\r\n\r\n    /Applications/Android\\ Studio.app/Contents/jre/Contents/Home/bin/keytool -importkeystore -srckeystore ./new-pcstore.p12 -destkeystore ./new-upload-keystore.jks -deststoretype jks\r\n\r\nNow the keystore works with Java 11 and it&#39;s using the same certificate I signed the app with before.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Like Graciela, I am unable to recreate the certificate. However, I using Java 12+ in Android Studio isn't a good fix for me. Using an updated Java version works for deploying from my machine, but not from the CI server.</p>\n<p>Instead, I exported and imported the certificate to change the signing algorithm.</p>\n<p>Here are the steps I used:</p>\n<p>Export the certificate to PKCS12 using Java v12+:</p>\n<pre><code>keytool -importkeystore -srckeystore ./upload-keystore.jks -destkeystore ./pcstore.p12 -deststoretype PKCS12\n</code></pre>\n<p>Using openssl, export the key as .pem</p>\n<pre><code>openssl pkcs12 -nodes -in pcstore.p12 -out keystore.pem\n</code></pre>\n<p>Create a new .p12 store using openssl</p>\n<pre><code>openssl pkcs12 -export -in keystore.pem -out new-pcstore.p12 -name upload\n</code></pre>\n<p>Create a new jks store using the Android Studio version of Java (Java 11) by importing the .p12 store:</p>\n<pre><code>/Applications/Android\\ Studio.app/Contents/jre/Contents/Home/bin/keytool -importkeystore -srckeystore ./new-pcstore.p12 -destkeystore ./new-upload-keystore.jks -deststoretype jks\n</code></pre>\n<p>Now the keystore works with Java 11 and it's using the same certificate I signed the app with before.</p>\n"},{"tags":[],"owner":{"account_id":19694914,"reputation":11,"user_id":14418985,"display_name":"njpollob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639450936,"creation_date":1639450590,"answer_id":70343270,"question_id":67631927,"body_markdown":"For my case, I have used gradle 7.3 build tool to compile the source. it is worked without any problem.\r\n\r\nFirst, download gradle from this link: https://gradle.org/releases/\r\n\r\nUnzip it in your preferred location\r\n\r\nThan run this command: `export PATH=$PATH:/gradle_bin_path`\r\n\r\nThis will add gradle binary for current terminal session only. If you want to add this path for permanent, you need to follow extra step:\r\n\r\n\r\nfirst run this command to get what terminal you are using:\r\n\r\n    echo $SHELL\r\n\r\nI am using zsh as shell, so if the output is /bin/zsh than run this following commands:\r\n\r\n    sudo -s\r\n    cd /users/username\r\n    ls\r\n    vim .zshrc\r\n\r\nBefore editing the .zshrc file, be sure to have a backup of this file\r\n\r\nAnd than add following line to this file: `export PATH=$PATH:/gradle_bin_path`\r\n\r\n\r\nSave and quit the editor.\r\n\r\nThan run this command: `source .zshrc`\r\n\r\nThe path list now updated. Let&#39;s run this command:\r\n\r\n    gradle --version\r\n\r\nIt should show current gradle version.\r\n\r\nNow, time to compile the app. lets cd to directory where your project is. \r\n\r\nThen, run this command: `gradle clean`\r\n\r\nWait till gradle finish sync your project. once finish sync, run this command:\r\n\r\n    gradle build\r\n\r\n\r\nFinally, you will be able to solve your problem.\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>For my case, I have used gradle 7.3 build tool to compile the source. it is worked without any problem.</p>\n<p>First, download gradle from this link: <a href=\"https://gradle.org/releases/\" rel=\"nofollow noreferrer\">https://gradle.org/releases/</a></p>\n<p>Unzip it in your preferred location</p>\n<p>Than run this command: <code>export PATH=$PATH:/gradle_bin_path</code></p>\n<p>This will add gradle binary for current terminal session only. If you want to add this path for permanent, you need to follow extra step:</p>\n<p>first run this command to get what terminal you are using:</p>\n<pre><code>echo $SHELL\n</code></pre>\n<p>I am using zsh as shell, so if the output is /bin/zsh than run this following commands:</p>\n<pre><code>sudo -s\ncd /users/username\nls\nvim .zshrc\n</code></pre>\n<p>Before editing the .zshrc file, be sure to have a backup of this file</p>\n<p>And than add following line to this file: <code>export PATH=$PATH:/gradle_bin_path</code></p>\n<p>Save and quit the editor.</p>\n<p>Than run this command: <code>source .zshrc</code></p>\n<p>The path list now updated. Let's run this command:</p>\n<pre><code>gradle --version\n</code></pre>\n<p>It should show current gradle version.</p>\n<p>Now, time to compile the app. lets cd to directory where your project is.</p>\n<p>Then, run this command: <code>gradle clean</code></p>\n<p>Wait till gradle finish sync your project. once finish sync, run this command:</p>\n<pre><code>gradle build\n</code></pre>\n<p>Finally, you will be able to solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":16339535,"reputation":553,"user_id":11800750,"display_name":"Muhamad Haydar Jawad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644148818,"creation_date":1644148818,"answer_id":71006914,"question_id":67631927,"body_markdown":"AS I lost my Keystore, and was unable to return it back, read google documentation about getting a new key.\r\n\r\nGoogle: If you’ve lost your private upload key or it’s been compromised, you can create a new one, and then ask your account owner to contact support to reset the key. When contacting support, make sure your account owner attaches the upload_certificate.pem file.\r\n\r\nI emailed google at the following link:\r\nhttps://support.google.com/googleplay/android-developer/contact/key\r\n\r\nThey sent me the following commands to re-generate keystore and certificate.pem:\r\n\r\nHere’s how to generate and register a new upload key:\r\n\r\nFollow the instructions in the Android Studio Help Center to generate a new key. It must be different from any previous keys. Alternatively, you can use the following command line to generate a new key:\r\n\r\n**keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks**\r\n\r\nThis key must be a 2048 bit RSA key and have 25-year validity.\r\nExport the certificate for that key to PEM format:\r\n\r\n**keytool -export -rfc -alias upload -file upload_certificate.pem -keystore keystore.jks** \r\n\r\nReply to this email and attach the upload_certificate.pem file, after replying, they will send an email mentioning your key store will be updated after 2 days, \r\n\r\nnow you have a new key store, in order to generate a signed bundle keys, you must do the following: \r\n\r\n1- Go to the android side in your flutter (2.8.1) project. \r\n2- go to settings&gt; Build, Execution ..&gt; Gradle&gt; \r\n3- change gradle JDK to something between 16 and 11, **JDK 15 worked for me.\r\n\r\n \r\n**note: if you don&#39;t have jdk, you can download it in same place Gradle JDK with jdk \r\ndownload option. \r\nnote: you must build your signed app bundle within android only not inside flutter framework.**  \r\n\r\n\r\n\r\n ","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>AS I lost my Keystore, and was unable to return it back, read google documentation about getting a new key.</p>\n<p>Google: If you’ve lost your private upload key or it’s been compromised, you can create a new one, and then ask your account owner to contact support to reset the key. When contacting support, make sure your account owner attaches the upload_certificate.pem file.</p>\n<p>I emailed google at the following link:\n<a href=\"https://support.google.com/googleplay/android-developer/contact/key\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/contact/key</a></p>\n<p>They sent me the following commands to re-generate keystore and certificate.pem:</p>\n<p>Here’s how to generate and register a new upload key:</p>\n<p>Follow the instructions in the Android Studio Help Center to generate a new key. It must be different from any previous keys. Alternatively, you can use the following command line to generate a new key:</p>\n<p><strong>keytool -genkeypair -alias upload -keyalg RSA -keysize 2048 -validity 9125 -keystore keystore.jks</strong></p>\n<p>This key must be a 2048 bit RSA key and have 25-year validity.\nExport the certificate for that key to PEM format:</p>\n<p><strong>keytool -export -rfc -alias upload -file upload_certificate.pem -keystore keystore.jks</strong></p>\n<p>Reply to this email and attach the upload_certificate.pem file, after replying, they will send an email mentioning your key store will be updated after 2 days,</p>\n<p>now you have a new key store, in order to generate a signed bundle keys, you must do the following:</p>\n<p>1- Go to the android side in your flutter (2.8.1) project.\n2- go to settings&gt; Build, Execution ..&gt; Gradle&gt;\n3- change gradle JDK to something between 16 and 11, **JDK 15 worked for me.</p>\n<p><strong>note: if you don't have jdk, you can download it in same place Gradle JDK with jdk\ndownload option.\nnote: you must build your signed app bundle within android only not inside flutter framework.</strong></p>\n"},{"tags":[],"owner":{"account_id":14016376,"reputation":1,"user_id":10123785,"display_name":"Shahid Bangash"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1645211291,"creation_date":1645211291,"answer_id":71178677,"question_id":67631927,"body_markdown":"Command \r\n\r\n    keytool -genkey -v -keystore ~/upload-keystore.jks -deststoretype JKS  -keyalg RSA -keysize 2048 -validity 10000 -alias upload \r\n    \r\nworked for me on my mac m1.\r\n\r\ni was using java version 17 and everytime i try to build appbundle i would get error \r\n\r\n&gt; Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n\r\nTo solve this i added \r\n\r\n&gt; -deststoretype JKS\r\nin keytool command and it worked for me .\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Command</p>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -deststoretype JKS  -keyalg RSA -keysize 2048 -validity 10000 -alias upload \n</code></pre>\n<p>worked for me on my mac m1.</p>\n<p>i was using java version 17 and everytime i try to build appbundle i would get error</p>\n<blockquote>\n<p>Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available</p>\n</blockquote>\n<p>To solve this i added</p>\n<blockquote>\n<p>-deststoretype JKS\nin keytool command and it worked for me .</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1648020698,"post_id":71441141,"comment_id":126515117,"body_markdown":"your solution works fine","body":"your solution works fine"}],"tags":[],"owner":{"account_id":21151801,"reputation":85,"user_id":16889846,"display_name":"Nikita K"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1647013742,"creation_date":1647013742,"answer_id":71441141,"question_id":67631927,"body_markdown":"Solution is very simple. Just delete your file mentioned in the error log.\r\nFor example in my case the path was shown below.\r\n\r\n    C:\\Users\\kattie\\.android\\debug.keystore.jks\r\n\r\nDelete this debug.keystore.jks file and make sure you close android studio or OpenJDK process from task manager.","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Solution is very simple. Just delete your file mentioned in the error log.\nFor example in my case the path was shown below.</p>\n<pre><code>C:\\Users\\kattie\\.android\\debug.keystore.jks\n</code></pre>\n<p>Delete this debug.keystore.jks file and make sure you close android studio or OpenJDK process from task manager.</p>\n"},{"comments":[{"owner":{"account_id":11707642,"reputation":160,"user_id":8570660,"display_name":"Avadhesh Mourya"},"score":0,"creation_date":1695585403,"post_id":71955263,"comment_id":136040662,"body_markdown":"This solution works for me. Thank you","body":"This solution works for me. Thank you"}],"tags":[],"owner":{"account_id":16246083,"reputation":758,"user_id":11731185,"display_name":"Ali Solanki"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1650547458,"creation_date":1650547458,"answer_id":71955263,"question_id":67631927,"body_markdown":"**If you haven&#39;t already created a keystore file:**\r\n1. Mac:\r\n```\r\nkeytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n```\r\n\r\n2. Windows (change USER_NAME):\r\n```\r\nkeytool -genkey -v -keystore &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\r\n```\r\n\r\n**If you have already created a keystore file before:**\r\n```\r\nkeytool -importkeystore -srckeystore &quot;path/to/upload-keystore.jks&quot; -destkeystore &quot;path/to/new-upload-keystore.jks&quot; -deststoretype JKS\r\n```","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p><strong>If you haven't already created a keystore file:</strong></p>\n<ol>\n<li>Mac:</li>\n</ol>\n<pre><code>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n</code></pre>\n<ol start=\"2\">\n<li>Windows (change USER_NAME):</li>\n</ol>\n<pre><code>keytool -genkey -v -keystore &quot;c:\\Users\\USER_NAME\\upload-keystore.jks&quot; -storetype JKS -keyalg RSA -keysize 2048 -validity 10000 -alias upload\n</code></pre>\n<p><strong>If you have already created a keystore file before:</strong></p>\n<pre><code>keytool -importkeystore -srckeystore &quot;path/to/upload-keystore.jks&quot; -destkeystore &quot;path/to/new-upload-keystore.jks&quot; -deststoretype JKS\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7832532,"reputation":1060,"user_id":5921933,"accept_rate":38,"display_name":"Huy Nguyen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658337076,"creation_date":1658337076,"answer_id":73055680,"question_id":67631927,"body_markdown":"The @azhar-ali answer does not work for me on Ubuntu 2020.04. And I found this [answer][1] that worked.\r\n\r\n**Commands:**\r\n\r\n```sh\r\nkeytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\nkeytool -importkeystore -srckeystore upload-keystore.jks -destkeystore upload-keystore.p12 -deststoretype PKCS12\r\n\r\nopenssl pkcs12 -nodes -in upload-keystore.p12 -out upload-keystore.pem\r\n\r\nopenssl pkcs12 -export -in upload-keystore.pem -out new-upload-keystore.p12 -name upload\r\n```\r\n\r\n(Using p12 key instead of jks key)\r\n\r\n**key.properties:**\r\n```\r\nstoreFile=/home/admin/Documents/Working/projects/new-upload-keystore.p12\r\n```\r\n\r\n\r\n**Result:**\r\n\r\n```sh\r\nflutter build appbundle\r\n\r\n&#128170; Building with sound null safety &#128170;\r\n\r\nRunning Gradle task &#39;bundleRelease&#39;...                           2,422ms\r\n✓ Built build/app/outputs/bundle/release/app-release.aab (16.6MB).\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/70337364/5921933","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>The @azhar-ali answer does not work for me on Ubuntu 2020.04. And I found this <a href=\"https://stackoverflow.com/a/70337364/5921933\">answer</a> that worked.</p>\n<p><strong>Commands:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>keytool -genkey -v -keystore upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\n\nkeytool -importkeystore -srckeystore upload-keystore.jks -destkeystore upload-keystore.p12 -deststoretype PKCS12\n\nopenssl pkcs12 -nodes -in upload-keystore.p12 -out upload-keystore.pem\n\nopenssl pkcs12 -export -in upload-keystore.pem -out new-upload-keystore.p12 -name upload\n</code></pre>\n<p>(Using p12 key instead of jks key)</p>\n<p><strong>key.properties:</strong></p>\n<pre><code>storeFile=/home/admin/Documents/Working/projects/new-upload-keystore.p12\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>flutter build appbundle\n\n💪 Building with sound null safety 💪\n\nRunning Gradle task 'bundleRelease'...                           2,422ms\n✓ Built build/app/outputs/bundle/release/app-release.aab (16.6MB).\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27372025,"reputation":51,"user_id":20877921,"display_name":"Jatin Tiwari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672818562,"creation_date":1672769251,"answer_id":74997091,"question_id":67631927,"body_markdown":"Add this in last of your command \r\n\r\n*-storetype JKS*\r\n\r\nLike,\r\n\r\n&gt;keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS\r\n\r\n","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>Add this in last of your command</p>\n<p><em>-storetype JKS</em></p>\n<p>Like,</p>\n<blockquote>\n<p>keytool -genkey -v -keystore ~/upload-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias upload -storetype JKS</p>\n</blockquote>\n"}],"owner":{"account_id":16121949,"reputation":1453,"user_id":11637725,"display_name":"Jason Perfetto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45303,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"answer_count":18,"score":73,"last_activity_date":1679637109,"creation_date":1621579057,"question_id":67631927,"body_markdown":"I am trying to build an AAB for my flutter app. I generated the keystore using the following below command:\r\n \r\n\r\n    keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\r\n\r\nI have a *key.properties* file, and I have referenced it using the provided code in the flutter docs. How can I solve this Java related issue?  My program throws the following exception                                                                       \r\n                                                                            \r\n    * What went wrong:                                                      \r\n    Execution failed for task &#39;:app:signReleaseBundle&#39;.                     \r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n       &gt; Failed to read key pckey from store &quot;/Users/jrperfetto/pc-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n                                                       ","title":"Error building AAB - Flutter (Android) - Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available","body":"<p>I am trying to build an AAB for my flutter app. I generated the keystore using the following below command:</p>\n<pre><code>keytool -genkey -v -keystore ~/pc-keystore.jks -keyalg RSA -keysize 2048 -validity 10000 -alias pckey\n</code></pre>\n<p>I have a <em>key.properties</em> file, and I have referenced it using the provided code in the flutter docs. How can I solve this Java related issue?  My program throws the following exception</p>\n<pre><code>* What went wrong:                                                      \nExecution failed for task ':app:signReleaseBundle'.                     \n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; Failed to read key pckey from store &quot;/Users/jrperfetto/pc-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\n                                                   \n</code></pre>\n"},{"tags":["java","android","android-studio","webview","android-permissions"],"answers":[{"comments":[{"owner":{"account_id":5582021,"reputation":3897,"user_id":4423636,"accept_rate":75,"display_name":"Ataur Rahman Munna"},"score":6,"creation_date":1511260448,"post_id":47410311,"comment_id":81775006,"body_markdown":"Add some explanation to your answer.","body":"Add some explanation to your answer."},{"owner":{"account_id":6139837,"reputation":115,"user_id":4787572,"display_name":"Niall Murphy"},"score":2,"creation_date":1513854521,"post_id":47410311,"comment_id":82814813,"body_markdown":"It might not have any explanation but it&#39;s the only the that worked for me.","body":"It might not have any explanation but it&#39;s the only the that worked for me."},{"owner":{"account_id":3652833,"reputation":1500,"user_id":3044529,"accept_rate":44,"display_name":"Sundeep1501"},"score":0,"creation_date":1530619328,"post_id":47410311,"comment_id":89291362,"body_markdown":"`request.getResources()` is not available below api level 19.Do we have any solution?","body":"<code>request.getResources()</code> is not available below api level 19.Do we have any solution?"},{"owner":{"account_id":7757156,"reputation":221,"user_id":5871030,"display_name":"Yin Gong"},"score":0,"creation_date":1543969310,"post_id":47410311,"comment_id":94107098,"body_markdown":"&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt; adding to Mainfest.xml is the key to use getUserMedia()","body":"&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt; &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt; &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt; &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt; &lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt; adding to Mainfest.xml is the key to use getUserMedia()"},{"owner":{"account_id":15134967,"reputation":355,"user_id":10921732,"display_name":"Tariq Mahmood"},"score":1,"creation_date":1591519995,"post_id":47410311,"comment_id":110081647,"body_markdown":"private ActivityMainBinding mBinding;\nmBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n\nFacing Error on these lines","body":"private ActivityMainBinding mBinding; mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);  Facing Error on these lines"}],"tags":[],"owner":{"display_name":"anon"},"comment_count":5,"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1679636974,"creation_date":1511258757,"answer_id":47410311,"question_id":40236925,"body_markdown":"You can use the following code that I copied from http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html —\r\n\r\n\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n&gt; \r\n&gt; Example:\r\n&gt; \r\n&gt; MainActivity\r\n&gt; \r\n&gt;     public class MainActivity extends AppCompatActivity {\r\n&gt;         private static final int MY_PERMISSIONS_REQUEST_RECORD_AUDIO = 101;\r\n&gt;         private ActivityMainBinding mBinding;\r\n&gt;         private PermissionRequest myRequest;\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n&gt;             super.onCreate(savedInstanceState);\r\n&gt;             mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\r\n&gt;             setWebView();\r\n&gt;         }\r\n&gt;     \r\n&gt;         private void setWebView() {\r\n&gt;             mBinding.webView.getSettings().setJavaScriptEnabled(true);\r\n&gt;             mBinding.webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n&gt;             mBinding.webView.setWebViewClient(new WebViewClient());\r\n&gt;     \r\n&gt;             mBinding.webView.getSettings().setSaveFormData(true);\r\n&gt;             mBinding.webView.getSettings().setSupportZoom(false);\r\n&gt;             mBinding.webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\r\n&gt;             mBinding.webViemBinding.webView.getSettings().setPluginState(WebSettings.PluginState.ON);\r\n&gt;     \r\n&gt;     \r\n&gt;             mBinding.webView.setWebChromeClient(new WebChromeClient() {\r\n&gt;                 @Override\r\n&gt;                 public void onPermissionRequest(final PermissionRequest request) {\r\n&gt;                     myRequest = request;\r\n&gt;     \r\n&gt;                     for (String permission : request.getResources()) {\r\n&gt;                         switch (permission) {\r\n&gt;                             case &quot;android.webkit.resource.AUDIO_CAPTURE&quot;: {\r\n&gt;                                 askForPermission(request.getOrigin().toString(),\r\n&gt; Manifest.permission.RECORD_AUDIO,\r\n&gt; MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\r\n&gt;                                 break;\r\n&gt;                             }\r\n&gt;                         }\r\n&gt;                     }\r\n&gt;                 }\r\n&gt;             });\r\n&gt;     \r\n&gt;             mBinding.webView.loadUrl(&quot;&lt;your url&quot;);\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void onBackPressed() {\r\n&gt;             if (mBinding.webView.canGoBack()) {\r\n&gt;                 mBinding.webView.goBack();\r\n&gt;             } else {\r\n&gt;                 super.onBackPressed();\r\n&gt;             }\r\n&gt;         }\r\n&gt;     \r\n&gt;         @Override\r\n&gt;         public void onRequestPermissionsResult(int requestCode,\r\n&gt;                                                String permissions[], int[] grantResults) {\r\n&gt;             switch (requestCode) {\r\n&gt;                 case MY_PERMISSIONS_REQUEST_RECORD_AUDIO: {\r\n&gt;                     Log.d(&quot;WebView&quot;, &quot;PERMISSION FOR AUDIO&quot;);\r\n&gt;                     if (grantResults.length &gt; 0\r\n&gt;                             &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n&gt;     \r\n&gt;     \r\n&gt;                         // permission was granted, yay! Do the\r\n&gt;                         // contacts-related task you need to do.\r\n&gt;                         myRequest.grant(myRequest.getResources());\r\n&gt;                         mBinding.webView.loadUrl(&quot;&lt;your url&gt;&quot;);\r\n&gt;     \r\n&gt;                     } else {\r\n&gt;     \r\n&gt;                         // permission denied, boo! Disable the\r\n&gt;                         // functionality that depends on this permission.\r\n&gt;                     }\r\n&gt;                 }\r\n&gt;                 // other &#39;case&#39; lines to check for other\r\n&gt;                 // permissions this app might request\r\n&gt;             }\r\n&gt;         }\r\n&gt;         public void askForPermission(String origin, String permission, int requestCode) {\r\n&gt;             Log.d(&quot;WebView&quot;, &quot;inside askForPermission for&quot; + origin + &quot;with&quot; + permission);\r\n&gt;     \r\n&gt;             if (ContextCompat.checkSelfPermission(getApplicationContext(),\r\n&gt;                     permission)\r\n&gt;                     != PackageManager.PERMISSION_GRANTED) {\r\n&gt;     \r\n&gt;                 // Should we show an explanation?\r\n&gt;                 if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,\r\n&gt;                         permission)) {\r\n&gt;     \r\n&gt;                     // Show an expanation to the user *asynchronously* -- don&#39;t block\r\n&gt;                     // this thread waiting for the user&#39;s response! After the user\r\n&gt;                     // sees the explanation, try again to request the permission.\r\n&gt;     \r\n&gt;                 } else {\r\n&gt;     \r\n&gt;                     // No explanation needed, we can request the permission.\r\n&gt;     \r\n&gt;                     ActivityCompat.requestPermissions(MainActivity.this,\r\n&gt;                             new String[]{permission},\r\n&gt;                             requestCode);\r\n&gt;                 }\r\n&gt;             } else {\r\n&gt;                 myRequest.grant(myRequest.getResources());\r\n&gt;             }\r\n&gt;         }\r\n&gt;     \r\n&gt;     }\r\n&gt; \r\n&gt; \r\n&gt; Mainfest.xml:\r\n&gt; \r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n&gt;     &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n&gt;     &lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt;      \r\n&gt; \r\n&gt; Build.gradle:\r\n&gt; \r\n&gt;     android {\r\n&gt;         compileSdkVersion 26\r\n&gt;         defaultConfig {\r\n&gt;             applicationId &quot;myapp.example.com.myapplication&quot;\r\n&gt;             minSdkVersion 21\r\n&gt;             targetSdkVersion 21\r\n&gt;             versionCode 1\r\n&gt;             versionName &quot;1.0&quot;\r\n&gt;         }\r\n&gt;         buildTypes {\r\n&gt;             release {\r\n&gt;                 minifyEnabled false\r\n&gt;                 proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n&gt;             }\r\n&gt;         }","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>You can use the following code that I copied from <a href=\"http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">http://web.archive.org/web/20160111030837/http://developer.android.com/training/permissions/requesting.html</a> —</p>\n<blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n</code></pre>\n<p>Example:</p>\n<p>MainActivity</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private static final int MY_PERMISSIONS_REQUEST_RECORD_AUDIO = 101;\n    private ActivityMainBinding mBinding;\n    private PermissionRequest myRequest;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        mBinding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n        setWebView();\n    }\n\n    private void setWebView() {\n        mBinding.webView.getSettings().setJavaScriptEnabled(true);\n        mBinding.webView.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n        mBinding.webView.setWebViewClient(new WebViewClient());\n\n        mBinding.webView.getSettings().setSaveFormData(true);\n        mBinding.webView.getSettings().setSupportZoom(false);\n        mBinding.webView.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n        mBinding.webViemBinding.webView.getSettings().setPluginState(WebSettings.PluginState.ON);\n\n\n        mBinding.webView.setWebChromeClient(new WebChromeClient() {\n            @Override\n            public void onPermissionRequest(final PermissionRequest request) {\n                myRequest = request;\n\n                for (String permission : request.getResources()) {\n                    switch (permission) {\n                        case &quot;android.webkit.resource.AUDIO_CAPTURE&quot;: {\n                            askForPermission(request.getOrigin().toString(),\n</code></pre>\n<p>Manifest.permission.RECORD_AUDIO,\nMY_PERMISSIONS_REQUEST_RECORD_AUDIO);\nbreak;\n}\n}\n}\n}\n});</p>\n<pre><code>        mBinding.webView.loadUrl(&quot;&lt;your url&quot;);\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (mBinding.webView.canGoBack()) {\n            mBinding.webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           String permissions[], int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_RECORD_AUDIO: {\n                Log.d(&quot;WebView&quot;, &quot;PERMISSION FOR AUDIO&quot;);\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n\n                    // permission was granted, yay! Do the\n                    // contacts-related task you need to do.\n                    myRequest.grant(myRequest.getResources());\n                    mBinding.webView.loadUrl(&quot;&lt;your url&gt;&quot;);\n\n                } else {\n\n                    // permission denied, boo! Disable the\n                    // functionality that depends on this permission.\n                }\n            }\n            // other 'case' lines to check for other\n            // permissions this app might request\n        }\n    }\n    public void askForPermission(String origin, String permission, int requestCode) {\n        Log.d(&quot;WebView&quot;, &quot;inside askForPermission for&quot; + origin + &quot;with&quot; + permission);\n\n        if (ContextCompat.checkSelfPermission(getApplicationContext(),\n                permission)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this,\n                    permission)) {\n\n                // Show an expanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n\n            } else {\n\n                // No explanation needed, we can request the permission.\n\n                ActivityCompat.requestPermissions(MainActivity.this,\n                        new String[]{permission},\n                        requestCode);\n            }\n        } else {\n            myRequest.grant(myRequest.getResources());\n        }\n    }\n\n}\n</code></pre>\n<p>Mainfest.xml:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\n&lt;uses-feature android:name=&quot;android.hardware.microphone&quot;/&gt;      \n</code></pre>\n<p>Build.gradle:</p>\n<pre><code>android {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId &quot;myapp.example.com.myapplication&quot;\n        minSdkVersion 21\n        targetSdkVersion 21\n        versionCode 1\n        versionName &quot;1.0&quot;\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":15327100,"reputation":1721,"user_id":11057932,"display_name":"David"},"score":0,"creation_date":1646428973,"post_id":54689229,"comment_id":126129290,"body_markdown":"Why do I need to create a global variable for the request? Surely the request is passed &quot;by reference&quot; and could be used directly?","body":"Why do I need to create a global variable for the request? Surely the request is passed &quot;by reference&quot; and could be used directly?"},{"owner":{"account_id":9441857,"reputation":371,"user_id":7022036,"display_name":"Javad"},"score":0,"creation_date":1647205718,"post_id":54689229,"comment_id":126307063,"body_markdown":"This is the right answer, some permissions like this need to granted with &quot;webkitPermissionRequest!!.grant(arrayOf(webkitPermission))&quot; too","body":"This is the right answer, some permissions like this need to granted with &quot;webkitPermissionRequest!!.grant(arrayOf(webkitPermission))&quot; too"}],"tags":[],"owner":{"account_id":6186619,"reputation":2144,"user_id":4820556,"display_name":"MadScientist"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1550143308,"creation_date":1550143308,"answer_id":54689229,"question_id":40236925,"body_markdown":"Summarising, you need the following components: \r\n\r\n1. The `MODIFY_AUDIO_SETTINGS` permission.\r\n2. A `WebChromeClient` and listen to callbacks for `onPermissionRequest`\r\n3. Inside this callback, check for the the resources coming in the `request` object, create a global variable of this `request` object, iterate and look for specific permission inside the `PermissionRequest` class, ex. `PermissionRequest.RESOURCE_VIDEO_CAPTURE` which translates to the `Manifest.permission.CAMERA` permission, check if your app has this permission or not, using any mechanism you wish if not, request, if yes do 4.\r\n4. In the permission callback or if the permission is granted, use the request object to grant the permission ex. `request.grant(new String[]{PermissionRequest.RESOURCE_VIDEO_CAPTURE})` and you&#39;re good to go. \r\n\r\nsnippet: \r\n\r\n```kotlin\r\nwebView.webChromeClient = object: WebChromeClient(){\r\n            override fun onPermissionRequest(request: PermissionRequest?) {\r\n                super.onPermissionRequest(request)\r\n\r\n                webkitPermissionRequest = request\r\n\r\n                request?.resources?.forEach {\r\n                    when(it){\r\n                        PermissionRequest.RESOURCE_AUDIO_CAPTURE-&gt; {\r\n                            askForWebkitPermission(it, Manifest.permission.RECORD_AUDIO, REQUEST_CODE_PERMISSION_AUDIO)\r\n                        }\r\n                        PermissionRequest.RESOURCE_VIDEO_CAPTURE-&gt;{\r\n                            askForWebkitPermission(it, Manifest.permission.CAMERA, REQUEST_CODE_PERMISSION_CAMERA)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\nprivate fun askForWebkitPermission(webkitPermission: String, androidPermission: String, requestCode: Int){\r\n        val context = activity?: return\r\n        if (context.hasPermission(androidPermission)){\r\n            webkitPermissionRequest!!.grant(arrayOf(webkitPermission))\r\n        }else{\r\n            requestPermissions(arrayOf(androidPermission), requestCode)\r\n        }\r\n    }\r\n```\r\n\r\nHope this helps. \r\n\r\nGoogle&#39;s sample for the same: https://github.com/googlesamples/android-PermissionRequest","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>Summarising, you need the following components: </p>\n\n<ol>\n<li>The <code>MODIFY_AUDIO_SETTINGS</code> permission.</li>\n<li>A <code>WebChromeClient</code> and listen to callbacks for <code>onPermissionRequest</code></li>\n<li>Inside this callback, check for the the resources coming in the <code>request</code> object, create a global variable of this <code>request</code> object, iterate and look for specific permission inside the <code>PermissionRequest</code> class, ex. <code>PermissionRequest.RESOURCE_VIDEO_CAPTURE</code> which translates to the <code>Manifest.permission.CAMERA</code> permission, check if your app has this permission or not, using any mechanism you wish if not, request, if yes do 4.</li>\n<li>In the permission callback or if the permission is granted, use the request object to grant the permission ex. <code>request.grant(new String[]{PermissionRequest.RESOURCE_VIDEO_CAPTURE})</code> and you're good to go. </li>\n</ol>\n\n<p>snippet: </p>\n\n<pre><code>webView.webChromeClient = object: WebChromeClient(){\n            override fun onPermissionRequest(request: PermissionRequest?) {\n                super.onPermissionRequest(request)\n\n                webkitPermissionRequest = request\n\n                request?.resources?.forEach {\n                    when(it){\n                        PermissionRequest.RESOURCE_AUDIO_CAPTURE-&gt; {\n                            askForWebkitPermission(it, Manifest.permission.RECORD_AUDIO, REQUEST_CODE_PERMISSION_AUDIO)\n                        }\n                        PermissionRequest.RESOURCE_VIDEO_CAPTURE-&gt;{\n                            askForWebkitPermission(it, Manifest.permission.CAMERA, REQUEST_CODE_PERMISSION_CAMERA)\n                        }\n                    }\n                }\n            }\n        }\n\nprivate fun askForWebkitPermission(webkitPermission: String, androidPermission: String, requestCode: Int){\n        val context = activity?: return\n        if (context.hasPermission(androidPermission)){\n            webkitPermissionRequest!!.grant(arrayOf(webkitPermission))\n        }else{\n            requestPermissions(arrayOf(androidPermission), requestCode)\n        }\n    }\n</code></pre>\n\n<p>Hope this helps. </p>\n\n<p>Google's sample for the same: <a href=\"https://github.com/googlesamples/android-PermissionRequest\" rel=\"noreferrer\">https://github.com/googlesamples/android-PermissionRequest</a></p>\n"},{"comments":[{"owner":{"account_id":4931879,"reputation":677,"user_id":3971390,"accept_rate":0,"display_name":"eppineda"},"score":0,"creation_date":1664393646,"post_id":71528170,"comment_id":130463987,"body_markdown":"Thanks for sharing your recent experience on this topic, even though the OP was from many years ago. Your contribution continues to make this topic useful and relevant.","body":"Thanks for sharing your recent experience on this topic, even though the OP was from many years ago. Your contribution continues to make this topic useful and relevant."}],"tags":[],"owner":{"account_id":2250349,"reputation":49,"user_id":1982697,"display_name":"Simranjit Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647611946,"creation_date":1647611946,"answer_id":71528170,"question_id":40236925,"body_markdown":"its problems for reload the webview , after too much research , found this code and create this below code :- \r\n\r\n     mwebView.setWebChromeClient(new WebChromeClient() {\r\n            @Override\r\n            public void onPermissionRequest(final PermissionRequest request) {\r\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                    myRequest = request;\r\n                    for (String permission : request.getResources()) {\r\n                        if (permission.equals(&quot;android.webkit.resource.AUDIO_CAPTURE&quot;)) {\r\n                            demandForPermission(request.getOrigin().toString(), Manifest.permission.RECORD_AUDIO, MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\r\n                        } else {\r\n                            myRequest.grant(request.getResources());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onPermissionRequestCanceled(PermissionRequest request) {\r\n                super.onPermissionRequestCanceled(request);\r\n            }\r\n\r\nmore info in this link **[Android Webview][1]**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71528122/allowed-camera-audio-or-all-other-permissions-on-webview-webrtc-chromium-web","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>its problems for reload the webview , after too much research , found this code and create this below code :-</p>\n<pre><code> mwebView.setWebChromeClient(new WebChromeClient() {\n        @Override\n        public void onPermissionRequest(final PermissionRequest request) {\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                myRequest = request;\n                for (String permission : request.getResources()) {\n                    if (permission.equals(&quot;android.webkit.resource.AUDIO_CAPTURE&quot;)) {\n                        demandForPermission(request.getOrigin().toString(), Manifest.permission.RECORD_AUDIO, MY_PERMISSIONS_REQUEST_RECORD_AUDIO);\n                    } else {\n                        myRequest.grant(request.getResources());\n                    }\n                }\n            }\n        }\n\n        @Override\n        public void onPermissionRequestCanceled(PermissionRequest request) {\n            super.onPermissionRequestCanceled(request);\n        }\n</code></pre>\n<p>more info in this link <strong><a href=\"https://stackoverflow.com/questions/71528122/allowed-camera-audio-or-all-other-permissions-on-webview-webrtc-chromium-web\">Android Webview</a></strong></p>\n"}],"owner":{"account_id":1638159,"reputation":195,"user_id":1511106,"accept_rate":40,"display_name":"Raynoro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25163,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1679636974,"creation_date":1477389564,"question_id":40236925,"body_markdown":"I am currently working on a music tuner that uses html5 and a webview to display the &#39;application&#39;. I&#39;ve written the all the permission required in manifest and I think for webview there&#39;s another permission required.\r\n\r\nI am using this https://jbergknoff.github.io/guitar-tuner/ as a sample redirect page for now\r\n\r\nHere&#39;s my manifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.raynordev.projectrosin&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MICROPHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.audio.low_latency&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.audio.pro&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.microphone&quot; android:required=&quot;true&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.raynordev.projectrosin.HomeActivity&quot;&gt;        \r\n\r\n      &lt;/activity&gt;\r\n     &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nHere&#39;s my .java\r\n\r\n    public class HomeActivity extends AppCompatActivity {\r\n\r\n    private WebView wv;\r\n    private String TAG = &quot;HomeActivity&quot;;\r\n    private static final int REQUEST_INTERNET = 200;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home);\r\n        WebView wv = (WebView) findViewById(R.id.webView);\r\n        wv.getSettings().setJavaScriptEnabled(true);\r\n        wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\r\n\r\n\r\n        wv.setWebViewClient(new WebViewClient());\r\n        wv.setWebChromeClient(new WebChromeClient());\r\n\r\n        wv.loadUrl(&quot;https://jbergknoff.github.io/guitar-tuner/&quot;);\r\n     }\r\n    }\r\n\r\n\r\nIf require more information from me, please let me know.\r\n\r\nThank you everyone!!","title":"Allowing microphone access(permission) in WebView [Android Studio] [Java]","body":"<p>I am currently working on a music tuner that uses html5 and a webview to display the 'application'. I've written the all the permission required in manifest and I think for webview there's another permission required.</p>\n\n<p>I am using this <a href=\"https://jbergknoff.github.io/guitar-tuner/\" rel=\"noreferrer\">https://jbergknoff.github.io/guitar-tuner/</a> as a sample redirect page for now</p>\n\n<p>Here's my manifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.raynordev.projectrosin\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.MICROPHONE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.RECORD_AUDIO\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.audio.low_latency\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.audio.pro\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.microphone\" android:required=\"true\"/&gt;\n\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:theme=\"@style/Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\"com.raynordev.projectrosin.HomeActivity\"&gt;        \n\n  &lt;/activity&gt;\n &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Here's my .java</p>\n\n<pre><code>public class HomeActivity extends AppCompatActivity {\n\nprivate WebView wv;\nprivate String TAG = \"HomeActivity\";\nprivate static final int REQUEST_INTERNET = 200;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n    WebView wv = (WebView) findViewById(R.id.webView);\n    wv.getSettings().setJavaScriptEnabled(true);\n    wv.getSettings().setJavaScriptCanOpenWindowsAutomatically(true);\n\n\n    wv.setWebViewClient(new WebViewClient());\n    wv.setWebChromeClient(new WebChromeClient());\n\n    wv.loadUrl(\"https://jbergknoff.github.io/guitar-tuner/\");\n }\n}\n</code></pre>\n\n<p>If require more information from me, please let me know.</p>\n\n<p>Thank you everyone!!</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1679645164,"post_id":75830364,"comment_id":133761477,"body_markdown":"Does Edge on IE Mode gets initiated in the localhost?","body":"Does Edge on IE Mode gets initiated in the localhost?"},{"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"score":0,"creation_date":1679664970,"post_id":75830364,"comment_id":133766328,"body_markdown":"If you&#39;re asking whether I&#39;m manually able to run edge on IE mode, the answer is yes. But with selenium, no. The browser doesn&#39;t launch at all.","body":"If you&#39;re asking whether I&#39;m manually able to run edge on IE mode, the answer is yes. But with selenium, no. The browser doesn&#39;t launch at all."}],"owner":{"account_id":4012536,"reputation":720,"user_id":3305534,"accept_rate":42,"display_name":"Sriram Sridharan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679636534,"creation_date":1679636534,"question_id":75830364,"body_markdown":"I want to run automated tests on an application that runs only on Edge with IE Mode. To do this, I&#39;m using `selenium-server-4.8.2.jar` to run the standalone server on my remote machine. \r\n\r\nIn my project, I have the `selenium-java` dependency to the `4.1.3` version.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n      &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n      &lt;version&gt;4.1.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nOn the remote machine (which as of now is `localhost`), I&#39;m running the selenium-server like this:\r\n\r\n    java -&quot;Dwebdriver.ie.driver=C:\\Users\\abc\\Downloads\\IEDriverServer_Win32_4.8.1\\IEDriverServer.exe&quot; -jar .\\selenium-server-4.8.1.jar standalone\r\n\r\nI have a Java function that has the actual code:\r\n\r\n    public static void runIEWithEdge() throws MalformedURLException {\r\n            String remoteUrl = &quot;http://localhost:4444&quot;;\r\n    \r\n            InternetExplorerOptions edgeOptions = new InternetExplorerOptions();\r\n            edgeOptions.attachToEdgeChrome();\r\n            edgeOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\n    \r\n            // Create RemoteWebDriver with the EdgeOptions and remote URL\r\n            WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\r\n    \r\n            // Navigate to a webpage\r\n            driver.get(&quot;http://demo.borland.com/gmopost&quot;);\r\n    \r\n            // Do some automation tasks\r\n            driver.findElement(By.name(&quot;bSubmit&quot;)).click();\r\n    \r\n    \r\n    \r\n            // Close the browser\r\n            driver.quit();\r\n    \r\n        }\r\n\r\n\r\nHowever, when I run this, the browser doesn&#39;t launch at all, and I get the following exception from the selenium-server\r\n\r\n\r\n    11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. null\r\n    Host info: host: &#39;YCSLAPTEMP&#39;, ip: &#39;192.168.16.118&#39;\r\n    Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\n    Driver info: driver.version: unknown\r\n    11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. null\r\n    Host info: host: &#39;YCSLAPTEMP&#39;, ip: &#39;192.168.16.118&#39;\r\n    Build info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\n    System info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\n    Driver info: driver.version: unknown\r\n            at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:215)\r\n            at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\r\n            at org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\r\n            at org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:384)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:645)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:564)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:818)\r\n            at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:779)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n            at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\nNot sure how to fix this. But, I tried another way using the `EdgeOptions` instead of `InternetExplorerOptions` like here:\r\n\r\n \r\n\r\n     public static void runEdge( String[] args ) throws MalformedURLException {\r\n            String remoteUrl = &quot;http://localhost:4444&quot;;\r\n    \r\n            EdgeOptions edgeOptions = new EdgeOptions();\r\n    \r\n            edgeOptions.setCapability(&quot;ie.edgechromium&quot;, true);\r\n            edgeOptions.setCapability(&quot;ie.browserCommandLineArguments&quot;, &quot;-ms-edge-legacy-emulation-mode-ie11&quot;);\r\n    \r\n            // Create RemoteWebDriver with the EdgeOptions and remote URL\r\n            WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\r\n    \r\n            // Navigate to a webpage\r\n            driver.get(&quot;http://demo.borland.com/gmopost&quot;);\r\n    \r\n            driver.findElement(By.name(&quot;bSubmit&quot;)).click();\r\n    \r\n            // Do some automation tasks\r\n    \r\n            // Close the browser\r\n            driver.quit();\r\n    \r\n        }\r\n\r\nThis launches Edge and the program runs fine, but **doesn&#39;t start edge on IE Mode**\r\n\r\nI badly want to launch Edge with IE mode on a remote machine. Please help with any ideas.\r\n\r\nThank you.","title":"org.openqa.selenium.SessionNotCreatedException When I launch edge with IE mode using RemoteWebDriver","body":"<p>I want to run automated tests on an application that runs only on Edge with IE Mode. To do this, I'm using <code>selenium-server-4.8.2.jar</code> to run the standalone server on my remote machine.</p>\n<p>In my project, I have the <code>selenium-java</code> dependency to the <code>4.1.3</code> version.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n  &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n  &lt;version&gt;4.1.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>On the remote machine (which as of now is <code>localhost</code>), I'm running the selenium-server like this:</p>\n<pre><code>java -&quot;Dwebdriver.ie.driver=C:\\Users\\abc\\Downloads\\IEDriverServer_Win32_4.8.1\\IEDriverServer.exe&quot; -jar .\\selenium-server-4.8.1.jar standalone\n</code></pre>\n<p>I have a Java function that has the actual code:</p>\n<pre><code>public static void runIEWithEdge() throws MalformedURLException {\n        String remoteUrl = &quot;http://localhost:4444&quot;;\n\n        InternetExplorerOptions edgeOptions = new InternetExplorerOptions();\n        edgeOptions.attachToEdgeChrome();\n        edgeOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\n\n        // Create RemoteWebDriver with the EdgeOptions and remote URL\n        WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\n\n        // Navigate to a webpage\n        driver.get(&quot;http://demo.borland.com/gmopost&quot;);\n\n        // Do some automation tasks\n        driver.findElement(By.name(&quot;bSubmit&quot;)).click();\n\n\n\n        // Close the browser\n        driver.quit();\n\n    }\n</code></pre>\n<p>However, when I run this, the browser doesn't launch at all, and I get the following exception from the selenium-server</p>\n<pre><code>11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - Unable to create session: Could not start a new session. null\nHost info: host: 'YCSLAPTEMP', ip: '192.168.16.118'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: driver.version: unknown\n11:02:28.393 WARN [SeleniumSpanExporter$1.lambda$export$1] - org.openqa.selenium.SessionNotCreatedException: Could not start a new session. null\nHost info: host: 'YCSLAPTEMP', ip: '192.168.16.118'\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: driver.version: unknown\n        at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:215)\n        at org.openqa.selenium.grid.node.config.DriverServiceSessionFactory.apply(DriverServiceSessionFactory.java:69)\n        at org.openqa.selenium.grid.node.local.SessionSlot.apply(SessionSlot.java:147)\n        at org.openqa.selenium.grid.node.local.LocalNode.newSession(LocalNode.java:384)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor.startSession(LocalDistributor.java:645)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor.newSession(LocalDistributor.java:564)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.handleNewSessionRequest(LocalDistributor.java:818)\n        at org.openqa.selenium.grid.distributor.local.LocalDistributor$NewSessionRunnable.lambda$run$1(LocalDistributor.java:779)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Not sure how to fix this. But, I tried another way using the <code>EdgeOptions</code> instead of <code>InternetExplorerOptions</code> like here:</p>\n<pre><code> public static void runEdge( String[] args ) throws MalformedURLException {\n        String remoteUrl = &quot;http://localhost:4444&quot;;\n\n        EdgeOptions edgeOptions = new EdgeOptions();\n\n        edgeOptions.setCapability(&quot;ie.edgechromium&quot;, true);\n        edgeOptions.setCapability(&quot;ie.browserCommandLineArguments&quot;, &quot;-ms-edge-legacy-emulation-mode-ie11&quot;);\n\n        // Create RemoteWebDriver with the EdgeOptions and remote URL\n        WebDriver driver = new RemoteWebDriver(new URL(remoteUrl), edgeOptions);\n\n        // Navigate to a webpage\n        driver.get(&quot;http://demo.borland.com/gmopost&quot;);\n\n        driver.findElement(By.name(&quot;bSubmit&quot;)).click();\n\n        // Do some automation tasks\n\n        // Close the browser\n        driver.quit();\n\n    }\n</code></pre>\n<p>This launches Edge and the program runs fine, but <strong>doesn't start edge on IE Mode</strong></p>\n<p>I badly want to launch Edge with IE mode on a remote machine. Please help with any ideas.</p>\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk","amazon-s3-select"],"answers":[{"comments":[{"owner":{"account_id":4910707,"reputation":33,"user_id":3956089,"display_name":"Barani"},"score":0,"creation_date":1676870418,"post_id":75503217,"comment_id":133217605,"body_markdown":"Thanks for your answer, This seems like good solution to get the file as it is, but I looking for options to query the parquet file and get response in json format.","body":"Thanks for your answer, This seems like good solution to get the file as it is, but I looking for options to query the parquet file and get response in json format."},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676902734,"post_id":75503217,"comment_id":133225537,"body_markdown":"Have you looked at using AWS Athena?","body":"Have you looked at using AWS Athena?"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676838691,"creation_date":1676838371,"answer_id":75503217,"question_id":75502374,"body_markdown":"I see you are using **selectObjectContent()**. Have you tried calling the **s3AsyncClient.getObject()** method. Does that work for you? \r\n\r\nFor example, here is a code example that gets a PDF file from an Amazon S3 bucket and write the PDF file to a local file. \r\n\r\n    package com.example.s3.async;\r\n    // snippet-start:[s3.java2.async_stream_ops.complete]\r\n    \r\n    // snippet-start:[s3.java2.async_stream_ops.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.async.AsyncResponseTransformer;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\n    import java.nio.file.Paths;\r\n    import java.util.concurrent.CompletableFuture;\r\n    // snippet-end:[s3.java2.async_stream_ops.import]\r\n    \r\n    // snippet-start:[s3.java2.async_stream_ops.main]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class S3AsyncStreamOps {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;    &lt;bucketName&gt; &lt;objectKey&gt; &lt;path&gt;\\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;    bucketName - The name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\r\n                    &quot;    objectKey - The name of the object (for example, book.pdf). \\n&quot; +\r\n                    &quot;    path - The local path to the file (for example, C:/AWS/book.pdf). \\n&quot; ;\r\n    \r\n            if (args.length != 3) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n             }\r\n    \r\n            String bucketName = args[0];\r\n            String objectKey = args[1];\r\n            String path = args[2];\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3AsyncClient s3AsyncClient = S3AsyncClient.builder()\r\n                    .region(region)\r\n                    .credentialsProvider(credentialsProvider)\r\n                    .build();\r\n    \r\n            GetObjectRequest objectRequest = GetObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(objectKey)\r\n                    .build();\r\n    \r\n            CompletableFuture&lt;GetObjectResponse&gt; futureGet = s3AsyncClient.getObject(objectRequest,\r\n                    AsyncResponseTransformer.toFile(Paths.get(path)));\r\n    \r\n            futureGet.whenComplete((resp, err) -&gt; {\r\n                try {\r\n                    if (resp != null) {\r\n                        System.out.println(&quot;Object downloaded. Details: &quot;+resp);\r\n                    } else {\r\n                        err.printStackTrace();\r\n                    }\r\n                } finally {\r\n                   // Only close the client when you are completely done with it.\r\n                    s3AsyncClient.close();\r\n                }\r\n            });\r\n            futureGet.join();\r\n        }\r\n    }","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>I see you are using <strong>selectObjectContent()</strong>. Have you tried calling the <strong>s3AsyncClient.getObject()</strong> method. Does that work for you?</p>\n<p>For example, here is a code example that gets a PDF file from an Amazon S3 bucket and write the PDF file to a local file.</p>\n<pre><code>package com.example.s3.async;\n// snippet-start:[s3.java2.async_stream_ops.complete]\n\n// snippet-start:[s3.java2.async_stream_ops.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.async.AsyncResponseTransformer;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport java.nio.file.Paths;\nimport java.util.concurrent.CompletableFuture;\n// snippet-end:[s3.java2.async_stream_ops.import]\n\n// snippet-start:[s3.java2.async_stream_ops.main]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class S3AsyncStreamOps {\n\n    public static void main(String[] args) {\n\n        final String usage = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;    &lt;bucketName&gt; &lt;objectKey&gt; &lt;path&gt;\\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;    bucketName - The name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\n                &quot;    objectKey - The name of the object (for example, book.pdf). \\n&quot; +\n                &quot;    path - The local path to the file (for example, C:/AWS/book.pdf). \\n&quot; ;\n\n        if (args.length != 3) {\n            System.out.println(usage);\n            System.exit(1);\n         }\n\n        String bucketName = args[0];\n        String objectKey = args[1];\n        String path = args[2];\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3AsyncClient s3AsyncClient = S3AsyncClient.builder()\n                .region(region)\n                .credentialsProvider(credentialsProvider)\n                .build();\n\n        GetObjectRequest objectRequest = GetObjectRequest.builder()\n                .bucket(bucketName)\n                .key(objectKey)\n                .build();\n\n        CompletableFuture&lt;GetObjectResponse&gt; futureGet = s3AsyncClient.getObject(objectRequest,\n                AsyncResponseTransformer.toFile(Paths.get(path)));\n\n        futureGet.whenComplete((resp, err) -&gt; {\n            try {\n                if (resp != null) {\n                    System.out.println(&quot;Object downloaded. Details: &quot;+resp);\n                } else {\n                    err.printStackTrace();\n                }\n            } finally {\n               // Only close the client when you are completely done with it.\n                s3AsyncClient.close();\n            }\n        });\n        futureGet.join();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4910707,"reputation":33,"user_id":3956089,"display_name":"Barani"},"score":0,"creation_date":1679764336,"post_id":75830286,"comment_id":133780820,"body_markdown":"Thank you! This solution worked, although I have one question, Will order of the RecordEvents(with which we would get InputStream) always be same as the actual Results, and we are not at the risk of making sequenceinputstream with inputstreams in irregular order? because I even noticed the inputstream is cutting off even in the middle of the json row.","body":"Thank you! This solution worked, although I have one question, Will order of the RecordEvents(with which we would get InputStream) always be same as the actual Results, and we are not at the risk of making sequenceinputstream with inputstreams in irregular order? because I even noticed the inputstream is cutting off even in the middle of the json row."},{"owner":{"account_id":5739600,"reputation":36,"user_id":4532691,"display_name":"cdome"},"score":0,"creation_date":1679885669,"post_id":75830286,"comment_id":133795377,"body_markdown":"My experience is that it is (so far) in correct order - we are selecting to csv output this way and didn&#39;t run into problems yet (results are in correct order, columns are matching, etc.). It makes sense it should be in correct order as it seems to be reading chunks of the output and after each chuck it creates new event.","body":"My experience is that it is (so far) in correct order - we are selecting to csv output this way and didn&#39;t run into problems yet (results are in correct order, columns are matching, etc.). It makes sense it should be in correct order as it seems to be reading chunks of the output and after each chuck it creates new event."},{"owner":{"account_id":4910707,"reputation":33,"user_id":3956089,"display_name":"Barani"},"score":0,"creation_date":1679991019,"post_id":75830286,"comment_id":133815645,"body_markdown":"Thank You, My input is parquet, and output is json, so far I have not seen that issue myself, but I just wanted to make sure, Thanks again.","body":"Thank You, My input is parquet, and output is json, so far I have not seen that issue myself, but I just wanted to make sure, Thanks again."}],"tags":[],"owner":{"account_id":5739600,"reputation":36,"user_id":4532691,"display_name":"cdome"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679635542,"creation_date":1679635542,"answer_id":75830286,"question_id":75502374,"body_markdown":"The problem is, that you may get multiple RecordsEvent events, each containing an InputStream with a part of the data - so you have to iterate through events and join them:\r\n\r\n```kotlin\r\nfun selectS3ObjectContent(socRequest: SelectObjectContentRequest): InputStream {\r\n    val handler = S3SelectObjectContentHandler()\r\n    asyncS3.selectObjectContent(socRequest, handler).join()\r\n\r\n    return if (handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().isEmpty())\r\n        InputStream.nullInputStream()\r\n    else\r\n        handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().map {\r\n            it.payload().asInputStream()\r\n        }.reduce { l, r -&gt;\r\n            SequenceInputStream(l, r)\r\n        }\r\n}\r\n\r\nclass S3SelectObjectContentHandler : SelectObjectContentResponseHandler {\r\n    private var response: SelectObjectContentResponse? = null\r\n    var receivedEvents = ArrayList&lt;SelectObjectContentEventStream&gt;()\r\n    private var exception: Throwable? = null\r\n\r\n    override fun responseReceived(response: SelectObjectContentResponse?) {\r\n        this.response = response\r\n    }\r\n\r\n    override fun onEventStream(publisher: SdkPublisher&lt;SelectObjectContentEventStream&gt;) {\r\n        publisher.subscribe { event -&gt;\r\n            receivedEvents.add(event)\r\n        }\r\n    }\r\n\r\n    override fun exceptionOccurred(throwable: Throwable?) {\r\n        exception = throwable\r\n    }\r\n\r\n    override fun complete() { /* no-op */ }\r\n}\r\n```","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>The problem is, that you may get multiple RecordsEvent events, each containing an InputStream with a part of the data - so you have to iterate through events and join them:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun selectS3ObjectContent(socRequest: SelectObjectContentRequest): InputStream {\n    val handler = S3SelectObjectContentHandler()\n    asyncS3.selectObjectContent(socRequest, handler).join()\n\n    return if (handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().isEmpty())\n        InputStream.nullInputStream()\n    else\n        handler.receivedEvents.filterIsInstance&lt;RecordsEvent&gt;().map {\n            it.payload().asInputStream()\n        }.reduce { l, r -&gt;\n            SequenceInputStream(l, r)\n        }\n}\n\nclass S3SelectObjectContentHandler : SelectObjectContentResponseHandler {\n    private var response: SelectObjectContentResponse? = null\n    var receivedEvents = ArrayList&lt;SelectObjectContentEventStream&gt;()\n    private var exception: Throwable? = null\n\n    override fun responseReceived(response: SelectObjectContentResponse?) {\n        this.response = response\n    }\n\n    override fun onEventStream(publisher: SdkPublisher&lt;SelectObjectContentEventStream&gt;) {\n        publisher.subscribe { event -&gt;\n            receivedEvents.add(event)\n        }\n    }\n\n    override fun exceptionOccurred(throwable: Throwable?) {\n        exception = throwable\n    }\n\n    override fun complete() { /* no-op */ }\n}\n</code></pre>\n"}],"owner":{"account_id":4910707,"reputation":33,"user_id":3956089,"display_name":"Barani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75830286,"answer_count":2,"score":0,"last_activity_date":1679635542,"creation_date":1676830381,"question_id":75502374,"body_markdown":"I am trying to implement s3select in a spring boot app to query parquet file in s3 bucket, I am only getting partial result from the s3select output, Please help to identify the issue, i have used aws java sdk v2.\r\n\r\nUpon checking the json output(printed in the console), overall characters in the output is 65k.\r\n\r\nI am using eclipse and tried unchecking &quot;Limit console output&quot; in the console preference, which did not help.\r\n\r\nCode is here:-\r\n\r\n\r\n```import java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\r\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\r\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\r\nimport software.amazon.awssdk.core.async.SdkPublisher;\r\nimport software.amazon.awssdk.regions.Region;\r\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\r\nimport software.amazon.awssdk.services.s3.model.CompressionType;\r\nimport software.amazon.awssdk.services.s3.model.EndEvent;\r\nimport software.amazon.awssdk.services.s3.model.ExpressionType;\r\nimport software.amazon.awssdk.services.s3.model.InputSerialization;\r\nimport software.amazon.awssdk.services.s3.model.JSONOutput;\r\nimport software.amazon.awssdk.services.s3.model.OutputSerialization;\r\nimport software.amazon.awssdk.services.s3.model.ParquetInput;\r\nimport software.amazon.awssdk.services.s3.model.RecordsEvent;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream.EventType;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentRequest;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponse;\r\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponseHandler;\r\n\r\npublic class ParquetSelect {\r\n\t\r\n    private static final String BUCKET_NAME = &quot;&lt;bucket-name&gt;&quot;;\r\n    private static final String KEY = &quot;&lt;object-key&gt;&quot;;\r\n    private static final String QUERY = &quot;select * from S3Object s&quot;;\r\n    public static S3AsyncClient s3;\r\n    \r\n\r\n    public static void selectObjectContent() {\r\n        Handler handler = new Handler();\r\n        \r\n        SelectQueryWithHandler(handler).join();\r\n\r\n        RecordsEvent recordsEvent = (RecordsEvent) handler.receivedEvents.stream()\r\n                                                                         .filter(e -&gt; e.sdkEventType() == EventType.RECORDS)\r\n                                                                         .findFirst()\r\n                                                                         .orElse(null);\r\n\r\n        System.out.println(recordsEvent.payload().asUtf8String());\r\n\r\n    }\r\n\r\n    private static CompletableFuture&lt;Void&gt; SelectQueryWithHandler(SelectObjectContentResponseHandler handler) {\r\n        InputSerialization inputSerialization = InputSerialization.builder()\r\n                                                                  .parquet(ParquetInput.builder().build())\r\n                                                                  .compressionType(CompressionType.NONE)\r\n                                                                  .build();\r\n\r\n\r\n        OutputSerialization outputSerialization = OutputSerialization.builder()\r\n                                                                     .json(JSONOutput.builder().build())\r\n                                                                     .build();\r\n\r\n\r\n        SelectObjectContentRequest select = SelectObjectContentRequest.builder()\r\n                                                                      .bucket(BUCKET_NAME)\r\n                                                                      .key(KEY)\r\n                                                                      .expression(QUERY)\r\n                                                                      .expressionType(ExpressionType.SQL)\r\n                                                                      .inputSerialization(inputSerialization)\r\n                                                                      .outputSerialization(outputSerialization)\r\n                                                                      .build();\r\n\r\n        return s3.selectObjectContent(select, handler);\r\n    }\r\n\r\n    private static class Handler implements SelectObjectContentResponseHandler {\r\n        private SelectObjectContentResponse response;\r\n        private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\r\n        private Throwable exception;\r\n\r\n        @Override\r\n        public void responseReceived(SelectObjectContentResponse response) {\r\n            this.response = response;\r\n        }\r\n\r\n        @Override\r\n        public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\r\n            publisher.subscribe(receivedEvents::add);\r\n        }\r\n\r\n        @Override\r\n        public void exceptionOccurred(Throwable throwable) {\r\n            exception = throwable;\r\n        }\r\n\r\n        @Override\r\n        public void complete() {\r\n        }\r\n    }\r\n\t\r\n}\r\n```\r\n","title":"Getting partial json response for s3select with aws java sdk v2","body":"<p>I am trying to implement s3select in a spring boot app to query parquet file in s3 bucket, I am only getting partial result from the s3select output, Please help to identify the issue, i have used aws java sdk v2.</p>\n<p>Upon checking the json output(printed in the console), overall characters in the output is 65k.</p>\n<p>I am using eclipse and tried unchecking &quot;Limit console output&quot; in the console preference, which did not help.</p>\n<p>Code is here:-</p>\n<pre><code>import java.util.List;\nimport java.util.concurrent.CompletableFuture;\n\nimport software.amazon.awssdk.auth.credentials.AwsBasicCredentials;\nimport software.amazon.awssdk.auth.credentials.AwsCredentialsProvider;\nimport software.amazon.awssdk.auth.credentials.StaticCredentialsProvider;\nimport software.amazon.awssdk.core.async.SdkPublisher;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.CompressionType;\nimport software.amazon.awssdk.services.s3.model.EndEvent;\nimport software.amazon.awssdk.services.s3.model.ExpressionType;\nimport software.amazon.awssdk.services.s3.model.InputSerialization;\nimport software.amazon.awssdk.services.s3.model.JSONOutput;\nimport software.amazon.awssdk.services.s3.model.OutputSerialization;\nimport software.amazon.awssdk.services.s3.model.ParquetInput;\nimport software.amazon.awssdk.services.s3.model.RecordsEvent;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentEventStream.EventType;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentRequest;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponse;\nimport software.amazon.awssdk.services.s3.model.SelectObjectContentResponseHandler;\n\npublic class ParquetSelect {\n    \n    private static final String BUCKET_NAME = &quot;&lt;bucket-name&gt;&quot;;\n    private static final String KEY = &quot;&lt;object-key&gt;&quot;;\n    private static final String QUERY = &quot;select * from S3Object s&quot;;\n    public static S3AsyncClient s3;\n    \n\n    public static void selectObjectContent() {\n        Handler handler = new Handler();\n        \n        SelectQueryWithHandler(handler).join();\n\n        RecordsEvent recordsEvent = (RecordsEvent) handler.receivedEvents.stream()\n                                                                         .filter(e -&gt; e.sdkEventType() == EventType.RECORDS)\n                                                                         .findFirst()\n                                                                         .orElse(null);\n\n        System.out.println(recordsEvent.payload().asUtf8String());\n\n    }\n\n    private static CompletableFuture&lt;Void&gt; SelectQueryWithHandler(SelectObjectContentResponseHandler handler) {\n        InputSerialization inputSerialization = InputSerialization.builder()\n                                                                  .parquet(ParquetInput.builder().build())\n                                                                  .compressionType(CompressionType.NONE)\n                                                                  .build();\n\n\n        OutputSerialization outputSerialization = OutputSerialization.builder()\n                                                                     .json(JSONOutput.builder().build())\n                                                                     .build();\n\n\n        SelectObjectContentRequest select = SelectObjectContentRequest.builder()\n                                                                      .bucket(BUCKET_NAME)\n                                                                      .key(KEY)\n                                                                      .expression(QUERY)\n                                                                      .expressionType(ExpressionType.SQL)\n                                                                      .inputSerialization(inputSerialization)\n                                                                      .outputSerialization(outputSerialization)\n                                                                      .build();\n\n        return s3.selectObjectContent(select, handler);\n    }\n\n    private static class Handler implements SelectObjectContentResponseHandler {\n        private SelectObjectContentResponse response;\n        private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\n        private Throwable exception;\n\n        @Override\n        public void responseReceived(SelectObjectContentResponse response) {\n            this.response = response;\n        }\n\n        @Override\n        public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\n            publisher.subscribe(receivedEvents::add);\n        }\n\n        @Override\n        public void exceptionOccurred(Throwable throwable) {\n            exception = throwable;\n        }\n\n        @Override\n        public void complete() {\n        }\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","time","java-time"],"comments":[{"owner":{"account_id":417710,"reputation":10050,"user_id":793861,"accept_rate":50,"display_name":"John O&#39;Reilly"},"score":1,"creation_date":1483701062,"post_id":41504350,"comment_id":70214035,"body_markdown":"Joda-Time (https://github.com/dlew/joda-time-android) has some nice options for doing things like that.","body":"Joda-Time (<a href=\"https://github.com/dlew/joda-time-android\" rel=\"nofollow noreferrer\">github.com/dlew/joda-time-android</a>) has some nice options for doing things like that."},{"owner":{"account_id":3086706,"reputation":1815,"user_id":2613692,"display_name":"RustamG"},"score":0,"creation_date":1483955237,"post_id":41504350,"comment_id":70294700,"body_markdown":"It would be helpful if you specify packages which contain `Period`,  `PeriodFormatter`, `PeriodFormatterBuilder` classes","body":"It would be helpful if you specify packages which contain <code>Period</code>,  <code>PeriodFormatter</code>, <code>PeriodFormatterBuilder</code> classes"},{"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"score":0,"creation_date":1483959949,"post_id":41504350,"comment_id":70297764,"body_markdown":"I added it. Thanks for pointing it out.","body":"I added it. Thanks for pointing it out."}],"answers":[{"comments":[{"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"score":1,"creation_date":1483701035,"post_id":41504398,"comment_id":70214020,"body_markdown":"No, I can&#39;t because if the language is not English it won&#39;t enter in any of your cases. For example in Cyrillic minute/min is &quot;минута/мин&quot;","body":"No, I can&#39;t because if the language is not English it won&#39;t enter in any of your cases. For example in Cyrillic minute/min is &quot;минута/мин&quot;"},{"owner":{"account_id":6756687,"reputation":8542,"user_id":5204833,"accept_rate":89,"display_name":"Amir_P"},"score":0,"creation_date":1483701094,"post_id":41504398,"comment_id":70214054,"body_markdown":"you can use string resources for your localization @ionicorn","body":"you can use string resources for your localization @ionicorn"}],"tags":[],"owner":{"account_id":6756687,"reputation":8542,"user_id":5204833,"accept_rate":89,"display_name":"Amir_P"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1483700938,"creation_date":1483700938,"answer_id":41504398,"question_id":41504350,"body_markdown":"you can use this function to do that\r\n\r\n      public static String getTimeAgo(long time) {\r\n         if (time &lt; 1000000000000L) {\r\n         // if timestamp given in seconds, convert to millis\r\n         time *= 1000;\r\n      }\r\n    \r\n      long now = System.currentTimeMillis();\r\n      if (time &gt; now || time &lt;= 0) {\r\n         return null;\r\n      }\r\n    \r\n      // TODO: localize\r\n      final long diff = now - time;\r\n      if (diff &lt; MINUTE_MILLIS) {\r\n         return &quot;just now&quot;;\r\n      } else if (diff &lt; 2 * MINUTE_MILLIS) {\r\n         return &quot;a minute ago&quot;;\r\n      } else if (diff &lt; 50 * MINUTE_MILLIS) {\r\n         return diff / MINUTE_MILLIS + &quot; min ago&quot;;\r\n      } else if (diff &lt; 90 * MINUTE_MILLIS) {\r\n         return &quot;an hour ago&quot;;\r\n      } else if (diff &lt; 24 * HOUR_MILLIS) {\r\n         return diff / HOUR_MILLIS + &quot; hours ago&quot;;\r\n      } else if (diff &lt; 48 * HOUR_MILLIS) {\r\n         return &quot;yesterday&quot;;\r\n      } else {\r\n         return diff / DAY_MILLIS + &quot; days ago&quot;;\r\n      }\r\n     }","title":"Displaying time ago like Twitter","body":"<p>you can use this function to do that</p>\n\n<pre><code>  public static String getTimeAgo(long time) {\n     if (time &lt; 1000000000000L) {\n     // if timestamp given in seconds, convert to millis\n     time *= 1000;\n  }\n\n  long now = System.currentTimeMillis();\n  if (time &gt; now || time &lt;= 0) {\n     return null;\n  }\n\n  // TODO: localize\n  final long diff = now - time;\n  if (diff &lt; MINUTE_MILLIS) {\n     return \"just now\";\n  } else if (diff &lt; 2 * MINUTE_MILLIS) {\n     return \"a minute ago\";\n  } else if (diff &lt; 50 * MINUTE_MILLIS) {\n     return diff / MINUTE_MILLIS + \" min ago\";\n  } else if (diff &lt; 90 * MINUTE_MILLIS) {\n     return \"an hour ago\";\n  } else if (diff &lt; 24 * HOUR_MILLIS) {\n     return diff / HOUR_MILLIS + \" hours ago\";\n  } else if (diff &lt; 48 * HOUR_MILLIS) {\n     return \"yesterday\";\n  } else {\n     return diff / DAY_MILLIS + \" days ago\";\n  }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9892573,"reputation":1197,"user_id":7325102,"accept_rate":75,"display_name":"Bradley Wilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1483701835,"creation_date":1483701120,"answer_id":41504447,"question_id":41504350,"body_markdown":"You can use [JodaTime][1] to achieve this: \r\n\r\nAdd the dependency to your app level `Build.Gradle` file like so: \r\n\r\n    compile &#39;net.danlew:android.joda:2.9.4.1&#39;\r\n\r\nand then you can just simply implement this functionality.\r\n\r\n    private String time = &quot;Just Now&quot;;\r\n\r\n    private String how_long_ago(String created_at) {\r\n            DateTime sinceGraduation = new DateTime(created_at, GregorianChronology.getInstance());\r\n            DateTime currentDate = new DateTime(); //current date\r\n    \r\n            Months diffInMonths = Months.monthsBetween(sinceGraduation, currentDate);\r\n            Days diffInDays = Days.daysBetween(sinceGraduation, currentDate);\r\n            Hours diffInHours = Hours.hoursBetween(sinceGraduation, currentDate);\r\n            Minutes diffInMinutes = Minutes.minutesBetween(sinceGraduation, currentDate);\r\n            Seconds seconds = Seconds.secondsBetween(sinceGraduation, currentDate);\r\n    \r\n            Log.d(&quot;since grad&quot;, &quot;before if &quot; + sinceGraduation);\r\n            if (diffInDays.isGreaterThan(Days.days(31))) {\r\n                time = diffInMonths.getMonths() + &quot; months ago&quot;;\r\n                if (diffInMonths.getMonths() == 1) {\r\n                    time = diffInMonths.getMonths() + &quot; month ago&quot;;\r\n                } else {\r\n                    time = diffInMonths.getMonths() + &quot; months ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (diffInHours.isGreaterThan(Hours.hours(24))) {\r\n                if (diffInDays.getDays() == 1) {\r\n                    time = diffInDays.getDays() + &quot; day ago&quot;;\r\n                } else {\r\n                    time = diffInDays.getDays() + &quot; days ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (diffInMinutes.isGreaterThan(Minutes.minutes(60))) {\r\n                if (diffInHours.getHours() == 1) {\r\n                    time = diffInHours.getHours() + &quot; hour ago&quot;;\r\n                } else {\r\n                    time = diffInHours.getHours() + &quot; hours ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (seconds.isGreaterThan(Seconds.seconds(60))) {\r\n                if (diffInMinutes.getMinutes() == 1) {\r\n                    time = diffInMinutes.getMinutes() + &quot; minute ago&quot;;\r\n                } else {\r\n                    time = diffInMinutes.getMinutes() + &quot; minutes ago&quot;;\r\n                }\r\n                return time;\r\n            } else if (seconds.isLessThan(Seconds.seconds(60))) {\r\n                return time;\r\n            }\r\n            Log.d(&quot;since grad&quot;, &quot;&quot; + sinceGraduation);\r\n            return time;\r\n        }\r\n\r\nJust change the `String` output for `time` to achieve the desired &#39;1m&#39;\r\n\r\n**Note**: you can use localization to change the string through your resources.\r\n\r\nsee [Android Localization Tutorial][2] for more details.\r\n\r\n\r\n  [1]: https://github.com/dlew/joda-time-android\r\n  [2]: https://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/","title":"Displaying time ago like Twitter","body":"<p>You can use <a href=\"https://github.com/dlew/joda-time-android\" rel=\"nofollow noreferrer\">JodaTime</a> to achieve this: </p>\n\n<p>Add the dependency to your app level <code>Build.Gradle</code> file like so: </p>\n\n<pre><code>compile 'net.danlew:android.joda:2.9.4.1'\n</code></pre>\n\n<p>and then you can just simply implement this functionality.</p>\n\n<pre><code>private String time = \"Just Now\";\n\nprivate String how_long_ago(String created_at) {\n        DateTime sinceGraduation = new DateTime(created_at, GregorianChronology.getInstance());\n        DateTime currentDate = new DateTime(); //current date\n\n        Months diffInMonths = Months.monthsBetween(sinceGraduation, currentDate);\n        Days diffInDays = Days.daysBetween(sinceGraduation, currentDate);\n        Hours diffInHours = Hours.hoursBetween(sinceGraduation, currentDate);\n        Minutes diffInMinutes = Minutes.minutesBetween(sinceGraduation, currentDate);\n        Seconds seconds = Seconds.secondsBetween(sinceGraduation, currentDate);\n\n        Log.d(\"since grad\", \"before if \" + sinceGraduation);\n        if (diffInDays.isGreaterThan(Days.days(31))) {\n            time = diffInMonths.getMonths() + \" months ago\";\n            if (diffInMonths.getMonths() == 1) {\n                time = diffInMonths.getMonths() + \" month ago\";\n            } else {\n                time = diffInMonths.getMonths() + \" months ago\";\n            }\n            return time;\n        } else if (diffInHours.isGreaterThan(Hours.hours(24))) {\n            if (diffInDays.getDays() == 1) {\n                time = diffInDays.getDays() + \" day ago\";\n            } else {\n                time = diffInDays.getDays() + \" days ago\";\n            }\n            return time;\n        } else if (diffInMinutes.isGreaterThan(Minutes.minutes(60))) {\n            if (diffInHours.getHours() == 1) {\n                time = diffInHours.getHours() + \" hour ago\";\n            } else {\n                time = diffInHours.getHours() + \" hours ago\";\n            }\n            return time;\n        } else if (seconds.isGreaterThan(Seconds.seconds(60))) {\n            if (diffInMinutes.getMinutes() == 1) {\n                time = diffInMinutes.getMinutes() + \" minute ago\";\n            } else {\n                time = diffInMinutes.getMinutes() + \" minutes ago\";\n            }\n            return time;\n        } else if (seconds.isLessThan(Seconds.seconds(60))) {\n            return time;\n        }\n        Log.d(\"since grad\", \"\" + sinceGraduation);\n        return time;\n    }\n</code></pre>\n\n<p>Just change the <code>String</code> output for <code>time</code> to achieve the desired '1m'</p>\n\n<p><strong>Note</strong>: you can use localization to change the string through your resources.</p>\n\n<p>see <a href=\"https://www.icanlocalize.com/site/tutorials/android-application-localization-tutorial/\" rel=\"nofollow noreferrer\">Android Localization Tutorial</a> for more details.</p>\n"},{"comments":[{"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"score":0,"creation_date":1483701581,"post_id":41504519,"comment_id":70214326,"body_markdown":"As I said I am using DateUtils.getRelativeTimeSpanString() it works ok. But I would like to customize the output in every language. See the images","body":"As I said I am using DateUtils.getRelativeTimeSpanString() it works ok. But I would like to customize the output in every language. See the images"},{"owner":{"account_id":7198802,"reputation":609,"user_id":5496625,"accept_rate":25,"display_name":"Jaydip"},"score":0,"creation_date":1483701646,"post_id":41504519,"comment_id":70214365,"body_markdown":"It&#39;s second option first you try this library `PrettyTime`.","body":"It&#39;s second option first you try this library <code>PrettyTime</code>."},{"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"score":0,"creation_date":1483709187,"post_id":41504519,"comment_id":70218948,"body_markdown":"One problem: I don&#39;t see any way to realize abbreviated style, see as example also this [resource](https://github.com/ocpsoft/prettytime/blob/master/core/src/main/java/org/ocpsoft/prettytime/i18n/Resources_en.java). The OP seems to have a strong wish for configurable text width, see also my answer.","body":"One problem: I don&#39;t see any way to realize abbreviated style, see as example also this <a href=\"https://github.com/ocpsoft/prettytime/blob/master/core/src/main/java/org/ocpsoft/prettytime/i18n/Resources_en.java\" rel=\"nofollow noreferrer\">resource</a>. The OP seems to have a strong wish for configurable text width, see also my answer."},{"owner":{"account_id":7198802,"reputation":609,"user_id":5496625,"accept_rate":25,"display_name":"Jaydip"},"score":0,"creation_date":1483763429,"post_id":41504519,"comment_id":70241864,"body_markdown":"@ionicorn Is it helpful to you?","body":"@ionicorn Is it helpful to you?"}],"tags":[],"owner":{"account_id":7198802,"reputation":609,"user_id":5496625,"accept_rate":25,"display_name":"Jaydip"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679635147,"creation_date":1483701400,"answer_id":41504519,"question_id":41504350,"body_markdown":"Take a look at the [PrettyTime][1] library.\r\n\r\nIt&#39;s quite simple to use:\r\n\r\n`import org.ocpsoft.prettytime.PrettyTime`\r\n\r\n    PrettyTime p = new PrettyTime();\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;moments ago&quot;\r\n\r\n\r\nor can also pass in a locale for internationalized messages:\r\n\r\n    PrettyTime p = new PrettyTime(new Locale(&quot;fr&quot;));\r\n    System.out.println(p.format(new Date()));\r\n    // prints &quot;&#224; l&#39;instant&quot;\r\nAs noted in the comments, Android has this functionality built into the [`android.text.format.DateUtils`][2] class.\r\n\r\n\r\n  [1]: http://www.ocpsoft.org/prettytime/\r\n  [2]: http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29","title":"Displaying time ago like Twitter","body":"<p>Take a look at the <a href=\"http://www.ocpsoft.org/prettytime/\" rel=\"nofollow noreferrer\">PrettyTime</a> library.</p>\n<p>It's quite simple to use:</p>\n<p><code>import org.ocpsoft.prettytime.PrettyTime</code></p>\n<pre><code>PrettyTime p = new PrettyTime();\nSystem.out.println(p.format(new Date()));\n// prints &quot;moments ago&quot;\n</code></pre>\n<p>or can also pass in a locale for internationalized messages:</p>\n<pre><code>PrettyTime p = new PrettyTime(new Locale(&quot;fr&quot;));\nSystem.out.println(p.format(new Date()));\n// prints &quot;à l'instant&quot;\n</code></pre>\n<p>As noted in the comments, Android has this functionality built into the <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html#getRelativeTimeSpanString%28long%29\" rel=\"nofollow noreferrer\"><code>android.text.format.DateUtils</code></a> class.</p>\n"},{"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483708607,"creation_date":1483708607,"answer_id":41506596,"question_id":41504350,"body_markdown":"Using my library [Time4A][1] would work like you have specified in your question:\r\n\r\n**Printing relative times (with ago-word)**\r\n\r\n        PlainTimestamp now = PlainTimestamp.nowInSystemTime();\r\n        PlainTimestamp earlier = now.minus(1, ClockUnit.MINUTES);\r\n        Moment past = earlier.inStdTimezone();\r\n        Locale russian = new Locale(&quot;ru&quot;);\r\n\r\n        PrettyTime.of(Locale.ENGLISH).printRelativeInStdTimezone(past);\r\n        // output: 1 minute ago\r\n\r\n        PrettyTime.of(Locale.ENGLISH)\r\n           .withShortStyle().printRelativeInStdTimezone(past);\r\n        // output: 1 min. ago\r\n\r\n        PrettyTime.of(russian).printRelativeInStdTimezone(past);\r\n        // output: 1 минуту назад\r\n\r\n        PrettyTime.of(russian).withShortStyle().printRelativeInStdTimezone(past);\r\n        // output: 1 мин. назад\r\n\r\n**Printing flat times without ago-word**\r\n\r\n        IsoUnit days = CalendarUnit.DAYS;\r\n        IsoUnit hours = ClockUnit.HOURS;\r\n        IsoUnit minutes = ClockUnit.MINUTES;\r\n        net.time4j.Duration&lt;IsoUnit&gt; d =\r\n            Duration.in(Timezone.ofSystem(), days, hours, minutes)\r\n                .between(earlier, now);\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.WIDE);\r\n        // output: 1 minute\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.ABBREVIATED);\r\n        // output: 1 min\r\n\r\n        PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.NARROW);\r\n        // output: 1m\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.WIDE);\r\n        // output: 1 минута\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.ABBREVIATED);\r\n        // output: 1 мин\r\n\r\n        PrettyTime.of(russian).print(d, TextWidth.NARROW);\r\n        // output: 1 мин\r\n\r\nThe newest library version uses the data of CLDR-repository v30.0.2 (from Unicode-consortium, actually in 80 languages). If necessary you might wish to change the text resources by defining your own assets to be distributed together with Time4A (then overriding the default assets).\r\n\r\n  [1]: https://github.com/MenoData/Time4A","title":"Displaying time ago like Twitter","body":"<p>Using my library <a href=\"https://github.com/MenoData/Time4A\" rel=\"nofollow noreferrer\">Time4A</a> would work like you have specified in your question:</p>\n\n<p><strong>Printing relative times (with ago-word)</strong></p>\n\n<pre><code>    PlainTimestamp now = PlainTimestamp.nowInSystemTime();\n    PlainTimestamp earlier = now.minus(1, ClockUnit.MINUTES);\n    Moment past = earlier.inStdTimezone();\n    Locale russian = new Locale(\"ru\");\n\n    PrettyTime.of(Locale.ENGLISH).printRelativeInStdTimezone(past);\n    // output: 1 minute ago\n\n    PrettyTime.of(Locale.ENGLISH)\n       .withShortStyle().printRelativeInStdTimezone(past);\n    // output: 1 min. ago\n\n    PrettyTime.of(russian).printRelativeInStdTimezone(past);\n    // output: 1 минуту назад\n\n    PrettyTime.of(russian).withShortStyle().printRelativeInStdTimezone(past);\n    // output: 1 мин. назад\n</code></pre>\n\n<p><strong>Printing flat times without ago-word</strong></p>\n\n<pre><code>    IsoUnit days = CalendarUnit.DAYS;\n    IsoUnit hours = ClockUnit.HOURS;\n    IsoUnit minutes = ClockUnit.MINUTES;\n    net.time4j.Duration&lt;IsoUnit&gt; d =\n        Duration.in(Timezone.ofSystem(), days, hours, minutes)\n            .between(earlier, now);\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.WIDE);\n    // output: 1 minute\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.ABBREVIATED);\n    // output: 1 min\n\n    PrettyTime.of(Locale.ENGLISH).print(d, TextWidth.NARROW);\n    // output: 1m\n\n    PrettyTime.of(russian).print(d, TextWidth.WIDE);\n    // output: 1 минута\n\n    PrettyTime.of(russian).print(d, TextWidth.ABBREVIATED);\n    // output: 1 мин\n\n    PrettyTime.of(russian).print(d, TextWidth.NARROW);\n    // output: 1 мин\n</code></pre>\n\n<p>The newest library version uses the data of CLDR-repository v30.0.2 (from Unicode-consortium, actually in 80 languages). If necessary you might wish to change the text resources by defining your own assets to be distributed together with Time4A (then overriding the default assets).</p>\n"}],"owner":{"account_id":5733813,"reputation":1895,"user_id":4528594,"accept_rate":32,"display_name":"charbinary"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1028,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":41504447,"answer_count":4,"score":5,"last_activity_date":1679635147,"creation_date":1483700809,"question_id":41504350,"body_markdown":"I am using `DateUtils.getRelativeTimeSpanString()` for displaying when a post is made.\r\n\r\nThe string it returns is something like that: **1 minute ago**, but I would like to be **1 m** or **1 h** and so on (shortened and without ago). \r\n\r\nI can replace “hour” with “h” or “minute” with “m” but if the language is different from English it won’t work. It&#39;s what `Twitter` is using right now. **English/Cyrillic** way of displaying by Twitter.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X15WA.png\r\n  [2]: https://i.stack.imgur.com/C65FJ.png\r\n\r\n**UPDATE**: I will accept the answer from @Bradley Wilson although I will add here cleaner solution (using again the JodaTime package). Also the rest of the answers also can be modified for the same result so they deserve up vote. Thank you, all:\r\n\r\n        DateTime postMaded = new DateTime(your previous date);\r\n        DateTime nowUpdate = new DateTime();\r\n\r\n        Period period = new Period(postMaded, nowUpdate);\r\n\r\n        PeriodFormatter formatter;\r\n\r\n        Locale current = ConverterMethods.getCurrentLocale();\r\n\r\n        if (current.getLanguage().contentEquals(any Cyrillic language )) {\r\n\r\n            if (period.getYears() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(&quot; г.&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMonths() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(&quot; м&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getWeeks() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(&quot; седм.&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getDays() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(&quot; д&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getHours() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(&quot; ч&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMinutes() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(&quot; мин&quot;).printZeroNever().toFormatter();\r\n            } else {\r\n                formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(&quot; с&quot;).printZeroNever().toFormatter();\r\n            }\r\n\r\n        } else {\r\n\r\n            if (period.getYears() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(&quot; y&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMonths() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(&quot; mon&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getWeeks() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(&quot; w&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getDays() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(&quot; d&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getHours() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(&quot; h&quot;).printZeroNever().toFormatter();\r\n            } else if (period.getMinutes() != 0) {\r\n                formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(&quot; m&quot;).printZeroNever().toFormatter();\r\n            } else {\r\n                formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(&quot; s&quot;).printZeroNever().toFormatter();\r\n            }\r\n        }","title":"Displaying time ago like Twitter","body":"<p>I am using <code>DateUtils.getRelativeTimeSpanString()</code> for displaying when a post is made.</p>\n\n<p>The string it returns is something like that: <strong>1 minute ago</strong>, but I would like to be <strong>1 m</strong> or <strong>1 h</strong> and so on (shortened and without ago). </p>\n\n<p>I can replace “hour” with “h” or “minute” with “m” but if the language is different from English it won’t work. It's what <code>Twitter</code> is using right now. <strong>English/Cyrillic</strong> way of displaying by Twitter.</p>\n\n<p><a href=\"https://i.stack.imgur.com/X15WA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X15WA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/C65FJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C65FJ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>UPDATE</strong>: I will accept the answer from @Bradley Wilson although I will add here cleaner solution (using again the JodaTime package). Also the rest of the answers also can be modified for the same result so they deserve up vote. Thank you, all:</p>\n\n<pre><code>    DateTime postMaded = new DateTime(your previous date);\n    DateTime nowUpdate = new DateTime();\n\n    Period period = new Period(postMaded, nowUpdate);\n\n    PeriodFormatter formatter;\n\n    Locale current = ConverterMethods.getCurrentLocale();\n\n    if (current.getLanguage().contentEquals(any Cyrillic language )) {\n\n        if (period.getYears() != 0) {\n            formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(\" г.\").printZeroNever().toFormatter();\n        } else if (period.getMonths() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(\" м\").printZeroNever().toFormatter();\n        } else if (period.getWeeks() != 0) {\n            formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(\" седм.\").printZeroNever().toFormatter();\n        } else if (period.getDays() != 0) {\n            formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(\" д\").printZeroNever().toFormatter();\n        } else if (period.getHours() != 0) {\n            formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(\" ч\").printZeroNever().toFormatter();\n        } else if (period.getMinutes() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(\" мин\").printZeroNever().toFormatter();\n        } else {\n            formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(\" с\").printZeroNever().toFormatter();\n        }\n\n    } else {\n\n        if (period.getYears() != 0) {\n            formatter = new PeriodFormatterBuilder().appendYears().appendSuffix(\" y\").printZeroNever().toFormatter();\n        } else if (period.getMonths() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMonths().appendSuffix(\" mon\").printZeroNever().toFormatter();\n        } else if (period.getWeeks() != 0) {\n            formatter = new PeriodFormatterBuilder().appendWeeks().appendSuffix(\" w\").printZeroNever().toFormatter();\n        } else if (period.getDays() != 0) {\n            formatter = new PeriodFormatterBuilder().appendDays().appendSuffix(\" d\").printZeroNever().toFormatter();\n        } else if (period.getHours() != 0) {\n            formatter = new PeriodFormatterBuilder().appendHours().appendSuffix(\" h\").printZeroNever().toFormatter();\n        } else if (period.getMinutes() != 0) {\n            formatter = new PeriodFormatterBuilder().appendMinutes().appendSuffix(\" m\").printZeroNever().toFormatter();\n        } else {\n            formatter = new PeriodFormatterBuilder().appendSeconds().appendSuffix(\" s\").printZeroNever().toFormatter();\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-data-redis","redis-cache"],"owner":{"account_id":25860904,"reputation":11,"user_id":19593416,"display_name":"coredev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679634836,"creation_date":1679387888,"question_id":75798897,"body_markdown":"I have below POJO &quot;MyClass&quot; which is being saved in Redis.\r\n\r\n    class MyClass {\r\n     @Id\r\n     private String someId;\r\n     \r\n     private GenericAnimalID genericAnimalID;\r\n     \r\n     @Transient\r\n     private GenericAnimal genericAnimal\r\n    \r\n    }\r\n\r\n    class GenericAnimalId{\r\n                           String variant;\r\n                           String size;\r\n            \r\n                \r\n                    }\r\n    class SpecificAnimalId extends GenericAnimalId{\r\n                           String someProperty;\r\n                \r\n                    }\r\n    class GenericAnimal{\r\n                       @Id\r\n                       GenericAnimalId genericAnimalId;\r\n            \r\n                       String name;\r\n            \r\n                }\r\n\r\n    \r\n\r\nSo,basically I am storing MyClass in redis which has &quot;genericAnimalID&quot; property.\r\n\r\nNow,when I store some Id having type of SpecificAnimalId,an extra property gets inserted in Redis as \r\n\r\n    {\r\n    genericAnimalId._class : package.SpecificAnimalId,\r\n    genericAnimalId : tiger\r\n    }\r\n\r\nWhereas,when I store Id of type GenericAnimalId,it works fine and only inserts the Id value what I expect.\r\n\r\n    {\r\n    &quot;genericAnimalId&quot;:animal\r\n    }\r\n\r\nIn first case,it causes converter issues while reading this value.While in second case,no extra property gets inserted and code works fine after this.","title":"Spring boot app unnecessarily adds &quot;ClassName._class&quot; property in redis","body":"<p>I have below POJO &quot;MyClass&quot; which is being saved in Redis.</p>\n<pre><code>class MyClass {\n @Id\n private String someId;\n \n private GenericAnimalID genericAnimalID;\n \n @Transient\n private GenericAnimal genericAnimal\n\n}\n\nclass GenericAnimalId{\n                       String variant;\n                       String size;\n        \n            \n                }\nclass SpecificAnimalId extends GenericAnimalId{\n                       String someProperty;\n            \n                }\nclass GenericAnimal{\n                   @Id\n                   GenericAnimalId genericAnimalId;\n        \n                   String name;\n        \n            }\n</code></pre>\n<p>So,basically I am storing MyClass in redis which has &quot;genericAnimalID&quot; property.</p>\n<p>Now,when I store some Id having type of SpecificAnimalId,an extra property gets inserted in Redis as</p>\n<pre><code>{\ngenericAnimalId._class : package.SpecificAnimalId,\ngenericAnimalId : tiger\n}\n</code></pre>\n<p>Whereas,when I store Id of type GenericAnimalId,it works fine and only inserts the Id value what I expect.</p>\n<pre><code>{\n&quot;genericAnimalId&quot;:animal\n}\n</code></pre>\n<p>In first case,it causes converter issues while reading this value.While in second case,no extra property gets inserted and code works fine after this.</p>\n"},{"tags":["java","multithreading","threadpool","micronaut","context-switching"],"owner":{"account_id":1223005,"reputation":1348,"user_id":1189254,"accept_rate":64,"display_name":"Manish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679633383,"creation_date":1679590456,"question_id":75825887,"body_markdown":"I am working on a Micronaut Application. In this application, there is a main scheduled job which works like a workflow engine and multiple steps process the data which is around 600K records.\r\n\r\nAlong with this scheduled job, we have an event listener which keeps getting events and on the receiver side, we save the event payload in a table.\r\n\r\nWe are also maintaining a health check endpoint in the application which is getting called every 1 min and returning a response that is prepared by a background job (runs every 2 min).\r\n\r\n    HealthCheckStatus status;\r\n\r\n    @Get\r\n    @ExecuteOn(TaskExecutors.IO)\r\n    public HealthCheckStatus index() {\r\n        log.debug(&quot;HealthCheck requested&quot;);\r\n        return status;\r\n    }\r\n\r\n    @Scheduled(fixedDelay = &quot;${scheduler.healthcheck.fixedDelay}&quot;, initialDelay = &quot;${scheduler.healthcheck.initialDelay}&quot;)\r\n    public void refreshStatus() {\r\n       log.debug(&quot;HealthCheck refresh requested...&quot;);\r\n       status = // Here we are checking internal dependencies and populating this status\r\n    }\r\n\r\napplication.yml:\r\n\r\n    micronaut:\r\n      application:\r\n        name: cbo-adaptor\r\n      netty:\r\n        event-loops:\r\n          httpclientthreadpool:\r\n            num-threads: 10\r\n            prefer-native-transport: true\r\n      executors:\r\n        io:\r\n          type: fixed\r\n          nThreads: 50\r\n\r\nRecently we are seeing some delay in a couple of steps of the workflow engine. If I check the logs I can see that there are many logs related to the event received and health check b/w two logs files which is expected to be executed one after another immediately.\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:31:29.948Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1,&quot;message&quot;:&quot;start processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:31:38.198Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-23&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:32:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-13&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:32:59.025Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck refresh requested...&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-4&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:33:13.123Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-40&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:33:38.701Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-6&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:34:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-1&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:35:05.487Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.MyEventService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;event received: MyDto(id=12313, type=A, timestamp=2023-03-18T03:35:05.487514, payload=Dto(field1=value1, field2=value2)&quot;,&quot;thread_name&quot;:&quot;pool-4-thread-1&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-03-18T03:37:00.167Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1&quot;,&quot;message&quot;:&quot;completed processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\r\n\r\nHere the method for ProcessingStep:\r\n\r\n    public void processData(UUID jobId) {\r\n        log.debug(&quot;started Processing&quot;);\r\n        repository.getItem(jobId, JobType.TYPE_1) //not records of TYPE_1 in db for this case\r\n                .map(Item::getId)\r\n                .map(this::processType1Data) //calling another api on itemId\r\n                .blockingSubscribe();\r\n        log.debug(&quot;completed processing&quot;);\r\n\r\n    }\r\n\r\n\r\nIn the above case for the particular job id, we don&#39;t have TYPE_1 item in the database so ideally, both logs should print immediately one after another within milliseconds/seconds but as per the logs `completed processing` got executed after a delay of 5-6 minute and in b/w logs are related to the execution of health check and event receive.\r\n\r\nI believe it&#39;s due to context switching b/w thread but still not having much depth knowledge about it.\r\n\r\nI want my job to completes quickly without being impacted by events.","title":"How to stop another thread switching the context","body":"<p>I am working on a Micronaut Application. In this application, there is a main scheduled job which works like a workflow engine and multiple steps process the data which is around 600K records.</p>\n<p>Along with this scheduled job, we have an event listener which keeps getting events and on the receiver side, we save the event payload in a table.</p>\n<p>We are also maintaining a health check endpoint in the application which is getting called every 1 min and returning a response that is prepared by a background job (runs every 2 min).</p>\n<pre><code>HealthCheckStatus status;\n\n@Get\n@ExecuteOn(TaskExecutors.IO)\npublic HealthCheckStatus index() {\n    log.debug(&quot;HealthCheck requested&quot;);\n    return status;\n}\n\n@Scheduled(fixedDelay = &quot;${scheduler.healthcheck.fixedDelay}&quot;, initialDelay = &quot;${scheduler.healthcheck.initialDelay}&quot;)\npublic void refreshStatus() {\n   log.debug(&quot;HealthCheck refresh requested...&quot;);\n   status = // Here we are checking internal dependencies and populating this status\n}\n</code></pre>\n<p>application.yml:</p>\n<pre><code>micronaut:\n  application:\n    name: cbo-adaptor\n  netty:\n    event-loops:\n      httpclientthreadpool:\n        num-threads: 10\n        prefer-native-transport: true\n  executors:\n    io:\n      type: fixed\n      nThreads: 50\n</code></pre>\n<p>Recently we are seeing some delay in a couple of steps of the workflow engine. If I check the logs I can see that there are many logs related to the event received and health check b/w two logs files which is expected to be executed one after another immediately.</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-03-18T03:31:29.948Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1,&quot;message&quot;:&quot;start processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:31:38.198Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-23&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:32:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-13&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:32:59.025Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck refresh requested...&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-4&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:33:13.123Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-40&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:33:38.701Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-6&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:34:13.122Z&quot;,&quot;logger_name&quot;:&quot;com.org.endpoints.healthcheck.HealthCheckController&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;HealthCheck requested&quot;,&quot;thread_name&quot;:&quot;io-executor-thread-1&quot;,&quot;v&quot;:&quot;0.0.35.4-20230310.2&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:35:05.487Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.MyEventService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;message&quot;:&quot;event received: MyDto(id=12313, type=A, timestamp=2023-03-18T03:35:05.487514, payload=Dto(field1=value1, field2=value2)&quot;,&quot;thread_name&quot;:&quot;pool-4-thread-1&quot;}\n{&quot;@timestamp&quot;:&quot;2023-03-18T03:37:00.167Z&quot;,&quot;logger_name&quot;:&quot;com.org.implementation.JobService&quot;,&quot;level&quot;:&quot;DEBUG&quot;,&quot;level_value&quot;:10000,&quot;job&quot;:&quot;1234&quot;,&quot;job_status&quot;:&quot;WORKING&quot;,&quot;job_step&quot;:&quot;ProcessingStep&quot;,&quot;origin&quot;:&quot;JOB_TYPE1&quot;,&quot;message&quot;:&quot;completed processing&quot;,&quot;thread_name&quot;:&quot;scheduled-executor-thread-2&quot;}\n</code></pre>\n<p>Here the method for ProcessingStep:</p>\n<pre><code>public void processData(UUID jobId) {\n    log.debug(&quot;started Processing&quot;);\n    repository.getItem(jobId, JobType.TYPE_1) //not records of TYPE_1 in db for this case\n            .map(Item::getId)\n            .map(this::processType1Data) //calling another api on itemId\n            .blockingSubscribe();\n    log.debug(&quot;completed processing&quot;);\n\n}\n</code></pre>\n<p>In the above case for the particular job id, we don't have TYPE_1 item in the database so ideally, both logs should print immediately one after another within milliseconds/seconds but as per the logs <code>completed processing</code> got executed after a delay of 5-6 minute and in b/w logs are related to the execution of health check and event receive.</p>\n<p>I believe it's due to context switching b/w thread but still not having much depth knowledge about it.</p>\n<p>I want my job to completes quickly without being impacted by events.</p>\n"},{"tags":["java","android","kotlin","mobile"],"comments":[{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679627483,"post_id":75829581,"comment_id":133759187,"body_markdown":"If the others `activity` is just normal activity you only need to make 4 icon in MainActivity then start activity when user click on 1 icon","body":"If the others <code>activity</code> is just normal activity you only need to make 4 icon in MainActivity then start activity when user click on 1 icon"},{"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"score":0,"creation_date":1679631408,"post_id":75829581,"comment_id":133759589,"body_markdown":"@KiluSs i means to have other activity place in device Home Screen. Each activity have owe icon and label","body":"@KiluSs i means to have other activity place in device Home Screen. Each activity have owe icon and label"},{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679642408,"post_id":75829581,"comment_id":133760977,"body_markdown":"have you try app widget?","body":"have you try app widget?"},{"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"score":0,"creation_date":1679881439,"post_id":75829581,"comment_id":133794967,"body_markdown":"@KiluSs, thanks for your advice. However widget need to drag it out by user itself. I was hope that i able to appear once the app is installed","body":"@KiluSs, thanks for your advice. However widget need to drag it out by user itself. I was hope that i able to appear once the app is installed"},{"owner":{"account_id":16700688,"reputation":520,"user_id":12070549,"display_name":"KiluSs"},"score":0,"creation_date":1679882184,"post_id":75829581,"comment_id":133795043,"body_markdown":"I&#39;m afraid that can&#39;t be done. But you can create several apps and go to others by `intent`. Or if you only can make one just add a guide for user on startup screen to set the widget themselves.","body":"I&#39;m afraid that can&#39;t be done. But you can create several apps and go to others by <code>intent</code>. Or if you only can make one just add a guide for user on startup screen to set the widget themselves."}],"owner":{"account_id":28063393,"reputation":1,"user_id":21437149,"display_name":"thinkoutofidea"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679633144,"creation_date":1679625347,"question_id":75829581,"body_markdown":"MainActivity as my main app as Start the app, but the SecondActivity, ThirdActivity, FourthActivity will appear only in Home Screen, but not in App List Screen. Is that able to do it? Just like a one app with four Icon generated.\r\n\r\n```\r\n&lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/Theme.MultipleApps&quot;\r\n    tools:targetApi=&quot;31&quot;&gt;\r\n    &lt;activity\r\n        android:name=&quot;.MainActivity&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.SecondActivity&quot;\r\n        android:label=&quot;@string/source_01&quot;\r\n        android:icon=&quot;@android:drawable/ic_delete&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.ThirdActivity&quot;\r\n        android:label=&quot;@string/source_02&quot;\r\n        android:icon=&quot;@android:drawable/ic_btn_speak_now&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n        android:name=&quot;.FourthActivity&quot;\r\n        android:label=&quot;@string/source_03&quot;\r\n        android:icon=&quot;@android:drawable/ic_lock_lock&quot;\r\n        android:exported=&quot;true&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n&lt;/application&gt;\r\n```\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qlT5P.jpg","title":"How to create multiple app based on the Activity Class","body":"<p>MainActivity as my main app as Start the app, but the SecondActivity, ThirdActivity, FourthActivity will appear only in Home Screen, but not in App List Screen. Is that able to do it? Just like a one app with four Icon generated.</p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.MultipleApps&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.SecondActivity&quot;\n        android:label=&quot;@string/source_01&quot;\n        android:icon=&quot;@android:drawable/ic_delete&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.ThirdActivity&quot;\n        android:label=&quot;@string/source_02&quot;\n        android:icon=&quot;@android:drawable/ic_btn_speak_now&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity\n        android:name=&quot;.FourthActivity&quot;\n        android:label=&quot;@string/source_03&quot;\n        android:icon=&quot;@android:drawable/ic_lock_lock&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qlT5P.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","react-native","path","android-emulator"],"comments":[{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634658,"post_id":75829972,"comment_id":133759943,"body_markdown":"try cleaning gradle","body":"try cleaning gradle"},{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634923,"post_id":75829972,"comment_id":133759967,"body_markdown":"windows:-\ncd android\ngradlew clean\nnpm start --reset-cache\nnpm run android","body":"windows:- cd android gradlew clean npm start --reset-cache npm run android"},{"owner":{"account_id":26387193,"reputation":106,"user_id":20039543,"display_name":"Kishan"},"score":0,"creation_date":1679634940,"post_id":75829972,"comment_id":133759968,"body_markdown":"Linux:-\ncd android &amp;&amp; ./gradlew clean &amp;&amp; cd ..","body":"Linux:- cd android &amp;&amp; ./gradlew clean &amp;&amp; cd .."},{"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"score":0,"creation_date":1679638735,"post_id":75829972,"comment_id":133760427,"body_markdown":"i tried gradlew clean but it gives me build failed error","body":"i tried gradlew clean but it gives me build failed error"},{"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"score":0,"creation_date":1679824204,"post_id":75829972,"comment_id":133786707,"body_markdown":"I figured out. It&#39;s because onedrive. Made my desktop location more than one. When i change the build location on the documents. It is done!","body":"I figured out. It&#39;s because onedrive. Made my desktop location more than one. When i change the build location on the documents. It is done!"}],"owner":{"account_id":24201776,"reputation":3,"user_id":18159507,"display_name":"enenis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679632498,"creation_date":1679631208,"question_id":75829972,"body_markdown":"After resetting my computer and installing from react-native document, I started getting gradle error. I set the paths ANDROID_HOME part I downloaded the packages from android studio but I still get this problem. [Error Image](https://i.stack.imgur.com/WQl7E.png)\r\n\r\n* Where:\r\nScript &#39;C:\\Masa�st�\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\native_modules.gradle&#39; line: 413\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module &#39;C:\\Masa&#195;&#188;st&#195;&#188;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js&#39;    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: &#39;MODULE_NOT_FOUND&#39;,  requireStack: []}Node.js v18.15.0\r\n\r\nBU�LD FAILED in 2s\r\n\r\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\r\n:ReactNative:Unexpected empty result of running &#39;[node, C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js, config]&#39; command.\r\n:ReactNative:Running &#39;[node, C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js, config]&#39; command failed.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nScript &#39;C:\\Masa�st�\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\native_modules.gradle&#39; line: 413\r\n\r\n* What went wrong:\r\nA problem occurred evaluating script.\r\n&gt; Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module &#39;C:\\Masa&#195;&#188;st&#195;&#188;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\bin.js&#39;    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: &#39;MODULE_NOT_FOUND&#39;,  requireStack: []}Node.js v18.15.0    \r\n\r\nBU�LD FAILED in 2s\r\n\r\n    at makeError (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\r\n    at C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (C:\\Masa&#252;st&#252;\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n\r\n\r\nI tried to read all the documentation many times and make it from scratch. but it didn&#39;t work.","title":"Error: Command failed: gradlew.bat app:installDebug","body":"<p>After resetting my computer and installing from react-native document, I started getting gradle error. I set the paths ANDROID_HOME part I downloaded the packages from android studio but I still get this problem. <a href=\"https://i.stack.imgur.com/WQl7E.png\" rel=\"nofollow noreferrer\">Error Image</a></p>\n<ul>\n<li><p>Where:\nScript 'C:\\Masa�st�\\gradle\\slow\\node_modules@react-native-community\\cli-platform-android\\native_modules.gradle' line: 413</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating script.</p>\n</li>\n</ul>\n<blockquote>\n<p>Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module 'C:\\MasaÃ¼stÃ¼\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js'    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: 'MODULE_NOT_FOUND',  requireStack: []}Node.js v18.15.0</p>\n</blockquote>\n<p>BU�LD FAILED in 2s</p>\n<p>Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n:ReactNative:Unexpected empty result of running '[node, C:\\Masaüstü\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js, config]' command.\n:ReactNative:Running '[node, C:\\Masaüstü\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js, config]' command failed.</p>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>Where:\nScript 'C:\\Masa�st�\\gradle\\slow\\node_modules@react-native-community\\cli-platform-android\\native_modules.gradle' line: 413</p>\n</li>\n<li><p>What went wrong:\nA problem occurred evaluating script.</p>\n</li>\n</ul>\n<blockquote>\n<p>Debugger attached.Waiting for the debugger to disconnect...node:internal/modules/cjs/loader:1078  throw err;  ^Error: Cannot find module 'C:\\MasaÃ¼stÃ¼\\gradle\\slow\\node_modules@react-native-community\\cli\\build\\bin.js'    at Module._resolveFilename (node:internal/modules/cjs/loader:1075:15)    at Module._load (node:internal/modules/cjs/loader:920:27)    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:81:12)    at node:internal/main/run_main_module:23:47 {  code: 'MODULE_NOT_FOUND',  requireStack: []}Node.js v18.15.0</p>\n</blockquote>\n<p>BU�LD FAILED in 2s</p>\n<pre><code>at makeError (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:174:9)\nat C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\node_modules\\execa\\index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli-platform-android\\build\\commands\\runAndroid\\runOnAllDevices.js:82:7)\nat async Command.handleAction (C:\\Masaüstü\\gradle\\slow\\node_modules\\@react-native-community\\cli\\build\\index.js:108:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.</p>\n<p>I tried to read all the documentation many times and make it from scratch. but it didn't work.</p>\n"},{"tags":["java","forms","replace","pdfbox"],"owner":{"account_id":22281629,"reputation":11,"user_id":16509933,"display_name":"gargelfuh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679632323,"creation_date":1679498954,"question_id":75814243,"body_markdown":"Using the [PdfContetnStreamEditor](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/content/PdfContentStreamEditor.java#L36)\r\nit&#39;s quite easy to detect and replace text.\r\n\r\nSo this should also be possible for the Form streams with a modified showForm like:\r\n\r\n```\r\n    @Override\r\n    public void showForm(PDFormXObject form) throws IOException {\r\n        formDetected = true;\r\n        withinForm = true;\r\n        LOGGER.warn(&quot;Form detected - will flatten page&quot;);\r\n        // inOperator = false;\r\n        PDStream formStream = new PDStream(document);\r\n        replacementFormStream = formStream.createOutputStream(COSName.FLATE_DECODE);\r\n        replacementForm = new ContentStreamWriter(replacementStream);\r\n        super.showForm(form); // processing of content\r\n        PDFormXObject newform=new PDFormXObject(formStream);\r\n        newform.setOptionalContent(form.getOptionalContent());\r\n        newform.setBBox(form.getBBox());\r\n        newform.setMatrix(form.getMatrix().createAffineTransform());\r\n        newform.setResources(form.getResources());\r\n        withinForm = false;\r\n    }\r\n```\r\n\r\nnow I have a new Form and I want to replace the old one. Is there a good way to do this?\r\n\r\n\r\nAs described above the PdfContetnStreamEditor is the base and replacements in the main content are no problem.","title":"pdfbox: How to replace text in a PDFormXobject","body":"<p>Using the <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/main/java/mkl/testarea/pdfbox2/content/PdfContentStreamEditor.java#L36\" rel=\"nofollow noreferrer\">PdfContetnStreamEditor</a>\nit's quite easy to detect and replace text.</p>\n<p>So this should also be possible for the Form streams with a modified showForm like:</p>\n<pre><code>    @Override\n    public void showForm(PDFormXObject form) throws IOException {\n        formDetected = true;\n        withinForm = true;\n        LOGGER.warn(&quot;Form detected - will flatten page&quot;);\n        // inOperator = false;\n        PDStream formStream = new PDStream(document);\n        replacementFormStream = formStream.createOutputStream(COSName.FLATE_DECODE);\n        replacementForm = new ContentStreamWriter(replacementStream);\n        super.showForm(form); // processing of content\n        PDFormXObject newform=new PDFormXObject(formStream);\n        newform.setOptionalContent(form.getOptionalContent());\n        newform.setBBox(form.getBBox());\n        newform.setMatrix(form.getMatrix().createAffineTransform());\n        newform.setResources(form.getResources());\n        withinForm = false;\n    }\n</code></pre>\n<p>now I have a new Form and I want to replace the old one. Is there a good way to do this?</p>\n<p>As described above the PdfContetnStreamEditor is the base and replacements in the main content are no problem.</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket"],"owner":{"account_id":20742231,"reputation":1,"user_id":15231568,"display_name":"Evan Mahendra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679631754,"creation_date":1679631054,"question_id":75829966,"body_markdown":"I&#39;m using `WebSocketMessageBrokerConfigurer` for my websocket config, but i have problem when i want to use my custom WebSocketHandler inside my interceptor.\r\n\r\nI got error :\r\n\r\n```\r\nDescription:\r\n\r\nParameter 0 of constructor in spring.tms.socket.config.socket.WebsocketConfig required a bean of type &#39;org.springframework.web.socket.WebSocketSession&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.web.socket.WebSocketSession&#39; in your configuration.\r\n```\r\n\r\nHere is my config :\r\n\r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    private final WebSocketSession webSocketSession;\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker( &quot;/queue/&quot;, &quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/connect-socket&quot;)\r\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\r\n                .setAllowedOrigins(&quot;*&quot;);\r\n        registry.addEndpoint(&quot;/connect-socket&quot;)\r\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\r\n                .setAllowedOrigins(&quot;*&quot;)\r\n                .withSockJS();\r\n    }\r\n    .....\r\n}\r\n```\r\n\r\nAnd here is my `HandshakeInterceptor` :\r\n\r\n\r\n```\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class HandshakeInterceptor extends HttpSessionHandshakeInterceptor {\r\n\r\n    private final WebSocketSession webSocketSession;\r\n\r\n    @Override\r\n    public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\r\n                                   Map&lt;String, Object&gt; attributes) throws Exception {\r\n        return super.beforeHandshake(request, response, wsHandler, attributes);\r\n    }\r\n\r\n    @Override\r\n    public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\r\n                               Exception ex) {\r\n        try {\r\n            wsHandler = new WebsocketHandler();\r\n            wsHandler.afterConnectionEstablished(webSocketSession);\r\n        } catch (Exception e) {\r\n            log.error(&quot;failed to connect with error msg : {}&quot;, e.getMessage());\r\n        }\r\n        super.afterHandshake(request, response, wsHandler, ex);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is my `WebsocketHandler` :\r\n\r\n\r\n```\r\n@Component\r\n@Slf4j\r\npublic class WebsocketHandler implements WebSocketHandler {\r\n\r\n    @Override\r\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\r\n        var param = session.getUri().getQuery();\r\n        log.info(&quot;============= Connecting =============&quot;);\r\n        var auth = param.substring(0, param.indexOf(&quot;&amp;&quot;)).replace(&quot;auth=&quot;, &quot;&quot;);\r\n        log.debug(&quot;auth: {}&quot;, auth);\r\n        var serialNumber = param.substring(param.lastIndexOf(&quot;=&quot;)).replace(&quot;=&quot;, &quot;&quot;);\r\n        log.info(&quot;serial number: {}&quot;, serialNumber);\r\n        this.validateConnection(auth, serialNumber, session);\r\n    }\r\n    ....\r\n}\r\n```\r\n\r\nPlease help me to find out how to call `WebSocketSession` correctly.","title":"How to use WebSocketSession for WebSocketHandler?","body":"<p>I'm using <code>WebSocketMessageBrokerConfigurer</code> for my websocket config, but i have problem when i want to use my custom WebSocketHandler inside my interceptor.</p>\n<p>I got error :</p>\n<pre><code>Description:\n\nParameter 0 of constructor in spring.tms.socket.config.socket.WebsocketConfig required a bean of type 'org.springframework.web.socket.WebSocketSession' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.web.socket.WebSocketSession' in your configuration.\n</code></pre>\n<p>Here is my config :</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@RequiredArgsConstructor\n@Slf4j\npublic class WebsocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    private final WebSocketSession webSocketSession;\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker( &quot;/queue/&quot;, &quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/connect-socket&quot;)\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\n                .setAllowedOrigins(&quot;*&quot;);\n        registry.addEndpoint(&quot;/connect-socket&quot;)\n                .addInterceptors(new HandshakeInterceptor(webSocketSession))\n                .setAllowedOrigins(&quot;*&quot;)\n                .withSockJS();\n    }\n    .....\n}\n</code></pre>\n<p>And here is my <code>HandshakeInterceptor</code> :</p>\n<pre><code>@RequiredArgsConstructor\n@Slf4j\npublic class HandshakeInterceptor extends HttpSessionHandshakeInterceptor {\n\n    private final WebSocketSession webSocketSession;\n\n    @Override\n    public boolean beforeHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\n                                   Map&lt;String, Object&gt; attributes) throws Exception {\n        return super.beforeHandshake(request, response, wsHandler, attributes);\n    }\n\n    @Override\n    public void afterHandshake(ServerHttpRequest request, ServerHttpResponse response, WebSocketHandler wsHandler,\n                               Exception ex) {\n        try {\n            wsHandler = new WebsocketHandler();\n            wsHandler.afterConnectionEstablished(webSocketSession);\n        } catch (Exception e) {\n            log.error(&quot;failed to connect with error msg : {}&quot;, e.getMessage());\n        }\n        super.afterHandshake(request, response, wsHandler, ex);\n    }\n}\n</code></pre>\n<p>And here is my <code>WebsocketHandler</code> :</p>\n<pre><code>@Component\n@Slf4j\npublic class WebsocketHandler implements WebSocketHandler {\n\n    @Override\n    public void afterConnectionEstablished(WebSocketSession session) throws Exception {\n        var param = session.getUri().getQuery();\n        log.info(&quot;============= Connecting =============&quot;);\n        var auth = param.substring(0, param.indexOf(&quot;&amp;&quot;)).replace(&quot;auth=&quot;, &quot;&quot;);\n        log.debug(&quot;auth: {}&quot;, auth);\n        var serialNumber = param.substring(param.lastIndexOf(&quot;=&quot;)).replace(&quot;=&quot;, &quot;&quot;);\n        log.info(&quot;serial number: {}&quot;, serialNumber);\n        this.validateConnection(auth, serialNumber, session);\n    }\n    ....\n}\n</code></pre>\n<p>Please help me to find out how to call <code>WebSocketSession</code> correctly.</p>\n"},{"tags":["java","junit","junit4","ui-automation"],"comments":[{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1679630323,"post_id":75733523,"comment_id":133759482,"body_markdown":"what conflicts are you getting? can you add more details","body":"what conflicts are you getting? can you add more details"}],"answers":[{"comments":[{"owner":{"account_id":12887632,"reputation":333,"user_id":9320560,"display_name":"Adam Jensen"},"score":0,"creation_date":1680215950,"post_id":75829998,"comment_id":133865362,"body_markdown":"I forgot to mention I&#39;m using Gradle, so that&#39;s not a case for me. I have solved it by putting the test classes into a single suite class and posted an @After annotation there.","body":"I forgot to mention I&#39;m using Gradle, so that&#39;s not a case for me. I have solved it by putting the test classes into a single suite class and posted an @After annotation there."},{"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"score":0,"creation_date":1680294315,"post_id":75829998,"comment_id":133880097,"body_markdown":"@AdamJensen good to know but using gradle or maven shouldn&#39;t matter as Shutdown hook is Java construct","body":"@AdamJensen good to know but using gradle or maven shouldn&#39;t matter as Shutdown hook is Java construct"}],"tags":[],"owner":{"account_id":10495994,"reputation":1833,"user_id":7736228,"display_name":"Abhay Chaudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679631495,"creation_date":1679631495,"answer_id":75829998,"question_id":75733523,"body_markdown":"\r\nYou can use Shutdown hooks are basically initialized but unstarted threads. When the JVM begins its shutdown process, it will start all registered hooks.\r\n \r\nAdd a global tear down using a Java shutdown hook, add it any of your tests and in the clean() method add your cleanup code\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.FixMethodOrder;\r\n    import org.junit.Test;\r\n    import org.junit.runners.MethodSorters;\r\n    \r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class Example {\r\n    \r\n    \r\n        @Test\r\n        public void first() {\r\n            Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; clean()));\r\n            Assert.assertEquals(1, 1);\r\n            System.out.println(&quot;First Executed&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void second() {\r\n            Assert.assertEquals(2, 2);\r\n            System.out.println(&quot;Second Executed&quot;);\r\n        }\r\n    \r\n        private void clean() {\r\n            System.out.println(&quot;cleans&quot;);\r\n        }\r\n    }\r\n\r\nOutput of below will be\r\n\r\n   \r\n\r\n    First Executed\r\n    Second Executed\r\n    cleans\r\n\r\n\r\n ","title":"How to determine if the current test is last one in the current tests execution (JUnit 4)","body":"<p>You can use Shutdown hooks are basically initialized but unstarted threads. When the JVM begins its shutdown process, it will start all registered hooks.</p>\n<p>Add a global tear down using a Java shutdown hook, add it any of your tests and in the clean() method add your cleanup code</p>\n<pre><code>import org.junit.Assert;\nimport org.junit.FixMethodOrder;\nimport org.junit.Test;\nimport org.junit.runners.MethodSorters;\n\n@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class Example {\n\n\n    @Test\n    public void first() {\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; clean()));\n        Assert.assertEquals(1, 1);\n        System.out.println(&quot;First Executed&quot;);\n    }\n\n    @Test\n    public void second() {\n        Assert.assertEquals(2, 2);\n        System.out.println(&quot;Second Executed&quot;);\n    }\n\n    private void clean() {\n        System.out.println(&quot;cleans&quot;);\n    }\n}\n</code></pre>\n<p>Output of below will be</p>\n<pre><code>First Executed\nSecond Executed\ncleans\n</code></pre>\n"}],"owner":{"account_id":12887632,"reputation":333,"user_id":9320560,"display_name":"Adam Jensen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679631495,"creation_date":1678799128,"question_id":75733523,"body_markdown":"I need to call some methods once ALL tests from ALL classes are finished. I&#39;m using TestWatcher to override the succeeded/failed methods, but there&#39;s no methods like &quot;afterTestExecution&quot;. I know there&#39;s a class RunListener that has method testRunFinished, but I have conflicts between listeners when using those at the same time. ","title":"How to determine if the current test is last one in the current tests execution (JUnit 4)","body":"<p>I need to call some methods once ALL tests from ALL classes are finished. I'm using TestWatcher to override the succeeded/failed methods, but there's no methods like &quot;afterTestExecution&quot;. I know there's a class RunListener that has method testRunFinished, but I have conflicts between listeners when using those at the same time.</p>\n"},{"tags":["java","ehcache-3","caffeine-cache","ehcache-2","in-memory-cache"],"comments":[{"owner":{"account_id":10326,"reputation":9293,"user_id":19450,"display_name":"Ben Manes"},"score":0,"creation_date":1679631570,"post_id":75829965,"comment_id":133759602,"body_markdown":"Caffeine has a [callback](https://github.com/ben-manes/caffeine/wiki/Eviction#time-based) approach to favor loading through the cache. That also let’s you can use the additional methods in [Cache.policy()](https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Policy.VarExpiration.html) such as your put method.","body":"Caffeine has a <a href=\"https://github.com/ben-manes/caffeine/wiki/Eviction#time-based\" rel=\"nofollow noreferrer\">callback</a> approach to favor loading through the cache. That also let’s you can use the additional methods in <a href=\"https://www.javadoc.io/doc/com.github.ben-manes.caffeine/caffeine/latest/com.github.benmanes.caffeine/com/github/benmanes/caffeine/cache/Policy.VarExpiration.html\" rel=\"nofollow noreferrer\">Cache.policy()</a> such as your put method."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679632001,"post_id":75829965,"comment_id":133759646,"body_markdown":"Have you looked at https://www.ehcache.org/documentation/3.0/expiry.html and  https://www.ehcache.org/documentation/3.0/eviction-advisor.html?","body":"Have you looked at <a href=\"https://www.ehcache.org/documentation/3.0/expiry.html\" rel=\"nofollow noreferrer\">ehcache.org/documentation/3.0/expiry.html</a> and  <a href=\"https://www.ehcache.org/documentation/3.0/eviction-advisor.html\" rel=\"nofollow noreferrer\">ehcache.org/documentation/3.0/eviction-advisor.html</a>?"}],"owner":{"account_id":28110166,"reputation":1,"user_id":21478057,"display_name":"anand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679630983,"creation_date":1679630983,"question_id":75829965,"body_markdown":"I would like to set the expiry time of a member of an cache.\r\nI want the custom ttl when the object should expire.\r\nI know I can set it for the whole cache, e.g.\r\n\r\n    Cache cache = manager.getCache(&quot;MyCache&quot;);\r\n    CacheConfiguration config = cache.getCacheConfiguration();\r\n    config.setTimeToIdleSeconds(60);\r\n    config.setTimeToLiveSeconds(120);\r\n    config.setMaxEntriesLocalHeap(10000);\r\n    config.setMaxEntriesLocalDisk(1000000);\r\n\r\nIn Ehcache 2.x, We can set expiry time on the Element we insert in the cache:\r\n\r\nElement element = new Element(&quot;key1&quot;, &quot;value1&quot;);\r\nelement.setTimeToLive(100);\r\n\r\nDo we have any other java open source library like  that support similar feature as above as  Ehcache 3.x doesnot support this.\r\n\r\nIdeally I would like to have the following interface:\r\n\r\nput(key, value, timeToLive)// enter a key and value with a specified timeToLIve(ttl)\r\n\r\nput(key, value) // enter a key value with no timeToLive\r\n\r\n","title":"Java in memory Caching library that support methods with element level ttl","body":"<p>I would like to set the expiry time of a member of an cache.\nI want the custom ttl when the object should expire.\nI know I can set it for the whole cache, e.g.</p>\n<pre><code>Cache cache = manager.getCache(&quot;MyCache&quot;);\nCacheConfiguration config = cache.getCacheConfiguration();\nconfig.setTimeToIdleSeconds(60);\nconfig.setTimeToLiveSeconds(120);\nconfig.setMaxEntriesLocalHeap(10000);\nconfig.setMaxEntriesLocalDisk(1000000);\n</code></pre>\n<p>In Ehcache 2.x, We can set expiry time on the Element we insert in the cache:</p>\n<p>Element element = new Element(&quot;key1&quot;, &quot;value1&quot;);\nelement.setTimeToLive(100);</p>\n<p>Do we have any other java open source library like  that support similar feature as above as  Ehcache 3.x doesnot support this.</p>\n<p>Ideally I would like to have the following interface:</p>\n<p>put(key, value, timeToLive)// enter a key and value with a specified timeToLIve(ttl)</p>\n<p>put(key, value) // enter a key value with no timeToLive</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679644262,"post_id":75829882,"comment_id":133761301,"body_markdown":"Install SDKMAN (https://sdkman.io/install), then use SDKMAN to install JDK, MAVEN, GRADLE.","body":"Install SDKMAN (<a href=\"https://sdkman.io/install\" rel=\"nofollow noreferrer\">sdkman.io/install</a>), then use SDKMAN to install JDK, MAVEN, GRADLE."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679646485,"post_id":75829882,"comment_id":133761770,"body_markdown":"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java , `sudo update-alternatives --config javac`. `sudo update-alternatives --config java`","body":"<a href=\"https://askubuntu.com/questions/315646/update-java-alternatives-vs-update-alternatives-config-java\" title=\"update java alternatives vs update alternatives config java\">askubuntu.com/questions/315646/&hellip;</a> , <code>sudo update-alternatives --config javac</code>. <code>sudo update-alternatives --config java</code>"}],"owner":{"account_id":24330524,"reputation":11,"user_id":18269436,"display_name":"Bill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679629859,"creation_date":1679629859,"question_id":75829882,"body_markdown":"I&#39;m a student. I want to learn to command line Linux but I have some issues on the server amazon ubuntu. I need help. \r\n\r\nI want swit java version 11 to java version 8 it&#39;s confuse\r\n\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\nubuntu@ip-172-31-72-73:~$ echo $JAVA_HOME\r\n/usr/lib/jvm/java-8-openjdk-amd64\r\n```\r\n\r\n```\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\nubuntu@ip-172-31-72-73:~$ echo $PATH\r\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-openjdk-amd64/bin\r\n```\r\n\r\n```\r\njava -version\r\nopenjdk version &quot;11.0.18&quot; 2023-01-17\r\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\r\n```\r\n\r\n\r\n\r\npreliminary,I follow this link https://vitux.com/how-to-setup-java_home-path-in-ubuntu/\r\n","title":"Ubuntu switch java version but that stuck old version","body":"<p>I'm a student. I want to learn to command line Linux but I have some issues on the server amazon ubuntu. I need help.</p>\n<p>I want swit java version 11 to java version 8 it's confuse</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nubuntu@ip-172-31-72-73:~$ echo $JAVA_HOME\n/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n<pre><code>export PATH=$PATH:$JAVA_HOME/bin\nubuntu@ip-172-31-72-73:~$ echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-8-openjdk-amd64/bin\n</code></pre>\n<pre><code>java -version\nopenjdk version &quot;11.0.18&quot; 2023-01-17\nOpenJDK Runtime Environment (build 11.0.18+10-post-Ubuntu-0ubuntu122.04)\nOpenJDK 64-Bit Server VM (build 11.0.18+10-post-Ubuntu-0ubuntu122.04, mixed mode, sharing)\n</code></pre>\n<p>preliminary,I follow this link <a href=\"https://vitux.com/how-to-setup-java_home-path-in-ubuntu/\" rel=\"nofollow noreferrer\">https://vitux.com/how-to-setup-java_home-path-in-ubuntu/</a></p>\n"},{"tags":["java","spring","spring-boot","axios"],"answers":[{"tags":[],"owner":{"account_id":16331184,"reputation":83,"user_id":11794473,"display_name":"Vojin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679629352,"creation_date":1679629352,"answer_id":75829841,"question_id":75829756,"body_markdown":"Spring works, the problem was with the axios, \r\nInstead of:\r\n```js\r\nconst res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\r\n      withCredentials: true,\r\n});\r\n```\r\nobject containing withCredentials should be placed as the third parameter like this:\r\n```js\r\n const res = await axios.post(\r\n      &quot;http://localhost:5000/api/auth/logout&quot;,\r\n      {},\r\n      { withCredentials: true }\r\n    );\r\n```\r\n","title":"Can&#39;t clear cookies in spring application","body":"<p>Spring works, the problem was with the axios,\nInstead of:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\n      withCredentials: true,\n});\n</code></pre>\n<p>object containing withCredentials should be placed as the third parameter like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code> const res = await axios.post(\n      &quot;http://localhost:5000/api/auth/logout&quot;,\n      {},\n      { withCredentials: true }\n    );\n</code></pre>\n"}],"owner":{"account_id":16331184,"reputation":83,"user_id":11794473,"display_name":"Vojin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679629352,"creation_date":1679628312,"question_id":75829756,"body_markdown":"Here&#39;s the spring configuration. Secure cookie class is just a factory for cookies.\r\n```java\r\npublic class SecureCookie extends Cookie {\r\n\r\n  public static final String accessTokenKey = &quot;access_token&quot;;\r\n  public static final String refreshTokenKey = &quot;refresh_token&quot;;\r\n\r\n  public SecureCookie(String name, String value) {\r\n    super(name, value);\r\n    this.setHttpOnly(false);\r\n    this.setPath(&quot;/&quot;);\r\n    this.setSecure(false);\r\n    this.setMaxAge((int) Duration.ofDays(60).toSeconds());\r\n  }\r\n\r\n  public static SecureCookie delete(String key) {\r\n    SecureCookie cookie = new SecureCookie(key, null);\r\n    cookie.setMaxAge(0);\r\n    return cookie;\r\n  }\r\n}\r\n```\r\nI&#39;ve tried deleting cookies with the appropriate handler, called ```deleteCookies``` method, nothing worked.\r\n```java\r\n http.logout(logout -&gt;\r\n      logout\r\n        .logoutUrl(&quot;/api/auth/logout&quot;)\r\n        .addLogoutHandler(\r\n          new CookieClearingLogoutHandler(\r\n            SecureCookie.delete(SecureCookie.accessTokenKey),\r\n            SecureCookie.delete(SecureCookie.refreshTokenKey)\r\n          )\r\n        )\r\n        .logoutSuccessHandler(\r\n          (new HttpStatusReturningLogoutSuccessHandler(HttpStatus.NO_CONTENT))\r\n        )\r\n        .deleteCookies(\r\n          SecureCookie.accessTokenKey,\r\n          SecureCookie.refreshTokenKey\r\n        )\r\n        .logoutSuccessUrl(&quot;http://localhost:3000&quot;)\r\n```\r\nI&#39;m making request with axios, here&#39;s the code for that\r\n```js\r\nconst res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\r\n      withCredentials: true,\r\n});\r\n```\r\nCredentials are included and I&#39;m getting no errors on the front-end. What could be the issue?","title":"Can&#39;t clear cookies in spring application","body":"<p>Here's the spring configuration. Secure cookie class is just a factory for cookies.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SecureCookie extends Cookie {\n\n  public static final String accessTokenKey = &quot;access_token&quot;;\n  public static final String refreshTokenKey = &quot;refresh_token&quot;;\n\n  public SecureCookie(String name, String value) {\n    super(name, value);\n    this.setHttpOnly(false);\n    this.setPath(&quot;/&quot;);\n    this.setSecure(false);\n    this.setMaxAge((int) Duration.ofDays(60).toSeconds());\n  }\n\n  public static SecureCookie delete(String key) {\n    SecureCookie cookie = new SecureCookie(key, null);\n    cookie.setMaxAge(0);\n    return cookie;\n  }\n}\n</code></pre>\n<p>I've tried deleting cookies with the appropriate handler, called <code>deleteCookies</code> method, nothing worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code> http.logout(logout -&gt;\n      logout\n        .logoutUrl(&quot;/api/auth/logout&quot;)\n        .addLogoutHandler(\n          new CookieClearingLogoutHandler(\n            SecureCookie.delete(SecureCookie.accessTokenKey),\n            SecureCookie.delete(SecureCookie.refreshTokenKey)\n          )\n        )\n        .logoutSuccessHandler(\n          (new HttpStatusReturningLogoutSuccessHandler(HttpStatus.NO_CONTENT))\n        )\n        .deleteCookies(\n          SecureCookie.accessTokenKey,\n          SecureCookie.refreshTokenKey\n        )\n        .logoutSuccessUrl(&quot;http://localhost:3000&quot;)\n</code></pre>\n<p>I'm making request with axios, here's the code for that</p>\n<pre class=\"lang-js prettyprint-override\"><code>const res = await axios.post(&quot;http://localhost:5000/api/auth/logout&quot;, {\n      withCredentials: true,\n});\n</code></pre>\n<p>Credentials are included and I'm getting no errors on the front-end. What could be the issue?</p>\n"},{"tags":["java","encryption","badpaddingexception"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1679610401,"post_id":75828313,"comment_id":133757232,"body_markdown":"Does this answer your question? [BadPaddingException : Decryption error](https://stackoverflow.com/questions/31944374/badpaddingexception-decryption-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31944374/badpaddingexception-decryption-error\">BadPaddingException : Decryption error</a>"},{"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"score":0,"creation_date":1679619941,"post_id":75828313,"comment_id":133758392,"body_markdown":"Unfortunately, it doesn&#39;t. I had read that posting before. My problem is I only get the error when sending over the net as an encrypted stream.","body":"Unfortunately, it doesn&#39;t. I had read that posting before. My problem is I only get the error when sending over the net as an encrypted stream."}],"answers":[{"comments":[{"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"score":1,"creation_date":1679664034,"post_id":75829813,"comment_id":133766072,"body_markdown":"Thanks for such a great response. That fixed it for this example.  I remember doing it in another example that uses `ObjectOutputStream` with `CipherOutputStream` and it didn&#39;t work. I probably messed up on which one I closed.","body":"Thanks for such a great response. That fixed it for this example.  I remember doing it in another example that uses <code>ObjectOutputStream</code> with <code>CipherOutputStream</code> and it didn&#39;t work. I probably messed up on which one I closed."},{"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"score":0,"creation_date":1679664106,"post_id":75829813,"comment_id":133766093,"body_markdown":"If I go with the manual effort, I assume I would need to prepend the data with the data size to assist in reading it on the receiving side?","body":"If I go with the manual effort, I assume I would need to prepend the data with the data size to assist in reading it on the receiving side?"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1679730310,"post_id":75829813,"comment_id":133776284,"body_markdown":"Of course you can do so. But simply following your working example should do the work.","body":"Of course you can do so. But simply following your working example should do the work."}],"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679628958,"creation_date":1679628958,"answer_id":75829813,"question_id":75828313,"body_markdown":"If you are using ```CipherOutputStream```, you should take a look at the ```close()``` function, the function implicitly performs a ```doFinal()``` ([Source Link](https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close())):\r\n&gt; Closes this output stream and releases any system resources associated with this stream.\r\n&gt;\r\n&gt; **This method invokes the doFinal method of the encapsulated cipher object, which causes any bytes buffered by the encapsulated cipher to be processed.** The result is written out by calling the flush method of this output stream.\r\n&gt;\r\n&gt; This method resets the encapsulated cipher object to its initial state and calls the close method of the underlying output stream.\r\n\r\n---\r\n\r\nIt may be better for you to simply make use of the basic ```OutputStream``` and ```InputStream``` if ```CipherOutputStream``` is not mandatory. The extra effort is to perform your encryption with ```doFinal()``` manually before you send it out.","title":"CipherInputStream gets BadPaddingException","body":"<p>If you are using <code>CipherOutputStream</code>, you should take a look at the <code>close()</code> function, the function implicitly performs a <code>doFinal()</code> (<a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/CipherOutputStream.html#close()\" rel=\"nofollow noreferrer\">Source Link</a>):</p>\n<blockquote>\n<p>Closes this output stream and releases any system resources associated with this stream.</p>\n<p><strong>This method invokes the doFinal method of the encapsulated cipher object, which causes any bytes buffered by the encapsulated cipher to be processed.</strong> The result is written out by calling the flush method of this output stream.</p>\n<p>This method resets the encapsulated cipher object to its initial state and calls the close method of the underlying output stream.</p>\n</blockquote>\n<hr />\n<p>It may be better for you to simply make use of the basic <code>OutputStream</code> and <code>InputStream</code> if <code>CipherOutputStream</code> is not mandatory. The extra effort is to perform your encryption with <code>doFinal()</code> manually before you send it out.</p>\n"}],"owner":{"account_id":11050732,"reputation":53,"user_id":8115292,"display_name":"trungdok"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75829813,"answer_count":1,"score":1,"last_activity_date":1679628958,"creation_date":1679608552,"question_id":75828313,"body_markdown":"Hope someone can see my issue.  I&#39;m trying to send encrypted data over the network using `CipherOutputStream/CipherInputStream` and keep on getting `BadPaddingException`.  I use the same RSA keys for both sides and can manually encrypt/decrypt fine.  The modulus for both private and public keys match.\r\n\r\nThis is the working example that manually encrypt/decrypt using `Cipher` and the keys.\r\n``` java\r\npublic static void main(String[] args) {\r\n    PrintStream out = System.out;\r\n    try {\r\n        PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n        PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n\r\n        String hi = &quot;Hello World&quot;;\r\n        byte[] data = hi.getBytes(&quot;UTF8&quot;);\r\n        out.println(&quot;data[&quot; + data.length + &quot;]&quot;);\r\n\r\n        cipher.init(Cipher.ENCRYPT_MODE, pub_key);\r\n        byte[] encdata = cipher.doFinal(data);\r\n        out.println(&quot;encdata[&quot; + encdata.length + &quot;]&quot;);\r\n\r\n        cipher.init(Cipher.DECRYPT_MODE, pri_key);\r\n        byte[] decdata = cipher.doFinal(encdata);\r\n        out.println(&quot;decdata[&quot; + decdata.length + &quot;]&quot;);\r\n        out.println(new String(decdata, &quot;UTF8&quot;));\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n**The send/receive codes that does the encrypt/decrypt**\r\n``` java\r\nstatic class ByteEncComm extends Comm {\r\n    public ByteEncComm(Socket sock, PrivateKey priv_key, PublicKey pub_key) {\r\n        super(sock, priv_key, pub_key);\r\n    }\r\n\r\n    public void send(Bird b) {\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, public_key);\r\n\r\n            byte[] data = &quot;Hello World&quot;.getBytes(&quot;UTF8&quot;);\r\n            CipherOutputStream cos = new CipherOutputStream(sock.getOutputStream(), cipher);\r\n            cos.write(data, 0, data.length);\r\n            cos.flush();\r\n            out.println(&quot;Sent data[&quot; + data.length + &quot;]&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public Bird receive() {\r\n        PrintStream out = System.out;\r\n        try {\r\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\r\n            cipher.init(Cipher.DECRYPT_MODE, private_key);\r\n\r\n            CipherInputStream cis = new CipherInputStream(sock.getInputStream(), cipher);\r\n            out.println(&quot;Avail &quot; + cis.available());\r\n            byte[] data = cis.readAllBytes();\r\n            out.println(&quot;Got data[&quot; + data.length + &quot;]&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Client Code:**\r\n``` java\r\npublic class Client {\r\n    public static void main(String[] args) {\r\n        PrintStream out = System.out;\r\n        try {\r\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n            Socket sock = new Socket(&quot;127.0.0.1&quot;, 5555);\r\n\r\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\r\n            comm.send(new Bird(&quot;Robin&quot;));\r\n\r\n            sock.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Server code:**\r\n``` java\r\npublic class Server extends Thread {\r\n    public static void main(String[] args) {\r\n        PrintStream out = System.out;\r\n        try {\r\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\r\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\r\n\r\n            ServerSocket serversock = new ServerSocket(5555);\r\n            Socket sock = serversock.accept();\r\n\r\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\r\n            comm.receive();\r\n\r\n            sock.close();\r\n            serversock.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n**Error:**\r\n```\r\njava.io.IOException: javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148)\r\n\tat java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261)\r\n\tat java.base/java.io.InputStream.readNBytes(InputStream.java:409)\r\n\tat java.base/java.io.InputStream.readAllBytes(InputStream.java:346)\r\n\tat foo.enc.Comm$ByteEncComm.receive(Comm.java:139)\r\n\tat foo.enc.Server.main(Server.java:21)\r\nCaused by: javax.crypto.BadPaddingException: Decryption error\r\n\tat java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\r\n\tat java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:418)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152)\r\n\tat java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145)\r\n\t... 5 more\r\n```\r\n\r\n","title":"CipherInputStream gets BadPaddingException","body":"<p>Hope someone can see my issue.  I'm trying to send encrypted data over the network using <code>CipherOutputStream/CipherInputStream</code> and keep on getting <code>BadPaddingException</code>.  I use the same RSA keys for both sides and can manually encrypt/decrypt fine.  The modulus for both private and public keys match.</p>\n<p>This is the working example that manually encrypt/decrypt using <code>Cipher</code> and the keys.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    PrintStream out = System.out;\n    try {\n        PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n        PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n        Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n\n        String hi = &quot;Hello World&quot;;\n        byte[] data = hi.getBytes(&quot;UTF8&quot;);\n        out.println(&quot;data[&quot; + data.length + &quot;]&quot;);\n\n        cipher.init(Cipher.ENCRYPT_MODE, pub_key);\n        byte[] encdata = cipher.doFinal(data);\n        out.println(&quot;encdata[&quot; + encdata.length + &quot;]&quot;);\n\n        cipher.init(Cipher.DECRYPT_MODE, pri_key);\n        byte[] decdata = cipher.doFinal(encdata);\n        out.println(&quot;decdata[&quot; + decdata.length + &quot;]&quot;);\n        out.println(new String(decdata, &quot;UTF8&quot;));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p><strong>The send/receive codes that does the encrypt/decrypt</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>static class ByteEncComm extends Comm {\n    public ByteEncComm(Socket sock, PrivateKey priv_key, PublicKey pub_key) {\n        super(sock, priv_key, pub_key);\n    }\n\n    public void send(Bird b) {\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, public_key);\n\n            byte[] data = &quot;Hello World&quot;.getBytes(&quot;UTF8&quot;);\n            CipherOutputStream cos = new CipherOutputStream(sock.getOutputStream(), cipher);\n            cos.write(data, 0, data.length);\n            cos.flush();\n            out.println(&quot;Sent data[&quot; + data.length + &quot;]&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public Bird receive() {\n        PrintStream out = System.out;\n        try {\n            Cipher cipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA1AndMGF1Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, private_key);\n\n            CipherInputStream cis = new CipherInputStream(sock.getInputStream(), cipher);\n            out.println(&quot;Avail &quot; + cis.available());\n            byte[] data = cis.readAllBytes();\n            out.println(&quot;Got data[&quot; + data.length + &quot;]&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Client Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Client {\n    public static void main(String[] args) {\n        PrintStream out = System.out;\n        try {\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n            Socket sock = new Socket(&quot;127.0.0.1&quot;, 5555);\n\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\n            comm.send(new Bird(&quot;Robin&quot;));\n\n            sock.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Server code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Server extends Thread {\n    public static void main(String[] args) {\n        PrintStream out = System.out;\n        try {\n            PrivateKey pri_key = Util.readPrivateKey(&quot;data/private.der&quot;);\n            PublicKey pub_key = Util.readPublicKey(&quot;data/public.der&quot;);\n\n            ServerSocket serversock = new ServerSocket(5555);\n            Socket sock = serversock.accept();\n\n            Comm comm = new Comm.ByteEncComm(sock, pri_key, pub_key);\n            comm.receive();\n\n            sock.close();\n            serversock.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>java.io.IOException: javax.crypto.BadPaddingException: Decryption error\n    at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:148)\n    at java.base/javax.crypto.CipherInputStream.read(CipherInputStream.java:261)\n    at java.base/java.io.InputStream.readNBytes(InputStream.java:409)\n    at java.base/java.io.InputStream.readAllBytes(InputStream.java:346)\n    at foo.enc.Comm$ByteEncComm.receive(Comm.java:139)\n    at foo.enc.Server.main(Server.java:21)\nCaused by: javax.crypto.BadPaddingException: Decryption error\n    at java.base/sun.security.rsa.RSAPadding.unpadOAEP(RSAPadding.java:488)\n    at java.base/sun.security.rsa.RSAPadding.unpad(RSAPadding.java:284)\n    at java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:372)\n    at java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:418)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2152)\n    at java.base/javax.crypto.CipherInputStream.getMoreData(CipherInputStream.java:145)\n    ... 5 more\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675156056,"post_id":75294774,"comment_id":132862657,"body_markdown":"Please include the import statements for your entity (and the package).","body":"Please include the import statements for your entity (and the package)."},{"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"score":0,"creation_date":1675159017,"post_id":75294774,"comment_id":132863609,"body_markdown":"I added the imports and package","body":"I added the imports and package"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675159117,"post_id":75294774,"comment_id":132863640,"body_markdown":"Thanks, just wanted to make sure you are using the right imports (and don&#39;t have some dangling `javax.persistence` imports). Could you also add the full stacktrace and what does your configuration look like? I do miss an `@Embedded` on the `otherTableId` field in the `MyClass`","body":"Thanks, just wanted to make sure you are using the right imports (and don&#39;t have some dangling <code>javax.persistence</code> imports). Could you also add the full stacktrace and what does your configuration look like? I do miss an <code>@Embedded</code> on the <code>otherTableId</code> field in the <code>MyClass</code>"},{"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"score":0,"creation_date":1675161748,"post_id":75294774,"comment_id":132864448,"body_markdown":"I added `@Embedded`, but still the same exception","body":"I added <code>@Embedded</code>, but still the same exception"}],"answers":[{"comments":[{"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"score":1,"creation_date":1675167068,"post_id":75296265,"comment_id":132866108,"body_markdown":"Thanks for looking into it. My code works with 6.2 CR1 and CR2, but not with 6.1. So 6.2 seems to fix something I have been running into.","body":"Thanks for looking into it. My code works with 6.2 CR1 and CR2, but not with 6.1. So 6.2 seems to fix something I have been running into."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675163517,"creation_date":1675163517,"answer_id":75296265,"question_id":75294774,"body_markdown":"I just ran the following test in both Hibernate 6.1 and 6.2 CR2, and it succeeded:\r\n\r\n```java\r\n@SessionFactory\r\n@DomainModel(annotatedClasses = {BTest.MyClass.class, BTest.OtherTableId.class})\r\npublic class BTest {\r\n\r\n    @Test\r\n    void test(SessionFactoryScope scope) {\r\n        scope.inTransaction(s -&gt; {\r\n            MyClass myClass = new MyClass();\r\n            OtherTableId otherTableId = new OtherTableId();\r\n            myClass.otherTableId = otherTableId;\r\n            s.persist( myClass );\r\n        });\r\n        scope.inTransaction(s -&gt; {\r\n            s.createSelectionQuery(&quot;from BTest$MyClass&quot;).getSingleResult();\r\n        });\r\n    }\r\n\r\n    @Entity\r\n    @Table\r\n    public static class MyClass implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Id\r\n        @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long myId;\r\n\r\n        /**\r\n         * The foreign key to the other table.\r\n         */\r\n        @AttributeOverrides(\r\n                {\r\n                        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\r\n                        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\r\n                })\r\n        private OtherTableId otherTableId;\r\n    }\r\n\r\n    @Embeddable\r\n    public static class OtherTableId implements Serializable {\r\n\r\n        private static final long serialVersionUID = 1L;\r\n\r\n        @Column(name = &quot;column1&quot;, nullable = false)\r\n        private int column1;\r\n\r\n        @Column(name = &quot;column2&quot;, nullable = false)\r\n        private int column2;\r\n\r\n        public OtherTableId() {\r\n            super();\r\n        }\r\n\r\n        public OtherTableId(int column1, int column2) {\r\n            this.column1 = column1;\r\n            this.column2 = column2;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo whatever is causing this error must be in code you&#39;re not showing us.","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>I just ran the following test in both Hibernate 6.1 and 6.2 CR2, and it succeeded:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SessionFactory\n@DomainModel(annotatedClasses = {BTest.MyClass.class, BTest.OtherTableId.class})\npublic class BTest {\n\n    @Test\n    void test(SessionFactoryScope scope) {\n        scope.inTransaction(s -&gt; {\n            MyClass myClass = new MyClass();\n            OtherTableId otherTableId = new OtherTableId();\n            myClass.otherTableId = otherTableId;\n            s.persist( myClass );\n        });\n        scope.inTransaction(s -&gt; {\n            s.createSelectionQuery(&quot;from BTest$MyClass&quot;).getSingleResult();\n        });\n    }\n\n    @Entity\n    @Table\n    public static class MyClass implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Id\n        @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long myId;\n\n        /**\n         * The foreign key to the other table.\n         */\n        @AttributeOverrides(\n                {\n                        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\n                        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\n                })\n        private OtherTableId otherTableId;\n    }\n\n    @Embeddable\n    public static class OtherTableId implements Serializable {\n\n        private static final long serialVersionUID = 1L;\n\n        @Column(name = &quot;column1&quot;, nullable = false)\n        private int column1;\n\n        @Column(name = &quot;column2&quot;, nullable = false)\n        private int column2;\n\n        public OtherTableId() {\n            super();\n        }\n\n        public OtherTableId(int column1, int column2) {\n            this.column1 = column1;\n            this.column2 = column2;\n        }\n    }\n}\n</code></pre>\n<p>So whatever is causing this error must be in code you're not showing us.</p>\n"},{"tags":[],"owner":{"account_id":3388410,"reputation":21,"user_id":2843873,"display_name":"Thomas Campbell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679628194,"creation_date":1679628194,"answer_id":75829751,"question_id":75294774,"body_markdown":"@Marius comment seems to fix the issue.  Sadly this works\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nbut later versions (I tried CR4) doesn&#39;t.\r\n\r\nThe latest version of Spring Boot (3.0.4 at the moment) is using 6.1.\r\n\r\n","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>@Marius comment seems to fix the issue.  Sadly this works</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.2.0.CR2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>but later versions (I tried CR4) doesn't.</p>\n<p>The latest version of Spring Boot (3.0.4 at the moment) is using 6.1.</p>\n"}],"owner":{"account_id":1561475,"reputation":395,"user_id":1451252,"display_name":"Marius"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1679628194,"creation_date":1675155912,"question_id":75294774,"body_markdown":"I upgraded the following code from Hibernate 5 to 6.1.6 and get the following exception. It seems hibernate has somehow problems to iterate over the list of `AttributeOverride`s.\r\n\r\nThe main entity\r\n\r\n```\r\n\r\npackage com.mypackage\r\n\r\nimport java.io.Serializable;\r\nimport java.time.OffsetDateTime;\r\nimport jakarta.persistence.AttributeOverride;\r\nimport jakarta.persistence.AttributeOverrides;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport jakarta.persistence.Table;\r\n\r\n\r\n@Entity\r\n@Table\r\npublic class MyClass implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    private Long myId;\r\n\t   \r\n\t/**\r\n     * The foreign key to the other table.\r\n     */\r\n\t@AttributeOverrides(\r\n\t{\r\n\t\t@AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\r\n\t\t@AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\r\n\t})\r\n    private OtherTableId otherTableId;\r\n```\r\n\r\nThe composed foreign key\r\n```\r\npackage mypackage;\r\n\r\nimport java.io.Serializable;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Embeddable;\r\n\r\n@Embeddable\r\npublic class OtherTableId implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Column(name = &quot;column1&quot;, nullable = false)\r\n\tprivate int column1;\r\n\r\n\t@Column(name = &quot;column2&quot;, nullable = false)\r\n\tprivate int column2;\r\n\r\n\tpublic OtherTableId() {\r\n\t    super();\r\n\t}\r\n\r\n\tpublic OtherTableId(int column1, int column2) {\r\n\t\tthis.column1 = column1;\r\n\t\tthis.column2 = column2;\r\n\t}\r\n```\r\n\r\nerror\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\r\n        - PostInitCallbackEntry - EmbeddableMappingType(mypackage.MyClass.otherTableId.{inverse})#finishInitialization\r\n\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146)\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90)\r\n\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39)\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229)\r\n\tat org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\r\n\t... 97 more\r\n\tSuppressed: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\t\tat org.hibernate.metamodel.mapping.internal.SelectableMappingsImpl.getSelectable(SelectableMappingsImpl.java:101)\r\n\t\tat org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.inverseInitializeCallback(AbstractEmbeddableMapping.java:153)\r\n\t\tat org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.lambda$new$2(EmbeddableMappingTypeImpl.java:172)\r\n\t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:210)\r\n\t\tat org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:108)\r\n\t\t... 107 more\r\n\r\n```\r\n\r\nI could not find anything in the migration guide for hibernate. Do you have an idea what I have to adapt to make in run with Hibernate 6?","title":"AttributeOverrides not working anymore after Upgrade to Hibernate 6","body":"<p>I upgraded the following code from Hibernate 5 to 6.1.6 and get the following exception. It seems hibernate has somehow problems to iterate over the list of <code>AttributeOverride</code>s.</p>\n<p>The main entity</p>\n<pre><code>\npackage com.mypackage\n\nimport java.io.Serializable;\nimport java.time.OffsetDateTime;\nimport jakarta.persistence.AttributeOverride;\nimport jakarta.persistence.AttributeOverrides;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n@Entity\n@Table\npublic class MyClass implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;MY_ID&quot;, unique = true, nullable = false)\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    private Long myId;\n       \n    /**\n     * The foreign key to the other table.\n     */\n    @AttributeOverrides(\n    {\n        @AttributeOverride(name = &quot;column1&quot;, column = @Column(name = &quot;column1&quot;, nullable = false)),\n        @AttributeOverride(name = &quot;column2&quot;, column = @Column(name = &quot;column2&quot;, nullable = false))\n    })\n    private OtherTableId otherTableId;\n</code></pre>\n<p>The composed foreign key</p>\n<pre><code>package mypackage;\n\nimport java.io.Serializable;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Embeddable;\n\n@Embeddable\npublic class OtherTableId implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;column1&quot;, nullable = false)\n    private int column1;\n\n    @Column(name = &quot;column2&quot;, nullable = false)\n    private int column2;\n\n    public OtherTableId() {\n        super();\n    }\n\n    public OtherTableId(int column1, int column2) {\n        this.column1 = column1;\n        this.column2 = column2;\n    }\n</code></pre>\n<p>error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: PostInitCallback queue could not be processed...\n        - PostInitCallbackEntry - EmbeddableMappingType(mypackage.MyClass.otherTableId.{inverse})#finishInitialization\n\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:146)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.execute(MappingModelCreationProcess.java:90)\n    at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.process(MappingModelCreationProcess.java:39)\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.finishInitialization(MappingMetamodelImpl.java:229)\n    at org.hibernate.metamodel.internal.RuntimeMetamodelsImpl.finishInitialization(RuntimeMetamodelsImpl.java:60)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:311)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n    ... 97 more\n    Suppressed: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n        at org.hibernate.metamodel.mapping.internal.SelectableMappingsImpl.getSelectable(SelectableMappingsImpl.java:101)\n        at org.hibernate.metamodel.mapping.internal.AbstractEmbeddableMapping.inverseInitializeCallback(AbstractEmbeddableMapping.java:153)\n        at org.hibernate.metamodel.mapping.internal.EmbeddableMappingTypeImpl.lambda$new$2(EmbeddableMappingTypeImpl.java:172)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess$PostInitCallbackEntry.process(MappingModelCreationProcess.java:210)\n        at org.hibernate.metamodel.mapping.internal.MappingModelCreationProcess.executePostInitCallbacks(MappingModelCreationProcess.java:108)\n        ... 107 more\n\n</code></pre>\n<p>I could not find anything in the migration guide for hibernate. Do you have an idea what I have to adapt to make in run with Hibernate 6?</p>\n"},{"tags":["java","apache-flink","avro","flink-streaming","confluent-schema-registry"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1643712021,"post_id":70931874,"comment_id":125406951,"body_markdown":"Can you share what the AvroRecord class looks like?","body":"Can you share what the AvroRecord class looks like?"},{"owner":{"account_id":9450053,"reputation":420,"user_id":7027284,"display_name":"guru"},"score":0,"creation_date":1643735898,"post_id":70931874,"comment_id":125416877,"body_markdown":"Its an auto generated Java class. Updated my question with the same.","body":"Its an auto generated Java class. Updated my question with the same."}],"answers":[{"tags":[],"owner":{"account_id":1321263,"reputation":1,"user_id":1267043,"display_name":"Wen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679627845,"creation_date":1679627845,"answer_id":75829732,"question_id":70931874,"body_markdown":"The auto-generated class didn&#39;t meet the flink POJO requirements. You could try set the field visibility to public by updating the POM. [Flink POJO requirments][1] e.g\r\n\r\n           &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${avro.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro/&lt;/sourceDirectory&gt;\r\n                    &lt;fieldVisibility&gt;PUBLIC&lt;/fieldVisibility&gt;\r\n                    &lt;createSetters&gt;true&lt;/createSetters&gt;\r\n                    &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;schema&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n\r\n  [1]: https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/types_serialization/#pojos","title":"Flink Avro Error Expecting type to be a PojoTypeInfo","body":"<p>The auto-generated class didn't meet the flink POJO requirements. You could try set the field visibility to public by updating the POM. <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/dev/datastream/fault-tolerance/serialization/types_serialization/#pojos\" rel=\"nofollow noreferrer\">Flink POJO requirments</a> e.g</p>\n<pre><code>       &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${avro.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/avro/&lt;/sourceDirectory&gt;\n                &lt;fieldVisibility&gt;PUBLIC&lt;/fieldVisibility&gt;\n                &lt;createSetters&gt;true&lt;/createSetters&gt;\n                &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;schema&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n"}],"owner":{"account_id":9450053,"reputation":420,"user_id":7027284,"display_name":"guru"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679627845,"creation_date":1643657924,"question_id":70931874,"body_markdown":"I&#39;m trying to convert a HashMap&lt;String, Object&gt; to an Avro record. I get this runtime exception when I do a \r\n`DataStream&lt;AvroRecord&gt; dsRpvSchema = filteredVlfRPV.flatMap(new MessageFlattener())\r\n          .name(&quot;ToAvroSchema&quot;).uid(&quot;ToAvroSchema&quot;).startNewChain();` \r\n\r\nNot sure what the issue is with Flink converting the valid avro record to Flink Avro. \r\n\r\n``` \r\njava.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\r\n \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:71)\r\n \tat org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:55)\r\n \tat org.apache.flink.formats.avro.utils.AvroKryoSerializerUtils.createAvroTypeInfo(AvroKryoSerializerUtils.java:81)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1653)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1559)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.createTypeInfoWithTypeHierarchy(TypeExtractor.java:866)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.privateCreateTypeInfo(TypeExtractor.java:747)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.getUnaryOperatorReturnType(TypeExtractor.java:531)\r\n \tat org.apache.flink.api.java.typeutils.TypeExtractor.getFlatMapReturnTypes(TypeExtractor.java:168)\r\n \tat org.apache.flink.streaming.api.datastream.DataStream.flatMap(DataStream.java:637)\r\n```\r\nI do see two questions on this but no answers provided:\r\n 1. https://stackoverflow.com/questions/68826065/flink-kafka-expecting-type-to-be-a-pojotypeinfo\r\n 2. https://stackoverflow.com/questions/65399873/deserialize-avro-from-kafka-as-specificrecord-failing-expecting-type-to-be-a-po\r\n\r\nUPDATE: 02/01/2022. Below is the `AvroRecord` class definition.\r\n```\r\nimport org.apache.avro.generic.GenericArray;\r\nimport org.apache.avro.specific.SpecificData;\r\nimport org.apache.avro.util.Utf8;\r\nimport org.apache.avro.message.BinaryMessageEncoder;\r\nimport org.apache.avro.message.BinaryMessageDecoder;\r\nimport org.apache.avro.message.SchemaStore;\r\n\r\n@org.apache.avro.specific.AvroGenerated\r\npublic class AvroRecord extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\r\n  private static final long serialVersionUID = 9071485731787422200L;\r\n  public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;AvroRecord\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.sample.dataplatform.stream.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;_id\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;doc\\&quot;:\\&quot;car_id\\&quot;}]}&quot;);\r\n  public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\r\n\r\n  private static SpecificData MODEL$ = new SpecificData();\r\n\r\n  private static final BinaryMessageEncoder&lt;AvroRecord&gt; ENCODER =\r\n      new BinaryMessageEncoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\r\n\r\n  private static final BinaryMessageDecoder&lt;AvroRecord&gt; DECODER =\r\n      new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\r\n\r\n  /**\r\n   * Return the BinaryMessageEncoder instance used by this class.\r\n   * @return the message encoder used by this class\r\n   */\r\n  public static BinaryMessageEncoder&lt;AvroRecord&gt; getEncoder() {\r\n    return ENCODER;\r\n  }\r\n\r\n  /**\r\n   * Return the BinaryMessageDecoder instance used by this class.\r\n   * @return the message decoder used by this class\r\n   */\r\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; getDecoder() {\r\n    return DECODER;\r\n  }\r\n\r\n  /**\r\n   * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\r\n   * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\r\n   * @return a BinaryMessageDecoder instance for this class backed by the given SchemaStore\r\n   */\r\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; createDecoder(SchemaStore resolver) {\r\n    return new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$, resolver);\r\n  }\r\n\r\n  /**\r\n   * Serializes this AvroRecord to a ByteBuffer.\r\n   * @return a buffer holding the serialized data for this instance\r\n   * @throws java.io.IOException if this instance could not be serialized\r\n   */\r\n  public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\r\n    return ENCODER.encode(this);\r\n  }\r\n\r\n  /**\r\n   * Deserializes a AvroRecord from a ByteBuffer.\r\n   * @param b a byte buffer holding serialized data for an instance of this class\r\n   * @return a AvroRecord instance decoded from the given buffer\r\n   * @throws java.io.IOException if the given bytes could not be deserialized into an instance of this class\r\n   */\r\n  public static AvroRecord fromByteBuffer(\r\n      java.nio.ByteBuffer b) throws java.io.IOException {\r\n    return DECODER.decode(b);\r\n  }\r\n\r\n  /** car_id */\r\n   private java.lang.CharSequence _id;\r\n\r\n  /**\r\n   * Default constructor.  Note that this does not initialize fields\r\n   * to their default values from the schema.  If that is desired then\r\n   * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\r\n   */\r\n  public AvroRecord() {}\r\n\r\n  /**\r\n   * All-args constructor.\r\n   * @param _id car_id\r\n   */\r\n  public AvroRecord(java.lang.CharSequence _id) {\r\n    this._id = _id;\r\n  }\r\n\r\n  public org.apache.avro.specific.SpecificData getSpecificData() { return MODEL$; }\r\n  public org.apache.avro.Schema getSchema() { return SCHEMA$; }\r\n  // Used by DatumWriter.  Applications should not call.\r\n  public java.lang.Object get(int field$) {\r\n    switch (field$) {\r\n    case 0: return _id;\r\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\r\n    }\r\n  }\r\n\r\n  // Used by DatumReader.  Applications should not call.\r\n  @SuppressWarnings(value=&quot;unchecked&quot;)\r\n  public void put(int field$, java.lang.Object value$) {\r\n    switch (field$) {\r\n    case 0: _id = (java.lang.CharSequence)value$; break;\r\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Gets the value of the &#39;_id&#39; field.\r\n   * @return car_id\r\n   */\r\n  public java.lang.CharSequence getId$1() {\r\n    return _id;\r\n  }\r\n\r\n\r\n  /**\r\n   * Sets the value of the &#39;_id&#39; field.\r\n   * car_id\r\n   * @param value the value to set.\r\n   */\r\n  public void setId$1(java.lang.CharSequence value) {\r\n    this._id = value;\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder() {\r\n    return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder by copying an existing Builder.\r\n   * @param other The existing builder to copy.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\r\n    if (other == null) {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n    } else {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Creates a new AvroRecord RecordBuilder by copying an existing AvroRecord instance.\r\n   * @param other The existing instance to copy.\r\n   * @return A new AvroRecord RecordBuilder\r\n   */\r\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord other) {\r\n    if (other == null) {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\r\n    } else {\r\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * RecordBuilder for AvroRecord instances.\r\n   */\r\n  @org.apache.avro.specific.AvroGenerated\r\n  public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;AvroRecord&gt;\r\n    implements org.apache.avro.data.RecordBuilder&lt;AvroRecord&gt; {\r\n\r\n    /** car_id */\r\n    private java.lang.CharSequence _id;\r\n\r\n    /** Creates a new Builder */\r\n    private Builder() {\r\n      super(SCHEMA$);\r\n    }\r\n\r\n    /**\r\n     * Creates a Builder by copying an existing Builder.\r\n     * @param other The existing Builder to copy.\r\n     */\r\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\r\n      super(other);\r\n      if (isValidValue(fields()[0], other._id)) {\r\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\r\n        fieldSetFlags()[0] = other.fieldSetFlags()[0];\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Creates a Builder by copying an existing AvroRecord instance\r\n     * @param other The existing instance to copy.\r\n     */\r\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord other) {\r\n      super(SCHEMA$);\r\n      if (isValidValue(fields()[0], other._id)) {\r\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\r\n        fieldSetFlags()[0] = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n      * Gets the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @return The value.\r\n      */\r\n    public java.lang.CharSequence getId$1() {\r\n      return _id;\r\n    }\r\n\r\n\r\n    /**\r\n      * Sets the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @param value The value of &#39;_id&#39;.\r\n      * @return This builder.\r\n      */\r\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder setId$1(java.lang.CharSequence value) {\r\n      validate(fields()[0], value);\r\n      this._id = value;\r\n      fieldSetFlags()[0] = true;\r\n      return this;\r\n    }\r\n\r\n    /**\r\n      * Checks whether the &#39;_id&#39; field has been set.\r\n      * car_id\r\n      * @return True if the &#39;_id&#39; field has been set, false otherwise.\r\n      */\r\n    public boolean hasId$1() {\r\n      return fieldSetFlags()[0];\r\n    }\r\n\r\n\r\n    /**\r\n      * Clears the value of the &#39;_id&#39; field.\r\n      * car_id\r\n      * @return This builder.\r\n      */\r\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder clearId$1() {\r\n      _id = null;\r\n      fieldSetFlags()[0] = false;\r\n      return this;\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public AvroRecord build() {\r\n      try {\r\n        AvroRecord record = new AvroRecord();\r\n        record._id = fieldSetFlags()[0] ? this._id : (java.lang.CharSequence) defaultValue(fields()[0]);\r\n        return record;\r\n      } catch (org.apache.avro.AvroMissingFieldException e) {\r\n        throw e;\r\n      } catch (java.lang.Exception e) {\r\n        throw new org.apache.avro.AvroRuntimeException(e);\r\n      }\r\n    }\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static final org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;\r\n    WRITER$ = (org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;)MODEL$.createDatumWriter(SCHEMA$);\r\n\r\n  @Override public void writeExternal(java.io.ObjectOutput out)\r\n    throws java.io.IOException {\r\n    WRITER$.write(this, SpecificData.getEncoder(out));\r\n  }\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  private static final org.apache.avro.io.DatumReader&lt;AvroRecord&gt;\r\n    READER$ = (org.apache.avro.io.DatumReader&lt;AvroRecord&gt;)MODEL$.createDatumReader(SCHEMA$);\r\n\r\n  @Override public void readExternal(java.io.ObjectInput in)\r\n    throws java.io.IOException {\r\n    READER$.read(this, SpecificData.getDecoder(in));\r\n  }\r\n\r\n  @Override protected boolean hasCustomCoders() { return true; }\r\n\r\n  @Override public void customEncode(org.apache.avro.io.Encoder out)\r\n    throws java.io.IOException\r\n  {\r\n    out.writeString(this._id);\r\n\r\n  }\r\n\r\n  @Override public void customDecode(org.apache.avro.io.ResolvingDecoder in)\r\n    throws java.io.IOException\r\n  {\r\n    org.apache.avro.Schema.Field[] fieldOrder = in.readFieldOrderIfDiff();\r\n    if (fieldOrder == null) {\r\n      this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\r\n\r\n    } else {\r\n      for (int i = 0; i &lt; 1; i++) {\r\n        switch (fieldOrder[i].pos()) {\r\n        case 0:\r\n          this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\r\n          break;\r\n\r\n        default:\r\n          throw new java.io.IOException(&quot;Corrupt ResolvingDecoder.&quot;);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nThe AVRO schema (.avsc) file looks like this:\r\n\r\n```\r\n{\r\n  &quot;namespace&quot;: &quot;com.sample.dataplatform.stream.avro&quot;,\r\n  &quot;type&quot;: &quot;record&quot;,\r\n  &quot;name&quot;: &quot;AvroRecord&quot;,\r\n  &quot;fields&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;_id&quot;,\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;doc&quot;: &quot;car_id&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nAny help is appreciated! ","title":"Flink Avro Error Expecting type to be a PojoTypeInfo","body":"<p>I'm trying to convert a HashMap&lt;String, Object&gt; to an Avro record. I get this runtime exception when I do a\n<code>DataStream&lt;AvroRecord&gt; dsRpvSchema = filteredVlfRPV.flatMap(new MessageFlattener()) .name(&quot;ToAvroSchema&quot;).uid(&quot;ToAvroSchema&quot;).startNewChain();</code></p>\n<p>Not sure what the issue is with Flink converting the valid avro record to Flink Avro.</p>\n<pre><code>java.lang.IllegalStateException: Expecting type to be a PojoTypeInfo\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.generateFieldsFromAvroSchema(AvroTypeInfo.java:71)\n    at org.apache.flink.formats.avro.typeutils.AvroTypeInfo.&lt;init&gt;(AvroTypeInfo.java:55)\n    at org.apache.flink.formats.avro.utils.AvroKryoSerializerUtils.createAvroTypeInfo(AvroKryoSerializerUtils.java:81)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1653)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateGetForClass(TypeExtractor.java:1559)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.createTypeInfoWithTypeHierarchy(TypeExtractor.java:866)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.privateCreateTypeInfo(TypeExtractor.java:747)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.getUnaryOperatorReturnType(TypeExtractor.java:531)\n    at org.apache.flink.api.java.typeutils.TypeExtractor.getFlatMapReturnTypes(TypeExtractor.java:168)\n    at org.apache.flink.streaming.api.datastream.DataStream.flatMap(DataStream.java:637)\n</code></pre>\n<p>I do see two questions on this but no answers provided:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/68826065/flink-kafka-expecting-type-to-be-a-pojotypeinfo\">Flink Kafka : Expecting type to be a PojoTypeInfo</a></li>\n<li><a href=\"https://stackoverflow.com/questions/65399873/deserialize-avro-from-kafka-as-specificrecord-failing-expecting-type-to-be-a-po\">Deserialize Avro from kafka as SpecificRecord Failing. Expecting type to be a PojoTypeInfo</a></li>\n</ol>\n<p>UPDATE: 02/01/2022. Below is the <code>AvroRecord</code> class definition.</p>\n<pre><code>import org.apache.avro.generic.GenericArray;\nimport org.apache.avro.specific.SpecificData;\nimport org.apache.avro.util.Utf8;\nimport org.apache.avro.message.BinaryMessageEncoder;\nimport org.apache.avro.message.BinaryMessageDecoder;\nimport org.apache.avro.message.SchemaStore;\n\n@org.apache.avro.specific.AvroGenerated\npublic class AvroRecord extends org.apache.avro.specific.SpecificRecordBase implements org.apache.avro.specific.SpecificRecord {\n  private static final long serialVersionUID = 9071485731787422200L;\n  public static final org.apache.avro.Schema SCHEMA$ = new org.apache.avro.Schema.Parser().parse(&quot;{\\&quot;type\\&quot;:\\&quot;record\\&quot;,\\&quot;name\\&quot;:\\&quot;AvroRecord\\&quot;,\\&quot;namespace\\&quot;:\\&quot;com.sample.dataplatform.stream.avro\\&quot;,\\&quot;fields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;_id\\&quot;,\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;doc\\&quot;:\\&quot;car_id\\&quot;}]}&quot;);\n  public static org.apache.avro.Schema getClassSchema() { return SCHEMA$; }\n\n  private static SpecificData MODEL$ = new SpecificData();\n\n  private static final BinaryMessageEncoder&lt;AvroRecord&gt; ENCODER =\n      new BinaryMessageEncoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\n\n  private static final BinaryMessageDecoder&lt;AvroRecord&gt; DECODER =\n      new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$);\n\n  /**\n   * Return the BinaryMessageEncoder instance used by this class.\n   * @return the message encoder used by this class\n   */\n  public static BinaryMessageEncoder&lt;AvroRecord&gt; getEncoder() {\n    return ENCODER;\n  }\n\n  /**\n   * Return the BinaryMessageDecoder instance used by this class.\n   * @return the message decoder used by this class\n   */\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; getDecoder() {\n    return DECODER;\n  }\n\n  /**\n   * Create a new BinaryMessageDecoder instance for this class that uses the specified {@link SchemaStore}.\n   * @param resolver a {@link SchemaStore} used to find schemas by fingerprint\n   * @return a BinaryMessageDecoder instance for this class backed by the given SchemaStore\n   */\n  public static BinaryMessageDecoder&lt;AvroRecord&gt; createDecoder(SchemaStore resolver) {\n    return new BinaryMessageDecoder&lt;AvroRecord&gt;(MODEL$, SCHEMA$, resolver);\n  }\n\n  /**\n   * Serializes this AvroRecord to a ByteBuffer.\n   * @return a buffer holding the serialized data for this instance\n   * @throws java.io.IOException if this instance could not be serialized\n   */\n  public java.nio.ByteBuffer toByteBuffer() throws java.io.IOException {\n    return ENCODER.encode(this);\n  }\n\n  /**\n   * Deserializes a AvroRecord from a ByteBuffer.\n   * @param b a byte buffer holding serialized data for an instance of this class\n   * @return a AvroRecord instance decoded from the given buffer\n   * @throws java.io.IOException if the given bytes could not be deserialized into an instance of this class\n   */\n  public static AvroRecord fromByteBuffer(\n      java.nio.ByteBuffer b) throws java.io.IOException {\n    return DECODER.decode(b);\n  }\n\n  /** car_id */\n   private java.lang.CharSequence _id;\n\n  /**\n   * Default constructor.  Note that this does not initialize fields\n   * to their default values from the schema.  If that is desired then\n   * one should use &lt;code&gt;newBuilder()&lt;/code&gt;.\n   */\n  public AvroRecord() {}\n\n  /**\n   * All-args constructor.\n   * @param _id car_id\n   */\n  public AvroRecord(java.lang.CharSequence _id) {\n    this._id = _id;\n  }\n\n  public org.apache.avro.specific.SpecificData getSpecificData() { return MODEL$; }\n  public org.apache.avro.Schema getSchema() { return SCHEMA$; }\n  // Used by DatumWriter.  Applications should not call.\n  public java.lang.Object get(int field$) {\n    switch (field$) {\n    case 0: return _id;\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\n    }\n  }\n\n  // Used by DatumReader.  Applications should not call.\n  @SuppressWarnings(value=&quot;unchecked&quot;)\n  public void put(int field$, java.lang.Object value$) {\n    switch (field$) {\n    case 0: _id = (java.lang.CharSequence)value$; break;\n    default: throw new IndexOutOfBoundsException(&quot;Invalid index: &quot; + field$);\n    }\n  }\n\n  /**\n   * Gets the value of the '_id' field.\n   * @return car_id\n   */\n  public java.lang.CharSequence getId$1() {\n    return _id;\n  }\n\n\n  /**\n   * Sets the value of the '_id' field.\n   * car_id\n   * @param value the value to set.\n   */\n  public void setId$1(java.lang.CharSequence value) {\n    this._id = value;\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder() {\n    return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder by copying an existing Builder.\n   * @param other The existing builder to copy.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\n    if (other == null) {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n    } else {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\n    }\n  }\n\n  /**\n   * Creates a new AvroRecord RecordBuilder by copying an existing AvroRecord instance.\n   * @param other The existing instance to copy.\n   * @return A new AvroRecord RecordBuilder\n   */\n  public static com.sample.dataplatform.stream.avro.AvroRecord.Builder newBuilder(com.sample.dataplatform.stream.avro.AvroRecord other) {\n    if (other == null) {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder();\n    } else {\n      return new com.sample.dataplatform.stream.avro.AvroRecord.Builder(other);\n    }\n  }\n\n  /**\n   * RecordBuilder for AvroRecord instances.\n   */\n  @org.apache.avro.specific.AvroGenerated\n  public static class Builder extends org.apache.avro.specific.SpecificRecordBuilderBase&lt;AvroRecord&gt;\n    implements org.apache.avro.data.RecordBuilder&lt;AvroRecord&gt; {\n\n    /** car_id */\n    private java.lang.CharSequence _id;\n\n    /** Creates a new Builder */\n    private Builder() {\n      super(SCHEMA$);\n    }\n\n    /**\n     * Creates a Builder by copying an existing Builder.\n     * @param other The existing Builder to copy.\n     */\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord.Builder other) {\n      super(other);\n      if (isValidValue(fields()[0], other._id)) {\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\n        fieldSetFlags()[0] = other.fieldSetFlags()[0];\n      }\n    }\n\n    /**\n     * Creates a Builder by copying an existing AvroRecord instance\n     * @param other The existing instance to copy.\n     */\n    private Builder(com.sample.dataplatform.stream.avro.AvroRecord other) {\n      super(SCHEMA$);\n      if (isValidValue(fields()[0], other._id)) {\n        this._id = data().deepCopy(fields()[0].schema(), other._id);\n        fieldSetFlags()[0] = true;\n      }\n    }\n\n    /**\n      * Gets the value of the '_id' field.\n      * car_id\n      * @return The value.\n      */\n    public java.lang.CharSequence getId$1() {\n      return _id;\n    }\n\n\n    /**\n      * Sets the value of the '_id' field.\n      * car_id\n      * @param value The value of '_id'.\n      * @return This builder.\n      */\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder setId$1(java.lang.CharSequence value) {\n      validate(fields()[0], value);\n      this._id = value;\n      fieldSetFlags()[0] = true;\n      return this;\n    }\n\n    /**\n      * Checks whether the '_id' field has been set.\n      * car_id\n      * @return True if the '_id' field has been set, false otherwise.\n      */\n    public boolean hasId$1() {\n      return fieldSetFlags()[0];\n    }\n\n\n    /**\n      * Clears the value of the '_id' field.\n      * car_id\n      * @return This builder.\n      */\n    public com.sample.dataplatform.stream.avro.AvroRecord.Builder clearId$1() {\n      _id = null;\n      fieldSetFlags()[0] = false;\n      return this;\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public AvroRecord build() {\n      try {\n        AvroRecord record = new AvroRecord();\n        record._id = fieldSetFlags()[0] ? this._id : (java.lang.CharSequence) defaultValue(fields()[0]);\n        return record;\n      } catch (org.apache.avro.AvroMissingFieldException e) {\n        throw e;\n      } catch (java.lang.Exception e) {\n        throw new org.apache.avro.AvroRuntimeException(e);\n      }\n    }\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;\n    WRITER$ = (org.apache.avro.io.DatumWriter&lt;AvroRecord&gt;)MODEL$.createDatumWriter(SCHEMA$);\n\n  @Override public void writeExternal(java.io.ObjectOutput out)\n    throws java.io.IOException {\n    WRITER$.write(this, SpecificData.getEncoder(out));\n  }\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  private static final org.apache.avro.io.DatumReader&lt;AvroRecord&gt;\n    READER$ = (org.apache.avro.io.DatumReader&lt;AvroRecord&gt;)MODEL$.createDatumReader(SCHEMA$);\n\n  @Override public void readExternal(java.io.ObjectInput in)\n    throws java.io.IOException {\n    READER$.read(this, SpecificData.getDecoder(in));\n  }\n\n  @Override protected boolean hasCustomCoders() { return true; }\n\n  @Override public void customEncode(org.apache.avro.io.Encoder out)\n    throws java.io.IOException\n  {\n    out.writeString(this._id);\n\n  }\n\n  @Override public void customDecode(org.apache.avro.io.ResolvingDecoder in)\n    throws java.io.IOException\n  {\n    org.apache.avro.Schema.Field[] fieldOrder = in.readFieldOrderIfDiff();\n    if (fieldOrder == null) {\n      this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\n\n    } else {\n      for (int i = 0; i &lt; 1; i++) {\n        switch (fieldOrder[i].pos()) {\n        case 0:\n          this._id = in.readString(this._id instanceof Utf8 ? (Utf8)this._id : null);\n          break;\n\n        default:\n          throw new java.io.IOException(&quot;Corrupt ResolvingDecoder.&quot;);\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>The AVRO schema (.avsc) file looks like this:</p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;com.sample.dataplatform.stream.avro&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;AvroRecord&quot;,\n  &quot;fields&quot;: [\n    {\n      &quot;name&quot;: &quot;_id&quot;,\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;doc&quot;: &quot;car_id&quot;\n    }\n  ]\n}\n</code></pre>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","resttemplate","get-request"],"owner":{"account_id":23260192,"reputation":1,"user_id":17346578,"display_name":"someone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679627733,"creation_date":1679627733,"question_id":75829725,"body_markdown":"I&#39;m trying to make a get request to an Api but I&#39;m always getting 404, nevertheless if try copying queryUrl in  postMan it works perfectly fine.\r\n\r\nthis is my code\r\n\r\n\r\n```\r\nHttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;X-Api-Key&quot;, dependencyTrackToken);\r\n\r\n        HttpEntity requestEntity = new HttpEntity(headers);\r\n        try {\r\n            ResponseEntity&lt;String&gt; DependencyBaseResponse = restTemplate.exchange(\r\n                    dependencyTrackUrl,\r\n                    HttpMethod.GET,\r\n                    requestEntity,\r\n                    String.class);\r\n            if (DependencyBaseResponse.getStatusCode() == HttpStatus.OK) {\r\n                String resp = DependencyBaseResponse\r\n                        .getBody();\r\n//             do what i want with resp \r\n              }\r\n            } else {\r\n                log.info(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, DependencyBaseResponse);\r\n                result.addErrorCode(DEPENDENCYTRACK_URL_UNKNOWN_ERROR_ERROR_CODE + DependencyBaseResponse.getStatusCode().name());\r\n            }\r\n\r\n        } catch (RestClientException e) {\r\n            log.error(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, e);\r\n            result.addErrorCode(DEPENDENCYTRACK_URL_CONNECTION_ERROR_ERROR_CODE);\r\n        } catch (NullPointerException e) {\r\n            result.addErrorCode(DEPENDENCYTRACK_INVALID_RESPONSE_ERROR_CODE);\r\n        }\r\n```\r\nthe url is : http://localhost:8081/api/v1/metrics/project/{project uuid}/current\r\nHelp please.\r\n\r\n\r\ni tried calling a public api and the code worked so maybe the problem is that the other api is on localhost.","title":"Spring RestTemplate exchange getting 404","body":"<p>I'm trying to make a get request to an Api but I'm always getting 404, nevertheless if try copying queryUrl in  postMan it works perfectly fine.</p>\n<p>this is my code</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;X-Api-Key&quot;, dependencyTrackToken);\n\n        HttpEntity requestEntity = new HttpEntity(headers);\n        try {\n            ResponseEntity&lt;String&gt; DependencyBaseResponse = restTemplate.exchange(\n                    dependencyTrackUrl,\n                    HttpMethod.GET,\n                    requestEntity,\n                    String.class);\n            if (DependencyBaseResponse.getStatusCode() == HttpStatus.OK) {\n                String resp = DependencyBaseResponse\n                        .getBody();\n//             do what i want with resp \n              }\n            } else {\n                log.info(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, DependencyBaseResponse);\n                result.addErrorCode(DEPENDENCYTRACK_URL_UNKNOWN_ERROR_ERROR_CODE + DependencyBaseResponse.getStatusCode().name());\n            }\n\n        } catch (RestClientException e) {\n            log.error(&quot;Dependency track response while fetching metric: {}, {}&quot;, dependencyTrackUrl, e);\n            result.addErrorCode(DEPENDENCYTRACK_URL_CONNECTION_ERROR_ERROR_CODE);\n        } catch (NullPointerException e) {\n            result.addErrorCode(DEPENDENCYTRACK_INVALID_RESPONSE_ERROR_CODE);\n        }\n</code></pre>\n<p>the url is : http://localhost:8081/api/v1/metrics/project/{project uuid}/current\nHelp please.</p>\n<p>i tried calling a public api and the code worked so maybe the problem is that the other api is on localhost.</p>\n"},{"tags":["java","android","timsort"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1679627620,"post_id":75829673,"comment_id":133759198,"body_markdown":"TimSort is a general stable sorting algorithm based on merge sort. Merge sort requires O(N) extra space.\nIf this doesn&#39;t suit your requirements I&#39;d suggest you switch to use another sorting algorithm such as Quicksort or Heapsort that are inplace and will meet your memory requirements better.","body":"TimSort is a general stable sorting algorithm based on merge sort. Merge sort requires O(N) extra space. If this doesn&#39;t suit your requirements I&#39;d suggest you switch to use another sorting algorithm such as Quicksort or Heapsort that are inplace and will meet your memory requirements better."},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679993554,"post_id":75829673,"comment_id":133816374,"body_markdown":"I don&#39;t know TimSort well enough, but it looks like tmp array is initialized with size `min(a.length / 2, 256)`, so there is room for improvement, but mostly on small(-ish) arrays","body":"I don&#39;t know TimSort well enough, but it looks like tmp array is initialized with size <code>min(a.length &#47; 2, 256)</code>, so there is room for improvement, but mostly on small(-ish) arrays"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693146201,"post_id":75829673,"comment_id":135718606,"body_markdown":"Would be good to link to the implementations.","body":"Would be good to link to the implementations."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693146486,"post_id":75829673,"comment_id":135718640,"body_markdown":"@AminM Looks like you misunderstood. They have an array of length N but only sort a sub-range of length n,. That should take only O(n) space, not O(N).","body":"@AminM Looks like you misunderstood. They have an array of length N but only sort a sub-range of length n,. That should take only O(n) space, not O(N)."},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1693240336,"post_id":75829673,"comment_id":135731356,"body_markdown":"If n is proportional to N. Then O(n) = O(N)\n\nMerge sort always requires space proportional to N to sort unfortunately.","body":"If n is proportional to N. Then O(n) = O(N)  Merge sort always requires space proportional to N to sort unfortunately."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1693244498,"post_id":75829673,"comment_id":135732068,"body_markdown":"@AminM n is independent of N (other than being limited by it), **not** proportional to N. This does **not** require space proportional to N.","body":"@AminM n is independent of N (other than being limited by it), <b>not</b> proportional to N. This does <b>not</b> require space proportional to N."}],"owner":{"account_id":14192537,"reputation":141,"user_id":10252707,"display_name":"ideal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679626903,"creation_date":1679626903,"question_id":75829673,"body_markdown":"I have been examining the TimSort algorithm implementation in both Android and Oracle JDK, and I noticed that when sorting a sub-range of an array, the temporary array used for merging is always ensured to have a capacity equal to half the length of the whole array. This seems to potentially waste memory when sorting a sub-range that is smaller than half the length of the whole array.\r\n\r\nI wonder if this behavior is intended or if it is a possible oversight in the implementation. Has anyone else noticed this, and is there any way to optimize the temporary array size when sorting sub-ranges of an array in both Android and Oracle JDK?\r\n\r\nI would appreciate any insights or suggestions on this issue. Thank you!\r\n\r\nI tried sorting a sub-range of an array using TimSort in both Android and Oracle JDK, and I expected the temporary array used for merging to be resized to match the length of the sub-range rather than half the length of the whole array.","title":"Is there a potential memory waste in Android&#39;s and Oracle JDK&#39;s TimSort when sorting a sub-range of an array?","body":"<p>I have been examining the TimSort algorithm implementation in both Android and Oracle JDK, and I noticed that when sorting a sub-range of an array, the temporary array used for merging is always ensured to have a capacity equal to half the length of the whole array. This seems to potentially waste memory when sorting a sub-range that is smaller than half the length of the whole array.</p>\n<p>I wonder if this behavior is intended or if it is a possible oversight in the implementation. Has anyone else noticed this, and is there any way to optimize the temporary array size when sorting sub-ranges of an array in both Android and Oracle JDK?</p>\n<p>I would appreciate any insights or suggestions on this issue. Thank you!</p>\n<p>I tried sorting a sub-range of an array using TimSort in both Android and Oracle JDK, and I expected the temporary array used for merging to be resized to match the length of the sub-range rather than half the length of the whole array.</p>\n"},{"tags":["java","javadoc","java-time"],"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":10,"creation_date":1679626153,"post_id":75829604,"comment_id":133759063,"body_markdown":"In general, API documentation is concerned only with the API -- the &quot;I&quot; stands for &quot;Interface&quot;. Private fields, like the ones you cited, are not part of the interface of the class, they are internal details that should not be relied on by clients of the class. So they are not documented, and as they depend on the specific implementation, the source code for that implementation is the authoritative way to find information about them.","body":"In general, API documentation is concerned only with the API -- the &quot;I&quot; stands for &quot;Interface&quot;. Private fields, like the ones you cited, are not part of the interface of the class, they are internal details that should not be relied on by clients of the class. So they are not documented, and as they depend on the specific implementation, the source code for that implementation is the authoritative way to find information about them."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679626964,"post_id":75829604,"comment_id":133759138,"body_markdown":"As aptly pointed out already, they aren&#39;t documented because they aren&#39;t part of the public API (if they exist at all). You don&#39;t actually need to know about a possible `second` field in `LocalTime` in order to understand how to _use_ `LocalTime`. That said, if you&#39;re interested in the implementation, you can always look at the source code [on GitHub](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/LocalTime.java#L126) or in the `src.zip` file included with your JDK (which is typically easiest via your IDE of choice).","body":"As aptly pointed out already, they aren&#39;t documented because they aren&#39;t part of the public API (if they exist at all). You don&#39;t actually need to know about a possible <code>second</code> field in <code>LocalTime</code> in order to understand how to <i>use</i> <code>LocalTime</code>. That said, if you&#39;re interested in the implementation, you can always look at the source code <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/time/LocalTime.java#L126\" rel=\"nofollow noreferrer\">on GitHub</a> or in the <code>src.zip</code> file included with your JDK (which is typically easiest via your IDE of choice)."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":2,"creation_date":1679629021,"post_id":75829604,"comment_id":133759350,"body_markdown":"My professor used `class Thermometer` as an example. It might have `public double getFahrenheit ()` and `public double getCelsius ()`, but internally have the temperature in Kelvin.","body":"My professor used <code>class Thermometer</code> as an example. It might have <code>public double getFahrenheit ()</code> and <code>public double getCelsius ()</code>, but internally have the temperature in Kelvin."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679645460,"post_id":75829604,"comment_id":133761529,"body_markdown":"Start by reading about encapsulation and data protection. It’s general for all programming languages and libraries that they hide the fields (instance variables) and only document the methods, even only some of them since other methods may also be hidden or private. It’s the same all over the Java standard library too. There are only a few exceptions where `protected` fields that may be used by your own subclasses are documented. You may find the source code and see what fields there are, butr (1) you have no good use for that information anyway (2) they may not exist in the next Java version.","body":"Start by reading about encapsulation and data protection. It’s general for all programming languages and libraries that they hide the fields (instance variables) and only document the methods, even only some of them since other methods may also be hidden or private. It’s the same all over the Java standard library too. There are only a few exceptions where <code>protected</code> fields that may be used by your own subclasses are documented. You may find the source code and see what fields there are, butr (1) you have no good use for that information anyway (2) they may not exist in the next Java version."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1679645631,"post_id":75829604,"comment_id":133761560,"body_markdown":"Closely related: [Java Doc - Do fields also get documented?](https://softwareengineering.stackexchange.com/questions/267306/java-doc-do-fields-also-get-documented) on StackExchange Software Engineering.","body":"Closely related: <a href=\"https://softwareengineering.stackexchange.com/questions/267306/java-doc-do-fields-also-get-documented\">Java Doc - Do fields also get documented?</a> on StackExchange Software Engineering."}],"answers":[{"tags":[],"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679626588,"creation_date":1679626033,"answer_id":75829618,"question_id":75829604,"body_markdown":"You don&#39;t actually know whether it has a `second` or `nano` field, though. Just because it has methods like `int getMinute()` doesn&#39;t mean that there&#39;s an `int minute` field. Part of encapsulation is that you interact with the classes though their _public_ API (which _is_ documented) rather than through implementation details.\r\n\r\nI could implement that `int getMinute()` method like:\r\n\r\n```java\r\nclass LocalTime {\r\n  private int negativeMinutes;\r\n\r\n  // ...\r\n\r\n  public int getMinutes() {\r\n    return -1 * negativeMinutes;\r\n  }\r\n}\r\n```\r\n\r\nor by \r\n\r\n```java\r\nclass LocalTime {\r\n  private String minutes;\r\n\r\n  // ...\r\n\r\n  public int getMinutes() {\r\n    return Integer.valueOf(minutes);\r\n  }\r\n}\r\n```\r\n\r\nand those could both be conforming implementations. They wouldn&#39;t be great implementations, but they&#39;d have the same _public_ API.  The point of the public documentation is that you don&#39;t need to know the implementation details.\r\n\r\nNow, if you&#39;re generating Javadoc for your own code, you can actually instruct Javadoc to generate documentation for fields with lower levels of visibility, like `private` fields and methods.  Those aren&#39;t all that useful for most users, though, since they probably won&#39;t be able to _call_ those methods or _access_ those fields, unless they use some reflective methods.\r\n\r\n\r\nAs to source of LocalTime, there are open source Java implementations, and you&#39;d be able to look at the source there.","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>You don't actually know whether it has a <code>second</code> or <code>nano</code> field, though. Just because it has methods like <code>int getMinute()</code> doesn't mean that there's an <code>int minute</code> field. Part of encapsulation is that you interact with the classes though their <em>public</em> API (which <em>is</em> documented) rather than through implementation details.</p>\n<p>I could implement that <code>int getMinute()</code> method like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalTime {\n  private int negativeMinutes;\n\n  // ...\n\n  public int getMinutes() {\n    return -1 * negativeMinutes;\n  }\n}\n</code></pre>\n<p>or by</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalTime {\n  private String minutes;\n\n  // ...\n\n  public int getMinutes() {\n    return Integer.valueOf(minutes);\n  }\n}\n</code></pre>\n<p>and those could both be conforming implementations. They wouldn't be great implementations, but they'd have the same <em>public</em> API.  The point of the public documentation is that you don't need to know the implementation details.</p>\n<p>Now, if you're generating Javadoc for your own code, you can actually instruct Javadoc to generate documentation for fields with lower levels of visibility, like <code>private</code> fields and methods.  Those aren't all that useful for most users, though, since they probably won't be able to <em>call</em> those methods or <em>access</em> those fields, unless they use some reflective methods.</p>\n<p>As to source of LocalTime, there are open source Java implementations, and you'd be able to look at the source there.</p>\n"},{"tags":[],"owner":{"account_id":1788336,"reputation":9155,"user_id":1629262,"accept_rate":77,"display_name":"doptimusprime"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679626138,"creation_date":1679626138,"answer_id":75829627,"question_id":75829604,"body_markdown":"Java doc is to document public fields and methods. As these fields are `private`, they are not documented. As user cannot access `private` fields or method, they are generally not included in java doc.\r\n\r\nThere are getter methods for these fields which you can find the java doc. Java doc is to help user to find the public method/fields for their use-cases. Hence, you are not finding `nano` and `second` in the java doc.","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>Java doc is to document public fields and methods. As these fields are <code>private</code>, they are not documented. As user cannot access <code>private</code> fields or method, they are generally not included in java doc.</p>\n<p>There are getter methods for these fields which you can find the java doc. Java doc is to help user to find the public method/fields for their use-cases. Hence, you are not finding <code>nano</code> and <code>second</code> in the java doc.</p>\n"}],"owner":{"account_id":25746919,"reputation":9,"user_id":19499999,"display_name":"xiaoqiang deng"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1681239414,"answer_count":2,"score":0,"last_activity_date":1679626588,"creation_date":1679625805,"question_id":75829604,"body_markdown":"When I want to known how to use some class, I look at its Javadoc. For instance, consider [LocalTime][1].  I only see documentation for static fields of that class, [`MAX`][2], and so on.  I don&#39;t see fields that I&#39;d expect it to have, such as `second` and `nano`, based on there being methods like `int getSecond()` and `int getNano()`.  Why aren&#39;t these fields documented? Why can I only learn about them by reading the source?\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n\r\n","title":"Why are some fields that probably exist not documented in Javadoc?","body":"<p>When I want to known how to use some class, I look at its Javadoc. For instance, consider <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"nofollow noreferrer\">LocalTime</a>.  I only see documentation for static fields of that class, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html#MAX\" rel=\"nofollow noreferrer\"><code>MAX</code></a>, and so on.  I don't see fields that I'd expect it to have, such as <code>second</code> and <code>nano</code>, based on there being methods like <code>int getSecond()</code> and <code>int getNano()</code>.  Why aren't these fields documented? Why can I only learn about them by reading the source?</p>\n"},{"tags":["java","string","frequency"],"comments":[{"owner":{"account_id":275158,"reputation":33180,"user_id":567864,"display_name":"Corbin"},"score":2,"creation_date":1337335654,"post_id":10650594,"comment_id":13810385,"body_markdown":"The most straight forward solution would be a java.util.HashMap&lt;Character, Integer&gt;","body":"The most straight forward solution would be a java.util.HashMap&lt;Character, Integer&gt;"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":0,"creation_date":1337335736,"post_id":10650594,"comment_id":13810421,"body_markdown":"How about you show us what you&#39;ve done, then we can work from there? I&#39;m sure we could all learn from it.","body":"How about you show us what you&#39;ve done, then we can work from there? I&#39;m sure we could all learn from it."},{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337335931,"post_id":10650594,"comment_id":13810502,"body_markdown":"I tried using the variation of using map.put(character, charCount=null?charCount=0:charCount+1) but this code can gives me the sum of each character and I have hard time getting the value part of this map &quot;map(Key, Value)&quot;.","body":"I tried using the variation of using map.put(character, charCount=null?charCount=0:charCount+1) but this code can gives me the sum of each character and I have hard time getting the value part of this map &quot;map(Key, Value)&quot;."},{"owner":{"account_id":1133207,"reputation":792,"user_id":1118801,"accept_rate":44,"display_name":"Abhilash"},"score":0,"creation_date":1337336689,"post_id":10650594,"comment_id":13810800,"body_markdown":"it should be charCount = map.get(character); map.put(character,charCount=null?0:charCount+1). Note the charCount variable is local and inside the loop ( I assume you have a loop to pick each char in the word). do a type cast to number when required.","body":"it should be charCount = map.get(character); map.put(character,charCount=null?0:charCount+1). Note the charCount variable is local and inside the loop ( I assume you have a loop to pick each char in the word). do a type cast to number when required."}],"answers":[{"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337336493,"post_id":10650651,"comment_id":13810726,"body_markdown":"I can&#39;t remove the space because its part of unique characters. Also I don&#39;t think that counting from a-z - A-Z would is not that efficient as I need to do this at least 80M Strings with each string having a minimum of 0-700 characters. But thank you for replying.","body":"I can&#39;t remove the space because its part of unique characters. Also I don&#39;t think that counting from a-z - A-Z would is not that efficient as I need to do this at least 80M Strings with each string having a minimum of 0-700 characters. But thank you for replying."},{"owner":{"account_id":366953,"reputation":348,"user_id":712810,"display_name":"Helium"},"score":0,"creation_date":1337336968,"post_id":10650651,"comment_id":13810908,"body_markdown":"@dimas: 80M string is not a big one actually, since you can iterate all of the chars in less than a second. If you need exact answers, you need to iterate all of the chars, otherwise, how can you count the frequency? Another way, if approximate results is acceptable for you, is random sampling of the chars.","body":"@dimas: 80M string is not a big one actually, since you can iterate all of the chars in less than a second. If you need exact answers, you need to iterate all of the chars, otherwise, how can you count the frequency? Another way, if approximate results is acceptable for you, is random sampling of the chars."},{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337337960,"post_id":10650651,"comment_id":13811357,"body_markdown":"Hi Mohsen the data am trying to manipulate is already sampled the original number of Strings is 1.7B for approximately 14 hrs of data gathering. I still need 4 more days each with 14 hrs. thank your thoughts on it though.","body":"Hi Mohsen the data am trying to manipulate is already sampled the original number of Strings is 1.7B for approximately 14 hrs of data gathering. I still need 4 more days each with 14 hrs. thank your thoughts on it though."}],"tags":[],"owner":{"account_id":1491238,"reputation":153,"user_id":1398276,"accept_rate":75,"display_name":"Aruscher"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679625693,"creation_date":1337335732,"answer_id":10650651,"question_id":10650594,"body_markdown":"I do not think that this is the best way, but you can count each letter [a-z][A-Z] and remove every `&quot; &quot;` and then calculate = count of letter/all letters.","title":"Getting relative frequency of each character in a string in java","body":"<p>I do not think that this is the best way, but you can count each letter [a-z][A-Z] and remove every <code>&quot; &quot;</code> and then calculate = count of letter/all letters.</p>\n"},{"comments":[{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337337669,"post_id":10650967,"comment_id":13811212,"body_markdown":"Hi I like your code but I think its the same output as to what I have. I&#39;ll use this variation soon. thanks for your help!","body":"Hi I like your code but I think its the same output as to what I have. I&#39;ll use this variation soon. thanks for your help!"},{"owner":{"account_id":1133207,"reputation":792,"user_id":1118801,"accept_rate":44,"display_name":"Abhilash"},"score":0,"creation_date":1337337703,"post_id":10650967,"comment_id":13811228,"body_markdown":"Is there any specific reason for choosing TreeMap over other Map implementations in this case?","body":"Is there any specific reason for choosing TreeMap over other Map implementations in this case?"},{"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"score":0,"creation_date":1337338303,"post_id":10650967,"comment_id":13811494,"body_markdown":"If you ask me it helps in my case because its easy to sort out the values obtain inside treemap. Other than that I don&#39;t know.","body":"If you ask me it helps in my case because its easy to sort out the values obtain inside treemap. Other than that I don&#39;t know."},{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":0,"creation_date":1337426506,"post_id":10650967,"comment_id":13833510,"body_markdown":"@Abhilash: Any map is ok, I had a different printout part first where all characters were printed in alphabetical order, and didn&#39;t change map type afterwards.","body":"@Abhilash: Any map is ok, I had a different printout part first where all characters were printed in alphabetical order, and didn&#39;t change map type afterwards."}],"tags":[],"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1337337093,"creation_date":1337337093,"answer_id":10650967,"question_id":10650594,"body_markdown":"Here&#39;s my suggestion. Start by iterating over every character in the String, update freq if found else add 1. Then iterate again to print result :\r\n\r\n    \t\tString s = &quot;The big brown fox&quot;;\r\n\t\tMap&lt;Character, Float&gt; m = new TreeMap&lt;Character, Float&gt;();\r\n\t\tfor (char c : s.toCharArray()) {\r\n\t\t\tif (m.containsKey(c))\r\n\t\t\t\tm.put(c, m.get(c) + 1);\r\n\t\t\telse\r\n\t\t\t\tm.put(c, 1f);\r\n\t\t}\r\n\r\n\t\tfor (char c : s.toCharArray()) {\r\n\t\t\tfloat freq = m.get(c) / s.length();\r\n\t\t\tSystem.out.println(c + &quot; &quot; + freq);\r\n\t\t}\r\n","title":"Getting relative frequency of each character in a string in java","body":"<p>Here's my suggestion. Start by iterating over every character in the String, update freq if found else add 1. Then iterate again to print result :</p>\n\n<pre><code>        String s = \"The big brown fox\";\n    Map&lt;Character, Float&gt; m = new TreeMap&lt;Character, Float&gt;();\n    for (char c : s.toCharArray()) {\n        if (m.containsKey(c))\n            m.put(c, m.get(c) + 1);\n        else\n            m.put(c, 1f);\n    }\n\n    for (char c : s.toCharArray()) {\n        float freq = m.get(c) / s.length();\n        System.out.println(c + \" \" + freq);\n    }\n</code></pre>\n"}],"owner":{"account_id":1404077,"reputation":2487,"user_id":1332264,"accept_rate":61,"display_name":"dimas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10650967,"answer_count":2,"score":0,"last_activity_date":1679625693,"creation_date":1337335507,"question_id":10650594,"body_markdown":"I wanted to get the average of each unique character in a string. I have an example here as it would be easier to illustrate it.\r\n\r\nString: \r\n\r\n    The big brown fox\r\n\r\nAverage of each character including spaces:\r\n\r\n    T = 1/17 = .058\r\n    h = 1/17 = .058\r\n    e = 1/17 = .058\r\n    &#39; &#39;= 3/17 = .176\r\n    b = 2/17 = .117\r\n    i = 1/17 = .058\r\n    g = 1/17 = .058\r\n    r = 1/17 = .058\r\n    o = 2/17 = .117\r\n    w = 1/17 = .058\r\n    n = 1/17 = .058\r\n    f = 1/17 = .058\r\n    x = 1/17 = .058\r\n\r\nSo far all my attempts have failed, think my brain is not working at the moment. How do I code this? Any help or input will be greatly appreciated. \r\n\r\nI have this code as a solution. It just came to me when I was copy pasting my code here in stack. I hope this is not a re-post because I just answered the same thing a few minutes ago but it didn&#39;t show up.\r\n\r\n   \r\n\r\n     Map&lt;String, Integer&gt; storeCharCount = new HashMap&lt;String, Integer&gt;();\r\n    \t\t\r\n    \t\tString a = &quot;The big brown fox&quot;;\r\n    \t\t\r\n    \t\t\r\n    \t\tfor (int x=0; x&lt;a.length(); x++){\r\n    \t\t\tchar getChar = a.charAt(x);\r\n    \t\t\tString convGetChar = Character.toString(getChar);\r\n    \t\t\t\r\n    \t\t\tInteger countChar = storeCharCount.get(convGetChar);\r\n    \t\t\tstoreCharCount.put(convGetChar, (countChar==null?countChar=1:countChar+1));\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Map: &quot;+ storeCharCount);\r\n    \t\tdouble RelFrequency = 0;\r\n    \t\tfor (Map.Entry&lt;String, Integer&gt; getValue: storeCharCount.entrySet()){\r\n    \t\t\t\r\n    \t\t\tRelFrequency = (double)(getValue.getValue())/(a.length());\r\n    \t\t\tSystem.out.println(&quot;Character &quot;+getValue.getKey() +&quot;  Relative Frequency: &quot;+RelFrequency);\r\n    \t\t\t\r\n    \t\t}\r\n\t\t\r\n\r\nHere is the output\r\n\r\n    Map: {f=1, g=1,  =3, e=1, b=2, n=1, o=2, h=1, i=1, w=1, T=1, r=1, x=1}\r\n    Character f  Relative Frequency: 0.058823529411764705\r\n    Character g  Relative Frequency: 0.058823529411764705\r\n    Character    Relative Frequency: 0.17647058823529413\r\n    Character e  Relative Frequency: 0.058823529411764705\r\n    Character b  Relative Frequency: 0.11764705882352941\r\n    Character n  Relative Frequency: 0.058823529411764705\r\n    Character o  Relative Frequency: 0.11764705882352941\r\n    Character h  Relative Frequency: 0.058823529411764705\r\n    Character i  Relative Frequency: 0.058823529411764705\r\n    Character w  Relative Frequency: 0.058823529411764705\r\n    Character T  Relative Frequency: 0.058823529411764705\r\n    Character r  Relative Frequency: 0.058823529411764705\r\n    Character x  Relative Frequency: 0.058823529411764705\t","title":"Getting relative frequency of each character in a string in java","body":"<p>I wanted to get the average of each unique character in a string. I have an example here as it would be easier to illustrate it.</p>\n\n<p>String: </p>\n\n<pre><code>The big brown fox\n</code></pre>\n\n<p>Average of each character including spaces:</p>\n\n<pre><code>T = 1/17 = .058\nh = 1/17 = .058\ne = 1/17 = .058\n' '= 3/17 = .176\nb = 2/17 = .117\ni = 1/17 = .058\ng = 1/17 = .058\nr = 1/17 = .058\no = 2/17 = .117\nw = 1/17 = .058\nn = 1/17 = .058\nf = 1/17 = .058\nx = 1/17 = .058\n</code></pre>\n\n<p>So far all my attempts have failed, think my brain is not working at the moment. How do I code this? Any help or input will be greatly appreciated. </p>\n\n<p>I have this code as a solution. It just came to me when I was copy pasting my code here in stack. I hope this is not a re-post because I just answered the same thing a few minutes ago but it didn't show up.</p>\n\n<pre><code> Map&lt;String, Integer&gt; storeCharCount = new HashMap&lt;String, Integer&gt;();\n\n        String a = \"The big brown fox\";\n\n\n        for (int x=0; x&lt;a.length(); x++){\n            char getChar = a.charAt(x);\n            String convGetChar = Character.toString(getChar);\n\n            Integer countChar = storeCharCount.get(convGetChar);\n            storeCharCount.put(convGetChar, (countChar==null?countChar=1:countChar+1));\n\n        }\n        System.out.println(\"Map: \"+ storeCharCount);\n        double RelFrequency = 0;\n        for (Map.Entry&lt;String, Integer&gt; getValue: storeCharCount.entrySet()){\n\n            RelFrequency = (double)(getValue.getValue())/(a.length());\n            System.out.println(\"Character \"+getValue.getKey() +\"  Relative Frequency: \"+RelFrequency);\n\n        }\n</code></pre>\n\n<p>Here is the output</p>\n\n<pre><code>Map: {f=1, g=1,  =3, e=1, b=2, n=1, o=2, h=1, i=1, w=1, T=1, r=1, x=1}\nCharacter f  Relative Frequency: 0.058823529411764705\nCharacter g  Relative Frequency: 0.058823529411764705\nCharacter    Relative Frequency: 0.17647058823529413\nCharacter e  Relative Frequency: 0.058823529411764705\nCharacter b  Relative Frequency: 0.11764705882352941\nCharacter n  Relative Frequency: 0.058823529411764705\nCharacter o  Relative Frequency: 0.11764705882352941\nCharacter h  Relative Frequency: 0.058823529411764705\nCharacter i  Relative Frequency: 0.058823529411764705\nCharacter w  Relative Frequency: 0.058823529411764705\nCharacter T  Relative Frequency: 0.058823529411764705\nCharacter r  Relative Frequency: 0.058823529411764705\nCharacter x  Relative Frequency: 0.058823529411764705   \n</code></pre>\n"},{"tags":["java","string","string-formatting"],"comments":[{"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"score":0,"creation_date":1342590681,"post_id":11534964,"comment_id":15250377,"body_markdown":"not sure but can you check without casting string array to object?","body":"not sure but can you check without casting string array to object?"}],"answers":[{"comments":[{"owner":{"account_id":1467903,"reputation":653,"user_id":1380250,"accept_rate":56,"display_name":"mevqz"},"score":2,"creation_date":1342591364,"post_id":11535009,"comment_id":15250531,"body_markdown":"Thanks, it works with Object[] cast. The cast is necessary to avoid a compilation warning. Thanks again.","body":"Thanks, it works with Object[] cast. The cast is necessary to avoid a compilation warning. Thanks again."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":3,"creation_date":1342592214,"post_id":11535009,"comment_id":15250724,"body_markdown":"@Dragurne - To avoid the compiler warning and the cast, you could use `new Object[]{&quot;John&quot;,&quot;Connor&quot;}`.","body":"@Dragurne - To avoid the compiler warning and the cast, you could use <code>new Object[]{&quot;John&quot;,&quot;Connor&quot;}</code>."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1679625322,"creation_date":1342590655,"answer_id":11535009,"question_id":11534964,"body_markdown":"The problem is that after the cast to `Object`, the compiler doesn&#39;t know that you&#39;re passing an array. Try casting the second argument to `(Object[])` instead of `(Object)`.\r\n\r\n    System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nOr just don&#39;t use a cast at all:\r\n\r\n    System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nalthough that might generate a compiler warning. (See [this answer][1] for a little more info.)\r\n\r\nThe cleanest, I think, would be to avoid a `String[]` in the first place:\r\n\r\n    System.out.println(String.format(f, new Object[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2925300/535871","title":"String.format() takes an array as a single argument","body":"<p>The problem is that after the cast to <code>Object</code>, the compiler doesn't know that you're passing an array. Try casting the second argument to <code>(Object[])</code> instead of <code>(Object)</code>.</p>\n<pre><code>System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>Or just don't use a cast at all:</p>\n<pre><code>System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>although that might generate a compiler warning. (See <a href=\"https://stackoverflow.com/a/2925300/535871\">this answer</a> for a little more info.)</p>\n<p>The cleanest, I think, would be to avoid a <code>String[]</code> in the first place:</p>\n<pre><code>System.out.println(String.format(f, new Object[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1613555808,"creation_date":1342591247,"answer_id":11535105,"question_id":11534964,"body_markdown":"Use this : (I would recommend this way) \r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nOR\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nBut if you use this way, you will get following warning : \r\n\r\n&gt;The argument of type `String[]` should explicitly be cast to `Object[]` for the invocation of the `varargs` method `format(String, Object...)` from type `String`. It could alternatively be cast to `Object` for a `varargs` invocation.","title":"String.format() takes an array as a single argument","body":"<p>Use this : (I would recommend this way)</p>\n<pre><code>String f = &quot;Mi name is %s %s.&quot;;\nSystem.out.println(String.format(f, (Object[])new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>OR</p>\n<pre><code>String f = &quot;Mi name is %s %s.&quot;;\nSystem.out.println(String.format(f, new String[]{&quot;John&quot;,&quot;Connor&quot;}));\n</code></pre>\n<p>But if you use this way, you will get following warning :</p>\n<blockquote>\n<p>The argument of type <code>String[]</code> should explicitly be cast to <code>Object[]</code> for the invocation of the <code>varargs</code> method <code>format(String, Object...)</code> from type <code>String</code>. It could alternatively be cast to <code>Object</code> for a <code>varargs</code> invocation.</p>\n</blockquote>\n"}],"owner":{"account_id":1467903,"reputation":653,"user_id":1380250,"accept_rate":56,"display_name":"mevqz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35741,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":11535009,"answer_count":2,"score":19,"last_activity_date":1679625322,"creation_date":1342590362,"question_id":11534964,"body_markdown":"Why this does work OK?:\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, &quot;John&quot;, &quot;Connor&quot;));\r\n\r\nAnd this doesnt?:\r\n\r\n    String f = &quot;Mi name is %s %s.&quot;;\r\n    System.out.println(String.format(f, (Object)new String[]{&quot;John&quot;,&quot;Connor&quot;}));\r\n\r\nIf the method String.format takes a vararg Object?\r\n\r\nIt compiles OK but when I execute this the String.format() takes the vararg Object as a single an unique argument (the toString() value of the array itself), so it throws a MissingFormatArgumentException because it cannot match with the second string specifier (%s).\r\n\r\nHow can I make it work?\r\nThanks in advance, any help will be greatly appreciated.","title":"String.format() takes an array as a single argument","body":"<p>Why this does work OK?:</p>\n\n<pre><code>String f = \"Mi name is %s %s.\";\nSystem.out.println(String.format(f, \"John\", \"Connor\"));\n</code></pre>\n\n<p>And this doesnt?:</p>\n\n<pre><code>String f = \"Mi name is %s %s.\";\nSystem.out.println(String.format(f, (Object)new String[]{\"John\",\"Connor\"}));\n</code></pre>\n\n<p>If the method String.format takes a vararg Object?</p>\n\n<p>It compiles OK but when I execute this the String.format() takes the vararg Object as a single an unique argument (the toString() value of the array itself), so it throws a MissingFormatArgumentException because it cannot match with the second string specifier (%s).</p>\n\n<p>How can I make it work?\nThanks in advance, any help will be greatly appreciated.</p>\n"},{"tags":["java","java-stream","flatmap"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1679565520,"post_id":75821491,"comment_id":133745628,"body_markdown":"No, you can&#39;t. If you want to do something for each `passenger`, either do it before `flatMap` (maybe using `peek`) or during `flatMap`.","body":"No, you can&#39;t. If you want to do something for each <code>passenger</code>, either do it before <code>flatMap</code> (maybe using <code>peek</code>) or during <code>flatMap</code>."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679565693,"post_id":75821491,"comment_id":133745669,"body_markdown":"Maybe this would be useful in this situation? https://stackoverflow.com/a/37314626/16034206","body":"Maybe this would be useful in this situation? <a href=\"https://stackoverflow.com/a/37314626/16034206\">stackoverflow.com/a/37314626/16034206</a>"},{"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"score":0,"creation_date":1679565701,"post_id":75821491,"comment_id":133745672,"body_markdown":"For Joachim: That&#39;s not possible, because in the foreach, I need to call a method that uses passenger and ancillary.","body":"For Joachim: That&#39;s not possible, because in the foreach, I need to call a method that uses passenger and ancillary."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1679565754,"post_id":75821491,"comment_id":133745691,"body_markdown":"If you need to do something for each passenger/ancillary combo then you might need to do it to the stream you&#39;re creating inside `flatMap()`, e.g. `flatMap(pass -&gt; pass.getAncillaries().stream().peek(anc -&gt; /* do it here*/))` or if all you are after is `forEach()` just nest those: `passengers.forEach(pass -&gt; pass.getAncillaries().forEach(anc -&gt; ...))`.","body":"If you need to do something for each passenger/ancillary combo then you might need to do it to the stream you&#39;re creating inside <code>flatMap()</code>, e.g. <code>flatMap(pass -&gt; pass.getAncillaries().stream().peek(anc -&gt; &#47;* do it here*&#47;))</code> or if all you are after is <code>forEach()</code> just nest those: <code>passengers.forEach(pass -&gt; pass.getAncillaries().forEach(anc -&gt; ...))</code>."},{"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"score":0,"creation_date":1679566831,"post_id":75821491,"comment_id":133745960,"body_markdown":"I think that Thomas&#39;s solution is the best, although perhaps it is better to chain the foreach, than to use peek (I have verified it and it works perfectly) but not for totally compliant.","body":"I think that Thomas&#39;s solution is the best, although perhaps it is better to chain the foreach, than to use peek (I have verified it and it works perfectly) but not for totally compliant."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679577134,"post_id":75821491,"comment_id":133748605,"body_markdown":"What does `foo` do?  Would it print something, return an object?","body":"What does <code>foo</code> do?  Would it print something, return an object?"}],"answers":[{"tags":[],"owner":{"account_id":27868102,"reputation":34,"user_id":21279235,"display_name":"LQF-developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679566545,"creation_date":1679566436,"answer_id":75821708,"question_id":75821491,"body_markdown":"in the line of code:\r\n```\r\n.flatMap(passenger-&gt; passenger.getAncillaries().stream())  \r\n// Only Ancillaries type objects exist in the stream\r\n```        \r\nso you can not write codes like this:\r\n```\r\n.forEach(ancillary -&gt; {\r\n    passenger.getName();// can not access to the passenger object\r\n}\r\n```\r\nThis is the right answer:\r\n\r\n```\r\n.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \r\n.forEach(item -&gt; {\r\n    item.getXXX();//item references 【passenger.getAncillaries()】\r\n}\r\n```\r\n","title":"Reference original object after flatMap","body":"<p>in the line of code:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())  \n// Only Ancillaries type objects exist in the stream\n</code></pre>\n<p>so you can not write codes like this:</p>\n<pre><code>.forEach(ancillary -&gt; {\n    passenger.getName();// can not access to the passenger object\n}\n</code></pre>\n<p>This is the right answer:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \n.forEach(item -&gt; {\n    item.getXXX();//item references 【passenger.getAncillaries()】\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"score":0,"creation_date":1679568156,"post_id":75821800,"comment_id":133746293,"body_markdown":"This solution is great. In the example code, I forgot to put that you have to filter the passengers. Is it possible to make a filter inside the foreach?","body":"This solution is great. In the example code, I forgot to put that you have to filter the passengers. Is it possible to make a filter inside the foreach?"}],"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679585721,"creation_date":1679566973,"answer_id":75821800,"question_id":75821491,"body_markdown":"In Java 17, you can do that using a `record` (a class would be fine too in older version):\r\n\r\n    record PassengerAndAncillary(Passenger passenger, Ancillary ancillary) {}\r\n    \r\n    // \r\n    passengers.flatMap(passenger-&gt; passenger.getAncillaries()\r\n                                  .stream()\r\n                                  .map(ancillary -&gt; new PassengerAndAncillary(passenger, ancillary)                                                                    )\r\n    .forEach(pa -&gt; {\r\n        foo(pa.passenger(), pa.ancillary());\r\n    });\r\n\r\nBetter then: let foo take PassengerAndAncillary and you are done:\r\n\r\n    .forEach(this::foo)\r\n\r\n\r\nIf you don&#39;t want to roll up your own class, you can also use:\r\n\r\n- [Pair from commons-lang3](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html)\r\n- [AbstractMap.SimpleImmutableEntry from JDK itself](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleImmutableEntry.html)\r\n\r\nYou would however be best, in this case where you don&#39;t use the `Stream`, to not use a `Stream` at all:\r\n\r\n    passengers.forEach(passenger -&gt; {\r\n      passenger.getAncillaries().forEach(ancillary -&gt; {\r\n        foo(passenger, ancillary);\r\n      });\r\n    });\r\n\r\n--\r\nEdit (for the comment):\r\n\r\nI&#39;d say that filtering before/after all boils down to performance issues:\r\n\r\n- if you do no filter nor use parallel streams, I do think the `forEach` based loop would be better because you are simply not using the `Stream`.\r\n- if you need only filter on passenger, do it before `flatMap`: the resulting stream would be shorter, resulting in less invocation on `flatMap` function (and less `record PassengerAndAncillary` too).\r\n- if you need only filter on ancillary (not both), do it in the flatMap function: you won&#39;t create needless object for unmatched ancillary.\r\n- if you need to perform on both, do it before `forEach` on `PassengerAndAncillary`.\r\n\r\n","title":"Reference original object after flatMap","body":"<p>In Java 17, you can do that using a <code>record</code> (a class would be fine too in older version):</p>\n<pre><code>record PassengerAndAncillary(Passenger passenger, Ancillary ancillary) {}\n\n// \npassengers.flatMap(passenger-&gt; passenger.getAncillaries()\n                              .stream()\n                              .map(ancillary -&gt; new PassengerAndAncillary(passenger, ancillary)                                                                    )\n.forEach(pa -&gt; {\n    foo(pa.passenger(), pa.ancillary());\n});\n</code></pre>\n<p>Better then: let foo take PassengerAndAncillary and you are done:</p>\n<pre><code>.forEach(this::foo)\n</code></pre>\n<p>If you don't want to roll up your own class, you can also use:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">Pair from commons-lang3</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/AbstractMap.SimpleImmutableEntry.html\" rel=\"nofollow noreferrer\">AbstractMap.SimpleImmutableEntry from JDK itself</a></li>\n</ul>\n<p>You would however be best, in this case where you don't use the <code>Stream</code>, to not use a <code>Stream</code> at all:</p>\n<pre><code>passengers.forEach(passenger -&gt; {\n  passenger.getAncillaries().forEach(ancillary -&gt; {\n    foo(passenger, ancillary);\n  });\n});\n</code></pre>\n<p>--\nEdit (for the comment):</p>\n<p>I'd say that filtering before/after all boils down to performance issues:</p>\n<ul>\n<li>if you do no filter nor use parallel streams, I do think the <code>forEach</code> based loop would be better because you are simply not using the <code>Stream</code>.</li>\n<li>if you need only filter on passenger, do it before <code>flatMap</code>: the resulting stream would be shorter, resulting in less invocation on <code>flatMap</code> function (and less <code>record PassengerAndAncillary</code> too).</li>\n<li>if you need only filter on ancillary (not both), do it in the flatMap function: you won't create needless object for unmatched ancillary.</li>\n<li>if you need to perform on both, do it before <code>forEach</code> on <code>PassengerAndAncillary</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579327,"creation_date":1679578860,"answer_id":75823783,"question_id":75821491,"body_markdown":"Another alternative to using `flatMap` is to use [mapMulti (Java 16)](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)) in conjunction with [Map.entry](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#entry(K,V))\r\n\r\n- Stream the passengers as you normally would\r\n- the you can filter the Passenger as required. If the filter predicate returns true, the filtered object is passed thru.\r\n- then invoke `mapMulti`, which takes the streamed object and a consumer. Note that  mapMulti is type witnessed to reflect the new type that is placed on the stream.  In this case `Map.Entry`\r\n- Use a loop to iterate thru the Ancillary list and then package in `Map.Entry`.  `Consumer.accept` puts that on the stream for subsequent processing.\r\n``` \r\npassengers.stream()\r\n       .filter(passenger -&gt; passenger.isSomething)\r\n              .&lt;Map.Entry&lt;Passenger, Ancillary&gt;&gt;mapMulti((passenger, consumer) -&gt; {\r\n                    for (Ancillary ancillary : passenger.getAncillaries) {\r\n                        consumer.accept(\r\n                                Map.entry(passenger, ancillary));\r\n                    }\r\n                })\r\n        .forEach(e -&gt; foo(e.getKey(), e.getValue()));\r\n```\r\n","title":"Reference original object after flatMap","body":"<p>Another alternative to using <code>flatMap</code> is to use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">mapMulti (Java 16)</a> in conjunction with <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#entry(K,V)\" rel=\"nofollow noreferrer\">Map.entry</a></p>\n<ul>\n<li>Stream the passengers as you normally would</li>\n<li>the you can filter the Passenger as required. If the filter predicate returns true, the filtered object is passed thru.</li>\n<li>then invoke <code>mapMulti</code>, which takes the streamed object and a consumer. Note that  mapMulti is type witnessed to reflect the new type that is placed on the stream.  In this case <code>Map.Entry</code></li>\n<li>Use a loop to iterate thru the Ancillary list and then package in <code>Map.Entry</code>.  <code>Consumer.accept</code> puts that on the stream for subsequent processing.</li>\n</ul>\n<pre><code>passengers.stream()\n       .filter(passenger -&gt; passenger.isSomething)\n              .&lt;Map.Entry&lt;Passenger, Ancillary&gt;&gt;mapMulti((passenger, consumer) -&gt; {\n                    for (Ancillary ancillary : passenger.getAncillaries) {\n                        consumer.accept(\n                                Map.entry(passenger, ancillary));\n                    }\n                })\n        .forEach(e -&gt; foo(e.getKey(), e.getValue()));\n</code></pre>\n"}],"owner":{"account_id":28100175,"reputation":1,"user_id":21469216,"display_name":"Yentini"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679624820,"creation_date":1679565185,"question_id":75821491,"body_markdown":"Is it possible to reference the original object after flatMap?\r\n\r\nFor example:\r\n\r\n    .flatMap(passenger-&gt; passenger.getAncillaries().stream())\t\t\t\t\t\t\t\t\t\t\t\t                     \r\n    .forEach(ancillary -&gt; {\r\n        [Can here reference passenger?]\r\n        foo(passenger, ancillary); ?????\r\n    }\r\n\r\nThanks.\r\n\r\nRegards.\r\n\r\n","title":"Reference original object after flatMap","body":"<p>Is it possible to reference the original object after flatMap?</p>\n<p>For example:</p>\n<pre><code>.flatMap(passenger-&gt; passenger.getAncillaries().stream())                                                                    \n.forEach(ancillary -&gt; {\n    [Can here reference passenger?]\n    foo(passenger, ancillary); ?????\n}\n</code></pre>\n<p>Thanks.</p>\n<p>Regards.</p>\n"},{"tags":["java","spring","postgresql","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":10335627,"reputation":13845,"user_id":7623856,"display_name":"Belayer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679624477,"creation_date":1679624477,"answer_id":75829531,"question_id":75789947,"body_markdown":"Yes. What you want is possible with native sql and is possible directly. I am not sure where you thought directly was not possible but perhaps from your query itself. It is invalid and would be so even without the data being Json. You have a `where` clause but no predicates after it. The structure `where order...` is invalid. But a direct cast would in `order by` is valid whit a valid `where` clause. (see [demo][2]).  &lt;br/&gt;\r\nAs far as encapsulating the cast in a function there is nothing wrong with doing so. However, you can substantially reduce the complexity by creating a SQL function instead of an pgplsql one, and has [other advantages][1]; see selected answer. Your function rewritten as SQL function: (also in demo)\r\n\r\n    create or replace function cast_number(str varchar)\r\n        returns decimal\r\n        immutable\r\n        language sql\r\n    as $$\r\n       select cast(str as decimal);\r\n    $$;\r\n\r\n\r\nNOTE: \r\n\r\n - immutable added but not essential (check it out)\r\n - changed return type to match cast. Not required but a good habit to form matching what is actually returned to the declared return type.\r\n\r\n  \r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24755468/difference-between-language-sql-and-language-plpgsql-in-postgresql-functions\r\n  [2]: https://dbfiddle.uk/371LssXv","title":"Order a query with Specification and Criteria Builder with a Postgres JSONB attribute as a number","body":"<p>Yes. What you want is possible with native sql and is possible directly. I am not sure where you thought directly was not possible but perhaps from your query itself. It is invalid and would be so even without the data being Json. You have a <code>where</code> clause but no predicates after it. The structure <code>where order...</code> is invalid. But a direct cast would in <code>order by</code> is valid whit a valid <code>where</code> clause. (see <a href=\"https://dbfiddle.uk/371LssXv\" rel=\"nofollow noreferrer\">demo</a>).  <br/>\nAs far as encapsulating the cast in a function there is nothing wrong with doing so. However, you can substantially reduce the complexity by creating a SQL function instead of an pgplsql one, and has <a href=\"https://stackoverflow.com/questions/24755468/difference-between-language-sql-and-language-plpgsql-in-postgresql-functions\">other advantages</a>; see selected answer. Your function rewritten as SQL function: (also in demo)</p>\n<pre><code>create or replace function cast_number(str varchar)\n    returns decimal\n    immutable\n    language sql\nas $$\n   select cast(str as decimal);\n$$;\n</code></pre>\n<p>NOTE:</p>\n<ul>\n<li>immutable added but not essential (check it out)</li>\n<li>changed return type to match cast. Not required but a good habit to form matching what is actually returned to the declared return type.</li>\n</ul>\n"}],"owner":{"account_id":9341144,"reputation":173,"user_id":6933895,"display_name":"Riberto Junior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75829531,"answer_count":1,"score":0,"last_activity_date":1679624477,"creation_date":1679313308,"question_id":75789947,"body_markdown":"Got a table in a postgres database with a jsonb column and needed to order a query using a specific key in the json as a numeric value, it is possible with native sql:\r\n\r\n```\r\nselect key-&gt;&gt;value from table where order by CAST(key-&gt;&gt;value AS DECIMAL);\r\n```\r\nBut with specification it is no possible directly, so I&#39;ve encapsulate the operator **CAST** in a function and call it when building the order clause in the specification factory.\r\n\r\n\r\n```\r\ncreate or replace function cast_number(str varchar)\r\n   returns real\r\n   language plpgsql\r\n  as\r\n$$\r\ndeclare \r\nnew_number real;\r\nbegin\r\n select cast(str as decimal)\r\n into new_number;\r\n return new_number;\r\nend;\r\n```\r\n\r\nand I call it using CriteriaBuilder::function after calling **jsonb_extract_path_text** also via criteria builder.\r\nStill no sure about the performance here tbh\r\n\r\n\r\nDid not found anything about this anywhere, so I want to share my solution and see what people think of it.","title":"Order a query with Specification and Criteria Builder with a Postgres JSONB attribute as a number","body":"<p>Got a table in a postgres database with a jsonb column and needed to order a query using a specific key in the json as a numeric value, it is possible with native sql:</p>\n<pre><code>select key-&gt;&gt;value from table where order by CAST(key-&gt;&gt;value AS DECIMAL);\n</code></pre>\n<p>But with specification it is no possible directly, so I've encapsulate the operator <strong>CAST</strong> in a function and call it when building the order clause in the specification factory.</p>\n<pre><code>create or replace function cast_number(str varchar)\n   returns real\n   language plpgsql\n  as\n$$\ndeclare \nnew_number real;\nbegin\n select cast(str as decimal)\n into new_number;\n return new_number;\nend;\n</code></pre>\n<p>and I call it using CriteriaBuilder::function after calling <strong>jsonb_extract_path_text</strong> also via criteria builder.\nStill no sure about the performance here tbh</p>\n<p>Did not found anything about this anywhere, so I want to share my solution and see what people think of it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1679623657,"post_id":75829465,"comment_id":133758824,"body_markdown":"I think you are directly comparing the array objects and not the contents with .equals, you should probably try the Arrays utility `Arrays.equals()`","body":"I think you are directly comparing the array objects and not the contents with .equals, you should probably try the Arrays utility <code>Arrays.equals()</code>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1679624129,"post_id":75829465,"comment_id":133758864,"body_markdown":"Does this answer your question? [Java Array HashCode implementation](https://stackoverflow.com/questions/744735/java-array-hashcode-implementation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/744735/java-array-hashcode-implementation\">Java Array HashCode implementation</a>"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1679624200,"post_id":75829465,"comment_id":133758883,"body_markdown":"In brief, Java arrays don’t implement `equals` and `hashCode` in a useful way, and should generally not be used as hash keys. Try `ArrayList` instead.","body":"In brief, Java arrays don’t implement <code>equals</code> and <code>hashCode</code> in a useful way, and should generally not be used as hash keys. Try <code>ArrayList</code> instead."},{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1679624468,"post_id":75829465,"comment_id":133758919,"body_markdown":"Does this answer your question? [How to overide equals for array in Java?](https://stackoverflow.com/questions/12292513/how-to-overide-equals-for-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12292513/how-to-overide-equals-for-array-in-java\">How to overide equals for array in Java?</a>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1679624790,"post_id":75829465,"comment_id":133758949,"body_markdown":"As per the [ask], please [**do not** post images of code, data, error message, etc](https://meta.stackoverflow.com/questions/285551). Instead, copy or type the text into your question, [formatted as code](https://meta.stackoverflow.com/questions/251361#251362). Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text.","body":"As per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, please <a href=\"https://meta.stackoverflow.com/questions/285551\"><b>do not</b> post images of code, data, error message, etc</a>. Instead, copy or type the text into your question, <a href=\"https://meta.stackoverflow.com/questions/251361#251362\">formatted as code</a>. Reserve the use of images for diagrams or demonstrating rendering bugs; things that are impossible to describe accurately via text."}],"answers":[{"tags":[],"owner":{"account_id":20729545,"reputation":61,"user_id":15221898,"display_name":"connellrobert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679624209,"creation_date":1679624209,"answer_id":75829515,"question_id":75829465,"body_markdown":"Please look at this question for the reason why this doesn&#39;t work:\r\nhttps://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java\r\n\r\nEssentially, you are comparing the memory address of the arrays. The `java.util.Arrays.equals` method will compare whether the length is the same and each objects `equals` method returns true for the values. Since string `equals` method compares the chars, then they will return true and this will give you the result you are looking for.\r\n\r\nIf you continue and change this into an array of objects, then it will depend on how the class implements the `equals` method. If you leave the implementation as the default, then it will only compare memory address (use `==`) and would return false if they weren&#39;t the same reference.","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>Please look at this question for the reason why this doesn't work:\n<a href=\"https://stackoverflow.com/questions/8777257/equals-vs-arrays-equals-in-java\">equals vs Arrays.equals in Java</a></p>\n<p>Essentially, you are comparing the memory address of the arrays. The <code>java.util.Arrays.equals</code> method will compare whether the length is the same and each objects <code>equals</code> method returns true for the values. Since string <code>equals</code> method compares the chars, then they will return true and this will give you the result you are looking for.</p>\n<p>If you continue and change this into an array of objects, then it will depend on how the class implements the <code>equals</code> method. If you leave the implementation as the default, then it will only compare memory address (use <code>==</code>) and would return false if they weren't the same reference.</p>\n"},{"comments":[{"owner":{"account_id":1318317,"reputation":1952,"user_id":1264703,"accept_rate":57,"display_name":"Maxsteel"},"score":0,"creation_date":1679624903,"post_id":75829525,"comment_id":133758961,"body_markdown":"But all I am doing is calling get() on ImmutableMap from a library. This equals call is while debugging into the method in the library. Does that mean that it&#39;s expected not to use String[] as key?","body":"But all I am doing is calling get() on ImmutableMap from a library. This equals call is while debugging into the method in the library. Does that mean that it&#39;s expected not to use String[] as key?"},{"owner":{"account_id":113212,"reputation":1385,"user_id":298278,"display_name":"Windle"},"score":0,"creation_date":1679625093,"post_id":75829525,"comment_id":133758978,"body_markdown":"Using an array as a key is kind of unusual. It might make sense for your use case, but more typically you see things like `Map&lt;String, List&lt;String&gt;&gt;` where the key is a single object and the value is a list. That said, if you are using `Map.Entry` or something similar you could still do something like `Arrays.equals(entry.getKey(), candidateKey)`.","body":"Using an array as a key is kind of unusual. It might make sense for your use case, but more typically you see things like <code>Map&lt;String, List&lt;String&gt;&gt;</code> where the key is a single object and the value is a list. That said, if you are using <code>Map.Entry</code> or something similar you could still do something like <code>Arrays.equals(entry.getKey(), candidateKey)</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679627642,"post_id":75829525,"comment_id":133759200,"body_markdown":"@Maxsteel It&#39;s not so much that it&#39;s not expected to use `String[]` for the key, it&#39;s that arrays use the default `equals` implementation from `Object`, which tests reference equality. Since the [map interface relies on a correct `equals` implementation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#get(java.lang.Object)), you using `String[]` for the key breaks things. But this would be true for **any** type that does not provide a valid (in this context) implementation of `equals`. And, if your map implementation relies on it, the same applies to `hashCode`.","body":"@Maxsteel It&#39;s not so much that it&#39;s not expected to use <code>String[]</code> for the key, it&#39;s that arrays use the default <code>equals</code> implementation from <code>Object</code>, which tests reference equality. Since the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Map.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\">map interface relies on a correct <code>equals</code> implementation</a>, you using <code>String[]</code> for the key breaks things. But this would be true for <b>any</b> type that does not provide a valid (in this context) implementation of <code>equals</code>. And, if your map implementation relies on it, the same applies to <code>hashCode</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1679628017,"post_id":75829525,"comment_id":133759247,"body_markdown":"@Maxsteel If your domain demands the `String[]` be the key, just wrap the array in a custom object that defines `equals` (and in all likelihood `hashCode`) to be based on the array. Then use that custom object as the key of your map. Or use a `List&lt;String&gt;` instead (easily created with `Arrays.asList(array)`). Though keep in mind that it&#39;s typically important to never modify a mutable key once it&#39;s been placed in a map, especially if that map is hash based.","body":"@Maxsteel If your domain demands the <code>String[]</code> be the key, just wrap the array in a custom object that defines <code>equals</code> (and in all likelihood <code>hashCode</code>) to be based on the array. Then use that custom object as the key of your map. Or use a <code>List&lt;String&gt;</code> instead (easily created with <code>Arrays.asList(array)</code>). Though keep in mind that it&#39;s typically important to never modify a mutable key once it&#39;s been placed in a map, especially if that map is hash based."}],"tags":[],"owner":{"account_id":113212,"reputation":1385,"user_id":298278,"display_name":"Windle"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679624347,"creation_date":1679624347,"answer_id":75829525,"question_id":75829465,"body_markdown":"Using `.equals()` is right when comparing strings, but when you use that method on two `String[]` then you are really back to comparing the object references. If you want to compare the contents of two String arrays against each other then you can use `Arrays.equals(Object[] a1,Object[] a2)`. The docs [are here][1], but basically that will compare the length of each array and then make sure they contain the same items.\r\n\r\nIn the end, your code would become something like:\r\n```java\r\nif (Arrays.equals(key, candidateKey)) {\r\n  return entry.getValue();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(java.lang.Object%5B%5D,java.lang.Object%5B%5D)","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>Using <code>.equals()</code> is right when comparing strings, but when you use that method on two <code>String[]</code> then you are really back to comparing the object references. If you want to compare the contents of two String arrays against each other then you can use <code>Arrays.equals(Object[] a1,Object[] a2)</code>. The docs <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Arrays.html#equals(java.lang.Object%5B%5D,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">are here</a>, but basically that will compare the length of each array and then make sure they contain the same items.</p>\n<p>In the end, your code would become something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Arrays.equals(key, candidateKey)) {\n  return entry.getValue();\n}\n</code></pre>\n"}],"owner":{"account_id":1318317,"reputation":1952,"user_id":1264703,"accept_rate":57,"display_name":"Maxsteel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679624347,"creation_date":1679623484,"question_id":75829465,"body_markdown":"I am using ImmutableMap in my very simple code. At one point I am trying to return value corresponding to a key which is an array of string with only 1 value &quot;1234&quot;. Here&#39;s a screenshot of debugging step:\r\n\r\n[![Debugger with key that I pass and candidate key that is being checked in ImmutableMap. Notice they&#39;re the same][1]][1]\r\n\r\nHowever, I get no value and keys don&#39;t match. \r\nHere&#39;s candidateKey in debugger:\r\n[![enter image description here][2]][2]\r\n\r\nHere&#39;s my key in debugger: \r\n[![enter image description here][3]][3]\r\n\r\nHere&#39;s debugger saying they&#39;re not equal!\r\n[![enter image description here][4]][4]\r\n\r\nIt&#39;s driving me nuts. Am I missing something here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vht3Y.png\r\n  [2]: https://i.stack.imgur.com/UXaJQ.png\r\n  [3]: https://i.stack.imgur.com/p114m.png\r\n  [4]: https://i.stack.imgur.com/7bWs6.png","title":"Immutable map with String[] as key not returning value for correct key","body":"<p>I am using ImmutableMap in my very simple code. At one point I am trying to return value corresponding to a key which is an array of string with only 1 value &quot;1234&quot;. Here's a screenshot of debugging step:</p>\n<p><a href=\"https://i.stack.imgur.com/Vht3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vht3Y.png\" alt=\"Debugger with key that I pass and candidate key that is being checked in ImmutableMap. Notice they're the same\" /></a></p>\n<p>However, I get no value and keys don't match.\nHere's candidateKey in debugger:\n<a href=\"https://i.stack.imgur.com/UXaJQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UXaJQ.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's my key in debugger:\n<a href=\"https://i.stack.imgur.com/p114m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p114m.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's debugger saying they're not equal!\n<a href=\"https://i.stack.imgur.com/7bWs6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7bWs6.png\" alt=\"enter image description here\" /></a></p>\n<p>It's driving me nuts. Am I missing something here?</p>\n"},{"tags":["java","date","data-structures","hashmap","treemap"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677219315,"post_id":75552782,"comment_id":133298300,"body_markdown":"First, use `Instant`for time created. Under no circumstances use `Date`. Use `LocalDate` for a date. See [Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"First, use <code>Instant</code>for time created. Under no circumstances use <code>Date</code>. Use <code>LocalDate</code> for a date. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Date Time</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677219366,"post_id":75552782,"comment_id":133298307,"body_markdown":"May the same list include two or more objects for the same day (depending on time zone)?","body":"May the same list include two or more objects for the same day (depending on time zone)?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677220812,"post_id":75552782,"comment_id":133298554,"body_markdown":"Stream both lists, group by date and apply some method to select which rate object goes into your map. Assuming that `getTimeCreated()` returns an `Instant` as I suggested, a first shot could be `Stream.concat(listP.stream(), listQ.stream()) .collect(Collectors.groupingBy(a -&gt; a.getTimeCreated().atZone(tz).toLocalDate(), Collectors.reducing(null, Test::compareAndSelect)))` ...","body":"Stream both lists, group by date and apply some method to select which rate object goes into your map. Assuming that <code>getTimeCreated()</code> returns an <code>Instant</code> as I suggested, a first shot could be <code>Stream.concat(listP.stream(), listQ.stream()) .collect(Collectors.groupingBy(a -&gt; a.getTimeCreated().atZone(tz).toLocalDate(), Collectors.reducing(null, Test::compareAndSelect)))</code> ..."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677220882,"post_id":75552782,"comment_id":133298564,"body_markdown":"... where `tz` is your time zone, for example `ZoneId tz = ZoneId.systemDefault();`. `Test::compareAndSelect` refers to some `private static A compareAndSelect(A one, A theOther)` that selects between two object references one of which may be null.","body":"... where <code>tz</code> is your time zone, for example <code>ZoneId tz = ZoneId.systemDefault();</code>. <code>Test::compareAndSelect</code> refers to some <code>private static A compareAndSelect(A one, A theOther)</code> that selects between two object references one of which may be null."},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1677221071,"post_id":75552782,"comment_id":133298590,"body_markdown":"To answer your query, No, it is guaranteed that the same list will have only 1 object per day.","body":"To answer your query, No, it is guaranteed that the same list will have only 1 object per day."},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1677221778,"post_id":75552782,"comment_id":133298729,"body_markdown":"@OleV.V. How does this work for the objects that are present only in listP or listQ for a given date? In this case, I must be able to select the said object without any comparison (as there is no second object to compare with)","body":"@OleV.V. How does this work for the objects that are present only in listP or listQ for a given date? In this case, I must be able to select the said object without any comparison (as there is no second object to compare with)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677222536,"post_id":75552782,"comment_id":133298842,"body_markdown":"The way I have written the stream, if only you make sure that `compareAndSelect()` returns the non-null object when one of the arguments is null, it works the way you say. It could probably be expressed more elegantly or more clearly ... (I did run it with two lists where one of the lists was empty.)","body":"The way I have written the stream, if only you make sure that <code>compareAndSelect()</code> returns the non-null object when one of the arguments is null, it works the way you say. It could probably be expressed more elegantly or more clearly ... (I did run it with two lists where one of the lists was empty.)"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677227146,"post_id":75552782,"comment_id":133299834,"body_markdown":"Alternatively I think you can apply some ideas from [Java 8 streams : Combine properties of two objects which are in ArrayLists into an ArrayList of a third object type](https://stackoverflow.com/questions/52432643/java-8-streams-combine-properties-of-two-objects-which-are-in-arraylists-into).","body":"Alternatively I think you can apply some ideas from <a href=\"https://stackoverflow.com/questions/52432643/java-8-streams-combine-properties-of-two-objects-which-are-in-arraylists-into\">Java 8 streams : Combine properties of two objects which are in ArrayLists into an ArrayList of a third object type</a>."}],"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679624199,"creation_date":1677214883,"question_id":75552782,"body_markdown":"So I have 2 ArrayLists (say listP, listQ) having Objects that look something like this where each object corresponds to one day of rates. These lists are result of querying a db to get data between a particular date frame ( say past 100 days). So list size can be upto 100\r\n```\r\n\r\nClass A{\r\n    private Long rate1;\r\n    private Long rate2;\r\n    private Long timeCreated; //epoch time in seconds\r\n    private Long vCode;\r\n}\r\n```\r\nBoth arraylists have same objects but are seperated by vCode (i.e listP has objects with vCode = 2 and listQ has objects with vCode =3)\r\n\r\nMy end goal is get objects from both listP and listQ for a given day (using the timeCreated field) and compare the rates between the objects from both lists for a given day based on a criteria and create a new map that has one rate object for a given date.\r\n\r\nPoints to note:\r\n\r\n- For a given date (date derived from timeCreated field) , it is not guranteed that both lists will have an object. listP may have an object and listQ might not and viceversa.\r\n- If for a given day, there exits an object from only listP, then I must proceed with those rates and same applies for listQ.\r\n- It is guaranteed that the same list will have only 1 object per day.\r\n\r\nNeed some help on how I can proceed with this.\r\n\r\nMy thoughts :\r\n\r\nI thought of creating a HashMap like map&lt;Date, Object&gt; . Here add all the dates present in listP and listQ and for each date, somehow map the objects from listP and listQ. Is this the right way or if there any better way to do it? How can I achieve this in code?","title":"How to compare 2 list of objects based on date field and create a map of values present","body":"<p>So I have 2 ArrayLists (say listP, listQ) having Objects that look something like this where each object corresponds to one day of rates. These lists are result of querying a db to get data between a particular date frame ( say past 100 days). So list size can be upto 100</p>\n<pre><code>\nClass A{\n    private Long rate1;\n    private Long rate2;\n    private Long timeCreated; //epoch time in seconds\n    private Long vCode;\n}\n</code></pre>\n<p>Both arraylists have same objects but are seperated by vCode (i.e listP has objects with vCode = 2 and listQ has objects with vCode =3)</p>\n<p>My end goal is get objects from both listP and listQ for a given day (using the timeCreated field) and compare the rates between the objects from both lists for a given day based on a criteria and create a new map that has one rate object for a given date.</p>\n<p>Points to note:</p>\n<ul>\n<li>For a given date (date derived from timeCreated field) , it is not guranteed that both lists will have an object. listP may have an object and listQ might not and viceversa.</li>\n<li>If for a given day, there exits an object from only listP, then I must proceed with those rates and same applies for listQ.</li>\n<li>It is guaranteed that the same list will have only 1 object per day.</li>\n</ul>\n<p>Need some help on how I can proceed with this.</p>\n<p>My thoughts :</p>\n<p>I thought of creating a HashMap like map&lt;Date, Object&gt; . Here add all the dates present in listP and listQ and for each date, somehow map the objects from listP and listQ. Is this the right way or if there any better way to do it? How can I achieve this in code?</p>\n"},{"tags":["java","swing","email"],"comments":[{"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"score":0,"creation_date":1382621061,"post_id":19567128,"comment_id":29037396,"body_markdown":"I try to change the port number...take a look maybe can help you:https://support.google.com/mail/answer/13287?hl=en","body":"I try to change the port number...take a look maybe can help you:<a href=\"https://support.google.com/mail/answer/13287?hl=en\" rel=\"nofollow noreferrer\">support.google.com/mail/answer/13287?hl=en</a>"},{"owner":{"account_id":2487220,"reputation":45,"user_id":2165448,"accept_rate":40,"display_name":"silent_killer"},"score":0,"creation_date":1382941687,"post_id":19567128,"comment_id":29140563,"body_markdown":"I tried changing port number but the same error is thrown.","body":"I tried changing port number but the same error is thrown."}],"answers":[{"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382620993,"creation_date":1382620993,"answer_id":19567228,"question_id":19567128,"body_markdown":"Please consider making following changes to your code,\r\n\r\n\r\n\r\n// used &quot;smtps&quot; :) \r\n\r\n    transport = mailSession.getTransport(&quot;smtps&quot;);\r\n\r\n// port 465 worked for authentication and it solved with gmail, yahoo hosts `transport.connect(&quot;smtp.gmail.com&quot;,465,&quot;myid&quot;,&quot;password&quot;);`","title":"Sending mail example using javax.mail","body":"<p>Please consider making following changes to your code,</p>\n\n<p>// used \"smtps\" :) </p>\n\n<pre><code>transport = mailSession.getTransport(\"smtps\");\n</code></pre>\n\n<p>// port 465 worked for authentication and it solved with gmail, yahoo hosts <code>transport.connect(\"smtp.gmail.com\",465,\"myid\",\"password\");</code></p>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565337347,"creation_date":1565285537,"answer_id":57417974,"question_id":19567128,"body_markdown":"JavaMail is the traditional answer for sending email.\r\nPlease note how the `port` and other configuration is set.\r\n\r\nHere is an example to do it.\r\n\r\n    package example.java.mail;\r\n    import javax.mail.*;\r\n    import javax.mail.internet.*;\r\n    import java.util.*;\r\n    \r\n    public class SendFromGmail {\r\n        public static void main(String args[]){\r\n            try{\r\n                String host = &quot;smtp.gmail.com&quot;;\r\n                String from = &quot;example@gmail.com&quot;;\r\n                String pass = &quot;mypassword123&quot;;\r\n                Properties props = System.getProperties();\r\n                props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n                props.put(&quot;mail.smtp.host&quot;, host);\r\n                props.put(&quot;mail.smtp.user&quot;, from);\r\n                props.put(&quot;mail.smtp.password&quot;, pass);\r\n                props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n                props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    \r\n                String[] to = {&quot;example@gmail.com&quot;};\r\n    \r\n                Session session = Session.getDefaultInstance(props, null);\r\n                MimeMessage message = new MimeMessage(session);\r\n                message.setFrom(new InternetAddress(from));\r\n                InternetAddress[] toAddress = new InternetAddress[to.length];\r\n    \r\n                // To get the array of addresses\r\n                for( int i=0; i &lt; to.length; i++ ) { // changed from a while loop\r\n                    toAddress[i] = new InternetAddress(to[i]);\r\n                }\r\n                System.out.println(Message.RecipientType.TO);\r\n    \r\n                for( int i=0; i &lt; toAddress.length; i++) { // changed from a while loop\r\n                    message.addRecipient(Message.RecipientType.TO, toAddress[i]);\r\n                }\r\n                message.setSubject(&quot;sending in a group&quot;);\r\n                message.setText(&quot;Welcome to JavaMail&quot;);\r\n                Transport transport = session.getTransport(&quot;smtp&quot;);\r\n                transport.connect(host, from, pass);\r\n                transport.sendMessage(message, message.getAllRecipients());\r\n                transport.close();\r\n            }\r\n            catch(Exception e){\r\n                e.getMessage();\r\n            }\r\n        }\r\n    }\r\n\r\nCheck out for more [Java mail sending][1] examples.\r\n\r\n\r\n  [1]: https://javatutorial.net/java-send-mail-example","title":"Sending mail example using javax.mail","body":"<p>JavaMail is the traditional answer for sending email.\nPlease note how the <code>port</code> and other configuration is set.</p>\n\n<p>Here is an example to do it.</p>\n\n<pre><code>package example.java.mail;\nimport javax.mail.*;\nimport javax.mail.internet.*;\nimport java.util.*;\n\npublic class SendFromGmail {\n    public static void main(String args[]){\n        try{\n            String host = \"smtp.gmail.com\";\n            String from = \"example@gmail.com\";\n            String pass = \"mypassword123\";\n            Properties props = System.getProperties();\n            props.put(\"mail.smtp.starttls.enable\", \"true\");\n            props.put(\"mail.smtp.host\", host);\n            props.put(\"mail.smtp.user\", from);\n            props.put(\"mail.smtp.password\", pass);\n            props.put(\"mail.smtp.port\", \"587\");\n            props.put(\"mail.smtp.auth\", \"true\");\n\n            String[] to = {\"example@gmail.com\"};\n\n            Session session = Session.getDefaultInstance(props, null);\n            MimeMessage message = new MimeMessage(session);\n            message.setFrom(new InternetAddress(from));\n            InternetAddress[] toAddress = new InternetAddress[to.length];\n\n            // To get the array of addresses\n            for( int i=0; i &lt; to.length; i++ ) { // changed from a while loop\n                toAddress[i] = new InternetAddress(to[i]);\n            }\n            System.out.println(Message.RecipientType.TO);\n\n            for( int i=0; i &lt; toAddress.length; i++) { // changed from a while loop\n                message.addRecipient(Message.RecipientType.TO, toAddress[i]);\n            }\n            message.setSubject(\"sending in a group\");\n            message.setText(\"Welcome to JavaMail\");\n            Transport transport = session.getTransport(\"smtp\");\n            transport.connect(host, from, pass);\n            transport.sendMessage(message, message.getAllRecipients());\n            transport.close();\n        }\n        catch(Exception e){\n            e.getMessage();\n        }\n    }\n}\n</code></pre>\n\n<p>Check out for more <a href=\"https://javatutorial.net/java-send-mail-example\" rel=\"nofollow noreferrer\">Java mail sending</a> examples.</p>\n"}],"owner":{"account_id":2487220,"reputation":45,"user_id":2165448,"accept_rate":40,"display_name":"silent_killer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7777,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679623685,"creation_date":1382620779,"question_id":19567128,"body_markdown":"I downloaded the following example:\r\n\r\nhttps://app.box.com/shared/etj0lts287r5lc1hqeex\r\n\r\nWhen I executed the jar file directly, it worked perfectly. But while running the project using  Netbeans 7.0, it is throwing an error:\r\n\r\n    error: could not connect to SMTP host:smtp.gmail.com,port:465\r\n\r\nWhat could be the issue?\r\n\r\nthis is my code on button actionperformed\r\nprivate void sendButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        \r\n        boolean isSent = true;\r\n        \r\n        try {\r\n        \r\n        Properties properties = new Properties();\r\n\tproperties.setProperty(&quot;mail.smtp.submitter&quot;, txtfrom.getText());\r\n\tproperties.setProperty(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\tproperties.setProperty(&quot;mail.smtp.host&quot;, txthostName.getText());    \r\n        properties.put(&quot;mail.smtp.user&quot;, txtfrom.getText());\r\n        properties.put(&quot;mail.smtp.port&quot;, txtPort.getText());\r\n        properties.put(&quot;mail.smtp.socketFactory.port&quot;, txtPort.getText());\r\n        properties.put(&quot;mail.smtp.starttls.enable&quot;,&quot;true&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.class&quot;, &quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n        properties.put(&quot;mail.smtp.socketFactory.fallback&quot;, &quot;false&quot;);\r\n\r\n        \r\n        Authenticator mailAuthenticator = new MailAuthenticator();\r\n\tSession mailSession = Session.getDefaultInstance(properties,mailAuthenticator);\r\n        Message message = new MimeMessage(mailSession);\r\n        \r\n        Transport transport = mailSession.getTransport(&quot;smtps&quot;);\r\n        transport.connect(&quot;smtp.gmail.com&quot;,465,&quot;abc@gmail.com&quot;,&quot;12345&quot;);\r\n        \r\n        InternetAddress fromAddress = new InternetAddress(txtfrom.getText());\r\n        InternetAddress toAddress = new InternetAddress(txtto.getText());\r\n        \r\n        message.setFrom(fromAddress);\r\n        message.setRecipient(RecipientType.TO, toAddress);\r\n       \r\n        message.setSubject(txtsubject.getText());\r\n        message.setText(txtcontent.getText());\r\n       \r\n        Transport.send(message);\r\n    \r\n        } catch (Exception e) {\r\n            lblInfo.setText(&quot;ERROR:&quot; + e.getMessage());            \r\n            isSent = false;\r\n        }\r\n        \r\n        if(isSent == true) {\r\n            sendButton.setEnabled(false);\r\n            lblInfo.setText(&quot;Your e-mail has been sent.&quot;); \r\n        } \r\n       \r\n    }     ","title":"Sending mail example using javax.mail","body":"<p>I downloaded the following example:</p>\n\n<p><a href=\"https://app.box.com/shared/etj0lts287r5lc1hqeex\" rel=\"nofollow\">https://app.box.com/shared/etj0lts287r5lc1hqeex</a></p>\n\n<p>When I executed the jar file directly, it worked perfectly. But while running the project using  Netbeans 7.0, it is throwing an error:</p>\n\n<pre><code>error: could not connect to SMTP host:smtp.gmail.com,port:465\n</code></pre>\n\n<p>What could be the issue?</p>\n\n<p>this is my code on button actionperformed\nprivate void sendButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           </p>\n\n<pre><code>    boolean isSent = true;\n\n    try {\n\n    Properties properties = new Properties();\nproperties.setProperty(\"mail.smtp.submitter\", txtfrom.getText());\nproperties.setProperty(\"mail.smtp.auth\", \"true\");\nproperties.setProperty(\"mail.smtp.host\", txthostName.getText());    \n    properties.put(\"mail.smtp.user\", txtfrom.getText());\n    properties.put(\"mail.smtp.port\", txtPort.getText());\n    properties.put(\"mail.smtp.socketFactory.port\", txtPort.getText());\n    properties.put(\"mail.smtp.starttls.enable\",\"true\");\n    properties.put(\"mail.smtp.socketFactory.class\", \"javax.net.ssl.SSLSocketFactory\");\n    properties.put(\"mail.smtp.socketFactory.fallback\", \"false\");\n\n\n    Authenticator mailAuthenticator = new MailAuthenticator();\nSession mailSession = Session.getDefaultInstance(properties,mailAuthenticator);\n    Message message = new MimeMessage(mailSession);\n\n    Transport transport = mailSession.getTransport(\"smtps\");\n    transport.connect(\"smtp.gmail.com\",465,\"abc@gmail.com\",\"12345\");\n\n    InternetAddress fromAddress = new InternetAddress(txtfrom.getText());\n    InternetAddress toAddress = new InternetAddress(txtto.getText());\n\n    message.setFrom(fromAddress);\n    message.setRecipient(RecipientType.TO, toAddress);\n\n    message.setSubject(txtsubject.getText());\n    message.setText(txtcontent.getText());\n\n    Transport.send(message);\n\n    } catch (Exception e) {\n        lblInfo.setText(\"ERROR:\" + e.getMessage());            \n        isSent = false;\n    }\n\n    if(isSent == true) {\n        sendButton.setEnabled(false);\n        lblInfo.setText(\"Your e-mail has been sent.\"); \n    } \n\n}     \n</code></pre>\n"},{"tags":["java","android","button","menu","onclick"],"answers":[{"tags":[],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679623426,"creation_date":1679623426,"answer_id":75829459,"question_id":75101736,"body_markdown":"I&#39;ve finally found a good solution, setting the visibility of the buttons in front to &quot;GONE&quot;:\r\n\r\n    undoRedoGroup.setVisibility(View.GONE);\r\nThis allows the buttons behind them to be clicked, regardless of the position of either buttons.","title":"Android Studio: Chips cannot be clicked after translating them","body":"<p>I've finally found a good solution, setting the visibility of the buttons in front to &quot;GONE&quot;:</p>\n<pre><code>undoRedoGroup.setVisibility(View.GONE);\n</code></pre>\n<p>This allows the buttons behind them to be clicked, regardless of the position of either buttons.</p>\n"}],"owner":{"account_id":20843035,"reputation":48,"user_id":15309212,"display_name":"Matt_CV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75829459,"answer_count":1,"score":0,"last_activity_date":1679623426,"creation_date":1673553913,"question_id":75101736,"body_markdown":"I created an expandable menu which contains a chip group. When this menu is opened or closed there is an &quot;undo&quot; chip and a &quot;redo&quot; chip that are translated up or down when the menu opens or closes. I did this to save space, and avoid having a crowded UI.\r\n\r\nThe problem is when the menu is closed, the undo and redo chips cannot be clicked. I suspect the other chips are blocking them even though they seem to be hidden. What can I do about this?\r\n\r\nMainActivity.java:\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\n\r\nimport com.google.android.material.card.MaterialCardView;\r\nimport com.google.android.material.chip.ChipGroup;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private boolean menuIsOpen = true;\r\n    private Button openCloseButton;\r\n    private MaterialCardView menuCard;\r\n    private ChipGroup undoRedoGroup;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        openCloseButton = findViewById(R.id.b_menu_openclose);\r\n        menuCard = findViewById(R.id.menu_card);\r\n        undoRedoGroup = findViewById(R.id.cg_undoredo);\r\n\r\n        openCloseButton.setScaleX(-1.0f);\r\n    }\r\n\r\n    public void onClick_Undo(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Undo clicked&quot;);\r\n    }\r\n\r\n    public void onClick_Redo(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Redo clicked&quot;);\r\n    }\r\n\r\n    public void onClick_Chip(View view) {\r\n        Log.i(&quot;MainActivity&quot;, &quot;Chip# clicked&quot;);\r\n    }\r\n\r\n    public void onClick_OpenClose(View view) {\r\n        if(menuIsOpen) closeMenu();\r\n        else openMenu();\r\n\r\n        menuIsOpen = !menuIsOpen;\r\n    }\r\n\r\n    public void openMenu() {\r\n        menuCard.animate().alpha(1f);\r\n        menuCard.animate().scaleX(1.0f);\r\n        menuCard.animate().translationX(0f);\r\n\r\n        undoRedoGroup.animate().translationY(0f);\r\n\r\n        openCloseButton.animate().scaleX(-1.0f);\r\n    }\r\n    public void closeMenu() {\r\n        menuCard.animate().alpha(0f);\r\n        menuCard.animate().scaleX(0f);\r\n        menuCard.animate().translationX(500f);\r\n\r\n        undoRedoGroup.animate().translationY(-140f);\r\n\r\n        openCloseButton.animate().scaleX(1.0f);\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:id=&quot;@+id/menu_card&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/b_menu_openclose&quot;\r\n        app:strokeColor=&quot;#000000&quot;\r\n        app:strokeWidth=&quot;2dp&quot;&gt;\r\n\r\n        &lt;com.google.android.material.chip.ChipGroup\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;\r\n            android:layout_marginStart=&quot;10dp&quot;&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip1&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip1&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip2&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip2&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip3&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip3&quot; /&gt;\r\n\r\n            &lt;com.google.android.material.chip.Chip\r\n                android:id=&quot;@+id/chip4&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:onClick=&quot;onClick_Chip&quot;\r\n                android:text=&quot;Chip4&quot; /&gt;\r\n        &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/b_menu_openclose&quot;\r\n        android:layout_width=&quot;60dp&quot;\r\n        android:layout_height=&quot;60dp&quot;\r\n        android:onClick=&quot;onClick_OpenClose&quot;\r\n        app:icon=&quot;?attr/actionModeCloseDrawable&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;com.google.android.material.chip.ChipGroup\r\n        android:id=&quot;@+id/cg_undoredo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;60dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\r\n\r\n        &lt;com.google.android.material.chip.Chip\r\n            android:id=&quot;@+id/chip_undo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;onClick_Undo&quot;\r\n            android:text=&quot;Undo&quot; /&gt;\r\n\r\n        &lt;com.google.android.material.chip.Chip\r\n            android:id=&quot;@+id/chip_redo&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:onClick=&quot;onClick_Redo&quot;\r\n            android:text=&quot;Redo&quot; /&gt;\r\n    &lt;/com.google.android.material.chip.ChipGroup&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nIf you would like to test this code, I just used an Empty Activity template and API level 32. Also, if there is a better way to create this collapsible menu I would love to hear it.","title":"Android Studio: Chips cannot be clicked after translating them","body":"<p>I created an expandable menu which contains a chip group. When this menu is opened or closed there is an &quot;undo&quot; chip and a &quot;redo&quot; chip that are translated up or down when the menu opens or closes. I did this to save space, and avoid having a crowded UI.</p>\n<p>The problem is when the menu is closed, the undo and redo chips cannot be clicked. I suspect the other chips are blocking them even though they seem to be hidden. What can I do about this?</p>\n<p>MainActivity.java:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\n\nimport com.google.android.material.card.MaterialCardView;\nimport com.google.android.material.chip.ChipGroup;\n\npublic class MainActivity extends AppCompatActivity {\n    private boolean menuIsOpen = true;\n    private Button openCloseButton;\n    private MaterialCardView menuCard;\n    private ChipGroup undoRedoGroup;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        openCloseButton = findViewById(R.id.b_menu_openclose);\n        menuCard = findViewById(R.id.menu_card);\n        undoRedoGroup = findViewById(R.id.cg_undoredo);\n\n        openCloseButton.setScaleX(-1.0f);\n    }\n\n    public void onClick_Undo(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Undo clicked&quot;);\n    }\n\n    public void onClick_Redo(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Redo clicked&quot;);\n    }\n\n    public void onClick_Chip(View view) {\n        Log.i(&quot;MainActivity&quot;, &quot;Chip# clicked&quot;);\n    }\n\n    public void onClick_OpenClose(View view) {\n        if(menuIsOpen) closeMenu();\n        else openMenu();\n\n        menuIsOpen = !menuIsOpen;\n    }\n\n    public void openMenu() {\n        menuCard.animate().alpha(1f);\n        menuCard.animate().scaleX(1.0f);\n        menuCard.animate().translationX(0f);\n\n        undoRedoGroup.animate().translationY(0f);\n\n        openCloseButton.animate().scaleX(-1.0f);\n    }\n    public void closeMenu() {\n        menuCard.animate().alpha(0f);\n        menuCard.animate().scaleX(0f);\n        menuCard.animate().translationX(500f);\n\n        undoRedoGroup.animate().translationY(-140f);\n\n        openCloseButton.animate().scaleX(1.0f);\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:id=&quot;@+id/menu_card&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;@+id/b_menu_openclose&quot;\n        app:layout_constraintEnd_toEndOf=&quot;@+id/b_menu_openclose&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/b_menu_openclose&quot;\n        app:strokeColor=&quot;#000000&quot;\n        app:strokeWidth=&quot;2dp&quot;&gt;\n\n        &lt;com.google.android.material.chip.ChipGroup\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_gravity=&quot;center_vertical&quot;\n            android:layout_marginStart=&quot;10dp&quot;&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip1&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip1&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip2&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip2&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip3&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip3&quot; /&gt;\n\n            &lt;com.google.android.material.chip.Chip\n                android:id=&quot;@+id/chip4&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:onClick=&quot;onClick_Chip&quot;\n                android:text=&quot;Chip4&quot; /&gt;\n        &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/b_menu_openclose&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:onClick=&quot;onClick_OpenClose&quot;\n        app:icon=&quot;?attr/actionModeCloseDrawable&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n\n    &lt;com.google.android.material.chip.ChipGroup\n        android:id=&quot;@+id/cg_undoredo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;25dp&quot;\n        android:layout_marginTop=&quot;60dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.0&quot;&gt;\n\n        &lt;com.google.android.material.chip.Chip\n            android:id=&quot;@+id/chip_undo&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:onClick=&quot;onClick_Undo&quot;\n            android:text=&quot;Undo&quot; /&gt;\n\n        &lt;com.google.android.material.chip.Chip\n            android:id=&quot;@+id/chip_redo&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:onClick=&quot;onClick_Redo&quot;\n            android:text=&quot;Redo&quot; /&gt;\n    &lt;/com.google.android.material.chip.ChipGroup&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>If you would like to test this code, I just used an Empty Activity template and API level 32. Also, if there is a better way to create this collapsible menu I would love to hear it.</p>\n"},{"tags":["java","minecraft","minecraft-commands"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1679331322,"post_id":75793095,"comment_id":133698898,"body_markdown":"Can you show the code when you declare the command, and the code for the command ?","body":"Can you show the code when you declare the command, and the code for the command ?"}],"answers":[{"tags":[],"owner":{"account_id":18287309,"reputation":11,"user_id":13314906,"display_name":"Jan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679603671,"creation_date":1679603671,"answer_id":75827764,"question_id":75793095,"body_markdown":"It could be that the plugin prevents the execution from **server** console.\r\n\r\nIf this is true it will not work in a command block either.\r\n\r\nPerhaps you can work around this by using the sudo command of the EssentialsX plugin.\r\n\r\n```\r\n/sudo @p syncaudio &lt;args&gt;\r\n```\r\n\r\nThis executes the command as the closest player to the command block","title":"Minecraft Command works in Console but not in a CommandBlock","body":"<p>It could be that the plugin prevents the execution from <strong>server</strong> console.</p>\n<p>If this is true it will not work in a command block either.</p>\n<p>Perhaps you can work around this by using the sudo command of the EssentialsX plugin.</p>\n<pre><code>/sudo @p syncaudio &lt;args&gt;\n</code></pre>\n<p>This executes the command as the closest player to the command block</p>\n"}],"owner":{"account_id":16514582,"reputation":23,"user_id":11932417,"display_name":"Sebi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679622567,"creation_date":1679330947,"question_id":75793095,"body_markdown":"So I&#39;ve programmed a Plugin for Minecraft. Now I&#39;ve tested the command in the console, it works totaly fine. But when I run the copy pasted command in a CommandBlock, nothing happends and the CommandBlock says: &quot;Unexpected Error occurred trying to execute that command&quot;.\r\nIs there a way to get more Information about that error or to fix that?\r\n\r\n&lt;h1&gt;CommandBlock output and input:&lt;/h1&gt;&lt;br/&gt;\r\n\r\n\r\n[![CommandBlock output and input][1]][1]\r\n\r\n&lt;h1&gt;Command by using the console&lt;/h1&gt;&lt;br/&gt;\r\n\r\n[![Command by using the console][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qy4om.png\r\n  [2]: https://i.stack.imgur.com/05faK.png","title":"Minecraft Command works in Console but not in a CommandBlock","body":"<p>So I've programmed a Plugin for Minecraft. Now I've tested the command in the console, it works totaly fine. But when I run the copy pasted command in a CommandBlock, nothing happends and the CommandBlock says: &quot;Unexpected Error occurred trying to execute that command&quot;.\nIs there a way to get more Information about that error or to fix that?</p>\n<h1>CommandBlock output and input:</h1><br/>\n<p><a href=\"https://i.stack.imgur.com/qy4om.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qy4om.png\" alt=\"CommandBlock output and input\" /></a></p>\n<h1>Command by using the console</h1><br/>\n<p><a href=\"https://i.stack.imgur.com/05faK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/05faK.png\" alt=\"Command by using the console\" /></a></p>\n"},{"tags":["java","windows-7-x64","autoit"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":5,"creation_date":1486028759,"post_id":41998755,"comment_id":71174231,"body_markdown":"Why do you want to do that? As Admin, I&#39;d kick any developer doing something like that in the balls. Seriously. If you need to keep the Screen unlocked, make the appropriate settings in windows. If your Admin sais you are not allowed to then you need to find a whole different solution anyway. *I consider this a security threat*.","body":"Why do you want to do that? As Admin, I&#39;d kick any developer doing something like that in the balls. Seriously. If you need to keep the Screen unlocked, make the appropriate settings in windows. If your Admin sais you are not allowed to then you need to find a whole different solution anyway. <i>I consider this a security threat</i>."},{"owner":{"account_id":6888440,"reputation":1632,"user_id":5292801,"accept_rate":71,"display_name":"Takarii"},"score":0,"creation_date":1486034853,"post_id":41998755,"comment_id":71178277,"body_markdown":"As Fildor said, there is very little reason to do this and provides an incredible security threat. Seriously consider why you feel the need to do this.","body":"As Fildor said, there is very little reason to do this and provides an incredible security threat. Seriously consider why you feel the need to do this."},{"owner":{"account_id":9808521,"reputation":7,"user_id":7267491,"display_name":"ashvini"},"score":0,"creation_date":1486100907,"post_id":41998755,"comment_id":71209720,"body_markdown":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code","body":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code"}],"answers":[{"comments":[{"owner":{"account_id":9808521,"reputation":7,"user_id":7267491,"display_name":"ashvini"},"score":0,"creation_date":1486100927,"post_id":42004833,"comment_id":71209732,"body_markdown":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code","body":"i wants to automate one application ,which takes 1-2 hrs to complete , upto that time screen gets locked and cant automate further things.also we cant keep server unlocked because of some security reasons so wants to automate through my java code"}],"tags":[],"owner":{"account_id":9026842,"reputation":61,"user_id":6725871,"display_name":"Cealeth"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486045784,"creation_date":1486045784,"answer_id":42004833,"question_id":41998755,"body_markdown":"To answer your question; it will work if make the mouse move slower and not &quot;teleport&quot; it with speed 0. Change the speed from 0 to 10.\r\n\r\nBut as others have commented, this script is not a bad method for what you would like use it for.","title":"how to keep windows server awake through java code","body":"<p>To answer your question; it will work if make the mouse move slower and not \"teleport\" it with speed 0. Change the speed from 0 to 10.</p>\n\n<p>But as others have commented, this script is not a bad method for what you would like use it for.</p>\n"}],"owner":{"account_id":9808521,"reputation":7,"user_id":7267491,"display_name":"ashvini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1679622224,"creation_date":1486028544,"question_id":41998755,"body_markdown":"I am trying to Keep unloack the screen of windows server, have used  mousemove()  and below code , but its running only for 20  minutes and syestem gets locked again.\r\n\r\nCode-\r\nautoIt.mouseMove(300, 20, 0);\r\nautoIt.mouseMove(700, 20, 0);","title":"how to keep windows server awake through java code","body":"<p>I am trying to Keep unloack the screen of windows server, have used  mousemove()  and below code , but its running only for 20  minutes and syestem gets locked again.</p>\n\n<p>Code-\nautoIt.mouseMove(300, 20, 0);\nautoIt.mouseMove(700, 20, 0);</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-sns"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1671525520,"post_id":74860121,"comment_id":132112514,"body_markdown":"Please see https://stackoverflow.com/questions/45003926/sns-not-able-to-hit-https-endpoint","body":"Please see <a href=\"https://stackoverflow.com/questions/45003926/sns-not-able-to-hit-https-endpoint\" title=\"sns not able to hit https endpoint\">stackoverflow.com/questions/45003926/&hellip;</a>"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1671525787,"post_id":74860121,"comment_id":132112594,"body_markdown":"@JCompetence I already tried the same thing in the answer, except I used `MediaType.TEXT_PLAIN_VALUE` and in the answer, they used `text/plain`, anyway I tried also `text/plain` and it gives me the same issue","body":"@JCompetence I already tried the same thing in the answer, except I used <code>MediaType.TEXT_PLAIN_VALUE</code> and in the answer, they used <code>text&#47;plain</code>, anyway I tried also <code>text&#47;plain</code> and it gives me the same issue"}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671541540,"creation_date":1671539704,"answer_id":74863180,"question_id":74860121,"body_markdown":"The problem solved when I used `MediaType.TEXT_PLAIN_VALUE` and `@RequestBody String body`\r\n\r\n\r\n    @PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;String&gt; action(@RequestBody String body) {\r\n","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>The problem solved when I used <code>MediaType.TEXT_PLAIN_VALUE</code> and <code>@RequestBody String body</code></p>\n<pre><code>@PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;String&gt; action(@RequestBody String body) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943747,"reputation":843,"user_id":5329091,"display_name":"Otavio Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679621770,"creation_date":1679621770,"answer_id":75829353,"question_id":74860121,"body_markdown":"Amazon SNS now supports custom `Content-Type` headers for HTTP messages delivered from topics. Here&#39;s the announcement: https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/\r\n\r\nYou simply have to modify the `DeliveryPolicy` attribute of your Amazon SNS subscription, setting the `headerContentType` property to `application/json`, `application/xml`, or any other value supported. You can find all values supported here: https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy\r\n\r\n    {\r\n        &quot;healthyRetryPolicy&quot;: {\r\n            &quot;minDelayTarget&quot;: 1,\r\n            &quot;maxDelayTarget&quot;: 60,\r\n            &quot;numRetries&quot;: 50,\r\n            &quot;numNoDelayRetries&quot;: 3,\r\n            &quot;numMinDelayRetries&quot;: 2,\r\n            &quot;numMaxDelayRetries&quot;: 35,\r\n            &quot;backoffFunction&quot;: &quot;exponential&quot;\r\n        },\r\n        &quot;throttlePolicy&quot;: {\r\n            &quot;maxReceivesPerSecond&quot;: 10\r\n        },\r\n        &quot;requestPolicy&quot;: {\r\n            &quot;headerContentType&quot;: &quot;application/json&quot;\r\n        }\r\n    }\r\n\r\nYou set the `DeliveryPolicy` attribute by calling the `SetSubscriptionAttributes` API action: https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>Amazon SNS now supports custom <code>Content-Type</code> headers for HTTP messages delivered from topics. Here's the announcement: <a href=\"https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/about-aws/whats-new/2023/03/amazon-sns-content-type-request-headers-http-s-notifications/</a></p>\n<p>You simply have to modify the <code>DeliveryPolicy</code> attribute of your Amazon SNS subscription, setting the <code>headerContentType</code> property to <code>application/json</code>, <code>application/xml</code>, or any other value supported. You can find all values supported here: <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sns/latest/dg/sns-message-delivery-retries.html#creating-delivery-policy</a></p>\n<pre><code>{\n    &quot;healthyRetryPolicy&quot;: {\n        &quot;minDelayTarget&quot;: 1,\n        &quot;maxDelayTarget&quot;: 60,\n        &quot;numRetries&quot;: 50,\n        &quot;numNoDelayRetries&quot;: 3,\n        &quot;numMinDelayRetries&quot;: 2,\n        &quot;numMaxDelayRetries&quot;: 35,\n        &quot;backoffFunction&quot;: &quot;exponential&quot;\n    },\n    &quot;throttlePolicy&quot;: {\n        &quot;maxReceivesPerSecond&quot;: 10\n    },\n    &quot;requestPolicy&quot;: {\n        &quot;headerContentType&quot;: &quot;application/json&quot;\n    }\n}\n</code></pre>\n<p>You set the <code>DeliveryPolicy</code> attribute by calling the <code>SetSubscriptionAttributes</code> API action: <a href=\"https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sns/latest/api/API_SetSubscriptionAttributes.html</a></p>\n"}],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679621770,"creation_date":1671523904,"question_id":74860121,"body_markdown":"I have an SNS topic and an HTTP subscription, that call a Spring boot endpoint, my endpoint looks like this:\r\n\r\n    @RestController\r\n    public class MyController {\r\n    \r\n        @PostMapping(value = &quot;/path&quot;)\r\n        public ResponseEntity&lt;Void&gt; action(@RequestBody Object body) {\r\n            return ResponseEntity.noContent().build();\r\n        }\r\n    }\r\n\r\nI try to call this endpoint when I publish a message in this topic using AWS CLI like this:\r\n\r\n    aws sns publish --topic-arn arn:aws:sns:eu-west-1:000000000000:MyTopic \\\r\n        --message &#39;{&quot;name&quot;: &quot;test&quot;}&#39; --endpoint-url http://localhost:4566\r\n\r\nbut I got an error:\r\n\r\n    Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; is not supported\r\n\r\nI add `MediaType.TEXT_PLAIN_VALUE` to my code:\r\n\r\n    @PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\r\n\r\nBut I got the same error.\r\n\r\nFor some reason, the topic sends the message using a different `text/plain` media type.\r\n\r\nI learned this [documentation][1], and effectively the message is send using:\r\n   \r\n    ...\r\n    Content-Type: text/plain; charset=UTF-8\r\n    ...\r\n \r\n\r\nMy question is there any way to force the SNS publisher to use `application/json`?\r\n\r\nOr is there any way to solve the issue in my controller?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sns/latest/dg/sns-message-and-json-formats.html","title":"AWS SNS http suscription return &quot;Unsupported Media Type: Content type &#39;text/plain;charset=UTF-8&#39; not supported&quot;","body":"<p>I have an SNS topic and an HTTP subscription, that call a Spring boot endpoint, my endpoint looks like this:</p>\n<pre><code>@RestController\npublic class MyController {\n\n    @PostMapping(value = &quot;/path&quot;)\n    public ResponseEntity&lt;Void&gt; action(@RequestBody Object body) {\n        return ResponseEntity.noContent().build();\n    }\n}\n</code></pre>\n<p>I try to call this endpoint when I publish a message in this topic using AWS CLI like this:</p>\n<pre><code>aws sns publish --topic-arn arn:aws:sns:eu-west-1:000000000000:MyTopic \\\n    --message '{&quot;name&quot;: &quot;test&quot;}' --endpoint-url http://localhost:4566\n</code></pre>\n<p>but I got an error:</p>\n<pre><code>Unsupported Media Type: Content type 'text/plain;charset=UTF-8' is not supported\n</code></pre>\n<p>I add <code>MediaType.TEXT_PLAIN_VALUE</code> to my code:</p>\n<pre><code>@PostMapping(value = &quot;/path&quot;, consumes = MediaType.TEXT_PLAIN_VALUE)\n</code></pre>\n<p>But I got the same error.</p>\n<p>For some reason, the topic sends the message using a different <code>text/plain</code> media type.</p>\n<p>I learned this <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-message-and-json-formats.html\" rel=\"nofollow noreferrer\">documentation</a>, and effectively the message is send using:</p>\n<pre><code>...\nContent-Type: text/plain; charset=UTF-8\n...\n</code></pre>\n<p>My question is there any way to force the SNS publisher to use <code>application/json</code>?</p>\n<p>Or is there any way to solve the issue in my controller?</p>\n"},{"tags":["java","javafx","media-player","filechooser"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1679621577,"post_id":75829283,"comment_id":133758586,"body_markdown":"First, I recommend reading [What is a stack trace, and how can I use it to debug my application errors?](https://stackoverflow.com/q/3988788/6395627). The `InvocationTargetException` is not the important part. The error is saying a `NullPointerException` is being thrown on line `71` of the `MediaPLayerCtrl#handleOpenFile` method, specifically because `this.mediaView` is `null`. As to _why_ that field is `null`, I can&#39;t be sure without a [mre] demonstrating the problem.","body":"First, I recommend reading <a href=\"https://stackoverflow.com/q/3988788/6395627\">What is a stack trace, and how can I use it to debug my application errors?</a>. The <code>InvocationTargetException</code> is not the important part. The error is saying a <code>NullPointerException</code> is being thrown on line <code>71</code> of the <code>MediaPLayerCtrl#handleOpenFile</code> method, specifically because <code>this.mediaView</code> is <code>null</code>. As to <i>why</i> that field is <code>null</code>, I can&#39;t be sure without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."}],"owner":{"account_id":28109607,"reputation":29,"user_id":21477593,"display_name":"Micu Bogdan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679642977,"answer_count":0,"score":0,"last_activity_date":1679621317,"creation_date":1679620842,"question_id":75829283,"body_markdown":"```\r\n@FXML\r\n    private void handleOpenFile() {\r\n        // Create a file chooser dialog and set the initial directory\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setInitialDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n\r\n        // Filter for media files\r\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(\r\n                &quot;Media Files (*.mp4, *.mp3, *.wav, *.jpg, *.png)&quot;, &quot;*.mp4&quot;, &quot;*.mp3&quot;, &quot;*.wav&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;);\r\n        fileChooser.getExtensionFilters().add(filter);\r\n\r\n        // Show the file chooser dialog and get the selected file\r\n        Stage stage = (Stage) mediaView.getScene().getWindow();\r\n        File file = fileChooser.showOpenDialog(stage);\r\n\r\n        if (file != null) {\r\n            // Check if the selected file is a media file or an image\r\n            String filename = file.getName();\r\n            String extension = filename.substring(filename.lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\r\n            if (extension.equals(&quot;jpg&quot;) || extension.equals(&quot;png&quot;)) {\r\n                // Display the selected image in the image view\r\n                imageView.setImage(new Image(file.toURI().toString()));\r\n            } else {\r\n                // Create a media player and set it to the media view\r\n                Media media = new Media(file.toURI().toString());\r\n                mediaPlayer = new MediaPlayer(media);\r\n                mediaView.setMediaPlayer(mediaPlayer);\r\n\r\n                // Bind the time slider to the media player&#39;s current time\r\n                mediaPlayer.currentTimeProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                    timeSlider.setValue(newValue.toSeconds());\r\n                });\r\n                mediaPlayer.setOnReady(() -&gt; {\r\n                    timeSlider.setMax(mediaPlayer.getMedia().getDuration().toSeconds());\r\n                    openButton.setDisable(true);\r\n                    openButton.setVisible(false);\r\n                    playButton.setVisible(true);\r\n                    playButton.setDisable(false);\r\n                    timeSlider.setVisible(true);\r\n                    timeSlider.setDisable(false);\r\n                });\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe method displayed above is supposed to give the user the option to choose a file and handle it based on the format. I have the method binded to a button in the UI and at every press it throws the same InvocationTargetException. This is the extended error message:\r\n\r\n```lang-none\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\r\n\tat javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n\tat javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:116)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\t.. 46 more\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\r\n\tat client.scenes.MediaPlayerCtrl.handleOpenFile(MediaPlayerCtrl.java:71)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t.. 53 more\r\n```\r\n\r\nI can&#39;t figure out what is causing the issue on my own as I&#39;m still learning the ropes of JavaFX. Could you guys help?","title":"JavaFX media choosing and displaying method throws InvocationTargetException","body":"<pre><code>@FXML\n    private void handleOpenFile() {\n        // Create a file chooser dialog and set the initial directory\n        FileChooser fileChooser = new FileChooser();\n        fileChooser.setInitialDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n\n        // Filter for media files\n        FileChooser.ExtensionFilter filter = new FileChooser.ExtensionFilter(\n                &quot;Media Files (*.mp4, *.mp3, *.wav, *.jpg, *.png)&quot;, &quot;*.mp4&quot;, &quot;*.mp3&quot;, &quot;*.wav&quot;, &quot;*.jpg&quot;, &quot;*.png&quot;);\n        fileChooser.getExtensionFilters().add(filter);\n\n        // Show the file chooser dialog and get the selected file\n        Stage stage = (Stage) mediaView.getScene().getWindow();\n        File file = fileChooser.showOpenDialog(stage);\n\n        if (file != null) {\n            // Check if the selected file is a media file or an image\n            String filename = file.getName();\n            String extension = filename.substring(filename.lastIndexOf(&quot;.&quot;) + 1).toLowerCase();\n            if (extension.equals(&quot;jpg&quot;) || extension.equals(&quot;png&quot;)) {\n                // Display the selected image in the image view\n                imageView.setImage(new Image(file.toURI().toString()));\n            } else {\n                // Create a media player and set it to the media view\n                Media media = new Media(file.toURI().toString());\n                mediaPlayer = new MediaPlayer(media);\n                mediaView.setMediaPlayer(mediaPlayer);\n\n                // Bind the time slider to the media player's current time\n                mediaPlayer.currentTimeProperty().addListener((observable, oldValue, newValue) -&gt; {\n                    timeSlider.setValue(newValue.toSeconds());\n                });\n                mediaPlayer.setOnReady(() -&gt; {\n                    timeSlider.setMax(mediaPlayer.getMedia().getDuration().toSeconds());\n                    openButton.setDisable(true);\n                    openButton.setVisible(false);\n                    playButton.setVisible(true);\n                    playButton.setDisable(false);\n                    timeSlider.setVisible(true);\n                    timeSlider.setDisable(false);\n                });\n            }\n        }\n    }\n</code></pre>\n<p>The method displayed above is supposed to give the user the option to choose a file and handle it based on the format. I have the method binded to a button in the UI and at every press it throws the same InvocationTargetException. This is the extended error message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1857)\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Node.fireEvent(Node.java:8923)\n    at javafx.controls@19.0.2.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@19.0.2.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19.0.2.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19.0.2.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3894)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19.0.2.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19.0.2.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19.0.2.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:116)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@19.0.2.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml@19.0.2.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\nCaused by: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@19.0.2.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    .. 46 more\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.media.MediaView.getScene()&quot; because &quot;this.mediaView&quot; is null\n    at client.scenes.MediaPlayerCtrl.handleOpenFile(MediaPlayerCtrl.java:71)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    .. 53 more\n</code></pre>\n<p>I can't figure out what is causing the issue on my own as I'm still learning the ropes of JavaFX. Could you guys help?</p>\n"},{"tags":["java","spring","spring-mvc","resttemplate"],"owner":{"account_id":16777227,"reputation":1,"user_id":12128212,"display_name":"DeepPic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679620736,"creation_date":1679559793,"question_id":75820634,"body_markdown":"i use resttemplate to access servicecomb service(org.apache.servicecomb.provider.springmvc.reference.CseRestTemplate), uri example:\r\ncse://xx:yy/aaa/bbb/ccc\r\nspring 5.2.22.RELEASE will parse empty port in `org.springframework.web.util.UriComponentsBuilder#fromUriString` , using regex `org.springframework.web.util.UriComponentsBuilder#PORT_PATTERN = &quot;(\\\\d*(?:\\\\{[^/]+?\\\\})?)&quot;` cause the regex will match no digits port.\r\n\r\nwhen i upgrade to spring 5.3.23, spring change the regex pattern to &quot;(\\\\{[^}]+\\\\}?|[^/?#]*)&quot;, which will parse the yy to port, and then throw the numberformatexception in `org.springframework.web.util.HierarchicalUriComponents#getPort`\r\n\r\nhow can i slove this problem?\r\n\r\ni turn spring version back to 5.2.22.RELEASE to avoid this problem.\r\nhow can i upgrade spring to 5.3.x and using resttemplate to access servicecomb service normally?","title":"spring-5.3.23-resttemplate-uri-pattern-string-port-servicecomb","body":"<p>i use resttemplate to access servicecomb service(org.apache.servicecomb.provider.springmvc.reference.CseRestTemplate), uri example:\ncse://xx:yy/aaa/bbb/ccc\nspring 5.2.22.RELEASE will parse empty port in <code>org.springframework.web.util.UriComponentsBuilder#fromUriString</code> , using regex <code>org.springframework.web.util.UriComponentsBuilder#PORT_PATTERN = &quot;(\\\\d*(?:\\\\{[^/]+?\\\\})?)&quot;</code> cause the regex will match no digits port.</p>\n<p>when i upgrade to spring 5.3.23, spring change the regex pattern to &quot;(\\{[^}]+\\}?|[^/?#]*)&quot;, which will parse the yy to port, and then throw the numberformatexception in <code>org.springframework.web.util.HierarchicalUriComponents#getPort</code></p>\n<p>how can i slove this problem?</p>\n<p>i turn spring version back to 5.2.22.RELEASE to avoid this problem.\nhow can i upgrade spring to 5.3.x and using resttemplate to access servicecomb service normally?</p>\n"},{"tags":["java","xpath","pmd"],"comments":[{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679015381,"post_id":75759000,"comment_id":133649507,"body_markdown":"Please post a sample of the actual XML. There are a lot of XPath experts on this site, and no doubt plenty of people who know PMD, but they are not all the same people.","body":"Please post a sample of the actual XML. There are a lot of XPath experts on this site, and no doubt plenty of people who know PMD, but they are not all the same people."},{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679133343,"post_id":75759000,"comment_id":133669132,"body_markdown":"@ConalTuohy  I added a very simple example with XML code. However in my use case the expressions could be nested in loops &amp; branches etc. as well.","body":"@ConalTuohy  I added a very simple example with XML code. However in my use case the expressions could be nested in loops &amp; branches etc. as well."},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679266191,"post_id":75759000,"comment_id":133685908,"body_markdown":"Thanks @Laschoking can you also say what XPath interpreter you have or at least what version of XPath your software supports? The reason I ask is that comparing one AdditiveExpression with another (including all their descendant elements) is relatively easy in later versions of XPath, but if you&#39;re relying on an older XPath interpreter you&#39;d need to compare all the descendant elements in a pair-wise fashion, as well.","body":"Thanks @Laschoking can you also say what XPath interpreter you have or at least what version of XPath your software supports? The reason I ask is that comparing one AdditiveExpression with another (including all their descendant elements) is relatively easy in later versions of XPath, but if you&#39;re relying on an older XPath interpreter you&#39;d need to compare all the descendant elements in a pair-wise fashion, as well."},{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679304402,"post_id":75759000,"comment_id":133690961,"body_markdown":"@ConaTuohy PMD supports three XPath versions: 1.0, 2.0, and 1.0 compatibility mode.","body":"@ConaTuohy PMD supports three XPath versions: 1.0, 2.0, and 1.0 compatibility mode."}],"answers":[{"comments":[{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679324870,"post_id":75791124,"comment_id":133697051,"body_markdown":"running the code above returns following message: &quot;XPath rule expression returned a non-node (class net.sf.saxon.value.BooleanValue): true()&quot;.\nSo I guess it is possible that the rule might be correct &amp; found an expression. Is there a way to output the actual expression?","body":"running the code above returns following message: &quot;XPath rule expression returned a non-node (class net.sf.saxon.value.BooleanValue): true()&quot;. So I guess it is possible that the rule might be correct &amp; found an expression. Is there a way to output the actual expression?"},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679352799,"post_id":75791124,"comment_id":133703743,"body_markdown":"OK I was under the impression that the rule should return a boolean, but I guess it should return the actual elements which it thinks are at fault? I will revise it","body":"OK I was under the impression that the rule should return a boolean, but I guess it should return the actual elements which it thinks are at fault? I will revise it"},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679353901,"post_id":75791124,"comment_id":133703914,"body_markdown":"I revised the expression so that it returns a sequence of `AdditiveExpression` elements which are a match for at least one other `AdditiveExpression`. NB if there are two `AdditiveExpression` elements that match then this should return both of them.","body":"I revised the expression so that it returns a sequence of <code>AdditiveExpression</code> elements which are a match for at least one other <code>AdditiveExpression</code>. NB if there are two <code>AdditiveExpression</code> elements that match then this should return both of them."},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679354319,"post_id":75791124,"comment_id":133703968,"body_markdown":"On a more general note, I&#39;m not at all familiar with PMD but I&#39;ve used similar technologies e.g. schematron in an analogous way, in which rules written in XPath are used to flag patterns of concern in XML documents, and on that basis I think you&#39;ll find XPath&#39;s &quot;quantified expressions&quot; to be really helpful constructs in PMD rules, and worth a look; they are the equivalent of the well-known logical symbols ∀ and ∃ which you may know &lt;https://www.w3.org/TR/xpath20/#id-quantified-expressions&gt;","body":"On a more general note, I&#39;m not at all familiar with PMD but I&#39;ve used similar technologies e.g. schematron in an analogous way, in which rules written in XPath are used to flag patterns of concern in XML documents, and on that basis I think you&#39;ll find XPath&#39;s &quot;quantified expressions&quot; to be really helpful constructs in PMD rules, and worth a look; they are the equivalent of the well-known logical symbols ∀ and ∃ which you may know &lt;<a href=\"https://www.w3.org/TR/xpath20/#id-quantified-expressions\" rel=\"nofollow noreferrer\">w3.org/TR/xpath20/#id-quantified-expressions</a>&gt;"},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679354485,"post_id":75791124,"comment_id":133703995,"body_markdown":"Given that PMD uses Saxon as its XPath interpreter, it&#39;s a shame they are stuck on XPath 2.0! If I were you I&#39;d prod them to upgrade it to support 3.1, which would be a simpler upgrade for them than the upgrade from 1.0 to 2.0 I can&#39;t help thinking, and is infinitely more expressive (XPath 3.1 is Turing complete!)","body":"Given that PMD uses Saxon as its XPath interpreter, it&#39;s a shame they are stuck on XPath 2.0! If I were you I&#39;d prod them to upgrade it to support 3.1, which would be a simpler upgrade for them than the upgrade from 1.0 to 2.0 I can&#39;t help thinking, and is infinitely more expressive (XPath 3.1 is Turing complete!)"},{"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"score":0,"creation_date":1679403039,"post_id":75791124,"comment_id":133712324,"body_markdown":"Thank you so much for your help. Your modified answer is exactly what I was looking for.\nThanks also for the reference on quantified expressions, I will check it out.","body":"Thank you so much for your help. Your modified answer is exactly what I was looking for. Thanks also for the reference on quantified expressions, I will check it out."},{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1679439922,"post_id":75791124,"comment_id":133722322,"body_markdown":"You&#39;re welcome! thanks for accepting the answer, and thanks also for putting me onto PMD which I hadn&#39;t seen before and I think is really fascinating","body":"You&#39;re welcome! thanks for accepting the answer, and thanks also for putting me onto PMD which I hadn&#39;t seen before and I think is really fascinating"}],"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679620642,"creation_date":1679320376,"answer_id":75791124,"question_id":75759000,"body_markdown":"In XPath 2 you don&#39;t have the handy `deep-equal` function available in version 3 which would allow you to compare two `AdditiveExpression` elements and all their descendants in a single function call. This lack means you have to write something much more verbose, but you could probably get away with something like this:\r\n\r\n```lang-xpath\r\nfor $e1 in //AdditiveExpression return\r\n$e1[\r\n   some $e2 in (//AdditiveExpression except $e1) satisfies \r\n      $e1/@Image = $e2/@Image and \r\n      $e1/PrimaryExpression[1]/PrimaryPrefix/Name/@Image = \r\n         $e2/PrimaryExpression[1]/PrimaryPrefix/Name/@Image and\r\n      $e1/PrimaryExpression[2]/PrimaryPrefix/Name/@Image = \r\n         $e2/PrimaryExpression[2]/PrimaryPrefix/Name/@Image\r\n]\r\n```\r\nThis XPath 2 expression constructs a sequence of elements that are considered to have duplicates like so:\r\n\r\nFor every expression (&#39;`$e1`&#39;) in the set of `AdditiiveExpression` elements, return that `$e1` if the criterion in the predicate (`[` ... `]`) evaluates to `true`, namely, that there&#39;s some other expression (&#39;`$e2`&#39;) which is also one of the `AdditiveExpression` elements but isn&#39;t `$e1`, and which has the same `Image` attribute as the `$e1` expression, and whose child elements have `Image` attributes that match the corresponding child elements of `$e1`. \r\n\r\nI&#39;m not sure what are the important criteria for your two expressions to be considered duplicates; I didn&#39;t compare literally every attribute etc, but this should give you an idea.\r\n","title":"Using XPath in PMD to find duplicate expressions","body":"<p>In XPath 2 you don't have the handy <code>deep-equal</code> function available in version 3 which would allow you to compare two <code>AdditiveExpression</code> elements and all their descendants in a single function call. This lack means you have to write something much more verbose, but you could probably get away with something like this:</p>\n<pre class=\"lang-xpath prettyprint-override\"><code>for $e1 in //AdditiveExpression return\n$e1[\n   some $e2 in (//AdditiveExpression except $e1) satisfies \n      $e1/@Image = $e2/@Image and \n      $e1/PrimaryExpression[1]/PrimaryPrefix/Name/@Image = \n         $e2/PrimaryExpression[1]/PrimaryPrefix/Name/@Image and\n      $e1/PrimaryExpression[2]/PrimaryPrefix/Name/@Image = \n         $e2/PrimaryExpression[2]/PrimaryPrefix/Name/@Image\n]\n</code></pre>\n<p>This XPath 2 expression constructs a sequence of elements that are considered to have duplicates like so:</p>\n<p>For every expression ('<code>$e1</code>') in the set of <code>AdditiiveExpression</code> elements, return that <code>$e1</code> if the criterion in the predicate (<code>[</code> ... <code>]</code>) evaluates to <code>true</code>, namely, that there's some other expression ('<code>$e2</code>') which is also one of the <code>AdditiveExpression</code> elements but isn't <code>$e1</code>, and which has the same <code>Image</code> attribute as the <code>$e1</code> expression, and whose child elements have <code>Image</code> attributes that match the corresponding child elements of <code>$e1</code>.</p>\n<p>I'm not sure what are the important criteria for your two expressions to be considered duplicates; I didn't compare literally every attribute etc, but this should give you an idea.</p>\n"}],"owner":{"account_id":28034477,"reputation":3,"user_id":21413116,"display_name":"Laschoking"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75791124,"answer_count":1,"score":0,"last_activity_date":1679620642,"creation_date":1678984041,"question_id":75759000,"body_markdown":"I want to use PMD to find Common Subexpression of the form \r\n ```\r\nz = a +b;\r\nq = a +b;\r\n``` \r\n \r\nfor Java code.\r\n\r\nI know the CPD tool exists for things like this but there I will also receive copied functions etc. that have matches in the file. I only want to find duplicate expressions that are connected with a Binary Operator. \r\n\r\nWhen analyzing a small code example ```z = a + b``` the following structure appears per BlockStatement:\r\n```\r\n└─ BlockStatement\r\n   └─ Statement\r\n      └─ StatementExpression\r\n         ├─ PrimaryExpression\r\n         │  └─ PrimaryPrefix        //   z \r\n         │     └─ Name\r\n         ├─ AssignmentOperator\r\n         └─ Expression\r\n            └─ AdditiveExpression   //   +\r\n               ├─ PrimaryExpression\r\n               │  └─ PrimaryPrefix  //   a \r\n               │     └─ Name\r\n               └─ PrimaryExpression\r\n                  └─ PrimaryPrefix  //   b\r\n                     └─ Name\r\n```\r\nI know I somehow have to check if the count of an AdditiveExpression appears more than once in my method by I cannot get it working. \r\nOne aspect where I lack understanding is, whether I need to compare all 3 parts of the expression or if I just can compare the inner node AdditiveExpression because from there on the duplicate expressions are the same.\r\n\r\nWrong approaches:\r\n\r\n//AdditiveExpression[count(.) &gt; 0]   \r\n\r\n//AdditiveExpression[.=../../../../BlockStatement/Statement/StatementExpression/Expression]/AdditiveExpression]\r\n\r\n\r\nEdit 1: Adding the XML file for the following java Example:\r\n\r\n```\r\npublic class Example{\r\n    public static void main(final String[] args){\r\n\tint i = 5;\r\n\tint k = 10;\r\n    int z,h;\r\n \tz = i + k;\r\n\th = i + k;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;\r\n&lt;CompilationUnit Image=&#39;&#39; PackageName=&#39;&#39; declarationsAreInDefaultPackage=&#39;true&#39;&gt;\r\n    &lt;TypeDeclaration Image=&#39;&#39;&gt;\r\n        &lt;ClassOrInterfaceDeclaration Abstract=&#39;false&#39; BinaryName=&#39;Example&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;Example&#39; Interface=&#39;false&#39; Local=&#39;false&#39; Modifiers=&#39;1&#39; Native=&#39;false&#39; Nested=&#39;false&#39; NonSealed=&#39;false&#39; PackagePrivate=&#39;false&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;true&#39; Sealed=&#39;false&#39; SimpleName=&#39;Example&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeKind=&#39;CLASS&#39; Volatile=&#39;false&#39;&gt;\r\n            &lt;ClassOrInterfaceBody AnonymousInnerClass=&#39;false&#39; EnumChild=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                &lt;ClassOrInterfaceBodyDeclaration AnonymousInnerClass=&#39;false&#39; EnumChild=&#39;false&#39; Image=&#39;&#39; Kind=&#39;METHOD&#39;&gt;\r\n                    &lt;MethodDeclaration Abstract=&#39;false&#39; Arity=&#39;1&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; InterfaceMember=&#39;false&#39; Kind=&#39;METHOD&#39; MethodName=&#39;main&#39; Modifiers=&#39;17&#39; Name=&#39;main&#39; Native=&#39;false&#39; PackagePrivate=&#39;false&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;true&#39; Static=&#39;true&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; SyntacticallyAbstract=&#39;false&#39; SyntacticallyPublic=&#39;true&#39; Transient=&#39;false&#39; Void=&#39;true&#39; Volatile=&#39;false&#39;&gt;\r\n                        &lt;ResultType Image=&#39;&#39; Void=&#39;true&#39; returnsArray=&#39;false&#39; /&gt;\r\n                        &lt;MethodDeclarator Image=&#39;main&#39; ParameterCount=&#39;1&#39;&gt;\r\n                            &lt;FormalParameters Image=&#39;&#39; ParameterCount=&#39;1&#39; Size=&#39;1&#39;&gt;\r\n                                &lt;FormalParameter Abstract=&#39;false&#39; Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Default=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Final=&#39;true&#39; Image=&#39;&#39; Modifiers=&#39;32&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; Varargs=&#39;false&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;true&#39; ArrayDepth=&#39;1&#39; ArrayType=&#39;true&#39; Image=&#39;&#39; TypeImage=&#39;String&#39;&gt;\r\n                                        &lt;ReferenceType Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Image=&#39;&#39;&gt;\r\n                                            &lt;ClassOrInterfaceType AnonymousClass=&#39;false&#39; Array=&#39;true&#39; ArrayDepth=&#39;1&#39; Image=&#39;String&#39; ReferenceToClassSameCompilationUnit=&#39;false&#39; /&gt;\r\n                                        &lt;/ReferenceType&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;true&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;true&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;true&#39; Image=&#39;args&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;false&#39; Name=&#39;args&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;args&#39; /&gt;\r\n                                &lt;/FormalParameter&gt;\r\n                            &lt;/FormalParameters&gt;\r\n                        &lt;/MethodDeclarator&gt;\r\n                        &lt;Block Image=&#39;&#39; containsComment=&#39;false&#39;&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;i&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;true&#39; Name=&#39;i&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;i&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;i&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;i&#39; /&gt;\r\n                                        &lt;VariableInitializer Image=&#39;&#39;&gt;\r\n                                            &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;true&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Literal CharLiteral=&#39;false&#39; DoubleLiteral=&#39;false&#39; EscapedStringLiteral=&#39;5&#39; FloatLiteral=&#39;false&#39; Image=&#39;5&#39; IntLiteral=&#39;true&#39; LongLiteral=&#39;false&#39; SingleCharacterStringLiteral=&#39;false&#39; StringLiteral=&#39;false&#39; TextBlock=&#39;false&#39; TextBlockContent=&#39;5&#39; ValueAsDouble=&#39;NaN&#39; ValueAsFloat=&#39;NaN&#39; ValueAsInt=&#39;5&#39; ValueAsLong=&#39;5&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/Expression&gt;\r\n                                        &lt;/VariableInitializer&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;k&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;true&#39; Name=&#39;k&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;k&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;k&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;k&#39; /&gt;\r\n                                        &lt;VariableInitializer Image=&#39;&#39;&gt;\r\n                                            &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;true&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Literal CharLiteral=&#39;false&#39; DoubleLiteral=&#39;false&#39; EscapedStringLiteral=&#39;10&#39; FloatLiteral=&#39;false&#39; Image=&#39;10&#39; IntLiteral=&#39;true&#39; LongLiteral=&#39;false&#39; SingleCharacterStringLiteral=&#39;false&#39; StringLiteral=&#39;false&#39; TextBlock=&#39;false&#39; TextBlockContent=&#39;10&#39; ValueAsDouble=&#39;NaN&#39; ValueAsFloat=&#39;NaN&#39; ValueAsInt=&#39;10&#39; ValueAsLong=&#39;10&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/Expression&gt;\r\n                                        &lt;/VariableInitializer&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;LocalVariableDeclaration Abstract=&#39;false&#39; Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Default=&#39;false&#39; Final=&#39;false&#39; Image=&#39;&#39; Modifiers=&#39;0&#39; Native=&#39;false&#39; PackagePrivate=&#39;true&#39; Private=&#39;false&#39; Protected=&#39;false&#39; Public=&#39;false&#39; Static=&#39;false&#39; Strictfp=&#39;false&#39; Synchronized=&#39;false&#39; Transient=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;z&#39; Volatile=&#39;false&#39;&gt;\r\n                                    &lt;Type Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; Image=&#39;&#39; TypeImage=&#39;int&#39;&gt;\r\n                                        &lt;PrimitiveType Array=&#39;false&#39; ArrayDepth=&#39;0&#39; Boolean=&#39;false&#39; Image=&#39;int&#39; /&gt;\r\n                                    &lt;/Type&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;false&#39; Name=&#39;z&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;z&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;z&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;z&#39; /&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                    &lt;VariableDeclarator Image=&#39;&#39; Initializer=&#39;false&#39; Name=&#39;h&#39;&gt;\r\n                                        &lt;VariableDeclaratorId Array=&#39;false&#39; ArrayDepth=&#39;0&#39; ArrayType=&#39;false&#39; ExceptionBlockParameter=&#39;false&#39; ExplicitReceiverParameter=&#39;false&#39; Field=&#39;false&#39; Final=&#39;false&#39; ForeachVariable=&#39;false&#39; FormalParameter=&#39;false&#39; Image=&#39;h&#39; LambdaParameter=&#39;false&#39; LocalVariable=&#39;true&#39; Name=&#39;h&#39; PatternBinding=&#39;false&#39; ResourceDeclaration=&#39;false&#39; TypeInferred=&#39;false&#39; VariableName=&#39;h&#39; /&gt;\r\n                                    &lt;/VariableDeclarator&gt;\r\n                                &lt;/LocalVariableDeclaration&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;Statement Image=&#39;&#39;&gt;\r\n                                    &lt;StatementExpression Image=&#39;&#39;&gt;\r\n                                        &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                            &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                &lt;Name Image=&#39;z&#39; /&gt;\r\n                                            &lt;/PrimaryPrefix&gt;\r\n                                        &lt;/PrimaryExpression&gt;\r\n                                        &lt;AssignmentOperator Compound=&#39;false&#39; Image=&#39;=&#39; /&gt;\r\n                                        &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;false&#39;&gt;\r\n                                            &lt;AdditiveExpression Image=&#39;+&#39; Operator=&#39;+&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;i&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;k&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/AdditiveExpression&gt;\r\n                                        &lt;/Expression&gt;\r\n                                    &lt;/StatementExpression&gt;\r\n                                &lt;/Statement&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                            &lt;BlockStatement Allocation=&#39;false&#39; Image=&#39;&#39;&gt;\r\n                                &lt;Statement Image=&#39;&#39;&gt;\r\n                                    &lt;StatementExpression Image=&#39;&#39;&gt;\r\n                                        &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                            &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                &lt;Name Image=&#39;h&#39; /&gt;\r\n                                            &lt;/PrimaryPrefix&gt;\r\n                                        &lt;/PrimaryExpression&gt;\r\n                                        &lt;AssignmentOperator Compound=&#39;false&#39; Image=&#39;=&#39; /&gt;\r\n                                        &lt;Expression Image=&#39;&#39; StandAlonePrimitive=&#39;false&#39;&gt;\r\n                                            &lt;AdditiveExpression Image=&#39;+&#39; Operator=&#39;+&#39;&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;i&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                                &lt;PrimaryExpression Image=&#39;&#39;&gt;\r\n                                                    &lt;PrimaryPrefix Image=&#39;&#39; SuperModifier=&#39;false&#39; ThisModifier=&#39;false&#39;&gt;\r\n                                                        &lt;Name Image=&#39;k&#39; /&gt;\r\n                                                    &lt;/PrimaryPrefix&gt;\r\n                                                &lt;/PrimaryExpression&gt;\r\n                                            &lt;/AdditiveExpression&gt;\r\n                                        &lt;/Expression&gt;\r\n                                    &lt;/StatementExpression&gt;\r\n                                &lt;/Statement&gt;\r\n                            &lt;/BlockStatement&gt;\r\n                        &lt;/Block&gt;\r\n                    &lt;/MethodDeclaration&gt;\r\n                &lt;/ClassOrInterfaceBodyDeclaration&gt;\r\n            &lt;/ClassOrInterfaceBody&gt;\r\n        &lt;/ClassOrInterfaceDeclaration&gt;\r\n    &lt;/TypeDeclaration&gt;\r\n&lt;/CompilationUnit&gt;\r\n```\r\n\r\n","title":"Using XPath in PMD to find duplicate expressions","body":"<p>I want to use PMD to find Common Subexpression of the form</p>\n<pre><code>z = a +b;\nq = a +b;\n</code></pre>\n<p>for Java code.</p>\n<p>I know the CPD tool exists for things like this but there I will also receive copied functions etc. that have matches in the file. I only want to find duplicate expressions that are connected with a Binary Operator.</p>\n<p>When analyzing a small code example <code>z = a + b</code> the following structure appears per BlockStatement:</p>\n<pre><code>└─ BlockStatement\n   └─ Statement\n      └─ StatementExpression\n         ├─ PrimaryExpression\n         │  └─ PrimaryPrefix        //   z \n         │     └─ Name\n         ├─ AssignmentOperator\n         └─ Expression\n            └─ AdditiveExpression   //   +\n               ├─ PrimaryExpression\n               │  └─ PrimaryPrefix  //   a \n               │     └─ Name\n               └─ PrimaryExpression\n                  └─ PrimaryPrefix  //   b\n                     └─ Name\n</code></pre>\n<p>I know I somehow have to check if the count of an AdditiveExpression appears more than once in my method by I cannot get it working.\nOne aspect where I lack understanding is, whether I need to compare all 3 parts of the expression or if I just can compare the inner node AdditiveExpression because from there on the duplicate expressions are the same.</p>\n<p>Wrong approaches:</p>\n<p>//AdditiveExpression[count(.) &gt; 0]</p>\n<p>//AdditiveExpression[.=../../../../BlockStatement/Statement/StatementExpression/Expression]/AdditiveExpression]</p>\n<p>Edit 1: Adding the XML file for the following java Example:</p>\n<pre><code>public class Example{\n    public static void main(final String[] args){\n    int i = 5;\n    int k = 10;\n    int z,h;\n    z = i + k;\n    h = i + k;\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version='1.0' encoding='UTF-8' ?&gt;\n&lt;CompilationUnit Image='' PackageName='' declarationsAreInDefaultPackage='true'&gt;\n    &lt;TypeDeclaration Image=''&gt;\n        &lt;ClassOrInterfaceDeclaration Abstract='false' BinaryName='Example' Default='false' Final='false' Image='Example' Interface='false' Local='false' Modifiers='1' Native='false' Nested='false' NonSealed='false' PackagePrivate='false' Private='false' Protected='false' Public='true' Sealed='false' SimpleName='Example' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeKind='CLASS' Volatile='false'&gt;\n            &lt;ClassOrInterfaceBody AnonymousInnerClass='false' EnumChild='false' Image=''&gt;\n                &lt;ClassOrInterfaceBodyDeclaration AnonymousInnerClass='false' EnumChild='false' Image='' Kind='METHOD'&gt;\n                    &lt;MethodDeclaration Abstract='false' Arity='1' Default='false' Final='false' Image='' InterfaceMember='false' Kind='METHOD' MethodName='main' Modifiers='17' Name='main' Native='false' PackagePrivate='false' Private='false' Protected='false' Public='true' Static='true' Strictfp='false' Synchronized='false' SyntacticallyAbstract='false' SyntacticallyPublic='true' Transient='false' Void='true' Volatile='false'&gt;\n                        &lt;ResultType Image='' Void='true' returnsArray='false' /&gt;\n                        &lt;MethodDeclarator Image='main' ParameterCount='1'&gt;\n                            &lt;FormalParameters Image='' ParameterCount='1' Size='1'&gt;\n                                &lt;FormalParameter Abstract='false' Array='true' ArrayDepth='1' Default='false' ExplicitReceiverParameter='false' Final='true' Image='' Modifiers='32' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' Varargs='false' Volatile='false'&gt;\n                                    &lt;Type Array='true' ArrayDepth='1' ArrayType='true' Image='' TypeImage='String'&gt;\n                                        &lt;ReferenceType Array='true' ArrayDepth='1' Image=''&gt;\n                                            &lt;ClassOrInterfaceType AnonymousClass='false' Array='true' ArrayDepth='1' Image='String' ReferenceToClassSameCompilationUnit='false' /&gt;\n                                        &lt;/ReferenceType&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='true' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='true' ForeachVariable='false' FormalParameter='true' Image='args' LambdaParameter='false' LocalVariable='false' Name='args' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='args' /&gt;\n                                &lt;/FormalParameter&gt;\n                            &lt;/FormalParameters&gt;\n                        &lt;/MethodDeclarator&gt;\n                        &lt;Block Image='' containsComment='false'&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='i' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='true' Name='i'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='i' LambdaParameter='false' LocalVariable='true' Name='i' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='i' /&gt;\n                                        &lt;VariableInitializer Image=''&gt;\n                                            &lt;Expression Image='' StandAlonePrimitive='true'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Literal CharLiteral='false' DoubleLiteral='false' EscapedStringLiteral='5' FloatLiteral='false' Image='5' IntLiteral='true' LongLiteral='false' SingleCharacterStringLiteral='false' StringLiteral='false' TextBlock='false' TextBlockContent='5' ValueAsDouble='NaN' ValueAsFloat='NaN' ValueAsInt='5' ValueAsLong='5' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/Expression&gt;\n                                        &lt;/VariableInitializer&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='k' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='true' Name='k'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='k' LambdaParameter='false' LocalVariable='true' Name='k' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='k' /&gt;\n                                        &lt;VariableInitializer Image=''&gt;\n                                            &lt;Expression Image='' StandAlonePrimitive='true'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Literal CharLiteral='false' DoubleLiteral='false' EscapedStringLiteral='10' FloatLiteral='false' Image='10' IntLiteral='true' LongLiteral='false' SingleCharacterStringLiteral='false' StringLiteral='false' TextBlock='false' TextBlockContent='10' ValueAsDouble='NaN' ValueAsFloat='NaN' ValueAsInt='10' ValueAsLong='10' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/Expression&gt;\n                                        &lt;/VariableInitializer&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;LocalVariableDeclaration Abstract='false' Array='false' ArrayDepth='0' Default='false' Final='false' Image='' Modifiers='0' Native='false' PackagePrivate='true' Private='false' Protected='false' Public='false' Static='false' Strictfp='false' Synchronized='false' Transient='false' TypeInferred='false' VariableName='z' Volatile='false'&gt;\n                                    &lt;Type Array='false' ArrayDepth='0' ArrayType='false' Image='' TypeImage='int'&gt;\n                                        &lt;PrimitiveType Array='false' ArrayDepth='0' Boolean='false' Image='int' /&gt;\n                                    &lt;/Type&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='false' Name='z'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='z' LambdaParameter='false' LocalVariable='true' Name='z' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='z' /&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                    &lt;VariableDeclarator Image='' Initializer='false' Name='h'&gt;\n                                        &lt;VariableDeclaratorId Array='false' ArrayDepth='0' ArrayType='false' ExceptionBlockParameter='false' ExplicitReceiverParameter='false' Field='false' Final='false' ForeachVariable='false' FormalParameter='false' Image='h' LambdaParameter='false' LocalVariable='true' Name='h' PatternBinding='false' ResourceDeclaration='false' TypeInferred='false' VariableName='h' /&gt;\n                                    &lt;/VariableDeclarator&gt;\n                                &lt;/LocalVariableDeclaration&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;Statement Image=''&gt;\n                                    &lt;StatementExpression Image=''&gt;\n                                        &lt;PrimaryExpression Image=''&gt;\n                                            &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                &lt;Name Image='z' /&gt;\n                                            &lt;/PrimaryPrefix&gt;\n                                        &lt;/PrimaryExpression&gt;\n                                        &lt;AssignmentOperator Compound='false' Image='=' /&gt;\n                                        &lt;Expression Image='' StandAlonePrimitive='false'&gt;\n                                            &lt;AdditiveExpression Image='+' Operator='+'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='i' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='k' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/AdditiveExpression&gt;\n                                        &lt;/Expression&gt;\n                                    &lt;/StatementExpression&gt;\n                                &lt;/Statement&gt;\n                            &lt;/BlockStatement&gt;\n                            &lt;BlockStatement Allocation='false' Image=''&gt;\n                                &lt;Statement Image=''&gt;\n                                    &lt;StatementExpression Image=''&gt;\n                                        &lt;PrimaryExpression Image=''&gt;\n                                            &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                &lt;Name Image='h' /&gt;\n                                            &lt;/PrimaryPrefix&gt;\n                                        &lt;/PrimaryExpression&gt;\n                                        &lt;AssignmentOperator Compound='false' Image='=' /&gt;\n                                        &lt;Expression Image='' StandAlonePrimitive='false'&gt;\n                                            &lt;AdditiveExpression Image='+' Operator='+'&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='i' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                                &lt;PrimaryExpression Image=''&gt;\n                                                    &lt;PrimaryPrefix Image='' SuperModifier='false' ThisModifier='false'&gt;\n                                                        &lt;Name Image='k' /&gt;\n                                                    &lt;/PrimaryPrefix&gt;\n                                                &lt;/PrimaryExpression&gt;\n                                            &lt;/AdditiveExpression&gt;\n                                        &lt;/Expression&gt;\n                                    &lt;/StatementExpression&gt;\n                                &lt;/Statement&gt;\n                            &lt;/BlockStatement&gt;\n                        &lt;/Block&gt;\n                    &lt;/MethodDeclaration&gt;\n                &lt;/ClassOrInterfaceBodyDeclaration&gt;\n            &lt;/ClassOrInterfaceBody&gt;\n        &lt;/ClassOrInterfaceDeclaration&gt;\n    &lt;/TypeDeclaration&gt;\n&lt;/CompilationUnit&gt;\n</code></pre>\n"},{"tags":["java","database","constants","code-maintainability"],"comments":[{"owner":{"account_id":258256,"reputation":24473,"user_id":540312,"accept_rate":87,"display_name":"Sergei Tachenov"},"score":0,"creation_date":1292612398,"post_id":4473599,"comment_id":4890568,"body_markdown":"Unrelated to the question, your examples break the Java naming conventions by using double underscores and class names like tbl_Employee. The Java naming conventions are really reasonable and very widely used. You really shouldn&#39;t break them without a serious reason.","body":"Unrelated to the question, your examples break the Java naming conventions by using double underscores and class names like tbl_Employee. The Java naming conventions are really reasonable and very widely used. You really shouldn&#39;t break them without a serious reason."},{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292616454,"post_id":4473599,"comment_id":4891232,"body_markdown":"@ Sergey Tachenov:  Completely agree, i used this wrong naming convention for sake of example. But it raise one question that how should i name class which define constants for a table because as u said table name convention doesn&#39;t apply to class name convention.","body":"@ Sergey Tachenov:  Completely agree, i used this wrong naming convention for sake of example. But it raise one question that how should i name class which define constants for a table because as u said table name convention doesn&#39;t apply to class name convention."},{"owner":{"account_id":216784,"reputation":12653,"user_id":472226,"accept_rate":73,"display_name":"Ronnis"},"score":0,"creation_date":1292622378,"post_id":4473599,"comment_id":4892184,"body_markdown":"Don&#39;t do this. You are using the database wrong if you feel like you need to solve this.","body":"Don&#39;t do this. You are using the database wrong if you feel like you need to solve this."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1292610784,"creation_date":1292610784,"answer_id":4473679,"question_id":4473599,"body_markdown":"When I have meta data about a database, I would store this in the database also. This is how I have seen other system run, if not initially then eventually.  To ensure this data is maintained you could check against the schema of the data base.","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>When I have meta data about a database, I would store this in the database also. This is how I have seen other system run, if not initially then eventually.  To ensure this data is maintained you could check against the schema of the data base.</p>\n"},{"comments":[{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292611244,"post_id":4473695,"comment_id":4890383,"body_markdown":"I am using Hibernate annotation to map Entity class with table. But there can be some database queries which can&#39;t be solved by hibernate so same is implemented using sql query rather than hibernate in Dao layer.","body":"I am using Hibernate annotation to map Entity class with table. But there can be some database queries which can&#39;t be solved by hibernate so same is implemented using sql query rather than hibernate in Dao layer."},{"owner":{"account_id":80699,"reputation":1040,"user_id":228016,"display_name":"Jonathan B"},"score":0,"creation_date":1292612493,"post_id":4473695,"comment_id":4890589,"body_markdown":"You can embed a standard SQL query in to the Hibernate configuration files as well.  This means that any change to the DB would need a corresponding change to the configuration file, but this does allow you to have DB changes only affect one location (and doesn&#39;t require a recompile to work).  Check the Hibernate documentation under Native SQL queries.","body":"You can embed a standard SQL query in to the Hibernate configuration files as well.  This means that any change to the DB would need a corresponding change to the configuration file, but this does allow you to have DB changes only affect one location (and doesn&#39;t require a recompile to work).  Check the Hibernate documentation under Native SQL queries."},{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292613137,"post_id":4473695,"comment_id":4890692,"body_markdown":"(1). I am using hibernate annotation rather than hibernate mapping file. So change will be in multiple files (2).There are some business queries which can not be answered by hibernate pojo so i have to write code out of context of hibernate for same in DAO layer. Thanks","body":"(1). I am using hibernate annotation rather than hibernate mapping file. So change will be in multiple files (2).There are some business queries which can not be answered by hibernate pojo so i have to write code out of context of hibernate for same in DAO layer. Thanks"},{"owner":{"account_id":80699,"reputation":1040,"user_id":228016,"display_name":"Jonathan B"},"score":0,"creation_date":1292866081,"post_id":4473695,"comment_id":4914167,"body_markdown":"Hibernate will also provide you with the raw data, if you don&#39;t specify a specific POJO object mapping in the query.  So you can write HQL that has a select statement, and the Iterator (or List) that comes back is a a list of Object[] which holds the data returned from the query.","body":"Hibernate will also provide you with the raw data, if you don&#39;t specify a specific POJO object mapping in the query.  So you can write HQL that has a select statement, and the Iterator (or List) that comes back is a a list of Object[] which holds the data returned from the query."},{"owner":{"account_id":80699,"reputation":1040,"user_id":228016,"display_name":"Jonathan B"},"score":1,"creation_date":1292866145,"post_id":4473695,"comment_id":4914177,"body_markdown":"Annotations are a trade-off between easy to read code and more difficult maintenance of the code.  It&#39;s not an easy call - do which ever works best for you.","body":"Annotations are a trade-off between easy to read code and more difficult maintenance of the code.  It&#39;s not an easy call - do which ever works best for you."}],"tags":[],"owner":{"account_id":80699,"reputation":1040,"user_id":228016,"display_name":"Jonathan B"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292610883,"creation_date":1292610883,"answer_id":4473695,"question_id":4473599,"body_markdown":"Have you considered using an Entity Mapping Framework (like Hibernate)?  \r\n\r\nIt can store all of the database table information (as well as all other DB specific information) in a configuration file.  It also offers a separation layer between &quot;hard&quot; DB design and your application (which would make it easier to absorb changes to either).","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>Have you considered using an Entity Mapping Framework (like Hibernate)?  </p>\n\n<p>It can store all of the database table information (as well as all other DB specific information) in a configuration file.  It also offers a separation layer between \"hard\" DB design and your application (which would make it easier to absorb changes to either).</p>\n"},{"comments":[{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292613628,"post_id":4473728,"comment_id":4890767,"body_markdown":"Looks good, but i guess be it interface or class for both it is not considered good to use them for sole purpose of defining constants only. But definitely this link reflects what practice is being followed so can be useful. But constants for table name is required which is not covered in this code.","body":"Looks good, but i guess be it interface or class for both it is not considered good to use them for sole purpose of defining constants only. But definitely this link reflects what practice is being followed so can be useful. But constants for table name is required which is not covered in this code."},{"owner":{"account_id":1502229,"reputation":2973,"user_id":1406510,"accept_rate":64,"display_name":"nanosoft"},"score":0,"creation_date":1688895127,"post_id":4473728,"comment_id":135133142,"body_markdown":"@Don Link no longer works","body":"@Don Link no longer works"}],"tags":[],"owner":{"account_id":140384,"reputation":542,"user_id":346649,"display_name":"Don"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311277049,"creation_date":1292611134,"answer_id":4473728,"question_id":4473599,"body_markdown":"You could create an interface that defines the constants. \r\n\r\n[Here&#39;s a good example in Android](http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/provider/ContactsContract.java;h=40a408a12ee8cb98272b2a24ed866ebd9856e985;hb=HEAD). Look for the `DataColumns` interface.","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>You could create an interface that defines the constants. </p>\n\n<p><a href=\"http://android.git.kernel.org/?p=platform/frameworks/base.git;a=blob;f=core/java/android/provider/ContactsContract.java;h=40a408a12ee8cb98272b2a24ed866ebd9856e985;hb=HEAD\" rel=\"nofollow\">Here's a good example in Android</a>. Look for the <code>DataColumns</code> interface.</p>\n"},{"comments":[{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":1,"creation_date":1292613418,"post_id":4473736,"comment_id":4890733,"body_markdown":"We can not deny fact that on renaming column name it really tedious and non productive task to replicate same change in java code. So We can not do away with constants we have to have some solution to avoid multiplier effect of db changes. As i specified one benefit of constant even if we change constant name itself is refractor facility in eclipse. My main concern is what should be best approach for organizing constants global, class or interface or enum per table or something else.","body":"We can not deny fact that on renaming column name it really tedious and non productive task to replicate same change in java code. So We can not do away with constants we have to have some solution to avoid multiplier effect of db changes. As i specified one benefit of constant even if we change constant name itself is refractor facility in eclipse. My main concern is what should be best approach for organizing constants global, class or interface or enum per table or something else."}],"tags":[],"owner":{"account_id":10340,"reputation":55904,"user_id":19479,"accept_rate":69,"display_name":"Steve B."},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1292611200,"creation_date":1292611200,"answer_id":4473736,"question_id":4473599,"body_markdown":"It sounds like you&#39;re asking all the right questions - you want to make the code more maintainable, but realize that this could get unwieldy and end up making the code worse rather than better. Think of something like &quot;Color.RED, Color.BLACK&quot;.\r\n\r\nI&#39;ve found that a *reasonable* amount of constants like this makes the code more readable. I don&#39;t think db column names belong in something like this, because\r\n\r\n - they&#39;re not going to be changed often, or at least they shouldn&#39;t be\r\n \r\n - there&#39;s enough of them that you&#39;ll end with a large list of constants, at which point people stop using them because it&#39;s harder to find the constant than to just look up the damn name in the db.\r\n\r\nI&#39;ve seen db files like this with thousands of constants, including custom queries, parts of queries, etc. etc (even a gem like `public static final String COMMA=&quot;,&quot;;` to take care of the possibility that the spelling of commas will change in the future). At this point they devolve into &quot;use once&quot; strings, and nobody dares to change them. \r\n\r\nOne other caveat about string constants - finals get compiled into your class as strings. So if you recompile the constant class, but not the class that uses the definition, it&#39;s possible to end up with the new definition not propagating. \r\n","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>It sounds like you're asking all the right questions - you want to make the code more maintainable, but realize that this could get unwieldy and end up making the code worse rather than better. Think of something like \"Color.RED, Color.BLACK\".</p>\n\n<p>I've found that a <em>reasonable</em> amount of constants like this makes the code more readable. I don't think db column names belong in something like this, because</p>\n\n<ul>\n<li><p>they're not going to be changed often, or at least they shouldn't be</p></li>\n<li><p>there's enough of them that you'll end with a large list of constants, at which point people stop using them because it's harder to find the constant than to just look up the damn name in the db.</p></li>\n</ul>\n\n<p>I've seen db files like this with thousands of constants, including custom queries, parts of queries, etc. etc (even a gem like <code>public static final String COMMA=\",\";</code> to take care of the possibility that the spelling of commas will change in the future). At this point they devolve into \"use once\" strings, and nobody dares to change them. </p>\n\n<p>One other caveat about string constants - finals get compiled into your class as strings. So if you recompile the constant class, but not the class that uses the definition, it's possible to end up with the new definition not propagating. </p>\n"},{"comments":[{"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"score":0,"creation_date":1292613744,"post_id":4473743,"comment_id":4890787,"body_markdown":"Daniel DiPaolo: u use one global file or one class for each table?","body":"Daniel DiPaolo: u use one global file or one class for each table?"},{"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"score":0,"creation_date":1292614654,"post_id":4473743,"comment_id":4890919,"body_markdown":"One class per table, though it&#39;s not strictly tied to the table name, that&#39;s also a constant within the class :)","body":"One class per table, though it&#39;s not strictly tied to the table name, that&#39;s also a constant within the class :)"}],"tags":[],"owner":{"account_id":5769,"reputation":55573,"user_id":9453,"display_name":"Daniel DiPaolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292611258,"creation_date":1292611258,"answer_id":4473743,"question_id":4473599,"body_markdown":"On my current project, we are making heavy use of [annotations][1] for a lot of the DB-related metadata because we can&#39;t use a framework like Hibernate.  For actual column constants, yes, we use the tried and true `public static final String`.  And yes, it&#39;s fairly fragile.\r\n\r\n   [1]:http://download.oracle.com/javase/6/docs/technotes/guides/language/annotations.html","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>On my current project, we are making heavy use of <a href=\"http://download.oracle.com/javase/6/docs/technotes/guides/language/annotations.html\" rel=\"nofollow\">annotations</a> for a lot of the DB-related metadata because we can't use a framework like Hibernate.  For actual column constants, yes, we use the tried and true <code>public static final String</code>.  And yes, it's fairly fragile.</p>\n"}],"owner":{"account_id":25604,"reputation":6649,"user_id":65917,"accept_rate":80,"display_name":"Maddy.Shik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7224,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4473736,"answer_count":5,"score":8,"last_activity_date":1679619343,"creation_date":1292610212,"question_id":4473599,"body_markdown":"Technology: \r\n- Java 1.5 or 1.6\r\n- Hibernate 3.4\r\n\r\nTo avoid update of column name on multiple places on change of column name or tablename, i want to have a constant file for same.\r\n\r\nI have following queries?\r\n\r\n- One possible solution is to maintain one global file which stores constants for column names of all of tables in database. \r\nlike\r\n \r\n        class DbConstants\r\n        {\r\n                public static final String EMPLOYEE__PERFORMANCE_DESC=&quot;performance_desc&quot;;        \r\n        } \r\n\r\nIn above case employees is name of table and performance_desc is name of column name. \r\nSo kind of `tablename__columnname` format is followed for naming a constant to avoid collision between two constants of two different tables if both have have column name.\r\n\r\nOne problem with this approach i see is that as database grows no of constants in this file will grow to thousands which is difficult to manage. Other problem is if table name is changed, i have to change prefix table name for all of tables. \r\n  \r\n- Suppose if i change name of column in above example from performance_desc to achievements_desc. In this case it is very likely that i will like to change constant also i.e from `EMPLOYEE__PERFORMANCE_DESC` to `EMPLOYEE__ACHIEVEMENT_DESC`. Since in this case i needed to change both column name and constant name i don&#39;t see much use of using constant instead of column name directly in my code although there is one benefit that on change of constant name i can use refraction to reflect constant name name change wherever referenced. \r\nIt seems either there is not much use of using constants or i am using it wrong way.\r\n\r\n\r\n- In project code i have seem people defining one class for each table columns list to define constants as shown  below.\r\n\r\n        public class tbl_Employee\r\n        {\r\n                public static final PERFORMANCE_DESC=performance_desc;\r\n        }    \r\n\r\nthis can solve some of issues with global file like table name change will lead to class name change only.\r\nOne major issue with this is that i am using class  for sole purpose of defining constants which is not good coding practice.\r\n\r\n- Read some where about Enum with value string rather than int not sure is it available in java 1.5 or 1.6 and if its is advisable to use in given scenario.\r\n\r\n- What is best practice for given defining db constants?\r\n\r\n- Is it really useful to use db constants?\r\n\r\n- If i use one class for each table like mentioned above, one problem i face is naming convention. What should be relation between name of table and corresponding class&#39; name which define constants for columns of the table.\r\n\r\n- Above cases covers case for only column names not table name. I may like to use constant rather table name in code so what should be approach for defining constants for table names. \r\n\r\n- It is often argued that table name and column names doesn&#39;t change much once product or related version is released. Changes in table name and column name happen mostly during development phase or feature enhancement (new version). Is it strong argument to avoid using constants for table name or column names?","title":"java 1.5: Best practice to keep constants for column name of db tables?","body":"<p>Technology:</p>\n<ul>\n<li>Java 1.5 or 1.6</li>\n<li>Hibernate 3.4</li>\n</ul>\n<p>To avoid update of column name on multiple places on change of column name or tablename, i want to have a constant file for same.</p>\n<p>I have following queries?</p>\n<ul>\n<li><p>One possible solution is to maintain one global file which stores constants for column names of all of tables in database.\nlike</p>\n<pre><code>  class DbConstants\n  {\n          public static final String EMPLOYEE__PERFORMANCE_DESC=&quot;performance_desc&quot;;        \n  } \n</code></pre>\n</li>\n</ul>\n<p>In above case employees is name of table and performance_desc is name of column name.\nSo kind of <code>tablename__columnname</code> format is followed for naming a constant to avoid collision between two constants of two different tables if both have have column name.</p>\n<p>One problem with this approach i see is that as database grows no of constants in this file will grow to thousands which is difficult to manage. Other problem is if table name is changed, i have to change prefix table name for all of tables.</p>\n<ul>\n<li><p>Suppose if i change name of column in above example from performance_desc to achievements_desc. In this case it is very likely that i will like to change constant also i.e from <code>EMPLOYEE__PERFORMANCE_DESC</code> to <code>EMPLOYEE__ACHIEVEMENT_DESC</code>. Since in this case i needed to change both column name and constant name i don't see much use of using constant instead of column name directly in my code although there is one benefit that on change of constant name i can use refraction to reflect constant name name change wherever referenced.\nIt seems either there is not much use of using constants or i am using it wrong way.</p>\n</li>\n<li><p>In project code i have seem people defining one class for each table columns list to define constants as shown  below.</p>\n<pre><code>  public class tbl_Employee\n  {\n          public static final PERFORMANCE_DESC=performance_desc;\n  }    \n</code></pre>\n</li>\n</ul>\n<p>this can solve some of issues with global file like table name change will lead to class name change only.\nOne major issue with this is that i am using class  for sole purpose of defining constants which is not good coding practice.</p>\n<ul>\n<li><p>Read some where about Enum with value string rather than int not sure is it available in java 1.5 or 1.6 and if its is advisable to use in given scenario.</p>\n</li>\n<li><p>What is best practice for given defining db constants?</p>\n</li>\n<li><p>Is it really useful to use db constants?</p>\n</li>\n<li><p>If i use one class for each table like mentioned above, one problem i face is naming convention. What should be relation between name of table and corresponding class' name which define constants for columns of the table.</p>\n</li>\n<li><p>Above cases covers case for only column names not table name. I may like to use constant rather table name in code so what should be approach for defining constants for table names.</p>\n</li>\n<li><p>It is often argued that table name and column names doesn't change much once product or related version is released. Changes in table name and column name happen mostly during development phase or feature enhancement (new version). Is it strong argument to avoid using constants for table name or column names?</p>\n</li>\n</ul>\n"},{"tags":["java","serial-port","hardware"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1679219780,"post_id":75729434,"comment_id":133679085,"body_markdown":"Maybe you need to enable a [flow control](https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#setFlowControl-int-)?","body":"Maybe you need to enable a <a href=\"https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#setFlowControl-int-\" rel=\"nofollow noreferrer\">flow control</a>?"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":0,"creation_date":1679400732,"post_id":75729434,"comment_id":133711601,"body_markdown":"Do you have any examples of the failed communication? Does the wrong message get sent or recieved? Or is there an exception? ..","body":"Do you have any examples of the failed communication? Does the wrong message get sent or recieved? Or is there an exception? .."},{"owner":{"account_id":12718102,"reputation":1941,"user_id":9239449,"display_name":"Muhammad Faizan"},"score":0,"creation_date":1679484014,"post_id":75729434,"comment_id":133729153,"body_markdown":"@B.Letz no exception, just receive 21 in bytes array","body":"@B.Letz no exception, just receive 21 in bytes array"},{"owner":{"account_id":13815643,"reputation":136,"user_id":9972305,"display_name":"B.Letz"},"score":1,"creation_date":1679562599,"post_id":75729434,"comment_id":133744812,"body_markdown":"It kind of sounds to me like the clocks of the two communicating systems are not synchron. So it works for a while, but after some time the clocks are too different and the wrong data is read. The thing speaks against that theory is that you are using 9600 Baud and that is rather slow. So is should have more tolerance.","body":"It kind of sounds to me like the clocks of the two communicating systems are not synchron. So it works for a while, but after some time the clocks are too different and the wrong data is read. The thing speaks against that theory is that you are using 9600 Baud and that is rather slow. So is should have more tolerance."}],"answers":[{"comments":[{"owner":{"account_id":12718102,"reputation":1941,"user_id":9239449,"display_name":"Muhammad Faizan"},"score":1,"creation_date":1679809655,"post_id":75829135,"comment_id":133785273,"body_markdown":"not a real answer, those fake upvotes just for bounty are not much of a help either","body":"not a real answer, those fake upvotes just for bounty are not much of a help either"},{"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"score":1,"creation_date":1679834672,"post_id":75829135,"comment_id":133788140,"body_markdown":"lol. I can assure you, with the time it took to read through your question and code snippet, multiple times, looking for any obvious mistakes before writing about what I believe is one potential programming issue with the code, only to have you say this is a non-answer without acknowledging an understanding of the fundamental issue I described.... well, it was definitely not worth the points. You can have them back. :) Anyways, consider too that a truly canonical programming answer to a problem that is just as likely to be caused be hardware, is maybe impossible to provide.","body":"lol. I can assure you, with the time it took to read through your question and code snippet, multiple times, looking for any obvious mistakes before writing about what I believe is one potential programming issue with the code, only to have you say this is a non-answer without acknowledging an understanding of the fundamental issue I described.... well, it was definitely not worth the points. You can have them back. :) Anyways, consider too that a truly canonical programming answer to a problem that is just as likely to be caused be hardware, is maybe impossible to provide."}],"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1679618372,"creation_date":1679618372,"answer_id":75829135,"question_id":75729434,"body_markdown":"While there are many possibilities, all the way down to electrical, a common programming reason for errors of this sort is related to incorrect assumptions around how the reading of serial port data works, especially when not using any flow control. \r\n\r\nUsing this line as an example:\r\n\r\n      serialPort.readBytes(ANS_alpha, ANS_alpha.length);\r\n\r\nIf using blocking reads, then this might return before a complete &quot;message&quot; if a timeout occurs. i.e. Sender a little slower than usual. If using non-blocking, this might sometimes return before a complete &quot;message&quot;. Your current logic flushes the receiving buffer before trying to read again. The sender *might* be hanging while trying to send the remaining bytes.\r\n\r\nIf you suspect this might be the problem, then  you would want to change your logic to continue calling readBytes until you know you have a complete message. Another quick check would be to use bytesAvailable/readBytes upon any errors to be sure to clear the sender before trying to read again. And similar, you might try bytesAvailable/readBytes upon connecting before trying to send anything.\r\n\r\nBe sure to review the documentation for [readBytes][1] and check the com port timeout settings. It looks like you do not change the defaults, the defaults *might* be different per operating system.\r\n\r\n  [1]: https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#readBytes-byte:A-long-","title":"jSerialComm Java Serial Communication Fails Sometimes","body":"<p>While there are many possibilities, all the way down to electrical, a common programming reason for errors of this sort is related to incorrect assumptions around how the reading of serial port data works, especially when not using any flow control.</p>\n<p>Using this line as an example:</p>\n<pre><code>  serialPort.readBytes(ANS_alpha, ANS_alpha.length);\n</code></pre>\n<p>If using blocking reads, then this might return before a complete &quot;message&quot; if a timeout occurs. i.e. Sender a little slower than usual. If using non-blocking, this might sometimes return before a complete &quot;message&quot;. Your current logic flushes the receiving buffer before trying to read again. The sender <em>might</em> be hanging while trying to send the remaining bytes.</p>\n<p>If you suspect this might be the problem, then  you would want to change your logic to continue calling readBytes until you know you have a complete message. Another quick check would be to use bytesAvailable/readBytes upon any errors to be sure to clear the sender before trying to read again. And similar, you might try bytesAvailable/readBytes upon connecting before trying to send anything.</p>\n<p>Be sure to review the documentation for <a href=\"https://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPort.html#readBytes-byte:A-long-\" rel=\"nofollow noreferrer\">readBytes</a> and check the com port timeout settings. It looks like you do not change the defaults, the defaults <em>might</em> be different per operating system.</p>\n"}],"owner":{"account_id":12718102,"reputation":1941,"user_id":9239449,"display_name":"Muhammad Faizan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679618372,"creation_date":1678772414,"question_id":75729434,"body_markdown":"I am writing a java spring boot service that vends items from a vending machine using serial communication via jSerialComm library. Service sometimes work as expected and vends all items successfully but sometimes it fails to vend items, service is so unpredictable that it may fail at any stage of vending process.\r\n\r\nFollowing is the service code that I have written:\r\n\r\n    package com.intelparcel.java.be.services;\r\n\r\n    import com.fazecast.jSerialComm.SerialPort;\r\n    import com.intelparcel.java.be.models.vend.FailedItemsModel;\r\n    import com.intelparcel.java.be.models.vend.VendRequestItemModel;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class VendService {\r\n    private List&lt;FailedItemsModel&gt; failedItems = new ArrayList();\r\n\r\n    public List&lt;FailedItemsModel&gt; vendProducts(List&lt;VendRequestItemModel&gt; data) {\r\n        failedItems.clear();\r\n        SerialPort serialPort = SerialPort.getCommPort(&quot;/dev/ttyUSB0&quot;);\r\n        serialPort.setComPortParameters(9600, 8, 1, SerialPort.NO_PARITY);\r\n\r\n        for (VendRequestItemModel item : data) {\r\n            for (int quantity = 0; quantity &lt; item.getQuantity(); quantity++) {\r\n                openPort(serialPort);\r\n\r\n                String TXBUF = &quot;01C1&quot; + Integer.toHexString(item.getSlot_number());\r\n                System.out.println(TXBUF);\r\n                byte CHK = 0;\r\n                String[] HexValues = new String[TXBUF.length() / 2];\r\n                byte[] ByteValues = new byte[TXBUF.length() / 2];\r\n\r\n                for (int i = 0; i &lt; (TXBUF.length() / 2); i++) {\r\n                    HexValues[i] = TXBUF.substring((2 * i), (2 * i) + 2);\r\n                    ByteValues[i] = (byte) Integer.parseInt(HexValues[i], 16);\r\n                    if (i &gt; 1) {\r\n                        CHK += ByteValues[i];\r\n                    }\r\n                }\r\n\r\n                CHK = (byte) (0 - CHK);\r\n                TXBUF += String.format(&quot;%02X&quot;, CHK) + &quot;&gt;&quot;;\r\n                TXBUF = &quot;&lt;&quot; + TXBUF;\r\n                serialPort.writeBytes(TXBUF.getBytes(), TXBUF.length());\r\n                System.out.println(&quot;Command Sent = &quot; + TXBUF);\r\n\r\n                //---sending command ends here-----\r\n\r\n                try {\r\n                    Thread.sleep(3000);\r\n                    byte[] ANS_alpha = new byte[1024];\r\n                    serialPort.readBytes(ANS_alpha, ANS_alpha.length);\r\n                    logBytes(ANS_alpha);\r\n                    System.out.println(&quot;Initial Response: &quot; + new String(ANS_alpha, \r\n          StandardCharsets.UTF_8));\r\n\r\n                    if (new String(ANS_alpha, \r\n          StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                        flushAndClosePort(serialPort);\r\n                        System.out.println(&quot;Slot is locked&quot;);\r\n                        addFailedItems(item.getSlot_number(), -1, &quot;Slot stuck&quot;);\r\n                        Thread.sleep(5000);\r\n                        continue;\r\n                    }\r\n\r\n                    if (ANS_alpha[0] != 6) {\r\n                        serialPort.flushIOBuffers();\r\n                        flushAndClosePort(serialPort);\r\n                        System.out.println(&quot;Did not receive 6...continuing forward...&quot;);\r\n                        addFailedItems(item.getSlot_number(), -2, &quot;Vending failed, please \r\n          retry&quot;);\r\n                        Thread.sleep(5000);\r\n                        continue;\r\n                    }\r\n\r\n                    int count = 0;\r\n                    while (count &lt;= 10) {\r\n                        System.out.println();\r\n                        System.out.println();\r\n                        System.out.println();\r\n                        byte[] ANS = new byte[1024];\r\n                        serialPort.readBytes(ANS, ANS.length);\r\n                        String decodedResponse = new String(ANS, StandardCharsets.UTF_8);\r\n                        System.out.println(&quot;RESPONSE String: &quot; + decodedResponse);\r\n                        logBytes(ANS);\r\n                        if \r\n         (decodedResponse.toLowerCase().contains(&quot;01c101fe&quot;.toLowerCase()) || \r\n         decodedResponse.toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                            if (new String(ANS, \r\n         StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\r\n                                System.out.println(&quot;Slot locked after vend&quot;);\r\n                            }\r\n                            break;\r\n                        }\r\n                        Thread.sleep(1000);\r\n                        count++;\r\n                    }\r\n                    flushAndClosePort(serialPort);\r\n                    Thread.sleep(5000);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return failedItems;\r\n                }\r\n            }\r\n        }\r\n        flushAndClosePort(serialPort);\r\n        return failedItems;\r\n    }\r\n\r\n    private void flushAndClosePort(SerialPort serialPort) {\r\n        serialPort.flushIOBuffers();\r\n        serialPort.closePort();\r\n    }\r\n\r\n    private void addFailedItems(int slotNumber, int errorCode, String message) {\r\n        failedItems.add(new FailedItemsModel(slotNumber, errorCode, message));\r\n    }\r\n\r\n    private void openPort(SerialPort serialPort) {\r\n        if (serialPort.isOpen()) {\r\n            flushAndClosePort(serialPort);\r\n        }\r\n        serialPort.flushIOBuffers();\r\n        serialPort.openPort();\r\n    }\r\n\r\n    private void logBytes(byte[] bytesRead) {\r\n            System.out.println(&quot;RAW_BYTES_RECEIVED: &quot;);\r\n            for (byte i : bytesRead) {\r\n                System.out.print(i);\r\n            }\r\n            System.out.println();\r\n            System.out.println();\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\nAbove code uses the SerialPort library from fazecast/jSerialComm to handle serial communication with the hardware device. The main function is vendProducts which takes a list of VendRequestItemModel objects as input and returns a list of FailedItemsModel objects.\r\n\r\nThe service loops through the list of VendRequestItemModel objects and for each item, it opens the serial port, constructs a command to vend the product, sends the command to the hardware device, reads the response, and closes the serial port.\r\n\r\nIf the response indicates that the product is successfully vended, the service moves to the next item in the list. If the response indicates that the slot is locked, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If the response indicates that vending failed, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If there is an exception while sending or receiving data from the hardware device, the service catches the exception and returns the list of failed items.\r\n\r\nOne important point though, when this code fails at any stage, machine does not send any response bytes back and then the server and the vending machines needs to be restarted in order for the code to work again but again, after restarting, this code fails on random points during the execution.\r\n\r\n","title":"jSerialComm Java Serial Communication Fails Sometimes","body":"<p>I am writing a java spring boot service that vends items from a vending machine using serial communication via jSerialComm library. Service sometimes work as expected and vends all items successfully but sometimes it fails to vend items, service is so unpredictable that it may fail at any stage of vending process.</p>\n<p>Following is the service code that I have written:</p>\n<pre><code>package com.intelparcel.java.be.services;\n\nimport com.fazecast.jSerialComm.SerialPort;\nimport com.intelparcel.java.be.models.vend.FailedItemsModel;\nimport com.intelparcel.java.be.models.vend.VendRequestItemModel;\nimport org.springframework.stereotype.Service;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Service\npublic class VendService {\nprivate List&lt;FailedItemsModel&gt; failedItems = new ArrayList();\n\npublic List&lt;FailedItemsModel&gt; vendProducts(List&lt;VendRequestItemModel&gt; data) {\n    failedItems.clear();\n    SerialPort serialPort = SerialPort.getCommPort(&quot;/dev/ttyUSB0&quot;);\n    serialPort.setComPortParameters(9600, 8, 1, SerialPort.NO_PARITY);\n\n    for (VendRequestItemModel item : data) {\n        for (int quantity = 0; quantity &lt; item.getQuantity(); quantity++) {\n            openPort(serialPort);\n\n            String TXBUF = &quot;01C1&quot; + Integer.toHexString(item.getSlot_number());\n            System.out.println(TXBUF);\n            byte CHK = 0;\n            String[] HexValues = new String[TXBUF.length() / 2];\n            byte[] ByteValues = new byte[TXBUF.length() / 2];\n\n            for (int i = 0; i &lt; (TXBUF.length() / 2); i++) {\n                HexValues[i] = TXBUF.substring((2 * i), (2 * i) + 2);\n                ByteValues[i] = (byte) Integer.parseInt(HexValues[i], 16);\n                if (i &gt; 1) {\n                    CHK += ByteValues[i];\n                }\n            }\n\n            CHK = (byte) (0 - CHK);\n            TXBUF += String.format(&quot;%02X&quot;, CHK) + &quot;&gt;&quot;;\n            TXBUF = &quot;&lt;&quot; + TXBUF;\n            serialPort.writeBytes(TXBUF.getBytes(), TXBUF.length());\n            System.out.println(&quot;Command Sent = &quot; + TXBUF);\n\n            //---sending command ends here-----\n\n            try {\n                Thread.sleep(3000);\n                byte[] ANS_alpha = new byte[1024];\n                serialPort.readBytes(ANS_alpha, ANS_alpha.length);\n                logBytes(ANS_alpha);\n                System.out.println(&quot;Initial Response: &quot; + new String(ANS_alpha, \n      StandardCharsets.UTF_8));\n\n                if (new String(ANS_alpha, \n      StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                    flushAndClosePort(serialPort);\n                    System.out.println(&quot;Slot is locked&quot;);\n                    addFailedItems(item.getSlot_number(), -1, &quot;Slot stuck&quot;);\n                    Thread.sleep(5000);\n                    continue;\n                }\n\n                if (ANS_alpha[0] != 6) {\n                    serialPort.flushIOBuffers();\n                    flushAndClosePort(serialPort);\n                    System.out.println(&quot;Did not receive 6...continuing forward...&quot;);\n                    addFailedItems(item.getSlot_number(), -2, &quot;Vending failed, please \n      retry&quot;);\n                    Thread.sleep(5000);\n                    continue;\n                }\n\n                int count = 0;\n                while (count &lt;= 10) {\n                    System.out.println();\n                    System.out.println();\n                    System.out.println();\n                    byte[] ANS = new byte[1024];\n                    serialPort.readBytes(ANS, ANS.length);\n                    String decodedResponse = new String(ANS, StandardCharsets.UTF_8);\n                    System.out.println(&quot;RESPONSE String: &quot; + decodedResponse);\n                    logBytes(ANS);\n                    if \n     (decodedResponse.toLowerCase().contains(&quot;01c101fe&quot;.toLowerCase()) || \n     decodedResponse.toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                        if (new String(ANS, \n     StandardCharsets.UTF_8).toLowerCase().contains(&quot;01c100ff&quot;.toLowerCase())) {\n                            System.out.println(&quot;Slot locked after vend&quot;);\n                        }\n                        break;\n                    }\n                    Thread.sleep(1000);\n                    count++;\n                }\n                flushAndClosePort(serialPort);\n                Thread.sleep(5000);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return failedItems;\n            }\n        }\n    }\n    flushAndClosePort(serialPort);\n    return failedItems;\n}\n\nprivate void flushAndClosePort(SerialPort serialPort) {\n    serialPort.flushIOBuffers();\n    serialPort.closePort();\n}\n\nprivate void addFailedItems(int slotNumber, int errorCode, String message) {\n    failedItems.add(new FailedItemsModel(slotNumber, errorCode, message));\n}\n\nprivate void openPort(SerialPort serialPort) {\n    if (serialPort.isOpen()) {\n        flushAndClosePort(serialPort);\n    }\n    serialPort.flushIOBuffers();\n    serialPort.openPort();\n}\n\nprivate void logBytes(byte[] bytesRead) {\n        System.out.println(&quot;RAW_BYTES_RECEIVED: &quot;);\n        for (byte i : bytesRead) {\n            System.out.print(i);\n        }\n        System.out.println();\n        System.out.println();\n        System.out.println();\n    }\n}\n</code></pre>\n<p>Above code uses the SerialPort library from fazecast/jSerialComm to handle serial communication with the hardware device. The main function is vendProducts which takes a list of VendRequestItemModel objects as input and returns a list of FailedItemsModel objects.</p>\n<p>The service loops through the list of VendRequestItemModel objects and for each item, it opens the serial port, constructs a command to vend the product, sends the command to the hardware device, reads the response, and closes the serial port.</p>\n<p>If the response indicates that the product is successfully vended, the service moves to the next item in the list. If the response indicates that the slot is locked, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If the response indicates that vending failed, the service adds the item to the list of failed items and waits for 5 seconds before moving to the next item. If there is an exception while sending or receiving data from the hardware device, the service catches the exception and returns the list of failed items.</p>\n<p>One important point though, when this code fails at any stage, machine does not send any response bytes back and then the server and the vending machines needs to be restarted in order for the code to work again but again, after restarting, this code fails on random points during the execution.</p>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":1,"creation_date":1423596770,"post_id":28440076,"comment_id":45210011,"body_markdown":"What do you mean? If you replicate the above code multiple times, the same key is generated? Are you asking how to replicate the code?","body":"What do you mean? If you replicate the above code multiple times, the same key is generated? Are you asking how to replicate the code?"},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423600125,"post_id":28440076,"comment_id":45211988,"body_markdown":"Really you think that ? :D I want unique keys mate. Every time I run above code, Output is same key pair. I want Different key pair for different users.","body":"Really you think that ? :D I want unique keys mate. Every time I run above code, Output is same key pair. I want Different key pair for different users."},{"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"score":2,"creation_date":1423600872,"post_id":28440076,"comment_id":45212383,"body_markdown":"The highest priority SecureRandom provider seems to be malicious if it produces the same number over and over again.","body":"The highest priority SecureRandom provider seems to be malicious if it produces the same number over and over again."},{"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"score":2,"creation_date":1423611963,"post_id":28440076,"comment_id":45217712,"body_markdown":"Perhaps nobody believes that if you execute the provided code multiple times that it will repeatedly produce the same keys. You are more likely to get help if you can provide additional code that clearly demonstrates the problem and clearly state what the code produces and what you want it to produce.","body":"Perhaps nobody believes that if you execute the provided code multiple times that it will repeatedly produce the same keys. You are more likely to get help if you can provide additional code that clearly demonstrates the problem and clearly state what the code produces and what you want it to produce."},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423633140,"post_id":28440076,"comment_id":45223423,"body_markdown":"@ArtjomB. If you are right than how can I fix thhat ?? I am runnig this on latest version of Java with updated NetBeans IDE.","body":"@ArtjomB. If you are right than how can I fix thhat ?? I am runnig this on latest version of Java with updated NetBeans IDE."},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423633206,"post_id":28440076,"comment_id":45223439,"body_markdown":"@Rob yes Rob you got it. added note to my question with a scenario.","body":"@Rob yes Rob you got it. added note to my question with a scenario."}],"answers":[{"comments":[{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423633038,"post_id":28444439,"comment_id":45223393,"body_markdown":"I already try this and getting same Key pairs. Is above code producing different keys in your case ??","body":"I already try this and getting same Key pairs. Is above code producing different keys in your case ??"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1423636850,"post_id":28444439,"comment_id":45224584,"body_markdown":"Yes it produces unique keys. What JCE provider are you using?","body":"Yes it produces unique keys. What JCE provider are you using?"},{"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"score":0,"creation_date":1423680155,"post_id":28444439,"comment_id":45249770,"body_markdown":"I didn&#39;t mentioned any JCE provider. may be it will be Oracle by default. Also I cant use loop as you suggested. (Please read note in my question ).\nI am generating key pair by running same code again and again . It is not giving me unique key pairs. same key pair is generating every time code get executed. This code run on my server page (JSP).","body":"I didn&#39;t mentioned any JCE provider. may be it will be Oracle by default. Also I cant use loop as you suggested. (Please read note in my question ). I am generating key pair by running same code again and again . It is not giving me unique key pairs. same key pair is generating every time code get executed. This code run on my server page (JSP)."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1423681855,"post_id":28444439,"comment_id":45250772,"body_markdown":"@Himanshu Is the fragment of code in your post actually in the JSP page? Can you post a [SSCCE](http://sscce.org/) that exhibits the behavior you see? I will include a simple standalone Java program that works correctly. Please run it on your system, using same JVM that executes your JSP, and post the results in your question.","body":"@Himanshu Is the fragment of code in your post actually in the JSP page? Can you post a <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a> that exhibits the behavior you see? I will include a simple standalone Java program that works correctly. Please run it on your system, using same JVM that executes your JSP, and post the results in your question."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423681929,"creation_date":1423614326,"answer_id":28444439,"question_id":28440076,"body_markdown":"Here&#39;s a simple test that works fine on my system. Try it and post your results in your question.\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.KeyPair;\r\n    import java.security.KeyPairGenerator;\r\n    import java.security.SecureRandom;\r\n\r\n    final class UniqueKey\r\n    {\r\n    \r\n      public static void main(String... argv)\r\n        throws Exception\r\n      {\r\n        SecureRandom gen = new SecureRandom();\r\n        System.out.println(gen.getProvider());\r\n        System.out.println(gen.getAlgorithm());\r\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n        keyGen.initialize(2048);\r\n        System.out.println(keyGen.getProvider().getName());\r\n        for (String user : new String[]{&quot;A&quot;, &quot;B&quot;}) {\r\n          KeyPair pair = keyGen.genKeyPair();\r\n          String pub = getHexString(pair.getPublic().getEncoded());\r\n          System.out.printf(&quot;Public Key of %s: %s%n&quot;, user, pub);\r\n        }\r\n      }\r\n    \r\n      private static String getHexString(byte[] arr)\r\n      {\r\n        return new BigInteger(arr).toString(16).toUpperCase();\r\n      }\r\n    \r\n    }\r\n\r\n\r\nMy results from a trial:\r\n\r\n&lt;pre&gt;\r\nSUN version 1.8\r\nNativePRNG\r\nSunRsaSign\r\nPublic Key of A: 30820122300D06092A864886F70D01010105000382010F003082010A02820101009EEE0526A9EBA8E2CCA4CE7FFAB78257F8275EB36DCBFADB9488939455BD4303804DEBFB2D544983CE8D12511042A20370CAE3E440EAA8873448DB68A4ACDD2C63D309B9550A2B3A2D2AF94E9F879F1DE120FFA061534EA6F5D72A32F064739562E9A6032DC0598A6750AF4CF1CDC0A214A4F9E514171DC847CBA2CDA3F95046EA74F67039806994789D8F0B2BE8539F597F97321C5387F5B51FFB5D5CE1271F216C790AC1D6885A8DE043BEAFD123CFD77B560F8B1FCFA4EF542C3205233A4FFFF151950E1278FC6C7CEA0C66992A58A0823CF5209AFEDEAAA201CB40977019F2988AFFDA4DA6B0E7933A9E5A3087C1CEF3D0BAD95FC776B974D6EC25B2E6EB0203010001\r\nPublic Key of B: 30820122300D06092A864886F70D01010105000382010F003082010A028201010096BE6F281FD41D0F282F3162ECC0225D973630D2582004D8C1A80BB97C7F959372892C653D7FD29AC1D25EA563139F49073E32182CA8CDF429FBEF67423A701B6C6A9B0A3C9F95CBF6D09F7E54D0F6C3E239BC40AFF877687FCF0B0E88B69A4693E3BC28BED6FEBED0C6CEAE744D712EC24E3809830687D982689F729A3B9AB711945BEBCB55BA780849071F6D0ED26563E5D26BCF6C72327DB2F41459E8879631722DEA0652B8AD4D7FA32F2A981D6B24D6EF7F8C72F784C5894A5B39092489380EF9A12734E30BE2B1A6FE0652CF43B33574650F66C27F49031DDC2FC3D6E8A54C1C6811710FEDFAC41DF69D3D7DE82E7C7409C85DF6836DFB87B6289406670203010001\r\n&lt;/pre&gt;\r\n","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<p>Here's a simple test that works fine on my system. Try it and post your results in your question.</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.security.SecureRandom;\n\nfinal class UniqueKey\n{\n\n  public static void main(String... argv)\n    throws Exception\n  {\n    SecureRandom gen = new SecureRandom();\n    System.out.println(gen.getProvider());\n    System.out.println(gen.getAlgorithm());\n    KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\n    keyGen.initialize(2048);\n    System.out.println(keyGen.getProvider().getName());\n    for (String user : new String[]{\"A\", \"B\"}) {\n      KeyPair pair = keyGen.genKeyPair();\n      String pub = getHexString(pair.getPublic().getEncoded());\n      System.out.printf(\"Public Key of %s: %s%n\", user, pub);\n    }\n  }\n\n  private static String getHexString(byte[] arr)\n  {\n    return new BigInteger(arr).toString(16).toUpperCase();\n  }\n\n}\n</code></pre>\n\n<p>My results from a trial:</p>\n\n<pre>\nSUN version 1.8\nNativePRNG\nSunRsaSign\nPublic Key of A: 30820122300D06092A864886F70D01010105000382010F003082010A02820101009EEE0526A9EBA8E2CCA4CE7FFAB78257F8275EB36DCBFADB9488939455BD4303804DEBFB2D544983CE8D12511042A20370CAE3E440EAA8873448DB68A4ACDD2C63D309B9550A2B3A2D2AF94E9F879F1DE120FFA061534EA6F5D72A32F064739562E9A6032DC0598A6750AF4CF1CDC0A214A4F9E514171DC847CBA2CDA3F95046EA74F67039806994789D8F0B2BE8539F597F97321C5387F5B51FFB5D5CE1271F216C790AC1D6885A8DE043BEAFD123CFD77B560F8B1FCFA4EF542C3205233A4FFFF151950E1278FC6C7CEA0C66992A58A0823CF5209AFEDEAAA201CB40977019F2988AFFDA4DA6B0E7933A9E5A3087C1CEF3D0BAD95FC776B974D6EC25B2E6EB0203010001\nPublic Key of B: 30820122300D06092A864886F70D01010105000382010F003082010A028201010096BE6F281FD41D0F282F3162ECC0225D973630D2582004D8C1A80BB97C7F959372892C653D7FD29AC1D25EA563139F49073E32182CA8CDF429FBEF67423A701B6C6A9B0A3C9F95CBF6D09F7E54D0F6C3E239BC40AFF877687FCF0B0E88B69A4693E3BC28BED6FEBED0C6CEAE744D712EC24E3809830687D982689F729A3B9AB711945BEBCB55BA780849071F6D0ED26563E5D26BCF6C72327DB2F41459E8879631722DEA0652B8AD4D7FA32F2A981D6B24D6EF7F8C72F784C5894A5B39092489380EF9A12734E30BE2B1A6FE0652CF43B33574650F66C27F49031DDC2FC3D6E8A54C1C6811710FEDFAC41DF69D3D7DE82E7C7409C85DF6836DFB87B6289406670203010001\n</pre>\n"},{"tags":[],"owner":{"account_id":28080783,"reputation":1,"user_id":21451917,"display_name":"Muthu Palaniyappan OL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679618206,"creation_date":1679618206,"answer_id":75829124,"question_id":28440076,"body_markdown":"    generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    generator.initialize(2048, new SecureRandom());\r\n    Keypair kp1 = generator.generateKeyPair(); // key pair 1\r\n    Keypair kp2 = generator.generateKeyPair(); // another key pair\r\n\r\nKey pair generated like this will be unique. Remember dont initialize\r\ntwice just generate the keypair more than once.","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<pre><code>generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\ngenerator.initialize(2048, new SecureRandom());\nKeypair kp1 = generator.generateKeyPair(); // key pair 1\nKeypair kp2 = generator.generateKeyPair(); // another key pair\n</code></pre>\n<p>Key pair generated like this will be unique. Remember dont initialize\ntwice just generate the keypair more than once.</p>\n"}],"owner":{"account_id":1360527,"reputation":4771,"user_id":1297994,"accept_rate":83,"display_name":"Himanshu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1679618206,"creation_date":1423596137,"question_id":28440076,"body_markdown":"I am doing RSA key pair generation in my code. I am also able to do encryption and decryption using this code. What I need is unique key pairs for each user. \r\nIn my application there will be multiple users. I want to assign these Key pairs to different users so that they can use it for encryption and decryption via my application. \r\n\r\nCurrently I am using below Code  to produce my RSA Public and Private Key pair.\r\n\r\n\r\n    RSAKeyPairGenerator adam = new RSAKeyPairGenerator();\r\n\t\t\r\n    try {\r\n\r\n\t\t\tString path = &quot;C:\\\\Users\\\\Dream\\\\Documents\\\\NetBeansProjects\\\\ABEPHR\\\\web\\\\KeyFiles&quot;;\r\n\r\n\t\t\tKeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n                        \r\n\t\t\tkeyGen.initialize(1024);\r\n\t\t\tKeyPair generatedKeyPair = keyGen.genKeyPair();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tPublicKey pub = generatedKeyPair.getPublic();\r\n\t\t\tSystem.out.println(&quot;Public Key: &quot; + getHexString(pub.getEncoded()));\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tPrivateKey priv = generatedKeyPair.getPrivate();\r\n\t\t\tSystem.out.println(&quot;Private Key: &quot; + getHexString(priv.getEncoded()));\r\n\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\nThis code can give me only one pair of RSA keys. How can I get more than one pair ?\r\n\r\n**++ Note :**\r\n So many people suggesting me to add Loop here. To be clear, I cant add loop to my code as this code will be run on server for each user (within JSP). \r\n\r\nLets me explain by one example:\r\nSuppose I have 3 users Users A, B and C. Now after validating credentials, whenever user A comes to this page (page containing above code) , This page should generate a Unique Key pair for User A. Later user A can store this Key for future use.\r\nNow When User B login with his Credentials, than he also land in same page with above code. But Above code doesn&#39;t give me different Public Key and Private Key pair. So here I am getting same RSA key pair as it was there in case of User A.\r\nSame case is happening with User C also. \r\n\r\nHope this clear my question now. As suggested by below, I also try to execute above code in loop . In each iteration, Code is giving me same Key pairs. I also try to encrypt msg with public key generated in first iteration and try to decrypt it with private key generated in second iteration. The msg is successfully got decrypted.   \r\n\r\nI want to know, am I missing something in attempt to get unique RSA key pairs ?     \r\n","title":"Creating Unique RSA Key pairs (More than one pairs)","body":"<p>I am doing RSA key pair generation in my code. I am also able to do encryption and decryption using this code. What I need is unique key pairs for each user. \nIn my application there will be multiple users. I want to assign these Key pairs to different users so that they can use it for encryption and decryption via my application. </p>\n\n<p>Currently I am using below Code  to produce my RSA Public and Private Key pair.</p>\n\n<pre><code>RSAKeyPairGenerator adam = new RSAKeyPairGenerator();\n\ntry {\n\n        String path = \"C:\\\\Users\\\\Dream\\\\Documents\\\\NetBeansProjects\\\\ABEPHR\\\\web\\\\KeyFiles\";\n\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(\"RSA\");\n\n        keyGen.initialize(1024);\n        KeyPair generatedKeyPair = keyGen.genKeyPair();\n\n\n        PublicKey pub = generatedKeyPair.getPublic();\n        System.out.println(\"Public Key: \" + getHexString(pub.getEncoded()));\n\n\n        PrivateKey priv = generatedKeyPair.getPrivate();\n        System.out.println(\"Private Key: \" + getHexString(priv.getEncoded()));\n\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return;\n    }\n</code></pre>\n\n<p>This code can give me only one pair of RSA keys. How can I get more than one pair ?</p>\n\n<p><strong>++ Note :</strong>\n So many people suggesting me to add Loop here. To be clear, I cant add loop to my code as this code will be run on server for each user (within JSP). </p>\n\n<p>Lets me explain by one example:\nSuppose I have 3 users Users A, B and C. Now after validating credentials, whenever user A comes to this page (page containing above code) , This page should generate a Unique Key pair for User A. Later user A can store this Key for future use.\nNow When User B login with his Credentials, than he also land in same page with above code. But Above code doesn't give me different Public Key and Private Key pair. So here I am getting same RSA key pair as it was there in case of User A.\nSame case is happening with User C also. </p>\n\n<p>Hope this clear my question now. As suggested by below, I also try to execute above code in loop . In each iteration, Code is giving me same Key pairs. I also try to encrypt msg with public key generated in first iteration and try to decrypt it with private key generated in second iteration. The msg is successfully got decrypted.   </p>\n\n<p>I want to know, am I missing something in attempt to get unique RSA key pairs ?     </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9673,"page":552,"page_size":100}
