{"items":[{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679594728,"creation_date":1679594728,"answer_id":75826597,"question_id":75598465,"body_markdown":"Well after much testing and research, it seems it is not possible to directly add attributes to a Spring model during a redirect from Javascript because once the server sends the response to the browser, and the browser initiates a redirect, the server-side model is no longer available.\r\n\r\nMy solution of passing the message as a URL encoded parameter and retrieving it on the server-side using the HttpServletRequest.getParameter() method works fine. \r\n\r\nAlternatively, we can use session attributes to store the message on the server-side during the redirect and retrieve it on the subsequent request with HttpSession.setAttribute() and retrieve it on the server-side using the HttpServletRequest.getSession().getAttribute() method. This approach allows us to add attributes to the model during a redirect, but it requires the use of sessions and is not suitable for my use case.\r\n\r\n(https://docs.spring.io/spring-framework/docs/3.1.0.RC1/spring-framework-reference/html/mvc.html)","title":"Can I add Spring model attributes to a redirect using Javascript?","body":"<p>Well after much testing and research, it seems it is not possible to directly add attributes to a Spring model during a redirect from Javascript because once the server sends the response to the browser, and the browser initiates a redirect, the server-side model is no longer available.</p>\n<p>My solution of passing the message as a URL encoded parameter and retrieving it on the server-side using the HttpServletRequest.getParameter() method works fine.</p>\n<p>Alternatively, we can use session attributes to store the message on the server-side during the redirect and retrieve it on the subsequent request with HttpSession.setAttribute() and retrieve it on the server-side using the HttpServletRequest.getSession().getAttribute() method. This approach allows us to add attributes to the model during a redirect, but it requires the use of sessions and is not suitable for my use case.</p>\n<p>(<a href=\"https://docs.spring.io/spring-framework/docs/3.1.0.RC1/spring-framework-reference/html/mvc.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/3.1.0.RC1/spring-framework-reference/html/mvc.html</a>)</p>\n"}],"owner":{"account_id":7403799,"reputation":135,"user_id":8132767,"accept_rate":80,"display_name":"old_dd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75826597,"answer_count":1,"score":0,"last_activity_date":1679594728,"creation_date":1677629222,"question_id":75598465,"body_markdown":"Using attributes and flash attributes on my spring model, I am able to update page elements from my controller like normal. However I am wondering if I can add attributes to my model during a redirect initiated from Javascript?\r\n\r\nCurrently I&#39;m just using `window.location.replace()` (to prevent back button use) and adding the message I want to send as a URL encoded parameter, but I&#39;m wondering if I can set model attributes directly in Javascript so I wouldn&#39;t need endpoints for success and failure and can just send them back to the upload form with a success/failure message added to the model.","title":"Can I add Spring model attributes to a redirect using Javascript?","body":"<p>Using attributes and flash attributes on my spring model, I am able to update page elements from my controller like normal. However I am wondering if I can add attributes to my model during a redirect initiated from Javascript?</p>\n<p>Currently I'm just using <code>window.location.replace()</code> (to prevent back button use) and adding the message I want to send as a URL encoded parameter, but I'm wondering if I can set model attributes directly in Javascript so I wouldn't need endpoints for success and failure and can just send them back to the upload form with a success/failure message added to the model.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1679590260,"post_id":75825706,"comment_id":133752657,"body_markdown":"What should happen to the various entries in the map inside a `Stud7` object? Output it once per entry, so the students name gets put multiple time to the stream? Or only take one specific entry with a given key? Or perform some calculation of the marks? Or something completely different?","body":"What should happen to the various entries in the map inside a <code>Stud7</code> object? Output it once per entry, so the students name gets put multiple time to the stream? Or only take one specific entry with a given key? Or perform some calculation of the marks? Or something completely different?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1679590390,"post_id":75825706,"comment_id":133752688,"body_markdown":"*I need convert an array of Students into a String stream of the following type: &quot;Mike: [4, 5, 3]&quot;* How then will you know for what subject those are the marks?","body":"<i>I need convert an array of Students into a String stream of the following type: &quot;Mike: [4, 5, 3]&quot;</i> How then will you know for what subject those are the marks?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1679590945,"post_id":75825706,"comment_id":133752833,"body_markdown":"&quot;*Don&#39;t use the `toString` method*&quot; does it also apply to each separate mark which is Integer? Do you need to create your own method which for `1` will return `&quot;1&quot;` etc.?","body":"&quot;<i>Don&#39;t use the <code>toString</code> method</i>&quot; does it also apply to each separate mark which is Integer? Do you need to create your own method which for <code>1</code> will return <code>&quot;1&quot;</code> etc.?"}],"answers":[{"tags":[],"owner":{"account_id":27566119,"reputation":863,"user_id":21038281,"display_name":"SIMULATAN"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679590711,"creation_date":1679590711,"answer_id":75825933,"question_id":75825706,"body_markdown":"Try\r\n```java\r\nArrays.stream(students)\r\n  .map(student -&gt; student.getName() + &quot; &quot; + student.getMarks().values())\r\n```\r\n\r\nAlternatively, you can use `Map#entrySet` to create a string containing the subjects with their respective marks.","title":"Convert array Students to stream&lt;String&gt;","body":"<p>Try</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.stream(students)\n  .map(student -&gt; student.getName() + &quot; &quot; + student.getMarks().values())\n</code></pre>\n<p>Alternatively, you can use <code>Map#entrySet</code> to create a string containing the subjects with their respective marks.</p>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679594421,"creation_date":1679589486,"question_id":75825706,"body_markdown":"I need convert an array of Students into a String stream of the following type:\r\n&quot;Mike: [4, 5, 3]&quot; ( name and all marks in parentheses). Don&#39;t use the toString method.\r\n\r\n```java\r\nMap&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\nStud7[] students = {\r\n    new Stud7(&quot;Ann&quot;, markAnn),\r\n    new Stud7(&quot;Kate&quot;, markKate)\r\n};\r\n```\r\n\r\n\r\nI tried to create two streams and combine them and output them immediately in the method peek(), but it doesn&#39;t work. I just started learning stream =(\r\n\r\n```java\r\nclass Lesson7 {\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\n        Stud7[] students = { new Stud7(&quot;Ann&quot;, markAnn),\r\n                             new Stud7(&quot;Kate&quot;, markKate) };\r\n\r\n        String[] strings = new String[students.length]; \r\n        Stream&lt;String&gt; StreamName = Arrays.stream(students).map(Stud7::getName);\r\n        Stream&lt;Integer&gt;StreamMarks = Arrays.stream(students)\r\n                .flatMap(s -&gt; s.getMarks().values().stream())\r\n                .flatMap(Collection::stream);\r\n        Stream.concat(StreamName, StreamMarks).\r\n    }\r\n\r\n    private static class Stud7 {\r\n        private String name;\r\n        private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n        public Stud7(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n            this.name = name;\r\n            this.marks = marks;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n            return marks;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Convert array Students to stream&lt;String&gt;","body":"<p>I need convert an array of Students into a String stream of the following type:\n&quot;Mike: [4, 5, 3]&quot; ( name and all marks in parentheses). Don't use the toString method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\nStud7[] students = {\n    new Stud7(&quot;Ann&quot;, markAnn),\n    new Stud7(&quot;Kate&quot;, markKate)\n};\n</code></pre>\n<p>I tried to create two streams and combine them and output them immediately in the method peek(), but it doesn't work. I just started learning stream =(</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Lesson7 {\n    public static void main(String[] args) {\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\n        Stud7[] students = { new Stud7(&quot;Ann&quot;, markAnn),\n                             new Stud7(&quot;Kate&quot;, markKate) };\n\n        String[] strings = new String[students.length]; \n        Stream&lt;String&gt; StreamName = Arrays.stream(students).map(Stud7::getName);\n        Stream&lt;Integer&gt;StreamMarks = Arrays.stream(students)\n                .flatMap(s -&gt; s.getMarks().values().stream())\n                .flatMap(Collection::stream);\n        Stream.concat(StreamName, StreamMarks).\n    }\n\n    private static class Stud7 {\n        private String name;\n        private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n        public Stud7(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n            this.name = name;\n            this.marks = marks;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n            return marks;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":37982,"reputation":65378,"user_id":108796,"accept_rate":64,"display_name":"Blindy"},"score":1,"creation_date":1679589854,"post_id":75825760,"comment_id":133752540,"body_markdown":"static inner classes like these don&#39;t exist in C#, it&#39;s a Java-only concept to make up for the lack of first-class delegates and events. In other words, don&#39;t mix the two languages, they are very different.","body":"static inner classes like these don&#39;t exist in C#, it&#39;s a Java-only concept to make up for the lack of first-class delegates and events. In other words, don&#39;t mix the two languages, they are very different."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1679594518,"post_id":75825760,"comment_id":133753795,"body_markdown":"Please don&#39;t post screenshots, post the actual code as code-formatted text.","body":"Please don&#39;t post screenshots, post the actual code as code-formatted text."},{"owner":{"account_id":218827,"reputation":2849,"user_id":5065860,"accept_rate":100,"display_name":"msmith1114"},"score":0,"creation_date":1679595862,"post_id":75825760,"comment_id":133754120,"body_markdown":"@Blindy So how would this look different in C# for instance then?","body":"@Blindy So how would this look different in C# for instance then?"},{"owner":{"account_id":37982,"reputation":65378,"user_id":108796,"accept_rate":64,"display_name":"Blindy"},"score":1,"creation_date":1679602553,"post_id":75825760,"comment_id":133755610,"body_markdown":"In C# the inner class wouldn&#39;t be static and you&#39;d have an instance variable to hold its data in the parent class. You also wouldn&#39;t create that object by calling the inner class as a function, you&#39;d need a static method in the outer class to do it. But really, in C# you wouldn&#39;t even have the inner class at all.","body":"In C# the inner class wouldn&#39;t be static and you&#39;d have an instance variable to hold its data in the parent class. You also wouldn&#39;t create that object by calling the inner class as a function, you&#39;d need a static method in the outer class to do it. But really, in C# you wouldn&#39;t even have the inner class at all."}],"answers":[{"tags":[],"owner":{"account_id":10042541,"reputation":2660,"user_id":7424948,"display_name":"Ricola"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679591396,"creation_date":1679591080,"answer_id":75825996,"question_id":75825760,"body_markdown":"&gt; however in the create() method of User class, we instantiate a new User when a new user is already instantiated when calling User directly anyways via User validUser = new User(....)\r\n\r\n`User` constructor is not called, it&#39;s not `new User()` but `new User.Builder()` (the code formatting on this example is terribly confusing), which is just a way to access the inner class `Builder` from `User` class. If `Builder` was not a static inner class, you would simply call it `new Builder()`.\r\n\r\nWith proper line-breaks it&#39;s\r\n\r\n```\r\nUser validUser = new User.Builder()\r\n  .setName(&quot;test@test.com&quot;)\r\n  .setPassword(&quot;Test&quot;)\r\n  .create();\r\n```\r\n\r\n","title":"Creating &quot;new&quot; class within class (Builder pattern)","body":"<blockquote>\n<p>however in the create() method of User class, we instantiate a new User when a new user is already instantiated when calling User directly anyways via User validUser = new User(....)</p>\n</blockquote>\n<p><code>User</code> constructor is not called, it's not <code>new User()</code> but <code>new User.Builder()</code> (the code formatting on this example is terribly confusing), which is just a way to access the inner class <code>Builder</code> from <code>User</code> class. If <code>Builder</code> was not a static inner class, you would simply call it <code>new Builder()</code>.</p>\n<p>With proper line-breaks it's</p>\n<pre><code>User validUser = new User.Builder()\n  .setName(&quot;test@test.com&quot;)\n  .setPassword(&quot;Test&quot;)\n  .create();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679594192,"creation_date":1679594192,"answer_id":75826511,"question_id":75825760,"body_markdown":"User.Builder() is the class name. (Similar to calling packageName.classInPackage())  The create() method makes a user from the builder class.  The User in User.Builder() is not instantiating a new User object.","title":"Creating &quot;new&quot; class within class (Builder pattern)","body":"<p>User.Builder() is the class name. (Similar to calling packageName.classInPackage())  The create() method makes a user from the builder class.  The User in User.Builder() is not instantiating a new User object.</p>\n"}],"owner":{"account_id":218827,"reputation":2849,"user_id":5065860,"accept_rate":100,"display_name":"msmith1114"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75825996,"answer_count":2,"score":-2,"last_activity_date":1679594385,"creation_date":1679589743,"question_id":75825760,"body_markdown":"I&#39;m looking at the &quot;Builder&quot; pattern specifically for automation coding and I came across an article: https://www.linkedin.com/pulse/test-automation-improve-code-readability-using-data-nir-tal/\r\n\r\nI&#39;m new to C#/Java (this particular snippet is in Java). However one thing confused me was instantiating a class within a class (after `new` has already been called).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nand then calling the class:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s407w.png\r\n  [2]: https://i.stack.imgur.com/EKHtb.png\r\n\r\n\r\n I understand what the code is doing, however in the `create()` method of `User` class, we instantiate a new `User` when a new user is already instantiated when calling `User` directly via `User validUser = new User(....)` isn&#39;t re-calling `new` sort of redundant in the `create()` method? \r\n\r\nMaybe it&#39;s the builder pattern that is confusing, but we are already setting the values via the setters/getters, so why do we need to `create()` them?","title":"Creating &quot;new&quot; class within class (Builder pattern)","body":"<p>I'm looking at the &quot;Builder&quot; pattern specifically for automation coding and I came across an article: <a href=\"https://www.linkedin.com/pulse/test-automation-improve-code-readability-using-data-nir-tal/\" rel=\"nofollow noreferrer\">https://www.linkedin.com/pulse/test-automation-improve-code-readability-using-data-nir-tal/</a></p>\n<p>I'm new to C#/Java (this particular snippet is in Java). However one thing confused me was instantiating a class within a class (after <code>new</code> has already been called).</p>\n<p><a href=\"https://i.stack.imgur.com/s407w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s407w.png\" alt=\"enter image description here\" /></a></p>\n<p>and then calling the class:</p>\n<p><a href=\"https://i.stack.imgur.com/EKHtb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EKHtb.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand what the code is doing, however in the <code>create()</code> method of <code>User</code> class, we instantiate a new <code>User</code> when a new user is already instantiated when calling <code>User</code> directly via <code>User validUser = new User(....)</code> isn't re-calling <code>new</code> sort of redundant in the <code>create()</code> method?</p>\n<p>Maybe it's the builder pattern that is confusing, but we are already setting the values via the setters/getters, so why do we need to <code>create()</code> them?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1679525686,"post_id":75817870,"comment_id":133739908,"body_markdown":"You&#39;d have to know what device the mixer/speaker is bound to before you could read it.","body":"You&#39;d have to know what device the mixer/speaker is bound to before you could read it."}],"owner":{"account_id":19581752,"reputation":21,"user_id":14330665,"display_name":"Abdulahad Ghuman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679594339,"creation_date":1679524997,"question_id":75817870,"body_markdown":"I have this code to capture and save audio from a microphone\r\n```java\r\nAudioFormat audioFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\nDataLine.Info dataInfo = new DataLine.Info(TargetDataLine.class, audioFormat);\r\ntry (TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(dataInfo)) {\r\n    targetLine.open();\r\n    targetLine.start();\r\n    Thread recordAudio = new Thread () {\r\n        @Override\r\n        public void run () {\r\n            AudioInputStream recordingStream = new AudioInputStream(targetLine);\r\n            File outputFile = new File (&quot;record.wav&quot;);\r\n            try {\r\n                AudioSystem.write(recordingStream, AudioFileFormat.Type.WAVE, outputFile);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(AudioInput.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    };\r\n    recordAudio.start();\r\n    Thread.sleep(10000);\r\n    targetLine.stop();\r\n    targetLine.close();         \r\n}\r\n```\r\nHow can I edit this code to capture and save audio from the mixer/speaker instead?","title":"Capture sound from speaker/mixer Java","body":"<p>I have this code to capture and save audio from a microphone</p>\n<pre class=\"lang-java prettyprint-override\"><code>AudioFormat audioFormat = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\nDataLine.Info dataInfo = new DataLine.Info(TargetDataLine.class, audioFormat);\ntry (TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(dataInfo)) {\n    targetLine.open();\n    targetLine.start();\n    Thread recordAudio = new Thread () {\n        @Override\n        public void run () {\n            AudioInputStream recordingStream = new AudioInputStream(targetLine);\n            File outputFile = new File (&quot;record.wav&quot;);\n            try {\n                AudioSystem.write(recordingStream, AudioFileFormat.Type.WAVE, outputFile);\n            } catch (IOException ex) {\n                Logger.getLogger(AudioInput.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    };\n    recordAudio.start();\n    Thread.sleep(10000);\n    targetLine.stop();\n    targetLine.close();         \n}\n</code></pre>\n<p>How can I edit this code to capture and save audio from the mixer/speaker instead?</p>\n"},{"tags":["java","android","react-native","kotlin"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1645318073,"post_id":71190330,"comment_id":125839459,"body_markdown":"Actually, I think that the real problem is this:  `jcenter { url &quot;http://jcenter.bintray.com/&quot; }`.  I think it should be `jcenter { url &quot;https://jcenter.bintray.com/&quot; }`.","body":"Actually, I think that the real problem is this:  <code>jcenter { url &quot;http:&#47;&#47;jcenter.bintray.com&#47;&quot; }</code>.  I think it should be <code>jcenter { url &quot;https:&#47;&#47;jcenter.bintray.com&#47;&quot; }</code>."},{"owner":{"account_id":9883841,"reputation":567,"user_id":11833845,"display_name":"Youssef"},"score":0,"creation_date":1645318265,"post_id":71190330,"comment_id":125839484,"body_markdown":"That line doesn&#39;t exist in any of the files","body":"That line doesn&#39;t exist in any of the files"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1645319037,"post_id":71190330,"comment_id":125839573,"body_markdown":"If it doesn&#39;t exist, how come I found it?  :-)","body":"If it doesn&#39;t exist, how come I found it?  :-)"},{"owner":{"account_id":9883841,"reputation":567,"user_id":11833845,"display_name":"Youssef"},"score":0,"creation_date":1645319405,"post_id":71190330,"comment_id":125839616,"body_markdown":"I wasn&#39;t looking at node_modules","body":"I wasn&#39;t looking at node_modules"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645319610,"creation_date":1645318433,"answer_id":71190501,"question_id":71190330,"body_markdown":"The real problem is this line:\r\n\r\n    jcenter { url &quot;http://jcenter.bintray.com/&quot; }\r\n\r\nIt is line #3 of https://github.com/januslo/react-native-bluetooth-escpos-printer/blob/master/android/build.gradle\r\n\r\nI think it should be:\r\n\r\n    jcenter { url &quot;https://jcenter.bintray.com/&quot; }\r\n\r\nor\r\n\r\n    jcenter { url &quot;http://jcenter.bintray.com/&quot;; allowInsecureProtocol = true }\r\n\r\nNote that Gradle (deliberately!) doesn&#39;t provide a way to turn these checks off *except* on a case-by-case basis.  The docs say:\r\n\r\n&gt; *&quot;For security purposes this intentionally requires a user to opt-in to using insecure protocols on case by case basis.*\r\n&gt;\r\n&gt; *Gradle intentionally does not offer a global system/gradle property that allows a universal disable of this check.&quot;* ","title":"Using insecure protocols with repositories build.gradle react native","body":"<p>The real problem is this line:</p>\n<pre><code>jcenter { url &quot;http://jcenter.bintray.com/&quot; }\n</code></pre>\n<p>It is line #3 of <a href=\"https://github.com/januslo/react-native-bluetooth-escpos-printer/blob/master/android/build.gradle\" rel=\"nofollow noreferrer\">https://github.com/januslo/react-native-bluetooth-escpos-printer/blob/master/android/build.gradle</a></p>\n<p>I think it should be:</p>\n<pre><code>jcenter { url &quot;https://jcenter.bintray.com/&quot; }\n</code></pre>\n<p>or</p>\n<pre><code>jcenter { url &quot;http://jcenter.bintray.com/&quot;; allowInsecureProtocol = true }\n</code></pre>\n<p>Note that Gradle (deliberately!) doesn't provide a way to turn these checks off <em>except</em> on a case-by-case basis.  The docs say:</p>\n<blockquote>\n<p><em>&quot;For security purposes this intentionally requires a user to opt-in to using insecure protocols on case by case basis.</em></p>\n<p><em>Gradle intentionally does not offer a global system/gradle property that allows a universal disable of this check.&quot;</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13860232,"reputation":1,"user_id":10006056,"display_name":"michael aries "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663601477,"creation_date":1663601477,"answer_id":73775882,"question_id":71190330,"body_markdown":"The issue is the use of insecure jcentre endpoints. Consider using the system-defined endpoints which are loaded automatically.\r\n \r\n&gt;Instead of `jcenter { url &quot;http://jcenter.bintray.com/&quot; }`\r\n&gt;&gt;use `jcenter()`","title":"Using insecure protocols with repositories build.gradle react native","body":"<p>The issue is the use of insecure jcentre endpoints. Consider using the system-defined endpoints which are loaded automatically.</p>\n<blockquote>\n<p>Instead of <code>jcenter { url &quot;http://jcenter.bintray.com/&quot; }</code></p>\n<blockquote>\n<p>use <code>jcenter()</code></p>\n</blockquote>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11252019,"reputation":1,"user_id":8252879,"display_name":"Kasun Chamara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679594329,"creation_date":1679300269,"answer_id":75787861,"question_id":71190330,"body_markdown":"Update this lines\r\n```\r\njcenter { url &quot;http://jcenter.bintray.com/&quot;; allowInsecureProtocol = true }\r\n\r\nmaven {url &quot;http://repo.spring.io/plugins-release/&quot;; allowInsecureProtocol = true}\r\n```\r\nwork for me this change","title":"Using insecure protocols with repositories build.gradle react native","body":"<p>Update this lines</p>\n<pre><code>jcenter { url &quot;http://jcenter.bintray.com/&quot;; allowInsecureProtocol = true }\n\nmaven {url &quot;http://repo.spring.io/plugins-release/&quot;; allowInsecureProtocol = true}\n</code></pre>\n<p>work for me this change</p>\n"}],"owner":{"account_id":9883841,"reputation":567,"user_id":11833845,"display_name":"Youssef"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71190501,"answer_count":3,"score":1,"last_activity_date":1679594329,"creation_date":1645316274,"question_id":71190330,"body_markdown":"I&#39;m trying to install this library https://github.com/januslo/react-native-bluetooth-escpos-printer after manually linking it to the project I got this error\r\n\r\n&gt; A problem occurred configuring project\r\n&gt; &#39;:react-native-bluetooth-escpos-printer&#39;.\r\n&gt; &gt; Could not resolve all dependencies for configuration &#39;:react-native-bluetooth-escpos-printer:classpath&#39;.\r\n&gt;    &gt; Using insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository\r\n&gt; &#39;BintrayJCenter(http://jcenter.bintray.com/)&#39; to redirect to a secure\r\n&gt; protocol (like HTTPS) or allow insecure protocols. See\r\n&gt; https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol\r\n&gt; for more details.\r\n\r\nThe issue is probably here in this file build.gradle \r\n\r\n    dependencies {\r\n        implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        implementation project(&#39;:react-native-bluetooth-escpos-printer&#39;)\r\n        ...\r\n        }\r\n\r\nI&#39;m aware that I should use `allowInsecureProtocol` but as I&#39;m not familiar with Java I&#39;m not sure how to achieve the same result as in the code below\r\n\r\n    maven { url &quot;http://myorg.example/repo&quot;; allowInsecureProtocol = true }\r\n\r\n\r\n\r\n","title":"Using insecure protocols with repositories build.gradle react native","body":"<p>I'm trying to install this library <a href=\"https://github.com/januslo/react-native-bluetooth-escpos-printer\" rel=\"nofollow noreferrer\">https://github.com/januslo/react-native-bluetooth-escpos-printer</a> after manually linking it to the project I got this error</p>\n<blockquote>\n<p>A problem occurred configuring project\n':react-native-bluetooth-escpos-printer'.</p>\n<blockquote>\n<p>Could not resolve all dependencies for configuration ':react-native-bluetooth-escpos-printer:classpath'.\nUsing insecure protocols with repositories, without explicit opt-in, is unsupported. Switch Maven repository\n'BintrayJCenter(<a href=\"http://jcenter.bintray.com/\" rel=\"nofollow noreferrer\">http://jcenter.bintray.com/</a>)' to redirect to a secure\nprotocol (like HTTPS) or allow insecure protocols. See\n<a href=\"https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.2/dsl/org.gradle.api.artifacts.repositories.UrlArtifactRepository.html#org.gradle.api.artifacts.repositories.UrlArtifactRepository:allowInsecureProtocol</a>\nfor more details.</p>\n</blockquote>\n</blockquote>\n<p>The issue is probably here in this file build.gradle</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation project(':react-native-bluetooth-escpos-printer')\n    ...\n    }\n</code></pre>\n<p>I'm aware that I should use <code>allowInsecureProtocol</code> but as I'm not familiar with Java I'm not sure how to achieve the same result as in the code below</p>\n<pre><code>maven { url &quot;http://myorg.example/repo&quot;; allowInsecureProtocol = true }\n</code></pre>\n"},{"tags":["java","linux","maven","opencv","native"],"comments":[{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1395849144,"post_id":22663876,"comment_id":34526996,"body_markdown":"What command do you run? IMO java.library.path option won&#39;t be set automatically. It should point to a directory containing the native modules of OpenCV most probably.","body":"What command do you run? IMO java.library.path option won&#39;t be set automatically. It should point to a directory containing the native modules of OpenCV most probably."},{"owner":{"account_id":2149742,"reputation":884,"user_id":1906493,"accept_rate":72,"display_name":"ftp27"},"score":0,"creation_date":1395906946,"post_id":22663876,"comment_id":34553602,"body_markdown":"@Tome , mvn package. All *.so files are considered in result *.jar file in directories /com/googlecode/javacv/cpp/linux-x86_64/ and /com/googlecode/javacv/cpp/linux-x86/","body":"@Tome , mvn package. All *.so files are considered in result *.jar file in directories /com/googlecode/javacv/cpp/linux-x86_64/ and /com/googlecode/javacv/cpp/linux-x86/"},{"owner":{"account_id":2491788,"reputation":3274,"user_id":2169091,"display_name":"Tome"},"score":0,"creation_date":1395913562,"post_id":22663876,"comment_id":34557506,"body_markdown":"As far as I know, so files are not being used when packaged in a JAR file, they have to be directly accessible from the file system, so usually you end up with a structure like /lib/ for your jars, and /bin/ (or something else) for your so/dll files. That /bin/ must the the value of the java.library.path VM option that must be given when running your program.","body":"As far as I know, so files are not being used when packaged in a JAR file, they have to be directly accessible from the file system, so usually you end up with a structure like /lib/ for your jars, and /bin/ (or something else) for your so/dll files. That /bin/ must the the value of the java.library.path VM option that must be given when running your program."}],"answers":[{"tags":[],"owner":{"account_id":2149742,"reputation":884,"user_id":1906493,"accept_rate":72,"display_name":"ftp27"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403603055,"creation_date":1395936472,"answer_id":22693141,"question_id":22663876,"body_markdown":"There is a [solution](https://groups.google.com/forum/#!topic/javacv/Vdp2sD2FziI).  All libs are in [javacv-0.6-cppjars.zip](http://javacv.googlecode.com/files/javacv-0.6-cppjars.zip)","title":"To build Java project with OpenCV using Maven","body":"<p>There is a <a href=\"https://groups.google.com/forum/#!topic/javacv/Vdp2sD2FziI\" rel=\"nofollow\">solution</a>.  All libs are in <a href=\"http://javacv.googlecode.com/files/javacv-0.6-cppjars.zip\" rel=\"nofollow\">javacv-0.6-cppjars.zip</a></p>\n"},{"tags":[],"owner":{"account_id":1136557,"reputation":4563,"user_id":1121521,"accept_rate":83,"display_name":"message"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679594291,"creation_date":1679594291,"answer_id":75826540,"question_id":22663876,"body_markdown":"# How install OpenCV on Linux in 2023\r\n\r\nInstall and build OpenCV\r\n```\r\n# Install minimal prerequisites (Ubuntu 18.04 as reference)\r\nsudo apt update &amp;&amp; sudo apt install -y cmake g++ wget unzip\r\n\r\n# Download and unpack sources\r\nwget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip\r\nwget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/4.x.zip\r\n\r\nunzip opencv.zip\r\nunzip opencv_contrib.zip\r\n\r\n# Create build directory and switch into it\r\nmkdir -p build &amp;&amp; cd build\r\n\r\n# Configure\r\ncmake -DOPENCV_EXTRA_MODULES_PATH=../opencv_contrib-4.x/modules ../opencv-4.x\r\n\r\n# Build\r\ncmake --build .\r\n\r\n# Install\r\nsudo make install\r\n```\r\n\r\nBy default OpenCV will be installed to the `/usr/local` directory.\r\n```\r\n➤  tree /usr/local/share/java/opencv4\r\n/usr/local/share/java/opencv4\r\n├── libopencv_java470.so\r\n└── opencv-470.jar\r\n\r\n\r\n0 directories, 2 files\r\n```\r\n\r\nSo now you can use java bindings that you built or add maven `pom.xml` dependency. It&#39;s better to match versions, `4.7.0` and `4.7.0`, but in my case version in [maven repo][1] was behind\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.6.0-0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nRun java with environment parameter `LD_LIBRARY_PATH`\r\n\r\n```\r\nLD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/share/java/opencv4/\r\n```\r\n\r\nand load OpenCV from Java with\r\n```java\r\nSystem.loadLibrary(&quot;opencv_java470&quot;); // If bindings version match use System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n``` \r\n\r\n  [1]: https://mvnrepository.com/artifact/org.openpnp/opencv","title":"To build Java project with OpenCV using Maven","body":"<h1>How install OpenCV on Linux in 2023</h1>\n<p>Install and build OpenCV</p>\n<pre><code># Install minimal prerequisites (Ubuntu 18.04 as reference)\nsudo apt update &amp;&amp; sudo apt install -y cmake g++ wget unzip\n\n# Download and unpack sources\nwget -O opencv.zip https://github.com/opencv/opencv/archive/4.x.zip\nwget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/4.x.zip\n\nunzip opencv.zip\nunzip opencv_contrib.zip\n\n# Create build directory and switch into it\nmkdir -p build &amp;&amp; cd build\n\n# Configure\ncmake -DOPENCV_EXTRA_MODULES_PATH=../opencv_contrib-4.x/modules ../opencv-4.x\n\n# Build\ncmake --build .\n\n# Install\nsudo make install\n</code></pre>\n<p>By default OpenCV will be installed to the <code>/usr/local</code> directory.</p>\n<pre><code>➤  tree /usr/local/share/java/opencv4\n/usr/local/share/java/opencv4\n├── libopencv_java470.so\n└── opencv-470.jar\n\n\n0 directories, 2 files\n</code></pre>\n<p>So now you can use java bindings that you built or add maven <code>pom.xml</code> dependency. It's better to match versions, <code>4.7.0</code> and <code>4.7.0</code>, but in my case version in <a href=\"https://mvnrepository.com/artifact/org.openpnp/opencv\" rel=\"nofollow noreferrer\">maven repo</a> was behind</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n            &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n            &lt;version&gt;4.6.0-0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Run java with environment parameter <code>LD_LIBRARY_PATH</code></p>\n<pre><code>LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/local/share/java/opencv4/\n</code></pre>\n<p>and load OpenCV from Java with</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.loadLibrary(&quot;opencv_java470&quot;); // If bindings version match use System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n"}],"owner":{"account_id":2149742,"reputation":884,"user_id":1906493,"accept_rate":72,"display_name":"ftp27"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":22693141,"answer_count":2,"score":5,"last_activity_date":1679594291,"creation_date":1395843678,"question_id":22663876,"body_markdown":"I need to build the project, which involv an OpenCV. It would be great, but libraries don&#39;t get into the library java.library.path for some reason. And when I try to run the code using the library I get this error:\r\n\r\n*java.lang.UnsatisfiedLinkError: no jniopencv_highgui in java.library.path*\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;ru.intemsys.reget.server&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reget-server&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1-alpha&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.build.timestamp.format&gt;yyyyMMddhhmm&lt;/maven.build.timestamp.format&gt;\r\n        &lt;platform.name&gt;${os.name}-${os.arch}&lt;/platform.name&gt;\r\n        &lt;product.year&gt;2014&lt;/product.year&gt;\r\n        &lt;jdkVersion&gt;1.6&lt;/jdkVersion&gt;\r\n        &lt;javacpp.version&gt;0.7&lt;/javacpp.version&gt;\r\n        &lt;javacv.version&gt;0.7&lt;/javacv.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;commons-daemon&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-daemon&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.0.10&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.googlecode.javacpp&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javacpp&lt;/artifactId&gt;\r\n              &lt;version&gt;${javacpp.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n              &lt;version&gt;${javacv.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n              &lt;version&gt;${javacv.version}&lt;/version&gt;\r\n              &lt;classifier&gt;linux-x86&lt;/classifier&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n          &lt;dependency&gt;\r\n              &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javacv&lt;/artifactId&gt;\r\n              &lt;version&gt;${javacv.version}&lt;/version&gt;\r\n              &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\r\n          &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.xeiam.xchart&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xchart&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;repositories&gt;\r\n          &lt;repository&gt;\r\n              &lt;id&gt;javacpp&lt;/id&gt;\r\n              &lt;name&gt;JavaCPP&lt;/name&gt;\r\n              &lt;url&gt;http://maven2.javacpp.googlecode.com/git/&lt;/url&gt;\r\n          &lt;/repository&gt;\r\n          &lt;repository&gt;\r\n              &lt;id&gt;javacv&lt;/id&gt;\r\n              &lt;name&gt;JavaCV&lt;/name&gt;\r\n              &lt;url&gt;http://maven2.javacv.googlecode.com/git/&lt;/url&gt;\r\n          &lt;/repository&gt;\r\n      &lt;/repositories&gt;\r\n    \r\n      &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${jdkVersion}&lt;/source&gt;\r\n                        &lt;target&gt;${jdkVersion}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n                                &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                                &lt;classpathLayoutType&gt;simple&lt;/classpathLayoutType&gt;\r\n                                &lt;mainClass&gt;ru.intemsys.reget.server.App&lt;/mainClass&gt;\r\n                                &lt;packageName&gt;ru.intemsys.reget.server&lt;/packageName&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;finalName&gt;${artifactId}-${version}&lt;/finalName&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;linux&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;name&gt;linux&lt;/name&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.name&gt;linux&lt;/os.name&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;macosx&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;name&gt;mac os x&lt;/name&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.name&gt;macosx&lt;/os.name&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;windows&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;family&gt;windows&lt;/family&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.name&gt;windows&lt;/os.name&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;i386&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;i386&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;i486&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;i486&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;i586&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;i586&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;i686&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;i686&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;amd64&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;amd64&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86_64&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;x86-64&lt;/id&gt;\r\n                &lt;activation&gt;\r\n                    &lt;os&gt;&lt;arch&gt;x86-64&lt;/arch&gt;&lt;/os&gt;\r\n                &lt;/activation&gt;\r\n                &lt;properties&gt;\r\n                    &lt;os.arch&gt;x86_64&lt;/os.arch&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\n**mvn -version**\r\n\r\nApache Maven 3.0.4\r\nMaven home: /usr/share/maven\r\nJava version: 1.7.0_25, vendor: Oracle Corporation\r\nJava home: /usr/lib/jvm/java-7-openjdk-i386/jre\r\nDefault locale: ru_RU, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.11.0-14-generic&quot;, arch: &quot;i386&quot;, family: &quot;unix&quot;\r\n\r\n**uname -a**\r\n\r\nLinux PC-1 3.11.0-14-generic #21-Ubuntu SMP Tue Nov 12 17:07:40 UTC 2013 i686 i686 i686 GNU/Linux\r\n","title":"To build Java project with OpenCV using Maven","body":"<p>I need to build the project, which involv an OpenCV. It would be great, but libraries don't get into the library java.library.path for some reason. And when I try to run the code using the library I get this error:</p>\n\n<p>*java.lang.UnsatisfiedLinkError: no jniopencv_highgui in java.library.path*</p>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;ru.intemsys.reget.server&lt;/groupId&gt;\n  &lt;artifactId&gt;reget-server&lt;/artifactId&gt;\n  &lt;version&gt;0.1-alpha&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.build.timestamp.format&gt;yyyyMMddhhmm&lt;/maven.build.timestamp.format&gt;\n    &lt;platform.name&gt;${os.name}-${os.arch}&lt;/platform.name&gt;\n    &lt;product.year&gt;2014&lt;/product.year&gt;\n    &lt;jdkVersion&gt;1.6&lt;/jdkVersion&gt;\n    &lt;javacpp.version&gt;0.7&lt;/javacpp.version&gt;\n    &lt;javacv.version&gt;0.7&lt;/javacv.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-daemon&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-daemon&lt;/artifactId&gt;\n        &lt;version&gt;1.0.10&lt;/version&gt;\n    &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.googlecode.javacpp&lt;/groupId&gt;\n          &lt;artifactId&gt;javacpp&lt;/artifactId&gt;\n          &lt;version&gt;${javacpp.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\n          &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n          &lt;version&gt;${javacv.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\n          &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n          &lt;version&gt;${javacv.version}&lt;/version&gt;\n          &lt;classifier&gt;linux-x86&lt;/classifier&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n          &lt;groupId&gt;com.googlecode.javacv&lt;/groupId&gt;\n          &lt;artifactId&gt;javacv&lt;/artifactId&gt;\n          &lt;version&gt;${javacv.version}&lt;/version&gt;\n          &lt;classifier&gt;linux-x86_64&lt;/classifier&gt;\n      &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.xeiam.xchart&lt;/groupId&gt;\n        &lt;artifactId&gt;xchart&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;repositories&gt;\n      &lt;repository&gt;\n          &lt;id&gt;javacpp&lt;/id&gt;\n          &lt;name&gt;JavaCPP&lt;/name&gt;\n          &lt;url&gt;http://maven2.javacpp.googlecode.com/git/&lt;/url&gt;\n      &lt;/repository&gt;\n      &lt;repository&gt;\n          &lt;id&gt;javacv&lt;/id&gt;\n          &lt;name&gt;JavaCV&lt;/name&gt;\n          &lt;url&gt;http://maven2.javacv.googlecode.com/git/&lt;/url&gt;\n      &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${jdkVersion}&lt;/source&gt;\n                    &lt;target&gt;${jdkVersion}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;includeScope&gt;compile&lt;/includeScope&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;classpathLayoutType&gt;simple&lt;/classpathLayoutType&gt;\n                            &lt;mainClass&gt;ru.intemsys.reget.server.App&lt;/mainClass&gt;\n                            &lt;packageName&gt;ru.intemsys.reget.server&lt;/packageName&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;finalName&gt;${artifactId}-${version}&lt;/finalName&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n  &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;linux&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;name&gt;linux&lt;/name&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.name&gt;linux&lt;/os.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;macosx&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;name&gt;mac os x&lt;/name&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.name&gt;macosx&lt;/os.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;windows&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;family&gt;windows&lt;/family&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.name&gt;windows&lt;/os.name&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;i386&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;i386&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;i486&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;i486&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;i586&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;i586&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;i686&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;i686&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;amd64&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;amd64&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86_64&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;x86-64&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;os&gt;&lt;arch&gt;x86-64&lt;/arch&gt;&lt;/os&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;os.arch&gt;x86_64&lt;/os.arch&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>mvn -version</strong></p>\n\n<p>Apache Maven 3.0.4\nMaven home: /usr/share/maven\nJava version: 1.7.0_25, vendor: Oracle Corporation\nJava home: /usr/lib/jvm/java-7-openjdk-i386/jre\nDefault locale: ru_RU, platform encoding: UTF-8\nOS name: \"linux\", version: \"3.11.0-14-generic\", arch: \"i386\", family: \"unix\"</p>\n\n<p><strong>uname -a</strong></p>\n\n<p>Linux PC-1 3.11.0-14-generic #21-Ubuntu SMP Tue Nov 12 17:07:40 UTC 2013 i686 i686 i686 GNU/Linux</p>\n"},{"tags":["java","excel","cucumber","apache-poi"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679644402,"post_id":75826505,"comment_id":133761330,"body_markdown":"What is `HashedMap`?","body":"What is <code>HashedMap</code>?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679648923,"post_id":75826505,"comment_id":133762329,"body_markdown":"I&#39;ve just tried your code. But a bit simplified. But the core logic of your reader works as expected for me. What if you change `Integer.valueOf(entry.getOrDefault(&quot;Index&quot;, &quot;0&quot;))` to just `0` ?","body":"I&#39;ve just tried your code. But a bit simplified. But the core logic of your reader works as expected for me. What if you change <code>Integer.valueOf(entry.getOrDefault(&quot;Index&quot;, &quot;0&quot;))</code> to just <code>0</code> ?"},{"owner":{"account_id":8292728,"reputation":25,"user_id":6233807,"display_name":"Jimi Hunter"},"score":0,"creation_date":1679649798,"post_id":75826505,"comment_id":133762528,"body_markdown":"are you reading all the data in the excel file and if yes can you help with your simplified version. because I don&#39;t know why this is not working","body":"are you reading all the data in the excel file and if yes can you help with your simplified version. because I don&#39;t know why this is not working"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679650356,"post_id":75826505,"comment_id":133762669,"body_markdown":"I&#39;ve just taken your code and removed cucumber part from it. I ran it in main method. Can you share the file you are reproducing your issue on?","body":"I&#39;ve just taken your code and removed cucumber part from it. I ran it in main method. Can you share the file you are reproducing your issue on?"},{"owner":{"account_id":8292728,"reputation":25,"user_id":6233807,"display_name":"Jimi Hunter"},"score":0,"creation_date":1679650614,"post_id":75826505,"comment_id":133762732,"body_markdown":"which file are you referring to here. The issue here is that only the first row is being read. I don&#39;t why the forEachWithCounter does not seem to work","body":"which file are you referring to here. The issue here is that only the first row is being read. I don&#39;t why the forEachWithCounter does not seem to work"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1679650688,"post_id":75826505,"comment_id":133762754,"body_markdown":"I mean excel file","body":"I mean excel file"},{"owner":{"account_id":8292728,"reputation":25,"user_id":6233807,"display_name":"Jimi Hunter"},"score":0,"creation_date":1679651495,"post_id":75826505,"comment_id":133762934,"body_markdown":"I have sample of that on the question if you scroll to the last part of the question. I am unable to attach the file. the file name is ftbank.xlsx and the sheetName is data. if you can see that  one of the rows am reading out from the test is this","body":"I have sample of that on the question if you scroll to the last part of the question. I am unable to attach the file. the file name is ftbank.xlsx and the sheetName is data. if you can see that  one of the rows am reading out from the test is this"},{"owner":{"account_id":8292728,"reputation":25,"user_id":6233807,"display_name":"Jimi Hunter"},"score":0,"creation_date":1679651767,"post_id":75826505,"comment_id":133762994,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252744/discussion-between-jimi-hunter-and-alexey-r).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252744/discussion-between-jimi-hunter-and-alexey-r\">continue this discussion in chat</a>."}],"owner":{"account_id":8292728,"reputation":25,"user_id":6233807,"display_name":"Jimi Hunter"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679594145,"creation_date":1679594145,"question_id":75826505,"body_markdown":"I am trying to read data from excel file. There are 2 scenarios One is to read all rows of data in the excel sheet (getAllRows) and the second scenario is to (getASingleRow) when the row index is specified. I am currently getting  data back but the only the headers and the first row is getting returned from the method(getAllRows()) while the getASingleRow() returns only the headers. I would appreciate it if someone can help me look at my code. I know that I am doing something wrong. Below are the code samples.\r\n1. Scenario Step Code for Cucumber\r\n```\r\nWhen user enters data from the supplied excel file at the location\r\n        |Excel        |     Location                               |  Sheet   |\r\n        | ftbank.xlsx |    src/test/resources/testdata/ftbank.xlsx |  data    |\r\n```\r\n\r\n2. IDataReader Interface\r\n```\r\npublic interface IDataReader {\r\n    /**\r\n     * To get all the rows from the excel\r\n     * @return\r\n     */\r\n    public List&lt;Map&lt;String, String&gt;&gt; getAllRows();\r\n\r\n    /**\r\n     * To get a single row from the excel\r\n     * @return\r\n     */\r\n    public Map&lt;String , String&gt; getASingleRow();\r\n}\r\n```\r\n3. Excel Configuration\r\n```\r\npackage testing.tables.dataTables;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class ExcelConfiguration {\r\n    private final String fileName;\r\n\r\n    public String getFileName() {\r\n        return fileName;\r\n    }\r\n\r\n    public String getFileLocation() {\r\n        return fileLocation;\r\n    }\r\n\r\n    public String getSheetName() {\r\n        return sheetName;\r\n    }\r\n\r\n    public int getIndex() {\r\n        return index;\r\n    }\r\n\r\n    private final String fileLocation;\r\n    private final String sheetName;\r\n    private int index = -1;\r\n\r\n    private ExcelConfiguration(String fileName, String fileLocation, String sheetName, int index) {\r\n        this.fileName = fileName;\r\n        this.fileLocation = fileLocation;\r\n        this.sheetName = sheetName;\r\n        this.index = index;\r\n    }\r\n\r\n    public static class ExcelConfigurationBuilder {\r\n        private String fileName;\r\n        private String fileLocation;\r\n        private String sheetName;\r\n        private int index = -1;\r\n\r\n        public ExcelConfigurationBuilder setFileName(String fileName) {\r\n            this.fileName = fileName;\r\n            return this;\r\n        }\r\n\r\n        public ExcelConfigurationBuilder setFileLocation(String fileLocation) {\r\n            this.fileLocation = fileLocation;\r\n            return this;\r\n        }\r\n\r\n        public ExcelConfigurationBuilder setSheetName(String sheetName) {\r\n            this.sheetName = sheetName;\r\n            return this;\r\n        }\r\n\r\n        public ExcelConfigurationBuilder setIndex(int index) {\r\n            this.index = index;\r\n            return this;\r\n        }\r\n\r\n        public ExcelConfiguration build(){\r\n            Objects.requireNonNull(fileName);\r\n            Objects.requireNonNull(fileLocation);\r\n            Objects.requireNonNull(sheetName);\r\n            return new ExcelConfiguration(fileName, fileLocation, sheetName, index);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n4. Excel DataReader: This is where the problem is.\r\n```\r\npublic class ExcelDataReader implements IDataReader {\r\n    private final ExcelConfiguration config;\r\n    private Logger logger = LoggerFactory.getLogger(ExcelDataReader.class);\r\n\r\n    public ExcelDataReader(ExcelConfiguration config) {\r\n        this.config = config;\r\n    }\r\n\r\n    //1.get the instance of workbook\r\n\r\n    @SneakyThrows\r\n    private XSSFWorkbook getWorkBook() throws InvalidFormatException, IOException {\r\n        return new XSSFWorkbook(new File(config.getFileLocation()));\r\n\r\n    }\r\n\r\n    //2. get the sheet using the work book object\r\n    private XSSFSheet getSheet(XSSFWorkbook workBook) {\r\n        return workBook.getSheet(config.getSheetName());\r\n    }\r\n\r\n    //3. get the header from excel file\r\n    private List&lt;String&gt; getHeaders(XSSFSheet sheet) {\r\n        List&lt;String&gt; headers = new ArrayList&lt;String&gt;();\r\n        XSSFRow row = sheet.getRow(0);\r\n        row.forEach((cell) -&gt; {\r\n            headers.add(cell.getStringCellValue());\r\n        });\r\n        return Collections.unmodifiableList(headers);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Map&lt;String, String&gt;&gt; getAllRows() {\r\n        //List&lt;Map&lt;String, String&gt;&gt; data = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n        List&lt;Map&lt;String, String&gt;&gt; data;\r\n        try (XSSFWorkbook workBook = getWorkBook()) {\r\n            XSSFSheet sheet = getSheet(workBook);\r\n            data = getData(sheet);\r\n\r\n        } catch (Exception e) {\r\n            // to handle exception\r\n            logger.error(e, () -&gt; {\r\n                return String.format(&quot;Not able to read the excel %s from location %s&quot;, config.getFileName(), config.getFileLocation());\r\n            });\r\n            return Collections.emptyList();\r\n        }\r\n        return Collections.unmodifiableList(data);\r\n        //return data;\r\n    }\r\n\r\n    private List&lt;Map&lt;String, String&gt;&gt; getData(XSSFSheet sheet) {\r\n        List&lt;Map&lt;String, String&gt;&gt; data = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\r\n        List&lt;String&gt; headers = getHeaders(sheet);\r\n\r\n        for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n            Map&lt;String, String&gt; rowMap = new HashedMap&lt;String, String&gt;();\r\n            XSSFRow row = sheet.getRow(i);\r\n            //int headerIndex = 0;\r\n            forEachWithCounter(row, (index, cell) -&gt; {\r\n                rowMap.put(headers.get(index), cell.getStringCellValue());\r\n            });\r\n            data.add(rowMap);\r\n        }\r\n        return Collections.unmodifiableList(data);\r\n    }\r\n\r\n    //overloaded getData method\r\n    private Map&lt;String, String&gt; getData(XSSFSheet sheet, int rowIndex) {\r\n        List&lt;String&gt; headers = getHeaders(sheet);\r\n        //Map&lt;String, String&gt; data = new HashedMap&lt;String, String&gt;();\r\n        Map&lt;String, String&gt; rowMap = new HashedMap&lt;String, String&gt;();\r\n\r\n\r\n        XSSFRow row = sheet.getRow(rowIndex);\r\n        //int headerIndex = 0;\r\n        forEachWithCounter(row, (index, cell) -&gt; {\r\n            rowMap.put(headers.get(index), cell.getStringCellValue());\r\n        });\r\n\r\n        forEachWithCounter(row, (i, j) -&gt; {\r\n\r\n        });\r\n\r\n        return Collections.unmodifiableMap(rowMap);\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; getASingleRow() {\r\n        Map&lt;String, String&gt; data = new HashedMap&lt;String, String&gt;();\r\n        try (XSSFWorkbook workbook = getWorkBook()) {\r\n            XSSFSheet sheet = getSheet(workbook);\r\n            data = getData(sheet, config.getIndex());\r\n\r\n        } catch (Exception e) {\r\n            // to handle exception\r\n            logger.error(e, () -&gt; {\r\n                return String.format(&quot;Not able to read the excel %s from location %s&quot;, config.getFileName(), config.getFileLocation());\r\n            });\r\n            return Collections.emptyMap();\r\n        }\r\n        return Collections.unmodifiableMap(data);\r\n\r\n    }\r\n\r\n    private void forEachWithCounter(Iterable&lt;Cell&gt; source, BiConsumer&lt;Integer, Cell&gt; biConsumer) {\r\n        int i = 0;\r\n        for (Cell cell : source) {\r\n            biConsumer.accept(i, cell);\r\n            i++;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe 2 overloaded methods ```getData``` is where the problem might likely be as well as the ```getAllRows()``` and ```getASingleRow()```\r\n\r\nWhen the test execution is done with the step definitions\r\n```\r\npublic class ExcelReaderStepDefinitions {\r\n    //1. create a method\r\n    //2. parameter to the method would be a map object\r\n    //3. IDataReader would be return type\r\n    //4. @DataTableType\r\n\r\n    @When(&quot;user enters data from the supplied excel file at the location&quot;)\r\n    public void user_enters_data_from_the_supplied_excel_file_at_the_location(IDataReader dataTable) {\r\n        // Write code here that turns the phrase above into concrete actions\r\n        // For automatic transformation, change DataTable to one of\r\n        // E, List&lt;E&gt;, List&lt;List&lt;E&gt;&gt;, List&lt;Map&lt;K,V&gt;&gt;, Map&lt;K,V&gt; or\r\n        // Map&lt;K, List&lt;V&gt;&gt;. E,K,V must be a String, Integer, Float,\r\n        // Double, Byte, Short, Long, BigInteger or BigDecimal.\r\n        //\r\n        // For other transformations you can register a DataTableType.\r\n        System.out.println(dataTable.getAllRows());\r\n        System.out.println(&quot;=====SINGLE====&quot;);\r\n        System.out.println(dataTable.getASingleRow());\r\n        System.out.println(&quot;=========&quot;);\r\n\r\n        List&lt;Map&lt;String, String&gt;&gt; data = dataTable.getAllRows();\r\n        System.out.println(&quot;=========&quot;);\r\n        //System.out.println(data.get(1).get(&quot;months&quot;));\r\n        System.out.println(&quot;=========&quot;);\r\n\r\n    }\r\n\r\n\r\n    @DataTableType\r\n    public IDataReader exceltoDataTable(Map&lt;String, String&gt; entry) {\r\n        //sample of map: Excel(header)= &lt;fileName&gt;(value), Location=&lt;fileLocation&gt;\r\n        ExcelConfiguration config = new ExcelConfiguration.ExcelConfigurationBuilder()\r\n                .setFileName(entry.get(&quot;Excel&quot;))\r\n                .setFileLocation(entry.get(&quot;Location&quot;))\r\n                .setSheetName(entry.get(&quot;Sheet&quot;))\r\n                .setIndex(Integer.valueOf(entry.getOrDefault(&quot;Index&quot;, &quot;0&quot;)))\r\n                .build();\r\n\r\n        return new ExcelDataReader(config);\r\n    }\r\n}\r\n```\r\nhere are the outputs\r\n```\r\n[{Index=abc, months=girl, deposit=mom, ltv=sis, propertyValue=dad, years=boy, loan=bro}]\r\n=====SINGLE====\r\n{Index=Index, months=months, deposit=deposit, ltv=ltv, propertyValue=propertyValue, years=years, loan=loan}\r\n=========\r\n=========\r\n=========\r\n```\r\nThe output corresponds to the content of the StepDefinition code.\r\nI want all the rows in the excel sheet to be printed for the method getAllRows() and a single for getASingleRow().\r\nBelow is the sample of test data.\r\n![Text]()[![test data][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WyhSw.png","title":"Why is only header and first row returned when reading data from excel using Java and POI?","body":"<p>I am trying to read data from excel file. There are 2 scenarios One is to read all rows of data in the excel sheet (getAllRows) and the second scenario is to (getASingleRow) when the row index is specified. I am currently getting  data back but the only the headers and the first row is getting returned from the method(getAllRows()) while the getASingleRow() returns only the headers. I would appreciate it if someone can help me look at my code. I know that I am doing something wrong. Below are the code samples.</p>\n<ol>\n<li>Scenario Step Code for Cucumber</li>\n</ol>\n<pre><code>When user enters data from the supplied excel file at the location\n        |Excel        |     Location                               |  Sheet   |\n        | ftbank.xlsx |    src/test/resources/testdata/ftbank.xlsx |  data    |\n</code></pre>\n<ol start=\"2\">\n<li>IDataReader Interface</li>\n</ol>\n<pre><code>public interface IDataReader {\n    /**\n     * To get all the rows from the excel\n     * @return\n     */\n    public List&lt;Map&lt;String, String&gt;&gt; getAllRows();\n\n    /**\n     * To get a single row from the excel\n     * @return\n     */\n    public Map&lt;String , String&gt; getASingleRow();\n}\n</code></pre>\n<ol start=\"3\">\n<li>Excel Configuration</li>\n</ol>\n<pre><code>package testing.tables.dataTables;\n\nimport java.util.Objects;\n\npublic class ExcelConfiguration {\n    private final String fileName;\n\n    public String getFileName() {\n        return fileName;\n    }\n\n    public String getFileLocation() {\n        return fileLocation;\n    }\n\n    public String getSheetName() {\n        return sheetName;\n    }\n\n    public int getIndex() {\n        return index;\n    }\n\n    private final String fileLocation;\n    private final String sheetName;\n    private int index = -1;\n\n    private ExcelConfiguration(String fileName, String fileLocation, String sheetName, int index) {\n        this.fileName = fileName;\n        this.fileLocation = fileLocation;\n        this.sheetName = sheetName;\n        this.index = index;\n    }\n\n    public static class ExcelConfigurationBuilder {\n        private String fileName;\n        private String fileLocation;\n        private String sheetName;\n        private int index = -1;\n\n        public ExcelConfigurationBuilder setFileName(String fileName) {\n            this.fileName = fileName;\n            return this;\n        }\n\n        public ExcelConfigurationBuilder setFileLocation(String fileLocation) {\n            this.fileLocation = fileLocation;\n            return this;\n        }\n\n        public ExcelConfigurationBuilder setSheetName(String sheetName) {\n            this.sheetName = sheetName;\n            return this;\n        }\n\n        public ExcelConfigurationBuilder setIndex(int index) {\n            this.index = index;\n            return this;\n        }\n\n        public ExcelConfiguration build(){\n            Objects.requireNonNull(fileName);\n            Objects.requireNonNull(fileLocation);\n            Objects.requireNonNull(sheetName);\n            return new ExcelConfiguration(fileName, fileLocation, sheetName, index);\n        }\n\n\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>Excel DataReader: This is where the problem is.</li>\n</ol>\n<pre><code>public class ExcelDataReader implements IDataReader {\n    private final ExcelConfiguration config;\n    private Logger logger = LoggerFactory.getLogger(ExcelDataReader.class);\n\n    public ExcelDataReader(ExcelConfiguration config) {\n        this.config = config;\n    }\n\n    //1.get the instance of workbook\n\n    @SneakyThrows\n    private XSSFWorkbook getWorkBook() throws InvalidFormatException, IOException {\n        return new XSSFWorkbook(new File(config.getFileLocation()));\n\n    }\n\n    //2. get the sheet using the work book object\n    private XSSFSheet getSheet(XSSFWorkbook workBook) {\n        return workBook.getSheet(config.getSheetName());\n    }\n\n    //3. get the header from excel file\n    private List&lt;String&gt; getHeaders(XSSFSheet sheet) {\n        List&lt;String&gt; headers = new ArrayList&lt;String&gt;();\n        XSSFRow row = sheet.getRow(0);\n        row.forEach((cell) -&gt; {\n            headers.add(cell.getStringCellValue());\n        });\n        return Collections.unmodifiableList(headers);\n    }\n\n    @Override\n    public List&lt;Map&lt;String, String&gt;&gt; getAllRows() {\n        //List&lt;Map&lt;String, String&gt;&gt; data = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n        List&lt;Map&lt;String, String&gt;&gt; data;\n        try (XSSFWorkbook workBook = getWorkBook()) {\n            XSSFSheet sheet = getSheet(workBook);\n            data = getData(sheet);\n\n        } catch (Exception e) {\n            // to handle exception\n            logger.error(e, () -&gt; {\n                return String.format(&quot;Not able to read the excel %s from location %s&quot;, config.getFileName(), config.getFileLocation());\n            });\n            return Collections.emptyList();\n        }\n        return Collections.unmodifiableList(data);\n        //return data;\n    }\n\n    private List&lt;Map&lt;String, String&gt;&gt; getData(XSSFSheet sheet) {\n        List&lt;Map&lt;String, String&gt;&gt; data = new ArrayList&lt;Map&lt;String, String&gt;&gt;();\n        List&lt;String&gt; headers = getHeaders(sheet);\n\n        for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n            Map&lt;String, String&gt; rowMap = new HashedMap&lt;String, String&gt;();\n            XSSFRow row = sheet.getRow(i);\n            //int headerIndex = 0;\n            forEachWithCounter(row, (index, cell) -&gt; {\n                rowMap.put(headers.get(index), cell.getStringCellValue());\n            });\n            data.add(rowMap);\n        }\n        return Collections.unmodifiableList(data);\n    }\n\n    //overloaded getData method\n    private Map&lt;String, String&gt; getData(XSSFSheet sheet, int rowIndex) {\n        List&lt;String&gt; headers = getHeaders(sheet);\n        //Map&lt;String, String&gt; data = new HashedMap&lt;String, String&gt;();\n        Map&lt;String, String&gt; rowMap = new HashedMap&lt;String, String&gt;();\n\n\n        XSSFRow row = sheet.getRow(rowIndex);\n        //int headerIndex = 0;\n        forEachWithCounter(row, (index, cell) -&gt; {\n            rowMap.put(headers.get(index), cell.getStringCellValue());\n        });\n\n        forEachWithCounter(row, (i, j) -&gt; {\n\n        });\n\n        return Collections.unmodifiableMap(rowMap);\n    }\n\n    @Override\n    public Map&lt;String, String&gt; getASingleRow() {\n        Map&lt;String, String&gt; data = new HashedMap&lt;String, String&gt;();\n        try (XSSFWorkbook workbook = getWorkBook()) {\n            XSSFSheet sheet = getSheet(workbook);\n            data = getData(sheet, config.getIndex());\n\n        } catch (Exception e) {\n            // to handle exception\n            logger.error(e, () -&gt; {\n                return String.format(&quot;Not able to read the excel %s from location %s&quot;, config.getFileName(), config.getFileLocation());\n            });\n            return Collections.emptyMap();\n        }\n        return Collections.unmodifiableMap(data);\n\n    }\n\n    private void forEachWithCounter(Iterable&lt;Cell&gt; source, BiConsumer&lt;Integer, Cell&gt; biConsumer) {\n        int i = 0;\n        for (Cell cell : source) {\n            biConsumer.accept(i, cell);\n            i++;\n        }\n\n    }\n}\n</code></pre>\n<p>The 2 overloaded methods <code>getData</code> is where the problem might likely be as well as the <code>getAllRows()</code> and <code>getASingleRow()</code></p>\n<p>When the test execution is done with the step definitions</p>\n<pre><code>public class ExcelReaderStepDefinitions {\n    //1. create a method\n    //2. parameter to the method would be a map object\n    //3. IDataReader would be return type\n    //4. @DataTableType\n\n    @When(&quot;user enters data from the supplied excel file at the location&quot;)\n    public void user_enters_data_from_the_supplied_excel_file_at_the_location(IDataReader dataTable) {\n        // Write code here that turns the phrase above into concrete actions\n        // For automatic transformation, change DataTable to one of\n        // E, List&lt;E&gt;, List&lt;List&lt;E&gt;&gt;, List&lt;Map&lt;K,V&gt;&gt;, Map&lt;K,V&gt; or\n        // Map&lt;K, List&lt;V&gt;&gt;. E,K,V must be a String, Integer, Float,\n        // Double, Byte, Short, Long, BigInteger or BigDecimal.\n        //\n        // For other transformations you can register a DataTableType.\n        System.out.println(dataTable.getAllRows());\n        System.out.println(&quot;=====SINGLE====&quot;);\n        System.out.println(dataTable.getASingleRow());\n        System.out.println(&quot;=========&quot;);\n\n        List&lt;Map&lt;String, String&gt;&gt; data = dataTable.getAllRows();\n        System.out.println(&quot;=========&quot;);\n        //System.out.println(data.get(1).get(&quot;months&quot;));\n        System.out.println(&quot;=========&quot;);\n\n    }\n\n\n    @DataTableType\n    public IDataReader exceltoDataTable(Map&lt;String, String&gt; entry) {\n        //sample of map: Excel(header)= &lt;fileName&gt;(value), Location=&lt;fileLocation&gt;\n        ExcelConfiguration config = new ExcelConfiguration.ExcelConfigurationBuilder()\n                .setFileName(entry.get(&quot;Excel&quot;))\n                .setFileLocation(entry.get(&quot;Location&quot;))\n                .setSheetName(entry.get(&quot;Sheet&quot;))\n                .setIndex(Integer.valueOf(entry.getOrDefault(&quot;Index&quot;, &quot;0&quot;)))\n                .build();\n\n        return new ExcelDataReader(config);\n    }\n}\n</code></pre>\n<p>here are the outputs</p>\n<pre><code>[{Index=abc, months=girl, deposit=mom, ltv=sis, propertyValue=dad, years=boy, loan=bro}]\n=====SINGLE====\n{Index=Index, months=months, deposit=deposit, ltv=ltv, propertyValue=propertyValue, years=years, loan=loan}\n=========\n=========\n=========\n</code></pre>\n<p>The output corresponds to the content of the StepDefinition code.\nI want all the rows in the excel sheet to be printed for the method getAllRows() and a single for getASingleRow().\nBelow is the sample of test data.\n<a href=\"https://i.stack.imgur.com/WyhSw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WyhSw.png\" alt=\"test data\" /></a></p>\n"},{"tags":["java","tomcat","tomcat9"],"answers":[{"tags":[],"owner":{"display_name":"user4654707"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679593978,"creation_date":1679593978,"answer_id":75826470,"question_id":75755079,"body_markdown":"I found the problem... I didn&#39;t have an\r\n\r\n```\r\nContext envContext = (Context) initContext.lookup(&quot;java:comp/env&quot;);\r\n```\r\n\r\nIt would seem that IBM WebSphere Application Server (our primary application server) adds this information for you...\r\n\r\nmy mistake.","title":"Context value not being read","body":"<p>I found the problem... I didn't have an</p>\n<pre><code>Context envContext = (Context) initContext.lookup(&quot;java:comp/env&quot;);\n</code></pre>\n<p>It would seem that IBM WebSphere Application Server (our primary application server) adds this information for you...</p>\n<p>my mistake.</p>\n"}],"owner":{"display_name":"user4654707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75826470,"answer_count":1,"score":0,"last_activity_date":1679593978,"creation_date":1678963225,"question_id":75755079,"body_markdown":"I have the following entry in my context.xml:\r\n\r\n```\r\n&lt;Environment name=&quot;environment&quot; value=&quot;DEV&quot; type=&quot;java.lang.String&quot; override=&quot;false&quot; /&gt;\r\n```\r\n\r\nAnd a servlet that calls for that -\r\n\r\n```\r\n        try\r\n        {\r\n        \tContext initContext = new InitialContext();\r\n        \tenvironment = (String) initContext.lookup(&quot;environment&quot;);\r\n        }\r\n        catch (final NamingException nx)\r\n        {\r\n        \tERROR_RECORDER.error(nx.getMessage(), nx);\r\n        }\r\n```\r\n\r\nNow, the code works. I can run it in other containers and it&#39;s fine. This is only happening under Tomcat 9.0.73, and according to the Tomcat docs I have this configured correctly, but I&#39;m getting the following exception:\r\n\r\n```\r\n[Time: 16 Mar 2023 06:36:36,840][Thread: main][Log: ERROR_RECORDER.][Level: ERROR] - [File: ResponseTimeFilter.java:80] - Name [environment] is not bound in this Context. Unable to find [environment].\r\njavax.naming.NameNotFoundException: Name [environment] is not bound in this Context. Unable to find [environment].\r\n```\r\n\r\nAnyone have any ideas?","title":"Context value not being read","body":"<p>I have the following entry in my context.xml:</p>\n<pre><code>&lt;Environment name=&quot;environment&quot; value=&quot;DEV&quot; type=&quot;java.lang.String&quot; override=&quot;false&quot; /&gt;\n</code></pre>\n<p>And a servlet that calls for that -</p>\n<pre><code>        try\n        {\n            Context initContext = new InitialContext();\n            environment = (String) initContext.lookup(&quot;environment&quot;);\n        }\n        catch (final NamingException nx)\n        {\n            ERROR_RECORDER.error(nx.getMessage(), nx);\n        }\n</code></pre>\n<p>Now, the code works. I can run it in other containers and it's fine. This is only happening under Tomcat 9.0.73, and according to the Tomcat docs I have this configured correctly, but I'm getting the following exception:</p>\n<pre><code>[Time: 16 Mar 2023 06:36:36,840][Thread: main][Log: ERROR_RECORDER.][Level: ERROR] - [File: ResponseTimeFilter.java:80] - Name [environment] is not bound in this Context. Unable to find [environment].\njavax.naming.NameNotFoundException: Name [environment] is not bound in this Context. Unable to find [environment].\n</code></pre>\n<p>Anyone have any ideas?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1440411522,"post_id":5982447,"comment_id":52244952,"body_markdown":"With the `toArray()` method that is clearly mentioned in the Javadoc.","body":"With the <code>toArray()</code> method that is clearly mentioned in the Javadoc."},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":1,"creation_date":1471938220,"post_id":5982447,"comment_id":65537365,"body_markdown":"Java 8 solution: https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/32179686#32179686","body":"Java 8 solution: <a href=\"https://stackoverflow.com/questions/5982447/how-to-convert-setstring-to-string/32179686#32179686\" title=\"how to convert setstring to string\">stackoverflow.com/questions/5982447/&hellip;</a>"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1548922985,"post_id":5982447,"comment_id":95720382,"body_markdown":"Java 11: Using new `toArray()` default method https://stackoverflow.com/a/32179686/1216775","body":"Java 11: Using new <code>toArray()</code> default method <a href=\"https://stackoverflow.com/a/32179686/1216775\">stackoverflow.com/a/32179686/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":510,"is_accepted":true,"score":510,"last_activity_date":1679593899,"creation_date":1305224193,"answer_id":5982478,"question_id":5982447,"body_markdown":"Use the [`Set#toArray(IntFunction&lt;T[]&gt;)`][1] method taking an `IntFunction` as generator.\r\n\r\n    String[] GPXFILES1 = myset.toArray(String[]::new);\r\n\r\nIf you&#39;re not on Java 11 yet, then use the [`Set#toArray(T[])`][2] method taking a typed array argument of the same size.\r\n\r\n    String[] GPXFILES1 = myset.toArray(new String[myset.size()]);\r\n\r\nWhile still not on Java 11, and you can&#39;t guarantee that `myset` is unmodifiable at the moment of conversion to array, then better specify an empty typed array.\r\n\r\n    String[] GPXFILES1 = myset.toArray(new String[0]);\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractCollection.html#toArray(T%5B%5D)\r\n","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>Use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\"><code>Set#toArray(IntFunction&lt;T[]&gt;)</code></a> method taking an <code>IntFunction</code> as generator.</p>\n<pre><code>String[] GPXFILES1 = myset.toArray(String[]::new);\n</code></pre>\n<p>If you're not on Java 11 yet, then use the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/AbstractCollection.html#toArray(T%5B%5D)\" rel=\"noreferrer\"><code>Set#toArray(T[])</code></a> method taking a typed array argument of the same size.</p>\n<pre><code>String[] GPXFILES1 = myset.toArray(new String[myset.size()]);\n</code></pre>\n<p>While still not on Java 11, and you can't guarantee that <code>myset</code> is unmodifiable at the moment of conversion to array, then better specify an empty typed array.</p>\n<pre><code>String[] GPXFILES1 = myset.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1305224436,"creation_date":1305224436,"answer_id":5982539,"question_id":5982447,"body_markdown":"Use  [toArray(T[] a)][1] method:\r\n\r\n    String[] array = set.toArray(new String[0]);\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Set.html#toArray%28T%5B%5D%29","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>Use  <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Set.html#toArray%28T%5B%5D%29\" rel=\"noreferrer\">toArray(T[] a)</a> method:</p>\n\n<pre><code>String[] array = set.toArray(new String[0]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1560936467,"creation_date":1440410974,"answer_id":32179686,"question_id":5982447,"body_markdown":"Java 11\r\n-------\r\n\r\nThe new default `toArray` method in `Collection` interface allows the elements of the collection to be transferred to a newly created array of the desired runtime type. [It][1] takes `IntFunction&lt;T[]&gt; generator` as argument and can be used as:\r\n\r\n     String[] array = set.toArray(String[]::new);\r\n\r\nThere is already a similar method `Collection.toArray(T[])` and this addition means we no longer be able to pass `null` as argument because in that case reference to the method would be ambiguous. But it is still okay since both methods throw a NPE anyways.\r\n\r\nJava 8\r\n------\r\n\r\nIn Java 8 we can use streams API:\r\n\r\n    String[] array = set.stream().toArray(String[]::new);\r\n\r\nWe can also make use of the overloaded version of [toArray()][2] which takes `IntFunction&lt;A[]&gt; generator` as:\r\n\r\n    String[] array = set.stream().toArray(n -&gt; new String[n]);\r\n\r\nThe purpose of the generator function here is to take an integer (size of desired array) and produce an array of desired size. I personally prefer the former approach using method reference than the later one using lambda expression.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-","title":"How to convert Set&lt;String&gt; to String[]?","body":"<h2>Java 11</h2>\n\n<p>The new default <code>toArray</code> method in <code>Collection</code> interface allows the elements of the collection to be transferred to a newly created array of the desired runtime type. <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\">It</a> takes <code>IntFunction&lt;T[]&gt; generator</code> as argument and can be used as:</p>\n\n<pre><code> String[] array = set.toArray(String[]::new);\n</code></pre>\n\n<p>There is already a similar method <code>Collection.toArray(T[])</code> and this addition means we no longer be able to pass <code>null</code> as argument because in that case reference to the method would be ambiguous. But it is still okay since both methods throw a NPE anyways.</p>\n\n<h2>Java 8</h2>\n\n<p>In Java 8 we can use streams API:</p>\n\n<pre><code>String[] array = set.stream().toArray(String[]::new);\n</code></pre>\n\n<p>We can also make use of the overloaded version of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#toArray-java.util.function.IntFunction-\" rel=\"noreferrer\">toArray()</a> which takes <code>IntFunction&lt;A[]&gt; generator</code> as:</p>\n\n<pre><code>String[] array = set.stream().toArray(n -&gt; new String[n]);\n</code></pre>\n\n<p>The purpose of the generator function here is to take an integer (size of desired array) and produce an array of desired size. I personally prefer the former approach using method reference than the later one using lambda expression.</p>\n"},{"tags":[],"owner":{"account_id":515417,"reputation":131,"user_id":5172896,"display_name":"user7708"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1464032598,"creation_date":1441969199,"answer_id":32521838,"question_id":5982447,"body_markdown":"Guava style:\r\n\r\n    Set&lt;String&gt; myset = myMap.keySet();\r\n    FluentIterable.from(mySet).toArray(String.class);\r\n\r\nmore info: https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/FluentIterable.html","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>Guava style:</p>\n\n<pre><code>Set&lt;String&gt; myset = myMap.keySet();\nFluentIterable.from(mySet).toArray(String.class);\n</code></pre>\n\n<p>more info: <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/FluentIterable.html\" rel=\"nofollow\">https://google.github.io/guava/releases/19.0/api/docs/com/google/common/collect/FluentIterable.html</a></p>\n"},{"tags":[],"owner":{"account_id":10027104,"reputation":331,"user_id":7414963,"display_name":"Jo&#227;o Vitor Veronese Vieira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503343359,"creation_date":1503343359,"answer_id":45804242,"question_id":5982447,"body_markdown":"I was facing the same situation.\r\n\r\nI begin by declaring the structures I need:\r\n\r\n `Set&lt;String&gt; myKeysInSet   = null; \r\n String[] myArrayOfString = null;`\r\n\r\nIn my case, I have a JSON object and I need all the keys in this JSON to be stored in an array of strings. Using the [GSON library][1], I use JSON.keySet() to get the keys and move to my Set&lt;String&gt; :\r\n\r\n `myKeysInSet = json_any.keySet();`\r\n\r\nWith this, I have a Set structure with all the keys, as I needed it. So I just need to the values to my Array of Strings. See the code below:\r\n\r\n **`myArrayOfString = myKeysInSet.toArray(new String[myKeysInSet.size()]);`**\r\n\r\nThis was my first answer in StackOverflow. \r\nSorry for any error :D\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.code.gson/gson","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>I was facing the same situation.</p>\n\n<p>I begin by declaring the structures I need:</p>\n\n<p><code>Set&lt;String&gt; myKeysInSet   = null; \n String[] myArrayOfString = null;</code></p>\n\n<p>In my case, I have a JSON object and I need all the keys in this JSON to be stored in an array of strings. Using the <a href=\"https://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"nofollow noreferrer\">GSON library</a>, I use JSON.keySet() to get the keys and move to my Set :</p>\n\n<p><code>myKeysInSet = json_any.keySet();</code></p>\n\n<p>With this, I have a Set structure with all the keys, as I needed it. So I just need to the values to my Array of Strings. See the code below:</p>\n\n<p><strong><code>myArrayOfString = myKeysInSet.toArray(new String[myKeysInSet.size()]);</code></strong></p>\n\n<p>This was my first answer in StackOverflow. \nSorry for any error :D</p>\n"},{"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538437273,"creation_date":1538437273,"answer_id":52600250,"question_id":5982447,"body_markdown":"In Java 11 we can use `Collection.toArray(generator)` method. The following code will create a new array of String:\r\n\r\n    Set&lt;String&gt; set = Set.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n    String[] array = set.toArray(String[]::new)\r\n\r\nSee: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>In Java 11 we can use <code>Collection.toArray(generator)</code> method. The following code will create a new array of String:</p>\n\n<pre><code>Set&lt;String&gt; set = Set.of(\"one\", \"two\", \"three\");\nString[] array = set.toArray(String[]::new)\n</code></pre>\n\n<p>See: <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)</a></p>\n"},{"tags":[],"owner":{"display_name":"user10763303"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544264442,"creation_date":1544264442,"answer_id":53681534,"question_id":5982447,"body_markdown":"    Set&lt;String&gt; stringSet= new HashSet&lt;&gt;();\r\n    String[] s = (String[])stringSet.toArray();","title":"How to convert Set&lt;String&gt; to String[]?","body":"<pre><code>Set&lt;String&gt; stringSet= new HashSet&lt;&gt;();\nString[] s = (String[])stringSet.toArray();\n</code></pre>\n"}],"owner":{"account_id":319179,"reputation":3345,"user_id":636803,"accept_rate":100,"display_name":"suter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305380,"favorite_count":0,"down_vote_count":2,"up_vote_count":315,"accepted_answer_id":5982478,"answer_count":7,"score":313,"last_activity_date":1679593899,"creation_date":1305224043,"question_id":5982447,"body_markdown":"I need to get a `String[]` out of a `Set&lt;String&gt;`, but I don&#39;t know how to do it. The following fails:\r\n\r\n    Map&lt;String, ?&gt; myMap = gpxlist.getAll();\r\n    Set&lt;String&gt; myset = myMap.keySet();\r\n    String[] GPXFILES1 = (String[]) myset.toArray(); // Here it fails.\r\n\r\nHow can I fix it so that it works?","title":"How to convert Set&lt;String&gt; to String[]?","body":"<p>I need to get a <code>String[]</code> out of a <code>Set&lt;String&gt;</code>, but I don't know how to do it. The following fails:</p>\n\n<pre><code>Map&lt;String, ?&gt; myMap = gpxlist.getAll();\nSet&lt;String&gt; myset = myMap.keySet();\nString[] GPXFILES1 = (String[]) myset.toArray(); // Here it fails.\n</code></pre>\n\n<p>How can I fix it so that it works?</p>\n"},{"tags":["java","data-structures","hashmap"],"comments":[{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":1,"creation_date":1678733390,"post_id":75725770,"comment_id":133587599,"body_markdown":"if the original array was `1, 4, 5, 6, 6, 8` then would the pair of 6s be considered correct? because I don&#39;t see how your map handles duplicate numbers","body":"if the original array was <code>1, 4, 5, 6, 6, 8</code> then would the pair of 6s be considered correct? because I don&#39;t see how your map handles duplicate numbers"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1678733535,"post_id":75725770,"comment_id":133587647,"body_markdown":"Uh, according to the question header, you were asked to return the *indices* of the two numbers. According to the example result, you are returning the elements of the array that can be paired.","body":"Uh, according to the question header, you were asked to return the <i>indices</i> of the two numbers. According to the example result, you are returning the elements of the array that can be paired."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1678733661,"post_id":75725770,"comment_id":133587677,"body_markdown":"This, or a version of it, is a common problem in programming challenges / practice sites. Can you, please, edit the question to include a link to the web page where you found the problem?","body":"This, or a version of it, is a common problem in programming challenges / practice sites. Can you, please, edit the question to include a link to the web page where you found the problem?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1678733677,"post_id":75725770,"comment_id":133587682,"body_markdown":"if (map.containsKey(target - j) &amp;&amp; arr[map.get(target - j)] != j)","body":"if (map.containsKey(target - j) &amp;&amp; arr[map.get(target - j)] != j)"},{"owner":{"account_id":21396882,"reputation":3,"user_id":15759805,"display_name":"Geri"},"score":0,"creation_date":1678814839,"post_id":75725770,"comment_id":133605172,"body_markdown":"@JohnWilliams\nThanks,that&#39;s what i was trying to do!","body":"@JohnWilliams Thanks,that&#39;s what i was trying to do!"},{"owner":{"account_id":21396882,"reputation":3,"user_id":15759805,"display_name":"Geri"},"score":0,"creation_date":1678815047,"post_id":75725770,"comment_id":133605235,"body_markdown":"@Portal\nActually it was not a  coding challenge,i just read this problem in an article,and they didnt mention if it is considered to be correct or not,but i was curious how to remove the 6,6 pair.","body":"@Portal Actually it was not a  coding challenge,i just read this problem in an article,and they didnt mention if it is considered to be correct or not,but i was curious how to remove the 6,6 pair."},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":0,"creation_date":1678829582,"post_id":75725770,"comment_id":133609024,"body_markdown":"@Geri fair enough, what I was getting at though was that a map may not be the best approach here because of a case like this","body":"@Geri fair enough, what I was getting at though was that a map may not be the best approach here because of a case like this"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678737603,"creation_date":1678737603,"answer_id":75726390,"question_id":75725770,"body_markdown":"&gt; So it works,but i cannot figure out how to remove the duplicates\r\n\r\nNo...it doesn&#39;t work, otherwise you wouldn&#39;t have duplicates and, if you don&#39;t want duplicates then don&#39;t generate and accept them.\r\n\r\nWhy use Map at all? Just use the ArrayList of Pair (`ArrayList&lt;Pair&gt;`) and two `for` loops, for example:\r\n\r\n    //function that returns the pairs\r\n    public static ArrayList&lt;Pair&gt; twoSum(int[] arr, int target) {\r\n        ArrayList&lt;Pair&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            for (int j = (i + 1); j &lt; arr.length; j++) {\r\n                if (arr[i] + arr[j] == target) {\r\n                    /* Uncomment below to Store the &#39;indices&#39; of the element \r\n                       pairs that sum to target:     */\r\n                    //result.add(new Pair(i, j));\r\n                    \r\n                    /* Uncomment below to Store the element values of the \r\n                       element pairs that sum to target:        */\r\n                    result.add(new Pair(arr[i], arr[j]));\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nTo use the above method you might do something like this:\r\n\r\n    int arr[] = {1, 4, 3, 5, 6, 8};\r\n    System.out.println(&quot;Supplied Array:  &quot; + Arrays.toString(arr));\r\n    int target = 9;\r\n    System.out.println(&quot;Supplied Target: &quot; + target);\r\n    System.out.println();\r\n    System.out.println(&quot;Results:&quot;);\r\n        \r\n    ArrayList&lt;Pair&gt; pairs = twoSum(arr, target);\r\n    System.out.println(pairs);\r\n\r\nResults to Console Window:\r\n\r\n```\r\nSupplied Array:  [1, 4, 3, 5, 6, 8]\r\nSupplied Target: 9\r\n\r\nResults:\r\n[{x = 1, y = 8}, {x = 4, y = 5}, {x = 3, y = 6}]\r\n```","title":"How to remove duplicate elements in the &quot; Given an array of integers nums and an integer target, return indices of the two numbers problem&quot;?","body":"<blockquote>\n<p>So it works,but i cannot figure out how to remove the duplicates</p>\n</blockquote>\n<p>No...it doesn't work, otherwise you wouldn't have duplicates and, if you don't want duplicates then don't generate and accept them.</p>\n<p>Why use Map at all? Just use the ArrayList of Pair (<code>ArrayList&lt;Pair&gt;</code>) and two <code>for</code> loops, for example:</p>\n<pre><code>//function that returns the pairs\npublic static ArrayList&lt;Pair&gt; twoSum(int[] arr, int target) {\n    ArrayList&lt;Pair&gt; result = new ArrayList&lt;&gt;();\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = (i + 1); j &lt; arr.length; j++) {\n            if (arr[i] + arr[j] == target) {\n                /* Uncomment below to Store the 'indices' of the element \n                   pairs that sum to target:     */\n                //result.add(new Pair(i, j));\n                \n                /* Uncomment below to Store the element values of the \n                   element pairs that sum to target:        */\n                result.add(new Pair(arr[i], arr[j]));\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>To use the above method you might do something like this:</p>\n<pre><code>int arr[] = {1, 4, 3, 5, 6, 8};\nSystem.out.println(&quot;Supplied Array:  &quot; + Arrays.toString(arr));\nint target = 9;\nSystem.out.println(&quot;Supplied Target: &quot; + target);\nSystem.out.println();\nSystem.out.println(&quot;Results:&quot;);\n    \nArrayList&lt;Pair&gt; pairs = twoSum(arr, target);\nSystem.out.println(pairs);\n</code></pre>\n<p>Results to Console Window:</p>\n<pre><code>Supplied Array:  [1, 4, 3, 5, 6, 8]\nSupplied Target: 9\n\nResults:\n[{x = 1, y = 8}, {x = 4, y = 5}, {x = 3, y = 6}]\n</code></pre>\n"}],"owner":{"account_id":21396882,"reputation":3,"user_id":15759805,"display_name":"Geri"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679593672,"creation_date":1678732944,"question_id":75725770,"body_markdown":"Problem Description: Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.\r\n\r\nHere is my code: \r\n\r\n\r\n\r\n\r\n```\r\n//Class for pairs\r\npublic static class Pair{\r\n        int x;\r\n        int y;\r\n\r\n        public Pair(int x, int y) {\r\n            this.x = x;\r\n            this.y = y;\r\n        }\r\n\r\n        public Pair() {\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;{&quot; +\r\n                    &quot;x=&quot; + x +\r\n                    &quot;, y=&quot; + y +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n\r\n//function that returns the pairs\r\npublic static ArrayList&lt;Pair&gt; twoSum(int[] arr, int target){\r\n        ArrayList&lt;Pair&gt; result = new ArrayList&lt;&gt;();\r\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(int i = 0; i &lt; arr.length;i++) {\r\n            map.put(arr[i], i);\r\n        }\r\n        for (int j : arr) {\r\n            if (map.containsKey(target - j)) {\r\n                result.add(new Pair(j, arr[map.get(target - j)]));\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n```\r\nSample input: int arr[] = {1, 4, 3, 5, 6, 8};\r\n              int target = 12;\r\n\r\nAnd the result : [{x=4, y=8},{x=6, y=6}, {x=8, y=4}]\r\n\r\nSo it works,but i cannot figure out how to remove the duplicates,so for example the 6, 6, pairs.\r\n\r\n\r\n\r\n","title":"How to remove duplicate elements in the &quot; Given an array of integers nums and an integer target, return indices of the two numbers problem&quot;?","body":"<p>Problem Description: Given an array of integers nums and an integer target, return indices of the two numbers such that they add up to target.</p>\n<p>Here is my code:</p>\n<pre><code>//Class for pairs\npublic static class Pair{\n        int x;\n        int y;\n\n        public Pair(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public Pair() {\n        }\n\n        @Override\n        public String toString() {\n            return &quot;{&quot; +\n                    &quot;x=&quot; + x +\n                    &quot;, y=&quot; + y +\n                    '}';\n        }\n    }\n\n\n//function that returns the pairs\npublic static ArrayList&lt;Pair&gt; twoSum(int[] arr, int target){\n        ArrayList&lt;Pair&gt; result = new ArrayList&lt;&gt;();\n        Map&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i = 0; i &lt; arr.length;i++) {\n            map.put(arr[i], i);\n        }\n        for (int j : arr) {\n            if (map.containsKey(target - j)) {\n                result.add(new Pair(j, arr[map.get(target - j)]));\n            }\n        }\n        return result;\n    }\n\n</code></pre>\n<p>Sample input: int arr[] = {1, 4, 3, 5, 6, 8};\nint target = 12;</p>\n<p>And the result : [{x=4, y=8},{x=6, y=6}, {x=8, y=4}]</p>\n<p>So it works,but i cannot figure out how to remove the duplicates,so for example the 6, 6, pairs.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1679297667,"post_id":75787309,"comment_id":133689450,"body_markdown":"Seems you have 2 variables `hilo` (a field and a local variable)... Your code is incomplete (please provide [mvce]).","body":"Seems you have 2 variables <code>hilo</code> (a field and a local variable)... Your code is incomplete (please provide [mvce])."}],"answers":[{"tags":[],"owner":{"account_id":9906633,"reputation":1075,"user_id":7334951,"display_name":"Younes Charfaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679296138,"creation_date":1679296138,"answer_id":75787390,"question_id":75787309,"body_markdown":"I think the example is fine; the issue I think, lies in where you are executing those lines. Can you please share with us your complete code?\r\n\r\n**Please understand that this is not the best way nor the efficient way to perform something like that; we do have several things in android that allow us to run recurring jobs effectively.**\r\n\r\nHere is your code (in Kotlin) to achieve the same thing from an Activity called `MainActivity`:\r\n\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n  private lateinit var binding: ActivityMainBinding\r\n\r\n  val runnable = Runnable {\r\n    while (true){\r\n      try {\r\n\r\n        Thread.sleep(1000);\r\n\r\n        System.out.println(&quot;Me imprimo cada segundo&quot;);\r\n      } catch (e : InterruptedException ) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n\r\n  override fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n\r\n    binding = ActivityMainBinding.inflate(layoutInflater)\r\n    setContentView(binding.root)\r\n\r\n    setSupportActionBar(binding.toolbar)\r\n\r\n    val thread = Thread(runnable)\r\n    thread.start()\r\n  }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\nAnd here are the log cats:\r\n\r\nhttps://i.ibb.co/1TQH45h/Screen-Shot-2023-03-20-at-8-03-55-AM.png\r\n","title":"Is there a way to execute something in android (java) every once in a while?","body":"<p>I think the example is fine; the issue I think, lies in where you are executing those lines. Can you please share with us your complete code?</p>\n<p><strong>Please understand that this is not the best way nor the efficient way to perform something like that; we do have several things in android that allow us to run recurring jobs effectively.</strong></p>\n<p>Here is your code (in Kotlin) to achieve the same thing from an Activity called <code>MainActivity</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n\n  private lateinit var binding: ActivityMainBinding\n\n  val runnable = Runnable {\n    while (true){\n      try {\n\n        Thread.sleep(1000);\n\n        System.out.println(&quot;Me imprimo cada segundo&quot;);\n      } catch (e : InterruptedException ) {\n        e.printStackTrace();\n      }\n    }\n  }\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    binding = ActivityMainBinding.inflate(layoutInflater)\n    setContentView(binding.root)\n\n    setSupportActionBar(binding.toolbar)\n\n    val thread = Thread(runnable)\n    thread.start()\n  }\n\n}\n\n\n</code></pre>\n<p>And here are the log cats:</p>\n<p><a href=\"https://i.ibb.co/1TQH45h/Screen-Shot-2023-03-20-at-8-03-55-AM.png\" rel=\"nofollow noreferrer\">https://i.ibb.co/1TQH45h/Screen-Shot-2023-03-20-at-8-03-55-AM.png</a></p>\n"},{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679296907,"creation_date":1679296907,"answer_id":75787468,"question_id":75787309,"body_markdown":"It is hard to tell the reason for the `NullPointerException` without the code of the `Activity`. \r\n\r\nApart from that: I would rather use `Timer` and `TimerTask` instead of a `Thread` and `Thread.sleep()`: \r\n\r\nhttps://www.baeldung.com/java-timer-and-timertask\r\n\r\nI try to avoid `Thread.sleep()` whenever possible.","title":"Is there a way to execute something in android (java) every once in a while?","body":"<p>It is hard to tell the reason for the <code>NullPointerException</code> without the code of the <code>Activity</code>.</p>\n<p>Apart from that: I would rather use <code>Timer</code> and <code>TimerTask</code> instead of a <code>Thread</code> and <code>Thread.sleep()</code>:</p>\n<p><a href=\"https://www.baeldung.com/java-timer-and-timertask\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-timer-and-timertask</a></p>\n<p>I try to avoid <code>Thread.sleep()</code> whenever possible.</p>\n"},{"tags":[],"owner":{"account_id":28020964,"reputation":1205,"user_id":21401783,"display_name":"Dinux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679592991,"creation_date":1679299241,"answer_id":75787748,"question_id":75787309,"body_markdown":"In your code, you have defined the `hilo` variable twice. I think that&#39;s what&#39;s causing the error. \r\n\r\nFYI, Thread.sleep() isn&#39;t very efficient. You can use a Timer instead of Thread.sleep() for your purpose. Here&#39;s how you can use Timer:\r\n```\r\nTimer timer = new Timer(60000, new ActionListener() { //60000ms = 1 minute\r\n  @Override\r\n  public void actionPerformed(ActionEvent arg0) {\r\n    System.out.println(&quot;Me imprimo cada segundo&quot;);\r\n    //Other code\r\n  }\r\n});\r\ntimer.setRepeats(false);\r\ntimer.start();\r\n```","title":"Is there a way to execute something in android (java) every once in a while?","body":"<p>In your code, you have defined the <code>hilo</code> variable twice. I think that's what's causing the error.</p>\n<p>FYI, Thread.sleep() isn't very efficient. You can use a Timer instead of Thread.sleep() for your purpose. Here's how you can use Timer:</p>\n<pre><code>Timer timer = new Timer(60000, new ActionListener() { //60000ms = 1 minute\n  @Override\n  public void actionPerformed(ActionEvent arg0) {\n    System.out.println(&quot;Me imprimo cada segundo&quot;);\n    //Other code\n  }\n});\ntimer.setRepeats(false);\ntimer.start();\n</code></pre>\n"}],"owner":{"account_id":27973898,"reputation":23,"user_id":21363112,"display_name":"louisMay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679592991,"creation_date":1679295232,"question_id":75787309,"body_markdown":"I want a function to be executed once every minute but I&#180;m not sure how to do it.\r\nI have tried this I have read:\r\n\r\n\r\n\r\nI have tried this I have read:\r\n```\r\npublic Thread hilo;\r\n\r\nRunnable runnable = new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\twhile (true) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t/\r\n\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tSystem.out.println(&quot;Me imprimo cada segundo&quot;);tiempo\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tThread hilo = new Thread(runnable);\r\n\t\thilo.start();\r\n```\r\n\r\nbut I get this exception I don&#180;t understand. \r\n```\r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void java.lang.Thread.start()&#39; on a null object reference\r\n        at com.example.tfgsmartwatch.activities.Course.onCreate(Course.java:164)\r\n```\r\n\r\nDoes anyone know hot to fix it? Or maybe how to do it in a different way? I would really appreciate any kind of help.","title":"Is there a way to execute something in android (java) every once in a while?","body":"<p>I want a function to be executed once every minute but I´m not sure how to do it.\nI have tried this I have read:</p>\n<p>I have tried this I have read:</p>\n<pre><code>public Thread hilo;\n\nRunnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                while (true) {\n                    try {\n                        /\n                        Thread.sleep(1000);\n                        \n                        System.out.println(&quot;Me imprimo cada segundo&quot;);tiempo\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n        Thread hilo = new Thread(runnable);\n        hilo.start();\n</code></pre>\n<p>but I get this exception I don´t understand.</p>\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void java.lang.Thread.start()' on a null object reference\n        at com.example.tfgsmartwatch.activities.Course.onCreate(Course.java:164)\n</code></pre>\n<p>Does anyone know hot to fix it? Or maybe how to do it in a different way? I would really appreciate any kind of help.</p>\n"},{"tags":["java","audio","type-conversion","mp3","jave"],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679592165,"creation_date":1679592165,"question_id":75826170,"body_markdown":"I am using the ws.schild.jave library in my Java project to encode audio files, and I am having trouble setting the FFMPEG executable path. By default, the library searches for the FFMPEG executable in the temporary folder of the system, but I need to specify a different location for the executable.\r\n\r\n        public byte[] convertWavToMp3(byte[] wavBytes) throws IOException, EncoderException {\r\n\r\n        ByteArrayInputStream inputStream = new ByteArrayInputStream(wavBytes);\r\n\r\n\r\n        File tempWavFile = File.createTempFile(&quot;input&quot;, &quot;.wav&quot;);\r\n        tempWavFile.deleteOnExit();\r\n\r\n        // Copia l&#39;array di byte del file WAV nel file temporaneo\r\n        try (FileOutputStream fos = new FileOutputStream(tempWavFile)) {\r\n            fos.write(wavBytes);\r\n        }\r\n\r\n\r\n        File tempFile = File.createTempFile(&quot;output&quot;, &quot;.mp3&quot;);\r\n\r\n\r\n        AudioAttributes audioAttrs = new AudioAttributes();\r\n        audioAttrs.setCodec(&quot;libmp3lame&quot;);\r\n        audioAttrs.setBitRate(new Integer(128000));\r\n        audioAttrs.setChannels(new Integer(2));\r\n        audioAttrs.setSamplingRate(new Integer(44100));\r\n\r\n\r\n        EncodingAttributes encodingAttrs = new EncodingAttributes();\r\n        encodingAttrs.setOutputFormat(&quot;mp3&quot;);\r\n        encodingAttrs.setAudioAttributes(audioAttrs);\r\n\r\n\r\n\r\n        Encoder encoder = new Encoder(locator);\r\n        MultimediaObject mediaInput = new MultimediaObject(tempWavFile);\r\n        encoder.encode(mediaInput, tempFile, encodingAttrs);\r\n\r\n        // Leggi l&#39;array di byte del file MP3\r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[4096];\r\n        int bytesRead;\r\n        try (FileInputStream fis = new FileInputStream(tempFile)) {\r\n            while ((bytesRead = fis.read(buffer)) != -1) {\r\n                outputStream.write(buffer, 0, bytesRead);\r\n            }\r\n        }\r\n\r\n        // Elimina il file temporaneo\r\n        tempFile.delete();\r\n\r\n        // Restituisce l&#39;array di byte del file MP3\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n\r\nI have tried creating a CustomFFMPEGLocator class that extends the DefaultFFMPEGLocator, as suggested in some posts, but it did not work for me. I have also tried to set the path to the FFMPEG executable directly in the Encoder object like this:\r\n\r\n        public class CustomFFMPEGLocator extends DefaultFFMPEGLocator {\r\n\r\n        private String ffmpegExecutablePath;\r\n\r\n        public CustomFFMPEGLocator(String ffmpegExecutablePath) {\r\n            this.ffmpegExecutablePath = ffmpegExecutablePath;\r\n        }\r\n\r\n        @Override\r\n        public String getExecutablePath() {\r\n            return ffmpegExecutablePath;\r\n        }\r\n    }\r\n\r\n\r\n\r\n            CustomFFMPEGLocator locator = new CustomFFMPEGLocator(&quot;./src/main/resources/ffmpeg.exe&quot;);\r\n        Encoder encoder = new Encoder(locator);\r\n        MultimediaObject mediaInput = new MultimediaObject(tempWavFile);\r\n        encoder.encode(mediaInput, tempFile, encodingAttrs);\r\n\r\n\r\nBut this did not work either.\r\n\r\nThe only solution that worked for me was to manually copy the FFMPEG executable to the temporary folder of the system. However, this is not a viable solution for a production environment where I don&#39;t have access to the temporary folder.\r\n\r\nDoes anyone know how to set the FFMPEG executable path for the ws.schild.jave library in a way that works in a production environment? Thank you in advance.\r\n\r\n\r\nThis is the stacktrace:\r\n\r\n    ws.schild.jave.EncoderException: java.io.IOException: Cannot run program &quot;C:\\Users\\L7E6D~1.FON\\AppData\\Local\\Temp\\jave\\ffmpeg-amd64-3.0.1.exe&quot;: CreateProcess error=2, Impossibile trovare il file specificato\r\n    at ws.schild.jave.Encoder.encode(Encoder.java:508)\r\n    at ws.schild.jave.Encoder.encode(Encoder.java:351)\r\n    at ws.schild.jave.Encoder.encode(Encoder.java:318)\r\n    at com.intesasanpaolo.bear.ptr.core.service.impl.DownloadEcommsServiceImpl.convertWavToMp3(DownloadEcommsServiceImpl.java:358)\r\n    at com.intesasanpaolo.bear.ptr.core.controller.impl.DownloadControllerImpl.downloadAudio(DownloadControllerImpl.java:52)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\r\n    at\r\n\r\n\r\n\r\nI&#39;m using Java 8 and JAVE 3.0.1","title":"Convert WAW to MP3, how to set FFMPEG executable path for JAVE library?","body":"<p>I am using the ws.schild.jave library in my Java project to encode audio files, and I am having trouble setting the FFMPEG executable path. By default, the library searches for the FFMPEG executable in the temporary folder of the system, but I need to specify a different location for the executable.</p>\n<pre><code>    public byte[] convertWavToMp3(byte[] wavBytes) throws IOException, EncoderException {\n\n    ByteArrayInputStream inputStream = new ByteArrayInputStream(wavBytes);\n\n\n    File tempWavFile = File.createTempFile(&quot;input&quot;, &quot;.wav&quot;);\n    tempWavFile.deleteOnExit();\n\n    // Copia l'array di byte del file WAV nel file temporaneo\n    try (FileOutputStream fos = new FileOutputStream(tempWavFile)) {\n        fos.write(wavBytes);\n    }\n\n\n    File tempFile = File.createTempFile(&quot;output&quot;, &quot;.mp3&quot;);\n\n\n    AudioAttributes audioAttrs = new AudioAttributes();\n    audioAttrs.setCodec(&quot;libmp3lame&quot;);\n    audioAttrs.setBitRate(new Integer(128000));\n    audioAttrs.setChannels(new Integer(2));\n    audioAttrs.setSamplingRate(new Integer(44100));\n\n\n    EncodingAttributes encodingAttrs = new EncodingAttributes();\n    encodingAttrs.setOutputFormat(&quot;mp3&quot;);\n    encodingAttrs.setAudioAttributes(audioAttrs);\n\n\n\n    Encoder encoder = new Encoder(locator);\n    MultimediaObject mediaInput = new MultimediaObject(tempWavFile);\n    encoder.encode(mediaInput, tempFile, encodingAttrs);\n\n    // Leggi l'array di byte del file MP3\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    byte[] buffer = new byte[4096];\n    int bytesRead;\n    try (FileInputStream fis = new FileInputStream(tempFile)) {\n        while ((bytesRead = fis.read(buffer)) != -1) {\n            outputStream.write(buffer, 0, bytesRead);\n        }\n    }\n\n    // Elimina il file temporaneo\n    tempFile.delete();\n\n    // Restituisce l'array di byte del file MP3\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p>I have tried creating a CustomFFMPEGLocator class that extends the DefaultFFMPEGLocator, as suggested in some posts, but it did not work for me. I have also tried to set the path to the FFMPEG executable directly in the Encoder object like this:</p>\n<pre><code>    public class CustomFFMPEGLocator extends DefaultFFMPEGLocator {\n\n    private String ffmpegExecutablePath;\n\n    public CustomFFMPEGLocator(String ffmpegExecutablePath) {\n        this.ffmpegExecutablePath = ffmpegExecutablePath;\n    }\n\n    @Override\n    public String getExecutablePath() {\n        return ffmpegExecutablePath;\n    }\n}\n\n\n\n        CustomFFMPEGLocator locator = new CustomFFMPEGLocator(&quot;./src/main/resources/ffmpeg.exe&quot;);\n    Encoder encoder = new Encoder(locator);\n    MultimediaObject mediaInput = new MultimediaObject(tempWavFile);\n    encoder.encode(mediaInput, tempFile, encodingAttrs);\n</code></pre>\n<p>But this did not work either.</p>\n<p>The only solution that worked for me was to manually copy the FFMPEG executable to the temporary folder of the system. However, this is not a viable solution for a production environment where I don't have access to the temporary folder.</p>\n<p>Does anyone know how to set the FFMPEG executable path for the ws.schild.jave library in a way that works in a production environment? Thank you in advance.</p>\n<p>This is the stacktrace:</p>\n<pre><code>ws.schild.jave.EncoderException: java.io.IOException: Cannot run program &quot;C:\\Users\\L7E6D~1.FON\\AppData\\Local\\Temp\\jave\\ffmpeg-amd64-3.0.1.exe&quot;: CreateProcess error=2, Impossibile trovare il file specificato\nat ws.schild.jave.Encoder.encode(Encoder.java:508)\nat ws.schild.jave.Encoder.encode(Encoder.java:351)\nat ws.schild.jave.Encoder.encode(Encoder.java:318)\nat com.intesasanpaolo.bear.ptr.core.service.impl.DownloadEcommsServiceImpl.convertWavToMp3(DownloadEcommsServiceImpl.java:358)\nat com.intesasanpaolo.bear.ptr.core.controller.impl.DownloadControllerImpl.downloadAudio(DownloadControllerImpl.java:52)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:567)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)\nat\n</code></pre>\n<p>I'm using Java 8 and JAVE 3.0.1</p>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1679523153,"post_id":75816653,"comment_id":133739492,"body_markdown":"For hysterical raisins OpenSSL uses ciphersuite names that differ from the standard ones used by Java and some can be misleading. OpenSSL `AES256-GCM-SHA384` is standard `TLS_RSA_WITH_AES_256_GCM_SHA384` (TLS1.2 only) not `TLS_AES_256_GCM_SHA384` (TLS1.3 only). See [the man page](https://www.openssl.org/docs/man3.0/man1/openssl-ciphers.html#CIPHER-SUITE-NAMES).","body":"For hysterical raisins OpenSSL uses ciphersuite names that differ from the standard ones used by Java and some can be misleading. OpenSSL <code>AES256-GCM-SHA384</code> is standard <code>TLS_RSA_WITH_AES_256_GCM_SHA384</code> (TLS1.2 only) not <code>TLS_AES_256_GCM_SHA384</code> (TLS1.3 only). See <a href=\"https://www.openssl.org/docs/man3.0/man1/openssl-ciphers.html#CIPHER-SUITE-NAMES\" rel=\"nofollow noreferrer\">the man page</a>."}],"answers":[{"tags":[],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679591850,"creation_date":1679515553,"answer_id":75816825,"question_id":75816653,"body_markdown":"The cipher suite you&#39;ve listed is supported in Java 11.\r\nThe table at [Java 11 Cipher Suites Supported][1] documents the cipher suites supported and `TLS_AES_256_GCM_SHA384` is included in that list.\r\n\r\nAt the end of the log message the string **for TLSv1.2** appears.\r\nThis appears because the cipher suite while supported is only supported for **TLSv1.3**, and so it&#39;s likely that the SSLManager context that was created or the connection that has been established was negotiated at version *TLSv1.2* (by the server) so that cipher is not supported (in this situation).\r\n\r\nTo force it to be used, you might try only allowing *TLSv1.3* to see if that fixes the problem and allows that cipher suite to be used.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names","title":"Why is Java 11 ignoring cipher suite TLS_AES_256_GCM_SHA384?","body":"<p>The cipher suite you've listed is supported in Java 11.\nThe table at <a href=\"https://docs.oracle.com/en/java/javase/11/docs/specs/security/standard-names.html#jsse-cipher-suite-names\" rel=\"nofollow noreferrer\">Java 11 Cipher Suites Supported</a> documents the cipher suites supported and <code>TLS_AES_256_GCM_SHA384</code> is included in that list.</p>\n<p>At the end of the log message the string <strong>for TLSv1.2</strong> appears.\nThis appears because the cipher suite while supported is only supported for <strong>TLSv1.3</strong>, and so it's likely that the SSLManager context that was created or the connection that has been established was negotiated at version <em>TLSv1.2</em> (by the server) so that cipher is not supported (in this situation).</p>\n<p>To force it to be used, you might try only allowing <em>TLSv1.3</em> to see if that fixes the problem and allows that cipher suite to be used.</p>\n"}],"owner":{"account_id":3978849,"reputation":9293,"user_id":3281336,"accept_rate":60,"display_name":"PatS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679591850,"creation_date":1679514276,"question_id":75816653,"body_markdown":"I&#39;m troubleshooting a problem and trying to force a java app to use the Cipher Suite = TLS_AES_256_GCM_SHA384.\r\n\r\nBut this is being ignored based on SSL debug handhake logging.  I&#39;ll see a message like:\r\n```\r\njavax.net.ssl|DEBUG|27|http-bio-8443-exec-1|2023-03-22 15:24:23.221 GMT|\r\nHandshakeContext.java:296|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLSv1.2\r\n```\r\nI&#39;ve placed this single log line on two lines for readability.\r\n\r\nMy questions are: **What causes Java 11 to ignore this cipher suite? and Is there a way to make it get used?**\r\n\r\n## Searching for solution\r\nI found that `openssl` can list ciphers:\r\n```\r\nopenssl ciphers -V | grep AES | grep GCM | grep 384\r\n. . . not all shown . . .\r\n  0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n  0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\r\n  0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\r\n  0x00,0x9D - AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\n```\r\nI think the last one is the one I&#39;m looking for, so perhaps the syntax I&#39;m using is not correct.\r\n\r\nOther SSL questions include:\r\n- https://stackoverflow.com/questions/30446431/wrong-cipher-suite-or-no-connection-with-openssl-server","title":"Why is Java 11 ignoring cipher suite TLS_AES_256_GCM_SHA384?","body":"<p>I'm troubleshooting a problem and trying to force a java app to use the Cipher Suite = TLS_AES_256_GCM_SHA384.</p>\n<p>But this is being ignored based on SSL debug handhake logging.  I'll see a message like:</p>\n<pre><code>javax.net.ssl|DEBUG|27|http-bio-8443-exec-1|2023-03-22 15:24:23.221 GMT|\nHandshakeContext.java:296|Ignore unsupported cipher suite: TLS_AES_256_GCM_SHA384 for TLSv1.2\n</code></pre>\n<p>I've placed this single log line on two lines for readability.</p>\n<p>My questions are: <strong>What causes Java 11 to ignore this cipher suite? and Is there a way to make it get used?</strong></p>\n<h2>Searching for solution</h2>\n<p>I found that <code>openssl</code> can list ciphers:</p>\n<pre><code>openssl ciphers -V | grep AES | grep GCM | grep 384\n. . . not all shown . . .\n  0xC0,0x30 - ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\n  0xC0,0x2C - ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\n  0x00,0xA5 - DH-DSS-AES256-GCM-SHA384 TLSv1.2 Kx=DH/DSS   Au=DH   Enc=AESGCM(256) Mac=AEAD\n  0x00,0x9D - AES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\n</code></pre>\n<p>I think the last one is the one I'm looking for, so perhaps the syntax I'm using is not correct.</p>\n<p>Other SSL questions include:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/30446431/wrong-cipher-suite-or-no-connection-with-openssl-server\">Wrong cipher suite or no connection with OpenSSL server</a></li>\n</ul>\n"},{"tags":["java","c#",".net","regex"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679517128,"post_id":75816731,"comment_id":133738283,"body_markdown":"Is the input XML?  `&lt;sps&gt;6&amp;&lt;/sps&gt;` is not legal XML, so I’m not entirely clear on the format.","body":"Is the input XML?  <code>&lt;sps&gt;6&amp;&lt;&#47;sps&gt;</code> is not legal XML, so I’m not entirely clear on the format."},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1679521507,"post_id":75816731,"comment_id":133739163,"body_markdown":"Consider using a proper XML parser, see also https://stackoverflow.com/a/1732454/14868997 You could for example use XPath `sym/text()` and `sps/text()`","body":"Consider using a proper XML parser, see also <a href=\"https://stackoverflow.com/a/1732454/14868997\">stackoverflow.com/a/1732454/14868997</a> You could for example use XPath <code>sym&#47;text()</code> and <code>sps&#47;text()</code>"},{"owner":{"account_id":262183,"reputation":13618,"user_id":546871,"accept_rate":40,"display_name":"AdrianHHH"},"score":0,"creation_date":1679522485,"post_id":75816731,"comment_id":133739350,"body_markdown":"Java and C# are different languages. Please choose one and delete the other tag.","body":"Java and C# are different languages. Please choose one and delete the other tag."},{"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"score":0,"creation_date":1679585484,"post_id":75816731,"comment_id":133751301,"body_markdown":"@VGR, The input is not XML. I created those tags and the tags can contain anything including alphanumeric/special characters.","body":"@VGR, The input is not XML. I created those tags and the tags can contain anything including alphanumeric/special characters."},{"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"score":0,"creation_date":1679585835,"post_id":75816731,"comment_id":133751393,"body_markdown":"@Charlieface, parsing the XML is not my target. I want all the tags including the start and end tags with contained data. E.g., From test case 2, I expect the following result (separated by comma)\n\n&lt;sym&gt;nu&lt;/sym&gt;,\n&lt;sps&gt;6&amp;&lt;/sps&gt;,\n&lt;sbs&gt;10&lt;/sbs&gt;,\n&lt;sym&gt;b&lt;/sym&gt;\n\nAlong with that the strings which are outside of any tags. Again from test case 2: (separated by comma)\n\nHello World,\nWith Special Characters$#\n\nPlease let me know if I missed anything to explain.","body":"@Charlieface, parsing the XML is not my target. I want all the tags including the start and end tags with contained data. E.g., From test case 2, I expect the following result (separated by comma)  &lt;sym&gt;nu&lt;/sym&gt;, &lt;sps&gt;6&amp;&lt;/sps&gt;, &lt;sbs&gt;10&lt;/sbs&gt;, &lt;sym&gt;b&lt;/sym&gt;  Along with that the strings which are outside of any tags. Again from test case 2: (separated by comma)  Hello World, With Special Characters$#  Please let me know if I missed anything to explain."},{"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"score":0,"creation_date":1679586755,"post_id":75816731,"comment_id":133751663,"body_markdown":"@AdrianHHH, I assumed the same regex is compatible with both Java and C#. I need this to use in C#. Although After searching I learned that, Java has all of the C# regex syntaxes but vice versa is not always compatible. But I think in this case the regex might be the same for both languages. Please correct me if I am wrong in this case.","body":"@AdrianHHH, I assumed the same regex is compatible with both Java and C#. I need this to use in C#. Although After searching I learned that, Java has all of the C# regex syntaxes but vice versa is not always compatible. But I think in this case the regex might be the same for both languages. Please correct me if I am wrong in this case."},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1679587803,"post_id":75816731,"comment_id":133751951,"body_markdown":"You just need to add a `&lt;Root&gt;` tag around the whole string. Eg https://dotnetfiddle.net/wAtz0Q","body":"You just need to add a <code>&lt;Root&gt;</code> tag around the whole string. Eg <a href=\"https://dotnetfiddle.net/wAtz0Q\" rel=\"nofollow noreferrer\">dotnetfiddle.net/wAtz0Q</a>"},{"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"score":0,"creation_date":1679590195,"post_id":75816731,"comment_id":133752642,"body_markdown":"@Charlieface, it&#39;s a nice idea to go with XML parser. I reviewed the solution you shared. It&#39;s also taking the texts which are inside the tag. Just removing the text which are inside the tags will solve the problem. I am not sure how to remove the texts from the tags.","body":"@Charlieface, it&#39;s a nice idea to go with XML parser. I reviewed the solution you shared. It&#39;s also taking the texts which are inside the tag. Just removing the text which are inside the tags will solve the problem. I am not sure how to remove the texts from the tags."},{"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1679590440,"post_id":75816731,"comment_id":133752696,"body_markdown":"https://dotnetfiddle.net/32F65r There are also ways to read XML without having an XML root, you need to use `XmlSerializer` for that I think","body":"<a href=\"https://dotnetfiddle.net/32F65r\" rel=\"nofollow noreferrer\">dotnetfiddle.net/32F65r</a> There are also ways to read XML without having an XML root, you need to use <code>XmlSerializer</code> for that I think"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1679592180,"post_id":75816731,"comment_id":133753171,"body_markdown":"If this is not XML, does your markup notation account for the possibility that the text content might actually contain the six characters `&lt;/sbs&gt;`?","body":"If this is not XML, does your markup notation account for the possibility that the text content might actually contain the six characters <code>&lt;&#47;sbs&gt;</code>?"},{"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"score":0,"creation_date":1679604358,"post_id":75816731,"comment_id":133756041,"body_markdown":"@VGR, there can be any number of characters but I will use one or two which can be alphanumeric/special characters.","body":"@VGR, there can be any number of characters but I will use one or two which can be alphanumeric/special characters."}],"answers":[{"tags":[],"owner":{"account_id":7113913,"reputation":2404,"user_id":5440883,"display_name":"Chris Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679518847,"creation_date":1679517858,"answer_id":75817109,"question_id":75816731,"body_markdown":"Alternation seems to do what you want.  You need a final lookahead to stop the zero occurrence case from overconsuming.\r\n\r\n    &quot;&lt;sym&gt;.+?&lt;\\/sym&gt;|&lt;sps&gt;.+?&lt;\\/sps&gt;|&lt;sbs&gt;.+?&lt;\\/sbs&gt;|.+?(?=&lt;s(?:ym|ps|bs)&gt;|$)&quot;gm\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also shorten it with a backreference:\r\n\r\n    &quot;&lt;(sym|sps|sbs)&gt;.+?&lt;\\/\\1&gt;|.+?(?=&lt;s(?:ym|ps|bs)&gt;|$)&quot;gm\r\n\r\nIn this case the alternation is shortened to just the tag value, and the closing tag can reuse it with the backreference `\\1`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WMlHE.jpg","title":"Regex to find zero or more occurance of substrings of different patterns","body":"<p>Alternation seems to do what you want.  You need a final lookahead to stop the zero occurrence case from overconsuming.</p>\n<pre><code>&quot;&lt;sym&gt;.+?&lt;\\/sym&gt;|&lt;sps&gt;.+?&lt;\\/sps&gt;|&lt;sbs&gt;.+?&lt;\\/sbs&gt;|.+?(?=&lt;s(?:ym|ps|bs)&gt;|$)&quot;gm\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WMlHE.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WMlHE.jpg\" alt=\"enter image description here\" /></a></p>\n<p>You can also shorten it with a backreference:</p>\n<pre><code>&quot;&lt;(sym|sps|sbs)&gt;.+?&lt;\\/\\1&gt;|.+?(?=&lt;s(?:ym|ps|bs)&gt;|$)&quot;gm\n</code></pre>\n<p>In this case the alternation is shortened to just the tag value, and the closing tag can reuse it with the backreference <code>\\1</code>.</p>\n"},{"tags":[],"owner":{"account_id":20264817,"reputation":56067,"user_id":14868997,"display_name":"Charlieface"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679591795,"creation_date":1679591795,"answer_id":75826121,"question_id":75816731,"body_markdown":"You should use a proper XML parser for this. In C# you can use XElement. Thhis allows you to use Linq-to-XML to query it.\r\n\r\nSince your XML doesn&#39;t have a root, we need to add one.\r\n```cs\r\nvar myxml = @&quot;abcd&lt;sps&gt;2&lt;/sps&gt;&lt;sbs&gt;yy&lt;/sbs&gt;efgh&lt;sym&gt;b&lt;/sym&gt;&quot;;\r\n\r\nvar doc = XElement.Parse(&quot;&lt;Root&gt;&quot; + myxml + &quot;&lt;/Root&gt;&quot;);\r\nvar nodes = doc.Descendants()\r\n\t\t\t.Where(e =&gt; e.Name == &quot;sps&quot; || e.Name == &quot;sbs&quot;)\r\n\t\t\t.Cast&lt;XNode&gt;()\r\n\t\t\t.Concat(doc.Nodes().OfType&lt;XText&gt;());\r\nConsole.WriteLine(string.Join(&quot;\\r\\n&quot;, nodes));\r\n```\r\n[**dotnetfiddle**][1]\r\n\r\n\r\n  [1]: https://dotnetfiddle.net/JE5qmC","title":"Regex to find zero or more occurance of substrings of different patterns","body":"<p>You should use a proper XML parser for this. In C# you can use XElement. Thhis allows you to use Linq-to-XML to query it.</p>\n<p>Since your XML doesn't have a root, we need to add one.</p>\n<pre class=\"lang-cs prettyprint-override\"><code>var myxml = @&quot;abcd&lt;sps&gt;2&lt;/sps&gt;&lt;sbs&gt;yy&lt;/sbs&gt;efgh&lt;sym&gt;b&lt;/sym&gt;&quot;;\n\nvar doc = XElement.Parse(&quot;&lt;Root&gt;&quot; + myxml + &quot;&lt;/Root&gt;&quot;);\nvar nodes = doc.Descendants()\n            .Where(e =&gt; e.Name == &quot;sps&quot; || e.Name == &quot;sbs&quot;)\n            .Cast&lt;XNode&gt;()\n            .Concat(doc.Nodes().OfType&lt;XText&gt;());\nConsole.WriteLine(string.Join(&quot;\\r\\n&quot;, nodes));\n</code></pre>\n<p><a href=\"https://dotnetfiddle.net/JE5qmC\" rel=\"nofollow noreferrer\"><strong>dotnetfiddle</strong></a></p>\n"}],"owner":{"account_id":18768584,"reputation":23,"user_id":13685884,"display_name":"Dhruba"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75826121,"answer_count":2,"score":2,"last_activity_date":1679591795,"creation_date":1679514852,"question_id":75816731,"body_markdown":"I want a regex that will return zero or more occurrences of matched substrings of different patterns.\r\n\r\n\r\n**Different patterns to match**\r\n\r\n1. `&lt;sym&gt;Any value&lt;/sym&gt;`\r\n\r\n2. `&lt;sps&gt;Any value&lt;/sps&gt;`\r\n\r\n3. `&lt;sbs&gt;Any value&lt;/sbs&gt;`\r\n\r\n4. Any string including spaces and special characters which are outside of the above 3 tags\r\n\r\nWhere &quot;Any value&quot; is any string including spaces and special characters.\r\n\r\n\r\n**Test Cases**\r\n\r\n1. `abcd&lt;sps&gt;2&lt;/sps&gt;&lt;sbs&gt;yy&lt;/sbs&gt;efgh&lt;sym&gt;b&lt;/sym&gt;`\r\n\r\n2. `&lt;sym&gt;nu&lt;/sym&gt;Hello World&lt;sps&gt;6&amp;&lt;/sps&gt;&lt;sbs&gt;10&lt;/sbs&gt;With Special Characters$#&lt;sym&gt;b&lt;/sym&gt;`\r\n\r\n3. `&lt;sps&gt;2&lt;/sps&gt;Test&lt;sbs&gt;yy&lt;/sbs&gt;&lt;sym&gt;b&lt;/sym&gt;End String`\r\n\r\n\r\n**Results**\r\n\r\n1. \r\n&gt;     abcd\r\n&gt;     &lt;sps&gt;2&lt;/sps&gt;\r\n&gt;     &lt;sbs&gt;yy&lt;/sbs&gt;  \r\n&gt;     efgh\r\n&gt;     &lt;sym&gt;b&lt;/sym&gt;\r\n\r\n2. \r\n&gt;     &lt;sym&gt;nu&lt;/sym&gt;  \r\n&gt;     Hello World \r\n&gt;     &lt;sps&gt;6&amp;&lt;/sps&gt;  \r\n&gt;     &lt;sbs&gt;10&lt;/sbs&gt;\r\n&gt;     With Special Characters$#\r\n&gt;     &lt;sym&gt;b&lt;/sym&gt;\r\n\r\n3. \r\n&gt;     &lt;sps&gt;2&lt;/sps&gt;\r\n&gt;     Test\r\n&gt;     &lt;sbs&gt;yy&lt;/sbs&gt;\r\n&gt;     &lt;sym&gt;b&lt;/sym&gt;\r\n&gt;     End String\r\n\r\n\r\n\r\nI tried the following regex:\r\n\r\n`(?([a-zA-Z0-9]+))&lt;sym&gt;[^.]*&lt;/sym&gt;|&lt;sps&gt;[^.]*&lt;/sps&gt;|&lt;sbs&gt;[^.]*&lt;/sbs&gt;(?([a-zA-Z0-9]+))`\r\n\r\n**Result against &quot;Test Case 1&quot;:** Getting the following strings where I am not getting the strings outside the tags.\r\n\r\n`&lt;sps&gt;2&lt;/sps&gt;\r\n&lt;sbs&gt;yy&lt;/sbs&gt;\r\n&lt;sym&gt;b&lt;/sym&gt;`\r\n\r\n\r\n**Result against &quot;Test Case 2&quot;:** Getting the full input text.\r\n\r\n`&lt;sym&gt;nu&lt;/sym&gt;Hello World&lt;sps&gt;6&amp;&lt;/sps&gt;&lt;sbs&gt;10&lt;/sbs&gt;With Special Characters$#&lt;sym&gt;b&lt;/sym&gt;`\r\n\r\n\r\n\r\nCould you please help me in this context. Thank you in advanced!","title":"Regex to find zero or more occurance of substrings of different patterns","body":"<p>I want a regex that will return zero or more occurrences of matched substrings of different patterns.</p>\n<p><strong>Different patterns to match</strong></p>\n<ol>\n<li><p><code>&lt;sym&gt;Any value&lt;/sym&gt;</code></p>\n</li>\n<li><p><code>&lt;sps&gt;Any value&lt;/sps&gt;</code></p>\n</li>\n<li><p><code>&lt;sbs&gt;Any value&lt;/sbs&gt;</code></p>\n</li>\n<li><p>Any string including spaces and special characters which are outside of the above 3 tags</p>\n</li>\n</ol>\n<p>Where &quot;Any value&quot; is any string including spaces and special characters.</p>\n<p><strong>Test Cases</strong></p>\n<ol>\n<li><p><code>abcd&lt;sps&gt;2&lt;/sps&gt;&lt;sbs&gt;yy&lt;/sbs&gt;efgh&lt;sym&gt;b&lt;/sym&gt;</code></p>\n</li>\n<li><p><code>&lt;sym&gt;nu&lt;/sym&gt;Hello World&lt;sps&gt;6&amp;&lt;/sps&gt;&lt;sbs&gt;10&lt;/sbs&gt;With Special Characters$#&lt;sym&gt;b&lt;/sym&gt;</code></p>\n</li>\n<li><p><code>&lt;sps&gt;2&lt;/sps&gt;Test&lt;sbs&gt;yy&lt;/sbs&gt;&lt;sym&gt;b&lt;/sym&gt;End String</code></p>\n</li>\n</ol>\n<p><strong>Results</strong></p>\n<p>1.</p>\n<blockquote>\n<pre><code>abcd\n&lt;sps&gt;2&lt;/sps&gt;\n&lt;sbs&gt;yy&lt;/sbs&gt;  \nefgh\n&lt;sym&gt;b&lt;/sym&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li></li>\n</ol>\n<blockquote>\n<pre><code>&lt;sym&gt;nu&lt;/sym&gt;  \nHello World \n&lt;sps&gt;6&amp;&lt;/sps&gt;  \n&lt;sbs&gt;10&lt;/sbs&gt;\nWith Special Characters$#\n&lt;sym&gt;b&lt;/sym&gt;\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li></li>\n</ol>\n<blockquote>\n<pre><code>&lt;sps&gt;2&lt;/sps&gt;\nTest\n&lt;sbs&gt;yy&lt;/sbs&gt;\n&lt;sym&gt;b&lt;/sym&gt;\nEnd String\n</code></pre>\n</blockquote>\n<p>I tried the following regex:</p>\n<p><code>(?([a-zA-Z0-9]+))&lt;sym&gt;[^.]*&lt;/sym&gt;|&lt;sps&gt;[^.]*&lt;/sps&gt;|&lt;sbs&gt;[^.]*&lt;/sbs&gt;(?([a-zA-Z0-9]+))</code></p>\n<p><strong>Result against &quot;Test Case 1&quot;:</strong> Getting the following strings where I am not getting the strings outside the tags.</p>\n<p><code>&lt;sps&gt;2&lt;/sps&gt; &lt;sbs&gt;yy&lt;/sbs&gt; &lt;sym&gt;b&lt;/sym&gt;</code></p>\n<p><strong>Result against &quot;Test Case 2&quot;:</strong> Getting the full input text.</p>\n<p><code>&lt;sym&gt;nu&lt;/sym&gt;Hello World&lt;sps&gt;6&amp;&lt;/sps&gt;&lt;sbs&gt;10&lt;/sbs&gt;With Special Characters$#&lt;sym&gt;b&lt;/sym&gt;</code></p>\n<p>Could you please help me in this context. Thank you in advanced!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"score":1,"creation_date":1578243897,"post_id":59601077,"comment_id":105368386,"body_markdown":"What is the language level of the project and the modules?","body":"What is the language level of the project and the modules?"},{"owner":{"account_id":889764,"reputation":4441,"user_id":928276,"accept_rate":75,"display_name":"soorapadman"},"score":1,"creation_date":1578300019,"post_id":59601077,"comment_id":105381254,"body_markdown":"Similar https://www.blogger.com/blogger.g?blogID=1500918374284731344#editor/target=post;postID=6418978702757725686;onPublishedMenu=allposts;onClosedMenu=allposts;postNum=7;src=postname","body":"Similar <a href=\"https://www.blogger.com/blogger.g?blogID=1500918374284731344#editor/target=post;postID=6418978702757725686;onPublishedMenu=allposts;onClosedMenu=allposts;postNum=7;src=postname\" rel=\"nofollow noreferrer\">blogger.com/blogger.g?blogID=1500918374284731344#editor/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":472,"is_accepted":true,"score":472,"last_activity_date":1586086188,"creation_date":1578293324,"answer_id":59607812,"question_id":59601077,"body_markdown":"See&#160;&lt;https://stackoverflow.com/a/12900859/104891&gt;. \r\n\r\nFirst of all, set the `language level`/`release versions` in `pom.xml` like that: \r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\nMaven sets the default to 1.5 otherwise. You will also need to include the `maven-compiler-plugin` if you haven&#39;t already:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAlso, try to change the Java version in each of these places:\r\n\r\nFile -&gt; Project structure -&gt; Project -&gt; Project SDK -&gt; 11.\r\n\r\nFile -&gt; Project structure -&gt; Project -&gt; Project language level -&gt; 11.\r\n\r\nFile -&gt; Project structure -&gt; Project -&gt; Modules -&gt; -&gt; Sources --&gt; 11\r\n\r\nIn project -&gt; &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;s&lt;/kbd&gt; -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Project bytecode version -&gt; 11\r\n\r\nIn project -&gt; &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;alt&lt;/kbd&gt; + &lt;kbd&gt;s&lt;/kbd&gt; -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler -&gt; Module -&gt; 1.11.","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>See <a href=\"https://stackoverflow.com/a/12900859/104891\">https://stackoverflow.com/a/12900859/104891</a>. </p>\n\n<p>First of all, set the <code>language level</code>/<code>release versions</code> in <code>pom.xml</code> like that: </p>\n\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Maven sets the default to 1.5 otherwise. You will also need to include the <code>maven-compiler-plugin</code> if you haven't already:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Also, try to change the Java version in each of these places:</p>\n\n<p>File -> Project structure -> Project -> Project SDK -> 11.</p>\n\n<p>File -> Project structure -> Project -> Project language level -> 11.</p>\n\n<p>File -> Project structure -> Project -> Modules -> -> Sources --> 11</p>\n\n<p>In project -> <kbd>ctrl</kbd> + <kbd>alt</kbd> + <kbd>s</kbd> -> Build, Execution, Deployment -> Compiler -> Java Compiler -> Project bytecode version -> 11</p>\n\n<p>In project -> <kbd>ctrl</kbd> + <kbd>alt</kbd> + <kbd>s</kbd> -> Build, Execution, Deployment -> Compiler -> Java Compiler -> Module -> 1.11.</p>\n"},{"tags":[],"owner":{"account_id":15142548,"reputation":89,"user_id":10927162,"display_name":"V Jansen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602721120,"creation_date":1578300148,"answer_id":59609001,"question_id":59601077,"body_markdown":"If you are using spring boot as a parent, you should set the java.version property, because this will automatically set the correct versions.\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n   &lt;java.version&gt;11&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\nThe property defined in your own project overrides whatever is set in the parent pom. This overrides all needed properties to compile to the correct version.\r\n\r\nSome information can be found here: https://www.baeldung.com/maven-java-version","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>If you are using spring boot as a parent, you should set the java.version property, because this will automatically set the correct versions.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n   &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>The property defined in your own project overrides whatever is set in the parent pom. This overrides all needed properties to compile to the correct version.</p>\n<p>Some information can be found here: <a href=\"https://www.baeldung.com/maven-java-version\" rel=\"nofollow noreferrer\">https://www.baeldung.com/maven-java-version</a></p>\n"},{"tags":[],"owner":{"account_id":3624783,"reputation":951,"user_id":3022719,"display_name":"borisveis"},"down_vote_count":0,"up_vote_count":95,"is_accepted":false,"score":95,"last_activity_date":1602721029,"creation_date":1582053428,"answer_id":60287981,"question_id":59601077,"body_markdown":"Took me a while to aggregate an actual solution, but here&#39;s how to get rid of this compile error.\r\n\r\n 1. Open IntelliJ preferences.\r\n\r\n 2. Search for &quot;compiler&quot; (or something like &quot;compi&quot;).\r\n\r\n 3. Scroll down to Maven --&gt;java compiler. In the right panel will be a list of \r\nmodules and their associated java compile version &quot;target bytecode version.&quot;\r\n\r\n 4. Select a version &gt;1.5. You may need to upgrade your jdk if one is not available.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qHIMU.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>Took me a while to aggregate an actual solution, but here's how to get rid of this compile error.</p>\n<ol>\n<li><p>Open IntelliJ preferences.</p>\n</li>\n<li><p>Search for &quot;compiler&quot; (or something like &quot;compi&quot;).</p>\n</li>\n<li><p>Scroll down to Maven --&gt;java compiler. In the right panel will be a list of\nmodules and their associated java compile version &quot;target bytecode version.&quot;</p>\n</li>\n<li><p>Select a version &gt;1.5. You may need to upgrade your jdk if one is not available.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/qHIMU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qHIMU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15098464,"reputation":117,"user_id":10896222,"display_name":"J&#233;ssica Machado"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1602721506,"creation_date":1582126042,"answer_id":60303747,"question_id":59601077,"body_markdown":"I add the following code to my ```pom.xml``` file. It solved my problem.\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>I add the following code to my <code>pom.xml</code> file. It solved my problem.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11538613,"reputation":782,"user_id":8455135,"display_name":"Mehedi Abdullah"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602721254,"creation_date":1584510986,"answer_id":60734180,"question_id":59601077,"body_markdown":"You only have to add these two lines in your **pom.xml**. After that, your problem will be gone.\r\n\r\n```xml\r\n&lt;!--pom.xml--&gt;\r\n&lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n\r\n```","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>You only have to add these two lines in your <strong>pom.xml</strong>. After that, your problem will be gone.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!--pom.xml--&gt;\n&lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17419179,"reputation":31,"user_id":12625053,"display_name":"Ali Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602638061,"creation_date":1585881849,"answer_id":61004322,"question_id":59601077,"body_markdown":"Within IntelliJ, open pom.xml file.\r\n\r\nAdd this section before `&lt;dependencies&gt;` (if your file already has a `&lt;properties&gt;` section, just add the `&lt;maven.compiler...&gt;` lines below to that existing section):\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;properties&gt; \r\n       &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \r\n       &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; \r\n    &lt;/properties&gt;\r\n\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>Within IntelliJ, open pom.xml file.</p>\n<p>Add this section before <code>&lt;dependencies&gt;</code> (if your file already has a <code>&lt;properties&gt;</code> section, just add the <code>&lt;maven.compiler...&gt;</code> lines below to that existing section):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt; \n   &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \n   &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; \n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17727907,"reputation":71,"user_id":12871197,"display_name":"Sikhumbuzo Sithole"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602721081,"creation_date":1587552704,"answer_id":61363308,"question_id":59601077,"body_markdown":"If your are using IntelliJ,\r\ngo to setting =&gt; compiler\r\nand change the version to your current java version.","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>If your are using IntelliJ,\ngo to setting =&gt; compiler\nand change the version to your current java version.</p>\n"},{"tags":[],"owner":{"account_id":11065212,"reputation":825,"user_id":8125224,"display_name":"Muhammed G&#252;l"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602721460,"creation_date":1588398276,"answer_id":61555021,"question_id":59601077,"body_markdown":"The only working solution in my case was adding the following block to `pom.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt; &lt;configuration&gt; &lt;release&gt;12&lt;/release&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>The only working solution in my case was adding the following block to <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt; &lt;configuration&gt; &lt;release&gt;12&lt;/release&gt;\n        &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8941260,"reputation":417,"user_id":6670193,"display_name":"Arjun Marati"},"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1602720961,"creation_date":1590739157,"answer_id":62081285,"question_id":59601077,"body_markdown":"By default, your &quot;Project bytecode version isn&#39;t set in maven project.\r\n\r\nIt thinks that your current version is 5.\r\n\r\nSolution 1:\r\n\r\nJust go to &quot;Project Settings&gt;Build, Execution...&gt;compiler&gt;java compiler&quot; and then change your bytecode version to your current java version.\r\n\r\nSolution 2:\r\n\r\nAdding below build plugin in POM file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n     &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>By default, your &quot;Project bytecode version isn't set in maven project.</p>\n<p>It thinks that your current version is 5.</p>\n<p>Solution 1:</p>\n<p>Just go to &quot;Project Settings&gt;Build, Execution...&gt;compiler&gt;java compiler&quot; and then change your bytecode version to your current java version.</p>\n<p>Solution 2:</p>\n<p>Adding below build plugin in POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4441536,"reputation":129,"user_id":3615984,"display_name":"ayhan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602721149,"creation_date":1590967913,"answer_id":62123695,"question_id":59601077,"body_markdown":"The solution to the problem is already defined in some of the answers. But there is still a need to express a detail. The problem is totally related to maven, and the solution is also in the pom.xml configuration. IntelliJ only reads maven configuration, and if the configuration has wrong information, IntelliJ also tries to use that.\r\n\r\nTo solve the problem, as expressed in the most of the answers, just add the below properties to the pom.xml of the project.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;properties&gt; \r\n          &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \r\n          &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; \r\n    &lt;/properties&gt;\r\n\r\nAfter that, on the IntelliJ side, reimport maven configuration. To reimport the maven configuration, right click on pom.xml file of the project and select  Reimport. Compiler version related information in IntelliJ preferences will be automatically updated according to the values in the pom.xml.","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>The solution to the problem is already defined in some of the answers. But there is still a need to express a detail. The problem is totally related to maven, and the solution is also in the pom.xml configuration. IntelliJ only reads maven configuration, and if the configuration has wrong information, IntelliJ also tries to use that.</p>\n<p>To solve the problem, as expressed in the most of the answers, just add the below properties to the pom.xml of the project.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt; \n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt; \n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt; \n&lt;/properties&gt;\n</code></pre>\n<p>After that, on the IntelliJ side, reimport maven configuration. To reimport the maven configuration, right click on pom.xml file of the project and select  Reimport. Compiler version related information in IntelliJ preferences will be automatically updated according to the values in the pom.xml.</p>\n"},{"tags":[],"owner":{"account_id":6871229,"reputation":61,"user_id":5281488,"display_name":"Giorgos Argyriou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594825744,"creation_date":1594825404,"answer_id":62917918,"question_id":59601077,"body_markdown":"I&#39;ve done most things you are proposing with Java compiler and bytecode and solved the problem in the past.\r\nIt&#39;s been almost 1 month since I ran my Java code (and back then everything was fixed), but now the problem appeared again.\r\nDon&#39;t know why, pretty annoyed though!\r\n\r\nThis time the solution was:\r\nRight click to project name -&gt; Open module settings F4 -&gt; Language level\r\n...and there you can define the language level your project/pc is.\r\n\r\nNo maven/pom configuration worked for me both in the past and now and I&#39;ve already set the Java compiler and bytecode at 12.","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>I've done most things you are proposing with Java compiler and bytecode and solved the problem in the past.\nIt's been almost 1 month since I ran my Java code (and back then everything was fixed), but now the problem appeared again.\nDon't know why, pretty annoyed though!</p>\n<p>This time the solution was:\nRight click to project name -&gt; Open module settings F4 -&gt; Language level\n...and there you can define the language level your project/pc is.</p>\n<p>No maven/pom configuration worked for me both in the past and now and I've already set the Java compiler and bytecode at 12.</p>\n"},{"tags":[],"owner":{"account_id":9604428,"reputation":769,"user_id":7130869,"display_name":"tataelm"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1596537438,"creation_date":1596537438,"answer_id":63245109,"question_id":59601077,"body_markdown":"I did everything above but had to do one more thing in IntelliJ:\r\n\r\nProject Structure &gt; Modules\r\n\r\nI had to change every module&#39;s &quot;language level&quot;\r\n\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>I did everything above but had to do one more thing in IntelliJ:</p>\n<p>Project Structure &gt; Modules</p>\n<p>I had to change every module's &quot;language level&quot;</p>\n"},{"tags":[],"owner":{"account_id":16652541,"reputation":21,"user_id":12034969,"display_name":"Manish Jangid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602721410,"creation_date":1597555604,"answer_id":63433457,"question_id":59601077,"body_markdown":"In IntelliJ, the default maven compiler version is less than version 5, which is not supported, so we have to manually change the version of the maven compiler.\r\n\r\nWe have two ways to define version.\r\n\r\nFirst way:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;/properties&gt;\r\n\r\nSecond way:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;8&lt;/source&gt;\r\n                &lt;target&gt;8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>In IntelliJ, the default maven compiler version is less than version 5, which is not supported, so we have to manually change the version of the maven compiler.</p>\n<p>We have two ways to define version.</p>\n<p>First way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Second way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;8&lt;/source&gt;\n            &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19215510,"reputation":21,"user_id":14040338,"display_name":"The_real_codder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597992443,"creation_date":1597992443,"answer_id":63517820,"question_id":59601077,"body_markdown":"guys, I have also encountered this problem after having so much research on this issue I found 3 solutions to resolve this issue \r\n\r\n 1. Add these properties in your pom.xml; //Sorry for the formatting\r\n\r\n`&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&lt;java.version&gt;11&lt;/java.version&gt;&lt;/properties&gt;`\r\n\r\n 2. Delete everything in the target byte version, you can find this in the java compiler setting of the IntelliJ\r\n \r\n[Remove everything below target byte version make it empty][1]\r\n\r\n\r\n 3. Find the appium version you are using in the dependency. here I am using 7.3.0\r\n[find the version of the appium you are using in the dependency in pom.xml][2]\r\n\r\nThen write your version in the target byte version in java compiler\r\n[enter image description here][3]\r\n\r\nENJOY THE CODE&gt;&gt;&gt;HOPE IT WORKED FOR YOU\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hTRUt.png\r\n  [2]: https://i.stack.imgur.com/Tx0ml.png\r\n  [3]: https://i.stack.imgur.com/3G7Ty.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>guys, I have also encountered this problem after having so much research on this issue I found 3 solutions to resolve this issue</p>\n<ol>\n<li>Add these properties in your pom.xml; //Sorry for the formatting</li>\n</ol>\n<p><code>&lt;properties&gt;&lt;java.version&gt;1.8&lt;/java.version&lt;maven.compiler.version&gt;3.8.1&lt;/maven.compiler.version&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;&lt;java.version&gt;11&lt;/java.version&gt;&lt;/properties&gt;</code></p>\n<ol start=\"2\">\n<li>Delete everything in the target byte version, you can find this in the java compiler setting of the IntelliJ</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/hTRUt.png\" rel=\"nofollow noreferrer\">Remove everything below target byte version make it empty</a></p>\n<ol start=\"3\">\n<li>Find the appium version you are using in the dependency. here I am using 7.3.0\n<a href=\"https://i.stack.imgur.com/Tx0ml.png\" rel=\"nofollow noreferrer\">find the version of the appium you are using in the dependency in pom.xml</a></li>\n</ol>\n<p>Then write your version in the target byte version in java compiler\n<a href=\"https://i.stack.imgur.com/3G7Ty.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>ENJOY THE CODE&gt;&gt;&gt;HOPE IT WORKED FOR YOU</p>\n"},{"tags":[],"owner":{"account_id":1609777,"reputation":1063,"user_id":1489121,"display_name":"Krzysztof Tomaszewski"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1606803357,"creation_date":1606803357,"answer_id":65085576,"question_id":59601077,"body_markdown":"In my case it was enough to add this part to the `pom.xml` file:\r\n```\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>In my case it was enough to add this part to the <code>pom.xml</code> file:</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17619217,"reputation":1510,"user_id":12785586,"display_name":"User"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611913289,"creation_date":1611913289,"answer_id":65952042,"question_id":59601077,"body_markdown":"You need to set language level, release version and add maven compiler plugin to the pom.xml\r\n\r\n    &lt;properties&gt;\r\n      &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n      &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>You need to set language level, release version and add maven compiler plugin to the pom.xml</p>\n<pre><code>&lt;properties&gt;\n  &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n  &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10064210,"reputation":2337,"user_id":7439845,"display_name":"garykwwong"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1612280570,"creation_date":1612280570,"answer_id":66012932,"question_id":59601077,"body_markdown":"You should do one more change by either below approaches: \r\n\r\n--- \r\n**1 Through IntelliJ GUI**\r\n\r\nAs mentioned by &#39;tataelm&#39;: \r\n\r\n*Project Structure &gt; Project Settings &gt; Modules &gt; Language level:* &gt; then change to your preferred language level\r\n\r\n---\r\n\r\n**2 Edit IntelliJ config file directly**\r\n\r\nOpen the `&lt;ProjectName&gt;.iml` file (it is created automatically in your project folder if you&#39;re using IntelliJ) directly by editing the following line, \r\n\r\nFrom: `&lt;component name=&quot;NewModuleRootManager&quot; LANGUAGE_LEVEL=&quot;JDK_1_5&quot;&gt;`\r\n\r\nTo: `&lt;component name=&quot;NewModuleRootManager&quot; LANGUAGE_LEVEL=&quot;JDK_11&quot;&gt;`\r\n\r\nAs your approach is also meaning to edit this file. :)\r\n\r\n---\r\n\r\nApproach 1 is actually asking IntelliJ to help edit the .iml file instead of doing by you directly.\r\n\r\n","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>You should do one more change by either below approaches:</p>\n<hr />\n<p><strong>1 Through IntelliJ GUI</strong></p>\n<p>As mentioned by 'tataelm':</p>\n<p><em>Project Structure &gt; Project Settings &gt; Modules &gt; Language level:</em> &gt; then change to your preferred language level</p>\n<hr />\n<p><strong>2 Edit IntelliJ config file directly</strong></p>\n<p>Open the <code>&lt;ProjectName&gt;.iml</code> file (it is created automatically in your project folder if you're using IntelliJ) directly by editing the following line,</p>\n<p>From: <code>&lt;component name=&quot;NewModuleRootManager&quot; LANGUAGE_LEVEL=&quot;JDK_1_5&quot;&gt;</code></p>\n<p>To: <code>&lt;component name=&quot;NewModuleRootManager&quot; LANGUAGE_LEVEL=&quot;JDK_11&quot;&gt;</code></p>\n<p>As your approach is also meaning to edit this file. :)</p>\n<hr />\n<p>Approach 1 is actually asking IntelliJ to help edit the .iml file instead of doing by you directly.</p>\n"},{"tags":[],"owner":{"account_id":12834532,"reputation":437,"user_id":9284604,"display_name":"Renato Vasconcellos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620563942,"creation_date":1620563942,"answer_id":67457795,"question_id":59601077,"body_markdown":"    For me in Intelij click on File -&gt; Project Structure -&gt; select the modules in language level select 11 - Local variable syntax for lambda parameters, click em aply.\r\n\r\n    Run in terminal mvn clean install.\r\n\r\n\r\nIts solved my problem.","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<pre><code>For me in Intelij click on File -&gt; Project Structure -&gt; select the modules in language level select 11 - Local variable syntax for lambda parameters, click em aply.\n\nRun in terminal mvn clean install.\n</code></pre>\n<p>Its solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":1180793,"reputation":1541,"user_id":1155758,"accept_rate":70,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627029159,"creation_date":1627029159,"answer_id":68496314,"question_id":59601077,"body_markdown":"Found one more place to change, which actually fixed for me.\r\n\r\n    Project Structure -&gt; &lt; Select Module &gt; Dependencies -&gt; Module SDK &lt; Select version from drop down &gt;\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5PT3i.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>Found one more place to change, which actually fixed for me.</p>\n<pre><code>Project Structure -&gt; &lt; Select Module &gt; Dependencies -&gt; Module SDK &lt; Select version from drop down &gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5PT3i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5PT3i.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12914781,"reputation":123,"user_id":11009389,"display_name":"Ruchin Amaratunga"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1627714848,"creation_date":1627714848,"answer_id":68599901,"question_id":59601077,"body_markdown":"I had the same issue but with a small difference. My error message was the following.\r\n\r\n`IntelliJ: Error:java: error: release version 16 not supported`\r\n\r\nSo in Intellij go to \r\n- File\r\n- Settings\r\n- Build, Execution, Deployment\r\n- Compiler\r\n\r\nIn here there is field called &quot;Project bytecode version&quot;. There the default value was 16, I changed it to 8 and everything worked fine. ","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>I had the same issue but with a small difference. My error message was the following.</p>\n<p><code>IntelliJ: Error:java: error: release version 16 not supported</code></p>\n<p>So in Intellij go to</p>\n<ul>\n<li>File</li>\n<li>Settings</li>\n<li>Build, Execution, Deployment</li>\n<li>Compiler</li>\n</ul>\n<p>In here there is field called &quot;Project bytecode version&quot;. There the default value was 16, I changed it to 8 and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1644136185,"creation_date":1644136185,"answer_id":71005426,"question_id":59601077,"body_markdown":"1) File-&gt;Settings\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n2) From left side -&gt;&quot;Build, Execution, Deployment&quot; -&gt;&quot;java compiler&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\n3) choose the project that you work on and choose the java version you need\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gPP7J.png\r\n  [2]: https://i.stack.imgur.com/e38Gp.png\r\n  [3]: https://i.stack.imgur.com/bj6Rm.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<ol>\n<li>File-&gt;Settings</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gPP7J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPP7J.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>From left side -&gt;&quot;Build, Execution, Deployment&quot; -&gt;&quot;java compiler&quot;</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/e38Gp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e38Gp.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>choose the project that you work on and choose the java version you need</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/bj6Rm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bj6Rm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12892413,"reputation":428,"user_id":9323947,"accept_rate":100,"display_name":"Biddut"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1660366859,"creation_date":1660366859,"answer_id":73341715,"question_id":59601077,"body_markdown":" 1.use this properties\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n\r\n2.Add this dependency\r\n \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n3.Reload mvn","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>1.use this properties</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>2.Add this dependency</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>3.Reload mvn</p>\n"},{"tags":[],"owner":{"account_id":13338930,"reputation":632,"user_id":9627781,"display_name":"eclat_soft"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674173912,"creation_date":1674173912,"answer_id":75179542,"question_id":59601077,"body_markdown":"2023 update:\r\n\r\nKindly check your pom.xml file to know what version of java you have configured.\r\n\r\n[![check you java version][1]][1]\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\nThen the next thing is to download jdk of the version you have configure. Follow the below step to do that.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n1. Click on file -&gt; Project structure as below\r\n2. See the image below to add or select Project SDK\r\n3, You can download the specific version of your project if it is missing on the list by clicking Add SDK --&gt; Download JDK.\r\nComplete download and apply and click ok to reload application.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S8Pad.png\r\n  [2]: https://i.stack.imgur.com/Hc1Zm.png\r\n  [3]: https://i.stack.imgur.com/Pwh1Z.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>2023 update:</p>\n<p>Kindly check your pom.xml file to know what version of java you have configured.</p>\n<p><a href=\"https://i.stack.imgur.com/S8Pad.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S8Pad.png\" alt=\"check you java version\" /></a></p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Then the next thing is to download jdk of the version you have configure. Follow the below step to do that.</p>\n<p><a href=\"https://i.stack.imgur.com/Hc1Zm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hc1Zm.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>Click on file -&gt; Project structure as below</li>\n<li>See the image below to add or select Project SDK\n3, You can download the specific version of your project if it is missing on the list by clicking Add SDK --&gt; Download JDK.\nComplete download and apply and click ok to reload application.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/Pwh1Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pwh1Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":944901,"reputation":127,"user_id":972322,"display_name":"jllangston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679590828,"creation_date":1679590828,"answer_id":75825949,"question_id":59601077,"body_markdown":"For gradle, in addition to setting the jvm version everywhere as described in the answers above, you will also need to set it under Gradle settings: [![enter image description here][1]][1]\r\n\r\nThen change the jvm under Gradle JVM.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lqg8c.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>For gradle, in addition to setting the jvm version everywhere as described in the answers above, you will also need to set it under Gradle settings: <a href=\"https://i.stack.imgur.com/lqg8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lqg8c.png\" alt=\"enter image description here\" /></a></p>\n<p>Then change the jvm under Gradle JVM.</p>\n"}],"owner":{"account_id":7293755,"reputation":4687,"user_id":5559342,"accept_rate":68,"display_name":"Robb1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428145,"favorite_count":0,"down_vote_count":0,"up_vote_count":271,"accepted_answer_id":59607812,"answer_count":24,"score":271,"last_activity_date":1679590828,"creation_date":1578236055,"question_id":59601077,"body_markdown":"I&#39;m using **IntelliJ IDEA Ultimate 2019.3.1**. Whenever I try to start any simple Java Maven project (may it be even a simple Hello World) I get the following error:\r\n\r\n    Error:java: error: release version 5 not supported\r\n\r\nRunning `java --version` by terminal I get the following output:\r\n\r\n    openjdk 11.0.5 2019-10-15\r\n    OpenJDK Runtime Environment (build 11.0.5+10-post-Ubuntu-0ubuntu1.1)\r\n    OpenJDK 64-Bit Server VM (build 11.0.5+10-post-Ubuntu-0ubuntu1.1, mixed mode, sharing)\r\n\r\nRunning `javac --version` by terminal I get the following output:\r\n\r\n    javac 11.0.5\r\n\r\nGoing to the Settings of the Java Compiler ( as suggested [here][1] ) I see this:\r\n\r\n[![Java Compiler Settings][2]][2]\r\n\r\nI tried editing the &quot;**Target bytecode version**&quot; to **1.8** but I get the following errors:\r\n\r\n    Error:(1, 26) java: package javafx.application does not exist\r\n    Error:(2, 20) java: package javafx.stage does not exist\r\n    Error:(4, 27) java: cannot find symbol\r\n      symbol: class Application\r\n    Error:(12, 23) java: cannot find symbol\r\n      symbol:   class Stage\r\n      location: class Main\r\n    Error:(7, 9) java: cannot find symbol\r\n      symbol:   method launch(java.lang.String[])\r\n      location: class Main\r\n    Error:(11, 5) java: method does not override or implement a method from a supertype\r\n\r\nChanging it to version **1.11** I get this error instead:\r\n\r\n    Error:java: Source option 5 is no longer supported. Use 6 or later.\r\n\r\nWhat do you think is the problem? How may I solve it?\r\n\r\n  [1]: https://stackoverflow.com/questions/52788743/intellij-error-java-release-version-10-not-supported\r\n  [2]: https://i.stack.imgur.com/WJdHN.png","title":"IntelliJ: Error:java: error: release version 5 not supported","body":"<p>I'm using <strong>IntelliJ IDEA Ultimate 2019.3.1</strong>. Whenever I try to start any simple Java Maven project (may it be even a simple Hello World) I get the following error:</p>\n\n<pre><code>Error:java: error: release version 5 not supported\n</code></pre>\n\n<p>Running <code>java --version</code> by terminal I get the following output:</p>\n\n<pre><code>openjdk 11.0.5 2019-10-15\nOpenJDK Runtime Environment (build 11.0.5+10-post-Ubuntu-0ubuntu1.1)\nOpenJDK 64-Bit Server VM (build 11.0.5+10-post-Ubuntu-0ubuntu1.1, mixed mode, sharing)\n</code></pre>\n\n<p>Running <code>javac --version</code> by terminal I get the following output:</p>\n\n<pre><code>javac 11.0.5\n</code></pre>\n\n<p>Going to the Settings of the Java Compiler ( as suggested <a href=\"https://stackoverflow.com/questions/52788743/intellij-error-java-release-version-10-not-supported\">here</a> ) I see this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WJdHN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WJdHN.png\" alt=\"Java Compiler Settings\"></a></p>\n\n<p>I tried editing the \"<strong>Target bytecode version</strong>\" to <strong>1.8</strong> but I get the following errors:</p>\n\n<pre><code>Error:(1, 26) java: package javafx.application does not exist\nError:(2, 20) java: package javafx.stage does not exist\nError:(4, 27) java: cannot find symbol\n  symbol: class Application\nError:(12, 23) java: cannot find symbol\n  symbol:   class Stage\n  location: class Main\nError:(7, 9) java: cannot find symbol\n  symbol:   method launch(java.lang.String[])\n  location: class Main\nError:(11, 5) java: method does not override or implement a method from a supertype\n</code></pre>\n\n<p>Changing it to version <strong>1.11</strong> I get this error instead:</p>\n\n<pre><code>Error:java: Source option 5 is no longer supported. Use 6 or later.\n</code></pre>\n\n<p>What do you think is the problem? How may I solve it?</p>\n"},{"tags":["java","android","android-studio","arraylist","android-recyclerview"],"comments":[{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679540266,"post_id":75715547,"comment_id":133741482,"body_markdown":"I think the call chain between `onLongClick` and `saveEditedTaskName` is important. Can you include it in the question? Also is everything happening on main thread?","body":"I think the call chain between <code>onLongClick</code> and <code>saveEditedTaskName</code> is important. Can you include it in the question? Also is everything happening on main thread?"},{"owner":{"account_id":9571851,"reputation":807,"user_id":7109256,"accept_rate":71,"display_name":"random1234"},"score":0,"creation_date":1679590655,"post_id":75715547,"comment_id":133752758,"body_markdown":"@SergeiKozelko There, I just added `onLongClick` to the code in the question.","body":"@SergeiKozelko There, I just added <code>onLongClick</code> to the code in the question."},{"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"score":0,"creation_date":1679592879,"post_id":75715547,"comment_id":133753389,"body_markdown":"So `getBindingAdapterPosition` wasn&#39;t called directly from `onLongClick`. In this case getting -1 isn&#39;t impossible. If you haven&#39;t touched activity&#39;s [`windowSoftInputMode`](https://developer.android.com/guide/topics/manifest/activity-element#wsoft) then what might be happening is that activity gets resized when keyboard is shown which causes holder to unbind. You can try setting `windowSoftInputMode` to `adjustNothing` to test if that&#39;s the case, though it might break the positioning of the dialog.","body":"So <code>getBindingAdapterPosition</code> wasn&#39;t called directly from <code>onLongClick</code>. In this case getting -1 isn&#39;t impossible. If you haven&#39;t touched activity&#39;s <a href=\"https://developer.android.com/guide/topics/manifest/activity-element#wsoft\" rel=\"nofollow noreferrer\"><code>windowSoftInputMode</code></a> then what might be happening is that activity gets resized when keyboard is shown which causes holder to unbind. You can try setting <code>windowSoftInputMode</code> to <code>adjustNothing</code> to test if that&#39;s the case, though it might break the positioning of the dialog."}],"answers":[{"tags":[],"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678647087,"creation_date":1678647087,"answer_id":75715597,"question_id":75715547,"body_markdown":"[The docs](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ViewHolder#getBindingAdapterPosition()) say\r\n\r\n&gt; Note that if you&#39;ve called `notifyDataSetChanged`, until the next layout pass, the return value of this method will be `NO_POSITION`.\r\n\r\nIf you want to lazily process your items (where you know the positions don&#39;t change), maybe use `getLayoutPosition` instead.","title":"Android getBindingAdapterPosition returning -1 sometimes","body":"<p><a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.ViewHolder#getBindingAdapterPosition()\" rel=\"nofollow noreferrer\">The docs</a> say</p>\n<blockquote>\n<p>Note that if you've called <code>notifyDataSetChanged</code>, until the next layout pass, the return value of this method will be <code>NO_POSITION</code>.</p>\n</blockquote>\n<p>If you want to lazily process your items (where you know the positions don't change), maybe use <code>getLayoutPosition</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":9571851,"reputation":807,"user_id":7109256,"accept_rate":71,"display_name":"random1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679427580,"creation_date":1679427580,"answer_id":75805697,"question_id":75715547,"body_markdown":"The issue was solved by passing `getBindingAdapterPosition()` as an argument in the `onLongClick()` method call and further to the `saveEditedTaskName()` method and using that variable received in the parameter instead. I do not exactly know why it works, but it did, perhaps someone else can contribute with an explanation?\r\n\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener\r\n    {\r\n        TextView textView;\r\n        OnItemListener onItemListener;\r\n        ArrayList&lt;Task&gt; list;\r\n        private final RecyclerViewAdapter adapter;\r\n\r\n        MyViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;Task&gt; list, RecyclerViewAdapter adapter) {\r\n            super(itemView);\r\n\r\n            textView = itemView.findViewById(R.id.singleView);\r\n            this.onItemListener = onItemListener;\r\n            this.list = list;\r\n            this.adapter = adapter;\r\n\r\n            itemView.setOnClickListener(this);\r\n            itemView.setOnLongClickListener(view -&gt; {\r\n                onLongClick(getBindingAdapterPosition());\r\n                return true;\r\n            });\r\n        }\r\n\r\n        // Other code\r\n\r\n        private void saveEditedTaskName(Context mContext, String editedText, int position)\r\n        {\r\n            // Method to save the edited task name.\r\n\r\n            SharedPreferences sharedPrefs = mContext.getSharedPreferences(MainActivity.SHARED_PREFS, 0);\r\n            String categoryId = sharedPrefs.getString(MainActivity.CATEGORY_ID_CHOICE, &quot;&quot;);\r\n\r\n            FirebaseHelper firebaseHelper = new FirebaseHelper();\r\n            if (position != RecyclerView.NO_POSITION)\r\n            {\r\n                Task task = list.get(position);\r\n                String taskId = task.getTaskId();\r\n\r\n                DatabaseReference databaseReference = firebaseHelper.getDatabaseReference();\r\n                databaseReference.child(categoryId).child(DatabaseNodes.TASKS)\r\n                        .child(taskId).child(DatabaseNodes.TASK_NAME).setValue(editedText);\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(mContext, &quot;Operation failed, please try again later.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n            adapter.notifyItemChanged(position);\r\n        }\r\n\r\n        // Other code\r\n    }","title":"Android getBindingAdapterPosition returning -1 sometimes","body":"<p>The issue was solved by passing <code>getBindingAdapterPosition()</code> as an argument in the <code>onLongClick()</code> method call and further to the <code>saveEditedTaskName()</code> method and using that variable received in the parameter instead. I do not exactly know why it works, but it did, perhaps someone else can contribute with an explanation?</p>\n<pre><code>public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener\n{\n    TextView textView;\n    OnItemListener onItemListener;\n    ArrayList&lt;Task&gt; list;\n    private final RecyclerViewAdapter adapter;\n\n    MyViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;Task&gt; list, RecyclerViewAdapter adapter) {\n        super(itemView);\n\n        textView = itemView.findViewById(R.id.singleView);\n        this.onItemListener = onItemListener;\n        this.list = list;\n        this.adapter = adapter;\n\n        itemView.setOnClickListener(this);\n        itemView.setOnLongClickListener(view -&gt; {\n            onLongClick(getBindingAdapterPosition());\n            return true;\n        });\n    }\n\n    // Other code\n\n    private void saveEditedTaskName(Context mContext, String editedText, int position)\n    {\n        // Method to save the edited task name.\n\n        SharedPreferences sharedPrefs = mContext.getSharedPreferences(MainActivity.SHARED_PREFS, 0);\n        String categoryId = sharedPrefs.getString(MainActivity.CATEGORY_ID_CHOICE, &quot;&quot;);\n\n        FirebaseHelper firebaseHelper = new FirebaseHelper();\n        if (position != RecyclerView.NO_POSITION)\n        {\n            Task task = list.get(position);\n            String taskId = task.getTaskId();\n\n            DatabaseReference databaseReference = firebaseHelper.getDatabaseReference();\n            databaseReference.child(categoryId).child(DatabaseNodes.TASKS)\n                    .child(taskId).child(DatabaseNodes.TASK_NAME).setValue(editedText);\n        }\n        else\n        {\n            Toast.makeText(mContext, &quot;Operation failed, please try again later.&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n        adapter.notifyItemChanged(position);\n    }\n\n    // Other code\n}\n</code></pre>\n"}],"owner":{"account_id":9571851,"reputation":807,"user_id":7109256,"accept_rate":71,"display_name":"random1234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75805697,"answer_count":2,"score":2,"last_activity_date":1679590622,"creation_date":1678646595,"question_id":75715547,"body_markdown":"I have a RecyclerView populated with objects and inside of my RecyclerView adapter I have a function for renaming the name value of the object, when running this method I use `getBindingAdapterPosition()` to get the selected object from the ArrayList of task objects to rename it, however `getBindingAdapterPosition()` is returning `RecyclerView.NO_POSITION` (or -1) only on SOME items in the RecyclerView and on others the function is working properly, I do not know why this is happening and I have tried to battle it by using an if check to check if `getBindingAdapterPosition()` is equal to `RecyclerView.NO_POSITION` but that check does not solve the issue it only skips the renaming. I also tried by adding `adapter.notifyItemChanged(adapterPosition)` thinking that maybe it didn&#39;t work because the adapter wasn&#39;t being notified of the change, but the issue persists. Why is `getBindingAdapterPosition()` returning -1 only on SOME items and how can I solve this? Is there another method I can use or is there something I am doing wrong without noticing?\r\n\r\nHere is the `MyViewHolder` in my RecyclerViewAdapter class:\r\n\r\n    public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener\r\n    {\r\n        TextView textView;\r\n        OnItemListener onItemListener;\r\n        ArrayList&lt;Task&gt; list;\r\n        private final RecyclerViewAdapter adapter;\r\n\r\n        MyViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;Task&gt; list, RecyclerViewAdapter adapter) {\r\n            super(itemView);\r\n\r\n            textView = itemView.findViewById(R.id.singleView);\r\n            this.onItemListener = onItemListener;\r\n            this.list = list;\r\n            this.adapter = adapter;\r\n\r\n            itemView.setOnClickListener(this);\r\n            itemView.setOnLongClickListener(view -&gt; {\r\n                onLongClick();\r\n                return true;\r\n            });\r\n        }\r\n\r\n        private void onLongClick(int position)\r\n        {\r\n            // Handles the long click event on an item in the RecyclerView,\r\n            // opens a Dialog with an EditText with the name of the task to edit the task name.\r\n\r\n            String text = textView.getText().toString();\r\n            // Creates the EditText for user input and style the look and behavior of it.\r\n            final EditText input = new EditText(itemView.getContext());\r\n            input.setBackground(ContextCompat.getDrawable(itemView.getContext(), R.drawable.edit_text_dialog));\r\n            input.setTextColor(ContextCompat.getColor(itemView.getContext(), R.color.colorText));\r\n            input.setText(text);\r\n            input.setSingleLine();\r\n            input.setImeOptions(EditorInfo.IME_ACTION_SEND);\r\n            input.setPadding(28, 28, 28, 28);\r\n\r\n            // Create an AlertDialog for the user to edit the task name.\r\n            AlertDialog.Builder builder = new AlertDialog.Builder(itemView.getContext(), R.style.DialogTheme);\r\n            builder.setTitle(R.string.dialog_edit_title)\r\n                    .setMessage(R.string.dialog_edit_message)\r\n                    .setView(input)\r\n                    .setPositiveButton(R.string.dialog_edit_positive_button, (dialogInterface, i) -&gt;\r\n                    {\r\n                        // When the positive button is clicked, save the edited task name.\r\n                        String editedText = input.getText().toString();\r\n                        if (!editedText.isEmpty())\r\n                        {\r\n                        saveEditedTaskName(itemView.getContext(), editedText, position);\r\n                        }\r\n                    })\r\n                    .setNegativeButton(R.string.dialog_edit_negative_button, (dialogInterface, i) -&gt; dialogInterface.cancel());\r\n            // Show the AlertDialog.\r\n            AlertDialog dialog = builder.show();\r\n\r\n            input.setOnEditorActionListener((textView, actionId, keyEvent) -&gt;\r\n            {\r\n                // Set the listener for the send button on the EditText.\r\n                if (actionId == EditorInfo.IME_ACTION_SEND)\r\n                {\r\n                    // When the send button is clicked, save the edited task name and dismiss the dialog.\r\n                    String editedText = input.getText().toString();\r\n                    if (!editedText.isEmpty())\r\n                    {\r\n                        saveEditedTaskName(itemView.getContext(), editedText, position);\r\n                    }\r\n                    dialog.dismiss();\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n        }\r\n\r\n        private void saveEditedTaskName(Context mContext, String editedText)\r\n        {\r\n            // Method to save the edited task name.\r\n\r\n            SharedPreferences sharedPrefs = mContext.getSharedPreferences(MainActivity.SHARED_PREFS, 0);\r\n            String categoryId = sharedPrefs.getString(MainActivity.CATEGORY_ID_CHOICE, &quot;&quot;);\r\n\r\n            FirebaseHelper firebaseHelper = new FirebaseHelper();\r\n\r\n            int adapterPosition = getBindingAdapterPosition();\r\n            if (adapterPosition != RecyclerView.NO_POSITION)\r\n            {\r\n                // Problem here!\r\n                Task task = list.get(getBindingAdapterPosition());\r\n                String taskId = task.getTaskId();\r\n\r\n                DatabaseReference databaseReference = firebaseHelper.getDatabaseReference();\r\n                databaseReference.child(categoryId).child(DatabaseNodes.TASKS)\r\n                        .child(taskId).child(DatabaseNodes.TASK_NAME).setValue(editedText);\r\n\r\n                if (adapter != null)\r\n                {\r\n                    adapter.notifyItemChanged(adapterPosition);\r\n                }\r\n            }\r\n            else\r\n            {\r\n                Toast.makeText(mContext, &quot;An error occurred. Please try again.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n        // Other code\r\n    }\r\n\r\n**EDIT:** I want to add that it seems like the objects where the issue is occurring that the values can&#39;t be renamed because the `getBindingAdapterPosition()` is returning -1 seem to always be in the same positions, it seems to always be somewhere around the 7th and 8th positioned items in the RecyclerView (indexes 6 &amp; 7). Don&#39;t know if this matters but thought that i&#39;d share it, seems very odd...\r\n\r\n**EDIT:** After further testing, it seems like it&#39;s not only those two positions making trouble, if I have more items it can occur later aswell if the list is longer, but as stated earlier, somewhere usually around the same positions, indexes, 6,7,8.","title":"Android getBindingAdapterPosition returning -1 sometimes","body":"<p>I have a RecyclerView populated with objects and inside of my RecyclerView adapter I have a function for renaming the name value of the object, when running this method I use <code>getBindingAdapterPosition()</code> to get the selected object from the ArrayList of task objects to rename it, however <code>getBindingAdapterPosition()</code> is returning <code>RecyclerView.NO_POSITION</code> (or -1) only on SOME items in the RecyclerView and on others the function is working properly, I do not know why this is happening and I have tried to battle it by using an if check to check if <code>getBindingAdapterPosition()</code> is equal to <code>RecyclerView.NO_POSITION</code> but that check does not solve the issue it only skips the renaming. I also tried by adding <code>adapter.notifyItemChanged(adapterPosition)</code> thinking that maybe it didn't work because the adapter wasn't being notified of the change, but the issue persists. Why is <code>getBindingAdapterPosition()</code> returning -1 only on SOME items and how can I solve this? Is there another method I can use or is there something I am doing wrong without noticing?</p>\n<p>Here is the <code>MyViewHolder</code> in my RecyclerViewAdapter class:</p>\n<pre><code>public static class MyViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener\n{\n    TextView textView;\n    OnItemListener onItemListener;\n    ArrayList&lt;Task&gt; list;\n    private final RecyclerViewAdapter adapter;\n\n    MyViewHolder(@NonNull View itemView, OnItemListener onItemListener, ArrayList&lt;Task&gt; list, RecyclerViewAdapter adapter) {\n        super(itemView);\n\n        textView = itemView.findViewById(R.id.singleView);\n        this.onItemListener = onItemListener;\n        this.list = list;\n        this.adapter = adapter;\n\n        itemView.setOnClickListener(this);\n        itemView.setOnLongClickListener(view -&gt; {\n            onLongClick();\n            return true;\n        });\n    }\n\n    private void onLongClick(int position)\n    {\n        // Handles the long click event on an item in the RecyclerView,\n        // opens a Dialog with an EditText with the name of the task to edit the task name.\n\n        String text = textView.getText().toString();\n        // Creates the EditText for user input and style the look and behavior of it.\n        final EditText input = new EditText(itemView.getContext());\n        input.setBackground(ContextCompat.getDrawable(itemView.getContext(), R.drawable.edit_text_dialog));\n        input.setTextColor(ContextCompat.getColor(itemView.getContext(), R.color.colorText));\n        input.setText(text);\n        input.setSingleLine();\n        input.setImeOptions(EditorInfo.IME_ACTION_SEND);\n        input.setPadding(28, 28, 28, 28);\n\n        // Create an AlertDialog for the user to edit the task name.\n        AlertDialog.Builder builder = new AlertDialog.Builder(itemView.getContext(), R.style.DialogTheme);\n        builder.setTitle(R.string.dialog_edit_title)\n                .setMessage(R.string.dialog_edit_message)\n                .setView(input)\n                .setPositiveButton(R.string.dialog_edit_positive_button, (dialogInterface, i) -&gt;\n                {\n                    // When the positive button is clicked, save the edited task name.\n                    String editedText = input.getText().toString();\n                    if (!editedText.isEmpty())\n                    {\n                    saveEditedTaskName(itemView.getContext(), editedText, position);\n                    }\n                })\n                .setNegativeButton(R.string.dialog_edit_negative_button, (dialogInterface, i) -&gt; dialogInterface.cancel());\n        // Show the AlertDialog.\n        AlertDialog dialog = builder.show();\n\n        input.setOnEditorActionListener((textView, actionId, keyEvent) -&gt;\n        {\n            // Set the listener for the send button on the EditText.\n            if (actionId == EditorInfo.IME_ACTION_SEND)\n            {\n                // When the send button is clicked, save the edited task name and dismiss the dialog.\n                String editedText = input.getText().toString();\n                if (!editedText.isEmpty())\n                {\n                    saveEditedTaskName(itemView.getContext(), editedText, position);\n                }\n                dialog.dismiss();\n                return true;\n            }\n            return false;\n        });\n    }\n\n    private void saveEditedTaskName(Context mContext, String editedText)\n    {\n        // Method to save the edited task name.\n\n        SharedPreferences sharedPrefs = mContext.getSharedPreferences(MainActivity.SHARED_PREFS, 0);\n        String categoryId = sharedPrefs.getString(MainActivity.CATEGORY_ID_CHOICE, &quot;&quot;);\n\n        FirebaseHelper firebaseHelper = new FirebaseHelper();\n\n        int adapterPosition = getBindingAdapterPosition();\n        if (adapterPosition != RecyclerView.NO_POSITION)\n        {\n            // Problem here!\n            Task task = list.get(getBindingAdapterPosition());\n            String taskId = task.getTaskId();\n\n            DatabaseReference databaseReference = firebaseHelper.getDatabaseReference();\n            databaseReference.child(categoryId).child(DatabaseNodes.TASKS)\n                    .child(taskId).child(DatabaseNodes.TASK_NAME).setValue(editedText);\n\n            if (adapter != null)\n            {\n                adapter.notifyItemChanged(adapterPosition);\n            }\n        }\n        else\n        {\n            Toast.makeText(mContext, &quot;An error occurred. Please try again.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    // Other code\n}\n</code></pre>\n<p><strong>EDIT:</strong> I want to add that it seems like the objects where the issue is occurring that the values can't be renamed because the <code>getBindingAdapterPosition()</code> is returning -1 seem to always be in the same positions, it seems to always be somewhere around the 7th and 8th positioned items in the RecyclerView (indexes 6 &amp; 7). Don't know if this matters but thought that i'd share it, seems very odd...</p>\n<p><strong>EDIT:</strong> After further testing, it seems like it's not only those two positions making trouble, if I have more items it can occur later aswell if the list is longer, but as stated earlier, somewhere usually around the same positions, indexes, 6,7,8.</p>\n"},{"tags":["java","rest","jersey","glassfish","jersey-client"],"owner":{"account_id":6655944,"reputation":13,"user_id":5136505,"display_name":"sahil rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679590276,"creation_date":1679590276,"question_id":75825857,"body_markdown":"using Java code that connects to the API gateway to make a post call. All are working fine. Sometimes I start getting an &quot;already connected exception. Restarting ECS tasks resolves this issue, but then it starts coming again after some time.\r\n\r\nLogs below.\r\n\r\n```\r\n2023-03-23T18:13:34.332+05:30   javax.ws.rs.ProcessingException: Already connected\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:228) ~[jersey-common.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444) ~[jersey-common.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343) ~[jersey-client.jar:?]\r\n\r\n2023-03-23T18:13:34.332+05:30   at com.xxy.controller.activity.ABActivity.ABDetails(ABC.java:54) ~[-1.0.jar:?]\r\n```\r\n\r\nCode I am using to connect is\r\n\r\n```\r\n WebTarget target = FrontHelper.getTarget(URI + POST_API_URI,\r\n                    AppConfig.findString(&quot;abc.accessrole.arn&quot;),REGION,AWS_SERVICE,\r\n                    SessionCredentialsGenerator.getInstance().getABCCredentials());\r\n            Invocation.Builder builder = target.request(MediaType.APPLICATION_JSON);\r\n            Response response = builder.post(Entity.entity(requestObj, MediaType.APPLICATION_JSON));\r\n            InputStream streamingResponse = response.readEntity(InputStream.class);\r\n            int status = response.getStatus();\r\n```\r\n\r\nI am able to get response most of the times. I am not able to figure out why it is coming only few times.\r\n\r\nI tried a lot searching about this issue. found nothing. Also upgraded jersy client version.\r\n\r\nI tried a lot searching about this issue. found nothing. Also upgraded jersy client version.","title":"javax.ws.rs.ProcessingException: Already connected Intermittently","body":"<p>using Java code that connects to the API gateway to make a post call. All are working fine. Sometimes I start getting an &quot;already connected exception. Restarting ECS tasks resolves this issue, but then it starts coming again after some time.</p>\n<p>Logs below.</p>\n<pre><code>2023-03-23T18:13:34.332+05:30   javax.ws.rs.ProcessingException: Already connected\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:315) ~[jersey-common.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:297) ~[jersey-common.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.internal.Errors.process(Errors.java:228) ~[jersey-common.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444) ~[jersey-common.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at org.glassfish.jersey.client.JerseyInvocation$Builder.post(JerseyInvocation.java:343) ~[jersey-client.jar:?]\n\n2023-03-23T18:13:34.332+05:30   at com.xxy.controller.activity.ABActivity.ABDetails(ABC.java:54) ~[-1.0.jar:?]\n</code></pre>\n<p>Code I am using to connect is</p>\n<pre><code> WebTarget target = FrontHelper.getTarget(URI + POST_API_URI,\n                    AppConfig.findString(&quot;abc.accessrole.arn&quot;),REGION,AWS_SERVICE,\n                    SessionCredentialsGenerator.getInstance().getABCCredentials());\n            Invocation.Builder builder = target.request(MediaType.APPLICATION_JSON);\n            Response response = builder.post(Entity.entity(requestObj, MediaType.APPLICATION_JSON));\n            InputStream streamingResponse = response.readEntity(InputStream.class);\n            int status = response.getStatus();\n</code></pre>\n<p>I am able to get response most of the times. I am not able to figure out why it is coming only few times.</p>\n<p>I tried a lot searching about this issue. found nothing. Also upgraded jersy client version.</p>\n<p>I tried a lot searching about this issue. found nothing. Also upgraded jersy client version.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","vps"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679590327,"post_id":75825824,"comment_id":133752674,"body_markdown":"Check this link, if it answers your query - https://stackoverflow.com/a/75775660/7598774","body":"Check this link, if it answers your query - <a href=\"https://stackoverflow.com/a/75775660/7598774\">stackoverflow.com/a/75775660/7598774</a>"},{"owner":{"account_id":27642070,"reputation":1,"user_id":21098842,"display_name":"Lorenzo Mieli"},"score":0,"creation_date":1679591216,"post_id":75825824,"comment_id":133752902,"body_markdown":"Hi @Shawn , Yes maybe that&#39;s what I was looking for, so I have to downgrade the version of Google Chrome and Chrome driver?\nOr do you advise me to leave it like this as it won&#39;t bother the code?","body":"Hi @Shawn , Yes maybe that&#39;s what I was looking for, so I have to downgrade the version of Google Chrome and Chrome driver? Or do you advise me to leave it like this as it won&#39;t bother the code?"},{"owner":{"account_id":27642070,"reputation":1,"user_id":21098842,"display_name":"Lorenzo Mieli"},"score":0,"creation_date":1679591296,"post_id":75825824,"comment_id":133752929,"body_markdown":"According to this guide, does my version ( changelog v4.8.1) support up to 110? (I have the 111) [link]:(https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG)","body":"According to this guide, does my version ( changelog v4.8.1) support up to 110? (I have the 111) [link]:(<a href=\"https://github.com/SeleniumHQ/selenium/blob/trunk/java/CHANGELOG\" rel=\"nofollow noreferrer\">github.com/SeleniumHQ/selenium/blob/trunk/java/CHANG&zwnj;&#8203;ELOG</a>)"},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1679591877,"post_id":75825824,"comment_id":133753087,"body_markdown":"Yes v4.8.1 supports 110 as per the official change log. You can downgrade if you wish to. As I have suggested in the link, its a warning and can be ignored. Its the warning which is displayed due to incompatibility. Your code will run just fine. However am not very sure that it may not have any other hidden adverse effects.","body":"Yes v4.8.1 supports 110 as per the official change log. You can downgrade if you wish to. As I have suggested in the link, its a warning and can be ignored. Its the warning which is displayed due to incompatibility. Your code will run just fine. However am not very sure that it may not have any other hidden adverse effects."}],"owner":{"account_id":27642070,"reputation":1,"user_id":21098842,"display_name":"Lorenzo Mieli"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679590071,"creation_date":1679590071,"question_id":75825824,"body_markdown":"I was able to start up correctly on a vps chrome driver however it gives me these warnings... can you help me?\r\n\r\n```\r\n$ java -jar demo.jar\r\n\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 25982\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n\r\nMar 22, 2023 8:27:55 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find CDP implementation matching 111\r\nMar 22, 2023 8:27:55 PM org.openqa.selenium.chromium.ChromiumDriver lambda$new$3\r\nWARNING: Unable to find version of CDP to use for .\r\nYou may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.8.1` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s.\r\n\r\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 4625\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n\r\nChromeDriver was started successfully.\r\n\r\nMar 22, 2023 8:27:56 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find CDP implementation matching 111\r\nMar 22, 2023 8:27:56 PM org.openqa.selenium.chromium.ChromiumDriver lambda$new$3\r\nWARNING: Unable to find version of CDP to use for .\r\nYou may need to include a dependency on a specific version of the CDP using something similar to\r\n`org.seleniumhq.selenium:selenium-devtools-v86:4.8.1` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you&#39;re using and the version number of the artifact is the same as Selenium&#39;s.\r\n```\r\n\r\nThanks to whoever will answer and sorry for my bad english!","title":"WARNING: Unable to find CDP implementation matching 111","body":"<p>I was able to start up correctly on a vps chrome driver however it gives me these warnings... can you help me?</p>\n<pre><code>$ java -jar demo.jar\n\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 25982\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n\nMar 22, 2023 8:27:55 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find CDP implementation matching 111\nMar 22, 2023 8:27:55 PM org.openqa.selenium.chromium.ChromiumDriver lambda$new$3\nWARNING: Unable to find version of CDP to use for .\nYou may need to include a dependency on a specific version of the CDP using something similar to `org.seleniumhq.selenium:selenium-devtools-v86:4.8.1` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.\n\nStarting ChromeDriver 111.0.5563.64 (c710e93d5b63b7095afe8c2c17df34408078439d-refs/branch-heads/5563@{#995}) on port 4625\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\n\nChromeDriver was started successfully.\n\nMar 22, 2023 8:27:56 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find CDP implementation matching 111\nMar 22, 2023 8:27:56 PM org.openqa.selenium.chromium.ChromiumDriver lambda$new$3\nWARNING: Unable to find version of CDP to use for .\nYou may need to include a dependency on a specific version of the CDP using something similar to\n`org.seleniumhq.selenium:selenium-devtools-v86:4.8.1` where the version (&quot;v86&quot;) matches the version of the chromium-based browser you're using and the version number of the artifact is the same as Selenium's.\n</code></pre>\n<p>Thanks to whoever will answer and sorry for my bad english!</p>\n"},{"tags":["java","docker","jvm","alpine-linux","apple-m1"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1630261477,"post_id":68975743,"comment_id":121902823,"body_markdown":"If [this](https://hub.docker.com/layers/openjdk/library/openjdk/13-jdk-alpine/images/sha256-26ca1df9692d34f30ed38d272fb7b1776b832464b099d6d29f416787be4af170?context=explore) is your base image, then you are out of luck. The image is only available for amd64 architecture, not for ARM.","body":"If <a href=\"https://hub.docker.com/layers/openjdk/library/openjdk/13-jdk-alpine/images/sha256-26ca1df9692d34f30ed38d272fb7b1776b832464b099d6d29f416787be4af170?context=explore\" rel=\"nofollow noreferrer\">this</a> is your base image, then you are out of luck. The image is only available for amd64 architecture, not for ARM."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1630261845,"post_id":68975743,"comment_id":121902920,"body_markdown":"Why do you deploy with a jdk and not jre, though? It increases your size for no reason at all","body":"Why do you deploy with a jdk and not jre, though? It increases your size for no reason at all"},{"owner":{"account_id":32530,"reputation":870,"user_id":90338,"accept_rate":63,"display_name":"greymatter"},"score":2,"creation_date":1630262365,"post_id":68975743,"comment_id":121903046,"body_markdown":"@Eugene That&#39;s a great point, and we will address that.  But it wouldn&#39;t have any impact on the issue, I assume.","body":"@Eugene That&#39;s a great point, and we will address that.  But it wouldn&#39;t have any impact on the issue, I assume."},{"owner":{"account_id":32530,"reputation":870,"user_id":90338,"accept_rate":63,"display_name":"greymatter"},"score":0,"creation_date":1630262504,"post_id":68975743,"comment_id":121903081,"body_markdown":"@Turing85 Is there a JRE/Linux image that would work for both architectures?  I just ran into an article about multi-arch images.  Would that do the trick?","body":"@Turing85 Is there a JRE/Linux image that would work for both architectures?  I just ran into an article about multi-arch images.  Would that do the trick?"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1630263191,"post_id":68975743,"comment_id":121903234,"body_markdown":"Right, my point is that you could most probably deploy with any jre up to 15, cause in the 16 when module system started deprecated things and this might break things for your application.","body":"Right, my point is that you could most probably deploy with any jre up to 15, cause in the 16 when module system started deprecated things and this might break things for your application."},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1630333679,"post_id":68975743,"comment_id":121921241,"body_markdown":"couldnt find any arm based openjdk image tagged as 13-jdk-* or 13-jre-*, if @Eugene is correct maybe use a newer image, though you could anyway use this image https://hub.docker.com/r/adoptopenjdk/openjdk13/tags?page=1&amp;ordering=last_updated","body":"couldnt find any arm based openjdk image tagged as 13-jdk-* or 13-jre-*, if @Eugene is correct maybe use a newer image, though you could anyway use this image <a href=\"https://hub.docker.com/r/adoptopenjdk/openjdk13/tags?page=1&amp;ordering=last_updated\" rel=\"nofollow noreferrer\">hub.docker.com/r/adoptopenjdk/openjdk13/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10692085,"reputation":116,"user_id":7870598,"display_name":"Yuri Niitsuma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630445890,"creation_date":1630377295,"answer_id":68992222,"question_id":68975743,"body_markdown":"I have a lot of problems with Java containers too on my M1 macbook. For your problem, maybe you need to create your own docker image:\r\n\r\nDockerfile\r\n\r\n    FROM --platform=linux/arm64/v8 ubuntu:20.04\r\n    \r\n    ARG DEBIAN_FRONTEND=noninteractive\r\n    EXPOSE 8080\r\n    \r\n    RUN apt update \\\r\n        &amp;&amp; apt upgrade -y \\\r\n        &amp;&amp; apt install -y openjdk-13-jre git \\\r\n        &amp;&amp; apt clean\r\n    \r\n    RUN mkdir -pv /app &amp;&amp; cd /app &amp;&amp; \\\r\n        git clone https://github.com/spring-guides/gs-spring-boot.git &amp;&amp; \\\r\n        cd /app/gs-spring-boot/initial &amp;&amp; ./gradlew build\r\n    \r\n    WORKDIR /app/gs-spring-boot/initial\r\n    \r\n    ENTRYPOINT [ &quot;./gradlew&quot;, &quot;bootRun&quot; ]\r\n\r\nBuild image\r\n\r\n    docker build -t test .\r\n\r\nRun container\r\n\r\n    docker run --rm -p 8080:8080 test\r\n\r\nGo to http://localhost:8080/ on your browser and your Spring-Boot application is running without Rosetta 2.\r\n\r\nDisclaimer: I&#39;m not a Java developer and my Dockerfile is for Proof of Concept purpose.\r\n\r\nRemember that your Docker image is builded to ARM64 architecture. If you wanna run this container on a Intel/AMD processor, you have to change `FROM --platform=linux/amd64 ubuntu:20.04` on your Dockerfile. ","title":"Docker image runs on Intel mac but not M1 mac","body":"<p>I have a lot of problems with Java containers too on my M1 macbook. For your problem, maybe you need to create your own docker image:</p>\n<p>Dockerfile</p>\n<pre><code>FROM --platform=linux/arm64/v8 ubuntu:20.04\n\nARG DEBIAN_FRONTEND=noninteractive\nEXPOSE 8080\n\nRUN apt update \\\n    &amp;&amp; apt upgrade -y \\\n    &amp;&amp; apt install -y openjdk-13-jre git \\\n    &amp;&amp; apt clean\n\nRUN mkdir -pv /app &amp;&amp; cd /app &amp;&amp; \\\n    git clone https://github.com/spring-guides/gs-spring-boot.git &amp;&amp; \\\n    cd /app/gs-spring-boot/initial &amp;&amp; ./gradlew build\n\nWORKDIR /app/gs-spring-boot/initial\n\nENTRYPOINT [ &quot;./gradlew&quot;, &quot;bootRun&quot; ]\n</code></pre>\n<p>Build image</p>\n<pre><code>docker build -t test .\n</code></pre>\n<p>Run container</p>\n<pre><code>docker run --rm -p 8080:8080 test\n</code></pre>\n<p>Go to http://localhost:8080/ on your browser and your Spring-Boot application is running without Rosetta 2.</p>\n<p>Disclaimer: I'm not a Java developer and my Dockerfile is for Proof of Concept purpose.</p>\n<p>Remember that your Docker image is builded to ARM64 architecture. If you wanna run this container on a Intel/AMD processor, you have to change <code>FROM --platform=linux/amd64 ubuntu:20.04</code> on your Dockerfile.</p>\n"},{"tags":[],"owner":{"account_id":1573710,"reputation":448,"user_id":3040844,"display_name":"raxetul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636117121,"creation_date":1636117121,"answer_id":69853637,"question_id":68975743,"body_markdown":"Build your images with [multiarch][1] support to get rid of all possible architecture failures in the future. To do this cleanly, avoid using anything related to the platform in your Dockerfile, just old-school Dockerfiles are ok.\r\n\r\nIf you are using github and github-actions, you may check [this][2] to build your images and push them into your image repository. This can be also used for building images which work on RaspberryPi like SBCs.\r\n\r\n\r\n  [1]: https://docs.docker.com/desktop/multi-arch/\r\n  [2]: https://github.com/raxetul/alpine-s6-nginx-php/blob/master/.github/workflows/docker-publish.yml","title":"Docker image runs on Intel mac but not M1 mac","body":"<p>Build your images with <a href=\"https://docs.docker.com/desktop/multi-arch/\" rel=\"nofollow noreferrer\">multiarch</a> support to get rid of all possible architecture failures in the future. To do this cleanly, avoid using anything related to the platform in your Dockerfile, just old-school Dockerfiles are ok.</p>\n<p>If you are using github and github-actions, you may check <a href=\"https://github.com/raxetul/alpine-s6-nginx-php/blob/master/.github/workflows/docker-publish.yml\" rel=\"nofollow noreferrer\">this</a> to build your images and push them into your image repository. This can be also used for building images which work on RaspberryPi like SBCs.</p>\n"},{"tags":[],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1641173053,"creation_date":1641173053,"answer_id":70560947,"question_id":68975743,"body_markdown":"I made it work with the following image.\r\nI pulled the image with\r\n\r\n    docker pull bellsoft/liberica-openjdk-alpine-musl:17\r\n\r\nMy `Dockerfile`:\r\n\r\n    FROM bellsoft/liberica-openjdk-alpine-musl:17\r\n    ADD build/libs/app-0.0.1-SNAPSHOT-plain.jar app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\r\n\r\n\r\nNow the `docker build` command worked \r\n\r\n","title":"Docker image runs on Intel mac but not M1 mac","body":"<p>I made it work with the following image.\nI pulled the image with</p>\n<pre><code>docker pull bellsoft/liberica-openjdk-alpine-musl:17\n</code></pre>\n<p>My <code>Dockerfile</code>:</p>\n<pre><code>FROM bellsoft/liberica-openjdk-alpine-musl:17\nADD build/libs/app-0.0.1-SNAPSHOT-plain.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;app.jar&quot;]\n</code></pre>\n<p>Now the <code>docker build</code> command worked</p>\n"},{"tags":[],"owner":{"account_id":9338924,"reputation":677,"user_id":8255039,"display_name":"Nishan B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664865500,"creation_date":1664865500,"answer_id":73943936,"question_id":68975743,"body_markdown":"it&#39;s because image is not supported for m1 yet, you can build it for cross platform and run it \r\n\r\n    docker build --platform=linux/arm64 -t image:latest .","title":"Docker image runs on Intel mac but not M1 mac","body":"<p>it's because image is not supported for m1 yet, you can build it for cross platform and run it</p>\n<pre><code>docker build --platform=linux/arm64 -t image:latest .\n</code></pre>\n"}],"owner":{"account_id":32530,"reputation":870,"user_id":90338,"accept_rate":63,"display_name":"greymatter"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22662,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1679589612,"creation_date":1630261047,"question_id":68975743,"body_markdown":"We have a Java Spring Boot application that runs in a Docker container.  It is based on openjdk:13-jdk-alpine.  We deploy it to Linux machines, but we are also able to run it locally on Windows machines, as well as on an Intel-based iMac.\r\n\r\nWe have found, though, that it cannot run properly on an ARM-based MacBook Pro.  The exceptions we get are basic Java errors like &quot;Can&#39;t find symbol Java.class[],&quot; and other things that look like the JVM is off.\r\n\r\nIs there a way to build a Docker image that will work on all these platforms, including the M1 MacBook Pro?","title":"Docker image runs on Intel mac but not M1 mac","body":"<p>We have a Java Spring Boot application that runs in a Docker container.  It is based on openjdk:13-jdk-alpine.  We deploy it to Linux machines, but we are also able to run it locally on Windows machines, as well as on an Intel-based iMac.</p>\n<p>We have found, though, that it cannot run properly on an ARM-based MacBook Pro.  The exceptions we get are basic Java errors like &quot;Can't find symbol Java.class[],&quot; and other things that look like the JVM is off.</p>\n<p>Is there a way to build a Docker image that will work on all these platforms, including the M1 MacBook Pro?</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":1768991,"reputation":827,"user_id":1614217,"accept_rate":43,"display_name":"W A K A L E Y"},"score":1,"creation_date":1369984304,"post_id":16851635,"comment_id":24302357,"body_markdown":"Look at this post :http://stackoverflow.com/questions/629240/prevent-windows-from-going-into-sleep-when-my-program-is-running","body":"Look at this post :<a href=\"http://stackoverflow.com/questions/629240/prevent-windows-from-going-into-sleep-when-my-program-is-running\" title=\"prevent windows from going into sleep when my program is running\">stackoverflow.com/questions/629240/&hellip;</a>"},{"owner":{"account_id":1634848,"reputation":4777,"user_id":1508629,"accept_rate":53,"display_name":"commit"},"score":0,"creation_date":1369984498,"post_id":16851635,"comment_id":24302437,"body_markdown":"What can java do in this?","body":"What can java do in this?"},{"owner":{"account_id":350091,"reputation":6016,"user_id":685760,"accept_rate":89,"display_name":"Mr Moose"},"score":0,"creation_date":1369987654,"post_id":16851635,"comment_id":24303916,"body_markdown":"While not specifically Java related. I do know of a guy who tied a mouse to an oscillating fan to get it to drag the mouse back and forwards. Not exactly high tech, but it works (and it is humorous).","body":"While not specifically Java related. I do know of a guy who tied a mouse to an oscillating fan to get it to drag the mouse back and forwards. Not exactly high tech, but it works (and it is humorous)."}],"answers":[{"tags":[],"owner":{"account_id":22194,"reputation":18092,"user_id":54506,"accept_rate":78,"display_name":"Jayan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369984304,"creation_date":1369984304,"answer_id":16851701,"question_id":16851635,"body_markdown":"There is nothing in java for this.\r\n\r\nThere are windows API to prevent hibernation. See this thread https://stackoverflow.com/questions/629240/prevent-windows-from-going-into-sleep-when-my-program-is-running\r\n\r\n\r\nYou could all call them via JNI or [JNA][1]\r\n\r\n\r\n  [1]: https://github.com/twall/jna","title":"How to prevent system from going to hibernate？","body":"<p>There is nothing in java for this.</p>\n\n<p>There are windows API to prevent hibernation. See this thread <a href=\"https://stackoverflow.com/questions/629240/prevent-windows-from-going-into-sleep-when-my-program-is-running\">Prevent windows from going into sleep when my program is running?</a></p>\n\n<p>You could all call them via JNI or <a href=\"https://github.com/twall/jna\" rel=\"nofollow noreferrer\">JNA</a></p>\n"},{"tags":[],"owner":{"account_id":2749576,"reputation":1,"user_id":2369250,"display_name":"Gurpreet Bagga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369985358,"creation_date":1369985358,"answer_id":16852016,"question_id":16851635,"body_markdown":"There are two ways to avoid your system going into Hibernate mode when your application is running:\r\n\r\n1) I don&#39;t know which Windows operating system you are talking about; but we can disable or enable Hibernation at an operating system level. The enabling/disabling method might differ for different Window versions. \r\n\r\n2) Another way would be to write a C++ program that uses Win32 API to interact at system level. After writing the code, you can export it as a DLL library and then use it in the Java program. Below link provides a sample code that will help you achieve similar functionality.\r\n\r\nhttp://www.codeguru.com/cpp/w-p/system/messagehandling/article.php/c6907/JavaC-PC-Standby-Detect-and-Prevent.htm\r\n","title":"How to prevent system from going to hibernate？","body":"<p>There are two ways to avoid your system going into Hibernate mode when your application is running:</p>\n\n<p>1) I don't know which Windows operating system you are talking about; but we can disable or enable Hibernation at an operating system level. The enabling/disabling method might differ for different Window versions. </p>\n\n<p>2) Another way would be to write a C++ program that uses Win32 API to interact at system level. After writing the code, you can export it as a DLL library and then use it in the Java program. Below link provides a sample code that will help you achieve similar functionality.</p>\n\n<p><a href=\"http://www.codeguru.com/cpp/w-p/system/messagehandling/article.php/c6907/JavaC-PC-Standby-Detect-and-Prevent.htm\" rel=\"nofollow\">http://www.codeguru.com/cpp/w-p/system/messagehandling/article.php/c6907/JavaC-PC-Standby-Detect-and-Prevent.htm</a></p>\n"},{"tags":[],"owner":{"account_id":2731210,"reputation":551,"user_id":2354965,"accept_rate":89,"display_name":"anotherUser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369985391,"creation_date":1369985391,"answer_id":16852023,"question_id":16851635,"body_markdown":"I had similar problems when i wanted to connect via RDP to my pc, i left teamviewer on, but my pc went to hibernate/sleep and this is my solution how i keep my pc &quot;active&quot;.\r\n\r\nTry this, go to Control Panel-&gt;Power Options:\r\n\r\n![This image shows how things look like on Windows 7][1]\r\n\r\nand there u can select power plan, click on &quot;Change plan settings&quot; and u will get to this screen:\r\n\r\n![This image shows how things look like on Windows 7, edit plan settings][2]\r\n\r\nHope that this will help u.\r\n\r\nIf u need some programmatic solution, try with this link:\r\n[How do you keep the machine awake?][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CEbue.png\r\n  [2]: http://i.stack.imgur.com/jCG6v.png\r\n  [3]: https://stackoverflow.com/questions/52874/how-do-you-keep-the-machine-awake","title":"How to prevent system from going to hibernate？","body":"<p>I had similar problems when i wanted to connect via RDP to my pc, i left teamviewer on, but my pc went to hibernate/sleep and this is my solution how i keep my pc \"active\".</p>\n\n<p>Try this, go to Control Panel->Power Options:</p>\n\n<p><img src=\"https://i.stack.imgur.com/CEbue.png\" alt=\"This image shows how things look like on Windows 7\"></p>\n\n<p>and there u can select power plan, click on \"Change plan settings\" and u will get to this screen:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jCG6v.png\" alt=\"This image shows how things look like on Windows 7, edit plan settings\"></p>\n\n<p>Hope that this will help u.</p>\n\n<p>If u need some programmatic solution, try with this link:\n<a href=\"https://stackoverflow.com/questions/52874/how-do-you-keep-the-machine-awake\">How do you keep the machine awake?</a></p>\n"}],"owner":{"account_id":483794,"reputation":767,"user_id":899064,"accept_rate":67,"display_name":"konjac"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3289,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1679589105,"answer_count":3,"score":2,"last_activity_date":1679589204,"creation_date":1369984010,"question_id":16851635,"body_markdown":"I want to develop a Java application, hoping that the system never goes to hibernate when my application running. \r\n\r\nThe application will be deployed in Windows.\r\n\r\nIs there any way to realize this?","title":"How to prevent system from going to hibernate？","body":"<p>I want to develop a Java application, hoping that the system never goes to hibernate when my application running. </p>\n\n<p>The application will be deployed in Windows.</p>\n\n<p>Is there any way to realize this?</p>\n"},{"tags":["java","maven","security","dependencies","owasp"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1575901555,"post_id":59250517,"comment_id":104711456,"body_markdown":"First I would strongly recommend to use a most recent version of dependency-check-maven plugin see https://search.maven.org/search?q=a:dependency-check-maven Furthermore the sonar plugin is not the right one...","body":"First I would strongly recommend to use a most recent version of dependency-check-maven plugin see <a href=\"https://search.maven.org/search?q=a:dependency-check-maven\" rel=\"nofollow noreferrer\">search.maven.org/search?q=a:dependency-check-maven</a> Furthermore the sonar plugin is not the right one..."},{"owner":{"account_id":4725599,"reputation":357,"user_id":3822342,"display_name":"user3822342"},"score":0,"creation_date":1575910911,"post_id":59250517,"comment_id":104716652,"body_markdown":"Hello @khmarbaise ! when i tried to download  the last version 5.2.4 I encountered this error : [ERROR] Unable to download meta file: https://nvd.nist.gov/feeds/json/cve/1.1/nvdcve-1.1-modified.meta","body":"Hello @khmarbaise ! when i tried to download  the last version 5.2.4 I encountered this error : [ERROR] Unable to download meta file: <a href=\"https://nvd.nist.gov/feeds/json/cve/1.1/nvdcve-1.1-modified.meta\" rel=\"nofollow noreferrer\">nvd.nist.gov/feeds/json/cve/1.1/nvdcve-1.1-modified.meta</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1575911521,"post_id":59250517,"comment_id":104716915,"body_markdown":"Where are you trying to download the dependency-check-maven plugin? Just update your pom file (change version in your pom file) ...the download will be done by Maven automatically...","body":"Where are you trying to download the dependency-check-maven plugin? Just update your pom file (change version in your pom file) ...the download will be done by Maven automatically..."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679588895,"creation_date":1679588047,"answer_id":75825478,"question_id":59250517,"body_markdown":"You could take an alternative approach to running `dependency-check-maven` by directly invoking it with this command, mentioned [here][1]:\r\n\r\n    mvn org.owasp:dependency-check-maven:check\r\n\r\nOf course, with this method the dependency check does not get run as part of your build. But it saves you the effort of adding it into your pom.xml.\r\n\r\n  [1]: https://github.com/jeremylong/DependencyCheck#maven-plugin","title":"detect Vulnerability OWASP with maven","body":"<p>You could take an alternative approach to running <code>dependency-check-maven</code> by directly invoking it with this command, mentioned <a href=\"https://github.com/jeremylong/DependencyCheck#maven-plugin\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>mvn org.owasp:dependency-check-maven:check\n</code></pre>\n<p>Of course, with this method the dependency check does not get run as part of your build. But it saves you the effort of adding it into your pom.xml.</p>\n"}],"owner":{"account_id":4725599,"reputation":357,"user_id":3822342,"display_name":"user3822342"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679588895,"creation_date":1575900250,"question_id":59250517,"body_markdown":"In my project , i want to detect vulnerabilities by using dependency-check-maven plugin: \r\nso I added this piece of code in the POM.XML\r\n\r\n```\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.8&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failBuildOnCVSS&gt;6&lt;/failBuildOnCVSS&gt;\r\n\t\t\t\t\t&lt;format&gt;ALL&lt;/format&gt;\r\n                    &lt;outputDirectory&gt;${dependency.check.report.dir}&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n``` \r\n\r\nWhen i executed the command `mvn clean package` \r\n\r\nthe result : Two files dependency-check-report and dependency-check-vulnerability are generated in the folder target of my projet but their content are like this :\r\n\r\n    Scan Information (show all):\r\n    •dependency-check version: 1.2.8\r\n\r\n    •Report Generated On: d&#233;c. 9, 2019 at 14:19:59 GMT+01:00\r\n\r\n    •Dependencies Scanned: 78\r\n\r\n    •Vulnerable Dependencies: 0\r\n\r\n    •Vulnerabilities Found: 0\r\n\r\n    •Vulnerabilities Suppressed: 0\r\n\r\nSo when i saw the console message , i found the message\r\n\r\n    [INFO] Copying webapp resources [C:\\Users\\ychakir\\master\\contraste-server\\contraste-war\\src\\main\\webapp]\r\n\r\n    [INFO] Webapp assembled in [6238 msecs]\r\n\r\n    [INFO] Building war: C:\\Users\\ychakir\\master\\contraste-server\\contraste-war\\target\\contraste-war-1.0.0-SNAPSHOT.war\r\n\r\n    [INFO]\r\n    [INFO] --- dependency-check-maven:1.2.8:check (default) @ contraste-war ---\r\n\r\n    d&#218;c. 09, 2019 2:22:04 PM org.owasp.dependencycheck.Engine analyzeDependencies\r\n\r\n    GRAVE: No documents exist`\r\n\r\n\r\nDo you have any idea please let me know ?\r\n\r\nThank you in advance\r\n","title":"detect Vulnerability OWASP with maven","body":"<p>In my project , i want to detect vulnerabilities by using dependency-check-maven plugin: \nso I added this piece of code in the POM.XML</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;1.2.8&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;failBuildOnCVSS&gt;6&lt;/failBuildOnCVSS&gt;\n                    &lt;format&gt;ALL&lt;/format&gt;\n                    &lt;outputDirectory&gt;${dependency.check.report.dir}&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n\n<p>When i executed the command <code>mvn clean package</code> </p>\n\n<p>the result : Two files dependency-check-report and dependency-check-vulnerability are generated in the folder target of my projet but their content are like this :</p>\n\n<pre><code>Scan Information (show all):\n•dependency-check version: 1.2.8\n\n•Report Generated On: déc. 9, 2019 at 14:19:59 GMT+01:00\n\n•Dependencies Scanned: 78\n\n•Vulnerable Dependencies: 0\n\n•Vulnerabilities Found: 0\n\n•Vulnerabilities Suppressed: 0\n</code></pre>\n\n<p>So when i saw the console message , i found the message</p>\n\n<pre><code>[INFO] Copying webapp resources [C:\\Users\\ychakir\\master\\contraste-server\\contraste-war\\src\\main\\webapp]\n\n[INFO] Webapp assembled in [6238 msecs]\n\n[INFO] Building war: C:\\Users\\ychakir\\master\\contraste-server\\contraste-war\\target\\contraste-war-1.0.0-SNAPSHOT.war\n\n[INFO]\n[INFO] --- dependency-check-maven:1.2.8:check (default) @ contraste-war ---\n\ndÚc. 09, 2019 2:22:04 PM org.owasp.dependencycheck.Engine analyzeDependencies\n\nGRAVE: No documents exist`\n</code></pre>\n\n<p>Do you have any idea please let me know ?</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","graph-databases","gremlin","case-insensitive"],"answers":[{"tags":[],"owner":{"account_id":2053237,"reputation":45626,"user_id":1831717,"display_name":"stephen mallette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679588529,"creation_date":1569430387,"answer_id":58103202,"question_id":58102960,"body_markdown":"Officially, Gremlin currently only has three text [predicates][1] at this time as exposed by `TextP`: `startingWith`, `endingWith` and `containing` (as well as their negations), but their default implementations are case sensitive:\r\n\r\n    gremlin&gt; g.V().has(&#39;person&#39;,&#39;name&#39;,containing(&#39;ark&#39;)).values(&#39;name&#39;)\r\n    ==&gt;marko\r\n    gremlin&gt; g.V().has(&#39;person&#39;,&#39;name&#39;,containing(&#39;Ark&#39;)).values(&#39;name&#39;)\r\n    gremlin&gt; \r\n\r\nDepending on the TinkerPop-enabled graph database that you use, you may have this sort of feature available to you as well as other more advanced search options (e.g. regex). For example, JanusGraph supports full-text search as case insensitive as well as a host of [other options][2]. DS Graph also has a [rich text search system][3] on top of the basic Gremlin options. So, if you have a explicit need for the type of search you describe you may need to look into the options provided by individual graph systems. \r\n\r\nWhile it&#39;s not recommended for a number of reasons you can use a lambda:\r\n\r\n    gremlin&gt; g.V().filter{it.get().value(&#39;name&#39;).toUpperCase() == &#39;MARKO&#39;}.values(&#39;name&#39;)\r\n    ==&gt;marko\r\n\r\nThe downside to lambdas are that:\r\n\r\n1. they aren&#39;t supported by all providers and therefore your code portability is reduced\r\n2. they force requests to be evaluated in a manner that can be more costly than a traversal that strictly uses Gremlin steps.\r\n\r\nTinkerPop is slowly identifying commonalities among search options provided by different vendors and will continue to generalize those features as opportunity presents itself, so that they are available as first-class citizens in the Gremlin language itself.\r\n\r\n**UPDATE:** As of TinkerPop 3.6.0, Gremlin now has a `TextP.regex` predicate that can help with these sorts of searches:\r\n\r\n    gremlin&gt; g.V().has(&#39;name&#39;, TextP.regex(&#39;[M|m].*o&#39;)).elementMap()\r\n    ==&gt;[id:1,label:person,name:marko,age:29]\r\n    gremlin&gt; g.V().has(&#39;name&#39;, TextP.regex(&#39;(?i)M.*O&#39;)).elementMap()\r\n    ==&gt;[id:1,label:person,name:marko,age:29]\r\n\r\nNote that the `(?i)` enables the Java&#39;s `Pattern.CASE_INSENSITIVE` pattern matching mode.\r\n\r\n  [1]: http://tinkerpop.apache.org/docs/current/reference/#a-note-on-predicates\r\n  [2]: https://docs.janusgraph.org/master/index-backend/text-search/\r\n  [3]: https://docs.datastax.com/en/dse/6.0/dse-dev/datastax_enterprise/graph/using/useSearchIndexes.html\r\n","title":"Gremlin case insensitive search","body":"<p>Officially, Gremlin currently only has three text <a href=\"http://tinkerpop.apache.org/docs/current/reference/#a-note-on-predicates\" rel=\"nofollow noreferrer\">predicates</a> at this time as exposed by <code>TextP</code>: <code>startingWith</code>, <code>endingWith</code> and <code>containing</code> (as well as their negations), but their default implementations are case sensitive:</p>\n<pre><code>gremlin&gt; g.V().has('person','name',containing('ark')).values('name')\n==&gt;marko\ngremlin&gt; g.V().has('person','name',containing('Ark')).values('name')\ngremlin&gt; \n</code></pre>\n<p>Depending on the TinkerPop-enabled graph database that you use, you may have this sort of feature available to you as well as other more advanced search options (e.g. regex). For example, JanusGraph supports full-text search as case insensitive as well as a host of <a href=\"https://docs.janusgraph.org/master/index-backend/text-search/\" rel=\"nofollow noreferrer\">other options</a>. DS Graph also has a <a href=\"https://docs.datastax.com/en/dse/6.0/dse-dev/datastax_enterprise/graph/using/useSearchIndexes.html\" rel=\"nofollow noreferrer\">rich text search system</a> on top of the basic Gremlin options. So, if you have a explicit need for the type of search you describe you may need to look into the options provided by individual graph systems.</p>\n<p>While it's not recommended for a number of reasons you can use a lambda:</p>\n<pre><code>gremlin&gt; g.V().filter{it.get().value('name').toUpperCase() == 'MARKO'}.values('name')\n==&gt;marko\n</code></pre>\n<p>The downside to lambdas are that:</p>\n<ol>\n<li>they aren't supported by all providers and therefore your code portability is reduced</li>\n<li>they force requests to be evaluated in a manner that can be more costly than a traversal that strictly uses Gremlin steps.</li>\n</ol>\n<p>TinkerPop is slowly identifying commonalities among search options provided by different vendors and will continue to generalize those features as opportunity presents itself, so that they are available as first-class citizens in the Gremlin language itself.</p>\n<p><strong>UPDATE:</strong> As of TinkerPop 3.6.0, Gremlin now has a <code>TextP.regex</code> predicate that can help with these sorts of searches:</p>\n<pre><code>gremlin&gt; g.V().has('name', TextP.regex('[M|m].*o')).elementMap()\n==&gt;[id:1,label:person,name:marko,age:29]\ngremlin&gt; g.V().has('name', TextP.regex('(?i)M.*O')).elementMap()\n==&gt;[id:1,label:person,name:marko,age:29]\n</code></pre>\n<p>Note that the <code>(?i)</code> enables the Java's <code>Pattern.CASE_INSENSITIVE</code> pattern matching mode.</p>\n"},{"tags":[],"owner":{"account_id":9288632,"reputation":646,"user_id":6897682,"display_name":"Shinigami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655984765,"creation_date":1655984765,"answer_id":72729626,"question_id":58102960,"body_markdown":"I just had the same problem, but found an acceptable solution (at least for me)\r\n\r\n    String search = &quot;any&quot;\r\n\r\n    g.V().hasLabel(label)\r\n      .as(&quot;V&quot;)\r\n      .properties(prop1, prop2, ...)\r\n      .or(\r\n        // Use fuzzy search with 1 to allow swapped chars\r\n        hasValue(tokenFuzzy(search, 1)),\r\n        // Search for exact contain match\r\n        hasValue(containing(search)),\r\n        // Search for incase sensitive start with\r\n        hasValue(tokenPrefix(search))\r\n      )\r\n      .select(&quot;V&quot;)\r\n      .dedup()\r\n\r\nWhen I now search for &quot;ger&quot; or &quot;any&quot; I would get &quot;It&#39;s sunny currently in germany&quot;.\r\n\r\nI use `as` to store my current vertex before I using `properties` as this would leave only the selected props, but I want the full vertex after the search.  \r\nAlso I need `dedup` as a hit could be made in `prop1` and `prop2` resulting in duplicate founds.","title":"Gremlin case insensitive search","body":"<p>I just had the same problem, but found an acceptable solution (at least for me)</p>\n<pre><code>String search = &quot;any&quot;\n\ng.V().hasLabel(label)\n  .as(&quot;V&quot;)\n  .properties(prop1, prop2, ...)\n  .or(\n    // Use fuzzy search with 1 to allow swapped chars\n    hasValue(tokenFuzzy(search, 1)),\n    // Search for exact contain match\n    hasValue(containing(search)),\n    // Search for incase sensitive start with\n    hasValue(tokenPrefix(search))\n  )\n  .select(&quot;V&quot;)\n  .dedup()\n</code></pre>\n<p>When I now search for &quot;ger&quot; or &quot;any&quot; I would get &quot;It's sunny currently in germany&quot;.</p>\n<p>I use <code>as</code> to store my current vertex before I using <code>properties</code> as this would leave only the selected props, but I want the full vertex after the search.<br />\nAlso I need <code>dedup</code> as a hit could be made in <code>prop1</code> and <code>prop2</code> resulting in duplicate founds.</p>\n"}],"owner":{"account_id":8388966,"reputation":123,"user_id":6298337,"display_name":"Samuel Konat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58103202,"answer_count":2,"score":1,"last_activity_date":1679588529,"creation_date":1569429471,"question_id":58102960,"body_markdown":"I am new to Gremlin and I am using the Gremlin console to read data from a graph database. In the graph, there are vertices with label &quot;Device&quot;. These vertices have a property &quot;name&quot; associated with them. I need to find out if there is a vertex that has a certain name. This check has to be case insensitive. \r\n\r\nSuppose I was to do this in a relational database, I could write the following query:\r\n\r\n    SELECT * FROM device d WHERE LOWER(d.name) = &#39;mydevice&#39;\r\n\r\nI am searching for a function similar to &#39;LOWER&#39; in Gremlin. If there isn&#39;t a function for that, can somebody tell me how I can search properties of vertices without considering alphabetic case?\r\n\r\nThank you.","title":"Gremlin case insensitive search","body":"<p>I am new to Gremlin and I am using the Gremlin console to read data from a graph database. In the graph, there are vertices with label \"Device\". These vertices have a property \"name\" associated with them. I need to find out if there is a vertex that has a certain name. This check has to be case insensitive. </p>\n\n<p>Suppose I was to do this in a relational database, I could write the following query:</p>\n\n<pre><code>SELECT * FROM device d WHERE LOWER(d.name) = 'mydevice'\n</code></pre>\n\n<p>I am searching for a function similar to 'LOWER' in Gremlin. If there isn't a function for that, can somebody tell me how I can search properties of vertices without considering alphabetic case?</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","ssl","memory-leaks","out-of-memory","java-memory-leaks"],"comments":[{"owner":{"account_id":2550620,"reputation":4287,"user_id":2214440,"display_name":"Henriette Harmse"},"score":0,"creation_date":1687280341,"post_id":73508463,"comment_id":134913461,"body_markdown":"Did you find the cause of the memory consumption?","body":"Did you find the cause of the memory consumption?"}],"owner":{"account_id":15629729,"reputation":31,"user_id":11276329,"display_name":"Viv_Cham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679588516,"creation_date":1661576028,"question_id":73508463,"body_markdown":"In our application we are using Spring Framework v2.3.3.RELEASE. The application acts as a GRPC Server and responds to GRPC Requests sent from another application (It&#39;s micro-service architecture).\r\n\r\nDuring our Performance Testing, we observed very high Memory Consumption in our app. On Analysing, found out that Old Generation was filling up very fast. Minor GC was not clearing up space.\r\n[GC Pattern][1]\r\n\r\nOn taking Heap Dump, we found that the issue was with **sun.security.ssl.SSLSessionContextImpl**\r\n[Heap Dump Overview][2]\r\n[Incoming References][3]\r\n\r\nWe are not using this Class from our side in the code. How can we find from where it is being referenced??\r\n\r\nHow can we get rid of this memory issue... if anyone else has faced this?\r\n\r\n**Open JDK Version:** 1.8.0_262\r\n\r\n**Java Options:** -XX:MetaspaceSize=256M -XX:MaxMetaspaceSize=256M -Xmx6144m -Xms6144m -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringCache -XX:+OptimizeStringConcat -XX:+HeapDumpOnOutOfMemoryError -XX:+UseG1GC \r\n\r\n  [1]: https://i.stack.imgur.com/7xhDA.png\r\n  [2]: https://i.stack.imgur.com/JWI6y.png\r\n  [3]: https://i.stack.imgur.com/brXXE.jpg","title":"Java | Memory Leak issue due to sun.security.ssl.SSLSessionContextImpl","body":"<p>In our application we are using Spring Framework v2.3.3.RELEASE. The application acts as a GRPC Server and responds to GRPC Requests sent from another application (It's micro-service architecture).</p>\n<p>During our Performance Testing, we observed very high Memory Consumption in our app. On Analysing, found out that Old Generation was filling up very fast. Minor GC was not clearing up space.\n<a href=\"https://i.stack.imgur.com/7xhDA.png\" rel=\"nofollow noreferrer\">GC Pattern</a></p>\n<p>On taking Heap Dump, we found that the issue was with <strong>sun.security.ssl.SSLSessionContextImpl</strong>\n<a href=\"https://i.stack.imgur.com/JWI6y.png\" rel=\"nofollow noreferrer\">Heap Dump Overview</a>\n<a href=\"https://i.stack.imgur.com/brXXE.jpg\" rel=\"nofollow noreferrer\">Incoming References</a></p>\n<p>We are not using this Class from our side in the code. How can we find from where it is being referenced??</p>\n<p>How can we get rid of this memory issue... if anyone else has faced this?</p>\n<p><strong>Open JDK Version:</strong> 1.8.0_262</p>\n<p><strong>Java Options:</strong> -XX:MetaspaceSize=256M -XX:MaxMetaspaceSize=256M -Xmx6144m -Xms6144m -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+UseStringCache -XX:+OptimizeStringConcat -XX:+HeapDumpOnOutOfMemoryError -XX:+UseG1GC</p>\n"},{"tags":["java","spring-boot","spring-security","spring-filter"],"answers":[{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1610564970,"creation_date":1610564660,"answer_id":65708311,"question_id":65708171,"body_markdown":"I think what you want to do is implement AuthenticationProvider. It allows your code to explicitly manage the authentication portion. It has a fairly simple method signature to implement as well.\r\n\r\n    public class YourAuthenticationProvider implements AuthenticationProvider {\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            String username = authentication.getName();\r\n            String password = authentication.getCredentials().toString();\r\n            ...\r\n            return new UsernamePasswordAuthenticationToken(principal, password, principal.getAuthorities())\r\n        }\r\n\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }\r\n\r\n\r\nYou can register it by adding it to the AuthenticationManagerBuilder in a config that extends WebSecurityConfigurerAdapter\r\n\r\n    @Configuration\r\n    class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) {\r\n            AuthenticationProvider provider= new YourAuthenticationProvider();\r\n            auth.authenticationProvider(provider);\r\n        }\r\n    }\r\n\r\n","title":"How to create a custom authentication filter in Spring Security?","body":"<p>I think what you want to do is implement AuthenticationProvider. It allows your code to explicitly manage the authentication portion. It has a fairly simple method signature to implement as well.</p>\n<pre><code>public class YourAuthenticationProvider implements AuthenticationProvider {\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n        ...\n        return new UsernamePasswordAuthenticationToken(principal, password, principal.getAuthorities())\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n<p>You can register it by adding it to the AuthenticationManagerBuilder in a config that extends WebSecurityConfigurerAdapter</p>\n<pre><code>@Configuration\nclass SecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        AuthenticationProvider provider= new YourAuthenticationProvider();\n        auth.authenticationProvider(provider);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5682356,"reputation":1508,"user_id":4493048,"display_name":"Mathew Alden"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1679587880,"creation_date":1610665418,"answer_id":65728161,"question_id":65708171,"body_markdown":"**Edit: This is the not best way to do things. It doesn&#39;t follow best practices.**\r\n\r\nAs others have pointed out, it&#39;s better to use Basic auth or OAuth2, both of which are built into Spring. But if you really want to implement a custom filter, you can do something like this. (Please correct me if I&#39;m doing this wrong.) But don&#39;t do this exactly. This is not a very secure example; it&#39;s a simple example.\r\n\r\n```\r\nclass CustomAuthenticationFilter(val authManager: AuthenticationManager) : OncePerRequestFilter() {\r\n\r\n    override fun doFilterInternal(request: HttpServletRequest,\r\n                                  response: HttpServletResponse,\r\n                                  chain: FilterChain) {\r\n\r\n        val username = request.getHeader(&quot;foo_username&quot;)\r\n        val password = request.getHeader(&quot;foo_password&quot;)\r\n\r\n        if(username==null &amp;&amp; password==null){\r\n            // not our responsibility. delegate down the chain. maybe a different filter will understand this request.\r\n            chain.doFilter(request, response) \r\n            return\r\n        }else if (username==null || password==null) {\r\n            // user is clearly trying to authenticate against the CustomAuthenticationFilter, but has done something wrong.\r\n            response.status = 401\r\n            return\r\n        }\r\n\r\n        // construct one of Spring&#39;s auth tokens\r\n        val authentication =  UsernamePasswordAuthenticationToken(username, password, ArrayList())\r\n        // delegate checking the validity of that token to our authManager\r\n        val userPassAuth = this.authManager.authenticate(authRequest)\r\n        // store completed authentication in security context\r\n        SecurityContextHolder.getContext().authentication = userPassAuth\r\n        // continue down the chain.\r\n        chain.doFilter(request, response)\r\n    }\r\n}\r\n```\r\n\r\nOnce you&#39;ve created your auth filter, don&#39;t forget to add it to your HttpSecurity config, like this:\r\n```\r\noverride fun configure(http: HttpSecurity?) {\r\n    http!!.addFilterBefore(CustomAuthenticationFilter(authenticationManager()), UsernamePasswordAuthenticationFilter::class.java)\r\n}","title":"How to create a custom authentication filter in Spring Security?","body":"<p><strong>Edit: This is the not best way to do things. It doesn't follow best practices.</strong></p>\n<p>As others have pointed out, it's better to use Basic auth or OAuth2, both of which are built into Spring. But if you really want to implement a custom filter, you can do something like this. (Please correct me if I'm doing this wrong.) But don't do this exactly. This is not a very secure example; it's a simple example.</p>\n<pre><code>class CustomAuthenticationFilter(val authManager: AuthenticationManager) : OncePerRequestFilter() {\n\n    override fun doFilterInternal(request: HttpServletRequest,\n                                  response: HttpServletResponse,\n                                  chain: FilterChain) {\n\n        val username = request.getHeader(&quot;foo_username&quot;)\n        val password = request.getHeader(&quot;foo_password&quot;)\n\n        if(username==null &amp;&amp; password==null){\n            // not our responsibility. delegate down the chain. maybe a different filter will understand this request.\n            chain.doFilter(request, response) \n            return\n        }else if (username==null || password==null) {\n            // user is clearly trying to authenticate against the CustomAuthenticationFilter, but has done something wrong.\n            response.status = 401\n            return\n        }\n\n        // construct one of Spring's auth tokens\n        val authentication =  UsernamePasswordAuthenticationToken(username, password, ArrayList())\n        // delegate checking the validity of that token to our authManager\n        val userPassAuth = this.authManager.authenticate(authRequest)\n        // store completed authentication in security context\n        SecurityContextHolder.getContext().authentication = userPassAuth\n        // continue down the chain.\n        chain.doFilter(request, response)\n    }\n}\n</code></pre>\n<p>Once you've created your auth filter, don't forget to add it to your HttpSecurity config, like this:</p>\n<pre><code>override fun configure(http: HttpSecurity?) {\n    http!!.addFilterBefore(CustomAuthenticationFilter(authenticationManager()), UsernamePasswordAuthenticationFilter::class.java)\n}\n</code></pre>\n"}],"owner":{"account_id":5682356,"reputation":1508,"user_id":4493048,"display_name":"Mathew Alden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33630,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":65728161,"answer_count":2,"score":7,"last_activity_date":1679587880,"creation_date":1610564008,"question_id":65708171,"body_markdown":"I&#39;m trying to create a custom Spring Security Authentication Filter in order to implement a custom authentication scheme. I&#39;ve spent a couple hours reading up on Spring Security, but all of the guides I&#39;ve found explain how to configure basic setups; I&#39;m trying to write a custom setup, and I&#39;m having trouble finding documentation on how to do so. \r\n\r\nFor the sake of example, lets say that my custom authentication scheme is as follows:\r\nIf the client provides a &quot;foo_username&quot; header and a &quot;foo_password&quot; header in the http request (both unencrypted for the sake of example), then my custom filter needs to construct a UsernamePasswordAuthenticationToken. Of course if the password is wrong, that&#39;s an authentication error. If either header is missing that&#39;s an authentication error. If both headers are missing, I want to delegate down the filter chain without changing anything.\r\n\r\nThat seems simple enough in theory, but I don&#39;t know how to implement that in Spring. Am I intended to check the password against the DB myself? or is that the reponsibility of the UserDetailsPasswordService? Am I intended to modify the SecurityContextHolder.getContext().authentication field myself? What responsibilities do I delegate to the AuthenticationManager? Which exceptions do I throw when authentication fails in various ways? Do I implement Filter, OncePerRequestFilter, or AbstractAuthenticationFilter? Is there any documentation on how to do all this???\r\n\r\nAdmittedly, this is a duplciate of https://stackoverflow.com/questions/38940761, but I&#39;m not him, and he got no answers.\r\n\r\nThanks for the help!","title":"How to create a custom authentication filter in Spring Security?","body":"<p>I'm trying to create a custom Spring Security Authentication Filter in order to implement a custom authentication scheme. I've spent a couple hours reading up on Spring Security, but all of the guides I've found explain how to configure basic setups; I'm trying to write a custom setup, and I'm having trouble finding documentation on how to do so.</p>\n<p>For the sake of example, lets say that my custom authentication scheme is as follows:\nIf the client provides a &quot;foo_username&quot; header and a &quot;foo_password&quot; header in the http request (both unencrypted for the sake of example), then my custom filter needs to construct a UsernamePasswordAuthenticationToken. Of course if the password is wrong, that's an authentication error. If either header is missing that's an authentication error. If both headers are missing, I want to delegate down the filter chain without changing anything.</p>\n<p>That seems simple enough in theory, but I don't know how to implement that in Spring. Am I intended to check the password against the DB myself? or is that the reponsibility of the UserDetailsPasswordService? Am I intended to modify the SecurityContextHolder.getContext().authentication field myself? What responsibilities do I delegate to the AuthenticationManager? Which exceptions do I throw when authentication fails in various ways? Do I implement Filter, OncePerRequestFilter, or AbstractAuthenticationFilter? Is there any documentation on how to do all this???</p>\n<p>Admittedly, this is a duplciate of <a href=\"https://stackoverflow.com/questions/38940761\">How to create your own security filter using Spring security?</a>, but I'm not him, and he got no answers.</p>\n<p>Thanks for the help!</p>\n"},{"tags":["java","performance","class","oop","generics"],"comments":[{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":1,"creation_date":1679602157,"post_id":75825328,"comment_id":133755525,"body_markdown":"Your example seems over-minimized to me - I miss the usage of `request` argument in concrete `handlePersonX` methods. Without it, simple `PersonExample&lt;T&gt; personExample= new PersonExample&lt;&gt;(classType);` would suffice which is probably not what you want. Is the `String request` a potential source of many different subtypes? It would point us to factory or some other creational design pattern (you may expect it from `Something` class?). Also please specify your Java version since in modern Java versions it can be done in more convenient way (patterns in switch).","body":"Your example seems over-minimized to me - I miss the usage of <code>request</code> argument in concrete <code>handlePersonX</code> methods. Without it, simple <code>PersonExample&lt;T&gt; personExample= new PersonExample&lt;&gt;(classType);</code> would suffice which is probably not what you want. Is the <code>String request</code> a potential source of many different subtypes? It would point us to factory or some other creational design pattern (you may expect it from <code>Something</code> class?). Also please specify your Java version since in modern Java versions it can be done in more convenient way (patterns in switch)."},{"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"score":0,"creation_date":1679672717,"post_id":75825328,"comment_id":133768621,"body_markdown":"First of all thank you for you answer.\nI am using Java 11, and my problem is in the handle person functions, the code of the PersonExample is already working and its ok. final String request is a JSON that will be converted to a JAVA object that contains an T[] with elements of person1, or person2, or person3, so yeah, request can have different types of person in. The handlefunction already accepts every kind of person, but the problem is that I have different endpoints that are the same and call handlePerson1, 2 etc. and that functions are the same, the difference is the &lt;T&gt; classtype.","body":"First of all thank you for you answer. I am using Java 11, and my problem is in the handle person functions, the code of the PersonExample is already working and its ok. final String request is a JSON that will be converted to a JAVA object that contains an T[] with elements of person1, or person2, or person3, so yeah, request can have different types of person in. The handlefunction already accepts every kind of person, but the problem is that I have different endpoints that are the same and call handlePerson1, 2 etc. and that functions are the same, the difference is the &lt;T&gt; classtype."},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1679673930,"post_id":75825328,"comment_id":133768947,"body_markdown":"Please show more code. The `request` arguments are still unused. If request can contain mixed information of `Person1`, `Person2` etc., how can the client of - say - `handlePerson1` method know it has to call just this method?","body":"Please show more code. The <code>request</code> arguments are still unused. If request can contain mixed information of <code>Person1</code>, <code>Person2</code> etc., how can the client of - say - <code>handlePerson1</code> method know it has to call just this method?"},{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1679782426,"post_id":75825328,"comment_id":133783250,"body_markdown":"I agree with Tom&#225;š that the information in the question is not sufficient. However, from the very last sentence (&quot;transform handlePerson1, 2 etc.. in one single function&quot;) and from your comments here I could imagine that you maybe simply look for the [generic method syntax](https://docs.oracle.com/javase/tutorial/java/generics/methods.html):\n`public &lt;T extends Person&gt; void handlePerson(final String request) {PersonExample&lt;T&gt; personExample = ...}`.\nYou might run into troubles with type erasure then, but is this at least the direction you&#39;re looking for?","body":"I agree with Tom&#225;š that the information in the question is not sufficient. However, from the very last sentence (&quot;transform handlePerson1, 2 etc.. in one single function&quot;) and from your comments here I could imagine that you maybe simply look for the <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">generic method syntax</a>: <code>public &lt;T extends Person&gt; void handlePerson(final String request) {PersonExample&lt;T&gt; personExample = ...}</code>. You might run into troubles with type erasure then, but is this at least the direction you&#39;re looking for?"},{"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"score":0,"creation_date":1679929796,"post_id":75825328,"comment_id":133804885,"body_markdown":"Request is a JSON String I get from AWS API. I have multiple endpoints, one for every kind of person. The problem is I want to transform the handleperson1,2,3 in just one function, where the JSON string request will be converted with jackson to a object and make all generic. Is it possible? I dont know which code you want me to show because this is something more complex and I dont know the exact code you want me to show to you","body":"Request is a JSON String I get from AWS API. I have multiple endpoints, one for every kind of person. The problem is I want to transform the handleperson1,2,3 in just one function, where the JSON string request will be converted with jackson to a object and make all generic. Is it possible? I dont know which code you want me to show because this is something more complex and I dont know the exact code you want me to show to you"},{"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"score":0,"creation_date":1679929897,"post_id":75825328,"comment_id":133804920,"body_markdown":"@Sebastian That is my problem!! I have problems with the type of persons, because I need to specify the type for a lot of different methods I have. For example the jackson type to transform the JSON &quot;request&quot; into the person1, 2 etc.","body":"@Sebastian That is my problem!! I have problems with the type of persons, because I need to specify the type for a lot of different methods I have. For example the jackson type to transform the JSON &quot;request&quot; into the person1, 2 etc."},{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1679944642,"post_id":75825328,"comment_id":133808735,"body_markdown":"@RenatoQuelhas if you know the explict type when you call the function `handlePerson`, then you could give it an additional argument `Class&lt;T&gt; type` and then call it like `handlePerson(request, Person1.class)` . This is a common technique to avoid type erasure. See e.g. [here](https://stackoverflow.com/a/3437930/15983216) . Would this solve your problem?","body":"@RenatoQuelhas if you know the explict type when you call the function <code>handlePerson</code>, then you could give it an additional argument <code>Class&lt;T&gt; type</code> and then call it like <code>handlePerson(request, Person1.class)</code> . This is a common technique to avoid type erasure. See e.g. <a href=\"https://stackoverflow.com/a/3437930/15983216\">here</a> . Would this solve your problem?"},{"owner":{"account_id":21664607,"reputation":435,"user_id":15983216,"display_name":"Sebastian"},"score":0,"creation_date":1679944973,"post_id":75825328,"comment_id":133808809,"body_markdown":"BTW, [this question](https://stackoverflow.com/questions/8467629/type-erasure-passing-class-in-argument#8467671) seems to me somewhat related to what you are trying to do. Maybe you can also find some useful hints there?","body":"BTW, <a href=\"https://stackoverflow.com/questions/8467629/type-erasure-passing-class-in-argument#8467671\">this question</a> seems to me somewhat related to what you are trying to do. Maybe you can also find some useful hints there?"}],"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679587671,"creation_date":1679587332,"question_id":75825328,"body_markdown":"I have multiple child objects that extend the PERSON type. Then, for every type of person I have different methods that are similar to each other, and the only difference is the class subtype\r\n\r\n-For example:\r\n \r\n\r\n\r\n    public void handlePerson1(final String request) {\r\n    \r\n            PersonExample&lt;Person1&gt; personExample= new PersonExample&lt;&gt;(Person1.class);\r\n            OtherPersonExample&lt;Person1&gt; otherPersonExample = new OtherPersonExample&lt;&gt;(Person1.class);\r\n    \r\n    public void handlePerson2(final String request) {\r\n    \r\n            PersonExample&lt;Person2&gt; personExample= new PersonExample&lt;&gt;(Person2.class);\r\n            OtherPersonExample&lt;Person2&gt; otherPersonExample = new OtherPersonExample&lt;&gt;(Person2.class);\r\n\r\n\r\n\r\n\r\nI tried to make the main class extend a generic type so that I could initiate the remaining classes using the type I needed, because with other functions, I have something very similar that worked out. For example, in the code above, the personExample:\r\n\r\n\r\n\r\n    public class PersonExample&lt;T extends Person&gt; {\r\n        private final Class&lt;T&gt; classType;\r\n    \r\n        //Get Class Type\r\n        public PersonExample(final Class&lt;T&gt; classType) {\r\n            this.classType = classType;\r\n        }\r\n    \r\n        public void handleFunction(Something&lt;T&gt; something) {\r\n                  //SOMETHING CAN HAVE A PERSON1, OR PERSON2, etc...\r\n    \r\n        }\r\n\r\n\r\n\r\n\r\nCan someone help me transform handlePerson1, 2 etc.. in one singular function?","title":"Generic Class functions optimized","body":"<p>I have multiple child objects that extend the PERSON type. Then, for every type of person I have different methods that are similar to each other, and the only difference is the class subtype</p>\n<p>-For example:</p>\n<pre><code>public void handlePerson1(final String request) {\n\n        PersonExample&lt;Person1&gt; personExample= new PersonExample&lt;&gt;(Person1.class);\n        OtherPersonExample&lt;Person1&gt; otherPersonExample = new OtherPersonExample&lt;&gt;(Person1.class);\n\npublic void handlePerson2(final String request) {\n\n        PersonExample&lt;Person2&gt; personExample= new PersonExample&lt;&gt;(Person2.class);\n        OtherPersonExample&lt;Person2&gt; otherPersonExample = new OtherPersonExample&lt;&gt;(Person2.class);\n</code></pre>\n<p>I tried to make the main class extend a generic type so that I could initiate the remaining classes using the type I needed, because with other functions, I have something very similar that worked out. For example, in the code above, the personExample:</p>\n<pre><code>public class PersonExample&lt;T extends Person&gt; {\n    private final Class&lt;T&gt; classType;\n\n    //Get Class Type\n    public PersonExample(final Class&lt;T&gt; classType) {\n        this.classType = classType;\n    }\n\n    public void handleFunction(Something&lt;T&gt; something) {\n              //SOMETHING CAN HAVE A PERSON1, OR PERSON2, etc...\n\n    }\n</code></pre>\n<p>Can someone help me transform handlePerson1, 2 etc.. in one singular function?</p>\n"},{"tags":["java","spring-boot","zipkin"],"answers":[{"tags":[],"owner":{"account_id":10207255,"reputation":21,"user_id":7535604,"display_name":"onox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679587512,"creation_date":1679587512,"answer_id":75825363,"question_id":75806402,"body_markdown":"**Resolved**\r\n\r\nAdded next dependencies\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n      &lt;version&gt;2021.0.5&lt;/version&gt;\r\n      &lt;type&gt;pom&lt;/type&gt;\r\n      &lt;scope&gt;import&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nUpdate Spring Boot Version \r\n```\r\n&lt;spring-boot.version&gt;2.7.0&lt;/spring-boot.version&gt;\r\n```\r\n\r\nRestore zipkin-server.yml and add next properties in zipkin-server-shared.yml:\r\n```\r\neureka:\r\n  instance:\r\n    preferIpAddress: true\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:8761/eureka\r\n```","title":"Zipkin server as a eureka client","body":"<p><strong>Resolved</strong></p>\n<p>Added next dependencies</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n      &lt;version&gt;2021.0.5&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n      &lt;scope&gt;import&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n      &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Update Spring Boot Version</p>\n<pre><code>&lt;spring-boot.version&gt;2.7.0&lt;/spring-boot.version&gt;\n</code></pre>\n<p>Restore zipkin-server.yml and add next properties in zipkin-server-shared.yml:</p>\n<pre><code>eureka:\n  instance:\n    preferIpAddress: true\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka\n</code></pre>\n"}],"owner":{"account_id":10207255,"reputation":21,"user_id":7535604,"display_name":"onox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679587512,"creation_date":1679433189,"question_id":75806402,"body_markdown":"Finding the best way in order to register my Zipkin Server on Eureka Discovery Server, seems that custom servers are possible but not supported by the community so the most correct way is modify the source code.\r\n\r\nThe process done was:\r\n1) Clone repository:\r\n```\r\ngit clone https://github.com/openzipkin/zipkin\r\ncd zipkin\r\n```\r\n\r\n2) Add Eureka Client dependency on zipkin-server module (same versions than my other microservices)\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n      &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n3) Enable eureka client on ZipkinServer.java\r\n```\r\n@EnableEurekaClient\r\n```\r\n\r\n4) Add configuration needed properties in zipkin-server.yml\r\n```\r\nspring:\r\n  profiles:\r\n    include: shared\r\n  application:\r\n    name: ZIPKIN-SERVICE\r\n\r\narmeria:\r\n  enableMetrics: false\r\n\r\neureka:\r\n  instance:\r\n    preferIpAddress: true\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:8761/eureka\r\n```\r\n\r\n5) Compile and run\r\n```\r\n./mvnw -DskipTests --also-make -pl zipkin-server clean install\r\njava -jar ./zipkin-server/target/zipkin-server-*exec.jar\r\n```\r\n\r\nI tryied to use @EnableDiscoveryClient instead of @EnableEurekaClient and try some other configurations on zipkin-server.yml but always server isn&#39;t registered on eureka without showing any error message. Here the repository: https://github.com/SoftwarDevelop3r/zipkin/tree/feature/discoveryServiceClient\r\n\r\nWhat can I do register Zipkin server on Eureka?\r\n\r\n\r\nThanks,\r\n\r\nRegards","title":"Zipkin server as a eureka client","body":"<p>Finding the best way in order to register my Zipkin Server on Eureka Discovery Server, seems that custom servers are possible but not supported by the community so the most correct way is modify the source code.</p>\n<p>The process done was:</p>\n<ol>\n<li>Clone repository:</li>\n</ol>\n<pre><code>git clone https://github.com/openzipkin/zipkin\ncd zipkin\n</code></pre>\n<ol start=\"2\">\n<li>Add Eureka Client dependency on zipkin-server module (same versions than my other microservices)</li>\n</ol>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n      &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Enable eureka client on ZipkinServer.java</li>\n</ol>\n<pre><code>@EnableEurekaClient\n</code></pre>\n<ol start=\"4\">\n<li>Add configuration needed properties in zipkin-server.yml</li>\n</ol>\n<pre><code>spring:\n  profiles:\n    include: shared\n  application:\n    name: ZIPKIN-SERVICE\n\narmeria:\n  enableMetrics: false\n\neureka:\n  instance:\n    preferIpAddress: true\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:8761/eureka\n</code></pre>\n<ol start=\"5\">\n<li>Compile and run</li>\n</ol>\n<pre><code>./mvnw -DskipTests --also-make -pl zipkin-server clean install\njava -jar ./zipkin-server/target/zipkin-server-*exec.jar\n</code></pre>\n<p>I tryied to use @EnableDiscoveryClient instead of @EnableEurekaClient and try some other configurations on zipkin-server.yml but always server isn't registered on eureka without showing any error message. Here the repository: <a href=\"https://github.com/SoftwarDevelop3r/zipkin/tree/feature/discoveryServiceClient\" rel=\"nofollow noreferrer\">https://github.com/SoftwarDevelop3r/zipkin/tree/feature/discoveryServiceClient</a></p>\n<p>What can I do register Zipkin server on Eureka?</p>\n<p>Thanks,</p>\n<p>Regards</p>\n"},{"tags":["java","hotspot","corretto"],"owner":{"account_id":27909774,"reputation":1,"user_id":21312213,"display_name":"Roee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679587482,"creation_date":1679587460,"question_id":75825350,"body_markdown":"I&#39;ve cloned the Corretto-8 repo from git. I have successfully compiled several JDK versions with different configurations, to the request of a client. \r\n\r\nUnfortunately, I&#39;m having issues compiling Corretto-8 with clang 11. I&#39;m using the following flags (which I set with the configure script): -w and -Wno-error=reserved-user-defined-literal\r\n\r\nThese two flags dealt with many unavoidable warnings. However now I get a compilation error in the hotspot compilation phase:\r\n[Screenshot](https://i.stack.imgur.com/GOePr.png)\r\n\r\nI&#39;ve tried -fpermissive, tried to downgrade clang, and other -std versions. No luck.\r\n\r\nDoes anybody have any idea what can I do?\r\nDoes Corretto-8 can&#39;t be compiled with clang?\r\n\r\nThis happens with openjdk 8 repos as well.\r\n\r\nThanks, \r\nRoee\r\n\r\n\r\nI&#39;ve tried to compiled Corretto 8 with CLang instead of GCC. I&#39;ve got a compilation error in the hotspot phase.","title":"Compiling Corretto 8 in Amazon Linux 2 using CLang is blocked by a compilation error","body":"<p>I've cloned the Corretto-8 repo from git. I have successfully compiled several JDK versions with different configurations, to the request of a client.</p>\n<p>Unfortunately, I'm having issues compiling Corretto-8 with clang 11. I'm using the following flags (which I set with the configure script): -w and -Wno-error=reserved-user-defined-literal</p>\n<p>These two flags dealt with many unavoidable warnings. However now I get a compilation error in the hotspot compilation phase:\n<a href=\"https://i.stack.imgur.com/GOePr.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n<p>I've tried -fpermissive, tried to downgrade clang, and other -std versions. No luck.</p>\n<p>Does anybody have any idea what can I do?\nDoes Corretto-8 can't be compiled with clang?</p>\n<p>This happens with openjdk 8 repos as well.</p>\n<p>Thanks,\nRoee</p>\n<p>I've tried to compiled Corretto 8 with CLang instead of GCC. I've got a compilation error in the hotspot phase.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679585037,"creation_date":1679585037,"answer_id":75824917,"question_id":75824849,"body_markdown":"You can iterate over a stream of indexes.\r\n\r\n```java\r\nvar res = IntStream.range(0, foos.size()).mapToObj(i -&gt; \r\n              new FooBar(foos.get(i).getSomeVal(), bars.get(i).getSomeVal())).toList();\r\n```","title":"Efficient way to iterate through 2 different list in java","body":"<p>You can iterate over a stream of indexes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>var res = IntStream.range(0, foos.size()).mapToObj(i -&gt; \n              new FooBar(foos.get(i).getSomeVal(), bars.get(i).getSomeVal())).toList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679587383,"creation_date":1679586785,"answer_id":75825232,"question_id":75824849,"body_markdown":"Streams are a great resource but sometimes a simple imperative solution is the way to go.  If you really want it to be efficient, then use a loop.  Without knowing your classes I have used `getValue()` for retrieval and am using a `List&lt;FooBar&gt;`.  It should be simple to modify this to your exact requirements. This also presumes both lists are the same size.\r\n```\r\nList&lt;FooBar&gt; foobars = new ArrayList&lt;&gt;();\r\nfor (int i = 0; i &lt; foos.size(); i++) {\r\n     foobars.add(new FooBar(foos.get(i).getValue(), bars.get(i).getValue()));\r\n}","title":"Efficient way to iterate through 2 different list in java","body":"<p>Streams are a great resource but sometimes a simple imperative solution is the way to go.  If you really want it to be efficient, then use a loop.  Without knowing your classes I have used <code>getValue()</code> for retrieval and am using a <code>List&lt;FooBar&gt;</code>.  It should be simple to modify this to your exact requirements. This also presumes both lists are the same size.</p>\n<pre><code>List&lt;FooBar&gt; foobars = new ArrayList&lt;&gt;();\nfor (int i = 0; i &lt; foos.size(); i++) {\n     foobars.add(new FooBar(foos.get(i).getValue(), bars.get(i).getValue()));\n}\n</code></pre>\n"}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1679624381,"answer_count":2,"score":0,"last_activity_date":1679587383,"creation_date":1679584775,"question_id":75824849,"body_markdown":"I have 2 different list\r\n\r\n    List&lt;FooResponse&gt; foos = Arrays.asList(new Foo(1, &quot;Test&quot;, &quot;COMPLETE&quot;), new Foo(2, &quot;Test&quot;, &quot;IN_PROGRESS&quot;), new Foo(3, &quot;Test&quot;, &quot;ERROR&quot;));\r\n    List&lt;BarResponse&gt; bars = Arrays.asList(new Bar(11, &quot;Test values&quot;), new Bar(12, &quot;Test values2&quot;), new Bar(13, &quot;Test values 3&quot;));\r\n\r\nHow to iterate through the above lists and take out the first element in both list without any matching parameters and create a list of FooBarMap likebelow?\r\n\r\nResult:\r\n\r\n    List&lt;FooBarMap&gt; = Arrays.asList(new FooBar(1, 11), new FooBar(2, 12), new FooBar(3, 13));","title":"Efficient way to iterate through 2 different list in java","body":"<p>I have 2 different list</p>\n<pre><code>List&lt;FooResponse&gt; foos = Arrays.asList(new Foo(1, &quot;Test&quot;, &quot;COMPLETE&quot;), new Foo(2, &quot;Test&quot;, &quot;IN_PROGRESS&quot;), new Foo(3, &quot;Test&quot;, &quot;ERROR&quot;));\nList&lt;BarResponse&gt; bars = Arrays.asList(new Bar(11, &quot;Test values&quot;), new Bar(12, &quot;Test values2&quot;), new Bar(13, &quot;Test values 3&quot;));\n</code></pre>\n<p>How to iterate through the above lists and take out the first element in both list without any matching parameters and create a list of FooBarMap likebelow?</p>\n<p>Result:</p>\n<pre><code>List&lt;FooBarMap&gt; = Arrays.asList(new FooBar(1, 11), new FooBar(2, 12), new FooBar(3, 13));\n</code></pre>\n"},{"tags":["java","android","accessibility","traversal"],"owner":{"account_id":28105731,"reputation":1,"user_id":21474343,"display_name":"Hyun S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679587025,"creation_date":1679584865,"question_id":75824872,"body_markdown":"Currently running into an issue where I&#39;ve tried almost everything. I have a situation where I have a HeaderManager and HeaderHolder. In this particular header it consists of 2 LinearLayouts that acts as the group that have a ListView in each as well. The ListView acts as a dropdown menu that will show items that are loaded from users data meaning that each user will have a different set of children in their categories.\r\n\r\nThe current issue I&#39;m facing is when I have Android Talkback enabled, the user will navigate through the screen elements by swiping right. For example, one group is called Channel and that Channel group contains a list of audio mixing channels like guitar, vocals, keys. The other group is called Issues which will show the issues of each Channel group. The importance of the group and list doesn&#39;t really matter in this issue, the issue I have is when I expand either Channel group or Issue group a dropdown list will come down to cover a portion of the screen. \r\n\r\nWhen I am within an expanded list via talkback navigation I would like to keep the user within that expanded group list. Currently, the user can swipe to the last item of the list and move out of the expanded list and the talkback navigation will highlight an item that is right behind the dropdown menu so it&#39;s acting pretty wonky. The issue to this is that the user is not sighted and knows that he or she is inside a dropdown menu. They swipe right to navigate through the list and all of a sudden hear something that doesn&#39;t sound right, this does not follow ADA standards so I need to get this fixed.\r\n\r\nWould really appreciate some help on this!\r\n\r\n\r\nI have tried many things like adding a different combination of the following in the XML file:\r\n```\r\nandroid:focusable=&quot;true&quot;\r\nandroid:focusableInTouchMode=&quot;true&quot;\r\nandroid:importantForAccessibility=&quot;yes&quot;\r\n```\r\n\r\nI&#39;ve also went into the class itself to try setting:\r\n```\r\nheaderHolder.lvDropdown.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\r\nheaderHolder.lvDropdown.setFocusable(true);\r\n```\r\n\r\nI&#39;ve even tried using:\r\n```\r\nheaderHolder.lvDropdown.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS);\r\n```\r\nThis is the only one that did something different as the others did literally nothing, almost like no changes at all. When I did `IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS` this proceeded with opening the dropdown and talkback navigation automatically skipped the list and moved to the second group. This prevents me from going to the list inside the group completely.","title":"How to stop talkback navigation from traversing to outside element","body":"<p>Currently running into an issue where I've tried almost everything. I have a situation where I have a HeaderManager and HeaderHolder. In this particular header it consists of 2 LinearLayouts that acts as the group that have a ListView in each as well. The ListView acts as a dropdown menu that will show items that are loaded from users data meaning that each user will have a different set of children in their categories.</p>\n<p>The current issue I'm facing is when I have Android Talkback enabled, the user will navigate through the screen elements by swiping right. For example, one group is called Channel and that Channel group contains a list of audio mixing channels like guitar, vocals, keys. The other group is called Issues which will show the issues of each Channel group. The importance of the group and list doesn't really matter in this issue, the issue I have is when I expand either Channel group or Issue group a dropdown list will come down to cover a portion of the screen.</p>\n<p>When I am within an expanded list via talkback navigation I would like to keep the user within that expanded group list. Currently, the user can swipe to the last item of the list and move out of the expanded list and the talkback navigation will highlight an item that is right behind the dropdown menu so it's acting pretty wonky. The issue to this is that the user is not sighted and knows that he or she is inside a dropdown menu. They swipe right to navigate through the list and all of a sudden hear something that doesn't sound right, this does not follow ADA standards so I need to get this fixed.</p>\n<p>Would really appreciate some help on this!</p>\n<p>I have tried many things like adding a different combination of the following in the XML file:</p>\n<pre><code>android:focusable=&quot;true&quot;\nandroid:focusableInTouchMode=&quot;true&quot;\nandroid:importantForAccessibility=&quot;yes&quot;\n</code></pre>\n<p>I've also went into the class itself to try setting:</p>\n<pre><code>headerHolder.lvDropdown.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_YES);\nheaderHolder.lvDropdown.setFocusable(true);\n</code></pre>\n<p>I've even tried using:</p>\n<pre><code>headerHolder.lvDropdown.setImportantForAccessibility(View.IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS);\n</code></pre>\n<p>This is the only one that did something different as the others did literally nothing, almost like no changes at all. When I did <code>IMPORTANT_FOR_ACCESSIBILITY_NO_HIDE_DESCENDANTS</code> this proceeded with opening the dropdown and talkback navigation automatically skipped the list and moved to the second group. This prevents me from going to the list inside the group completely.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","jpa-annotations"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679586941,"creation_date":1679586941,"question_id":75825263,"body_markdown":"In the `@Entity` I have a field:\r\n\r\n     @CreationTimestamp\r\n        @Column(name = &quot;created_at&quot;, updatable = false, nullable = false, columnDefinition = &quot;TIMESTAMP&quot;)\r\n        private LocalDateTime createdAt;\r\n\r\nin the `@Service` I have:\r\n\r\n\r\n     @Transaction\r\n     void someMethod() {\r\n     Entity entity = new Entity();\r\n     entity.setStatus(someStatus);\r\n     entity = entityRepository.save(entity); //here I expect the entity&#39;s created_at should be updated\r\n     entity.getCreatedAt(); //here I get the null\r\n     //some other actions\r\n     entityRepository.save(entity);\r\n     }\r\n// finally the created_at is set in the db\r\n\r\nAre my expectations correct? Is there a way to get this created_at being saved as it would be stored to the DB?\r\n           \r\n\r\n","title":"Should @CreationTimestamp make the &quot;created_at&quot; fields of the object being updated after save has been done?","body":"<p>In the <code>@Entity</code> I have a field:</p>\n<pre><code> @CreationTimestamp\n    @Column(name = &quot;created_at&quot;, updatable = false, nullable = false, columnDefinition = &quot;TIMESTAMP&quot;)\n    private LocalDateTime createdAt;\n</code></pre>\n<p>in the <code>@Service</code> I have:</p>\n<pre><code> @Transaction\n void someMethod() {\n Entity entity = new Entity();\n entity.setStatus(someStatus);\n entity = entityRepository.save(entity); //here I expect the entity's created_at should be updated\n entity.getCreatedAt(); //here I get the null\n //some other actions\n entityRepository.save(entity);\n }\n</code></pre>\n<p>// finally the created_at is set in the db</p>\n<p>Are my expectations correct? Is there a way to get this created_at being saved as it would be stored to the DB?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1108799,"reputation":10647,"user_id":1099643,"accept_rate":80,"display_name":"Kushan"},"score":1,"creation_date":1477481619,"post_id":40259923,"comment_id":67782868,"body_markdown":"Try to implement spring-data JPA batch insert","body":"Try to implement spring-data JPA batch insert"}],"answers":[{"tags":[],"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1477562446,"creation_date":1477562446,"answer_id":40281690,"question_id":40259923,"body_markdown":"I ended up implementing my own repository. The performance of this is really good, 2s instead of 35s before to insert 50000 elements. The problem with this code is that it does not prevent sql injections. \r\n\r\nI also tryed to build a query using `setParameter(1, ...)` but somehow JPA takes a long time to do that.\r\n\r\n\r\n    class ObjectRepositoryImpl implements DemandGroupSalesOfDayCustomRepository {\r\n\r\n        private static final int INSERT_BATCH_SIZE = 50000;\r\n\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n\r\n        @Override\r\n        public void blindInsert(List&lt;SomeObject&gt; objects) {\r\n             partition(objects, INSERT_BATCH_SIZE).forEach(this::insertAll);\r\n        }\r\n\r\n        private void insertAll(List&lt;SomeObject&gt; objects) {\r\n             String values = objects.stream().map(this::renderSqlForObj).collect(joining(&quot;,&quot;));\r\n             String insertSQL = &quot;INSERT INTO mytable (date, feature1, feature2, quantity) VALUES &quot;;\r\n             entityManager.createNativeQuery(insertSQL + values).executeUpdate();\r\n             entityManager.flush();\r\n             entityManager.clear();\r\n        }\r\n\r\n        private String renderSqlForObj(Object obj) {\r\n            return &quot;(&#39;&quot; + obj.getDate() + &quot;&#39;,&#39;&quot; +\r\n                obj.getFeature1() + &quot;&#39;,&#39;&quot; +\r\n                obj.getFeature2() + &quot;&#39;,&quot; +\r\n                obj.getQuantity() + &quot;)&quot;;\r\n        }\r\n    }","title":"Native List Insert query in Jpa/hibernate + Spring","body":"<p>I ended up implementing my own repository. The performance of this is really good, 2s instead of 35s before to insert 50000 elements. The problem with this code is that it does not prevent sql injections. </p>\n\n<p>I also tryed to build a query using <code>setParameter(1, ...)</code> but somehow JPA takes a long time to do that.</p>\n\n<pre><code>class ObjectRepositoryImpl implements DemandGroupSalesOfDayCustomRepository {\n\n    private static final int INSERT_BATCH_SIZE = 50000;\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @Override\n    public void blindInsert(List&lt;SomeObject&gt; objects) {\n         partition(objects, INSERT_BATCH_SIZE).forEach(this::insertAll);\n    }\n\n    private void insertAll(List&lt;SomeObject&gt; objects) {\n         String values = objects.stream().map(this::renderSqlForObj).collect(joining(\",\"));\n         String insertSQL = \"INSERT INTO mytable (date, feature1, feature2, quantity) VALUES \";\n         entityManager.createNativeQuery(insertSQL + values).executeUpdate();\n         entityManager.flush();\n         entityManager.clear();\n    }\n\n    private String renderSqlForObj(Object obj) {\n        return \"('\" + obj.getDate() + \"','\" +\n            obj.getFeature1() + \"','\" +\n            obj.getFeature2() + \"',\" +\n            obj.getQuantity() + \")\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14602566,"reputation":227,"user_id":10546462,"display_name":"carlokid"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679586543,"creation_date":1679586543,"answer_id":75825186,"question_id":40259923,"body_markdown":"I know that this is from 7 years ago but posting this just in case someone needed a SQL injection safe approach using JdbcTemplate but with same speed as the accepted answer.\r\n\r\n    public class MyBatchRepository {\r\n\r\n        private static final int INSERT_BATCH_SIZE = 20000;\r\n        private static final String INSERT_QUERY_BASE = &quot;INSERT INTO table_name(column1, column2, column3) VALUES &quot;;\r\n        private static final String INSERT_PARAM_BASE = &quot;(?,?,?)&quot;;\r\n        private static final String DELIMITER = &quot;,&quot;;\r\n\r\n        private JdbcTemplate jdbcTemplate;\r\n\r\n        public MyBatchRepository(JdbcTemplate jdbcTemplate) {\r\n            this.jdbcTemplate = jdbcTemplate;\r\n        }\r\n\r\n        public void performBatchInsert(List&lt;Object&gt; objects) {\r\n            ListUtils.partition(objects, INSERT_BATCH_SIZE).forEach(this::batchInsert);\r\n        }\r\n\r\n        private void batchInsert(List&lt;Object&gt; objects) {\r\n            String insertQuery = buildInsertQuery(objects.size());\r\n            Object[] insertParameters = buildParameters(objects);\r\n\r\n            jdbcTemplate.update(insertQuery, insertParameters);\r\n        }\r\n\r\n        protected String buildInsertQuery(int size) {\r\n            String parameters = String.join(DELIMITER, Collections.nCopies(size, INSERT_PARAM_BASE));\r\n            return INSERT_QUERY_BASE + parameters;\r\n        }\r\n\r\n        protected Object[] buildParameters(List&lt;Object&gt; objects) {\r\n            return objects.stream()\r\n                    .map(this::toObjectArray)\r\n                    .flatMap(Stream::of)\r\n                    .toArray(Object[]::new);\r\n        }\r\n\r\n        private Object[] toObjectArray(Object object) {\r\n            return new Object[]{\r\n                object.column1(),\r\n                object.column2(),\r\n                object.column3()\r\n            };\r\n        }\r\n    }","title":"Native List Insert query in Jpa/hibernate + Spring","body":"<p>I know that this is from 7 years ago but posting this just in case someone needed a SQL injection safe approach using JdbcTemplate but with same speed as the accepted answer.</p>\n<pre><code>public class MyBatchRepository {\n\n    private static final int INSERT_BATCH_SIZE = 20000;\n    private static final String INSERT_QUERY_BASE = &quot;INSERT INTO table_name(column1, column2, column3) VALUES &quot;;\n    private static final String INSERT_PARAM_BASE = &quot;(?,?,?)&quot;;\n    private static final String DELIMITER = &quot;,&quot;;\n\n    private JdbcTemplate jdbcTemplate;\n\n    public MyBatchRepository(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public void performBatchInsert(List&lt;Object&gt; objects) {\n        ListUtils.partition(objects, INSERT_BATCH_SIZE).forEach(this::batchInsert);\n    }\n\n    private void batchInsert(List&lt;Object&gt; objects) {\n        String insertQuery = buildInsertQuery(objects.size());\n        Object[] insertParameters = buildParameters(objects);\n\n        jdbcTemplate.update(insertQuery, insertParameters);\n    }\n\n    protected String buildInsertQuery(int size) {\n        String parameters = String.join(DELIMITER, Collections.nCopies(size, INSERT_PARAM_BASE));\n        return INSERT_QUERY_BASE + parameters;\n    }\n\n    protected Object[] buildParameters(List&lt;Object&gt; objects) {\n        return objects.stream()\n                .map(this::toObjectArray)\n                .flatMap(Stream::of)\n                .toArray(Object[]::new);\n    }\n\n    private Object[] toObjectArray(Object object) {\n        return new Object[]{\n            object.column1(),\n            object.column2(),\n            object.column3()\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1778746,"reputation":10897,"user_id":1621981,"accept_rate":71,"display_name":"Paul Fournel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6874,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":75825186,"answer_count":2,"score":12,"last_activity_date":1679586543,"creation_date":1477477995,"question_id":40259923,"body_markdown":"I want to insert a list of Objects in my db. In a special case I know that they primary key (not auto-generated) is not already there. Since I need to insert a big collection, the `save(Iterable&lt;Obj&gt; objects)` is to slow.\r\n\r\nTherefore I consider using a native query. https://stackoverflow.com/questions/24844306/native-insert-query-in-hibernate-spring-data\r\n\r\nIn the previous answer, it does not say how to insert a collection of objects. Is this possible?\r\n\r\n    @Query(&quot;insert into my_table (date, feature1, feature2, quantity) VALUES &lt;I do not know what to add here&gt;&quot;, nativeQuery = true)\r\n    void insert(List&lt;Obj&gt; objs);\r\n\r\nOf course if you have a better solution overall, Its even better.","title":"Native List Insert query in Jpa/hibernate + Spring","body":"<p>I want to insert a list of Objects in my db. In a special case I know that they primary key (not auto-generated) is not already there. Since I need to insert a big collection, the <code>save(Iterable&lt;Obj&gt; objects)</code> is to slow.</p>\n\n<p>Therefore I consider using a native query. <a href=\"https://stackoverflow.com/questions/24844306/native-insert-query-in-hibernate-spring-data\">native insert query in hibernate + spring data</a></p>\n\n<p>In the previous answer, it does not say how to insert a collection of objects. Is this possible?</p>\n\n<pre><code>@Query(\"insert into my_table (date, feature1, feature2, quantity) VALUES &lt;I do not know what to add here&gt;\", nativeQuery = true)\nvoid insert(List&lt;Obj&gt; objs);\n</code></pre>\n\n<p>Of course if you have a better solution overall, Its even better.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1679585938,"post_id":75825042,"comment_id":133751424,"body_markdown":"You mean `// TODO`?","body":"You mean <code>&#47;&#47; TODO</code>?"}],"answers":[{"tags":[],"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679586321,"creation_date":1679586321,"answer_id":75825142,"question_id":75825042,"body_markdown":"You could make a utility class with this method:\r\n\r\n    public static void TODO() {\r\n        throw new Error(&quot;not implemented yet&quot;);\r\n    }\r\n\r\nand call that from the unimplemented spots. This throws an unchecked exception so that you don&#39;t have to declare it/handle it.","title":"Java-version of Scala-placeholder","body":"<p>You could make a utility class with this method:</p>\n<pre><code>public static void TODO() {\n    throw new Error(&quot;not implemented yet&quot;);\n}\n</code></pre>\n<p>and call that from the unimplemented spots. This throws an unchecked exception so that you don't have to declare it/handle it.</p>\n"}],"owner":{"account_id":3773987,"reputation":101,"user_id":13771636,"display_name":"JanTinbergen1991"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679586321,"creation_date":1679585685,"question_id":75825042,"body_markdown":"In Scala there is placeholder syntax `???` for code that you do not want to implement immediately. Is there something similar for Java?\r\n\r\nI googled about this. Moreover, I tried to throw exceptions in order to achieve the same thing, but that is not what I actually want. I want a simple placeholder for code that I want to write later on.","title":"Java-version of Scala-placeholder","body":"<p>In Scala there is placeholder syntax <code>???</code> for code that you do not want to implement immediately. Is there something similar for Java?</p>\n<p>I googled about this. Moreover, I tried to throw exceptions in order to achieve the same thing, but that is not what I actually want. I want a simple placeholder for code that I want to write later on.</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19156912,"reputation":53,"user_id":13993559,"display_name":"Ash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679586300,"creation_date":1679584923,"answer_id":75824887,"question_id":75802536,"body_markdown":"I&#39;m confused what is the question asked (Please keep it short and remove unnecessary details). From what I understand the answer to the question asked, this is my answer : \r\n\r\nTo make the planet image appear complete during animation, you can try using a larger image size that will accommodate the planet&#39;s full rotation, and then scaling it down to fit the screen size.\r\n\r\nYou can modify the layout_width and layout_height attributes of the ImageView to match the size of the larger image, then use the android:scaleType=&quot;fitCenter&quot; attribute to scale the image down to fit the screen size.\r\n\r\nFor example, if your larger image size is 1200x1200 pixels, you can set the layout_width and layout_height attributes to 1200dp and use fitCenter as the scale type:\r\n\r\n```\r\n&lt;ImageView\r\n    android:id=&quot;@+id/background_image&quot;\r\n    android:layout_width=&quot;1200dp&quot;\r\n    android:layout_height=&quot;1200dp&quot;\r\n    android:animation=&quot;@anim/rotate&quot;\r\n    android:scaleType=&quot;fitCenter&quot;\r\n    android:src=&quot;@drawable/earth&quot;\r\n    android:visibility=&quot;visible&quot; /&gt;\r\n```\r\nThis should allow the planet to rotate fully without disappearing beyond the edges of the screen. You may need to adjust the size of the larger image to fit your specific needs.\r\n\r\nAdditionally, you can consider using android:valueType=&quot;matrix&quot; in the rotate animation to ensure that the planet stays centered during rotation.\r\n\r\nPS: If you want to create the RotateAnimation programmatically use the following code :\r\n\r\n```\r\nRotateAnimation rotate = new RotateAnimation(0, 180, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\r\nrotate.setDuration(5000);\r\nrotate.setInterpolator(new LinearInterpolator());\r\n\r\nImageView image = (ImageView) findViewById(R.id.background_image);\r\n\r\nimage.startAnimation(rotate);\r\n```\r\n\r\nif you want the animation to stay at the orientation at the end, add : rotate.setFillAfter(true);\r\n\r\nif you want the animation to stay permanently with no end, add : rotate.setRepeatCount(Animation.INFINITE);","title":"Android studio - rotation animation","body":"<p>I'm confused what is the question asked (Please keep it short and remove unnecessary details). From what I understand the answer to the question asked, this is my answer :</p>\n<p>To make the planet image appear complete during animation, you can try using a larger image size that will accommodate the planet's full rotation, and then scaling it down to fit the screen size.</p>\n<p>You can modify the layout_width and layout_height attributes of the ImageView to match the size of the larger image, then use the android:scaleType=&quot;fitCenter&quot; attribute to scale the image down to fit the screen size.</p>\n<p>For example, if your larger image size is 1200x1200 pixels, you can set the layout_width and layout_height attributes to 1200dp and use fitCenter as the scale type:</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/background_image&quot;\n    android:layout_width=&quot;1200dp&quot;\n    android:layout_height=&quot;1200dp&quot;\n    android:animation=&quot;@anim/rotate&quot;\n    android:scaleType=&quot;fitCenter&quot;\n    android:src=&quot;@drawable/earth&quot;\n    android:visibility=&quot;visible&quot; /&gt;\n</code></pre>\n<p>This should allow the planet to rotate fully without disappearing beyond the edges of the screen. You may need to adjust the size of the larger image to fit your specific needs.</p>\n<p>Additionally, you can consider using android:valueType=&quot;matrix&quot; in the rotate animation to ensure that the planet stays centered during rotation.</p>\n<p>PS: If you want to create the RotateAnimation programmatically use the following code :</p>\n<pre><code>RotateAnimation rotate = new RotateAnimation(0, 180, Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f);\nrotate.setDuration(5000);\nrotate.setInterpolator(new LinearInterpolator());\n\nImageView image = (ImageView) findViewById(R.id.background_image);\n\nimage.startAnimation(rotate);\n</code></pre>\n<p>if you want the animation to stay at the orientation at the end, add : rotate.setFillAfter(true);</p>\n<p>if you want the animation to stay permanently with no end, add : rotate.setRepeatCount(Animation.INFINITE);</p>\n"}],"owner":{"account_id":28076740,"reputation":11,"user_id":21448463,"display_name":"Ciobanww"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679586300,"creation_date":1679409145,"question_id":75802536,"body_markdown":"&#39;I&#39;m working on a project for Uni in Android Studio and I&#39;m trying to make a planet rotate. The planet goes beyond the borders of the phone on the left and right side and it is centered. When I start the animation the image with the planet misses the parts that go beyond the borders of the phone and I think I need to resize the image to be larger than the phone itself but I can&#39;t understand how so please help me. I&#39;ve had only 3 classes about Android programming so far but I wanted to study more on my own.&#39;\r\n\r\nin the mainactivity.xml I have this\r\n\r\n```\r\n&lt;ImageView\r\n            android:id=&quot;@+id/background_image&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;732dp&quot;\r\n            android:animation=&quot;@anim/rotate&quot;\r\n            android:scaleType=&quot;matrix&quot;\r\n            android:src=&quot;@drawable/earth&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n\r\n```\r\n","title":"Android studio - rotation animation","body":"<p>'I'm working on a project for Uni in Android Studio and I'm trying to make a planet rotate. The planet goes beyond the borders of the phone on the left and right side and it is centered. When I start the animation the image with the planet misses the parts that go beyond the borders of the phone and I think I need to resize the image to be larger than the phone itself but I can't understand how so please help me. I've had only 3 classes about Android programming so far but I wanted to study more on my own.'</p>\n<p>in the mainactivity.xml I have this</p>\n<pre><code>&lt;ImageView\n            android:id=&quot;@+id/background_image&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;732dp&quot;\n            android:animation=&quot;@anim/rotate&quot;\n            android:scaleType=&quot;matrix&quot;\n            android:src=&quot;@drawable/earth&quot;\n            android:visibility=&quot;visible&quot; /&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","jakarta-mail","amazon-ses","geronimo"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679587398,"post_id":75825133,"comment_id":133751840,"body_markdown":"Geronimo looks rather old to me - are you sure it supports the new jakarta packaging?","body":"Geronimo looks rather old to me - are you sure it supports the new jakarta packaging?"},{"owner":{"account_id":10189933,"reputation":41,"user_id":7523708,"display_name":"Gayatri"},"score":0,"creation_date":1679589184,"post_id":75825133,"comment_id":133752353,"body_markdown":"I am not sure. Rather I am searching for an alternative. We tried to remove Geranimo, but it is getting referred by some other dependency internally.","body":"I am not sure. Rather I am searching for an alternative. We tried to remove Geranimo, but it is getting referred by some other dependency internally."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679589784,"post_id":75825133,"comment_id":133752514,"body_markdown":"If you&#39;re using Amazon&#39;s mail server, then you surely only need the pure JavaMail API?","body":"If you&#39;re using Amazon&#39;s mail server, then you surely only need the pure JavaMail API?"},{"owner":{"account_id":16506473,"reputation":127,"user_id":11926388,"display_name":"s.stkvc"},"score":0,"creation_date":1699953246,"post_id":75825133,"comment_id":136592206,"body_markdown":"did you resolve the issue? im facing the same currently","body":"did you resolve the issue? im facing the same currently"}],"owner":{"account_id":10189933,"reputation":41,"user_id":7523708,"display_name":"Gayatri"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679586198,"creation_date":1679586198,"question_id":75825133,"body_markdown":"We are upgrading the project to Java 17, SpringBoot 3.0.2. We are using Amazon SES for sending emails with attachments.\r\n\r\nEmail without attachments is working fine. We get cast the exception for emails with attachments. \r\n\r\nHere are our POM.xml dependencies:\r\n\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWe are getting an error while writing to output stream for an attachment: \r\n\r\n```\r\nMimeMessage message = new MimeMessage(session);\r\n\r\n&#160;\r\n\r\n// Add subject, from and to lines.\r\n\r\nmessage.setSubject(subject);\r\n\r\nmessage.setFrom(new InternetAddress(fromEmail));\r\n\r\nmessage.setRecipients(javax.mail.Message.RecipientType.TO, InternetAddress.parse(addresses));\r\n\r\n&#160;\r\n\r\n// Create a multipart/alternative child container.\r\n\r\nMimeMultipart msgBody = new MimeMultipart(&quot;alternative&quot;);\r\n\r\n&#160;\r\n\r\n// Create a wrapper for the HTML and text parts.\r\n\r\nMimeBodyPart wrap = new MimeBodyPart();\r\n\r\n&#160;\r\n\r\n// Define the HTML part.\r\n\r\nMimeBodyPart htmlPart = new MimeBodyPart();\r\n\r\nhtmlPart.setContent(replacedEmailBody, &quot;text/html; charset=UTF-8&quot;);\r\n\r\n&#160;\r\n\r\n// Add the HTML parts to the child container.\r\n\r\nmsgBody.addBodyPart(htmlPart);\r\n\r\n&#160;\r\n\r\n// Add the child container to the wrapper object.\r\n\r\nwrap.setContent(msgBody);\r\n\r\n&#160;\r\n\r\n// Create a multipart/mixed parent container.\r\n\r\n**MimeMultipart msg = new MimeMultipart(&quot;mixed&quot;);**\r\n\r\n&#160;\r\n\r\n// Add the parent container to the message.\r\n\r\nmessage.setContent(msg);\r\n\r\n&#160;\r\n\r\n// Add the multipart/alternative part to the message.\r\n\r\nmsg.addBodyPart(wrap);\r\n\r\n&#160;\r\n\r\n// Define the attachment\r\n\r\nMimeBodyPart att = new MimeBodyPart();\r\n\r\nDataSource fds = new FileDataSource(file);\r\n\r\natt.setDataHandler(new DataHandler(fds));\r\n\r\natt.setFileName(fds.getName());\r\n\r\nmsg.addBodyPart(att);\r\n\r\n&#160;\r\n\r\naddLogo(msg);\r\n\r\n&#160;\r\n\r\n// Send the email.\r\n\r\ntry {\r\n\r\n**ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\nmessage.writeTo(outputStream); // This line gives above exception  **\r\n\r\nRawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n\r\nSendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\r\n\r\nemailClient.sendRawEmail(rawEmailRequest);\r\n\r\n// Display an error if something goes wrong.\r\n\r\n} catch (Exception ex) {\r\n\r\nlogger.error(ErrorCode.FAILED_TO_SEND_EMAIL.getErrorMessage());\r\n\r\nlogger.error(&quot;Message : {}&quot;, ex);\r\n\r\nthrow new AppException(ErrorCode.FAILED_TO_SEND_EMAIL);\r\n\r\n}\r\n```\r\nThanks in advance. ","title":"java.lang.ClassCastException: org.apache.geronimo.javamail.handlers.MultipartHandler cannot be cast to jakarta.activation.DataContentHandler","body":"<p>We are upgrading the project to Java 17, SpringBoot 3.0.2. We are using Amazon SES for sending emails with attachments.</p>\n<p>Email without attachments is working fine. We get cast the exception for emails with attachments.</p>\n<p>Here are our POM.xml dependencies:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.angus&lt;/groupId&gt;\n            &lt;artifactId&gt;angus-mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;artifactId&gt;geronimo-javamail_1.4_mail&lt;/artifactId&gt;\n                    &lt;groupId&gt;org.apache.geronimo.javamail&lt;/groupId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>We are getting an error while writing to output stream for an attachment:</p>\n<pre><code>MimeMessage message = new MimeMessage(session);\n\n \n\n// Add subject, from and to lines.\n\nmessage.setSubject(subject);\n\nmessage.setFrom(new InternetAddress(fromEmail));\n\nmessage.setRecipients(javax.mail.Message.RecipientType.TO, InternetAddress.parse(addresses));\n\n \n\n// Create a multipart/alternative child container.\n\nMimeMultipart msgBody = new MimeMultipart(&quot;alternative&quot;);\n\n \n\n// Create a wrapper for the HTML and text parts.\n\nMimeBodyPart wrap = new MimeBodyPart();\n\n \n\n// Define the HTML part.\n\nMimeBodyPart htmlPart = new MimeBodyPart();\n\nhtmlPart.setContent(replacedEmailBody, &quot;text/html; charset=UTF-8&quot;);\n\n \n\n// Add the HTML parts to the child container.\n\nmsgBody.addBodyPart(htmlPart);\n\n \n\n// Add the child container to the wrapper object.\n\nwrap.setContent(msgBody);\n\n \n\n// Create a multipart/mixed parent container.\n\n**MimeMultipart msg = new MimeMultipart(&quot;mixed&quot;);**\n\n \n\n// Add the parent container to the message.\n\nmessage.setContent(msg);\n\n \n\n// Add the multipart/alternative part to the message.\n\nmsg.addBodyPart(wrap);\n\n \n\n// Define the attachment\n\nMimeBodyPart att = new MimeBodyPart();\n\nDataSource fds = new FileDataSource(file);\n\natt.setDataHandler(new DataHandler(fds));\n\natt.setFileName(fds.getName());\n\nmsg.addBodyPart(att);\n\n \n\naddLogo(msg);\n\n \n\n// Send the email.\n\ntry {\n\n**ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\nmessage.writeTo(outputStream); // This line gives above exception  **\n\nRawMessage rawMessage = new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n\nSendRawEmailRequest rawEmailRequest = new SendRawEmailRequest(rawMessage);\n\nemailClient.sendRawEmail(rawEmailRequest);\n\n// Display an error if something goes wrong.\n\n} catch (Exception ex) {\n\nlogger.error(ErrorCode.FAILED_TO_SEND_EMAIL.getErrorMessage());\n\nlogger.error(&quot;Message : {}&quot;, ex);\n\nthrow new AppException(ErrorCode.FAILED_TO_SEND_EMAIL);\n\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679586425,"post_id":75824409,"comment_id":133751564,"body_markdown":"Don&#39;t use `@Data` with entities it is a bad idea, next your parent should be abstract and should include an `@MappedSuperclass` annotation else it won&#39;t use the mapping information of that class.","body":"Don&#39;t use <code>@Data</code> with entities it is a bad idea, next your parent should be abstract and should include an <code>@MappedSuperclass</code> annotation else it won&#39;t use the mapping information of that class."}],"owner":{"account_id":25297315,"reputation":3,"user_id":19738095,"display_name":"Aleksey T."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679585727,"creation_date":1679582375,"question_id":75824409,"body_markdown":"I am developing an online stmain I decided to use a separate table for each category of goods. For example, a product has common characteristics (Name, Description, Photo and Price), and each product can have additional characteristics and differ from each other (let&#39;s say 5 different properties each).\r\nIn the Java code, I moved the main characteristics to the parent class, and already I inherit each class-category from the parent and add my 5 characteristics.\r\nHow to me in request to deduce the data from two classes in one table??? The problem is that the data is displayed only from the child table (where personal characteristics) and the general ones are not displayed.\r\n\r\n**Parant class**\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Product {\r\n    @Column(name = &quot;brand_id&quot;)\r\n    Integer brandId;\r\n    @Column(name = &quot;description&quot;)\r\n    String description;\r\n    @Column(name = &quot;price&quot;)\r\n    Double price;\r\n}\r\n```\r\n**Chaild class**\r\n```\r\n@Entity\r\n@Table(name = &quot;cat_phones&quot;)\r\n@Data\r\npublic class Phone extends Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;phone_id&quot;)\r\n    private Long id;\r\n    @Column(name = &quot;screen&quot;)\r\n    private Integer screenSize;\r\n    @Column(name = &quot;camera&quot;)\r\n    private Boolean camera;\r\n    @Column(name = &quot;ram&quot;)\r\n    private Byte ram;\r\n    @Column(name = &quot;num_cam&quot;)\r\n    private Byte numCam;\r\n    @Column(name = &quot;type_screen&quot;)\r\n    private String typeScreen;\r\n\r\n    public Phone() {\r\n    }\r\n\r\n     public Phone(Integer brandId, String description, Double price, Long id, Integer screenSize, Boolean camera, Byte ram, Byte numCam, String typeScreen) {\r\n        this.brandId = brandId;\r\n        this.description = description;\r\n        this.price = price;\r\n        this.id = id;\r\n        this.screenSize = screenSize;\r\n        this.camera = camera;\r\n        this.ram = ram;\r\n        this.numCam = numCam;\r\n        this.typeScreen = typeScreen;\r\n    }\r\n}\r\n```\r\n**Controller**\r\n```\r\n    @GetMapping(&quot;/&quot;)\r\n    public ModelAndView showPhones() {\r\n        ModelAndView modelAndView = new ModelAndView(&quot;list-phones&quot;);\r\n        List&lt;Phone&gt; list = phoneRepository.findAll();\r\n        modelAndView.addObject(&quot;phones&quot;, list);\r\n        return modelAndView;\r\n    }\r\n```\r\n**Repository**\r\n```\r\npublic interface PhoneRepository extends JpaRepository&lt;Phone, Long&gt; {\r\n}\r\n```\r\n**html**\r\n```\r\n&lt;td th:text=&quot;${phone.brandId}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.screenSize}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.camera}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.ram}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.numCam}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.typeScreen}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.description}&quot;&gt;&lt;/td&gt;\r\n                    &lt;td th:text=&quot;${phone.price}&quot;&gt;&lt;/td&gt;\r\n```\r\n**Result**\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WAdYK.png","title":"How to work with two entites in Spring boot Data JPA and Java?","body":"<p>I am developing an online stmain I decided to use a separate table for each category of goods. For example, a product has common characteristics (Name, Description, Photo and Price), and each product can have additional characteristics and differ from each other (let's say 5 different properties each).\nIn the Java code, I moved the main characteristics to the parent class, and already I inherit each class-category from the parent and add my 5 characteristics.\nHow to me in request to deduce the data from two classes in one table??? The problem is that the data is displayed only from the child table (where personal characteristics) and the general ones are not displayed.</p>\n<p><strong>Parant class</strong></p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Product {\n    @Column(name = &quot;brand_id&quot;)\n    Integer brandId;\n    @Column(name = &quot;description&quot;)\n    String description;\n    @Column(name = &quot;price&quot;)\n    Double price;\n}\n</code></pre>\n<p><strong>Chaild class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;cat_phones&quot;)\n@Data\npublic class Phone extends Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;phone_id&quot;)\n    private Long id;\n    @Column(name = &quot;screen&quot;)\n    private Integer screenSize;\n    @Column(name = &quot;camera&quot;)\n    private Boolean camera;\n    @Column(name = &quot;ram&quot;)\n    private Byte ram;\n    @Column(name = &quot;num_cam&quot;)\n    private Byte numCam;\n    @Column(name = &quot;type_screen&quot;)\n    private String typeScreen;\n\n    public Phone() {\n    }\n\n     public Phone(Integer brandId, String description, Double price, Long id, Integer screenSize, Boolean camera, Byte ram, Byte numCam, String typeScreen) {\n        this.brandId = brandId;\n        this.description = description;\n        this.price = price;\n        this.id = id;\n        this.screenSize = screenSize;\n        this.camera = camera;\n        this.ram = ram;\n        this.numCam = numCam;\n        this.typeScreen = typeScreen;\n    }\n}\n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>    @GetMapping(&quot;/&quot;)\n    public ModelAndView showPhones() {\n        ModelAndView modelAndView = new ModelAndView(&quot;list-phones&quot;);\n        List&lt;Phone&gt; list = phoneRepository.findAll();\n        modelAndView.addObject(&quot;phones&quot;, list);\n        return modelAndView;\n    }\n</code></pre>\n<p><strong>Repository</strong></p>\n<pre><code>public interface PhoneRepository extends JpaRepository&lt;Phone, Long&gt; {\n}\n</code></pre>\n<p><strong>html</strong></p>\n<pre><code>&lt;td th:text=&quot;${phone.brandId}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.screenSize}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.camera}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.ram}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.numCam}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.typeScreen}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.description}&quot;&gt;&lt;/td&gt;\n                    &lt;td th:text=&quot;${phone.price}&quot;&gt;&lt;/td&gt;\n</code></pre>\n<p><strong>Result</strong></p>\n<p><a href=\"https://i.stack.imgur.com/WAdYK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring-boot","asynchronous","logging","x-correlation-id"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679590535,"post_id":75825045,"comment_id":133752718,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":14064590,"reputation":9,"user_id":10159796,"display_name":"shubhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679585713,"creation_date":1679585713,"question_id":75825045,"body_markdown":"How can I pass correlationId in @Async function in Java Springboot application. I can see correlationId being printed in loggers of my controller but it&#39;s not getting passed to my service class function logs which is an async function.\r\n\r\nI also tried setting taskDecorator as correlation id but nothing worked till now.","title":"Correlation id in Async function in Springboot","body":"<p>How can I pass correlationId in @Async function in Java Springboot application. I can see correlationId being printed in loggers of my controller but it's not getting passed to my service class function logs which is an async function.</p>\n<p>I also tried setting taskDecorator as correlation id but nothing worked till now.</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679585488,"creation_date":1679585488,"answer_id":75825010,"question_id":75823611,"body_markdown":"I believe `element.click()` just does a click. So it is not blocked by further page load. Rather next action would wait until page has loaded (since the next action need to have DOM built, etc.)\r\n\r\nSo I would try to add some waiter (or even better an action) after the click and before return. So that the operation would need to have the page loaded and timeout would probably work for you in that case.","title":"How to handle &#39;TimeoutException&#39;? pageLoadTimeout is not working","body":"<p>I believe <code>element.click()</code> just does a click. So it is not blocked by further page load. Rather next action would wait until page has loaded (since the next action need to have DOM built, etc.)</p>\n<p>So I would try to add some waiter (or even better an action) after the click and before return. So that the operation would need to have the page loaded and timeout would probably work for you in that case.</p>\n"}],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679585488,"creation_date":1679578003,"question_id":75823611,"body_markdown":"**Scenario**: Need to download a file from website. \r\n\r\n**What is happening?**\r\n\r\n - On clicking the download button, the page is loading for more than 6 to 7 minutes (This is an application issue). After that, download is getting started. \r\n - As selenium default `pageLoadTimeout` is 300 seconds. It is throwing the below error after 5 minutes.\r\n\r\n&gt; org.openqa.selenium.TimeoutException: timeout: Timed out receiving\r\n&gt; message from renderer: 300.000\r\n\r\n**What I need to handle?**\r\n\r\nAs this is the application issue, I don&#39;t want to wait till the default time out gets completed. i.e. I want to throw error if page is not loaded within given time.\r\n\r\n**What I did?**\r\n\r\n    public boolean clickElement(WebElement element, int timeOut, String message) {\r\n\t\ttry {\r\n\t\t\twait = new WebDriverWait(driver, 20);\r\n\t\t\twait.until(ExpectedConditions.elementToBeClickable(element));\r\n\t\t\tdriver.manage().timeouts().pageLoadTimeout(timeOut, TimeUnit.SECONDS);\r\n\t\t\telement.click();\r\n\t\t\treturn true;\r\n\t\t} catch (org.openqa.selenium.TimeoutException e1) {\r\n\t\t\tReports.logFail(message);\r\n\t\t} finally {\r\n\t\t\tdriver.manage().timeouts().pageLoadTimeout(300, TimeUnit.SECONDS);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nUsing `pageLoadTimeout` method to change the default time and once my work is done setting back the `pageLoadTimeout` to 300 seconds (default).\r\n\r\n**Issue**: After performing `element.click();` WebDriver is not waiting for give time, it is immediately returning `true` even though page is not loaded.","title":"How to handle &#39;TimeoutException&#39;? pageLoadTimeout is not working","body":"<p><strong>Scenario</strong>: Need to download a file from website.</p>\n<p><strong>What is happening?</strong></p>\n<ul>\n<li>On clicking the download button, the page is loading for more than 6 to 7 minutes (This is an application issue). After that, download is getting started.</li>\n<li>As selenium default <code>pageLoadTimeout</code> is 300 seconds. It is throwing the below error after 5 minutes.</li>\n</ul>\n<blockquote>\n<p>org.openqa.selenium.TimeoutException: timeout: Timed out receiving\nmessage from renderer: 300.000</p>\n</blockquote>\n<p><strong>What I need to handle?</strong></p>\n<p>As this is the application issue, I don't want to wait till the default time out gets completed. i.e. I want to throw error if page is not loaded within given time.</p>\n<p><strong>What I did?</strong></p>\n<pre><code>public boolean clickElement(WebElement element, int timeOut, String message) {\n    try {\n        wait = new WebDriverWait(driver, 20);\n        wait.until(ExpectedConditions.elementToBeClickable(element));\n        driver.manage().timeouts().pageLoadTimeout(timeOut, TimeUnit.SECONDS);\n        element.click();\n        return true;\n    } catch (org.openqa.selenium.TimeoutException e1) {\n        Reports.logFail(message);\n    } finally {\n        driver.manage().timeouts().pageLoadTimeout(300, TimeUnit.SECONDS);\n    }\n    return false;\n}\n</code></pre>\n<p>Using <code>pageLoadTimeout</code> method to change the default time and once my work is done setting back the <code>pageLoadTimeout</code> to 300 seconds (default).</p>\n<p><strong>Issue</strong>: After performing <code>element.click();</code> WebDriver is not waiting for give time, it is immediately returning <code>true</code> even though page is not loaded.</p>\n"},{"tags":["java","spring-boot","jar","classpath","liquibase"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1679932910,"post_id":75824954,"comment_id":133805844,"body_markdown":"which version of liquibase it is?","body":"which version of liquibase it is?"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1679992774,"post_id":75824954,"comment_id":133816139,"body_markdown":"@bilak Liquibase `4.20.0`","body":"@bilak Liquibase <code>4.20.0</code>"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1679995472,"post_id":75824954,"comment_id":133816830,"body_markdown":"if you specify absolute path (e.g. `/Users/rbyrne/git/data-migration/build/libs/config/liquibase/changelog/root-changelog.xml`) does it work?","body":"if you specify absolute path (e.g. <code>&#47;Users&#47;rbyrne&#47;git&#47;data-migration&#47;build&#47;libs&#47;config&#47;liquibase&zwnj;&#8203;&#47;changelog&#47;root-chan&zwnj;&#8203;gelog.xml</code>) does it work?"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679585246,"creation_date":1679585246,"question_id":75824954,"body_markdown":"I have a Spring Boot 2.7.7 project which will be responsible for performing Liquibase database migrations.\r\n\r\nThe application will be packaged as a `.jar`, and then later the `.jar` and a collection of Liquibase changelogs will be packaged into a Docker image.\r\n\r\nSince the changelogs are not packaged inside the `.jar`, they are located in the same directory as the `.jar` at runtime on the Docker container.\r\n\r\nThis is the basic structure of the application:\r\n\r\n```\r\ndata-migration:\r\n  src/\r\n    main/\r\n      java/\r\n        com.example.demo/\r\n          SpringBootApplication.java\r\n          LiquibaseUpdate.java\r\n      resources/\r\n        application.properties\r\n  build.gradle.kts\r\n```\r\n\r\nIn `SpringBootApplication.java`:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SpringBootApplication {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    // Trying to add additional directory containing the changelogs to classpath\r\n    System.setProperty(\r\n        &quot;java.class.path&quot;,\r\n        System.getProperty(&quot;java.class.path&quot;)\r\n            + &quot;:/Users/rbyrne/git/data-migration/build/libs:.&quot;);\r\n\r\n    new SpringApplicationBuilder(SpringBootApplication.class)\r\n        .web(WebApplicationType.NONE)\r\n        .run(args);\r\n  }\r\n}\r\n```\r\n\r\n`LiquibaseUpdate.java`:\r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({LiquibaseProperties.class})\r\npublic class LiquibaseUpdate {\r\n\r\n  @Bean\r\n  public SpringLiquibase liquibase(\r\n      @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n      DataSource dataSource,\r\n      LiquibaseProperties liquibaseProperties)\r\n      throws Exception {\r\n    SpringLiquibase liquibase = new SpringLiquibase();\r\n    liquibase.setShouldRun(false); // do not run against public schema\r\n    return liquibase;\r\n  }\r\n\r\n  @Bean(&quot;liquibaseMultiTenant&quot;)\r\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\r\n  public MultiTenantSpringLiquibase liquibaseMultiTenant(\r\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\r\n    liquibase.setShouldRun(true);\r\n    liquibase.setDataSource(dataSource);\r\n    liquibase.setContexts(liquibaseProperties.getContexts());\r\n    liquibase.setLabels(liquibaseProperties.getLabels());\r\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/root-changelog.xml&quot;);\r\n    liquibase.setSchemas(Arrays.asList(&quot;tenant1&quot;, &quot;tenant2&quot;));\r\n    return liquibase;\r\n  }\r\n}\r\n```\r\n\r\nThis is the error:\r\n\r\n```\r\n2023-03-23 15:06:13.596  WARN 96151 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;liquibaseMultiTenant&#39; defined in class path resource [com/example/demo/liquibase/LiquibaseCUpdate.class]: \r\nInvocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: \r\nThe file config/liquibase/changelog/root-changelog.xml was not found in the configured search path:\r\n    - Spring classpath\r\nMore locations can be added with the &#39;searchPath&#39; parameter.\r\n```\r\n\r\nThis is the state of the filesystem:\r\n\r\n```\r\nwork build/libs ‹main*› &#187; pwd\r\n/Users/rbyrne/git/data-migration/build/libs\r\nwork build/libs ‹main*› &#187; ls\r\ndata-migration-0.1.0-SNAPSHOT-plain.jar   data-migration-0.1.0-SNAPSHOT.jar\r\ndata-migration-0.1.0-SNAPSHOT-sources.jar config\r\nwork build/libs ‹main*› &#187; ls config/liquibase/changelog/\r\nroot-changelog.xml\r\n```\r\n\r\nI&#39;ve tried setting the Liquibase `searchPath` property inside `application.properties` with different variations but none have any effect:\r\n\r\n```\r\nliquibase.search-path=./\r\nliquibase.searchPath=./\r\n```","title":"How to reference Liquibase changelogs that are located alongside the executing SpringBoot jar rather than packaged inside the jar","body":"<p>I have a Spring Boot 2.7.7 project which will be responsible for performing Liquibase database migrations.</p>\n<p>The application will be packaged as a <code>.jar</code>, and then later the <code>.jar</code> and a collection of Liquibase changelogs will be packaged into a Docker image.</p>\n<p>Since the changelogs are not packaged inside the <code>.jar</code>, they are located in the same directory as the <code>.jar</code> at runtime on the Docker container.</p>\n<p>This is the basic structure of the application:</p>\n<pre><code>data-migration:\n  src/\n    main/\n      java/\n        com.example.demo/\n          SpringBootApplication.java\n          LiquibaseUpdate.java\n      resources/\n        application.properties\n  build.gradle.kts\n</code></pre>\n<p>In <code>SpringBootApplication.java</code>:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootApplication {\n\n  public static void main(String[] args) {\n\n    // Trying to add additional directory containing the changelogs to classpath\n    System.setProperty(\n        &quot;java.class.path&quot;,\n        System.getProperty(&quot;java.class.path&quot;)\n            + &quot;:/Users/rbyrne/git/data-migration/build/libs:.&quot;);\n\n    new SpringApplicationBuilder(SpringBootApplication.class)\n        .web(WebApplicationType.NONE)\n        .run(args);\n  }\n}\n</code></pre>\n<p><code>LiquibaseUpdate.java</code>:</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LiquibaseProperties.class})\npublic class LiquibaseUpdate {\n\n  @Bean\n  public SpringLiquibase liquibase(\n      @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\n      DataSource dataSource,\n      LiquibaseProperties liquibaseProperties)\n      throws Exception {\n    SpringLiquibase liquibase = new SpringLiquibase();\n    liquibase.setShouldRun(false); // do not run against public schema\n    return liquibase;\n  }\n\n  @Bean(&quot;liquibaseMultiTenant&quot;)\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\n  public MultiTenantSpringLiquibase liquibaseMultiTenant(\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\n    liquibase.setShouldRun(true);\n    liquibase.setDataSource(dataSource);\n    liquibase.setContexts(liquibaseProperties.getContexts());\n    liquibase.setLabels(liquibaseProperties.getLabels());\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/root-changelog.xml&quot;);\n    liquibase.setSchemas(Arrays.asList(&quot;tenant1&quot;, &quot;tenant2&quot;));\n    return liquibase;\n  }\n}\n</code></pre>\n<p>This is the error:</p>\n<pre><code>2023-03-23 15:06:13.596  WARN 96151 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'liquibaseMultiTenant' defined in class path resource [com/example/demo/liquibase/LiquibaseCUpdate.class]: \nInvocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: \nThe file config/liquibase/changelog/root-changelog.xml was not found in the configured search path:\n    - Spring classpath\nMore locations can be added with the 'searchPath' parameter.\n</code></pre>\n<p>This is the state of the filesystem:</p>\n<pre><code>work build/libs ‹main*› » pwd\n/Users/rbyrne/git/data-migration/build/libs\nwork build/libs ‹main*› » ls\ndata-migration-0.1.0-SNAPSHOT-plain.jar   data-migration-0.1.0-SNAPSHOT.jar\ndata-migration-0.1.0-SNAPSHOT-sources.jar config\nwork build/libs ‹main*› » ls config/liquibase/changelog/\nroot-changelog.xml\n</code></pre>\n<p>I've tried setting the Liquibase <code>searchPath</code> property inside <code>application.properties</code> with different variations but none have any effect:</p>\n<pre><code>liquibase.search-path=./\nliquibase.searchPath=./\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1679595637,"post_id":75824866,"comment_id":133754053,"body_markdown":"What does the query is supposed to do ? Find a specific embeddedObject ? Is that so, shouldn&#39;t there be a &#39;WHERE&#39; clause somewhere ?","body":"What does the query is supposed to do ? Find a specific embeddedObject ? Is that so, shouldn&#39;t there be a &#39;WHERE&#39; clause somewhere ?"},{"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"score":0,"creation_date":1679677988,"post_id":75824866,"comment_id":133769988,"body_markdown":"No, find all EmbeddedObject or just one. It&#39;s not the main part of my question. I could do a where clause.","body":"No, find all EmbeddedObject or just one. It&#39;s not the main part of my question. I could do a where clause."},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1679681728,"post_id":75824866,"comment_id":133770796,"body_markdown":"That is why I made a comment and not a answer, to get some precision before being able to write a correct solution (For instance, in your example, the query does not match the method signature, the query suggest multiple values, but the signature only 1).","body":"That is why I made a comment and not a answer, to get some precision before being able to write a correct solution (For instance, in your example, the query does not match the method signature, the query suggest multiple values, but the signature only 1)."},{"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"score":0,"creation_date":1679729203,"post_id":75824866,"comment_id":133776189,"body_markdown":"Okay, but it doesn&#39;t solve the problem sadly. The main part is to get an EmbeddedObject from columns in a table where Entities are being stored.","body":"Okay, but it doesn&#39;t solve the problem sadly. The main part is to get an EmbeddedObject from columns in a table where Entities are being stored."}],"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679584839,"creation_date":1679584839,"question_id":75824866,"body_markdown":"I use Java, Spring Boot and PostgreSQL.\r\nSo here&#39;s my 2 classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\npublic class Entity {\r\n\r\n  @Id\r\n  private int id;\r\n  @Embedded\r\n  @ElementCollection\r\n  private List&lt;EmbeddedClass&gt; embeddedObjects;\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\n@Embeddable\r\npublic class EmbeddedClass {\r\n  private UUID userId;\r\n  private UUID friendId;\r\n  private int something;\r\n}\r\n```\r\nMy question is how to get an `EmbeddedClass` object from the `EntityRepository` which looks like this:\r\n```\r\n@Repository\r\npublic interface EntityRepository extends JpaRepository&lt;Entity, UUID&gt; {\r\n\r\n  @Query(value = &quot;SELECT user_id, friend_id, something FROM entity_embedded_objects&quot;, nativeQuery = true)\r\n  Optional&lt;EmbeddedClass&gt; findEmbeddedObject();\r\n}\r\n```\r\nAnd I get this error message now when I try this query:\r\n`org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [EmbeddedClass]`\r\n\r\nI tried different solutions, the best I could get is this error message, but I don&#39;t remember how:\r\n`org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111`","title":"How to get Embedded object from Entity table?","body":"<p>I use Java, Spring Boot and PostgreSQL.\nSo here's my 2 classes:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\npublic class Entity {\n\n  @Id\n  private int id;\n  @Embedded\n  @ElementCollection\n  private List&lt;EmbeddedClass&gt; embeddedObjects;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\n@Embeddable\npublic class EmbeddedClass {\n  private UUID userId;\n  private UUID friendId;\n  private int something;\n}\n</code></pre>\n<p>My question is how to get an <code>EmbeddedClass</code> object from the <code>EntityRepository</code> which looks like this:</p>\n<pre><code>@Repository\npublic interface EntityRepository extends JpaRepository&lt;Entity, UUID&gt; {\n\n  @Query(value = &quot;SELECT user_id, friend_id, something FROM entity_embedded_objects&quot;, nativeQuery = true)\n  Optional&lt;EmbeddedClass&gt; findEmbeddedObject();\n}\n</code></pre>\n<p>And I get this error message now when I try this query:\n<code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [EmbeddedClass]</code></p>\n<p>I tried different solutions, the best I could get is this error message, but I don't remember how:\n<code>org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111</code></p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1555008129,"post_id":55639163,"comment_id":97969282,"body_markdown":"&quot;Use `android-studio` for questions about using Android Studio. Do NOT use for questions about programming for Android in general; instead use the `android` tag.&quot;","body":"&quot;Use <code>android-studio</code> for questions about using Android Studio. Do NOT use for questions about programming for Android in general; instead use the <code>android</code> tag.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15726606,"reputation":41,"user_id":11348072,"display_name":"William"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555010589,"creation_date":1555010589,"answer_id":55639780,"question_id":55639163,"body_markdown":"If you are getting an error with permission, maybe the storage rules is blocking your access.\r\n\r\nAlso try to delete the file using your file name logic.\r\nLike:\r\n\r\n```js\r\n\r\nStorageReference storageRef = storage.getReference();\r\nStorageReference photoRef = storageRef.child(&quot;YOUR_PATH&quot; + userId + &quot;.jpg&quot;);\r\n\r\nphotoRef.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onSuccess(Void aVoid) {\r\n        // Success\r\n    }\r\n}).addOnFailureListener(new OnFailureListener() {\r\n    @Override\r\n    public void onFailure(@NonNull Exception exception) {\r\n       // Error\r\n    }\r\n});\r\n\r\n```","title":"How to delete picture from Firebase Storage","body":"<p>If you are getting an error with permission, maybe the storage rules is blocking your access.</p>\n\n<p>Also try to delete the file using your file name logic.\nLike:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nStorageReference storageRef = storage.getReference();\nStorageReference photoRef = storageRef.child(\"YOUR_PATH\" + userId + \".jpg\");\n\nphotoRef.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void aVoid) {\n        // Success\n    }\n}).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception exception) {\n       // Error\n    }\n});\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9545706,"reputation":1,"user_id":11884872,"display_name":"travah netshisaulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665725646,"creation_date":1665725646,"answer_id":74064714,"question_id":55639163,"body_markdown":"You can also change your rules \r\nif you don&#39;t have firebase code from:\r\n\r\n    service firebase.storage {\r\n    match /b/{bucket}/o {\r\n    match /{allPaths=**} {\r\n    allow read, write: if\r\n    request.auth != null;\r\n    }\r\n    }\r\n    }\r\n\r\nTo:\r\n\r\n    service firebase.storage {\r\n    match /b/{bucket}/o {\r\n    match /{allPaths=**} {\r\n    allow read, write;\r\n    }\r\n    }\r\n    }\r\n\r\nJust make sure you change it back after you get your code from firebase","title":"How to delete picture from Firebase Storage","body":"<p>You can also change your rules\nif you don't have firebase code from:</p>\n<pre><code>service firebase.storage {\nmatch /b/{bucket}/o {\nmatch /{allPaths=**} {\nallow read, write: if\nrequest.auth != null;\n}\n}\n}\n</code></pre>\n<p>To:</p>\n<pre><code>service firebase.storage {\nmatch /b/{bucket}/o {\nmatch /{allPaths=**} {\nallow read, write;\n}\n}\n}\n</code></pre>\n<p>Just make sure you change it back after you get your code from firebase</p>\n"},{"tags":[],"owner":{"account_id":19170966,"reputation":1,"user_id":14004730,"display_name":"Nuwagaba Gerrald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679584503,"creation_date":1679235621,"answer_id":75782632,"question_id":55639163,"body_markdown":"I did the same but it&#39;s working serious on retrieving data from firebase\r\n\r\n\r\n```\r\n\r\nretrieveUserInfo();\r\n\r\nuserRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\r\n    private void retrieveUserInfo() {\r\n        String currentUserId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\r\n        userRef.keepSynced(true);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if((snapshot.exists()) &amp;&amp;  (snapshot.hasChild(&quot;image&quot;)) ){\r\n                    StorageReference storageReference1;\r\n\r\n                    String retrieveProfileImage = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                    String retrieveUserName = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n\r\n                    storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(retrieveProfileImage);\r\n                    storageReference1.delete();\r\n                    Toast.makeText(ImageActivity.this, &quot;Welcome!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                    Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.pro_pic).into(imageView);\r\n                    textView.setText(retrieveUserName);\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How to delete picture from Firebase Storage","body":"<p>I did the same but it's working serious on retrieving data from firebase</p>\n<pre><code>\nretrieveUserInfo();\n\nuserRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\n    private void retrieveUserInfo() {\n        String currentUserId = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\n        userRef.keepSynced(true);\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if((snapshot.exists()) &amp;&amp;  (snapshot.hasChild(&quot;image&quot;)) ){\n                    StorageReference storageReference1;\n\n                    String retrieveProfileImage = snapshot.child(&quot;image&quot;).getValue().toString();\n                    String retrieveUserName = snapshot.child(&quot;name&quot;).getValue().toString();\n\n\n                    storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(retrieveProfileImage);\n                    storageReference1.delete();\n                    Toast.makeText(ImageActivity.this, &quot;Welcome!&quot;, Toast.LENGTH_SHORT).show();\n\n\n                    Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.pro_pic).into(imageView);\n                    textView.setText(retrieveUserName);\n\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14067142,"reputation":43,"user_id":10161679,"display_name":"Justinas Tvarijonavicius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55639780,"answer_count":3,"score":0,"last_activity_date":1679584503,"creation_date":1555007871,"question_id":55639163,"body_markdown":"I have an app, that has many users they are all stored in Realtime Database. I&#39;m trying to delete user on button click with all the data, but the profile pictures are still left in Firebase Storage after deletion. So when I try to delete the picture from Firebase Storage aswell as users I get this error.\r\n User does not have permission to access this object.\r\n\r\n So I&#39;m trying to delete picture in the ValueEventListener method, because I can easily get the ImageURL from my Realtime Database.\r\n\r\nRealtime Database\r\n\r\nIn DB I have attribute profileimage: GeneratedPictureUrlWhenUploadingToStorage\r\nAlso my pictures in Firebase Storage are named currentUserId + &quot;.JPG&quot; so its like an indetifer\r\n\r\nStorage Rules:\r\n\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n        match /{allPaths=**} {\r\n          allow read, write: if request.auth != null;\r\n        }\r\n      }\r\n    }\r\n\r\nCode:\r\n\r\n\r\n        switch (view.getId()){\r\n            case R.id.buttonEditProfile:\r\n                startActivity(new Intent(this, ProfileEditActivity.class));\r\n                break;\r\n            case R.id.buttonUserList:\r\n                startActivity(new Intent(this, UserListActivity.class));\r\n                break;\r\n            case R.id.buttonDeleteAccount:\r\n\r\n                profileUserRef.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        if(dataSnapshot.exists()){\r\n                            StorageReference storageReference1;\r\n                            String myImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n                            storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(myImage);\r\n                            storageReference1.delete();\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n                DatabaseReference drFailure = FirebaseDatabase.getInstance().getReference(&quot;failures&quot;).child(currentUserId);\r\n                DatabaseReference drVehicles = FirebaseDatabase.getInstance().getReference(&quot;vehicles&quot;).child(currentUserId);\r\n                DatabaseReference drUsers = FirebaseDatabase.getInstance().getReference(&quot;users&quot;).child(currentUserId);\r\n                FirebaseUser userDel = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n                drFailure.removeValue();\r\n                drVehicles.removeValue();\r\n                drUsers.removeValue();\r\n                userDel.delete();\r\n\r\nWhen I press the buttonDeleteAccount I want to delete Storaged pictures of uniqe User","title":"How to delete picture from Firebase Storage","body":"<p>I have an app, that has many users they are all stored in Realtime Database. I'm trying to delete user on button click with all the data, but the profile pictures are still left in Firebase Storage after deletion. So when I try to delete the picture from Firebase Storage aswell as users I get this error.\n User does not have permission to access this object.</p>\n\n<p>So I'm trying to delete picture in the ValueEventListener method, because I can easily get the ImageURL from my Realtime Database.</p>\n\n<p>Realtime Database</p>\n\n<p>In DB I have attribute profileimage: GeneratedPictureUrlWhenUploadingToStorage\nAlso my pictures in Firebase Storage are named currentUserId + \".JPG\" so its like an indetifer</p>\n\n<p>Storage Rules:</p>\n\n<pre><code>service firebase.storage {\n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    switch (view.getId()){\n        case R.id.buttonEditProfile:\n            startActivity(new Intent(this, ProfileEditActivity.class));\n            break;\n        case R.id.buttonUserList:\n            startActivity(new Intent(this, UserListActivity.class));\n            break;\n        case R.id.buttonDeleteAccount:\n\n            profileUserRef.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    if(dataSnapshot.exists()){\n                        StorageReference storageReference1;\n                        String myImage = dataSnapshot.child(\"profileimage\").getValue().toString();\n                        storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(myImage);\n                        storageReference1.delete();\n                    }\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                }\n            });\n\n            DatabaseReference drFailure = FirebaseDatabase.getInstance().getReference(\"failures\").child(currentUserId);\n            DatabaseReference drVehicles = FirebaseDatabase.getInstance().getReference(\"vehicles\").child(currentUserId);\n            DatabaseReference drUsers = FirebaseDatabase.getInstance().getReference(\"users\").child(currentUserId);\n            FirebaseUser userDel = FirebaseAuth.getInstance().getCurrentUser();\n\n            drFailure.removeValue();\n            drVehicles.removeValue();\n            drUsers.removeValue();\n            userDel.delete();\n</code></pre>\n\n<p>When I press the buttonDeleteAccount I want to delete Storaged pictures of uniqe User</p>\n"},{"tags":["java","android","multimedia"],"answers":[{"tags":[],"owner":{"account_id":570419,"reputation":336,"user_id":207429,"display_name":"Ccazang"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1257815134,"creation_date":1257815134,"answer_id":1705041,"question_id":1681817,"body_markdown":"The PlayTo is all UPnP based. DLNA is just a layer of standardization on top of UPnP. So any UPnP device is able to talk with a DLNA device so to a Win7 machine. \r\nDLNA specifies 4 type of devices: DMP, DMR, DMC and DMS.\r\nA DMP (aka Digital Media Player) is a device, that is capable of finding and browsing remote servers (DMS=Digital Media Servers) and consume content (or pull content). PS3 is the perfect example of DMP. A DMP is not discoverable on the network, it just discovers and consumes content. Because it is not discoverable, you cannot control it with PlayTo.\r\nA DMR (aka Digital Media Renders) is a device that can accept commands received from the network. It is discoverable, exposes an UPnP description document and UPnP services like AVTransport and ConnectionManager or RenderingControl. A PlayTo device, is capable to find this device on a network, and it can push content to it. It can control the playback via AVTransport service and RenderingControl service.\r\nMany devices today are either 100% DMPs (cannot be controlled via PlayTo) or DMP-DMRs. That means they both expose the AVTransport and RenderingControl services but also have a GUI that the user can use to pull media from a server.\r\nA DMS (aka Digital Media Server) is a media server device. You can store media content in there and than you can consume it from other network devices. These are usually NAS devices, but they may also be mobile phones, Win7/Vista machines, etc. A DMS is discoverable on the network and exposes UPnP services as ContentDirectory service. This exposes methods as Browse and Search, which you may use to locate the content.\r\nA DMC device (aka Digital Media Controller) is a device that has no playback capabilities. It has only controlling capabilities, and it needs a remote DMS (to expose the content) and a remote DMR (to play the content) for completing the media experience. PlayTo is an example. There are also similar apps on Nokia N95/Nokia N78 phones or on iPhone. Twonky has a web based DMC also.\r\n\r\nAll these devices have one thing in common: they understand and speak UPnP. They may be implemented in C+, C#, Java, they may run on Windows, Linux or Apple platform but they are all UPnP based. So all you need to do is to get familiar with UPnP standard. I would recommend downloading the papers from upnp.org and the Intel Device Spy (and other related Intel UPnP tools) and start playing with those. \r\nIf you want to write a DMC (or PlayTo) - which is the easiest thing to do - all you need to understand is just some basic UPnP concepts (SOAP, XML, network discovery, etc). If you want to write your app on top of Win7 platform, you may want to use the Win UPnP API to discover the devices and send commands to them. Or you can write your own API for doing that (it is not that hard). I do not know on the phone what API you may use. However, you can always go to the basic: sending SOAP messages over the wire using basic network APIs.\r\nFor a DMP/DMR, you will need playback capabilities, and that may depend on the platform and what codecs you have there. \r\n\r\nLet me know if this helps a bit to get you started.\r\nThx\r\nCCazang\r\n","title":"Implementing DLNA/UPnP (Win7 Play To) on a mobile device","body":"<p>The PlayTo is all UPnP based. DLNA is just a layer of standardization on top of UPnP. So any UPnP device is able to talk with a DLNA device so to a Win7 machine. \nDLNA specifies 4 type of devices: DMP, DMR, DMC and DMS.\nA DMP (aka Digital Media Player) is a device, that is capable of finding and browsing remote servers (DMS=Digital Media Servers) and consume content (or pull content). PS3 is the perfect example of DMP. A DMP is not discoverable on the network, it just discovers and consumes content. Because it is not discoverable, you cannot control it with PlayTo.\nA DMR (aka Digital Media Renders) is a device that can accept commands received from the network. It is discoverable, exposes an UPnP description document and UPnP services like AVTransport and ConnectionManager or RenderingControl. A PlayTo device, is capable to find this device on a network, and it can push content to it. It can control the playback via AVTransport service and RenderingControl service.\nMany devices today are either 100% DMPs (cannot be controlled via PlayTo) or DMP-DMRs. That means they both expose the AVTransport and RenderingControl services but also have a GUI that the user can use to pull media from a server.\nA DMS (aka Digital Media Server) is a media server device. You can store media content in there and than you can consume it from other network devices. These are usually NAS devices, but they may also be mobile phones, Win7/Vista machines, etc. A DMS is discoverable on the network and exposes UPnP services as ContentDirectory service. This exposes methods as Browse and Search, which you may use to locate the content.\nA DMC device (aka Digital Media Controller) is a device that has no playback capabilities. It has only controlling capabilities, and it needs a remote DMS (to expose the content) and a remote DMR (to play the content) for completing the media experience. PlayTo is an example. There are also similar apps on Nokia N95/Nokia N78 phones or on iPhone. Twonky has a web based DMC also.</p>\n\n<p>All these devices have one thing in common: they understand and speak UPnP. They may be implemented in C+, C#, Java, they may run on Windows, Linux or Apple platform but they are all UPnP based. So all you need to do is to get familiar with UPnP standard. I would recommend downloading the papers from upnp.org and the Intel Device Spy (and other related Intel UPnP tools) and start playing with those. \nIf you want to write a DMC (or PlayTo) - which is the easiest thing to do - all you need to understand is just some basic UPnP concepts (SOAP, XML, network discovery, etc). If you want to write your app on top of Win7 platform, you may want to use the Win UPnP API to discover the devices and send commands to them. Or you can write your own API for doing that (it is not that hard). I do not know on the phone what API you may use. However, you can always go to the basic: sending SOAP messages over the wire using basic network APIs.\nFor a DMP/DMR, you will need playback capabilities, and that may depend on the platform and what codecs you have there. </p>\n\n<p>Let me know if this helps a bit to get you started.\nThx\nCCazang</p>\n"}],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7510,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":1705041,"answer_count":1,"score":8,"last_activity_date":1679584461,"creation_date":1257438845,"question_id":1681817,"body_markdown":"For a semester project, I had the idea to implement Windows 7&#39;s Play to infrastructure to either use a phone as the end point (the player) or to stream stuff from the phone to a Windows 7 machine.  Does anybody have experience working with this API?  Is this do able over a couple of weeks (prototype, just proof of concept, not end-user ready) or is it too much for a project of this scope?  Note: I&#39;m not looking for code samples, just an assessment of the feasibility of this project.  If you have any documentation from MS or otherwise that would be awesome although not the crux of the question.\r\n\r\n**Edit:**  I discovered that the Windows 7 Play-to functionality is based on DLNA and any device supporting DLNA (I think) can be used as a destination for the Play-To context menu.  However, I&#39;m having a really difficult time finding any sort of documentation on DLNA.  I&#39;m wondering if you need to be a member of the DNLA to actually get access to the spec?  Alternatively, I know DLNA is built on UPnP, it wouldn&#39;t exactly do what I want, but it would be a step in the right direction, so, to revise my question **does anybody know of any open-source C/C++ or Java (preferable) libraries that would help me implement UPnP or DLNA?**\r\n\r\nThanks!\r\nChris","title":"Implementing DLNA/UPnP (Win7 Play To) on a mobile device","body":"<p>For a semester project, I had the idea to implement Windows 7's Play to infrastructure to either use a phone as the end point (the player) or to stream stuff from the phone to a Windows 7 machine.  Does anybody have experience working with this API?  Is this do able over a couple of weeks (prototype, just proof of concept, not end-user ready) or is it too much for a project of this scope?  Note: I'm not looking for code samples, just an assessment of the feasibility of this project.  If you have any documentation from MS or otherwise that would be awesome although not the crux of the question.</p>\n\n<p><strong>Edit:</strong>  I discovered that the Windows 7 Play-to functionality is based on DLNA and any device supporting DLNA (I think) can be used as a destination for the Play-To context menu.  However, I'm having a really difficult time finding any sort of documentation on DLNA.  I'm wondering if you need to be a member of the DNLA to actually get access to the spec?  Alternatively, I know DLNA is built on UPnP, it wouldn't exactly do what I want, but it would be a step in the right direction, so, to revise my question <strong>does anybody know of any open-source C/C++ or Java (preferable) libraries that would help me implement UPnP or DLNA?</strong></p>\n\n<p>Thanks!\nChris</p>\n"},{"tags":["java","algorithm","time-complexity","big-o"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1679575007,"post_id":75822998,"comment_id":133748010,"body_markdown":"well other than generating more code, it is still O(n)","body":"well other than generating more code, it is still O(n)"},{"owner":{"account_id":11396335,"reputation":60,"user_id":19646829,"display_name":"ayseguldmrblk"},"score":0,"creation_date":1679575267,"post_id":75822998,"comment_id":133748086,"body_markdown":"@OldProgrammer Then the only difference is writability and readability I guess, thank you.","body":"@OldProgrammer Then the only difference is writability and readability I guess, thank you."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1679575338,"post_id":75822998,"comment_id":133748115,"body_markdown":"They&#39;re both LINEAR TIME / O(n), meaning the length of time required to complete the algorithm will be DIRECTLY PROPORTIONAL to the amount of input. But the second version is a COMPLETE WASTE OF TIME and will get you FIRED. See the difference?  ;)","body":"They&#39;re both LINEAR TIME / O(n), meaning the length of time required to complete the algorithm will be DIRECTLY PROPORTIONAL to the amount of input. But the second version is a COMPLETE WASTE OF TIME and will get you FIRED. See the difference?  ;)"},{"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"score":5,"creation_date":1679575575,"post_id":75822998,"comment_id":133748182,"body_markdown":"Technically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the PROGRAM is *Θ(n)*. It would be *O(1)*, because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code, a constant time. However, the time complexity of the PROBLEM is still *O(n)*. And if, hypothetically, those 3 dots had been correct java syntax that actually produces *n* executions of your print, then it would be *O(n)*.","body":"Technically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the PROGRAM is <i>Θ(n)</i>. It would be <i>O(1)</i>, because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code, a constant time. However, the time complexity of the PROBLEM is still <i>O(n)</i>. And if, hypothetically, those 3 dots had been correct java syntax that actually produces <i>n</i> executions of your print, then it would be <i>O(n)</i>."}],"answers":[{"tags":[],"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679579520,"creation_date":1679579520,"answer_id":75823905,"question_id":75822998,"body_markdown":"It&#39;s a philosophical question.\r\n\r\nTechnically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the **program** is *Θ(n)*. Instead, it would be *O(1)* because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code: a constant number. But such programs aren&#39;t really solutions to the problem for a general array, rather to the special-case problem when the length of the array is known, and thus constant.\r\n\r\nThe time complexity of the **problem** is still *O(n)*. And if, hypothetically, those three dots had been correct Java syntax that actually produces *n* executions of your print, then it would be O(n). And you can continue this argument: You could have a program that produces your second code snippet as a separate program, and then executes it. This would also be *O(n)*.\r\n\r\nSo it boils down to how you view it. If you want to be formal, you need to define a computation model (and delve into the realm of [Turing Machines][1], [Random Access Machines][1] etc.) and ask your question in relation to that.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Random-access_machine","title":"How complexity differs from calling a function actually n times or putting inside a loop that iterates n times?","body":"<p>It's a philosophical question.</p>\n<p>Technically, the second option requires a new program for each input length. So you can't really say that the time complexity of the <strong>program</strong> is <em>Θ(n)</em>. Instead, it would be <em>O(1)</em> because for any such program, the time doesn't actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code: a constant number. But such programs aren't really solutions to the problem for a general array, rather to the special-case problem when the length of the array is known, and thus constant.</p>\n<p>The time complexity of the <strong>problem</strong> is still <em>O(n)</em>. And if, hypothetically, those three dots had been correct Java syntax that actually produces <em>n</em> executions of your print, then it would be O(n). And you can continue this argument: You could have a program that produces your second code snippet as a separate program, and then executes it. This would also be <em>O(n)</em>.</p>\n<p>So it boils down to how you view it. If you want to be formal, you need to define a computation model (and delve into the realm of <a href=\"https://en.wikipedia.org/wiki/Random-access_machine\" rel=\"nofollow noreferrer\">Turing Machines</a>, <a href=\"https://en.wikipedia.org/wiki/Random-access_machine\" rel=\"nofollow noreferrer\">Random Access Machines</a> etc.) and ask your question in relation to that.</p>\n"}],"owner":{"account_id":11396335,"reputation":60,"user_id":19646829,"display_name":"ayseguldmrblk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75823905,"answer_count":1,"score":2,"last_activity_date":1679584422,"creation_date":1679574474,"question_id":75822998,"body_markdown":"Let&#39;s say the function simply prints the elements of an array. I know the time complexity of the following loop version will be O(n). \r\n\r\n    static void printArray(int[] myArray)\r\n    {\r\n        for(int i = 0; i &lt; myArray.length; i++)\r\n        {\r\n            System.out.println(myArray[i]);\r\n        }\r\n    }\r\n\r\nLet&#39;s say the print statement is written for the length of the myArray, the complexity is same or not? \r\n\r\n    static void printArray(int[] myArray)\r\n    {\r\n        int i = 0;\r\n        System.out.println(myArray[i++]);\r\n        System.out.println(myArray[i++]);\r\n        System.out.println(myArray[i++]);\r\n        .\r\n        .\r\n        .\r\n        System.out.println(myArray[i++]);\r\n    }\r\n\r\nThanks in advance. ","title":"How complexity differs from calling a function actually n times or putting inside a loop that iterates n times?","body":"<p>Let's say the function simply prints the elements of an array. I know the time complexity of the following loop version will be O(n).</p>\n<pre><code>static void printArray(int[] myArray)\n{\n    for(int i = 0; i &lt; myArray.length; i++)\n    {\n        System.out.println(myArray[i]);\n    }\n}\n</code></pre>\n<p>Let's say the print statement is written for the length of the myArray, the complexity is same or not?</p>\n<pre><code>static void printArray(int[] myArray)\n{\n    int i = 0;\n    System.out.println(myArray[i++]);\n    System.out.println(myArray[i++]);\n    System.out.println(myArray[i++]);\n    .\n    .\n    .\n    System.out.println(myArray[i++]);\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679582573,"post_id":75824394,"comment_id":133750328,"body_markdown":"Think of it from the *caller&#39;s* perspective. If the abstract class is vague about what&#39;s required, how is the caller going to know what to provide? If a concrete implementation expects two parameters, but the caller only provides one, what do you expect to happen?","body":"Think of it from the <i>caller&#39;s</i> perspective. If the abstract class is vague about what&#39;s required, how is the caller going to know what to provide? If a concrete implementation expects two parameters, but the caller only provides one, what do you expect to happen?"},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":2,"creation_date":1679582611,"post_id":75824394,"comment_id":133750341,"body_markdown":"You shouldn&#39;t name the argument the exact same (including casing) as the Type. That will cause inevitable errors.","body":"You shouldn&#39;t name the argument the exact same (including casing) as the Type. That will cause inevitable errors."},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679582667,"post_id":75824394,"comment_id":133750363,"body_markdown":"Maybe I am not explaning well enough. By default, that logic will be used and that argument will be used. But if the developer wants to do that method in another way. How can I let the developer define their own arguments?","body":"Maybe I am not explaning well enough. By default, that logic will be used and that argument will be used. But if the developer wants to do that method in another way. How can I let the developer define their own arguments?"},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679582701,"post_id":75824394,"comment_id":133750370,"body_markdown":"Developers &quot;defining their own arguments&quot; are effectively writing new methods and not implementing the abstract method.","body":"Developers &quot;defining their own arguments&quot; are effectively writing new methods and not implementing the abstract method."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679582745,"post_id":75824394,"comment_id":133750389,"body_markdown":"Providing a different method with the same name, but different parameters is called &quot;overloading&quot;, not &quot;overriding&quot;.","body":"Providing a different method with the same name, but different parameters is called &quot;overloading&quot;, not &quot;overriding&quot;."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679582777,"post_id":75824394,"comment_id":133750400,"body_markdown":"Do all of your DTOs have a `getTotalNumberOfPages()` method?","body":"Do all of your DTOs have a <code>getTotalNumberOfPages()</code> method?"},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679583013,"post_id":75824394,"comment_id":133750488,"body_markdown":"No, only sortDto. But maybe the developer does not need or want to use that dto, and instead want another argument.","body":"No, only sortDto. But maybe the developer does not need or want to use that dto, and instead want another argument."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679583057,"post_id":75824394,"comment_id":133750505,"body_markdown":"If the developer doesn&#39;t want or need to use that DTO, then why are they inheriting from this Abstract Class? I would reconsider your class hierarchy. If you simply need to support different types of DTOs, you could create an abstract class (or Interface) for your DTOs that the other DTOs inherit.","body":"If the developer doesn&#39;t want or need to use that DTO, then why are they inheriting from this Abstract Class? I would reconsider your class hierarchy. If you simply need to support different types of DTOs, you could create an abstract class (or Interface) for your DTOs that the other DTOs inherit."},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679583147,"post_id":75824394,"comment_id":133750533,"body_markdown":"This is not the only method that needs to be implented, there are more. But this is the method I have the doubt.","body":"This is not the only method that needs to be implented, there are more. But this is the method I have the doubt."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679583218,"post_id":75824394,"comment_id":133750559,"body_markdown":"You&#39;re going to have to give more concrete examples of the abstract class definition and inheriting classes. Your question as-is is &quot;What if a developer doesn&#39;t want to follow the abstract method definition&quot; to which the answer is simply &quot;Then they should likely not be inheriting this abstract class in the first place.&quot;","body":"You&#39;re going to have to give more concrete examples of the abstract class definition and inheriting classes. Your question as-is is &quot;What if a developer doesn&#39;t want to follow the abstract method definition&quot; to which the answer is simply &quot;Then they should likely not be inheriting this abstract class in the first place.&quot;"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679586414,"post_id":75824394,"comment_id":133751562,"body_markdown":"aside: don&#39;t name a method setSomething if it doesn&#39;t change anything","body":"aside: don&#39;t name a method setSomething if it doesn&#39;t change anything"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679586639,"post_id":75824394,"comment_id":133751628,"body_markdown":"as to your perceived problem: if developers need many variants of many  methods in its api, then the design is broken. Take a step back and think again on how to do it differently, what&#39;s really needed, what are the commonalities and the differences and then re-design along those lines.","body":"as to your perceived problem: if developers need many variants of many  methods in its api, then the design is broken. Take a step back and think again on how to do it differently, what&#39;s really needed, what are the commonalities and the differences and then re-design along those lines."}],"answers":[{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679584386,"creation_date":1679583898,"answer_id":75824696,"question_id":75824394,"body_markdown":"Generally speaking, there are two ways to implement what you assumedly have in mind. \r\nOne is the use of an `interface` that `SortDto` and all other classes that can be used as a parameter must implement. This interface would then be the type of the (badly named) `setExitStatus` method. Within this interface, you need a method that generalizes the `sortDto.getTotalNumberOfPages() &gt; 0` condition.\r\n\r\n    interface DtoExit {\r\n        public boolean isDatos();\r\n    }\r\n\r\nin SortDto\r\n\r\n    public class SortDto implements DtoExit {\r\n        ...\r\n        @Override\r\n        public boolean isDatos() {\r\n            return sortDto.getTotalNumberOfPages() &gt; 0;\r\n        }\r\n    }\r\n\r\nYour initial method becomes\r\n\r\n    protected String setExitStatus(DtoExit dto) {\r\n        if (dto.isDatos()) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\nThe other possibility is to use polymorphism and create several `setExitStatus()` methods with different parameter types.\r\n\r\n    protected String setExitStatus(SortDto sortDto) {\r\n        if (sortDto.getTotalNumberOfPages() &gt; 0) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    protected String setExitStatus(AnotherDto anotherDto) {\r\n        if (anotherDto.someCondition()) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n(Theoretically, there is a third approach, as you could have just one method with a very general parameter type, like `Object`, and do a lot of `instanceof` checks in the method body to find out the actual type of the parameter and handle it accordingly. I will not provide an example fo this approach as it is a dirty hack and definitely not recommendable)","title":"Override method parameters in abstract class","body":"<p>Generally speaking, there are two ways to implement what you assumedly have in mind.\nOne is the use of an <code>interface</code> that <code>SortDto</code> and all other classes that can be used as a parameter must implement. This interface would then be the type of the (badly named) <code>setExitStatus</code> method. Within this interface, you need a method that generalizes the <code>sortDto.getTotalNumberOfPages() &gt; 0</code> condition.</p>\n<pre><code>interface DtoExit {\n    public boolean isDatos();\n}\n</code></pre>\n<p>in SortDto</p>\n<pre><code>public class SortDto implements DtoExit {\n    ...\n    @Override\n    public boolean isDatos() {\n        return sortDto.getTotalNumberOfPages() &gt; 0;\n    }\n}\n</code></pre>\n<p>Your initial method becomes</p>\n<pre><code>protected String setExitStatus(DtoExit dto) {\n    if (dto.isDatos()) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n</code></pre>\n<p>The other possibility is to use polymorphism and create several <code>setExitStatus()</code> methods with different parameter types.</p>\n<pre><code>protected String setExitStatus(SortDto sortDto) {\n    if (sortDto.getTotalNumberOfPages() &gt; 0) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n\n\nprotected String setExitStatus(AnotherDto anotherDto) {\n    if (anotherDto.someCondition()) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n\n...\n</code></pre>\n<p>(Theoretically, there is a third approach, as you could have just one method with a very general parameter type, like <code>Object</code>, and do a lot of <code>instanceof</code> checks in the method body to find out the actual type of the parameter and handle it accordingly. I will not provide an example fo this approach as it is a dirty hack and definitely not recommendable)</p>\n"}],"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824696,"answer_count":1,"score":0,"last_activity_date":1679584386,"creation_date":1679582308,"question_id":75824394,"body_markdown":"I am creating an abstract class, that will be implemented by some projects.\r\n\r\nThese projects, will implement that class, and their methods also.\r\n\r\n    protected String setExitStatus(SortDto sortDto) {\r\n        if (sortDto.getTotalNumberOfPages() &gt; 0) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs you can see, this method by defect has a SortDto as a parameter.\r\n\r\nWhat if, the developer that wants to use that method, but don&#39;t want to (or does not have) to supply a SortDto, and instead wants to supply another dto? or another pair of dtos?     \r\n\r\nIs there any way I can define this method, that by default, wants a SortDto, but it can be override with another argument?                                                    ","title":"Override method parameters in abstract class","body":"<p>I am creating an abstract class, that will be implemented by some projects.</p>\n<p>These projects, will implement that class, and their methods also.</p>\n<pre><code>protected String setExitStatus(SortDto sortDto) {\n    if (sortDto.getTotalNumberOfPages() &gt; 0) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n</code></pre>\n<p>As you can see, this method by defect has a SortDto as a parameter.</p>\n<p>What if, the developer that wants to use that method, but don't want to (or does not have) to supply a SortDto, and instead wants to supply another dto? or another pair of dtos?</p>\n<p>Is there any way I can define this method, that by default, wants a SortDto, but it can be override with another argument?</p>\n"},{"tags":["java","spring-boot","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":193270,"reputation":462,"user_id":434903,"display_name":"Radio Rogal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679584184,"creation_date":1679584184,"answer_id":75824744,"question_id":75797650,"body_markdown":"Yeah, you can use **MDC**, see [Baeldung&#39;s article][1].\r\n\r\nNot all `slf4j`&#39;s binder/loggers support this feature. As far as I know `logback` one who supports it =&gt; [Chapter 8: Mapped Diagnostic Context][2]\r\n\r\nIf you want to suppress a class name tune a [custom layout][3].\r\n\r\nTo get JSON output try to use [`logback`&#39;s JSON appender][4].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mdc-in-log4j-2-logback\r\n  [2]: https://logback.qos.ch/manual/mdc.html\r\n  [3]: https://logback.qos.ch/manual/layouts.html\r\n  [4]: https://www.baeldung.com/java-log-json-output","title":"Append a constant string to all the Slf4j logs in particular classes","body":"<p>Yeah, you can use <strong>MDC</strong>, see <a href=\"https://www.baeldung.com/mdc-in-log4j-2-logback\" rel=\"nofollow noreferrer\">Baeldung's article</a>.</p>\n<p>Not all <code>slf4j</code>'s binder/loggers support this feature. As far as I know <code>logback</code> one who supports it =&gt; <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">Chapter 8: Mapped Diagnostic Context</a></p>\n<p>If you want to suppress a class name tune a <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">custom layout</a>.</p>\n<p>To get JSON output try to use <a href=\"https://www.baeldung.com/java-log-json-output\" rel=\"nofollow noreferrer\"><code>logback</code>'s JSON appender</a>.</p>\n"}],"owner":{"account_id":13943714,"reputation":149,"user_id":10068935,"display_name":"Muhammed Thabjeel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679584184,"creation_date":1679377166,"question_id":75797650,"body_markdown":"I have few classes that i use for my spring batch job execution like one below. I want to append a constant string SPRING_BATCH_JOB to the names of loggers of all these classes so that it will make my log filtering easier. I tried passing topic to  @Slf4j annotation (`@Slf4j(topic = &quot;SPRING_BATCH_LOG&quot;)`\r\n). It will just print this constant literal and will not print the class name. That is not exactly what i want to achieve. \r\n\r\nFor an instance, I want to print the log statement         `log.info(&quot;Creating a retry job execution&quot;)` as `{&quot;@timestamp&quot;:&quot;2023-03-21T05:34:24.345+00:00&quot;,&quot;message&quot;:&quot;Creating a retry job execution&quot;,&quot;logger&quot;:&quot;SPRING_BATCH_LOG : c.v.r.r.c. RetryOb&quot;,&quot;thread&quot;:&quot;http-nio-8086-exec-2&quot;,&quot;level&quot;:&quot;INFO&quot;}`.\r\n\r\nIs there any way to achieve this ???\r\n\r\n\r\n    @Slf4j\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class RetryOb {\r\n    \r\n      private final RetryJobService retryJobService;\r\n    \r\n      public void retry(retryRequest retryRequest) {\r\n        log.info(&quot;Creating a retry Initiate job execution&quot;);\r\n        retryService.startJob(retryRequest);\r\n      }\r\n    }","title":"Append a constant string to all the Slf4j logs in particular classes","body":"<p>I have few classes that i use for my spring batch job execution like one below. I want to append a constant string SPRING_BATCH_JOB to the names of loggers of all these classes so that it will make my log filtering easier. I tried passing topic to  @Slf4j annotation (<code>@Slf4j(topic = &quot;SPRING_BATCH_LOG&quot;)</code>\n). It will just print this constant literal and will not print the class name. That is not exactly what i want to achieve.</p>\n<p>For an instance, I want to print the log statement         <code>log.info(&quot;Creating a retry job execution&quot;)</code> as <code>{&quot;@timestamp&quot;:&quot;2023-03-21T05:34:24.345+00:00&quot;,&quot;message&quot;:&quot;Creating a retry job execution&quot;,&quot;logger&quot;:&quot;SPRING_BATCH_LOG : c.v.r.r.c. RetryOb&quot;,&quot;thread&quot;:&quot;http-nio-8086-exec-2&quot;,&quot;level&quot;:&quot;INFO&quot;}</code>.</p>\n<p>Is there any way to achieve this ???</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class RetryOb {\n\n  private final RetryJobService retryJobService;\n\n  public void retry(retryRequest retryRequest) {\n    log.info(&quot;Creating a retry Initiate job execution&quot;);\n    retryService.startJob(retryRequest);\n  }\n}\n</code></pre>\n"},{"tags":["java","arraylist","selenium-chromedriver","extentreports"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679583800,"creation_date":1679583800,"question_id":75824680,"body_markdown":"I am looking to essentially create a test in Extent reports that will have a list of Strings printed out, and each String in the list should have a newline separator.  This means that in Extent report it should show all the strings printed out in a new line.  How can this be done?  I could not stream the list and print out since it would return void, so I put it into a StringBuilder class and attempted to use System.lineSeparator(), but it didn&#39;t not do any good once I added the SB.toString() method in the Extent test MarkupHelper.createLabel() method.\r\n\r\nHow can this be achieved?  Below is the code block I have along with the snapshot of the extent report showing all the string elements in the list in a long single line instead of separated appropriately:\r\n\r\n```\r\ntry {\r\n\tExecuteStep es = new ExecuteStep(elementDao);\r\n\tList&lt;Locator&gt; allLocators = elementDao.getAllPossibleLocators();\r\n\tList&lt;WebElement&gt; allElements = es.getSuitableWebElements(allLocators);\r\n\tfor (WebElement element : allElements) {\r\n\t\tif (!element.isDisplayed()) {\r\n\t\t\tJavascriptUtil.scrollIntoView(element, driver);\r\n\t\t}\r\n\t\tif (element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)) {\r\n\t\t\tAssert.assertTrue(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;));\r\n\t\t\tpassList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\r\n\t\t} else {\r\n\t\t\tAssert.assertTrue(!(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)));\r\n\t\t\tfailList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\r\n\t\t}\r\n\t}\r\n\tStringBuilder sbPass = new StringBuilder();\r\n\tStringBuilder sbFail = new StringBuilder();\r\n\tfor (String passElementString : passList)\r\n\t{\r\n\t\tsbPass.append(passElementString);\r\n\t}\r\n\tfor (String failElementString : failList)\r\n\t{\r\n\t\tsbFail.append(failElementString);\r\n\t}\r\n\tif (passList.size() &gt; 0) {\r\n\t\tExtentCustom.eachTest.pass(MarkupHelper.createLabel(sbPass.toString(), ExtentColor.GREEN));\r\n\t}\r\n\tif (failList.size() &gt; 0) {\r\n\t\tExtentCustom.eachTest.fail(MarkupHelper.createLabel(sbFail.toString(), ExtentColor.RED));\r\n\t}\r\n} catch (Throwable e) {\r\n\tExtentCustom.eachTest.fail(MarkupHelper.createLabel(e.toString(), ExtentColor.RED));\r\n}\r\n```\r\n\r\nExtent report showing all on one line:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nPlease let me know for any suggestions or if there is a simplified way to do this as well.  Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFL86.png","title":"Extent Reports createLabel print out List of Strings with line separator","body":"<p>I am looking to essentially create a test in Extent reports that will have a list of Strings printed out, and each String in the list should have a newline separator.  This means that in Extent report it should show all the strings printed out in a new line.  How can this be done?  I could not stream the list and print out since it would return void, so I put it into a StringBuilder class and attempted to use System.lineSeparator(), but it didn't not do any good once I added the SB.toString() method in the Extent test MarkupHelper.createLabel() method.</p>\n<p>How can this be achieved?  Below is the code block I have along with the snapshot of the extent report showing all the string elements in the list in a long single line instead of separated appropriately:</p>\n<pre><code>try {\n    ExecuteStep es = new ExecuteStep(elementDao);\n    List&lt;Locator&gt; allLocators = elementDao.getAllPossibleLocators();\n    List&lt;WebElement&gt; allElements = es.getSuitableWebElements(allLocators);\n    for (WebElement element : allElements) {\n        if (!element.isDisplayed()) {\n            JavascriptUtil.scrollIntoView(element, driver);\n        }\n        if (element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)) {\n            Assert.assertTrue(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;));\n            passList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\n        } else {\n            Assert.assertTrue(!(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)));\n            failList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\n        }\n    }\n    StringBuilder sbPass = new StringBuilder();\n    StringBuilder sbFail = new StringBuilder();\n    for (String passElementString : passList)\n    {\n        sbPass.append(passElementString);\n    }\n    for (String failElementString : failList)\n    {\n        sbFail.append(failElementString);\n    }\n    if (passList.size() &gt; 0) {\n        ExtentCustom.eachTest.pass(MarkupHelper.createLabel(sbPass.toString(), ExtentColor.GREEN));\n    }\n    if (failList.size() &gt; 0) {\n        ExtentCustom.eachTest.fail(MarkupHelper.createLabel(sbFail.toString(), ExtentColor.RED));\n    }\n} catch (Throwable e) {\n    ExtentCustom.eachTest.fail(MarkupHelper.createLabel(e.toString(), ExtentColor.RED));\n}\n</code></pre>\n<p>Extent report showing all on one line:</p>\n<p><a href=\"https://i.stack.imgur.com/XFL86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFL86.png\" alt=\"enter image description here\" /></a></p>\n<p>Please let me know for any suggestions or if there is a simplified way to do this as well.  Thank you!</p>\n"},{"tags":["java","sql","database","postgresql","function"],"comments":[{"owner":{"account_id":5381866,"reputation":12883,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"score":0,"creation_date":1679578742,"post_id":75823668,"comment_id":133749042,"body_markdown":"Can you update your question and add some simple data and the expected output","body":"Can you update your question and add some simple data and the expected output"},{"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"score":0,"creation_date":1679582582,"post_id":75823668,"comment_id":133750330,"body_markdown":"@SelVazi•  \nI updated the question, can you tell me if it is possible","body":"@SelVazi•   I updated the question, can you tell me if it is possible"}],"answers":[{"tags":[],"owner":{"account_id":5381866,"reputation":12883,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679583599,"creation_date":1679580417,"answer_id":75824072,"question_id":75823668,"body_markdown":"You can do it using [jsonb_set][1] as follows :\r\n\r\nTo remove one single element from the array :\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - &#39;aaa&#39;);\r\n\r\nThis is to remove an array from an other array :\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - &#39;{&quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot;}&#39;::text[]);\r\n\r\n[Demo here][2]\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-json.html\r\n  [2]: https://dbfiddle.uk/nqW3GDJ8","title":"How to remove elements from an array in Jsonb. Using Postgres","body":"<p>You can do it using <a href=\"https://www.postgresql.org/docs/current/functions-json.html\" rel=\"nofollow noreferrer\">jsonb_set</a> as follows :</p>\n<p>To remove one single element from the array :</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - 'aaa');\n</code></pre>\n<p>This is to remove an array from an other array :</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - '{&quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot;}'::text[]);\n</code></pre>\n<p><a href=\"https://dbfiddle.uk/nqW3GDJ8\" rel=\"nofollow noreferrer\">Demo here</a></p>\n"}],"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75824072,"answer_count":1,"score":-1,"last_activity_date":1679583599,"creation_date":1679578296,"question_id":75823668,"body_markdown":"I used the `( fields -&gt; ?1 ) - string_to_array( ?2, &#39;,&#39; )` function. To remove the elements that are in the array, however, the function adds to jsonb those that do not contain in the first array. I would only like to remove those that are in the second array, and not also add those that do not contain\r\n\r\nAdded the elements that were not equal\r\n\r\nThis is my function:\r\n\r\n    ( fields -&gt; ?1 ) - string_to_array( ?2, &#39;,&#39; )\r\n\r\nmy jsonb field is something like:\r\n    \r\n    {\r\n    &quot;23&quot;: [ &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot; ]\r\n    }\r\n    \r\nwith what I did if I passed the function with this second array:\r\n\r\n     [ &quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot; ] \r\n\r\nReturning:\r\n\r\n    {\r\n    &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;jjj ]\r\n    }\r\n\r\nExpected:\r\n\r\n     {\r\n        &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot; ]\r\n     }\r\n\r\nmy expected return is just remove:\r\n\r\n    `aaa`\r\n\r\nremove the same fields and not add the different ones\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - [ &#39;aaa&#39;, &#39;bbb&#39; ] );\r\n\r\n\r\n\r\n","title":"How to remove elements from an array in Jsonb. Using Postgres","body":"<p>I used the <code>( fields -&gt; ?1 ) - string_to_array( ?2, ',' )</code> function. To remove the elements that are in the array, however, the function adds to jsonb those that do not contain in the first array. I would only like to remove those that are in the second array, and not also add those that do not contain</p>\n<p>Added the elements that were not equal</p>\n<p>This is my function:</p>\n<pre><code>( fields -&gt; ?1 ) - string_to_array( ?2, ',' )\n</code></pre>\n<p>my jsonb field is something like:</p>\n<pre><code>{\n&quot;23&quot;: [ &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot; ]\n}\n</code></pre>\n<p>with what I did if I passed the function with this second array:</p>\n<pre><code> [ &quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot; ] \n</code></pre>\n<p>Returning:</p>\n<pre><code>{\n&quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;jjj ]\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code> {\n    &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot; ]\n }\n</code></pre>\n<p>my expected return is just remove:</p>\n<pre><code>`aaa`\n</code></pre>\n<p>remove the same fields and not add the different ones</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - [ 'aaa', 'bbb' ] );\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1679580873,"post_id":75824125,"comment_id":133749743,"body_markdown":"You&#39;re inserting control codes inside other control codes.","body":"You&#39;re inserting control codes inside other control codes."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679581496,"post_id":75824125,"comment_id":133749937,"body_markdown":"Think about what happens to `word`. After the 1st iteration the content would e `&quot;\\033[0;97;41mu\\033[0mngabunga&quot;`. Now you advance to index 1, i.e. the 2nd character. What&#39;s that character in `word` now? (Hint: it should be `3`). You probably want to use a separate string or even a `StringBuilder` and _append_ the results of each iteration to it (i.e. the character and the color control sequence). - However, you seem to always set the same color so why not insert the control sequence just once and include the first 7 characters in between?","body":"Think about what happens to <code>word</code>. After the 1st iteration the content would e <code>&quot;\\033[0;97;41mu\\033[0mngabunga&quot;</code>. Now you advance to index 1, i.e. the 2nd character. What&#39;s that character in <code>word</code> now? (Hint: it should be <code>3</code>). You probably want to use a separate string or even a <code>StringBuilder</code> and <i>append</i> the results of each iteration to it (i.e. the character and the color control sequence). - However, you seem to always set the same color so why not insert the control sequence just once and include the first 7 characters in between?"}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679582404,"creation_date":1679582404,"answer_id":75824411,"question_id":75824125,"body_markdown":"You should not change the string that is also the input for your for-loop. Moreover, control codes like this can be wrapped around the whole String you want to change.\r\n\r\nIf you intend to make the word &quot;ungabunga&quot; red, just insert the control statement for red in front and the reset statement at the end.\r\n\r\n``` java\r\nString word = &quot;ungabunga&quot;;\r\nword = &quot;\\033[0;97;41m&quot; + word + &quot;\\033[0m&quot;;\r\nSystem.out.println(word);\r\n``` \r\n\r\nOr if you want to highlight just a specific part of the text:\r\n``` java\r\nString word = &quot;ungabunga&quot;;\r\nint from = 1;\r\nint to = 7;\r\nword = word.substring(0,from) + &quot;\\033[0;97;41m&quot; + word.substring(from,to) + &quot;\\033[0m&quot; + word.substring(to);\r\nSystem.out.println(word);\r\n```","title":"How to properly change letter color using a for-loop in Java","body":"<p>You should not change the string that is also the input for your for-loop. Moreover, control codes like this can be wrapped around the whole String you want to change.</p>\n<p>If you intend to make the word &quot;ungabunga&quot; red, just insert the control statement for red in front and the reset statement at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = &quot;ungabunga&quot;;\nword = &quot;\\033[0;97;41m&quot; + word + &quot;\\033[0m&quot;;\nSystem.out.println(word);\n</code></pre>\n<p>Or if you want to highlight just a specific part of the text:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = &quot;ungabunga&quot;;\nint from = 1;\nint to = 7;\nword = word.substring(0,from) + &quot;\\033[0;97;41m&quot; + word.substring(from,to) + &quot;\\033[0m&quot; + word.substring(to);\nSystem.out.println(word);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679583349,"creation_date":1679582631,"answer_id":75824457,"question_id":75824125,"body_markdown":"You were replacing your initial String `word` each iteration. You can use another String, `coloredWord` for instance, that will be used to display the word with a red background for *i-th* letter:\r\n\r\n```\r\npublic static void main(String... args) {\r\n        String word = &quot;ungabunga&quot;;\r\n        for (int i = 0; i &lt;= 8; i++){\r\n            String coloredWord = word.substring(0,i) + &quot;\\u001B[41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\r\n            System.out.println(coloredWord);\r\n        }\r\n    }\r\n```\r\n\r\nThere&#39;s no need to loop over each letter if you want the word to have a red background entirely:\r\n```\r\nSystem.out.println(&quot;\\u001B[41mungabunga\\033[0m&quot;);\r\n```\r\n\r\n","title":"How to properly change letter color using a for-loop in Java","body":"<p>You were replacing your initial String <code>word</code> each iteration. You can use another String, <code>coloredWord</code> for instance, that will be used to display the word with a red background for <em>i-th</em> letter:</p>\n<pre><code>public static void main(String... args) {\n        String word = &quot;ungabunga&quot;;\n        for (int i = 0; i &lt;= 8; i++){\n            String coloredWord = word.substring(0,i) + &quot;\\u001B[41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\n            System.out.println(coloredWord);\n        }\n    }\n</code></pre>\n<p>There's no need to loop over each letter if you want the word to have a red background entirely:</p>\n<pre><code>System.out.println(&quot;\\u001B[41mungabunga\\033[0m&quot;);\n</code></pre>\n"}],"owner":{"account_id":24849598,"reputation":1,"user_id":18726697,"display_name":"wall-e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1679583349,"creation_date":1679580680,"question_id":75824125,"body_markdown":"I used `substring` and `charAt` to add a colored background:\r\n```\r\nString word = &quot;ungabunga&quot;;\r\nfor (int i = 0; i &lt;= 7; i++){\r\n word = word.substring(0,i) + &quot;\\033[0;97;41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\r\n}\r\nSystem.out.println(word);\r\n```\r\nThis outputs\r\n```none\r\n[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41mungabunga \r\n```\r\nwith only the first bracket colored red instead of ungabunga colored entirely in red.","title":"How to properly change letter color using a for-loop in Java","body":"<p>I used <code>substring</code> and <code>charAt</code> to add a colored background:</p>\n<pre><code>String word = &quot;ungabunga&quot;;\nfor (int i = 0; i &lt;= 7; i++){\n word = word.substring(0,i) + &quot;\\033[0;97;41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\n}\nSystem.out.println(word);\n</code></pre>\n<p>This outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41mungabunga \n</code></pre>\n<p>with only the first bracket colored red instead of ungabunga colored entirely in red.</p>\n"},{"tags":["java","angular","spring","spring-boot","cors"],"answers":[{"tags":[],"owner":{"account_id":23699598,"reputation":66,"user_id":17722925,"display_name":"Предраг Дишленковиќ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679582770,"creation_date":1679582770,"answer_id":75824488,"question_id":75824402,"body_markdown":"Add the **@CrossOrigin** annotaion on **top of the REST controller class**.\r\n\r\nNote: This will enable you to communicate your BE from anywhere, if there is a precise domain that should be handled then you should try with this:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOrigins(&quot;http://somedomain.com&quot;)\r\n                .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;);\r\n        }\r\n    }","title":"I have problem with CORS with SpringBoot and angular","body":"<p>Add the <strong>@CrossOrigin</strong> annotaion on <strong>top of the REST controller class</strong>.</p>\n<p>Note: This will enable you to communicate your BE from anywhere, if there is a precise domain that should be handled then you should try with this:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n            .allowedOrigins(&quot;http://somedomain.com&quot;)\n            .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824488,"answer_count":1,"score":0,"last_activity_date":1679582770,"creation_date":1679582349,"question_id":75824402,"body_markdown":"Access to XMLHttpRequest at &#39;http://localhost:8080/api/v1/public/auth/signup&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nthis is the message i got when i try to interact with my backend application, i dont know why because I&#39;m literally setting up everything that i know to resolve the CORS problem but nothing seems to work here is my settings.\r\n\r\n\r\n\r\n\r\n\r\n    `@Bean\r\n        public DefaultSecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf()\r\n                    .disable()\r\n                    .cors().configurationSource(corsConfigurationSource).and()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/api/v1/public/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .apply(securityJwtConfigurer)\r\n                    .and()\r\n                    .formLogin().disable()\r\n                    .build();\r\n        }\r\n    `\r\n\r\n\r\n\r\n\r\nhere is my bean of the cors \r\n\r\n\r\n\r\n\r\n    `\r\n    @Configuration\r\n    public class CorsConfig {\r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n            configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n            configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }`","title":"I have problem with CORS with SpringBoot and angular","body":"<p>Access to XMLHttpRequest at 'http://localhost:8080/api/v1/public/auth/signup' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>this is the message i got when i try to interact with my backend application, i dont know why because I'm literally setting up everything that i know to resolve the CORS problem but nothing seems to work here is my settings.</p>\n<pre><code>`@Bean\n    public DefaultSecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf()\n                .disable()\n                .cors().configurationSource(corsConfigurationSource).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/public/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .apply(securityJwtConfigurer)\n                .and()\n                .formLogin().disable()\n                .build();\n    }\n`\n</code></pre>\n<p>here is my bean of the cors</p>\n<pre><code>`\n@Configuration\npublic class CorsConfig {\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}`\n</code></pre>\n"},{"tags":["java","azure-devops","azure-functions","continuous-deployment"],"answers":[{"tags":[],"owner":{"account_id":11226494,"reputation":13651,"user_id":8235971,"display_name":"Shamrai Aleksander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679582659,"creation_date":1679582659,"answer_id":75824460,"question_id":75824186,"body_markdown":"To build your app, you may use maven with your function app pom file... \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen copy your build result to the build artifacts:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter that, you may deploy it in the release pipelines. To do that, create a service connection to your Resource Group in Azure Subscription: [Create an Azure Resource Manager service connection using automated security][3]\r\n\r\nand deploy it through Azure Functions task.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dcBul.png\r\n  [2]: https://i.stack.imgur.com/jtRFN.png\r\n  [3]: https://learn.microsoft.com/en-us/azure/devops/pipelines/library/connect-to-azure?view=azure-devops#create-an-azure-resource-manager-service-connection-using-automated-security\r\n  [4]: https://i.stack.imgur.com/HtCsd.png","title":"How to deploy a Azure Function on Linux using Java code using Azure DevOps Pipelines?","body":"<p>To build your app, you may use maven with your function app pom file...</p>\n<p><a href=\"https://i.stack.imgur.com/dcBul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dcBul.png\" alt=\"enter image description here\" /></a></p>\n<p>Then copy your build result to the build artifacts:</p>\n<p><a href=\"https://i.stack.imgur.com/jtRFN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtRFN.png\" alt=\"enter image description here\" /></a></p>\n<p>After that, you may deploy it in the release pipelines. To do that, create a service connection to your Resource Group in Azure Subscription: <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/library/connect-to-azure?view=azure-devops#create-an-azure-resource-manager-service-connection-using-automated-security\" rel=\"nofollow noreferrer\">Create an Azure Resource Manager service connection using automated security</a></p>\n<p>and deploy it through Azure Functions task.</p>\n<p><a href=\"https://i.stack.imgur.com/HtCsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtCsd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8720058,"reputation":5,"user_id":6523487,"display_name":"Fagner Antunes Dornelles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824460,"answer_count":1,"score":0,"last_activity_date":1679582659,"creation_date":1679581053,"question_id":75824186,"body_markdown":"Using the offered templates in Azure Pipelines I have configured the build and deploy of a C# based function to a Azure Function on Windows. \r\nNow I need to do the same but with a Java function.\r\n\r\nIn the &quot;Set up build&quot;, it offer only a template to &quot;Node.js Function to Az Function in Linux&quot;, but I want to build and deploy the Java Function (Maven - Java 8) and deploy to a Az Function in Linux. \r\n[enter image description here](https://i.stack.imgur.com/B3dVj.png)\r\n\r\nSome tip about this task?\r\n\r\nI tried to create a new pipeline based in templates in Azure Devops, but not found a option for that I need.","title":"How to deploy a Azure Function on Linux using Java code using Azure DevOps Pipelines?","body":"<p>Using the offered templates in Azure Pipelines I have configured the build and deploy of a C# based function to a Azure Function on Windows.\nNow I need to do the same but with a Java function.</p>\n<p>In the &quot;Set up build&quot;, it offer only a template to &quot;Node.js Function to Az Function in Linux&quot;, but I want to build and deploy the Java Function (Maven - Java 8) and deploy to a Az Function in Linux.\n<a href=\"https://i.stack.imgur.com/B3dVj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Some tip about this task?</p>\n<p>I tried to create a new pipeline based in templates in Azure Devops, but not found a option for that I need.</p>\n"},{"tags":["java","jmap","jhat"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1678890051,"post_id":75745974,"comment_id":133620831,"body_markdown":"By downgrading from Java JDK 17 to Java JDK 8. Because [jhat was removed in Java 9](https://openjdk.org/jeps/241).","body":"By downgrading from Java JDK 17 to Java JDK 8. Because <a href=\"https://openjdk.org/jeps/241\" rel=\"nofollow noreferrer\">jhat was removed in Java 9</a>."},{"owner":{"account_id":15332241,"reputation":79,"user_id":11061645,"display_name":"Mr.D"},"score":1,"creation_date":1678890260,"post_id":75745974,"comment_id":133620897,"body_markdown":"I see... is there then an alternative to jhat that I can use with JDK 17? And without needing to be subscribed or have a licence or anything like that like with jprofiler?","body":"I see... is there then an alternative to jhat that I can use with JDK 17? And without needing to be subscribed or have a licence or anything like that like with jprofiler?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1678890306,"post_id":75745974,"comment_id":133620913,"body_markdown":"It’s been [deprecated](https://docs.oracle.com/en/java/javase/18/migrate/removed-tools-and-components.html#GUID-B49A964D-A2EF-4DAF-8A71-A64EF3E77C00).","body":"It’s been <a href=\"https://docs.oracle.com/en/java/javase/18/migrate/removed-tools-and-components.html#GUID-B49A964D-A2EF-4DAF-8A71-A64EF3E77C00\" rel=\"nofollow noreferrer\">deprecated</a>."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679582032,"creation_date":1678890735,"answer_id":75746157,"question_id":75745974,"body_markdown":"You could try [VisualVM][1] for profiling or [Eclipse Memory Analyzer][2] for heap analysis. There may be some similar functionality within those tools, depending on your specific needs.\r\n\r\n\r\n  [1]: https://visualvm.github.io/\r\n  [2]: https://www.eclipse.org/mat/","title":"How do I install jhat?","body":"<p>You could try <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a> for profiling or <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a> for heap analysis. There may be some similar functionality within those tools, depending on your specific needs.</p>\n"}],"owner":{"account_id":15332241,"reputation":79,"user_id":11061645,"display_name":"Mr.D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":936,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679582032,"creation_date":1678889868,"question_id":75745974,"body_markdown":"I have downloaded Java JDK 17 and I need to analyse a dump I did with the jmap command.\r\n\r\nI have searched about how to do it and jhat is apparently an already installed command that lets you analyse the dumps from jmap but when I run the jhat command it says:\r\n\r\n&#39;jhat&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\nSo I searched how to download it but I had no success and I tried to download it on my own with Chocolatey but with no results so does anyone have an idea about what to do to get jhat please?","title":"How do I install jhat?","body":"<p>I have downloaded Java JDK 17 and I need to analyse a dump I did with the jmap command.</p>\n<p>I have searched about how to do it and jhat is apparently an already installed command that lets you analyse the dumps from jmap but when I run the jhat command it says:</p>\n<p>'jhat' is not recognized as an internal or external command,\noperable program or batch file.</p>\n<p>So I searched how to download it but I had no success and I tried to download it on my own with Chocolatey but with no results so does anyone have an idea about what to do to get jhat please?</p>\n"},{"tags":["java","code-generation","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1491936104,"creation_date":1491936104,"answer_id":43353867,"question_id":43347620,"body_markdown":"You can use `@Mapping(target = &quot;prop1&quot;, expression = &quot;java(null)&quot;)` to achieve that.\r\n\r\nYou can find more information about expression in the reference guide [here](http://mapstruct.org/documentation/stable/reference/html/#expressions).\r\n\r\nCurrently only java is supported as an expression language, MapStruct will just take what you have written within the brackets and directly apply it to the setter, the implementation will look exactly like in your example.","title":"Set null to target using mapstruct","body":"<p>You can use <code>@Mapping(target = \"prop1\", expression = \"java(null)\")</code> to achieve that.</p>\n\n<p>You can find more information about expression in the reference guide <a href=\"http://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Currently only java is supported as an expression language, MapStruct will just take what you have written within the brackets and directly apply it to the setter, the implementation will look exactly like in your example.</p>\n"},{"tags":[],"owner":{"account_id":3429610,"reputation":735,"user_id":2874434,"display_name":"Vit Ias"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1492074270,"creation_date":1492074270,"answer_id":43387924,"question_id":43347620,"body_markdown":"Also you can ignore mapping of this property:\r\n\r\n    @Mapping(target = &quot;prop1&quot;, ignore = true)\r\n\r\nthis will set this value to default which is null in your case ","title":"Set null to target using mapstruct","body":"<p>Also you can ignore mapping of this property:</p>\n\n<pre><code>@Mapping(target = \"prop1\", ignore = true)\n</code></pre>\n\n<p>this will set this value to default which is null in your case </p>\n"}],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19102,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":43353867,"answer_count":2,"score":12,"last_activity_date":1679581847,"creation_date":1491917852,"question_id":43347620,"body_markdown":"I am using mapstruct and I am wondering if there are any ways to set null value for some target properties. For example,\r\n\r\n    public class MySource {\r\n        private String prop1;\r\n        private String prop2;\r\n\r\n        public MySource() {\r\n            // Initialization.\r\n        }\r\n\r\n        // Getters - Setters.\r\n    }\r\n\r\n    public class MySourceDto {\r\n        private String prop1;\r\n        private String prop2;\r\n\r\n        public MySourceDto() {\r\n            // Initialization.\r\n        }\r\n\r\n        // Getters - Setters.\r\n    }\r\n    \r\n    @Mapper\r\n    public interface MySourceMapper {\r\n\r\n        @Mappings({\r\n            @Mapping(target = &quot;prop1&quot;, propertyToSetNull = null)})\r\n        public MySourceDto toView(MySource mySource);\r\n\r\n    }\r\n\r\nI would love the above source, dto and mapper to generate the below source code,\r\n\r\n    @Component\r\n    public class MySourceMapperImpl implements MySourceMapper {\r\n\r\n        @Override\r\n        public MySourceDto toView(MySource mySource) {\r\n            if ( mySource == null ) {\r\n                return null;\r\n            }\r\n\r\n            MySourceDto mySourceDto = new MySourceDto();\r\n\r\n            mySourceDto.setProp1( mySource.getId() );\r\n            mySourceDto.setProp2( null );\r\n\r\n            return mySourceDto;\r\n        }\r\n    }","title":"Set null to target using mapstruct","body":"<p>I am using mapstruct and I am wondering if there are any ways to set null value for some target properties. For example,</p>\n\n<pre><code>public class MySource {\n    private String prop1;\n    private String prop2;\n\n    public MySource() {\n        // Initialization.\n    }\n\n    // Getters - Setters.\n}\n\npublic class MySourceDto {\n    private String prop1;\n    private String prop2;\n\n    public MySourceDto() {\n        // Initialization.\n    }\n\n    // Getters - Setters.\n}\n\n@Mapper\npublic interface MySourceMapper {\n\n    @Mappings({\n        @Mapping(target = \"prop1\", propertyToSetNull = null)})\n    public MySourceDto toView(MySource mySource);\n\n}\n</code></pre>\n\n<p>I would love the above source, dto and mapper to generate the below source code,</p>\n\n<pre><code>@Component\npublic class MySourceMapperImpl implements MySourceMapper {\n\n    @Override\n    public MySourceDto toView(MySource mySource) {\n        if ( mySource == null ) {\n            return null;\n        }\n\n        MySourceDto mySourceDto = new MySourceDto();\n\n        mySourceDto.setProp1( mySource.getId() );\n        mySourceDto.setProp2( null );\n\n        return mySourceDto;\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","digital-signature","pdfa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679581906,"post_id":75824109,"comment_id":133750092,"body_markdown":"Maybe you should ask the author(s) of that code? They might well ask you what&#39;s telling you that signing it is making it non-compliant","body":"Maybe you should ask the author(s) of that code? They might well ask you what&#39;s telling you that signing it is making it non-compliant"},{"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"score":0,"creation_date":1679595795,"post_id":75824109,"comment_id":133754098,"body_markdown":"I wanted to do that. But it proves rather difficult to contact the authors. The jira is not accessible. It is not possible to create issues in github and so on.","body":"I wanted to do that. But it proves rather difficult to contact the authors. The jira is not accessible. It is not possible to create issues in github and so on."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680253681,"post_id":75824109,"comment_id":133870429,"body_markdown":"*&quot;The jira is not accessible.&quot;* - You merely need an account which is easy to get. And there actually is a recent entry that might help you, see https://ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981","body":"<i>&quot;The jira is not accessible.&quot;</i> - You merely need an account which is easy to get. And there actually is a recent entry that might help you, see <a href=\"https://ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981\" rel=\"nofollow noreferrer\">ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981</a>"}],"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679580623,"creation_date":1679580623,"question_id":75824109,"body_markdown":"Hi we are currently trying to sign a PDF A-2 compliant file with the Digital Signature Service library (DSS) based on this example(https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java) which works basically fine. Also the signature validation afterwards is successful. The problem is that the result is no longer PDF A-2  compliant. \r\nIs there anything that makes it possible to keep the A-2 compliance maintained? I tried the same code with a PDF A-1 compliant file where everything works fine and the result is expected. May it be that the DSS is simply not supporting PDF A-2?","title":"Digital Signature Service PAdES with PDF A-2","body":"<p>Hi we are currently trying to sign a PDF A-2 compliant file with the Digital Signature Service library (DSS) based on this example(<a href=\"https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java\" rel=\"nofollow noreferrer\">https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java</a>) which works basically fine. Also the signature validation afterwards is successful. The problem is that the result is no longer PDF A-2  compliant.\nIs there anything that makes it possible to keep the A-2 compliance maintained? I tried the same code with a PDF A-1 compliant file where everything works fine and the result is expected. May it be that the DSS is simply not supporting PDF A-2?</p>\n"},{"tags":["java","hashmap","key","tostring"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679580580,"post_id":75823938,"comment_id":133749642,"body_markdown":"What order did you want?","body":"What order did you want?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679580463,"creation_date":1679580159,"answer_id":75824027,"question_id":75823938,"body_markdown":"Maps are unordered due to the `hashCode` used to determine in which &quot;bucket&quot; the entry is to be placed.  If you want to preserve the insertion order, you can use a [LinkedHashMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html) in place of `HashMap`.  If you want to ensure the keys (here `LocalDate`) are sorted (`LocalDate` implements [Comparable](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Comparable.html)) you can use a [TreeMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html)","title":"Hash map key weird key order","body":"<p>Maps are unordered due to the <code>hashCode</code> used to determine in which &quot;bucket&quot; the entry is to be placed.  If you want to preserve the insertion order, you can use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> in place of <code>HashMap</code>.  If you want to ensure the keys (here <code>LocalDate</code>) are sorted (<code>LocalDate</code> implements <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>) you can use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a></p>\n"}],"owner":{"account_id":27120653,"reputation":77,"user_id":20664407,"display_name":"Daleo dorito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75824027,"answer_count":1,"score":2,"last_activity_date":1679580463,"creation_date":1679579688,"question_id":75823938,"body_markdown":"I am doing a HashMap that uses dates as key and assigns them a pet obeject (pet of the month). Pet holds a bunch of values like name, age, type... (not relevant) and has a method that generates one randomly. It goes soemthing like this:\r\n\r\n    DateTimeFormatter date_format = DateTimeFormatter.ofPattern (&quot;dd/MM/yyyy&quot;);\r\n    LocalDate date = LocalDate.of(2023, 1, 1);\r\n    HashMap&lt;LocalDate, Pet&gt; pets = new HashMap&lt;&gt;();\r\n    \r\n    //* This next chunk generates a random pet (that has not yet been chosen) and makes it the pet of the month using the date as the key and the pet as the value\r\n\r\n    for (int i=0; i &lt; 12; i++){\r\n                Pet pet_of_the_month = Pet.randompet(); \r\n                if (!pets.containsValue(pet_of_the_month)){ \r\n                    pets.put(date, pet_of_the_month); \r\n                    date = date.plusMonths(1);\r\n                } else {\r\n                    i--;\r\n                }\r\n            }\r\n    \r\n    //*This loops around the map taking every key and printing both the key (date) and the object (pet)\r\n    \r\n    for (LocalDate month: pets.keySet()) {\r\n                System.out.println(&quot;Date of&quot; + month.format(date.format) + &quot;:&quot; + pets.get(month).toString());\r\n            }\r\n\r\nThe issue I have is that this for some reason ALWAYS prints the month 4 first and then the rest in order (4,1,2,3,5,6...); is there a reason for why it is doing that?;am I doing something wrong/missing something or is just some random interaction that I have to assume?","title":"Hash map key weird key order","body":"<p>I am doing a HashMap that uses dates as key and assigns them a pet obeject (pet of the month). Pet holds a bunch of values like name, age, type... (not relevant) and has a method that generates one randomly. It goes soemthing like this:</p>\n<pre><code>DateTimeFormatter date_format = DateTimeFormatter.ofPattern (&quot;dd/MM/yyyy&quot;);\nLocalDate date = LocalDate.of(2023, 1, 1);\nHashMap&lt;LocalDate, Pet&gt; pets = new HashMap&lt;&gt;();\n\n//* This next chunk generates a random pet (that has not yet been chosen) and makes it the pet of the month using the date as the key and the pet as the value\n\nfor (int i=0; i &lt; 12; i++){\n            Pet pet_of_the_month = Pet.randompet(); \n            if (!pets.containsValue(pet_of_the_month)){ \n                pets.put(date, pet_of_the_month); \n                date = date.plusMonths(1);\n            } else {\n                i--;\n            }\n        }\n\n//*This loops around the map taking every key and printing both the key (date) and the object (pet)\n\nfor (LocalDate month: pets.keySet()) {\n            System.out.println(&quot;Date of&quot; + month.format(date.format) + &quot;:&quot; + pets.get(month).toString());\n        }\n</code></pre>\n<p>The issue I have is that this for some reason ALWAYS prints the month 4 first and then the rest in order (4,1,2,3,5,6...); is there a reason for why it is doing that?;am I doing something wrong/missing something or is just some random interaction that I have to assume?</p>\n"},{"tags":["java","database","hibernate","tomcat","h2"],"owner":{"account_id":8348312,"reputation":1,"user_id":6271348,"display_name":"Santino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679580085,"creation_date":1679579988,"question_id":75823994,"body_markdown":"I have an H2 database configured in my java application, using a dedicated app-hibernate.cfg.xml file.\r\n\r\nThe H2 version I&#39;m using is 1.4.196.\r\n\r\nI need to view H2 logs during query executions. I added the TRACE_LEVEL_FILE=3 parameter to the connection url as follows:\r\n\r\n```\r\n&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:tcp://localhost:&lt;myPort&gt;/&lt;myPath&gt;;CACHE_SIZE=129024;TRACE_LEVEL_FILE=3&lt;/property&gt;\r\n```\r\n\r\nBut this is causing the app to throw an exception from H2, this is the stack trace:\r\n\r\n```\r\n\r\n2023-03-23 14:57:07,676 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;2u2xjhav418krm1ay0ysc|471061ea]-HelperThread-#1] com.mchange.v2.resourcepool.BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@22813dc8 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception:\r\norg.h2.jdbc.JdbcSQLException: Error while creating file &quot;/trace.db&quot; [90062-196]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\r\n\tat org.h2.message.DbException.get(DbException.java:179)\r\n\tat org.h2.message.DbException.get(DbException.java:155)\r\n\tat org.h2.store.fs.FilePathDisk.createDirectory(FilePathDisk.java:274)\r\n\tat org.h2.store.fs.FileUtils.createDirectory(FileUtils.java:42)\r\n\tat org.h2.store.fs.FileUtils.createDirectories(FileUtils.java:309)\r\n\tat org.h2.store.fs.FilePathDisk.createTempFile(FilePathDisk.java:378)\r\n\tat org.h2.store.fs.FileUtils.createTempFile(FileUtils.java:342)\r\n\tat org.h2.engine.SessionRemote.connectServer(SessionRemote.java:397)\r\n\tat org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:334)\r\n\tat org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:116)\r\n\tat org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:100)\r\n\tat org.h2.Driver.connect(Driver.java:69)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\n\r\n```\r\n\r\nI tried playing with the directory permissions with no luck, other files in the same directory related to H2 have no problem being created/deleted when the app starts up.\r\n\r\nAny idea what could be the issue?\r\n\r\n","title":"H2 fails to create trace log file [trace.db] when using TRACE_LEVEL_FILE=3 in hibernate.cfg.xml","body":"<p>I have an H2 database configured in my java application, using a dedicated app-hibernate.cfg.xml file.</p>\n<p>The H2 version I'm using is 1.4.196.</p>\n<p>I need to view H2 logs during query executions. I added the TRACE_LEVEL_FILE=3 parameter to the connection url as follows:</p>\n<pre><code>&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:tcp://localhost:&lt;myPort&gt;/&lt;myPath&gt;;CACHE_SIZE=129024;TRACE_LEVEL_FILE=3&lt;/property&gt;\n</code></pre>\n<p>But this is causing the app to throw an exception from H2, this is the stack trace:</p>\n<pre><code>\n2023-03-23 14:57:07,676 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;2u2xjhav418krm1ay0ysc|471061ea]-HelperThread-#1] com.mchange.v2.resourcepool.BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@22813dc8 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception:\norg.h2.jdbc.JdbcSQLException: Error while creating file &quot;/trace.db&quot; [90062-196]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\n    at org.h2.message.DbException.get(DbException.java:179)\n    at org.h2.message.DbException.get(DbException.java:155)\n    at org.h2.store.fs.FilePathDisk.createDirectory(FilePathDisk.java:274)\n    at org.h2.store.fs.FileUtils.createDirectory(FileUtils.java:42)\n    at org.h2.store.fs.FileUtils.createDirectories(FileUtils.java:309)\n    at org.h2.store.fs.FilePathDisk.createTempFile(FilePathDisk.java:378)\n    at org.h2.store.fs.FileUtils.createTempFile(FileUtils.java:342)\n    at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:397)\n    at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:334)\n    at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:116)\n    at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:100)\n    at org.h2.Driver.connect(Driver.java:69)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\n    at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\n\n</code></pre>\n<p>I tried playing with the directory permissions with no luck, other files in the same directory related to H2 have no problem being created/deleted when the app starts up.</p>\n<p>Any idea what could be the issue?</p>\n"},{"tags":["java","gradle","bouncycastle","gradle-kotlin-dsl","j-interop"],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679580032,"creation_date":1679579348,"question_id":75823880,"body_markdown":"I tried to migrate from local jar dependencies to repository-oriented. Now it looks like:\r\n```\r\napi(files(&quot;thirdparty/j-interop-2.0.4.jar&quot;))\r\n```\r\nThe desired result is:\r\n```\r\napi(&quot;org.jinterop&quot;, &quot;j-interop&quot;, &quot;2.0.4&quot;)\r\n```\r\nThe problem is final *jar* should contain unpacked dependency of `j-interop` called `j-interopdeps` with excluded `org.bouncycastle` subtree. Because there is already another `bouncycastle` dependency.\r\n\r\nSo not it looks:\r\n\r\n```\r\ntasks.create&lt;Jar&gt;(&quot;proj-libs&quot;) {\r\n    archiveFileName.set(&quot;proj-libs.jar&quot;)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    from(zipTree(&quot;thirdparty/j-interopdeps-2.0.4.jar&quot;)) {\r\n        exclude(&quot;org/bouncycastle/**&quot;)\r\n    }\r\n    destinationDirectory.set(File(&quot;jar&quot;))\r\n    finalizedBy(&quot;final-libs&quot;)\r\n}\r\n```\r\n**The question is how to do the same but with dependency downloaded from Maven repository?**","title":"Gradle unzip api dependency to final jar with exclusion","body":"<p>I tried to migrate from local jar dependencies to repository-oriented. Now it looks like:</p>\n<pre><code>api(files(&quot;thirdparty/j-interop-2.0.4.jar&quot;))\n</code></pre>\n<p>The desired result is:</p>\n<pre><code>api(&quot;org.jinterop&quot;, &quot;j-interop&quot;, &quot;2.0.4&quot;)\n</code></pre>\n<p>The problem is final <em>jar</em> should contain unpacked dependency of <code>j-interop</code> called <code>j-interopdeps</code> with excluded <code>org.bouncycastle</code> subtree. Because there is already another <code>bouncycastle</code> dependency.</p>\n<p>So not it looks:</p>\n<pre><code>tasks.create&lt;Jar&gt;(&quot;proj-libs&quot;) {\n    archiveFileName.set(&quot;proj-libs.jar&quot;)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    from(zipTree(&quot;thirdparty/j-interopdeps-2.0.4.jar&quot;)) {\n        exclude(&quot;org/bouncycastle/**&quot;)\n    }\n    destinationDirectory.set(File(&quot;jar&quot;))\n    finalizedBy(&quot;final-libs&quot;)\n}\n</code></pre>\n<p><strong>The question is how to do the same but with dependency downloaded from Maven repository?</strong></p>\n"},{"tags":["java","mysql","json","aws-documentdb"],"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":1,"creation_date":1679567104,"post_id":75821514,"comment_id":133746036,"body_markdown":"Can you not just use Jackson to convert any instance of that class into a json and back? https://github.com/FasterXML/jackson-databind","body":"Can you not just use Jackson to convert any instance of that class into a json and back? <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind</a>"},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1679569815,"post_id":75821514,"comment_id":133746640,"body_markdown":"@3Fish I don&#39;t want to create some custom JSON mapping logic because there is possibility that developers can create a bugs in this code in the future and structure will be destroyed.","body":"@3Fish I don&#39;t want to create some custom JSON mapping logic because there is possibility that developers can create a bugs in this code in the future and structure will be destroyed."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1679570128,"post_id":75821514,"comment_id":133746730,"body_markdown":"just use Gson to convert object properties to json, no?  Question is unclear.","body":"just use Gson to convert object properties to json, no?  Question is unclear."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1679570589,"post_id":75821514,"comment_id":133746842,"body_markdown":"@ago I&#39;ve clarified question.","body":"@ago I&#39;ve clarified question."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1679578848,"post_id":75821514,"comment_id":133749084,"body_markdown":"So, you want to save an object as json to your DB without using any json library? I mean, you can write it yourself, but that is even more error-prone than relying on a proven library like jackson or gson.","body":"So, you want to save an object as json to your DB without using any json library? I mean, you can write it yourself, but that is even more error-prone than relying on a proven library like jackson or gson."},{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1679588037,"post_id":75821514,"comment_id":133752017,"body_markdown":"I assume you mean to save an object, not a class. It doesn&#39;t make any sense to save a class in a database. Why does it have to be JSON? Why not just Java&#39;s native `serialize()` and store it in a `BLOB` column in the database?","body":"I assume you mean to save an object, not a class. It doesn&#39;t make any sense to save a class in a database. Why does it have to be JSON? Why not just Java&#39;s native <code>serialize()</code> and store it in a <code>BLOB</code> column in the database?"}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679579946,"creation_date":1679579946,"answer_id":75823988,"question_id":75821514,"body_markdown":"The most straight forward solution would be to use Jackson or Gson to convert any object into a json String or Byte[]. These can then be saved to your DB. restoring them is as easy as reversing that process.\r\nHere are some simple examples, `saveDataToDB(String, Sring):void` and `loadDataFromDB(String):String` are placeholders for whatever you need to do to save or load to your database.\r\n\r\n``` java\r\n//can be created globally and reused every time\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\npublic void saveObjToDB(String id, Object obj)\r\n{\r\n    String jsonStr = mapper.writeValueAsString(myResultObject);\r\n    saveDataToDB(id, jsonStr);\r\n}\r\n\r\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\r\n{\r\n    String jsonStr = loadDataFromDB(id);\r\n    return mapper.readValue(jsonStr, clazz);\r\n}\r\n```\r\n\r\nOr with Gson:\r\n``` java\r\n//can be created globally and reused every time\r\nGson gson = new Gson();\r\n\r\npublic void saveObjToDB(String id, Object obj)\r\n{\r\n    String jsonStr = gson.toJson(myResultObject);\r\n    saveDataToDB(id, jsonStr);\r\n}\r\n\r\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\r\n{\r\n    String jsonStr = loadDataFromDB(id);\r\n    return gson.fromJson(jsonStr, clazz);\r\n}\r\n```\r\n\r\nThe default configuration should already work for most classes, and in most cases only complex nesting or generics need more configuration. But even then, the mapper/gson class can be supplied as Singleton globally so that the configuration is done only once and therefore developers don&#39;t have to touch this all the time.","title":"How to store Java class as JSON in MySQL8?","body":"<p>The most straight forward solution would be to use Jackson or Gson to convert any object into a json String or Byte[]. These can then be saved to your DB. restoring them is as easy as reversing that process.\nHere are some simple examples, <code>saveDataToDB(String, Sring):void</code> and <code>loadDataFromDB(String):String</code> are placeholders for whatever you need to do to save or load to your database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//can be created globally and reused every time\nObjectMapper mapper = new ObjectMapper();\n\npublic void saveObjToDB(String id, Object obj)\n{\n    String jsonStr = mapper.writeValueAsString(myResultObject);\n    saveDataToDB(id, jsonStr);\n}\n\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\n{\n    String jsonStr = loadDataFromDB(id);\n    return mapper.readValue(jsonStr, clazz);\n}\n</code></pre>\n<p>Or with Gson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//can be created globally and reused every time\nGson gson = new Gson();\n\npublic void saveObjToDB(String id, Object obj)\n{\n    String jsonStr = gson.toJson(myResultObject);\n    saveDataToDB(id, jsonStr);\n}\n\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\n{\n    String jsonStr = loadDataFromDB(id);\n    return gson.fromJson(jsonStr, clazz);\n}\n</code></pre>\n<p>The default configuration should already work for most classes, and in most cases only complex nesting or generics need more configuration. But even then, the mapper/gson class can be supplied as Singleton globally so that the configuration is done only once and therefore developers don't have to touch this all the time.</p>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823988,"answer_count":1,"score":0,"last_activity_date":1679579946,"creation_date":1679565310,"question_id":75821514,"body_markdown":"In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really no convenient to use relational approach to store them.\r\n\r\nWe were considering different DBs to store objects as JSONs (we are using AWS): \r\n\r\n- DynamoDB;\r\n- DocumentDB;\r\n- MySQL 8;\r\n\r\nCurrently we are considering MySQL 8 as basic option because we are more familiar with this db and it will take less effort to setup it. I was trying to find how to properly store Java objects as JSONs in MySQL 8 and checked this articles:\r\n https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\r\n https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\r\n\r\nBut I did not find a way how to store whole class as a JSON, not only one field from some class or String field that will have JSON representation of the class.\r\n\r\nSo my question is - is that possible to store class like:\r\n\r\n    public class SomeClass {\r\n    \r\n      private Long id;\r\n\r\n      private Instant date;\r\n\r\n      private String someInfo;\r\n\r\n      private Integer version;\r\n \r\n    }\r\n\r\nas JSON without having this class as field in some other class ?\r\n\r\nP.S. I don&#39;t want to have using of Jackson libraries in my code because developers can add bugs in this part of the code and destroy structure of object to save.\r\n\r\nP.S.S.\r\n\r\nI understand that I can do something like this:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class MyClassWrapper {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @Type(type = &quot;json&quot;)\r\n        @Column(name = &quot;json_data&quot;,columnDefinition = &quot;json&quot;)\r\n        private MyClass myClass;\r\n    }\r\n\r\n    @Data\r\n    public class MyClass {\r\n    \r\n        private Instant date;\r\n    \r\n        private String someInfo;\r\n    \r\n        private Integer version;\r\n    \r\n    }\r\n\r\nMy question is is - can I avoid having of MyClassWrapper and save MyClass as JSON directly (without using Jackson library by myself) ? ","title":"How to store Java class as JSON in MySQL8?","body":"<p>In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really no convenient to use relational approach to store them.</p>\n<p>We were considering different DBs to store objects as JSONs (we are using AWS):</p>\n<ul>\n<li>DynamoDB;</li>\n<li>DocumentDB;</li>\n<li>MySQL 8;</li>\n</ul>\n<p>Currently we are considering MySQL 8 as basic option because we are more familiar with this db and it will take less effort to setup it. I was trying to find how to properly store Java objects as JSONs in MySQL 8 and checked this articles:\n<a href=\"https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\" rel=\"nofollow noreferrer\">https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f</a>\n<a href=\"https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/</a></p>\n<p>But I did not find a way how to store whole class as a JSON, not only one field from some class or String field that will have JSON representation of the class.</p>\n<p>So my question is - is that possible to store class like:</p>\n<pre><code>public class SomeClass {\n\n  private Long id;\n\n  private Instant date;\n\n  private String someInfo;\n\n  private Integer version;\n\n}\n</code></pre>\n<p>as JSON without having this class as field in some other class ?</p>\n<p>P.S. I don't want to have using of Jackson libraries in my code because developers can add bugs in this part of the code and destroy structure of object to save.</p>\n<p>P.S.S.</p>\n<p>I understand that I can do something like this:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;my_table&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class MyClassWrapper {\n\n    @Id\n    private Long id;\n\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;json_data&quot;,columnDefinition = &quot;json&quot;)\n    private MyClass myClass;\n}\n\n@Data\npublic class MyClass {\n\n    private Instant date;\n\n    private String someInfo;\n\n    private Integer version;\n\n}\n</code></pre>\n<p>My question is is - can I avoid having of MyClassWrapper and save MyClass as JSON directly (without using Jackson library by myself) ?</p>\n"},{"tags":["java","json","spring-boot"],"owner":{"account_id":22197900,"reputation":1,"user_id":16439027,"display_name":"Fynnyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579893,"creation_date":1679504081,"question_id":75815145,"body_markdown":"Hey i have connected my user with a twitchchannel class through a db and opened it to a restcontroller.\r\nNow my problem is, that Im using `@JsonIdentityInfo` to fix the json recursion.This all works fine until I show the Object in a reference and the other details are not show except of the id.\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 204,\r\n        &quot;twitchName&quot;: &quot;test&quot;,\r\n        &quot;doPing&quot;: true,\r\n        &quot;lastStreamId&quot;: null,\r\n        &quot;lastMessageId&quot;: null,\r\n        &quot;user&quot;: {a\r\n            &quot;id&quot;: 102,\r\n            &quot;username&quot;: &quot;Fynnyx&quot;,\r\n            &quot;birthday&quot;: null,\r\n            &quot;email&quot;: null,\r\n            &quot;ttvChannels&quot;: [\r\n                204,\r\n                {\r\n                    &quot;id&quot;: 252,   &lt;--- Here is the whole object\r\n                    &quot;twitchName&quot;: &quot;Hello&quot;,\r\n                    &quot;doPing&quot;: true,\r\n                    &quot;lastStreamId&quot;: null,\r\n                    &quot;lastMessageId&quot;: null,\r\n                    &quot;user&quot;: 102\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    252 &lt;--- This is just an id and not the whole object bc it already exists in the other object\r\n]\r\n```\r\n\r\nHere the Channel 252 is shown bc of the same user reference but no shown a second time.How can I fix this in a smart way.\r\n\r\n\r\n```java\r\npackage ch.fwesterath.kahlifarspringapi.user.ttvchannel;\r\n\r\nimport ch.fwesterath.kahlifarspringapi.user.user.User;\r\nimport com.fasterxml.jackson.annotation.JsonIdentityInfo;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Table(name = &quot;ttv_channel&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@JsonIdentityInfo(scope = TwitchChannel.class, generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class TwitchChannel {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String twitchName;\r\n\r\n    @Column(nullable = false)\r\n    private Boolean doPing = false;\r\n\r\n    @Column\r\n    private Long lastStreamId;\r\n\r\n    @Column\r\n    private Long lastMessageId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n\r\n```\r\n","title":"SpringBoot REST API Item just shown once with JsonIdentityInfo","body":"<p>Hey i have connected my user with a twitchchannel class through a db and opened it to a restcontroller.\nNow my problem is, that Im using <code>@JsonIdentityInfo</code> to fix the json recursion.This all works fine until I show the Object in a reference and the other details are not show except of the id.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 204,\n        &quot;twitchName&quot;: &quot;test&quot;,\n        &quot;doPing&quot;: true,\n        &quot;lastStreamId&quot;: null,\n        &quot;lastMessageId&quot;: null,\n        &quot;user&quot;: {a\n            &quot;id&quot;: 102,\n            &quot;username&quot;: &quot;Fynnyx&quot;,\n            &quot;birthday&quot;: null,\n            &quot;email&quot;: null,\n            &quot;ttvChannels&quot;: [\n                204,\n                {\n                    &quot;id&quot;: 252,   &lt;--- Here is the whole object\n                    &quot;twitchName&quot;: &quot;Hello&quot;,\n                    &quot;doPing&quot;: true,\n                    &quot;lastStreamId&quot;: null,\n                    &quot;lastMessageId&quot;: null,\n                    &quot;user&quot;: 102\n                }\n            ]\n        }\n    },\n    252 &lt;--- This is just an id and not the whole object bc it already exists in the other object\n]\n</code></pre>\n<p>Here the Channel 252 is shown bc of the same user reference but no shown a second time.How can I fix this in a smart way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.fwesterath.kahlifarspringapi.user.ttvchannel;\n\nimport ch.fwesterath.kahlifarspringapi.user.user.User;\nimport com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name = &quot;ttv_channel&quot;)\n@Getter\n@Setter\n@ToString\n@JsonIdentityInfo(scope = TwitchChannel.class, generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class TwitchChannel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String twitchName;\n\n    @Column(nullable = false)\n    private Boolean doPing = false;\n\n    @Column\n    private Long lastStreamId;\n\n    @Column\n    private Long lastMessageId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n\n</code></pre>\n"},{"tags":["java","jdbc","sybase"],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579842,"creation_date":1679579842,"question_id":75823974,"body_markdown":"I used `net.sourceforge.jtds.jdbc.Driver` driver for write connection and `com.sybase.jdbc3.jdbc.SybDriver` for read connection with Sybase.\r\n\r\nI replaced both with `com.sybase.jdbc42.jdbc.SybDriver` and now I on some operation I get exception\r\n\r\n```\r\ncom.sybase.jdbc42.jdbc.SybSQLException: SQL Anywhere Error -188: Not enough values for host variables\r\n        at com.sybase.jdbc42.tds.Tds.processEed(Tds.java:4230)\r\n        at com.sybase.jdbc42.tds.Tds.nextResult(Tds.java:3347)\r\n        at com.sybase.jdbc42.jdbc.ResultGetter.nextResult(ResultGetter.java:78)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:308)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:290)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.updateLoop(SybStatement.java:2793)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.executeUpdate(SybStatement.java:2777)\r\n        at com.sybase.jdbc42.jdbc.SybPreparedStatement.executeUpdate(SybPreparedStatement.java:335)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\r\n        at my.package.MyClass...\r\n```\r\n\r\nI execute here multiple statements (7 statements) that in summary require 30 parameters. With remote debug I checked that all parameters are passed and there is no `null` values.\r\n\r\nSome other queries to DB are executed successfully as with old drivers. I didn&#39;t find what is the difference between successful queries and this one that fails.\r\n\r\nWhat could be a reason?","title":"Migration from com.sybase.jdbc3 to com.sybase.jdbc42 leads to SybSQLException","body":"<p>I used <code>net.sourceforge.jtds.jdbc.Driver</code> driver for write connection and <code>com.sybase.jdbc3.jdbc.SybDriver</code> for read connection with Sybase.</p>\n<p>I replaced both with <code>com.sybase.jdbc42.jdbc.SybDriver</code> and now I on some operation I get exception</p>\n<pre><code>com.sybase.jdbc42.jdbc.SybSQLException: SQL Anywhere Error -188: Not enough values for host variables\n        at com.sybase.jdbc42.tds.Tds.processEed(Tds.java:4230)\n        at com.sybase.jdbc42.tds.Tds.nextResult(Tds.java:3347)\n        at com.sybase.jdbc42.jdbc.ResultGetter.nextResult(ResultGetter.java:78)\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:308)\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:290)\n        at com.sybase.jdbc42.jdbc.SybStatement.updateLoop(SybStatement.java:2793)\n        at com.sybase.jdbc42.jdbc.SybStatement.executeUpdate(SybStatement.java:2777)\n        at com.sybase.jdbc42.jdbc.SybPreparedStatement.executeUpdate(SybPreparedStatement.java:335)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\n        at my.package.MyClass...\n</code></pre>\n<p>I execute here multiple statements (7 statements) that in summary require 30 parameters. With remote debug I checked that all parameters are passed and there is no <code>null</code> values.</p>\n<p>Some other queries to DB are executed successfully as with old drivers. I didn't find what is the difference between successful queries and this one that fails.</p>\n<p>What could be a reason?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1679579045,"post_id":75823786,"comment_id":133749148,"body_markdown":"`int[] arrayOfNumbers = new int[2];` How does this pass any test when the problem requires you take in 3 numbers and you are only using a size of 2?","body":"<code>int[] arrayOfNumbers = new int[2];</code> How does this pass any test when the problem requires you take in 3 numbers and you are only using a size of 2?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1679579054,"post_id":75823786,"comment_id":133749154,"body_markdown":"You only read in two numbers. This is not about negative numbers.","body":"You only read in two numbers. This is not about negative numbers."},{"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"score":0,"creation_date":1679579511,"post_id":75823786,"comment_id":133749293,"body_markdown":"yeah, basic error with the array size not index. thanks!","body":"yeah, basic error with the array size not index. thanks!"},{"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"score":0,"creation_date":1679579765,"post_id":75823786,"comment_id":133749380,"body_markdown":"@Nexevis it did pass these two tests though because the first two numbers either added or not.","body":"@Nexevis it did pass these two tests though because the first two numbers either added or not."}],"answers":[{"tags":[],"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679579625,"creation_date":1679579625,"answer_id":75823925,"question_id":75823786,"body_markdown":"Obviously, I made a basic error with the size of the array (index 2 is third element, but not the size itself). Corrected + another in the piece of code while going through indexes. \r\nThanks! ","title":"Java: check pair if sum to a given number not working with negative number","body":"<p>Obviously, I made a basic error with the size of the array (index 2 is third element, but not the size itself). Corrected + another in the piece of code while going through indexes.\nThanks!</p>\n"}],"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1679579625,"creation_date":1679578879,"question_id":75823786,"body_markdown":"I&#39;m going through hyperskill and found such Java problem:\r\n\r\n&gt; Write a program that reads the numbers a, b, c and checks if there&#39;s a pair of them that adds up to exactly 20.\r\n\r\n&gt; The program must output true or false.\r\n\r\nNow I wrote this which passes two tests: &quot;1 2 3&quot; and &quot;4 16 7&quot; but fails with a negative number. Can you help me? \r\n\r\n    import java.util.Scanner;\r\n    import java.util.*;\r\n\r\n    class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int[] arrayOfNumbers = new int[2];\r\n        int howMuch = 20;\r\n        int size = 2;\r\n        \r\n        for (int i = 0; i &lt;= (arrayOfNumbers.length -1); i++){\r\n            int number = scanner.nextInt();\r\n            arrayOfNumbers[i] = number;\r\n            }\r\n\r\n        if (hasArrayTwoCandidates(arrayOfNumbers, size, howMuch)) {\r\n            System.out.println(&quot;true&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;false&quot;);\r\n        }\r\n    }\r\n\r\n    static boolean hasArrayTwoCandidates(int A[], int arr_size, int sum)\r\n    {\r\n        int l, r;\r\n  \r\n        Arrays.sort(A);\r\n  \r\n        l = 0;\r\n        r = arr_size - 1;\r\n        while (l &lt; r) {\r\n            if (A[l] + A[r] == sum)\r\n                return true;\r\n            else if (A[l] + A[r] &lt; sum)\r\n                l++;\r\n            else // A[i] + A[j] &gt; sum\r\n                r--;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","title":"Java: check pair if sum to a given number not working with negative number","body":"<p>I'm going through hyperskill and found such Java problem:</p>\n<blockquote>\n<p>Write a program that reads the numbers a, b, c and checks if there's a pair of them that adds up to exactly 20.</p>\n</blockquote>\n<blockquote>\n<p>The program must output true or false.</p>\n</blockquote>\n<p>Now I wrote this which passes two tests: &quot;1 2 3&quot; and &quot;4 16 7&quot; but fails with a negative number. Can you help me?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.*;\n\nclass Main {\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int[] arrayOfNumbers = new int[2];\n    int howMuch = 20;\n    int size = 2;\n    \n    for (int i = 0; i &lt;= (arrayOfNumbers.length -1); i++){\n        int number = scanner.nextInt();\n        arrayOfNumbers[i] = number;\n        }\n\n    if (hasArrayTwoCandidates(arrayOfNumbers, size, howMuch)) {\n        System.out.println(&quot;true&quot;);\n    }\n    else {\n        System.out.println(&quot;false&quot;);\n    }\n}\n\nstatic boolean hasArrayTwoCandidates(int A[], int arr_size, int sum)\n{\n    int l, r;\n\n    Arrays.sort(A);\n\n    l = 0;\n    r = arr_size - 1;\n    while (l &lt; r) {\n        if (A[l] + A[r] == sum)\n            return true;\n        else if (A[l] + A[r] &lt; sum)\n            l++;\n        else // A[i] + A[j] &gt; sum\n            r--;\n    }\n    return false;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679579903,"post_id":75823876,"comment_id":133749441,"body_markdown":"Only if `A` itself doesn&#39;t directly make use of the transitive dependency. Or, I suppose, if you know for a fact that you never use any classes in `A` that directly or indirectly require classes from the transitive dependency (though that won&#39;t work if you&#39;re using JPMS modules unless `A` uses `requires static` for the transitive dependency). Or this _might_ be safe if you&#39;re trying to _replace_ the transitive dependency with a different version.","body":"Only if <code>A</code> itself doesn&#39;t directly make use of the transitive dependency. Or, I suppose, if you know for a fact that you never use any classes in <code>A</code> that directly or indirectly require classes from the transitive dependency (though that won&#39;t work if you&#39;re using JPMS modules unless <code>A</code> uses <code>requires static</code> for the transitive dependency). Or this <i>might</i> be safe if you&#39;re trying to <i>replace</i> the transitive dependency with a different version."}],"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579338,"creation_date":1679579338,"question_id":75823876,"body_markdown":"In a Gradle project, can I exclude a transitive dependency safely if I am not using that module in my code ?\r\n\r\nSay I have a module B which is brought in as a transitive dependency by a direct dependency A. If I am not using module B directly in my code, can I safely remove the module B through through the below code ?\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;com.example.library:A:1.0.0&#39;) {\r\n        exclude group: &#39;com.example.exclude-group&#39;, module: &#39;B&#39;\r\n    }\r\n}\r\n```","title":"Can I remove a Gradle transitive dependency if I am not using the dependency in the code?","body":"<p>In a Gradle project, can I exclude a transitive dependency safely if I am not using that module in my code ?</p>\n<p>Say I have a module B which is brought in as a transitive dependency by a direct dependency A. If I am not using module B directly in my code, can I safely remove the module B through through the below code ?</p>\n<pre><code>dependencies {\n    implementation('com.example.library:A:1.0.0') {\n        exclude group: 'com.example.exclude-group', module: 'B'\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","unit-testing","liquibase"],"comments":[{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1447585964,"post_id":33718685,"comment_id":55208141,"body_markdown":"Try to remove the `src/main/resources` part so that the path becomes `&lt;changeLogFile&gt;/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;` and `&lt;sqlFile path=&quot;/db/changelog/inserts.sql&quot; /&gt;`","body":"Try to remove the <code>src&#47;main&#47;resources</code> part so that the path becomes <code>&lt;changeLogFile&gt;&#47;db&#47;changelog&#47;changelog-master.xml&lt;&#47;changeLog&zwnj;&#8203;File&gt;</code> and <code>&lt;sqlFile path=&quot;&#47;db&#47;changelog&#47;inserts.sql&quot; &#47;&gt;</code>"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447586421,"post_id":33718685,"comment_id":55208262,"body_markdown":"nothing chenged. There is always no trace for the _inserts.sql_ file in the log","body":"nothing chenged. There is always no trace for the <i>inserts.sql</i> file in the log"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447589109,"post_id":33718685,"comment_id":55208934,"body_markdown":"I tried also to add the sql script directly in the `sql tag` but always nothing new. No trace of the inserts","body":"I tried also to add the sql script directly in the <code>sql tag</code> but always nothing new. No trace of the inserts"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447592080,"post_id":33718685,"comment_id":55209753,"body_markdown":"In fact I just noticed that the changelog is not executed at all","body":"In fact I just noticed that the changelog is not executed at all"},{"owner":{"account_id":1936546,"reputation":133665,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1447592175,"post_id":33718685,"comment_id":55209776,"body_markdown":"Try to move the change log inside `src/test/resources`.","body":"Try to move the change log inside <code>src&#47;test&#47;resources</code>."},{"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"score":0,"creation_date":1447669543,"post_id":33718685,"comment_id":55234890,"body_markdown":"Add ${basedir} : ${basedir}/src/main/resources","body":"Add ${basedir} : ${basedir}/src/main/resources"},{"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"score":0,"creation_date":1447669579,"post_id":33718685,"comment_id":55234905,"body_markdown":"Not forget   &lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;","body":"Not forget   &lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1599297009,"post_id":33718685,"comment_id":112735510,"body_markdown":"I would go with flyway. It&#39;s must cleaner and much more fluent that Liquibase. Liquibase is all over the place. You have to deal with XML files when all you want to do is write handle database migrations. Flyway handles everything for you. Liquibase is poorly written and its documentation is not that great either.","body":"I would go with flyway. It&#39;s must cleaner and much more fluent that Liquibase. Liquibase is all over the place. You have to deal with XML files when all you want to do is write handle database migrations. Flyway handles everything for you. Liquibase is poorly written and its documentation is not that great either."}],"answers":[{"tags":[],"owner":{"account_id":6895596,"reputation":51,"user_id":5297663,"display_name":"Juan Sebastian Alvarez Eraso"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508354809,"creation_date":1508354809,"answer_id":46817767,"question_id":33718685,"body_markdown":"Your `&lt;sqlFile&gt;` tag needs an additional attribute called &quot;dbms&quot;. The dbms specifies your database provider. As you use a &quot;org.hsqldb.jdbcDriver&quot; you need this:\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile dbms=&quot;hsqldb&quot; path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nor:\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile dbms=&quot;h2&quot; path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nThe liquibase docs here http://www.liquibase.org/documentation/changes/sql_file.html","title":"SQL File in liquibase never executed","body":"<p>Your <code>&lt;sqlFile&gt;</code> tag needs an additional attribute called \"dbms\". The dbms specifies your database provider. As you use a \"org.hsqldb.jdbcDriver\" you need this:</p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile dbms=\"hsqldb\" path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile dbms=\"h2\" path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>The liquibase docs here <a href=\"http://www.liquibase.org/documentation/changes/sql_file.html\" rel=\"nofollow noreferrer\">http://www.liquibase.org/documentation/changes/sql_file.html</a></p>\n"},{"tags":[],"owner":{"account_id":4306454,"reputation":35,"user_id":3518701,"display_name":"Kuldeep Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579298,"creation_date":1679579298,"answer_id":75823869,"question_id":33718685,"body_markdown":"Just remove the `src/main/resources/` from `path` tag\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile path=&quot;db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;","title":"SQL File in liquibase never executed","body":"<p>Just remove the <code>src/main/resources/</code> from <code>path</code> tag</p>\n<pre><code>&lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\n    &lt;sqlFile path=&quot;db/changelog/inserts.sql&quot; /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n"}],"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19936,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679579298,"creation_date":1447583288,"question_id":33718685,"body_markdown":"I&#39;m using liquibase with maven and I have a configuration for unit test \r\n\r\n    &lt;configuration&gt;\r\n        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n        &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\r\n        &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \r\n        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n        &lt;username&gt;sa&lt;/username&gt;\r\n        &lt;password&gt;&lt;/password&gt;\r\n    &lt;/configuration&gt; \r\nIn my changelog I use an sqlFile tag to execute insert statments. \r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\nBut when I look in the log, the _insert.sql_ file is never executed.\r\nDo you have and idea why liquibase does not execute the _insert.sql_ file?\r\n\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;                                                                  \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n                            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n                            &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;                 \r\n                            &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n                            &lt;username&gt;user&lt;/username&gt;\r\n                            &lt;password&gt;password&lt;/password&gt;\r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;                                                                  \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n                            &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\r\n                            &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \r\n                            &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n                            &lt;username&gt;sa&lt;/username&gt;\r\n                            &lt;password&gt;&lt;/password&gt;\r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt; \t","title":"SQL File in liquibase never executed","body":"<p>I'm using liquibase with maven and I have a configuration for unit test </p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n    &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\n    &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \n    &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n    &lt;username&gt;sa&lt;/username&gt;\n    &lt;password&gt;&lt;/password&gt;\n&lt;/configuration&gt; \n</code></pre>\n\n<p>In my changelog I use an sqlFile tag to execute insert statments. </p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>But when I look in the log, the <em>insert.sql</em> file is never executed.\nDo you have and idea why liquibase does not execute the <em>insert.sql</em> file?</p>\n\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;install&lt;/id&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;                                                                  \n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;                 \n                        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n                        &lt;username&gt;user&lt;/username&gt;\n                        &lt;password&gt;password&lt;/password&gt;\n                    &lt;/configuration&gt; \n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;                                                                  \n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \n                        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n                        &lt;username&gt;sa&lt;/username&gt;\n                        &lt;password&gt;&lt;/password&gt;\n                    &lt;/configuration&gt; \n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;   \n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","server-sent-events"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1679582546,"post_id":75823193,"comment_id":133750320,"body_markdown":"`subscribe` is not blocking operation and most probably you application exists before receiving data. Try to add Thread.sleep(N).","body":"<code>subscribe</code> is not blocking operation and most probably you application exists before receiving data. Try to add Thread.sleep(N)."}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679579185,"creation_date":1679575733,"question_id":75823193,"body_markdown":"I want to use webflux to consume some server sent events in Java 11, this is the minimal runnable code looks like:\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n            consumeServerSentEvent();\r\n        }\r\n    \r\n        public static void consumeServerSentEvent() {\r\n            WebClient client = WebClient.create(&quot;https://chat.poemhub.top&quot;);\r\n            ParameterizedTypeReference&lt;ServerSentEvent&lt;String&gt;&gt; type = new ParameterizedTypeReference&lt;&gt;() {};\r\n            Flux&lt;ServerSentEvent&lt;String&gt;&gt; eventStream = client.get()\r\n                    .uri(&quot;/v1/completions?q=hello&quot;)\r\n                    .headers(httpHeaders -&gt; {\r\n                        httpHeaders.set(&quot;Authorization&quot;, &quot;Bearer sk-DRjSqzDl3xHL1234663AfET3BlbkFJfQXGId4540GNmZqr7ss&quot;);\r\n                        httpHeaders.set(&quot;Content-Type&quot;,MediaType.TEXT_EVENT_STREAM.toString());\r\n                    })\r\n                    .retrieve()\r\n                    .bodyToFlux(type);\r\n    \r\n            eventStream.subscribe(\r\n                    content -&gt; {\r\n                        log.info(&quot;Time: {} - event: name[{}], id [{}], content[{}] &quot;,\r\n                            LocalTime.now(), content.event(), content.id(), content.data());\r\n                        },\r\n                    error -&gt; {\r\n                        log.error(&quot;Error receiving SSE: {}&quot;, error);\r\n                        },\r\n                    () -&gt; {\r\n                        log.info(&quot;Completed!!!&quot;);\r\n                    }\r\n            );\r\n        }\r\n\r\n\r\nwhen I using curl command to test the sse api, it works like this:\r\n\r\n\r\n    ➜  ~ curl -N -H &quot;Authorization: Bearer sk-DRjSqzDlwieHL12UvxAfET3BlbkFJfQioueNmZqr7ss&quot; https://chat.poemhub.top/v1/completions\\?q\\=hello\r\n    \r\n    [{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;Hello&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; there&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;!&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; How&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; can&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; I&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; help&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; you&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;?&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;}]%\r\n\r\n\r\n\r\n\r\nbut when I run this code using webflux to recived the server side events, no log output. Am I missing something? what should I do to fixed this problem?\r\n\r\n\r\n","title":"the webflux to consume server sent events have no valid response","body":"<p>I want to use webflux to consume some server sent events in Java 11, this is the minimal runnable code looks like:</p>\n<pre><code>public static void main(String[] args) {\n        consumeServerSentEvent();\n    }\n\n    public static void consumeServerSentEvent() {\n        WebClient client = WebClient.create(&quot;https://chat.poemhub.top&quot;);\n        ParameterizedTypeReference&lt;ServerSentEvent&lt;String&gt;&gt; type = new ParameterizedTypeReference&lt;&gt;() {};\n        Flux&lt;ServerSentEvent&lt;String&gt;&gt; eventStream = client.get()\n                .uri(&quot;/v1/completions?q=hello&quot;)\n                .headers(httpHeaders -&gt; {\n                    httpHeaders.set(&quot;Authorization&quot;, &quot;Bearer sk-DRjSqzDl3xHL1234663AfET3BlbkFJfQXGId4540GNmZqr7ss&quot;);\n                    httpHeaders.set(&quot;Content-Type&quot;,MediaType.TEXT_EVENT_STREAM.toString());\n                })\n                .retrieve()\n                .bodyToFlux(type);\n\n        eventStream.subscribe(\n                content -&gt; {\n                    log.info(&quot;Time: {} - event: name[{}], id [{}], content[{}] &quot;,\n                        LocalTime.now(), content.event(), content.id(), content.data());\n                    },\n                error -&gt; {\n                    log.error(&quot;Error receiving SSE: {}&quot;, error);\n                    },\n                () -&gt; {\n                    log.info(&quot;Completed!!!&quot;);\n                }\n        );\n    }\n</code></pre>\n<p>when I using curl command to test the sse api, it works like this:</p>\n<pre><code>➜  ~ curl -N -H &quot;Authorization: Bearer sk-DRjSqzDlwieHL12UvxAfET3BlbkFJfQioueNmZqr7ss&quot; https://chat.poemhub.top/v1/completions\\?q\\=hello\n\n[{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;Hello&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; there&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;!&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; How&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; can&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; I&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; help&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; you&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;?&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;}]%\n</code></pre>\n<p>but when I run this code using webflux to recived the server side events, no log output. Am I missing something? what should I do to fixed this problem?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679579184,"creation_date":1679579184,"answer_id":75823848,"question_id":75823650,"body_markdown":"It looks like the text that you are trying to parse is empty so it cannot be parsed. \r\n\r\nIf you read source description of function parseInt(String s) you will see that it&#39;s clearly stated that each character inside must be a digit not counting first character which can be a minus sign.\r\n\r\nquote\r\n\r\n    /**\r\n     * Parses the string argument as a signed decimal integer. The\r\n     * characters in the string must all be decimal digits, except\r\n     * that the first character may be an ASCII minus sign {@code &#39;-&#39;}\r\n     * ({@code &#39;\\u005Cu002D&#39;}) to indicate a negative value or an\r\n     * ASCII plus sign {@code &#39;+&#39;} ({@code &#39;\\u005Cu002B&#39;}) to\r\n     * indicate a positive value. The resulting integer value is\r\n     * returned, exactly as if the argument and the radix 10 were\r\n     * given as arguments to the {@link #parseInt(java.lang.String,\r\n     * int)} method.\r\n     *\r\n     * @param s    a {@code String} containing the {@code int}\r\n     *             representation to be parsed\r\n     * @return     the integer value represented by the argument in decimal.\r\n     * @exception  NumberFormatException  if the string does not contain a\r\n     *               parsable integer.\r\n     */\r\n","title":"java GUI did not open after in IntelliJ","body":"<p>It looks like the text that you are trying to parse is empty so it cannot be parsed.</p>\n<p>If you read source description of function parseInt(String s) you will see that it's clearly stated that each character inside must be a digit not counting first character which can be a minus sign.</p>\n<p>quote</p>\n<pre><code>/**\n * Parses the string argument as a signed decimal integer. The\n * characters in the string must all be decimal digits, except\n * that the first character may be an ASCII minus sign {@code '-'}\n * ({@code '\\u005Cu002D'}) to indicate a negative value or an\n * ASCII plus sign {@code '+'} ({@code '\\u005Cu002B'}) to\n * indicate a positive value. The resulting integer value is\n * returned, exactly as if the argument and the radix 10 were\n * given as arguments to the {@link #parseInt(java.lang.String,\n * int)} method.\n *\n * @param s    a {@code String} containing the {@code int}\n *             representation to be parsed\n * @return     the integer value represented by the argument in decimal.\n * @exception  NumberFormatException  if the string does not contain a\n *               parsable integer.\n */\n</code></pre>\n"}],"owner":{"account_id":23506485,"reputation":3,"user_id":17555685,"display_name":"Simon Devisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823848,"answer_count":1,"score":0,"last_activity_date":1679579184,"creation_date":1679578207,"question_id":75823650,"body_markdown":"i try to run the GUI and the program opens but i can&#39;t see the window. After 10 seconds it closes again and gives this error:\r\n\r\n\\--\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=49311:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath OverervingFiguren/target/classes presentatie.FiguurGUI\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat presentatie.FiguurGUI.&lt;init&gt;(FiguurGUI.java:21)\r\n\tat presentatie.FiguurGUI.main(FiguurGUI.java:66)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthis is my Figuur GUI in the same package &#39;presentatie&#39; as the form. i use code out of the package &#39;logica&#39;. i use an enum and two classes &#39;Vierkant&#39; and &#39;Cirkel&#39;. The error on line 21 indicates to &#39; `int x = Integer.parseInt(TextxCoordinaat.getText());&#39; `\r\n\r\nline 66 is \r\n\r\n```\r\nframe.setContentPane(new FiguurGUI().FiguurGUI);\r\n```\r\n\r\n```\r\npackage presentatie;\r\n\r\n\r\npublic class FiguurGUI {\r\n    private JTextField TextxCoordinaat;\r\n    int x = Integer.parseInt(TextxCoordinaat.getText());\r\n    private JTextField TextyCoordinaat;\r\n    int y = Integer.parseInt(TextyCoordinaat.getText());\r\n    private JComboBox&lt;Kleur&gt; comboKleur;\r\n    Kleur kleur = Kleur.valueOf((String) comboKleur.getSelectedItem());\r\n    private JComboBox&lt;Kleur&gt; comboKleurRand;\r\n    Kleur kleurRand = Kleur.valueOf((String) comboKleurRand.getSelectedItem());\r\n    private JRadioButton cirkelRadioButton;\r\n    private JRadioButton vierkantRadioButton;\r\n    private JButton voegToeButton;\r\n    private JButton undoButton;\r\n    private JSpinner SpinDikteRand;\r\n    int dikteRand = (int) SpinDikteRand.getValue();\r\n    private JTextField Textgrootte;\r\n    double grootte = Double.parseDouble(Textgrootte.getText());\r\n    private JPanel FiguurGUI;\r\n    private JTextField TextOutput;\r\n    private ArrayList&lt;String&gt; outputLijst = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public FiguurGUI() {\r\n        voegToeButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (cirkelRadioButton.isSelected()) {\r\n                Cirkel cirkel = new Cirkel(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\r\n                    outputLijst.add(cirkel.toString());\r\n                    System.out.println(&quot;cirkel!!!&quot;);\r\n                } if (vierkantRadioButton.isSelected()) {\r\n                    Vierkant vierkant = new Vierkant(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\r\n                    outputLijst.add(vierkant.toString());\r\n                    System.out.println(&quot;vierkant!!!&quot;);\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Kies uit cirkel of vierkant&quot;);\r\n                }\r\n\r\n                TextOutput.setText(outputLijst.toString());\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;FiguurGUI&quot;);\r\n        frame.setContentPane(new FiguurGUI().FiguurGUI);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(740, 440);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to run project with GUI and that worked perfectly so I don&#39;t know what the problem can be.\r\n\r\nhere is a picture how i organized the form:\r\n\r\n[the form GUI](https://i.stack.imgur.com/ZJnjN.png) ","title":"java GUI did not open after in IntelliJ","body":"<p>i try to run the GUI and the program opens but i can't see the window. After 10 seconds it closes again and gives this error:</p>\n<p>--</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=49311:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath OverervingFiguren/target/classes presentatie.FiguurGUI\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:678)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at presentatie.FiguurGUI.&lt;init&gt;(FiguurGUI.java:21)\n    at presentatie.FiguurGUI.main(FiguurGUI.java:66)\n\nProcess finished with exit code 1\n</code></pre>\n<p>this is my Figuur GUI in the same package 'presentatie' as the form. i use code out of the package 'logica'. i use an enum and two classes 'Vierkant' and 'Cirkel'. The error on line 21 indicates to ' <code>int x = Integer.parseInt(TextxCoordinaat.getText());' </code></p>\n<p>line 66 is</p>\n<pre><code>frame.setContentPane(new FiguurGUI().FiguurGUI);\n</code></pre>\n<pre><code>package presentatie;\n\n\npublic class FiguurGUI {\n    private JTextField TextxCoordinaat;\n    int x = Integer.parseInt(TextxCoordinaat.getText());\n    private JTextField TextyCoordinaat;\n    int y = Integer.parseInt(TextyCoordinaat.getText());\n    private JComboBox&lt;Kleur&gt; comboKleur;\n    Kleur kleur = Kleur.valueOf((String) comboKleur.getSelectedItem());\n    private JComboBox&lt;Kleur&gt; comboKleurRand;\n    Kleur kleurRand = Kleur.valueOf((String) comboKleurRand.getSelectedItem());\n    private JRadioButton cirkelRadioButton;\n    private JRadioButton vierkantRadioButton;\n    private JButton voegToeButton;\n    private JButton undoButton;\n    private JSpinner SpinDikteRand;\n    int dikteRand = (int) SpinDikteRand.getValue();\n    private JTextField Textgrootte;\n    double grootte = Double.parseDouble(Textgrootte.getText());\n    private JPanel FiguurGUI;\n    private JTextField TextOutput;\n    private ArrayList&lt;String&gt; outputLijst = new ArrayList&lt;&gt;();\n\n\n    public FiguurGUI() {\n        voegToeButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (cirkelRadioButton.isSelected()) {\n                Cirkel cirkel = new Cirkel(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\n                    outputLijst.add(cirkel.toString());\n                    System.out.println(&quot;cirkel!!!&quot;);\n                } if (vierkantRadioButton.isSelected()) {\n                    Vierkant vierkant = new Vierkant(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\n                    outputLijst.add(vierkant.toString());\n                    System.out.println(&quot;vierkant!!!&quot;);\n                } else {\n                    throw new IllegalArgumentException(&quot;Kies uit cirkel of vierkant&quot;);\n                }\n\n                TextOutput.setText(outputLijst.toString());\n\n            }\n        });\n\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;FiguurGUI&quot;);\n        frame.setContentPane(new FiguurGUI().FiguurGUI);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(740, 440);\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n<p>I tried to run project with GUI and that worked perfectly so I don't know what the problem can be.</p>\n<p>here is a picture how i organized the form:</p>\n<p><a href=\"https://i.stack.imgur.com/ZJnjN.png\" rel=\"nofollow noreferrer\">the form GUI</a></p>\n"},{"tags":["java","android","kotlin","accessibility"],"comments":[{"owner":{"account_id":28647,"reputation":16449,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1678058017,"post_id":75643643,"comment_id":133454758,"body_markdown":"You want to get the text that Talkback speaks? I&#39;m not sure if that&#39;s available. What would you do with it? In general, when a screen reader (whether Talkback, VoiceOver [iOS], NVDA [pc], etc) announces an element, it will say the element&#39;s name (usually called the accessible name) which is the label for a button, the value or state of an element (not required for a button but makes sense for a checkbox [checked}), and an optional description. Then a screen reader might also say whether to &quot;double tap&quot; to select the element. It all depends on the user&#39;s screen reader settings.","body":"You want to get the text that Talkback speaks? I&#39;m not sure if that&#39;s available. What would you do with it? In general, when a screen reader (whether Talkback, VoiceOver [iOS], NVDA [pc], etc) announces an element, it will say the element&#39;s name (usually called the accessible name) which is the label for a button, the value or state of an element (not required for a button but makes sense for a checkbox [checked}), and an optional description. Then a screen reader might also say whether to &quot;double tap&quot; to select the element. It all depends on the user&#39;s screen reader settings."},{"owner":{"account_id":18690095,"reputation":1,"user_id":21337172,"display_name":"Slavikwin"},"score":0,"creation_date":1678070900,"post_id":75643643,"comment_id":133456265,"body_markdown":"Yes, i want get text that Talkback speaks. I want to try to make a library with which it will be possible to write automatic tests to check the correctness of the accessibility, but for this I need to somehow get the string that will be voiced by Talkback","body":"Yes, i want get text that Talkback speaks. I want to try to make a library with which it will be possible to write automatic tests to check the correctness of the accessibility, but for this I need to somehow get the string that will be voiced by Talkback"},{"owner":{"account_id":28647,"reputation":16449,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1678086073,"post_id":75643643,"comment_id":133458070,"body_markdown":"Your automatic tests should calculate the name, role, and value of the element since that is what the screen reader will announce.","body":"Your automatic tests should calculate the name, role, and value of the element since that is what the screen reader will announce."}],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579184,"creation_date":1679579184,"answer_id":75823846,"question_id":75643643,"body_markdown":"The xml element contentdescription deals with screen reader speakable text.  Set this element","title":"How to programmatically get string that will be voiced by talkback(accessibility) in Android app","body":"<p>The xml element contentdescription deals with screen reader speakable text.  Set this element</p>\n"}],"owner":{"account_id":18690095,"reputation":1,"user_id":21337172,"display_name":"Slavikwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679579184,"creation_date":1678033259,"question_id":75643643,"body_markdown":"Help me please. I need to programmatically somehow get a string that will be announced using Talkback when hovering over a focus element, I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully). \r\nFor example, in the screenshot, the focus is on the &quot;DONE&quot; button, it will be voiced &quot;DONE, Button. Double-tap to active.&quot; (The text that is spoken is written from the bottom of the screen in toast, this toast was enabled in the developer options), and I need to somehow get the voiced string as a program object (String). How can i do this?\r\n\r\n[First screen (first part of voice acting)](https://i.stack.imgur.com/R8Vwv.jpg)\r\n\r\n[Second screen (second part of voice acting)](https://i.stack.imgur.com/xdFv5.jpg)\r\n\r\nI was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully). ","title":"How to programmatically get string that will be voiced by talkback(accessibility) in Android app","body":"<p>Help me please. I need to programmatically somehow get a string that will be announced using Talkback when hovering over a focus element, I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully).\nFor example, in the screenshot, the focus is on the &quot;DONE&quot; button, it will be voiced &quot;DONE, Button. Double-tap to active.&quot; (The text that is spoken is written from the bottom of the screen in toast, this toast was enabled in the developer options), and I need to somehow get the voiced string as a program object (String). How can i do this?</p>\n<p><a href=\"https://i.stack.imgur.com/R8Vwv.jpg\" rel=\"nofollow noreferrer\">First screen (first part of voice acting)</a></p>\n<p><a href=\"https://i.stack.imgur.com/xdFv5.jpg\" rel=\"nofollow noreferrer\">Second screen (second part of voice acting)</a></p>\n<p>I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully).</p>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679593406,"post_id":75823833,"comment_id":133753526,"body_markdown":"Try looking at [Android: How to pause and resume a Count Down Timer?](https://stackoverflow.com/a/39245596/16653700)","body":"Try looking at <a href=\"https://stackoverflow.com/a/39245596/16653700\">Android: How to pause and resume a Count Down Timer?</a>"}],"owner":{"account_id":26617169,"reputation":1,"user_id":20236388,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579118,"creation_date":1679579118,"question_id":75823833,"body_markdown":"I have spent the evening trying to implement a pause/resume button for my countdown timer. I thought I had it all working until after pausing and resuming the countdown timer failed to start my next countdown timer.\r\n\r\nIn my code I have a timer that has 3 different durations (1 for &quot;Get Ready&quot;, &quot;Hang&quot; and &quot;Rest&quot;) which begin after the previous timer hits 0. This cycle repeats 10 times (for the 10 sets) then ends. \r\n\r\nWhat would be the best way to implement a pause/resume button that would work across all 3 of my countdown durations and resumes the time from its current position after pausing? Any and all suggestions, example code would be greatly appreciated.\r\n\r\nI did end up removing the pause/resume button for now.\r\nI am very new to any kind of coding and wanted to see how far I could get before I needed some help.\r\n\r\nThanks.\r\n\r\n\r\n```\r\npublic class TimerFragment extends Fragment {\r\n\r\n    private static final long COUNTDOWN_DURATION = 7100; // 7 seconds in milliseconds\r\n    private static final long REST_DURATION = 111000; // 1 minute 50 seconds in milliseconds\r\n    private static final int NUM_SETS = 10;\r\n    private boolean mIsTimerRunning = false;\r\n    private int mCurrentSet = 1;\r\n    private TextView mTextView;\r\n    private Button mButton;\r\n    private CountDownTimer mTimer;\r\n\r\n\r\n    public TimerFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_timer, container, false);\r\n        mTextView = view.findViewById(R.id.timerTextView);\r\n        mButton = view.findViewById(R.id.buttonStart);\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mIsTimerRunning) {\r\n                    stopTimer();\r\n                } else {\r\n                    startTimer();\r\n                }\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    private void startTimer() {\r\n        mIsTimerRunning = true;\r\n        mButton.setText(R.string.stop);\r\n\r\n        // Starts the &quot;GET READY&quot; countdown.\r\n        mTimer = new CountDownTimer(11000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                mTextView.setText(String.valueOf(millisUntilFinished / 1000));\r\n                TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                statusTextView.setText(&quot;준비&quot;);\r\n            }\r\n\r\n            public void onFinish() {\r\n                // Starts the &quot;HANG&quot; countdown.\r\n                mTimer = new CountDownTimer(COUNTDOWN_DURATION, 1000) {\r\n                    public void onTick(long millisUntilFinished) {\r\n                        mTextView.setText(String.valueOf(millisUntilFinished / 1000));\r\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                        statusTextView.setText(&quot;행&quot;);\r\n                    }\r\n\r\n                    // Starts the &quot;REST&quot; countdown.\r\n                    public void onFinish() {\r\n                        long restTime = REST_DURATION / 1000;\r\n                        long minutes = restTime / 60;\r\n                        long seconds = restTime % 60;\r\n                        mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\r\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                        statusTextView.setText(&quot;잠시 쉬다&quot;);\r\n                        mTimer = new CountDownTimer(REST_DURATION, 1000) {\r\n                            public void onTick(long millisUntilFinished) {\r\n                                long restTime = millisUntilFinished / 1000;\r\n                                long minutes = restTime / 60;\r\n                                long seconds = restTime % 60;\r\n                                mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\r\n                            }\r\n\r\n                            public void onFinish() {\r\n                                if (mCurrentSet &lt; NUM_SETS) {\r\n                                    mCurrentSet++;\r\n                                    TextView setTextView = getView().findViewById(R.id.setTextView);\r\n                                    setTextView.setText(&quot;세트 &quot; + mCurrentSet);\r\n                                    startTimer();\r\n                                } else {\r\n                                    mIsTimerRunning = false;\r\n                                    mButton.setText(R.string.start);\r\n                                    mCurrentSet = 1;\r\n                                }\r\n                            }\r\n                        }.start();\r\n                    }\r\n                }.start();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void stopTimer() {\r\n        mIsTimerRunning = false;\r\n        mButton.setText(R.string.start);\r\n        mTextView.setText(&quot;10&quot;);\r\n        mCurrentSet = 1;\r\n        TextView setTextView = getView().findViewById(R.id.setTextView);\r\n        setTextView.setText(&quot;세트 1&quot;);\r\n        if (mTimer != null) {\r\n            mTimer.cancel();\r\n            mTimer = null;\r\n        }\r\n        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n        statusTextView.setText(&quot;준비가 된?&quot;);\r\n    }\r\n}\r\n```\r\n \r\n\r\n","title":"Adding a pause/resume button to my countdown timer","body":"<p>I have spent the evening trying to implement a pause/resume button for my countdown timer. I thought I had it all working until after pausing and resuming the countdown timer failed to start my next countdown timer.</p>\n<p>In my code I have a timer that has 3 different durations (1 for &quot;Get Ready&quot;, &quot;Hang&quot; and &quot;Rest&quot;) which begin after the previous timer hits 0. This cycle repeats 10 times (for the 10 sets) then ends.</p>\n<p>What would be the best way to implement a pause/resume button that would work across all 3 of my countdown durations and resumes the time from its current position after pausing? Any and all suggestions, example code would be greatly appreciated.</p>\n<p>I did end up removing the pause/resume button for now.\nI am very new to any kind of coding and wanted to see how far I could get before I needed some help.</p>\n<p>Thanks.</p>\n<pre><code>public class TimerFragment extends Fragment {\n\n    private static final long COUNTDOWN_DURATION = 7100; // 7 seconds in milliseconds\n    private static final long REST_DURATION = 111000; // 1 minute 50 seconds in milliseconds\n    private static final int NUM_SETS = 10;\n    private boolean mIsTimerRunning = false;\n    private int mCurrentSet = 1;\n    private TextView mTextView;\n    private Button mButton;\n    private CountDownTimer mTimer;\n\n\n    public TimerFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_timer, container, false);\n        mTextView = view.findViewById(R.id.timerTextView);\n        mButton = view.findViewById(R.id.buttonStart);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mIsTimerRunning) {\n                    stopTimer();\n                } else {\n                    startTimer();\n                }\n            }\n        });\n        return view;\n    }\n\n    private void startTimer() {\n        mIsTimerRunning = true;\n        mButton.setText(R.string.stop);\n\n        // Starts the &quot;GET READY&quot; countdown.\n        mTimer = new CountDownTimer(11000, 1000) {\n            public void onTick(long millisUntilFinished) {\n                mTextView.setText(String.valueOf(millisUntilFinished / 1000));\n                TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                statusTextView.setText(&quot;준비&quot;);\n            }\n\n            public void onFinish() {\n                // Starts the &quot;HANG&quot; countdown.\n                mTimer = new CountDownTimer(COUNTDOWN_DURATION, 1000) {\n                    public void onTick(long millisUntilFinished) {\n                        mTextView.setText(String.valueOf(millisUntilFinished / 1000));\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                        statusTextView.setText(&quot;행&quot;);\n                    }\n\n                    // Starts the &quot;REST&quot; countdown.\n                    public void onFinish() {\n                        long restTime = REST_DURATION / 1000;\n                        long minutes = restTime / 60;\n                        long seconds = restTime % 60;\n                        mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                        statusTextView.setText(&quot;잠시 쉬다&quot;);\n                        mTimer = new CountDownTimer(REST_DURATION, 1000) {\n                            public void onTick(long millisUntilFinished) {\n                                long restTime = millisUntilFinished / 1000;\n                                long minutes = restTime / 60;\n                                long seconds = restTime % 60;\n                                mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\n                            }\n\n                            public void onFinish() {\n                                if (mCurrentSet &lt; NUM_SETS) {\n                                    mCurrentSet++;\n                                    TextView setTextView = getView().findViewById(R.id.setTextView);\n                                    setTextView.setText(&quot;세트 &quot; + mCurrentSet);\n                                    startTimer();\n                                } else {\n                                    mIsTimerRunning = false;\n                                    mButton.setText(R.string.start);\n                                    mCurrentSet = 1;\n                                }\n                            }\n                        }.start();\n                    }\n                }.start();\n            }\n        }.start();\n    }\n\n    private void stopTimer() {\n        mIsTimerRunning = false;\n        mButton.setText(R.string.start);\n        mTextView.setText(&quot;10&quot;);\n        mCurrentSet = 1;\n        TextView setTextView = getView().findViewById(R.id.setTextView);\n        setTextView.setText(&quot;세트 1&quot;);\n        if (mTimer != null) {\n            mTimer.cancel();\n            mTimer = null;\n        }\n        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n        statusTextView.setText(&quot;준비가 된?&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","serialization","redis","jackson"],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679578779,"creation_date":1679578779,"question_id":75823760,"body_markdown":"In my experience, I&#39;ve used Redis cache serializers for `RedisCacheManager` as well as `RedisTemplate`. For `RedisCacheManager`, the default key serializer is `StringRedisSerializer` and the default value serializer is `JdkSerializationRedisSerializer`. When it comes to `RedisTemplate`, the both default key and value serializers are `JdkSerializationRedisSerializer`. Apart from that the `RedisTemplate` has hash key serializer and hash value serializer. As far as I know, the hashing is fully supported via Redis and therefore the hash and key value serializers are not applicable for spring caching. When it comes to Redis serializers, I was able to figure out the following implementations.\r\n\r\n - `GenericJackson2JsonRedisSerializer`\r\n - `JdkSerializationRedisSerializer`\r\n - `StringRedisSerializer` \r\n - `Jackson2JsonRedisSerializer`\r\n - `ByteArrayRedisSerializer`\r\n - `GenericToStringSerializer` \r\n - `OxmSerializer`\r\n\r\nMy concern is how to determine the suitable serializer for my use case. I clearly understand that when using `StringRedisSerializer`, I will not be able to serialize a java object and for that I&#39;ll have to use either `Jackson2JsonRedisSerializer` or `GenericJackson2JsonRedisSerializer`. I also noticed that the `Jackson2JsonRedisSerializer` allows to set our own `ObjectMapper` which is very helpful when dealing with `JSON`. Determining the relevant serializer is fully depending on the use case and what type of values to be cached. However, I was not able to figure out a proper documentation where it is clearly distinguished these serializers. I think it would be very helpful to understand the difference of each serializer beforehand. That is my concern and thank you in advance for investing time to read my concern.   ","title":"How to determine what Redis cache serializer to be used?","body":"<p>In my experience, I've used Redis cache serializers for <code>RedisCacheManager</code> as well as <code>RedisTemplate</code>. For <code>RedisCacheManager</code>, the default key serializer is <code>StringRedisSerializer</code> and the default value serializer is <code>JdkSerializationRedisSerializer</code>. When it comes to <code>RedisTemplate</code>, the both default key and value serializers are <code>JdkSerializationRedisSerializer</code>. Apart from that the <code>RedisTemplate</code> has hash key serializer and hash value serializer. As far as I know, the hashing is fully supported via Redis and therefore the hash and key value serializers are not applicable for spring caching. When it comes to Redis serializers, I was able to figure out the following implementations.</p>\n<ul>\n<li><code>GenericJackson2JsonRedisSerializer</code></li>\n<li><code>JdkSerializationRedisSerializer</code></li>\n<li><code>StringRedisSerializer</code></li>\n<li><code>Jackson2JsonRedisSerializer</code></li>\n<li><code>ByteArrayRedisSerializer</code></li>\n<li><code>GenericToStringSerializer</code></li>\n<li><code>OxmSerializer</code></li>\n</ul>\n<p>My concern is how to determine the suitable serializer for my use case. I clearly understand that when using <code>StringRedisSerializer</code>, I will not be able to serialize a java object and for that I'll have to use either <code>Jackson2JsonRedisSerializer</code> or <code>GenericJackson2JsonRedisSerializer</code>. I also noticed that the <code>Jackson2JsonRedisSerializer</code> allows to set our own <code>ObjectMapper</code> which is very helpful when dealing with <code>JSON</code>. Determining the relevant serializer is fully depending on the use case and what type of values to be cached. However, I was not able to figure out a proper documentation where it is clearly distinguished these serializers. I think it would be very helpful to understand the difference of each serializer beforehand. That is my concern and thank you in advance for investing time to read my concern.</p>\n"},{"tags":["java","gson"],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679498308,"creation_date":1679498308,"answer_id":75814135,"question_id":75813737,"body_markdown":"&gt; The firstMap turns out to be null.\r\n\r\nThat&#39;s because you don&#39;t have any json element name &quot;firstMap&quot;. GSON (and most JSON parsers) work by mapping json element names to a class field. If you don&#39;t have a consistent element name, then you need a map to represent the whole object that has the variable element names.\r\n\r\nFirst off looks like you have an Array of objects at the top level, so make sure you&#39;re asking GSON to parse an array object to begin with. Something like:\r\n\r\n    ItemType[] items = gson.fromJson(inputString, ItemType[].class)\r\n\r\nSo what is &quot;ItemType&quot; - well each item in the array has an &quot;id&quot; but then variable keys, so you can&#39;t use your `PolicyObject` class, you need a map of String to secondary item type:\r\n\r\n    Map&lt;String, SecondaryType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, SecondaryType&gt;[].class)\r\n\r\nSo what is &quot;SecondaryType&quot;? Again, all keys are variable so again you need a map:\r\n\r\n    Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\r\n\r\nSo what is &quot;ThirdType&quot;? Well, at this point, it seems you know you will have a key named `&quot;prio&quot;` so you can defined a well-named class:\r\n\r\n    public class ThirdType {\r\n        public Prio prio\r\n    }\r\n\r\nSo what is &quot;Prio&quot;? Again it seems to contain a variable list of keys, so we&#39;re actually back to generic maps:\r\n\r\n    public class ThirdType {\r\n        public Map&lt;String, FourthType&gt; prio\r\n    }\r\n\r\nSo what is &quot;FourthType&quot;? Well that looks like a consistent &quot;id&quot; and &quot;name&quot;:\r\n\r\n    public class FourthType {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nWith these definitions, we&#39;re back to:\r\n\r\n    Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\r\n\r\nYou can clean this up with a class that _is_ the top-level map:\r\n\r\n    public class MyObject extends Map&lt;String, Map&lt;String, ThirdType&gt;&gt; { }\r\n\r\nSo then you can do something like:\r\n\r\n    MyObject[] items = gson.fromJson(inputString, MyObject[].class)\r\n\r\nDisclaimer: I don&#39;t know if any this will actually compile, but I think it should put you on the right track.","title":"Gson - How to use gson to deserialize nested objects with changing keys?","body":"<blockquote>\n<p>The firstMap turns out to be null.</p>\n</blockquote>\n<p>That's because you don't have any json element name &quot;firstMap&quot;. GSON (and most JSON parsers) work by mapping json element names to a class field. If you don't have a consistent element name, then you need a map to represent the whole object that has the variable element names.</p>\n<p>First off looks like you have an Array of objects at the top level, so make sure you're asking GSON to parse an array object to begin with. Something like:</p>\n<pre><code>ItemType[] items = gson.fromJson(inputString, ItemType[].class)\n</code></pre>\n<p>So what is &quot;ItemType&quot; - well each item in the array has an &quot;id&quot; but then variable keys, so you can't use your <code>PolicyObject</code> class, you need a map of String to secondary item type:</p>\n<pre><code>Map&lt;String, SecondaryType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, SecondaryType&gt;[].class)\n</code></pre>\n<p>So what is &quot;SecondaryType&quot;? Again, all keys are variable so again you need a map:</p>\n<pre><code>Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\n</code></pre>\n<p>So what is &quot;ThirdType&quot;? Well, at this point, it seems you know you will have a key named <code>&quot;prio&quot;</code> so you can defined a well-named class:</p>\n<pre><code>public class ThirdType {\n    public Prio prio\n}\n</code></pre>\n<p>So what is &quot;Prio&quot;? Again it seems to contain a variable list of keys, so we're actually back to generic maps:</p>\n<pre><code>public class ThirdType {\n    public Map&lt;String, FourthType&gt; prio\n}\n</code></pre>\n<p>So what is &quot;FourthType&quot;? Well that looks like a consistent &quot;id&quot; and &quot;name&quot;:</p>\n<pre><code>public class FourthType {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>With these definitions, we're back to:</p>\n<pre><code>Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\n</code></pre>\n<p>You can clean this up with a class that <em>is</em> the top-level map:</p>\n<pre><code>public class MyObject extends Map&lt;String, Map&lt;String, ThirdType&gt;&gt; { }\n</code></pre>\n<p>So then you can do something like:</p>\n<pre><code>MyObject[] items = gson.fromJson(inputString, MyObject[].class)\n</code></pre>\n<p>Disclaimer: I don't know if any this will actually compile, but I think it should put you on the right track.</p>\n"}],"owner":{"account_id":28086801,"reputation":3,"user_id":21457050,"display_name":"Kat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75814135,"answer_count":1,"score":0,"last_activity_date":1679578640,"creation_date":1679496255,"question_id":75813737,"body_markdown":"An example json I am trying to parse is:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;123&quot;,\r\n        &quot;a*&quot;: {\r\n            &quot;b*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test&quot;\r\n                    },\r\n                    &quot;d1*&quot;: {\r\n                        &quot;id&quot;: &quot;678&quot;,\r\n                        &quot;name&quot;: &quot;test1&quot;\r\n                    }\r\n                }\r\n            },\r\n            &quot;b1*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d2*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test4&quot;\r\n                    }\r\n                },\r\n                &quot;prio&quot;: {\r\n                    &quot;d3*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test3&quot;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        &quot;a1*&quot;: {\r\n            &quot;b2*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d5*&quot;: {\r\n                        &quot;id&quot;: &quot;5435&quot;,\r\n                        &quot;name&quot;: &quot;test2&quot;\r\n                    },\r\n                    &quot;d6*&quot;: {\r\n                        &quot;id&quot;: &quot;675435438&quot;,\r\n                        &quot;name&quot;: &quot;test15&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;345&quot;,\r\n        &quot;f*&quot;: {\r\n            &quot;g*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;i*&quot;: {\r\n                        &quot;id&quot;: &quot;5435&quot;,\r\n                        &quot;name&quot;: &quot;test2&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;342343&quot;\r\n    }\r\n]\r\n```\r\n\r\nFor explanation purposes, the ones with the asterisk will always have changing keys in different json files and the actual json files may or may not have asterisk in the key. The nesting amount won&#39;t be deeper than the nest shown but some can be less deep. `prio` will always be at the same level of deepness and I need all of the key names except for `prio` .\r\n\r\nHow can I parse this json with gson? Any help is appreciated.\r\n\r\nWhat I was trying (with names changed):\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\npublic class PolicyObject {\r\n    private String id;\r\n    private Map&lt;String, First&gt; firstMap;\r\n\r\n    @Getter\r\n    @Setter\r\n    public class First {\r\n        private Map&lt;String, Second&gt; secondMap;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Second {\r\n        private Map&lt;String, Third&gt; prio;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Third {\r\n        private String name;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class mainClass {\r\n    public void main(InputStreamReader file) {\r\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\r\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\r\n    }\r\n}\r\n```\r\n\r\nThe firstMap turns out to be null. The reason I am using gson is because I&#39;m already using it for other json files that have a simpler format in the same package.\r\n\r\n**EDIT**\r\n\r\nIt was fixed using a custom TypeAdapter:\r\n```\r\npublic class CustomTypeAdapter extends TypeAdapter&lt;PolicyObject&gt; {\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_PRIO = &quot;prio&quot;;\r\n    private static final String KEY_NAME = &quot;name&quot;;\r\n\r\n    @Override\r\n    public void write(JsonWriter jsonWriter, PolicyObject policy) throws IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public PolicyObject read(JsonReader reader) throws IOException {\r\n        PolicyObject policyObject = new PolicyObject();\r\n        PolicyObject.setFirstMap(new HashMap&lt;&gt;());\r\n\r\n        reader.beginObject();\r\n        PolicyObject.First first = new PolicyObject.First();\r\n        first.setSecondMap(new HashMap&lt;&gt;());\r\n        while (reader.hasNext()) {\r\n            String firstName = reader.nextName();\r\n            if (KEY_ID.equals(firstName)) {\r\n                policyObject.setId(reader.nextString());\r\n            } else {\r\n                reader.beginObject();\r\n                while (reader.hasNext()) {\r\n                    String secondName = reader.nextName();\r\n                    reader.beginObject();\r\n                    PolicyObject.Second second = new PolicyObject.Second();\r\n                    second.setPrio(new HashMap&lt;&gt;());\r\n                    while (reader.hasNext()) {\r\n                        String prio = reader.nextName();\r\n                        if (KEY_PRIO.equals(prio)) {\r\n                            reader.beginObject();\r\n                            while (reader.hasNext()) {\r\n                                String thirdName = reader.nextName();\r\n                                reader.beginObject();\r\n                                PolicyObject.Third rule = new PolicyObject.Third();\r\n                                while (reader.hasNext()) {\r\n                                    String ruleProperty = reader.nextName();\r\n                                    if (KEY_NAME.equals(ruleProperty)) {\r\n                                        rule.setComment(reader.nextString());\r\n                                    } else {\r\n                                        reader.skipValue();\r\n                                    }\r\n                                }\r\n                                second.getPrio().put(thirdName, rule);\r\n                                reader.endObject();\r\n                            }\r\n                            reader.endObject();\r\n                        } else {\r\n                            reader.skipValue();\r\n                        }\r\n                    }\r\n                    first.getSecondMap().put(secondName, second);\r\n                    reader.endObject();\r\n                }\r\n                reader.endObject();\r\n                policyObject.getFirstMap().put(firstName, first);\r\n            }\r\n        }\r\n        reader.endObject();\r\n\r\n        return policyObject;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class mainClass {\r\n    public void main(InputStreamReader file) {\r\n        Gson gson = new GsonBuilder().registerTypeAdapter(PolicyObject.class, new CustomTypeAdapter()).create();\r\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\r\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\r\n    }\r\n}\r\n","title":"Gson - How to use gson to deserialize nested objects with changing keys?","body":"<p>An example json I am trying to parse is:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;123&quot;,\n        &quot;a*&quot;: {\n            &quot;b*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test&quot;\n                    },\n                    &quot;d1*&quot;: {\n                        &quot;id&quot;: &quot;678&quot;,\n                        &quot;name&quot;: &quot;test1&quot;\n                    }\n                }\n            },\n            &quot;b1*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d2*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test4&quot;\n                    }\n                },\n                &quot;prio&quot;: {\n                    &quot;d3*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test3&quot;\n                    }\n                }\n            }\n        },\n        &quot;a1*&quot;: {\n            &quot;b2*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d5*&quot;: {\n                        &quot;id&quot;: &quot;5435&quot;,\n                        &quot;name&quot;: &quot;test2&quot;\n                    },\n                    &quot;d6*&quot;: {\n                        &quot;id&quot;: &quot;675435438&quot;,\n                        &quot;name&quot;: &quot;test15&quot;\n                    }\n                }\n            }\n        }\n    },\n    {\n        &quot;id&quot;: &quot;345&quot;,\n        &quot;f*&quot;: {\n            &quot;g*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;i*&quot;: {\n                        &quot;id&quot;: &quot;5435&quot;,\n                        &quot;name&quot;: &quot;test2&quot;\n                    }\n                }\n            }\n        }\n    },\n    {\n        &quot;id&quot;: &quot;342343&quot;\n    }\n]\n</code></pre>\n<p>For explanation purposes, the ones with the asterisk will always have changing keys in different json files and the actual json files may or may not have asterisk in the key. The nesting amount won't be deeper than the nest shown but some can be less deep. <code>prio</code> will always be at the same level of deepness and I need all of the key names except for <code>prio</code> .</p>\n<p>How can I parse this json with gson? Any help is appreciated.</p>\n<p>What I was trying (with names changed):</p>\n<pre><code>\n@Getter\n@Setter\npublic class PolicyObject {\n    private String id;\n    private Map&lt;String, First&gt; firstMap;\n\n    @Getter\n    @Setter\n    public class First {\n        private Map&lt;String, Second&gt; secondMap;\n    }\n\n    @Getter\n    @Setter\n    public class Second {\n        private Map&lt;String, Third&gt; prio;\n    }\n\n    @Getter\n    @Setter\n    public class Third {\n        private String name;\n    }\n}\n</code></pre>\n<pre><code>public class mainClass {\n    public void main(InputStreamReader file) {\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\n    }\n}\n</code></pre>\n<p>The firstMap turns out to be null. The reason I am using gson is because I'm already using it for other json files that have a simpler format in the same package.</p>\n<p><strong>EDIT</strong></p>\n<p>It was fixed using a custom TypeAdapter:</p>\n<pre><code>public class CustomTypeAdapter extends TypeAdapter&lt;PolicyObject&gt; {\n    private static final String KEY_ID = &quot;id&quot;;\n    private static final String KEY_PRIO = &quot;prio&quot;;\n    private static final String KEY_NAME = &quot;name&quot;;\n\n    @Override\n    public void write(JsonWriter jsonWriter, PolicyObject policy) throws IOException {\n\n    }\n\n    @Override\n    public PolicyObject read(JsonReader reader) throws IOException {\n        PolicyObject policyObject = new PolicyObject();\n        PolicyObject.setFirstMap(new HashMap&lt;&gt;());\n\n        reader.beginObject();\n        PolicyObject.First first = new PolicyObject.First();\n        first.setSecondMap(new HashMap&lt;&gt;());\n        while (reader.hasNext()) {\n            String firstName = reader.nextName();\n            if (KEY_ID.equals(firstName)) {\n                policyObject.setId(reader.nextString());\n            } else {\n                reader.beginObject();\n                while (reader.hasNext()) {\n                    String secondName = reader.nextName();\n                    reader.beginObject();\n                    PolicyObject.Second second = new PolicyObject.Second();\n                    second.setPrio(new HashMap&lt;&gt;());\n                    while (reader.hasNext()) {\n                        String prio = reader.nextName();\n                        if (KEY_PRIO.equals(prio)) {\n                            reader.beginObject();\n                            while (reader.hasNext()) {\n                                String thirdName = reader.nextName();\n                                reader.beginObject();\n                                PolicyObject.Third rule = new PolicyObject.Third();\n                                while (reader.hasNext()) {\n                                    String ruleProperty = reader.nextName();\n                                    if (KEY_NAME.equals(ruleProperty)) {\n                                        rule.setComment(reader.nextString());\n                                    } else {\n                                        reader.skipValue();\n                                    }\n                                }\n                                second.getPrio().put(thirdName, rule);\n                                reader.endObject();\n                            }\n                            reader.endObject();\n                        } else {\n                            reader.skipValue();\n                        }\n                    }\n                    first.getSecondMap().put(secondName, second);\n                    reader.endObject();\n                }\n                reader.endObject();\n                policyObject.getFirstMap().put(firstName, first);\n            }\n        }\n        reader.endObject();\n\n        return policyObject;\n    }\n}\n</code></pre>\n<pre><code>public class mainClass {\n    public void main(InputStreamReader file) {\n        Gson gson = new GsonBuilder().registerTypeAdapter(PolicyObject.class, new CustomTypeAdapter()).create();\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","email","authentication"],"comments":[{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1401105651,"post_id":18585682,"comment_id":36740807,"body_markdown":"Any suggestions on this question . Did u solve this ? If yes pls suggest me how to do this .","body":"Any suggestions on this question . Did u solve this ? If yes pls suggest me how to do this ."},{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1477345755,"post_id":18585682,"comment_id":67719460,"body_markdown":"Look at [this](https://github.com/ozimov/spring-boot-email-tools/issues/11) issue for an extension of Spring Boot","body":"Look at <a href=\"https://github.com/ozimov/spring-boot-email-tools/issues/11\" rel=\"nofollow noreferrer\">this</a> issue for an extension of Spring Boot"}],"answers":[{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401106708,"creation_date":1401106708,"answer_id":23870015,"question_id":18585682,"body_markdown":"It is because authentication not supported by the `smtp` . to resolve this you need to remove the username and password from the config file .\r\n\r\n    &lt;jee:jndi-lookup id=&quot;mailSession&quot; jndi-name=&quot;${abc.app.mailSession}&quot; cache=&quot;true&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;jndiMailSender&quot; class=&quot;com.abc.service.mail.JndiJavaMailService&quot;&gt;\r\n        &lt;property name=&quot;session&quot; ref=&quot;mailSession&quot;/&gt;\r\n        &lt;property name=&quot;defaultEncoding&quot; value=&quot;${mail.defaultEncoding}&quot;/&gt;\r\n        &lt;property name=&quot;mailMasterAdress&quot; value=&quot;${abc.mail.mailMasterAdress}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd also authentication to `false` like this,\r\n\r\n    &lt;prop key=&quot;mail.smtp.auth&quot;&gt;false&lt;/prop&gt;\r\n\r\nHope this helps !!","title":"Spring Mail Authentication Error","body":"<p>It is because authentication not supported by the <code>smtp</code> . to resolve this you need to remove the username and password from the config file .</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"mailSession\" jndi-name=\"${abc.app.mailSession}\" cache=\"true\"/&gt;\n\n&lt;bean id=\"jndiMailSender\" class=\"com.abc.service.mail.JndiJavaMailService\"&gt;\n    &lt;property name=\"session\" ref=\"mailSession\"/&gt;\n    &lt;property name=\"defaultEncoding\" value=\"${mail.defaultEncoding}\"/&gt;\n    &lt;property name=\"mailMasterAdress\" value=\"${abc.mail.mailMasterAdress}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And also authentication to <code>false</code> like this,</p>\n\n<pre><code>&lt;prop key=\"mail.smtp.auth\"&gt;false&lt;/prop&gt;\n</code></pre>\n\n<p>Hope this helps !!</p>\n"},{"tags":[],"owner":{"account_id":6431558,"reputation":498,"user_id":4984475,"display_name":"sjaiswal"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1434058975,"creation_date":1434058975,"answer_id":30791972,"question_id":18585682,"body_markdown":"Use these properties:\r\n\r\n    mail.host=smtp.gmail.com\r\n    mail.port=587\r\n    mail.username=&lt;gmail-username@gmail.com&gt;\r\n    mail.password=&lt;gmail-password&gt;\r\n    mail.transport.protocol=smtp\r\n    mail.smtp.auth=true\r\n    mail.smtp.starttls.enable=true\r\n    mail.from.email=&lt;gmail-username@gmail.com&gt;\r\n\r\nBy default, gmail does not allow less secure apps to get authenticated. You need to turn on the option in you gmail account to allow less secure apps to get authenticated.\r\n\r\nFollow these steps:\r\n\r\n    1.Login to Gmail. \r\n    2.Access the URL as https://www.google.com/settings/security/lesssecureapps \r\n    3.Select &quot;Turn on&quot;\r\n\r\nTry running  your code again, it should work. \r\n   ","title":"Spring Mail Authentication Error","body":"<p>Use these properties:</p>\n\n<pre><code>mail.host=smtp.gmail.com\nmail.port=587\nmail.username=&lt;gmail-username@gmail.com&gt;\nmail.password=&lt;gmail-password&gt;\nmail.transport.protocol=smtp\nmail.smtp.auth=true\nmail.smtp.starttls.enable=true\nmail.from.email=&lt;gmail-username@gmail.com&gt;\n</code></pre>\n\n<p>By default, gmail does not allow less secure apps to get authenticated. You need to turn on the option in you gmail account to allow less secure apps to get authenticated.</p>\n\n<p>Follow these steps:</p>\n\n<pre><code>1.Login to Gmail. \n2.Access the URL as https://www.google.com/settings/security/lesssecureapps \n3.Select \"Turn on\"\n</code></pre>\n\n<p>Try running  your code again, it should work. </p>\n"},{"tags":[],"owner":{"account_id":284875,"reputation":3452,"user_id":583237,"accept_rate":73,"display_name":"Pradip Kharbuja"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447714778,"creation_date":1447714778,"answer_id":33746227,"question_id":18585682,"body_markdown":"This worked for me:\r\n\r\nBean Cofiguration\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot; /&gt;\r\n\t\t&lt;property name=&quot;port&quot; value=&quot;587&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;&lt;!--Gmail ID --&gt;&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&lt;!-- Gmail Password --&gt;&quot; /&gt;\r\n\r\n\t\t&lt;!-- The name of the property, following JavaBean naming conventions --&gt;\r\n\t\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nSecondly, you need to turn on the access for less secure apps.\r\n\r\n    1. Login to Gmail. \r\n    2. Access the URL as https://www.google.com/settings/security/lesssecureapps \r\n    3. Select &quot;Turn on&quot;","title":"Spring Mail Authentication Error","body":"<p>This worked for me:</p>\n\n<p>Bean Cofiguration</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"smtp.gmail.com\" /&gt;\n    &lt;property name=\"port\" value=\"587\" /&gt;\n    &lt;property name=\"username\" value=\"&lt;!--Gmail ID --&gt;\" /&gt;\n    &lt;property name=\"password\" value=\"&lt;!-- Gmail Password --&gt;\" /&gt;\n\n    &lt;!-- The name of the property, following JavaBean naming conventions --&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Secondly, you need to turn on the access for less secure apps.</p>\n\n<pre><code>1. Login to Gmail. \n2. Access the URL as https://www.google.com/settings/security/lesssecureapps \n3. Select \"Turn on\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464590810,"creation_date":1464542108,"answer_id":37512758,"question_id":18585682,"body_markdown":"If you have enabled 2 step verification in your gmail account you have to disable that first. Please follow these steps:\r\n\r\n 1. Login to Gmail. \r\n 2. Go to [Gmail security page][1].\r\n 3. Find 2 step verification from there. open it.\r\n 4. Select &quot;Turn off&quot;\r\n\r\nSet(use) below properties:\r\n\r\n    mail.host=smtp.gmail.com\r\n    mail.port=587\r\n    mail.username=&lt;username@gmail.com&gt;\r\n    mail.password=&lt;password&gt;\r\n    mail.transport.protocol=smtp\r\n    mail.smtp.auth=true\r\n    mail.smtp.starttls.enable=true\r\n    mail.from.email=&lt;username@gmail.com&gt;\r\n\r\n\r\nTry now.\r\n   \r\n\r\n  [1]: https://myaccount.google.com/security#signin","title":"Spring Mail Authentication Error","body":"<p>If you have enabled 2 step verification in your gmail account you have to disable that first. Please follow these steps:</p>\n\n<ol>\n<li>Login to Gmail. </li>\n<li>Go to <a href=\"https://myaccount.google.com/security#signin\" rel=\"nofollow\">Gmail security page</a>.</li>\n<li>Find 2 step verification from there. open it.</li>\n<li>Select \"Turn off\"</li>\n</ol>\n\n<p>Set(use) below properties:</p>\n\n<pre><code>mail.host=smtp.gmail.com\nmail.port=587\nmail.username=&lt;username@gmail.com&gt;\nmail.password=&lt;password&gt;\nmail.transport.protocol=smtp\nmail.smtp.auth=true\nmail.smtp.starttls.enable=true\nmail.from.email=&lt;username@gmail.com&gt;\n</code></pre>\n\n<p>Try now.</p>\n"},{"tags":[],"owner":{"account_id":4496522,"reputation":563,"user_id":3656203,"display_name":"GSK"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492788520,"creation_date":1492788520,"answer_id":43546588,"question_id":18585682,"body_markdown":"    using Spring 1.2.4\r\n    &lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=*****@***.co.xx\r\n    spring.mail.password=.......\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    #spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback=false\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n    \r\n    \r\n    all this  and goto https://myaccount.google.com/security of the configured account and \r\n    Allow less secure apps: ON\r\n    Worked for Me","title":"Spring Mail Authentication Error","body":"<pre><code>using Spring 1.2.4\n&lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\nspring.mail.host=smtp.gmail.com\nspring.mail.username=*****@***.co.xx\nspring.mail.password=.......\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\n#spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.enable = true\n\n\nall this  and goto https://myaccount.google.com/security of the configured account and \nAllow less secure apps: ON\nWorked for Me\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492789118,"creation_date":1492789118,"answer_id":43546780,"question_id":18585682,"body_markdown":"    using Spring 1.2.4\r\n    &lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=*****@***.co.xx\r\n    spring.mail.password=.......\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback=false\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n    \r\n    \r\n    all this  and goto https://myaccount.google.com/security of the configured account and \r\n    Allow less secure apps: ON\r\n      \r\n\r\n","title":"Spring Mail Authentication Error","body":"<pre><code>using Spring 1.2.4\n&lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\nspring.mail.host=smtp.gmail.com\nspring.mail.username=*****@***.co.xx\nspring.mail.password=.......\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.enable = true\n\n\nall this  and goto https://myaccount.google.com/security of the configured account and \nAllow less secure apps: ON\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5598693,"reputation":610,"user_id":4435552,"display_name":"Sandip S."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1495453640,"creation_date":1495453640,"answer_id":44112079,"question_id":18585682,"body_markdown":"Use below configuration:\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        &lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;25&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;xxxx@gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;xxxxxxxxx&quot;/&gt;\r\n        &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nand follow below procedure:\r\n\r\n1.\tLogin to Gmail. \r\n2.\tAccess the URL as https://www.google.com/settings/security/lesssecureapps \r\n3.\tSelect &quot;Turn on&quot;\r\n","title":"Spring Mail Authentication Error","body":"<p>Use below configuration:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"smtp.gmail.com\"/&gt;\n    &lt;property name=\"port\" value=\"25\"/&gt;\n    &lt;property name=\"username\" value=\"xxxx@gmail.com\"/&gt;\n    &lt;property name=\"password\" value=\"xxxxxxxxx\"/&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and follow below procedure:</p>\n\n<ol>\n<li>Login to Gmail. </li>\n<li>Access the URL as <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">https://www.google.com/settings/security/lesssecureapps</a> </li>\n<li>Select \"Turn on\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552625929,"creation_date":1552625929,"answer_id":55175809,"question_id":18585682,"body_markdown":"    spring.profiles.active=@active.mode@\r\n    spring.data.mongodb.database=karaoke-db\r\n    server.port=5813\r\n    base.host=@base.host@\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=yourEmail@gmail.com\r\n    spring.mail.password=yourEmailPassword\r\n    mail.transport.protocol=smtp\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    mail.from.email=yourEmail@gmail.com\r\n    mail.debug=true\r\n\r\n**And in your EmailConfig class**\r\n\r\n    package com.tlcreativeltd.karaoke.config.email;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n    \r\n    import javax.mail.Authenticator;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class MailConfig {\r\n        @Value(&quot;${spring.mail.host}&quot;)\r\n        private String host;\r\n    \r\n        @Value(&quot;${spring.mail.port}&quot;)\r\n        private int port;\r\n    \r\n        @Value(&quot;${spring.mail.username}&quot;)\r\n        private String userName;\r\n    \r\n        @Value(&quot;${spring.mail.password}&quot;)\r\n        private String passwd;\r\n    \r\n        @Value(&quot;${mail.transport.protocol}&quot;)\r\n        private String protocol;\r\n    \r\n        @Value(&quot;${mail.from.email}&quot;)\r\n        private String from;\r\n    \r\n        @Bean\r\n        public JavaMailSender getJavaMailSender() {\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n            mailSender.setHost(host);\r\n            mailSender.setPort(port);\r\n    \r\n            mailSender.setUsername(userName);\r\n            mailSender.setPassword(passwd);\r\n    \r\n            Properties props = mailSender.getJavaMailProperties();\r\n            props.put(&quot;mail.transport.protocol&quot;, protocol);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.from.email&quot;, from);\r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n            // creates a new session with an authenticator\r\n            Authenticator auth = new Authenticator() {\r\n                public PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(userName, passwd);\r\n                }\r\n            };\r\n    \r\n            Session session = Session.getInstance(props, auth);\r\n            mailSender.setSession(session);\r\n    \r\n            return mailSender;\r\n        }\r\n    }","title":"Spring Mail Authentication Error","body":"<pre><code>spring.profiles.active=@active.mode@\nspring.data.mongodb.database=karaoke-db\nserver.port=5813\nbase.host=@base.host@\n\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=yourEmail@gmail.com\nspring.mail.password=yourEmailPassword\nmail.transport.protocol=smtp\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nmail.from.email=yourEmail@gmail.com\nmail.debug=true\n</code></pre>\n\n<p><strong>And in your EmailConfig class</strong></p>\n\n<pre><code>package com.tlcreativeltd.karaoke.config.email;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\nimport javax.mail.Authenticator;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport java.util.Properties;\n\n@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class MailConfig {\n    @Value(\"${spring.mail.host}\")\n    private String host;\n\n    @Value(\"${spring.mail.port}\")\n    private int port;\n\n    @Value(\"${spring.mail.username}\")\n    private String userName;\n\n    @Value(\"${spring.mail.password}\")\n    private String passwd;\n\n    @Value(\"${mail.transport.protocol}\")\n    private String protocol;\n\n    @Value(\"${mail.from.email}\")\n    private String from;\n\n    @Bean\n    public JavaMailSender getJavaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(host);\n        mailSender.setPort(port);\n\n        mailSender.setUsername(userName);\n        mailSender.setPassword(passwd);\n\n        Properties props = mailSender.getJavaMailProperties();\n        props.put(\"mail.transport.protocol\", protocol);\n        props.put(\"mail.smtp.auth\", \"true\");\n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.from.email\", from);\n        props.put(\"mail.debug\", \"true\");\n\n        // creates a new session with an authenticator\n        Authenticator auth = new Authenticator() {\n            public PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(userName, passwd);\n            }\n        };\n\n        Session session = Session.getInstance(props, auth);\n        mailSender.setSession(session);\n\n        return mailSender;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20886172,"reputation":31,"user_id":15342721,"display_name":"&#214;zg&#252;rhan Polat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679578636,"creation_date":1679578636,"answer_id":75823731,"question_id":18585682,"body_markdown":"First, I tried to solve this problem by changing the &quot;less secure&quot; option to ON on Google Account Settings under Security, but now Google hasn&#39;t supported that option anymore. To fix this, get an &#39;app password&#39; by searching on the search bar on Google Account Settings. If you don&#39;t find the &#39;app password&#39;, enable &#39;2-Step Verification&#39; on your Google Account.","title":"Spring Mail Authentication Error","body":"<p>First, I tried to solve this problem by changing the &quot;less secure&quot; option to ON on Google Account Settings under Security, but now Google hasn't supported that option anymore. To fix this, get an 'app password' by searching on the search bar on Google Account Settings. If you don't find the 'app password', enable '2-Step Verification' on your Google Account.</p>\n"}],"owner":{"account_id":1074392,"reputation":1500,"user_id":1072848,"accept_rate":56,"display_name":"Neron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47989,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":30791972,"answer_count":9,"score":6,"last_activity_date":1679578636,"creation_date":1378190241,"question_id":18585682,"body_markdown":"I am using spring 3.1 in my project and in order to send email, I am using spring mail. When I am trying to send an email, I aıways get this error:\r\n\r\n    org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: No authentication mechansims supported by both server and client\r\n\r\nMy mail server does not require a username/ password and this error seems normal according to this fact. But the case is; I could not find a way to not to pass username/password in spring mail&#39;s org.springframework.mail.javamail.JavaMailSenderImpl class.\r\n\r\nMy config is :\r\n\r\n    &lt;jee:jndi-lookup id=&quot;mailSession&quot; jndi-name=&quot;${abc.app.mailSession}&quot; cache=&quot;true&quot;/&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jndiMailSender&quot; class=&quot;com.abc.service.mail.JndiJavaMailService&quot;&gt;\r\n    \t\t&lt;property name=&quot;session&quot; ref=&quot;mailSession&quot;/&gt;\r\n    \t\t&lt;property name=&quot;defaultEncoding&quot; value=&quot;${mail.defaultEncoding}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${abc.mail.username}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${abc.mail.password}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;mailMasterAdress&quot; value=&quot;${abc.mail.mailMasterAdress}&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nMailserver is in weblogic and it&#39;s configs are:\r\n\r\n&gt; mail.smtp.host=10.200.123.135 mail.transport.protocol=smtp\r\n\r\n\r\nAny ideas?\r\n","title":"Spring Mail Authentication Error","body":"<p>I am using spring 3.1 in my project and in order to send email, I am using spring mail. When I am trying to send an email, I aıways get this error:</p>\n\n<pre><code>org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: No authentication mechansims supported by both server and client\n</code></pre>\n\n<p>My mail server does not require a username/ password and this error seems normal according to this fact. But the case is; I could not find a way to not to pass username/password in spring mail's org.springframework.mail.javamail.JavaMailSenderImpl class.</p>\n\n<p>My config is :</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"mailSession\" jndi-name=\"${abc.app.mailSession}\" cache=\"true\"/&gt;\n\n    &lt;bean id=\"jndiMailSender\" class=\"com.abc.service.mail.JndiJavaMailService\"&gt;\n        &lt;property name=\"session\" ref=\"mailSession\"/&gt;\n        &lt;property name=\"defaultEncoding\" value=\"${mail.defaultEncoding}\"/&gt;\n        &lt;property name=\"username\" value=\"${abc.mail.username}\"/&gt;\n        &lt;property name=\"password\" value=\"${abc.mail.password}\"/&gt;\n        &lt;property name=\"mailMasterAdress\" value=\"${abc.mail.mailMasterAdress}\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Mailserver is in weblogic and it's configs are:</p>\n\n<blockquote>\n  <p>mail.smtp.host=10.200.123.135 mail.transport.protocol=smtp</p>\n</blockquote>\n\n<p>Any ideas?</p>\n"},{"tags":["java","apache-flink","flink-streaming","rocksdb","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622790541,"creation_date":1622789548,"answer_id":67832673,"question_id":67830641,"body_markdown":"In Flink 1.13 we reorganized the state backends because the old way had resulted in many misunderstandings about how things work. So these two concerns were decoupled:\r\n\r\n1. Where your working state is stored (the state backend). (In the case of RocksDB, it should be configured to use the fastest available local disk.)\r\n1. Where checkpoints are stored (the checkpoint storage). In most cases, this should be a distributed filesystem.\r\n\r\nWith the old API, the fact that two different filesystems are involved in the case of RocksDB was obscured by the way the checkpointing path was passed to the `RocksDBStateBackend` constructor. So that bit of configuration has been moved elsewhere (see below).\r\n\r\nThis table shows the relationships between the legacy state backends and the new ones (in combination with checkpoint storage):\r\n\r\n| Legacy State Backend         | New State Backend + Checkpoint Storage                      |\r\n| :---                         | :---                                                        |\r\n| `MemoryStateBackend`         | `HashMapStateBackend + JobManagerCheckpointStorage`         |\r\n| `FsStateBackend`             | `HashMapStateBackend + FileSystemCheckpointStorage`         |\r\n| `RocksDBStateBackend`        | `EmbeddedRocksDBStateBackend + FileSystemCheckpointStorage` |\r\n\r\nIn your case you want to use the `EmbeddedRocksDBStateBackend` with `FileSystemCheckpointStorage`. The problem you are currently having is that you are using in-memory checkpoint storage (`JobManagerCheckpointStorage`) with RocksDB, which severely limits how much state can be checkpointed.\r\n\r\nYou can fix this by either specifying a checkpoint directory in`flink-conf.yaml`\r\n\r\n```java\r\nstate.backend: rocksdb\r\nstate.checkpoints.dir: file:///checkpoint-dir/\r\n\r\n# Optional, Flink will automatically default to FileSystemCheckpointStorage\r\n# when a checkpoint directory is specified.\r\nstate.checkpoint-storage: filesystem\r\n\r\n```\r\n\r\nor in your code\r\n\r\n```java\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nenv.setStateBackend(new EmbeddedRocksDBStateBackend());\r\nenv.getCheckpointConfig().setCheckpointStorage(&quot;file:///checkpoint-dir&quot;);\r\n\r\n// If you manually passed FsStateBackend into the RocksDBStateBackend constructor\r\n// to specify advanced checkpointing configurations such as write buffer size,\r\n// you can achieve the same results by using manually instantiating a FileSystemCheckpointStorage object.\r\nenv.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(&quot;file:///checkpoint-dir&quot;));\r\n```\r\n\r\nSee the docs on [Migrating from Legacy Backends](https://ci.apache.org/projects/flink/flink-docs-stable/docs/ops/state/state_backends/#migrating-from-legacy-backends) for complete details.","title":"Configure RocksDB in flink 1.13","body":"<p>In Flink 1.13 we reorganized the state backends because the old way had resulted in many misunderstandings about how things work. So these two concerns were decoupled:</p>\n<ol>\n<li>Where your working state is stored (the state backend). (In the case of RocksDB, it should be configured to use the fastest available local disk.)</li>\n<li>Where checkpoints are stored (the checkpoint storage). In most cases, this should be a distributed filesystem.</li>\n</ol>\n<p>With the old API, the fact that two different filesystems are involved in the case of RocksDB was obscured by the way the checkpointing path was passed to the <code>RocksDBStateBackend</code> constructor. So that bit of configuration has been moved elsewhere (see below).</p>\n<p>This table shows the relationships between the legacy state backends and the new ones (in combination with checkpoint storage):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Legacy State Backend</th>\n<th style=\"text-align: left;\">New State Backend + Checkpoint Storage</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>MemoryStateBackend</code></td>\n<td style=\"text-align: left;\"><code>HashMapStateBackend + JobManagerCheckpointStorage</code></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>FsStateBackend</code></td>\n<td style=\"text-align: left;\"><code>HashMapStateBackend + FileSystemCheckpointStorage</code></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>RocksDBStateBackend</code></td>\n<td style=\"text-align: left;\"><code>EmbeddedRocksDBStateBackend + FileSystemCheckpointStorage</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In your case you want to use the <code>EmbeddedRocksDBStateBackend</code> with <code>FileSystemCheckpointStorage</code>. The problem you are currently having is that you are using in-memory checkpoint storage (<code>JobManagerCheckpointStorage</code>) with RocksDB, which severely limits how much state can be checkpointed.</p>\n<p>You can fix this by either specifying a checkpoint directory in<code>flink-conf.yaml</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>state.backend: rocksdb\nstate.checkpoints.dir: file:///checkpoint-dir/\n\n# Optional, Flink will automatically default to FileSystemCheckpointStorage\n# when a checkpoint directory is specified.\nstate.checkpoint-storage: filesystem\n\n</code></pre>\n<p>or in your code</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setStateBackend(new EmbeddedRocksDBStateBackend());\nenv.getCheckpointConfig().setCheckpointStorage(&quot;file:///checkpoint-dir&quot;);\n\n// If you manually passed FsStateBackend into the RocksDBStateBackend constructor\n// to specify advanced checkpointing configurations such as write buffer size,\n// you can achieve the same results by using manually instantiating a FileSystemCheckpointStorage object.\nenv.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(&quot;file:///checkpoint-dir&quot;));\n</code></pre>\n<p>See the docs on <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/docs/ops/state/state_backends/#migrating-from-legacy-backends\" rel=\"nofollow noreferrer\">Migrating from Legacy Backends</a> for complete details.</p>\n"},{"tags":[],"owner":{"account_id":23979946,"reputation":1,"user_id":17967547,"display_name":"Andr&#233; L S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679578496,"creation_date":1679578496,"answer_id":75823707,"question_id":67830641,"body_markdown":"It really saved me, was struggling to get it working w/out any luck so far but the following did the trick:\r\n\r\nadded on flink-conf.yaml as mentioned\r\n\r\n    state.backend: rocksdb\r\n    state.checkpoints.dir: file:///checkpoint-dir/ \r\n\r\nI really appreciate, thanks a lot. ","title":"Configure RocksDB in flink 1.13","body":"<p>It really saved me, was struggling to get it working w/out any luck so far but the following did the trick:</p>\n<p>added on flink-conf.yaml as mentioned</p>\n<pre><code>state.backend: rocksdb\nstate.checkpoints.dir: file:///checkpoint-dir/ \n</code></pre>\n<p>I really appreciate, thanks a lot.</p>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67832673,"answer_count":2,"score":0,"last_activity_date":1679578496,"creation_date":1622772691,"question_id":67830641,"body_markdown":"I have read about `EmbeddedRocksDBStateBackend` in Flink 1.13 version but has size limitations, so I want to keep the current configuration of my previous Flink version 1.11, but the point is that this way of configuring the RocksDB is deprecated (`new RocksDBStateBackend(&quot;path&quot;, true);`). \r\n\r\nI have tried with the new configuration using `EmbeddedRocksDBStateBackend (new EmbeddedRocksDBStateBackend(true))` and I have this error:\r\n```\r\njava.util.concurrent.ExecutionException: java.io.IOException: Size of the state is larger than the maximum permitted memory-backed state. Size=9126648 , maxSize=5242880 . Consider using a different state backend, like the File System State backend.\r\n```\r\n\r\nWhat is the best way of configuring the RocksDB state backend for flink 1.13 programmatically from Java? ","title":"Configure RocksDB in flink 1.13","body":"<p>I have read about <code>EmbeddedRocksDBStateBackend</code> in Flink 1.13 version but has size limitations, so I want to keep the current configuration of my previous Flink version 1.11, but the point is that this way of configuring the RocksDB is deprecated (<code>new RocksDBStateBackend(&quot;path&quot;, true);</code>).</p>\n<p>I have tried with the new configuration using <code>EmbeddedRocksDBStateBackend (new EmbeddedRocksDBStateBackend(true))</code> and I have this error:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.io.IOException: Size of the state is larger than the maximum permitted memory-backed state. Size=9126648 , maxSize=5242880 . Consider using a different state backend, like the File System State backend.\n</code></pre>\n<p>What is the best way of configuring the RocksDB state backend for flink 1.13 programmatically from Java?</p>\n"},{"tags":["java","android-studio","kotlin"],"comments":[{"owner":{"account_id":18309572,"reputation":51,"user_id":13332702,"display_name":"Jo&#233; Kei"},"score":0,"creation_date":1587057047,"post_id":61255977,"comment_id":108366317,"body_markdown":"i didnt start codig yet i got the problem when i first tried to build the app","body":"i didnt start codig yet i got the problem when i first tried to build the app"}],"answers":[{"tags":[],"owner":{"display_name":"user12637469"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1587057326,"creation_date":1587057326,"answer_id":61256097,"question_id":61255977,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q1ecK.png\r\n\r\n\r\nyou can choose from start java or kotlin ","title":"How to change language used in a project from Kotlin to Java","body":"<p><a href=\"https://i.stack.imgur.com/q1ecK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q1ecK.png\" alt=\"enter image description here\"></a></p>\n\n<p>you can choose from start java or kotlin </p>\n"}],"owner":{"account_id":18309572,"reputation":51,"user_id":13332702,"display_name":"Jo&#233; Kei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7432,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":61256097,"answer_count":1,"score":1,"last_activity_date":1679578435,"creation_date":1587056981,"question_id":61255977,"body_markdown":"How to change  language used in a project from Kotlin to Java in android studio \r\nand \r\nwhat if i change the .ktto .java in directory ","title":"How to change language used in a project from Kotlin to Java","body":"<p>How to change  language used in a project from Kotlin to Java in android studio \nand \nwhat if i change the .ktto .java in directory </p>\n"},{"tags":["java","rest","webservice-client","jersey-client"],"owner":{"account_id":445904,"reputation":41,"user_id":838634,"display_name":"user838634"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679578342,"creation_date":1515069633,"question_id":48095553,"body_markdown":"I am calling some rest API using `JersyClientBuilder.withConfig(config).build()` and \r\n`javax.ws.rs.client.Client`. Noramlly when running for one or two users everything is working fine but when running loadTest for users more then 50 intermittently I am seeing error as `javax.ws.rs.ProcessingException`: Already connected\r\n\r\nadding complete stack trace :\r\n\r\n    javax.ws.rs.ProcessingException: Already connected\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.put(JerseyInvocation.java:326)\r\n\tat selfservice.util.ToolkitUtil.selectSelfServiceProfile(ToolkitUtil.java:681)\r\n\tat selfservice.util.ToolkitUtil.prepareSPGResponseWithLoginInfo(ToolkitUtil.java:365)\r\n\tat selfservice.util.ToolkitUtil.loginAgent(ToolkitUtil.java:427)\r\n\tat selfservice.util.ToolkitUtil.performAgentLoginUsingContextId(ToolkitUtil.java:1450)\r\n\tat selfservice.util.ToolkitUtil.performAgentLogin(ToolkitUtil.java:1250)\r\n\tat selfservice.ToolkitLoginResource.wsAuthenticate(ToolkitLoginResource.java:91)\r\n\tat sun.reflect.GeneratedMethodAccessor192.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n\tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n\tat com.egain.platform.client.ResponseCacheFilter.doFilter(ResponseCacheFilter.java:132)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat com.egain.platform.client.CookieSecurityFilter.doFilter(CookieSecurityFilter.java:92)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat com.egain.platform.client.EncodingFilter.doFilter(EncodingFilter.java:65)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:63)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\r\n\tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:247)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:166)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:197)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:759)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n`Caused by: java.lang.IllegalStateException: Already connected\r\n\tat sun.net.www.protocol.http.HttpURLConnection.setRequestProperty(HttpURLConnection.java:3053)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestProperty(HttpsURLConnectionImpl.java:316)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.setOutboundHeaders(HttpUrlConnector.java:416)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.access$100(HttpUrlConnector.java:95)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector$4.getOutputStream(HttpUrlConnector.java:379)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:200)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:194)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commit(CommittingOutputStream.java:262)\r\n\tat org.glassfish.jersey.message.internal.OutboundMessageContext.commitStream(OutboundMessageContext.java:816)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:545)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:383)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:284)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\r\n\t... 76 more`\r\n\r\nThis exception is coming irrespective of protocol I use i.e. `http` or `https` doesn&#39;t matter.\r\n\r\nAny body seen this error and resolved please help\r\nThanks in advance.","title":"Getting “javax.ws.rs.ProcessingException: Already connected” intermittently during load test","body":"<p>I am calling some rest API using <code>JersyClientBuilder.withConfig(config).build()</code> and \n<code>javax.ws.rs.client.Client</code>. Noramlly when running for one or two users everything is working fine but when running loadTest for users more then 50 intermittently I am seeing error as <code>javax.ws.rs.ProcessingException</code>: Already connected</p>\n\n<p>adding complete stack trace :</p>\n\n<pre><code>javax.ws.rs.ProcessingException: Already connected\nat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\nat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.put(JerseyInvocation.java:326)\nat selfservice.util.ToolkitUtil.selectSelfServiceProfile(ToolkitUtil.java:681)\nat selfservice.util.ToolkitUtil.prepareSPGResponseWithLoginInfo(ToolkitUtil.java:365)\nat selfservice.util.ToolkitUtil.loginAgent(ToolkitUtil.java:427)\nat selfservice.util.ToolkitUtil.performAgentLoginUsingContextId(ToolkitUtil.java:1450)\nat selfservice.util.ToolkitUtil.performAgentLogin(ToolkitUtil.java:1250)\nat selfservice.ToolkitLoginResource.wsAuthenticate(ToolkitLoginResource.java:91)\nat sun.reflect.GeneratedMethodAccessor192.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\nat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\nat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\nat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\nat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\nat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\nat com.egain.platform.client.ResponseCacheFilter.doFilter(ResponseCacheFilter.java:132)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat com.egain.platform.client.CookieSecurityFilter.doFilter(CookieSecurityFilter.java:92)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat com.egain.platform.client.EncodingFilter.doFilter(EncodingFilter.java:65)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:63)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\nat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:247)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:166)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:197)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:759)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p><code>Caused by: java.lang.IllegalStateException: Already connected\n    at sun.net.www.protocol.http.HttpURLConnection.setRequestProperty(HttpURLConnection.java:3053)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestProperty(HttpsURLConnectionImpl.java:316)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.setOutboundHeaders(HttpUrlConnector.java:416)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.access$100(HttpUrlConnector.java:95)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector$4.getOutputStream(HttpUrlConnector.java:379)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:200)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:194)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commit(CommittingOutputStream.java:262)\n    at org.glassfish.jersey.message.internal.OutboundMessageContext.commitStream(OutboundMessageContext.java:816)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:545)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:383)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:284)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\n    ... 76 more</code></p>\n\n<p>This exception is coming irrespective of protocol I use i.e. <code>http</code> or <code>https</code> doesn't matter.</p>\n\n<p>Any body seen this error and resolved please help\nThanks in advance.</p>\n"},{"tags":["java","xml","jaxb","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":13438375,"reputation":1,"user_id":9696191,"display_name":"Ph&#250; Phan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679577946,"creation_date":1679577946,"answer_id":75823600,"question_id":74546662,"body_markdown":"I dont think you should create JAXElement from scratch with  `new JAXBElement(elementName , clazz, value)`\r\n\r\nIn ObjectFactory, we can create JAXElement directly via method starting with `createSomething()` - and the newly-created JAXElement will have QName for itself. So my approach is:\r\n\r\n 1. Get the name of class for the value object that should be converted -&gt; by ClassUtils in spring core or something like that\r\n 2. Add `create` before the name we already get in step1\r\n 3. Initialize an instance of ObjectFactory and invoke method `createSomething(value)` with Reflection lib (of course dont forget catch exception in case there is no supported method in ObjectFactory!)\r\n\r\nHope it help and if possible, please give me a look of your schema files (xsd or wsdl, etc) or your classes which are generated from schema files, so that I can elaborate on those for detailed lines of code. ","title":"JAXB how to get QName based on java object","body":"<p>I dont think you should create JAXElement from scratch with  <code>new JAXBElement(elementName , clazz, value)</code></p>\n<p>In ObjectFactory, we can create JAXElement directly via method starting with <code>createSomething()</code> - and the newly-created JAXElement will have QName for itself. So my approach is:</p>\n<ol>\n<li>Get the name of class for the value object that should be converted -&gt; by ClassUtils in spring core or something like that</li>\n<li>Add <code>create</code> before the name we already get in step1</li>\n<li>Initialize an instance of ObjectFactory and invoke method <code>createSomething(value)</code> with Reflection lib (of course dont forget catch exception in case there is no supported method in ObjectFactory!)</li>\n</ol>\n<p>Hope it help and if possible, please give me a look of your schema files (xsd or wsdl, etc) or your classes which are generated from schema files, so that I can elaborate on those for detailed lines of code.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679577946,"creation_date":1669205799,"question_id":74546662,"body_markdown":"We are using maven plugin to generate a large number of Java pojos and ObjectFactory, similar to:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;ProtectedABC&quot;, propOrder = {\r\n        &quot;aBC&quot;\r\n    })\r\n    public class ABC {\r\n    \r\n        @XmlElement(required = true)\r\n        protected String aBC;\r\n    \r\n       \r\n        public String getABC() {\r\n            return aBC;\r\n        }\r\n    \r\n        \r\n        public void setABC(String value) {\r\n            this.aBC= value;\r\n        }\r\n    \r\n    }\r\n\r\nand\r\n\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName ABC = new QName(&quot;http://www&quot;, &quot;request1&quot;);\r\n        private final static QName DEF = new QName(&quot;http://www&quot;, &quot;response1&quot;);\r\n        private final static QName XYZ = new QName(&quot;http://www&quot;, &quot;result1&quot;);\r\n        /*\r\n         * A LOT OF QNAMES HERE\r\n         */\r\n        private final static QName END = new QName(&quot;http://www&quot;, &quot;end&quot;);\r\n      \r\n        //OTHER GENERATED METHODS\r\n    }\r\n\r\nI have a method that take a java object (value) and I need to convert it to JaxbElement\r\n\r\n      public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType valueType, @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\r\n        boolean release = true;\r\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n        try {\r\n          OutputStream outputStream = buffer.asOutputStream();\r\n          Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\r\n          \r\n          JAXBContext jaxbContext = JaxbUtils.createJaxbContext();\r\n          Marshaller marshaller = initMarshaller(jaxbContext);\r\n          JAXBIntrospector jaxbIntrospector = jaxbContext.createJAXBIntrospector();\r\n\r\n          //HERE I TRY TO GET QNAME BASED ON POJO:\r\n          //BASED ON THIS POST: https://stackoverflow.com/questions/5035716/obtain-java-class-name-from-qname\r\n          QName elementName = jaxbIntrospector.getElementName(value);\r\n\r\n          JAXBElement&lt;Object&gt; jaxbElement = new JAXBElement(elementName , clazz, value);\r\n          marshaller.marshal(jaxbElement, outputStream);\r\n          release = false;\r\n          return buffer;\r\n        } catch (Exception ex) {\r\n          throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        }\r\n      }\r\n\r\nThe problem is `QName elementName = jaxbIntrospector.getElementName(value);` return null so I cannot create JAXBElement. I don&#39;t want to check type/class of `value` like `if(value instance of ABC) {}` since I have a huge number of pojos. Please tell me is it possible to get/obtain QName based on a java object (do not know exactly its type)?\r\n\r\nNOTE: I have found a method `((JAXBContextImpl) jaxbContext).getTypeName(TypeReference)` that take a TypeReference and return QName, but I do&#39;nt know how to construct TypeReference, too.\r\n\r\nPLEASE HELP","title":"JAXB how to get QName based on java object","body":"<p>We are using maven plugin to generate a large number of Java pojos and ObjectFactory, similar to:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;ProtectedABC&quot;, propOrder = {\n    &quot;aBC&quot;\n})\npublic class ABC {\n\n    @XmlElement(required = true)\n    protected String aBC;\n\n   \n    public String getABC() {\n        return aBC;\n    }\n\n    \n    public void setABC(String value) {\n        this.aBC= value;\n    }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName ABC = new QName(&quot;http://www&quot;, &quot;request1&quot;);\n    private final static QName DEF = new QName(&quot;http://www&quot;, &quot;response1&quot;);\n    private final static QName XYZ = new QName(&quot;http://www&quot;, &quot;result1&quot;);\n    /*\n     * A LOT OF QNAMES HERE\n     */\n    private final static QName END = new QName(&quot;http://www&quot;, &quot;end&quot;);\n  \n    //OTHER GENERATED METHODS\n}\n</code></pre>\n<p>I have a method that take a java object (value) and I need to convert it to JaxbElement</p>\n<pre><code>  public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType valueType, @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\n    boolean release = true;\n    DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n    try {\n      OutputStream outputStream = buffer.asOutputStream();\n      Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\n      \n      JAXBContext jaxbContext = JaxbUtils.createJaxbContext();\n      Marshaller marshaller = initMarshaller(jaxbContext);\n      JAXBIntrospector jaxbIntrospector = jaxbContext.createJAXBIntrospector();\n\n      //HERE I TRY TO GET QNAME BASED ON POJO:\n      //BASED ON THIS POST: https://stackoverflow.com/questions/5035716/obtain-java-class-name-from-qname\n      QName elementName = jaxbIntrospector.getElementName(value);\n\n      JAXBElement&lt;Object&gt; jaxbElement = new JAXBElement(elementName , clazz, value);\n      marshaller.marshal(jaxbElement, outputStream);\n      release = false;\n      return buffer;\n    } catch (Exception ex) {\n      throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    }\n  }\n</code></pre>\n<p>The problem is <code>QName elementName = jaxbIntrospector.getElementName(value);</code> return null so I cannot create JAXBElement. I don't want to check type/class of <code>value</code> like <code>if(value instance of ABC) {}</code> since I have a huge number of pojos. Please tell me is it possible to get/obtain QName based on a java object (do not know exactly its type)?</p>\n<p>NOTE: I have found a method <code>((JAXBContextImpl) jaxbContext).getTypeName(TypeReference)</code> that take a TypeReference and return QName, but I do'nt know how to construct TypeReference, too.</p>\n<p>PLEASE HELP</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1462878127,"post_id":37136574,"comment_id":61811900,"body_markdown":"Your error message refers to `AppCompatButton`. You are not using `AppCompatActivity`.","body":"Your error message refers to <code>AppCompatButton</code>. You are not using <code>AppCompatActivity</code>."},{"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"score":0,"creation_date":1462878375,"post_id":37136574,"comment_id":61812090,"body_markdown":"I tried something before posting, apologies. I&#180;ve edited the code above to reflect my current code. With both options it doesn&#180;t work btw.","body":"I tried something before posting, apologies. I&#180;ve edited the code above to reflect my current code. With both options it doesn&#180;t work btw."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1463047236,"post_id":37136574,"comment_id":61900178,"body_markdown":"Your error still says AppCompatButton, but your question doesn&#39;t include one","body":"Your error still says AppCompatButton, but your question doesn&#39;t include one"},{"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"score":1,"creation_date":1463047705,"post_id":37136574,"comment_id":61900507,"body_markdown":"Yes cricket_007, that is correct and part of the reason why I am baffled...","body":"Yes cricket_007, that is correct and part of the reason why I am baffled..."}],"answers":[{"tags":[],"owner":{"account_id":2614225,"reputation":14727,"user_id":2263683,"accept_rate":76,"display_name":"Ghasem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493447383,"creation_date":1493447383,"answer_id":43692540,"question_id":37136574,"body_markdown":"I had the same problem and in my case, I changed `Button` in XML to `android.support.v7.widget.AppCompatButton` and it worked.\r\n\r\nCode with Error:\r\n\r\n     &lt;Button\r\n            .... /&gt;\r\n\r\nFixed Code:\r\n\r\n     &lt;android.support.v7.widget.AppCompatButton\r\n            .... /&gt;\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I had the same problem and in my case, I changed <code>Button</code> in XML to <code>android.support.v7.widget.AppCompatButton</code> and it worked.</p>\n\n<p>Code with Error:</p>\n\n<pre><code> &lt;Button\n        .... /&gt;\n</code></pre>\n\n<p>Fixed Code:</p>\n\n<pre><code> &lt;android.support.v7.widget.AppCompatButton\n        .... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4526743,"reputation":2527,"user_id":3678308,"accept_rate":100,"display_name":"Muhammad Waleed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493448011,"creation_date":1493448011,"answer_id":43692611,"question_id":37136574,"body_markdown":"You need to change `android.support.v7.widget.AppCompatButton`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.AppCompatButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Random Game&quot;\r\n            android:id=&quot;@+id/button_random&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:onClick=&quot;onClick&quot; /&gt;\r\n    &lt;/LinearLayout&gt;","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>You need to change <code>android.support.v7.widget.AppCompatButton</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.AppCompatButton\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Random Game\"\n        android:id=\"@+id/button_random\"\n        android:layout_gravity=\"center_horizontal\"\n        android:onClick=\"onClick\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943661,"reputation":322,"user_id":4792194,"display_name":"kgundula"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532406071,"creation_date":1532346246,"answer_id":51477996,"question_id":37136574,"body_markdown":"Please rename `onClick` method to anything other than that, Android thinks you are calling the internal `onClick` from `View.java` exposed via `OnClickListener` interface   \r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Random Game&quot;\r\n        android:id=&quot;@+id/button_random&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:onClick=&quot;myOnClick&quot; /&gt;\r\n\r\nand in your Activity\r\n\r\n    public class StartActivity extends AppCompatActivity {\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               super.onCreate(savedInstanceState);\r\n               setContentView(R.layout.activity_start);\r\n            }\r\n    \r\n            public void myOnClick(View v) {\r\n              Log.d(&quot;DEBUG&quot;, &quot;CLICKED &quot; + v.getId());\r\n            }\r\n    }\r\n\r\nYou can check the View documentation [here](https://developer.android.com/reference/android/view/View.OnClickListener) \r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>Please rename <code>onClick</code> method to anything other than that, Android thinks you are calling the internal <code>onClick</code> from <code>View.java</code> exposed via <code>OnClickListener</code> interface   </p>\n\n<pre><code>&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Random Game\"\n    android:id=\"@+id/button_random\"\n    android:layout_gravity=\"center_horizontal\"\n    android:onClick=\"myOnClick\" /&gt;\n</code></pre>\n\n<p>and in your Activity</p>\n\n<pre><code>public class StartActivity extends AppCompatActivity {\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n           super.onCreate(savedInstanceState);\n           setContentView(R.layout.activity_start);\n        }\n\n        public void myOnClick(View v) {\n          Log.d(\"DEBUG\", \"CLICKED \" + v.getId());\n        }\n}\n</code></pre>\n\n<p>You can check the View documentation <a href=\"https://developer.android.com/reference/android/view/View.OnClickListener\" rel=\"noreferrer\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":8615047,"reputation":949,"user_id":6452240,"accept_rate":60,"display_name":"Mohammed Riyadh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588340089,"creation_date":1588340089,"answer_id":61543513,"question_id":37136574,"body_markdown":"I had the same issue, in my case I have 2 activities using the same layout so when I changed the `OnClick` event name it will crash in other activity try to check the `setContentView` layout in the crashing activity","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I had the same issue, in my case I have 2 activities using the same layout so when I changed the <code>OnClick</code> event name it will crash in other activity try to check the <code>setContentView</code> layout in the crashing activity</p>\n"},{"tags":[],"owner":{"account_id":14028680,"reputation":479,"user_id":10133112,"display_name":"Sriraksha"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1679577531,"creation_date":1602485651,"answer_id":64312991,"question_id":37136574,"body_markdown":"In my case I missed closing bracket at the end.\r\n\r\n```\r\nandroid:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)&quot;\r\n```\r\n\r\nIt should be like this.\r\n\r\n```\r\nandroid:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)}&quot;\r\n```\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>In my case I missed closing bracket at the end.</p>\n<pre><code>android:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)&quot;\n</code></pre>\n<p>It should be like this.</p>\n<pre><code>android:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)}&quot;\n</code></pre>\n"}],"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26955,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":43692540,"answer_count":5,"score":10,"last_activity_date":1679577531,"creation_date":1462877991,"question_id":37136574,"body_markdown":"I have seen that there&#39;s been some similar questions but the answers to those haven&#39;t helped me so far. The full error:\r\n\r\n&gt; java.lang.IllegalStateException: Could not find method onClick(View)\r\n&gt; in a parent  or ancestor Context for android:onClick attribute defined\r\n&gt; on view class android.support.v7.widget.AppCompatButton with id\r\n&gt; &#39;button_random&#39;\r\n\r\nThe class (**StartActivity.java**):\r\n\r\n    public class StartActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_start);\r\n        }\r\n    \r\n        public void onClick(View v) {\r\n            Log.d(&quot;DEBUG&quot;, &quot;CLICKED &quot; + v.getId());\r\n        }\r\n    \r\n    }\r\n\r\nThe XML (**activity_start.xml**):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Random Game&quot;\r\n            android:id=&quot;@+id/button_random&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:onClick=&quot;onClick&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nI have added the activity to the AndroidManifest.xml. I have similar activities that work in the same way and I don&#39;t have any problems with those...\r\n\r\nDoes anyone see something where I am missing something or have made a mistake?\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I have seen that there's been some similar questions but the answers to those haven't helped me so far. The full error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Could not find method onClick(View)\n  in a parent  or ancestor Context for android:onClick attribute defined\n  on view class android.support.v7.widget.AppCompatButton with id\n  'button_random'</p>\n</blockquote>\n\n<p>The class (<strong>StartActivity.java</strong>):</p>\n\n<pre><code>public class StartActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_start);\n    }\n\n    public void onClick(View v) {\n        Log.d(\"DEBUG\", \"CLICKED \" + v.getId());\n    }\n\n}\n</code></pre>\n\n<p>The XML (<strong>activity_start.xml</strong>):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Random Game\"\n        android:id=\"@+id/button_random\"\n        android:layout_gravity=\"center_horizontal\"\n        android:onClick=\"onClick\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I have added the activity to the AndroidManifest.xml. I have similar activities that work in the same way and I don't have any problems with those...</p>\n\n<p>Does anyone see something where I am missing something or have made a mistake?</p>\n"},{"tags":["java","android","qr-code"],"answers":[{"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679577530,"creation_date":1679477854,"answer_id":75810515,"question_id":75808093,"body_markdown":"In the line\r\n\r\n`BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);`\r\n\r\nby calling `String.valueOf(minNp)` you create a `String` that describes the instance of `NumberPicker`. Basically this is just another way of calling the `toString()` method of `minNp`. \r\n\r\nYou need to call `minNp.getValue()` which will return the value as an `int`. This value should be the index in the `minutesArray`.\r\n\r\nThe code would look like this:\r\n\r\n`BitMatrix bitMatrix = multiFormatWriter.encode(minutesArray[minNp.getValue()], BarcodeFormat.QR_CODE,400,400);`","title":"QR Code Generator with number picker and date picker in android","body":"<p>In the line</p>\n<p><code>BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);</code></p>\n<p>by calling <code>String.valueOf(minNp)</code> you create a <code>String</code> that describes the instance of <code>NumberPicker</code>. Basically this is just another way of calling the <code>toString()</code> method of <code>minNp</code>.</p>\n<p>You need to call <code>minNp.getValue()</code> which will return the value as an <code>int</code>. This value should be the index in the <code>minutesArray</code>.</p>\n<p>The code would look like this:</p>\n<p><code>BitMatrix bitMatrix = multiFormatWriter.encode(minutesArray[minNp.getValue()], BarcodeFormat.QR_CODE,400,400);</code></p>\n"}],"owner":{"account_id":27252115,"reputation":7,"user_id":21452351,"display_name":"Reborn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810515,"answer_count":1,"score":0,"last_activity_date":1679577530,"creation_date":1679453865,"question_id":75808093,"body_markdown":"I am new to android studio, I am doing a qr code project which i have used date picker and number picker and i have tried to write code and it came out with different result which not i expected.\r\nI have seen most of the qr code generator tutorial or example, it used zxing library and edittext for the qr code generator, so I have tried with myself coding it with date picker and nubmer picker.\r\nHow Can I make it the result which i expected? result like this: 1234567&lt;-id 1019&lt;-time 15&lt;-minutes\r\n\r\nMyCode java class:\r\n\r\n```\r\npublic class Visitor extends Activity {\r\n\r\n    DatePicker timeDp;\r\n    NumberPicker minNp;\r\n    private String[] minutesArray;\r\n    Button createBtn;\r\n    ImageView qrcodeIv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.qrcode);\r\n        minNp = findViewById(R.id.npMin);\r\n        minNp.setMaxValue(5);\r\n        minNp.setMinValue(0);\r\n        minutesArray = new String[] {&quot;15&quot;,&quot;30&quot;,&quot;45&quot;,&quot;60&quot;,&quot;75&quot;,&quot;90&quot;};\r\n        minNp.setDisplayedValues(minutesArray);\r\n        qrcodeIv = findViewById(R.id.ivQrcode);\r\n        createBtn = findViewById(R.id.btnCreate);\r\n\r\n        Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\r\n        int value = minNp.getValue();\r\n        parameters.put(&quot;mins&quot;, Integer.toString(value));\r\n\r\n        createBtn.setOnClickListener(view -&gt; {\r\n            MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\r\n            try {\r\n                BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);\r\n                BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\r\n                Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\r\n                qrcodeIv.setImageBitmap(bitmap);\r\n                InputMethodManager manager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                manager.hideSoftInputFromWindow(minNp.getApplicationWindowToken(), 0);\r\n            } catch (WriterException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nqr code design page:\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/txtTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Please Select Time&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n    &lt;TimePicker\r\n        android:id=&quot;@+id/tp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:timePickerMode=&quot;spinner&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtMin&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Please Select Minutes&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n    &lt;NumberPicker\r\n        android:id=&quot;@+id/npMin&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnCreate&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Create&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivQrcode&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\r\n```\r\n\r\nI had my qr code result show like this: **android.widget.NumberPicker{ba98302 VFED..... ........ 452,914-628,1409 #7f08013f app:id/npMin}**.\r\n\r\nI had import everything which I needed in android studio, but the result didn&#39;t show what I want.\r\n\r\nMy expected result should be like this:  1234567 1019 15\r\n                                            ^     ^    ^\r\n                                            id  time  minutes","title":"QR Code Generator with number picker and date picker in android","body":"<p>I am new to android studio, I am doing a qr code project which i have used date picker and number picker and i have tried to write code and it came out with different result which not i expected.\nI have seen most of the qr code generator tutorial or example, it used zxing library and edittext for the qr code generator, so I have tried with myself coding it with date picker and nubmer picker.\nHow Can I make it the result which i expected? result like this: 1234567&lt;-id 1019&lt;-time 15&lt;-minutes</p>\n<p>MyCode java class:</p>\n<pre><code>public class Visitor extends Activity {\n\n    DatePicker timeDp;\n    NumberPicker minNp;\n    private String[] minutesArray;\n    Button createBtn;\n    ImageView qrcodeIv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.qrcode);\n        minNp = findViewById(R.id.npMin);\n        minNp.setMaxValue(5);\n        minNp.setMinValue(0);\n        minutesArray = new String[] {&quot;15&quot;,&quot;30&quot;,&quot;45&quot;,&quot;60&quot;,&quot;75&quot;,&quot;90&quot;};\n        minNp.setDisplayedValues(minutesArray);\n        qrcodeIv = findViewById(R.id.ivQrcode);\n        createBtn = findViewById(R.id.btnCreate);\n\n        Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\n        int value = minNp.getValue();\n        parameters.put(&quot;mins&quot;, Integer.toString(value));\n\n        createBtn.setOnClickListener(view -&gt; {\n            MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\n            try {\n                BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);\n                BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\n                Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\n                qrcodeIv.setImageBitmap(bitmap);\n                InputMethodManager manager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                manager.hideSoftInputFromWindow(minNp.getApplicationWindowToken(), 0);\n            } catch (WriterException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<p>qr code design page:</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/txtTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Please Select Time&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;TimePicker\n        android:id=&quot;@+id/tp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:timePickerMode=&quot;spinner&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtMin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Please Select Minutes&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;NumberPicker\n        android:id=&quot;@+id/npMin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnCreate&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Create&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivQrcode&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\n</code></pre>\n<p>I had my qr code result show like this: <strong>android.widget.NumberPicker{ba98302 VFED..... ........ 452,914-628,1409 #7f08013f app:id/npMin}</strong>.</p>\n<p>I had import everything which I needed in android studio, but the result didn't show what I want.</p>\n<p>My expected result should be like this:  1234567 1019 15\n^     ^    ^\nid  time  minutes</p>\n"},{"tags":["java","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550155455,"creation_date":1550155455,"answer_id":54693033,"question_id":54691115,"body_markdown":"You can&#39;t do that; the bean definition is only read once, during startup.\r\n\r\nUse a `DelegatingSessionFactory` with custom `SessionFactoryLocator` and add some logic the `onSuccess` flow to create the new factory if it doesn&#39;t already exist and set up the thread to invoke the factory based on the `Branch` (call `setThreadKey()`).","title":"Success Channel in Spring integration to be dynamic","body":"<p>You can't do that; the bean definition is only read once, during startup.</p>\n\n<p>Use a <code>DelegatingSessionFactory</code> with custom <code>SessionFactoryLocator</code> and add some logic the <code>onSuccess</code> flow to create the new factory if it doesn't already exist and set up the thread to invoke the factory based on the <code>Branch</code> (call <code>setThreadKey()</code>).</p>\n"}],"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679577420,"creation_date":1550149486,"question_id":54691115,"body_markdown":"I&#39;m sending a new payload header to a success channel using an advice and in the success channel I&#39;m sending the file_originalFile to FTP server using `outboundAdapter`, the issue is that success channel is only accepting static `outboundAdapter` and it is working fine,it receives the payload and send it to FTP server, I want to have the success channel outboundAdapter accepts different FTP connections at runtime, so if I add connection to FTP server 1 and the payload hits the success channel it sends it to FTP server 1 and then I add FTP server 2 then the new payload will be sent to FTP server 2 from the success channel, I tried to remove `@Bean` on the success and pass the FTP session factory in the parameter at run time same as what I&#39;m doing with the first flow in the code but it is recognizing it as success channel for the advice and if I add the `@Bean` with the parameter of the Branch the application will not run.\r\n\r\nHere is the code I have in place where I have the success channel taking `createNewFtpSessionFactory()` as predefined connection, I want to have it take `createNewFtpSessionFactory(Branch branch)` where the branch is FTP server that I will be adding at run time and continue to be a success channel for the advice.\r\n\r\n    /*\r\n    * Creating the outbound adaptor to send files from local to FTP server\r\n    *\r\n    * */\r\n    \r\n    \r\n    public IntegrationFlow localToFtpFlow(Branch myBranch) {\r\n    \r\n        return IntegrationFlows.from(Files.inboundAdapter(new File(myBranch.getBranchCode()))\r\n                        .filter(new ChainFileListFilter&lt;File&gt;()\r\n                                .addFilter(new RegexPatternFileListFilter(&quot;final&quot; + myBranch.getBranchCode() + &quot;.csv&quot;))\r\n                                .addFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(dataSource), &quot;foo&quot;))),//FileSystemPersistentAcceptOnceFileListFilter\r\n                e -&gt; e.poller(Pollers.fixedDelay(10_000)))\r\n                .enrichHeaders(h -&gt;h.headerExpression(&quot;file_originalFile&quot;, &quot;new java.io.File(&#39;BEY/FEFOexport&quot; + myBranch.getBranchCode() + &quot;.csv&#39;)&quot;,true))\r\n                .transform(p -&gt; {\r\n                    LOG1.info(&quot;Sending file &quot; + p + &quot; to FTP branch &quot; + myBranch.getBranchCode());\r\n    \r\n                    return p;\r\n                })\r\n    \r\n                .log()\r\n                .handle(Ftp.outboundAdapter(createNewFtpSessionFactory(myBranch), FileExistsMode.REPLACE)\r\n                        .useTemporaryFileName(true)\r\n                        .autoCreateDirectory(false)\r\n                        .remoteDirectory(myBranch.getFolderPath()), e -&gt; e.advice(expressionAdvice()))\r\n    \r\n                .get();\r\n    }\r\n    \r\n    /*\r\n    * Creating the advice for routing the payload of the outbound message on different expressions (success, failure)\r\n    *\r\n    * */\r\n    \r\n    @Bean\r\n    public Advice expressionAdvice() {\r\n        ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\r\n        advice.setSuccessChannelName(&quot;success.input&quot;);\r\n        advice.setOnSuccessExpressionString(&quot;payload.delete() + &#39; was successful&#39;&quot;);\r\n        //advice.setFailureChannelName(&quot;failure.input&quot;);\r\n        advice.setOnFailureExpressionString(&quot;payload + &#39; was bad, with reason: &#39; + #exception.cause.message&quot;);\r\n        advice.setTrapException(true);\r\n        return advice;\r\n    }\r\n    \r\n    /*\r\n    * Creating FTP connection based on the branch ftp data entered.\r\n    * */\r\n    \r\n    public DefaultFtpSessionFactory createNewFtpSessionFactory(Branch branch) {\r\n        final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\r\n        factory.setHost(branch.getHost());\r\n        factory.setUsername(branch.getUsern());\r\n        factory.setPort(branch.getFtpPort());\r\n        factory.setPassword(branch.getPassword());\r\n        return factory;\r\n    }\r\n    \r\n    public DefaultFtpSessionFactory createNewFtpSessionFactory() {\r\n        final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\r\n        factory.setHost(&quot;xxxx&quot;);\r\n        factory.setUsername(&quot;xx&quot;);\r\n        factory.setPort(xx);\r\n        factory.setPassword(&quot;xxxx&quot;);\r\n        return factory;\r\n    }\r\n    \r\n    /*\r\n    * Creating a metadata store to be used across the application flows to prevent reprocessing the file if it is already processed.\r\n    * This will save the new file in a metadata table in the DB with the state of the report, so when a new copy comes with different date it will be processed only.\r\n    * */\r\n    @Bean\r\n    public ConcurrentMetadataStore metadataStore(final DataSource dataSource) {\r\n        return new JdbcMetadataStore(dataSource);\r\n    }\r\n    \r\n    /*\r\n    * Success channel that will handle the AdviceMessage from the outbound adapter\r\n    *\r\n    * */\r\n    \r\n       @Bean\r\n    public IntegrationFlow success(){\r\n        return f -&gt; f.transform(&quot;inputMessage.headers[&#39;file_originalFile&#39;]&quot;)\r\n                 //    .handle(Message.class,(m,h)-&gt; this.delegatingSessionFactory().setThreadKey(m, h.get(String.valueOf(&quot;inputMessage.headers[&#39;file_originalFile&#39;]&quot;,1,3)))\r\n                .handle(Message.class,(m,h)-&gt; delegatingSessionFactory().setThreadKey(m,&quot;CAI&quot;))\r\n                .handle(Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)\r\n                        .useTemporaryFileName(true)\r\n                        .autoCreateDirectory(true)\r\n                        .remoteDirectory(&quot;/ftp/erbranch/EDMS/FEFO/History/&quot;).get());\r\n    }\r\n\r\n    @Bean\r\n    public DelegatingSessionFactory delegatingSessionFactory(){\r\n\r\n        SessionFactoryLocator&lt;FTPFile&gt; sff = sessionFactoryLocator();\r\n        return new DelegatingSessionFactory&lt;&gt;(sff);\r\n\r\n    }\r\n\r\n    @Bean\r\n    public SessionFactoryLocator&lt;FTPFile&gt; sessionFactoryLocator() {\r\n\r\n        final List&lt;Branch&gt; branchConnections = new ArrayList&lt;&gt;();\r\n        branchRepository.findAll().forEach(branchConnections::add);\r\n        final Map&lt;Object, SessionFactory&lt;FTPFile&gt;&gt; factories = new LinkedHashMap&lt;&gt;();\r\n\r\n        /*if(branchConnections.isEmpty()){\r\n            //return null;\r\n            factories.put(&quot;BEY&quot;,createNewFtpSessionFactory());\r\n        }*/\r\n\r\n        for (Branch br : branchConnections) {\r\n            // create a factory for every key containing server type, url and port\r\n            if (factories.get(br.getId()) == null) {\r\n                factories.put(br.getBranchCode(), createNewFtpSessionFactory(br));\r\n            }\r\n        }\r\n          return new DefaultSessionFactoryLocator&lt;FTPFile&gt;(factories,createNewFtpSessionFactory());//,defaultFtpSessionFactory);\r\n    }\r\n    }","title":"Success Channel in Spring integration to be dynamic","body":"<p>I'm sending a new payload header to a success channel using an advice and in the success channel I'm sending the file_originalFile to FTP server using <code>outboundAdapter</code>, the issue is that success channel is only accepting static <code>outboundAdapter</code> and it is working fine,it receives the payload and send it to FTP server, I want to have the success channel outboundAdapter accepts different FTP connections at runtime, so if I add connection to FTP server 1 and the payload hits the success channel it sends it to FTP server 1 and then I add FTP server 2 then the new payload will be sent to FTP server 2 from the success channel, I tried to remove <code>@Bean</code> on the success and pass the FTP session factory in the parameter at run time same as what I'm doing with the first flow in the code but it is recognizing it as success channel for the advice and if I add the <code>@Bean</code> with the parameter of the Branch the application will not run.</p>\n<p>Here is the code I have in place where I have the success channel taking <code>createNewFtpSessionFactory()</code> as predefined connection, I want to have it take <code>createNewFtpSessionFactory(Branch branch)</code> where the branch is FTP server that I will be adding at run time and continue to be a success channel for the advice.</p>\n<pre><code>/*\n* Creating the outbound adaptor to send files from local to FTP server\n*\n* */\n\n\npublic IntegrationFlow localToFtpFlow(Branch myBranch) {\n\n    return IntegrationFlows.from(Files.inboundAdapter(new File(myBranch.getBranchCode()))\n                    .filter(new ChainFileListFilter&lt;File&gt;()\n                            .addFilter(new RegexPatternFileListFilter(&quot;final&quot; + myBranch.getBranchCode() + &quot;.csv&quot;))\n                            .addFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(dataSource), &quot;foo&quot;))),//FileSystemPersistentAcceptOnceFileListFilter\n            e -&gt; e.poller(Pollers.fixedDelay(10_000)))\n            .enrichHeaders(h -&gt;h.headerExpression(&quot;file_originalFile&quot;, &quot;new java.io.File('BEY/FEFOexport&quot; + myBranch.getBranchCode() + &quot;.csv')&quot;,true))\n            .transform(p -&gt; {\n                LOG1.info(&quot;Sending file &quot; + p + &quot; to FTP branch &quot; + myBranch.getBranchCode());\n\n                return p;\n            })\n\n            .log()\n            .handle(Ftp.outboundAdapter(createNewFtpSessionFactory(myBranch), FileExistsMode.REPLACE)\n                    .useTemporaryFileName(true)\n                    .autoCreateDirectory(false)\n                    .remoteDirectory(myBranch.getFolderPath()), e -&gt; e.advice(expressionAdvice()))\n\n            .get();\n}\n\n/*\n* Creating the advice for routing the payload of the outbound message on different expressions (success, failure)\n*\n* */\n\n@Bean\npublic Advice expressionAdvice() {\n    ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\n    advice.setSuccessChannelName(&quot;success.input&quot;);\n    advice.setOnSuccessExpressionString(&quot;payload.delete() + ' was successful'&quot;);\n    //advice.setFailureChannelName(&quot;failure.input&quot;);\n    advice.setOnFailureExpressionString(&quot;payload + ' was bad, with reason: ' + #exception.cause.message&quot;);\n    advice.setTrapException(true);\n    return advice;\n}\n\n/*\n* Creating FTP connection based on the branch ftp data entered.\n* */\n\npublic DefaultFtpSessionFactory createNewFtpSessionFactory(Branch branch) {\n    final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\n    factory.setHost(branch.getHost());\n    factory.setUsername(branch.getUsern());\n    factory.setPort(branch.getFtpPort());\n    factory.setPassword(branch.getPassword());\n    return factory;\n}\n\npublic DefaultFtpSessionFactory createNewFtpSessionFactory() {\n    final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\n    factory.setHost(&quot;xxxx&quot;);\n    factory.setUsername(&quot;xx&quot;);\n    factory.setPort(xx);\n    factory.setPassword(&quot;xxxx&quot;);\n    return factory;\n}\n\n/*\n* Creating a metadata store to be used across the application flows to prevent reprocessing the file if it is already processed.\n* This will save the new file in a metadata table in the DB with the state of the report, so when a new copy comes with different date it will be processed only.\n* */\n@Bean\npublic ConcurrentMetadataStore metadataStore(final DataSource dataSource) {\n    return new JdbcMetadataStore(dataSource);\n}\n\n/*\n* Success channel that will handle the AdviceMessage from the outbound adapter\n*\n* */\n\n   @Bean\npublic IntegrationFlow success(){\n    return f -&gt; f.transform(&quot;inputMessage.headers['file_originalFile']&quot;)\n             //    .handle(Message.class,(m,h)-&gt; this.delegatingSessionFactory().setThreadKey(m, h.get(String.valueOf(&quot;inputMessage.headers['file_originalFile']&quot;,1,3)))\n            .handle(Message.class,(m,h)-&gt; delegatingSessionFactory().setThreadKey(m,&quot;CAI&quot;))\n            .handle(Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)\n                    .useTemporaryFileName(true)\n                    .autoCreateDirectory(true)\n                    .remoteDirectory(&quot;/ftp/erbranch/EDMS/FEFO/History/&quot;).get());\n}\n\n@Bean\npublic DelegatingSessionFactory delegatingSessionFactory(){\n\n    SessionFactoryLocator&lt;FTPFile&gt; sff = sessionFactoryLocator();\n    return new DelegatingSessionFactory&lt;&gt;(sff);\n\n}\n\n@Bean\npublic SessionFactoryLocator&lt;FTPFile&gt; sessionFactoryLocator() {\n\n    final List&lt;Branch&gt; branchConnections = new ArrayList&lt;&gt;();\n    branchRepository.findAll().forEach(branchConnections::add);\n    final Map&lt;Object, SessionFactory&lt;FTPFile&gt;&gt; factories = new LinkedHashMap&lt;&gt;();\n\n    /*if(branchConnections.isEmpty()){\n        //return null;\n        factories.put(&quot;BEY&quot;,createNewFtpSessionFactory());\n    }*/\n\n    for (Branch br : branchConnections) {\n        // create a factory for every key containing server type, url and port\n        if (factories.get(br.getId()) == null) {\n            factories.put(br.getBranchCode(), createNewFtpSessionFactory(br));\n        }\n    }\n      return new DefaultSessionFactoryLocator&lt;FTPFile&gt;(factories,createNewFtpSessionFactory());//,defaultFtpSessionFactory);\n}\n}\n</code></pre>\n"},{"tags":["java","windows","jar","classpath","javac"],"answers":[{"tags":[],"owner":{"account_id":5850460,"reputation":826,"user_id":4609258,"accept_rate":100,"display_name":"Florian Straub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491047013,"creation_date":1491047013,"answer_id":43156425,"question_id":43156180,"body_markdown":"Ouch! The problem was the order of parameters (and adding the current directory):\r\n    \r\n    java -cp &quot;metadata-extractor-2.9.1.jar;xmpcore-5.1.2.jar;.&quot; DescribeIt ","title":"Classpath option works for javac but not for java (Windows)","body":"<p>Ouch! The problem was the order of parameters (and adding the current directory):</p>\n\n<pre><code>java -cp \"metadata-extractor-2.9.1.jar;xmpcore-5.1.2.jar;.\" DescribeIt \n</code></pre>\n"}],"owner":{"account_id":5850460,"reputation":826,"user_id":4609258,"accept_rate":100,"display_name":"Florian Straub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43156425,"answer_count":1,"score":1,"last_activity_date":1679577418,"creation_date":1491045644,"question_id":43156180,"body_markdown":"After usually working with C# I tried writing some Java code yesterday to process an XML file. I didn&#39;t use an IDE or anything, just Notepad++, SDK and a lot of Google :)\r\n\r\nI needed to include some jar files for which I found out, that one needs to set the classpath as a command line parameter to find the jar file. That worked well:\r\n\r\n    javac -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; DescribeIt.java\r\n\r\nAlthough using the same syntax when running it with java.exe I had less luck:\r\n\r\n    java DescribeIt -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; \r\n\r\nLeads to:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/drewimaging/ImageMetadataReader at DescribeIt.main(DescribeIt.java:53)\r\n    Caused by: java.lang.ClassNotFoundException: com.drew.imaging.ImageMetadataReader\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 1 more\r\n\r\nWhen I unzip the jar files, it works perfectly fine, but I guess that&#39;s not the way jar files are supposed to be used.\r\n\r\n[Code and build batch file can be found here](https://github.com/FlominatorTM/iptc_to_vicuna)","title":"Classpath option works for javac but not for java (Windows)","body":"<p>After usually working with C# I tried writing some Java code yesterday to process an XML file. I didn't use an IDE or anything, just Notepad++, SDK and a lot of Google :)</p>\n<p>I needed to include some jar files for which I found out, that one needs to set the classpath as a command line parameter to find the jar file. That worked well:</p>\n<pre><code>javac -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; DescribeIt.java\n</code></pre>\n<p>Although using the same syntax when running it with java.exe I had less luck:</p>\n<pre><code>java DescribeIt -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; \n</code></pre>\n<p>Leads to:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/drewimaging/ImageMetadataReader at DescribeIt.main(DescribeIt.java:53)\nCaused by: java.lang.ClassNotFoundException: com.drew.imaging.ImageMetadataReader\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>When I unzip the jar files, it works perfectly fine, but I guess that's not the way jar files are supposed to be used.</p>\n<p><a href=\"https://github.com/FlominatorTM/iptc_to_vicuna\" rel=\"nofollow noreferrer\">Code and build batch file can be found here</a></p>\n"},{"tags":["java","optimization","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1679605255,"post_id":75823511,"comment_id":133756255,"body_markdown":"We don&#39;t know your input file, so we can only guess. My guess is that your input file uses object streams. PDFBox has been able to read object streams for quite a while, but support for writing them only starts with version 3 (current development target). The main advantage of the use of object streams is that they can be compressed. With your version 2.0.27, therefore, manipulated files are likely to grow in size.","body":"We don&#39;t know your input file, so we can only guess. My guess is that your input file uses object streams. PDFBox has been able to read object streams for quite a while, but support for writing them only starts with version 3 (current development target). The main advantage of the use of object streams is that they can be compressed. With your version 2.0.27, therefore, manipulated files are likely to grow in size."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1679893387,"post_id":75823511,"comment_id":133796161,"body_markdown":"@mkl Thank you for the response, can you suggest any optimization for the above code flow for removing the QR code?","body":"@mkl Thank you for the response, can you suggest any optimization for the above code flow for removing the QR code?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679909730,"post_id":75823511,"comment_id":133799141,"body_markdown":"Try whether the current development version of PDFBox solves the issue. If it does, upgrade your program to PDFBox 3 as soon as it is released.","body":"Try whether the current development version of PDFBox solves the issue. If it does, upgrade your program to PDFBox 3 as soon as it is released."}],"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679577406,"creation_date":1679577406,"question_id":75823511,"body_markdown":"I am currently using pdfbox 2.0.27 library for removing and adding the QR code image after loading the pdf file from the file system. Before removing the QR code image from the pdf file, the file size was 811 MB(10000 pages). After removing the QR code, the file size increases to 2.44 GB.\r\n\r\nIt was expected that after removing the QR code image, the file size should not increase, it should decrease or remain the same. Can you please help?\r\n\r\nAlso, it is taking too long to iterate all the pages Please suggest if any optimization is needed.\r\n\r\nBelow is the code for removing the Qr code : \r\n```\r\npdDocument = PDDocument.load(new File(aBarcodeVO.getSourceFilePath()));\r\nnewDocument = new PDDocument();\r\nIterator&lt;PDPage&gt; pageIterator = pdDocument.getPages().iterator();\r\n\r\nfor (int pageCount = 0; pageCount &lt; pdDocument.getNumberOfPages(); pageCount++) {\r\n    PDPage pdPage = newDocument.importPage(pageIterator.next());\r\n    String imgUniqueId = aBarcodeVO.getImgUniqueId().concat(String.valueOf(pageCount));\r\n    boolean hasQRCodeOnPage = removeQRCodeImage(newDocument, pdPage, imgUniqueId);\r\n    qRCodePageList.add(hasQRCodeOnPage);\r\n}\r\nif(qRCodePageList.contains(true)) {\r\n    newDocument.save(aBarcodeVO.getDestinationFilePath(true));\r\n}\r\nnewDocument.close();\r\npdDocument.close();\r\n```\r\n\r\nremove QR code image from page code : \r\n\r\n```\r\npublic static boolean removeQRCodeImage(PDDocument document, PDPage page, String imgUniqueId) throws Exception {\r\n        String qrCodeCosName = null;\r\n        PDResources pdResources = page.getResources();\r\n        boolean hasQRCodeOnPage=false;\r\n        for (COSName propertyName : pdResources.getXObjectNames()) {\r\n\r\n            if (!pdResources.isImageXObject(propertyName)) {\r\n                continue; \r\n            }\r\n            PDXObject o;\r\n            try {\r\n                o = pdResources.getXObject(propertyName);\r\n                if (o instanceof PDImageXObject) {\r\n                    PDImageXObject pdImageXObject = (PDImageXObject) o;\r\n                    if (pdImageXObject.getMetadata() != null) {     \r\n                        DomXmpParser xmpParser = new DomXmpParser();\r\n                       XMPMetadata xmpMetadata = xmpParser.parse(pdImageXObject.getMetadata().toByteArray());\r\n                     \r\n                       if(xmpMetadata.getDublinCoreSchema()!=null &amp;&amp; StringUtils.isNoneBlank(xmpMetadata.getDublinCoreSchema().getTitle())&amp;&amp;xmpMetadata.getDublinCoreSchema().getTitle().contains(&quot;_barcodeimg_&quot;)) {\r\n                            ((COSDictionary) pdResources.getCOSObject().getDictionaryObject(COSName.XOBJECT))\r\n                            .removeItem(propertyName);\r\n                           log.debug(&quot;propertyName REMOVED--&quot;+propertyName.getName());\r\n                            qrCodeCosName = propertyName.getName();\r\n                            hasQRCodeOnPage=true;\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                log.error(&quot;Exception in removeQRCodeImage() while extracting QR image:&quot; + e, e);\r\n            }\r\n        }\r\n\r\n        PDFStreamParser parser = new PDFStreamParser(page);\r\n        parser.parse();\r\n        List&lt;Object&gt; tokens = parser.getTokens();\r\n        log.debug(&quot;original tokens size&quot; + tokens.size());\r\n        List&lt;Object&gt; newTokens = new ArrayList&lt;Object&gt;();\r\n\r\n        for (int j = 0; j &lt; tokens.size(); j++) {\r\n            Object token = tokens.get(j);\r\n            if (token instanceof Operator) {\r\n                Operator op = (Operator) token;\r\n                // find image - remove it\r\n                if (op.getName().equals(&quot;Do&quot;)) {\r\n                    COSName cosName = (COSName) tokens.get(j - 1);\r\n                    if (cosName.getName().equals(qrCodeCosName)) {\r\n                        newTokens.remove(newTokens.size() - 1);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            newTokens.add(token);\r\n        }\r\n        log.debug(&quot;tokens size&quot; + newTokens.size());\r\n        PDStream newContents = new PDStream(document);\r\n        OutputStream out = newContents.createOutputStream();\r\n        ContentStreamWriter writer = new ContentStreamWriter(out);\r\n        writer.writeTokens(newTokens);\r\n        out.close();\r\n        page.setContents(newContents);\r\n        return hasQRCodeOnPage;\r\n    }\r\n```","title":"PDFBox File Size increasing after removing QR code also the process is too slow for large size pdf","body":"<p>I am currently using pdfbox 2.0.27 library for removing and adding the QR code image after loading the pdf file from the file system. Before removing the QR code image from the pdf file, the file size was 811 MB(10000 pages). After removing the QR code, the file size increases to 2.44 GB.</p>\n<p>It was expected that after removing the QR code image, the file size should not increase, it should decrease or remain the same. Can you please help?</p>\n<p>Also, it is taking too long to iterate all the pages Please suggest if any optimization is needed.</p>\n<p>Below is the code for removing the Qr code :</p>\n<pre><code>pdDocument = PDDocument.load(new File(aBarcodeVO.getSourceFilePath()));\nnewDocument = new PDDocument();\nIterator&lt;PDPage&gt; pageIterator = pdDocument.getPages().iterator();\n\nfor (int pageCount = 0; pageCount &lt; pdDocument.getNumberOfPages(); pageCount++) {\n    PDPage pdPage = newDocument.importPage(pageIterator.next());\n    String imgUniqueId = aBarcodeVO.getImgUniqueId().concat(String.valueOf(pageCount));\n    boolean hasQRCodeOnPage = removeQRCodeImage(newDocument, pdPage, imgUniqueId);\n    qRCodePageList.add(hasQRCodeOnPage);\n}\nif(qRCodePageList.contains(true)) {\n    newDocument.save(aBarcodeVO.getDestinationFilePath(true));\n}\nnewDocument.close();\npdDocument.close();\n</code></pre>\n<p>remove QR code image from page code :</p>\n<pre><code>public static boolean removeQRCodeImage(PDDocument document, PDPage page, String imgUniqueId) throws Exception {\n        String qrCodeCosName = null;\n        PDResources pdResources = page.getResources();\n        boolean hasQRCodeOnPage=false;\n        for (COSName propertyName : pdResources.getXObjectNames()) {\n\n            if (!pdResources.isImageXObject(propertyName)) {\n                continue; \n            }\n            PDXObject o;\n            try {\n                o = pdResources.getXObject(propertyName);\n                if (o instanceof PDImageXObject) {\n                    PDImageXObject pdImageXObject = (PDImageXObject) o;\n                    if (pdImageXObject.getMetadata() != null) {     \n                        DomXmpParser xmpParser = new DomXmpParser();\n                       XMPMetadata xmpMetadata = xmpParser.parse(pdImageXObject.getMetadata().toByteArray());\n                     \n                       if(xmpMetadata.getDublinCoreSchema()!=null &amp;&amp; StringUtils.isNoneBlank(xmpMetadata.getDublinCoreSchema().getTitle())&amp;&amp;xmpMetadata.getDublinCoreSchema().getTitle().contains(&quot;_barcodeimg_&quot;)) {\n                            ((COSDictionary) pdResources.getCOSObject().getDictionaryObject(COSName.XOBJECT))\n                            .removeItem(propertyName);\n                           log.debug(&quot;propertyName REMOVED--&quot;+propertyName.getName());\n                            qrCodeCosName = propertyName.getName();\n                            hasQRCodeOnPage=true;\n                        }\n                    }\n                }\n            } catch (IOException e) {\n                log.error(&quot;Exception in removeQRCodeImage() while extracting QR image:&quot; + e, e);\n            }\n        }\n\n        PDFStreamParser parser = new PDFStreamParser(page);\n        parser.parse();\n        List&lt;Object&gt; tokens = parser.getTokens();\n        log.debug(&quot;original tokens size&quot; + tokens.size());\n        List&lt;Object&gt; newTokens = new ArrayList&lt;Object&gt;();\n\n        for (int j = 0; j &lt; tokens.size(); j++) {\n            Object token = tokens.get(j);\n            if (token instanceof Operator) {\n                Operator op = (Operator) token;\n                // find image - remove it\n                if (op.getName().equals(&quot;Do&quot;)) {\n                    COSName cosName = (COSName) tokens.get(j - 1);\n                    if (cosName.getName().equals(qrCodeCosName)) {\n                        newTokens.remove(newTokens.size() - 1);\n                        continue;\n                    }\n                }\n            }\n            newTokens.add(token);\n        }\n        log.debug(&quot;tokens size&quot; + newTokens.size());\n        PDStream newContents = new PDStream(document);\n        OutputStream out = newContents.createOutputStream();\n        ContentStreamWriter writer = new ContentStreamWriter(out);\n        writer.writeTokens(newTokens);\n        out.close();\n        page.setContents(newContents);\n        return hasQRCodeOnPage;\n    }\n</code></pre>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":7,"creation_date":1679577225,"post_id":75823448,"comment_id":133748636,"body_markdown":"Because you&#39;re doing nothing with the return value from `super.getInfo()`","body":"Because you&#39;re doing nothing with the return value from <code>super.getInfo()</code>"},{"owner":{"account_id":24324261,"reputation":1,"user_id":18264073,"display_name":"BenNye09"},"score":0,"creation_date":1679578863,"post_id":75823448,"comment_id":133749089,"body_markdown":"I see, I thought return works like print or println, my bad.","body":"I see, I thought return works like print or println, my bad."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679580064,"post_id":75823448,"comment_id":133749488,"body_markdown":"It&#39;s a common mistake for beginners. See [here](https://stackoverflow.com/questions/7129285/what-is-the-purpose-of-the-return-statement-how-is-it-different-from-printing) for an explanation (it&#39;s for python, but the concept is the same).","body":"It&#39;s a common mistake for beginners. See <a href=\"https://stackoverflow.com/questions/7129285/what-is-the-purpose-of-the-return-statement-how-is-it-different-from-printing\">here</a> for an explanation (it&#39;s for python, but the concept is the same)."}],"answers":[{"tags":[],"owner":{"account_id":7967944,"reputation":41,"user_id":6013634,"display_name":"menecats"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679577403,"creation_date":1679577403,"answer_id":75823510,"question_id":75823448,"body_markdown":"In the `getInfo()` method of the `Student` is getting invoked, but currently you are not using the result.\r\n\r\nIf, in the `GradStudent` class, you want to return a String that combines the result of the `Student.getInfo` method with the specific value from `GradStudent` you could do something like this:\r\n\r\n```java\r\npublic class GradStudent extends Student {\r\n    public String getFood(){\r\n        return &quot;Taco&quot;;\r\n    }\r\n    public String getInfo(){\r\n        String studentInfo = super.getInfo();\r\n        return studentInfo + &quot; Eating&quot;;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Student s = new GradStudent();\r\n        System.out.println(s.getInfo());\r\n    }\r\n}\r\n```","title":"Why doesn&#39;t super. call the superclass method in this code?","body":"<p>In the <code>getInfo()</code> method of the <code>Student</code> is getting invoked, but currently you are not using the result.</p>\n<p>If, in the <code>GradStudent</code> class, you want to return a String that combines the result of the <code>Student.getInfo</code> method with the specific value from <code>GradStudent</code> you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GradStudent extends Student {\n    public String getFood(){\n        return &quot;Taco&quot;;\n    }\n    public String getInfo(){\n        String studentInfo = super.getInfo();\n        return studentInfo + &quot; Eating&quot;;\n    }\n\n    public static void main(String[] args){\n        Student s = new GradStudent();\n        System.out.println(s.getInfo());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24324261,"reputation":1,"user_id":18264073,"display_name":"BenNye09"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679624041,"accepted_answer_id":75823510,"answer_count":1,"score":-2,"last_activity_date":1679577403,"creation_date":1679577070,"question_id":75823448,"body_markdown":"When I execute this code, it only returns &quot;Eating&quot; instead of &quot;Studying&quot; AND &quot;Eating.&quot; Can anyone explain it?\r\n\r\n```\r\npublic class Student {\r\n    public String getFood() {\r\n        return &quot;Pizza&quot;;\r\n    }\r\n    public String getInfo(){\r\n        return &quot;Studying&quot;;\r\n    }\r\n}\r\n\r\npublic class GradStudent extends Student {\r\n    public String getFood(){\r\n        return &quot;Taco&quot;;\r\n    }\r\n    public String getInfo(){\r\n        super.getInfo();\r\n        return &quot;Eating&quot;;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Student s = new GradStudent();\r\n        System.out.println(s.getInfo());\r\n    }\r\n}\r\n```","title":"Why doesn&#39;t super. call the superclass method in this code?","body":"<p>When I execute this code, it only returns &quot;Eating&quot; instead of &quot;Studying&quot; AND &quot;Eating.&quot; Can anyone explain it?</p>\n<pre><code>public class Student {\n    public String getFood() {\n        return &quot;Pizza&quot;;\n    }\n    public String getInfo(){\n        return &quot;Studying&quot;;\n    }\n}\n\npublic class GradStudent extends Student {\n    public String getFood(){\n        return &quot;Taco&quot;;\n    }\n    public String getInfo(){\n        super.getInfo();\n        return &quot;Eating&quot;;\n    }\n\n    public static void main(String[] args){\n        Student s = new GradStudent();\n        System.out.println(s.getInfo());\n    }\n}\n</code></pre>\n"},{"tags":["java","performance-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679563322,"creation_date":1679563322,"answer_id":75821175,"question_id":75820528,"body_markdown":"This is not how things work.\r\n\r\nScenarios are virtual users&#39; journey.\r\nDifferent scenarios mean different virtual users.\r\nUsing `check` saves the data in the Session of the virtual user that executed the request. So this data is not available for other virtual users, all the more if they belong to other scenarios.\r\n\r\nThis is not how you should be using Gatling. You should have 1 single scenario where virtual users first get a book and then read it.\r\n\r\nI really recommend that you go through [Gatling tutorials][1] and [free online trainings][2].\r\n\r\n\r\n  [1]: https://gatling.io/docs/gatling/tutorials/\r\n  [2]: https://gatling.io/academy/","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>This is not how things work.</p>\n<p>Scenarios are virtual users' journey.\nDifferent scenarios mean different virtual users.\nUsing <code>check</code> saves the data in the Session of the virtual user that executed the request. So this data is not available for other virtual users, all the more if they belong to other scenarios.</p>\n<p>This is not how you should be using Gatling. You should have 1 single scenario where virtual users first get a book and then read it.</p>\n<p>I really recommend that you go through <a href=\"https://gatling.io/docs/gatling/tutorials/\" rel=\"nofollow noreferrer\">Gatling tutorials</a> and <a href=\"https://gatling.io/academy/\" rel=\"nofollow noreferrer\">free online trainings</a>.</p>\n"},{"tags":[],"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679577369,"creation_date":1679577369,"answer_id":75823501,"question_id":75820528,"body_markdown":"Pass it through a queue.   One pushes to the queue, another reads from the same queue.   You have options such as RabbitMQ or even leveraging a cloud queue provider.   Most of the cloud providers are silly cheap on this, where a 100,000 messages a month may cost you a dollar.\r\n\r\nUsing a queue also has other advantages in that you can pass data between virtual user processes running on completely different machines, or even different tools exercising distinct portions of a system, such as Gatling to exercise a web service associated with inventory updates, the result is placed on a queue where it is picked up by LoadRunner to use the same data in a terminal virtual user interface as part of a warehouse management system.","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>Pass it through a queue.   One pushes to the queue, another reads from the same queue.   You have options such as RabbitMQ or even leveraging a cloud queue provider.   Most of the cloud providers are silly cheap on this, where a 100,000 messages a month may cost you a dollar.</p>\n<p>Using a queue also has other advantages in that you can pass data between virtual user processes running on completely different machines, or even different tools exercising distinct portions of a system, such as Gatling to exercise a web service associated with inventory updates, the result is placed on a queue where it is picked up by LoadRunner to use the same data in a terminal virtual user interface as part of a warehouse management system.</p>\n"}],"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679577369,"creation_date":1679558999,"question_id":75820528,"body_markdown":"I&#39;m trying to pass a value collected from a test, to another test, but looks like the gatling session object is kept inside classes and is not allowing other classes to use it.\r\n\r\nMy code looks like this:\r\n\r\nTest class 1\r\n\r\n    public class BooksStore{\r\n\r\n    public static ScenarioBuilder getScenario() {\r\n\r\n    ChainBuilder getBooks =\r\n                exec(http(&quot;Get Books IDs&quot;)\r\n                        .get(path/to/books/ids)\r\n                        .check(jsonPath(&quot;$.idList[1]&quot;).saveAs(&quot;firstBookId&quot;)));\r\n\r\n    return scenario(&quot;Get all books ids&quot;).exec(getBooks);\r\n    }\r\n\r\nTest  class 2\r\n\r\n    public class Client{\r\n\r\n    public static ScenarioBuilder getScenario() {\r\n\r\n    ChainBuilder readBook =\r\n                exec(http(&quot;Get Book by ID&quot;)\r\n                        .get(path/to/book/${firstBookId}));\r\n                 \r\n    return scenario(&quot;Get book by id&quot;).exec(readBook);\r\n    }\r\n\r\nSimulation class\r\n\r\n    public class MySimulation extends Simulation {\r\n\r\n    HttpProtocolBuilder httpProtocol =\r\n            http\r\n                    .baseUrl(&quot;https://bookylova.com&quot;)\r\n                    .acceptHeader(AllAcceptHeaders)\r\n                    .header(Authorization, getGetAccessToken());\r\n\r\n    {\r\n        setUp(\r\n                BooksStore.getScenario().injectOpen(\r\n                rampUsers(10)\r\n                .during(Duration.ofSeconds(10)))\r\n                .andThen(\r\n                Client.getScenario().injectOpen(\r\n                rampUsers(10)\r\n                .during(Duration.ofSeconds(10)))\r\n                )).protocols(httpProtocol);\r\n      }\r\n    }\r\n\r\nI can run another exec function chained to **getBooks** and save the value in session, but it won&#39;t work to be called in **readBook** . Also tried to store variable outside class in another one then read it, but is not working.","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>I'm trying to pass a value collected from a test, to another test, but looks like the gatling session object is kept inside classes and is not allowing other classes to use it.</p>\n<p>My code looks like this:</p>\n<p>Test class 1</p>\n<pre><code>public class BooksStore{\n\npublic static ScenarioBuilder getScenario() {\n\nChainBuilder getBooks =\n            exec(http(&quot;Get Books IDs&quot;)\n                    .get(path/to/books/ids)\n                    .check(jsonPath(&quot;$.idList[1]&quot;).saveAs(&quot;firstBookId&quot;)));\n\nreturn scenario(&quot;Get all books ids&quot;).exec(getBooks);\n}\n</code></pre>\n<p>Test  class 2</p>\n<pre><code>public class Client{\n\npublic static ScenarioBuilder getScenario() {\n\nChainBuilder readBook =\n            exec(http(&quot;Get Book by ID&quot;)\n                    .get(path/to/book/${firstBookId}));\n             \nreturn scenario(&quot;Get book by id&quot;).exec(readBook);\n}\n</code></pre>\n<p>Simulation class</p>\n<pre><code>public class MySimulation extends Simulation {\n\nHttpProtocolBuilder httpProtocol =\n        http\n                .baseUrl(&quot;https://bookylova.com&quot;)\n                .acceptHeader(AllAcceptHeaders)\n                .header(Authorization, getGetAccessToken());\n\n{\n    setUp(\n            BooksStore.getScenario().injectOpen(\n            rampUsers(10)\n            .during(Duration.ofSeconds(10)))\n            .andThen(\n            Client.getScenario().injectOpen(\n            rampUsers(10)\n            .during(Duration.ofSeconds(10)))\n            )).protocols(httpProtocol);\n  }\n}\n</code></pre>\n<p>I can run another exec function chained to <strong>getBooks</strong> and save the value in session, but it won't work to be called in <strong>readBook</strong> . Also tried to store variable outside class in another one then read it, but is not working.</p>\n"},{"tags":["java","apache-flink","spark-streaming","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1679695325,"post_id":75823421,"comment_id":133773263,"body_markdown":"Adding artificial burstiness and lag into the first application seems like the wrong way to address the problem. It&#39;s hard to imagine how this will help. It just pushes the problem 10 seconds down the road, and causes the first job to use more resources.","body":"Adding artificial burstiness and lag into the first application seems like the wrong way to address the problem. It&#39;s hard to imagine how this will help. It just pushes the problem 10 seconds down the road, and causes the first job to use more resources."},{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1679695373,"post_id":75823421,"comment_id":133773271,"body_markdown":"Rather than collecting a new Tuple2.of(...), why not simply `collect(tuple)`?","body":"Rather than collecting a new Tuple2.of(...), why not simply <code>collect(tuple)</code>?"},{"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"score":0,"creation_date":1679908201,"post_id":75823421,"comment_id":133798730,"body_markdown":"@DavidAnderson The main purpose of the artificial bursts is to reduce the load on the database input operation. Also, `out.collect(tuple.f0,  tuple.f1)` would not work because collect requires only one argument. Which is `Tuple.of(...)` is used.","body":"@DavidAnderson The main purpose of the artificial bursts is to reduce the load on the database input operation. Also, <code>out.collect(tuple.f0,  tuple.f1)</code> would not work because collect requires only one argument. Which is <code>Tuple.of(...)</code> is used."}],"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679576948,"creation_date":1679576948,"question_id":75823421,"body_markdown":"There is a flink application. It takes in a datastream from a Kafka topic. Let&#39;s call this datastream `A`. `A` undergoes a lot of processing within this Flink app. Post all the processing, we get a datastream of type `&lt;Headers, GenericRecord&gt;`, where `Headers` are Kafka Headers and `GenericRecord` are Avro Generic Records following a certain schema `sch`. Lets call this new post-processed datastream as `B`.\r\n\r\n`B` then flows into a sink Kafka topic which is then consumed by another Flink app. Now this second flink app has a lot of heavy procesing to do and hence, is a little slow. Due to this, there a heavy lag build up seen.\r\n\r\nTo counter this, a proposed solution which was offered was to add a Tumbling Window of time 10 seconds before the datastream enters the sink.\r\n\r\nThere is strict type checking happening everywhere so the type of datastream `B` needs to be the same before and after the tumbling window.\r\n\r\nI tried to create a new datastrem `C` that collected the required data from B in the correct type format like so:\r\n\r\n```\r\nDatastream&lt;Tuple2&lt;Headers, GenericRecord&gt; C = B\r\n                    .keyBy((KeySelector&lt;Tuple2&lt;Headers, GenericRecord&gt;, String&gt;) value -&gt; value.f1.get(&quot;id&quot;).toString())\r\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\r\n                    .process(new ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;() {\r\n                        @Override\r\n                        public void process(String s, ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;.Context context, Iterable&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; elements, Collector&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; out) throws Exception {\r\n                            for (Tuple2&lt;Headers, GenericRecord&gt; tuple : elements) {\r\n                                out.collect(Tuple2.of(tuple.f0, (GenericRecord) tuple.f1));\r\n                            }\r\n                        }\r\n                    })\r\n```\r\n\r\nBut I&#39;m getting a type mismatch in GenericRecord.\r\nHere&#39;s how the GenericRecord type info looks before the above code i.e. `B`:\r\n\r\n`GenericRecord(&quot; ...Avro schema here... &quot;)`\r\n\r\nBut post the above code, the GenericRecord type info for `C` looks like this:\r\n\r\n`GenericType&lt;org.apache.avro.generic.GenericRecord&gt;`\r\n\r\nWhy is this change in type info occuring? How do I fix it?","title":"Adding Tumbling Window before Sink in Apache Flink","body":"<p>There is a flink application. It takes in a datastream from a Kafka topic. Let's call this datastream <code>A</code>. <code>A</code> undergoes a lot of processing within this Flink app. Post all the processing, we get a datastream of type <code>&lt;Headers, GenericRecord&gt;</code>, where <code>Headers</code> are Kafka Headers and <code>GenericRecord</code> are Avro Generic Records following a certain schema <code>sch</code>. Lets call this new post-processed datastream as <code>B</code>.</p>\n<p><code>B</code> then flows into a sink Kafka topic which is then consumed by another Flink app. Now this second flink app has a lot of heavy procesing to do and hence, is a little slow. Due to this, there a heavy lag build up seen.</p>\n<p>To counter this, a proposed solution which was offered was to add a Tumbling Window of time 10 seconds before the datastream enters the sink.</p>\n<p>There is strict type checking happening everywhere so the type of datastream <code>B</code> needs to be the same before and after the tumbling window.</p>\n<p>I tried to create a new datastrem <code>C</code> that collected the required data from B in the correct type format like so:</p>\n<pre><code>Datastream&lt;Tuple2&lt;Headers, GenericRecord&gt; C = B\n                    .keyBy((KeySelector&lt;Tuple2&lt;Headers, GenericRecord&gt;, String&gt;) value -&gt; value.f1.get(&quot;id&quot;).toString())\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\n                    .process(new ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;() {\n                        @Override\n                        public void process(String s, ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;.Context context, Iterable&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; elements, Collector&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; out) throws Exception {\n                            for (Tuple2&lt;Headers, GenericRecord&gt; tuple : elements) {\n                                out.collect(Tuple2.of(tuple.f0, (GenericRecord) tuple.f1));\n                            }\n                        }\n                    })\n</code></pre>\n<p>But I'm getting a type mismatch in GenericRecord.\nHere's how the GenericRecord type info looks before the above code i.e. <code>B</code>:</p>\n<p><code>GenericRecord(&quot; ...Avro schema here... &quot;)</code></p>\n<p>But post the above code, the GenericRecord type info for <code>C</code> looks like this:</p>\n<p><code>GenericType&lt;org.apache.avro.generic.GenericRecord&gt;</code></p>\n<p>Why is this change in type info occuring? How do I fix it?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":2265678,"reputation":86,"user_id":1994431,"display_name":"Vinod Bokare"},"score":0,"creation_date":1497967971,"post_id":23553094,"comment_id":76296288,"body_markdown":"I am also searching same implementation, an you share your solution","body":"I am also searching same implementation, an you share your solution"}],"answers":[{"tags":[],"owner":{"account_id":3403495,"reputation":3257,"user_id":2855152,"accept_rate":75,"display_name":"thaavik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421418893,"creation_date":1421418893,"answer_id":27986248,"question_id":23553094,"body_markdown":"There&#39;s no simple method for doing this, but here&#39;s an approach.  I haven&#39;t figured out how to attach links directly to text, so my approach means you have to draw the annotations as rectangles and the text separately.  It&#39;s a bit rough around the edges, but it works.\r\n\r\n    // there are other types of destinations, choose what is appropriate\r\n    PDPageXYZDestination dest = new PDPageXYZDestination();\r\n    // the indexing is odd here.  if you are doing this on the first page of the pdf\r\n    // that page is -1, the next is 0, the next is 1 and so on.  odd.\r\n    dest.setPageNumber(3);\r\n    dest.setLeft(0);\r\n    dest.setTop(0); // link to top of page, this is the XYZ part\r\n\r\n    PDActionGoTo action = new PDActionGoTo();\r\n    action.setDestination(dest);\r\n\r\n    PDAnnotationLink link = new PDAnnotationLink();\r\n    link.setAction(action);\r\n    link.setDestination(dest);\r\n\r\n    PDRectangle rect = new PDRectangle();\r\n    // just making these x,y coords up for sample\r\n    rect.setLowerLeftX(72);\r\n    rect.setLowerLeftY(600);\r\n    rect.setUpperRightX(144);\r\n    rect.setUpperRightY(620);\r\n\r\n    PDPage page = // however you are getting your table of contents page, eg new PDPage() or doc.getDocumentCatalog().getAllPages().get(0)\r\n\r\n    page.getAnnotations().add(link);\r\n\r\n    PDPageContentStream stream = new PDPageContentStream(doc, page, true, true);\r\n    stream.beginText();\r\n    stream.setTextTranslation(85, 600); // made these up, have to test to see if padding is correct\r\n    stream.drawString(&quot;Page 1&quot;);\r\n    stream.endText();\r\n    stream.close();\r\n\r\nPhew!  That&#39;s a lotta code.  That should get you on your way.  You can make the rectangle the same color as your document background if you want it to look like they are just clicking a link, but that requires more experimentation.","title":"PDFBox - how to create table of contents","body":"<p>There's no simple method for doing this, but here's an approach.  I haven't figured out how to attach links directly to text, so my approach means you have to draw the annotations as rectangles and the text separately.  It's a bit rough around the edges, but it works.</p>\n\n<pre><code>// there are other types of destinations, choose what is appropriate\nPDPageXYZDestination dest = new PDPageXYZDestination();\n// the indexing is odd here.  if you are doing this on the first page of the pdf\n// that page is -1, the next is 0, the next is 1 and so on.  odd.\ndest.setPageNumber(3);\ndest.setLeft(0);\ndest.setTop(0); // link to top of page, this is the XYZ part\n\nPDActionGoTo action = new PDActionGoTo();\naction.setDestination(dest);\n\nPDAnnotationLink link = new PDAnnotationLink();\nlink.setAction(action);\nlink.setDestination(dest);\n\nPDRectangle rect = new PDRectangle();\n// just making these x,y coords up for sample\nrect.setLowerLeftX(72);\nrect.setLowerLeftY(600);\nrect.setUpperRightX(144);\nrect.setUpperRightY(620);\n\nPDPage page = // however you are getting your table of contents page, eg new PDPage() or doc.getDocumentCatalog().getAllPages().get(0)\n\npage.getAnnotations().add(link);\n\nPDPageContentStream stream = new PDPageContentStream(doc, page, true, true);\nstream.beginText();\nstream.setTextTranslation(85, 600); // made these up, have to test to see if padding is correct\nstream.drawString(\"Page 1\");\nstream.endText();\nstream.close();\n</code></pre>\n\n<p>Phew!  That's a lotta code.  That should get you on your way.  You can make the rectangle the same color as your document background if you want it to look like they are just clicking a link, but that requires more experimentation.</p>\n"},{"tags":[],"owner":{"account_id":11531106,"reputation":41,"user_id":8474641,"display_name":"Antony Glim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679576854,"creation_date":1679576854,"answer_id":75823403,"question_id":23553094,"body_markdown":"These methods will add clickable table of contents to your document\r\n\r\n    public void addOutline(@NonNull PDDocument document) {\r\n        PDDocumentOutline outline = new PDDocumentOutline();\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 1&quot;, 0));\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 2&quot;, 5));\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 3&quot;, 8));\r\n        document.getDocumentCatalog().setDocumentOutline(outline);\r\n    }\r\n\r\n    private PDOutlineItem buildPDOutlineItem(\r\n           @NonNull PDDocument document, String title, Integer pageNum) {\r\n        PDOutlineItem item = new PDOutlineItem();\r\n        item.setTitle(title);\r\n        item.setDestination(document.getPages().get(pageNum));\r\n        return item;\r\n    }","title":"PDFBox - how to create table of contents","body":"<p>These methods will add clickable table of contents to your document</p>\n<pre><code>public void addOutline(@NonNull PDDocument document) {\n    PDDocumentOutline outline = new PDDocumentOutline();\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 1&quot;, 0));\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 2&quot;, 5));\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 3&quot;, 8));\n    document.getDocumentCatalog().setDocumentOutline(outline);\n}\n\nprivate PDOutlineItem buildPDOutlineItem(\n       @NonNull PDDocument document, String title, Integer pageNum) {\n    PDOutlineItem item = new PDOutlineItem();\n    item.setTitle(title);\n    item.setDestination(document.getPages().get(pageNum));\n    return item;\n}\n</code></pre>\n"}],"owner":{"account_id":4281705,"reputation":171,"user_id":3500860,"display_name":"Moshe.z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6145,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1679576854,"creation_date":1399585379,"question_id":23553094,"body_markdown":"Is there a way to create a table of contents using `Java PDFBox` library?\r\n\r\nThe table of contents should be clickable (jump to the right page)\r\n\r\nThanks.","title":"PDFBox - how to create table of contents","body":"<p>Is there a way to create a table of contents using <code>Java PDFBox</code> library?</p>\n\n<p>The table of contents should be clickable (jump to the right page)</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":3133914,"reputation":127,"user_id":6083264,"display_name":"user6083264"},"score":0,"creation_date":1686755496,"post_id":75823303,"comment_id":134843425,"body_markdown":"Did you find any solution for this?","body":"Did you find any solution for this?"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679576335,"creation_date":1679576335,"question_id":75823303,"body_markdown":"I&#39;m trying to save a record\r\n```\r\n    public Mono&lt;UUID&gt; save(Post p) {\r\n        return databaseClient.sql(&quot;INSERT INTO  posts (title, date, content) VALUES (:title, :date, :content)&quot;)\r\n                .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\r\n                .bind(&quot;title&quot;, p.getTitle())\r\n                .bind(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.parse(p.getDate())) //here exception\r\n                .bind(&quot;content&quot;, p.getContent())\r\n                .fetch()\r\n                .first()\r\n                .map(r -&gt; (UUID) r.get(&quot;id&quot;))\r\n                .onErrorResume(err -&gt; {\r\n                    log.error(e);\r\n                    return Flux.empty();\r\n                });\r\n    }\r\n```\r\nI expected if the date is in the wrong format, the error will be handled in the `onErrorResume` block, but I get the error `operator called default onErrorDropped`\r\n\r\nI tried to take out the `onErrorResume` block, but that doesn&#39;t work too\r\n```\r\n    public Mono&lt;UUID&gt; saveOne(Post p) {\r\n        return save(p)\r\n                .onErrorResume(err -&gt; {\r\n                    log.error(e);\r\n                    return Flux.empty();\r\n                });\r\n    }\r\n```","title":"R2dbc bind does not work with onErrorResume","body":"<p>I'm trying to save a record</p>\n<pre><code>    public Mono&lt;UUID&gt; save(Post p) {\n        return databaseClient.sql(&quot;INSERT INTO  posts (title, date, content) VALUES (:title, :date, :content)&quot;)\n                .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\n                .bind(&quot;title&quot;, p.getTitle())\n                .bind(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.parse(p.getDate())) //here exception\n                .bind(&quot;content&quot;, p.getContent())\n                .fetch()\n                .first()\n                .map(r -&gt; (UUID) r.get(&quot;id&quot;))\n                .onErrorResume(err -&gt; {\n                    log.error(e);\n                    return Flux.empty();\n                });\n    }\n</code></pre>\n<p>I expected if the date is in the wrong format, the error will be handled in the <code>onErrorResume</code> block, but I get the error <code>operator called default onErrorDropped</code></p>\n<p>I tried to take out the <code>onErrorResume</code> block, but that doesn't work too</p>\n<pre><code>    public Mono&lt;UUID&gt; saveOne(Post p) {\n        return save(p)\n                .onErrorResume(err -&gt; {\n                    log.error(e);\n                    return Flux.empty();\n                });\n    }\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":3309832,"reputation":183,"user_id":2783616,"display_name":"zonzon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534236175,"creation_date":1534234361,"answer_id":51836709,"question_id":51723156,"body_markdown":"The error seems to be related to ``mapper.enableDefaultTyping();``\r\n\r\nWhen enabled, the typing of each class is outputted in the JSON. (which I wanted)\r\n\r\nFor some reason, it causes the above error on a @ManyToOne\r\n\r\nWhen disabled, PersistentBag no longer appears in my serialized JSON, and the deserializing works...","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>The error seems to be related to <code>mapper.enableDefaultTyping();</code></p>\n\n<p>When enabled, the typing of each class is outputted in the JSON. (which I wanted)</p>\n\n<p>For some reason, it causes the above error on a @ManyToOne</p>\n\n<p>When disabled, PersistentBag no longer appears in my serialized JSON, and the deserializing works...</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534237322,"creation_date":1534237322,"answer_id":51837596,"question_id":51723156,"body_markdown":"If you use JPA, all your entities will be enhanced by bytecode to allow lazy loading and such. They are not really suitable for serialization, except by hibernate, who is aware of it. But Jackson doesn&#39;t know about it, so it will screw up the enhanced bytecode.\r\n\r\nIt&#39;s also not a good idea to use the same class for JPA mapping and for Jackson mapping. The JPA classes have fields that map to columns and such, whereas the classes for Jackson map to a javascript schema. If you use them in the same class, you can never change your database schema without affecting your JSON schema and possible breaking backwards compatibility with whoever is using the JSON.\r\n\r\nIt&#39;s better to have separate classes (DTO&#39;s) to use for Jackson, and do some mapping between them. Or use [mapstruct][1] to generate a mapper automatically.\r\n\r\n\r\n  [1]: http://mapstruct.org/","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>If you use JPA, all your entities will be enhanced by bytecode to allow lazy loading and such. They are not really suitable for serialization, except by hibernate, who is aware of it. But Jackson doesn't know about it, so it will screw up the enhanced bytecode.</p>\n\n<p>It's also not a good idea to use the same class for JPA mapping and for Jackson mapping. The JPA classes have fields that map to columns and such, whereas the classes for Jackson map to a javascript schema. If you use them in the same class, you can never change your database schema without affecting your JSON schema and possible breaking backwards compatibility with whoever is using the JSON.</p>\n\n<p>It's better to have separate classes (DTO's) to use for Jackson, and do some mapping between them. Or use <a href=\"http://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> to generate a mapper automatically.</p>\n"},{"tags":[],"owner":{"account_id":27200297,"reputation":1,"user_id":20732623,"display_name":"Marries"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679576122,"creation_date":1679576122,"answer_id":75823266,"question_id":51723156,"body_markdown":"I ran into exactly the same issue. To fix it while using `enableDefaultTyping` (or the currently recommended `activateDefaultTyping`) I had to use Hibernate5Module: (Note that the required module depends on your hibernate version and has to be added as an additional dependency.)\r\n\r\n```java\r\nmapper.registerModule(new Hibernate5Module()\r\n   .configure(Hibernate5Module.Feature.REPLACE_PERSISTENT_COLLECTIONS, true));\r\n```\r\nThis replaces the `PersistentBag` in your output with an `ArrayList` and prevents the deserialization error.\r\n\r\nHowever this feature does not seem to work with `FetchType.EAGER` for a reason unknown to me. Fortunately `@Fetch(FetchMode.JOIN)` does the trick.\r\n\r\nAnother thing to take into account is that the `REPLACE_PERSISTENT_COLLECTIONS`  feature generated malformed Json for me (wrapping the list content in double square brackets). But this was resolved by using lenient deserialization.","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>I ran into exactly the same issue. To fix it while using <code>enableDefaultTyping</code> (or the currently recommended <code>activateDefaultTyping</code>) I had to use Hibernate5Module: (Note that the required module depends on your hibernate version and has to be added as an additional dependency.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.registerModule(new Hibernate5Module()\n   .configure(Hibernate5Module.Feature.REPLACE_PERSISTENT_COLLECTIONS, true));\n</code></pre>\n<p>This replaces the <code>PersistentBag</code> in your output with an <code>ArrayList</code> and prevents the deserialization error.</p>\n<p>However this feature does not seem to work with <code>FetchType.EAGER</code> for a reason unknown to me. Fortunately <code>@Fetch(FetchMode.JOIN)</code> does the trick.</p>\n<p>Another thing to take into account is that the <code>REPLACE_PERSISTENT_COLLECTIONS</code>  feature generated malformed Json for me (wrapping the list content in double square brackets). But this was resolved by using lenient deserialization.</p>\n"}],"owner":{"account_id":3309832,"reputation":183,"user_id":2783616,"display_name":"zonzon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679576122,"creation_date":1533633479,"question_id":51723156,"body_markdown":"I have 2 simple classes:\r\n\r\n - `Cat`\r\n - `CatStore`\r\n\r\n`Cat` has nothing particular, and `CatStore` has a `List&lt;Cat&gt;`, the relation mapped as:\r\n\r\nIn `Cat` class:  \r\n\r\n    @ManyToOne\r\n    private CatStore catstore;\r\n\r\nIn `CatStore`:  \r\n\r\n    @OneToMany(mappedBy=&quot;catstore&quot;, fetch=FetchType.EAGER)\r\n    private List&lt;Cat&gt; cats;\r\n\r\nThe relation seems to work OK, as Jackson can generate me a correct JSON when I run\r\n  \r\n    String json = mapper.writeValueAsString(catStore);\r\n\r\n\r\nBut if I try to deserialize the JSON I just generated, with this line:  \r\n\r\n    CatStore c2 = mapper.readValue(json, CatStore.class);\r\n\r\nI get a `JsonProcessingException` saying\r\n\r\n    failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: fr.truc.java.cleanspringbootMVC.model.CatStore[&quot;cats&quot;]\r\n\r\n\r\nThe deserialization actually works if there is no cats in the `CatStore` like with the following JSON: \r\n\r\n    {\r\n      &quot;id&quot;:123,\r\n      &quot;cats&quot;:[&quot;org.hibernate.collection.internal.PersistentBag&quot;,[]],\r\n      &quot;name&quot;:&quot;NO cats&quot;\r\n    }\r\n\r\nBut this one triggers the error:\r\n\r\n    {\r\n    \t&quot;id&quot;: 121,\r\n    \t&quot;cats&quot;: [&quot;org.hibernate.collection.internal.PersistentBag&quot;, [\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 118,\r\n    \t\t\t&quot;name&quot;: &quot;luc&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}],\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 119,\r\n    \t\t\t&quot;name&quot;: &quot;andr&#233;&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}],\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 120,\r\n    \t\t\t&quot;name&quot;: &quot;cheval&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}]\r\n    \t]],\r\n    \t&quot;name&quot;: &quot;Cat en kit&quot;\r\n    }\r\n\r\nI really do not know why a lazy loading exception would trigger here as the data is contained in the JSON string.\r\n\r\nIs this related to the PersistentBag?\r\n\r\nIs this because I do not use a custom serializer/deserializer?\r\n\r\n","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>I have 2 simple classes:</p>\n\n<ul>\n<li><code>Cat</code></li>\n<li><code>CatStore</code></li>\n</ul>\n\n<p><code>Cat</code> has nothing particular, and <code>CatStore</code> has a <code>List&lt;Cat&gt;</code>, the relation mapped as:</p>\n\n<p>In <code>Cat</code> class:  </p>\n\n<pre><code>@ManyToOne\nprivate CatStore catstore;\n</code></pre>\n\n<p>In <code>CatStore</code>:  </p>\n\n<pre><code>@OneToMany(mappedBy=\"catstore\", fetch=FetchType.EAGER)\nprivate List&lt;Cat&gt; cats;\n</code></pre>\n\n<p>The relation seems to work OK, as Jackson can generate me a correct JSON when I run</p>\n\n<pre><code>String json = mapper.writeValueAsString(catStore);\n</code></pre>\n\n<p>But if I try to deserialize the JSON I just generated, with this line:  </p>\n\n<pre><code>CatStore c2 = mapper.readValue(json, CatStore.class);\n</code></pre>\n\n<p>I get a <code>JsonProcessingException</code> saying</p>\n\n<pre><code>failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: fr.truc.java.cleanspringbootMVC.model.CatStore[\"cats\"]\n</code></pre>\n\n<p>The deserialization actually works if there is no cats in the <code>CatStore</code> like with the following JSON: </p>\n\n<pre><code>{\n  \"id\":123,\n  \"cats\":[\"org.hibernate.collection.internal.PersistentBag\",[]],\n  \"name\":\"NO cats\"\n}\n</code></pre>\n\n<p>But this one triggers the error:</p>\n\n<pre><code>{\n    \"id\": 121,\n    \"cats\": [\"org.hibernate.collection.internal.PersistentBag\", [\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 118,\n            \"name\": \"luc\",\n            \"nbPattes\": 4\n        }],\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 119,\n            \"name\": \"andré\",\n            \"nbPattes\": 4\n        }],\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 120,\n            \"name\": \"cheval\",\n            \"nbPattes\": 4\n        }]\n    ]],\n    \"name\": \"Cat en kit\"\n}\n</code></pre>\n\n<p>I really do not know why a lazy loading exception would trigger here as the data is contained in the JSON string.</p>\n\n<p>Is this related to the PersistentBag?</p>\n\n<p>Is this because I do not use a custom serializer/deserializer?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679575680,"creation_date":1679575124,"answer_id":75823103,"question_id":75816445,"body_markdown":"## With mocks\r\n\r\nYou can use `AdviceWith` and `weaveAddLast` to add for example `mock:result` to end of a route. Then use the injected MockEndpoint to define assertions for the exchange. MockEndpoint comes with many handy methods that you can use to check validity of the exchange.\r\n\r\nWhen using AdviceWith to modify routes for tests, remember to use the @UseAdviceWith annotation and start the CamelContext manually before each test. This is to avoid [unnecessary restarts of adviced routes](https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing). \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.EndpointInject;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.builder.AdviceWith;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\n@UseAdviceWith\r\npublic class MySpringBootApplicationTest  {\r\n\r\n\t@Autowired\r\n\tprivate CamelContext camelContext;\r\n\r\n\t@Autowired\r\n\tprivate ProducerTemplate producerTemplate;\r\n\r\n    @EndpointInject(uri = &quot;mock:result&quot;)\r\n    private MockEndpoint resulMockEndpoint;\r\n\r\n\t@Test\r\n\tpublic void test() throws Exception {\r\n\t\t\r\n        resulMockEndpoint.expectedMessageCount(1);\r\n        resulMockEndpoint.message(0)\r\n            .body().isEqualTo(&quot;Hello world&quot;);\r\n\r\n        addMockEndpointAsLast(&quot;hello&quot;);\r\n\r\n        camelContext.start();\r\n        producerTemplate.sendBody(&quot;direct:hello&quot;, &quot;world&quot;);\r\n\r\n        resulMockEndpoint.assertIsSatisfied();\r\n\t}\r\n\r\n    MockEndpoint addMockEndpointAsLast(String routeId) throws Exception {\r\n\r\n        AdviceWith.adviceWith(camelContext, routeId, builder -&gt; {\r\n            builder.weaveAddLast()\r\n                .to(&quot;mock:result&quot;)\r\n            ;\r\n        });\r\n        return resulMockEndpoint;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to further examine the exchange, you can get it from the exchanges list of MockEndpoint. Below is example on how to get body of first exchange as String. \r\n\r\n```java\r\nString result = resulMockEndpoint.getExchanges().get(0)\r\n    .getMessage().getBody(String.class);\r\n```\r\n\r\n## Without mocks\r\n\r\nYou can use `ProducerTemplate.send` method which returns the resulting exchange. However instead of body of any type the method wants you to provide it with exchange object which you can create using `DefaultExchange` class. \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.support.DefaultExchange;\r\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\npublic class MySpringBootApplicationTest  {\r\n\r\n\t@Autowired\r\n\tprivate CamelContext camelContext;\r\n\r\n\t@Autowired\r\n\tprivate ProducerTemplate producerTemplate;\r\n\r\n    @Test\r\n    void testWithoutMock(){\r\n\r\n        Exchange exchange = new DefaultExchange(camelContext);\r\n        exchange.getMessage().setBody(&quot;world&quot;);\r\n\r\n        Exchange resultExchange = producerTemplate.send(&quot;direct:hello&quot;, exchange);\r\n        assertEquals(&quot;Hello world&quot;, resultExchange.getMessage().getBody());\r\n    }\r\n}\r\n```\r\n\r\n## RouteBuilder \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MySpringBootRouter extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n        from(&quot;direct:hello&quot;)\r\n            .routeId(&quot;hello&quot;)\r\n            .setBody().simple(&quot;Hello ${body}&quot;)\r\n            .log(&quot;${body}&quot;)\r\n        ;\r\n    }\r\n}\r\n```\r\n\r\nExamples use Apache Camel version 3.20.2","title":"Get body in unit test camel","body":"<h2>With mocks</h2>\n<p>You can use <code>AdviceWith</code> and <code>weaveAddLast</code> to add for example <code>mock:result</code> to end of a route. Then use the injected MockEndpoint to define assertions for the exchange. MockEndpoint comes with many handy methods that you can use to check validity of the exchange.</p>\n<p>When using AdviceWith to modify routes for tests, remember to use the @UseAdviceWith annotation and start the CamelContext manually before each test. This is to avoid <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">unnecessary restarts of adviced routes</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.EndpointInject;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.AdviceWith;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\nimport org.junit.jupiter.api.Test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\n@CamelSpringBootTest\n@UseAdviceWith\npublic class MySpringBootApplicationTest  {\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @Autowired\n    private ProducerTemplate producerTemplate;\n\n    @EndpointInject(uri = &quot;mock:result&quot;)\n    private MockEndpoint resulMockEndpoint;\n\n    @Test\n    public void test() throws Exception {\n        \n        resulMockEndpoint.expectedMessageCount(1);\n        resulMockEndpoint.message(0)\n            .body().isEqualTo(&quot;Hello world&quot;);\n\n        addMockEndpointAsLast(&quot;hello&quot;);\n\n        camelContext.start();\n        producerTemplate.sendBody(&quot;direct:hello&quot;, &quot;world&quot;);\n\n        resulMockEndpoint.assertIsSatisfied();\n    }\n\n    MockEndpoint addMockEndpointAsLast(String routeId) throws Exception {\n\n        AdviceWith.adviceWith(camelContext, routeId, builder -&gt; {\n            builder.weaveAddLast()\n                .to(&quot;mock:result&quot;)\n            ;\n        });\n        return resulMockEndpoint;\n    }\n}\n</code></pre>\n<p>If you want to further examine the exchange, you can get it from the exchanges list of MockEndpoint. Below is example on how to get body of first exchange as String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = resulMockEndpoint.getExchanges().get(0)\n    .getMessage().getBody(String.class);\n</code></pre>\n<h2>Without mocks</h2>\n<p>You can use <code>ProducerTemplate.send</code> method which returns the resulting exchange. However instead of body of any type the method wants you to provide it with exchange object which you can create using <code>DefaultExchange</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.support.DefaultExchange;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\n@CamelSpringBootTest\npublic class MySpringBootApplicationTest  {\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @Autowired\n    private ProducerTemplate producerTemplate;\n\n    @Test\n    void testWithoutMock(){\n\n        Exchange exchange = new DefaultExchange(camelContext);\n        exchange.getMessage().setBody(&quot;world&quot;);\n\n        Exchange resultExchange = producerTemplate.send(&quot;direct:hello&quot;, exchange);\n        assertEquals(&quot;Hello world&quot;, resultExchange.getMessage().getBody());\n    }\n}\n</code></pre>\n<h2>RouteBuilder</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MySpringBootRouter extends RouteBuilder {\n\n    @Override\n    public void configure() {\n\n        from(&quot;direct:hello&quot;)\n            .routeId(&quot;hello&quot;)\n            .setBody().simple(&quot;Hello ${body}&quot;)\n            .log(&quot;${body}&quot;)\n        ;\n    }\n}\n</code></pre>\n<p>Examples use Apache Camel version 3.20.2</p>\n"}],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823103,"answer_count":1,"score":0,"last_activity_date":1679575680,"creation_date":1679512639,"question_id":75816445,"body_markdown":"I am trying to perform a unit test for one of my routes in camel however I can&#39;t find a way to check the body I receive from my route and check if it is what is expected. How can I do this with or without mocks?\r\n\r\nRoute\r\n\r\n    @Component\r\n    public class MyRoute extends RouteBuilder {    \r\n    \r\n        @Override public void configure() throws Exception {        \r\n            from(&quot;direct:MyRoute&quot;)                \r\n            .routeId(&quot;MyRoute&quot;)                \r\n            .marshal().json(JsonLibrary.Jackson)                \r\n            .log(&quot;Marshal to \\n${body}&quot;);    \r\n        }\r\n    }\r\n\r\nTest\r\n\r\n    public class MyRouteTest extends CamelTestSupport {    \r\n        @Override \r\n        protected RouteBuilder createRouteBuilder() throws Exception {    \r\n            return new MyRoute();    \r\n        }    \r\n\r\n        @Test\r\n        public void testRoute() throws Exception {\r\n            NotifyBuilder notify = new NotifyBuilder(context).whenDone(1).create();        \r\n            Map&lt;String,Object&gt; map = new LinkedHashMap&lt;&gt;();        \r\n            map.put(&quot;name&quot;,&quot;your_name&quot;); \r\n            template.sendBody(&quot;direct:MyRoute&quot;, map);     \r\n            assertTrue(notify.matchesWaitTime());\r\n       }\r\n    }","title":"Get body in unit test camel","body":"<p>I am trying to perform a unit test for one of my routes in camel however I can't find a way to check the body I receive from my route and check if it is what is expected. How can I do this with or without mocks?</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {    \n\n    @Override public void configure() throws Exception {        \n        from(&quot;direct:MyRoute&quot;)                \n        .routeId(&quot;MyRoute&quot;)                \n        .marshal().json(JsonLibrary.Jackson)                \n        .log(&quot;Marshal to \\n${body}&quot;);    \n    }\n}\n</code></pre>\n<p>Test</p>\n<pre><code>public class MyRouteTest extends CamelTestSupport {    \n    @Override \n    protected RouteBuilder createRouteBuilder() throws Exception {    \n        return new MyRoute();    \n    }    \n\n    @Test\n    public void testRoute() throws Exception {\n        NotifyBuilder notify = new NotifyBuilder(context).whenDone(1).create();        \n        Map&lt;String,Object&gt; map = new LinkedHashMap&lt;&gt;();        \n        map.put(&quot;name&quot;,&quot;your_name&quot;); \n        template.sendBody(&quot;direct:MyRoute&quot;, map);     \n        assertTrue(notify.matchesWaitTime());\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679327394,"post_id":75791735,"comment_id":133697793,"body_markdown":"As usual with these kinds of errors, crappy dependency management (sorry for the language). Remove the hibernate dependency, the jakarta-api and change the `javax.persistence` package to `jakarta.persistence` in your entities.","body":"As usual with these kinds of errors, crappy dependency management (sorry for the language). Remove the hibernate dependency, the jakarta-api and change the <code>javax.persistence</code> package to <code>jakarta.persistence</code> in your entities."},{"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"score":0,"creation_date":1679575243,"post_id":75791735,"comment_id":133748082,"body_markdown":"Thank you this solved it. I also had to remove the jakarta and javax dependencies.","body":"Thank you this solved it. I also had to remove the jakarta and javax dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388576,"creation_date":1679388576,"answer_id":75798990,"question_id":75791735,"body_markdown":"look like you have redundant dependencies specified in the POM, \r\n \r\nuse this curl to generate a new Project \r\n\r\n    curl https://start.spring.io/starter.tgz -d dependencies=lombok,data-jpa,web,security,mysql -d type=maven-project | tar -xzvf -\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    ","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>look like you have redundant dependencies specified in the POM,</p>\n<p>use this curl to generate a new Project</p>\n<pre><code>curl https://start.spring.io/starter.tgz -d dependencies=lombok,data-jpa,web,security,mysql -d type=maven-project | tar -xzvf -\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679575620,"creation_date":1679575620,"answer_id":75823176,"question_id":75791735,"body_markdown":"As @M.Deinum said I solved the error by changing my `javax.persistence` package to `jakarta.persistence`. So my class `Task` ended up like this: \r\n\r\n        package com.taskManager.Entities;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.ManyToOne;\r\n    \r\n    \r\n    @Entity(name = &quot;task&quot;)\r\n    public class Task {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t//@JoinColumn(name = &quot;user_id&quot;)\r\n    \t//private User user;\r\n    \tprivate String description;\r\n    \tprivate LocalDateTime date;\r\n    \tpublic Task(Long id, String name, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tpublic Task(String name, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n       }\r\n\r\nI also had to remove the `hibernate`,`jakarta` and `javax` dependencies in my pom.xml: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.taskManager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Task-Manager&lt;/name&gt;\r\n    \t&lt;description&gt;Application for managing differentes taks&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>As @M.Deinum said I solved the error by changing my <code>javax.persistence</code> package to <code>jakarta.persistence</code>. So my class <code>Task</code> ended up like this:</p>\n<pre><code>    package com.taskManager.Entities;\n\nimport java.time.LocalDateTime;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\n\n\n@Entity(name = &quot;task&quot;)\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    //@JoinColumn(name = &quot;user_id&quot;)\n    //private User user;\n    private String description;\n    private LocalDateTime date;\n    public Task(Long id, String name, String description, LocalDateTime date) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.date = date;\n    }\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public LocalDateTime getDate() {\n        return date;\n    }\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n    public Task(String name, String description, LocalDateTime date) {\n        super();\n        this.name = name;\n        this.description = description;\n        this.date = date;\n    }\n    \n    \n    \n   }\n</code></pre>\n<p>I also had to remove the <code>hibernate</code>,<code>jakarta</code> and <code>javax</code> dependencies in my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.taskManager&lt;/groupId&gt;\n    &lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Task-Manager&lt;/name&gt;\n    &lt;description&gt;Application for managing differentes taks&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823176,"answer_count":2,"score":0,"last_activity_date":1679575620,"creation_date":1679323458,"question_id":75791735,"body_markdown":"I am trying to run a spring boot project using maven with a MySQL database but I am getting the following error: \r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-03-20T14:40:56.700+01:00 ERROR 13448 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat com.taskManager.Task.Manager.TaskManagerApplication.main(TaskManagerApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\r\n    Caused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \t... 21 common frames omitted\r\n\r\nThis is my Entity `Task`:\r\n\r\n    package com.taskManager.Entities;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Entity(name = &quot;task&quot;)\r\n    public class Task {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \tprivate String description;\r\n    \tprivate LocalDateTime date;\r\n    \tpublic Task(Long id, String name, User user, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.user = user;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Task(String name, User user, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.user = user;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nThis is my pom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n          4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.taskManager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Task-Manager&lt;/name&gt;\r\n    \t&lt;description&gt;Application for managing differentes taks&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is my application.properties where I have my configuration: \r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/taskmanager\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nI saw similar post with Error creating bean with name &#39;entityManagerFactory&#39; but they were not the same as mine, and their solutions didn&#39;t work on my case.\r\n\r\n**What I have tried:**\r\n\r\n - Given solution in this post https://stackoverflow.com/questions/72761919/class-springhibernatejpapersistenceprovider-does-not-implement-the-requested-int Changed my hibernate version in pom.xml\r\n - Add and modify dependencies in pom.xml such as `hibernate-entitymanager` and `hibernate-core`.\r\n - Use mvn clean, mvn install, restart ide (Eclipse), run as java aplication, run as mvn spring-boot:run\r\n - In the entity `Task` remove the `@Id` notation.\r\n - Change `import javax.persistence.Id;` in entity `Task` for `import org.springframework.data.annotation.Id;`\r\n\r\n\r\nI do not know why this error is happening. Help please.\r\n \r\n\r\n","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>I am trying to run a spring boot project using maven with a MySQL database but I am getting the following error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-03-20T14:40:56.700+01:00 ERROR 13448 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.taskManager.Task.Manager.TaskManagerApplication.main(TaskManagerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 21 common frames omitted\n</code></pre>\n<p>This is my Entity <code>Task</code>:</p>\n<pre><code>package com.taskManager.Entities;\n\nimport java.time.LocalDateTime;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\n\n@Entity(name = &quot;task&quot;)\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n    private String description;\n    private LocalDateTime date;\n    public Task(Long id, String name, User user, String description, LocalDateTime date) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.user = user;\n        this.description = description;\n        this.date = date;\n    }\n    \n    \n    public Task(String name, User user, String description, LocalDateTime date) {\n        super();\n        this.name = name;\n        this.user = user;\n        this.description = description;\n        this.date = date;\n    }\n\n\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public User getUser() {\n        return user;\n    }\n    public void setUser(User user) {\n        this.user = user;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public LocalDateTime getDate() {\n        return date;\n    }\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n      4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.taskManager&lt;/groupId&gt;\n    &lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Task-Manager&lt;/name&gt;\n    &lt;description&gt;Application for managing differentes taks&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my application.properties where I have my configuration:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/taskmanager\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<p>I saw similar post with Error creating bean with name 'entityManagerFactory' but they were not the same as mine, and their solutions didn't work on my case.</p>\n<p><strong>What I have tried:</strong></p>\n<ul>\n<li>Given solution in this post <a href=\"https://stackoverflow.com/questions/72761919/class-springhibernatejpapersistenceprovider-does-not-implement-the-requested-int\">Class SpringHibernateJpaPersistenceProvider does not implement the requested interface PersistenceProvider</a> Changed my hibernate version in pom.xml</li>\n<li>Add and modify dependencies in pom.xml such as <code>hibernate-entitymanager</code> and <code>hibernate-core</code>.</li>\n<li>Use mvn clean, mvn install, restart ide (Eclipse), run as java aplication, run as mvn spring-boot:run</li>\n<li>In the entity <code>Task</code> remove the <code>@Id</code> notation.</li>\n<li>Change <code>import javax.persistence.Id;</code> in entity <code>Task</code> for <code>import org.springframework.data.annotation.Id;</code></li>\n</ul>\n<p>I do not know why this error is happening. Help please.</p>\n"},{"tags":["java","android","decode"],"owner":{"account_id":2853883,"reputation":1355,"user_id":2450494,"display_name":"pvalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679575179,"creation_date":1656122757,"question_id":72750811,"body_markdown":"So I managed to get the Integrity Token and Decode it as described here https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare-solved/72511785 but now I have some bizarre situation.\r\n\r\nI get the correct decode answer from the Google Cloud Server in my **DEBUG** version (LICENSED, UNRECOGNIZED_VERSION) running on a physical phone connected to my computer for debugging.\r\n\r\n**DEBUG**\r\n\r\n```json\r\n {DecodeIntegrityTokenResponse@11016}  size = 1\r\n &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@11044}  size = 4\r\n key = &quot;tokenPayloadExternal&quot;\r\n value = {TokenPayloadExternal@11044}  size = 4\r\n       &quot;accountDetails&quot; -&gt; {AccountDetails@11052}  size = 1\r\n          key = &quot;accountDetails&quot;\r\n          value = {AccountDetails@11052}  size = 1\r\n             &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\r\n       &quot;appIntegrity&quot; -&gt; {AppIntegrity@11054}  size = 4\r\n          key = &quot;appIntegrity&quot;\r\n          value = {AppIntegrity@11054}  size = 4\r\n             &quot;appRecognitionVerdict&quot; -&gt; &quot;UNRECOGNIZED_VERSION&quot;\r\n             &quot;certificateSha256Digest&quot; -&gt; {ArrayList@11072}  size = 1\r\n             &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\r\n             &quot;versionCode&quot; -&gt; {Long@11076} 30707\r\n       &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@11056}  size = 1\r\n          key = &quot;deviceIntegrity&quot;\r\n          value = {DeviceIntegrity@11056}  size = 1\r\n             &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@11081}  size = 1\r\n             key = &quot;deviceRecognitionVerdict&quot;\r\n                value = {ArrayList@11081}  size = 1\r\n                0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\r\n       &quot;requestDetails&quot; -&gt; {RequestDetails@11058}  size = 3\r\n          key = &quot;requestDetails&quot;\r\n          value = {RequestDetails@11058}  size = 3\r\n             &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\r\n             &quot;requestPackageName&quot; -&gt; &quot;com.visacsoft.customcalc&quot;\r\n             &quot;timestampMillis&quot; -&gt; {Long@11094} 1654386755670\r\n```\r\n\r\nIn the **RELEASE** version with the Test group enabled to validate it, I get the correct decode response (LICENSED, PLAY_RECOGNIZED), running on a physical phone downloaded from Google Play.\r\n\r\n**RELEASE with Test group**\r\n```json\r\n{DecodeIntegrityTokenResponse@23464}  size = 1\r\n   &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@23474}  size = 5\r\n      key = &quot;tokenPayloadExternal&quot;\r\n      value = {TokenPayloadExternal@23474}  size = 5\r\n      &quot;accountDetails&quot; -&gt; {AccountDetails@23483}  size = 1\r\n         key = &quot;accountDetails&quot;\r\n         value = {AccountDetails@23483}  size = 1\r\n            &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\r\n      &quot;appIntegrity&quot; -&gt; {AppIntegrity@23485}  size = 4\r\n         key = &quot;appIntegrity&quot;\r\n         value = {AppIntegrity@23485}  size = 4\r\n         &quot;appRecognitionVerdict&quot; -&gt; &quot;PLAY_RECOGNIZED&quot;\r\n            key = &quot;appRecognitionVerdict&quot;\r\n            value = &quot;PLAY_RECOGNIZED&quot;\r\n         &quot;certificateSha256Digest&quot; -&gt; {ArrayList@23505}  size = 1\r\n            key = &quot;certificateSha256Digest&quot;\r\n            value = {ArrayList@23505}  size = 1\r\n            0 = &quot;012345678901234567890b1mYS6Y6rQ4gFUw&quot;\r\n         &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\r\n            key = &quot;packageName&quot;\r\n            value = &quot;com.package.name&quot;\r\n         &quot;versionCode&quot; -&gt; {Long@23509} 30707\r\n            key = &quot;versionCode&quot;\r\n            value = {Long@23509} 30707\r\n      &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@23487}  size = 1\r\n         key = &quot;deviceIntegrity&quot;\r\n         value = {DeviceIntegrity@23487}  size = 1\r\n            &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@23516}  size = 1\r\n               key = &quot;deviceRecognitionVerdict&quot;\r\n               value = {ArrayList@23516}  size = 1\r\n                  0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\r\n      &quot;requestDetails&quot; -&gt; {RequestDetails@23489}  size = 3\r\n         key = &quot;requestDetails&quot;\r\n         value = {RequestDetails@23489}  size = 3\r\n            &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\r\n               key = &quot;nonce&quot;\r\n               value = &quot;my-nonce&quot;\r\n            &quot;requestPackageName&quot; -&gt; &quot;com.package.name&quot;\r\n            &quot;timestampMillis&quot; -&gt; {Long@23529} 1654368020674\r\n\r\n```\r\nBut, if I delete the response for the Test group, in the same **RELEASE** version I get a weird error saying: \r\n\r\n**RELEASE without Test group**\r\n&gt; The requested URL /v1/:decode IntegrityToken? B=com.package.name was\r\n&gt; not found on this server.\r\n\r\nin an HTML page message\r\n[![enter image description here][1]][1] \r\n\r\nHow can it Decode correctly for the **DEBUG** and Test **RELEASE** but it gives `The requested URL not found on this server` for the same **RELEASE** uploaded to Google Play but not in the test group??\r\n\r\nI think I have missed some configuration somewhere, but I can&#39;t find any setting, in the Google Play Console or the Google Cloud, that fix this.\r\n\r\nI have tried with and without the Cloud Project Number for the `IntegrityTokenResponse` getting the same error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sL1Ih.png","title":"Google Decode Integrity Token Error: URL not found","body":"<p>So I managed to get the Integrity Token and Decode it as described here <a href=\"https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare-solved/72511785\">Google PlayIntegrity API: a Nightmare</a> but now I have some bizarre situation.</p>\n<p>I get the correct decode answer from the Google Cloud Server in my <strong>DEBUG</strong> version (LICENSED, UNRECOGNIZED_VERSION) running on a physical phone connected to my computer for debugging.</p>\n<p><strong>DEBUG</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code> {DecodeIntegrityTokenResponse@11016}  size = 1\n &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@11044}  size = 4\n key = &quot;tokenPayloadExternal&quot;\n value = {TokenPayloadExternal@11044}  size = 4\n       &quot;accountDetails&quot; -&gt; {AccountDetails@11052}  size = 1\n          key = &quot;accountDetails&quot;\n          value = {AccountDetails@11052}  size = 1\n             &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\n       &quot;appIntegrity&quot; -&gt; {AppIntegrity@11054}  size = 4\n          key = &quot;appIntegrity&quot;\n          value = {AppIntegrity@11054}  size = 4\n             &quot;appRecognitionVerdict&quot; -&gt; &quot;UNRECOGNIZED_VERSION&quot;\n             &quot;certificateSha256Digest&quot; -&gt; {ArrayList@11072}  size = 1\n             &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\n             &quot;versionCode&quot; -&gt; {Long@11076} 30707\n       &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@11056}  size = 1\n          key = &quot;deviceIntegrity&quot;\n          value = {DeviceIntegrity@11056}  size = 1\n             &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@11081}  size = 1\n             key = &quot;deviceRecognitionVerdict&quot;\n                value = {ArrayList@11081}  size = 1\n                0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\n       &quot;requestDetails&quot; -&gt; {RequestDetails@11058}  size = 3\n          key = &quot;requestDetails&quot;\n          value = {RequestDetails@11058}  size = 3\n             &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\n             &quot;requestPackageName&quot; -&gt; &quot;com.visacsoft.customcalc&quot;\n             &quot;timestampMillis&quot; -&gt; {Long@11094} 1654386755670\n</code></pre>\n<p>In the <strong>RELEASE</strong> version with the Test group enabled to validate it, I get the correct decode response (LICENSED, PLAY_RECOGNIZED), running on a physical phone downloaded from Google Play.</p>\n<p><strong>RELEASE with Test group</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{DecodeIntegrityTokenResponse@23464}  size = 1\n   &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@23474}  size = 5\n      key = &quot;tokenPayloadExternal&quot;\n      value = {TokenPayloadExternal@23474}  size = 5\n      &quot;accountDetails&quot; -&gt; {AccountDetails@23483}  size = 1\n         key = &quot;accountDetails&quot;\n         value = {AccountDetails@23483}  size = 1\n            &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\n      &quot;appIntegrity&quot; -&gt; {AppIntegrity@23485}  size = 4\n         key = &quot;appIntegrity&quot;\n         value = {AppIntegrity@23485}  size = 4\n         &quot;appRecognitionVerdict&quot; -&gt; &quot;PLAY_RECOGNIZED&quot;\n            key = &quot;appRecognitionVerdict&quot;\n            value = &quot;PLAY_RECOGNIZED&quot;\n         &quot;certificateSha256Digest&quot; -&gt; {ArrayList@23505}  size = 1\n            key = &quot;certificateSha256Digest&quot;\n            value = {ArrayList@23505}  size = 1\n            0 = &quot;012345678901234567890b1mYS6Y6rQ4gFUw&quot;\n         &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\n            key = &quot;packageName&quot;\n            value = &quot;com.package.name&quot;\n         &quot;versionCode&quot; -&gt; {Long@23509} 30707\n            key = &quot;versionCode&quot;\n            value = {Long@23509} 30707\n      &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@23487}  size = 1\n         key = &quot;deviceIntegrity&quot;\n         value = {DeviceIntegrity@23487}  size = 1\n            &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@23516}  size = 1\n               key = &quot;deviceRecognitionVerdict&quot;\n               value = {ArrayList@23516}  size = 1\n                  0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\n      &quot;requestDetails&quot; -&gt; {RequestDetails@23489}  size = 3\n         key = &quot;requestDetails&quot;\n         value = {RequestDetails@23489}  size = 3\n            &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\n               key = &quot;nonce&quot;\n               value = &quot;my-nonce&quot;\n            &quot;requestPackageName&quot; -&gt; &quot;com.package.name&quot;\n            &quot;timestampMillis&quot; -&gt; {Long@23529} 1654368020674\n\n</code></pre>\n<p>But, if I delete the response for the Test group, in the same <strong>RELEASE</strong> version I get a weird error saying:</p>\n<p><strong>RELEASE without Test group</strong></p>\n<blockquote>\n<p>The requested URL /v1/:decode IntegrityToken? B=com.package.name was\nnot found on this server.</p>\n</blockquote>\n<p>in an HTML page message\n<a href=\"https://i.stack.imgur.com/sL1Ih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sL1Ih.png\" alt=\"enter image description here\" /></a></p>\n<p>How can it Decode correctly for the <strong>DEBUG</strong> and Test <strong>RELEASE</strong> but it gives <code>The requested URL not found on this server</code> for the same <strong>RELEASE</strong> uploaded to Google Play but not in the test group??</p>\n<p>I think I have missed some configuration somewhere, but I can't find any setting, in the Google Play Console or the Google Cloud, that fix this.</p>\n<p>I have tried with and without the Cloud Project Number for the <code>IntegrityTokenResponse</code> getting the same error.</p>\n"},{"tags":["java","c++","hook","jit"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1679555294,"post_id":75820047,"comment_id":133743254,"body_markdown":"It&#39;s difficult to understand the question like this, maybe you can give some example.","body":"It&#39;s difficult to understand the question like this, maybe you can give some example."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1679560085,"post_id":75820047,"comment_id":133744253,"body_markdown":"I don&#39;t understand why you care about the distinction between interpreted and compiled functions? Surely you just call them and/or hot reload them?","body":"I don&#39;t understand why you care about the distinction between interpreted and compiled functions? Surely you just call them and/or hot reload them?"},{"owner":{"account_id":26364508,"reputation":1,"user_id":20020196,"display_name":"InternetUser"},"score":0,"creation_date":1679573225,"post_id":75820047,"comment_id":133747492,"body_markdown":"@Botje I am performing detour hooks, the problem is that the jvm will constantly recompile functions every few minutes breaking the hooks I place. Therefore I need: to turn off this compilation OR be aware when the recompilation is about to take place","body":"@Botje I am performing detour hooks, the problem is that the jvm will constantly recompile functions every few minutes breaking the hooks I place. Therefore I need: to turn off this compilation OR be aware when the recompilation is about to take place"}],"owner":{"account_id":26364508,"reputation":1,"user_id":20020196,"display_name":"InternetUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679575017,"creation_date":1679555093,"question_id":75820047,"body_markdown":"I am currently working on a c++ project that involves injecting a dll into the java process (minecraft), one major component of this project requires that any java function i specify must remain as interpreted and not become compiled. If I disable the compiler fully then there is a huge drop in performance, making the game unplayable even high-end hardware.\r\n\r\nWhat im looking for is some way to allow function compilation to work as normal, but prevent a few target functions from compiling.\r\n\r\nAlternatively I could also use a system where im notified that my target function is about to be, or has just been compiled, and be given the new pointer to it, but I feel the approach of compilation prevention is more practical to do.\r\n\r\n\r\nI do not have the option to modify/specify arguments to java during the launch of the application, i cant do something like -X:CompileCommand=exclude,the/package/and/Class,methodName. Would it maybe be possible to somehow add functions I want to exclude during runtime?\r\nOr does anyone know of some place I could place a hook and monitor which functions the jvm plans on compiling, and prevent the ones I specify?\r\n\r\nI have thought about hooking compiler or GC threads but this dosnt seem like a safe or reliable approach, im told it would have a lot of drawbacks.","title":"Disable Java JIT compilation of specific functions","body":"<p>I am currently working on a c++ project that involves injecting a dll into the java process (minecraft), one major component of this project requires that any java function i specify must remain as interpreted and not become compiled. If I disable the compiler fully then there is a huge drop in performance, making the game unplayable even high-end hardware.</p>\n<p>What im looking for is some way to allow function compilation to work as normal, but prevent a few target functions from compiling.</p>\n<p>Alternatively I could also use a system where im notified that my target function is about to be, or has just been compiled, and be given the new pointer to it, but I feel the approach of compilation prevention is more practical to do.</p>\n<p>I do not have the option to modify/specify arguments to java during the launch of the application, i cant do something like -X:CompileCommand=exclude,the/package/and/Class,methodName. Would it maybe be possible to somehow add functions I want to exclude during runtime?\nOr does anyone know of some place I could place a hook and monitor which functions the jvm plans on compiling, and prevent the ones I specify?</p>\n<p>I have thought about hooking compiler or GC threads but this dosnt seem like a safe or reliable approach, im told it would have a lot of drawbacks.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":459638,"reputation":6041,"user_id":860212,"display_name":"karllindmark"},"score":0,"creation_date":1679559394,"post_id":75820191,"comment_id":133744119,"body_markdown":"What version of Android are you running it on?","body":"What version of Android are you running it on?"},{"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"score":0,"creation_date":1679561209,"post_id":75820191,"comment_id":133744485,"body_markdown":"@karllindmark Android 12","body":"@karllindmark Android 12"}],"answers":[{"tags":[],"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574788,"creation_date":1679574758,"answer_id":75823041,"question_id":75820191,"body_markdown":"I`m do THIS! \r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n\r\n    public class RoundedCornerLayout extends MyMaterialCardView {\r\n\r\n        private Path path = new Path();\r\n        private RectF rect = new RectF();\r\n        private float[] cornerRadii = new float[8];\r\n\r\n        public RoundedCornerLayout(Context context) {\r\n            super(context);\r\n            init(context, null);\r\n        }\r\n\r\n        public RoundedCornerLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init(context, attrs);\r\n        }\r\n\r\n        public RoundedCornerLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init(context, attrs);\r\n        }\r\n\r\n        private void init(Context context, AttributeSet attrs) {\r\n            if (attrs != null) {\r\n                TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.RoundedCornerLayout);\r\n\r\n\r\n                float radiusTopLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopLeft, 0);\r\n                float radiusTopRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopRight, 0);\r\n                float radiusBottomRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomRight, 0);\r\n                float radiusBottomLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomLeft, 0);\r\n\r\n                cornerRadii[0] = cornerRadii[1] =radiusTopLeft;\r\n                cornerRadii[2] = cornerRadii[3] =radiusTopRight;\r\n                cornerRadii[4] = cornerRadii[5] =radiusBottomRight;\r\n                cornerRadii[6] = cornerRadii[7] =radiusBottomLeft;\r\n                a.recycle();\r\n\r\n\r\n                ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\r\n                        .toBuilder()\r\n                        .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\r\n                        .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\r\n                        .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\r\n                        .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\r\n                        .build();\r\n\r\n\r\n                setShapeAppearanceModel(shapeAppearanceModel);\r\n\r\n\r\n            }\r\n            setWillNotDraw(false);\r\n        }\r\n\r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec,int heightMeasureSpec){\r\n            int count=getChildCount();\r\n            int maxHeight=0;\r\n            int maxWidth=0;\r\n\r\n            for(int i=0;i&lt;count;i++){\r\n                final View child=getChildAt(i);\r\n                if(child.getVisibility()!=GONE){\r\n                    measureChild(child,widthMeasureSpec,heightMeasureSpec);\r\n                    maxWidth=Math.max(maxWidth,\r\n                            child.getMeasuredWidth());\r\n                    maxHeight=Math.max(maxHeight,\r\n                            child.getMeasuredHeight());\r\n                }\r\n            }\r\n\r\n            maxWidth+=getPaddingLeft()+getPaddingRight();\r\n            maxHeight+=getPaddingTop()+getPaddingBottom();\r\n\r\n            setMeasuredDimension(resolveSizeAndState(maxWidth,widthMeasureSpec , 0),\r\n                    resolveSizeAndState(maxHeight,heightMeasureSpec , 0));\r\n        }\r\n\r\n        @Override\r\n        protected void onLayout(boolean changed,int l,int t,int r,int b){\r\n            int count=getChildCount();\r\n\r\n            for(int i=0;i&lt;count;i++){\r\n                final View child=getChildAt(i);\r\n                if(child.getVisibility()!=GONE){\r\n                    child.layout(getPaddingLeft(),getPaddingTop(),\r\n                            getPaddingLeft()+child.getMeasuredWidth(),\r\n                            getPaddingTop()+child.getMeasuredHeight());\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void draw(Canvas canvas) {\r\n            canvas.save();\r\n            rect.set(0f , 0f , getWidth() , getHeight());\r\n\r\n            path.addRoundRect(rect,\r\n                    cornerRadii,\r\n                    Path.Direction.CW);\r\n\r\n            canvas.clipPath(path);\r\n\r\n            super.draw(canvas);\r\n\r\n            canvas.restore();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"The elements inside the MaterialCardView are not clipped at the edges","body":"<p>I`m do THIS!</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class RoundedCornerLayout extends MyMaterialCardView {\n\n    private Path path = new Path();\n    private RectF rect = new RectF();\n    private float[] cornerRadii = new float[8];\n\n    public RoundedCornerLayout(Context context) {\n        super(context);\n        init(context, null);\n    }\n\n    public RoundedCornerLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs);\n    }\n\n    public RoundedCornerLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context, attrs);\n    }\n\n    private void init(Context context, AttributeSet attrs) {\n        if (attrs != null) {\n            TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.RoundedCornerLayout);\n\n\n            float radiusTopLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopLeft, 0);\n            float radiusTopRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopRight, 0);\n            float radiusBottomRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomRight, 0);\n            float radiusBottomLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomLeft, 0);\n\n            cornerRadii[0] = cornerRadii[1] =radiusTopLeft;\n            cornerRadii[2] = cornerRadii[3] =radiusTopRight;\n            cornerRadii[4] = cornerRadii[5] =radiusBottomRight;\n            cornerRadii[6] = cornerRadii[7] =radiusBottomLeft;\n            a.recycle();\n\n\n            ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\n                    .toBuilder()\n                    .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\n                    .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\n                    .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\n                    .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\n                    .build();\n\n\n            setShapeAppearanceModel(shapeAppearanceModel);\n\n\n        }\n        setWillNotDraw(false);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec,int heightMeasureSpec){\n        int count=getChildCount();\n        int maxHeight=0;\n        int maxWidth=0;\n\n        for(int i=0;i&lt;count;i++){\n            final View child=getChildAt(i);\n            if(child.getVisibility()!=GONE){\n                measureChild(child,widthMeasureSpec,heightMeasureSpec);\n                maxWidth=Math.max(maxWidth,\n                        child.getMeasuredWidth());\n                maxHeight=Math.max(maxHeight,\n                        child.getMeasuredHeight());\n            }\n        }\n\n        maxWidth+=getPaddingLeft()+getPaddingRight();\n        maxHeight+=getPaddingTop()+getPaddingBottom();\n\n        setMeasuredDimension(resolveSizeAndState(maxWidth,widthMeasureSpec , 0),\n                resolveSizeAndState(maxHeight,heightMeasureSpec , 0));\n    }\n\n    @Override\n    protected void onLayout(boolean changed,int l,int t,int r,int b){\n        int count=getChildCount();\n\n        for(int i=0;i&lt;count;i++){\n            final View child=getChildAt(i);\n            if(child.getVisibility()!=GONE){\n                child.layout(getPaddingLeft(),getPaddingTop(),\n                        getPaddingLeft()+child.getMeasuredWidth(),\n                        getPaddingTop()+child.getMeasuredHeight());\n            }\n        }\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        canvas.save();\n        rect.set(0f , 0f , getWidth() , getHeight());\n\n        path.addRoundRect(rect,\n                cornerRadii,\n                Path.Direction.CW);\n\n        canvas.clipPath(path);\n\n        super.draw(canvas);\n\n        canvas.restore();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679574788,"creation_date":1679556387,"question_id":75820191,"body_markdown":"I&#39;m trying to make a MaterialCardView with different rounds.\r\n\r\nEverything is fine on the layout in Android Studio. [Image](https://i.stack.imgur.com/Nst2Q.png)\r\n\r\nBut when I run it on android, there are no more rounds. [Image](https://i.stack.imgur.com/x1gya.png)\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:backgroundTint=&quot;@color/white&quot;\r\n    android:clipChildren=&quot;true&quot;\r\n    tools:context=&quot;.ui.main.MainFragment&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:clipChildren=&quot;true&quot;\r\n        app:cardElevation=&quot;15dp&quot;\r\n        app:cardPreventCornerOverlap=&quot;false&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n\r\n        app:shapeAppearanceOverlay=&quot;@style/CustomShapeAppearance&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:visibility=&quot;visible&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_second&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:id=&quot;@+id/filledTextField&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:hint=&quot;@string/InsertLogin&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputEditText\r\n                        android:id=&quot;@+id/username_edit_text&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:background=&quot;@android:color/transparent&quot; /&gt;\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;@string/InsertPassWord&quot;\r\n                    app:boxBackgroundColor=&quot;#00FFFFFF&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputEditText\r\n                        android:id=&quot;@+id/password_edit_text&quot;\r\n                        style=&quot;@style/AppTheme&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        android:singleLine=&quot;true&quot; /&gt;\r\n\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            \r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:id=&quot;@+id/login_button&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/gradient_main&quot;\r\n                android:text=&quot;@string/Login&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried to make my own class, but it doesn&#39;t work as it should. If one of the corners is different from all, then the rounding is not visible again.\r\n\r\n\r\n```\r\npublic class MyMaterialCardView extends MaterialCardView {\r\n    private float radiusTopLeft = 20;\r\n    private float radiusTopRight = 20;\r\n    private float radiusBottomRight = 20;\r\n    private float radiusBottomLeft = 20;\r\n\r\n    public MyMaterialCardView(Context context) {\r\n        super(context);\r\n        init(null);\r\n    }\r\n\r\n    public MyMaterialCardView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(attrs);\r\n    }\r\n\r\n    public MyMaterialCardView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init(attrs);\r\n    }\r\n\r\n    private void init(AttributeSet attrs) {\r\n        if (attrs != null) {\r\n            TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.MyMaterialCardView);\r\n            radiusTopLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusTopLeft, 20);\r\n            radiusTopRight = a.getDimension(R.styleable.MyMaterialCardView_radiusTopRight, 20);\r\n            radiusBottomRight = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomRight, 20);\r\n            radiusBottomLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomLeft, 20);\r\n            a.recycle();\r\n        }\r\n        ShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\r\n                .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\r\n                .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\r\n                .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\r\n                .build();\r\n\r\n\r\n        setShapeAppearanceModel(shapeAppearanceModel);\r\n    }\r\n}\r\n```\r\n","title":"The elements inside the MaterialCardView are not clipped at the edges","body":"<p>I'm trying to make a MaterialCardView with different rounds.</p>\n<p>Everything is fine on the layout in Android Studio. <a href=\"https://i.stack.imgur.com/Nst2Q.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>But when I run it on android, there are no more rounds. <a href=\"https://i.stack.imgur.com/x1gya.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:backgroundTint=&quot;@color/white&quot;\n    android:clipChildren=&quot;true&quot;\n    tools:context=&quot;.ui.main.MainFragment&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:clipChildren=&quot;true&quot;\n        app:cardElevation=&quot;15dp&quot;\n        app:cardPreventCornerOverlap=&quot;false&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n\n        app:shapeAppearanceOverlay=&quot;@style/CustomShapeAppearance&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;\n            android:visibility=&quot;visible&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_second&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/filledTextField&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:hint=&quot;@string/InsertLogin&quot;&gt;\n\n                    &lt;com.google.android.material.textfield.TextInputEditText\n                        android:id=&quot;@+id/username_edit_text&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:background=&quot;@android:color/transparent&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;@string/InsertPassWord&quot;\n                    app:boxBackgroundColor=&quot;#00FFFFFF&quot;&gt;\n\n                    &lt;com.google.android.material.textfield.TextInputEditText\n                        android:id=&quot;@+id/password_edit_text&quot;\n                        style=&quot;@style/AppTheme&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:background=&quot;@android:color/transparent&quot;\n                        android:singleLine=&quot;true&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n            \n            &lt;/LinearLayout&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/login_button&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/gradient_main&quot;\n                android:text=&quot;@string/Login&quot;\n                app:backgroundTint=&quot;@null&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>I tried to make my own class, but it doesn't work as it should. If one of the corners is different from all, then the rounding is not visible again.</p>\n<pre><code>public class MyMaterialCardView extends MaterialCardView {\n    private float radiusTopLeft = 20;\n    private float radiusTopRight = 20;\n    private float radiusBottomRight = 20;\n    private float radiusBottomLeft = 20;\n\n    public MyMaterialCardView(Context context) {\n        super(context);\n        init(null);\n    }\n\n    public MyMaterialCardView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(attrs);\n    }\n\n    public MyMaterialCardView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(attrs);\n    }\n\n    private void init(AttributeSet attrs) {\n        if (attrs != null) {\n            TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.MyMaterialCardView);\n            radiusTopLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusTopLeft, 20);\n            radiusTopRight = a.getDimension(R.styleable.MyMaterialCardView_radiusTopRight, 20);\n            radiusBottomRight = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomRight, 20);\n            radiusBottomLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomLeft, 20);\n            a.recycle();\n        }\n        ShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\n                .toBuilder()\n                .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\n                .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\n                .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\n                .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\n                .build();\n\n\n        setShapeAppearanceModel(shapeAppearanceModel);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":0,"creation_date":1507148335,"post_id":46573452,"comment_id":80100588,"body_markdown":"How&#39;s your deserialization defined?","body":"How&#39;s your deserialization defined?"},{"owner":{"account_id":1730559,"reputation":1101,"user_id":1584263,"display_name":"blafasel"},"score":0,"creation_date":1507148799,"post_id":46573452,"comment_id":80100799,"body_markdown":"Just to get the most obvious out of the way: If `&quot;\\u00a2&quot;` is somehow part of your Java code then the Java compiler is doing the convertion not Jackson. If you want notate the string consisting of 6 chars you must use `&quot;\\\\u00a2&quot;`.","body":"Just to get the most obvious out of the way: If <code>&quot;\\u00a2&quot;</code> is somehow part of your Java code then the Java compiler is doing the convertion not Jackson. If you want notate the string consisting of 6 chars you must use <code>&quot;\\\\u00a2&quot;</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1507149366,"post_id":46573452,"comment_id":80101032,"body_markdown":"Are you sure you&#39;re sending the JSON using the correct character set? How do you get the JSON text from the `ObjectMapper` and how is that text sent on to the remote server? Did you encode it in UTF-8 on that transmission? Did you tell the remote server what character set you sent it in? --- However, if the remote server cannot handle UTF-8, or whatever character set you&#39;re actually using, and you want to stick to US-ASCII and JSON escapes for the rest, have `ObjectMapper` output the JSON text as a `String`, and then convert non-ASCII to escapes yourself before sending it.","body":"Are you sure you&#39;re sending the JSON using the correct character set? How do you get the JSON text from the <code>ObjectMapper</code> and how is that text sent on to the remote server? Did you encode it in UTF-8 on that transmission? Did you tell the remote server what character set you sent it in? --- However, if the remote server cannot handle UTF-8, or whatever character set you&#39;re actually using, and you want to stick to US-ASCII and JSON escapes for the rest, have <code>ObjectMapper</code> output the JSON text as a <code>String</code>, and then convert non-ASCII to escapes yourself before sending it."}],"answers":[{"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507186666,"creation_date":1507185786,"answer_id":46579378,"question_id":46573452,"body_markdown":"What you are expecting is outside scope of Jackosn. It&#39;s java that converts the String while reading it. For same reason, if you have a properties file with value `\\u00a2` and read it using jdk API, you will get converted value. Depending on the file size, either you can double escape char \\ before passing the string to Json or &quot;escape&quot; the string back using your Deserializer (only for string) and something like below:\r\n\r\nThank you\r\n\r\n    package com.test.json;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import java.io.IOException;\r\n    import java.util.Map;\r\n    \r\n    public class Jackson {\r\n    \r\n        static ObjectMapper _MAPPER = new ObjectMapper();\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\r\n            SimpleModule testModule\r\n                    = new SimpleModule(&quot;StOvFl&quot;, _MAPPER.version()).addDeserializer(String.class,\r\n                            new UnEscapedSerializaer());\r\n    \r\n            _MAPPER.registerModule(testModule);\r\n    \r\n            Map m = _MAPPER.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n            });\r\n            System.out.println(&quot;m&quot; + m);\r\n    \r\n        }\r\n    }\r\n    \r\n    class UnEscapedSerializaer extends JsonDeserializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            String s = jp.getValueAsString();\r\n            return org.apache.commons.lang.StringEscapeUtils.StringEscapeUtils.escapeJava(s);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>What you are expecting is outside scope of Jackosn. It's java that converts the String while reading it. For same reason, if you have a properties file with value <code>\\u00a2</code> and read it using jdk API, you will get converted value. Depending on the file size, either you can double escape char \\ before passing the string to Json or \"escape\" the string back using your Deserializer (only for string) and something like below:</p>\n\n<p>Thank you</p>\n\n<pre><code>package com.test.json;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class Jackson {\n\n    static ObjectMapper _MAPPER = new ObjectMapper();\n\n    public static void main(String[] args) throws Exception {\n        String json = \"{\\\"field1\\\": \\\"\\\\u00a2\\\",\\\"field2\\\": \\\"\\\\u00a2 this\\\",\\\"numberField\\\": 121212}\";\n        SimpleModule testModule\n                = new SimpleModule(\"StOvFl\", _MAPPER.version()).addDeserializer(String.class,\n                        new UnEscapedSerializaer());\n\n        _MAPPER.registerModule(testModule);\n\n        Map m = _MAPPER.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n        System.out.println(\"m\" + m);\n\n    }\n}\n\nclass UnEscapedSerializaer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        String s = jp.getValueAsString();\n        return org.apache.commons.lang.StringEscapeUtils.StringEscapeUtils.escapeJava(s);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664978,"reputation":2169,"user_id":5142886,"display_name":"tianzhipeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618197182,"creation_date":1618197182,"answer_id":67052210,"question_id":46573452,"body_markdown":"Another way to custom Jackson&#39;s behavior is customized `JsonParser`. See jackson&#39;s source code of [JsonFactory](https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/JsonFactory.java), [ReaderBasedJsonParser](https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java);\r\n\r\nThe key methond is `_finishString2()` which is used to do &#39;decodeEscaped&#39;, so we can write a JsonParser extends ReaderBasedJsonParser and override the `_finishString2` method:\r\n\r\n```\r\npublic class MyJsonParser extends ReaderBasedJsonParser {\r\n    @Override\r\n    protected void _finishString2() throws IOException {\r\n        char[] outBuf = _textBuffer.getCurrentSegment();\r\n        int outPtr = _textBuffer.getCurrentSegmentSize();\r\n        final int[] codes = _icLatin1;\r\n        final int maxCode = codes.length;\r\n\r\n        while (true) {\r\n            if (_inputPtr &gt;= _inputEnd) {\r\n                if (!loadMore()) {\r\n                    _reportInvalidEOF(&quot;: was expecting closing quote for a string value&quot;);\r\n                }\r\n            }\r\n            char c = _inputBuffer[_inputPtr++];\r\n            int i = (int) c;\r\n            if (i &lt; maxCode &amp;&amp; codes[i] != 0) {\r\n                if (i == INT_QUOTE) {\r\n                    break;\r\n                } else {\r\n                    //c = _decodeEscaped();\r\n                    //do nth\r\n                }\r\n            }\r\n            // Need more room?\r\n            if (outPtr &gt;= outBuf.length) {\r\n                outBuf = _textBuffer.finishCurrentSegment();\r\n                outPtr = 0;\r\n            }\r\n            // Ok, let&#39;s add char to output:\r\n            outBuf[outPtr++] = c;\r\n        }\r\n        _textBuffer.setCurrentLength(outPtr);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper(new MyJsonParserFactory());\r\n        Object o = objectMapper.readValue(json, Object.class);\r\n        System.out.println(o);\r\n    }\r\n}\r\n```\r\nFull demo code [here](https://gist.github.com/tianzhipeng-git/2997a5afb44efc3308b5e59e8bf45971)\r\n","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>Another way to custom Jackson's behavior is customized <code>JsonParser</code>. See jackson's source code of <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/JsonFactory.java\" rel=\"nofollow noreferrer\">JsonFactory</a>, <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java\" rel=\"nofollow noreferrer\">ReaderBasedJsonParser</a>;</p>\n<p>The key methond is <code>_finishString2()</code> which is used to do 'decodeEscaped', so we can write a JsonParser extends ReaderBasedJsonParser and override the <code>_finishString2</code> method:</p>\n<pre><code>public class MyJsonParser extends ReaderBasedJsonParser {\n    @Override\n    protected void _finishString2() throws IOException {\n        char[] outBuf = _textBuffer.getCurrentSegment();\n        int outPtr = _textBuffer.getCurrentSegmentSize();\n        final int[] codes = _icLatin1;\n        final int maxCode = codes.length;\n\n        while (true) {\n            if (_inputPtr &gt;= _inputEnd) {\n                if (!loadMore()) {\n                    _reportInvalidEOF(&quot;: was expecting closing quote for a string value&quot;);\n                }\n            }\n            char c = _inputBuffer[_inputPtr++];\n            int i = (int) c;\n            if (i &lt; maxCode &amp;&amp; codes[i] != 0) {\n                if (i == INT_QUOTE) {\n                    break;\n                } else {\n                    //c = _decodeEscaped();\n                    //do nth\n                }\n            }\n            // Need more room?\n            if (outPtr &gt;= outBuf.length) {\n                outBuf = _textBuffer.finishCurrentSegment();\n                outPtr = 0;\n            }\n            // Ok, let's add char to output:\n            outBuf[outPtr++] = c;\n        }\n        _textBuffer.setCurrentLength(outPtr);\n    }\n\n    public static void main(String[] args) throws IOException {\n        String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper(new MyJsonParserFactory());\n        Object o = objectMapper.readValue(json, Object.class);\n        System.out.println(o);\n    }\n}\n</code></pre>\n<p>Full demo code <a href=\"https://gist.github.com/tianzhipeng-git/2997a5afb44efc3308b5e59e8bf45971\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":70000,"reputation":1477,"user_id":203415,"accept_rate":100,"display_name":"eitama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574771,"creation_date":1679574771,"answer_id":75823048,"question_id":46573452,"body_markdown":"Spent a few hours looking for a solution, and I found it.\r\n\r\nI had some Binary data. for example `0xab 0xa6 0xaa`\r\nI wanted my json to look like this:\r\n\r\n    {\r\n      &quot;binary-data-as-unicode&quot;: &quot;\\u00ab\\u00a6\\u00aa&quot;\r\n    }\r\n\r\nThe reader of this json would get rid of the `\\u00` and treat what&#39;s left as a hex string representing binary data.\r\n\r\nIn order to use jackson ObjectMapper, I prepared a String object with my formatted unicode notation string of hex data:\r\n\r\n    public static String toHexString(ByteArrayOutputStream stream) {\r\n        byte[] byteArray = stream.toByteArray();\r\n        StringBuilder hexString = new StringBuilder();\r\n        for (byte b : byteArray) {\r\n            hexString.append(String.format(&quot;\\\\u%04X&quot;, b &amp; 0xFF));\r\n        }\r\n        return String.format(&quot;\\&quot;%s\\&quot;&quot;, hexString.toString());\r\n    }\r\n\r\nThen, I used:\r\n\r\n    // stream of type ByteArrayOutputStream\r\n    String unicodedString = toHexString(stream);\r\n    ObjectNode objNode = mapper.createObjectNode();\r\n    objNode.putRawValue(&quot;field-name&quot;, new RawValue(unicodedString));\r\n\r\nThis way, there was no further escaping, and I got what I wanted.","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>Spent a few hours looking for a solution, and I found it.</p>\n<p>I had some Binary data. for example <code>0xab 0xa6 0xaa</code>\nI wanted my json to look like this:</p>\n<pre><code>{\n  &quot;binary-data-as-unicode&quot;: &quot;\\u00ab\\u00a6\\u00aa&quot;\n}\n</code></pre>\n<p>The reader of this json would get rid of the <code>\\u00</code> and treat what's left as a hex string representing binary data.</p>\n<p>In order to use jackson ObjectMapper, I prepared a String object with my formatted unicode notation string of hex data:</p>\n<pre><code>public static String toHexString(ByteArrayOutputStream stream) {\n    byte[] byteArray = stream.toByteArray();\n    StringBuilder hexString = new StringBuilder();\n    for (byte b : byteArray) {\n        hexString.append(String.format(&quot;\\\\u%04X&quot;, b &amp; 0xFF));\n    }\n    return String.format(&quot;\\&quot;%s\\&quot;&quot;, hexString.toString());\n}\n</code></pre>\n<p>Then, I used:</p>\n<pre><code>// stream of type ByteArrayOutputStream\nString unicodedString = toHexString(stream);\nObjectNode objNode = mapper.createObjectNode();\nobjNode.putRawValue(&quot;field-name&quot;, new RawValue(unicodedString));\n</code></pre>\n<p>This way, there was no further escaping, and I got what I wanted.</p>\n"}],"owner":{"account_id":1002968,"reputation":2073,"user_id":1017413,"accept_rate":16,"display_name":"user1017413"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14201,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1679574771,"creation_date":1507148205,"question_id":46573452,"body_markdown":"I&#39;m using Jackson 2.4 in Java to do some JSON legwork. I make a call to a remote server with Apache HttpGet, deserialize the results with Jackson into a POJO, manipulate those results, and then serialize them with Jackson to push back to a remote server with HttpPost. \r\n\r\nThe issue I&#39;m finding is that Jackson is translating unicode literals into unicode characters, which I need it not to do thanks to encoding issues on each end. For example, I might have this in the JSON:\r\n\r\n    &quot;field1&quot;: &quot;\\u00a2&quot;\r\n\r\nBut Jackson is converting the &quot;\\u00a2&quot; to &quot;&#162;&quot; when it&#39;s deserialized, which causes problems with the remote server. It has to be maintained as escaped unicode. If I use something like Apache EntityUtils (specifying UTF-8) or even make the call from my web browser to get the data, the escaped unicode is preserved, so I know that it&#39;s coming in properly from the server. If I have Jackson consume the input stream from the entity on the response, it does the conversion automatically.\r\n\r\nI&#39;ve tried writing with a JsonGenerator that is explicitly set to UTF-8 to write to the HttpPost. It didn&#39;t work, remote server still rejected it. I&#39;ve dug through the configuration options for ObjectMapper and JsonParser, but I don&#39;t see anything that would override this behavior. Escaping non-ASCII, sure, but that&#39;s not what I need to do here. Maybe I&#39;m missing something obvious, but I can&#39;t get Jackson to deserialize this string without replacing the escaped unicode.\r\n\r\nEDIT: Well, my bad, the only literals having problems have 3 or 5 leading slashes, not just one. That&#39;s some screwiness, but Java seems to be what&#39;s unpacking it by default during the deserialization, even if the raw text that came back from the server preserves it. Still not sure how to get Java to preserve this without checking an insane amount of text.","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>I'm using Jackson 2.4 in Java to do some JSON legwork. I make a call to a remote server with Apache HttpGet, deserialize the results with Jackson into a POJO, manipulate those results, and then serialize them with Jackson to push back to a remote server with HttpPost. </p>\n\n<p>The issue I'm finding is that Jackson is translating unicode literals into unicode characters, which I need it not to do thanks to encoding issues on each end. For example, I might have this in the JSON:</p>\n\n<pre><code>\"field1\": \"\\u00a2\"\n</code></pre>\n\n<p>But Jackson is converting the \"\\u00a2\" to \"¢\" when it's deserialized, which causes problems with the remote server. It has to be maintained as escaped unicode. If I use something like Apache EntityUtils (specifying UTF-8) or even make the call from my web browser to get the data, the escaped unicode is preserved, so I know that it's coming in properly from the server. If I have Jackson consume the input stream from the entity on the response, it does the conversion automatically.</p>\n\n<p>I've tried writing with a JsonGenerator that is explicitly set to UTF-8 to write to the HttpPost. It didn't work, remote server still rejected it. I've dug through the configuration options for ObjectMapper and JsonParser, but I don't see anything that would override this behavior. Escaping non-ASCII, sure, but that's not what I need to do here. Maybe I'm missing something obvious, but I can't get Jackson to deserialize this string without replacing the escaped unicode.</p>\n\n<p>EDIT: Well, my bad, the only literals having problems have 3 or 5 leading slashes, not just one. That's some screwiness, but Java seems to be what's unpacking it by default during the deserialization, even if the raw text that came back from the server preserves it. Still not sure how to get Java to preserve this without checking an insane amount of text.</p>\n"},{"tags":["java","shared-libraries","oracle-sqldeveloper","manjaro"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":2,"creation_date":1675346026,"post_id":75319884,"comment_id":132912215,"body_markdown":"FYI the product is setup to be ran with Oracle JDK, and doesn&#39;t technically support OpenJDK.","body":"FYI the product is setup to be ran with Oracle JDK, and doesn&#39;t technically support OpenJDK."},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676391817,"post_id":75319884,"comment_id":133125847,"body_markdown":"@thatjeffsmith I now tested the same with Oracle JDK 19. It was installed from the AUR (https://aur.archlinux.org/packages/jdk). It yields the same problem! The only difference is the undefined symbol is now `undefined symbol: ipv6_available`.","body":"@thatjeffsmith I now tested the same with Oracle JDK 19. It was installed from the AUR (<a href=\"https://aur.archlinux.org/packages/jdk\" rel=\"nofollow noreferrer\">aur.archlinux.org/packages/jdk</a>). It yields the same problem! The only difference is the undefined symbol is now <code>undefined symbol: ipv6_available</code>."},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1676392649,"post_id":75319884,"comment_id":133126109,"body_markdown":"well we dont support 19 either, it&#39;s oracle java 11, that what we test for, and distribute for windows and macs","body":"well we dont support 19 either, it&#39;s oracle java 11, that what we test for, and distribute for windows and macs"},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676443434,"post_id":75319884,"comment_id":133135547,"body_markdown":"@thatjeffsmith thanks for the clarification! Unfortunately, it&#39;s exactly the same problem with Oracle JDK11. `jdk-11.0.17_linux-x64_bin.tar.gz` downloaded manually from oracle.com trying to reference `libjvm.so` that it can&#39;t locate in the `lib/server` directory without explicitly setting the `LD_LIBRARY_PATH`.","body":"@thatjeffsmith thanks for the clarification! Unfortunately, it&#39;s exactly the same problem with Oracle JDK11. <code>jdk-11.0.17_linux-x64_bin.tar.gz</code> downloaded manually from oracle.com trying to reference <code>libjvm.so</code> that it can&#39;t locate in the <code>lib&#47;server</code> directory without explicitly setting the <code>LD_LIBRARY_PATH</code>."},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1676474366,"post_id":75319884,"comment_id":133144407,"body_markdown":"do we know your java is a valid home? Can you for example start sqlcl (it&#39;s the sql.sh in your sqldeveloper/bin) directory. From a cmd prompt, just run sql /nolog . Then if that gets you a prompt, run &#39;show java&#39; . Is it using the same home you think SQLDev is ?","body":"do we know your java is a valid home? Can you for example start sqlcl (it&#39;s the sql.sh in your sqldeveloper/bin) directory. From a cmd prompt, just run sql /nolog . Then if that gets you a prompt, run &#39;show java&#39; . Is it using the same home you think SQLDev is ?"},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676645751,"post_id":75319884,"comment_id":133184725,"body_markdown":"@thatjeffsmith No, I cannot start it as my default jdk installation is openjdk8. This is required by my daily business and the reason that I&#39;ve used `SetJavaHome` in `product.conf`. `JAVA_HOME` is not explicitly set. Is there anything else that you&#39;d relate to &quot;a valid home&quot;?","body":"@thatjeffsmith No, I cannot start it as my default jdk installation is openjdk8. This is required by my daily business and the reason that I&#39;ve used <code>SetJavaHome</code> in <code>product.conf</code>. <code>JAVA_HOME</code> is not explicitly set. Is there anything else that you&#39;d relate to &quot;a valid home&quot;?"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1678452787,"post_id":75319884,"comment_id":133539929,"body_markdown":"we don&#39;t support openJDK, esp openJDK 8 - i would expect problems","body":"we don&#39;t support openJDK, esp openJDK 8 - i would expect problems"}],"answers":[{"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676324463,"creation_date":1676324463,"answer_id":75441451,"question_id":75319884,"body_markdown":"As @thatjeffsmith has commented I would not expect SQLDeveloper to work 100% with OpenJDK (even if Oracle says so).\r\n\r\nAbout your specific scenario the only answer I can think of is having scripts (think of catalina.sh or catalina.bat) to specify diferent locations for that specific environment variable (LD_LIBRARY_PATH). This is not a Java problem, but more a specific JNI problem, which needs to be solved under the JVM (as opposed to IN the JVM).\r\n","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>As @thatjeffsmith has commented I would not expect SQLDeveloper to work 100% with OpenJDK (even if Oracle says so).</p>\n<p>About your specific scenario the only answer I can think of is having scripts (think of catalina.sh or catalina.bat) to specify diferent locations for that specific environment variable (LD_LIBRARY_PATH). This is not a Java problem, but more a specific JNI problem, which needs to be solved under the JVM (as opposed to IN the JVM).</p>\n"},{"tags":[],"owner":{"account_id":7727733,"reputation":35,"user_id":6142737,"display_name":"Lu&#237;s Aur&#233;lio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676649152,"creation_date":1676642646,"answer_id":75485294,"question_id":75319884,"body_markdown":"On my Manjaro installation, i&#39;ve set the environment variables:\r\n\r\n`export JAVA_HOME=/usr/lib/jvm/default`\r\n\r\n`export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server`\r\n\r\nI set the variables appointing to the `default` symlink, to appoint to default JVM set from the `archlinux-java` program. Before set this variables, the Oracle SQL Developer has opened normally.\r\n\r\n---\r\n\r\nFrom the .desktop file, other change is necessary. To do this, you can use the `menulibre` to edit the Oracle SQL Developer SQL Entry. In the command field (equivalent to the line which starts from `Exec=` text), change to the below line:\r\n\r\n`env LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server /usr/bin/oracle-sqldeveloper`\r\n\r\n---\r\n\r\nMy solution is derived from the &#39;drslmr&#39; solution to fix the Eclipse installation: https://aur.archlinux.org/packages/eclipse-java#news","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>On my Manjaro installation, i've set the environment variables:</p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/default</code></p>\n<p><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server</code></p>\n<p>I set the variables appointing to the <code>default</code> symlink, to appoint to default JVM set from the <code>archlinux-java</code> program. Before set this variables, the Oracle SQL Developer has opened normally.</p>\n<hr />\n<p>From the .desktop file, other change is necessary. To do this, you can use the <code>menulibre</code> to edit the Oracle SQL Developer SQL Entry. In the command field (equivalent to the line which starts from <code>Exec=</code> text), change to the below line:</p>\n<p><code>env LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server /usr/bin/oracle-sqldeveloper</code></p>\n<hr />\n<p>My solution is derived from the 'drslmr' solution to fix the Eclipse installation: <a href=\"https://aur.archlinux.org/packages/eclipse-java#news\" rel=\"nofollow noreferrer\">https://aur.archlinux.org/packages/eclipse-java#news</a></p>\n"},{"tags":[],"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679574764,"creation_date":1679574764,"answer_id":75823044,"question_id":75319884,"body_markdown":"I&#39;ll leave my final solution here for reference in case anyone else also stumbles across that issue:\r\n\r\nOracle SQLDeveloper, at least on arch installations, also requires the [java11-openjfx][1] package. The `PKGBUILD` file even says so and lists it as an optional dependency. So all that was left to do after installing that was to reference the proper (on my system non-default) JDK installation to use in the `product.conf`:\r\n\r\n`SetJavaHome /usr/lib/jvm/java-11-jdk`\r\n\r\n  [1]: https://archlinux.org/packages/extra/x86_64/java11-openjfx/","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>I'll leave my final solution here for reference in case anyone else also stumbles across that issue:</p>\n<p>Oracle SQLDeveloper, at least on arch installations, also requires the <a href=\"https://archlinux.org/packages/extra/x86_64/java11-openjfx/\" rel=\"nofollow noreferrer\">java11-openjfx</a> package. The <code>PKGBUILD</code> file even says so and lists it as an optional dependency. So all that was left to do after installing that was to reference the proper (on my system non-default) JDK installation to use in the <code>product.conf</code>:</p>\n<p><code>SetJavaHome /usr/lib/jvm/java-11-jdk</code></p>\n"}],"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75823044,"answer_count":3,"score":2,"last_activity_date":1679574764,"creation_date":1675322849,"question_id":75319884,"body_markdown":"I am trying to run `Oracle SQL Developer 22.2.1` under `Manjaro 22.0.1` using `openjdk version &quot;17.0.6&quot; 2023-01-17`. For debugging purposes, I have experimented with and yielded the same results using `openjdk version &quot;11.0.18&quot; 2023-01-17`. Both have been installed using `pacman`from the official arch repositories (`jre17-openjdk` and `jre11-openjdk` respectively).\r\n\r\nThis resulted in the following error:\r\n\r\n```\r\n&gt; oracle-sqldeveloper\r\nError occurred during initialization of boot layer\r\njava.lang.UnsatisfiedLinkError: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: undefined symbol: reuseport_available\r\n```\r\n\r\nInspecting `libnio.so` more closely, the culprit seems to actually be `libjvm.so`:\r\n\r\n```\r\n&gt; ldd /usr/lib/jvm/java-17-openjdk/lib/libnio.so                                                                                                                                                                         \r\n        linux-vdso.so.1 (0x00007ffe0f1d7000)\r\n        libjava.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libjava.so (0x00007f7354ce7000)\r\n        libnet.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libnet.so (0x00007f7354ccf000)\r\n        libc.so.6 =&gt; /usr/lib/libc.so.6 (0x00007f7354abb000)\r\n        /usr/lib64/ld-linux-x86-64.so.2 (0x00007f7354d23000)\r\n        libjvm.so =&gt; not found\r\n        libjvm.so =&gt; not found\r\n```\r\n\r\nThis is in turn located under `/usr/lib/jvm/java-17-openjdk/lib/server/libjvm.so`. A bit of research [here][1] and [there][2] yields setting the `LD_LIBRARY_PATH` as a potential solution. And indeed, by doing so, the application starts just fine!\r\n\r\n**Now finally on to my actual questions:**\r\n * Is this some problem with my JDK installation and those links are supposed to work out-of-the-box?\r\n * I am regularly working with 2-3 different JDK installations (openjdk and GraalVM 8, 11 and 17). How would I best set the `LD_LIBRARY_PATH` for those different versions that each have their own `lib` directories?\r\n\r\nCurrently, I am only facing the problems with SQL Developer. I have already explicitly set the Java version to use in `~/.sqldeveloper/22.2.1/product.conf`. Maybe there would also be a possibility to supply the library path in there? Using `-Djava.library.path` did not work so far.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef\r\n  [2]: https://anhqle.github.io/rstudio-cannot-load-rjava-in-ubuntu/","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>I am trying to run <code>Oracle SQL Developer 22.2.1</code> under <code>Manjaro 22.0.1</code> using <code>openjdk version &quot;17.0.6&quot; 2023-01-17</code>. For debugging purposes, I have experimented with and yielded the same results using <code>openjdk version &quot;11.0.18&quot; 2023-01-17</code>. Both have been installed using <code>pacman</code>from the official arch repositories (<code>jre17-openjdk</code> and <code>jre11-openjdk</code> respectively).</p>\n<p>This resulted in the following error:</p>\n<pre><code>&gt; oracle-sqldeveloper\nError occurred during initialization of boot layer\njava.lang.UnsatisfiedLinkError: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: undefined symbol: reuseport_available\n</code></pre>\n<p>Inspecting <code>libnio.so</code> more closely, the culprit seems to actually be <code>libjvm.so</code>:</p>\n<pre><code>&gt; ldd /usr/lib/jvm/java-17-openjdk/lib/libnio.so                                                                                                                                                                         \n        linux-vdso.so.1 (0x00007ffe0f1d7000)\n        libjava.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libjava.so (0x00007f7354ce7000)\n        libnet.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libnet.so (0x00007f7354ccf000)\n        libc.so.6 =&gt; /usr/lib/libc.so.6 (0x00007f7354abb000)\n        /usr/lib64/ld-linux-x86-64.so.2 (0x00007f7354d23000)\n        libjvm.so =&gt; not found\n        libjvm.so =&gt; not found\n</code></pre>\n<p>This is in turn located under <code>/usr/lib/jvm/java-17-openjdk/lib/server/libjvm.so</code>. A bit of research <a href=\"https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef\">here</a> and <a href=\"https://anhqle.github.io/rstudio-cannot-load-rjava-in-ubuntu/\" rel=\"nofollow noreferrer\">there</a> yields setting the <code>LD_LIBRARY_PATH</code> as a potential solution. And indeed, by doing so, the application starts just fine!</p>\n<p><strong>Now finally on to my actual questions:</strong></p>\n<ul>\n<li>Is this some problem with my JDK installation and those links are supposed to work out-of-the-box?</li>\n<li>I am regularly working with 2-3 different JDK installations (openjdk and GraalVM 8, 11 and 17). How would I best set the <code>LD_LIBRARY_PATH</code> for those different versions that each have their own <code>lib</code> directories?</li>\n</ul>\n<p>Currently, I am only facing the problems with SQL Developer. I have already explicitly set the Java version to use in <code>~/.sqldeveloper/22.2.1/product.conf</code>. Maybe there would also be a possibility to supply the library path in there? Using <code>-Djava.library.path</code> did not work so far.</p>\n"},{"tags":["java","rabbitmq","throughput"],"owner":{"account_id":2889926,"reputation":27,"user_id":2478955,"display_name":"user2478955"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679574696,"creation_date":1679574696,"question_id":75823037,"body_markdown":"I have a service, which receive messages via queu rabbitmq and then sends it via rest to another system. The external system have some limitations (for example 50 messages per seconds). So, I need to set this limitation on our service side (if it is possible on rabbitmq side) \r\n I have only one idea to store messages in database, and before receiving from queue compare it with throughput and if it is greater send it to queue again.\r\nProbably someone solve similar task - would be helpfull. Thanks!","title":"RabbitMq java how to decrease throughput","body":"<p>I have a service, which receive messages via queu rabbitmq and then sends it via rest to another system. The external system have some limitations (for example 50 messages per seconds). So, I need to set this limitation on our service side (if it is possible on rabbitmq side)\nI have only one idea to store messages in database, and before receiving from queue compare it with throughput and if it is greater send it to queue again.\nProbably someone solve similar task - would be helpfull. Thanks!</p>\n"},{"tags":["java","keycloak","quarkus","rest-client","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":14777499,"reputation":319,"user_id":10671944,"display_name":"Abdulraqeeb M."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574435,"creation_date":1679574435,"answer_id":75822991,"question_id":75813851,"body_markdown":"I found a field called ==&gt; &quot;json&quot; \r\nturns out it is the request body.\r\n","title":"Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?","body":"<p>I found a field called ==&gt; &quot;json&quot;\nturns out it is the request body.</p>\n"}],"owner":{"account_id":14777499,"reputation":319,"user_id":10671944,"display_name":"Abdulraqeeb M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679574627,"creation_date":1679496869,"question_id":75813851,"body_markdown":"My question is :\r\n\r\nIs there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?\r\n\r\n\r\nWhy I am using SimpleHttp?\r\n\r\nI am writing a custom service provider (SPI) to be plugged in Keycloak version 20.0.0.\r\nI need to use any rest client to send HTTP requests, but I encountered lots of difficulties doing so thanks to the new Quarkus-based version of Keycloak.\r\n\r\nAfter a lot of searches, this [post ](https://keycloak.discourse.group/t/trying-to-send-http-rest-request-from-keycloak-x-user-storage-spi-to-an-external-api/15325/2)form Keycloak community was helpful. it suggests using SimpleHttp utility which does not require any external libraries.\r\n \r\n\r\n\r\n\r\n\r\nTried resteasy-client before SimpleHttp\r\nExpected the same behavior on the previous Keycloak version, but it is now different, you need to mention all external libraries in META-INF/services. but even this is not working. (reateasy is no longer included with the new codebase) \r\n\r\nThis is why I started looking for different rest clients.\r\n","title":"Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?","body":"<p>My question is :</p>\n<p>Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?</p>\n<p>Why I am using SimpleHttp?</p>\n<p>I am writing a custom service provider (SPI) to be plugged in Keycloak version 20.0.0.\nI need to use any rest client to send HTTP requests, but I encountered lots of difficulties doing so thanks to the new Quarkus-based version of Keycloak.</p>\n<p>After a lot of searches, this <a href=\"https://keycloak.discourse.group/t/trying-to-send-http-rest-request-from-keycloak-x-user-storage-spi-to-an-external-api/15325/2\" rel=\"nofollow noreferrer\">post </a>form Keycloak community was helpful. it suggests using SimpleHttp utility which does not require any external libraries.</p>\n<p>Tried resteasy-client before SimpleHttp\nExpected the same behavior on the previous Keycloak version, but it is now different, you need to mention all external libraries in META-INF/services. but even this is not working. (reateasy is no longer included with the new codebase)</p>\n<p>This is why I started looking for different rest clients.</p>\n"},{"tags":["java","eclipse-plugin","smbj"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679576471,"post_id":75822817,"comment_id":133748425,"body_markdown":"Show us the MANIFEST.MF and the build.properties","body":"Show us the MANIFEST.MF and the build.properties"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1679578268,"post_id":75822817,"comment_id":133748913,"body_markdown":"your previous comment of starting eclipse with -clean option actually helped. I don&#39;t see the problem anymore.","body":"your previous comment of starting eclipse with -clean option actually helped. I don&#39;t see the problem anymore."}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679573313,"creation_date":1679573313,"question_id":75822817,"body_markdown":"I am developing an eclipse plugin. Within the plugin I have to access files in the shared drive, for that I&#39;m using SMBJ java library. I have downloaded the jar and its dependencies from [here](https://jar-download.com/artifact-search/smbj) and included it in the build path. I have checked if the library is included in .classpath file, in bundle class path in MANIFEST.MF and in build.properties.\r\n\r\nIn order to test the plugin in Test Environment, I am exporting the plugin as &#39;Deployable Plugins and Fragments&#39; (the exported jar also contains the libraries added) and including the jar in plugins folder of eclipse, but plugin complians that it cannot find the class during runtime.","title":"java.lang.ClassNotFoundException: com.hierynomus.smbj.SMBClient cannot be found","body":"<p>I am developing an eclipse plugin. Within the plugin I have to access files in the shared drive, for that I'm using SMBJ java library. I have downloaded the jar and its dependencies from <a href=\"https://jar-download.com/artifact-search/smbj\" rel=\"nofollow noreferrer\">here</a> and included it in the build path. I have checked if the library is included in .classpath file, in bundle class path in MANIFEST.MF and in build.properties.</p>\n<p>In order to test the plugin in Test Environment, I am exporting the plugin as 'Deployable Plugins and Fragments' (the exported jar also contains the libraries added) and including the jar in plugins folder of eclipse, but plugin complians that it cannot find the class during runtime.</p>\n"},{"tags":["java","cxf","server-sent-events"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679573437,"post_id":75819197,"comment_id":133747541,"body_markdown":"Given the 4.0.0 javadoc seem to be entirely missing from the site, I wonder if that documentation is for 3.5 or even an older version.","body":"Given the 4.0.0 javadoc seem to be entirely missing from the site, I wonder if that documentation is for 3.5 or even an older version."}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679573248,"creation_date":1679544787,"question_id":75819197,"body_markdown":"I am using Apache CXF `implementation &#39;org.apache.cxf:cxf-rt-rs-client:4.0.0&#39;` to do a SSE client connection using Java 11. This is what my code looks like:\r\n\r\n```java\r\npublic SseEmitter askStream(AskRequest request) {\r\n    final SseEmitter emitter = new SseEmitter();\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget target = client.target(&quot;https://chat.example.top/v1/completions&quot;);\r\n    try (SseEventSource source = SseEventSource.target(target).build()) {\r\n        source.register((inboundSseEvent) -&gt; serverDataHandler(inboundSseEvent, emitter));\r\n        source.open();\r\n    }\r\n    return emitter;\r\n}\r\n```\r\n\r\nNow, I want to set the header for the SSE client connection. I have read the [official document][1] and found how to add header like this (actually it is a SOAP header):\r\n\r\n```java\r\n//client side:\r\n((BindingProvider)proxy).getRequestContext().put(Header.HEADER_LIST, headers);\r\n```\r\n\r\nHowever, this way does not seem to work in 4.0.0. How to add header for the SSE connection?\r\n\r\n\r\n  [1]: https://cxf.apache.org/faq.html#FAQ-HowcanIaddsoapheaderstotherequest/response?","title":"How to set HTTP header for Apache CXF when using SSE connection","body":"<p>I am using Apache CXF <code>implementation 'org.apache.cxf:cxf-rt-rs-client:4.0.0'</code> to do a SSE client connection using Java 11. This is what my code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SseEmitter askStream(AskRequest request) {\n    final SseEmitter emitter = new SseEmitter();\n    Client client = ClientBuilder.newClient();\n    WebTarget target = client.target(&quot;https://chat.example.top/v1/completions&quot;);\n    try (SseEventSource source = SseEventSource.target(target).build()) {\n        source.register((inboundSseEvent) -&gt; serverDataHandler(inboundSseEvent, emitter));\n        source.open();\n    }\n    return emitter;\n}\n</code></pre>\n<p>Now, I want to set the header for the SSE client connection. I have read the <a href=\"https://cxf.apache.org/faq.html#FAQ-HowcanIaddsoapheaderstotherequest/response?\" rel=\"nofollow noreferrer\">official document</a> and found how to add header like this (actually it is a SOAP header):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//client side:\n((BindingProvider)proxy).getRequestContext().put(Header.HEADER_LIST, headers);\n</code></pre>\n<p>However, this way does not seem to work in 4.0.0. How to add header for the SSE connection?</p>\n"},{"tags":["java","spring","zip"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679475341,"post_id":75810078,"comment_id":133726997,"body_markdown":"Instead of a `FileOutputStream`, you should be able to use an output stream directly to the recipient (or a `ByteArrayOutputStream` to hold it in memory first, but I wouldn&#39;t recommend that). For example, using a `StreamingResponseBody`","body":"Instead of a <code>FileOutputStream</code>, you should be able to use an output stream directly to the recipient (or a <code>ByteArrayOutputStream</code> to hold it in memory first, but I wouldn&#39;t recommend that). For example, using a <code>StreamingResponseBody</code>"},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1679475693,"post_id":75810078,"comment_id":133727096,"body_markdown":"thanks for your answer: why you don&#39;t recommend that?","body":"thanks for your answer: why you don&#39;t recommend that?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679476492,"post_id":75810078,"comment_id":133727305,"body_markdown":"It wasn&#39;t an answer, but a comment hinting at a solution direction. Any case, I don&#39;t recommend using `ByteArrayOutputStream`, because if your zipfile is very large, it can consume a lot of memory (more than twice the actual file size, because when you obtain the data from it, it copies it. In addition, for extremely large zipfiles (&gt; 2GiB), it wouldn&#39;t even work because of maximum array sizes.","body":"It wasn&#39;t an answer, but a comment hinting at a solution direction. Any case, I don&#39;t recommend using <code>ByteArrayOutputStream</code>, because if your zipfile is very large, it can consume a lot of memory (more than twice the actual file size, because when you obtain the data from it, it copies it. In addition, for extremely large zipfiles (&gt; 2GiB), it wouldn&#39;t even work because of maximum array sizes."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679573028,"creation_date":1679477339,"answer_id":75810435,"question_id":75810078,"body_markdown":"You can wrap the response stream in `ZipOutputStream` and write directly to it. Just add `HttpServletResponse` as method parameter and spring will provide you with it.\r\n```\r\n@PostMapping(value = &quot;/requireZip&quot;)\r\npublic void zipRequired(HttpServletResponse response) {\r\n  if (some condition) {\r\n    response.setStatus(204);\r\n    return;\r\n  }\r\n  String theFolder = &quot;/my/path/&quot;;\r\n  String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\r\n  //set name of the download file\r\n  response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + resultFile);\r\n  try (ZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());) {\r\n    for (FileData aFile : fileList) {  //  collect the files to the result zip file\r\n      File fileToZip = new File(theFolder + aFile.getName());\r\n      zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n      Files.copy(fileToZip.toPath(), zipOut);//easier copying, assuming java 7+\r\n    }\r\n  }\r\n  catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n  }\r\n}\r\n```","title":"Create a zip file and send to client without saving it on server","body":"<p>You can wrap the response stream in <code>ZipOutputStream</code> and write directly to it. Just add <code>HttpServletResponse</code> as method parameter and spring will provide you with it.</p>\n<pre><code>@PostMapping(value = &quot;/requireZip&quot;)\npublic void zipRequired(HttpServletResponse response) {\n  if (some condition) {\n    response.setStatus(204);\n    return;\n  }\n  String theFolder = &quot;/my/path/&quot;;\n  String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\n  //set name of the download file\n  response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + resultFile);\n  try (ZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());) {\n    for (FileData aFile : fileList) {  //  collect the files to the result zip file\n      File fileToZip = new File(theFolder + aFile.getName());\n      zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n      Files.copy(fileToZip.toPath(), zipOut);//easier copying, assuming java 7+\n    }\n  }\n  catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810435,"answer_count":1,"score":0,"last_activity_date":1679573028,"creation_date":1679475059,"question_id":75810078,"body_markdown":"I have a Java server application (Java + Spring). Actually, when required this application (1) creates a zip file by collecting files from a directory, (2) saves this file on the hard disk, and (3) sends the result file to the client who required that.\r\n\r\nQuestion: How could I skip the saving step (2), and send directly the zipFile without saving it on the hard disk?\r\n\r\nIn this way I will save some resources and I also don&#39;t need to &quot;clean&quot; the hard disk.\r\n\r\nThank you\r\n\r\nNOTES: \r\nThe creation of the ZIP file is as following:\r\n\r\n```\r\n    @PostMapping(value = &quot;/requireZip&quot;)\r\n    public ResponseEntity zipRequired() {\r\n    //SOMETHING BEFORE\r\n\r\n        if( aConditionIsFalse ) {\r\n            return ResponseEntity.noContent().build();\r\n        } //else create and return a zip file\r\n\r\n        String theFolder = &quot;/my/path/&quot;;\r\n        String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(resultFile);\r\n            ZipOutputStream zipOut = new ZipOutputStream(fos);\r\n            for (FileData aFile : fileList) {  //  collect the files to the result zip file\r\n                File fileToZip = new File(theFolder + aFile.getName());\r\n\r\n                FileInputStream fis = new FileInputStream(fileToZip);\r\n                zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n\r\n                byte[] bytes = new byte[1024];\r\n                int length;\r\n                while((length = fis.read(bytes)) &gt;= 0) {\r\n                    zipOut.write(bytes, 0, length);\r\n                }\r\n                fis.close();\r\n            }\r\n            zipOut.close();\r\n            fos.close();\r\n        }\r\n         catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        // Read the file just saved on the disk, then return it\r\n        FileSystemResource file = new FileSystemResource(resultFile);\r\n        return ResponseEntity.ok().headers(headers).body(file);\r\n    }\r\n```","title":"Create a zip file and send to client without saving it on server","body":"<p>I have a Java server application (Java + Spring). Actually, when required this application (1) creates a zip file by collecting files from a directory, (2) saves this file on the hard disk, and (3) sends the result file to the client who required that.</p>\n<p>Question: How could I skip the saving step (2), and send directly the zipFile without saving it on the hard disk?</p>\n<p>In this way I will save some resources and I also don't need to &quot;clean&quot; the hard disk.</p>\n<p>Thank you</p>\n<p>NOTES:\nThe creation of the ZIP file is as following:</p>\n<pre><code>    @PostMapping(value = &quot;/requireZip&quot;)\n    public ResponseEntity zipRequired() {\n    //SOMETHING BEFORE\n\n        if( aConditionIsFalse ) {\n            return ResponseEntity.noContent().build();\n        } //else create and return a zip file\n\n        String theFolder = &quot;/my/path/&quot;;\n        String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\n        try {\n            FileOutputStream fos = new FileOutputStream(resultFile);\n            ZipOutputStream zipOut = new ZipOutputStream(fos);\n            for (FileData aFile : fileList) {  //  collect the files to the result zip file\n                File fileToZip = new File(theFolder + aFile.getName());\n\n                FileInputStream fis = new FileInputStream(fileToZip);\n                zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n\n                byte[] bytes = new byte[1024];\n                int length;\n                while((length = fis.read(bytes)) &gt;= 0) {\n                    zipOut.write(bytes, 0, length);\n                }\n                fis.close();\n            }\n            zipOut.close();\n            fos.close();\n        }\n         catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        // Read the file just saved on the disk, then return it\n        FileSystemResource file = new FileSystemResource(resultFile);\n        return ResponseEntity.ok().headers(headers).body(file);\n    }\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":17721432,"reputation":11,"user_id":12866345,"display_name":"artyom pretkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677437006,"creation_date":1677434606,"answer_id":75574007,"question_id":74793860,"body_markdown":"I think only way is to use xml when you create list. This is specification url. You need to see on **&lt;w:suff w:val=&quot;space&quot;/&gt;**\r\n [docx format][1]\r\n\r\n\r\n  [1]: http://officeopenxml.com/WPnumberingLvl.php\r\n\r\n  \r\nI use all these libs in maven, without last my sample didnt work.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\nCode for create list:\r\nFirst sample (I didnt use it and maybe you will have to change some operators and add null checks and etc, and maybe someone will found a way to replace xml string for enum value with CTLevelSuffixImpl):\r\n\r\n    CTNumbering ctNumbering = CTNumbering.Factory.newInstance();\r\n    ctNumbering.getNumArray()[0].addNewLvlOverride().getLvl().setSuff(CTLevelSuffix.Factory.parse(&quot;&lt;w:suff w:val=\\\\\\&quot;nothing\\\\\\&quot; /&gt;&quot;));\r\n    XWPFNumbering numbering = document.getNumbering();\r\n    if (numbering == null)\r\n        numbering = document.createNumbering();\r\n\r\n    CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\r\n    ctAbstractNum.addNewLvl();\r\n    XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\r\n    BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\r\n    BigInteger numId = numbering.addNum(abstractNumId);\r\n\r\nSecond sample (I use it and it work correctly):\r\n\r\n    CTNumbering ctNumbering = CTNumbering.Factory.parse(&quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\r\n                + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\r\n                + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:suff w:val=\\&quot;nothing\\&quot; /&gt;&lt;w:start w:val=\\&quot;&quot; + begin + &quot;\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&quot;\r\n                + &quot;&lt;w:pPr&gt; &lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt; \\&quot;&lt;w:rFonts w:ascii=\\&quot;Times New Roman\\&quot; w:hAnsi=\\&quot;Times New Roman\\&quot;/&gt;\\&quot;+\\n&quot; +\r\n                &quot;            \\&quot; &lt;w:b&gt; &lt;/w:b&gt; &lt;w:sz w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;w:szCs w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt; &lt;/w:abstractNum&gt;&quot;); // paste in method argument your xml string with modification for your list\r\n        XWPFNumbering numbering = document.getNumbering();\r\n        if (numbering == null)\r\n            numbering = document.createNumbering();\r\n        CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\r\n        XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\r\n        BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\r\n        BigInteger numId = numbering.addNum(abstractNumId);","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>I think only way is to use xml when you create list. This is specification url. You need to see on <strong>&lt;w:suff w:val=&quot;space&quot;/&gt;</strong>\n<a href=\"http://officeopenxml.com/WPnumberingLvl.php\" rel=\"nofollow noreferrer\">docx format</a></p>\n<p>I use all these libs in maven, without last my sample didnt work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code for create list:\nFirst sample (I didnt use it and maybe you will have to change some operators and add null checks and etc, and maybe someone will found a way to replace xml string for enum value with CTLevelSuffixImpl):</p>\n<pre><code>CTNumbering ctNumbering = CTNumbering.Factory.newInstance();\nctNumbering.getNumArray()[0].addNewLvlOverride().getLvl().setSuff(CTLevelSuffix.Factory.parse(&quot;&lt;w:suff w:val=\\\\\\&quot;nothing\\\\\\&quot; /&gt;&quot;));\nXWPFNumbering numbering = document.getNumbering();\nif (numbering == null)\n    numbering = document.createNumbering();\n\nCTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\nctAbstractNum.addNewLvl();\nXWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\nBigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\nBigInteger numId = numbering.addNum(abstractNumId);\n</code></pre>\n<p>Second sample (I use it and it work correctly):</p>\n<pre><code>CTNumbering ctNumbering = CTNumbering.Factory.parse(&quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\n            + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\n            + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:suff w:val=\\&quot;nothing\\&quot; /&gt;&lt;w:start w:val=\\&quot;&quot; + begin + &quot;\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&quot;\n            + &quot;&lt;w:pPr&gt; &lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt; \\&quot;&lt;w:rFonts w:ascii=\\&quot;Times New Roman\\&quot; w:hAnsi=\\&quot;Times New Roman\\&quot;/&gt;\\&quot;+\\n&quot; +\n            &quot;            \\&quot; &lt;w:b&gt; &lt;/w:b&gt; &lt;w:sz w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;w:szCs w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt; &lt;/w:abstractNum&gt;&quot;); // paste in method argument your xml string with modification for your list\n    XWPFNumbering numbering = document.getNumbering();\n    if (numbering == null)\n        numbering = document.createNumbering();\n    CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\n    XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\n    BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\n    BigInteger numId = numbering.addNum(abstractNumId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563687,"reputation":11,"user_id":2224297,"display_name":"moryakovdv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679572733,"creation_date":1679572733,"answer_id":75822710,"question_id":74793860,"body_markdown":"The following code seems to work for me with pretty-old POI v3.17 and ooxml-schemas v1.4\r\n\r\npom:\r\n```xml\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\njava:\r\n```java    \r\n    CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\r\n\tcTAbstractNum.setAbstractNumId(BigInteger.valueOf(c));\r\n    \r\n\tCTLvl cTLvl = cTAbstractNum.addNewLvl();\r\n\tcTLvl.addNewNumFmt().setVal(STNumberFormat.DECIMAL);\r\n\tcTLvl.addNewLvlText().setVal(&quot;%1.&quot;);\r\n\tcTLvl.addNewStart().setVal(BigInteger.valueOf(1));\r\n\tcTLvl.setIlvl(BigInteger.valueOf(0)); \r\n    \r\n\tCTLevelSuffix sfx = CTLevelSuffix.Factory.newInstance();\r\n\tsfx.setVal(STLevelSuffix.NOTHING);\r\n\tcTLvl.setSuff(sfx);\r\n    \r\n    XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\n\tXWPFNumbering numbering = document.createNumbering();\t\r\n\tBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\n\tBigInteger numID = numbering.addNum(abstractNumID); //set it to paragraph\r\n```","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>The following code seems to work for me with pretty-old POI v3.17 and ooxml-schemas v1.4</p>\n<p>pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\n    cTAbstractNum.setAbstractNumId(BigInteger.valueOf(c));\n    \n    CTLvl cTLvl = cTAbstractNum.addNewLvl();\n    cTLvl.addNewNumFmt().setVal(STNumberFormat.DECIMAL);\n    cTLvl.addNewLvlText().setVal(&quot;%1.&quot;);\n    cTLvl.addNewStart().setVal(BigInteger.valueOf(1));\n    cTLvl.setIlvl(BigInteger.valueOf(0)); \n    \n    CTLevelSuffix sfx = CTLevelSuffix.Factory.newInstance();\n    sfx.setVal(STLevelSuffix.NOTHING);\n    cTLvl.setSuff(sfx);\n    \n    XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\n    XWPFNumbering numbering = document.createNumbering();   \n    BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\n    BigInteger numID = numbering.addNum(abstractNumID); //set it to paragraph\n</code></pre>\n"}],"owner":{"account_id":5151465,"reputation":33,"user_id":4125968,"display_name":"Casper Liao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679572733,"creation_date":1670994976,"question_id":74793860,"body_markdown":"I use the following code to generate List idents in MS Word\r\n\r\n```\r\nCTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\r\nCTLvl cTLvl = cTAbstractNum.addNewLvl();\r\n\r\ncTLvl.addNewNumFmt().setVal(STNumberFormat.CHINESE_COUNTING);\r\ncTLvl.addNewLvlText().setVal(&quot;%1、&quot;); \r\ncTLvl.addNewStart().setVal(BigInteger.valueOf(1)); \r\n\r\nCTInd cInd = cTLvl.addNewPPr().addNewInd();\r\ncInd.setLeft(BigInteger.valueOf(960 + 120)); \r\ncInd.setHanging(BigInteger.valueOf(360));\r\n```\r\n\r\nafter generated, it seems the indent with follow tab char by default\r\n[![enter image description here](https://i.stack.imgur.com/zwxYX.jpg)](https://i.stack.imgur.com/zwxYX.jpg)\r\n\r\n\r\n\r\nIs there any way to set Follow number with &quot;nothing&quot; by code ?","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>I use the following code to generate List idents in MS Word</p>\n<pre><code>CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\nCTLvl cTLvl = cTAbstractNum.addNewLvl();\n\ncTLvl.addNewNumFmt().setVal(STNumberFormat.CHINESE_COUNTING);\ncTLvl.addNewLvlText().setVal(&quot;%1、&quot;); \ncTLvl.addNewStart().setVal(BigInteger.valueOf(1)); \n\nCTInd cInd = cTLvl.addNewPPr().addNewInd();\ncInd.setLeft(BigInteger.valueOf(960 + 120)); \ncInd.setHanging(BigInteger.valueOf(360));\n</code></pre>\n<p>after generated, it seems the indent with follow tab char by default\n<a href=\"https://i.stack.imgur.com/zwxYX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwxYX.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to set Follow number with &quot;nothing&quot; by code ?</p>\n"},{"tags":["java","cron","quartz-scheduler","quartz"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101204,"post_id":74528244,"comment_id":131560695,"body_markdown":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of `MON-SUN` why not just `*` as it covers every day of the week? (and it might have to be `SUN-MON` in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way.","body":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of <code>MON-SUN</code> why not just <code>*</code> as it covers every day of the week? (and it might have to be <code>SUN-MON</code> in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101265,"post_id":74528244,"comment_id":131560717,"body_markdown":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work.","body":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work."},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669144964,"post_id":74528244,"comment_id":131576514,"body_markdown":"More details are required, what is the current behavior, and how is that different from what you expect?","body":"More details are required, what is the current behavior, and how is that different from what you expect?"},{"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"score":0,"creation_date":1669165137,"post_id":74528244,"comment_id":131581221,"body_markdown":"Updated my question and added working status now.","body":"Updated my question and added working status now."}],"answers":[{"tags":[],"owner":{"account_id":25144328,"reputation":162,"user_id":18990321,"display_name":"johann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572464,"creation_date":1669895154,"answer_id":74641370,"question_id":74528244,"body_markdown":"You could use two cron expressions to achieve what you want:\r\n\r\n1. `30 0-29 9 * * ?`\r\n\r\nExecutes every minute from 09:00:30 to 09:29:30\r\n\r\n~~~\r\nOutput\r\n\r\n09:00:30\r\n09:01:30\r\n09:02:30\r\n09:03:30\r\n09:04:30\r\n...\r\n09:29:30\r\n~~~\r\n\r\n2. `0 1-30 9 * * ?`\r\n\r\nExecutes every minute from 09:01:00 to 09:30:00\r\n\r\n~~~\r\nOutput\r\n\r\n09:01:00\r\n09:02:00\r\n09:03:00\r\n09:04:00\r\n09:05:00\r\n...\r\n09:30:00\r\n~~~","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>You could use two cron expressions to achieve what you want:</p>\n<ol>\n<li><code>30 0-29 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:00:30 to 09:29:30</p>\n<pre><code>Output\n\n09:00:30\n09:01:30\n09:02:30\n09:03:30\n09:04:30\n...\n09:29:30\n</code></pre>\n<ol start=\"2\">\n<li><code>0 1-30 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:01:00 to 09:30:00</p>\n<pre><code>Output\n\n09:01:00\n09:02:00\n09:03:00\n09:04:00\n09:05:00\n...\n09:30:00\n</code></pre>\n"}],"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679572464,"creation_date":1669097911,"question_id":74528244,"body_markdown":"Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?\r\n\r\n\r\n\r\n\r\nMy expression is ```30/30 0-30 9 ? * MON-SUN```, but it can&#39;t do what I want.\r\n\r\n--edit--\r\n\r\nIt is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds\r\n```\r\n9:00:30 executed \r\n9:01:30 executed \r\n9:02:30 executed \r\n9:03:30 executed \r\n9:04:30 executed\r\n...\r\n...\r\n9:30:30 executed\r\n```\r\n-----------------------------------------------\r\nthe job I want\r\n```\r\n9:00:30 executed\r\n9:01:00 executed\r\n9:01:30 executed\r\n9:02:00 executed\r\n9:02:30 executed\r\n9:03:00 executed\r\n9:03:30 executed\r\n...\r\n...\r\n9:30:00 executed\r\n```\r\nPlease Help","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?</p>\n<p>My expression is <code>30/30 0-30 9 ? * MON-SUN</code>, but it can't do what I want.</p>\n<p>--edit--</p>\n<p>It is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds</p>\n<pre><code>9:00:30 executed \n9:01:30 executed \n9:02:30 executed \n9:03:30 executed \n9:04:30 executed\n...\n...\n9:30:30 executed\n</code></pre>\n<hr />\n<p>the job I want</p>\n<pre><code>9:00:30 executed\n9:01:00 executed\n9:01:30 executed\n9:02:00 executed\n9:02:30 executed\n9:03:00 executed\n9:03:30 executed\n...\n...\n9:30:00 executed\n</code></pre>\n<p>Please Help</p>\n"},{"tags":["java","spring-boot","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17236275,"reputation":1,"user_id":13188516,"display_name":"megoRU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572380,"creation_date":1679572380,"answer_id":75822642,"question_id":74986452,"body_markdown":"I also wondered this question. I spent an hour to find a solution.\r\n\r\nHere is my solution:\r\n\r\nYou need to create Web Controller\r\n\r\n```\r\n@RestController\r\n@Validated\r\npublic class WebhookController {\r\n\r\n    private final WebhookBot webHookBot;\r\n\r\n    @Autowired\r\n    public WebhookController(WebhookBot webHookBot) {\r\n        this.webHookBot = webHookBot;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;?&gt; main() {\r\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\r\n    }\r\n\r\n    @PostMapping(&quot;/callback&quot;)\r\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\r\n        if (!secretToken.equals(Config.getSecretToken())) {\r\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        } else {\r\n            webHookBot.onWebhookUpdateReceived(update);\r\n            return ResponseEntity.status(HttpStatus.OK).build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you need to do redo your WebhookBot class\r\n\r\n\r\n```\r\n@Service\r\npublic class WebhookBot extends TelegramWebhookBot {\r\n\r\n    private final UpdateController updateController;\r\n\r\n    @Autowired\r\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\r\n        super(Config.getToken()); //Передаем токен Бота\r\n        this.updateController = updateController;\r\n        registerBot();\r\n    }\r\n\r\n    @Override\r\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\r\n        updateController.processUpdate(update);\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private void registerBot() throws TelegramApiException {\r\n        SetWebhook setWebhook = SetWebhook.builder()\r\n                .url(Config.getWebhookUrl())\r\n                .secretToken(Config.getSecretToken())\r\n                .build();\r\n\r\n        Webhook webhook = new DefaultWebhook();\r\n        this.onRegister();\r\n        webhook.registerWebhook(this);\r\n        this.setWebhook(setWebhook);\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return Config.getUsername();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        updateController.registerBot(this);\r\n    }\r\n\r\n```\r\n\r\nI used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice\r\n\r\nLinks: https://github.com/pengrad/java-telegram-bot-api","title":"Telegram bot does not working via webhook in Java","body":"<p>I also wondered this question. I spent an hour to find a solution.</p>\n<p>Here is my solution:</p>\n<p>You need to create Web Controller</p>\n<pre><code>@RestController\n@Validated\npublic class WebhookController {\n\n    private final WebhookBot webHookBot;\n\n    @Autowired\n    public WebhookController(WebhookBot webHookBot) {\n        this.webHookBot = webHookBot;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; main() {\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\n    }\n\n    @PostMapping(&quot;/callback&quot;)\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\n        if (!secretToken.equals(Config.getSecretToken())) {\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        } else {\n            webHookBot.onWebhookUpdateReceived(update);\n            return ResponseEntity.status(HttpStatus.OK).build();\n        }\n    }\n}\n</code></pre>\n<p>Then you need to do redo your WebhookBot class</p>\n<pre><code>@Service\npublic class WebhookBot extends TelegramWebhookBot {\n\n    private final UpdateController updateController;\n\n    @Autowired\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\n        super(Config.getToken()); //Передаем токен Бота\n        this.updateController = updateController;\n        registerBot();\n    }\n\n    @Override\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\n        updateController.processUpdate(update);\n        return null;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;&quot;;\n    }\n\n    private void registerBot() throws TelegramApiException {\n        SetWebhook setWebhook = SetWebhook.builder()\n                .url(Config.getWebhookUrl())\n                .secretToken(Config.getSecretToken())\n                .build();\n\n        Webhook webhook = new DefaultWebhook();\n        this.onRegister();\n        webhook.registerWebhook(this);\n        this.setWebhook(setWebhook);\n    }\n\n    @Override\n    public String getBotUsername() {\n        return Config.getUsername();\n    }\n\n    @PostConstruct\n    public void init() {\n        updateController.registerBot(this);\n    }\n\n</code></pre>\n<p>I used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice</p>\n<p>Links: <a href=\"https://github.com/pengrad/java-telegram-bot-api\" rel=\"nofollow noreferrer\">https://github.com/pengrad/java-telegram-bot-api</a></p>\n"}],"owner":{"account_id":11357788,"reputation":51,"user_id":8510521,"display_name":"Максат Орунханов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572380,"creation_date":1672688783,"question_id":74986452,"body_markdown":"I&#39;m creating telegram-bot. When I use longpolling-bot it works correct, but I can&#39;t create bot that works on webhooks - http-request don&#39;t reach endpoint that has been registered as webhook-url in telegram.\r\n\r\nFor local deployment I use ngrok application.\r\nI&#39;m trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don&#39;t reach the method `org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived`\r\n\r\nThis is the code:\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &quot;java&quot;\r\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\n\r\ngroup &#39;com.example&#39;\r\nsourceCompatibility = JavaVersion.VERSION_17\r\n\r\ndef telegramBotVersion = &quot;6.3.0&quot;\r\n\r\ndependencies {\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\r\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\r\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\r\n\r\n    implementation &#39;javax.ws.rs:javax.ws.rs-api:2.0-m08&#39;\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.telegram.bot;\r\n\r\nimport com.example.telegram.service.TelegramService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\n\r\n@Slf4j\r\npublic class WebhookBot extends TelegramWebhookCommandBot {\r\n\r\n    private final String name;\r\n\r\n    private final String token;\r\n\r\n    public WebhookBot(String name, String token) {\r\n        this.name = name;\r\n        this.token = token;\r\n    }\r\n\r\n    @Autowired\r\n    private TelegramService telegramService;\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return token;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;webhookurl&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void processNonCommandUpdate(Update update) {\r\n        System.out.println(&quot;processNonCommandUpdate&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.telegram.config;\r\n\r\nimport com.example.telegram.bot.WebhookBot;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\r\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\r\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\r\n\r\n@Configuration\r\n@Profile(&quot;webhook&quot;)\r\n@Slf4j\r\npublic class WebHookBotConfig {\r\n\r\n    @Value(&quot;${telegram.bot.name}&quot;)\r\n    private String name; //bot-name\r\n\r\n    @Value(&quot;${telegram.bot.token}&quot;)\r\n    private String token; //bot-token\r\n\r\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\r\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\r\n\r\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\r\n    private String internalWebServerUrl; // http://localhost:8080\r\n\r\n\r\n    @Bean\r\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\r\n\r\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\r\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\r\n\r\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\r\n\r\n        WebhookBot telegramBot = new WebhookBot(name, token);\r\n\r\n        SetWebhook setWebhook = new SetWebhook();\r\n        setWebhook.setUrl(webhookUri);\r\n\r\n        botsApi.registerBot(telegramBot, setWebhook);\r\n        \r\n        return telegramBot;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n./ngrok http 8080\r\n```\r\n","title":"Telegram bot does not working via webhook in Java","body":"<p>I'm creating telegram-bot. When I use longpolling-bot it works correct, but I can't create bot that works on webhooks - http-request don't reach endpoint that has been registered as webhook-url in telegram.</p>\n<p>For local deployment I use ngrok application.\nI'm trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don't reach the method <code>org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived</code></p>\n<p>This is the code:</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\n\ngroup 'com.example'\nsourceCompatibility = JavaVersion.VERSION_17\n\ndef telegramBotVersion = &quot;6.3.0&quot;\n\ndependencies {\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\n\n    implementation 'javax.ws.rs:javax.ws.rs-api:2.0-m08'\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.bot;\n\nimport com.example.telegram.service.TelegramService;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\nimport org.telegram.telegrambots.meta.api.objects.Update;\n\n@Slf4j\npublic class WebhookBot extends TelegramWebhookCommandBot {\n\n    private final String name;\n\n    private final String token;\n\n    public WebhookBot(String name, String token) {\n        this.name = name;\n        this.token = token;\n    }\n\n    @Autowired\n    private TelegramService telegramService;\n\n    @Override\n    public String getBotUsername() {\n        return name;\n    }\n\n    @Override\n    public String getBotToken() {\n        return token;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;webhookurl&quot;;\n    }\n\n    @Override\n    public void processNonCommandUpdate(Update update) {\n        System.out.println(&quot;processNonCommandUpdate&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.config;\n\nimport com.example.telegram.bot.WebhookBot;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\n\n@Configuration\n@Profile(&quot;webhook&quot;)\n@Slf4j\npublic class WebHookBotConfig {\n\n    @Value(&quot;${telegram.bot.name}&quot;)\n    private String name; //bot-name\n\n    @Value(&quot;${telegram.bot.token}&quot;)\n    private String token; //bot-token\n\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\n\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\n    private String internalWebServerUrl; // http://localhost:8080\n\n\n    @Bean\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\n\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\n\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\n\n        WebhookBot telegramBot = new WebhookBot(name, token);\n\n        SetWebhook setWebhook = new SetWebhook();\n        setWebhook.setUrl(webhookUri);\n\n        botsApi.registerBot(telegramBot, setWebhook);\n        \n        return telegramBot;\n    }\n\n}\n\n</code></pre>\n<pre><code>./ngrok http 8080\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679556461,"creation_date":1679555101,"answer_id":75820048,"question_id":75819990,"body_markdown":"You can `flatMap` twice. The intermediate `flatMap` flattens the stream to `Stream&lt;List&lt;Integer&gt;&gt;` - the scores of all students but grouped by subject.\r\n\r\n```\r\nStream&lt;Integer&gt; integerStream = Arrays.stream(students)\r\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\r\n    .flatMap(Collection::stream); // now flatten it again\r\n```","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>You can <code>flatMap</code> twice. The intermediate <code>flatMap</code> flattens the stream to <code>Stream&lt;List&lt;Integer&gt;&gt;</code> - the scores of all students but grouped by subject.</p>\n<pre><code>Stream&lt;Integer&gt; integerStream = Arrays.stream(students)\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\n    .flatMap(Collection::stream); // now flatten it again\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1679572123,"creation_date":1679554627,"question_id":75819990,"body_markdown":"How convert an array of students to Stream&lt;Integer&gt; all marks of all students?\r\n\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n```\r\n\r\n```\r\nclass Lesson6 {\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \r\n\r\n    }\r\n}\r\n\r\nclass StudenT {\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n         this.name = name;\r\n         this.marks = marks;\r\n     }\r\n\r\n     public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n}\r\n```\r\n","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>How convert an array of students to Stream all marks of all students?</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n</code></pre>\n<pre><code>class Lesson6 {\n    public static void main(String[] args) {\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \n\n    }\n}\n\nclass StudenT {\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n         this.name = name;\n         this.marks = marks;\n     }\n\n     public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","xss"],"answers":[{"tags":[],"owner":{"account_id":18326048,"reputation":56,"user_id":13345659,"display_name":"Sunny Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679571170,"creation_date":1679571170,"answer_id":75822450,"question_id":75822294,"body_markdown":"IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this [link](https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting). Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.","title":"Prevent xss attack on spring","body":"<p>IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this <a href=\"https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting\" rel=\"nofollow noreferrer\">link</a>. Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.</p>\n"}],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572057,"creation_date":1679570082,"question_id":75822294,"body_markdown":"\r\nIn my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\r\nThis is what I have done until now:\r\n\r\nIn web.xml I adedd as first:\r\n\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\r\n    &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nSecondly I added this filter:\r\n ```\r\n  &lt;filter&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nAnd then I addedd xssFilter:\r\n\r\n ```\r\n  &lt;filter&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nand copied the xssflt.jar in WEB-INF/lib.\r\n\r\nNow I&#39;m asking can be this enough and the correct way to prevent xss?\r\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\r\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?","title":"Prevent xss attack on spring","body":"<p>In my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\nThis is what I have done until now:</p>\n<p>In web.xml I adedd as first:</p>\n<pre><code>&lt;context-param&gt;\n&lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\n&lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Secondly I added this filter:</p>\n<pre><code> &lt;filter&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>And then I addedd xssFilter:</p>\n<pre><code> &lt;filter&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>and copied the xssflt.jar in WEB-INF/lib.</p>\n<p>Now I'm asking can be this enough and the correct way to prevent xss?\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9440,"page":552,"page_size":100}
