{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":7338056,"reputation":621,"user_id":5588689,"display_name":"scsere"},"score":0,"creation_date":1452050478,"post_id":34624997,"comment_id":56995926,"body_markdown":"Something like `javax.swing.SwingWorker` ? [Doc](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html)","body":"Something like <code>javax.swing.SwingWorker</code> ? <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/worker.html\" rel=\"nofollow noreferrer\">Doc</a>"},{"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"score":0,"creation_date":1452050558,"post_id":34624997,"comment_id":56995948,"body_markdown":"No, SwingWorker run new thread.","body":"No, SwingWorker run new thread."},{"owner":{"account_id":7338056,"reputation":621,"user_id":5588689,"display_name":"scsere"},"score":0,"creation_date":1452050636,"post_id":34624997,"comment_id":56995970,"body_markdown":"Yep, I commented before you changed the title  to **single thread** ;)","body":"Yep, I commented before you changed the title  to <b>single thread</b> ;)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1452052101,"post_id":34624997,"comment_id":56996344,"body_markdown":"`SwingUtilities#invokeLater` and basically call the same method, which calculates a small set of values and updates the progress bar","body":"<code>SwingUtilities#invokeLater</code> and basically call the same method, which calculates a small set of values and updates the progress bar"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452053227,"creation_date":1452053227,"answer_id":34625464,"question_id":34624997,"body_markdown":"So, assuming we can&#39;t use either `SwingWorker` or Swing `Timer`, as they create a second thread to support their operations, the only choice you&#39;re left with is to use `SwingUtilities#invokeLater` to repeatedly call a method, which performs a small subset of the work and updates the UI before calling itself again (using `SwingUtilities#invokeLater`)\r\n\r\n[![Look ma, no threads][1]][1]\r\n\r\n\timport java.awt.EventQueue;\r\n\timport java.awt.GridBagConstraints;\r\n\timport java.awt.GridBagLayout;\r\n\timport java.awt.event.ActionEvent;\r\n\timport java.awt.event.ActionListener;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\timport javax.swing.JProgressBar;\r\n\timport javax.swing.SwingUtilities;\r\n\timport javax.swing.UIManager;\r\n\timport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\tpublic class NoMoreThreads {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew NoMoreThreads();\r\n\t\t}\r\n\r\n\t\tpublic NoMoreThreads() {\r\n\t\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\t\t\t} catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tJFrame frame = new JFrame(&quot;Testing&quot;);\r\n\t\t\t\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\t\t\tframe.add(new TestPane());\r\n\t\t\t\t\tframe.pack();\r\n\t\t\t\t\tframe.setLocationRelativeTo(null);\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tpublic static class TestPane extends JPanel {\r\n\r\n\t\t\tprotected static final int MAX = 1000;\r\n\r\n\t\t\tprivate JProgressBar pb;\r\n\t\t\tprivate JButton start;\r\n\t\t\tprivate int count;\r\n\r\n\t\t\tpublic TestPane() {\r\n\t\t\t\tsetLayout(new GridBagLayout());\r\n\t\t\t\tGridBagConstraints gbc = new GridBagConstraints();\r\n\t\t\t\tgbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\t\t\t\tstart = new JButton(&quot;Let&#39;s get this party started&quot;);\r\n\t\t\t\tstart.addActionListener(new ActionListener() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\t\t\tstart.setEnabled(false);\r\n\t\t\t\t\t\tcalculate();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tpb = new JProgressBar(0, MAX);\r\n\r\n\t\t\t\tadd(start, gbc);\r\n\t\t\t\tadd(pb, gbc);\r\n\t\t\t}\r\n\r\n\t\t\tprotected void calculate() {\r\n\t\t\t\tcount++;\r\n\t\t\t\tif (count &lt; MAX) {\r\n\t\t\t\t\tpb.setValue(count);\r\n\t\t\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\tcalculate();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstart.setEnabled(true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/1dwl6.gif","title":"Java long calculations without freezes GUI (in single thread)","body":"<p>So, assuming we can't use either <code>SwingWorker</code> or Swing <code>Timer</code>, as they create a second thread to support their operations, the only choice you're left with is to use <code>SwingUtilities#invokeLater</code> to repeatedly call a method, which performs a small subset of the work and updates the UI before calling itself again (using <code>SwingUtilities#invokeLater</code>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/1dwl6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1dwl6.gif\" alt=\"Look ma, no threads\"></a></p>\n\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JProgressBar;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class NoMoreThreads {\n\n    public static void main(String[] args) {\n        new NoMoreThreads();\n    }\n\n    public NoMoreThreads() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                    ex.printStackTrace();\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(new TestPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public static class TestPane extends JPanel {\n\n        protected static final int MAX = 1000;\n\n        private JProgressBar pb;\n        private JButton start;\n        private int count;\n\n        public TestPane() {\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            start = new JButton(\"Let's get this party started\");\n            start.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    start.setEnabled(false);\n                    calculate();\n                }\n            });\n\n            pb = new JProgressBar(0, MAX);\n\n            add(start, gbc);\n            add(pb, gbc);\n        }\n\n        protected void calculate() {\n            count++;\n            if (count &lt; MAX) {\n                pb.setValue(count);\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        calculate();\n                    }\n                });\n            } else {\n                start.setEnabled(true);\n            }\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5846108,"reputation":1151,"user_id":4606185,"display_name":"Axifive"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":34625464,"answer_count":1,"score":0,"last_activity_date":1695052741,"creation_date":1452049905,"question_id":34624997,"body_markdown":"At the interview, me was asked question: &quot;How to perform many calculations in single thread without freezes GUI component like Progress Bar or that would be able to check another user input? (Can execute only one thread)&quot;\r\n\r\nI answered that I can write async event loop. \r\nBut he told me that Java already have some mechanism for it. That java can use hardware parallelization of operation. What the classes or special words can used for this task?","title":"Java long calculations without freezes GUI (in single thread)","body":"<p>At the interview, me was asked question: &quot;How to perform many calculations in single thread without freezes GUI component like Progress Bar or that would be able to check another user input? (Can execute only one thread)&quot;</p>\n<p>I answered that I can write async event loop.\nBut he told me that Java already have some mechanism for it. That java can use hardware parallelization of operation. What the classes or special words can used for this task?</p>\n"},{"tags":["java","file","intellij-idea","jar"],"answers":[{"tags":[],"owner":{"account_id":24735826,"reputation":1,"user_id":18623206,"display_name":"Cuber6251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694974946,"creation_date":1694974946,"answer_id":77123087,"question_id":77118568,"body_markdown":"If you just need one .class file, you can go to your IdeaProjects folder, where IntelliJ stores its projects, and then open the directory of your project. Then:\r\n\r\n1. Click on the &quot;out&quot; directory\r\n2. Click on the &quot;production&quot; directory\r\n3. Click on the file with your project name as its name\r\n4. If you have packages, you should find the correct package, and click on those directories (e.g. if your package is &quot;com.package&quot;, you will need to click on the directory &quot;com&quot;, and then the directory &quot;package&quot;)\r\n5. Find all the .class files in your project.\r\n\r\nPlease note that you will need to build &amp; run your project before these files will show up.","title":"export a single (.class) file","body":"<p>If you just need one .class file, you can go to your IdeaProjects folder, where IntelliJ stores its projects, and then open the directory of your project. Then:</p>\n<ol>\n<li>Click on the &quot;out&quot; directory</li>\n<li>Click on the &quot;production&quot; directory</li>\n<li>Click on the file with your project name as its name</li>\n<li>If you have packages, you should find the correct package, and click on those directories (e.g. if your package is &quot;com.package&quot;, you will need to click on the directory &quot;com&quot;, and then the directory &quot;package&quot;)</li>\n<li>Find all the .class files in your project.</li>\n</ol>\n<p>Please note that you will need to build &amp; run your project before these files will show up.</p>\n"}],"owner":{"account_id":29460737,"reputation":1,"user_id":22575584,"display_name":"Joya Wilson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695052733,"creation_date":1694880555,"question_id":77118568,"body_markdown":"I&#39;m trying to export a single class file (.class) separately from my code in IntelliJ IDEA. I attempted to follow some online advice and the official instructions by going to &#39;File&#39; &gt; &#39;Project Structure&#39; &gt; &#39;Artifacts&#39; &gt; &#39;Build&#39;, but in the collapsed directory, I can only export `.java` files.\r\n\r\n![enter image description here](https://i.stack.imgur.com/Bjp7c.png)\r\n","title":"export a single (.class) file","body":"<p>I'm trying to export a single class file (.class) separately from my code in IntelliJ IDEA. I attempted to follow some online advice and the official instructions by going to 'File' &gt; 'Project Structure' &gt; 'Artifacts' &gt; 'Build', but in the collapsed directory, I can only export <code>.java</code> files.</p>\n<p><img src=\"https://i.stack.imgur.com/Bjp7c.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","tflite","scann"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695069303,"post_id":77128635,"comment_id":135972358,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":22456519,"reputation":1,"user_id":16659126,"display_name":"Taha Kara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695052052,"creation_date":1695052052,"question_id":77128635,"body_markdown":"How can I use ScaNN algorithm to create tflite model\r\n\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell\r\nHow can I use ScaNN algorithm to create tflite modell","title":"How to use ScaNN on the tflite mission","body":"<p>How can I use ScaNN algorithm to create tflite model</p>\n<p>How can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell\nHow can I use ScaNN algorithm to create tflite modell</p>\n"},{"tags":["java","pysimplegui"],"owner":{"account_id":29475021,"reputation":1,"user_id":22586951,"display_name":"Sydney Shanahan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695051694,"creation_date":1695051694,"question_id":77128600,"body_markdown":"Here is my main.py\r\n```\r\nimport os.path,subprocess\r\nfrom subprocess import STDOUT,PIPE\r\nimport PySimpleGUI as sg\r\n\r\n\r\n\r\ndef compile_java(java_file):\r\n    subprocess.check_call([&#39;javac&#39;, java_file])\r\n\r\ndef execute_java(java_file):\r\n    java_class,ext = os.path.splitext(java_file)\r\n    cmd = [&#39;java&#39;, java_class, &#39;hello&#39;]\r\n    proc = subprocess.Popen(cmd,stdout=PIPE,stderr=STDOUT)\r\n    input=subprocess.Popen(cmd,stdin=PIPE)\r\n    print(proc.stdout.read())\r\n\r\n\r\nlogwindow = sg.Multiline(size=(70, 20), font=(&#39;Courier&#39;, 10))\r\nprint = logwindow.print\r\nlayout = [[logwindow]]\r\n\r\n# Create the window\r\nwindow = sg.Window(&quot;Demo&quot;, layout, finalize=True)\r\n\r\n# Create an event loop\r\nwhile True:\r\n    event, values = window.read(timeout=1)\r\n    compile_java(&quot;hello_world.java&quot;)\r\n    execute_java(&quot;HelloWorld&quot;)\r\n    if event == sg.WIN_CLOSED:\r\n        break\r\n\r\nwindow.close()\r\n```\r\n\r\nAnd here is my java file\r\n```\r\nclass HelloWorld {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n         System.out.println(args[0]);\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI want the print statement within the java file to print to my GUI screen and not the console. But only the print statement in the python file prints to the GUI screen","title":"print output from Java file to pysimplegui screen","body":"<p>Here is my main.py</p>\n<pre><code>import os.path,subprocess\nfrom subprocess import STDOUT,PIPE\nimport PySimpleGUI as sg\n\n\n\ndef compile_java(java_file):\n    subprocess.check_call(['javac', java_file])\n\ndef execute_java(java_file):\n    java_class,ext = os.path.splitext(java_file)\n    cmd = ['java', java_class, 'hello']\n    proc = subprocess.Popen(cmd,stdout=PIPE,stderr=STDOUT)\n    input=subprocess.Popen(cmd,stdin=PIPE)\n    print(proc.stdout.read())\n\n\nlogwindow = sg.Multiline(size=(70, 20), font=('Courier', 10))\nprint = logwindow.print\nlayout = [[logwindow]]\n\n# Create the window\nwindow = sg.Window(&quot;Demo&quot;, layout, finalize=True)\n\n# Create an event loop\nwhile True:\n    event, values = window.read(timeout=1)\n    compile_java(&quot;hello_world.java&quot;)\n    execute_java(&quot;HelloWorld&quot;)\n    if event == sg.WIN_CLOSED:\n        break\n\nwindow.close()\n</code></pre>\n<p>And here is my java file</p>\n<pre><code>class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n         System.out.println(args[0]);\n        \n    }\n}\n</code></pre>\n<p>I want the print statement within the java file to print to my GUI screen and not the console. But only the print statement in the python file prints to the GUI screen</p>\n"},{"tags":["java","android","android-sdcard","sd-card","usb-otg"],"answers":[{"tags":[],"owner":{"account_id":6645430,"reputation":12674,"user_id":5129715,"accept_rate":78,"display_name":"mksteve"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1522267087,"creation_date":1522138537,"answer_id":49507682,"question_id":48398221,"body_markdown":"I have had some luck with \r\n\r\n    ContextCompat.getExternalFilesDirs\r\n\r\nThis allows the application folders on external drives to be found.  I haven&#39;t yet found a working better solution than this.\r\n\r\nIn my use case I am using `Environment.DIRECTORY_MOVIES`  But if you need, there are other definitions, including the generic `DIRECTORY_DOCUMENTS`","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>I have had some luck with </p>\n\n<pre><code>ContextCompat.getExternalFilesDirs\n</code></pre>\n\n<p>This allows the application folders on external drives to be found.  I haven't yet found a working better solution than this.</p>\n\n<p>In my use case I am using <code>Environment.DIRECTORY_MOVIES</code>  But if you need, there are other definitions, including the generic <code>DIRECTORY_DOCUMENTS</code></p>\n"},{"tags":[],"owner":{"account_id":6106013,"reputation":1309,"user_id":4763712,"accept_rate":88,"display_name":"Amjad Khan"},"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1522375941,"creation_date":1522375941,"answer_id":49567524,"question_id":48398221,"body_markdown":"You can create one class **EnvironmentSDCardCheck** \r\n\r\n    package com.example.storagecheck;\r\n    \r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.os.Build;\r\n    import android.os.Environment;\r\n    import android.os.storage.StorageManager;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v4.os.EnvironmentCompat;\r\n    import android.util.Log;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.util.ArrayList;\r\n    \r\n    public class EnvironmentSDCardCheck {\r\n        private static final String TAG = &quot;EnvironmentSDCardCheck&quot;;\r\n    \r\n        public final static String TYPE_PRIMARY = &quot;prim&#228;r&quot;;\r\n        public final static String TYPE_INTERNAL = &quot;intern&quot;;\r\n        public final static String TYPE_SD = &quot;MicroSD&quot;;\r\n        public final static String TYPE_USB = &quot;USB&quot;;\r\n        public final static String TYPE_UNKNOWN = &quot;unbekannt&quot;;\r\n    \r\n        public final static String WRITE_NONE = &quot;none&quot;;\r\n        public final static String WRITE_READONLY = &quot;readonly&quot;;\r\n        public final static String WRITE_APPONLY = &quot;apponly&quot;;\r\n        public final static String WRITE_FULL = &quot;readwrite&quot;;\r\n    \r\n        private static Device[] devices, externalstorage, storage;\r\n        private static BroadcastReceiver receiver;\r\n        private static boolean useReceiver = true;\r\n        private static String userDir;\r\n    \r\n        public static Device[] getDevices(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return devices;\r\n        }\r\n    \r\n        public static Device[] getExternalStorage(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return externalstorage;\r\n        }\r\n    \r\n        public static Device[] getStorage(Context context) {\r\n            if (devices == null) initDevices(context);\r\n            return storage;\r\n        }\r\n    \r\n        public static IntentFilter getRescanIntentFilter() {\r\n            IntentFilter filter = new IntentFilter();\r\n            filter.addAction(Intent.ACTION_MEDIA_BAD_REMOVAL); \r\n            filter.addAction(Intent.ACTION_MEDIA_MOUNTED); \r\n            filter.addAction(Intent.ACTION_MEDIA_REMOVED); \r\n            filter.addAction(Intent.ACTION_MEDIA_SHARED); \r\n            filter.addDataScheme(&quot;file&quot;);\r\n            return filter;\r\n        }\r\n    \r\n        public static void setUseReceiver(Context context, boolean use) {\r\n            if (use &amp;&amp; receiver == null) {\r\n                receiver = new BroadcastReceiver() {\r\n                    @Override\r\n                    public void onReceive(Context context, Intent intent) {\r\n                        Log.i(TAG, &quot;Storage &quot; + intent.getAction() + &quot;-&quot; + intent.getData());\r\n                        initDevices(context);\r\n                    }\r\n                };\r\n                context.registerReceiver(receiver, getRescanIntentFilter());\r\n            } else if (!use &amp;&amp; receiver != null) {\r\n                context.unregisterReceiver(receiver);\r\n                receiver = null;\r\n            }\r\n            useReceiver = use;\r\n        }\r\n    \r\n        public static void initDevices(Context context) {\r\n            if (userDir == null) userDir = &quot;/Android/data/&quot; + context.getPackageName();\r\n            setUseReceiver(context, useReceiver);\r\n            StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\r\n            Class c = sm.getClass();\r\n            Object[] vols;\r\n            try {\r\n                Method m = c.getMethod(&quot;getVolumeList&quot;, null);\r\n                vols = (Object[]) m.invoke(sm, null); // android.os.Storage.StorageVolume\r\n                Device[] temp = new Device[vols.length];\r\n                for (int i = 0; i &lt; vols.length; i++) temp[i] = new Device(vols[i]);\r\n                Device primary = null;\r\n                for (Device d : temp) if (d.mPrimary) primary = d;\r\n                if (primary == null) for (Device d : temp)\r\n                    if (!d.mRemovable) {\r\n                        d.mPrimary = true;\r\n                        primary = d;\r\n                        break;\r\n                    }\r\n                if (primary == null) {\r\n                    primary = temp[0];\r\n                    primary.mPrimary = true;\r\n                }\r\n    \r\n                File[] files = ContextCompat.getExternalFilesDirs(context, null);\r\n                File[] caches = ContextCompat.getExternalCacheDirs(context);\r\n                for (Device d : temp) {\r\n                    if (files != null) for (File f : files)\r\n                        if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\r\n                            d.mFiles = f;\r\n                    if (caches != null) for (File f : caches)\r\n                        if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\r\n                            d.mCache = f;\r\n                }\r\n    \r\n                ArrayList&lt;Device&gt; tempDev = new ArrayList&lt;Device&gt;(10);\r\n                ArrayList&lt;Device&gt; tempStor = new ArrayList&lt;Device&gt;(10);\r\n                ArrayList&lt;Device&gt; tempExt = new ArrayList&lt;Device&gt;(10);\r\n                for (Device d : temp) {\r\n                    tempDev.add(d);\r\n                    if (d.isAvailable()) {\r\n                        tempExt.add(d);\r\n                        tempStor.add(d);\r\n                    }\r\n                }\r\n                \r\n                Device internal = new Device(context);\r\n                tempStor.add(0, internal); // bei Storage-Alternativen immer\r\n                if (!primary.mEmulated) tempDev.add(0, internal); // bei Devices nur wenn zus&#228;tzlich\r\n    \r\n                devices = tempDev.toArray(new Device[tempDev.size()]);\r\n                storage = tempStor.toArray(new Device[tempStor.size()]);\r\n                externalstorage = tempExt.toArray(new Device[tempExt.size()]);\r\n            } catch (Exception e) {\r\n                // Fallback auf normale Android-Funktionen\r\n            }\r\n    \r\n        }\r\n    \r\n        public static class Device extends File {\r\n            String mUserLabel, mUuid, mState, mWriteState, mType;\r\n            boolean mPrimary, mRemovable, mEmulated, mAllowMassStorage;\r\n            long mMaxFileSize;\r\n            File mFiles, mCache;\r\n    \r\n            Device(Context context) {\r\n                super(Environment.getDataDirectory().getAbsolutePath());\r\n                mState = Environment.MEDIA_MOUNTED;\r\n                mFiles = context.getFilesDir();\r\n                mCache = context.getCacheDir();\r\n                mType = TYPE_INTERNAL;\r\n                mWriteState = WRITE_APPONLY;\r\n            }\r\n    \r\n            @SuppressWarnings(&quot;NullArgumentToVariableArgMethod&quot;)\r\n            Device(Object storage) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n                super((String) storage.getClass().getMethod(&quot;getPath&quot;, null).invoke(storage, null));\r\n                for (Method m : storage.getClass().getMethods()) {\r\n                    if (m.getName().equals(&quot;getUserLabel&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mUserLabel = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;getUuid&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mUuid = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;getState&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\r\n                        mState = (String) m.invoke(storage, null); // ab Android 4.4\r\n                    if (m.getName().equals(&quot;isRemovable&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mRemovable = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;isPrimary&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mPrimary = (Boolean) m.invoke(storage, null); // ab Android 4.2\r\n                    if (m.getName().equals(&quot;isEmulated&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mEmulated = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;allowMassStorage&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\r\n                        mAllowMassStorage = (Boolean) m.invoke(storage, null); // ab Android 4.0\r\n                    if (m.getName().equals(&quot;getMaxFileSize&quot;) &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == long.class)\r\n                        mMaxFileSize = (Long) m.invoke(storage, null); // ab Android 4.0\r\n                    // getDescription (ab 4.1 mit context) liefert keine sinnvollen Werte\r\n                    // getPathFile (ab 4.2) liefert keine sinnvollen Werte\r\n                    // getMtpReserveSpace (ab 4.0) f&#252;r diese Zwecke unwichtig\r\n                    // getStorageId (ab 4.0) f&#252;r diese Zwecke unwichtig\r\n                }\r\n                if (mState == null) mState = getState();\r\n    \r\n                if (mPrimary)\r\n                    mType = TYPE_PRIMARY;\r\n                else {\r\n                    String n = getAbsolutePath().toLowerCase();\r\n                    if (n.indexOf(&quot;sd&quot;) &gt; 0)\r\n                        mType = TYPE_SD;\r\n                    else if (n.indexOf(&quot;usb&quot;) &gt; 0)\r\n                        mType = TYPE_USB;\r\n                    else\r\n                        mType = TYPE_UNKNOWN + &quot; &quot; + getAbsolutePath();\r\n                }\r\n            }\r\n    \r\n            public String getType() {\r\n                return mType;\r\n            }\r\n    \r\n            public String getAccess() {\r\n                if (mWriteState == null) {\r\n                    try {\r\n                        mWriteState = WRITE_NONE;\r\n                        File[] root = listFiles();\r\n                        if (root == null || root.length == 0)\r\n                            throw new IOException(&quot;root empty/unreadable&quot;);\r\n                        mWriteState = WRITE_READONLY;\r\n                        File t = File.createTempFile(&quot;jow&quot;, null, getFilesDir());\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        t.delete();\r\n                        mWriteState = WRITE_APPONLY;\r\n                        t = File.createTempFile(&quot;jow&quot;, null, this);\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        t.delete();\r\n                        mWriteState = WRITE_FULL;\r\n                    } catch (IOException ignore) {\r\n                        Log.v(TAG, &quot;test &quot; + getAbsolutePath() + &quot; -&gt;&quot; + mWriteState + &quot;&lt;- &quot; + ignore.getMessage());\r\n                    }\r\n                }\r\n                return mWriteState;\r\n            }\r\n    \r\n            public boolean isAvailable() {\r\n                String s = getState();\r\n                return (\r\n                        Environment.MEDIA_MOUNTED.equals(s) ||\r\n                                Environment.MEDIA_MOUNTED_READ_ONLY.equals(s)\r\n                );\r\n                // MEDIA_SHARED: als USB freigegeben; bitte Handy auf MTP umstellen\r\n            }\r\n    \r\n            public String getState() {\r\n                if (mRemovable || mState == null) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\r\n                        // Android 5.0? Da gibts was neues\r\n                        mState = Environment.getExternalStorageState(this);\r\n                    else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\r\n                        // Android 4.4? Dann dort nachfragen\r\n                        mState = Environment.getStorageState(this);\r\n                    else if (canRead() &amp;&amp; getTotalSpace() &gt; 0)\r\n                        // lesbar und Gr&#246;&#223;e vorhanden =&gt; gibt es\r\n                        mState = Environment.MEDIA_MOUNTED;\r\n                    else if (mState == null || Environment.MEDIA_MOUNTED.equals(mState))\r\n                        // nicht lesbar, keine Gr&#246;&#223;e aber noch MOUNTED || oder ungesetzt =&gt; UNKNOWN\r\n                        mState = EnvironmentCompat.MEDIA_UNKNOWN;\r\n                }\r\n                return mState;\r\n            }\r\n    \r\n            public File getFilesDir() {\r\n                if (mFiles == null) {\r\n                    mFiles = new File(this, userDir + &quot;/files&quot;);\r\n                    if (!mFiles.isDirectory())\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        mFiles.mkdirs();\r\n                }\r\n                return mFiles;\r\n            }\r\n    \r\n            public File getCacheDir() {\r\n                if (mCache == null) {\r\n                    mCache = new File(this, userDir + &quot;/cache&quot;);\r\n                    if (!mCache.isDirectory())\r\n                        //noinspection ResultOfMethodCallIgnored\r\n                        mCache.mkdirs();\r\n                }\r\n                return mCache;\r\n            }\r\n    \r\n            public boolean isPrimary() {\r\n                return mPrimary;\r\n            }\r\n    \r\n            public boolean isRemovable() {\r\n                return mRemovable;\r\n            }\r\n            public boolean isEmulated() {\r\n                return mEmulated;\r\n            }\r\n    \r\n            public boolean isAllowMassStorage() {\r\n                return mAllowMassStorage;\r\n            }\r\n    \r\n            public long getMaxFileSize() {\r\n                return mMaxFileSize;\r\n            }\r\n    \r\n            public String getUserLabel() {\r\n                return mUserLabel;\r\n            }\r\n    \r\n            public String getUuid() {\r\n                return mUuid;\r\n            }\r\n        }\r\n    }\r\n\r\nand then you can use it to check sd card or Usb or unknown is presently connected or not with device\r\n\r\n\r\n&gt; This way you can get the connected sd card, usb, etc.\r\n\r\n    private boolean checkSdCardPermission() {\r\n        boolean flag = false;\r\n        try {\r\n            EnvironmentSDCard.Device[] devices = EnvironmentSDCard.getExternalStorage(MainActivity.this);\r\n            for (EnvironmentSDCard.Device d : devices) {\r\n                if (d.getType().equals(EnvironmentSDCard.TYPE_SD) || d.getType().contains(EnvironmentSDCard.TYPE_UNKNOWN) || d.getType().contains(EnvironmentSDCard.TYPE_USB)) {\r\n                    flag = d.isAvailable();\r\n                    if (flag)\r\n                        break;\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n        }\r\n        return flag;\r\n    }\r\n\r\n ","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>You can create one class <strong>EnvironmentSDCardCheck</strong> </p>\n\n<pre><code>package com.example.storagecheck;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.os.Build;\nimport android.os.Environment;\nimport android.os.storage.StorageManager;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v4.os.EnvironmentCompat;\nimport android.util.Log;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.util.ArrayList;\n\npublic class EnvironmentSDCardCheck {\n    private static final String TAG = \"EnvironmentSDCardCheck\";\n\n    public final static String TYPE_PRIMARY = \"primär\";\n    public final static String TYPE_INTERNAL = \"intern\";\n    public final static String TYPE_SD = \"MicroSD\";\n    public final static String TYPE_USB = \"USB\";\n    public final static String TYPE_UNKNOWN = \"unbekannt\";\n\n    public final static String WRITE_NONE = \"none\";\n    public final static String WRITE_READONLY = \"readonly\";\n    public final static String WRITE_APPONLY = \"apponly\";\n    public final static String WRITE_FULL = \"readwrite\";\n\n    private static Device[] devices, externalstorage, storage;\n    private static BroadcastReceiver receiver;\n    private static boolean useReceiver = true;\n    private static String userDir;\n\n    public static Device[] getDevices(Context context) {\n        if (devices == null) initDevices(context);\n        return devices;\n    }\n\n    public static Device[] getExternalStorage(Context context) {\n        if (devices == null) initDevices(context);\n        return externalstorage;\n    }\n\n    public static Device[] getStorage(Context context) {\n        if (devices == null) initDevices(context);\n        return storage;\n    }\n\n    public static IntentFilter getRescanIntentFilter() {\n        IntentFilter filter = new IntentFilter();\n        filter.addAction(Intent.ACTION_MEDIA_BAD_REMOVAL); \n        filter.addAction(Intent.ACTION_MEDIA_MOUNTED); \n        filter.addAction(Intent.ACTION_MEDIA_REMOVED); \n        filter.addAction(Intent.ACTION_MEDIA_SHARED); \n        filter.addDataScheme(\"file\");\n        return filter;\n    }\n\n    public static void setUseReceiver(Context context, boolean use) {\n        if (use &amp;&amp; receiver == null) {\n            receiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    Log.i(TAG, \"Storage \" + intent.getAction() + \"-\" + intent.getData());\n                    initDevices(context);\n                }\n            };\n            context.registerReceiver(receiver, getRescanIntentFilter());\n        } else if (!use &amp;&amp; receiver != null) {\n            context.unregisterReceiver(receiver);\n            receiver = null;\n        }\n        useReceiver = use;\n    }\n\n    public static void initDevices(Context context) {\n        if (userDir == null) userDir = \"/Android/data/\" + context.getPackageName();\n        setUseReceiver(context, useReceiver);\n        StorageManager sm = (StorageManager) context.getSystemService(Context.STORAGE_SERVICE);\n        Class c = sm.getClass();\n        Object[] vols;\n        try {\n            Method m = c.getMethod(\"getVolumeList\", null);\n            vols = (Object[]) m.invoke(sm, null); // android.os.Storage.StorageVolume\n            Device[] temp = new Device[vols.length];\n            for (int i = 0; i &lt; vols.length; i++) temp[i] = new Device(vols[i]);\n            Device primary = null;\n            for (Device d : temp) if (d.mPrimary) primary = d;\n            if (primary == null) for (Device d : temp)\n                if (!d.mRemovable) {\n                    d.mPrimary = true;\n                    primary = d;\n                    break;\n                }\n            if (primary == null) {\n                primary = temp[0];\n                primary.mPrimary = true;\n            }\n\n            File[] files = ContextCompat.getExternalFilesDirs(context, null);\n            File[] caches = ContextCompat.getExternalCacheDirs(context);\n            for (Device d : temp) {\n                if (files != null) for (File f : files)\n                    if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\n                        d.mFiles = f;\n                if (caches != null) for (File f : caches)\n                    if (f != null &amp;&amp; f.getAbsolutePath().startsWith(d.getAbsolutePath()))\n                        d.mCache = f;\n            }\n\n            ArrayList&lt;Device&gt; tempDev = new ArrayList&lt;Device&gt;(10);\n            ArrayList&lt;Device&gt; tempStor = new ArrayList&lt;Device&gt;(10);\n            ArrayList&lt;Device&gt; tempExt = new ArrayList&lt;Device&gt;(10);\n            for (Device d : temp) {\n                tempDev.add(d);\n                if (d.isAvailable()) {\n                    tempExt.add(d);\n                    tempStor.add(d);\n                }\n            }\n\n            Device internal = new Device(context);\n            tempStor.add(0, internal); // bei Storage-Alternativen immer\n            if (!primary.mEmulated) tempDev.add(0, internal); // bei Devices nur wenn zusätzlich\n\n            devices = tempDev.toArray(new Device[tempDev.size()]);\n            storage = tempStor.toArray(new Device[tempStor.size()]);\n            externalstorage = tempExt.toArray(new Device[tempExt.size()]);\n        } catch (Exception e) {\n            // Fallback auf normale Android-Funktionen\n        }\n\n    }\n\n    public static class Device extends File {\n        String mUserLabel, mUuid, mState, mWriteState, mType;\n        boolean mPrimary, mRemovable, mEmulated, mAllowMassStorage;\n        long mMaxFileSize;\n        File mFiles, mCache;\n\n        Device(Context context) {\n            super(Environment.getDataDirectory().getAbsolutePath());\n            mState = Environment.MEDIA_MOUNTED;\n            mFiles = context.getFilesDir();\n            mCache = context.getCacheDir();\n            mType = TYPE_INTERNAL;\n            mWriteState = WRITE_APPONLY;\n        }\n\n        @SuppressWarnings(\"NullArgumentToVariableArgMethod\")\n        Device(Object storage) throws NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n            super((String) storage.getClass().getMethod(\"getPath\", null).invoke(storage, null));\n            for (Method m : storage.getClass().getMethods()) {\n                if (m.getName().equals(\"getUserLabel\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mUserLabel = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"getUuid\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mUuid = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"getState\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == String.class)\n                    mState = (String) m.invoke(storage, null); // ab Android 4.4\n                if (m.getName().equals(\"isRemovable\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mRemovable = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"isPrimary\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mPrimary = (Boolean) m.invoke(storage, null); // ab Android 4.2\n                if (m.getName().equals(\"isEmulated\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mEmulated = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"allowMassStorage\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == boolean.class)\n                    mAllowMassStorage = (Boolean) m.invoke(storage, null); // ab Android 4.0\n                if (m.getName().equals(\"getMaxFileSize\") &amp;&amp; m.getParameterTypes().length == 0 &amp;&amp; m.getReturnType() == long.class)\n                    mMaxFileSize = (Long) m.invoke(storage, null); // ab Android 4.0\n                // getDescription (ab 4.1 mit context) liefert keine sinnvollen Werte\n                // getPathFile (ab 4.2) liefert keine sinnvollen Werte\n                // getMtpReserveSpace (ab 4.0) für diese Zwecke unwichtig\n                // getStorageId (ab 4.0) für diese Zwecke unwichtig\n            }\n            if (mState == null) mState = getState();\n\n            if (mPrimary)\n                mType = TYPE_PRIMARY;\n            else {\n                String n = getAbsolutePath().toLowerCase();\n                if (n.indexOf(\"sd\") &gt; 0)\n                    mType = TYPE_SD;\n                else if (n.indexOf(\"usb\") &gt; 0)\n                    mType = TYPE_USB;\n                else\n                    mType = TYPE_UNKNOWN + \" \" + getAbsolutePath();\n            }\n        }\n\n        public String getType() {\n            return mType;\n        }\n\n        public String getAccess() {\n            if (mWriteState == null) {\n                try {\n                    mWriteState = WRITE_NONE;\n                    File[] root = listFiles();\n                    if (root == null || root.length == 0)\n                        throw new IOException(\"root empty/unreadable\");\n                    mWriteState = WRITE_READONLY;\n                    File t = File.createTempFile(\"jow\", null, getFilesDir());\n                    //noinspection ResultOfMethodCallIgnored\n                    t.delete();\n                    mWriteState = WRITE_APPONLY;\n                    t = File.createTempFile(\"jow\", null, this);\n                    //noinspection ResultOfMethodCallIgnored\n                    t.delete();\n                    mWriteState = WRITE_FULL;\n                } catch (IOException ignore) {\n                    Log.v(TAG, \"test \" + getAbsolutePath() + \" -&gt;\" + mWriteState + \"&lt;- \" + ignore.getMessage());\n                }\n            }\n            return mWriteState;\n        }\n\n        public boolean isAvailable() {\n            String s = getState();\n            return (\n                    Environment.MEDIA_MOUNTED.equals(s) ||\n                            Environment.MEDIA_MOUNTED_READ_ONLY.equals(s)\n            );\n            // MEDIA_SHARED: als USB freigegeben; bitte Handy auf MTP umstellen\n        }\n\n        public String getState() {\n            if (mRemovable || mState == null) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP)\n                    // Android 5.0? Da gibts was neues\n                    mState = Environment.getExternalStorageState(this);\n                else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT)\n                    // Android 4.4? Dann dort nachfragen\n                    mState = Environment.getStorageState(this);\n                else if (canRead() &amp;&amp; getTotalSpace() &gt; 0)\n                    // lesbar und Größe vorhanden =&gt; gibt es\n                    mState = Environment.MEDIA_MOUNTED;\n                else if (mState == null || Environment.MEDIA_MOUNTED.equals(mState))\n                    // nicht lesbar, keine Größe aber noch MOUNTED || oder ungesetzt =&gt; UNKNOWN\n                    mState = EnvironmentCompat.MEDIA_UNKNOWN;\n            }\n            return mState;\n        }\n\n        public File getFilesDir() {\n            if (mFiles == null) {\n                mFiles = new File(this, userDir + \"/files\");\n                if (!mFiles.isDirectory())\n                    //noinspection ResultOfMethodCallIgnored\n                    mFiles.mkdirs();\n            }\n            return mFiles;\n        }\n\n        public File getCacheDir() {\n            if (mCache == null) {\n                mCache = new File(this, userDir + \"/cache\");\n                if (!mCache.isDirectory())\n                    //noinspection ResultOfMethodCallIgnored\n                    mCache.mkdirs();\n            }\n            return mCache;\n        }\n\n        public boolean isPrimary() {\n            return mPrimary;\n        }\n\n        public boolean isRemovable() {\n            return mRemovable;\n        }\n        public boolean isEmulated() {\n            return mEmulated;\n        }\n\n        public boolean isAllowMassStorage() {\n            return mAllowMassStorage;\n        }\n\n        public long getMaxFileSize() {\n            return mMaxFileSize;\n        }\n\n        public String getUserLabel() {\n            return mUserLabel;\n        }\n\n        public String getUuid() {\n            return mUuid;\n        }\n    }\n}\n</code></pre>\n\n<p>and then you can use it to check sd card or Usb or unknown is presently connected or not with device</p>\n\n<blockquote>\n  <p>This way you can get the connected sd card, usb, etc.</p>\n</blockquote>\n\n<pre><code>private boolean checkSdCardPermission() {\n    boolean flag = false;\n    try {\n        EnvironmentSDCard.Device[] devices = EnvironmentSDCard.getExternalStorage(MainActivity.this);\n        for (EnvironmentSDCard.Device d : devices) {\n            if (d.getType().equals(EnvironmentSDCard.TYPE_SD) || d.getType().contains(EnvironmentSDCard.TYPE_UNKNOWN) || d.getType().contains(EnvironmentSDCard.TYPE_USB)) {\n                flag = d.isAvailable();\n                if (flag)\n                    break;\n            }\n        }\n    } catch (Exception e) {\n    }\n    return flag;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user5956451"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522397726,"creation_date":1522390179,"answer_id":49569295,"question_id":48398221,"body_markdown":"Since API level 9 there is `android.os.storage.StorageManager`. Call `getStorageVolumes()` (available since API level 24) to get a list of storage volumes. As the doc puts it:\r\n\r\n&gt; Return the list of shared/external storage volumes available to the current user. This includes both the primary shared storage device and any attached external volumes including SD cards and USB drives.\r\n\r\nThe result is `List&lt;StorageVolume&gt;`. Now, take a look at `android.os.storage.StorageVolume`:\r\n\r\n&gt; Information about a shared/external storage volume for a specific user.\r\n\r\nYou can for example get a user-visible description of the volume by calling `getDescription()`. See `createAccessIntent()` how to get access.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>Since API level 9 there is <code>android.os.storage.StorageManager</code>. Call <code>getStorageVolumes()</code> (available since API level 24) to get a list of storage volumes. As the doc puts it:</p>\n\n<blockquote>\n  <p>Return the list of shared/external storage volumes available to the current user. This includes both the primary shared storage device and any attached external volumes including SD cards and USB drives.</p>\n</blockquote>\n\n<p>The result is <code>List&lt;StorageVolume&gt;</code>. Now, take a look at <code>android.os.storage.StorageVolume</code>:</p>\n\n<blockquote>\n  <p>Information about a shared/external storage volume for a specific user.</p>\n</blockquote>\n\n<p>You can for example get a user-visible description of the volume by calling <code>getDescription()</code>. See <code>createAccessIntent()</code> how to get access.</p>\n"},{"tags":[],"owner":{"account_id":1806762,"reputation":4128,"user_id":1643723,"display_name":"user1643723"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1522634875,"creation_date":1522393450,"answer_id":49569936,"question_id":48398221,"body_markdown":"This is an addition to @Sagar&#39;s answer about getting mounts from `/proc`. Note the use of /proc/self/mountinfo instead of /proc/mountinfo or /proc/mounts. You can read more about format of `/proc/self/mountinfo` in `man 5 procfs`. While the following code technically parses files, it is safe to run on the main thread (because `/proc` is in-memory filesystem).\r\n\r\n    private static final int SANE_SIZE_LIMIT = 200 * 1024 * 1024;\r\n\r\n    // some hashmap for mapping long values to objects\r\n    // personally I am using HPPC maps, the HashMap class is for simplicity\r\n    public final HashMap&lt;String&gt; mountMap = new HashMap&lt;&gt;();\r\n\r\n    public void parse() {\r\n        mountMap.clear();\r\n   \r\n        CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\r\n\r\n        parseMounts(decoder, true);\r\n    }\r\n\r\n    private int measure(FileChannel fc) throws IOException {\r\n        final ByteBuffer buffer = ByteBuffer.allocate(1024 * 4);\r\n\r\n        int totalRead = 0, lastRead;\r\n\r\n        do {\r\n            buffer.clear();\r\n\r\n            lastRead = fc.read(buffer);\r\n\r\n            totalRead += lastRead;\r\n\r\n            if (totalRead &gt; SANE_SIZE_LIMIT) {\r\n                throw new IOException(&quot;/proc/ file appears to be too big!!&quot;);\r\n            }\r\n        } while (lastRead != -1);\r\n\r\n        fc.position(0);\r\n\r\n        return totalRead;\r\n    }\r\n\r\n    private void parseMounts(CharsetDecoder d, boolean force) {\r\n      File file = new File(&quot;/proc/self/mountinfo&quot;);\r\n\r\n      int mode = ParcelFileDescriptor.MODE_READ_ONLY;\r\n\r\n      try (ParcelFileDescriptor pfd = ParcelFileDescriptor.open(file, mode));\r\n        FileChannel fc = new FileInputStream(pfd.getFileDescriptor()).getChannel()) {\r\n\r\n        // Measure size of file before reading from it.\r\n        // Virtual files in /proc/ appear to be zero-sized (because\r\n        // their contents are dynamic), but we want to attempt\r\n        // reading it in single read() call to avoid inconsistencies\r\n        final int totalRead = measure(fc);\r\n\r\n        try (FileInputStream fis = new FileInputStream(pfd.getFileDescriptor());\r\n             Reader r = Channels.newReader(fis.getChannel(), d, totalRead);\r\n             Scanner scanner = new Scanner(r)) {\r\n          while (scanner.hasNextLine()) {\r\n            scanner.nextInt();\r\n            scanner.nextInt();\r\n\r\n            final String[] mm = scanner.next().split(&quot;:&quot;);\r\n\r\n            final int major = Integer.parseInt(mm[0]);\r\n            final int minor = Integer.parseInt(mm[1]);\r\n\r\n            final long dev_t = makedev(major, minor);\r\n\r\n            final String source = scanner.next();\r\n\r\n            // ignore bind-mounts for now\r\n            if (&quot;/&quot;.equals(source)) {\r\n              final String location = scanner.next();\r\n\r\n              // skip optional parts\r\n              scanner.skip(&quot;(.+ -)&quot;);\r\n\r\n              // type of file system (such as ext4)\r\n              // most useful filesystems can be distinguished by type\r\n              // but &quot;fuse&quot; is problematic (because most Android\r\n              // distributions implement dynamic permissions on\r\n              // external SD card via custom FUSE filesystem).\r\n              // To make matters worse, that SD card FUSE filesystem is\r\n              // often mounted in several places at once. The code below\r\n              // will throw away duplicate mounts by placing them in\r\n              // HashMap, keyed by uniqie filesystem type ID,\r\n              // but you can do it more cleverly be checking whether\r\n              // a mountpoint directory is accessible (via File#list).\r\n              // You can throw away rest of useless filesystems (such as\r\n              // /mnt/secure/asec) by permission checks and blacklisting\r\n              // well-known paths.\r\n              final String fsType = scanner.next().intern();\r\n\r\n              final String subject = scanner.next().intern();\r\n\r\n              String created = location + subject + fsType;\r\n\r\n              String prev = mountMap.put(dev_t, created);\r\n\r\n              if (prev != null) {\r\n                created.next = prev;\r\n              }\r\n            }\r\n\r\n            scanner.nextLine();\r\n          }\r\n\r\n          return;\r\n        } catch (NumberFormatException | NoSuchElementException nse) {\r\n          // oops.. either a new row type was introduced (not a big deal)\r\n          // or the file changed below our feet (because someone has mounted\r\n          // something). Let&#39;s retry once more\r\n          parseMounts(d, false);\r\n        } catch (IOException e) {\r\n            throw new WrappedIOException(e);\r\n        }\r\n    }\r\n\r\nYou can find more useful information (such as common path to useless filesystem), in [this answer](https://stackoverflow.com/a/19982338/1643723). Note, that formats of /proc/mounts and /proc/mountinfo **are different**, later was introduced after former to improve upon it&#39;s format without breaking backwards compatibility.\r\n\r\nThe code above is not golden bullet — it does not really tell you anything about individual filesystems, just their paths and filesystem name. You can be reasonable confident, that &quot;vfat&quot; and &quot;ext4&quot; are useful filesystems, and &quot;procfs&quot; is useless, but something like &quot;fuse&quot; is going to remain mysterious. You can augment output of code above by using `android.os.storage.StorageManager` to get more user-friendly filesystem names (like &quot;SD Card&quot;) when they are available (match by mount paths). You can also use [StatFs](https://developer.android.com/reference/android/os/StatFs.html) to obtain available free space on partition — useless virtual filesystems typically will return zero free space and zero available space when queried. Finally, if you  are so inclined, you can consider filesystem mount options when deciding whether to show filesystem to user. E.g. `ro` vs `rw`, — read-only filesystem mounts typically will be a lot less useful for your users.\r\n\r\n\r\n----------\r\n\r\nWhen I explain this method to people, they are often concerned with it&#39;s robustness… Will it work on some random junkphone? Will it remain available in future OS versions? Here is my take on it: this method is still better than many reflection-based advises, — in the worst case, reading from /proc/ file will return you IOException. It will not crash your app or result in unpredictable behavior like some reflection-based hacks.\r\n\r\n`/proc` filesystem is official Linux API, maintained by Linux kernel developers. It is not possible to remove it by specifying different kernel build options (e.g. it is a mandatory part of OS kernel). It has been available for many years and retains better backwards compatibility than most Android APIs. In particular /proc/self/mountinfo was created over 10 years ago and will be available in most existing Android versions except most ancient.\r\n\r\nAndroid developers do not officially support Linux-specific APIs. But they don&#39;t go out of their way to break them either. Some of recent SELinux changes in post-Lollipop Android have restricted access to some files in `/proc/`, — because they allowed applications to covertly spy on other applications. Those changes specifically kept `/proc/self` accessible, because /proc/self is designed to expose only applications own information (including information about file systems, available to the application).\r\n\r\nIf Google ever transitions from Linux to Fuchensa or some other homegrown BSD fork, the /proc/ and other Linux-specifc APIs will probably break. Do I care? Not really.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>This is an addition to @Sagar's answer about getting mounts from <code>/proc</code>. Note the use of /proc/self/mountinfo instead of /proc/mountinfo or /proc/mounts. You can read more about format of <code>/proc/self/mountinfo</code> in <code>man 5 procfs</code>. While the following code technically parses files, it is safe to run on the main thread (because <code>/proc</code> is in-memory filesystem).</p>\n\n<pre><code>private static final int SANE_SIZE_LIMIT = 200 * 1024 * 1024;\n\n// some hashmap for mapping long values to objects\n// personally I am using HPPC maps, the HashMap class is for simplicity\npublic final HashMap&lt;String&gt; mountMap = new HashMap&lt;&gt;();\n\npublic void parse() {\n    mountMap.clear();\n\n    CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\n\n    parseMounts(decoder, true);\n}\n\nprivate int measure(FileChannel fc) throws IOException {\n    final ByteBuffer buffer = ByteBuffer.allocate(1024 * 4);\n\n    int totalRead = 0, lastRead;\n\n    do {\n        buffer.clear();\n\n        lastRead = fc.read(buffer);\n\n        totalRead += lastRead;\n\n        if (totalRead &gt; SANE_SIZE_LIMIT) {\n            throw new IOException(\"/proc/ file appears to be too big!!\");\n        }\n    } while (lastRead != -1);\n\n    fc.position(0);\n\n    return totalRead;\n}\n\nprivate void parseMounts(CharsetDecoder d, boolean force) {\n  File file = new File(\"/proc/self/mountinfo\");\n\n  int mode = ParcelFileDescriptor.MODE_READ_ONLY;\n\n  try (ParcelFileDescriptor pfd = ParcelFileDescriptor.open(file, mode));\n    FileChannel fc = new FileInputStream(pfd.getFileDescriptor()).getChannel()) {\n\n    // Measure size of file before reading from it.\n    // Virtual files in /proc/ appear to be zero-sized (because\n    // their contents are dynamic), but we want to attempt\n    // reading it in single read() call to avoid inconsistencies\n    final int totalRead = measure(fc);\n\n    try (FileInputStream fis = new FileInputStream(pfd.getFileDescriptor());\n         Reader r = Channels.newReader(fis.getChannel(), d, totalRead);\n         Scanner scanner = new Scanner(r)) {\n      while (scanner.hasNextLine()) {\n        scanner.nextInt();\n        scanner.nextInt();\n\n        final String[] mm = scanner.next().split(\":\");\n\n        final int major = Integer.parseInt(mm[0]);\n        final int minor = Integer.parseInt(mm[1]);\n\n        final long dev_t = makedev(major, minor);\n\n        final String source = scanner.next();\n\n        // ignore bind-mounts for now\n        if (\"/\".equals(source)) {\n          final String location = scanner.next();\n\n          // skip optional parts\n          scanner.skip(\"(.+ -)\");\n\n          // type of file system (such as ext4)\n          // most useful filesystems can be distinguished by type\n          // but \"fuse\" is problematic (because most Android\n          // distributions implement dynamic permissions on\n          // external SD card via custom FUSE filesystem).\n          // To make matters worse, that SD card FUSE filesystem is\n          // often mounted in several places at once. The code below\n          // will throw away duplicate mounts by placing them in\n          // HashMap, keyed by uniqie filesystem type ID,\n          // but you can do it more cleverly be checking whether\n          // a mountpoint directory is accessible (via File#list).\n          // You can throw away rest of useless filesystems (such as\n          // /mnt/secure/asec) by permission checks and blacklisting\n          // well-known paths.\n          final String fsType = scanner.next().intern();\n\n          final String subject = scanner.next().intern();\n\n          String created = location + subject + fsType;\n\n          String prev = mountMap.put(dev_t, created);\n\n          if (prev != null) {\n            created.next = prev;\n          }\n        }\n\n        scanner.nextLine();\n      }\n\n      return;\n    } catch (NumberFormatException | NoSuchElementException nse) {\n      // oops.. either a new row type was introduced (not a big deal)\n      // or the file changed below our feet (because someone has mounted\n      // something). Let's retry once more\n      parseMounts(d, false);\n    } catch (IOException e) {\n        throw new WrappedIOException(e);\n    }\n}\n</code></pre>\n\n<p>You can find more useful information (such as common path to useless filesystem), in <a href=\"https://stackoverflow.com/a/19982338/1643723\">this answer</a>. Note, that formats of /proc/mounts and /proc/mountinfo <strong>are different</strong>, later was introduced after former to improve upon it's format without breaking backwards compatibility.</p>\n\n<p>The code above is not golden bullet — it does not really tell you anything about individual filesystems, just their paths and filesystem name. You can be reasonable confident, that \"vfat\" and \"ext4\" are useful filesystems, and \"procfs\" is useless, but something like \"fuse\" is going to remain mysterious. You can augment output of code above by using <code>android.os.storage.StorageManager</code> to get more user-friendly filesystem names (like \"SD Card\") when they are available (match by mount paths). You can also use <a href=\"https://developer.android.com/reference/android/os/StatFs.html\" rel=\"nofollow noreferrer\">StatFs</a> to obtain available free space on partition — useless virtual filesystems typically will return zero free space and zero available space when queried. Finally, if you  are so inclined, you can consider filesystem mount options when deciding whether to show filesystem to user. E.g. <code>ro</code> vs <code>rw</code>, — read-only filesystem mounts typically will be a lot less useful for your users.</p>\n\n<hr>\n\n<p>When I explain this method to people, they are often concerned with it's robustness… Will it work on some random junkphone? Will it remain available in future OS versions? Here is my take on it: this method is still better than many reflection-based advises, — in the worst case, reading from /proc/ file will return you IOException. It will not crash your app or result in unpredictable behavior like some reflection-based hacks.</p>\n\n<p><code>/proc</code> filesystem is official Linux API, maintained by Linux kernel developers. It is not possible to remove it by specifying different kernel build options (e.g. it is a mandatory part of OS kernel). It has been available for many years and retains better backwards compatibility than most Android APIs. In particular /proc/self/mountinfo was created over 10 years ago and will be available in most existing Android versions except most ancient.</p>\n\n<p>Android developers do not officially support Linux-specific APIs. But they don't go out of their way to break them either. Some of recent SELinux changes in post-Lollipop Android have restricted access to some files in <code>/proc/</code>, — because they allowed applications to covertly spy on other applications. Those changes specifically kept <code>/proc/self</code> accessible, because /proc/self is designed to expose only applications own information (including information about file systems, available to the application).</p>\n\n<p>If Google ever transitions from Linux to Fuchensa or some other homegrown BSD fork, the /proc/ and other Linux-specifc APIs will probably break. Do I care? Not really.</p>\n"},{"tags":[],"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695051560,"creation_date":1695051560,"answer_id":77128582,"question_id":48398221,"body_markdown":"This function ensures to get all canonical readable storage paths on each android version (hopefully).\r\n\r\n\tprivate static ArrayList&lt;String&gt; getAllStorages(Context context)\r\n\t{\r\n\t\tArrayList&lt;String&gt; storagePaths = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tstoragePaths.add(Environment.getExternalStorageDirectory().getAbsolutePath());\r\n\r\n\t\t// Android 10+\r\n\t\tFile[] externalDirs = context.getExternalFilesDirs(null);\r\n\t\tfor (File file : externalDirs)\r\n\t\t{\r\n\t\t\tstoragePaths.add(file.getAbsolutePath());\r\n\t\t}\r\n\r\n\t\t// Android 9-\r\n\t\tString externalStorage = System.getenv(&quot;SECONDARY_STORAGE&quot;);\r\n\t\tif (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\r\n\t\t{\r\n\t\t\tString[] externalPaths = externalStorage.split(&quot;:&quot;);\r\n\t\t\tfor (String e:externalPaths)\r\n\t\t\t{\r\n\t\t\t\tstoragePaths.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\texternalStorage = System.getenv(&quot;EXTERNAL_STORAGE&quot;);\r\n\t\tif (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\r\n\t\t{\r\n\t\t\tString[] externalPaths = externalStorage.split(&quot;:&quot;);\r\n\t\t\tfor (String e:externalPaths)\r\n\t\t\t{\r\n\t\t\t\tstoragePaths.add(e);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tArrayList&lt;String&gt; result=new ArrayList&lt;&gt;();\r\n\t\tfor (String s:storagePaths)\r\n\t\t{\r\n\t\t\tFile f=new File(s);\r\n\t\t\tFile f2=f;\r\n\t\t\twhile (f2 != null)\r\n\t\t\t{\r\n\t\t\t\tif (f2.canRead())\r\n\t\t\t\t{\r\n\t\t\t\t\tf = f2;\r\n\t\t\t\t}\r\n\t\t\t\tf2 = f2.getParentFile();\r\n\t\t\t}\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tf = f.getCanonicalFile();\r\n\t\t\t}\r\n\t\t\tcatch (IOException e)\r\n\t\t\t{}\r\n\t\t\ts = f.getPath();\r\n\t\t\tif (!result.contains(s))\r\n\t\t\t{\r\n\t\t\t\tresult.add(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\nTested on Android 11.\r\n\r\nYou can test it on each Android and give feedback in comments, so we can make it more compatible if isn&#39;t.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>This function ensures to get all canonical readable storage paths on each android version (hopefully).</p>\n<pre><code>private static ArrayList&lt;String&gt; getAllStorages(Context context)\n{\n    ArrayList&lt;String&gt; storagePaths = new ArrayList&lt;&gt;();\n    \n    storagePaths.add(Environment.getExternalStorageDirectory().getAbsolutePath());\n\n    // Android 10+\n    File[] externalDirs = context.getExternalFilesDirs(null);\n    for (File file : externalDirs)\n    {\n        storagePaths.add(file.getAbsolutePath());\n    }\n\n    // Android 9-\n    String externalStorage = System.getenv(&quot;SECONDARY_STORAGE&quot;);\n    if (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\n    {\n        String[] externalPaths = externalStorage.split(&quot;:&quot;);\n        for (String e:externalPaths)\n        {\n            storagePaths.add(e);\n        }\n    }\n    externalStorage = System.getenv(&quot;EXTERNAL_STORAGE&quot;);\n    if (externalStorage != null &amp;&amp; !externalStorage.isEmpty())\n    {\n        String[] externalPaths = externalStorage.split(&quot;:&quot;);\n        for (String e:externalPaths)\n        {\n            storagePaths.add(e);\n        }\n    }\n    \n    ArrayList&lt;String&gt; result=new ArrayList&lt;&gt;();\n    for (String s:storagePaths)\n    {\n        File f=new File(s);\n        File f2=f;\n        while (f2 != null)\n        {\n            if (f2.canRead())\n            {\n                f = f2;\n            }\n            f2 = f2.getParentFile();\n        }\n        try\n        {\n            f = f.getCanonicalFile();\n        }\n        catch (IOException e)\n        {}\n        s = f.getPath();\n        if (!result.contains(s))\n        {\n            result.add(s);\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Tested on Android 11.</p>\n<p>You can test it on each Android and give feedback in comments, so we can make it more compatible if isn't.</p>\n"}],"owner":{"account_id":9151807,"reputation":701,"user_id":7317019,"accept_rate":78,"display_name":"Rahulrr2602"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6084,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":49567524,"answer_count":5,"score":16,"last_activity_date":1695051560,"creation_date":1516699688,"question_id":48398221,"body_markdown":"I want to get the list of all Storage Devices which are connected to the Android device. \r\n\r\nFor eg- Internal Storage(Storage in which all the folders such as Downloads, DCIM etc are present), SD Card and OTG device. \r\n\r\n**I Know there are a lot of StackOverflow posts which discuss this topic but none of them could serve my purpose as stated above.**\r\n\r\nI am able to get the Internal Storage by calling `Environment.getExternalStorageDirectory().getPath()` which return the path to the Internal Storage.\r\n\r\nAny help on this would be really grateful as there is no standard AFAIK using which the list of all the connected Storage devices can be retrieved. \r\n\r\nAlso, many solutions do not work on different devices and Android version.","title":"Get the list of paths of all the Storage Devices connected to an Android device","body":"<p>I want to get the list of all Storage Devices which are connected to the Android device. </p>\n\n<p>For eg- Internal Storage(Storage in which all the folders such as Downloads, DCIM etc are present), SD Card and OTG device. </p>\n\n<p><strong>I Know there are a lot of StackOverflow posts which discuss this topic but none of them could serve my purpose as stated above.</strong></p>\n\n<p>I am able to get the Internal Storage by calling <code>Environment.getExternalStorageDirectory().getPath()</code> which return the path to the Internal Storage.</p>\n\n<p>Any help on this would be really grateful as there is no standard AFAIK using which the list of all the connected Storage devices can be retrieved. </p>\n\n<p>Also, many solutions do not work on different devices and Android version.</p>\n"},{"tags":["java","android-studio","java-14"],"comments":[{"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1695059422,"post_id":77128503,"comment_id":135970752,"body_markdown":"https://developer.android.com/build/jdks#jdk-android-studio","body":"<a href=\"https://developer.android.com/build/jdks#jdk-android-studio\" rel=\"nofollow noreferrer\">developer.android.com/build/jdks#jdk-android-studio</a>"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695051341,"creation_date":1695051014,"question_id":77128503,"body_markdown":"[![enter image description here][1]][1][![enter image description here][2]][2]I updated my flutter SDK recently and started having issues with my Android studio. Initially I was using Java 8 but I upgraded my Java jdk to Java 14. I have set my Environment variable to point to Java 14 and when I run &quot;java -version&quot; in command prompt, it&#39;s showing me the new one i.e Java 14 but my Android studio is still showing Java 8 and it&#39;s causing error because the new flutter I&#39;m using cannot run on Java 8. I have actually checked all other suggestions from stack overflow here but still not solving the issue. I need help on how to update my Android studio to use the new Java 14 instead of Java 8.\r\nI do not want to update it in Android studio settings because that will require me to be doing it anytime I create a new project. I want to update it directly from my pc so that whenever I create a new project, it will use the new jdk 14 directly\r\nI have the screenshot of the Jdk in Android studio and the one installed on my machine\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gxN8J.png\r\n  [2]: https://i.stack.imgur.com/IRdL7.png","title":"How to update Java Android JDK path in Windows","body":"<p><a href=\"https://i.stack.imgur.com/gxN8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gxN8J.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/IRdL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRdL7.png\" alt=\"enter image description here\" /></a>I updated my flutter SDK recently and started having issues with my Android studio. Initially I was using Java 8 but I upgraded my Java jdk to Java 14. I have set my Environment variable to point to Java 14 and when I run &quot;java -version&quot; in command prompt, it's showing me the new one i.e Java 14 but my Android studio is still showing Java 8 and it's causing error because the new flutter I'm using cannot run on Java 8. I have actually checked all other suggestions from stack overflow here but still not solving the issue. I need help on how to update my Android studio to use the new Java 14 instead of Java 8.\nI do not want to update it in Android studio settings because that will require me to be doing it anytime I create a new project. I want to update it directly from my pc so that whenever I create a new project, it will use the new jdk 14 directly\nI have the screenshot of the Jdk in Android studio and the one installed on my machine</p>\n"},{"tags":["java","sorting","set","java-stream"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":3,"creation_date":1692954068,"post_id":76975605,"comment_id":135697806,"body_markdown":"Does this answer your question? [How is this HashSet producing sorted output?](https://stackoverflow.com/questions/18648521/how-is-this-hashset-producing-sorted-output)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18648521/how-is-this-hashset-producing-sorted-output\">How is this HashSet producing sorted output?</a>"},{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":1,"creation_date":1692954150,"post_id":76975605,"comment_id":135697818,"body_markdown":"If you add a `System.out.println(r2.getClass());` you&#39;ll see that you are getting a HashSet. Why that appears sorted for small ints, see linked question. Add a bunch of long strings and the order will disappear.","body":"If you add a <code>System.out.println(r2.getClass());</code> you&#39;ll see that you are getting a HashSet. Why that appears sorted for small ints, see linked question. Add a bunch of long strings and the order will disappear."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1692954861,"post_id":76975605,"comment_id":135697945,"body_markdown":"To summarize linked question - this is only a coincidence, because integers hash to themselves. To see different ordering, collect like this  (for example) - `.collect(Collectors.toCollection(() -&gt; new HashSet&lt;&gt;(3, 3)));`, prints `[4, 1, 2, 3]` on my machine.","body":"To summarize linked question - this is only a coincidence, because integers hash to themselves. To see different ordering, collect like this  (for example) - <code>.collect(Collectors.toCollection(() -&gt; new HashSet&lt;&gt;(3, 3)));</code>, prints <code>[4, 1, 2, 3]</code> on my machine."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692970806,"post_id":76975605,"comment_id":135701471,"body_markdown":"Coming soon to a JDK near you: [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431)","body":"Coming soon to a JDK near you: <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><i>JEP 431: Sequenced Collections</i></a>"}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1692954455,"creation_date":1692954455,"answer_id":76975774,"question_id":76975605,"body_markdown":"`Set`s generally don&#39;t have any order you can rely on.\r\n\r\nThe purpose of a `Set` is to have a collection of elements that does not allow duplicates without considering the order of the elements. You can essentially add, remove elements and check whether an element is present.\r\n\r\nIf you want a data structure that is indexed, you should probably use a `List`.\r\nLists are indexed and have an order.\r\n```java\r\npublic static List&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toList());\r\n}\r\n```\r\n\r\nHowever, there are specific `Set` implementations that gurantee a specific order.\r\n\r\nFor example, if you want a `Set` that just preserves order, you might want to consider using a `LinkedHashSet` which is essentially a `HashSet` that keeps insertion order:\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n}\r\n```\r\n\r\nIf you want the set to be sorted in some way, you can also uses a sorted set implementation like `TreeSet`:\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(Comparator.naturalOrder().reversed())));\r\n}\r\n```\r\nIn the above code, `Comparator.naturalOrder().reversed()` creates a `Comparator` which is used for configuring the order of elements the `Set` should be sorted in. `Comparator.naturalOrder()` refers to a `Comparator` which compares by the &quot;natural order&quot; of the elements which is ascending for `Integer`s. `reversed()` is then used for reversing the order (descending `Integer`s).","title":"how sorting works in a java set","body":"<p><code>Set</code>s generally don't have any order you can rely on.</p>\n<p>The purpose of a <code>Set</code> is to have a collection of elements that does not allow duplicates without considering the order of the elements. You can essentially add, remove elements and check whether an element is present.</p>\n<p>If you want a data structure that is indexed, you should probably use a <code>List</code>.\nLists are indexed and have an order.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>However, there are specific <code>Set</code> implementations that gurantee a specific order.</p>\n<p>For example, if you want a <code>Set</code> that just preserves order, you might want to consider using a <code>LinkedHashSet</code> which is essentially a <code>HashSet</code> that keeps insertion order:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p>If you want the set to be sorted in some way, you can also uses a sorted set implementation like <code>TreeSet</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(()-&gt;new TreeSet&lt;&gt;(Comparator.naturalOrder().reversed())));\n}\n</code></pre>\n<p>In the above code, <code>Comparator.naturalOrder().reversed()</code> creates a <code>Comparator</code> which is used for configuring the order of elements the <code>Set</code> should be sorted in. <code>Comparator.naturalOrder()</code> refers to a <code>Comparator</code> which compares by the &quot;natural order&quot; of the elements which is ascending for <code>Integer</code>s. <code>reversed()</code> is then used for reversing the order (descending <code>Integer</code>s).</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692964853,"creation_date":1692964853,"answer_id":76977006,"question_id":76975605,"body_markdown":"The fact that your set is in sorted order is purely coincidental and based on the `hash values`, the `capacity` of the set, and the `load factor`.  All of those are mentioned in the JavaDoc for [HashSet](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html#HashSet(int,float)) but explained in more detail [HashMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html).\r\n\r\nConsider the following:\r\n```\r\nList&lt;Integer&gt; list = List.of(13,12,11,10,9,8,7,6,5,4,3,2,1);\r\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nPrints\r\n```\r\n1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\r\n```\r\nNow adjust the size and load capacity to force a different behavior.\r\n```\r\nset = new HashSet&lt;&gt;(1,10f);\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nprints\r\n```\r\n[12, 10, 8, 6, 4, 2, 13, 11, 9, 7, 5, 3, 1]\r\n```\r\nAnd if you want to preserve the insertion order use a [LinkedHashSet]( https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashSet.html#LinkedHashSet())\r\n```\r\nset = new LinkedHashSet&lt;&gt;();\r\nset.addAll(list);\r\nSystem.out.println(set);\r\n```\r\nprints\r\n```\r\n[13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\r\n```\r\nThe bottom line is that except for some special implementations including [TreeSet](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeSet.html) which wasn&#39;t discussed above, `Sets` are inherently unordered and any appearance that they are is purely coincidental.\r\n","title":"how sorting works in a java set","body":"<p>The fact that your set is in sorted order is purely coincidental and based on the <code>hash values</code>, the <code>capacity</code> of the set, and the <code>load factor</code>.  All of those are mentioned in the JavaDoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashSet.html#HashSet(int,float)\" rel=\"nofollow noreferrer\">HashSet</a> but explained in more detail <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap</a>.</p>\n<p>Consider the following:</p>\n<pre><code>List&lt;Integer&gt; list = List.of(13,12,11,10,9,8,7,6,5,4,3,2,1);\nSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>Prints</p>\n<pre><code>1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13]\n</code></pre>\n<p>Now adjust the size and load capacity to force a different behavior.</p>\n<pre><code>set = new HashSet&lt;&gt;(1,10f);\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>prints</p>\n<pre><code>[12, 10, 8, 6, 4, 2, 13, 11, 9, 7, 5, 3, 1]\n</code></pre>\n<p>And if you want to preserve the insertion order use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashSet.html#LinkedHashSet()\" rel=\"nofollow noreferrer\">LinkedHashSet</a></p>\n<pre><code>set = new LinkedHashSet&lt;&gt;();\nset.addAll(list);\nSystem.out.println(set);\n</code></pre>\n<p>prints</p>\n<pre><code>[13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\n</code></pre>\n<p>The bottom line is that except for some special implementations including <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\">TreeSet</a> which wasn't discussed above, <code>Sets</code> are inherently unordered and any appearance that they are is purely coincidental.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693030528,"creation_date":1693006671,"answer_id":76981034,"question_id":76975605,"body_markdown":"The Answers [by dan1st][1] and [by WJS][2] are both correct and smart. I&#39;ll modify the code seen in the first to take advantage of new features in Java.\r\n\r\n# tl;dr\r\n\r\nUse the new `SequencedCollection` interface in Java 21+. \r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\r\n            .toList ( );\r\n}\r\n```\r\n\r\n# Sequenced collections in Java 21+\r\n\r\n[Java 21][3] brings some new interfaces and methods to the venerable Java Collections framework. The new features recognize the concept of *sequenced collections*. \r\n\r\n[![diagram of three new interfaces added to Java 21][4]][4]\r\n\r\nFor more info, see [*JEP 431: Sequenced Collections*](https://openjdk.org/jeps/431). And see the video by [Jos&#233; Paumard][5] on the *JEP Caf&#233;* channel on YouTube. See [early-access Javadoc][6].\r\n\r\nLet&#39;s modify the code shown in the [Answer by dan1st][1] to use the new Java 21 features.\r\n\r\nStart with this piece:\r\n\r\n```java\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toCollection(LinkedHashSet::new));\r\n}\r\n```\r\n\r\nNotice that this method must return either:\r\n\r\n - The overly general [`Set`][7] interface, with no indication of this collection promising to be in a certain order.\r\n - The overly specific [`LinkedHashSet`][8] class, which remembers insertion order.\r\n\r\nJava offers the `SortedSet` interface, and its successor [`NavigableSet`][9]. These are meant for collections with a *sorted* order. But [`LinkedHashSet`][8] with its *insertion* order cannot implement those interfaces. \r\n\r\nSo, voil&#224;, Java 21 adds the [`SequencedSet`][10] interface, to represent `LinkedHashSet` as well as `SortedSet`/`NavigableSet` implementations such as [`TreeSet`][11].\r\n\r\nLet&#39;s pop that into the code snippet from above. And do some reformatting and renaming.\r\n\r\n```java\r\npublic SequencedSet &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n}\r\n```\r\n\r\nAnd we could make that the more general `SequencedCollection`. \r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n}\r\n```\r\n\r\nLe&#39;s try it.\r\n\r\n```java\r\nList &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; );\r\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\r\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\r\n```\r\n\r\nWhen run:\r\n\r\n&gt;stringLengths = [4, 2, 3, 1]\r\n\r\n\r\n## `Set` forbids duplicates \r\n\r\nBut multiple input strings could very well have the same length. And `Set` implementations cannot allow duplicates. So really, we should be outputting a `List` rather than a `Set`. \r\n\r\nFortunately, no need to change the signature of our `calculateStringLengths` method —&#160;`List` &amp; `ArrayList` implement `SequencedCollection`. So we can swap:\r\n\r\n```java\r\n            .collect (\r\n                    Collectors.toCollection ( LinkedHashSet :: new )\r\n            );\r\n``` \r\n\r\n… with:\r\n\r\n```java\r\n            .toList() ;\r\n```\r\n\r\n… like this:\r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( String :: length )\r\n            .toList() ;\r\n}\r\n```\r\n\r\nWe get the same results.\r\n\r\n&gt;stringLengths = [4, 2, 3, 1]\r\n\r\n## Use code points, not `char`\r\n\r\nUnfortunately, you used the `String#length` method which is essentially broken. Add a character such as `&#128567;` to your input strings to see incorrect results.\r\n\r\nThat `length` method uses the `char` type. As a 16-bit value, that `char` type is physically incapable of representing most characters. Instead of `char` use [code points][12].\r\n\r\nReplace `String :: length` with `s.codePoints ( ).count ( )`. But that call returns a `long`, so we must either change `&lt; Integer &gt;` to `&lt; Long &gt;` or we must cast the `long` to an `int` since a string’s length cannot be more than `Integer.MAX_VALUE`. For defensive programming, we can be extra safe by using `Math.toIntExact` instead of a direct cast, as this method throws an exception in case of integer overflow.\r\n\r\n```java\r\npublic SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\r\n{\r\n    return inputList\r\n            .stream ( )\r\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\r\n            .toList ( );\r\n}\r\n```\r\n\r\nLet&#39;s try this final version of our code. We add `&#128567;` as a test of our more accurate string-length calculation. \r\n\r\n```java\r\nList &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; , &quot;&#128567;&quot; );\r\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\r\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\r\n```\r\n\r\n&gt;stringLengths = [4, 2, 3, 1, 1]\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76975774/642706\r\n  [2]: https://stackoverflow.com/a/76977006/642706\r\n  [3]: https://openjdk.org/projects/jdk/21/\r\n  [4]: https://i.stack.imgur.com/AEv7p.png\r\n  [5]: https://fr.linkedin.com/in/jos%C3%A9-paumard-2458ba5\r\n  [6]: https://download.java.net/java/early_access/jdk21/docs/api/\r\n  [7]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\r\n  [9]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\r\n  [10]: https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedSet.html\r\n  [11]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html\r\n  [12]: https://en.wikipedia.org/wiki/Code_point","title":"how sorting works in a java set","body":"<p>The Answers <a href=\"https://stackoverflow.com/a/76975774/642706\">by dan1st</a> and <a href=\"https://stackoverflow.com/a/76977006/642706\">by WJS</a> are both correct and smart. I'll modify the code seen in the first to take advantage of new features in Java.</p>\n<h1>tl;dr</h1>\n<p>Use the new <code>SequencedCollection</code> interface in Java 21+.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\n            .toList ( );\n}\n</code></pre>\n<h1>Sequenced collections in Java 21+</h1>\n<p><a href=\"https://openjdk.org/projects/jdk/21/\" rel=\"nofollow noreferrer\">Java 21</a> brings some new interfaces and methods to the venerable Java Collections framework. The new features recognize the concept of <em>sequenced collections</em>.</p>\n<p><a href=\"https://i.stack.imgur.com/AEv7p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AEv7p.png\" alt=\"diagram of three new interfaces added to Java 21\" /></a></p>\n<p>For more info, see <a href=\"https://openjdk.org/jeps/431\" rel=\"nofollow noreferrer\"><em>JEP 431: Sequenced Collections</em></a>. And see the video by <a href=\"https://fr.linkedin.com/in/jos%C3%A9-paumard-2458ba5\" rel=\"nofollow noreferrer\">José Paumard</a> on the <em>JEP Café</em> channel on YouTube. See <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/\" rel=\"nofollow noreferrer\">early-access Javadoc</a>.</p>\n<p>Let's modify the code shown in the <a href=\"https://stackoverflow.com/a/76975774/642706\">Answer by dan1st</a> to use the new Java 21 features.</p>\n<p>Start with this piece:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toCollection(LinkedHashSet::new));\n}\n</code></pre>\n<p>Notice that this method must return either:</p>\n<ul>\n<li>The overly general <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> interface, with no indication of this collection promising to be in a certain order.</li>\n<li>The overly specific <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> class, which remembers insertion order.</li>\n</ul>\n<p>Java offers the <code>SortedSet</code> interface, and its successor <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/NavigableSet.html\" rel=\"nofollow noreferrer\"><code>NavigableSet</code></a>. These are meant for collections with a <em>sorted</em> order. But <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a> with its <em>insertion</em> order cannot implement those interfaces.</p>\n<p>So, voilà, Java 21 adds the <a href=\"https://download.java.net/java/early_access/jdk21/docs/api/java.base/java/util/SequencedSet.html\" rel=\"nofollow noreferrer\"><code>SequencedSet</code></a> interface, to represent <code>LinkedHashSet</code> as well as <code>SortedSet</code>/<code>NavigableSet</code> implementations such as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>.</p>\n<p>Let's pop that into the code snippet from above. And do some reformatting and renaming.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedSet &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n}\n</code></pre>\n<p>And we could make that the more general <code>SequencedCollection</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n}\n</code></pre>\n<p>Le's try it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; );\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1]</p>\n</blockquote>\n<h2><code>Set</code> forbids duplicates</h2>\n<p>But multiple input strings could very well have the same length. And <code>Set</code> implementations cannot allow duplicates. So really, we should be outputting a <code>List</code> rather than a <code>Set</code>.</p>\n<p>Fortunately, no need to change the signature of our <code>calculateStringLengths</code> method — <code>List</code> &amp; <code>ArrayList</code> implement <code>SequencedCollection</code>. So we can swap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .collect (\n                    Collectors.toCollection ( LinkedHashSet :: new )\n            );\n</code></pre>\n<p>… with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>            .toList() ;\n</code></pre>\n<p>… like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( String :: length )\n            .toList() ;\n}\n</code></pre>\n<p>We get the same results.</p>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1]</p>\n</blockquote>\n<h2>Use code points, not <code>char</code></h2>\n<p>Unfortunately, you used the <code>String#length</code> method which is essentially broken. Add a character such as <code>😷</code> to your input strings to see incorrect results.</p>\n<p>That <code>length</code> method uses the <code>char</code> type. As a 16-bit value, that <code>char</code> type is physically incapable of representing most characters. Instead of <code>char</code> use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code points</a>.</p>\n<p>Replace <code>String :: length</code> with <code>s.codePoints ( ).count ( )</code>. But that call returns a <code>long</code>, so we must either change <code>&lt; Integer &gt;</code> to <code>&lt; Long &gt;</code> or we must cast the <code>long</code> to an <code>int</code> since a string’s length cannot be more than <code>Integer.MAX_VALUE</code>. For defensive programming, we can be extra safe by using <code>Math.toIntExact</code> instead of a direct cast, as this method throws an exception in case of integer overflow.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SequencedCollection &lt; Integer &gt; calculateStringLengths ( final List &lt; String &gt; inputList )\n{\n    return inputList\n            .stream ( )\n            .map ( ( String s ) -&gt; Math.toIntExact ( s.codePoints ( ).count ( ) ) )  // Calculate the true count of characters in this string.\n            .toList ( );\n}\n</code></pre>\n<p>Let's try this final version of our code. We add <code>😷</code> as a test of our more accurate string-length calculation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; String &gt; listOfStrings = List.of ( &quot;aaaa&quot; , &quot;aa&quot; , &quot;aaa&quot; , &quot;a&quot; , &quot;😷&quot; );\nSequencedCollection &lt; Integer &gt; stringLengths = this.calculateStringLengths ( listOfStrings );\nSystem.out.println ( &quot;stringLengths = &quot; + stringLengths );\n</code></pre>\n<blockquote>\n<p>stringLengths = [4, 2, 3, 1, 1]</p>\n</blockquote>\n"}],"owner":{"account_id":26736520,"reputation":43,"user_id":20338017,"display_name":"mansto"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1695051207,"creation_date":1692952897,"question_id":76975605,"body_markdown":"using this method I created, I don&#39;t understand why it returns me a list of integers already in order when on the java doc the set shouldn&#39;t order the elements without me telling it.\r\n\r\n*what this method do*: the method given a list of strings as input, returns the set of lengths of the strings in the list\r\n```\r\npublic static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\r\n    return inputList.stream()\r\n        .map(String::length)\r\n        .collect(Collectors.toSet());\r\n}\r\n```\r\n\r\n\r\ndoing this on the main\r\n```\r\nList&lt;String&gt; p2 = List.of(&quot;aaaa&quot;, &quot;aa&quot;, &quot;aaa&quot;, &quot;a&quot;);\r\nSet&lt;Integer&gt; r2 = test(p2);\r\nSystem.out.println(r2);\r\n```\r\nit returns this list : `[1, 2, 3, 4]` when I would have expected `[4, 2, 3, 1]`\r\n","title":"how sorting works in a java set","body":"<p>using this method I created, I don't understand why it returns me a list of integers already in order when on the java doc the set shouldn't order the elements without me telling it.</p>\n<p><em>what this method do</em>: the method given a list of strings as input, returns the set of lengths of the strings in the list</p>\n<pre><code>public static Set&lt;Integer&gt; test(List&lt;String&gt; inputList){\n    return inputList.stream()\n        .map(String::length)\n        .collect(Collectors.toSet());\n}\n</code></pre>\n<p>doing this on the main</p>\n<pre><code>List&lt;String&gt; p2 = List.of(&quot;aaaa&quot;, &quot;aa&quot;, &quot;aaa&quot;, &quot;a&quot;);\nSet&lt;Integer&gt; r2 = test(p2);\nSystem.out.println(r2);\n</code></pre>\n<p>it returns this list : <code>[1, 2, 3, 4]</code> when I would have expected <code>[4, 2, 3, 1]</code></p>\n"},{"tags":["java","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1694889819,"post_id":77114172,"comment_id":135951908,"body_markdown":"Can you please paste the output from your test into the question?","body":"Can you please paste the output from your test into the question?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1694890716,"creation_date":1694812231,"answer_id":77115374,"question_id":77114172,"body_markdown":"You can learn what’s happening by printing the type of the result of `parseBest`:\r\n\r\n    assertThrows(DateTimeParseException.class,\r\n            () -&gt; System.out.println(\r\n                formatter.parseBest(value, queries).getClass()));\r\n\r\nThe result is:\r\n\r\n    java.time.Year\r\n\r\nAs you expected, &quot;1984-00&quot; cannot be parsed as a YearMonth.  But you passed `YearMonth::from, Year::from` as your TemporalQuerys, so after parseBest discovers that the string cannot be parsed using YearMonth.from, it tries again using Year.from, which succeeds.\r\n\r\nWhy does it succeed?  Because a Year only needs the year part (`uuuu` in your DateTimeFormatter) to be resolved.  No attempt is ever made to resolve the month, so the `00` is ignored.  It doesn’t matter to Year.from whether that part can be resolved to a valid month.\r\n\r\nIf I wanted to parse multiple types, and wanted to be sure the entire string is always valid, I would just use a simple approach:\r\n\r\n    public Temporal parse(String value) {\r\n        String len = value.length();\r\n        if (len == 4) {\r\n            return Year.parse(value);\r\n        } else if (len == 7) {\r\n            return YearMonth.parse(value);\r\n        } else {\r\n            return LocalDate.parse(value);\r\n        }\r\n    }\r\n","title":"DateTimeFormatter Validation for Existing Year, Optional Month, and Optional Day","body":"<p>You can learn what’s happening by printing the type of the result of <code>parseBest</code>:</p>\n<pre><code>assertThrows(DateTimeParseException.class,\n        () -&gt; System.out.println(\n            formatter.parseBest(value, queries).getClass()));\n</code></pre>\n<p>The result is:</p>\n<pre><code>java.time.Year\n</code></pre>\n<p>As you expected, &quot;1984-00&quot; cannot be parsed as a YearMonth.  But you passed <code>YearMonth::from, Year::from</code> as your TemporalQuerys, so after parseBest discovers that the string cannot be parsed using YearMonth.from, it tries again using Year.from, which succeeds.</p>\n<p>Why does it succeed?  Because a Year only needs the year part (<code>uuuu</code> in your DateTimeFormatter) to be resolved.  No attempt is ever made to resolve the month, so the <code>00</code> is ignored.  It doesn’t matter to Year.from whether that part can be resolved to a valid month.</p>\n<p>If I wanted to parse multiple types, and wanted to be sure the entire string is always valid, I would just use a simple approach:</p>\n<pre><code>public Temporal parse(String value) {\n    String len = value.length();\n    if (len == 4) {\n        return Year.parse(value);\n    } else if (len == 7) {\n        return YearMonth.parse(value);\n    } else {\n        return LocalDate.parse(value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1695050910,"creation_date":1694797217,"question_id":77114172,"body_markdown":"We are attempting to write a single DateTimeFormatter that helps us validate an [ISO 8601][1] that allows our end user&#39;s to enter just a year, a year and a month, or a year, month, and day.  We also want to validate the entered date actually exists.\r\n\r\nIn the following code there are two examples of dates and date validation acting funky.  The first is a validation test for just year with an optional month.  Which doesn&#39;t properly validate a month of &#39;00&#39;.\r\n\r\nThe second example shows a test (NOT) failing on incorrect optional months value.\r\n\r\nAny friendly direction would be greatly appreciated.\r\n\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Year;\r\nimport java.time.YearMonth;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.format.DateTimeParseException;\r\nimport java.time.format.ResolverStyle;\r\nimport java.time.temporal.TemporalQuery;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\npublic class DateTimeFormatterForStackOverflowTest {\r\n\r\n    @Test\r\n    public void test_year_or_year_and_month_not_valid() {\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;uuuu[-MM]&quot;)\r\n                .toFormatter()\r\n                .withResolverStyle(ResolverStyle.STRICT);\r\n\r\n        this.expectException(&quot;1984-0&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception. \r\n        this.expectException(&quot;1984-00&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-13&quot;, formatter, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-99&quot;, formatter, YearMonth::from, Year::from);\r\n    }\r\n\r\n    @Test\r\n    public void test_year_or_year_month_or_year_month_day_not_valid() {\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n                .appendPattern(&quot;[uuuu-MM-dd][uuuu-MM][uuuu]&quot;)\r\n                .toFormatter()\r\n                .withResolverStyle(ResolverStyle.STRICT);\r\n\r\n        this.expectException(&quot;1984-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-13&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        // Doesn&#39;t throw exception.\r\n        this.expectException(&quot;1984-99&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-00-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-13-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-01-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-12-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n        this.expectException(&quot;1984-12-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\r\n    }\r\n\r\n    private void expectException(String value, DateTimeFormatter formatter, TemporalQuery&lt;?&gt;... queries) {\r\n\r\n        assertThrows(DateTimeParseException.class,\r\n                () -&gt; formatter.parseBest(value, queries));\r\n    }\r\n}\r\n```\r\n\r\nTest output:\r\n```\r\norg.opentest4j.AssertionFailedError: Expected java.time.format.DateTimeParseException to be thrown, but nothing was thrown.\r\n\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\r\n\tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\r\n\tat org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\r\n\tat org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\r\n\tat DateTimeFormatterForStackOverflowTest.expectException(DateTimeFormatterForStackOverflowTest.java:59)\r\n\tat DateTimeFormatterForStackOverflowTest.test_year_or_year_month_or_year_month_day_not_valid(DateTimeFormatterForStackOverflowTest.java:43)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\r\n\tat java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601","title":"DateTimeFormatter Validation for Existing Year, Optional Month, and Optional Day","body":"<p>We are attempting to write a single DateTimeFormatter that helps us validate an <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> that allows our end user's to enter just a year, a year and a month, or a year, month, and day.  We also want to validate the entered date actually exists.</p>\n<p>In the following code there are two examples of dates and date validation acting funky.  The first is a validation test for just year with an optional month.  Which doesn't properly validate a month of '00'.</p>\n<p>The second example shows a test (NOT) failing on incorrect optional months value.</p>\n<p>Any friendly direction would be greatly appreciated.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.time.LocalDate;\nimport java.time.Year;\nimport java.time.YearMonth;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.format.DateTimeParseException;\nimport java.time.format.ResolverStyle;\nimport java.time.temporal.TemporalQuery;\n\nimport static org.junit.jupiter.api.Assertions.assertThrows;\n\npublic class DateTimeFormatterForStackOverflowTest {\n\n    @Test\n    public void test_year_or_year_and_month_not_valid() {\n\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;uuuu[-MM]&quot;)\n                .toFormatter()\n                .withResolverStyle(ResolverStyle.STRICT);\n\n        this.expectException(&quot;1984-0&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception. \n        this.expectException(&quot;1984-00&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-13&quot;, formatter, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-99&quot;, formatter, YearMonth::from, Year::from);\n    }\n\n    @Test\n    public void test_year_or_year_month_or_year_month_day_not_valid() {\n\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n                .appendPattern(&quot;[uuuu-MM-dd][uuuu-MM][uuuu]&quot;)\n                .toFormatter()\n                .withResolverStyle(ResolverStyle.STRICT);\n\n        this.expectException(&quot;1984-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-13&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        // Doesn't throw exception.\n        this.expectException(&quot;1984-99&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-00-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-13-01&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-0&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-01-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-12-00&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n        this.expectException(&quot;1984-12-32&quot;, formatter, LocalDate::from, YearMonth::from, Year::from);\n    }\n\n    private void expectException(String value, DateTimeFormatter formatter, TemporalQuery&lt;?&gt;... queries) {\n\n        assertThrows(DateTimeParseException.class,\n                () -&gt; formatter.parseBest(value, queries));\n    }\n}\n</code></pre>\n<p>Test output:</p>\n<pre><code>org.opentest4j.AssertionFailedError: Expected java.time.format.DateTimeParseException to be thrown, but nothing was thrown.\n\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:152)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:73)\n    at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35)\n    at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3083)\n    at DateTimeFormatterForStackOverflowTest.expectException(DateTimeFormatterForStackOverflowTest.java:59)\n    at DateTimeFormatterForStackOverflowTest.test_year_or_year_month_or_year_month_day_not_valid(DateTimeFormatterForStackOverflowTest.java:43)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.ForkJoinPoolHierarchicalTestExecutorService$ExclusiveTask.compute(ForkJoinPoolHierarchicalTestExecutorService.java:185)\n    at java.base/java.util.concurrent.RecursiveAction.exec(RecursiveAction.java:189)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183)\n</code></pre>\n"},{"tags":["java","gradle","arduino","minecraft","minecraft-forge"],"answers":[{"tags":[],"owner":{"account_id":9284974,"reputation":2973,"user_id":6895166,"accept_rate":40,"display_name":"SamHoque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680904603,"creation_date":1680904603,"answer_id":75962216,"question_id":75962163,"body_markdown":"You should use `shadowJar` / `fatJar` to generate the jar file, the likely cause is the library isn&#39;t being included on build time.\r\n\r\nGradle build file taken from. https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333\r\n\r\n    // thanks to gigaherz for pointing me in the right directions on the buildscript\r\n    \r\n    // The shadow gradle plugin assists with repackaging a 3rd-party library jar within your own jar\r\n    // In addition to ensuring that your end-users have the library available when they use your own thing,\r\n    // it also helps avoid collisions with other things that are also using the same library.\r\n    \r\n    // As always, make sure the license of the library allows redistribution and is compatible with\r\n    // your own thing&#39;s license before redistributing it in this manner\r\n    \r\n    buildscript {\r\n    \trepositories {\r\n    \t\tjcenter() // buildscript repo to get shadow from\r\n    \t}\r\n    }\r\n    \r\n    plugins {\r\n    \t// this version works on gradle 4.9\r\n    \t// more recent versions of shadow work on more recent versions of gradle\r\n    \tid &#39;com.github.johnrengelman.shadow&#39; version &#39;4.0.4&#39;\r\n    }\r\n    apply plugin: &#39;com.github.johnrengelman.shadow&#39;\r\n    apply plugin: &#39;java&#39; // java plugin is needed for the shadow plugin to work\r\n    \r\n    repositories {\r\n    \t// java repo to get the repackaged lib from\r\n    \tmaven { url &quot;https://repo.for/your/included/lib&quot; }\r\n    }\r\n    \r\n    configurations {\r\n    \tshade\r\n    }\r\n    \r\n    dependencies {\r\n    \tcompile &quot;lib.group:lib_artifact:lib_version&quot;\r\n    \tshade &quot;lib.group:lib_artifact:lib_version&quot;\r\n    }\r\n    \r\n    shadowJar {\r\n    \tclassifier = &#39;&#39;\r\n    \tconfigurations = [project.configurations.shade]\r\n    \trelocate &#39;lib.group&#39;, &quot;${project.group}.shadow.lib.group&quot; // ensure repackaged packages have unique names\r\n    }\r\n    \r\n    reobf {\r\n        shadowJar { }\r\n    }\r\n    \r\n    // this replaces jar.finalizedBy(&#39;reobfJar&#39;) in the standard forge mod buildscript\r\n    tasks.build.dependsOn reobfShadowJar\r\n    jar.finalizedBy(&#39;reobfShadowJar&#39;)\r\n\r\nYou can also follow this guide. https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749","title":"java.lang.classnotfoundexception: org.firmata4j.iodevice","body":"<p>You should use <code>shadowJar</code> / <code>fatJar</code> to generate the jar file, the likely cause is the library isn't being included on build time.</p>\n<p>Gradle build file taken from. <a href=\"https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333\" rel=\"nofollow noreferrer\">https://gist.github.com/Commoble/ddc75e819a690198c15d26564d139333</a></p>\n<pre><code>// thanks to gigaherz for pointing me in the right directions on the buildscript\n\n// The shadow gradle plugin assists with repackaging a 3rd-party library jar within your own jar\n// In addition to ensuring that your end-users have the library available when they use your own thing,\n// it also helps avoid collisions with other things that are also using the same library.\n\n// As always, make sure the license of the library allows redistribution and is compatible with\n// your own thing's license before redistributing it in this manner\n\nbuildscript {\n    repositories {\n        jcenter() // buildscript repo to get shadow from\n    }\n}\n\nplugins {\n    // this version works on gradle 4.9\n    // more recent versions of shadow work on more recent versions of gradle\n    id 'com.github.johnrengelman.shadow' version '4.0.4'\n}\napply plugin: 'com.github.johnrengelman.shadow'\napply plugin: 'java' // java plugin is needed for the shadow plugin to work\n\nrepositories {\n    // java repo to get the repackaged lib from\n    maven { url &quot;https://repo.for/your/included/lib&quot; }\n}\n\nconfigurations {\n    shade\n}\n\ndependencies {\n    compile &quot;lib.group:lib_artifact:lib_version&quot;\n    shade &quot;lib.group:lib_artifact:lib_version&quot;\n}\n\nshadowJar {\n    classifier = ''\n    configurations = [project.configurations.shade]\n    relocate 'lib.group', &quot;${project.group}.shadow.lib.group&quot; // ensure repackaged packages have unique names\n}\n\nreobf {\n    shadowJar { }\n}\n\n// this replaces jar.finalizedBy('reobfJar') in the standard forge mod buildscript\ntasks.build.dependsOn reobfShadowJar\njar.finalizedBy('reobfShadowJar')\n</code></pre>\n<p>You can also follow this guide. <a href=\"https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749\" rel=\"nofollow noreferrer\">https://gist.github.com/SizableShrimp/949e7c219bfc94487a45226b64ac7749</a></p>\n"}],"owner":{"account_id":19988642,"reputation":19,"user_id":14650223,"display_name":"braden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695050205,"creation_date":1680903908,"question_id":75962163,"body_markdown":"this error has been keeping me up at night. I have no idea how to solve it, ive gone through every forum every similar problem on the internet and cant find any way to solve it. It seems simple, a minecraft mod that just connects to an arduino. But for some reason gradle/intellij/minecraft wont let me import IODevice. I have no idea whats going wrong. someone please help me.\r\n\r\nMY CODE\r\n```package braden.arduinodamagemod;\r\n\r\nimport net.minecraft.world.entity.player.Player;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.event.entity.living.LivingHurtEvent;\r\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport org.firmata4j.Pin;\r\nimport org.firmata4j.firmata.FirmataDevice;\r\nimport org.firmata4j.IODevice;\r\n\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n\r\n@Mod(ArduinoDamageMod.MODID)\r\npublic class ArduinoDamageMod {\r\n\r\n    public static final String MODID = &quot;arduinodamagemod&quot;;\r\n    private IODevice arduino;\r\n    private boolean isArduinoConnected = false;\r\n\r\n    @SubscribeEvent\r\n    public void onInitialize() {\r\n        String PORT = &quot;/dev/cu.usbmodem11202&quot;;\r\n        try {\r\n            arduino = new FirmataDevice(PORT);\r\n            arduino.start();\r\n            arduino.ensureInitializationIsDone();\r\n            isArduinoConnected = true;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (!isArduinoConnected) {\r\n            System.err.println(&quot;Failed to connect to Arduino!&quot;);\r\n        }\r\n\r\n        // Register event handlers\r\n        MinecraftForge.EVENT_BUS.register(this);\r\n    }\r\n\r\n    @SubscribeEvent\r\n    public void onShutdown() throws IOException {\r\n        if (arduino != null) {\r\n            arduino.stop();\r\n        }\r\n    }\r\n\r\n    @Mod.EventBusSubscriber\r\n    public static class EventHandler {\r\n        @SubscribeEvent\r\n        public void onPlayerDamage(LivingHurtEvent event) {\r\n            if (event.getEntity() instanceof Player player) {\r\n                // Turn on the LED on the Arduino for 3 seconds\r\n                ArduinoDamageMod.getInstance().turnOnLed();\r\n                try {\r\n                    Thread.sleep(3000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                ArduinoDamageMod.getInstance().turnOffLed();\r\n                }\r\n        }\r\n    }\r\n\r\n    public void turnOnLed() {\r\n        if (isArduinoConnected) {\r\n            try {\r\n                // Set pin 6 to output mode and set its value to high\r\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\r\n                arduino.getPin(6).setValue(1);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void turnOffLed() {\r\n        if (isArduinoConnected) {\r\n            try {\r\n                // Set pin 6 to output mode and set its value to low\r\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\r\n                arduino.getPin(6).setValue(0);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private static ArduinoDamageMod instance;\r\n    public static ArduinoDamageMod getInstance() {\r\n        return instance;\r\n    }\r\n}\r\n```\r\n\r\nTHE FULL ERROR MESSAGE:\r\n```---- Minecraft Crash Report ----\r\n// Hey, that tickles! Hehehe!\r\n\r\nTime: 2023-04-07 16:43:34\r\nDescription: Mod loading error has occurred\r\n\r\njava.lang.Exception: Mod Loading has failed\r\n\tat net.minecraftforge.logging.CrashReportExtender.dumpModLoadingCrashReport(CrashReportExtender.java:58) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\r\n\tat net.minecraftforge.client.loading.ClientModLoader.completeModLoading(ClientModLoader.java:165) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.lambda$new$2(Minecraft.java:591) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.Util.ifElse(Util.java:420) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\r\n\tat net.minecraft.client.Minecraft.lambda$new$3(Minecraft.java:585) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.gui.screens.LoadingOverlay.render(LoadingOverlay.java:135) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:940) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.runTick(Minecraft.java:1160) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.Minecraft.run(Minecraft.java:731) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\r\n\tat net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\r\n\tat java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\r\n\tat net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:25) ~[fmlloader-1.19.4-45.0.43.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.run(Launcher.java:106) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.Launcher.main(Launcher.java:77) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) ~[modlauncher-10.0.8.jar:?] {}\r\n\tat cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) ~[bootstraplauncher-1.1.2.jar:?] {}\r\n\r\n\r\nA detailed walkthrough of the error, its code path and all known details is as follows:\r\n---------------------------------------------------------------------------------------\r\n\r\n-- Head --\r\nThread: Render thread\r\nStacktrace:\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\r\n-- MOD arduinodamagemod --\r\nDetails:\r\n\tCaused by 0: java.lang.NoClassDefFoundError: org/firmata4j/IODevice\r\n\t\tat java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\r\n\t\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\r\n\t\tat java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\r\n\t\tat java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\r\n\t\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\r\n\t\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\r\n\t\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\t\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\tMod File: /Users/braden/coding/java/ADM/build/resources/main/\r\n\tFailure message: ArduinoDamageMod (arduinodamagemod) has failed to load correctly\r\n\t\tjava.lang.NoClassDefFoundError: org/firmata4j/IODevice\r\n\tMod Version: 0.0NONE\r\n\tMod Issue URL: NOT PROVIDED\r\n\tException message: java.lang.ClassNotFoundException: org.firmata4j.IODevice\r\nStacktrace:\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\r\n\tat java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\r\n\tat java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\r\n\tat net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\r\n\tat net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\r\n\tat java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\r\n\tat java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\r\n\r\n\r\n-- System Details --\r\nDetails:\r\n\tMinecraft Version: 1.19.4\r\n\tMinecraft Version ID: 1.19.4\r\n\tOperating System: Mac OS X (aarch64) version 13.0.1\r\n\tJava Version: 17.0.5, Oracle Corporation\r\n\tJava VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\r\n\tMemory: 125078016 bytes (119 MiB) / 597688320 bytes (570 MiB) up to 2147483648 bytes (2048 MiB)\r\n\tCPUs: 8\r\n\tProcessor Vendor: Apple Inc.\r\n\tProcessor Name: Apple M1\r\n\tIdentifier: Apple Inc. Family 0x1b588bb3 Model 0 Stepping 0\r\n\tMicroarchitecture: ARM64 SoC: Firestorm + Icestorm\r\n\tFrequency (GHz): 3.20\r\n\tNumber of physical packages: 1\r\n\tNumber of physical CPUs: 8\r\n\tNumber of logical CPUs: 8\r\n\tGraphics card #0 name: Apple M1\r\n\tGraphics card #0 vendor: Apple (0x106b)\r\n\tGraphics card #0 VRAM (MB): 0.00\r\n\tGraphics card #0 deviceId: unknown\r\n\tGraphics card #0 versionInfo: unknown\r\n\tMemory slot #0 capacity (MB): 0.00\r\n\tMemory slot #0 clockSpeed (GHz): 0.00\r\n\tMemory slot #0 type: unknown\r\n\tVirtual memory max (MB): 15360.00\r\n\tVirtual memory used (MB): 13080.55\r\n\tSwap memory total (MB): 7168.00\r\n\tSwap memory used (MB): 6065.19\r\n\tJVM Flags: 1 total; -Xss1M\r\n\tModLauncher: 10.0.8+10.0.8+main.0ef7e830\r\n\tModLauncher launch target: forgeclientuserdev\r\n\tModLauncher naming: mcp\r\n\tModLauncher services: \r\n\t\tmixin-0.8.5.jar mixin PLUGINSERVICE \r\n\t\teventbus-6.0.3.jar eventbus PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar slf4jfixer PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar object_holder_definalize PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar runtime_enum_extender PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar capability_token_subclass PLUGINSERVICE \r\n\t\taccesstransformers-8.0.4.jar accesstransformer PLUGINSERVICE \r\n\t\tfmlloader-1.19.4-45.0.43.jar runtimedistcleaner PLUGINSERVICE \r\n\t\tmodlauncher-10.0.8.jar mixin TRANSFORMATIONSERVICE \r\n\t\tmodlauncher-10.0.8.jar fml TRANSFORMATIONSERVICE \r\n\tFML Language Providers: \r\n\t\tminecraft@1.0\r\n\t\tlowcodefml@null\r\n\t\tjavafml@null\r\n\tMod List: \r\n\t\tforge-1.19.4-45.0.43_mapped_official_1.19.4-recomp|Minecraft                     |minecraft                     |1.19.4              |COMMON_SET|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\r\n\t\tmain                                              |ArduinoDamageMod              |arduinodamagemod              |0.0NONE             |ERROR     |Manifest: NOSIGNATURE\r\n\t\t                                                  |Forge                         |forge                         |45.0.43             |COMMON_SET|Manifest: NOSIGNATURE\r\n\tCrash Report UUID: e2085851-7cc1-48d8-a918-3263a1481f3d\r\n\tFML: 45.0\r\n\tForge: net.minecraftforge:45.0.43```","title":"java.lang.classnotfoundexception: org.firmata4j.iodevice","body":"<p>this error has been keeping me up at night. I have no idea how to solve it, ive gone through every forum every similar problem on the internet and cant find any way to solve it. It seems simple, a minecraft mod that just connects to an arduino. But for some reason gradle/intellij/minecraft wont let me import IODevice. I have no idea whats going wrong. someone please help me.</p>\n<p>MY CODE</p>\n<pre><code>\nimport net.minecraft.world.entity.player.Player;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.event.entity.living.LivingHurtEvent;\nimport net.minecraftforge.eventbus.api.SubscribeEvent;\nimport net.minecraftforge.fml.common.Mod;\nimport org.firmata4j.Pin;\nimport org.firmata4j.firmata.FirmataDevice;\nimport org.firmata4j.IODevice;\n\nimport java.io.IOException;\nimport java.util.List;\n\n@Mod(ArduinoDamageMod.MODID)\npublic class ArduinoDamageMod {\n\n    public static final String MODID = &quot;arduinodamagemod&quot;;\n    private IODevice arduino;\n    private boolean isArduinoConnected = false;\n\n    @SubscribeEvent\n    public void onInitialize() {\n        String PORT = &quot;/dev/cu.usbmodem11202&quot;;\n        try {\n            arduino = new FirmataDevice(PORT);\n            arduino.start();\n            arduino.ensureInitializationIsDone();\n            isArduinoConnected = true;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        if (!isArduinoConnected) {\n            System.err.println(&quot;Failed to connect to Arduino!&quot;);\n        }\n\n        // Register event handlers\n        MinecraftForge.EVENT_BUS.register(this);\n    }\n\n    @SubscribeEvent\n    public void onShutdown() throws IOException {\n        if (arduino != null) {\n            arduino.stop();\n        }\n    }\n\n    @Mod.EventBusSubscriber\n    public static class EventHandler {\n        @SubscribeEvent\n        public void onPlayerDamage(LivingHurtEvent event) {\n            if (event.getEntity() instanceof Player player) {\n                // Turn on the LED on the Arduino for 3 seconds\n                ArduinoDamageMod.getInstance().turnOnLed();\n                try {\n                    Thread.sleep(3000);\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n\n                ArduinoDamageMod.getInstance().turnOffLed();\n                }\n        }\n    }\n\n    public void turnOnLed() {\n        if (isArduinoConnected) {\n            try {\n                // Set pin 6 to output mode and set its value to high\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\n                arduino.getPin(6).setValue(1);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void turnOffLed() {\n        if (isArduinoConnected) {\n            try {\n                // Set pin 6 to output mode and set its value to low\n                arduino.getPin(6).setMode(Pin.Mode.OUTPUT);\n                arduino.getPin(6).setValue(0);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private static ArduinoDamageMod instance;\n    public static ArduinoDamageMod getInstance() {\n        return instance;\n    }\n}\n</code></pre>\n<p>THE FULL ERROR MESSAGE:</p>\n<pre><code>// Hey, that tickles! Hehehe!\n\nTime: 2023-04-07 16:43:34\nDescription: Mod loading error has occurred\n\njava.lang.Exception: Mod Loading has failed\n    at net.minecraftforge.logging.CrashReportExtender.dumpModLoadingCrashReport(CrashReportExtender.java:58) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\n    at net.minecraftforge.client.loading.ClientModLoader.completeModLoading(ClientModLoader.java:165) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.lambda$new$2(Minecraft.java:591) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.Util.ifElse(Util.java:420) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading}\n    at net.minecraft.client.Minecraft.lambda$new$3(Minecraft.java:585) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.gui.screens.LoadingOverlay.render(LoadingOverlay.java:135) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at net.minecraft.client.renderer.GameRenderer.render(GameRenderer.java:940) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.runTick(Minecraft.java:1160) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.Minecraft.run(Minecraft.java:731) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:accesstransformer:B,pl:runtimedistcleaner:A}\n    at net.minecraft.client.main.Main.main(Main.java:205) ~[forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp.jar:?] {re:classloading,pl:runtimedistcleaner:A}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?] {}\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?] {}\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?] {}\n    at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?] {}\n    at net.minecraftforge.fml.loading.targets.ForgeClientUserdevLaunchHandler.lambda$launchService$0(ForgeClientUserdevLaunchHandler.java:25) ~[fmlloader-1.19.4-45.0.43.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandlerDecorator.launch(LaunchServiceHandlerDecorator.java:30) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:53) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.LaunchServiceHandler.launch(LaunchServiceHandler.java:71) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.run(Launcher.java:106) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.Launcher.main(Launcher.java:77) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:26) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.modlauncher.BootstrapLaunchConsumer.accept(BootstrapLaunchConsumer.java:23) ~[modlauncher-10.0.8.jar:?] {}\n    at cpw.mods.bootstraplauncher.BootstrapLauncher.main(BootstrapLauncher.java:141) ~[bootstraplauncher-1.1.2.jar:?] {}\n\n\nA detailed walkthrough of the error, its code path and all known details is as follows:\n---------------------------------------------------------------------------------------\n\n-- Head --\nThread: Render thread\nStacktrace:\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\n-- MOD arduinodamagemod --\nDetails:\n    Caused by 0: java.lang.NoClassDefFoundError: org/firmata4j/IODevice\n        at java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\n        at java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\n        at java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\n        at java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\n        at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\n        at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\n        at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\n        at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\n        at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\n        at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\n        at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\n\n    Mod File: /Users/braden/coding/java/ADM/build/resources/main/\n    Failure message: ArduinoDamageMod (arduinodamagemod) has failed to load correctly\n        java.lang.NoClassDefFoundError: org/firmata4j/IODevice\n    Mod Version: 0.0NONE\n    Mod Issue URL: NOT PROVIDED\n    Exception message: java.lang.ClassNotFoundException: org.firmata4j.IODevice\nStacktrace:\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[?:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at cpw.mods.cl.ModuleClassLoader.loadClass(ModuleClassLoader.java:137) ~[securejarhandler-2.1.6.jar:?] {}\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?] {}\n    at java.lang.Class.getDeclaredConstructors0(Native Method) ~[?:?] {}\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:3373) ~[?:?] {}\n    at java.lang.Class.getConstructor0(Class.java:3578) ~[?:?] {}\n    at java.lang.Class.getDeclaredConstructor(Class.java:2754) ~[?:?] {}\n    at net.minecraftforge.fml.javafmlmod.FMLModContainer.constructMod(FMLModContainer.java:68) ~[javafmllanguage-1.19.4-45.0.43.jar%23183!/:?] {}\n    at net.minecraftforge.fml.ModContainer.lambda$buildTransitionHandler$10(ModContainer.java:121) ~[fmlcore-1.19.4-45.0.43.jar%23186!/:?] {}\n    at java.util.concurrent.CompletableFuture$AsyncRun.run(CompletableFuture.java:1804) ~[?:?] {}\n    at java.util.concurrent.CompletableFuture$AsyncRun.exec(CompletableFuture.java:1796) ~[?:?] {}\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655) ~[?:?] {}\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622) ~[?:?] {}\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165) ~[?:?] {}\n\n\n-- System Details --\nDetails:\n    Minecraft Version: 1.19.4\n    Minecraft Version ID: 1.19.4\n    Operating System: Mac OS X (aarch64) version 13.0.1\n    Java Version: 17.0.5, Oracle Corporation\n    Java VM Version: Java HotSpot(TM) 64-Bit Server VM (mixed mode, sharing), Oracle Corporation\n    Memory: 125078016 bytes (119 MiB) / 597688320 bytes (570 MiB) up to 2147483648 bytes (2048 MiB)\n    CPUs: 8\n    Processor Vendor: Apple Inc.\n    Processor Name: Apple M1\n    Identifier: Apple Inc. Family 0x1b588bb3 Model 0 Stepping 0\n    Microarchitecture: ARM64 SoC: Firestorm + Icestorm\n    Frequency (GHz): 3.20\n    Number of physical packages: 1\n    Number of physical CPUs: 8\n    Number of logical CPUs: 8\n    Graphics card #0 name: Apple M1\n    Graphics card #0 vendor: Apple (0x106b)\n    Graphics card #0 VRAM (MB): 0.00\n    Graphics card #0 deviceId: unknown\n    Graphics card #0 versionInfo: unknown\n    Memory slot #0 capacity (MB): 0.00\n    Memory slot #0 clockSpeed (GHz): 0.00\n    Memory slot #0 type: unknown\n    Virtual memory max (MB): 15360.00\n    Virtual memory used (MB): 13080.55\n    Swap memory total (MB): 7168.00\n    Swap memory used (MB): 6065.19\n    JVM Flags: 1 total; -Xss1M\n    ModLauncher: 10.0.8+10.0.8+main.0ef7e830\n    ModLauncher launch target: forgeclientuserdev\n    ModLauncher naming: mcp\n    ModLauncher services: \n        mixin-0.8.5.jar mixin PLUGINSERVICE \n        eventbus-6.0.3.jar eventbus PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar slf4jfixer PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar object_holder_definalize PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar runtime_enum_extender PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar capability_token_subclass PLUGINSERVICE \n        accesstransformers-8.0.4.jar accesstransformer PLUGINSERVICE \n        fmlloader-1.19.4-45.0.43.jar runtimedistcleaner PLUGINSERVICE \n        modlauncher-10.0.8.jar mixin TRANSFORMATIONSERVICE \n        modlauncher-10.0.8.jar fml TRANSFORMATIONSERVICE \n    FML Language Providers: \n        minecraft@1.0\n        lowcodefml@null\n        javafml@null\n    Mod List: \n        forge-1.19.4-45.0.43_mapped_official_1.19.4-recomp|Minecraft                     |minecraft                     |1.19.4              |COMMON_SET|Manifest: a1:d4:5e:04:4f:d3:d6:e0:7b:37:97:cf:77:b0:de:ad:4a:47:ce:8c:96:49:5f:0a:cf:8c:ae:b2:6d:4b:8a:3f\n        main                                              |ArduinoDamageMod              |arduinodamagemod              |0.0NONE             |ERROR     |Manifest: NOSIGNATURE\n                                                          |Forge                         |forge                         |45.0.43             |COMMON_SET|Manifest: NOSIGNATURE\n    Crash Report UUID: e2085851-7cc1-48d8-a918-3263a1481f3d\n    FML: 45.0\n    Forge: net.minecraftforge:45.0.43```\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":3,"creation_date":1306389132,"post_id":6134223,"comment_id":7119806,"body_markdown":"This is often a case where a standard for loop is used instead of a foreach.","body":"This is often a case where a standard for loop is used instead of a foreach."},{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306389355,"post_id":6134223,"comment_id":7119849,"body_markdown":"@Mitch Wheat: I&#39;m aware of that, but if there&#39;s just a simple method to know at the end. It would be a great help. Like using `resultSet.next();` there is a `resultSet.isLast()`. I&#39;m looking for that kind of method, if it is also available in `foreach`.","body":"@Mitch Wheat: I&#39;m aware of that, but if there&#39;s just a simple method to know at the end. It would be a great help. Like using <code>resultSet.next();</code> there is a <code>resultSet.isLast()</code>. I&#39;m looking for that kind of method, if it is also available in <code>foreach</code>."},{"owner":{"account_id":107998,"reputation":67655,"user_id":286871,"accept_rate":77,"display_name":"Tikhon Jelvis"},"score":0,"creation_date":1306389544,"post_id":6134223,"comment_id":7119886,"body_markdown":"That sort of method is usually available on the iterator (something like `hasNext`). The whole point of the for each loop is to abstract away the iterator; unfortunately, this also means you have slightly reduced functionality.","body":"That sort of method is usually available on the iterator (something like <code>hasNext</code>). The whole point of the for each loop is to abstract away the iterator; unfortunately, this also means you have slightly reduced functionality."},{"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"score":0,"creation_date":1306389697,"post_id":6134223,"comment_id":7119913,"body_markdown":"`str.length` is not the proper length that you are looking for. It should be `arrayString.length`.","body":"<code>str.length</code> is not the proper length that you are looking for. It should be <code>arrayString.length</code>."},{"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"score":0,"creation_date":1306389817,"post_id":6134223,"comment_id":7119935,"body_markdown":"@pickypg: I know it just a sample code. My actual code is far complicated than that.","body":"@pickypg: I know it just a sample code. My actual code is far complicated than that."}],"answers":[{"tags":[],"owner":{"account_id":363148,"reputation":22154,"user_id":706724,"accept_rate":100,"display_name":"pickypg"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1306389203,"creation_date":1306389203,"answer_id":6134267,"question_id":6134223,"body_markdown":"Two easy ways, which are somewhat amusing given your reasoning for using the foreach loop.\r\n\r\n    int i = 1;\r\n    for (String str : arrayString) {\r\n        if (i++ == arrayString.length) {\r\n            // end\r\n        }\r\n    }\r\n\r\nOr\r\n\r\n    for (int i = 0; i &lt; arrayString.length; ++i) {\r\n        String str = arrayString[i];\r\n        if (i + 1 == arrayString.length) {\r\n            // end\r\n        }\r\n    }\r\n\r\nEffectively the same thing. Just note the difference between the use of `i` within the `if` between the two loops and the starting value of `i`.","title":"How to detect the end of the loop (for each)?","body":"<p>Two easy ways, which are somewhat amusing given your reasoning for using the foreach loop.</p>\n\n<pre><code>int i = 1;\nfor (String str : arrayString) {\n    if (i++ == arrayString.length) {\n        // end\n    }\n}\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>for (int i = 0; i &lt; arrayString.length; ++i) {\n    String str = arrayString[i];\n    if (i + 1 == arrayString.length) {\n        // end\n    }\n}\n</code></pre>\n\n<p>Effectively the same thing. Just note the difference between the use of <code>i</code> within the <code>if</code> between the two loops and the starting value of <code>i</code>.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438169,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1306390237,"creation_date":1306389750,"answer_id":6134337,"question_id":6134223,"body_markdown":"One option would be to write your own iterator implementation which exposed, at each point, properties of first, last, index and value.\r\n\r\nI&#39;ve done the [same thing for .NET][1], and it was far from tricky. In Java it would be even easier, as you could use the `hasNext()` method of the original iterator to determine whether or not it&#39;s the last element. The code would look *something* like this (completely untested):\r\n\r\n    public SmartIterable&lt;T&gt; implements Iterable&lt;SmartIterator&lt;T&gt;.Entry&gt;\r\n    {\r\n        private final Iterable&lt;T&gt; iterable;\r\n\r\n        public SmartIterable(Iterable&lt;T&gt; iterable)\r\n        {\r\n            this.iterable = iterable;\r\n        }\r\n\r\n        public Iterator&lt;T&gt; iterator()\r\n        {\r\n            return new SmartIterator&lt;T&gt;(iterable.iterator());\r\n        }\r\n    }\r\n\r\n    public SmartIterator&lt;T&gt; implements Iterator&lt;SmartIterator&lt;T&gt;.Entry&gt;\r\n    {\r\n        private final Iterator&lt;T&gt; iterator;\r\n        private int index = -1;\r\n\r\n        SmartIterator(Iterator&lt;T&gt; iterator)\r\n        {\r\n            this.iterator = iterator;\r\n        }\r\n\r\n        public void remove()\r\n        {\r\n            // Could potentially just delegate\r\n            throw new UnsupportedOperationException();\r\n        }\r\n\r\n        public boolean hasNext()\r\n        {\r\n            return iterator.hasNext();\r\n        }\r\n\r\n        public Entry next()\r\n        {\r\n            T nextValue = iterator.next();\r\n            index++;\r\n            return new Entry(nextValue, index);\r\n        }\r\n\r\n        public class Entry\r\n        {\r\n            private final int index;\r\n            private final T value;\r\n\r\n            private Entry(int index, T value)\r\n            {\r\n                this.index = index;\r\n                this.value = value;\r\n            }\r\n\r\n            public T getValue()\r\n            {\r\n                return value;\r\n            }\r\n\r\n            public int getIndex()\r\n            {\r\n                return index;\r\n            }\r\n\r\n            public boolean isFirst()\r\n            {\r\n                return index == 0;\r\n            }\r\n\r\n            public boolean isLast()\r\n            {\r\n                // Call into containing instance\r\n                return !hasNext();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://www.yoda.arachsys.com/csharp/miscutil/usage/smartenumerable.html","title":"How to detect the end of the loop (for each)?","body":"<p>One option would be to write your own iterator implementation which exposed, at each point, properties of first, last, index and value.</p>\n\n<p>I've done the <a href=\"http://www.yoda.arachsys.com/csharp/miscutil/usage/smartenumerable.html\" rel=\"noreferrer\">same thing for .NET</a>, and it was far from tricky. In Java it would be even easier, as you could use the <code>hasNext()</code> method of the original iterator to determine whether or not it's the last element. The code would look <em>something</em> like this (completely untested):</p>\n\n<pre><code>public SmartIterable&lt;T&gt; implements Iterable&lt;SmartIterator&lt;T&gt;.Entry&gt;\n{\n    private final Iterable&lt;T&gt; iterable;\n\n    public SmartIterable(Iterable&lt;T&gt; iterable)\n    {\n        this.iterable = iterable;\n    }\n\n    public Iterator&lt;T&gt; iterator()\n    {\n        return new SmartIterator&lt;T&gt;(iterable.iterator());\n    }\n}\n\npublic SmartIterator&lt;T&gt; implements Iterator&lt;SmartIterator&lt;T&gt;.Entry&gt;\n{\n    private final Iterator&lt;T&gt; iterator;\n    private int index = -1;\n\n    SmartIterator(Iterator&lt;T&gt; iterator)\n    {\n        this.iterator = iterator;\n    }\n\n    public void remove()\n    {\n        // Could potentially just delegate\n        throw new UnsupportedOperationException();\n    }\n\n    public boolean hasNext()\n    {\n        return iterator.hasNext();\n    }\n\n    public Entry next()\n    {\n        T nextValue = iterator.next();\n        index++;\n        return new Entry(nextValue, index);\n    }\n\n    public class Entry\n    {\n        private final int index;\n        private final T value;\n\n        private Entry(int index, T value)\n        {\n            this.index = index;\n            this.value = value;\n        }\n\n        public T getValue()\n        {\n            return value;\n        }\n\n        public int getIndex()\n        {\n            return index;\n        }\n\n        public boolean isFirst()\n        {\n            return index == 0;\n        }\n\n        public boolean isLast()\n        {\n            // Call into containing instance\n            return !hasNext();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11448833,"reputation":431,"user_id":8391757,"accept_rate":25,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695049853,"creation_date":1695049853,"answer_id":77128369,"question_id":6134223,"body_markdown":"For those who are looking for the same in kotlin, my answer is for you :\r\n\r\n    for(str in arrayListString){\r\n\r\n    if(str == arrayListString.last()){\r\n        //Do something if the end of the loop\r\n    }}","title":"How to detect the end of the loop (for each)?","body":"<p>For those who are looking for the same in kotlin, my answer is for you :</p>\n<pre><code>for(str in arrayListString){\n\nif(str == arrayListString.last()){\n    //Do something if the end of the loop\n}}\n</code></pre>\n"}],"owner":{"account_id":250698,"reputation":6795,"user_id":527577,"accept_rate":95,"display_name":"ace"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41638,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6134337,"answer_count":3,"score":22,"last_activity_date":1695049853,"creation_date":1306388933,"question_id":6134223,"body_markdown":"Using `for(int i = 0; i &lt; str.length; i++)` I can easily detect if the loop is at the end. \r\n\r\nBut I how can I know if I&#39;m using `for` or `for each`.\r\n\r\n    for(String str : arrayString){\r\n\r\n        if(End of for) //Do something if the end of the loop\r\n\r\n    }\r\n\r\nThe reason I use `for(:)` instead of `for(;;)` is that `str` is actually a  large Object which I need to use that property for another loop inside that loop. And I don&#39;t like using much `object.get(index).getProperty` It just also for convenience to me in doing the coding. That&#39;s why I want to know if the `for(:)` loop is at the last index.\r\n\r\n\r\n**UPDATE**\r\n\r\nMy interim solution is to assign a `int` variable that will hold the number of iteration. Then check if the variable is equal to the length of the `str.length`.","title":"How to detect the end of the loop (for each)?","body":"<p>Using <code>for(int i = 0; i &lt; str.length; i++)</code> I can easily detect if the loop is at the end. </p>\n\n<p>But I how can I know if I'm using <code>for</code> or <code>for each</code>.</p>\n\n<pre><code>for(String str : arrayString){\n\n    if(End of for) //Do something if the end of the loop\n\n}\n</code></pre>\n\n<p>The reason I use <code>for(:)</code> instead of <code>for(;;)</code> is that <code>str</code> is actually a  large Object which I need to use that property for another loop inside that loop. And I don't like using much <code>object.get(index).getProperty</code> It just also for convenience to me in doing the coding. That's why I want to know if the <code>for(:)</code> loop is at the last index.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>My interim solution is to assign a <code>int</code> variable that will hold the number of iteration. Then check if the variable is equal to the length of the <code>str.length</code>.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":21806003,"reputation":96,"user_id":16104195,"display_name":"Billy"},"score":0,"creation_date":1634029531,"post_id":69536268,"comment_id":122910585,"body_markdown":"Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it","body":"Your JSON is incorrect, it has some syntax errors, that&#39;s why you can&#39;t deserialize it"},{"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1651567561,"post_id":69536268,"comment_id":127388383,"body_markdown":"Have you found answer to this question? I am also facing the same issue: https://stackoverflow.com/q/72089765/7584240","body":"Have you found answer to this question? I am also facing the same issue: <a href=\"https://stackoverflow.com/q/72089765/7584240\">stackoverflow.com/q/72089765/7584240</a>"}],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634034484,"creation_date":1634034484,"answer_id":69538948,"question_id":69536268,"body_markdown":"Your code fails because in your json file you have `&quot;fruits&quot;: []`, so you are associating *fruits* with an json array while in your abstract `Fruit` class you expect the `&quot;fruits&quot;` property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :\r\n\r\n~~~\r\n{\r\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\r\n    &quot;name&quot;: &quot;MyApple&quot;\r\n}\r\n~~~\r\nYou can then deserialize it to the `Apple` subclass of the `Fruit` class:\r\n\r\n~~~\r\nFruit fruit = mapper.readValue(src, Fruit.class);\r\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\r\n~~~ \r\nSo you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.","title":"com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype","body":"<p>Your code fails because in your json file you have <code>&quot;fruits&quot;: []</code>, so you are associating <em>fruits</em> with an json array while in your abstract <code>Fruit</code> class you expect the <code>&quot;fruits&quot;</code> property referring to the name of the subclass you want to deserialize your json. So if you modify your json like below :</p>\n<pre><code>{\n    &quot;fruits&quot;: &quot;sandbox.Apple&quot;,\n    &quot;name&quot;: &quot;MyApple&quot;\n}\n</code></pre>\n<p>You can then deserialize it to the <code>Apple</code> subclass of the <code>Fruit</code> class:</p>\n<pre><code>Fruit fruit = mapper.readValue(src, Fruit.class);\nSystem.out.println(fruit); //&lt;-- Apple(_name=MyApple)\n</code></pre>\n<p>So you can either decide to change your json format to match your java classes or decide to change your java classes to match your json file.</p>\n"}],"owner":{"account_id":22007711,"reputation":63,"user_id":16278419,"display_name":"dedelduel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20206,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1695049665,"creation_date":1634021719,"question_id":69536268,"body_markdown":"I have an abstract class called Fruit and I put the `@JsonTypeInfo` and `@JsonSubTypes` on it as follow: \r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\r\n    @JsonSubTypes({\r\n        @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\r\n        @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\r\n    })\r\n    public abstract class Fruit {\r\n\r\n\t    public abstract String getName();\r\n\r\n\t    @Override\r\n\t    public String toString() {\r\n\t\t    return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\r\n\t    }\r\n    }\r\n\r\nAnd my derived class looks like this\r\n\r\n    @JsonTypeName(&quot;sandbox.Apple&quot;)\r\n    public class Apple extends Fruit {\r\n\r\n\t    private String _name;\r\n\r\n\t    public void setName(String name) {\r\n\t\t    _name = name;\r\n\t    }\r\n\r\n\t    @Override\r\n\t    public String getName() {\r\n\t\t    return _name;\r\n\t    }\r\n\r\n======[UPDATED]======\r\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.\r\n\r\n    @JsonTypeName(&quot;sandbox.FruitGroup&quot;)\r\n    public class FruitGroup extends Fruit {\r\n\tprivate Fruit[] _Fruit;\r\n\tprivate String _name;\r\n\tprivate String _category;\r\n\r\n\tpublic Fruit[] getFruit() {\r\n\t\treturn _Fruit;\r\n\t}\r\n\r\n\tpublic void setFruits(Fruit[] fruits) {\r\n\t\t_Fruit = fruits;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\t_name = name;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getName() {\r\n\t\treturn _name;\r\n\t}\r\n\r\n\tpublic void setCategory(String category) {\r\n\t\t_category = category;\r\n\t}\r\n\r\n\tpublic String getCategory() {\r\n\t\treturn _category;\r\n\t}\r\n}\r\n\r\nWhen I tried to deserialize the jsontext into Fruit object, I found the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\r\n\r\nThe jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn&#39;t put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\r\nHere&#39;s my jsontext\r\n\r\n    {\r\n\t    &quot;fruit&quot;: [\r\n\t\t    [\r\n\t\t\t    &quot;sandbox.Apple&quot;,\r\n\t\t\t    {\r\n\t\t\t\t    &quot;name&quot;: &quot;Apple1&quot;\r\n\t\t\t    }\r\n\t\t    ]\r\n\t    ],\r\n\t    &quot;name&quot;: &quot;Group of apples&quot;,\r\n\t    &quot;category&quot;: &quot;Sweet fruit&quot;\r\n    }\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id &#39;[&#39; as a subtype","body":"<p>I have an abstract class called Fruit and I put the <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code> on it as follow:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = &quot;fruits&quot;)\n@JsonSubTypes({\n    @Type(value = Apple.class, name = &quot;sandbox.Apple&quot;),\n    @Type(value = FruitGroup.class, name = &quot;sandbox.FruitGroup&quot;)\n})\npublic abstract class Fruit {\n\n    public abstract String getName();\n\n    @Override\n    public String toString() {\n        return &quot;Fruit [getName()=&quot; + getName() + &quot;, getClass()=&quot; + getClass() + &quot;, hashCode()=&quot; + hashCode() + &quot;, toString()=&quot; + super.toString() + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>And my derived class looks like this</p>\n<pre><code>@JsonTypeName(&quot;sandbox.Apple&quot;)\npublic class Apple extends Fruit {\n\n    private String _name;\n\n    public void setName(String name) {\n        _name = name;\n    }\n\n    @Override\n    public String getName() {\n        return _name;\n    }\n</code></pre>\n<p>======[UPDATED]======\nI also have class FruitGroup that extends Fruit and contains Array of Fruit.</p>\n<pre><code>@JsonTypeName(&quot;sandbox.FruitGroup&quot;)\npublic class FruitGroup extends Fruit {\nprivate Fruit[] _Fruit;\nprivate String _name;\nprivate String _category;\n\npublic Fruit[] getFruit() {\n    return _Fruit;\n}\n\npublic void setFruits(Fruit[] fruits) {\n    _Fruit = fruits;\n}\n\npublic void setName(String name) {\n    _name = name;\n}\n\n@Override\npublic String getName() {\n    return _name;\n}\n\npublic void setCategory(String category) {\n    _category = category;\n}\n\npublic String getCategory() {\n    return _category;\n}\n</code></pre>\n<p>}</p>\n<p>When I tried to deserialize the jsontext into Fruit object, I found the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Could not resolve type id '[' as a subtype of `sandbox.FruitGroup`: known type ids = [FruitGroup, sandbox.Apple] at [Source: (String)&quot;{&quot;fruits&quot;:[[&quot;sandbox.Apple&quot;,{&quot;name&quot;: &quot;Apple&quot;}]],&quot;name&quot;: &quot;Fruit Group&quot;}&quot;; line: 1, column: 11]\nat com.fasterxml.jackson.databind.exc.InvalidTypeIdException.from(InvalidTypeIdException.java:43)\n</code></pre>\n<p>The jsontext [UPDATED] actually was generated by jackson version 2.10.2 and I didn't put any JSON annotations on my classes formerly. After I upgrade the jackson version to 2.11.0, I also update my abstract class to put the JSON annotations in it. Then I tried to deserialize it by using jackson version 2.11.0, but I got an error instead. Could you guys help me to solve this issue?\nHere's my jsontext</p>\n<pre><code>{\n    &quot;fruit&quot;: [\n        [\n            &quot;sandbox.Apple&quot;,\n            {\n                &quot;name&quot;: &quot;Apple1&quot;\n            }\n        ]\n    ],\n    &quot;name&quot;: &quot;Group of apples&quot;,\n    &quot;category&quot;: &quot;Sweet fruit&quot;\n}\n</code></pre>\n"},{"tags":["java","c","undefined-behavior","operator-precedence"],"comments":[{"owner":{"account_id":21487,"reputation":17831,"user_id":52239,"accept_rate":83,"display_name":"Craig Gidney"},"score":14,"creation_date":1286432824,"post_id":3879176,"comment_id":4128692,"body_markdown":"That&#39;s odd; when I compile it in C my compiler dances like an undefined chicken.","body":"That&#39;s odd; when I compile it in C my compiler dances like an undefined chicken."},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":1,"creation_date":1286432911,"post_id":3879176,"comment_id":4128702,"body_markdown":"why -1 ? Is this not a valid question?  Anyhow @Strilanc, what compiler are you using?","body":"why -1 ? Is this not a valid question?  Anyhow @Strilanc, what compiler are you using?"},{"owner":{"account_id":13233,"reputation":79885,"user_id":26457,"accept_rate":80,"display_name":"Romain Linsolas"},"score":3,"creation_date":1286433466,"post_id":3879176,"comment_id":4128741,"body_markdown":"If you *really* see that in your code, I think it&#39;s better to refactor that!!","body":"If you <i>really</i> see that in your code, I think it&#39;s better to refactor that!!"},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":0,"creation_date":1286433547,"post_id":3879176,"comment_id":4128755,"body_markdown":"It is a trivial example because I just want to know how things work.","body":"It is a trivial example because I just want to know how things work."},{"owner":{"account_id":10174,"reputation":18147,"user_id":19100,"accept_rate":78,"display_name":"dalle"},"score":3,"creation_date":1286434380,"post_id":3879176,"comment_id":4128840,"body_markdown":"Duplicate of [How do we explain the result of the expression (++x)+(++x)+(++x)?](http://stackoverflow.com/questions/1525187/how-do-we-explain-the-result-of-the-expression-xxx) Why are these questions asked so often?","body":"Duplicate of <a href=\"http://stackoverflow.com/questions/1525187/how-do-we-explain-the-result-of-the-expression-xxx\">How do we explain the result of the expression (++x)+(++x)+(++x)?</a> Why are these questions asked so often?"},{"owner":{"account_id":4895,"reputation":136019,"user_id":7586,"accept_rate":83,"display_name":"Kobi"},"score":2,"creation_date":1286434570,"post_id":3879176,"comment_id":4128860,"body_markdown":"@dalle - not really, different languages will handle this differently.","body":"@dalle - not really, different languages will handle this differently."},{"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":1,"creation_date":1286434764,"post_id":3879176,"comment_id":4128874,"body_markdown":"@dalle, that question doesn&#39;t even mention Java, which is quite different in this regard.","body":"@dalle, that question doesn&#39;t even mention Java, which is quite different in this regard."},{"owner":{"account_id":72682,"reputation":10774,"user_id":209744,"accept_rate":60,"display_name":"PP."},"score":0,"creation_date":1286442205,"post_id":3879176,"comment_id":4129833,"body_markdown":"-1 from me, too, for asking a FAQ. Any book you&#39;ll ever read about these operators make it very clear that mixing multiple post/pre increment/decrement operators is undefined behaviour.","body":"-1 from me, too, for asking a FAQ. Any book you&#39;ll ever read about these operators make it very clear that mixing multiple post/pre increment/decrement operators is undefined behaviour."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1286444274,"post_id":3879176,"comment_id":4130083,"body_markdown":"@dalle: I think that C&#39;s expression evaluation rules, in particular the sequence point rule, are genuinely surprising to many people at a certain stage of learning the language. Especially coming from Java, where it is all defined. So, a lot of people ask about it, and often (not this time) a few people give very wrong answers. As for why it&#39;s surprising - a little knowledge is a dangerous thing, so maybe people reach a fairly natural mental model of &quot;how compilers do arithmetic&quot; which simply doesn&#39;t take account of how C compilers *optimize* arithmetic, and so is wrong.","body":"@dalle: I think that C&#39;s expression evaluation rules, in particular the sequence point rule, are genuinely surprising to many people at a certain stage of learning the language. Especially coming from Java, where it is all defined. So, a lot of people ask about it, and often (not this time) a few people give very wrong answers. As for why it&#39;s surprising - a little knowledge is a dangerous thing, so maybe people reach a fairly natural mental model of &quot;how compilers do arithmetic&quot; which simply doesn&#39;t take account of how C compilers <i>optimize</i> arithmetic, and so is wrong."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":1,"creation_date":1286444535,"post_id":3879176,"comment_id":4130108,"body_markdown":"Also, even I find it slightly surprising that `++i + ++i` is undefined behavior, but is not a breach of language constraints. More to the point is that `int incboth(int *p, int *q) { return ++*p + ++*q; }` is fine if the caller passes in different values for p and q, and not fine if called with the same pointer value twice. Clearly the compiler cannot help you with that one (although C99 `restrict` at least indicates the intent), which is why the sequence point rule cannot be entirely expressed as a language constraint.","body":"Also, even I find it slightly surprising that <code>++i + ++i</code> is undefined behavior, but is not a breach of language constraints. More to the point is that <code>int incboth(int *p, int *q) { return ++*p + ++*q; }</code> is fine if the caller passes in different values for p and q, and not fine if called with the same pointer value twice. Clearly the compiler cannot help you with that one (although C99 <code>restrict</code> at least indicates the intent), which is why the sequence point rule cannot be entirely expressed as a language constraint."},{"owner":{"account_id":160089,"reputation":210397,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":1,"creation_date":1286469939,"post_id":3879176,"comment_id":4134533,"body_markdown":"-1 for yet another repeat of the most frequent duplicate question. Can&#39;t SO implement some kind of duplicate warning when it sees too many ++&#39;s close together or something?","body":"-1 for yet another repeat of the most frequent duplicate question. Can&#39;t SO implement some kind of duplicate warning when it sees too many ++&#39;s close together or something?"},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":0,"creation_date":1286470003,"post_id":3879176,"comment_id":4134548,"body_markdown":"@Steve Jessop:  There&#39;s nothing stopping implementations from issuing warning messages.","body":"@Steve Jessop:  There&#39;s nothing stopping implementations from issuing warning messages."},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":1,"creation_date":1286470096,"post_id":3879176,"comment_id":4134564,"body_markdown":"@PP:  Any book you read about C or C++ will point out that this is an error.  The poster also asked about Java, which is an entirely different question.","body":"@PP:  Any book you read about C or C++ will point out that this is an error.  The poster also asked about Java, which is an entirely different question."},{"owner":{"account_id":8014,"reputation":56420,"user_id":14148,"accept_rate":79,"display_name":"David Thornley"},"score":0,"creation_date":1286470278,"post_id":3879176,"comment_id":4134599,"body_markdown":"Oh, and also:  If you have to ask about the meaning of an expression on Stack Overflow or similar site, don&#39;t put it in a program.  We don&#39;t want the next person working on your program to have to come here to understand your program.","body":"Oh, and also:  If you have to ask about the meaning of an expression on Stack Overflow or similar site, don&#39;t put it in a program.  We don&#39;t want the next person working on your program to have to come here to understand your program."},{"owner":{"account_id":7470,"reputation":274976,"user_id":13005,"accept_rate":75,"display_name":"Steve Jessop"},"score":0,"creation_date":1286471064,"post_id":3879176,"comment_id":4134755,"body_markdown":"@David: sure, but there&#39;s also nothing stopping compilers from issuing a warning for assigning to const, but that&#39;s a language constraint violation. I said I was only &quot;slightly&quot; surprised - I guess it&#39;s just unnecessarily complicated to define a reasonable constraint.","body":"@David: sure, but there&#39;s also nothing stopping compilers from issuing a warning for assigning to const, but that&#39;s a language constraint violation. I said I was only &quot;slightly&quot; surprised - I guess it&#39;s just unnecessarily complicated to define a reasonable constraint."},{"owner":{"account_id":160089,"reputation":210397,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":0,"creation_date":1286477310,"post_id":3879176,"comment_id":4135826,"body_markdown":"The question belongs closed. It&#39;s not a question about the Java behavior of this expression, but a question about why the C behavior does not match the Java behavior, and it&#39;s simply yet another case of being ignorant of sequence points like every other duplicate of this topic.","body":"The question belongs closed. It&#39;s not a question about the Java behavior of this expression, but a question about why the C behavior does not match the Java behavior, and it&#39;s simply yet another case of being ignorant of sequence points like every other duplicate of this topic."},{"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"score":0,"creation_date":1286504459,"post_id":3879176,"comment_id":4139063,"body_markdown":"sorry for being ignorant","body":"sorry for being ignorant"}],"answers":[{"tags":[],"owner":{"account_id":205737,"reputation":12568,"user_id":454638,"accept_rate":100,"display_name":"JoshD"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534874523,"creation_date":1286432806,"answer_id":3879192,"question_id":3879176,"body_markdown":"In C this is undefined behavior. There is no correct behavior.\r\n","title":"++i + ++i + ++i in Java vs C","body":"<p>In C this is undefined behavior. There is no correct behavior.</p>\n"},{"tags":[],"owner":{"account_id":151660,"reputation":525,"user_id":365682,"display_name":"Rohit"},"down_vote_count":2,"up_vote_count":20,"is_accepted":true,"score":18,"last_activity_date":1286432853,"creation_date":1286432853,"answer_id":3879194,"question_id":3879176,"body_markdown":"There is nothing like more correct. It is actually undefined and its called Sequence Point Error. \r\nhttp://en.wikipedia.org/wiki/Sequence_point","title":"++i + ++i + ++i in Java vs C","body":"<p>There is nothing like more correct. It is actually undefined and its called Sequence Point Error. \n<a href=\"http://en.wikipedia.org/wiki/Sequence_point\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Sequence_point</a></p>\n"},{"tags":[],"owner":{"account_id":204844,"reputation":53796,"user_id":453277,"display_name":"Tim M."},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1695048612,"creation_date":1286432867,"answer_id":3879197,"question_id":3879176,"body_markdown":"The Java result makes sense to me because the operators give the result you would expect, but no serious program should contain a statement like this.","title":"++i + ++i + ++i in Java vs C","body":"<p>The Java result makes sense to me because the operators give the result you would expect, but no serious program should contain a statement like this.</p>\n"},{"tags":[],"owner":{"account_id":20130,"reputation":279845,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1338367677,"creation_date":1286433729,"answer_id":3879280,"question_id":3879176,"body_markdown":"Java guarantees ([&#167;15.7.1][1]) that it will be evaluated left-to-right, giving 12.  Specifically, `++` has higher precedence that `+`.  So it first binds those, then it associates the addition operations left to right\r\n\r\n    i = (((++i) + (++i)) + (++i));\r\n\r\n&#167;15.7.1 says the left operand is evaluated first, and [&#167;15.7.2][2] says both operands are evaluated before the operation.  So it evaluates like:\r\n\r\n    i = (((++i) + (++i)) + (++i));\r\n    i = ((3 + (++i)) + (++i)); // i = 3;\r\n    i = ((3 + 4) + (++i)); // i = 4;\r\n    i = (7 + (++i)); // i = 4;\r\n    i = (7 + 5); // i = 5;\r\n    i = 12;\r\n\r\nIn C, it is undefined behavior to modify a variable twice without a sequence point in between.\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.2","title":"++i + ++i + ++i in Java vs C","body":"<p>Java guarantees (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.1\" rel=\"noreferrer\">§15.7.1</a>) that it will be evaluated left-to-right, giving 12.  Specifically, <code>++</code> has higher precedence that <code>+</code>.  So it first binds those, then it associates the addition operations left to right</p>\n\n<pre><code>i = (((++i) + (++i)) + (++i));\n</code></pre>\n\n<p>§15.7.1 says the left operand is evaluated first, and <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.7.2\" rel=\"noreferrer\">§15.7.2</a> says both operands are evaluated before the operation.  So it evaluates like:</p>\n\n<pre><code>i = (((++i) + (++i)) + (++i));\ni = ((3 + (++i)) + (++i)); // i = 3;\ni = ((3 + 4) + (++i)); // i = 4;\ni = (7 + (++i)); // i = 4;\ni = (7 + 5); // i = 5;\ni = 12;\n</code></pre>\n\n<p>In C, it is undefined behavior to modify a variable twice without a sequence point in between.</p>\n"}],"owner":{"account_id":143302,"reputation":6277,"user_id":351548,"accept_rate":100,"display_name":"Manny"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8903,"favorite_count":0,"down_vote_count":5,"up_vote_count":12,"accepted_answer_id":3879194,"answer_count":4,"score":7,"last_activity_date":1695048612,"creation_date":1286432636,"question_id":3879176,"body_markdown":"    int i=2;\r\n    i = ++i + ++i + ++i;\r\n\r\nWhich is more correct? Java&#39;s result of 12 or C = 13. Or if not a matter of correctness, please elaborate.\r\n","title":"++i + ++i + ++i in Java vs C","body":"<pre><code>int i=2;\ni = ++i + ++i + ++i;\n</code></pre>\n\n<p>Which is more correct? Java's result of 12 or C = 13. Or if not a matter of correctness, please elaborate.</p>\n"},{"tags":["java","scheduled-tasks","quartz-scheduler","quartz"],"owner":{"account_id":1537474,"reputation":3656,"user_id":1433066,"accept_rate":68,"display_name":"Nick Dong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695048496,"creation_date":1695048496,"question_id":77128197,"body_markdown":"I am trying to using quartz in my program. I need to update the schedule of the job.\r\n\r\nAfter I read the sample code by Google and read docs [2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf](https://documentation.softwareag.com/terracotta/quartz_221/2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf). \r\n\r\nI know that there are several steps to schedule a job with certain time:\r\n\r\n1. Create a job. The job can be identified by job name, group, jobkey.\r\n\r\n2. Create a trigger for that job with specific time. The trigger also can be identified by name, group triggerkey. A job can have multiple triggers.\r\n\r\n3. Create the schedule to the job and the trigger.\r\n\r\n\r\nWell, how to identify the schedule? If you already get the scheduler, you can [list jobs](https://www.w3schools.blog/quartz-listing-all-jobs-example).\r\n\r\n```java\r\n        \tfor (String groupName : scheduler.getJobGroupNames()) {\r\n       \t         for (JobKey jobKey : scheduler.getJobKeys(\r\n    \t    \t\t GroupMatcher.jobGroupEquals(groupName))) {    \t \r\n    \t\t  String jobName = jobKey.getName();\r\n    \t\t  String jobGroup = jobKey.getGroup();\r\n \r\n    \t\t  List triggers = (List) \r\n    \t\t\t\t  scheduler.getTriggersOfJob(jobKey);\r\n    \t\t  Date nextFireTime = triggers.get(0).getNextFireTime();\r\n    \t\t  System.out.println(&quot;Job : &quot; + jobName + &quot;, Group : &quot;\r\n    \t\t\t\t+ jobGroup + &quot;, Next execution time : &quot;\r\n    \t\t\t\t\t+ nextFireTime); \r\n   \t      } \r\n```\r\n\r\nYou also get can get triggers by `schedule.getTriggers()`.\r\n\r\nWell, Imagine that when the user requests my service for the first time. I create the job with jobkey as (&quot;jobname&quot;, &quot;jobgroup&quot;) with trigger and assign them into a schedule. If the user requests my service again trying to update the trigger time, how do I find the scheduler by (&quot;jobname&quot;, &quot;jobgroup&quot;)? How do I identity the schedule, so that I can find the scheduler when the user&#39;s next request coming in?\r\n\r\nAlthough I can reschedule my job with scheduler:\r\n\r\n```java\r\n#How-To: Update a Trigger\r\n\r\n\r\n#Replacing a Trigger\r\n\r\n\r\n// Define a new Trigger\r\nTrigger trigger = newTrigger()\r\n .withIdentity(&quot;newTrigger&quot;, &quot;group1&quot;)\r\n .startNow()\r\n .build();\r\n// tell the scheduler to remove the old trigger with the given key, and\r\n// put the new one in its place\r\nsched.rescheduleJob(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;), trigger);\r\n\r\n\r\n#Updating an Existing Trigger\r\n// retrieve the trigger\r\nTrigger oldTrigger = sched.getTrigger(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;);\r\n// obtain a builder that would produce the trigger\r\nTriggerBuilder tb = oldTrigger.getTriggerBuilder();\r\n// update the schedule associated with the builder, and build the new trigger\r\n// (other builder methods could be called, to change the trigger in any\r\n// desired way)\r\nTrigger newTrigger = tb.withSchedule(simpleSchedule()\r\n .withIntervalInSeconds(10)\r\n .withRepeatCount(10)\r\n .build();\r\nsched.rescheduleJob(oldTrigger.getKey(), newTrigger);\r\n```\r\n\r\nAgain, how do I find the scheduler? How do I identity the scheduler? How to update a schedule in the next request in quartz?\r\n\r\nIs it the similar article? [updating-schedules-programmatically-table-based-quartz-scheduler](https://stackoverflow.com/questions/3932934/updating-schedules-programmatically-table-based-quartz-scheduler) But it is not the solution.\r\n","title":"how to update a schedule in the next request in quartz","body":"<p>I am trying to using quartz in my program. I need to update the schedule of the job.</p>\n<p>After I read the sample code by Google and read docs <a href=\"https://documentation.softwareag.com/terracotta/quartz_221/2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf\" rel=\"nofollow noreferrer\">2-2-1_Quartz_Scheduler_Example_Programs_and_Sample_Code.pdf</a>.</p>\n<p>I know that there are several steps to schedule a job with certain time:</p>\n<ol>\n<li><p>Create a job. The job can be identified by job name, group, jobkey.</p>\n</li>\n<li><p>Create a trigger for that job with specific time. The trigger also can be identified by name, group triggerkey. A job can have multiple triggers.</p>\n</li>\n<li><p>Create the schedule to the job and the trigger.</p>\n</li>\n</ol>\n<p>Well, how to identify the schedule? If you already get the scheduler, you can <a href=\"https://www.w3schools.blog/quartz-listing-all-jobs-example\" rel=\"nofollow noreferrer\">list jobs</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>            for (String groupName : scheduler.getJobGroupNames()) {\n                 for (JobKey jobKey : scheduler.getJobKeys(\n                     GroupMatcher.jobGroupEquals(groupName))) {      \n              String jobName = jobKey.getName();\n              String jobGroup = jobKey.getGroup();\n \n              List triggers = (List) \n                      scheduler.getTriggersOfJob(jobKey);\n              Date nextFireTime = triggers.get(0).getNextFireTime();\n              System.out.println(&quot;Job : &quot; + jobName + &quot;, Group : &quot;\n                    + jobGroup + &quot;, Next execution time : &quot;\n                        + nextFireTime); \n          } \n</code></pre>\n<p>You also get can get triggers by <code>schedule.getTriggers()</code>.</p>\n<p>Well, Imagine that when the user requests my service for the first time. I create the job with jobkey as (&quot;jobname&quot;, &quot;jobgroup&quot;) with trigger and assign them into a schedule. If the user requests my service again trying to update the trigger time, how do I find the scheduler by (&quot;jobname&quot;, &quot;jobgroup&quot;)? How do I identity the schedule, so that I can find the scheduler when the user's next request coming in?</p>\n<p>Although I can reschedule my job with scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>#How-To: Update a Trigger\n\n\n#Replacing a Trigger\n\n\n// Define a new Trigger\nTrigger trigger = newTrigger()\n .withIdentity(&quot;newTrigger&quot;, &quot;group1&quot;)\n .startNow()\n .build();\n// tell the scheduler to remove the old trigger with the given key, and\n// put the new one in its place\nsched.rescheduleJob(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;), trigger);\n\n\n#Updating an Existing Trigger\n// retrieve the trigger\nTrigger oldTrigger = sched.getTrigger(triggerKey(&quot;oldTrigger&quot;, &quot;group1&quot;);\n// obtain a builder that would produce the trigger\nTriggerBuilder tb = oldTrigger.getTriggerBuilder();\n// update the schedule associated with the builder, and build the new trigger\n// (other builder methods could be called, to change the trigger in any\n// desired way)\nTrigger newTrigger = tb.withSchedule(simpleSchedule()\n .withIntervalInSeconds(10)\n .withRepeatCount(10)\n .build();\nsched.rescheduleJob(oldTrigger.getKey(), newTrigger);\n</code></pre>\n<p>Again, how do I find the scheduler? How do I identity the scheduler? How to update a schedule in the next request in quartz?</p>\n<p>Is it the similar article? <a href=\"https://stackoverflow.com/questions/3932934/updating-schedules-programmatically-table-based-quartz-scheduler\">updating-schedules-programmatically-table-based-quartz-scheduler</a> But it is not the solution.</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695048272,"creation_date":1695048272,"answer_id":77128176,"question_id":77127911,"body_markdown":"The `aria-label` from the password field is a calculated value coming from a `i18n` property (a map, that as of now (v24) contains a `reveal` key).  It seems, that this property is not accessible via some more elegant API (also as of now (v24)), but you can set properties like this quite easily via the `Element`-API.\r\n\r\nE.g.\r\n\r\n```groovy\r\nnew PasswordField().tap {\r\n    getElement().setPropertyMap(\r\n\t    &#39;i18n&#39;,\r\n\t    [reveal: &quot;Another Aria Label&quot;]\r\n    )\r\n}\r\n\r\n```\r\n","title":"Vaadin Flow: set Password Reveal Button Attributes","body":"<p>The <code>aria-label</code> from the password field is a calculated value coming from a <code>i18n</code> property (a map, that as of now (v24) contains a <code>reveal</code> key).  It seems, that this property is not accessible via some more elegant API (also as of now (v24)), but you can set properties like this quite easily via the <code>Element</code>-API.</p>\n<p>E.g.</p>\n<pre><code>new PasswordField().tap {\n    getElement().setPropertyMap(\n        'i18n',\n        [reveal: &quot;Another Aria Label&quot;]\n    )\n}\n\n</code></pre>\n"}],"owner":{"account_id":26078076,"reputation":13,"user_id":19776741,"display_name":"Toden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77128176,"answer_count":1,"score":1,"last_activity_date":1695048272,"creation_date":1695045799,"question_id":77127911,"body_markdown":"I am trying to replace the Aria Label of the Password Field reveal button with a different text.\r\n\r\n[As you can see in developer tools the button is inside the Password Field](https://i.stack.imgur.com/MyS1G.png)\r\n\r\n\r\nMy approach would have been to execute JavaScript:\r\n`txtPassword.getElement().executeJs(&quot;document.getElementsByTagName(&#39;vaadin-password-field-button&#39;)&quot;\r\n .setAttribute(&#39;attribute&#39;, &#39;value&#39;)&quot;);\r\n`\r\n\r\nAny help on this approach or maybe different ideas welcome.","title":"Vaadin Flow: set Password Reveal Button Attributes","body":"<p>I am trying to replace the Aria Label of the Password Field reveal button with a different text.</p>\n<p><a href=\"https://i.stack.imgur.com/MyS1G.png\" rel=\"nofollow noreferrer\">As you can see in developer tools the button is inside the Password Field</a></p>\n<p>My approach would have been to execute JavaScript:\n<code>txtPassword.getElement().executeJs(&quot;document.getElementsByTagName('vaadin-password-field-button')&quot; .setAttribute('attribute', 'value')&quot;); </code></p>\n<p>Any help on this approach or maybe different ideas welcome.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695048167,"post_id":77128147,"comment_id":135968485,"body_markdown":"*NoSuchMethodError* indicated incompatible jars in your classpath","body":"<i>NoSuchMethodError</i> indicated incompatible jars in your classpath"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1695048244,"post_id":77128147,"comment_id":135968505,"body_markdown":"Are you importing the jars manually?","body":"Are you importing the jars manually?"},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1695048272,"post_id":77128147,"comment_id":135968515,"body_markdown":"try these steps: Clean and Rebuild the Project, Update the Libraries, Dependency Management, Clear Dependency Cache, Check Classpath, Update the MongoDB Driver.\nOnce you have performed these steps, you should be able to resolve the &quot;java.lang.NoSuchMethodError&quot; error. I hope this works, it went smoothly for me like this","body":"try these steps: Clean and Rebuild the Project, Update the Libraries, Dependency Management, Clear Dependency Cache, Check Classpath, Update the MongoDB Driver. Once you have performed these steps, you should be able to resolve the &quot;java.lang.NoSuchMethodError&quot; error. I hope this works, it went smoothly for me like this"},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695054978,"post_id":77128147,"comment_id":135969887,"body_markdown":"Now i have an other error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.internal.connection.Cluster com.mongodb.internal.connection.DefaultClusterFactory.createCluster(com.mongodb.connection.ClusterSettings, com.mongodb.connection.ServerSettings, com.mongodb.connection.ConnectionPoolSettings, com.mongodb.connection.StreamFactory, com.mongodb.connection.StreamFactory, com.mongodb.MongoCredential, com.mongodb.event.CommandListener, java.lang.String, com.mongodb.MongoDriverInformation, java.util.List, com.mongodb.ServerApi)&#39;","body":"Now i have an other error: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.internal.connection.Cluster com.mongodb.internal.connection.DefaultClusterFactory.create&zwnj;&#8203;Cluster(com.mongodb.&zwnj;&#8203;connection.ClusterSe&zwnj;&#8203;ttings, com.mongodb.connection.ServerSettings, com.mongodb.connection.ConnectionPoolSettings, com.mongodb.connection.StreamFactory, com.mongodb.connection.StreamFactory, com.mongodb.MongoCredential, com.mongodb.event.CommandListener, java.lang.String, com.mongodb.MongoDriverInformation, java.util.List, com.mongodb.ServerApi)&#39;"},{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1695074076,"post_id":77128147,"comment_id":135972990,"body_markdown":"It looks like you are connecting to MongoDB Atlas.  Atlas uses Service DNS records (SRV).  You must have access to the public DNS service to gain access and decompose the service records into traditional A records.  Also, since this is Atlas, you need to make sure your public IP address is added to the MongoDB Atlas access list on the left hand pane of Atlas.","body":"It looks like you are connecting to MongoDB Atlas.  Atlas uses Service DNS records (SRV).  You must have access to the public DNS service to gain access and decompose the service records into traditional A records.  Also, since this is Atlas, you need to make sure your public IP address is added to the MongoDB Atlas access list on the left hand pane of Atlas."},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695142921,"post_id":77128147,"comment_id":135983440,"body_markdown":"All things you mentioned is true for me i even have the problem on two separate setups and of course my IP address is added","body":"All things you mentioned is true for me i even have the problem on two separate setups and of course my IP address is added"},{"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"score":0,"creation_date":1695143187,"post_id":77128147,"comment_id":135983482,"body_markdown":"And for @DiegoBorba i use gradle and this is the way the jar is implemented (exactly like the MongoDB Docs show it): implementation &#39;org.mongodb:mongodb-driver-sync:4.10.2&#39;","body":"And for @DiegoBorba i use gradle and this is the way the jar is implemented (exactly like the MongoDB Docs show it): implementation &#39;org.mongodb:mongodb-driver-sync:4.10.2&#39;"}],"owner":{"account_id":28749741,"reputation":11,"user_id":22018092,"display_name":"Die Leertaste"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695047953,"creation_date":1695047953,"question_id":77128147,"body_markdown":"Basically i have this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;com.mongodb.spi.dns.DnsClient com.mongodb.MongoClientSettings.getDnsClient()&#39;\r\n\r\nThis is my code:\r\n\r\n    public MongoDatabase connect() {\r\n        try {\r\n            String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\r\n\r\n            MongoClient mongoClient = MongoClients.create(connectionString);\r\n\r\n            return mongoClient.getDatabase(&quot;dashboard&quot;);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\nI searched for other people facing the same problem but no one seems to ever saw this error\r\nThe only answer that i found was this:\r\n\r\n    public MongoDatabase connect() {\r\n        try {\r\n            String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\r\n\r\n            ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\r\n\r\n            MongoClientSettings settings = MongoClientSettings.builder()\r\n                    .applyConnectionString(new ConnectionString(connectionString))\r\n                    .serverApi(serverApi)\r\n                    .build();\r\n\r\n            MongoClient mongoClient = MongoClients.create(settings);\r\n            return mongoClient.getDatabase(&quot;dashboard&quot;);\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\nBut this doesn&#180;t work either, it just produces the same error","title":"MongoDB can&#180;t connect","body":"<p>Basically i have this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: 'com.mongodb.spi.dns.DnsClient com.mongodb.MongoClientSettings.getDnsClient()'\n</code></pre>\n<p>This is my code:</p>\n<pre><code>public MongoDatabase connect() {\n    try {\n        String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\n\n        MongoClient mongoClient = MongoClients.create(connectionString);\n\n        return mongoClient.getDatabase(&quot;dashboard&quot;);\n    } catch (Exception e) {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n<p>I searched for other people facing the same problem but no one seems to ever saw this error\nThe only answer that i found was this:</p>\n<pre><code>public MongoDatabase connect() {\n    try {\n        String connectionString = &quot;mongodb+srv://dev:&lt;censored&gt;@cluster0.ji1ynnc.mongodb.net/?retryWrites=true&amp;w=majority&amp;appName=AtlasApp&quot;;\n\n        ServerApi serverApi = ServerApi.builder().version(ServerApiVersion.V1).build();\n\n        MongoClientSettings settings = MongoClientSettings.builder()\n                .applyConnectionString(new ConnectionString(connectionString))\n                .serverApi(serverApi)\n                .build();\n\n        MongoClient mongoClient = MongoClients.create(settings);\n        return mongoClient.getDatabase(&quot;dashboard&quot;);\n\n    } catch (Exception e) {\n        System.out.println(e);\n        return null;\n    }\n}\n</code></pre>\n<p>But this doesn´t work either, it just produces the same error</p>\n"},{"tags":["java","spring-boot","testing","h2"],"comments":[{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":0,"creation_date":1695044444,"post_id":77127637,"comment_id":135967622,"body_markdown":"Is there a reason why you actually need those fields to be static in the first place?","body":"Is there a reason why you actually need those fields to be static in the first place?"},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695044666,"post_id":77127637,"comment_id":135967682,"body_markdown":"@Miro `@BeforeAll` has to be `static` so the field has to be `static` too","body":"@Miro <code>@BeforeAll</code> has to be <code>static</code> so the field has to be <code>static</code> too"},{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":1,"creation_date":1695044905,"post_id":77127637,"comment_id":135967740,"body_markdown":"Would it then make sense to add the data into the db in `@BeforeEach` and clear it after each test in `@AfterEach`? \n\nThat way you can also ensure that different tests won&#39;t cause the others to fail if the tests adds or removes any data.","body":"Would it then make sense to add the data into the db in <code>@BeforeEach</code> and clear it after each test in <code>@AfterEach</code>?   That way you can also ensure that different tests won&#39;t cause the others to fail if the tests adds or removes any data."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695045431,"post_id":77127637,"comment_id":135967850,"body_markdown":"@Miro it could make sense (though hardly in this particular case). But why doesn&#39;t my code work?","body":"@Miro it could make sense (though hardly in this particular case). But why doesn&#39;t my code work?"},{"owner":{"account_id":7797037,"reputation":97,"user_id":5897761,"display_name":"Miro"},"score":1,"creation_date":1695045614,"post_id":77127637,"comment_id":135967891,"body_markdown":"It is most likely because the `@Autowired` in the setter is executed after your class instance is created. But the `@BeforeAll` is called in the &quot;static context&quot; before the instance of your test class is created.","body":"It is most likely because the <code>@Autowired</code> in the setter is executed after your class instance is created. But the <code>@BeforeAll</code> is called in the &quot;static context&quot; before the instance of your test class is created."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1695046631,"post_id":77127637,"comment_id":135968122,"body_markdown":"@Miro you&#39;re right. You could write it as an answer. Don&#39;t forget to include an alternative solution","body":"@Miro you&#39;re right. You could write it as an answer. Don&#39;t forget to include an alternative solution"}],"answers":[{"tags":[],"owner":{"account_id":5917006,"reputation":356,"user_id":4655495,"accept_rate":100,"display_name":"Aleksandra Liutikova"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695047756,"creation_date":1695047756,"answer_id":77128132,"question_id":77127637,"body_markdown":"You have several options to make your code work. First one is to use `@BeforeEach` method, that does not require static signature and ensures that the needed rule is executed before each test case. \r\n\r\n    @Autowired\r\n    private RoleDao roleDao;\r\n    \r\n    @BeforeEach\r\n    void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n\r\nAlternatively, you can add `@TestInstance` annotation. The `@TestInstance` annotation in JUnit 5 is used to determine the lifecycle of test instances for the annotated test class. By default it is `PER_METHOD`. If you change it to `PER_CLASS` `@BeforeAll` won&#39;t need to be static anymore:\r\n\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    class RoleDaoTest {\r\n\r\n\r\nA single instance of the test class will be created for all test methods. This way, you can use dependency injection in those methods without any issues.\r\n\r\nYour class will look like this:\r\n\r\n    @SpringBootTest\r\n    @TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\n    class RoleDaoTest {\r\n    \r\n        @Autowired\r\n        private RoleDao roleDao;\r\n    \r\n        static final Role USER = new Role(&quot;USER&quot;);\r\n        static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    \r\n        @BeforeAll\r\n        void init() {\r\n            roleDao.saveAll(List.of(USER, ADMIN));\r\n        }\r\n    \r\n        @Test\r\n        void findByAuthority() {\r\n            assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n        }\r\n    \r\n        @Test\r\n        void findByAuthorityOrAuthority() {\r\n            assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).containsExactlyInAnyOrder(USER, ADMIN);\r\n        }\r\n    }\r\n\r\nBy using the `PER_CLASS` lifecycle `roleDao` is properly injected.\r\nThe `init()` method (which is now an instance method and not static, runs once before all test methods.\r\nYou can use dependency injection in `@BeforeAll` without any complications.\r\nHowever, remember that the `PER_CLASS` lifecycle means all test methods share the same instance of the test class. This could potentially introduce side effects between test methods, so always make sure to reset any shared state in your `@BeforeEach` or `@AfterEach` methods if necessary.\r\n","title":"Can&#39;t inject into a static field in a test class","body":"<p>You have several options to make your code work. First one is to use <code>@BeforeEach</code> method, that does not require static signature and ensures that the needed rule is executed before each test case.</p>\n<pre><code>@Autowired\nprivate RoleDao roleDao;\n\n@BeforeEach\nvoid addSampleRows() {\n    roleDao.saveAll(List.of(USER, ADMIN));\n}\n</code></pre>\n<p>Alternatively, you can add <code>@TestInstance</code> annotation. The <code>@TestInstance</code> annotation in JUnit 5 is used to determine the lifecycle of test instances for the annotated test class. By default it is <code>PER_METHOD</code>. If you change it to <code>PER_CLASS</code> <code>@BeforeAll</code> won't need to be static anymore:</p>\n<pre><code>@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass RoleDaoTest {\n</code></pre>\n<p>A single instance of the test class will be created for all test methods. This way, you can use dependency injection in those methods without any issues.</p>\n<p>Your class will look like this:</p>\n<pre><code>@SpringBootTest\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nclass RoleDaoTest {\n\n    @Autowired\n    private RoleDao roleDao;\n\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n\n    @BeforeAll\n    void init() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).containsExactlyInAnyOrder(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>By using the <code>PER_CLASS</code> lifecycle <code>roleDao</code> is properly injected.\nThe <code>init()</code> method (which is now an instance method and not static, runs once before all test methods.\nYou can use dependency injection in <code>@BeforeAll</code> without any complications.\nHowever, remember that the <code>PER_CLASS</code> lifecycle means all test methods share the same instance of the test class. This could potentially introduce side effects between test methods, so always make sure to reset any shared state in your <code>@BeforeEach</code> or <code>@AfterEach</code> methods if necessary.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77128132,"answer_count":1,"score":0,"last_activity_date":1695047756,"creation_date":1695043607,"question_id":77127637,"body_markdown":"I tried to test this. Notice it&#39;s an interface so I was going to test the class Spring writes for me (as an exercise, I&#39;m learning testing)\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\npublic interface RoleDao extends JpaRepository&lt;Role, Long&gt; {\r\n    Role findByAuthority(String authority);\r\n\r\n    List&lt;Role&gt; findByAuthorityOrAuthority(String auth1, String auth2);\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\npublic class Role implements GrantedAuthority {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\r\n    private String authority;\r\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;User&gt; userList;\r\n\r\n    public Role() {\r\n    }\r\n\r\n    public Role(String authority) {\r\n        this.authority = authority;\r\n    }\r\n\r\n    @Override\r\n    public String getAuthority() {\r\n        return authority;\r\n    }\r\n\r\n    // toString()\r\n}\r\n```\r\nHere&#39;s my test class:\r\n```java\r\npackage pp.spring_bootstrap.dao;\r\n\r\nimport org.junit.jupiter.api.BeforeAll;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport pp.spring_bootstrap.models.Role;\r\n\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\r\n\r\n@SpringBootTest\r\nclass RoleDaoTest {\r\n    static RoleDao roleDao;\r\n    static final Role USER = new Role(&quot;USER&quot;);\r\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\r\n    @Autowired\r\n    /*could be public, doesn&#39;t matter */ void setRoleDao(RoleDao roleDao) {\r\n        RoleDaoTest.roleDao = roleDao;\r\n    }\r\n    @BeforeAll\r\n    static void addSampleRows() {\r\n        roleDao.saveAll(List.of(USER, ADMIN));\r\n    }\r\n    @Test\r\n    void findByAuthority() {\r\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\r\n    }\r\n\r\n    @Test\r\n    void findByAuthorityOrAuthority() {\r\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\r\n    }\r\n}\r\n```\r\nThe `properties` file for tests (inside the test resource root):\r\n```\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\nspring.datasource.driverClassName=org.h2.Driver\r\nspring.datasource.username=sa\r\nspring.datasource.password=\r\n```\r\nI get NPE, because nothing gets injected. Why?\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;pp.spring_bootstrap.dao.RoleDao.saveAll(java.lang.Iterable)&quot; because &quot;pp.spring_bootstrap.dao.RoleDaoTest.roleDao&quot; is null\r\n```\r\nCan&#39;t I inject into `static` fields with setters? I thought it&#39;s the trick you use to inject into statics","title":"Can&#39;t inject into a static field in a test class","body":"<p>I tried to test this. Notice it's an interface so I was going to test the class Spring writes for me (as an exercise, I'm learning testing)</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\npublic interface RoleDao extends JpaRepository&lt;Role, Long&gt; {\n    Role findByAuthority(String authority);\n\n    List&lt;Role&gt; findByAuthorityOrAuthority(String auth1, String auth2);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;roles&quot;)\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class Role implements GrantedAuthority {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    @Column(name = &quot;role&quot;, nullable = false, unique = true)\n    private String authority;\n    @ManyToMany(mappedBy = &quot;authorities&quot;)\n    @EqualsAndHashCode.Exclude\n    private Set&lt;User&gt; userList;\n\n    public Role() {\n    }\n\n    public Role(String authority) {\n        this.authority = authority;\n    }\n\n    @Override\n    public String getAuthority() {\n        return authority;\n    }\n\n    // toString()\n}\n</code></pre>\n<p>Here's my test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package pp.spring_bootstrap.dao;\n\nimport org.junit.jupiter.api.BeforeAll;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport pp.spring_bootstrap.models.Role;\n\nimport java.util.List;\n\nimport static org.assertj.core.api.AssertionsForClassTypes.assertThat;\n\n@SpringBootTest\nclass RoleDaoTest {\n    static RoleDao roleDao;\n    static final Role USER = new Role(&quot;USER&quot;);\n    static final Role ADMIN = new Role(&quot;ADMIN&quot;);\n    @Autowired\n    /*could be public, doesn't matter */ void setRoleDao(RoleDao roleDao) {\n        RoleDaoTest.roleDao = roleDao;\n    }\n    @BeforeAll\n    static void addSampleRows() {\n        roleDao.saveAll(List.of(USER, ADMIN));\n    }\n    @Test\n    void findByAuthority() {\n        assertThat(roleDao.findByAuthority(&quot;USER&quot;)).isEqualTo(USER);\n    }\n\n    @Test\n    void findByAuthorityOrAuthority() {\n        assertThat(roleDao.findByAuthorityOrAuthority(&quot;USER&quot;, &quot;ADMIN&quot;)).asList().contains(USER, ADMIN);\n    }\n}\n</code></pre>\n<p>The <code>properties</code> file for tests (inside the test resource root):</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n</code></pre>\n<p>I get NPE, because nothing gets injected. Why?</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;pp.spring_bootstrap.dao.RoleDao.saveAll(java.lang.Iterable)&quot; because &quot;pp.spring_bootstrap.dao.RoleDaoTest.roleDao&quot; is null\n</code></pre>\n<p>Can't I inject into <code>static</code> fields with setters? I thought it's the trick you use to inject into statics</p>\n"},{"tags":["java","spring-boot","intellij-idea","proxy"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695046383,"post_id":77127964,"comment_id":135968060,"body_markdown":"How are you running the app?","body":"How are you running the app?"},{"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"score":0,"creation_date":1695046487,"post_id":77127964,"comment_id":135968084,"body_markdown":"@g00se, I click the green &quot;play&quot; button on IntelliJ, and sometimes the green bug button. It is a Spring Boot application.","body":"@g00se, I click the green &quot;play&quot; button on IntelliJ, and sometimes the green bug button. It is a Spring Boot application."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695046791,"creation_date":1695046791,"answer_id":77128023,"question_id":77127964,"body_markdown":"Click your run target, then &quot;Edit configurations&quot;. Under &quot;Modify options&quot; (blue text) click &quot;Add VM options&quot;, then add the parameter to the new field that appears.\r\n\r\nNo, I don&#39;t know why they hid it away like that either. It used to be always available, much easier.","title":"Where people put &quot;-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080&quot; on IntelliJ?","body":"<p>Click your run target, then &quot;Edit configurations&quot;. Under &quot;Modify options&quot; (blue text) click &quot;Add VM options&quot;, then add the parameter to the new field that appears.</p>\n<p>No, I don't know why they hid it away like that either. It used to be always available, much easier.</p>\n"}],"owner":{"account_id":83131,"reputation":8752,"user_id":233286,"accept_rate":73,"display_name":"ilhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77128023,"answer_count":1,"score":1,"last_activity_date":1695046791,"creation_date":1695046240,"question_id":77127964,"body_markdown":"My Spring Boot application uses RestTemplate to make HTTP requests. But because it works on a corporate network it doesn&#39;t have direct access to the internet. It needs to use proxy. I have set a proxy into my IntelliJ but I guess RestTemplate doesn&#39;t use IntelliJ&#39;s proxy settings. I think I can use [this][1] method but I have no idea where to put it. My question is where should I set `-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080`?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35317269/233286","title":"Where people put &quot;-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080&quot; on IntelliJ?","body":"<p>My Spring Boot application uses RestTemplate to make HTTP requests. But because it works on a corporate network it doesn't have direct access to the internet. It needs to use proxy. I have set a proxy into my IntelliJ but I guess RestTemplate doesn't use IntelliJ's proxy settings. I think I can use <a href=\"https://stackoverflow.com/a/35317269/233286\">this</a> method but I have no idea where to put it. My question is where should I set <code>-Dhttp.proxyHost=your.proxy.net -Dhttp.proxyPort=8080</code>?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":0,"creation_date":1695049782,"post_id":77127950,"comment_id":135968863,"body_markdown":"Perhaps try using the interface [JdbcOperations](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html) instead of JdbcTemplate?","body":"Perhaps try using the interface <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcOperations.html\" rel=\"nofollow noreferrer\">JdbcOperations</a> instead of JdbcTemplate?"},{"owner":{"account_id":1139275,"reputation":1521,"user_id":1123626,"accept_rate":63,"display_name":"jacekn"},"score":0,"creation_date":1695064095,"post_id":77127950,"comment_id":135971521,"body_markdown":"I am hoping to find out what the issue is. Some other classes don&#39;t get mocked, either. I would also like to keep my change-set small, so that my pull request is about upgrading Mockito and not about reworking the test suite.","body":"I am hoping to find out what the issue is. Some other classes don&#39;t get mocked, either. I would also like to keep my change-set small, so that my pull request is about upgrading Mockito and not about reworking the test suite."},{"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"score":1,"creation_date":1695115919,"post_id":77127950,"comment_id":135977873,"body_markdown":"&quot;I have two Spring Framework jars in the classpath: 4.3 and 5.3&quot; I&#39;m assuming this means you have two versions of JdbcTemplate on the classpath? This may well cause an issue with mockito / bytebuddy classloading","body":"&quot;I have two Spring Framework jars in the classpath: 4.3 and 5.3&quot; I&#39;m assuming this means you have two versions of JdbcTemplate on the classpath? This may well cause an issue with mockito / bytebuddy classloading"}],"owner":{"account_id":1139275,"reputation":1521,"user_id":1123626,"accept_rate":63,"display_name":"jacekn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695046169,"creation_date":1695046169,"question_id":77127950,"body_markdown":"I&#39;m working on a project which transitively brings a very old version of Mockito. I&#39;ve updated POM to Mockito Core 5.5 and it&#39;s now the only Mockito version in my local repo. However, I&#39;m getting inconsistent results in a legacy test, which worked with previous configuration. I&#39;ve reduced my problem to the bare minimum to focus on the issue. \r\n\r\n - TestNG 6.14 \r\n - Mockito 5.5.0 \r\n - ResponseEntity and JdbcTemplate are Spring classes. I have two Spring Framework jars in the \r\nclasspath: 4.3 and 5.3. I&#39;m assuming this is not material to the issue.\r\n - JDK 17. Project at version 11. \r\n\r\n\r\n        @Test  //TestNG annotation\r\n        public class MyClassTest {\r\n            // Appears to be mocked just fine\r\n            private ResponseEntity&lt;MyClass&gt; responseEntityMock = mock(ResponseEntity.class);\r\n\r\n            // Does not get mocked\r\n            private JdbcTemplate jdbcTemplateMock = mock(JdbcTemplate.class)\r\n\r\n            @Test  //TestNG annotation\r\n            public void test() {\r\n                ...\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nresponseEntityMock shows as &quot;Mock for ...., hashcode: 12345&quot; in my IDE. jdbcTemplateMock is an instance but not a Mock. \r\n\r\nDebugging takes me to the `InlineDelegateByteBuddyMockMaker` class. Immediately following this instruction `this.mocks.put(instance, mockMetodInterceptor)`, instance for responseEntityMock becomes a Mock but instance for jdbcTemplateMock remains as is. I see no errors, anywhere. \r\n\r\n\r\n","title":"How to mock a JdbcTemplate with Mockito static factory method?","body":"<p>I'm working on a project which transitively brings a very old version of Mockito. I've updated POM to Mockito Core 5.5 and it's now the only Mockito version in my local repo. However, I'm getting inconsistent results in a legacy test, which worked with previous configuration. I've reduced my problem to the bare minimum to focus on the issue.</p>\n<ul>\n<li><p>TestNG 6.14</p>\n</li>\n<li><p>Mockito 5.5.0</p>\n</li>\n<li><p>ResponseEntity and JdbcTemplate are Spring classes. I have two Spring Framework jars in the\nclasspath: 4.3 and 5.3. I'm assuming this is not material to the issue.</p>\n</li>\n<li><p>JDK 17. Project at version 11.</p>\n<pre><code> @Test  //TestNG annotation\n public class MyClassTest {\n     // Appears to be mocked just fine\n     private ResponseEntity&lt;MyClass&gt; responseEntityMock = mock(ResponseEntity.class);\n\n     // Does not get mocked\n     private JdbcTemplate jdbcTemplateMock = mock(JdbcTemplate.class)\n\n     @Test  //TestNG annotation\n     public void test() {\n         ...\n     }\n\n }\n</code></pre>\n</li>\n</ul>\n<p>responseEntityMock shows as &quot;Mock for ...., hashcode: 12345&quot; in my IDE. jdbcTemplateMock is an instance but not a Mock.</p>\n<p>Debugging takes me to the <code>InlineDelegateByteBuddyMockMaker</code> class. Immediately following this instruction <code>this.mocks.put(instance, mockMetodInterceptor)</code>, instance for responseEntityMock becomes a Mock but instance for jdbcTemplateMock remains as is. I see no errors, anywhere.</p>\n"},{"tags":["java","xml","sax","saxparser","xerces"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1695033205,"post_id":77126420,"comment_id":135965303,"body_markdown":"Java&#39;s `char`s are 16 bits long. Characters with Unicode code higher than 65535 must be represented by two Java `char`s.","body":"Java&#39;s <code>char</code>s are 16 bits long. Characters with Unicode code higher than 65535 must be represented by two Java <code>char</code>s."},{"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"score":0,"creation_date":1695033362,"post_id":77126420,"comment_id":135965335,"body_markdown":"Is there a way to get the mathematical symbol in the output in java? @MauricePerry","body":"Is there a way to get the mathematical symbol in the output in java? @MauricePerry"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1695033435,"post_id":77126420,"comment_id":135965349,"body_markdown":"Have a look at that: https://stackoverflow.com/a/36394647/7036419","body":"Have a look at that: <a href=\"https://stackoverflow.com/a/36394647/7036419\">stackoverflow.com/a/36394647/7036419</a>"},{"owner":{"account_id":8112,"reputation":64592,"user_id":14419,"accept_rate":100,"display_name":"Mads Hansen"},"score":0,"creation_date":1695035599,"post_id":77126420,"comment_id":135965743,"body_markdown":"Can you post a little more of your code to demonstrate how the content is read and written?","body":"Can you post a little more of your code to demonstrate how the content is read and written?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1695043412,"post_id":77126420,"comment_id":135967379,"body_markdown":"What is in `configProps`?  What is `wrappedEntityResolver`?","body":"What is in <code>configProps</code>?  What is <code>wrappedEntityResolver</code>?"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695045677,"creation_date":1695045677,"answer_id":77127895,"question_id":77126420,"body_markdown":"That output is most definitely wrong, but it&#39;s hard to tell why.\r\n\r\nWhat are the properties passed to the serializer?\r\n\r\nIf you serialize with Saxon, then with default encoding (UTF-8) the output is \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\r\n       &lt;data&gt;&#120005;&lt;/data&gt;\r\n    &lt;/root&gt;\r\n\r\nwhile with encoding=us-ascii the output is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;root&gt;\r\n        &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\r\n    &lt;/root&gt;\r\n\r\n","title":"Xml Reader parsing character outside BMP to surrogate pairs which results in invalid xml","body":"<p>That output is most definitely wrong, but it's hard to tell why.</p>\n<p>What are the properties passed to the serializer?</p>\n<p>If you serialize with Saxon, then with default encoding (UTF-8) the output is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;root&gt;\n   &lt;data&gt;𝓅&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n<p>while with encoding=us-ascii the output is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n"}],"owner":{"account_id":12712329,"reputation":118,"user_id":15347137,"display_name":"Rishabhg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77127895,"answer_count":1,"score":2,"last_activity_date":1695046102,"creation_date":1695032849,"question_id":77126420,"body_markdown":"I am trying to parse an xml which contains hex value of ```&amp;#x1d4c5;```. This represents the mathematical symbol &amp;#x1d4c5;. The output that I am getting is ```&amp;#55349;&amp;#56517;```. \r\n\r\nWhat am I doing wrong? \r\n\r\nexample input xml : \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\r\n&lt;/root&gt;\r\n\r\n```\r\n\r\noutput : \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;root&gt;\r\n    &lt;data&gt;&amp;#55349;&amp;#56517;&lt;/data&gt;\r\n&lt;/root&gt;\r\n```\r\n\r\nCode to obtain XML reader : \r\n\r\n```\r\nfactory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\r\nfinal XMLReader xmlReader;\r\n        xmlReader = factory.newSAXParser().getXMLReader();\r\n```\r\nI am using UTF-8 encoding to decode while parsing. \r\n\r\nThe code I am using to read and write xml is this method : \r\n\r\n```\r\npublic void readAndWriteXml(InputSource inputSource, OutputStream out) throws IOException, SAXException, ParserConfigurationException {\r\n\r\n            XMLReader xmlReader = getXmlReader();\r\n            Serializer serializer = SerializerFactory.getSerializer(configProps);\r\n            serializer.setOutputStream(out);\r\n            xmlReader.setContentHandler(serializer.asContentHandler());\r\n\r\n            if(logger != null){\r\n                getLogger().debug(&quot;starting xml parsing&quot; + LocalTime.now());\r\n            }\r\n            xmlReader.parse(inputSource);\r\n            if(logger != null){\r\n                getLogger().debug(&quot;end xml parsing&quot; + LocalTime.now());\r\n            }\r\n\r\n        }\r\n```\r\n\r\ngetXMLReader() is this :\r\n\r\n```\r\nfinal XMLReader xmlReader;\r\n        xmlReader = factory.newSAXParser().getXMLReader();\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/namespace-prefixes&quot;, true);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features&quot; +\r\n                &quot;/namespaces&quot;, true);\r\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, true);\r\n//        xmlReader.setFeature(&quot;http://xml.org/sax/features/validation&quot;, true);\r\n        xmlReader.setEntityResolver(wrappedEntityResolver);\r\n        xmlReader.setErrorHandler(new SaxErrorHandler());\r\n        return xmlReader;\r\n```\r\n\r\nHere I am initialising the class : \r\n```\r\npublic XmlNormalizer(String catalogPath) throws IOException {\r\n        // We want the Apache XML parser, not the embedded Oracle Java version.\r\n        factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\r\n        factory.setNamespaceAware(true);\r\n        List&lt;Path&gt; catalogFiles = this.findByFileName(new File(catalogPath).toPath(), CATALOG_FILENAME_PATTERN);\r\n        String[] catalogArray = catalogFiles.stream().map(Path::toString).toArray(String[]::new);\r\n        configProps = OutputPropertiesFactory.getDefaultMethodProperties(&quot;xml&quot;);\r\n        XMLCatalogResolver xmlCatalogResolver = new XMLCatalogResolver(catalogArray, true);\r\n        wrappedEntityResolver = new WrappedEntityResolver(xmlCatalogResolver);\r\n    }\r\n\r\n```\r\n\r\nWrappedEntityResolver is just a wrapper around ```import org.apache.xerces.util.XMLCatalogResolver;```","title":"Xml Reader parsing character outside BMP to surrogate pairs which results in invalid xml","body":"<p>I am trying to parse an xml which contains hex value of <code>&amp;#x1d4c5;</code>. This represents the mathematical symbol 𝓅. The output that I am getting is <code>&amp;#55349;&amp;#56517;</code>.</p>\n<p>What am I doing wrong?</p>\n<p>example input xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#x1d4c5;&lt;/data&gt;\n&lt;/root&gt;\n\n</code></pre>\n<p>output :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;root&gt;\n    &lt;data&gt;&amp;#55349;&amp;#56517;&lt;/data&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Code to obtain XML reader :</p>\n<pre><code>factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\nfinal XMLReader xmlReader;\n        xmlReader = factory.newSAXParser().getXMLReader();\n</code></pre>\n<p>I am using UTF-8 encoding to decode while parsing.</p>\n<p>The code I am using to read and write xml is this method :</p>\n<pre><code>public void readAndWriteXml(InputSource inputSource, OutputStream out) throws IOException, SAXException, ParserConfigurationException {\n\n            XMLReader xmlReader = getXmlReader();\n            Serializer serializer = SerializerFactory.getSerializer(configProps);\n            serializer.setOutputStream(out);\n            xmlReader.setContentHandler(serializer.asContentHandler());\n\n            if(logger != null){\n                getLogger().debug(&quot;starting xml parsing&quot; + LocalTime.now());\n            }\n            xmlReader.parse(inputSource);\n            if(logger != null){\n                getLogger().debug(&quot;end xml parsing&quot; + LocalTime.now());\n            }\n\n        }\n</code></pre>\n<p>getXMLReader() is this :</p>\n<pre><code>final XMLReader xmlReader;\n        xmlReader = factory.newSAXParser().getXMLReader();\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/namespace-prefixes&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features&quot; +\n                &quot;/namespaces&quot;, true);\n        xmlReader.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, true);\n//        xmlReader.setFeature(&quot;http://xml.org/sax/features/validation&quot;, true);\n        xmlReader.setEntityResolver(wrappedEntityResolver);\n        xmlReader.setErrorHandler(new SaxErrorHandler());\n        return xmlReader;\n</code></pre>\n<p>Here I am initialising the class :</p>\n<pre><code>public XmlNormalizer(String catalogPath) throws IOException {\n        // We want the Apache XML parser, not the embedded Oracle Java version.\n        factory = org.apache.xerces.jaxp.SAXParserFactoryImpl.newInstance();\n        factory.setNamespaceAware(true);\n        List&lt;Path&gt; catalogFiles = this.findByFileName(new File(catalogPath).toPath(), CATALOG_FILENAME_PATTERN);\n        String[] catalogArray = catalogFiles.stream().map(Path::toString).toArray(String[]::new);\n        configProps = OutputPropertiesFactory.getDefaultMethodProperties(&quot;xml&quot;);\n        XMLCatalogResolver xmlCatalogResolver = new XMLCatalogResolver(catalogArray, true);\n        wrappedEntityResolver = new WrappedEntityResolver(xmlCatalogResolver);\n    }\n\n</code></pre>\n<p>WrappedEntityResolver is just a wrapper around <code>import org.apache.xerces.util.XMLCatalogResolver;</code></p>\n"},{"tags":["java","inner-classes","composition"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1478006798,"post_id":40360957,"comment_id":67975141,"body_markdown":"That&#39;s comparing apples to oranges. You have to have some common ground on which to compare two things. It&#39;s like comparing a washing machine with a train, on the basis that both have engines. You should read examples showing the use of these two concepts, and see if they can both be used to solve problems in the same domain or not.","body":"That&#39;s comparing apples to oranges. You have to have some common ground on which to compare two things. It&#39;s like comparing a washing machine with a train, on the basis that both have engines. You should read examples showing the use of these two concepts, and see if they can both be used to solve problems in the same domain or not."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1478011034,"post_id":40360957,"comment_id":67977528,"body_markdown":"Right. But on what grounds are you trying to compare them? For example, you can say: &quot;To solve problem X, I can use this solution, or that solution, and the two solutions are similar in that they both solve problem X, and perhaps also in other aspects, but they are different in aspect A, B, and C&quot;. But you start from a common ground: the need to solve problem X.","body":"Right. But on what grounds are you trying to compare them? For example, you can say: &quot;To solve problem X, I can use this solution, or that solution, and the two solutions are similar in that they both solve problem X, and perhaps also in other aspects, but they are different in aspect A, B, and C&quot;. But you start from a common ground: the need to solve problem X."},{"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"score":0,"creation_date":1478011064,"post_id":40360957,"comment_id":67977543,"body_markdown":"@RealSkeptic , could  i quote you if i would have to answer such a question onn a jobs interview ? :)","body":"@RealSkeptic , could  i quote you if i would have to answer such a question onn a jobs interview ? :)"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1478011153,"post_id":40360957,"comment_id":67977611,"body_markdown":"You could, though I doubt that my nickname would impress anybody in a job interview... Remember, though, that job interview questions are not always there to test your knowledge, but to test the way you think about a problem. So perhaps they *expect* you to realize that there is no common ground and say so.","body":"You could, though I doubt that my nickname would impress anybody in a job interview... Remember, though, that job interview questions are not always there to test your knowledge, but to test the way you think about a problem. So perhaps they <i>expect</i> you to realize that there is no common ground and say so."},{"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"score":0,"creation_date":1478011326,"post_id":40360957,"comment_id":67977724,"body_markdown":"@RealSkeptic, if i find some similarities between concepts, for me is a common ground. Maybe you are talking about different purposes.And that is where i am weaker maybe","body":"@RealSkeptic, if i find some similarities between concepts, for me is a common ground. Maybe you are talking about different purposes.And that is where i am weaker maybe"}],"answers":[{"tags":[],"owner":{"account_id":9551641,"reputation":2137,"user_id":7095601,"display_name":"Elan Hamburger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1478021575,"creation_date":1478021575,"answer_id":40365438,"question_id":40360957,"body_markdown":"You&#39;re right that composition and inner-classes both implement &quot;has-a&quot; schemes, but they have a lot of differences.\r\n\r\nComposition is when your class has an instance of another class as an instance variable (sometimes called a field).\r\n\r\n    public class A {\r\n        B otherObject;\r\n        /* Other fields and methods go here */\r\n    }\r\n\r\notherObject in this case is just a reference to an instance of another object of type B. otherObject can exist independently of your instance of A, and multiple instances of A can have references to the same B.\r\n\r\nAn inner class is when the class definition is actually contained within the outer class.\r\n\r\n    public class C {\r\n        class D {\r\n            /* Inner class stuff goes here */\r\n        }\r\n    }\r\n\r\nThis is used mostly for logical grouping. In this scenario, D is directly associated with C, whereas B may or may not be a logical child of A. Access to D outside of C becomes a little more complicated, but it can only be accessed through an existing instance of C.\r\n\r\n&gt; So, by confronting the two definitions, i see some similarities:\r\n...\r\n&gt; 3. can be declared private\r\n\r\nYou&#39;re right that both can be declared as `private`, but the meaning of private for these two is very different. `private` as used in composition means that access to that reference is restricted to that class. Say that in your execution code, you have an objectA of type A. You could NOT attempt to access objectA.otherObject. otherObject can only be referenced from the body of A. When you declare an inner class as `private`, it means that use of that entire class is restricted to the body of A. You couldn&#39;t use it anywhere in any other class.","title":"Composition vs Inner Classes","body":"<p>You're right that composition and inner-classes both implement \"has-a\" schemes, but they have a lot of differences.</p>\n\n<p>Composition is when your class has an instance of another class as an instance variable (sometimes called a field).</p>\n\n<pre><code>public class A {\n    B otherObject;\n    /* Other fields and methods go here */\n}\n</code></pre>\n\n<p>otherObject in this case is just a reference to an instance of another object of type B. otherObject can exist independently of your instance of A, and multiple instances of A can have references to the same B.</p>\n\n<p>An inner class is when the class definition is actually contained within the outer class.</p>\n\n<pre><code>public class C {\n    class D {\n        /* Inner class stuff goes here */\n    }\n}\n</code></pre>\n\n<p>This is used mostly for logical grouping. In this scenario, D is directly associated with C, whereas B may or may not be a logical child of A. Access to D outside of C becomes a little more complicated, but it can only be accessed through an existing instance of C.</p>\n\n<blockquote>\n  <p>So, by confronting the two definitions, i see some similarities:\n  ...\n  3. can be declared private</p>\n</blockquote>\n\n<p>You're right that both can be declared as <code>private</code>, but the meaning of private for these two is very different. <code>private</code> as used in composition means that access to that reference is restricted to that class. Say that in your execution code, you have an objectA of type A. You could NOT attempt to access objectA.otherObject. otherObject can only be referenced from the body of A. When you declare an inner class as <code>private</code>, it means that use of that entire class is restricted to the body of A. You couldn't use it anywhere in any other class.</p>\n"},{"tags":[],"owner":{"account_id":922035,"reputation":1189,"user_id":953550,"display_name":"Leonardo Cruz"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1478024747,"creation_date":1478024747,"answer_id":40366285,"question_id":40360957,"body_markdown":"These two concpets are related. To better organize my thoughs let&#39;s define A and B:\r\n\r\n - A is a class member composed by an inner class.\r\n - B is a class member composed by an instance of an external class.\r\n\r\nExample:\r\n\r\n    class Driver {\r\n    }\r\n    \r\n    class Car {\r\n    \t\r\n    \t// A\r\n    \tclass Engine {\r\n    \t\tvoid start() {\r\n    \t\t\tif (gasLevel &gt; 0) {\r\n    \t\t\t\t...\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t//B\r\n    \tDriver driver;\r\n    \r\n    \tint gasLevel;\r\n    \r\n    }\r\n\r\n\r\nThat said:\r\n\r\n - A is a field\r\n - B is a field\r\n - A is an inner class\r\n - B is not a inner class\r\n - A has access to Car internal state (gasLevel)\r\n - B don&#39;t have access to Car internal state (gasLevel)\r\n - Engine don&#39;t exists without an instance of Car.\r\n - Driver exists without an instance of Car.\r\n\r\nTo sum up, composition between two distinct classes and composition with an inner class are ways to control the level of coupling and cohesion of your system.\r\n\r\n\r\n\r\n\r\n ","title":"Composition vs Inner Classes","body":"<p>These two concpets are related. To better organize my thoughs let's define A and B:</p>\n\n<ul>\n<li>A is a class member composed by an inner class.</li>\n<li>B is a class member composed by an instance of an external class.</li>\n</ul>\n\n<p>Example:</p>\n\n<pre><code>class Driver {\n}\n\nclass Car {\n\n    // A\n    class Engine {\n        void start() {\n            if (gasLevel &gt; 0) {\n                ...\n            }\n        }\n    }\n\n    //B\n    Driver driver;\n\n    int gasLevel;\n\n}\n</code></pre>\n\n<p>That said:</p>\n\n<ul>\n<li>A is a field</li>\n<li>B is a field</li>\n<li>A is an inner class</li>\n<li>B is not a inner class</li>\n<li>A has access to Car internal state (gasLevel)</li>\n<li>B don't have access to Car internal state (gasLevel)</li>\n<li>Engine don't exists without an instance of Car.</li>\n<li>Driver exists without an instance of Car.</li>\n</ul>\n\n<p>To sum up, composition between two distinct classes and composition with an inner class are ways to control the level of coupling and cohesion of your system.</p>\n"},{"tags":[],"owner":{"account_id":27744128,"reputation":1,"user_id":21179971,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695046031,"creation_date":1695046031,"answer_id":77127932,"question_id":40360957,"body_markdown":"&gt; 2. In composition no restriction to use the variables of the &quot;outer&quot; class\r\n\r\nIn composition you cannot access enclosing class private fields directly.\r\nAn inner class has access to outer class fields by default.","title":"Composition vs Inner Classes","body":"<blockquote>\n<ol start=\"2\">\n<li>In composition no restriction to use the variables of the &quot;outer&quot; class</li>\n</ol>\n</blockquote>\n<p>In composition you cannot access enclosing class private fields directly.\nAn inner class has access to outer class fields by default.</p>\n"}],"owner":{"account_id":2803991,"reputation":498,"user_id":2411604,"accept_rate":56,"display_name":"Alexis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4653,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":40366285,"answer_count":3,"score":12,"last_activity_date":1695046031,"creation_date":1478006516,"question_id":40360957,"body_markdown":"What are the differences and the similarities between composition and inner classes? \r\nI am trying to learn the principles of Java and try to figure out the whole image. For me is better to make analogies and to see the differences and similarities between concepts, in order to use them corectly.\r\n\r\nDefinition of composition:\r\n&quot;Composition is the design technique to implement has-a relationship in classes&quot;.\r\n&quot;Java composition is achieved by using instance variables that refers to other objects&quot;\r\n\r\nDefinition of inner class(or member class,not anonymous):\r\n&quot;A member class is also defined as a member of an enclosing class, but is not declared with the static modifier. This type of inner class is analogous to an instance method or field. An instance of a member class is always associated with an instance of the enclosing class, and the code of a member class has access to all the fields and methods&quot;\r\n\r\nSo, by confronting the two definitions, i see some similarities:\r\n\r\n    1. Both have HAS-A relationship\r\n    2. Both are strictly dependent on the outer class lifetime\r\n    3. can be declared private\r\n\r\n\r\nDifferences:\r\n\r\n    1. Inner classes uses classes, composition use instances (?!)\r\n    2. In composition no restriction to use the variables of the &quot;outer&quot; class\r\n\r\nPlease correct me if I am totally wrong, I need to trace better the limits of two concepts.\r\n","title":"Composition vs Inner Classes","body":"<p>What are the differences and the similarities between composition and inner classes? \nI am trying to learn the principles of Java and try to figure out the whole image. For me is better to make analogies and to see the differences and similarities between concepts, in order to use them corectly.</p>\n\n<p>Definition of composition:\n\"Composition is the design technique to implement has-a relationship in classes\".\n\"Java composition is achieved by using instance variables that refers to other objects\"</p>\n\n<p>Definition of inner class(or member class,not anonymous):\n\"A member class is also defined as a member of an enclosing class, but is not declared with the static modifier. This type of inner class is analogous to an instance method or field. An instance of a member class is always associated with an instance of the enclosing class, and the code of a member class has access to all the fields and methods\"</p>\n\n<p>So, by confronting the two definitions, i see some similarities:</p>\n\n<pre><code>1. Both have HAS-A relationship\n2. Both are strictly dependent on the outer class lifetime\n3. can be declared private\n</code></pre>\n\n<p>Differences:</p>\n\n<pre><code>1. Inner classes uses classes, composition use instances (?!)\n2. In composition no restriction to use the variables of the \"outer\" class\n</code></pre>\n\n<p>Please correct me if I am totally wrong, I need to trace better the limits of two concepts.</p>\n"},{"tags":["java","rx-java","micronaut","micronaut-data","micronaut-client"],"owner":{"account_id":20756602,"reputation":21,"user_id":15242888,"display_name":"jpz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":631,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695045997,"creation_date":1613744363,"question_id":66279288,"body_markdown":"I have a simple micronaut app. \r\n\r\nI have two separate endpoints where the method that executes will call an API using a client (I&#39;ve tried both the http client from &quot;java.net.http.HttpClient&quot; and &quot;io.micronaut.http.client.RxHttpClient&quot; but the same issue happens).\r\n\r\nWhen you hit any of the endpoints after starting the app, the function will execute as expected, where the client calls an external API and retrieves the response as a string. If you try to hit that same endpoint again, it will throw:\r\n\r\n**&quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.&quot;**\r\n\r\nI don&#39;t think this is an issue on the API&#39;s server side for the following reasons:\r\n\r\n 1. This issue happens when I hit two separate endpoints with two separate external APIs\r\n 2. The request goes through the first time no problem\r\n 3. I can hit the same APIs in postman without error - it&#39;s just when I call them with the client that there is an issue.\r\n\r\n**My controller:**\r\n\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.micronaut.http.HttpResponse;\r\n    \r\n    \r\n    import javax.inject.Inject;\r\n    import java.io.IOException;\r\n    \r\n    import static io.micronaut.http.HttpRequest.GET;\r\n    \r\n    @Controller(&quot;/api&quot;)\r\n    public class DeckController {\r\n    \r\n        @Inject\r\n        private DeckService deckService;\r\n    \r\n        @Get(value = &quot;/drawRx&quot;)\r\n        public  HttpResponse&lt;Card&gt; drawCardRx(){\r\n            deckService.drawCardRx(&quot;ijhhxvxwn63g&quot;,1);\r\n            return HttpResponse.ok();\r\n        }\r\n    }\r\n\r\n**One of my services where the client calls the API:**\r\n\r\n    public void drawCardRx(String deckId, int amount){\r\n    \r\n        final String newDeckUrl = &quot;/deck/&quot;+deckId+&quot;/draw/?count=&quot;+amount;\r\n        Disposable result = this.httpClient\r\n                .retrieve( GET(newDeckUrl))\r\n                .subscribe(data -&gt; System.out.println(data));\r\n        \r\n        return;\r\n    }\r\n\r\nLike I said, the first time I hit the endpoint, the response is returned from the server without a problem.\r\n\r\nI&#39;ve tried the below articles and followed those steps, but no improvement.\r\n\r\nhttps://www.baeldung.com/java-ssl-handshake-failures\r\n\r\nhttps://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\r\n\r\nIs there something I am missing? \r\n\r\n","title":"Java Micronaut - throws &quot;javax.net.ssl.SSLHandshakeException&quot; after I hit the endpoint more than once","body":"<p>I have a simple micronaut app.</p>\n<p>I have two separate endpoints where the method that executes will call an API using a client (I've tried both the http client from &quot;java.net.http.HttpClient&quot; and &quot;io.micronaut.http.client.RxHttpClient&quot; but the same issue happens).</p>\n<p>When you hit any of the endpoints after starting the app, the function will execute as expected, where the client calls an external API and retrieves the response as a string. If you try to hit that same endpoint again, it will throw:</p>\n<p><strong>&quot;javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure.&quot;</strong></p>\n<p>I don't think this is an issue on the API's server side for the following reasons:</p>\n<ol>\n<li>This issue happens when I hit two separate endpoints with two separate external APIs</li>\n<li>The request goes through the first time no problem</li>\n<li>I can hit the same APIs in postman without error - it's just when I call them with the client that there is an issue.</li>\n</ol>\n<p><strong>My controller:</strong></p>\n<pre><code>import io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.http.HttpResponse;\n\n\nimport javax.inject.Inject;\nimport java.io.IOException;\n\nimport static io.micronaut.http.HttpRequest.GET;\n\n@Controller(&quot;/api&quot;)\npublic class DeckController {\n\n    @Inject\n    private DeckService deckService;\n\n    @Get(value = &quot;/drawRx&quot;)\n    public  HttpResponse&lt;Card&gt; drawCardRx(){\n        deckService.drawCardRx(&quot;ijhhxvxwn63g&quot;,1);\n        return HttpResponse.ok();\n    }\n}\n</code></pre>\n<p><strong>One of my services where the client calls the API:</strong></p>\n<pre><code>public void drawCardRx(String deckId, int amount){\n\n    final String newDeckUrl = &quot;/deck/&quot;+deckId+&quot;/draw/?count=&quot;+amount;\n    Disposable result = this.httpClient\n            .retrieve( GET(newDeckUrl))\n            .subscribe(data -&gt; System.out.println(data));\n    \n    return;\n}\n</code></pre>\n<p>Like I said, the first time I hit the endpoint, the response is returned from the server without a problem.</p>\n<p>I've tried the below articles and followed those steps, but no improvement.</p>\n<p><a href=\"https://www.baeldung.com/java-ssl-handshake-failures\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-ssl-handshake-failures</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6659360/how-to-solve-javax-net-ssl-sslhandshakeexception-error\">How to solve javax.net.ssl.SSLHandshakeException Error?</a></p>\n<p>Is there something I am missing?</p>\n"},{"tags":["javascript","java","spring-boot","websocket"],"owner":{"account_id":1382680,"reputation":3298,"user_id":1315357,"accept_rate":46,"display_name":"jnemecz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695045838,"creation_date":1695045838,"question_id":77127919,"body_markdown":"*(I know there are a lot of posts about sending messages to specific users but for some reason I don&#39;t understand (it must be a small thing I can&#39;t see), none of them helped me.)*\r\n\r\n**What works**\r\n\r\n- Backend/Server - running WebSocket server and accepting communication; Adding local user ID to message using `StompHeaderAccessor` in `ChannelInterceptor`\r\n- Frontend - connecting WS server, creating a session, sending a user message from FE to BE\r\n\r\n**Situation:** I&#39;m trying to set up two-way communication between the Websocket server (Spring) and the JavaScript frontend. But I am not able to send a message for concrete user from backend back to frontend.\r\n\r\n**WebSocket configuration:**\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    @AllArgsConstructor\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 99)\r\n    public class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\r\n    \r\n      private static final Logger LOGGER = LogManager.getLogger(WebSocketConfiguration.class);\r\n    \r\n      private final WebSocketLoginHashService webSocketUserLoginService;\r\n    \r\n      @Override\r\n      public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n      }\r\n    \r\n      @Override\r\n      public void configureClientInboundChannel(ChannelRegistration registration) {\r\n        registration.setInterceptors(new UserInterceptor(webSocketUserLoginService));\r\n      }\r\n    \r\n      @Override\r\n      public void configureMessageBroker(MessageBrokerRegistry registry) {\r\n        registry.enableSimpleBroker(&quot;/queue&quot;);\r\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        registry.setUserDestinationPrefix(&quot;/user/&quot;);\r\n      }\r\n    }\r\n\r\n**Interceptor `UserInterceptor`**\r\n\r\n    public class UserInterceptor implements ChannelInterceptor {\r\n    \r\n      private static String AUTH_HEADER = &quot;Authorization&quot;;\r\n      private static final Logger LOGGER = LoggerFactory.getLogger(UserInterceptor.class);\r\n    \r\n      private final WebSocketLoginHashService userWebSocketLoginHashService;\r\n    \r\n      @Override\r\n      public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n    \r\n        StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\r\n    \r\n        if (StompCommand.CONNECT.equals(accessor.getCommand())) {\r\n    \r\n          final Optional&lt;UUID&gt; tokenFound = parseAuthToken(message);\r\n    \r\n          if (tokenFound.isPresent()) {\r\n            if (this.userWebSocketLoginHashService.exists(tokenFound.get())) {\r\n              accessor.setUser(new WebSocketAuthUser(tokenFound.get()));\r\n            } else {\r\n              throw new BadCredentialsException(&quot;Autentizacni token neni validni: &quot; + tokenFound.get());\r\n            }\r\n          }\r\n        \r\n        }\r\n    \r\n        return message;\r\n      }\r\n    \r\n    }\r\n\r\n**Frontend** - connection to server and subscribe to user related events (doesn&#39;t work), sending message back to server (works).\r\n\r\n    function connect(event) {\r\n    \r\n    \tevent.preventDefault();\r\n    \r\n    \t$.getJSON(&quot;/api/ws/&quot;, function (data) {\r\n    \r\n    \t\tvar socket = new SockJS(&#39;/ws&#39;);\r\n    \t\tstompClient = Stomp.over(socket);\r\n    \r\n    \t\tstompClient.connect({&#39;Authorization&#39;: data.data.hash}, function (frame) {\r\n    \r\n    \t\t\t// Subscribe to user related events\r\n    \t\t\tstompClient.subscribe(&#39;/user/queue/notify&#39;, function (payload) {\r\n    \t\t\t\tconsole.log(&quot;Payload received:&quot; + payload.body);\r\n    \t\t\t});\r\n    \r\n    \t\t\t// Send message back to server\r\n    \t\t\tvar message = {\r\n    \t\t\t\t&quot;name&quot;: &quot;John&quot;\r\n    \t\t\t};\r\n    \t\t\tvar stringMessage = JSON.stringify(message);\r\n    \t\t\tstompClient.send(&quot;/app/hello&quot;, {}, stringMessage);\r\n    \r\n    \t\t});\r\n    \r\n    \t});\r\n    \r\n    }\r\n\r\n\r\n\r\n**Problem:** - when I try to send message back to user, message to frontend user never arrives.\r\n\r\n      @ResponseStatus(HttpStatus.OK)\r\n      @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public @ResponseBody void index() {\r\n    \r\n        final Optional&lt;WebSocketLoginHashService.Record&gt; uuid =\r\n            this.userWebSocketLoginHashService.get(new UserId(1L));\r\n    \r\n        if (!uuid.isPresent()) {\r\n          throw new RuntimeException(&quot;Authorized User not found!&quot;);\r\n        }\r\n    \r\n        String sessionId = uuid.get().getHash().toString();\r\n        String payload = &quot;Payload for user (session: &quot; + sessionId + &quot;)&quot;;\r\n    \r\n        SimpMessageHeaderAccessor headers = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\r\n        headers.setSessionId(sessionId);\r\n        headers.setLeaveMutable(true);\r\n    \r\n        simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/notify&quot;, payload, headers.getMessageHeaders());\r\n        simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/user/queue/notify&quot;, payload, headers.getMessageHeaders());\r\n      }\r\n\r\nWhy are not messages delivered to FE user?\r\n\r\n\r\n","title":"Send websocket message to concrete frontend user from Spring Boot application","body":"<p><em>(I know there are a lot of posts about sending messages to specific users but for some reason I don't understand (it must be a small thing I can't see), none of them helped me.)</em></p>\n<p><strong>What works</strong></p>\n<ul>\n<li>Backend/Server - running WebSocket server and accepting communication; Adding local user ID to message using <code>StompHeaderAccessor</code> in <code>ChannelInterceptor</code></li>\n<li>Frontend - connecting WS server, creating a session, sending a user message from FE to BE</li>\n</ul>\n<p><strong>Situation:</strong> I'm trying to set up two-way communication between the Websocket server (Spring) and the JavaScript frontend. But I am not able to send a message for concrete user from backend back to frontend.</p>\n<p><strong>WebSocket configuration:</strong></p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\n@AllArgsConstructor\n@Order(Ordered.HIGHEST_PRECEDENCE + 99)\npublic class WebSocketConfiguration implements WebSocketMessageBrokerConfigurer {\n\n  private static final Logger LOGGER = LogManager.getLogger(WebSocketConfiguration.class);\n\n  private final WebSocketLoginHashService webSocketUserLoginService;\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n  }\n\n  @Override\n  public void configureClientInboundChannel(ChannelRegistration registration) {\n    registration.setInterceptors(new UserInterceptor(webSocketUserLoginService));\n  }\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.enableSimpleBroker(&quot;/queue&quot;);\n    registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    registry.setUserDestinationPrefix(&quot;/user/&quot;);\n  }\n}\n</code></pre>\n<p><strong>Interceptor <code>UserInterceptor</code></strong></p>\n<pre><code>public class UserInterceptor implements ChannelInterceptor {\n\n  private static String AUTH_HEADER = &quot;Authorization&quot;;\n  private static final Logger LOGGER = LoggerFactory.getLogger(UserInterceptor.class);\n\n  private final WebSocketLoginHashService userWebSocketLoginHashService;\n\n  @Override\n  public Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n\n    StompHeaderAccessor accessor = MessageHeaderAccessor.getAccessor(message, StompHeaderAccessor.class);\n\n    if (StompCommand.CONNECT.equals(accessor.getCommand())) {\n\n      final Optional&lt;UUID&gt; tokenFound = parseAuthToken(message);\n\n      if (tokenFound.isPresent()) {\n        if (this.userWebSocketLoginHashService.exists(tokenFound.get())) {\n          accessor.setUser(new WebSocketAuthUser(tokenFound.get()));\n        } else {\n          throw new BadCredentialsException(&quot;Autentizacni token neni validni: &quot; + tokenFound.get());\n        }\n      }\n    \n    }\n\n    return message;\n  }\n\n}\n</code></pre>\n<p><strong>Frontend</strong> - connection to server and subscribe to user related events (doesn't work), sending message back to server (works).</p>\n<pre><code>function connect(event) {\n\n    event.preventDefault();\n\n    $.getJSON(&quot;/api/ws/&quot;, function (data) {\n\n        var socket = new SockJS('/ws');\n        stompClient = Stomp.over(socket);\n\n        stompClient.connect({'Authorization': data.data.hash}, function (frame) {\n\n            // Subscribe to user related events\n            stompClient.subscribe('/user/queue/notify', function (payload) {\n                console.log(&quot;Payload received:&quot; + payload.body);\n            });\n\n            // Send message back to server\n            var message = {\n                &quot;name&quot;: &quot;John&quot;\n            };\n            var stringMessage = JSON.stringify(message);\n            stompClient.send(&quot;/app/hello&quot;, {}, stringMessage);\n\n        });\n\n    });\n\n}\n</code></pre>\n<p><strong>Problem:</strong> - when I try to send message back to user, message to frontend user never arrives.</p>\n<pre><code>  @ResponseStatus(HttpStatus.OK)\n  @GetMapping(value = &quot;/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  public @ResponseBody void index() {\n\n    final Optional&lt;WebSocketLoginHashService.Record&gt; uuid =\n        this.userWebSocketLoginHashService.get(new UserId(1L));\n\n    if (!uuid.isPresent()) {\n      throw new RuntimeException(&quot;Authorized User not found!&quot;);\n    }\n\n    String sessionId = uuid.get().getHash().toString();\n    String payload = &quot;Payload for user (session: &quot; + sessionId + &quot;)&quot;;\n\n    SimpMessageHeaderAccessor headers = SimpMessageHeaderAccessor.create(SimpMessageType.MESSAGE);\n    headers.setSessionId(sessionId);\n    headers.setLeaveMutable(true);\n\n    simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/queue/notify&quot;, payload, headers.getMessageHeaders());\n    simpMessagingTemplate.convertAndSendToUser(sessionId, &quot;/user/queue/notify&quot;, payload, headers.getMessageHeaders());\n  }\n</code></pre>\n<p>Why are not messages delivered to FE user?</p>\n"},{"tags":["java","postgresql","io"],"comments":[{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":0,"creation_date":1372109935,"post_id":17285340,"comment_id":25061641,"body_markdown":"Are you creating a single database connection and holding it open for a long period of time?","body":"Are you creating a single database connection and holding it open for a long period of time?"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":1,"creation_date":1372109977,"post_id":17285340,"comment_id":25061661,"body_markdown":"The socket is being closed by the server, probably by an idle timeout.","body":"The socket is being closed by the server, probably by an idle timeout."}],"answers":[{"tags":[],"owner":{"account_id":132881,"reputation":4083,"user_id":333842,"accept_rate":97,"display_name":"wobblycogs"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1372109949,"creation_date":1372109949,"answer_id":17285576,"question_id":17285340,"body_markdown":"I suspect that your application and the database are on different machines and there&#39;s a (stateful) firewall somewhere in between. My guess is that the firewall is dropping the connection after it has been open for a certain amount of time perhaps with no traffic on it. The connection pool wouldn&#39;t be able to detect this before handing you a broken connection. \r\n\r\nThe only thing that makes me doubt this is that it&#39;s always happening in the same place in the code but if that is the first database query in a new session (or something like that) it&#39;s not inconceivable it could always appear in the same place.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I suspect that your application and the database are on different machines and there's a (stateful) firewall somewhere in between. My guess is that the firewall is dropping the connection after it has been open for a certain amount of time perhaps with no traffic on it. The connection pool wouldn't be able to detect this before handing you a broken connection. </p>\n\n<p>The only thing that makes me doubt this is that it's always happening in the same place in the code but if that is the first database query in a new session (or something like that) it's not inconceivable it could always appear in the same place.</p>\n"},{"tags":[],"owner":{"account_id":5165059,"reputation":4342,"user_id":4135367,"accept_rate":100,"display_name":"David Artmann"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1650537372,"creation_date":1424188267,"answer_id":28565444,"question_id":17285340,"body_markdown":"I got the same Exception with PostgreSQL 8.4, but I connect to a local db on the same host. The reason was the connection, which was not valid any more and so I needed to open it again.\r\n\r\nThere is a [ticket][1] on postgresql.org which has a related topic. Their answer is pretty similar, by just catching the exception and re-open the connection\r\n\r\n\r\n  [1]: http://www.postgresql.org/message-id/001701c53a90$cf879cc0$6600a8c0@kermit","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I got the same Exception with PostgreSQL 8.4, but I connect to a local db on the same host. The reason was the connection, which was not valid any more and so I needed to open it again.</p>\n<p>There is a <a href=\"http://www.postgresql.org/message-id/001701c53a90$cf879cc0$6600a8c0@kermit\" rel=\"nofollow noreferrer\">ticket</a> on postgresql.org which has a related topic. Their answer is pretty similar, by just catching the exception and re-open the connection</p>\n"},{"tags":[],"owner":{"account_id":1009920,"reputation":11,"user_id":1022733,"display_name":"Francisco Cifuentes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472069439,"creation_date":1472069439,"answer_id":39132261,"question_id":17285340,"body_markdown":"I had the same problem in a test, but the reason was in the call of a nextSequenceId between the creation of a PreparedStatement and the executeUpdate method call, using the same Connection object.\r\nMy solution was move the call of nextSequenceId at the top of the method and the problem disappeared.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem in a test, but the reason was in the call of a nextSequenceId between the creation of a PreparedStatement and the executeUpdate method call, using the same Connection object.\nMy solution was move the call of nextSequenceId at the top of the method and the problem disappeared.</p>\n"},{"tags":[],"owner":{"account_id":7828744,"reputation":2225,"user_id":5919568,"accept_rate":83,"display_name":"Morteza Jalambadani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561150138,"creation_date":1561150138,"answer_id":56710297,"question_id":17285340,"body_markdown":"i have same problem and solved my change is any of them:\r\n\r\n - your query is very large like:\r\n\r\n    `SELECT * FROM &#39;Table&#39; WHERE id in ?param`\r\n\r\n`param` is large list.\r\n\r\n - your result is very large (for example more than 4 GIG)","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>i have same problem and solved my change is any of them:</p>\n\n<ul>\n<li><p>your query is very large like:</p>\n\n<p><code>SELECT * FROM 'Table' WHERE id in ?param</code></p></li>\n</ul>\n\n<p><code>param</code> is large list.</p>\n\n<ul>\n<li>your result is very large (for example more than 4 GIG)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5406480,"reputation":55,"user_id":4304829,"display_name":"M&#225;čaj Jakub"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1575411409,"creation_date":1575411409,"answer_id":59166214,"question_id":17285340,"body_markdown":"&lt;b&gt;This applies to development environments for the most part.&lt;/b&gt;\r\n\r\nIn case somebody had this issue recently and is simultaneously using docker v19.03.5 under Ubuntu 19.10, it tends to interrupt network connections for some network-manager configurations. I haven&#39;t had a chance to debug this issue in details but if you are experiencing this issue I strongly recommend to try\r\n```\r\n$ sudo service docker stop\r\n```\r\nand give the connection one more shot.\r\n\r\nWorked for me like a charm.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p><b>This applies to development environments for the most part.</b></p>\n\n<p>In case somebody had this issue recently and is simultaneously using docker v19.03.5 under Ubuntu 19.10, it tends to interrupt network connections for some network-manager configurations. I haven't had a chance to debug this issue in details but if you are experiencing this issue I strongly recommend to try</p>\n\n<pre><code>$ sudo service docker stop\n</code></pre>\n\n<p>and give the connection one more shot.</p>\n\n<p>Worked for me like a charm.</p>\n"},{"tags":[],"owner":{"account_id":14294417,"reputation":309,"user_id":10325497,"display_name":"Ashok Kumar Dhulipalla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1629693456,"creation_date":1629693456,"answer_id":68887366,"question_id":17285340,"body_markdown":"I got the same Exception.\r\n\r\nIn my case, My DB is getting restarted due to heavy usage of memory by some query. That&#39;s why I am getting that error during the restart of the DB.\r\n\r\nsolution: I optimized my query.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I got the same Exception.</p>\n<p>In my case, My DB is getting restarted due to heavy usage of memory by some query. That's why I am getting that error during the restart of the DB.</p>\n<p>solution: I optimized my query.</p>\n"},{"tags":[],"owner":{"account_id":13137849,"reputation":11,"user_id":9490281,"display_name":"Chushu Gao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663831024,"creation_date":1663831024,"answer_id":73810699,"question_id":17285340,"body_markdown":"We are using PostgreSQL 13.5 in a docker container and have the same exception. Double the memory size of the container solve the issue.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>We are using PostgreSQL 13.5 in a docker container and have the same exception. Double the memory size of the container solve the issue.</p>\n"},{"tags":[],"owner":{"account_id":2164426,"reputation":61,"user_id":1917821,"display_name":"Logan Waggoner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674787901,"creation_date":1674787901,"answer_id":75253664,"question_id":17285340,"body_markdown":"If you are using a Connection pool, you can setup a test query like &quot;SELECT 1&quot; - this will help to ensure the connection in the pool is ready before your query is executed. \r\nhttps://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\r\n\r\norg.apache.commons.dbcp.BasicDataSource example:\r\n\r\n     basicDataSource.testOnBorrow = true\r\n     basicDataSource.validationQuery = &quot;SELECT 1&quot;\r\n\r\nI noticed the issue most often after the application was sitting without much action but I think it can generally happen throughout the day as mentioned above.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>If you are using a Connection pool, you can setup a test query like &quot;SELECT 1&quot; - this will help to ensure the connection in the pool is ready before your query is executed.\n<a href=\"https://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\">Spring Boot JPA - configuring auto reconnect</a></p>\n<p>org.apache.commons.dbcp.BasicDataSource example:</p>\n<pre><code> basicDataSource.testOnBorrow = true\n basicDataSource.validationQuery = &quot;SELECT 1&quot;\n</code></pre>\n<p>I noticed the issue most often after the application was sitting without much action but I think it can generally happen throughout the day as mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":12340469,"reputation":82,"user_id":9003853,"display_name":"Bhala T R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680514665,"creation_date":1680514665,"answer_id":75918000,"question_id":17285340,"body_markdown":"I had the same problem and I did a restart of docker services which solved the issue as said above could be a memory leak/issue with PGSQL.\r\n\r\n    org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\r\n\r\ndocker-compose down\r\n\r\ndocker-compose up -d","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem and I did a restart of docker services which solved the issue as said above could be a memory leak/issue with PGSQL.</p>\n<pre><code>org.postgresql.util.PSQLException: An I/O error occurred while sending to the backend.\n</code></pre>\n<p>docker-compose down</p>\n<p>docker-compose up -d</p>\n"},{"tags":[],"owner":{"account_id":5608378,"reputation":133,"user_id":4442083,"display_name":"marcopolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695045573,"creation_date":1695045573,"answer_id":77127883,"question_id":17285340,"body_markdown":"I had the same problem (Postgresql 13). The error message suggests a connection problem, but that was misleading. I had edited a plpython3u Python function, which later produced a run time error, which in turn produced the &quot;I/O error while sending to the backend&quot;. A similar error could occur when the windows Python related environment variables have been changed and prevent Python from running properly.","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I had the same problem (Postgresql 13). The error message suggests a connection problem, but that was misleading. I had edited a plpython3u Python function, which later produced a run time error, which in turn produced the &quot;I/O error while sending to the backend&quot;. A similar error could occur when the windows Python related environment variables have been changed and prevent Python from running properly.</p>\n"}],"owner":{"account_id":2792369,"reputation":552,"user_id":2402350,"accept_rate":33,"display_name":"James"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161855,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":10,"score":34,"last_activity_date":1695045573,"creation_date":1372108891,"question_id":17285340,"body_markdown":"I am testing some code which processes registration to a website. The java code is as follows (excerpt):\r\n\r\n    if (request.getParameter(&quot;method&quot;).equals(&quot;checkEmail&quot;)){\r\n\t\t\t\tString email= request.getParameter(&quot;email&quot;);\r\n\t\t\t\tResultSet rs =null;\r\n\t\t\t\tPreparedStatement ps = db.prepareStatement(query);\r\n\t\t\t\tps.setString(1, email);\r\n\t\t\t\trs = ps.executeQuery();\t\t\t\t\r\n\t\t\t\tif(rs.next()){ \r\n                                //email already present in Db \r\n                } else {\r\n                                //proceed with registration.....\r\n\r\nMost of the time the process executes without any problem, but I am getting an intermittent issue where it fails because connection to the database is closing. Every time it fails, it fails at the same point - when running the prepared statement above (which checks whether the email being submitted is already in the database obviously).\r\n\r\nVersion of Postgres is 8.1.23\r\n\r\nAny help or suggestions appreciated. Stacktrace is as follows (EDIT: Sometimes the Stacktrace says caused by Stream Closed, and sometimes Socket Closed as below):\r\n\r\n    13:53:00,973 ERROR Registration:334 - org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.\r\n    \r\n      at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:283)\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:479\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:367)\r\n      at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:271)\r\n      at Registration.doPost(Registration.java:113)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\r\n      at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\r\n      at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\r\n      at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\r\n      at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\r\n      at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\r\n      at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\r\n      at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n      at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\r\n      at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n      at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\r\n      at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\r\n      at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\r\n      at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)\r\n      at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)\r\n      at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)\r\n      at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\r\n      at java.lang.Thread.run(Thread.java:595)\r\n    \r\n    Caused by: java.net.SocketException: Socket closed\r\n    \r\n      at java.net.SocketInputStream.socketRead0(Native Method)\r\n      at java.net.SocketInputStream.read(SocketInputStream.java:129)\r\n      at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)\r\n      at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)\r\n      at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\r\n      at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)\r\n      at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1620)\r\n      at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\r\n    \t... 22 more      \r\n\r\n","title":"PostgreSQL Exception: &quot;An I/O error occured while sending to the backend&quot;","body":"<p>I am testing some code which processes registration to a website. The java code is as follows (excerpt):</p>\n\n<pre><code>if (request.getParameter(\"method\").equals(\"checkEmail\")){\n            String email= request.getParameter(\"email\");\n            ResultSet rs =null;\n            PreparedStatement ps = db.prepareStatement(query);\n            ps.setString(1, email);\n            rs = ps.executeQuery();             \n            if(rs.next()){ \n                            //email already present in Db \n            } else {\n                            //proceed with registration.....\n</code></pre>\n\n<p>Most of the time the process executes without any problem, but I am getting an intermittent issue where it fails because connection to the database is closing. Every time it fails, it fails at the same point - when running the prepared statement above (which checks whether the email being submitted is already in the database obviously).</p>\n\n<p>Version of Postgres is 8.1.23</p>\n\n<p>Any help or suggestions appreciated. Stacktrace is as follows (EDIT: Sometimes the Stacktrace says caused by Stream Closed, and sometimes Socket Closed as below):</p>\n\n<pre><code>13:53:00,973 ERROR Registration:334 - org.postgresql.util.PSQLException: An I/O error occured while sending to the backend.\n\n  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:283)\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:479\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:367)\n  at org.postgresql.jdbc2.AbstractJdbc2Statement.executeQuery(AbstractJdbc2Statement.java:271)\n  at Registration.doPost(Registration.java:113)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:637)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:717)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:233)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:191)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:128)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:567)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:293)\n  at org.apache.jk.server.JkCoyoteHandler.invoke(JkCoyoteHandler.java:190)\n  at org.apache.jk.common.HandlerRequest.invoke(HandlerRequest.java:291)\n  at org.apache.jk.common.ChannelSocket.invoke(ChannelSocket.java:769)\n  at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:698)\n  at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:891)\n  at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\n  at java.lang.Thread.run(Thread.java:595)\n\nCaused by: java.net.SocketException: Socket closed\n\n  at java.net.SocketInputStream.socketRead0(Native Method)\n  at java.net.SocketInputStream.read(SocketInputStream.java:129)\n  at org.postgresql.core.VisibleBufferedInputStream.readMore(VisibleBufferedInputStream.java:135)\n  at org.postgresql.core.VisibleBufferedInputStream.ensureBytes(VisibleBufferedInputStream.java:104)\n  at org.postgresql.core.VisibleBufferedInputStream.read(VisibleBufferedInputStream.java:73)\n  at org.postgresql.core.PGStream.ReceiveChar(PGStream.java:259)\n  at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1620)\n  at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:257)\n    ... 22 more      \n</code></pre>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":9398418,"reputation":1845,"user_id":6982270,"display_name":"Domenico Francesco Bruscino"},"score":0,"creation_date":1695043971,"post_id":77126030,"comment_id":135967506,"body_markdown":"Are you asking how to get the protocol of the sender?","body":"Are you asking how to get the protocol of the sender?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695045115,"creation_date":1695045115,"answer_id":77127823,"question_id":77126030,"body_markdown":"ActiveMQ Artemis doesn&#39;t store the which protocol *sent* the message. The `protocol` value that you see when inspecting a message via management regards how the message is **stored on disk**. The broker supports 2 different storage formats:\r\n\r\n - one for messages sent via AMQP (i.e. `AMQP`)\r\n - one for messages sent via every *other* protocol (i.e. `CORE`).\r\n\r\nThere is no way to retrieve this data from any supported JMS `Message` implementation.\r\n\r\nIt&#39;s worth noting that one of the main design elements of asynchronous messaging is a 100% decoupling of producers and consumers. In other words, producers don&#39;t care (and don&#39;t know) about consumers and consumers don&#39;t care (and don&#39;t know) about producers. Furthermore, in a properly decoupled application the consumer **shouldn&#39;t care** about what protocol was used to send the message. It should only care about the data in the message, regardless of how it was sent.","title":"How to get protocol in ActiveMQ Artemis via JMS?","body":"<p>ActiveMQ Artemis doesn't store the which protocol <em>sent</em> the message. The <code>protocol</code> value that you see when inspecting a message via management regards how the message is <strong>stored on disk</strong>. The broker supports 2 different storage formats:</p>\n<ul>\n<li>one for messages sent via AMQP (i.e. <code>AMQP</code>)</li>\n<li>one for messages sent via every <em>other</em> protocol (i.e. <code>CORE</code>).</li>\n</ul>\n<p>There is no way to retrieve this data from any supported JMS <code>Message</code> implementation.</p>\n<p>It's worth noting that one of the main design elements of asynchronous messaging is a 100% decoupling of producers and consumers. In other words, producers don't care (and don't know) about consumers and consumers don't care (and don't know) about producers. Furthermore, in a properly decoupled application the consumer <strong>shouldn't care</strong> about what protocol was used to send the message. It should only care about the data in the message, regardless of how it was sent.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77127823,"answer_count":1,"score":0,"last_activity_date":1695045115,"creation_date":1695029543,"question_id":77126030,"body_markdown":"I&#39;m sending a message to an Artemis ActiveMQ queue, but I can&#39;t find a method to get the message protocol\r\n\r\nCode for receiving the body of the message, but in this class I did not find a method for obtaining the protocol:\r\n```\r\nconnectQueueBrowser();\r\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nwhile (messageEnumeration.hasMoreElements()){\r\n   messages.add(messageEnumeration.nextElement());\r\n}\r\nSystem.out.println(messages.get(0).getBody(String.class));\r\n```\r\n\r\nThe Message class is in the package:\r\n`import javax.jms.Message;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8B155.png","title":"How to get protocol in ActiveMQ Artemis via JMS?","body":"<p>I'm sending a message to an Artemis ActiveMQ queue, but I can't find a method to get the message protocol</p>\n<p>Code for receiving the body of the message, but in this class I did not find a method for obtaining the protocol:</p>\n<pre><code>connectQueueBrowser();\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nwhile (messageEnumeration.hasMoreElements()){\n   messages.add(messageEnumeration.nextElement());\n}\nSystem.out.println(messages.get(0).getBody(String.class));\n</code></pre>\n<p>The Message class is in the package:\n<code>import javax.jms.Message;</code></p>\n<p><a href=\"https://i.stack.imgur.com/8B155.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8B155.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","finance","ta-lib","technical-indicator"],"comments":[{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1694534555,"post_id":77089205,"comment_id":135902491,"body_markdown":"What is `ta-lib` ?","body":"What is <code>ta-lib</code> ?"},{"owner":{"account_id":19491141,"reputation":432,"user_id":14259321,"display_name":"Luboš H&#225;jek"},"score":0,"creation_date":1694543760,"post_id":77089205,"comment_id":135904254,"body_markdown":"Talib is an open-source technical analysis library used by traders, investors and analysts to perform complex calculations on financial data and build trading strategies. The library is written in C language and provides more than 150 technical indicators and trading functions.","body":"Talib is an open-source technical analysis library used by traders, investors and analysts to perform complex calculations on financial data and build trading strategies. The library is written in C language and provides more than 150 technical indicators and trading functions."},{"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"score":0,"creation_date":1694558420,"post_id":77089205,"comment_id":135906440,"body_markdown":"The DNS record for ta-lib.org is not answering.  Perhaps you need this: https://ta-lib.github.io/ta-lib-python/","body":"The DNS record for ta-lib.org is not answering.  Perhaps you need this: <a href=\"https://ta-lib.github.io/ta-lib-python/\" rel=\"nofollow noreferrer\">ta-lib.github.io/ta-lib-python</a>"}],"answers":[{"tags":[],"owner":{"account_id":447668,"reputation":2917,"user_id":841424,"accept_rate":95,"display_name":"truf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1694571452,"creation_date":1694571452,"answer_id":77093649,"question_id":77089205,"body_markdown":"The right url is now https://ta-lib.github.io/ta-doc/\r\naccording to Mario Fortier, who&#39;s the author of the lib: https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938","title":"Trouble Accessing ta-lib.org","body":"<p>The right url is now <a href=\"https://ta-lib.github.io/ta-doc/\" rel=\"nofollow noreferrer\">https://ta-lib.github.io/ta-doc/</a>\naccording to Mario Fortier, who's the author of the lib: <a href=\"https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938\" rel=\"nofollow noreferrer\">https://github.com/TA-Lib/ta-lib-python/issues/547#issuecomment-1311180938</a></p>\n"}],"owner":{"account_id":19491141,"reputation":432,"user_id":14259321,"display_name":"Luboš H&#225;jek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77093649,"answer_count":1,"score":0,"last_activity_date":1695044622,"creation_date":1694522369,"question_id":77089205,"body_markdown":"I&#39;m currently experiencing difficulties accessing http://ta-lib.org . For curl command, and I receive the following error:\r\n\r\n```\r\ncurl http://ta-lib.org --show-error\r\n&gt; curl: (6) Could not resolve host: ta-lib.org\r\n```\r\n\r\n\r\nIs there any problem on my machine / country? Or does anyone have any info what happened?\r\n\r\nI need a ta-lib for my kotlin project, can anyone recommend a library?\r\n\r\n\r\n**EDIT:** https://ta-lib.github.io current pages","title":"Trouble Accessing ta-lib.org","body":"<p>I'm currently experiencing difficulties accessing <a href=\"http://ta-lib.org\" rel=\"nofollow noreferrer\">http://ta-lib.org</a> . For curl command, and I receive the following error:</p>\n<pre><code>curl http://ta-lib.org --show-error\n&gt; curl: (6) Could not resolve host: ta-lib.org\n</code></pre>\n<p>Is there any problem on my machine / country? Or does anyone have any info what happened?</p>\n<p>I need a ta-lib for my kotlin project, can anyone recommend a library?</p>\n<p><strong>EDIT:</strong> <a href=\"https://ta-lib.github.io\" rel=\"nofollow noreferrer\">https://ta-lib.github.io</a> current pages</p>\n"},{"tags":["java","ios","angular","manifest"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695068823,"post_id":77127761,"comment_id":135972297,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23087817,"reputation":1,"user_id":17199082,"display_name":"bcrespo00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695044577,"creation_date":1695044577,"question_id":77127761,"body_markdown":"I&#39;m working on an app that is used to distribute apps to users in my company. The problem comes to not know how to authenticate the request to the backend of the manifest of the ios app so that the authenticated user can download it. The manifest and ipa are in a MySQL database and i want to get it by a angular+spring boot request. The backend give 401 error code.\r\n\r\nIf i set the request without authorization, i can install without problem, but i need to authorize the request\r\n\r\nThe html code looks as:\r\n```\r\n&lt;ion-button [href]=&quot;itms-services://?action=download-manifest&amp;url=myurl.com/download.ipa&quot;&gt; Download&lt;/ion-button&gt;\r\n```\r\n\r\n\r\nI tried of make an angular request but the url of the file is not valid","title":"How to authenticate itms-services://?action=download-manifest&amp;url= Angular+Spring Boot","body":"<p>I'm working on an app that is used to distribute apps to users in my company. The problem comes to not know how to authenticate the request to the backend of the manifest of the ios app so that the authenticated user can download it. The manifest and ipa are in a MySQL database and i want to get it by a angular+spring boot request. The backend give 401 error code.</p>\n<p>If i set the request without authorization, i can install without problem, but i need to authorize the request</p>\n<p>The html code looks as:</p>\n<pre><code>&lt;ion-button [href]=&quot;itms-services://?action=download-manifest&amp;url=myurl.com/download.ipa&quot;&gt; Download&lt;/ion-button&gt;\n</code></pre>\n<p>I tried of make an angular request but the url of the file is not valid</p>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1694526359,"post_id":77089308,"comment_id":135900458,"body_markdown":"What does `Mapstruct 1.4.2Final together with Swagger.io Openapi V3.0` mean?","body":"What does <code>Mapstruct 1.4.2Final together with Swagger.io Openapi V3.0</code> mean?"},{"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"score":0,"creation_date":1694526491,"post_id":77089308,"comment_id":135900484,"body_markdown":"@MaksimEliseev ah, sorry, I mistakenly thought we used Mapstruct annotations in combination with openapi v3.0. I have edited the question, thank you","body":"@MaksimEliseev ah, sorry, I mistakenly thought we used Mapstruct annotations in combination with openapi v3.0. I have edited the question, thank you"},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1694526975,"post_id":77089308,"comment_id":135900624,"body_markdown":"How do you create an openapi file? What are you using?","body":"How do you create an openapi file? What are you using?"}],"answers":[{"tags":[],"owner":{"account_id":1380512,"reputation":110,"user_id":7388422,"display_name":"Shant Khayalian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694526995,"creation_date":1694526995,"answer_id":77089820,"question_id":77089308,"body_markdown":"In Swagger (OpenAPI) version 3.0, the default media type for response content is */*, which means it can represent any media type. However, if you want to set a default response media type to application/json for all responses without explicitly specifying it for each response, you can achieve this by defining a global response in your OpenAPI specification.\r\n\r\nHere&#39;s how you can do it in your OpenAPI YAML file:\r\n\r\n    openapi: 3.0.0\r\n    info:\r\n      title: Your API\r\n      version: 1.0.0\r\n    paths:\r\n      /your-endpoint:\r\n        get:\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: Successful response\r\n              content:\r\n                application/json:   # Set the default media type here\r\n                  schema:\r\n                    type: object   # Adjust this schema definition accordingly\r\n            # Add other response codes here as needed\r\n\r\nBy defining the application/json media type under the content section in the responses section of your endpoint, you establish it as the default media type for the 200 response. You can do this for other response codes as needed.\r\n\r\nThis approach allows you to set a default media type for specific response codes without needing to specify it individually for each endpoint.\r\n\r\nHope I was helpful.\r\n","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p>In Swagger (OpenAPI) version 3.0, the default media type for response content is <em>/</em>, which means it can represent any media type. However, if you want to set a default response media type to application/json for all responses without explicitly specifying it for each response, you can achieve this by defining a global response in your OpenAPI specification.</p>\n<p>Here's how you can do it in your OpenAPI YAML file:</p>\n<pre><code>openapi: 3.0.0\ninfo:\n  title: Your API\n  version: 1.0.0\npaths:\n  /your-endpoint:\n    get:\n      responses:\n        '200':\n          description: Successful response\n          content:\n            application/json:   # Set the default media type here\n              schema:\n                type: object   # Adjust this schema definition accordingly\n        # Add other response codes here as needed\n</code></pre>\n<p>By defining the application/json media type under the content section in the responses section of your endpoint, you establish it as the default media type for the 200 response. You can do this for other response codes as needed.</p>\n<p>This approach allows you to set a default media type for specific response codes without needing to specify it individually for each endpoint.</p>\n<p>Hope I was helpful.</p>\n"},{"tags":[],"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695043967,"creation_date":1694613692,"answer_id":77097818,"question_id":77089308,"body_markdown":"**EDIT**\r\n\r\nwhile swagger-core does not currently have this feature, an alternative is to use JAX-RS and define @Produces(&quot;your/mediaType&quot;) on a class level.\r\nSee: https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html\r\n\r\nSince openapi/swagger-core works with JAX-RS annotations but not the other way around, this still works for generating the openapi.yaml\r\n\r\n**OLD POST**\r\n\r\nThe specific feature I was looking for has been requested to be implemented in OpenAPI ca. 2015\r\nhttps://github.com/OAI/OpenAPI-Specification/issues/521\r\n\r\nThis is one of the threads describing the need for the feature. It seems implementation of that feature might come in OpenAPI v4.0, but not confirmed yet","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p><strong>EDIT</strong></p>\n<p>while swagger-core does not currently have this feature, an alternative is to use JAX-RS and define @Produces(&quot;your/mediaType&quot;) on a class level.\nSee: <a href=\"https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19798-01/821-1841/gipzh/index.html</a></p>\n<p>Since openapi/swagger-core works with JAX-RS annotations but not the other way around, this still works for generating the openapi.yaml</p>\n<p><strong>OLD POST</strong></p>\n<p>The specific feature I was looking for has been requested to be implemented in OpenAPI ca. 2015\n<a href=\"https://github.com/OAI/OpenAPI-Specification/issues/521\" rel=\"nofollow noreferrer\">https://github.com/OAI/OpenAPI-Specification/issues/521</a></p>\n<p>This is one of the threads describing the need for the feature. It seems implementation of that feature might come in OpenAPI v4.0, but not confirmed yet</p>\n"}],"owner":{"account_id":28820457,"reputation":21,"user_id":22073069,"display_name":"Charlie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77097818,"answer_count":2,"score":2,"last_activity_date":1695043967,"creation_date":1694523157,"question_id":77089308,"body_markdown":"I am using Swagger.io Openapi V3.0\r\n\r\nThe generated openapi.yaml file declares the response content media type as `*/*` per default.\r\nI would like the default response content media type to be `application/json`\r\n\r\n\r\nI am aware that you can manually change the media type per response by doing:\r\n\r\n```\r\n@ApiResponse(description = &quot;test&quot;\r\n        , content = @Content(\r\n            mediaType = &quot;application/json&quot;,\r\n            schema = @Schema(\r\n                implementation = Test.class\r\n            )\r\n        )\r\n    )\r\n```\r\nBut this approach is not optimal, since there are many responses that would need to be modified.\r\n\r\nIs there a way to change mapstruct/openapi default media type?","title":"Swagger.io OpenApi v3.0 declare default media type","body":"<p>I am using Swagger.io Openapi V3.0</p>\n<p>The generated openapi.yaml file declares the response content media type as <code>*/*</code> per default.\nI would like the default response content media type to be <code>application/json</code></p>\n<p>I am aware that you can manually change the media type per response by doing:</p>\n<pre><code>@ApiResponse(description = &quot;test&quot;\n        , content = @Content(\n            mediaType = &quot;application/json&quot;,\n            schema = @Schema(\n                implementation = Test.class\n            )\n        )\n    )\n</code></pre>\n<p>But this approach is not optimal, since there are many responses that would need to be modified.</p>\n<p>Is there a way to change mapstruct/openapi default media type?</p>\n"},{"tags":["java","android","kotlin","android-13"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695043884,"post_id":77127585,"comment_id":135967487,"body_markdown":"There is no requirement that the user picks something that you can access via the filesystem. Focus instead on using the `Uri` itself for whatever it is that you are trying to do. Most common uses, such as displaying the image or uploading it, do not require a `File`.","body":"There is no requirement that the user picks something that you can access via the filesystem. Focus instead on using the <code>Uri</code> itself for whatever it is that you are trying to do. Most common uses, such as displaying the image or uploading it, do not require a <code>File</code>."},{"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"score":0,"creation_date":1695044770,"post_id":77127585,"comment_id":135967713,"body_markdown":"I need to save this uri to file because crop and compress will do on image so user can use that image wherever they want.","body":"I need to save this uri to file because crop and compress will do on image so user can use that image wherever they want."},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695044940,"post_id":77127585,"comment_id":135967749,"body_markdown":"If you want to save a copy of the content, use `ContentResolver` and `openInputStream()` to get an `InputStream` on the content identified by the `Uri`. Then, you can copy the bytes to some file that you control (e.g., in `getFilesDir()`).","body":"If you want to save a copy of the content, use <code>ContentResolver</code> and <code>openInputStream()</code> to get an <code>InputStream</code> on the content identified by the <code>Uri</code>. Then, you can copy the bytes to some file that you control (e.g., in <code>getFilesDir()</code>)."},{"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"score":0,"creation_date":1695104465,"post_id":77127585,"comment_id":135975624,"body_markdown":"@CommonsWare Do you have example for that ? Any link about your last comment would be appreciate . Thanks","body":"@CommonsWare Do you have example for that ? Any link about your last comment would be appreciate . Thanks"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1695120610,"post_id":77127585,"comment_id":135978806,"body_markdown":"The linked-to duplicates demonstrate that, such as [this answer](https://stackoverflow.com/a/62154537/115145).","body":"The linked-to duplicates demonstrate that, such as <a href=\"https://stackoverflow.com/a/62154537/115145\">this answer</a>."}],"owner":{"account_id":28368474,"reputation":29,"user_id":21697453,"display_name":"BQF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695043748,"answer_count":0,"score":0,"last_activity_date":1695043810,"creation_date":1695043234,"question_id":77127585,"body_markdown":"Convert URI into file and code should support android 7 to android 13.\r\n\r\n\r\n    `val pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\r\n        // Callback is invoked after the user selects a media item or closes the\r\n        // photo picker.\r\n        if (uri != null) {\r\n            \r\n            Log.e(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\r\n        } else {\r\n            Log.e(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\r\n        }\r\n    }`\r\n\r\n\r\n\r\nI tried `uri.toFile()` but it&#39;s gives an error **java.lang.IllegalArgumentException: Uri lacks &#39;file&#39; scheme: content://media/external/images/media/8596** \r\n\r\n\r\n\r\nHow to convert uri into file which can support all android version?","title":"How to convert File from URI in android?","body":"<p>Convert URI into file and code should support android 7 to android 13.</p>\n<pre><code>`val pickMedia = registerForActivityResult(ActivityResultContracts.PickVisualMedia()) { uri -&gt;\n    // Callback is invoked after the user selects a media item or closes the\n    // photo picker.\n    if (uri != null) {\n        \n        Log.e(&quot;PhotoPicker&quot;, &quot;Selected URI: $uri&quot;)\n    } else {\n        Log.e(&quot;PhotoPicker&quot;, &quot;No media selected&quot;)\n    }\n}`\n</code></pre>\n<p>I tried <code>uri.toFile()</code> but it's gives an error <strong>java.lang.IllegalArgumentException: Uri lacks 'file' scheme: content://media/external/images/media/8596</strong></p>\n<p>How to convert uri into file which can support all android version?</p>\n"},{"tags":["java","spring","service","naming","resolver"],"answers":[{"tags":[],"owner":{"account_id":9268493,"reputation":16,"user_id":6883285,"display_name":"rogerdrums"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1695042650,"creation_date":1695042650,"answer_id":77127512,"question_id":77127403,"body_markdown":"Services are responsible for performing complex operations, interacting with the database or other external services, orchestrating data processing, and managing the application&#39;s flow logic.\r\nResolvers can be used to address technical details or specific tasks, such as handling special situation or parameter mapping or performing conversions in a Spring application.","title":"What is the difference between Resolver and Service in java","body":"<p>Services are responsible for performing complex operations, interacting with the database or other external services, orchestrating data processing, and managing the application's flow logic.\nResolvers can be used to address technical details or specific tasks, such as handling special situation or parameter mapping or performing conversions in a Spring application.</p>\n"}],"owner":{"account_id":24094543,"reputation":29,"user_id":18067284,"display_name":"user"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1695045901,"accepted_answer_id":77127512,"answer_count":1,"score":-1,"last_activity_date":1695042650,"creation_date":1695041757,"question_id":77127403,"body_markdown":"I have a general question , i noticed that some people are naming classes as Resolver in spring boot application , but in functionality it os the same as in services , the only difference is the naming.\r\nIs there some sort of rules where i sould apply one of this namings , or it doesn`t matter\r\nFor example if class is only responsible for retrieving data from API, it sould be named as \r\n**SomeSortApiResolver** or  **SomeSortApiService**?","title":"What is the difference between Resolver and Service in java","body":"<p>I have a general question , i noticed that some people are naming classes as Resolver in spring boot application , but in functionality it os the same as in services , the only difference is the naming.\nIs there some sort of rules where i sould apply one of this namings , or it doesn`t matter\nFor example if class is only responsible for retrieving data from API, it sould be named as\n<strong>SomeSortApiResolver</strong> or  <strong>SomeSortApiService</strong>?</p>\n"},{"tags":["java","selenium-chromedriver"],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695042481,"creation_date":1695042481,"question_id":77127488,"body_markdown":"I am using chromedriver to automated crawling. When I invoke method like `findElements` or `switchTo().frame(frame)`, the program seems to be blocked, and the page in the browser looks normal, but there is nothing in the `Elements` tag of DevTools.\r\n\r\n    public class WebDoc {\r\n    \r\n        public static WebElement findElement(WebDriver driver, SearchContext context, By by) {\r\n            List&lt;WebElement&gt; elements = findElements(driver, context, by);\r\n            if (elements.isEmpty()) {\r\n                throw new RuntimeException(String.format(&quot;element not found: &#39;%s&#39;&quot;, by));\r\n            }\r\n            return elements.get(0);\r\n        }\r\n    \r\n        public static List&lt;WebElement&gt; findElements(WebDriver driver, SearchContext context, By by) {\r\n            driver.manage().timeouts().implicitlyWait(Duration.ZERO);\r\n            WebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(4_000));\r\n            wait.until(ExpectedConditions.presenceOfElementLocated(by));\r\n            try {\r\n                long start = System.currentTimeMillis();\r\n                List&lt;WebElement&gt; elements = context.findElements(by);\r\n                System.out.printf(&quot;spend: &#39;%s ms&#39;, by: &#39;%s&#39;%n%n&quot;, (System.currentTimeMillis() - start), by);\r\n                return elements;\r\n            } finally {\r\n                driver.manage().timeouts().implicitlyWait(Duration.ofMillis(30_000));\r\n            }\r\n        }\r\n    \r\n        public static void sleep(long millis) {\r\n            try {\r\n                Thread.sleep(millis);\r\n            } catch (InterruptedException ignored) {\r\n            }\r\n        }\r\n    \r\n        public static WebDriver driver() {\r\n            System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;/Users/xxx/chromedriver/chromedriver_117&quot;);\r\n            ChromeOptions options = new ChromeOptions();\r\n    //        options.addArguments(&quot;--headless&quot;);\r\n            options.addArguments(&quot;--incognito&quot;);\r\n            options.addArguments(&quot;--no-sandbox&quot;);\r\n            options.addArguments(&quot;--disable-gpu&quot;);\r\n            options.addArguments(&quot;--disable-infobars&quot;);\r\n            options.addArguments(&quot;--disable-extensions&quot;);\r\n            options.addArguments(&quot;--window-size=1366,768&quot;);\r\n            options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n            options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\r\n            options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\r\n    \r\n            options.addArguments(&quot;--lang=zh-CN,zh,en&quot;);\r\n            options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&quot;);\r\n    \r\n            options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n            options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\n            // i have tried other strategy and timeout values\r\n            options.setPageLoadStrategy(PageLoadStrategy.NONE);\r\n            options.setScriptTimeout(Duration.ofMillis(30_000));\r\n            options.setPageLoadTimeout(Duration.ofMillis(60_000));\r\n            options.setImplicitWaitTimeout(Duration.ofMillis(30_000));\r\n            ChromeDriver driver = new ChromeDriver(ChromeDriverService.createDefaultService(), options);\r\n            return driver;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            WebDriver driver = driver();\r\n            try {\r\n                driver.get(&quot;https://music.163.com/#/song?id=17933856&quot;);\r\n                // wait the website load complete\r\n                sleep(10_000);\r\n                // iframe#g_iframe; most spend time over 10s\r\n                WebElement frame = findElement(driver, driver, By.tagName(&quot;iframe&quot;));\r\n                // the time spent is several times longer than the above\r\n                driver.switchTo().frame(frame);\r\n                // ... things i want to do\r\n            } finally {\r\n                driver.quit();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n - OS: Apple M2 Pro\r\n - JDK: 8\r\n - chromedriver: 4.12.1\r\n - chrome: 117\r\n\r\nIs one or all of my options or usage wrong?","title":"chromedriver seems to be blocked","body":"<p>I am using chromedriver to automated crawling. When I invoke method like <code>findElements</code> or <code>switchTo().frame(frame)</code>, the program seems to be blocked, and the page in the browser looks normal, but there is nothing in the <code>Elements</code> tag of DevTools.</p>\n<pre><code>public class WebDoc {\n\n    public static WebElement findElement(WebDriver driver, SearchContext context, By by) {\n        List&lt;WebElement&gt; elements = findElements(driver, context, by);\n        if (elements.isEmpty()) {\n            throw new RuntimeException(String.format(&quot;element not found: '%s'&quot;, by));\n        }\n        return elements.get(0);\n    }\n\n    public static List&lt;WebElement&gt; findElements(WebDriver driver, SearchContext context, By by) {\n        driver.manage().timeouts().implicitlyWait(Duration.ZERO);\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(4_000));\n        wait.until(ExpectedConditions.presenceOfElementLocated(by));\n        try {\n            long start = System.currentTimeMillis();\n            List&lt;WebElement&gt; elements = context.findElements(by);\n            System.out.printf(&quot;spend: '%s ms', by: '%s'%n%n&quot;, (System.currentTimeMillis() - start), by);\n            return elements;\n        } finally {\n            driver.manage().timeouts().implicitlyWait(Duration.ofMillis(30_000));\n        }\n    }\n\n    public static void sleep(long millis) {\n        try {\n            Thread.sleep(millis);\n        } catch (InterruptedException ignored) {\n        }\n    }\n\n    public static WebDriver driver() {\n        System.setProperty(ChromeDriverService.CHROME_DRIVER_EXE_PROPERTY, &quot;/Users/xxx/chromedriver/chromedriver_117&quot;);\n        ChromeOptions options = new ChromeOptions();\n//        options.addArguments(&quot;--headless&quot;);\n        options.addArguments(&quot;--incognito&quot;);\n        options.addArguments(&quot;--no-sandbox&quot;);\n        options.addArguments(&quot;--disable-gpu&quot;);\n        options.addArguments(&quot;--disable-infobars&quot;);\n        options.addArguments(&quot;--disable-extensions&quot;);\n        options.addArguments(&quot;--window-size=1366,768&quot;);\n        options.addArguments(&quot;--disable-dev-shm-usage&quot;);\n        options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\n        options.addArguments(&quot;--disable-blink-features=AutomationControlled&quot;);\n\n        options.addArguments(&quot;--lang=zh-CN,zh,en&quot;);\n        options.addArguments(&quot;--user-agent=Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/117.0.0.0 Safari/537.36&quot;);\n\n        options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n        options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\n        // i have tried other strategy and timeout values\n        options.setPageLoadStrategy(PageLoadStrategy.NONE);\n        options.setScriptTimeout(Duration.ofMillis(30_000));\n        options.setPageLoadTimeout(Duration.ofMillis(60_000));\n        options.setImplicitWaitTimeout(Duration.ofMillis(30_000));\n        ChromeDriver driver = new ChromeDriver(ChromeDriverService.createDefaultService(), options);\n        return driver;\n    }\n\n    public static void main(String[] args) {\n        WebDriver driver = driver();\n        try {\n            driver.get(&quot;https://music.163.com/#/song?id=17933856&quot;);\n            // wait the website load complete\n            sleep(10_000);\n            // iframe#g_iframe; most spend time over 10s\n            WebElement frame = findElement(driver, driver, By.tagName(&quot;iframe&quot;));\n            // the time spent is several times longer than the above\n            driver.switchTo().frame(frame);\n            // ... things i want to do\n        } finally {\n            driver.quit();\n        }\n    }\n\n}\n</code></pre>\n<ul>\n<li>OS: Apple M2 Pro</li>\n<li>JDK: 8</li>\n<li>chromedriver: 4.12.1</li>\n<li>chrome: 117</li>\n</ul>\n<p>Is one or all of my options or usage wrong?</p>\n"},{"tags":["java","fxml","openjfx"],"answers":[{"tags":[],"owner":{"account_id":23695923,"reputation":39,"user_id":17719642,"display_name":"user17719642"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695042238,"creation_date":1694840042,"answer_id":77116383,"question_id":77114039,"body_markdown":"Fixed the problem from https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920\r\n\r\n&gt; I also get the same error in Linux (Arch). For fixing the issue: remove the javafx {} block at the end of build.gradle. That part is actually restricting the packages.","title":"Failed to load Glass factory class : Keep on Getting this error for Linux and some mac os machine but works fine otherwise","body":"<p>Fixed the problem from <a href=\"https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920\" rel=\"nofollow noreferrer\">https://github.com/nus-cs2103-AY2223S1/forum/issues/213#issuecomment-1249046920</a></p>\n<blockquote>\n<p>I also get the same error in Linux (Arch). For fixing the issue: remove the javafx {} block at the end of build.gradle. That part is actually restricting the packages.</p>\n</blockquote>\n"}],"owner":{"account_id":23695923,"reputation":39,"user_id":17719642,"display_name":"user17719642"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695042238,"creation_date":1694795685,"question_id":77114039,"body_markdown":"I made a Jar file on Intellij, and I was able to make it run in Windows and some MacOS but not otherwise (so some MacOS and Linux wont work)\r\n\r\nWhat i have done : \r\n1. Change the `javafx` version from 17 to 11.\r\n2. Added the `module-info.java` and add java controls and fxml\r\nContext this is my `build.gradle` file\r\n```\r\nplugins {\r\n    id &#39;checkstyle&#39;\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39; version &#39;7.1.2&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-api&#39;, version: &#39;5.10.0&#39;\r\n    testRuntimeOnly group: &#39;org.junit.jupiter&#39;, name: &#39;junit-jupiter-engine&#39;, version: &#39;5.10.0&#39;\r\n\r\n    String javaFxVersion = &#39;17.0.8&#39;\r\n\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-base&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-controls&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-fxml&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;win&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;mac&#39;\r\n    implementation group: &#39;org.openjfx&#39;, name: &#39;javafx-graphics&#39;, version: javaFxVersion, classifier: &#39;linux&#39;\r\n\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {\r\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n\r\n        showExceptions true\r\n        exceptionFormat &quot;full&quot;\r\n        showCauses true\r\n        showStackTraces true\r\n        showStandardStreams = false\r\n    }\r\n}\r\n\r\njavafx {\r\n    version = &#39;17&#39;\r\n    modules = [ &#39;javafx.controls&#39;, &#39;javafx.fxml&#39; ]\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;seedu.Launcher&quot;)\r\n}\r\n\r\nshadowJar {\r\n    archiveBaseName = &quot;duke&quot;\r\n    archiveClassifier = null\r\n    dependsOn(&quot;distZip&quot;, &quot;distTar&quot;)\r\n}\r\n\r\ncheckstyle {\r\n    toolVersion = &#39;10.2&#39;\r\n}\r\n\r\nrun {\r\n    standardInput = System.in\r\n}\r\n\r\n```\r\n\r\n\r\nJava version i am using is 11\r\n\r\n```\r\nSep 16, 2023 12:08:25 AM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @6712f432&#39;\r\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:315)\r\n        at com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\r\n        at com.sun.glass.ui.Application.run(Application.java:146)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\nFailed to load Glass factory class\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n        at com.sun.glass.ui.Application.run(Application.java:146)\r\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\r\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\r\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\r\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\r\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n```","title":"Failed to load Glass factory class : Keep on Getting this error for Linux and some mac os machine but works fine otherwise","body":"<p>I made a Jar file on Intellij, and I was able to make it run in Windows and some MacOS but not otherwise (so some MacOS and Linux wont work)</p>\n<p>What i have done :</p>\n<ol>\n<li>Change the <code>javafx</code> version from 17 to 11.</li>\n<li>Added the <code>module-info.java</code> and add java controls and fxml\nContext this is my <code>build.gradle</code> file</li>\n</ol>\n<pre><code>plugins {\n    id 'checkstyle'\n    id 'java'\n    id 'application'\n    id 'com.github.johnrengelman.shadow' version '7.1.2'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation group: 'org.junit.jupiter', name: 'junit-jupiter-api', version: '5.10.0'\n    testRuntimeOnly group: 'org.junit.jupiter', name: 'junit-jupiter-engine', version: '5.10.0'\n\n    String javaFxVersion = '17.0.8'\n\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-base', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-controls', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-fxml', version: javaFxVersion, classifier: 'linux'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'win'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'mac'\n    implementation group: 'org.openjfx', name: 'javafx-graphics', version: javaFxVersion, classifier: 'linux'\n\n}\n\ntest {\n    useJUnitPlatform()\n\n    testLogging {\n        events &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n\n        showExceptions true\n        exceptionFormat &quot;full&quot;\n        showCauses true\n        showStackTraces true\n        showStandardStreams = false\n    }\n}\n\njavafx {\n    version = '17'\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n\napplication {\n    mainClass.set(&quot;seedu.Launcher&quot;)\n}\n\nshadowJar {\n    archiveBaseName = &quot;duke&quot;\n    archiveClassifier = null\n    dependsOn(&quot;distZip&quot;, &quot;distTar&quot;)\n}\n\ncheckstyle {\n    toolVersion = '10.2'\n}\n\nrun {\n    standardInput = System.in\n}\n\n</code></pre>\n<p>Java version i am using is 11</p>\n<pre><code>Sep 16, 2023 12:08:25 AM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @6712f432'\njava.lang.ClassNotFoundException: com.sun.glass.ui.gtk.GtkPlatformFactory\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:315)\n        at com.sun.glass.ui.PlatformFactory.getPlatformFactory(PlatformFactory.java:42)\n        at com.sun.glass.ui.Application.run(Application.java:146)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nFailed to load Glass factory class\nException in thread &quot;main&quot; java.lang.NullPointerException\n        at com.sun.glass.ui.Application.run(Application.java:146)\n        at com.sun.javafx.tk.quantum.QuantumToolkit.startup(QuantumToolkit.java:291)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:293)\n        at com.sun.javafx.application.PlatformImpl.startup(PlatformImpl.java:163)\n        at com.sun.javafx.application.LauncherImpl.startToolkit(LauncherImpl.java:659)\n        at com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:679)\n        at com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:196)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-ec2","aws-sdk"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1695043442,"post_id":77127408,"comment_id":135967383,"body_markdown":"Was the S3 bucket created shortly before this test was run?","body":"Was the S3 bucket created shortly before this test was run?"},{"owner":{"account_id":19186196,"reputation":191,"user_id":14016935,"display_name":"Sanket Vidwans"},"score":0,"creation_date":1695045520,"post_id":77127408,"comment_id":135967869,"body_markdown":"Nope bucket is created on 17th March 2023","body":"Nope bucket is created on 17th March 2023"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1695046594,"post_id":77127408,"comment_id":135968111,"body_markdown":"See [How do I troubleshoot the UnknownHostException error in my Java application?](https://repost.aws/knowledge-center/route-53-fix-unknownhostexception-error)","body":"See <a href=\"https://repost.aws/knowledge-center/route-53-fix-unknownhostexception-error\" rel=\"nofollow noreferrer\">How do I troubleshoot the UnknownHostException error in my Java application?</a>"}],"owner":{"account_id":19186196,"reputation":191,"user_id":14016935,"display_name":"Sanket Vidwans"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695041775,"creation_date":1695041775,"question_id":77127408,"body_markdown":"Getting  java.net.UnknownHostException: **bucketName.s3.ap-south-1.amazonaws.com** exception while uploading file to S3\r\n\r\nBelow is our code snippet to connect to Amazon S3 and uploading file to S3, we are getting below exception for file uploads \r\n\r\nCaught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.Error Message: Unable to execute HTTP request: **bucketName.s3.ap-south-1.amazonaws.com**\r\ncom.amazonaws.SdkClientException: Unable to execute HTTP request:\r\n\r\n**Caused by: java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com**\r\n\r\n\r\nThis exception is observed in between and gets resolved on war redeploy or sometimes gets resolved automatically, not able to find root cause ,please help.\r\nWe are using 1.12.305 AWS Java SDK.\r\n\r\nIs it code side issue ? Is it DNS related issue ? Is it AWS related issue ?\r\n\r\n    public static AmazonS3 connectToAmazonS3(String accessKeyID, String secretAccessKey) {\r\n    \r\n    \t\tLOGGER.info(&quot;Connect to the amazon s3 service using the credentials&quot;);\r\n    \t\ttry {\r\n    \t\t\tfinal BasicAWSCredentials awsCreds = new BasicAWSCredentials(accessKeyID, secretAccessKey);\r\n    \r\n    \t\t\tfinal AmazonS3 s3Client = new AmazonS3Client(awsCreds);\r\n    \t\t\tLOGGER.info(&quot;Successfully connected to Amazon S3 service&quot;);\r\n    \r\n    \t\t\treturn s3Client;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error occured while connecting to Amazon S3 service&quot; + e, e);\r\n    \t\t}\r\n    \r\n    \t\tLOGGER.info(&quot;Connection not established with Amazon S3 service&quot;);\r\n    \t\treturn null;\r\n    \t}\r\n\r\n\t\r\n\r\n    public static void uploadFileToAmazonS3(final AmazonS3 s3Client, final String bucketName, final String keyName, String cmdStr) {\r\n    \t\tLOGGER.info(&quot;Started upload file to Amazon S3 for key: &quot; + keyName);\r\n    \r\n    \t\ttry {\r\n    \t\t\tbyte[] contentAsBytes = cmdStr.getBytes(EPSCommonConstants.CHARSET_UTF8);\r\n    \t\t\tByteArrayInputStream contentAsStream = new ByteArrayInputStream(contentAsBytes);\r\n    \r\n    \t\t\tObjectMetadata metadata = new ObjectMetadata();\r\n    \t\t\tmetadata.setContentLength(contentAsBytes.length);\r\n    \r\n    \t\t\tPutObjectRequest req = new PutObjectRequest(bucketName, keyName, contentAsStream, metadata);\r\n    \t\t\ts3Client.putObject(req);\r\n    \r\n    \t\t} catch (AmazonServiceException ase) {\r\n    \r\n    \t\t\tLOGGER.error(&quot;Caught an AmazonServiceException, which &quot; + &quot;means your request made it &quot;\r\n    \t\t\t\t\t+ &quot;to Amazon S3, but was rejected with an error response&quot; + &quot; for some reason.&quot;, ase);\r\n    \r\n    \t\t\tLOGGER.error(&quot;Error Message:    &quot; + ase.getMessage() + &quot; &quot; + &quot;HTTP Status Code: &quot; + ase.getStatusCode()\r\n    \t\t\t\t\t+ &quot; &quot; + &quot;AWS Error Code:   &quot; + ase.getErrorCode() + &quot; &quot; + &quot;Error Type:       &quot; + ase.getErrorType()\r\n    \t\t\t\t\t+ &quot; &quot; + &quot;Request ID:       &quot; + ase.getRequestId());\r\n    \t\t} catch (AmazonClientException ace) {\r\n    \t\t\tLOGGER.error(\r\n    \t\t\t\t\t&quot;Caught an AmazonClientException, which &quot; + &quot;means the client encountered &quot;\r\n    \t\t\t\t\t\t\t+ &quot;an internal error while trying to &quot; + &quot;communicate with S3, &quot;\r\n    \t\t\t\t\t\t\t+ &quot;such as not being able to access the network.&quot; + &quot;Error Message: &quot; + ace.getMessage(),\r\n    \t\t\t\t\tace);\r\n    \t\t} catch (IOException ioe) {\r\n    \t\t\tLOGGER.error(&quot;Caught an IOException Error Message: &quot; + ioe.getMessage(), ioe);\r\n    \t\t}\r\n    \t}","title":"Getting java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com exception while uplaoding file to S3","body":"<p>Getting  java.net.UnknownHostException: <strong>bucketName.s3.ap-south-1.amazonaws.com</strong> exception while uploading file to S3</p>\n<p>Below is our code snippet to connect to Amazon S3 and uploading file to S3, we are getting below exception for file uploads</p>\n<p>Caught an AmazonClientException, which means the client encountered an internal error while trying to communicate with S3, such as not being able to access the network.Error Message: Unable to execute HTTP request: <strong>bucketName.s3.ap-south-1.amazonaws.com</strong>\ncom.amazonaws.SdkClientException: Unable to execute HTTP request:</p>\n<p><strong>Caused by: java.net.UnknownHostException: bucketName.s3.ap-south-1.amazonaws.com</strong></p>\n<p>This exception is observed in between and gets resolved on war redeploy or sometimes gets resolved automatically, not able to find root cause ,please help.\nWe are using 1.12.305 AWS Java SDK.</p>\n<p>Is it code side issue ? Is it DNS related issue ? Is it AWS related issue ?</p>\n<pre><code>public static AmazonS3 connectToAmazonS3(String accessKeyID, String secretAccessKey) {\n\n        LOGGER.info(&quot;Connect to the amazon s3 service using the credentials&quot;);\n        try {\n            final BasicAWSCredentials awsCreds = new BasicAWSCredentials(accessKeyID, secretAccessKey);\n\n            final AmazonS3 s3Client = new AmazonS3Client(awsCreds);\n            LOGGER.info(&quot;Successfully connected to Amazon S3 service&quot;);\n\n            return s3Client;\n        } catch (Exception e) {\n            LOGGER.error(&quot;Error occured while connecting to Amazon S3 service&quot; + e, e);\n        }\n\n        LOGGER.info(&quot;Connection not established with Amazon S3 service&quot;);\n        return null;\n    }\n\n\n\npublic static void uploadFileToAmazonS3(final AmazonS3 s3Client, final String bucketName, final String keyName, String cmdStr) {\n        LOGGER.info(&quot;Started upload file to Amazon S3 for key: &quot; + keyName);\n\n        try {\n            byte[] contentAsBytes = cmdStr.getBytes(EPSCommonConstants.CHARSET_UTF8);\n            ByteArrayInputStream contentAsStream = new ByteArrayInputStream(contentAsBytes);\n\n            ObjectMetadata metadata = new ObjectMetadata();\n            metadata.setContentLength(contentAsBytes.length);\n\n            PutObjectRequest req = new PutObjectRequest(bucketName, keyName, contentAsStream, metadata);\n            s3Client.putObject(req);\n\n        } catch (AmazonServiceException ase) {\n\n            LOGGER.error(&quot;Caught an AmazonServiceException, which &quot; + &quot;means your request made it &quot;\n                    + &quot;to Amazon S3, but was rejected with an error response&quot; + &quot; for some reason.&quot;, ase);\n\n            LOGGER.error(&quot;Error Message:    &quot; + ase.getMessage() + &quot; &quot; + &quot;HTTP Status Code: &quot; + ase.getStatusCode()\n                    + &quot; &quot; + &quot;AWS Error Code:   &quot; + ase.getErrorCode() + &quot; &quot; + &quot;Error Type:       &quot; + ase.getErrorType()\n                    + &quot; &quot; + &quot;Request ID:       &quot; + ase.getRequestId());\n        } catch (AmazonClientException ace) {\n            LOGGER.error(\n                    &quot;Caught an AmazonClientException, which &quot; + &quot;means the client encountered &quot;\n                            + &quot;an internal error while trying to &quot; + &quot;communicate with S3, &quot;\n                            + &quot;such as not being able to access the network.&quot; + &quot;Error Message: &quot; + ace.getMessage(),\n                    ace);\n        } catch (IOException ioe) {\n            LOGGER.error(&quot;Caught an IOException Error Message: &quot; + ioe.getMessage(), ioe);\n        }\n    }\n</code></pre>\n"},{"tags":["java","css","spring","intellij-idea","bootstrap-5"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":1,"creation_date":1695041546,"post_id":77127354,"comment_id":135966977,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":0,"creation_date":1695041634,"post_id":77127354,"comment_id":135966995,"body_markdown":"Have you verified whether the browser is able to _load_ your custom CSS from the URL you specified, in the first place? Check browser console &amp; network panel for 404 errors.","body":"Have you verified whether the browser is able to <i>load</i> your custom CSS from the URL you specified, in the first place? Check browser console &amp; network panel for 404 errors."},{"owner":{"account_id":29473482,"reputation":1,"user_id":22585695,"display_name":"sunny k"},"score":0,"creation_date":1695123031,"post_id":77127354,"comment_id":135979206,"body_markdown":"Thanks for your help! The browser console error message helped. My path for the css file wasn&#39;t correct.","body":"Thanks for your help! The browser console error message helped. My path for the css file wasn&#39;t correct."}],"owner":{"account_id":29473482,"reputation":1,"user_id":22585695,"display_name":"sunny k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695041401,"creation_date":1695041401,"question_id":77127354,"body_markdown":"[Picture of intellij idea](https://i.stack.imgur.com/NvR2N.png)\r\nI have been awake for a long time and I&#39;m not sure what I&#39;m doing wrong at this point but my custom css file does not work at all, even if I comment out the bootstrap css. \r\n\r\n\r\n\r\nI have been googling what to do for over an hour and I tried a lot of the recommendations but nothing is working so far. I tried using !important; I had my custom css link both above and below the bootstrap css; I tried adding #spring.web.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/ to my application.properties.\r\n\r\nI have just started using intellij for an assignment and even though editing the css isn&#39;t required, I would still like to figure out how to do it. ","title":"I am trying to override bootstrap css with a custom page but my custom overrides aren&#39;t showing up. My custom css doesn&#39;t work at all","body":"<p><a href=\"https://i.stack.imgur.com/NvR2N.png\" rel=\"nofollow noreferrer\">Picture of intellij idea</a>\nI have been awake for a long time and I'm not sure what I'm doing wrong at this point but my custom css file does not work at all, even if I comment out the bootstrap css.</p>\n<p>I have been googling what to do for over an hour and I tried a lot of the recommendations but nothing is working so far. I tried using !important; I had my custom css link both above and below the bootstrap css; I tried adding #spring.web.resources.static-locations=classpath:/META-INF/resources/,classpath:/resources/,classpath:/static/ to my application.properties.</p>\n<p>I have just started using intellij for an assignment and even though editing the css isn't required, I would still like to figure out how to do it.</p>\n"},{"tags":["java","unit-testing","mocking","mockito","object-construction"],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695041239,"creation_date":1694793478,"answer_id":77113799,"question_id":77112884,"body_markdown":"Some refactorings are less likely than others to cause problems. In this case I would suggest to refactor the class so that the construction of your problematic class can be controlled.\r\n\r\n```\r\nclass MyClass {\r\n    // visible for testing\r\n    static Function&lt;String, Problematic&gt; problematicFactory = Problematic::new;\r\n\r\n    public static void myCode() {\r\n        ThirdPartyLibrary.thirdPartyCode();\r\n        problematicFactory.apply(&quot;this needs to be mocked&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIt should be trivial to verify that this does not change the behavior of your class (you could start your application once and verify that it still works – or you trust that such a minimal change does not cause problems).\r\n\r\nThen in your test, you can change the construction to something else:\r\n\r\n```\r\nclass MockProblematicObjectConstructionTest {\r\n    @Test\r\n    void test() {\r\n        MyClass.problematicFactory = arg =&gt; {\r\n          throw new RuntimeException(&quot;whatever&quot;);\r\n        };\r\n\r\n        MyClass.myCode();\r\n    }\r\n}\r\n```\r\n\r\nEventually, you can then transition your class to use dependency injection via its constructor and hide/encapsulate the field again.","title":"Mocking object construction in unit tests","body":"<p>Some refactorings are less likely than others to cause problems. In this case I would suggest to refactor the class so that the construction of your problematic class can be controlled.</p>\n<pre><code>class MyClass {\n    // visible for testing\n    static Function&lt;String, Problematic&gt; problematicFactory = Problematic::new;\n\n    public static void myCode() {\n        ThirdPartyLibrary.thirdPartyCode();\n        problematicFactory.apply(&quot;this needs to be mocked&quot;);\n    }\n}\n</code></pre>\n<p>It should be trivial to verify that this does not change the behavior of your class (you could start your application once and verify that it still works – or you trust that such a minimal change does not cause problems).</p>\n<p>Then in your test, you can change the construction to something else:</p>\n<pre><code>class MockProblematicObjectConstructionTest {\n    @Test\n    void test() {\n        MyClass.problematicFactory = arg =&gt; {\n          throw new RuntimeException(&quot;whatever&quot;);\n        };\n\n        MyClass.myCode();\n    }\n}\n</code></pre>\n<p>Eventually, you can then transition your class to use dependency injection via its constructor and hide/encapsulate the field again.</p>\n"}],"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77113799,"answer_count":1,"score":0,"last_activity_date":1695041239,"creation_date":1694785482,"question_id":77112884,"body_markdown":"I would like to write unit tests for a class which creates an instance of a problematic class, and I am working under the following constraints:\r\n\r\n1. My class calls some third-party library initialization code.\r\n2. The third-party code creates an instance of the problematic class. This is fine, and I should **not** replace this instance with a mock, in order not to alter the behavior of the third-party library.\r\n3. My class creates an instance of the problematic class. I should mock the object construction; for example, I would make the problematic object constructor throw an exception.\r\n\r\nI am using **Mockito 5.5.0** and **JUnit Jupiter 5.9.3**.\r\n\r\nHere is a fairly minimal example:\r\n\r\n\r\n```\r\nclass Problematic {\r\n\r\n    public Problematic(String description) {\r\n        System.out.println(&quot;Problematic object constructed: &quot; + description);\r\n    }\r\n}\r\n\r\nclass ThirdPartyLibrary {\r\n\r\n    public static void thirdPartyCode() {\r\n        new Problematic(&quot;this is fine&quot;);\r\n    }\r\n}\r\n\r\nclass MyClass {\r\n\r\n    public static void myCode() {\r\n        ThirdPartyLibrary.thirdPartyCode();\r\n        new Problematic(&quot;this needs to be mocked&quot;);\r\n    }\r\n}\r\n\r\nclass MockProblematicObjectConstructionTest {\r\n\r\n    @Test\r\n    void test() {\r\n        try (MockedConstruction mockedProblematic = mockConstruction(Problematic.class, (mock, context) -&gt; {\r\n            // Now what?\r\n            System.out.println(&quot;Context arguments: &quot; + context.arguments());\r\n        })) {\r\n            MyClass.myCode();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHow can I intercept and/or mock `Problematic`&#39;s constructor, but only when it has been called from  `MyClass`?\r\n\r\nThis is part of an incremental refactoring of legacy code, and I would like to write &quot;pin-down tests&quot; before starting the actual refactoring.\r\n","title":"Mocking object construction in unit tests","body":"<p>I would like to write unit tests for a class which creates an instance of a problematic class, and I am working under the following constraints:</p>\n<ol>\n<li>My class calls some third-party library initialization code.</li>\n<li>The third-party code creates an instance of the problematic class. This is fine, and I should <strong>not</strong> replace this instance with a mock, in order not to alter the behavior of the third-party library.</li>\n<li>My class creates an instance of the problematic class. I should mock the object construction; for example, I would make the problematic object constructor throw an exception.</li>\n</ol>\n<p>I am using <strong>Mockito 5.5.0</strong> and <strong>JUnit Jupiter 5.9.3</strong>.</p>\n<p>Here is a fairly minimal example:</p>\n<pre><code>class Problematic {\n\n    public Problematic(String description) {\n        System.out.println(&quot;Problematic object constructed: &quot; + description);\n    }\n}\n\nclass ThirdPartyLibrary {\n\n    public static void thirdPartyCode() {\n        new Problematic(&quot;this is fine&quot;);\n    }\n}\n\nclass MyClass {\n\n    public static void myCode() {\n        ThirdPartyLibrary.thirdPartyCode();\n        new Problematic(&quot;this needs to be mocked&quot;);\n    }\n}\n\nclass MockProblematicObjectConstructionTest {\n\n    @Test\n    void test() {\n        try (MockedConstruction mockedProblematic = mockConstruction(Problematic.class, (mock, context) -&gt; {\n            // Now what?\n            System.out.println(&quot;Context arguments: &quot; + context.arguments());\n        })) {\n            MyClass.myCode();\n        }\n    }\n}\n</code></pre>\n<p>How can I intercept and/or mock <code>Problematic</code>'s constructor, but only when it has been called from  <code>MyClass</code>?</p>\n<p>This is part of an incremental refactoring of legacy code, and I would like to write &quot;pin-down tests&quot; before starting the actual refactoring.</p>\n"},{"tags":["java","maven","javafx","javafx-11"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1642826136,"post_id":52653836,"comment_id":125181396,"body_markdown":"Related question [How can I create an all-in-one jar for a JavaFX project with the Maven Assembly plugin?](https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly) if you are trying to perform a similar task using the maven assembly plugin `jar-with-dependencies` option rather than shade.","body":"Related question <a href=\"https://stackoverflow.com/questions/70806482/how-can-i-create-an-all-in-one-jar-for-a-javafx-project-with-the-maven-assembly\">How can I create an all-in-one jar for a JavaFX project with the Maven Assembly plugin?</a> if you are trying to perform a similar task using the maven assembly plugin <code>jar-with-dependencies</code> option rather than shade."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643611798,"post_id":52653836,"comment_id":125376963,"body_markdown":"See also: [Eden coding guide to the runtime components are missing error](https://edencoding.com/runtime-components-error/).","body":"See also: <a href=\"https://edencoding.com/runtime-components-error/\" rel=\"nofollow noreferrer\">Eden coding guide to the runtime components are missing error</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1645009799,"post_id":52653836,"comment_id":125754899,"body_markdown":"A user was having some issues trying to get this to work, so I provided some detailed steps and trouble-shooting guidelines which could applied to the process in the answer to [&quot;Can not run JAVAFX .jar File (many errors occurred)&quot;](https://stackoverflow.com/a/71139922/1155209).","body":"A user was having some issues trying to get this to work, so I provided some detailed steps and trouble-shooting guidelines which could applied to the process in the answer to <a href=\"https://stackoverflow.com/a/71139922/1155209\">&quot;Can not run JAVAFX .jar File (many errors occurred)&quot;</a>."}],"answers":[{"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"down_vote_count":0,"up_vote_count":153,"is_accepted":true,"score":153,"last_activity_date":1695041165,"creation_date":1538685437,"answer_id":52654791,"question_id":52653836,"body_markdown":"**UPDATE 10/2021**\r\n\r\nSince JavaFX 16 a warning is displayed when JavaFX doesn&#39;t run on the module path, which is the case of an uber/fat jar:\r\n\r\n```\r\n$ java -jar myFatJar-1.0-SNAPSHOT.jar\r\nOct 02, 2021 1:45:21 PM com.sun.javafx.application.PlatformImpl startup\r\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @14c24f4c&#39;\r\n```\r\n\r\nAlso, you get a warning from the shade plugin itself:\r\n\r\n```\r\n[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\r\n```\r\n\r\nWhile these warnings can be initially ignored, there is a reason for them.\r\n\r\nAs explained in this [CSR](https://bugs.openjdk.java.net/browse/JDK-8256422): \r\n\r\n&gt; JavaFX is built and distributed as a set of named modules, each in its own modular jar file, and the JavaFX runtime expects its classes to be loaded from a set of named javafx.* modules, and does not support loading those modules from the classpath.\r\n\r\nAnd:\r\n\r\n&gt; when the JavaFX classes are loaded from the classpath, it breaks encapsulation, since we no longer get the benefit of the java module system.\r\n\r\nTherefore, **even this widely accepted answer explains how can an uber/fat jar can be created on Maven projects, its use is discouraged, and other modern alternatives to distribute your application, like `jlink`, `jpackage` or `native-image`, should be used; see _Packaging_ in the JavaFX tag to [_learn more_][1]**.\r\n\r\n\r\n**ORIGINAL ANSWER**\r\n\r\nThis [answer](https://stackoverflow.com/a/52571719/3956070) explains why a fat/uber jar fails on JavaFX 11. In short:\r\n\r\n&gt; This error comes from sun.launcher.LauncherHelper in the java.base module. The reason for this is that the Main app extends Application and has a main method. If that is the case, the LauncherHelper will check for the `javafx.graphics` module to be present as a named module. If that module is not present, the launch is aborted.\r\n\r\nAnd already proposes a fix for Gradle.\r\n\r\nFor Maven the solution is exactly the same: provide a new main class that doesn&#39;t extend from `Application`. \r\n\r\nYou will have new class in your `application` package (bad name):\r\n\r\n    // NewMain.java\r\n    public class NewMain {\r\n\r\n        public static void main(String[] args) {\r\n            Main.main(args);\r\n        }\r\n    }\r\n\r\nAnd your existing `Main` class, as is:\r\n\r\n    //Main.java\r\n    public class Main extends Application {\r\n\r\n        @Override\r\n        public void start(Stage stage) {\r\n            ...\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nNow you need to modify your pom and set your main class for the different plugins:\r\n\r\n    &lt;mainClass&gt;application.NewMain&lt;/mainClass&gt;\r\n\r\n**Platform-specific Fat jar**\r\n\r\nFinally, with the shade plugin you are going to produce a fat jar, _on your machine_.\r\n\r\nThis means that, so far, your JavaFX dependencies are using a unique classifier. If for instance you are on Windows, Maven will be using internally the `win` classifier. This has the effect of including only the native libraries for Windows.\r\n\r\nSo you are using:\r\n\r\n- org.openjfx:javafx-controls:11\r\n- org.openjfx:javafx-controls:11:win\r\n- org.openjfx:javafx-graphics:11\r\n- org.openjfx:javafx-graphics:11:win &lt;-- this contains the native dlls for Windows\r\n- org.openjfx:javafx-base:11\r\n- org.openjfx:javafx-base:11:win\r\n\r\n   \r\nNow, if you produce the fat jar, you will bundle all those dependencies (and those other regular third party dependencies from your project), and you will be able to run your project as:\r\n\r\n    java -jar myFatJar-1.0-SNAPSHOT.jar\r\n\r\nWhile this is very nice, if you want to distribute you jar, be aware that this jar is _not_ cross-platform, and it will work only on your platform, in this case Windows.\r\n\r\n**Cross-Platform Fat Jar**\r\n\r\nThere is a solution to generate a cross-platform jar that you can distribute: include the rest of the native libraries of the other platforms.\r\n\r\nThis can be easily done, as you just need to include the graphics module dependencies for the three platforms:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;win&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;linux&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\r\n            &lt;version&gt;11&lt;/version&gt;\r\n            &lt;classifier&gt;mac&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**Size**\r\n\r\nThere is a main issue with this approach: the size. As you can see in this other [answer](https://stackoverflow.com/a/52605335/3956070), if you use the  WebView control, you will be bundling around 220 MB due to the WebKit native libraries.\r\n\r\n**M processor Mac support**\r\n\r\nThe `mac` classifier provides runtime components for older Intel x64-based Macs.  To support newer Mac models containing Apple&#39;s M series processors, you also need to include a `mac-aarch64` classified dependency.  M series CPU support for JavaFX is available in a stable version for JavaFX 19+.  When setting the version, all versions of JavaFX components should be the same.  M series support also requires using a JDK version that supports M series Macs (e.g. JDK 17+).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n        &lt;version&gt;20&lt;/version&gt;\r\n        &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/javafx/info","title":"Maven Shade JavaFX runtime components are missing","body":"<p><strong>UPDATE 10/2021</strong></p>\n<p>Since JavaFX 16 a warning is displayed when JavaFX doesn't run on the module path, which is the case of an uber/fat jar:</p>\n<pre><code>$ java -jar myFatJar-1.0-SNAPSHOT.jar\nOct 02, 2021 1:45:21 PM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @14c24f4c'\n</code></pre>\n<p>Also, you get a warning from the shade plugin itself:</p>\n<pre><code>[WARNING] Discovered module-info.class. Shading will break its strong encapsulation.\n</code></pre>\n<p>While these warnings can be initially ignored, there is a reason for them.</p>\n<p>As explained in this <a href=\"https://bugs.openjdk.java.net/browse/JDK-8256422\" rel=\"nofollow noreferrer\">CSR</a>:</p>\n<blockquote>\n<p>JavaFX is built and distributed as a set of named modules, each in its own modular jar file, and the JavaFX runtime expects its classes to be loaded from a set of named javafx.* modules, and does not support loading those modules from the classpath.</p>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>when the JavaFX classes are loaded from the classpath, it breaks encapsulation, since we no longer get the benefit of the java module system.</p>\n</blockquote>\n<p>Therefore, <strong>even this widely accepted answer explains how can an uber/fat jar can be created on Maven projects, its use is discouraged, and other modern alternatives to distribute your application, like <code>jlink</code>, <code>jpackage</code> or <code>native-image</code>, should be used; see <em>Packaging</em> in the JavaFX tag to <a href=\"https://stackoverflow.com/tags/javafx/info\"><em>learn more</em></a></strong>.</p>\n<p><strong>ORIGINAL ANSWER</strong></p>\n<p>This <a href=\"https://stackoverflow.com/a/52571719/3956070\">answer</a> explains why a fat/uber jar fails on JavaFX 11. In short:</p>\n<blockquote>\n<p>This error comes from sun.launcher.LauncherHelper in the java.base module. The reason for this is that the Main app extends Application and has a main method. If that is the case, the LauncherHelper will check for the <code>javafx.graphics</code> module to be present as a named module. If that module is not present, the launch is aborted.</p>\n</blockquote>\n<p>And already proposes a fix for Gradle.</p>\n<p>For Maven the solution is exactly the same: provide a new main class that doesn't extend from <code>Application</code>.</p>\n<p>You will have new class in your <code>application</code> package (bad name):</p>\n<pre><code>// NewMain.java\npublic class NewMain {\n\n    public static void main(String[] args) {\n        Main.main(args);\n    }\n}\n</code></pre>\n<p>And your existing <code>Main</code> class, as is:</p>\n<pre><code>//Main.java\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        ...\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>Now you need to modify your pom and set your main class for the different plugins:</p>\n<pre><code>&lt;mainClass&gt;application.NewMain&lt;/mainClass&gt;\n</code></pre>\n<p><strong>Platform-specific Fat jar</strong></p>\n<p>Finally, with the shade plugin you are going to produce a fat jar, <em>on your machine</em>.</p>\n<p>This means that, so far, your JavaFX dependencies are using a unique classifier. If for instance you are on Windows, Maven will be using internally the <code>win</code> classifier. This has the effect of including only the native libraries for Windows.</p>\n<p>So you are using:</p>\n<ul>\n<li>org.openjfx:javafx-controls:11</li>\n<li>org.openjfx:javafx-controls:11:win</li>\n<li>org.openjfx:javafx-graphics:11</li>\n<li>org.openjfx:javafx-graphics:11:win &lt;-- this contains the native dlls for Windows</li>\n<li>org.openjfx:javafx-base:11</li>\n<li>org.openjfx:javafx-base:11:win</li>\n</ul>\n<p>Now, if you produce the fat jar, you will bundle all those dependencies (and those other regular third party dependencies from your project), and you will be able to run your project as:</p>\n<pre><code>java -jar myFatJar-1.0-SNAPSHOT.jar\n</code></pre>\n<p>While this is very nice, if you want to distribute you jar, be aware that this jar is <em>not</em> cross-platform, and it will work only on your platform, in this case Windows.</p>\n<p><strong>Cross-Platform Fat Jar</strong></p>\n<p>There is a solution to generate a cross-platform jar that you can distribute: include the rest of the native libraries of the other platforms.</p>\n<p>This can be easily done, as you just need to include the graphics module dependencies for the three platforms:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;win&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;linux&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics &lt;/artifactId&gt;\n        &lt;version&gt;11&lt;/version&gt;\n        &lt;classifier&gt;mac&lt;/classifier&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p><strong>Size</strong></p>\n<p>There is a main issue with this approach: the size. As you can see in this other <a href=\"https://stackoverflow.com/a/52605335/3956070\">answer</a>, if you use the  WebView control, you will be bundling around 220 MB due to the WebKit native libraries.</p>\n<p><strong>M processor Mac support</strong></p>\n<p>The <code>mac</code> classifier provides runtime components for older Intel x64-based Macs.  To support newer Mac models containing Apple's M series processors, you also need to include a <code>mac-aarch64</code> classified dependency.  M series CPU support for JavaFX is available in a stable version for JavaFX 19+.  When setting the version, all versions of JavaFX components should be the same.  M series support also requires using a JDK version that supports M series Macs (e.g. JDK 17+).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n    &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n    &lt;version&gt;20&lt;/version&gt;\n    &lt;classifier&gt;mac-aarch64&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13466511,"reputation":713,"user_id":9716566,"display_name":"Bitclef"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38998,"favorite_count":0,"down_vote_count":0,"up_vote_count":71,"accepted_answer_id":52654791,"answer_count":1,"score":71,"last_activity_date":1695041165,"creation_date":1538681241,"question_id":52653836,"body_markdown":"I&#39;m trying to create a JFX11 self-containing jar using maven dependencies. From the research I&#39;ve done, it seems the best way to do this is through the maven shade plugin. However, When I run it, I get the this error:\r\n\r\nError: JavaFX runtime components are missing, and are required to run this application\r\n\r\nI don&#39;t understand why this is happening. What am I messing up? Is there a better way to do this? I&#39;ve also tried the maven assembly plugin with the same message.\r\n\r\npom file for reference\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;Application&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Main&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;SpaceRunner&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;release&gt;10&lt;/release&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.6.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;java&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;mainClass&gt;\r\n                                    Application.Main\r\n                                &lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                                        &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\r\n                                    &lt;/transformer&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;","title":"Maven Shade JavaFX runtime components are missing","body":"<p>I'm trying to create a JFX11 self-containing jar using maven dependencies. From the research I've done, it seems the best way to do this is through the maven shade plugin. However, When I run it, I get the this error:</p>\n\n<p>Error: JavaFX runtime components are missing, and are required to run this application</p>\n\n<p>I don't understand why this is happening. What am I messing up? Is there a better way to do this? I've also tried the maven assembly plugin with the same message.</p>\n\n<p>pom file for reference</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;Application&lt;/groupId&gt;\n    &lt;artifactId&gt;Main&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpaceRunner&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;11&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;10&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;java&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;\n                                Application.Main\n                            &lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                                    &lt;mainClass&gt;Application.Main&lt;/mainClass&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","methods","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":212417,"reputation":43614,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1461583288,"post_id":36836390,"comment_id":61248087,"body_markdown":"Do you want to be able to run the tasks during runtime of the application or only as an argument on the commandline when you start it?","body":"Do you want to be able to run the tasks during runtime of the application or only as an argument on the commandline when you start it?"},{"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"score":0,"creation_date":1461583807,"post_id":36836390,"comment_id":61248481,"body_markdown":"I want them to be able to be run as an argument on the cmd line?","body":"I want them to be able to be run as an argument on the cmd line?"}],"answers":[{"tags":[],"owner":{"account_id":2166955,"reputation":24093,"user_id":1919879,"accept_rate":92,"display_name":"luboskrnac"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1461584466,"creation_date":1461579621,"answer_id":36837791,"question_id":36836390,"body_markdown":"I would suggest to look into project [Spring Batch][1]. That project is exactly for such requirements. Especially [this section of its docs][2] may be of your interest. It describes how can be spring batch jobs executed from command line.\r\n\r\n**Reaction on comment:**\r\n[Here is my Github repository with working example][3]. Notice shell scripts as examples how to execute certain tasks from command line.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-batch/reference/htmlsingle/#spring-batch-intro\r\n  [2]: http://docs.spring.io/spring-batch/reference/htmlsingle/#runningJobsFromCommandLine\r\n  [3]: https://github.com/lkrnac/book-eiws-code-samples/tree/master/09-batch/0910-job-parameters-cli","title":"Spring Boot application: Splitting application into seperate tasks to be run from command line?","body":"<p>I would suggest to look into project <a href=\"http://docs.spring.io/spring-batch/reference/htmlsingle/#spring-batch-intro\" rel=\"nofollow\">Spring Batch</a>. That project is exactly for such requirements. Especially <a href=\"http://docs.spring.io/spring-batch/reference/htmlsingle/#runningJobsFromCommandLine\" rel=\"nofollow\">this section of its docs</a> may be of your interest. It describes how can be spring batch jobs executed from command line.</p>\n\n<p><strong>Reaction on comment:</strong>\n<a href=\"https://github.com/lkrnac/book-eiws-code-samples/tree/master/09-batch/0910-job-parameters-cli\" rel=\"nofollow\">Here is my Github repository with working example</a>. Notice shell scripts as examples how to execute certain tasks from command line.</p>\n"}],"owner":{"account_id":7247220,"reputation":7104,"user_id":5528751,"accept_rate":96,"display_name":"java123999"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36837791,"answer_count":1,"score":3,"last_activity_date":1695040992,"creation_date":1461575779,"question_id":36836390,"body_markdown":"Within my `Spring boot application` I currently run it using the following:\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(&quot;my.packages.to.scan&quot;)\r\n    @EnableScheduling\r\n    public class Scheduler {\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            SpringApplication.run(Scheduler.class, args);\r\n        }\r\n    }\r\n\r\nThis then finds the following class to run:\r\n\r\n\r\n    @Component\r\n    public class MyApplication {\r\n    \r\n        @Transactional\r\n        @Scheduled(fixedRate = 400000, initialDelay = 1000)\r\n        public void tasks() {\r\n    \r\n            methodOne();\r\n            methodTwo();\r\n            methodThree();\r\n        }\r\n    \r\n        public void methodOne() {\r\n    \r\n        }\r\n    \r\n        public void methodTwo() {\r\n    \r\n        }\r\n    \r\n        public void methodthree() {\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nAs can be seen from the above, my application runs all *three methods in sequence*. \r\n\r\nI would like to *change* my application so **any** method/task can be run from the command line at any time, rather than calling the main method and running all three methods in a row. \r\n\r\nHow can I do so? Do I need to move my methods from the MyApplication class?\r\n\r\n","title":"Spring Boot application: Splitting application into seperate tasks to be run from command line?","body":"<p>Within my <code>Spring boot application</code> I currently run it using the following:</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration\n@ComponentScan(&quot;my.packages.to.scan&quot;)\n@EnableScheduling\npublic class Scheduler {\n\n    public static void main(String[] args){\n\n        SpringApplication.run(Scheduler.class, args);\n    }\n}\n</code></pre>\n<p>This then finds the following class to run:</p>\n<pre><code>@Component\npublic class MyApplication {\n\n    @Transactional\n    @Scheduled(fixedRate = 400000, initialDelay = 1000)\n    public void tasks() {\n\n        methodOne();\n        methodTwo();\n        methodThree();\n    }\n\n    public void methodOne() {\n\n    }\n\n    public void methodTwo() {\n\n    }\n\n    public void methodthree() {\n\n    }\n\n}\n</code></pre>\n<p>As can be seen from the above, my application runs all <em>three methods in sequence</em>.</p>\n<p>I would like to <em>change</em> my application so <strong>any</strong> method/task can be run from the command line at any time, rather than calling the main method and running all three methods in a row.</p>\n<p>How can I do so? Do I need to move my methods from the MyApplication class?</p>\n"},{"tags":["java","linux","jshell"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1694763470,"post_id":77110173,"comment_id":135936622,"body_markdown":"Try something like `echo &#39;int exitCode = 0; try { int n = Integer.parseInt(&quot;GOO&quot;); } catch(Exception e) {exitCode = -1;} /exit exitCode&#39; | jshell -i || echo &quot;There was an error&quot;`","body":"Try something like <code>echo &#39;int exitCode = 0; try { int n = Integer.parseInt(&quot;GOO&quot;); } catch(Exception e) {exitCode = -1;} &#47;exit exitCode&#39; | jshell -i || echo &quot;There was an error&quot;</code>"},{"owner":{"account_id":4355473,"reputation":17255,"user_id":3554264,"accept_rate":62,"display_name":"Christian Hujer"},"score":3,"creation_date":1694772620,"post_id":77110173,"comment_id":135938341,"body_markdown":"Sadly, jshell does not behave like a regular REPL in other languages. Neither does it support shebang, nor does it automatically set the exit status of its process to a non-zero value when it encountered an error.","body":"Sadly, jshell does not behave like a regular REPL in other languages. Neither does it support shebang, nor does it automatically set the exit status of its process to a non-zero value when it encountered an error."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1694774324,"post_id":77110173,"comment_id":135938643,"body_markdown":"related [Exit jshell with error code](https://stackoverflow.com/q/44620232/85421)","body":"related <a href=\"https://stackoverflow.com/q/44620232/85421\">Exit jshell with error code</a>"},{"owner":{"account_id":308303,"reputation":36789,"user_id":620097,"display_name":"shellter"},"score":0,"creation_date":1694796176,"post_id":77110173,"comment_id":135942929,"body_markdown":"*&quot;Sadly, jshell does not behave ...&quot;* ... Somewhere, somehow, someone thinks that is a feature /-8!","body":"<i>&quot;Sadly, jshell does not behave ...&quot;</i> ... Somewhere, somehow, someone thinks that is a feature /-8!"}],"answers":[{"tags":[],"owner":{"account_id":23054148,"reputation":46,"user_id":17170444,"display_name":"Artur Radiuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694761281,"creation_date":1694761281,"answer_id":77110273,"question_id":77110173,"body_markdown":"Probably the easiest way is to run command &#39;/exit&#39; with proper argument.\r\n\r\n    echo &quot;/exit -1&quot; | jshell","title":"jshell always exits with zero status code","body":"<p>Probably the easiest way is to run command '/exit' with proper argument.</p>\n<pre><code>echo &quot;/exit -1&quot; | jshell\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695040308,"creation_date":1694855963,"answer_id":77117105,"question_id":77110173,"body_markdown":"The following solution doesn&#39;t necessarily answer the question but can be used as a workaround.\r\nIt is based on redirecting standard and error output of **jshell** to  corresponding files and evaluate them after the execution.\r\n\r\nCreate temporary files:\r\n\r\n    $ stdout=$(mktemp); stderr=$(mktemp)\r\n\r\nUnsuccessful execution:\r\n\r\n    $ echo &quot;invalid java expression&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\r\n\r\nEvaluate the results:\r\n\r\n    $ cat $stdout \r\n    $ cat $stderr \r\n    Error:\r\n    &#39;;&#39; expected\r\n    invalid java expression;\r\n                ^\r\n\r\nSuccessful execution:\r\n\r\n    $ echo &quot;System.out.println(\\&quot;valid java expression\\&quot;)&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\r\n    $ cat $stdout \r\n    valid java expression\r\n    $ cat $stderr \r\n    $\r\n\r\n\r\n\r\n\r\n","title":"jshell always exits with zero status code","body":"<p>The following solution doesn't necessarily answer the question but can be used as a workaround.\nIt is based on redirecting standard and error output of <strong>jshell</strong> to  corresponding files and evaluate them after the execution.</p>\n<p>Create temporary files:</p>\n<pre><code>$ stdout=$(mktemp); stderr=$(mktemp)\n</code></pre>\n<p>Unsuccessful execution:</p>\n<pre><code>$ echo &quot;invalid java expression&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\n</code></pre>\n<p>Evaluate the results:</p>\n<pre><code>$ cat $stdout \n$ cat $stderr \nError:\n';' expected\ninvalid java expression;\n            ^\n</code></pre>\n<p>Successful execution:</p>\n<pre><code>$ echo &quot;System.out.println(\\&quot;valid java expression\\&quot;)&quot; | jshell - 1&gt;$stdout 2&gt;$stderr\n$ cat $stdout \nvalid java expression\n$ cat $stderr \n$\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695040308,"creation_date":1694760311,"question_id":77110173,"body_markdown":"I use Linux and have noticed that jshell always exits with code 0 even if the java expression is invalid:\r\n\r\n    $ echo &quot;invalid java expression&quot; | jshell -\r\n    Error:\r\n    &#39;;&#39; expected \r\n    invalid java expression;\r\n                ^\r\n    $ echo $?\r\n    0\r\n\r\nIs it possible to force it to exit with a non-zero code somehow?\r\nI&#39;ve read the help but have found nothing about it.\r\n","title":"jshell always exits with zero status code","body":"<p>I use Linux and have noticed that jshell always exits with code 0 even if the java expression is invalid:</p>\n<pre><code>$ echo &quot;invalid java expression&quot; | jshell -\nError:\n';' expected \ninvalid java expression;\n            ^\n$ echo $?\n0\n</code></pre>\n<p>Is it possible to force it to exit with a non-zero code somehow?\nI've read the help but have found nothing about it.</p>\n"},{"tags":["java","dependencies","pom.xml","java-17"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695039510,"post_id":77127123,"comment_id":135966519,"body_markdown":"have you tried googling for dependencies that contain the classes in that library?","body":"have you tried googling for dependencies that contain the classes in that library?"},{"owner":{"account_id":7757121,"reputation":166,"user_id":5871008,"accept_rate":100,"display_name":"Coding world"},"score":0,"creation_date":1695039558,"post_id":77127123,"comment_id":135966530,"body_markdown":"yes, but am not able to find one","body":"yes, but am not able to find one"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695039795,"post_id":77127123,"comment_id":135966575,"body_markdown":"this might be of service: https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxwstojakartaws","body":"this might be of service: <a href=\"https://docs.openrewrite.org/recipes/java/migrate/jakarta/javaxwstojakartaws\" rel=\"nofollow noreferrer\">docs.openrewrite.org/recipes/java/migrate/jakarta/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695047374,"post_id":77127123,"comment_id":135968303,"body_markdown":"Does this answer your question? [Replacements for deprecated JPMS modules with Java EE APIs](https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48204141/replacements-for-deprecated-jpms-modules-with-java-ee-apis\">Replacements for deprecated JPMS modules with Java EE APIs</a>"}],"owner":{"account_id":7757121,"reputation":166,"user_id":5871008,"accept_rate":100,"display_name":"Coding world"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695039279,"creation_date":1695039279,"question_id":77127123,"body_markdown":"I am migrating projects to java 17.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.main.javaee-api&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.jws&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI came to know that, ****the javax.*  packages are migrated to jakarta .*****  . So, the above mentioned dependency need to be changed. But am not able to find an alternate one in java 17. Please help.\r\n\r\n","title":"java 17 migration pom dependency issue : org.glassfish.main.javaee-api","body":"<p>I am migrating projects to java 17.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.main.javaee-api&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.jws&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I came to know that, <em><strong><em>the javax.</em>  packages are migrated to jakarta .</strong></em>**  . So, the above mentioned dependency need to be changed. But am not able to find an alternate one in java 17. Please help.</p>\n"},{"tags":["java","spring","swagger","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695038839,"post_id":77126901,"comment_id":135966390,"body_markdown":"parameters are always String as the web doesn&#39;t know anything about types.","body":"parameters are always String as the web doesn&#39;t know anything about types."}],"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695039212,"creation_date":1695037461,"question_id":77126901,"body_markdown":"Is there way how to obtain all path variables &amp; request parameters (query parameters) including their type? I need given request parameters type (and not just String), because I&#39;m forwarding such call via Spring WebClient and if e.g. boolean query parameter is send as String, then I get exception from target rest api.\r\n\r\n```java\r\n        final var url = new ApiPathAndQueryUrlBuilder() // my helper/wrapper for UriComponentsBuilder\r\n                .addPathVariables(allPathVariables)\r\n                .addQueryParameters(allRequestParams)\r\n                .buildUrl(&quot;target/endpoint/path&quot;);\r\n\r\n        return wmWebClient\r\n                .post()\r\n                .uri(url)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .bodyValue(request)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .onErrorMap(WebClientRequestException.class, ex -&gt; new RestApiUnavailableException(ex,&quot;some descriptive error&quot;)\r\n                .block();\r\n```\r\n\r\nI was hoping that this can be achieved by adding `UriComponentsBuilder builder` as method parameter:\r\n\r\n```java\r\n    @Operation(value = &quot;Get Example Data&quot;)\r\n    @GetMapping(&quot;/data/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; getExampleData(\r\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\r\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\r\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\r\n            UriComponentsBuilder builder) {\r\n    }\r\n```\r\n\r\nBut queryParams &amp; uriVariables have size 0\r\n\r\n[![Debug of UriComponentsBuilder][1]][1]\r\n\r\nSo instead of this I used annotation &amp; `Map&lt;String,String&gt;` as mentioned in Spring [javadoc][2]. \r\n\r\n  [1]: https://i.stack.imgur.com/kLrpt.png\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\r\n\r\n&gt; If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.\r\n\r\n```java\r\n    @Operation(value = &quot;Get Example Data&quot;)\r\n    @GetMapping(&quot;/data/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; getExampleData(\r\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\r\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\r\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\r\n            @PathVariable Map&lt;String, String&gt; allPathVariables,\r\n            @RequestParam Map&lt;String, String&gt; allRequestParams) {\r\n    }\r\n```\r\n\r\nBut this brings another issue - such parameters are visible in Swagger (thus also in generated TS/Angular client).\r\n\r\nAnd issue with not-preserved type is still there (for now I have `Map&lt;String, Class&gt;`, `.addQueryParameters(allRequestParams, Map.of())` where I&#39;m &quot;manually&quot; adding all query parameters that are not `String` and doing conversion in my `ApiPathAndQueryUrlBuilder`, but this is &quot;second source of truth&quot; and error prone).\r\n","title":"Get all path variables &amp; query parameters including their type","body":"<p>Is there way how to obtain all path variables &amp; request parameters (query parameters) including their type? I need given request parameters type (and not just String), because I'm forwarding such call via Spring WebClient and if e.g. boolean query parameter is send as String, then I get exception from target rest api.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final var url = new ApiPathAndQueryUrlBuilder() // my helper/wrapper for UriComponentsBuilder\n                .addPathVariables(allPathVariables)\n                .addQueryParameters(allRequestParams)\n                .buildUrl(&quot;target/endpoint/path&quot;);\n\n        return wmWebClient\n                .post()\n                .uri(url)\n                .contentType(MediaType.APPLICATION_JSON)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(String.class)\n                .onErrorMap(WebClientRequestException.class, ex -&gt; new RestApiUnavailableException(ex,&quot;some descriptive error&quot;)\n                .block();\n</code></pre>\n<p>I was hoping that this can be achieved by adding <code>UriComponentsBuilder builder</code> as method parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Operation(value = &quot;Get Example Data&quot;)\n    @GetMapping(&quot;/data/{id}&quot;)\n    public ResponseEntity&lt;String&gt; getExampleData(\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\n            UriComponentsBuilder builder) {\n    }\n</code></pre>\n<p>But queryParams &amp; uriVariables have size 0</p>\n<p><a href=\"https://i.stack.imgur.com/kLrpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kLrpt.png\" alt=\"Debug of UriComponentsBuilder\" /></a></p>\n<p>So instead of this I used annotation &amp; <code>Map&lt;String,String&gt;</code> as mentioned in Spring <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<blockquote>\n<p>If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>    @Operation(value = &quot;Get Example Data&quot;)\n    @GetMapping(&quot;/data/{id}&quot;)\n    public ResponseEntity&lt;String&gt; getExampleData(\n            @ApiParam(value = &quot;The ID of the data&quot;, required = true) @PathVariable Long id,\n            @ApiParam(value = &quot;A String query parameter&quot;) @RequestParam String queryParam,\n            @ApiParam(value = &quot;A boolean query parameter&quot;) @RequestParam boolean flag,\n            @PathVariable Map&lt;String, String&gt; allPathVariables,\n            @RequestParam Map&lt;String, String&gt; allRequestParams) {\n    }\n</code></pre>\n<p>But this brings another issue - such parameters are visible in Swagger (thus also in generated TS/Angular client).</p>\n<p>And issue with not-preserved type is still there (for now I have <code>Map&lt;String, Class&gt;</code>, <code>.addQueryParameters(allRequestParams, Map.of())</code> where I'm &quot;manually&quot; adding all query parameters that are not <code>String</code> and doing conversion in my <code>ApiPathAndQueryUrlBuilder</code>, but this is &quot;second source of truth&quot; and error prone).</p>\n"},{"tags":["java","json","spring","spring-boot","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1695032006,"post_id":77126279,"comment_id":135965078,"body_markdown":"That should be doable with an [ElementCollection](https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/ElementCollection.html). PS: I&#39;d recomment against using `HashSet&lt;DayOfWeek&gt; activeDays` and instead just declare the field `Set&lt;DayOfWeek&gt; activeDays`. Your persistence framework will choose its own fitting implementation of Set to use here.","body":"That should be doable with an <a href=\"https://docs.oracle.com/javaee%2F6%2Fapi%2F%2F/javax/persistence/ElementCollection.html\" rel=\"nofollow noreferrer\">ElementCollection</a>. PS: I&#39;d recomment against using <code>HashSet&lt;DayOfWeek&gt; activeDays</code> and instead just declare the field <code>Set&lt;DayOfWeek&gt; activeDays</code>. Your persistence framework will choose its own fitting implementation of Set to use here."},{"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1695032165,"post_id":77126279,"comment_id":135965106,"body_markdown":"witch version of `spring-boot-starter-data-jpa` are you using ?","body":"witch version of <code>spring-boot-starter-data-jpa</code> are you using ?"},{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1695032564,"post_id":77126279,"comment_id":135965187,"body_markdown":"@AndreiLisa 2.2.2.RELEASE","body":"@AndreiLisa 2.2.2.RELEASE"},{"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"score":0,"creation_date":1695032610,"post_id":77126279,"comment_id":135965195,"body_markdown":"@OHGODSPIDERS I tried but I get message: &#39;Basic&#39; attribute type should not be a container","body":"@OHGODSPIDERS I tried but I get message: &#39;Basic&#39; attribute type should not be a container"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695038761,"creation_date":1695038395,"answer_id":77127007,"question_id":77126279,"body_markdown":"A collection of simple values can be mapped with an `@ElementCollection`, but this requires a separate table.\r\n\r\nFor the case of the question, i.e. mapping a set of enumerations to a single column, I like using a bitset - just like Java&#39;s `EnumSet` does under the hoods. We map each member of the enum to a boolean with just 1 bit set, e.g.:\r\n\r\n| Enum member  | boolean |\r\n| ------------ | ------- |\r\n| `MONDAY`     | 0000001 |\r\n| `TUESDAY`    | 0000010 |\r\n| `WEDNESDAY`  | 0000100 |\r\n| ...and so on | 0001000 |\r\n\r\nMapping the enum to the bitset is simply `1 &lt;&lt; dayOfWeek.ordinal()`. So a value of e.g. 0000101 means `EnumSet.of(WEDNESDAY, MONDAY)`. Now it is easy to use the bitwise operators of the database to query for membership - e.g. if you want all the `Test` records that contain `TUESDAY`, do:\r\n\r\n```sql\r\n-- This is a pseudocode example!!!\r\n-- Various DBs have different ways to express binary constants and bitwise operators\r\nSELECT * FROM Test WHERE activeDays &amp; 0b0000010 &lt;&gt; 0\r\n```\r\n\r\nThis requires a JPA `AttributeConverter` as follows:\r\n\r\n```java\r\nimport javax.persistence.AttributeConverter;\r\nimport java.time.DayOfWeek;\r\nimport java.util.AbstractCollection;\r\nimport java.util.Arrays;\r\nimport java.util.EnumSet;\r\n\r\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, Integer&gt; {\r\n\t@Override\r\n\tpublic Integer convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\r\n\t\treturn value == null ? null : value.stream().mapToInt(this::toBitmap).reduce(0, (aggr, cur) -&gt; aggr | cur);\r\n\t}\r\n\r\n\tprivate int toBitmap(DayOfWeek d) {\r\n\t\treturn 1 &lt;&lt; d.ordinal();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(Integer dbData) {\r\n\t\treturn dbData == null ? null :\r\n\t\t\t\tArrays.stream(DayOfWeek.values())\r\n\t\t\t\t\t\t.filter(d -&gt; (toBitmap(d) &amp; dbData) != 0)\r\n\t\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\t\t() -&gt; EnumSet.noneOf(DayOfWeek.class),\r\n\t\t\t\t\t\t\t\tAbstractCollection::add,\r\n\t\t\t\t\t\t\t\tAbstractCollection::addAll\r\n\t\t\t\t\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n...and an annotation on the field as follows - note that I have used the more efficient `EnumSet` for the data type:\r\n\r\n```java\r\n@Convert(converter = DayOfWeekConverter.class)\r\nprivate EnumSet&lt;DayOfWeek&gt; activeDays;\r\n```\r\n\r\nYou can tweak the converter to store a JSON value or any custom format of the `EnumSet` you can think of (e.g. a string like `&quot;|MONDAY|WEDNESDAY|&quot;` is perfectly possible and queryable e.g. as `activeDays LIKE &#39;%|MONDAY|%&#39;`). I think searching through SQL will be less efficient if you use a string representation, but that is up to you.\r\n\r\nActually, the converter to string as above could be implemented as:\r\n\r\n```java\r\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, String&gt; {\r\n\t@Override\r\n\tpublic String convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\r\n\t\treturn value == null ? null : value.stream().map(Enum::name).collect(Collectors.joining(&quot;|&quot;,&quot;|&quot;,&quot;|&quot;));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\r\n\t\treturn dbData == null ? null :\r\n\t\t\t\tArrays.stream(DayOfWeek.values())\r\n\t\t\t\t\t\t.filter(d -&gt; dbData.contains(&#39;|&#39; + d.name() + &#39;|&#39;))\r\n\t\t\t\t\t\t.collect(\r\n\t\t\t\t\t\t\t\t() -&gt; EnumSet.noneOf(DayOfWeek.class),\r\n\t\t\t\t\t\t\t\tAbstractCollection::add,\r\n\t\t\t\t\t\t\t\tAbstractCollection::addAll\r\n\t\t\t\t\t\t);\r\n\t}\r\n}\r\n```","title":"JPA Entity with DayOfWeek list","body":"<p>A collection of simple values can be mapped with an <code>@ElementCollection</code>, but this requires a separate table.</p>\n<p>For the case of the question, i.e. mapping a set of enumerations to a single column, I like using a bitset - just like Java's <code>EnumSet</code> does under the hoods. We map each member of the enum to a boolean with just 1 bit set, e.g.:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Enum member</th>\n<th>boolean</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>MONDAY</code></td>\n<td>0000001</td>\n</tr>\n<tr>\n<td><code>TUESDAY</code></td>\n<td>0000010</td>\n</tr>\n<tr>\n<td><code>WEDNESDAY</code></td>\n<td>0000100</td>\n</tr>\n<tr>\n<td>...and so on</td>\n<td>0001000</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Mapping the enum to the bitset is simply <code>1 &lt;&lt; dayOfWeek.ordinal()</code>. So a value of e.g. 0000101 means <code>EnumSet.of(WEDNESDAY, MONDAY)</code>. Now it is easy to use the bitwise operators of the database to query for membership - e.g. if you want all the <code>Test</code> records that contain <code>TUESDAY</code>, do:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- This is a pseudocode example!!!\n-- Various DBs have different ways to express binary constants and bitwise operators\nSELECT * FROM Test WHERE activeDays &amp; 0b0000010 &lt;&gt; 0\n</code></pre>\n<p>This requires a JPA <code>AttributeConverter</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.AttributeConverter;\nimport java.time.DayOfWeek;\nimport java.util.AbstractCollection;\nimport java.util.Arrays;\nimport java.util.EnumSet;\n\npublic class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, Integer&gt; {\n    @Override\n    public Integer convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\n        return value == null ? null : value.stream().mapToInt(this::toBitmap).reduce(0, (aggr, cur) -&gt; aggr | cur);\n    }\n\n    private int toBitmap(DayOfWeek d) {\n        return 1 &lt;&lt; d.ordinal();\n    }\n\n    @Override\n    public EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(Integer dbData) {\n        return dbData == null ? null :\n                Arrays.stream(DayOfWeek.values())\n                        .filter(d -&gt; (toBitmap(d) &amp; dbData) != 0)\n                        .collect(\n                                () -&gt; EnumSet.noneOf(DayOfWeek.class),\n                                AbstractCollection::add,\n                                AbstractCollection::addAll\n                        );\n    }\n}\n</code></pre>\n<p>...and an annotation on the field as follows - note that I have used the more efficient <code>EnumSet</code> for the data type:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Convert(converter = DayOfWeekConverter.class)\nprivate EnumSet&lt;DayOfWeek&gt; activeDays;\n</code></pre>\n<p>You can tweak the converter to store a JSON value or any custom format of the <code>EnumSet</code> you can think of (e.g. a string like <code>&quot;|MONDAY|WEDNESDAY|&quot;</code> is perfectly possible and queryable e.g. as <code>activeDays LIKE '%|MONDAY|%'</code>). I think searching through SQL will be less efficient if you use a string representation, but that is up to you.</p>\n<p>Actually, the converter to string as above could be implemented as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DayOfWeekConverter implements AttributeConverter&lt;EnumSet&lt;DayOfWeek&gt;, String&gt; {\n    @Override\n    public String convertToDatabaseColumn(EnumSet&lt;DayOfWeek&gt; value) {\n        return value == null ? null : value.stream().map(Enum::name).collect(Collectors.joining(&quot;|&quot;,&quot;|&quot;,&quot;|&quot;));\n    }\n\n    @Override\n    public EnumSet&lt;DayOfWeek&gt; convertToEntityAttribute(String dbData) {\n        return dbData == null ? null :\n                Arrays.stream(DayOfWeek.values())\n                        .filter(d -&gt; dbData.contains('|' + d.name() + '|'))\n                        .collect(\n                                () -&gt; EnumSet.noneOf(DayOfWeek.class),\n                                AbstractCollection::add,\n                                AbstractCollection::addAll\n                        );\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77127007,"answer_count":1,"score":1,"last_activity_date":1695038761,"creation_date":1695031508,"question_id":77126279,"body_markdown":"Is it possible to add a `HashSet&lt;DayOfWeek&gt;` to an entity without creating a new table for it? I would like to store it as `json`.\r\n\r\n```java\r\n@Entity\r\n@Table(name=&quot;test&quot;)\r\npublic class Test{\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n\t@Enumerated(EnumType.STRING)\r\n\t@Column(columnDefinition = &quot;json&quot;)\r\n\tprivate HashSet&lt;DayOfWeek&gt; activeDays;\r\n}\r\n```\r\n","title":"JPA Entity with DayOfWeek list","body":"<p>Is it possible to add a <code>HashSet&lt;DayOfWeek&gt;</code> to an entity without creating a new table for it? I would like to store it as <code>json</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;test&quot;)\npublic class Test{\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    @Column(columnDefinition = &quot;json&quot;)\n    private HashSet&lt;DayOfWeek&gt; activeDays;\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":6503474,"reputation":2504,"user_id":5994190,"accept_rate":66,"display_name":"the_dani"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1549792946,"creation_date":1549792946,"answer_id":54615292,"question_id":54615243,"body_markdown":"Setting background colors programmatically is easy:\r\n\r\n    row.setBackgroundResource(R.color.colorPrimaryDark);\r\n\r\nFor more information:\r\nhttps://developer.android.com/reference/android/view/View#setBackgroundResource(int)","title":"How to set background color programmatically from an app color theme","body":"<p>Setting background colors programmatically is easy:</p>\n\n<pre><code>row.setBackgroundResource(R.color.colorPrimaryDark);\n</code></pre>\n\n<p>For more information:\n<a href=\"https://developer.android.com/reference/android/view/View#setBackgroundResource(int)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/View#setBackgroundResource(int)</a></p>\n"},{"tags":[],"owner":{"account_id":2645875,"reputation":2220,"user_id":2288580,"display_name":"user2288580"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674348331,"creation_date":1674348331,"answer_id":75197592,"question_id":54615243,"body_markdown":"This will set the backgroud with alpha\r\n\r\n    view.setBackgroundDrawable(ColorDrawable(Color.parseColor(&quot;#c0ffffff&quot;)))","title":"How to set background color programmatically from an app color theme","body":"<p>This will set the backgroud with alpha</p>\n<pre><code>view.setBackgroundDrawable(ColorDrawable(Color.parseColor(&quot;#c0ffffff&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2988005,"reputation":83,"user_id":2536283,"display_name":"Simin Ghasemi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038367,"creation_date":1694965670,"answer_id":77122560,"question_id":54615243,"body_markdown":"You can use this:\r\n\r\n    view.setBackgroundColor(Color.WHITE);","title":"How to set background color programmatically from an app color theme","body":"<p>You can use this:</p>\n<pre><code>view.setBackgroundColor(Color.WHITE);\n</code></pre>\n"}],"owner":{"account_id":15302807,"reputation":692,"user_id":11040588,"display_name":"Justice47"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54615292,"answer_count":3,"score":0,"last_activity_date":1695038367,"creation_date":1549792604,"question_id":54615243,"body_markdown":"I&#39;m trying to set background color programmatically for a &lt;TableRow&gt; element, which should be same as \r\n```\r\n&lt;TableRow android:background=&quot;@color/colorPrimaryDark&quot;&gt;\r\n```\r\nin xml file.\r\nFor now on I&#39;m stuck with\r\n```\r\n row.setBackgroundColor(Color.parseColor(&quot;#00ffff&quot;));\r\n```\r\n, but I dont know how to pass &quot;@color/colorPrimaryDark&quot; here correctly and can&#39;t find any relative information in Android documentation.\r\n\r\n","title":"How to set background color programmatically from an app color theme","body":"<p>I'm trying to set background color programmatically for a  element, which should be same as </p>\n\n<pre><code>&lt;TableRow android:background=\"@color/colorPrimaryDark\"&gt;\n</code></pre>\n\n<p>in xml file.\nFor now on I'm stuck with</p>\n\n<pre><code> row.setBackgroundColor(Color.parseColor(\"#00ffff\"));\n</code></pre>\n\n<p>, but I dont know how to pass \"@color/colorPrimaryDark\" here correctly and can't find any relative information in Android documentation.</p>\n"},{"tags":["java","serialization","deserialization","kryo"],"answers":[{"tags":[],"owner":{"account_id":398856,"reputation":491,"user_id":763794,"accept_rate":69,"display_name":"senleft"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1427204470,"creation_date":1427196681,"answer_id":29231519,"question_id":27771421,"body_markdown":"Try the next before doing serialization/deserialization (in my case it works for kryo.WriteObject and kryo.readObject)\r\n\r\n        JavaSerializer serializer = new JavaSerializer();\r\n        kryo.register(LinkedHashMultimap.class, serializer);\r\n\r\nThe working example:\r\n\r\n    public class SerializationTest {\r\n\r\n    private static final String ioFileName = &quot;someIO.bin&quot;;\r\n\r\n    public static void main(String[] args0) {\r\n\r\n        // Create LinkedHashMultimap to serialize\r\n        LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\r\n        outObj.put(&quot;x&quot;, 1);\r\n        outObj.put(&quot;y&quot;, &quot;abc&quot;);\r\n\r\n        // Try to serialize and deserialize\r\n        Kryo kryo = new Kryo();\r\n        kryo.register(LinkedHashMultimap.class, new JavaSerializer());\r\n        writeObj(kryo, outObj);\r\n        LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\r\n\r\n        System.out.println(inObj);\r\n    }\r\n\r\n    public static Object readObj(Kryo kryo) {\r\n        Object obj = null;\r\n        try {\r\n            Input input = new Input(new FileInputStream(ioFileName));\r\n            obj = kryo.readClassAndObject(input);\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    public static void writeObj(Kryo kryo, Object obj) {\r\n        try {\r\n            Output output = new Output(new FileOutputStream(ioFileName));\r\n            kryo.writeClassAndObject(output, obj);\r\n            output.flush();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nThe output:\r\n\r\n    {x=[1], y=[abc]}\r\n","title":"How to serialize Multimaps with Kryo?","body":"<p>Try the next before doing serialization/deserialization (in my case it works for kryo.WriteObject and kryo.readObject)</p>\n\n<pre><code>    JavaSerializer serializer = new JavaSerializer();\n    kryo.register(LinkedHashMultimap.class, serializer);\n</code></pre>\n\n<p>The working example:</p>\n\n<pre><code>public class SerializationTest {\n\nprivate static final String ioFileName = \"someIO.bin\";\n\npublic static void main(String[] args0) {\n\n    // Create LinkedHashMultimap to serialize\n    LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\n    outObj.put(\"x\", 1);\n    outObj.put(\"y\", \"abc\");\n\n    // Try to serialize and deserialize\n    Kryo kryo = new Kryo();\n    kryo.register(LinkedHashMultimap.class, new JavaSerializer());\n    writeObj(kryo, outObj);\n    LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\n\n    System.out.println(inObj);\n}\n\npublic static Object readObj(Kryo kryo) {\n    Object obj = null;\n    try {\n        Input input = new Input(new FileInputStream(ioFileName));\n        obj = kryo.readClassAndObject(input);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    return obj;\n}\n\npublic static void writeObj(Kryo kryo, Object obj) {\n    try {\n        Output output = new Output(new FileOutputStream(ioFileName));\n        kryo.writeClassAndObject(output, obj);\n        output.flush();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The output:</p>\n\n<pre><code>{x=[1], y=[abc]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6592153,"reputation":1029,"user_id":5093005,"display_name":"jboockmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038235,"creation_date":1695038235,"answer_id":77126995,"question_id":27771421,"body_markdown":"I encountered a similar issue today, and because it took me some time to identify the root cause behind the observed symptoms, I believe it&#39;s valuable to post an answer, even though this question has been around for a while. It&#39;s worth noting that this problem was also discussed on GitHub at https://github.com/EsotericSoftware/kryo/issues/573.\r\n\r\nIt&#39;s important to understand that the `multimapHeaderEntry` attribute within the `LinkedHashMultimap` class is marked as `transient`. According to https://github.com/EsotericSoftware/kryo#fieldserializer-settings, Kryo doesn&#39;t serialize transient fields by default. To still serialize transient fields, you can configure the default field serializer via the FieldSerializerConfig. See the MRE below:\r\n\r\n```java\r\npublic class Debug {\r\n\r\n\r\n    static class Dummy {\r\n        int i;\r\n        transient int ti;\r\n    }\r\n\r\n    @Test\r\n    public void kryoTest() {\r\n        // kryo setup\r\n        Kryo kryo = new Kryo();\r\n        FieldSerializer.FieldSerializerConfig config = new FieldSerializer.FieldSerializerConfig();\r\n        config.setSerializeTransient(true); // test will fail if this line is commented out\r\n        kryo.addDefaultSerializer(Dummy.class, new FieldSerializer&lt;&gt;(kryo, Dummy.class, config));\r\n        kryo.register(Dummy.class); // registration after configuration\r\n\r\n        // create dummy object\r\n        Dummy dummy = new Dummy();\r\n        dummy.i = 1;\r\n        dummy.ti = 2;\r\n\r\n        // serialize\r\n        Output output = new Output(128, -1);\r\n        kryo.writeObject(output, dummy);\r\n        byte[] data = output.getBuffer();\r\n\r\n        // deserialize\r\n        Dummy clone = kryo.readObject(new Input(data), Dummy.class);\r\n\r\n        assertEquals(dummy.i, clone.i);\r\n        assertEquals(dummy.ti, clone.ti); // fails if you do not use the custom serializer above\r\n    }\r\n}\r\n```","title":"How to serialize Multimaps with Kryo?","body":"<p>I encountered a similar issue today, and because it took me some time to identify the root cause behind the observed symptoms, I believe it's valuable to post an answer, even though this question has been around for a while. It's worth noting that this problem was also discussed on GitHub at <a href=\"https://github.com/EsotericSoftware/kryo/issues/573\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryo/issues/573</a>.</p>\n<p>It's important to understand that the <code>multimapHeaderEntry</code> attribute within the <code>LinkedHashMultimap</code> class is marked as <code>transient</code>. According to <a href=\"https://github.com/EsotericSoftware/kryo#fieldserializer-settings\" rel=\"nofollow noreferrer\">https://github.com/EsotericSoftware/kryo#fieldserializer-settings</a>, Kryo doesn't serialize transient fields by default. To still serialize transient fields, you can configure the default field serializer via the FieldSerializerConfig. See the MRE below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Debug {\n\n\n    static class Dummy {\n        int i;\n        transient int ti;\n    }\n\n    @Test\n    public void kryoTest() {\n        // kryo setup\n        Kryo kryo = new Kryo();\n        FieldSerializer.FieldSerializerConfig config = new FieldSerializer.FieldSerializerConfig();\n        config.setSerializeTransient(true); // test will fail if this line is commented out\n        kryo.addDefaultSerializer(Dummy.class, new FieldSerializer&lt;&gt;(kryo, Dummy.class, config));\n        kryo.register(Dummy.class); // registration after configuration\n\n        // create dummy object\n        Dummy dummy = new Dummy();\n        dummy.i = 1;\n        dummy.ti = 2;\n\n        // serialize\n        Output output = new Output(128, -1);\n        kryo.writeObject(output, dummy);\n        byte[] data = output.getBuffer();\n\n        // deserialize\n        Dummy clone = kryo.readObject(new Input(data), Dummy.class);\n\n        assertEquals(dummy.i, clone.i);\n        assertEquals(dummy.ti, clone.ti); // fails if you do not use the custom serializer above\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1856144,"reputation":9878,"user_id":1681681,"accept_rate":85,"display_name":"mchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1695038235,"creation_date":1420413381,"question_id":27771421,"body_markdown":"Problem\r\n-\r\n\r\nI am trying to serialize a [`LinkedHashMultimap`][1] using [Kryo Serialization library][2], but am getting a `NullPointerException` upon deserialization. The minimal working example is below:\r\n\r\n\timport com.esotericsoftware.kryo.Kryo;\r\n\timport com.esotericsoftware.kryo.io.Input;\r\n\timport com.esotericsoftware.kryo.io.Output;\r\n\timport com.google.common.collect.LinkedHashMultimap;\r\n\timport java.io.*;\r\n\r\n\tpublic class SerializationTest {\r\n\r\n\t\tprivate static final String ioFileName = &quot;someIO.bin&quot;;\r\n\r\n\t\tpublic static void main(String[] args0) {\r\n\r\n\t\t\t// Create LinkedHashMultimap to serialize\r\n\t\t\tLinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\r\n\t\t\toutObj.put(&quot;x&quot;, 1);\r\n\t\t\toutObj.put(&quot;y&quot;, &quot;abc&quot;);\r\n\r\n\t\t\t// Try to serialize and deserialize\r\n\t\t\tKryo kryo = new Kryo();\r\n\t\t\twriteObj(kryo, outObj);\r\n\t\t\tLinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\r\n\r\n\t\t\tSystem.out.println(inObj);\r\n\t\t}\r\n\r\n\t\tpublic static Object readObj(Kryo kryo) {\r\n\t\t\tObject obj = null;\r\n\t\t\ttry {\r\n\t\t\t\tInput input = new Input(new FileInputStream(ioFileName));\r\n\t\t\t\tobj = kryo.readClassAndObject(input);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn obj;\r\n\t\t}\r\n\r\n\t\tpublic static void writeObj(Kryo kryo, Object obj) {\r\n\t\t\ttry {\r\n\t\t\t\tOutput output = new Output(new FileOutputStream(ioFileName));\r\n\t\t\t\tkryo.writeClassAndObject(output, obj);\r\n\t\t\t\toutput.flush();\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nYou can see the problem as soon as `kryo.readClassAndObject()` (line 30) is called (screenshot from debugging in IntelliJ 14):\r\n\r\n![enter image description here][3]\r\n\r\nEither the `LinkedHashMultimap` is being corrupted upon serialization or is simply being deserialized incorrectly, resulting in a `NullPointerException`.\r\n\r\nThe full stacktrace as produced when `System.out.println(inObj)` is called:\r\n\r\n\tException in thread &quot;main&quot; java.lang.NullPointerException\r\n\tDisconnected from the target VM, address: &#39;127.0.0.1:60310&#39;, transport: &#39;socket&#39;\r\n\t\tat com.google.common.collect.AbstractMapBasedMultimap$AsMap.toString(AbstractMapBasedMultimap.java:1293)\r\n\t\tat com.google.common.collect.AbstractMultimap.toString(AbstractMultimap.java:239)\r\n\t\tat com.google.common.collect.LinkedHashMultimap.toString(LinkedHashMultimap.java:81)\r\n\t\tat java.lang.String.valueOf(String.java:2854)\r\n\t\tat java.io.PrintStream.println(PrintStream.java:821)\r\n\t\tat SerializationTest.main(SerializationTest.java:23)\r\n\r\n**Does anyone know how to resolve this?**\r\n\r\nMotivation:\r\n-\r\nTo aid in remote debugging (Java), it&#39;s useful to be able to request remote servers to send over arbitrary objects to my local machine for inspection. However, this means that the remote server must be able to serialize an arbitrary java object that is not known in advance at runtime.\r\n\r\nSo I asked around and stumbled on the [Kryo serialization library][4]. From [Kryo&#39;s documentation][5], a major feature is that it&#39;s very robust at serializing arbitrary java objects. Objects\r\n\r\n- don&#39;t have to implement `Serializable`,\r\n- don&#39;t need no-arg constructors to be deserializable and\r\n- I don&#39;t even need to know anything about the structure of the object prior to serialization.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/LinkedHashMultimap.html\r\n  [2]: https://github.com/EsotericSoftware/kryo\r\n  [3]: http://i.stack.imgur.com/97IlQ.png\r\n  [4]: https://github.com/EsotericSoftware/kryo\r\n  [5]: http://i.stack.imgur.com/yBHqW.png","title":"How to serialize Multimaps with Kryo?","body":"<h2>Problem</h2>\n\n<p>I am trying to serialize a <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/LinkedHashMultimap.html\" rel=\"nofollow noreferrer\"><code>LinkedHashMultimap</code></a> using <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo Serialization library</a>, but am getting a <code>NullPointerException</code> upon deserialization. The minimal working example is below:</p>\n\n<pre><code>import com.esotericsoftware.kryo.Kryo;\nimport com.esotericsoftware.kryo.io.Input;\nimport com.esotericsoftware.kryo.io.Output;\nimport com.google.common.collect.LinkedHashMultimap;\nimport java.io.*;\n\npublic class SerializationTest {\n\n    private static final String ioFileName = \"someIO.bin\";\n\n    public static void main(String[] args0) {\n\n        // Create LinkedHashMultimap to serialize\n        LinkedHashMultimap&lt;String, Object&gt; outObj = LinkedHashMultimap.create();\n        outObj.put(\"x\", 1);\n        outObj.put(\"y\", \"abc\");\n\n        // Try to serialize and deserialize\n        Kryo kryo = new Kryo();\n        writeObj(kryo, outObj);\n        LinkedHashMultimap&lt;String, Object&gt; inObj = (LinkedHashMultimap&lt;String, Object&gt;) readObj(kryo);\n\n        System.out.println(inObj);\n    }\n\n    public static Object readObj(Kryo kryo) {\n        Object obj = null;\n        try {\n            Input input = new Input(new FileInputStream(ioFileName));\n            obj = kryo.readClassAndObject(input);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n        return obj;\n    }\n\n    public static void writeObj(Kryo kryo, Object obj) {\n        try {\n            Output output = new Output(new FileOutputStream(ioFileName));\n            kryo.writeClassAndObject(output, obj);\n            output.flush();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>You can see the problem as soon as <code>kryo.readClassAndObject()</code> (line 30) is called (screenshot from debugging in IntelliJ 14):</p>\n\n<p><img src=\"https://i.stack.imgur.com/97IlQ.png\" alt=\"enter image description here\"></p>\n\n<p>Either the <code>LinkedHashMultimap</code> is being corrupted upon serialization or is simply being deserialized incorrectly, resulting in a <code>NullPointerException</code>.</p>\n\n<p>The full stacktrace as produced when <code>System.out.println(inObj)</code> is called:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nDisconnected from the target VM, address: '127.0.0.1:60310', transport: 'socket'\n    at com.google.common.collect.AbstractMapBasedMultimap$AsMap.toString(AbstractMapBasedMultimap.java:1293)\n    at com.google.common.collect.AbstractMultimap.toString(AbstractMultimap.java:239)\n    at com.google.common.collect.LinkedHashMultimap.toString(LinkedHashMultimap.java:81)\n    at java.lang.String.valueOf(String.java:2854)\n    at java.io.PrintStream.println(PrintStream.java:821)\n    at SerializationTest.main(SerializationTest.java:23)\n</code></pre>\n\n<p><strong>Does anyone know how to resolve this?</strong></p>\n\n<h2>Motivation:</h2>\n\n<p>To aid in remote debugging (Java), it's useful to be able to request remote servers to send over arbitrary objects to my local machine for inspection. However, this means that the remote server must be able to serialize an arbitrary java object that is not known in advance at runtime.</p>\n\n<p>So I asked around and stumbled on the <a href=\"https://github.com/EsotericSoftware/kryo\" rel=\"nofollow noreferrer\">Kryo serialization library</a>. From <a href=\"https://i.stack.imgur.com/yBHqW.png\" rel=\"nofollow noreferrer\">Kryo's documentation</a>, a major feature is that it's very robust at serializing arbitrary java objects. Objects</p>\n\n<ul>\n<li>don't have to implement <code>Serializable</code>,</li>\n<li>don't need no-arg constructors to be deserializable and</li>\n<li>I don't even need to know anything about the structure of the object prior to serialization.</li>\n</ul>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1457449447,"post_id":35867138,"comment_id":59405492,"body_markdown":"Please read this: http://stackoverflow.com/help/how-to-ask then update your question to specify exactly what your issue is. Are you getting an error? Are you getting an incorrect file size? You have some comments in your code about calls to `object.close()` taking a long time, but that seems to be a completely different issue from the question about getting an object&#39;s file size.","body":"Please read this: <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> then update your question to specify exactly what your issue is. Are you getting an error? Are you getting an incorrect file size? You have some comments in your code about calls to <code>object.close()</code> taking a long time, but that seems to be a completely different issue from the question about getting an object&#39;s file size."}],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1457449846,"creation_date":1457449846,"answer_id":35871008,"question_id":35867138,"body_markdown":"I&#39;m guessing what your actual question is asking, but I think you can reduce your code and eliminate the need to create an s3Object at all by doing something like:\r\n\r\n    public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\r\n            throws IOException {\r\n        return amazonS3Client.getObjectMetadata(bucket, key).getContentLength();\r\n    }\r\n\r\nThat should remove the need to call `object.close()` which you appear to be having issues with.","title":"Getting file size from S3 bucket","body":"<p>I'm guessing what your actual question is asking, but I think you can reduce your code and eliminate the need to create an s3Object at all by doing something like:</p>\n\n<pre><code>public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\n        throws IOException {\n    return amazonS3Client.getObjectMetadata(bucket, key).getContentLength();\n}\n</code></pre>\n\n<p>That should remove the need to call <code>object.close()</code> which you appear to be having issues with.</p>\n"},{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620232617,"creation_date":1620232617,"answer_id":67405366,"question_id":35867138,"body_markdown":"For v2 of the Amazon S3 Java SDK, try something like this:\r\n\r\n\tHeadObjectRequest headObjectRequest =\r\n\t\t\tHeadObjectRequest.builder()\r\n\t\t\t  .bucket(bucket)\r\n\t\t\t  .key(key)\r\n\t\t\t  .build();\r\n\tHeadObjectResponse headObjectResponse =\r\n\t\t\ts3Client.headObject(headObjectRequest);\r\n\tLong contentLength = headObjectResponse.contentLength();\r\n\r\n","title":"Getting file size from S3 bucket","body":"<p>For v2 of the Amazon S3 Java SDK, try something like this:</p>\n<pre><code>HeadObjectRequest headObjectRequest =\n        HeadObjectRequest.builder()\n          .bucket(bucket)\n          .key(key)\n          .build();\nHeadObjectResponse headObjectResponse =\n        s3Client.headObject(headObjectRequest);\nLong contentLength = headObjectResponse.contentLength();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671027929,"creation_date":1671027929,"answer_id":74799741,"question_id":35867138,"body_markdown":"So we have 2 SDKs.\r\n\r\nFor v1 of the Amazon S3 Java SDK, below \r\n\r\n    client.getObjectMetadata(bucket, key).getContentLength();\r\nwhere client is an instance of `AmazonS3` coming from `import com.amazonaws.services.s3.AmazonS3;` and     `implementation &#39;com.amazonaws:aws-java-sdk-s3:1.12.353&#39;` gradle dependencies.\r\n\r\nFor v2 of the Amazon S3 Java SDK, below:\r\n\r\n    return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).contentLength();\r\n\r\nwhere client is instance of `S3Client` coming from `import software.amazon.awssdk.services.s3.S3Client;` and gradle dependencies `implementation &#39;software.amazon.awssdk:s3:2.18.35&#39;`\r\n\r\n","title":"Getting file size from S3 bucket","body":"<p>So we have 2 SDKs.</p>\n<p>For v1 of the Amazon S3 Java SDK, below</p>\n<pre><code>client.getObjectMetadata(bucket, key).getContentLength();\n</code></pre>\n<p>where client is an instance of <code>AmazonS3</code> coming from <code>import com.amazonaws.services.s3.AmazonS3;</code> and     <code>implementation 'com.amazonaws:aws-java-sdk-s3:1.12.353'</code> gradle dependencies.</p>\n<p>For v2 of the Amazon S3 Java SDK, below:</p>\n<pre><code>return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).contentLength();\n</code></pre>\n<p>where client is instance of <code>S3Client</code> coming from <code>import software.amazon.awssdk.services.s3.S3Client;</code> and gradle dependencies <code>implementation 'software.amazon.awssdk:s3:2.18.35'</code></p>\n"},{"tags":[],"owner":{"account_id":26752,"reputation":761,"user_id":69888,"accept_rate":50,"display_name":"manuna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695038034,"creation_date":1695030754,"answer_id":77126190,"question_id":35867138,"body_markdown":"Looks like 2.x client version doesn&#39;t have `amazonS3Client.getObjectMetadata(bucket, key)` method, but there is a different one:\r\n\r\n            Long size = s3Client.getObjectAttributes(GetObjectAttributesRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(objectKey)\r\n                .build()).objectSize();\r\n\r\nHere `software.amazon.awssdk.services.s3.S3Client` is used.\r\n","title":"Getting file size from S3 bucket","body":"<p>Looks like 2.x client version doesn't have <code>amazonS3Client.getObjectMetadata(bucket, key)</code> method, but there is a different one:</p>\n<pre><code>        Long size = s3Client.getObjectAttributes(GetObjectAttributesRequest.builder()\n            .bucket(bucketName)\n            .key(objectKey)\n            .build()).objectSize();\n</code></pre>\n<p>Here <code>software.amazon.awssdk.services.s3.S3Client</code> is used.</p>\n"}],"owner":{"account_id":41411,"reputation":7890,"user_id":120322,"accept_rate":67,"display_name":"Ashwani K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32643,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":35871008,"answer_count":4,"score":15,"last_activity_date":1695038034,"creation_date":1457439303,"question_id":35867138,"body_markdown":"I am trying to get the file size (content-length) using Amazon S3 JAVA sdk.\r\n\r\n\tpublic Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\r\n\t\t\tthrows IOException {\r\n\t\tLong size = null;\r\n\t\tS3Object object = null;\r\n\t\ttry {\r\n\t\t\tobject = amazonS3Client.getObject(bucket, key);\r\n\t\t\tsize = object.getObjectMetadata().getContentLength();\r\n\r\n\t\t} finally {\r\n\t\t\tif (object != null) {\r\n\t\t\t\t//object.close();\r\n\t\t\t\t1. This results in 50 calls (connection pool size) post that I start getting connection pool errors. \r\n\t\t\t\t2. If this line is uncommented it takes hell lot of time to make calls.\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\nI followed [this][1] and [this][2]. But not sure what I am doing wrong here.\r\nAny help on this?\r\n\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html\r\n  [2]: https://stackoverflow.com/questions/20233259/how-to-close-aws-connection-if-there-is-no-such-key-in-the-query","title":"Getting file size from S3 bucket","body":"<p>I am trying to get the file size (content-length) using Amazon S3 JAVA sdk.</p>\n\n<pre><code>public Long getObjectSize(AmazonS3Client amazonS3Client, String bucket, String key)\n        throws IOException {\n    Long size = null;\n    S3Object object = null;\n    try {\n        object = amazonS3Client.getObject(bucket, key);\n        size = object.getObjectMetadata().getContentLength();\n\n    } finally {\n        if (object != null) {\n            //object.close();\n            1. This results in 50 calls (connection pool size) post that I start getting connection pool errors. \n            2. If this line is uncommented it takes hell lot of time to make calls.\n        }\n    }\n    return size;\n}\n</code></pre>\n\n<p>I followed <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/RetrievingObjectUsingJava.html\" rel=\"noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/20233259/how-to-close-aws-connection-if-there-is-no-such-key-in-the-query\">this</a>. But not sure what I am doing wrong here.\nAny help on this?</p>\n"},{"tags":["java","maven","java-17","spotless","spotless-maven-plugin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695037703,"post_id":77126927,"comment_id":135966169,"body_markdown":"UnclosedStringLiteral -&gt; hasn&#39;t got much to do with import statements. Have you checked your DBClient.java class?","body":"UnclosedStringLiteral -&gt; hasn&#39;t got much to do with import statements. Have you checked your DBClient.java class?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695037789,"post_id":77126927,"comment_id":135966190,"body_markdown":"Can you add a [mcve] containing the smallest amount of code needed to reproduce this problem?","body":"Can you add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> containing the smallest amount of code needed to reproduce this problem?"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695037849,"post_id":77126927,"comment_id":135966205,"body_markdown":"There are some people who have already reported this error https://github.com/diffplug/spotless/issues/923","body":"There are some people who have already reported this error <a href=\"https://github.com/diffplug/spotless/issues/923\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/923</a>"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695037895,"post_id":77126927,"comment_id":135966217,"body_markdown":"The string literals is to do with the new features from Java 17, and the error only happens when the tag for `removeUsusedImports` is enabled.","body":"The string literals is to do with the new features from Java 17, and the error only happens when the tag for <code>removeUsusedImports</code> is enabled."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1695038021,"post_id":77126927,"comment_id":135966236,"body_markdown":"Ok. Disable `removeUsusedImports` until the issue is resolved. What other answer did you expect?","body":"Ok. Disable <code>removeUsusedImports</code> until the issue is resolved. What other answer did you expect?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038037,"post_id":77126927,"comment_id":135966240,"body_markdown":"so disable that, and check the code of the class where you get the problem","body":"so disable that, and check the code of the class where you get the problem"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038072,"post_id":77126927,"comment_id":135966243,"body_markdown":"I&#39;ve disabled it already, but I would still like to use the functionality of removing the unused imports.","body":"I&#39;ve disabled it already, but I would still like to use the functionality of removing the unused imports."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038106,"post_id":77126927,"comment_id":135966248,"body_markdown":"The docs seem to be suggesting workaround solutions for the google formatter, and I tried then all,  however, for some reason it&#39;s not working for the eclipse formatter, reason why I posted the question here.","body":"The docs seem to be suggesting workaround solutions for the google formatter, and I tried then all,  however, for some reason it&#39;s not working for the eclipse formatter, reason why I posted the question here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038258,"post_id":77126927,"comment_id":135966283,"body_markdown":"&quot;use the functionality of using the unused imports&quot; .... ok ... what? what exactly do you mean?","body":"&quot;use the functionality of using the unused imports&quot; .... ok ... what? what exactly do you mean?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1695038267,"post_id":77126927,"comment_id":135966287,"body_markdown":"The linked github issue suggests there is a bug. All software has bugs. This one seems odd, why aren&#39;t you removing unused imports before you commit your code? That seems like a pre-commit check to me. Or something to catch in code review.","body":"The linked github issue suggests there is a bug. All software has bugs. This one seems odd, why aren&#39;t you removing unused imports before you commit your code? That seems like a pre-commit check to me. Or something to catch in code review."},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":0,"creation_date":1695038456,"post_id":77126927,"comment_id":135966316,"body_markdown":"Humans can make mistake and forget to remove the imports, reason why trying to automate the process. But the main point is of the question is that this was working before, and is not anymore, and perhaps someone has found a workaround for it and can provide some assistance.","body":"Humans can make mistake and forget to remove the imports, reason why trying to automate the process. But the main point is of the question is that this was working before, and is not anymore, and perhaps someone has found a workaround for it and can provide some assistance."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1695038714,"post_id":77126927,"comment_id":135966364,"body_markdown":"The authors themselves call it a bug, meaning it doesn&#39;t work (as should). Nowadays all decent IDE&#39;s provide a somewhat automatic way to &#39;clean up (unused) imports&#39;, so this is a nice-to-have (at best). Meaning, especially if it doesn&#39;t work, it&#39;s pointless. The main risk of having unused imports is that you&#39;re using resources you don&#39;t need to use by loading classes you are not going to use, unless you&#39;re really outdoing yourself there, it&#39;s not a major issue. As Elliott said, it remains good practice to check yourself before committing code. Takes hardly any time and solves all your issues.","body":"The authors themselves call it a bug, meaning it doesn&#39;t work (as should). Nowadays all decent IDE&#39;s provide a somewhat automatic way to &#39;clean up (unused) imports&#39;, so this is a nice-to-have (at best). Meaning, especially if it doesn&#39;t work, it&#39;s pointless. The main risk of having unused imports is that you&#39;re using resources you don&#39;t need to use by loading classes you are not going to use, unless you&#39;re really outdoing yourself there, it&#39;s not a major issue. As Elliott said, it remains good practice to check yourself before committing code. Takes hardly any time and solves all your issues."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1695040499,"post_id":77126927,"comment_id":135966736,"body_markdown":"This is probably more the problem mentioned at [Step remove unused import break on multiline string](https://github.com/diffplug/spotless/issues/681)  and the fix would be to upgrade the spotless-plugin.version to 2.36.0 or later (https://github.com/diffplug/spotless/issues/681#issuecomment-1498452643)","body":"This is probably more the problem mentioned at <a href=\"https://github.com/diffplug/spotless/issues/681\" rel=\"nofollow noreferrer\">Step remove unused import break on multiline string</a>  and the fix would be to upgrade the spotless-plugin.version to 2.36.0 or later (<a href=\"https://github.com/diffplug/spotless/issues/681#issuecomment-1498452643\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/681#issuecomment-149845&zwnj;&#8203;2643</a>)"},{"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"score":1,"creation_date":1695042120,"post_id":77126927,"comment_id":135967102,"body_markdown":"I tried updating spotless before raising the question, but got this other error, which happens even without the removeUnusedImports tag, so I kept the older version: [ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.36.0:apply (default-cli) on project aml-ar-api-automation: Execution default-cli of goal com.diffplug.spotl\ness:spotless-maven-plugin:2.36.0:apply failed.: NullPointerException -&gt; [Help 1]","body":"I tried updating spotless before raising the question, but got this other error, which happens even without the removeUnusedImports tag, so I kept the older version: [ERROR] Failed to execute goal com.diffplug.spotless:spotless-maven-plugin:2.36.0:apply (default-cli) on project aml-ar-api-automation: Execution default-cli of goal com.diffplug.spotl ess:spotless-maven-plugin:2.36.0:apply failed.: NullPointerException -&gt; [Help 1]"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":461,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695038018,"creation_date":1695037635,"question_id":77126927,"body_markdown":"I am upgrading my Spring Boot app to use Spring 3+ and Java 17. However, I&#39;m now getting an error when trying to apply spotless and to do with `removeUnusedImports` feature. \r\n\r\nThis issue is similar to what has been reported here:\r\n[github.com/diffplug/spotless/issues/923][1]\r\n\r\n\r\nI have tried a few things, such as adding this: \r\n\r\n```\r\n-Xmx4096m\r\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\r\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\r\n```\r\n\r\nTo my IntelliJ VM Options as per here: https://github.com/google/google-java-format#intellij-jre-config\r\n\r\nI also tried to add this directly to maven through typing the below on my git terminal:\r\n\r\n```\r\nexport MAVEN_OPTS=&quot;-Xmx4096m --add-exports=jdk.compiler/com.sun.tools.javac.ap\r\ni=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --\r\nadd-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-exports=jdk.\r\ncompiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-exports=jdk.compiler/com.s\r\nun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.u\r\n$ git config --global credential.helper &quot;cache --timeout=3600&quot;\r\n```\r\n\r\nHowever, the issue still persists.\r\n\r\n```\r\n  &lt;spotless-plugin.version&gt;2.34.0&lt;/spotless-plugin.version&gt;\r\n  &lt;spotless-eclipse.version&gt;4.18.0&lt;/spotless-eclipse.version&gt;\r\n  &lt;spring-boot.version&gt;3.1.3&lt;/spring-boot.version&gt;\r\n```\r\n\r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${spotless-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;formats&gt;\r\n                        &lt;!-- you can define as many formats as you want, each is independent --&gt;\r\n                        &lt;format&gt;\r\n                            &lt;!-- define the files to apply to --&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;*.java&lt;/include&gt;\r\n                                &lt;include&gt;*.md&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                            &lt;!-- define the steps to apply to those files --&gt;\r\n                            &lt;trimTrailingWhitespace/&gt;\r\n                            &lt;endWithNewline/&gt;\r\n                            &lt;indent&gt;\r\n                                &lt;tabs&gt;true&lt;/tabs&gt;\r\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\r\n                            &lt;/indent&gt;\r\n                        &lt;/format&gt;\r\n                    &lt;/formats&gt;\r\n                    &lt;!-- define a language-specific format --&gt;\r\n                    &lt;java&gt;\r\n                        &lt;!-- no need to specify files, inferred automatically, but you can if you want --&gt;\r\n\r\n                         &lt;removeUnusedImports/&gt; &lt;!-- self-explanatory --&gt;\r\n\r\n                        &lt;!-- apply a specific flavor of google-java-format and reflow long strings --&gt;\r\n                        &lt;eclipse&gt;\r\n                            &lt;version&gt;${spotless-eclipse.version}&lt;/version&gt; &lt;!-- optional --&gt;\r\n                            &lt;file&gt;${project.basedir}/eclipse-formatter.xml&lt;/file&gt; &lt;!-- optional --&gt;\r\n                        &lt;/eclipse&gt;\r\n                    &lt;/java&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\n\r\nThis is the exact error here:\r\n\r\n```\r\n[INFO] Spotless.Format is keeping 1 files clean - 0 were changed to be clean, 1 were already clean, 0 were skipped because caching determined they were already clean\r\n[ERROR] Step &#39;removeUnusedImports&#39; found problem in &#39;src\\test\\java\\com\\myproject\\amlar\\client\\DBClient.java&#39;:\r\nnull\r\njava.lang.reflect.InvocationTargetException\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\r\nCaused by: com.google.googlejavaformat.java.FormatterException: 37:25: error: unclosed string literal\r\n    at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics (FormatterException.java:51)\r\n    at com.google.googlejavaformat.java.RemoveUnusedImports.parse (RemoveUnusedImports.java:262)\r\n    at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports (RemoveUnusedImports.java:219)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\r\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2 (GoogleJavaFormatStep.java:188)\r\n    at com.diffplug.spotless.FormatterFunc.apply (FormatterFunc.java:32)\r\n    at com.diffplug.spotless.FormatterStepImpl$Standard.format (FormatterStepImpl.java:82)\r\n    at com.diffplug.spotless.FormatterStep$Strict.format (FormatterStep.java:88)\r\n    at com.diffplug.spotless.Formatter.compute (Formatter.java:246)\r\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:203)\r\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:190)\r\n    at com.diffplug.spotless.maven.SpotlessApplyMojo.process (SpotlessApplyMojo.java:48)\r\n    at com.diffplug.spotless.maven.AbstractSpotlessMojo.execute (AbstractSpotlessMojo.java:225)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  2.439 s\r\n[INFO] Finished at: 2023-09-18T12:43:17+01:00\r\n\r\n```\r\nThank you.\r\n\r\n\r\n  [1]: https://github.com/diffplug/spotless/issues/923","title":"Spotless + Eclipse Formatter + Java 17 = Error on String Literals + Removing Unused Imports","body":"<p>I am upgrading my Spring Boot app to use Spring 3+ and Java 17. However, I'm now getting an error when trying to apply spotless and to do with <code>removeUnusedImports</code> feature.</p>\n<p>This issue is similar to what has been reported here:\n<a href=\"https://github.com/diffplug/spotless/issues/923\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/923</a></p>\n<p>I have tried a few things, such as adding this:</p>\n<pre><code>-Xmx4096m\n--add-exports=jdk.compiler/com.sun.tools.javac.api=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.parser=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.tree=ALL-UNNAMED\n--add-exports=jdk.compiler/com.sun.tools.javac.util=ALL-UNNAMED\n</code></pre>\n<p>To my IntelliJ VM Options as per here: <a href=\"https://github.com/google/google-java-format#intellij-jre-config\" rel=\"nofollow noreferrer\">https://github.com/google/google-java-format#intellij-jre-config</a></p>\n<p>I also tried to add this directly to maven through typing the below on my git terminal:</p>\n<pre><code>export MAVEN_OPTS=&quot;-Xmx4096m --add-exports=jdk.compiler/com.sun.tools.javac.ap\ni=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.code=ALL-UNNAMED --\nadd-exports=jdk.compiler/com.sun.tools.javac.file=ALL-UNNAMED --add-exports=jdk.\ncompiler/com.sun.tools.javac.parser=ALL-UNNAMED --add-exports=jdk.compiler/com.s\nun.tools.javac.tree=ALL-UNNAMED --add-exports=jdk.compiler/com.sun.tools.javac.u\n$ git config --global credential.helper &quot;cache --timeout=3600&quot;\n</code></pre>\n<p>However, the issue still persists.</p>\n<pre><code>  &lt;spotless-plugin.version&gt;2.34.0&lt;/spotless-plugin.version&gt;\n  &lt;spotless-eclipse.version&gt;4.18.0&lt;/spotless-eclipse.version&gt;\n  &lt;spring-boot.version&gt;3.1.3&lt;/spring-boot.version&gt;\n</code></pre>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n                &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spotless-plugin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;formats&gt;\n                        &lt;!-- you can define as many formats as you want, each is independent --&gt;\n                        &lt;format&gt;\n                            &lt;!-- define the files to apply to --&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;*.java&lt;/include&gt;\n                                &lt;include&gt;*.md&lt;/include&gt;\n                            &lt;/includes&gt;\n                            &lt;!-- define the steps to apply to those files --&gt;\n                            &lt;trimTrailingWhitespace/&gt;\n                            &lt;endWithNewline/&gt;\n                            &lt;indent&gt;\n                                &lt;tabs&gt;true&lt;/tabs&gt;\n                                &lt;spacesPerTab&gt;4&lt;/spacesPerTab&gt;\n                            &lt;/indent&gt;\n                        &lt;/format&gt;\n                    &lt;/formats&gt;\n                    &lt;!-- define a language-specific format --&gt;\n                    &lt;java&gt;\n                        &lt;!-- no need to specify files, inferred automatically, but you can if you want --&gt;\n\n                         &lt;removeUnusedImports/&gt; &lt;!-- self-explanatory --&gt;\n\n                        &lt;!-- apply a specific flavor of google-java-format and reflow long strings --&gt;\n                        &lt;eclipse&gt;\n                            &lt;version&gt;${spotless-eclipse.version}&lt;/version&gt; &lt;!-- optional --&gt;\n                            &lt;file&gt;${project.basedir}/eclipse-formatter.xml&lt;/file&gt; &lt;!-- optional --&gt;\n                        &lt;/eclipse&gt;\n                    &lt;/java&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>This is the exact error here:</p>\n<pre><code>[INFO] Spotless.Format is keeping 1 files clean - 0 were changed to be clean, 1 were already clean, 0 were skipped because caching determined they were already clean\n[ERROR] Step 'removeUnusedImports' found problem in 'src\\test\\java\\com\\myproject\\amlar\\client\\DBClient.java':\nnull\njava.lang.reflect.InvocationTargetException\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\nCaused by: com.google.googlejavaformat.java.FormatterException: 37:25: error: unclosed string literal\n    at com.google.googlejavaformat.java.FormatterException.fromJavacDiagnostics (FormatterException.java:51)\n    at com.google.googlejavaformat.java.RemoveUnusedImports.parse (RemoveUnusedImports.java:262)\n    at com.google.googlejavaformat.java.RemoveUnusedImports.removeUnusedImports (RemoveUnusedImports.java:219)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$constructRemoveUnusedFunction$4 (GoogleJavaFormatStep.java:211)\n    at com.diffplug.spotless.java.GoogleJavaFormatStep$State.lambda$createRemoveUnusedImportsOnly$2 (GoogleJavaFormatStep.java:188)\n    at com.diffplug.spotless.FormatterFunc.apply (FormatterFunc.java:32)\n    at com.diffplug.spotless.FormatterStepImpl$Standard.format (FormatterStepImpl.java:82)\n    at com.diffplug.spotless.FormatterStep$Strict.format (FormatterStep.java:88)\n    at com.diffplug.spotless.Formatter.compute (Formatter.java:246)\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:203)\n    at com.diffplug.spotless.PaddedCell.calculateDirtyState (PaddedCell.java:190)\n    at com.diffplug.spotless.maven.SpotlessApplyMojo.process (SpotlessApplyMojo.java:48)\n    at com.diffplug.spotless.maven.AbstractSpotlessMojo.execute (AbstractSpotlessMojo.java:225)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  2.439 s\n[INFO] Finished at: 2023-09-18T12:43:17+01:00\n\n</code></pre>\n<p>Thank you.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"score":2,"creation_date":1505300753,"post_id":46195830,"comment_id":79354006,"body_markdown":"Is `Repository.findDocument()` a `static` method?","body":"Is <code>Repository.findDocument()</code> a <code>static</code> method?"},{"owner":{"account_id":9593823,"reputation":262,"user_id":7123686,"display_name":"canihazurcode"},"score":0,"creation_date":1505301315,"post_id":46195830,"comment_id":79354384,"body_markdown":"A similiar question was answered here: https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito.","body":"A similiar question was answered here: <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>."},{"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"score":0,"creation_date":1505301361,"post_id":46195830,"comment_id":79354412,"body_markdown":"No. I am autowiring and then using `findDocument`","body":"No. I am autowiring and then using <code>findDocument</code>"},{"owner":{"account_id":9593823,"reputation":262,"user_id":7123686,"display_name":"canihazurcode"},"score":0,"creation_date":1505301782,"post_id":46195830,"comment_id":79354697,"body_markdown":"Do you use `@Autowire Repository repository` in your unit test?","body":"Do you use <code>@Autowire Repository repository</code> in your unit test?"}],"answers":[{"tags":[],"owner":{"account_id":4004917,"reputation":56,"user_id":7126388,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505303255,"creation_date":1505301900,"answer_id":46196287,"question_id":46195830,"body_markdown":"You can try to mock the `Repository.findDocument(id)` call in your unit test method.\r\n\r\n    Mockito.when(Repository.findDocument(Mockito.isA(String.class))).thenReturn(Mockito.mock(Document.class));\r\n\r\nThis will return Mocked Document object whenever the `Repository.findDocument(id)` call is made.","title":"Mockito - Mocking a method with parameters","body":"<p>You can try to mock the <code>Repository.findDocument(id)</code> call in your unit test method.</p>\n\n<pre><code>Mockito.when(Repository.findDocument(Mockito.isA(String.class))).thenReturn(Mockito.mock(Document.class));\n</code></pre>\n\n<p>This will return Mocked Document object whenever the <code>Repository.findDocument(id)</code> call is made.</p>\n"},{"tags":[],"owner":{"account_id":6120309,"reputation":3055,"user_id":4774054,"accept_rate":0,"display_name":"Frank Neblung"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1695037709,"creation_date":1505749115,"answer_id":46283251,"question_id":46195830,"body_markdown":"The key to testability is that you have a **field** `repository` that gets constructor-injected into your class. This way you can easily substitute the real  repository by a fake instance (e.g a mockito mock).\r\n\r\nThe best source for learning how to write testable code, that I know, is http://misko.hevery.com/code-reviewers-guide/\r\n\r\n**UPDATED at 2023-09-18**\r\nUnfortunately the above link is broken. But I found most of the material referenced here:\r\n- https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html\r\n- https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html\r\n\r\nInterested readers will skim https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery","title":"Mockito - Mocking a method with parameters","body":"<p>The key to testability is that you have a <strong>field</strong> <code>repository</code> that gets constructor-injected into your class. This way you can easily substitute the real  repository by a fake instance (e.g a mockito mock).</p>\n<p>The best source for learning how to write testable code, that I know, is <a href=\"http://misko.hevery.com/code-reviewers-guide/\" rel=\"nofollow noreferrer\">http://misko.hevery.com/code-reviewers-guide/</a></p>\n<p><strong>UPDATED at 2023-09-18</strong>\nUnfortunately the above link is broken. But I found most of the material referenced here:</p>\n<ul>\n<li><a href=\"https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html\" rel=\"nofollow noreferrer\">https://testing.googleblog.com/2008/08/by-miko-hevery-so-you-decided-to.html</a></li>\n<li><a href=\"https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html\" rel=\"nofollow noreferrer\">https://testing.googleblog.com/2008/07/how-to-write-3v1l-untestable-code.html</a></li>\n</ul>\n<p>Interested readers will skim <a href=\"https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery\" rel=\"nofollow noreferrer\">https://www.google.com/search?q=site%3Atesting.googleblog.com%20misko%20hevery</a></p>\n"}],"owner":{"account_id":3622211,"reputation":451,"user_id":3020656,"accept_rate":63,"display_name":"AYa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46283251,"answer_count":2,"score":1,"last_activity_date":1695037709,"creation_date":1505300601,"question_id":46195830,"body_markdown":"I am writing unit tests for a method that takes in argument `id` which is something like below :\r\n\r\n     public void searchid(String id) {\r\n        Document doc = Repository.findDocument(id); //returns a document\r\n        if (doc == null) {\r\n          System.out.println(&quot;id missing&quot;);\r\n        } else {\r\n          String stringRecord = doc.asJsonString(); //converting doc to string\r\n          \r\n\r\nHere `Repository.findDocument(id)` is returning a document.\r\nIn my unit test, I am getting the JSON file from `src/test/resources`. So, how do I mock `Repository.findDocument(id)`, so as to fetch the file from my resource instead ?\r\n\r\nThanks,\r\n\r\n","title":"Mockito - Mocking a method with parameters","body":"<p>I am writing unit tests for a method that takes in argument <code>id</code> which is something like below :</p>\n\n<pre><code> public void searchid(String id) {\n    Document doc = Repository.findDocument(id); //returns a document\n    if (doc == null) {\n      System.out.println(\"id missing\");\n    } else {\n      String stringRecord = doc.asJsonString(); //converting doc to string\n</code></pre>\n\n<p>Here <code>Repository.findDocument(id)</code> is returning a document.\nIn my unit test, I am getting the JSON file from <code>src/test/resources</code>. So, how do I mock <code>Repository.findDocument(id)</code>, so as to fetch the file from my resource instead ?</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","multithreading","concurrency","coroutine","actor"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1694849754,"post_id":77113720,"comment_id":135947855,"body_markdown":"Please ask only one question at a time.","body":"Please ask only one question at a time."}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695036953,"creation_date":1694792737,"question_id":77113720,"body_markdown":"Is it my understanding of actor model, mpmc and mpsc right?\r\n\r\nI have seen some code like this before:\r\n\r\n```\r\npublic enum ProcessorId implements CommandProcessorId {\r\n    AUTH,\r\n    PLAYER,\r\n    PERSIST,\r\n    COMMON;\r\n}\r\n\r\n\r\n@Slf4j\r\n@Data\r\npublic abstract class Command implements Runnable {\r\n    private Queue queue;\r\n\r\n    @Override\r\n    public final void run() {\r\n        try {\r\n            if (queue != null) {\r\n                CommandContext ctx = CommandContext.ctx.get();\r\n                ctx.setQueue(queue);\r\n            }\r\n\r\n            this.action();\r\n        } catch (Exception e) {\r\n            log.error(&quot;command execute failed.&quot;, e);\r\n        }\r\n    }\r\n\r\n    protected abstract void action() throws Exception;\r\n}\r\n\r\n\r\npublic class CommandContext {\r\n    public static final ThreadLocal&lt;CommandContext&gt; ctx\r\n            = ThreadLocal.withInitial(CommandContext::new);\r\n\r\n    @Setter(AccessLevel.PROTECTED)\r\n    private Queue queue;\r\n\r\n    private CommandContext() {\r\n\r\n    }\r\n\r\n\r\n    public static Queue getQueue() {\r\n        return ctx.get().queue;\r\n    }\r\n\r\n}\r\n\r\npublic interface CommandProcessor {\r\n\r\n    CommandProcessorId getId();\r\n\r\n    Queue getQueue(long key);\r\n\r\n}\r\n\r\npublic interface CommandProcessorId {\r\n\r\n}\r\n\r\n@Component\r\npublic class CommandRouter implements ApplicationContextAware {\r\n    private final Map&lt;CommandProcessorId, CommandProcessor&gt; processors = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public void setApplicationContext(@Nonnull ApplicationContext applicationContext) throws BeansException {\r\n        applicationContext.getBeansOfType(CommandProcessor.class).forEach((name, bean) -&gt; {\r\n            CommandProcessorId id = bean.getId();\r\n            if (processors.containsKey(id)) {\r\n                throw new RuntimeException(&quot;processor repeated: &quot; + id + &quot;/&quot; + bean.getClass().getName());\r\n            }\r\n            processors.put(id, bean);\r\n        });\r\n    }\r\n\r\n\r\n    public void process(CommandProcessorId processorId, long key, Command command) {\r\n        CommandProcessor processor = processors.get(processorId);\r\n        if (processor == null) {\r\n            throw new RuntimeException(&quot;processor not found: &quot; + processorId + &quot; - &quot; + command);\r\n        }\r\n        Queue queue = processor.getQueue(key);\r\n        if (queue == null) {\r\n            throw new RuntimeException(&quot;get queue failed: &quot; + processorId + &quot;/&quot; + key + &quot; - &quot; + command);\r\n        }\r\n        queue.append(command);\r\n    }\r\n}\r\n\r\n@Slf4j\r\npublic class Executor extends ThreadPoolExecutor {\r\n\r\n    public Executor(int corePoolSize, int maxPoolSize) {\r\n        super(corePoolSize, maxPoolSize, 30L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), new ThreadFactory() {\r\n            final AtomicInteger n = new AtomicInteger(0);\r\n            @Override\r\n            public Thread newThread(Runnable r) {\r\n                String name = &quot;queue-execute-thread-&quot; + n.incrementAndGet();\r\n                log.error(&quot;create thread: {}&quot;, name);\r\n                return new Thread(r, name);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void afterExecute(Runnable r, Throwable t) {\r\n        super.afterExecute(r, t);\r\n        ((Command) r).getQueue().resume();\r\n    }\r\n}\r\n\r\npublic class Queue {\r\n    public static final Executor EXECUTOR = new Executor(16, 16);\r\n\r\n    @Getter\r\n    private final long id;\r\n    @Getter\r\n    private final String name;\r\n    @Getter\r\n    private final int capacity;\r\n\r\n    private final java.util.Queue&lt;Command&gt; queue;\r\n\r\n    private boolean running = false;\r\n    @Getter\r\n    @Setter\r\n    private boolean destroy = false;\r\n\r\n\r\n    public Queue(long id, String name, int capacity) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.capacity = capacity;\r\n        this.queue = new ArrayDeque&lt;&gt;();\r\n    }\r\n\r\n    public boolean append(Command command) {\r\n        command.setQueue(this);\r\n        synchronized (this) {\r\n            if (!running &amp;&amp; !destroy) {\r\n                running = true;\r\n                EXECUTOR.execute(command);\r\n                return true;\r\n            }\r\n            return queue.offer(command);\r\n        }\r\n    }\r\n\r\n    protected void resume() {\r\n        synchronized (this) {\r\n            if (destroy) {\r\n                running = false;\r\n                return;\r\n            }\r\n            Command command = queue.poll();\r\n            if (command == null) {\r\n                running = false;\r\n                return;\r\n            }\r\n            EXECUTOR.execute(command);\r\n        }\r\n    }\r\n\r\n}\r\n\r\npublic class QueueCommitException extends AppException {\r\n    public QueueCommitException(String msg) {\r\n        super(msg);\r\n    }\r\n}\r\n\r\npublic class PlayerIndex implements ExposedIndex {\r\n    @Override\r\n    public Object get() {\r\n        return ProcessorId.PLAYER;\r\n    }\r\n}\r\n\r\n@Component\r\npublic class PlayerProcessor implements CommandProcessor {\r\n    private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public CommandProcessorId getId() {\r\n        return ProcessorId.PLAYER;\r\n    }\r\n\r\n    @Override\r\n    public Queue getQueue(long key) {\r\n        return queues.computeIfAbsent(key, k -&gt; new Queue(key, &quot;player@&quot; + key, 1000));\r\n    }\r\n}\r\n\r\n\r\npublic class CommonIndex implements ExposedIndex {\r\n    @Override\r\n    public Object get() {\r\n        return ProcessorId.COMMON;\r\n    }\r\n}\r\n\r\n@Component\r\npublic class CommonProcessor implements CommandProcessor {\r\n    private final Queue queue = new Queue(0, &quot;common&quot;, 2000);\r\n\r\n    @Override\r\n    public CommandProcessorId getId() {\r\n        return ProcessorId.COMMON;\r\n    }\r\n\r\n    @Override\r\n    public Queue getQueue(long key) {\r\n        return queue;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nI think it is a combination of actor model with mpmc((Multiple Producer Multiple Consumer)).\r\n\r\nFor example, each player is an actor,  persist and auth services(see `ProcessorId`) are also actors. In the actor model, there&#39;re serveral important factors: address, mail, mailbox. As an actor processes `mail` in its   ` mailbox` sequentially, so we don&#39;t worry the data race problem in each queue.\r\n\r\nFor one player(see `PlayerProcessor`):\r\n\r\n```\r\nprivate final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;(); // key is playerId\r\n```\r\n\r\nI think the `Long playerId` is `address`, `Queue queue` is a `mailbox`, and `Command command` is a `mail`. If I want to send an `mail ` from other actor to an player(eg. commit some items to player&#39;s backpack at midnight in SpringBoot @Scheduled annotated method), the code would be:\r\n\r\n```java\r\npublic Promise&lt;Void&gt; safeCommit(Player player, LogAction action) {\r\n        Promise&lt;Void&gt; promise = new DefaultPromise&lt;&gt;();\r\n        Queue queue = CommandContext.getQueue();\r\n        if (queue != null &amp;&amp; queue.getId() == player.getId()) {\r\n            try {\r\n                commit(player, action);\r\n                promise.setFulfilled(null);\r\n            } catch (Exception e) {\r\n                promise.setRejected(e);\r\n            }\r\n        } else {\r\n            GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), new Command() {\r\n                @Override\r\n                protected void action() throws Exception {\r\n                    try {\r\n                        commit(player, action);\r\n                        promise.setFulfilled(null);\r\n                    } catch (Exception e) {\r\n                        promise.setRejected(e);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return promise;\r\n    }\r\n```\r\n\r\nThis code is somewhat similar to `tell` in Akka:\r\n\r\n```java\r\nGameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), \r\n                                                            new Command() {...});\r\n\r\n// akka \r\ntargetActor.tell(message, sender)\r\n```\r\n\r\nAnd I think the code at the beginning is `mpmc` implementation. For example, if 100 players send each request to the server, then there&#39;re 100 requests in different player queues and there would be 16 thread at maximum to process these requests. I think the clients who send requests are producers, while the threads that process the logic are consumers.\r\n\r\nSince the code uses thread pool not to create a new thread for each `command`, and to avoid shared data race, each queue are locked using `synchronized` keyword to block other threads until the processing thread release the lock.\r\n\r\nTherefore, I have the following question:\r\n\r\n1. Since queues are detached from one thread and then attach to another, there must be many lock and unlock operations, which result huge cost of thread switching. \r\n\r\n    And I&#39;ve heard some people say that bind one thread to one queue(is it `mpsc` implementation?) are much effective. Since there&#39;re limited threads in the thread pool, if once there&#39;re large number of players online simultaneously, the threads don&#39;t seem to be enough. \r\n\r\n    I want to know how to bind one thread to one queue without lock primitives to ensure concurrent safety.\r\n\r\nIf my understanding or my questions are wrong,  please let me know.  And if you are willing to show your code implementation, I would be much appreciated.\r\n\r\n","title":"how to bind one thread to one queue? Is it mpsc?","body":"<p>Is it my understanding of actor model, mpmc and mpsc right?</p>\n<p>I have seen some code like this before:</p>\n<pre><code>public enum ProcessorId implements CommandProcessorId {\n    AUTH,\n    PLAYER,\n    PERSIST,\n    COMMON;\n}\n\n\n@Slf4j\n@Data\npublic abstract class Command implements Runnable {\n    private Queue queue;\n\n    @Override\n    public final void run() {\n        try {\n            if (queue != null) {\n                CommandContext ctx = CommandContext.ctx.get();\n                ctx.setQueue(queue);\n            }\n\n            this.action();\n        } catch (Exception e) {\n            log.error(&quot;command execute failed.&quot;, e);\n        }\n    }\n\n    protected abstract void action() throws Exception;\n}\n\n\npublic class CommandContext {\n    public static final ThreadLocal&lt;CommandContext&gt; ctx\n            = ThreadLocal.withInitial(CommandContext::new);\n\n    @Setter(AccessLevel.PROTECTED)\n    private Queue queue;\n\n    private CommandContext() {\n\n    }\n\n\n    public static Queue getQueue() {\n        return ctx.get().queue;\n    }\n\n}\n\npublic interface CommandProcessor {\n\n    CommandProcessorId getId();\n\n    Queue getQueue(long key);\n\n}\n\npublic interface CommandProcessorId {\n\n}\n\n@Component\npublic class CommandRouter implements ApplicationContextAware {\n    private final Map&lt;CommandProcessorId, CommandProcessor&gt; processors = new HashMap&lt;&gt;();\n\n    @Override\n    public void setApplicationContext(@Nonnull ApplicationContext applicationContext) throws BeansException {\n        applicationContext.getBeansOfType(CommandProcessor.class).forEach((name, bean) -&gt; {\n            CommandProcessorId id = bean.getId();\n            if (processors.containsKey(id)) {\n                throw new RuntimeException(&quot;processor repeated: &quot; + id + &quot;/&quot; + bean.getClass().getName());\n            }\n            processors.put(id, bean);\n        });\n    }\n\n\n    public void process(CommandProcessorId processorId, long key, Command command) {\n        CommandProcessor processor = processors.get(processorId);\n        if (processor == null) {\n            throw new RuntimeException(&quot;processor not found: &quot; + processorId + &quot; - &quot; + command);\n        }\n        Queue queue = processor.getQueue(key);\n        if (queue == null) {\n            throw new RuntimeException(&quot;get queue failed: &quot; + processorId + &quot;/&quot; + key + &quot; - &quot; + command);\n        }\n        queue.append(command);\n    }\n}\n\n@Slf4j\npublic class Executor extends ThreadPoolExecutor {\n\n    public Executor(int corePoolSize, int maxPoolSize) {\n        super(corePoolSize, maxPoolSize, 30L, TimeUnit.SECONDS, new LinkedBlockingQueue&lt;&gt;(), new ThreadFactory() {\n            final AtomicInteger n = new AtomicInteger(0);\n            @Override\n            public Thread newThread(Runnable r) {\n                String name = &quot;queue-execute-thread-&quot; + n.incrementAndGet();\n                log.error(&quot;create thread: {}&quot;, name);\n                return new Thread(r, name);\n            }\n        });\n    }\n\n    @Override\n    protected void afterExecute(Runnable r, Throwable t) {\n        super.afterExecute(r, t);\n        ((Command) r).getQueue().resume();\n    }\n}\n\npublic class Queue {\n    public static final Executor EXECUTOR = new Executor(16, 16);\n\n    @Getter\n    private final long id;\n    @Getter\n    private final String name;\n    @Getter\n    private final int capacity;\n\n    private final java.util.Queue&lt;Command&gt; queue;\n\n    private boolean running = false;\n    @Getter\n    @Setter\n    private boolean destroy = false;\n\n\n    public Queue(long id, String name, int capacity) {\n        this.id = id;\n        this.name = name;\n        this.capacity = capacity;\n        this.queue = new ArrayDeque&lt;&gt;();\n    }\n\n    public boolean append(Command command) {\n        command.setQueue(this);\n        synchronized (this) {\n            if (!running &amp;&amp; !destroy) {\n                running = true;\n                EXECUTOR.execute(command);\n                return true;\n            }\n            return queue.offer(command);\n        }\n    }\n\n    protected void resume() {\n        synchronized (this) {\n            if (destroy) {\n                running = false;\n                return;\n            }\n            Command command = queue.poll();\n            if (command == null) {\n                running = false;\n                return;\n            }\n            EXECUTOR.execute(command);\n        }\n    }\n\n}\n\npublic class QueueCommitException extends AppException {\n    public QueueCommitException(String msg) {\n        super(msg);\n    }\n}\n\npublic class PlayerIndex implements ExposedIndex {\n    @Override\n    public Object get() {\n        return ProcessorId.PLAYER;\n    }\n}\n\n@Component\npublic class PlayerProcessor implements CommandProcessor {\n    private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;();\n\n    @Override\n    public CommandProcessorId getId() {\n        return ProcessorId.PLAYER;\n    }\n\n    @Override\n    public Queue getQueue(long key) {\n        return queues.computeIfAbsent(key, k -&gt; new Queue(key, &quot;player@&quot; + key, 1000));\n    }\n}\n\n\npublic class CommonIndex implements ExposedIndex {\n    @Override\n    public Object get() {\n        return ProcessorId.COMMON;\n    }\n}\n\n@Component\npublic class CommonProcessor implements CommandProcessor {\n    private final Queue queue = new Queue(0, &quot;common&quot;, 2000);\n\n    @Override\n    public CommandProcessorId getId() {\n        return ProcessorId.COMMON;\n    }\n\n    @Override\n    public Queue getQueue(long key) {\n        return queue;\n    }\n}\n\n\n</code></pre>\n<p>I think it is a combination of actor model with mpmc((Multiple Producer Multiple Consumer)).</p>\n<p>For example, each player is an actor,  persist and auth services(see <code>ProcessorId</code>) are also actors. In the actor model, there're serveral important factors: address, mail, mailbox. As an actor processes <code>mail</code> in its   <code> mailbox</code> sequentially, so we don't worry the data race problem in each queue.</p>\n<p>For one player(see <code>PlayerProcessor</code>):</p>\n<pre><code>private final Map&lt;Long, Queue&gt; queues = new ConcurrentHashMap&lt;&gt;(); // key is playerId\n</code></pre>\n<p>I think the <code>Long playerId</code> is <code>address</code>, <code>Queue queue</code> is a <code>mailbox</code>, and <code>Command command</code> is a <code>mail</code>. If I want to send an <code>mail </code> from other actor to an player(eg. commit some items to player's backpack at midnight in SpringBoot @Scheduled annotated method), the code would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Promise&lt;Void&gt; safeCommit(Player player, LogAction action) {\n        Promise&lt;Void&gt; promise = new DefaultPromise&lt;&gt;();\n        Queue queue = CommandContext.getQueue();\n        if (queue != null &amp;&amp; queue.getId() == player.getId()) {\n            try {\n                commit(player, action);\n                promise.setFulfilled(null);\n            } catch (Exception e) {\n                promise.setRejected(e);\n            }\n        } else {\n            GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), new Command() {\n                @Override\n                protected void action() throws Exception {\n                    try {\n                        commit(player, action);\n                        promise.setFulfilled(null);\n                    } catch (Exception e) {\n                        promise.setRejected(e);\n                    }\n                }\n            });\n        }\n\n        return promise;\n    }\n</code></pre>\n<p>This code is somewhat similar to <code>tell</code> in Akka:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GameApplicationContext.getBean(CommandRouter.class).process(ProcessorId.PLAYER, player.getId(), \n                                                            new Command() {...});\n\n// akka \ntargetActor.tell(message, sender)\n</code></pre>\n<p>And I think the code at the beginning is <code>mpmc</code> implementation. For example, if 100 players send each request to the server, then there're 100 requests in different player queues and there would be 16 thread at maximum to process these requests. I think the clients who send requests are producers, while the threads that process the logic are consumers.</p>\n<p>Since the code uses thread pool not to create a new thread for each <code>command</code>, and to avoid shared data race, each queue are locked using <code>synchronized</code> keyword to block other threads until the processing thread release the lock.</p>\n<p>Therefore, I have the following question:</p>\n<ol>\n<li><p>Since queues are detached from one thread and then attach to another, there must be many lock and unlock operations, which result huge cost of thread switching.</p>\n<p>And I've heard some people say that bind one thread to one queue(is it <code>mpsc</code> implementation?) are much effective. Since there're limited threads in the thread pool, if once there're large number of players online simultaneously, the threads don't seem to be enough.</p>\n<p>I want to know how to bind one thread to one queue without lock primitives to ensure concurrent safety.</p>\n</li>\n</ol>\n<p>If my understanding or my questions are wrong,  please let me know.  And if you are willing to show your code implementation, I would be much appreciated.</p>\n"},{"tags":["java","pdf-generation","openhtmltopdf"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688551244,"post_id":76618802,"comment_id":135087252,"body_markdown":"You have 3 options: [1] Use a java-based PDF generator, such as iText. This is problematic; iText isn&#39;t FOSS, other alternatives aren&#39;t any good. You&#39;d have to ditch the HTML in any case. [2] Let a browser engine render the HTML to PDF. This is problematic, too. [3] Use another ecosystem. Such as pdf-make.js, and run this e.g. using `ProcessBuilder`. Inconvenient, but it&#39;s what I recommend here.","body":"You have 3 options: [1] Use a java-based PDF generator, such as iText. This is problematic; iText isn&#39;t FOSS, other alternatives aren&#39;t any good. You&#39;d have to ditch the HTML in any case. [2] Let a browser engine render the HTML to PDF. This is problematic, too. [3] Use another ecosystem. Such as pdf-make.js, and run this e.g. using <code>ProcessBuilder</code>. Inconvenient, but it&#39;s what I recommend here."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1688551296,"post_id":76618802,"comment_id":135087265,"body_markdown":"The 3rd option would involve changing how your code works (you&#39;d have to just generate the PDF using that library&#39;s constructs, and avoid HTML altogether). The problem is this: From experience, the chrome engine&#39;s print system is deplorably bad. That&#39;s because the chrome team doesn&#39;t care about printing. Bugs about misinterpreting print-specific CSS have been open for _years_. Firefox is much better, but, running firefox headless is very complicated. It requires a full GFX stack, which makes it _very_ heavyweight and hard to install on servers.","body":"The 3rd option would involve changing how your code works (you&#39;d have to just generate the PDF using that library&#39;s constructs, and avoid HTML altogether). The problem is this: From experience, the chrome engine&#39;s print system is deplorably bad. That&#39;s because the chrome team doesn&#39;t care about printing. Bugs about misinterpreting print-specific CSS have been open for <i>years</i>. Firefox is much better, but, running firefox headless is very complicated. It requires a full GFX stack, which makes it <i>very</i> heavyweight and hard to install on servers."}],"answers":[{"tags":[],"owner":{"account_id":23706651,"reputation":88,"user_id":17729030,"display_name":"Saurabh Deshmukh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688548576,"creation_date":1688548576,"answer_id":76618838,"question_id":76618802,"body_markdown":"We did a similar thing, but with python, we used wkhtmltopdf. It also had poor css support. But when we used inline css. The generated pdf followed proper formatting. You may try using inline css. Not sure if it will help. But it helped us.","title":"Html to PDF generation with Java","body":"<p>We did a similar thing, but with python, we used wkhtmltopdf. It also had poor css support. But when we used inline css. The generated pdf followed proper formatting. You may try using inline css. Not sure if it will help. But it helped us.</p>\n"},{"tags":[],"owner":{"account_id":28778728,"reputation":11,"user_id":22040772,"display_name":"finger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688549608,"creation_date":1688549608,"answer_id":76618998,"question_id":76618802,"body_markdown":"You can to try Chrome Headless print\r\n\r\ncmd:\r\n`google-chrome --headless --disable-gpu --print-to-pdf=&#39;/root/test/test.pdf&#39; /root/test/test.html`","title":"Html to PDF generation with Java","body":"<p>You can to try Chrome Headless print</p>\n<p>cmd:\n<code>google-chrome --headless --disable-gpu --print-to-pdf='/root/test/test.pdf' /root/test/test.html</code></p>\n"},{"tags":[],"owner":{"account_id":8515340,"reputation":783,"user_id":6383966,"display_name":"Dheeraj Malik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688694945,"creation_date":1688694945,"answer_id":76633497,"question_id":76618802,"body_markdown":"You can try Spire.PDF for Java. It provides functionality for [rendering HTML with inline CSS to PDF][1]. If you&#39;re using external CSS, you&#39;ll need to convert it into inline CSS to ensure proper rendering within the PDF document. \r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Conversion/Java-convert-HTML-to-PDF.html","title":"Html to PDF generation with Java","body":"<p>You can try Spire.PDF for Java. It provides functionality for <a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Conversion/Java-convert-HTML-to-PDF.html\" rel=\"nofollow noreferrer\">rendering HTML with inline CSS to PDF</a>. If you're using external CSS, you'll need to convert it into inline CSS to ensure proper rendering within the PDF document.</p>\n"}],"owner":{"account_id":28954223,"reputation":21,"user_id":22178114,"display_name":"Laman Aghabayova"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1695036762,"creation_date":1688548320,"question_id":76618802,"body_markdown":"In our project, we have a task to generate PDF from HTML content. For that, we tried to use *flying saucer* and openhtmltoppdf, however, the HTML content that we are trying to generate contains CSS3 syntax, and seems that both of these libraries have poor support for CSS3. As a result generated PDF is incomplete and missing proper layout. \r\nMy question is, if there is any way to generate a proper PDF that will look the same as in the web view in Java?\r\n\r\n\r\nHere is the code snippet:\r\n\r\n\r\n```JAVA\r\nvar document = Jsoup.connect(url).get();\r\n\r\ntry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\r\n    PdfRendererBuilder builder = new PdfRendererBuilder();\r\n    builder.withUri(uri);\r\n    builder.toStream(outputStream);\r\n    builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\r\n    builder.run();\r\n\r\n    return outputStream.toByteArray();\r\n}\r\n```\r\n\r\nWe were also trying to append all the CSS code to the HTML document, since the original HTML document contains external references to the static CSS pages. Here is the snippet:\r\n\r\n```java\r\nfor (Element link : document.select(&quot;link[rel=stylesheet]&quot;)) {\r\n    String cssFilename = link.attr(&quot;href&quot;);\r\n\r\n    Element style = new Element(Tag.valueOf(&quot;style&quot;), &quot;&quot;);\r\n    var css = Jsoup.connect(baseUrl + cssFilename).get().body().text();\r\n\r\n    style.appendText(css);\r\n    link.replaceWith(style);\r\n}\r\n```\r\n","title":"Html to PDF generation with Java","body":"<p>In our project, we have a task to generate PDF from HTML content. For that, we tried to use <em>flying saucer</em> and openhtmltoppdf, however, the HTML content that we are trying to generate contains CSS3 syntax, and seems that both of these libraries have poor support for CSS3. As a result generated PDF is incomplete and missing proper layout.\nMy question is, if there is any way to generate a proper PDF that will look the same as in the web view in Java?</p>\n<p>Here is the code snippet:</p>\n<pre><code>var document = Jsoup.connect(url).get();\n\ntry (ByteArrayOutputStream outputStream = new ByteArrayOutputStream()) {\n    PdfRendererBuilder builder = new PdfRendererBuilder();\n    builder.withUri(uri);\n    builder.toStream(outputStream);\n    builder.withW3cDocument(new W3CDom().fromJsoup(document), &quot;/&quot;);\n    builder.run();\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n<p>We were also trying to append all the CSS code to the HTML document, since the original HTML document contains external references to the static CSS pages. Here is the snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Element link : document.select(&quot;link[rel=stylesheet]&quot;)) {\n    String cssFilename = link.attr(&quot;href&quot;);\n\n    Element style = new Element(Tag.valueOf(&quot;style&quot;), &quot;&quot;);\n    var css = Jsoup.connect(baseUrl + cssFilename).get().body().text();\n\n    style.appendText(css);\n    link.replaceWith(style);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1693858542,"post_id":77040386,"comment_id":135812557,"body_markdown":"Are you using Spring-boot in version `&gt;= 3`? If so: Spring-boot switched from `javax.persistence` to `jakarta.persistence`.","body":"Are you using Spring-boot in version <code>&gt;= 3</code>? If so: Spring-boot switched from <code>javax.persistence</code> to <code>jakarta.persistence</code>."},{"owner":{"account_id":80124,"reputation":528,"user_id":226758,"accept_rate":92,"display_name":"Harry"},"score":0,"creation_date":1693891701,"post_id":77040386,"comment_id":135815314,"body_markdown":"Did you google the error. Here&#39;s one link which you can check : https://www.java67.com/2023/04/how-to-fix-not-managed-type-exception.html","body":"Did you google the error. Here&#39;s one link which you can check : <a href=\"https://www.java67.com/2023/04/how-to-fix-not-managed-type-exception.html\" rel=\"nofollow noreferrer\">java67.com/2023/04/how-to-fix-not-managed-type-exception.htm&zwnj;&#8203;l</a>"}],"answers":[{"tags":[],"owner":{"account_id":26079635,"reputation":24,"user_id":19778028,"display_name":"Elentari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693915936,"creation_date":1693915936,"answer_id":77044412,"question_id":77040386,"body_markdown":"**First:** you can try that \r\n\r\n  `@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n}` \r\n  with `@EnableJpaRepositories(basePackages = &quot;com.springboot.dao&quot;)` anotation with springboot app class.\r\n\r\n**Second:** you can check `spring-boot-starter-data-jpa` dependency  at your pom.xml\r\n\r\n**Third:** You can try use Long for id. I think that it is better practice.\r\n\r\n\r\n\r\n\r\n","title":"Not a managed type: class com.springboot.entities.User","body":"<p><strong>First:</strong> you can try that</p>\n<p><code>@Repository public interface UserRepository extends JpaRepository&lt;User, Integer&gt; { }</code>\nwith <code>@EnableJpaRepositories(basePackages = &quot;com.springboot.dao&quot;)</code> anotation with springboot app class.</p>\n<p><strong>Second:</strong> you can check <code>spring-boot-starter-data-jpa</code> dependency  at your pom.xml</p>\n<p><strong>Third:</strong> You can try use Long for id. I think that it is better practice.</p>\n"},{"tags":[],"owner":{"account_id":29472901,"reputation":1,"user_id":22585235,"display_name":"PatilAditya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695036574,"creation_date":1695036542,"answer_id":77126801,"question_id":77040386,"body_markdown":"Also you can try adding \r\n@EnableJpaRepositories(&quot;com.base.*&quot;)\r\n\r\nannotation to your main springboot class file \r\n\r\neg in your case:\r\n\r\n@EnableJpaRepositories(&quot;com.springboot.entities*&quot;) // path of entity package\r\n@SpringBootApplication\r\npublic class DataApplication {`enter code here`\r\n     //\r\n}\r\n","title":"Not a managed type: class com.springboot.entities.User","body":"<p>Also you can try adding\n@EnableJpaRepositories(&quot;com.base.*&quot;)</p>\n<p>annotation to your main springboot class file</p>\n<p>eg in your case:</p>\n<p>@EnableJpaRepositories(&quot;com.springboot.entities*&quot;) // path of entity package\n@SpringBootApplication\npublic class DataApplication {<code>enter code here</code>\n//\n}</p>\n"}],"owner":{"account_id":26325532,"reputation":1,"user_id":19986908,"display_name":"Prashant Parapelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1695036574,"creation_date":1693858420,"question_id":77040386,"body_markdown":"The Error says Unable to create bean named with user Repository .not  a a managed type com.user .entities\r\nTried with multiple component such enablejparepository.entityscan still it doesn&#39;t work\r\n\r\n```\r\npackage com.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\n\r\nimport com.springboot.dao.UserRepository;\r\nimport com.springboot.entities.User;\r\n\r\n@SpringBootApplication\r\npublic class DataApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext context = SpringApplication.run(DataApplication.class, args);\r\n\t\tUserRepository userRepository = context.getBean(UserRepository.class);\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;prashant&quot;);\r\n\t\tuser.setCity(&quot;vikhroli&quot;);\r\n\t\tuser.setStatus(&quot;java programming&quot;);\r\n        User user2 = userRepository.save(user);\r\n\t\tSystem.out.println(user2);\r\n }\r\n}\r\n```\r\n\r\nThis is the main Application class\r\n-\r\n\r\n```\r\npackage com.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\nimport org.springframework.context.ApplicationContext;\r\n\r\nimport com.springboot.dao.UserRepository;\r\nimport com.springboot.entities.User;\r\n\r\n@SpringBootApplication\r\npublic class DataApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tApplicationContext context = SpringApplication.run(DataApplication.class, args);\r\n\t\tUserRepository userRepository = context.getBean(UserRepository.class);\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;prashant&quot;);\r\n\t\tuser.setCity(&quot;vikhroli&quot;);\r\n\t\tuser.setStatus(&quot;java programming&quot;);\r\n        User user2 = userRepository.save(user);\r\n\t\tSystem.out.println(user2);\r\n }\r\n}\r\n```\r\n\r\nThis the repository class\r\n-\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CrudRepository\\&lt;User, Integer\\&gt; {\r\n\r\n}\r\n```\r\n\r\n```\r\n package com.springboot.entities;\r\n\r\n      import javax.persistence.Entity;\r\n      import javax.persistence.GeneratedValue;\r\n      import javax.persistence.GenerationType;\r\n      import javax.persistence.Id;\r\n\r\n\r\n@Entity\r\npublic class User\r\n{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    public int id;\r\n    public String name;\r\n    public String city;\r\n    public String status;\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic User(int id, String name, String city, String status) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.city = city;\r\n\t\tthis.status = status;\r\n\t}\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\tpublic String getStatus() {\r\n\t\treturn status;\r\n\t}\r\n\tpublic void setStatus(String status) {\r\n\t\tthis.status = status;\r\n\t}\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, city=&quot; + city + &quot;, status=&quot; + status + &quot;]&quot;;\r\n\t}\r\n    \r\n    \r\n}\r\n```\r\n\r\nThis is the entity class\r\n-\r\n\r\n``` \r\n      spring.datasource.name=world\r\n      spring.datasource.url=jdbc:mysql://localhost:/pops\r\n      spring.datasource.username=root\r\n      spring.datasource.password=root\r\n      spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n      spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n      spring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\nThe Error log\r\n-\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39; defined in com.springboot.dao.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.springboot.entities.User","title":"Not a managed type: class com.springboot.entities.User","body":"<p>The Error says Unable to create bean named with user Repository .not  a a managed type com.user .entities\nTried with multiple component such enablejparepository.entityscan still it doesn't work</p>\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.ApplicationContext;\n\nimport com.springboot.dao.UserRepository;\nimport com.springboot.entities.User;\n\n@SpringBootApplication\npublic class DataApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(DataApplication.class, args);\n        UserRepository userRepository = context.getBean(UserRepository.class);\n        User user = new User();\n        user.setName(&quot;prashant&quot;);\n        user.setCity(&quot;vikhroli&quot;);\n        user.setStatus(&quot;java programming&quot;);\n        User user2 = userRepository.save(user);\n        System.out.println(user2);\n }\n}\n</code></pre>\n<h2>This is the main Application class</h2>\n<pre><code>package com.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\nimport org.springframework.context.ApplicationContext;\n\nimport com.springboot.dao.UserRepository;\nimport com.springboot.entities.User;\n\n@SpringBootApplication\npublic class DataApplication {\n\n    public static void main(String[] args) {\n        ApplicationContext context = SpringApplication.run(DataApplication.class, args);\n        UserRepository userRepository = context.getBean(UserRepository.class);\n        User user = new User();\n        user.setName(&quot;prashant&quot;);\n        user.setCity(&quot;vikhroli&quot;);\n        user.setStatus(&quot;java programming&quot;);\n        User user2 = userRepository.save(user);\n        System.out.println(user2);\n }\n}\n</code></pre>\n<h2>This the repository class</h2>\n<pre><code>@Repository\npublic interface UserRepository extends CrudRepository\\&lt;User, Integer\\&gt; {\n\n}\n</code></pre>\n<pre><code> package com.springboot.entities;\n\n      import javax.persistence.Entity;\n      import javax.persistence.GeneratedValue;\n      import javax.persistence.GenerationType;\n      import javax.persistence.Id;\n\n\n@Entity\npublic class User\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    public int id;\n    public String name;\n    public String city;\n    public String status;\n    public User() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public User(int id, String name, String city, String status) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.city = city;\n        this.status = status;\n    }\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public String getStatus() {\n        return status;\n    }\n    public void setStatus(String status) {\n        this.status = status;\n    }\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;, city=&quot; + city + &quot;, status=&quot; + status + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n<h2>This is the entity class</h2>\n<pre><code>      spring.datasource.name=world\n      spring.datasource.url=jdbc:mysql://localhost:/pops\n      spring.datasource.username=root\n      spring.datasource.password=root\n      spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n      spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n      spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<h2>The Error log</h2>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository' defined in com.springboot.dao.UserRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Not a managed type: class com.springboot.entities.User</p>\n"},{"tags":["java","spring","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695036437,"creation_date":1688248602,"answer_id":76596713,"question_id":76594757,"body_markdown":"Adding this as an answer for the future. It seems like there as a somewhat progressed proposal in the GraphQL Spec working group, which would solve that issue, by allowing client controlled nullability (basically changing the nullability of a field in the request):\r\n\r\nhttps://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md\r\n\r\nHere is an excerpt of the proposal:\r\n\r\n&gt; Each client controlled nullability designator overrides the\r\n&gt; schema-defined nullability of the field it&#39;s attached to for the\r\n&gt; duration of the operation.\r\n&gt; \r\n&gt;**!**\r\n&gt;\r\n&gt; The proposed client-controlled required designator would have similar,\r\n&gt; but not identical semantics to the current schema-defined Non-Null.\r\n&gt; Specifically if a required field resolves to null, then null\r\n&gt; propagation extends to the nearest optional parent rather than the\r\n&gt; nearest nullable parent. In the event that no optional parent exists,\r\n&gt; the data field of the response will be null.\r\n&gt; \r\n&gt;**?**\r\n&gt; \r\n&gt; The proposed client-controlled optional designator would have\r\n&gt; identical semantics to the current schema-defined default behavior.\r\n&gt; Fields that resolve to null return null for that field. Additionally,\r\n&gt; fields marked with ? act as a stopping point for null propagation\r\n&gt; caused by required fields.\r\n\r\n**Update 18.09.2023:** Sadly the RFC was updated to only include &quot;!&quot;, but omit the counter-part in &quot;?&quot;. This was done to reduce the complexity and move the RFC forward. This means that the RFC in it&#39;s current form will not be a full solution to the issue outlined in my question. I will still keep this answer here in case it becomes useful again.","title":"GraphQL field level authorization and nullability","body":"<p>Adding this as an answer for the future. It seems like there as a somewhat progressed proposal in the GraphQL Spec working group, which would solve that issue, by allowing client controlled nullability (basically changing the nullability of a field in the request):</p>\n<p><a href=\"https://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md\" rel=\"nofollow noreferrer\">https://github.com/graphql/graphql-wg/blob/main/rfcs/ClientControlledNullability.md</a></p>\n<p>Here is an excerpt of the proposal:</p>\n<blockquote>\n<p>Each client controlled nullability designator overrides the\nschema-defined nullability of the field it's attached to for the\nduration of the operation.</p>\n<p><strong>!</strong></p>\n<p>The proposed client-controlled required designator would have similar,\nbut not identical semantics to the current schema-defined Non-Null.\nSpecifically if a required field resolves to null, then null\npropagation extends to the nearest optional parent rather than the\nnearest nullable parent. In the event that no optional parent exists,\nthe data field of the response will be null.</p>\n<p><strong>?</strong></p>\n<p>The proposed client-controlled optional designator would have\nidentical semantics to the current schema-defined default behavior.\nFields that resolve to null return null for that field. Additionally,\nfields marked with ? act as a stopping point for null propagation\ncaused by required fields.</p>\n</blockquote>\n<p><strong>Update 18.09.2023:</strong> Sadly the RFC was updated to only include &quot;!&quot;, but omit the counter-part in &quot;?&quot;. This was done to reduce the complexity and move the RFC forward. This means that the RFC in it's current form will not be a full solution to the issue outlined in my question. I will still keep this answer here in case it becomes useful again.</p>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690409510,"creation_date":1690375607,"answer_id":76771487,"question_id":76594757,"body_markdown":"Here are some thoughts I hope you find useful.\r\n\r\nNullability\r\n--\r\nNullability on _output_ types is _generally_ regarded as not the best idea in many cases. I&#39;ll quote [Production Ready GraphQL](https://productionreadygraphql.com) here (the book is worth its weight in gold to anyone designing GraphQL schemas, can not recommend it enough):\r\n\r\n&gt; So here are a few guidelines that I use for nullability when designing\r\n&gt; schemas:\r\n&gt; \r\n&gt; - For arguments, non-null is almost always better to allow for a more predictable and easy to understand API. (If you’re adding an argument,\r\n&gt; nullable is the best choice to avoid breaking existing clients)\r\n&gt; - Fields that return object types that are backed by database associations, network calls, or anything else that could potentially\r\n&gt; fail one day should almost always be nullable.\r\n&gt; - Simple scalars on an object that you know will already have been loaded on the parent at execution time are generally safe to make\r\n&gt; non-null.\r\n\r\nOne reason nullability on the output is dangerous is that if a non-null field does end up being null, the whole parent object is nulled too. And if that parent is also non-null... well, you can easily end up bombing your entire object graph for no good reason. [This article](https://www.apollographql.com/blog/graphql/basics/using-nullability-in-graphql/) also has a decent summary of the situation and best practices.\r\n\r\nGraphqlFieldVisibility\r\n--\r\n- A _very_ neat way to handle per-field authorization (when possible) instead is to provide a custom `GraphqlFieldVisibility` for each user (of rather tenant). This way, you have no issues with nullable fields, because the users already can not even see (nor request) the fields they&#39;re not authorized to see. The effective schema their requests are executed against is already filtered to only include the permitted fields. This approach does not apply for fields where you need to inspect the runtime value of the inputs or outputs before you make the decision on whether a field is accessible or not, but works wonderfully everywhere else (e.g. for role-based or access-list based authorization).\r\n\r\nHere&#39;s the pseudo-code for this:\r\n\r\n    //Do this on each request*\r\n    GraphQLCodeRegistry codeRegistry = schema.getCodeRegistry().transform(c -&gt; c.fieldVisibility(new AuthVisibility(currentUser)));\r\n    GraphQL runtime = GraphQL.newGraphQL(schema.transform(s -&gt; s.codeRegistry(codeRegistry)));\r\n\r\nThen implement `AuthVisibility` using the current user (or whatever else is applicable) to decide whether a field is visible to that user. I e.g. made use of Spring Security for this, and invoked the same logic it normally invokes to decide if the underlying resolver method can be called by the current user. I can probably dig out some of that code should you need it.\r\n\r\n*You can also somehow cache the resulting `GraphQL` object per user session, but it&#39;s probably not needed, as the transformations involved are trivial.","title":"GraphQL field level authorization and nullability","body":"<p>Here are some thoughts I hope you find useful.</p>\n<h2>Nullability</h2>\n<p>Nullability on <em>output</em> types is <em>generally</em> regarded as not the best idea in many cases. I'll quote <a href=\"https://productionreadygraphql.com\" rel=\"nofollow noreferrer\">Production Ready GraphQL</a> here (the book is worth its weight in gold to anyone designing GraphQL schemas, can not recommend it enough):</p>\n<blockquote>\n<p>So here are a few guidelines that I use for nullability when designing\nschemas:</p>\n<ul>\n<li>For arguments, non-null is almost always better to allow for a more predictable and easy to understand API. (If you’re adding an argument,\nnullable is the best choice to avoid breaking existing clients)</li>\n<li>Fields that return object types that are backed by database associations, network calls, or anything else that could potentially\nfail one day should almost always be nullable.</li>\n<li>Simple scalars on an object that you know will already have been loaded on the parent at execution time are generally safe to make\nnon-null.</li>\n</ul>\n</blockquote>\n<p>One reason nullability on the output is dangerous is that if a non-null field does end up being null, the whole parent object is nulled too. And if that parent is also non-null... well, you can easily end up bombing your entire object graph for no good reason. <a href=\"https://www.apollographql.com/blog/graphql/basics/using-nullability-in-graphql/\" rel=\"nofollow noreferrer\">This article</a> also has a decent summary of the situation and best practices.</p>\n<h2>GraphqlFieldVisibility</h2>\n<ul>\n<li>A <em>very</em> neat way to handle per-field authorization (when possible) instead is to provide a custom <code>GraphqlFieldVisibility</code> for each user (of rather tenant). This way, you have no issues with nullable fields, because the users already can not even see (nor request) the fields they're not authorized to see. The effective schema their requests are executed against is already filtered to only include the permitted fields. This approach does not apply for fields where you need to inspect the runtime value of the inputs or outputs before you make the decision on whether a field is accessible or not, but works wonderfully everywhere else (e.g. for role-based or access-list based authorization).</li>\n</ul>\n<p>Here's the pseudo-code for this:</p>\n<pre><code>//Do this on each request*\nGraphQLCodeRegistry codeRegistry = schema.getCodeRegistry().transform(c -&gt; c.fieldVisibility(new AuthVisibility(currentUser)));\nGraphQL runtime = GraphQL.newGraphQL(schema.transform(s -&gt; s.codeRegistry(codeRegistry)));\n</code></pre>\n<p>Then implement <code>AuthVisibility</code> using the current user (or whatever else is applicable) to decide whether a field is visible to that user. I e.g. made use of Spring Security for this, and invoked the same logic it normally invokes to decide if the underlying resolver method can be called by the current user. I can probably dig out some of that code should you need it.</p>\n<p>*You can also somehow cache the resulting <code>GraphQL</code> object per user session, but it's probably not needed, as the transformations involved are trivial.</p>\n"}],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76771487,"answer_count":2,"score":2,"last_activity_date":1695036437,"creation_date":1688215450,"question_id":76594757,"body_markdown":"We&#39;ve implemented field level authorization in the type resolvers of our server, where a field is only returned with a value if the user has access to it, otherwise &quot;null&quot; is returned (with information in the extensions). The reason why we are not just returning an error (with an empty data response) is that we have web apps that are used by a variety of users with different access levels, and we don&#39;t want (and in some circumstances can&#39;t) write queries fitting for every access pattern. Our client has separate logic to deal with authorization, so that the missing information is handeled correctly.\r\n\r\nNow we also wanted to add nullability information to our GraphQL schema, but that turned out to be difficult with the above way of handling missing access. If a field technically is never returned null from our data, we would like mark it as non-nullable in the schema as well. But since missing authorization can make the field null while resolving GraphQL, it is not working well in all situations.\r\n\r\nI think my only options are:\r\n - Remove the non-nullable information from parts of the schema that can be affected by authorization checks\r\n - Build custom queries on the client for the different access types (that would at least allow us to return an error instead of making a field &quot;null&quot;, but would mean a lot of work to cover all possible access rules)\r\n - Somehow remove the entire field from the response before GQL validates it, but that sounds very dirty and also probably breaks the GQL &quot;contract&quot; between server and client.\r\n\r\nHas anyone else dealt with field-level authorization, common queries and nullability in GQL and has some other suggestions how to handle this? ","title":"GraphQL field level authorization and nullability","body":"<p>We've implemented field level authorization in the type resolvers of our server, where a field is only returned with a value if the user has access to it, otherwise &quot;null&quot; is returned (with information in the extensions). The reason why we are not just returning an error (with an empty data response) is that we have web apps that are used by a variety of users with different access levels, and we don't want (and in some circumstances can't) write queries fitting for every access pattern. Our client has separate logic to deal with authorization, so that the missing information is handeled correctly.</p>\n<p>Now we also wanted to add nullability information to our GraphQL schema, but that turned out to be difficult with the above way of handling missing access. If a field technically is never returned null from our data, we would like mark it as non-nullable in the schema as well. But since missing authorization can make the field null while resolving GraphQL, it is not working well in all situations.</p>\n<p>I think my only options are:</p>\n<ul>\n<li>Remove the non-nullable information from parts of the schema that can be affected by authorization checks</li>\n<li>Build custom queries on the client for the different access types (that would at least allow us to return an error instead of making a field &quot;null&quot;, but would mean a lot of work to cover all possible access rules)</li>\n<li>Somehow remove the entire field from the response before GQL validates it, but that sounds very dirty and also probably breaks the GQL &quot;contract&quot; between server and client.</li>\n</ul>\n<p>Has anyone else dealt with field-level authorization, common queries and nullability in GQL and has some other suggestions how to handle this?</p>\n"},{"tags":["java","android","imageview","fresco"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1694400318,"post_id":77078147,"comment_id":135881454,"body_markdown":"Can you give general explanation on what you are trying to do~","body":"Can you give general explanation on what you are trying to do~"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694418346,"post_id":77078147,"comment_id":135883325,"body_markdown":"The aar file of 2.6.0 contains `libnative-imagetranscoder.so` for all 4 major ABI and has a size of 685KB, version 3.0 does not contain any .so files and has a size of 5KB (and the dependencies have not changed). May be v3.0 is a defect release?","body":"The aar file of 2.6.0 contains <code>libnative-imagetranscoder.so</code> for all 4 major ABI and has a size of 685KB, version 3.0 does not contain any .so files and has a size of 5KB (and the dependencies have not changed). May be v3.0 is a defect release?"}],"answers":[{"tags":[],"owner":{"account_id":6605717,"reputation":238,"user_id":5102602,"display_name":"Shashank Bhong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695036196,"creation_date":1695036196,"answer_id":77126770,"question_id":77078147,"body_markdown":"We can use like \r\n```\r\nimplementation(&quot;com.facebook.fresco:fresco:2.6.0&quot;)\r\n```","title":"Fresco java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libnative-imagetranscoder.so&quot; not found - Android Studio - Java","body":"<p>We can use like</p>\n<pre><code>implementation(&quot;com.facebook.fresco:fresco:2.6.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":11740512,"reputation":67,"user_id":8593001,"display_name":"Murat Gungor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695036196,"creation_date":1694386392,"question_id":77078147,"body_markdown":"Adding this did not solve my problem \r\n`implementation(&quot;com.facebook.fresco:nativeimagetranscoder:3.0.0&quot;)`\r\n\r\nbut this solved my problem with Android Studio with Java in gradle  dependencies\r\n```\r\nimplementation(&quot;com.facebook.fresco:nativeimagetranscoder&quot;) {\r\n        version {\r\n            strictly(&quot;2.6.0&quot;)\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\nDid not now I should be including this lib \r\n```\r\ncom.facebook.fresco:nativeimagetranscoder\r\n```","title":"Fresco java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libnative-imagetranscoder.so&quot; not found - Android Studio - Java","body":"<p>Adding this did not solve my problem\n<code>implementation(&quot;com.facebook.fresco:nativeimagetranscoder:3.0.0&quot;)</code></p>\n<p>but this solved my problem with Android Studio with Java in gradle  dependencies</p>\n<pre><code>implementation(&quot;com.facebook.fresco:nativeimagetranscoder&quot;) {\n        version {\n            strictly(&quot;2.6.0&quot;)\n        }\n    }\n</code></pre>\n<p>Did not now I should be including this lib</p>\n<pre><code>com.facebook.fresco:nativeimagetranscoder\n</code></pre>\n"},{"tags":["java","eclipse","gradle","eclipse-wtp"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":0,"creation_date":1695029896,"post_id":77125852,"comment_id":135964684,"body_markdown":"You can clean build your project or just right click on the project folder and refresh it.","body":"You can clean build your project or just right click on the project folder and refresh it."},{"owner":{"account_id":29471731,"reputation":3,"user_id":22584244,"display_name":"KKwak"},"score":0,"creation_date":1695030017,"post_id":77125852,"comment_id":135964701,"body_markdown":"I tried everything and it&#39;s the same...","body":"I tried everything and it&#39;s the same..."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1695035815,"post_id":77125852,"comment_id":135965783,"body_markdown":"Please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) to the [bug report](https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136) and reopen it.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136\" rel=\"nofollow noreferrer\">bug report</a> and reopen it."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1695046850,"post_id":77125852,"comment_id":135968169,"body_markdown":"A new image is not, by itself, a reproducible example. For the most basic information, there aren&#39;t actually web.xml files in each folder?","body":"A new image is not, by itself, a reproducible example. For the most basic information, there aren&#39;t actually web.xml files in each folder?"}],"answers":[{"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695030156,"creation_date":1695030156,"answer_id":77126110,"question_id":77125852,"body_markdown":"Eclipse has once recorded this bug. You can check your eclipse version. I have provided the link in which this bug was reported.\r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=182136","title":"There is a deployment descriptor in every folder. What&#39;s happening?","body":"<p>Eclipse has once recorded this bug. You can check your eclipse version. I have provided the link in which this bug was reported.\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=182136</a></p>\n"}],"owner":{"account_id":29471731,"reputation":3,"user_id":22584244,"display_name":"KKwak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77126110,"answer_count":1,"score":0,"last_activity_date":1695035844,"creation_date":1695028063,"question_id":77125852,"body_markdown":"The project is a gradle project in the eclipse environment. I received the project from someone else and imported it, and I see deployment descriptors created in all folders. I don&#39;t think this should happen, but how can I fix this error?\r\nJava is using 11 and Tomcat is using 9.0.\r\n(ps. The folder name has been hidden for security reasons.)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI imported the project several times and tried importing it by reinstalling the 2023-06 and 2022-03 versions of Eclipse.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdB9d.png","title":"There is a deployment descriptor in every folder. What&#39;s happening?","body":"<p>The project is a gradle project in the eclipse environment. I received the project from someone else and imported it, and I see deployment descriptors created in all folders. I don't think this should happen, but how can I fix this error?\nJava is using 11 and Tomcat is using 9.0.\n(ps. The folder name has been hidden for security reasons.)</p>\n<p><a href=\"https://i.stack.imgur.com/DdB9d.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DdB9d.png\" alt=\"enter image description here\" /></a></p>\n<p>I imported the project several times and tried importing it by reinstalling the 2023-06 and 2022-03 versions of Eclipse.</p>\n"},{"tags":["java","swing","zooming","jscrollpane","graphics2d"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695053076,"post_id":77126586,"comment_id":135969564,"body_markdown":"You might want to consider using Graphics2D.zoom instead of the AffineTransform. The biggest(?) issue with this is translating mouse event points to account for the zoom. You might want to look at ZoomPanel (https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/ZoomPanel.java)","body":"You might want to consider using Graphics2D.zoom instead of the AffineTransform. The biggest(?) issue with this is translating mouse event points to account for the zoom. You might want to look at ZoomPanel (<a href=\"https://sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/ZoomPanel.java\" rel=\"nofollow noreferrer\">sourceforge.net/p/tus/code/HEAD/tree/tjacobs/ui/mod/&hellip;</a>)"},{"owner":{"account_id":29472347,"reputation":11,"user_id":22584768,"display_name":"Displayname"},"score":0,"creation_date":1695113499,"post_id":77126586,"comment_id":135977374,"body_markdown":"Yeah, I know. But unfortunately G2D zoom did not work as smoothly as AffineTransform. It seems like I need to switch to this approach.","body":"Yeah, I know. But unfortunately G2D zoom did not work as smoothly as AffineTransform. It seems like I need to switch to this approach."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1695136111,"post_id":77126586,"comment_id":135982041,"body_markdown":"I don&#39;t know what to tell you; I was just thinking that it might be better to do this in JOGL, just because OGL is better set up for moving the camera. Otherwise, I don&#39;t know.","body":"I don&#39;t know what to tell you; I was just thinking that it might be better to do this in JOGL, just because OGL is better set up for moving the camera. Otherwise, I don&#39;t know."}],"owner":{"account_id":29472347,"reputation":11,"user_id":22584768,"display_name":"Displayname"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695034275,"creation_date":1695034275,"question_id":77126586,"body_markdown":"my goal is to implement an image viewer, where one can zoom to the mouse position and the JScrollPane correctly response to this zoom gesture. Also the possibility to roate the image would be nice.\r\nI&#39;m thrilled about Affine Transformation and the the smooth zooming described in [this](https://stackoverflow.com/questions/63583595/java-graphics2d-zoom-on-mouse-location) post.\r\nSo I implemented this affine transformation together with the feature to rotate the image with F7 and F8. (Zoom with control+mouse wheel)\r\nBut unfortunately the JScrollPane does not correctly adjust to the zooming and scrolling with the scrollbars leads to a distortion of the image. \r\nI found that the reason for this distortion is the following line in the paintComponent Method:\r\n`g2.setTransform(cordTransform);` Since removing this line leads to a normal scrolling, but then the zooming is not possible. \r\nAlso I tried to use the setView method to correct the alignment of the JScrollPane, but this did also not work properly.\r\nI appreciate any help provided.\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\npackage org.example;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionAdapter;\r\nimport java.awt.event.MouseWheelEvent;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.geom.NoninvertibleTransformException;\r\nimport java.awt.geom.Point2D;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\n\r\npublic class ZoomAndPan1 extends JPanel {\r\n\r\n    BufferedImage img;\r\n    private boolean init = true;\r\n    private static final double ZOOM_MULTIPLICATION_FACTOR = 1.2;\r\n    private AffineTransform cordTransform = new AffineTransform();\r\n    private double scale = 1.0;\r\n\r\n    public ZoomAndPan1() throws IOException {\r\n        this.addMouseWheelListener(e -&gt; {\r\n            if (e.isControlDown()) {\r\n                zoom(e);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        int x = (int) (this.getWidth() - (img.getWidth() * scale)) / 2;\r\n        int y = (int) (this.getHeight() - (img.getHeight() * scale)) / 2;\r\n\r\n        AffineTransform at = new AffineTransform();\r\n        at.translate(x, y);\r\n        at.scale(scale, scale);\r\n        if (init) {\r\n            g2.setTransform(at);\r\n            init = false;\r\n            cordTransform = g2.getTransform();\r\n        } else {\r\n            g2.setTransform(cordTransform);\r\n        }\r\n\r\n        g2.drawImage(img, 0, 0, this);\r\n        g2.dispose();\r\n    }\r\n\r\n    private void rotate(int e) {\r\n        double centerX = (double) img.getWidth() / 2;\r\n        double centerY = (double) img.getHeight() / 2;\r\n        cordTransform.translate(centerX, centerY);\r\n        if (e &gt; 0) {\r\n            cordTransform.quadrantRotate(3);\r\n        } else {\r\n            cordTransform.quadrantRotate(1);\r\n        }\r\n        cordTransform.translate(-centerX, -centerY);\r\n        repaint();\r\n    }\r\n\r\n\r\n    private void zoom(MouseWheelEvent e) {\r\n        try {\r\n            int wheelRotation = e.getWheelRotation();\r\n            Point p = e.getPoint();\r\n            Point2D p1 = transformPoint(p);\r\n            if (wheelRotation &gt; 0) {\r\n                scale *= 1 / ZOOM_MULTIPLICATION_FACTOR;\r\n                cordTransform.scale(1 / ZOOM_MULTIPLICATION_FACTOR, 1 / ZOOM_MULTIPLICATION_FACTOR);\r\n            } else {\r\n                scale *= ZOOM_MULTIPLICATION_FACTOR;\r\n                cordTransform.scale(ZOOM_MULTIPLICATION_FACTOR, ZOOM_MULTIPLICATION_FACTOR);\r\n            }\r\n            Point2D p2 = transformPoint(p);\r\n            cordTransform.translate(p2.getX() - p1.getX(), p2.getY() - p1.getY());\r\n            revalidate();\r\n            repaint();\r\n        } catch (NoninvertibleTransformException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    \r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredSize() {\r\n        int w = (int) (scale * img.getWidth());\r\n        int h = (int) (scale * img.getHeight());\r\n        return new Dimension(w, h);\r\n    }\r\n\r\n    private Point2D.Float transformPoint(Point p1) throws NoninvertibleTransformException {\r\n        AffineTransform inverse = cordTransform.createInverse();\r\n        Point2D.Float p2 = new Point2D.Float();\r\n        inverse.transform(p1, p2);\r\n        return p2;\r\n    }\r\n\r\n    public void setImg(BufferedImage img) {\r\n        this.img = img;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            BufferedImage img = ImageIO.read(new File(&quot;src/main/resources/car.jpg&quot;));\r\n            MapScale mapScale = new MapScale(img);\r\n            JFrame frame = new JFrame(&quot;Zoom and Pan &quot;);\r\n            Dimension d = new Dimension(1920,1080);\r\n            frame.setSize(d);\r\n            frame.setPreferredSize(d);\r\n            frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\r\n            ZoomAndPan1 zoomAndPan1 = new ZoomAndPan1();\r\n            zoomAndPan1.setImg(img);\r\n            JScrollPane scrollPane = new JScrollPane(mapScale);\r\n            scrollPane.setViewportView(zoomAndPan1);\r\n            frame.add(scrollPane, BorderLayout.CENTER);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n            frame.addKeyListener(new KeyListener() {\r\n                @Override\r\n                public void keyTyped(KeyEvent e) {\r\n                    // NOP\r\n                }\r\n\r\n                @Override\r\n                public void keyPressed(KeyEvent e) {\r\n                    if (e.getKeyCode() == KeyEvent.VK_F7) {\r\n                        zoomAndPan1.rotate(1);\r\n                    }\r\n                    if (e.getKeyCode() == KeyEvent.VK_F8) {\r\n                        zoomAndPan1.rotate(-1);\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void keyReleased(KeyEvent e) {\r\n                    // NOP\r\n                }\r\n            });\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(ZoomAndPan1.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```","title":"Zoom to Mouse Pointer using AffineTransform and JScrollPane","body":"<p>my goal is to implement an image viewer, where one can zoom to the mouse position and the JScrollPane correctly response to this zoom gesture. Also the possibility to roate the image would be nice.\nI'm thrilled about Affine Transformation and the the smooth zooming described in <a href=\"https://stackoverflow.com/questions/63583595/java-graphics2d-zoom-on-mouse-location\">this</a> post.\nSo I implemented this affine transformation together with the feature to rotate the image with F7 and F8. (Zoom with control+mouse wheel)\nBut unfortunately the JScrollPane does not correctly adjust to the zooming and scrolling with the scrollbars leads to a distortion of the image.\nI found that the reason for this distortion is the following line in the paintComponent Method:\n<code>g2.setTransform(cordTransform);</code> Since removing this line leads to a normal scrolling, but then the zooming is not possible.\nAlso I tried to use the setView method to correct the alignment of the JScrollPane, but this did also not work properly.\nI appreciate any help provided.</p>\n<p>Here's my code:</p>\n<pre><code>package org.example;\n\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionAdapter;\nimport java.awt.event.MouseWheelEvent;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.NoninvertibleTransformException;\nimport java.awt.geom.Point2D;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class ZoomAndPan1 extends JPanel {\n\n    BufferedImage img;\n    private boolean init = true;\n    private static final double ZOOM_MULTIPLICATION_FACTOR = 1.2;\n    private AffineTransform cordTransform = new AffineTransform();\n    private double scale = 1.0;\n\n    public ZoomAndPan1() throws IOException {\n        this.addMouseWheelListener(e -&gt; {\n            if (e.isControlDown()) {\n                zoom(e);\n            }\n        });\n    }\n\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D) g;\n        int x = (int) (this.getWidth() - (img.getWidth() * scale)) / 2;\n        int y = (int) (this.getHeight() - (img.getHeight() * scale)) / 2;\n\n        AffineTransform at = new AffineTransform();\n        at.translate(x, y);\n        at.scale(scale, scale);\n        if (init) {\n            g2.setTransform(at);\n            init = false;\n            cordTransform = g2.getTransform();\n        } else {\n            g2.setTransform(cordTransform);\n        }\n\n        g2.drawImage(img, 0, 0, this);\n        g2.dispose();\n    }\n\n    private void rotate(int e) {\n        double centerX = (double) img.getWidth() / 2;\n        double centerY = (double) img.getHeight() / 2;\n        cordTransform.translate(centerX, centerY);\n        if (e &gt; 0) {\n            cordTransform.quadrantRotate(3);\n        } else {\n            cordTransform.quadrantRotate(1);\n        }\n        cordTransform.translate(-centerX, -centerY);\n        repaint();\n    }\n\n\n    private void zoom(MouseWheelEvent e) {\n        try {\n            int wheelRotation = e.getWheelRotation();\n            Point p = e.getPoint();\n            Point2D p1 = transformPoint(p);\n            if (wheelRotation &gt; 0) {\n                scale *= 1 / ZOOM_MULTIPLICATION_FACTOR;\n                cordTransform.scale(1 / ZOOM_MULTIPLICATION_FACTOR, 1 / ZOOM_MULTIPLICATION_FACTOR);\n            } else {\n                scale *= ZOOM_MULTIPLICATION_FACTOR;\n                cordTransform.scale(ZOOM_MULTIPLICATION_FACTOR, ZOOM_MULTIPLICATION_FACTOR);\n            }\n            Point2D p2 = transformPoint(p);\n            cordTransform.translate(p2.getX() - p1.getX(), p2.getY() - p1.getY());\n            revalidate();\n            repaint();\n        } catch (NoninvertibleTransformException ex) {\n            ex.printStackTrace();\n        }\n    \n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        int w = (int) (scale * img.getWidth());\n        int h = (int) (scale * img.getHeight());\n        return new Dimension(w, h);\n    }\n\n    private Point2D.Float transformPoint(Point p1) throws NoninvertibleTransformException {\n        AffineTransform inverse = cordTransform.createInverse();\n        Point2D.Float p2 = new Point2D.Float();\n        inverse.transform(p1, p2);\n        return p2;\n    }\n\n    public void setImg(BufferedImage img) {\n        this.img = img;\n    }\n\n    public static void main(String[] args) {\n        try {\n            BufferedImage img = ImageIO.read(new File(&quot;src/main/resources/car.jpg&quot;));\n            MapScale mapScale = new MapScale(img);\n            JFrame frame = new JFrame(&quot;Zoom and Pan &quot;);\n            Dimension d = new Dimension(1920,1080);\n            frame.setSize(d);\n            frame.setPreferredSize(d);\n            frame.setDefaultCloseOperation(WindowConstants.DISPOSE_ON_CLOSE);\n            ZoomAndPan1 zoomAndPan1 = new ZoomAndPan1();\n            zoomAndPan1.setImg(img);\n            JScrollPane scrollPane = new JScrollPane(mapScale);\n            scrollPane.setViewportView(zoomAndPan1);\n            frame.add(scrollPane, BorderLayout.CENTER);\n            frame.pack();\n            frame.setVisible(true);\n            frame.addKeyListener(new KeyListener() {\n                @Override\n                public void keyTyped(KeyEvent e) {\n                    // NOP\n                }\n\n                @Override\n                public void keyPressed(KeyEvent e) {\n                    if (e.getKeyCode() == KeyEvent.VK_F7) {\n                        zoomAndPan1.rotate(1);\n                    }\n                    if (e.getKeyCode() == KeyEvent.VK_F8) {\n                        zoomAndPan1.rotate(-1);\n                    }\n                }\n\n                @Override\n                public void keyReleased(KeyEvent e) {\n                    // NOP\n                }\n            });\n        } catch (IOException ex) {\n            Logger.getLogger(ZoomAndPan1.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","openai-api","chatgpt-api"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1694892382,"post_id":77119202,"comment_id":135952195,"body_markdown":"What happens when you don&#39;t try to catch exceptions when doing the HTTP call? My guess is [How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?](https://stackoverflow.com/q/6343166/295004) Also read: https://developer.android.com/training/articles/perf-anr and https://developer.android.com/guide/background/asynchronous","body":"What happens when you don&#39;t try to catch exceptions when doing the HTTP call? My guess is <a href=\"https://stackoverflow.com/q/6343166/295004\">How can I fix &#39;android.os.NetworkOnMainThreadException&#39;?</a> Also read: <a href=\"https://developer.android.com/training/articles/perf-anr\" rel=\"nofollow noreferrer\">developer.android.com/training/articles/perf-anr</a> and <a href=\"https://developer.android.com/guide/background/asynchronous\" rel=\"nofollow noreferrer\">developer.android.com/guide/background/asynchronous</a>"},{"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"score":1,"creation_date":1694903099,"post_id":77119202,"comment_id":135953136,"body_markdown":"Yeah.. The problem is when in Android you use the main thread to make network conncetion. Thanks","body":"Yeah.. The problem is when in Android you use the main thread to make network conncetion. Thanks"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1694923450,"post_id":77119202,"comment_id":135954228,"body_markdown":"If your question is answered, you may just want to delete the question as it would be a dup of the link. Also your API key is in the post.","body":"If your question is answered, you may just want to delete the question as it would be a dup of the link. Also your API key is in the post."},{"owner":{"account_id":3125071,"reputation":5745,"user_id":2644098,"accept_rate":40,"display_name":"Gergely Kőr&#246;ssy"},"score":0,"creation_date":1695036863,"post_id":77119202,"comment_id":135966000,"body_markdown":"@AmirJalilifard You&#39;d better get a new API key and deactivate the old one since anyone can see the edit history, which means your API key as well.","body":"@AmirJalilifard You&#39;d better get a new API key and deactivate the old one since anyone can see the edit history, which means your API key as well."},{"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"score":0,"creation_date":1695060486,"post_id":77119202,"comment_id":135970935,"body_markdown":"Yeah.. Already did it","body":"Yeah.. Already did it"}],"owner":{"account_id":1052677,"reputation":2047,"user_id":1056179,"accept_rate":71,"display_name":"Amir Jalilifard"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695034112,"creation_date":1694890958,"question_id":77119202,"body_markdown":"My Java code when run in  IntelliJ IDEA connects to OpenAI API and returns the response easily without any problem. However, when I run exactly the same code in the Android Studio, it only runs until the line and the the app breaks and exit from running.\r\n\r\n    OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\r\n\r\nHere is the entire code which is simple:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    public class ChatGPTAPIExample {\r\n    \r\n        public static String chatGPT(String prompt) {\r\n            String url = &quot;https://api.openai.com/v1/chat/completions&quot;;\r\n            String apiKey &quot;&quot;;\r\n            String model = &quot;gpt-3.5-turbo&quot;;\r\n    \r\n            try {\r\n                URL obj = new URL(url);\r\n                HttpURLConnection connection = (HttpURLConnection) obj.openConnection();\r\n                connection.setRequestMethod(&quot;POST&quot;);\r\n                connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \r\n                // The request body\r\n                String body = &quot;{\\&quot;model\\&quot;: \\&quot;&quot; + model + &quot;\\&quot;, \\&quot;messages\\&quot;: [{\\&quot;role\\&quot;: \\&quot;user\\&quot;, \\&quot;content\\&quot;: \\&quot;&quot; + prompt + &quot;\\&quot;}]}&quot;;\r\n                connection.setDoOutput(true);\r\n                OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\r\n                writer.write(body);\r\n                writer.flush();\r\n                writer.close();\r\n    \r\n                // Response from ChatGPT\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n                String line;\r\n    \r\n                StringBuffer response = new StringBuffer();\r\n    \r\n                while ((line = br.readLine()) != null) {\r\n                    response.append(line);\r\n                }\r\n                br.close();\r\n    \r\n                // calls the method to extract the message.\r\n                return extractMessageFromJSONResponse(response.toString());\r\n    \r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static String extractMessageFromJSONResponse(String response) {\r\n            int start = response.indexOf(&quot;content&quot;) + 11;\r\n    \r\n            int end = response.indexOf(&quot;\\&quot;&quot;, start);\r\n    \r\n            return response.substring(start, end);\r\n    \r\n        }\r\n    }\r\n\r\n\r\nI am wondering why in Android Studio it is not working. Is there any configuration I should set? All I do is simply calling the function on a button click:\r\n\r\n \r\n\r\n    botton.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    String response= ChatGPTAPIExample.chatGPT(&quot;hello, how are you? Can you tell me what&#39;s a Fibonacci Number?&quot;);\r\n                    txt.setText(response);\r\n\r\nThis is all I see in the Android Studio Console:\r\n\r\n&gt; 2023-09-16 16:13:09: Launching app on\r\n&gt; &#39;Pixel_3a_API_34_extension_level_7_x86_64. $ adb shell am start -n\r\n&gt; &quot;com.example.gptapi_connect/com.example.gptapi_connect.MainActivity&quot;\r\n&gt; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D --suspend --splashscreen-show-icon \r\n&gt; \r\n&gt; Starting: Intent { act=android.intent.action.MAIN\r\n&gt; cat=[android.intent.category.LAUNCHER]\r\n&gt; cmp=com.example.gptapi_connect/.MainActivity }\r\n&gt; \r\n&gt; Connected to the target VM, address: &#39;localhost:37483&#39;, transport:\r\n&gt; &#39;socket&#39; Disconnected from the target VM, address: &#39;localhost:37483&#39;,\r\n&gt; transport: &#39;socket&#39;","title":"Android Studio Java Does not connect to CharGPT API but in IntelliJ IDEA the code works fine","body":"<p>My Java code when run in  IntelliJ IDEA connects to OpenAI API and returns the response easily without any problem. However, when I run exactly the same code in the Android Studio, it only runs until the line and the the app breaks and exit from running.</p>\n<pre><code>OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\n</code></pre>\n<p>Here is the entire code which is simple:</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class ChatGPTAPIExample {\n\n    public static String chatGPT(String prompt) {\n        String url = &quot;https://api.openai.com/v1/chat/completions&quot;;\n        String apiKey &quot;&quot;;\n        String model = &quot;gpt-3.5-turbo&quot;;\n\n        try {\n            URL obj = new URL(url);\n            HttpURLConnection connection = (HttpURLConnection) obj.openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + apiKey);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n\n            // The request body\n            String body = &quot;{\\&quot;model\\&quot;: \\&quot;&quot; + model + &quot;\\&quot;, \\&quot;messages\\&quot;: [{\\&quot;role\\&quot;: \\&quot;user\\&quot;, \\&quot;content\\&quot;: \\&quot;&quot; + prompt + &quot;\\&quot;}]}&quot;;\n            connection.setDoOutput(true);\n            OutputStreamWriter writer = new OutputStreamWriter(connection.getOutputStream());\n            writer.write(body);\n            writer.flush();\n            writer.close();\n\n            // Response from ChatGPT\n            BufferedReader br = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n            String line;\n\n            StringBuffer response = new StringBuffer();\n\n            while ((line = br.readLine()) != null) {\n                response.append(line);\n            }\n            br.close();\n\n            // calls the method to extract the message.\n            return extractMessageFromJSONResponse(response.toString());\n\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static String extractMessageFromJSONResponse(String response) {\n        int start = response.indexOf(&quot;content&quot;) + 11;\n\n        int end = response.indexOf(&quot;\\&quot;&quot;, start);\n\n        return response.substring(start, end);\n\n    }\n}\n</code></pre>\n<p>I am wondering why in Android Studio it is not working. Is there any configuration I should set? All I do is simply calling the function on a button click:</p>\n<pre><code>botton.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n\n                String response= ChatGPTAPIExample.chatGPT(&quot;hello, how are you? Can you tell me what's a Fibonacci Number?&quot;);\n                txt.setText(response);\n</code></pre>\n<p>This is all I see in the Android Studio Console:</p>\n<blockquote>\n<p>2023-09-16 16:13:09: Launching app on\n'Pixel_3a_API_34_extension_level_7_x86_64. $ adb shell am start -n\n&quot;com.example.gptapi_connect/com.example.gptapi_connect.MainActivity&quot;\n-a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D --suspend --splashscreen-show-icon</p>\n<p>Starting: Intent { act=android.intent.action.MAIN\ncat=[android.intent.category.LAUNCHER]\ncmp=com.example.gptapi_connect/.MainActivity }</p>\n<p>Connected to the target VM, address: 'localhost:37483', transport:\n'socket' Disconnected from the target VM, address: 'localhost:37483',\ntransport: 'socket'</p>\n</blockquote>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695037439,"post_id":77126505,"comment_id":135966116,"body_markdown":"One of those looks like a source code jar and shouldn&#39;t be in the classpath. afaik, you should only have *one* `classpath` element too","body":"One of those looks like a source code jar and shouldn&#39;t be in the classpath. afaik, you should only have <i>one</i> <code>classpath</code> element too"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1695038017,"post_id":77126505,"comment_id":135966234,"body_markdown":"Share the code where that symbol is referenced including imports and the Ant build script.","body":"Share the code where that symbol is referenced including imports and the Ant build script."},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695041754,"post_id":77126505,"comment_id":135967022,"body_markdown":"@g00se what do you propose as workaround? regarding your comment related to source_code jar?","body":"@g00se what do you propose as workaround? regarding your comment related to source_code jar?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695042863,"post_id":77126505,"comment_id":135967263,"body_markdown":"I don&#39;t understand. Having a source code jar in the classpath makes no sense at all. You need to remove it","body":"I don&#39;t understand. Having a source code jar in the classpath makes no sense at all. You need to remove it"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695043968,"post_id":77126505,"comment_id":135967504,"body_markdown":"@g00se so where does it go then? The source  code jar. It is an external jar right?","body":"@g00se so where does it go then? The source  code jar. It is an external jar right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695044131,"post_id":77126505,"comment_id":135967550,"body_markdown":"I&#39;m not sure why you&#39;re even interested in it. It shouldn&#39;t be part of an Ant project at all normally. Forget about it. The only time you might be interested in it is if you wanted to debug into it","body":"I&#39;m not sure why you&#39;re even interested in it. It shouldn&#39;t be part of an Ant project at all normally. Forget about it. The only time you might be interested in it is if you wanted to debug into it"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695098157,"post_id":77126505,"comment_id":135974958,"body_markdown":"@g00se I don&#39;t understand. The project clearly requires it as an dependency. Also, I added it as an external dependency in eclipse, and the problems got resolved. So, create the external dependency needs to be added? What am I doing doing here, I don&#39;t understand?","body":"@g00se I don&#39;t understand. The project clearly requires it as an dependency. Also, I added it as an external dependency in eclipse, and the problems got resolved. So, create the external dependency needs to be added? What am I doing doing here, I don&#39;t understand?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695111705,"post_id":77126505,"comment_id":135977034,"body_markdown":"Let me ask you: what is a &quot; dependency&quot;?","body":"Let me ask you: what is a &quot; dependency&quot;?"},{"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"score":0,"creation_date":1695114941,"post_id":77126505,"comment_id":135977673,"body_markdown":"@g00se the project clearly uses some java files used in the external jar. Proof is eclipe adding external jar, resolving the import/class errors. So, that counts as a depedency, right?","body":"@g00se the project clearly uses some java files used in the external jar. Proof is eclipe adding external jar, resolving the import/class errors. So, that counts as a depedency, right?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695116284,"post_id":77126505,"comment_id":135977960,"body_markdown":"You didn&#39;t answer the question. Also, that version of Netty is pretty old","body":"You didn&#39;t answer the question. Also, that version of Netty is pretty old"}],"owner":{"account_id":1660953,"reputation":9180,"user_id":1529267,"accept_rate":51,"display_name":"Max"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695033697,"creation_date":1695033697,"question_id":77126505,"body_markdown":"I am working on a Java+ANT+Netty project. The ANT build is failing even though I have added the required external jars in the classpath,\r\n\r\n\t\t&lt;classpath&gt;\r\n\t\t      &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final.jar&quot;/&gt;\r\n\t\t&lt;/classpath&gt;\r\n\r\n\t\t&lt;classpath&gt;\r\n\t\t\t &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final-sources.jar&quot;/&gt;\r\n\t\t&lt;/classpath&gt;\r\n\r\nOn building, I am getting netty related error, basically complaing about JARS missing.\r\n\r\nError\r\n\r\n    [javac]   symbol:   class DatagramPacket\r\n    [javac]   location: class UdpServerHandler\r\n    [javac] /home/pc19/Documents/workspace/GenericDCS/src/org/opengts/servers/dcs_gen/UdpServerHandler.java:234: error: cannot find symbol\r\n    [javac]     public void channelActive(ChannelHandlerContext ctx) throws Exception {\r\n\r\n\r\nFor the same project, when I import the two jars in eclipse with `Add External Jars`. The errors are resolved.\r\n\r\nDoes anybody how to resolve this issue.","title":"External JARS in the classpath issue with Java(ANT and Eclipse)","body":"<p>I am working on a Java+ANT+Netty project. The ANT build is failing even though I have added the required external jars in the classpath,</p>\n<pre><code>    &lt;classpath&gt;\n          &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final.jar&quot;/&gt;\n    &lt;/classpath&gt;\n\n    &lt;classpath&gt;\n         &lt;pathelement path=&quot;/home/pc19/Downloads/mail/netty-all-4.1.10.Final-sources.jar&quot;/&gt;\n    &lt;/classpath&gt;\n</code></pre>\n<p>On building, I am getting netty related error, basically complaing about JARS missing.</p>\n<p>Error</p>\n<pre><code>[javac]   symbol:   class DatagramPacket\n[javac]   location: class UdpServerHandler\n[javac] /home/pc19/Documents/workspace/GenericDCS/src/org/opengts/servers/dcs_gen/UdpServerHandler.java:234: error: cannot find symbol\n[javac]     public void channelActive(ChannelHandlerContext ctx) throws Exception {\n</code></pre>\n<p>For the same project, when I import the two jars in eclipse with <code>Add External Jars</code>. The errors are resolved.</p>\n<p>Does anybody how to resolve this issue.</p>\n"},{"tags":["java","arrays","list","java-8","java-stream"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1554963686,"post_id":55625888,"comment_id":97943846,"body_markdown":"you remember that list start with index `0`, right?","body":"you remember that list start with index <code>0</code>, right?"},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1554963944,"post_id":55625888,"comment_id":97943944,"body_markdown":"so the ranges are 0-99, 100-199 and so on, right?","body":"so the ranges are 0-99, 100-199 and so on, right?"},{"owner":{"account_id":12232513,"reputation":3738,"user_id":8928024,"accept_rate":83,"display_name":"ZF007"},"score":0,"creation_date":1554964656,"post_id":55625888,"comment_id":97944241,"body_markdown":"@SharonBenAsher You might want to merge both questions into one comment. It looks silly right now. (flag my comment for removal so it gets removed when you&#39;re done).","body":"@SharonBenAsher You might want to merge both questions into one comment. It looks silly right now. (flag my comment for removal so it gets removed when you&#39;re done)."},{"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"score":0,"creation_date":1554964697,"post_id":55625888,"comment_id":97944256,"body_markdown":"yes @SharonBenAsher actually for the first sublist the number of element will be from 0 to 100 i.e. 101 elements","body":"yes @SharonBenAsher actually for the first sublist the number of element will be from 0 to 100 i.e. 101 elements"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1554991090,"post_id":55625888,"comment_id":97959765,"body_markdown":"but `.subList(0, 100)` has only 100 elements. Whereas `.subList(101, 200)` will have 99 elements.","body":"but <code>.subList(0, 100)</code> has only 100 elements. Whereas <code>.subList(101, 200)</code> will have 99 elements."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1554965032,"creation_date":1554964712,"answer_id":55626141,"question_id":55625888,"body_markdown":"What about :\r\n\r\n      List&lt;List&lt;Integer&gt;&gt; result = IntStream.range(0, list.size() / 100)\r\n             .mapToObj(index -&gt; list.subList(index * 100, index * 100 + 100))\r\n             .collect(Collectors.toList());","title":"How can use stream API for divide the array into sub array","body":"<p>What about :</p>\n\n<pre><code>  List&lt;List&lt;Integer&gt;&gt; result = IntStream.range(0, list.size() / 100)\n         .mapToObj(index -&gt; list.subList(index * 100, index * 100 + 100))\n         .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13654971,"reputation":2319,"user_id":9851762,"display_name":"ItFreak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555058403,"creation_date":1554964719,"answer_id":55626143,"question_id":55625888,"body_markdown":"You could either use `Collectors.partitioningBy`:\r\n\r\n    Map&lt;Boolean, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.partitioningBy(element -&gt; list.indexOf(element) &gt;= 100));\r\n    and then do:  \r\n    List&lt;List&lt;Integer&gt;&gt; results = new ArrayList(map.values());\r\n\r\n**Update:** \r\n`Collectors.partitioningBy` takes a predicate and thus is not able to solve the desired use case.\r\n\r\nOr if you want to split a list into equal parts (what I think is more youre use case), you could use `Collectors.groupingBy()`:  \r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \r\n          list.stream().collect(Collectors.groupingBy(element -&gt; (element - 1) / YOUR_NUMBER_OF_PIECES_PER_SUBLIST));\r\n        List&lt;List&lt;Integer&gt;&gt; subLists= new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\r\n    System.out.println(&quot;Number of sublists &quot; + subLists.size());\r\n\r\nThis gives you: \r\n\r\n    Number of sublists: 5\r\n\r\nwhen running with `NUMBER_OF_PIECES_PER_SUBLIST = 200`, which seems your use case.\r\n\r\n","title":"How can use stream API for divide the array into sub array","body":"<p>You could either use <code>Collectors.partitioningBy</code>:</p>\n\n<pre><code>Map&lt;Boolean, List&lt;Integer&gt;&gt; map = list.stream().collect(Collectors.partitioningBy(element -&gt; list.indexOf(element) &gt;= 100));\nand then do:  \nList&lt;List&lt;Integer&gt;&gt; results = new ArrayList(map.values());\n</code></pre>\n\n<p><strong>Update:</strong> \n<code>Collectors.partitioningBy</code> takes a predicate and thus is not able to solve the desired use case.</p>\n\n<p>Or if you want to split a list into equal parts (what I think is more youre use case), you could use <code>Collectors.groupingBy()</code>:  </p>\n\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; groups = \n      list.stream().collect(Collectors.groupingBy(element -&gt; (element - 1) / YOUR_NUMBER_OF_PIECES_PER_SUBLIST));\n    List&lt;List&lt;Integer&gt;&gt; subLists= new ArrayList&lt;List&lt;Integer&gt;&gt;(groups.values());\nSystem.out.println(\"Number of sublists \" + subLists.size());\n</code></pre>\n\n<p>This gives you: </p>\n\n<pre><code>Number of sublists: 5\n</code></pre>\n\n<p>when running with <code>NUMBER_OF_PIECES_PER_SUBLIST = 200</code>, which seems your use case.</p>\n"},{"tags":[],"owner":{"account_id":13389989,"reputation":10689,"user_id":9662601,"display_name":"Samuel Philipp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554976885,"creation_date":1554967593,"answer_id":55626890,"question_id":55625888,"body_markdown":"You can use [`IntStream.iterate()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-) to achieve that:\r\n\r\n    int sublistItems = 100;\r\n    List&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i + sublistItems)\r\n            .limit((list.size() + sublistItems - 1) / sublistItems)\r\n            .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\r\n            .collect(Collectors.toList());\r\n\r\nIf you are using Java 9 or above you can simplify it like that:\r\n\r\n    int sublistItems = 100;\r\n    List&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + sublistItems)\r\n            .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\r\n            .collect(Collectors.toList());","title":"How can use stream API for divide the array into sub array","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#iterate-int-java.util.function.IntUnaryOperator-\" rel=\"nofollow noreferrer\"><code>IntStream.iterate()</code></a> to achieve that:</p>\n\n<pre><code>int sublistItems = 100;\nList&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i + sublistItems)\n        .limit((list.size() + sublistItems - 1) / sublistItems)\n        .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\n        .collect(Collectors.toList());\n</code></pre>\n\n<p>If you are using Java 9 or above you can simplify it like that:</p>\n\n<pre><code>int sublistItems = 100;\nList&lt;List&lt;Integer&gt;&gt; result = IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + sublistItems)\n        .mapToObj(startIndex -&gt; list.subList(startIndex, Math.min(startIndex + sublistItems, list.size())))\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":483595,"reputation":7038,"user_id":898763,"accept_rate":71,"display_name":"amaidment"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032754,"creation_date":1695032754,"answer_id":77126408,"question_id":55625888,"body_markdown":"To use the [Stream API][1] with an **array**, you want to use [`StreamSupport`][2] and a [`Spliterator`][3].\r\n\r\n[`Arrays`][4] provides utility methods to create a `Spliterator`.\r\n\r\nFor example:\r\n\r\n    int[] array = new int[1000];\r\n    StreamSupport.stream(Arrays.spliterator(array, 0, 100), false)\r\n      .forEach(e -&gt; {});\r\n    StreamSupport.stream(Arrays.spliterator(array, 100, 200), false)\r\n      .forEach(e -&gt; {});\r\n\r\nNote - it&#39;s zero-based indexing, and the start index is inclusive and the end index is *exclusive*.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html","title":"How can use stream API for divide the array into sub array","body":"<p>To use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a> with an <strong>array</strong>, you want to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/StreamSupport.html\" rel=\"nofollow noreferrer\"><code>StreamSupport</code></a> and a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow noreferrer\"><code>Spliterator</code></a>.</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Arrays.html\" rel=\"nofollow noreferrer\"><code>Arrays</code></a> provides utility methods to create a <code>Spliterator</code>.</p>\n<p>For example:</p>\n<pre><code>int[] array = new int[1000];\nStreamSupport.stream(Arrays.spliterator(array, 0, 100), false)\n  .forEach(e -&gt; {});\nStreamSupport.stream(Arrays.spliterator(array, 100, 200), false)\n  .forEach(e -&gt; {});\n</code></pre>\n<p>Note - it's zero-based indexing, and the start index is inclusive and the end index is <em>exclusive</em>.</p>\n"}],"owner":{"account_id":5877498,"reputation":2130,"user_id":4627942,"accept_rate":25,"display_name":"Hasnain Ali Bohra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1856,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1695032772,"creation_date":1554963620,"question_id":55625888,"body_markdown":"I have an array of size 1000.\r\nI want to use the stream operations to performe like this :-\r\n\r\n    List list= new ArrayList();\r\n    //list is initialize to 1000 elements \r\n\r\n      List subList = list.subList(0, 100);\r\n       // perform some operaions over the subarray\r\n      List subList1 = list.subList(101, 200);\r\n       // perform some operaions over the subarray\r\n     .... so on\r\n    }\r\n\r\nI want code using stream API.\r\nThanks in advance","title":"How can use stream API for divide the array into sub array","body":"<p>I have an array of size 1000.\nI want to use the stream operations to performe like this :-</p>\n\n<pre><code>List list= new ArrayList();\n//list is initialize to 1000 elements \n\n  List subList = list.subList(0, 100);\n   // perform some operaions over the subarray\n  List subList1 = list.subList(101, 200);\n   // perform some operaions over the subarray\n .... so on\n}\n</code></pre>\n\n<p>I want code using stream API.\nThanks in advance</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695024250,"post_id":77124907,"comment_id":135963582,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695019435,"creation_date":1695019435,"answer_id":77125039,"question_id":77124907,"body_markdown":"As seen [here][1], the method `onCreateOptionsMenu(...)` should be overriden either...\r\n\r\nin an `Activity`:\r\n```\r\n@Override\r\npublic boolean onCreateOptionsMenu(Menu menu) {\r\n    MenuInflater inflater = getMenuInflater();\r\n    inflater.inflate(R.menu.main_menu, menu);\r\n    return true;\r\n}\r\n```\r\n\r\nor a `Fragment`:\r\n```\r\n@Override\r\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    View root = inflater.inflate(R.layout.main_fragment, container, false);\r\n    setHasOptionsMenu(true);\r\n    return root;\r\n}\r\n\r\n@Override\r\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\r\n    inflater.inflate(R.menu.fragment_menu, menu);\r\n}\r\n```\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/components/menus#options-menu","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>As seen <a href=\"https://developer.android.com/develop/ui/views/components/menus#options-menu\" rel=\"nofollow noreferrer\">here</a>, the method <code>onCreateOptionsMenu(...)</code> should be overriden either...</p>\n<p>in an <code>Activity</code>:</p>\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    MenuInflater inflater = getMenuInflater();\n    inflater.inflate(R.menu.main_menu, menu);\n    return true;\n}\n</code></pre>\n<p>or a <code>Fragment</code>:</p>\n<pre><code>@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View root = inflater.inflate(R.layout.main_fragment, container, false);\n    setHasOptionsMenu(true);\n    return root;\n}\n\n@Override\npublic void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n    inflater.inflate(R.menu.fragment_menu, menu);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20192524,"reputation":149,"user_id":14810367,"display_name":"Talha Chaudhry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032592,"creation_date":1695031863,"answer_id":77126315,"question_id":77124907,"body_markdown":"I&#39;m taking the same code as you provided and updating in way that you can use the menuOptions in your customView class \r\n\r\n     public class MainActivity extends AppCompatActivity {\r\n        final static int LINE = 1, CIRCLE = 2;\r\n        static int curShape = LINE;\r\n        MyGraphicView myGraphicView;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            myGraphicView=new MyGraphicView(this)\r\n            setContentView(myGraphicView);\r\n        }\r\n        public class MyGraphicView extends View{\r\n            int startX = -1, startY = -1, stopX = -1, stopY = -1;\r\n            public MyGraphicView(Context context)\r\n            { super(context); }\r\n            public boolean onTouchEvent(MotionEvent event)\r\n            {\r\n                switch (event.getAction()) {\r\n                    case MotionEvent.ACTION_DOWN:\r\n                        startX = (int) event.getX();\r\n                        startY = (int) event.getY(); break;\r\n                    case MotionEvent.ACTION_MOVE:\r\n                    case MotionEvent.ACTION_UP:\r\n                        stopX = (int) event.getX();\r\n                        stopY = (int) event.getY();\r\n                        this.invalidate();\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n            @Override\r\n            protected void onDraw(Canvas canvas){\r\n                super.onDraw(canvas);\r\n                Paint paint = new Paint();\r\n                paint.setAntiAlias(true);\r\n                paint.setStrokeWidth(5);\r\n                paint.setStyle(Paint.Style.STROKE);\r\n                paint.setColor(Color.RED);\r\n                switch (curShape) {\r\n                    case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\r\n                        break;\r\n                    case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\r\n                            +Math.sqrt(Math.pow(stopX-startX, 2)));\r\n                        canvas.drawCircle(startX, startY, radius, paint); break;\r\n                }\r\n            }\r\n            public boolean onCreateOptionsMenu(Menu menu)\r\n            {\r\n\r\n                menu.add(0, 1, 0, &quot;Drawing line&quot;);\r\n                menu.add(0, 2, 0, &quot;Drawing circle&quot;);\r\n                return true;\r\n            }\r\n            public Boolean onOptionsItemSelected(MenuItem item)\r\n            {\r\n                switch (item.getItemId()) {\r\n                    case 1: curShape = LINE; return true;\r\n                    case 2: curShape = CIRCLE; return true;\r\n                }\r\n                return null;\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu) {\r\n            super.onCreateOptionsMenu(menu);\r\n            return myGraphicView.onCreateOptionsMenu(menu);  // must be the Obj of MyGraphicView\r\n        }\r\n\r\n        @Override\r\n        public boolean onOptionsItemSelected(MenuItem item)\r\n        {\r\n            Boolean result= myGraphicView.onOptionsItemSelected(item); // must be the Obj of MyGraphicView\r\n            if (result!=null) return result else\r\n            return super.onContextItemSelected(item);\r\n        }\r\n\r\n    }\r\n\r\nHope this will clear you the concept","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>I'm taking the same code as you provided and updating in way that you can use the menuOptions in your customView class</p>\n<pre><code> public class MainActivity extends AppCompatActivity {\n    final static int LINE = 1, CIRCLE = 2;\n    static int curShape = LINE;\n    MyGraphicView myGraphicView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        myGraphicView=new MyGraphicView(this)\n        setContentView(myGraphicView);\n    }\n    public class MyGraphicView extends View{\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\n        public MyGraphicView(Context context)\n        { super(context); }\n        public boolean onTouchEvent(MotionEvent event)\n        {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN:\n                    startX = (int) event.getX();\n                    startY = (int) event.getY(); break;\n                case MotionEvent.ACTION_MOVE:\n                case MotionEvent.ACTION_UP:\n                    stopX = (int) event.getX();\n                    stopY = (int) event.getY();\n                    this.invalidate();\n                    break;\n            }\n            return true;\n        }\n        @Override\n        protected void onDraw(Canvas canvas){\n            super.onDraw(canvas);\n            Paint paint = new Paint();\n            paint.setAntiAlias(true);\n            paint.setStrokeWidth(5);\n            paint.setStyle(Paint.Style.STROKE);\n            paint.setColor(Color.RED);\n            switch (curShape) {\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\n                    break;\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\n                    canvas.drawCircle(startX, startY, radius, paint); break;\n            }\n        }\n        public boolean onCreateOptionsMenu(Menu menu)\n        {\n\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\n            return true;\n        }\n        public Boolean onOptionsItemSelected(MenuItem item)\n        {\n            switch (item.getItemId()) {\n                case 1: curShape = LINE; return true;\n                case 2: curShape = CIRCLE; return true;\n            }\n            return null;\n        }\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        super.onCreateOptionsMenu(menu);\n        return myGraphicView.onCreateOptionsMenu(menu);  // must be the Obj of MyGraphicView\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item)\n    {\n        Boolean result= myGraphicView.onOptionsItemSelected(item); // must be the Obj of MyGraphicView\n        if (result!=null) return result else\n        return super.onContextItemSelected(item);\n    }\n\n}\n</code></pre>\n<p>Hope this will clear you the concept</p>\n"}],"owner":{"account_id":26709213,"reputation":13,"user_id":20314900,"display_name":"slprbrck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695032592,"creation_date":1695017920,"question_id":77124907,"body_markdown":"So I&#39;m trying to make a canvas with a menu options to switch between drawing a line and a circle but I&#39;m having trouble displaying the menu\r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    final static int LINE = 1, CIRCLE = 2;\r\n    static int curShape = LINE;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(new MyGraphicView(this));\r\n    }\r\n    public class MyGraphicView extends View{\r\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\r\n        public MyGraphicView(Context context)\r\n        { super(context); }\r\n        public boolean onTouchEvent(MotionEvent event)\r\n        {\r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN: \r\n                    startX = (int) event.getX();\r\n                    startY = (int) event.getY(); break;\r\n                case MotionEvent.ACTION_MOVE:\r\n                case MotionEvent.ACTION_UP:\r\n                    stopX = (int) event.getX();\r\n                    stopY = (int) event.getY();\r\n                    this.invalidate();\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n        @Override\r\n        protected void onDraw(Canvas canvas){\r\n            super.onDraw(canvas);\r\n            Paint paint = new Paint();\r\n            paint.setAntiAlias(true);\r\n            paint.setStrokeWidth(5);\r\n            paint.setStyle(Paint.Style.STROKE);\r\n            paint.setColor(Color.RED);\r\n            switch (curShape) {\r\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\r\n                    break;\r\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\r\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\r\n                    canvas.drawCircle(startX, startY, radius, paint); break;\r\n            }\r\n        }\r\n        public boolean onCreateOptionsMenu(Menu menu)\r\n        {\r\n            super.onCreateOptionsMenu(menu);\r\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\r\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\r\n            return true;\r\n        }\r\n        public boolean onOptionsItemSelected(MenuItem item)\r\n        {\r\n            switch (item.getItemId()) {\r\n                case 1: curShape = LINE; return true;\r\n                case 2: curShape = CIRCLE; return true;\r\n            }\r\n            return super.onContextItemSelected(item);\r\n        }\r\n    }\r\n    }\r\n```\r\nSo here is the code I&#39;ve also tried putting the menu code in the main activity class but it doesn&#39;t work what should I do. I&#39;m also having the same problem with onOptionsItemSelected","title":"Cannot resolve method &#39;onCreateOptionsMenu&#39; in &#39;View&#39;","body":"<p>So I'm trying to make a canvas with a menu options to switch between drawing a line and a circle but I'm having trouble displaying the menu</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    final static int LINE = 1, CIRCLE = 2;\n    static int curShape = LINE;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(new MyGraphicView(this));\n    }\n    public class MyGraphicView extends View{\n        int startX = -1, startY = -1, stopX = -1, stopY = -1;\n        public MyGraphicView(Context context)\n        { super(context); }\n        public boolean onTouchEvent(MotionEvent event)\n        {\n            switch (event.getAction()) {\n                case MotionEvent.ACTION_DOWN: \n                    startX = (int) event.getX();\n                    startY = (int) event.getY(); break;\n                case MotionEvent.ACTION_MOVE:\n                case MotionEvent.ACTION_UP:\n                    stopX = (int) event.getX();\n                    stopY = (int) event.getY();\n                    this.invalidate();\n                    break;\n            }\n            return true;\n        }\n        @Override\n        protected void onDraw(Canvas canvas){\n            super.onDraw(canvas);\n            Paint paint = new Paint();\n            paint.setAntiAlias(true);\n            paint.setStrokeWidth(5);\n            paint.setStyle(Paint.Style.STROKE);\n            paint.setColor(Color.RED);\n            switch (curShape) {\n                case LINE: canvas.drawLine(startX, startY, stopX, stopY, paint);\n                    break;\n                case CIRCLE: int radius = (int) (Math.sqrt(Math.pow(stopX-startX, 2))\n                        +Math.sqrt(Math.pow(stopX-startX, 2)));\n                    canvas.drawCircle(startX, startY, radius, paint); break;\n            }\n        }\n        public boolean onCreateOptionsMenu(Menu menu)\n        {\n            super.onCreateOptionsMenu(menu);\n            menu.add(0, 1, 0, &quot;Drawing line&quot;);\n            menu.add(0, 2, 0, &quot;Drawing circle&quot;);\n            return true;\n        }\n        public boolean onOptionsItemSelected(MenuItem item)\n        {\n            switch (item.getItemId()) {\n                case 1: curShape = LINE; return true;\n                case 2: curShape = CIRCLE; return true;\n            }\n            return super.onContextItemSelected(item);\n        }\n    }\n    }\n</code></pre>\n<p>So here is the code I've also tried putting the menu code in the main activity class but it doesn't work what should I do. I'm also having the same problem with onOptionsItemSelected</p>\n"},{"tags":["java","android","kotlin","gradle"],"comments":[{"owner":{"account_id":13974945,"reputation":94,"user_id":10092570,"display_name":"A.Gun"},"score":0,"creation_date":1695037263,"post_id":77126312,"comment_id":135966084,"body_markdown":"Looks like this kind of issue already answered check this (https://stackoverflow.com/questions/36910746/package-java-net-http-does-not-exist-error-on-jdk9)","body":"Looks like this kind of issue already answered check this (<a href=\"https://stackoverflow.com/questions/36910746/package-java-net-http-does-not-exist-error-on-jdk9\" title=\"package java net http does not exist error on jdk9\">stackoverflow.com/questions/36910746/&hellip;</a>)"}],"answers":[{"tags":[],"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695032486,"creation_date":1695032486,"answer_id":77126374,"question_id":77126312,"body_markdown":"The problem is connected with the version of Java/JRE that exist in your system because the package &quot;**java.net.http**&quot; was included in Java 11 or up.\r\n\r\nTry to download a new version of java from one of these sites [Oracle JDK 11][1] or [Open JDK][2]\r\n\r\nAfter installing the new version of Java check that Android Studio uses the correct one. \r\n\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\r\n  [2]: https://openjdk.java.net/install/","title":"Gradle build can&#39;t find the package &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;","body":"<p>The problem is connected with the version of Java/JRE that exist in your system because the package &quot;<strong>java.net.http</strong>&quot; was included in Java 11 or up.</p>\n<p>Try to download a new version of java from one of these sites <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">Oracle JDK 11</a> or <a href=\"https://openjdk.java.net/install/\" rel=\"nofollow noreferrer\">Open JDK</a></p>\n<p>After installing the new version of Java check that Android Studio uses the correct one.</p>\n"}],"owner":{"account_id":29323201,"reputation":67,"user_id":22466312,"display_name":"TranDatK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695032486,"creation_date":1695031846,"question_id":77126312,"body_markdown":"\r\n**Currently I&#39;m building an app running with kotlin and jetpack compose, but I have an error that I can&#39;t import &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6SHjH.png\r\n\r\n\r\nAnd below are my entire project level gradle files:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    plugins {\r\n        id &#39;com.android.application&#39;\r\n        id &#39;org.jetbrains.kotlin.android&#39;\r\n        id &#39;com.google.gms.google-services&#39;\r\n        // Add the Crashlytics Gradle plugin\r\n        id(&quot;com.google.firebase.crashlytics&quot;)\r\n\r\n        id(&quot;com.google.firebase.firebase-perf&quot;)\r\n        id(&quot;dagger.hilt.android.plugin&quot;)\r\n        id(&quot;com.ncorti.ktfmt.gradle&quot;) version &quot;0.10.0&quot;\r\n        id(&quot;com.google.devtools.ksp&quot;)\r\n    }\r\n\r\n    android {\r\n        namespace &#39;com.tnmd.learningenglishapp&#39;\r\n        compileSdk 34\r\n\r\n        defaultConfig {\r\n            applicationId &quot;com.tnmd.learningenglishapp&quot;\r\n            minSdk 27\r\n            targetSdk 34\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n            vectorDrawables {\r\n                useSupportLibrary true\r\n            }\r\n        }\r\n\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility = JavaVersion.VERSION_17\r\n            targetCompatibility = JavaVersion.VERSION_17\r\n        }\r\n        kotlinOptions {\r\n            jvmTarget = &quot;17&quot;\r\n        }\r\n        buildFeatures {\r\n            compose true\r\n            buildConfig = true\r\n        }\r\n        composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.5.0&#39;\r\n        }\r\n        packagingOptions {\r\n            resources {\r\n                excludes += &#39;/META-INF/{AL2.0,LGPL2.1}&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n    ktfmt {\r\n        googleStyle()\r\n    }\r\n\r\n    dependencies {\r\n\r\n        implementation(&quot;androidx.core:core-ktx:1.12.0&quot;)\r\n        implementation(&quot;androidx.appcompat:appcompat:1.6.1&quot;)\r\n        implementation(&quot;com.google.android.material:material:1.9.0&quot;)\r\n        implementation(&quot;androidx.compose:compose-bom:2023.08.00&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui&quot;)\r\n        implementation(&quot;androidx.compose.material:material&quot;)\r\n        implementation(&quot;androidx.compose.ui:ui-tooling-preview&quot;)\r\n        implementation(&quot;androidx.compose.material:material-icons-extended:1.5.1&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-runtime-compose:2.6.2&quot;)\r\n        implementation(&quot;androidx.lifecycle:lifecycle-runtime-ktx:2.6.2&quot;)\r\n        implementation(&quot;androidx.activity:activity-compose:1.7.2&quot;)\r\n        implementation(&quot;androidx.navigation:navigation-compose:2.7.1&quot;)\r\n        implementation(&quot;androidx.hilt:hilt-navigation-compose:1.0.0&quot;)\r\n        implementation(&quot;androidx.preference:preference-ktx:1.2.1&quot;)\r\n        implementation(&quot;androidx.compose.material3:material3:1.2.0-alpha06&quot;)\r\n        implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.1&quot;\r\n        implementation &#39;androidx.compose.runtime:runtime-livedata:1.6.0-alpha05&#39;\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.7.1&quot;)\r\n\r\n        implementation(&quot;com.google.accompanist:accompanist-permissions:0.30.1&quot;)\r\n        implementation(&quot;com.google.dagger:hilt-android:2.47&quot;)\r\n        implementation &#39;com.google.firebase:firebase-storage:20.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage-ktx:20.2.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-firestore-ktx:24.7.1&#39;\r\n        ksp(&quot;com.google.dagger:hilt-compiler:2.47&quot;)\r\n\r\n        //Firebase\r\n        implementation(platform(&quot;com.google.firebase:firebase-bom:31.5.0&quot;))\r\n        implementation(&quot;com.google.firebase:firebase-analytics-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-crashlytics-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-auth-ktx&quot;)\r\n\r\n        implementation(&quot;com.google.firebase:firebase-perf-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-config-ktx&quot;)\r\n        implementation(&quot;com.google.firebase:firebase-messaging-ktx&quot;)\r\n\r\n        implementation(&quot;io.coil-kt:coil-compose:2.4.0&quot;)\r\n\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n        androidTestImplementation platform(&#39;androidx.compose:compose-bom:2022.10.00&#39;)\r\n        androidTestImplementation &#39;androidx.compose.ui:ui-test-junit4&#39;\r\n        debugImplementation &#39;androidx.compose.ui:ui-tooling&#39;\r\n        debugImplementation &#39;androidx.compose.ui:ui-test-manifest&#39;\r\n\r\n        //Stream SĐK\r\n        implementation &quot;io.getstream:stream-chat-android-compose:5.17.7&quot;\r\n        implementation &quot;io.getstream:stream-chat-android-ui-components:5.17.13&quot;\r\n\r\n        //Retrofit\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-simplexml:2.1.0&#39;\r\n\r\n        //Gson\r\n        implementation &quot;com.squareup.retrofit2:converter-gson:2.9.0&quot;\r\n\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-java:1.5.0&quot;\r\n        implementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.5.0&quot;\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nCan you help me if you find the problem or not, thank you very much","title":"Gradle build can&#39;t find the package &#39;java.net.http&#39; and &#39;java.net.http.HttpResponse&#39; and &#39;java.net.http.HttpRequest&#39;","body":"<p><strong>Currently I'm building an app running with kotlin and jetpack compose, but I have an error that I can't import 'java.net.http' and 'java.net.http.HttpResponse' and 'java.net.http.HttpRequest'</strong></p>\n<p><a href=\"https://i.stack.imgur.com/6SHjH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6SHjH.png\" alt=\"enter image description here\" /></a></p>\n<p>And below are my entire project level gradle files:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>plugins {\n    id 'com.android.application'\n    id 'org.jetbrains.kotlin.android'\n    id 'com.google.gms.google-services'\n    // Add the Crashlytics Gradle plugin\n    id(\"com.google.firebase.crashlytics\")\n\n    id(\"com.google.firebase.firebase-perf\")\n    id(\"dagger.hilt.android.plugin\")\n    id(\"com.ncorti.ktfmt.gradle\") version \"0.10.0\"\n    id(\"com.google.devtools.ksp\")\n}\n\nandroid {\n    namespace 'com.tnmd.learningenglishapp'\n    compileSdk 34\n\n    defaultConfig {\n        applicationId \"com.tnmd.learningenglishapp\"\n        minSdk 27\n        targetSdk 34\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n        vectorDrawables {\n            useSupportLibrary true\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_17\n        targetCompatibility = JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = \"17\"\n    }\n    buildFeatures {\n        compose true\n        buildConfig = true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion '1.5.0'\n    }\n    packagingOptions {\n        resources {\n            excludes += '/META-INF/{AL2.0,LGPL2.1}'\n        }\n    }\n}\n\nktfmt {\n    googleStyle()\n}\n\ndependencies {\n\n    implementation(\"androidx.core:core-ktx:1.12.0\")\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\n    implementation(\"com.google.android.material:material:1.9.0\")\n    implementation(\"androidx.compose:compose-bom:2023.08.00\")\n    implementation(\"androidx.compose.ui:ui\")\n    implementation(\"androidx.compose.material:material\")\n    implementation(\"androidx.compose.ui:ui-tooling-preview\")\n    implementation(\"androidx.compose.material:material-icons-extended:1.5.1\")\n    implementation(\"androidx.lifecycle:lifecycle-runtime-compose:2.6.2\")\n    implementation(\"androidx.lifecycle:lifecycle-runtime-ktx:2.6.2\")\n    implementation(\"androidx.activity:activity-compose:1.7.2\")\n    implementation(\"androidx.navigation:navigation-compose:2.7.1\")\n    implementation(\"androidx.hilt:hilt-navigation-compose:1.0.0\")\n    implementation(\"androidx.preference:preference-ktx:1.2.1\")\n    implementation(\"androidx.compose.material3:material3:1.2.0-alpha06\")\n    implementation \"androidx.constraintlayout:constraintlayout-compose:1.0.1\"\n    implementation 'androidx.compose.runtime:runtime-livedata:1.6.0-alpha05'\n    implementation(\"org.jetbrains.kotlinx:kotlinx-coroutines-play-services:1.7.1\")\n\n    implementation(\"com.google.accompanist:accompanist-permissions:0.30.1\")\n    implementation(\"com.google.dagger:hilt-android:2.47\")\n    implementation 'com.google.firebase:firebase-storage:20.2.1'\n    implementation 'com.google.firebase:firebase-storage-ktx:20.2.1'\n    implementation 'com.google.firebase:firebase-firestore-ktx:24.7.1'\n    ksp(\"com.google.dagger:hilt-compiler:2.47\")\n\n    //Firebase\n    implementation(platform(\"com.google.firebase:firebase-bom:31.5.0\"))\n    implementation(\"com.google.firebase:firebase-analytics-ktx\")\n    implementation(\"com.google.firebase:firebase-crashlytics-ktx\")\n    implementation(\"com.google.firebase:firebase-auth-ktx\")\n\n    implementation(\"com.google.firebase:firebase-perf-ktx\")\n    implementation(\"com.google.firebase:firebase-config-ktx\")\n    implementation(\"com.google.firebase:firebase-messaging-ktx\")\n\n    implementation(\"io.coil-kt:coil-compose:2.4.0\")\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    androidTestImplementation platform('androidx.compose:compose-bom:2022.10.00')\n    androidTestImplementation 'androidx.compose.ui:ui-test-junit4'\n    debugImplementation 'androidx.compose.ui:ui-tooling'\n    debugImplementation 'androidx.compose.ui:ui-test-manifest'\n\n    //Stream SĐK\n    implementation \"io.getstream:stream-chat-android-compose:5.17.7\"\n    implementation \"io.getstream:stream-chat-android-ui-components:5.17.13\"\n\n    //Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-simplexml:2.1.0'\n\n    //Gson\n    implementation \"com.squareup.retrofit2:converter-gson:2.9.0\"\n\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-android:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-java:1.5.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-jdk8:1.5.0\"\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Can you help me if you find the problem or not, thank you very much</p>\n"},{"tags":["java","unit-testing","collections","junit"],"comments":[{"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"score":5,"creation_date":1517924352,"post_id":3236880,"comment_id":84285367,"body_markdown":"I like to use `assertArrayEquals` nowadays. Use in combination with `List#toArray`.","body":"I like to use <code>assertArrayEquals</code> nowadays. Use in combination with <code>List#toArray</code>."},{"owner":{"account_id":16164,"reputation":20387,"user_id":34935,"accept_rate":60,"display_name":"dfrankow"},"score":0,"creation_date":1531345731,"post_id":3236880,"comment_id":89566787,"body_markdown":"@Thibstars - I&#39;d upvote that as an answer.","body":"@Thibstars - I&#39;d upvote that as an answer."},{"owner":{"account_id":1754735,"reputation":399,"user_id":1603041,"display_name":"ThetaSinner"},"score":5,"creation_date":1542842279,"post_id":3236880,"comment_id":93717986,"body_markdown":"`assertArrayEquals` requires you to get arrays from your lists. You can operate directly on the list using `assertIterableEquals`","body":"<code>assertArrayEquals</code> requires you to get arrays from your lists. You can operate directly on the list using <code>assertIterableEquals</code>"},{"owner":{"account_id":2165742,"reputation":1826,"user_id":3966933,"accept_rate":56,"display_name":"iec2011007"},"score":1,"creation_date":1589527084,"post_id":3236880,"comment_id":109334817,"body_markdown":"`assertIterableEquals` available for jUnit5 @ThetaSinner","body":"<code>assertIterableEquals</code> available for jUnit5 @ThetaSinner"}],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1370389109,"creation_date":1279022495,"answer_id":3236919,"question_id":3236880,"body_markdown":"This is a legacy answer, suitable for JUnit 4.3 and below. The modern version of JUnit includes a built-in readable failure messages in the assertThat method. Prefer other answers on this question, if possible.\r\n\r\n    List&lt;E&gt; a = resultFromTest();\r\n    List&lt;E&gt; expected = Arrays.asList(new E(), new E(), ...);\r\n    assertTrue(&quot;Expected &#39;a&#39; and &#39;expected&#39; to be equal.&quot;+\r\n                &quot;\\n  &#39;a&#39;        = &quot;+a+\r\n                &quot;\\n  &#39;expected&#39; = &quot;+expected, \r\n                expected.equals(a));\r\n\r\nFor the record, as @Paul mentioned in his comment to this answer, two `List`s are equal:\r\n\r\n&gt; *if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements `e1` and `e2` are equal if `(e1==null ? e2==null : e1.equals(e2))`.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the `List` interface.*\r\n\r\nSee the [JavaDocs of the `List` interface][1].\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/List.html#equals(java.lang.Object)","title":"Assert equals between 2 Lists in Junit","body":"<p>This is a legacy answer, suitable for JUnit 4.3 and below. The modern version of JUnit includes a built-in readable failure messages in the assertThat method. Prefer other answers on this question, if possible.</p>\n\n<pre><code>List&lt;E&gt; a = resultFromTest();\nList&lt;E&gt; expected = Arrays.asList(new E(), new E(), ...);\nassertTrue(\"Expected 'a' and 'expected' to be equal.\"+\n            \"\\n  'a'        = \"+a+\n            \"\\n  'expected' = \"+expected, \n            expected.equals(a));\n</code></pre>\n\n<p>For the record, as @Paul mentioned in his comment to this answer, two <code>List</code>s are equal:</p>\n\n<blockquote>\n  <p><em>if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements <code>e1</code> and <code>e2</code> are equal if <code>(e1==null ? e2==null : e1.equals(e2))</code>.) In other words, two lists are defined to be equal if they contain the same elements in the same order. This definition ensures that the equals method works properly across different implementations of the <code>List</code> interface.</em></p>\n</blockquote>\n\n<p>See the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/List.html#equals(java.lang.Object)\" rel=\"noreferrer\">JavaDocs of the <code>List</code> interface</a>.</p>\n"},{"tags":[],"owner":{"account_id":333711,"reputation":4480,"user_id":659715,"accept_rate":88,"display_name":"djeikyb"},"down_vote_count":1,"up_vote_count":200,"is_accepted":false,"score":199,"last_activity_date":1596046611,"creation_date":1337380947,"answer_id":10660606,"question_id":3236880,"body_markdown":"*For junit4! This question deserves a new answer written for [junit5][2].*\r\n\r\nI realise this answer is written a couple years after the question, probably this feature wasn&#39;t around then. But now, it&#39;s easy to just do this:\r\n\r\n    @Test\r\n    public void test_array_pass()\r\n    {\r\n      List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n      List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n    \r\n      assertThat(actual, is(expected));\r\n      assertThat(actual, is(not(expected)));\r\n    }\r\n\r\nIf you have a recent version of Junit installed with hamcrest, just add these imports:\r\n\r\n    import static org.junit.Assert.*;\r\n    import static org.hamcrest.CoreMatchers.*;\r\n\r\n[http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T, org.hamcrest.Matcher)][1]\r\n\r\nhttp://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html\r\n\r\nhttp://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html\r\n\r\n  [1]: http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat%28T,%20org.hamcrest.Matcher%29\r\n  [2]: https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions-third-party","title":"Assert equals between 2 Lists in Junit","body":"<p><em>For junit4! This question deserves a new answer written for <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-assertions-third-party\" rel=\"noreferrer\">junit5</a>.</em></p>\n<p>I realise this answer is written a couple years after the question, probably this feature wasn't around then. But now, it's easy to just do this:</p>\n<pre><code>@Test\npublic void test_array_pass()\n{\n  List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\n  List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\n\n  assertThat(actual, is(expected));\n  assertThat(actual, is(not(expected)));\n}\n</code></pre>\n<p>If you have a recent version of Junit installed with hamcrest, just add these imports:</p>\n<pre><code>import static org.junit.Assert.*;\nimport static org.hamcrest.CoreMatchers.*;\n</code></pre>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat%28T,%20org.hamcrest.Matcher%29\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/junit/Assert.html#assertThat(T, org.hamcrest.Matcher)</a></p>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/hamcrest/CoreMatchers.html</a></p>\n<p><a href=\"http://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html\" rel=\"noreferrer\">http://junit.org/junit4/javadoc/latest/org/hamcrest/core/Is.html</a></p>\n"},{"tags":[],"owner":{"account_id":74665,"reputation":8844,"user_id":214429,"display_name":"Viktor Nordling"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1338341772,"creation_date":1338341772,"answer_id":10808951,"question_id":3236880,"body_markdown":"If you don&#39;t care about the order of the elements, I recommend `ListAssert.assertEquals` in junit-addons.\r\n\r\nLink: http://junit-addons.sourceforge.net/\r\n\r\nFor lazy Maven users:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit-addons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-addons&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>If you don't care about the order of the elements, I recommend <code>ListAssert.assertEquals</code> in junit-addons.</p>\n\n<p>Link: <a href=\"http://junit-addons.sourceforge.net/\">http://junit-addons.sourceforge.net/</a></p>\n\n<p>For lazy Maven users:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;junit-addons&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-addons&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1376321170,"creation_date":1376321170,"answer_id":18190856,"question_id":3236880,"body_markdown":"if you don&#39;t want to build up an array list , you can try this also \r\n\r\n    @Test\r\n    public void test_array_pass()\r\n    {\r\n      List&lt;String&gt; list = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n      Strint listToString = list.toString();\r\n      Assert.assertTrue(listToString.contains(&quot;[fee, fi, foe]&quot;));   // passes  \r\n    }\r\n\r\n  \r\n\r\n   ","title":"Assert equals between 2 Lists in Junit","body":"<p>if you don't want to build up an array list , you can try this also </p>\n\n<pre><code>@Test\npublic void test_array_pass()\n{\n  List&lt;String&gt; list = Arrays.asList(\"fee\", \"fi\", \"foe\");\n  Strint listToString = list.toString();\n  Assert.assertTrue(listToString.contains(\"[fee, fi, foe]\"));   // passes  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5182428,"reputation":356,"user_id":4147737,"display_name":"Andre Fonseca"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1504196937,"creation_date":1413563026,"answer_id":26429379,"question_id":3236880,"body_markdown":"Don&#39;t transform to string and compare. This is not good for perfomance. \r\nIn the junit, inside Corematchers, there&#39;s a matcher for this =&gt; `hasItems`\r\n\r\n\r\n    List&lt;Integer&gt; yourList = Arrays.asList(1,2,3,4)    \r\n    assertThat(yourList, CoreMatchers.hasItems(1,2,3,4,5));\r\n\r\nThis is the better way that I know of to check elements in a list.","title":"Assert equals between 2 Lists in Junit","body":"<p>Don't transform to string and compare. This is not good for perfomance. \nIn the junit, inside Corematchers, there's a matcher for this => <code>hasItems</code></p>\n\n<pre><code>List&lt;Integer&gt; yourList = Arrays.asList(1,2,3,4)    \nassertThat(yourList, CoreMatchers.hasItems(1,2,3,4,5));\n</code></pre>\n\n<p>This is the better way that I know of to check elements in a list.</p>\n"},{"tags":[],"owner":{"account_id":6838599,"reputation":63,"user_id":5259704,"display_name":"Ruslan Gafiullin"},"down_vote_count":4,"up_vote_count":7,"is_accepted":false,"score":3,"last_activity_date":1457102335,"creation_date":1440408974,"answer_id":32178953,"question_id":3236880,"body_markdown":"\t\r\n\tList&lt;Integer&gt; figureTypes = new ArrayList&lt;Integer&gt;(\r\n\t\t\t\t\t\t\t   Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t 1,\r\n\t\t\t\t\t\t\t\t\t 2\r\n\t\t\t\t\t\t\t\t));\r\n\r\n\tList&lt;Integer&gt; figureTypes2 = new ArrayList&lt;Integer&gt;(\r\n\t\t\t\t\t\t\t   Arrays.asList(\r\n\t\t\t\t\t\t\t\t\t 1,\r\n\t\t\t\t\t\t\t\t\t 2));\r\n\r\n    assertTrue(figureTypes .equals(figureTypes2 ));\r\n","title":"Assert equals between 2 Lists in Junit","body":"<pre><code>List&lt;Integer&gt; figureTypes = new ArrayList&lt;Integer&gt;(\n                           Arrays.asList(\n                                 1,\n                                 2\n                            ));\n\nList&lt;Integer&gt; figureTypes2 = new ArrayList&lt;Integer&gt;(\n                           Arrays.asList(\n                                 1,\n                                 2));\n\nassertTrue(figureTypes .equals(figureTypes2 ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1612962,"reputation":2478,"user_id":1491414,"accept_rate":56,"display_name":"Ganesa Vijayakumar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1520064205,"creation_date":1519976606,"answer_id":49064684,"question_id":3236880,"body_markdown":"I don&#39;t this the all the above answers are giving the exact solution for comparing two lists of Objects.\r\nMost of above approaches can be helpful in following limit of comparisons only\r\n- Size comparison\r\n- Reference comparison\r\n\r\nBut if we have same sized lists of objects and different data on the objects level then this comparison approaches won&#39;t help. \r\n\r\nI think the following approach will work perfectly with overriding equals and hashcode method on the user-defined object.\r\n\r\nI used [Xstream][1] lib for override equals and hashcode but we can override equals and hashcode by out won logics/comparison too.\r\n\r\nHere is the example for your reference\r\n\r\n        import com.thoughtworks.xstream.XStream;\r\n        \r\n        import java.text.ParseException;\r\n        import java.util.ArrayList;\r\n        import java.util.List;\r\n        \r\n        class TestClass {\r\n          private String name;\r\n          private String id;\r\n        \r\n          public void setName(String value) {\r\n            this.name = value;\r\n          }\r\n        \r\n          public String getName() {\r\n            return this.name;\r\n          }\r\n        \r\n          public String getId() {\r\n            return id;\r\n          }\r\n        \r\n          public void setId(String id) {\r\n            this.id = id;\r\n          }\r\n        \r\n          /**\r\n           * @see java.lang.Object#equals(java.lang.Object)\r\n           */\r\n          @Override\r\n          public boolean equals(Object o) {\r\n            XStream xstream = new XStream();\r\n            String oxml = xstream.toXML(o);\r\n            String myxml = xstream.toXML(this);\r\n        \r\n            return myxml.equals(oxml);\r\n          }\r\n        \r\n          /**\r\n           * @see java.lang.Object#hashCode()\r\n           */\r\n          @Override\r\n          public int hashCode() {\r\n            XStream xstream = new XStream();\r\n            String myxml = xstream.toXML(this);\r\n            return myxml.hashCode();\r\n          }\r\n        }\r\n        \r\n        public class XstreamCompareTest {\r\n          public static void main(String[] args) throws ParseException {\r\n          checkObjectEquals();\r\n    }\r\n        \r\n          private static void checkObjectEquals() {\r\n            List&lt;TestClass&gt; testList1 = new ArrayList&lt;TestClass&gt;();\r\n            TestClass tObj1 = new TestClass();\r\n            tObj1.setId(&quot;test3&quot;);\r\n            tObj1.setName(&quot;testname3&quot;);\r\n            testList1.add(tObj1);\r\n        \r\n            TestClass tObj2 = new TestClass();\r\n            tObj2.setId(&quot;test2&quot;);\r\n            tObj2.setName(&quot;testname2&quot;);\r\n            testList1.add(tObj2);\r\n        \r\n            testList1.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\r\n        \r\n            List&lt;TestClass&gt; testList2 = new ArrayList&lt;TestClass&gt;();\r\n            TestClass tObj3 = new TestClass();\r\n            tObj3.setId(&quot;test3&quot;);\r\n            tObj3.setName(&quot;testname3&quot;);\r\n            testList2.add(tObj3);\r\n        \r\n            TestClass tObj4 = new TestClass();\r\n            tObj4.setId(&quot;test2&quot;);\r\n            tObj4.setName(&quot;testname2&quot;);\r\n            testList2.add(tObj4);\r\n        \r\n            testList2.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\r\n        \r\n            if (isNotMatch(testList1, testList2)) {\r\n              System.out.println(&quot;The list are not matched&quot;);\r\n            } else {\r\n              System.out.println(&quot;The list are matched&quot;);\r\n            }\r\n        \r\n          }\r\n        \r\n          private static boolean isNotMatch(List&lt;TestClass&gt; clist1, List&lt;TestClass&gt; clist2) {\r\n            return clist1.size() != clist2.size() || !clist1.equals(clist2);\r\n          }\r\n        }\r\n\r\nThe most important thing is that you can ignore the fields by Annotation (@XStreamOmitField) if you don&#39;t want to include any fields on the equal check of Objects. There are many Annotations like this to configure so have a look deep about the annotations of this lib.\r\n\r\nI am sure this answer will save your time to identify the correct approach for comparing two lists of objects :). Please comment if you see any issues on this.\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream/1.4.10\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>I don't this the all the above answers are giving the exact solution for comparing two lists of Objects.\nMost of above approaches can be helpful in following limit of comparisons only\n- Size comparison\n- Reference comparison</p>\n\n<p>But if we have same sized lists of objects and different data on the objects level then this comparison approaches won't help. </p>\n\n<p>I think the following approach will work perfectly with overriding equals and hashcode method on the user-defined object.</p>\n\n<p>I used <a href=\"https://mvnrepository.com/artifact/com.thoughtworks.xstream/xstream/1.4.10\" rel=\"nofollow noreferrer\">Xstream</a> lib for override equals and hashcode but we can override equals and hashcode by out won logics/comparison too.</p>\n\n<p>Here is the example for your reference</p>\n\n<pre><code>    import com.thoughtworks.xstream.XStream;\n\n    import java.text.ParseException;\n    import java.util.ArrayList;\n    import java.util.List;\n\n    class TestClass {\n      private String name;\n      private String id;\n\n      public void setName(String value) {\n        this.name = value;\n      }\n\n      public String getName() {\n        return this.name;\n      }\n\n      public String getId() {\n        return id;\n      }\n\n      public void setId(String id) {\n        this.id = id;\n      }\n\n      /**\n       * @see java.lang.Object#equals(java.lang.Object)\n       */\n      @Override\n      public boolean equals(Object o) {\n        XStream xstream = new XStream();\n        String oxml = xstream.toXML(o);\n        String myxml = xstream.toXML(this);\n\n        return myxml.equals(oxml);\n      }\n\n      /**\n       * @see java.lang.Object#hashCode()\n       */\n      @Override\n      public int hashCode() {\n        XStream xstream = new XStream();\n        String myxml = xstream.toXML(this);\n        return myxml.hashCode();\n      }\n    }\n\n    public class XstreamCompareTest {\n      public static void main(String[] args) throws ParseException {\n      checkObjectEquals();\n}\n\n      private static void checkObjectEquals() {\n        List&lt;TestClass&gt; testList1 = new ArrayList&lt;TestClass&gt;();\n        TestClass tObj1 = new TestClass();\n        tObj1.setId(\"test3\");\n        tObj1.setName(\"testname3\");\n        testList1.add(tObj1);\n\n        TestClass tObj2 = new TestClass();\n        tObj2.setId(\"test2\");\n        tObj2.setName(\"testname2\");\n        testList1.add(tObj2);\n\n        testList1.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\n\n        List&lt;TestClass&gt; testList2 = new ArrayList&lt;TestClass&gt;();\n        TestClass tObj3 = new TestClass();\n        tObj3.setId(\"test3\");\n        tObj3.setName(\"testname3\");\n        testList2.add(tObj3);\n\n        TestClass tObj4 = new TestClass();\n        tObj4.setId(\"test2\");\n        tObj4.setName(\"testname2\");\n        testList2.add(tObj4);\n\n        testList2.sort((TestClass t1, TestClass t2) -&gt; t1.getId().compareTo(t2.getId()));\n\n        if (isNotMatch(testList1, testList2)) {\n          System.out.println(\"The list are not matched\");\n        } else {\n          System.out.println(\"The list are matched\");\n        }\n\n      }\n\n      private static boolean isNotMatch(List&lt;TestClass&gt; clist1, List&lt;TestClass&gt; clist2) {\n        return clist1.size() != clist2.size() || !clist1.equals(clist2);\n      }\n    }\n</code></pre>\n\n<p>The most important thing is that you can ignore the fields by Annotation (@XStreamOmitField) if you don't want to include any fields on the equal check of Objects. There are many Annotations like this to configure so have a look deep about the annotations of this lib.</p>\n\n<p>I am sure this answer will save your time to identify the correct approach for comparing two lists of objects :). Please comment if you see any issues on this.</p>\n"},{"tags":[],"owner":{"account_id":6936044,"reputation":1126,"user_id":5323907,"display_name":"Dhyan Mohandas"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1523022776,"creation_date":1523021588,"answer_id":49694036,"question_id":3236880,"body_markdown":"You can use **assertEquals** in junit. \r\n\r\n    import org.junit.Assert;   \r\n    import org.junit.Test;\r\n\r\n        @Test\r\n        public void test_array_pass()\r\n        {\r\n            List&lt;String&gt; actual = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n            List&lt;String&gt; expected = Arrays.asList(&quot;fee&quot;, &quot;fi&quot;, &quot;foe&quot;);\r\n            Assert.assertEquals(actual,expected);\r\n        }\r\n\r\nIf the order of elements is different then it will return error.\r\n\r\n&gt; If you are asserting a model object list then you should\r\n&gt; override the equals method in the specific model.\r\n&gt; \r\n&gt;         @Override\r\n&gt;         public boolean equals(Object obj) {\r\n&gt;             if (obj == this) {\r\n&gt;                 return true;\r\n&gt;             }\r\n&gt;             if (obj != null &amp;&amp; obj instanceof ModelName) {\r\n&gt;                 ModelName other = (ModelName) obj;\r\n&gt;                 return this.getItem().equals(other.getItem()) ;\r\n&gt;             }\r\n&gt;             return false;\r\n&gt;         }\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>You can use <strong>assertEquals</strong> in junit. </p>\n\n<pre><code>import org.junit.Assert;   \nimport org.junit.Test;\n\n    @Test\n    public void test_array_pass()\n    {\n        List&lt;String&gt; actual = Arrays.asList(\"fee\", \"fi\", \"foe\");\n        List&lt;String&gt; expected = Arrays.asList(\"fee\", \"fi\", \"foe\");\n        Assert.assertEquals(actual,expected);\n    }\n</code></pre>\n\n<p>If the order of elements is different then it will return error.</p>\n\n<blockquote>\n  <p>If you are asserting a model object list then you should\n  override the equals method in the specific model.</p>\n\n<pre><code>    @Override\n    public boolean equals(Object obj) {\n        if (obj == this) {\n            return true;\n        }\n        if (obj != null &amp;&amp; obj instanceof ModelName) {\n            ModelName other = (ModelName) obj;\n            return this.getItem().equals(other.getItem()) ;\n        }\n        return false;\n    }\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1534105391,"creation_date":1534105391,"answer_id":51812537,"question_id":3236880,"body_markdown":"`assertEquals(Object, Object)` from JUnit4/JUnit 5 or   `assertThat(actual, is(expected));` from Hamcrest proposed in the other answers will work only as both `equals()` and `toString()` are overrided for the classes (and deeply) of the compared objects.   \r\n\r\nIt matters because the equality test in the assertion relies on `equals()` and the test failure message relies on `toString()` of the compared objects.   \r\nFor built-in classes such as `String`, `Integer` and so for ... no problem as these override both `equals()` and `toString()`. So it is perfectly valid to assert `List&lt;String&gt;` or `List&lt;Integer&gt;` with  `assertEquals(Object,Object)`.   \r\nAnd about this matter : you have to override `equals()` in a class because it makes sense in terms of object equality, not only to make assertions easier in a test with JUnit.       \r\nTo make assertions easier you have other ways.   \r\nAs a good practice I favor assertion/matcher libraries.   \r\n\r\nHere is a [AssertJ][1] solution.  \r\n\r\n [`org.assertj.core.api.ListAssert.containsExactly()`][2] is what you need : it verifies that the actual group contains exactly the given values and nothing else, in order as stated in the javadoc.   \r\n   \r\nSuppose a `Foo` class where you add elements and where you can get that.  \r\nA unit test of `Foo` that asserts that the two lists have the same content could look like :\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n\t@Test\r\n\tvoid add() throws Exception { \r\n       Foo foo = new Foo();\r\n   \t   foo.add(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n  \t   Assertions.assertThat(foo.getElements())\r\n\t             .containsExactly(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n    }\r\n\r\nA AssertJ good point is that declaring a `List` as expected is needless : it makes the assertion straighter and the code more readable :\r\n\r\n    Assertions.assertThat(foo.getElements())\r\n             .containsExactly(&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;);\r\n\r\n\r\nBut Assertion/matcher libraries are a must because these will really further.    \t \r\nSuppose now that `Foo`\tdoesn&#39;t store `String`s but `Bar`s instances.   \r\nThat is a very common need. \r\nWith AssertJ the assertion is still simple to write. Better you can assert that the list content are equal even if the class of the elements doesn&#39;t override `equals()/hashCode()` while JUnit way requires that :\r\n\r\n    import org.assertj.core.api.Assertions;\r\n    import static org.assertj.core.groups.Tuple.tuple;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n\t@Test\r\n\tvoid add() throws Exception {\r\n\t\tFoo foo = new Foo();\r\n        foo.add(new Bar(1, &quot;One&quot;), new Bar(2, &quot;Two&quot;), new Bar(3, &quot;Three&quot;));\r\n\t\tAssertions.assertThat(foo.getElements())\r\n\t\t          .extracting(Bar::getId, Bar::getName)\r\n\t\t          .containsExactly(tuple(1, &quot;One&quot;),\r\n\t\t                           tuple(2, &quot;Two&quot;),\r\n\t\t                           tuple(3, &quot;Three&quot;));\r\n\t}\r\n\r\n  [1]: http://joel-costigliola.github.io/assertj/\r\n  [2]: http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/ListAssert.html#containsExactly-ELEMENT...-\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p><code>assertEquals(Object, Object)</code> from JUnit4/JUnit 5 or   <code>assertThat(actual, is(expected));</code> from Hamcrest proposed in the other answers will work only as both <code>equals()</code> and <code>toString()</code> are overrided for the classes (and deeply) of the compared objects.   </p>\n\n<p>It matters because the equality test in the assertion relies on <code>equals()</code> and the test failure message relies on <code>toString()</code> of the compared objects.<br>\nFor built-in classes such as <code>String</code>, <code>Integer</code> and so for ... no problem as these override both <code>equals()</code> and <code>toString()</code>. So it is perfectly valid to assert <code>List&lt;String&gt;</code> or <code>List&lt;Integer&gt;</code> with  <code>assertEquals(Object,Object)</code>.<br>\nAnd about this matter : you have to override <code>equals()</code> in a class because it makes sense in terms of object equality, not only to make assertions easier in a test with JUnit.<br>\nTo make assertions easier you have other ways.<br>\nAs a good practice I favor assertion/matcher libraries.   </p>\n\n<p>Here is a <a href=\"http://joel-costigliola.github.io/assertj/\" rel=\"noreferrer\">AssertJ</a> solution.  </p>\n\n<p><a href=\"http://joel-costigliola.github.io/assertj/core-8/api/org/assertj/core/api/ListAssert.html#containsExactly-ELEMENT...-\" rel=\"noreferrer\"><code>org.assertj.core.api.ListAssert.containsExactly()</code></a> is what you need : it verifies that the actual group contains exactly the given values and nothing else, in order as stated in the javadoc.   </p>\n\n<p>Suppose a <code>Foo</code> class where you add elements and where you can get that.<br>\nA unit test of <code>Foo</code> that asserts that the two lists have the same content could look like :</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid add() throws Exception { \n   Foo foo = new Foo();\n   foo.add(\"One\", \"Two\", \"Three\");\n   Assertions.assertThat(foo.getElements())\n             .containsExactly(\"One\", \"Two\", \"Three\");\n}\n</code></pre>\n\n<p>A AssertJ good point is that declaring a <code>List</code> as expected is needless : it makes the assertion straighter and the code more readable :</p>\n\n<pre><code>Assertions.assertThat(foo.getElements())\n         .containsExactly(\"One\", \"Two\", \"Three\");\n</code></pre>\n\n<p>But Assertion/matcher libraries are a must because these will really further.<br>\nSuppose now that <code>Foo</code>  doesn't store <code>String</code>s but <code>Bar</code>s instances.<br>\nThat is a very common need. \nWith AssertJ the assertion is still simple to write. Better you can assert that the list content are equal even if the class of the elements doesn't override <code>equals()/hashCode()</code> while JUnit way requires that :</p>\n\n<pre><code>import org.assertj.core.api.Assertions;\nimport static org.assertj.core.groups.Tuple.tuple;\nimport org.junit.jupiter.api.Test;\n\n@Test\nvoid add() throws Exception {\n    Foo foo = new Foo();\n    foo.add(new Bar(1, \"One\"), new Bar(2, \"Two\"), new Bar(3, \"Three\"));\n    Assertions.assertThat(foo.getElements())\n              .extracting(Bar::getId, Bar::getName)\n              .containsExactly(tuple(1, \"One\"),\n                               tuple(2, \"Two\"),\n                               tuple(3, \"Three\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3628689,"reputation":946,"user_id":3025545,"accept_rate":73,"display_name":"Kh.Taheri"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582884166,"creation_date":1582884166,"answer_id":60449398,"question_id":3236880,"body_markdown":"I know there are already many options to solve this issue, but I would rather do the following to **assert two lists in any oder**:\r\n\r\n    assertTrue(result.containsAll(expected) &amp;&amp; expected.containsAll(result))","title":"Assert equals between 2 Lists in Junit","body":"<p>I know there are already many options to solve this issue, but I would rather do the following to <strong>assert two lists in any oder</strong>:</p>\n\n<pre><code>assertTrue(result.containsAll(expected) &amp;&amp; expected.containsAll(result))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3692561,"reputation":153,"user_id":3074840,"display_name":"devmarkpro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586631050,"creation_date":1586631050,"answer_id":61162039,"question_id":3236880,"body_markdown":"`assertEquals(expected, result);` works for me.\r\nSince this function gets two objects, you can pass anything to it.\r\n\r\n```java \r\npublic static void assertEquals(Object expected, Object actual) {\r\n    AssertEquals.assertEquals(expected, actual);\r\n}\r\n```","title":"Assert equals between 2 Lists in Junit","body":"<p><code>assertEquals(expected, result);</code> works for me.\nSince this function gets two objects, you can pass anything to it.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void assertEquals(Object expected, Object actual) {\n    AssertEquals.assertEquals(expected, actual);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1605976777,"creation_date":1596047796,"answer_id":63160287,"question_id":3236880,"body_markdown":"\r\n## For JUnit 5\r\n you can use [`assertIterableEquals`](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertIterableEquals-java.lang.Iterable-java.lang.Iterable-) :\r\n````\r\nList&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\r\nAssertions.assertIterableEquals(numbers, numbers2);\r\n````\r\nor [`assertArrayEquals`](https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertArrayEquals-java.lang.Object:A-java.lang.Object:A-) and converting lists to arrays :\r\n````\r\nList&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\nAssertions.assertArrayEquals(numbers.toArray(), numbers2.toArray());\r\n````","title":"Assert equals between 2 Lists in Junit","body":"<h2>For JUnit 5</h2>\n<p>you can use <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertIterableEquals-java.lang.Iterable-java.lang.Iterable-\" rel=\"noreferrer\"><code>assertIterableEquals</code></a> :</p>\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\n\nAssertions.assertIterableEquals(numbers, numbers2);\n</code></pre>\n<p>or <a href=\"https://junit.org/junit5/docs/5.0.1/api/org/junit/jupiter/api/Assertions.html#assertArrayEquals-java.lang.Object:A-java.lang.Object:A-\" rel=\"noreferrer\"><code>assertArrayEquals</code></a> and converting lists to arrays :</p>\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\nAssertions.assertArrayEquals(numbers.toArray(), numbers2.toArray());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8608149,"reputation":526,"user_id":9285942,"display_name":"David Good"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603475807,"creation_date":1603475807,"answer_id":64505104,"question_id":3236880,"body_markdown":"You mentioned that you&#39;re interested in the equality of the contents of the list (and didn&#39;t mention order). So `containsExactlyInAnyOrder` from AssertJ is a good fit. It comes packaged with `spring-boot-starter-test`, for example.\r\n\r\nFrom the [AssertJ docs ListAssert#containsExactlyInAnyOrder][1]:\r\n\r\n&gt; Verifies that the actual group contains exactly the given values and nothing else, in any order.\r\n&gt; Example:\r\n\r\n```java\r\n // an Iterable is used in the example but it would also work with an array\r\n Iterable&lt;Ring&gt; elvesRings = newArrayList(vilya, nenya, narya, vilya);\r\n\r\n // assertion will pass\r\n assertThat(elvesRings).containsExactlyInAnyOrder(vilya, vilya, nenya, narya);\r\n\r\n // assertion will fail as vilya is contained twice in elvesRings.\r\n assertThat(elvesRings).containsExactlyInAnyOrder(nenya, vilya, narya);\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.1/org/assertj/core/api/ListAssert.html#containsExactlyInAnyOrder(ELEMENT...)","title":"Assert equals between 2 Lists in Junit","body":"<p>You mentioned that you're interested in the equality of the contents of the list (and didn't mention order). So <code>containsExactlyInAnyOrder</code> from AssertJ is a good fit. It comes packaged with <code>spring-boot-starter-test</code>, for example.</p>\n<p>From the <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/3.16.1/org/assertj/core/api/ListAssert.html#containsExactlyInAnyOrder(ELEMENT...)\" rel=\"nofollow noreferrer\">AssertJ docs ListAssert#containsExactlyInAnyOrder</a>:</p>\n<blockquote>\n<p>Verifies that the actual group contains exactly the given values and nothing else, in any order.\nExample:</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code> // an Iterable is used in the example but it would also work with an array\n Iterable&lt;Ring&gt; elvesRings = newArrayList(vilya, nenya, narya, vilya);\n\n // assertion will pass\n assertThat(elvesRings).containsExactlyInAnyOrder(vilya, vilya, nenya, narya);\n\n // assertion will fail as vilya is contained twice in elvesRings.\n assertThat(elvesRings).containsExactlyInAnyOrder(nenya, vilya, narya);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13991015,"reputation":311,"user_id":10104999,"display_name":"SMilos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665152115,"creation_date":1665152115,"answer_id":73988517,"question_id":3236880,"body_markdown":"If there are no duplicates, following code should do the job\r\n\r\n        Assertions.assertTrue(firstList.size() == secondList.size() \r\n            &amp;&amp; firstList.containsAll(secondList) \r\n            &amp;&amp; secondList.containsAll(firstList));\r\n\r\n**Note**: In case of duplicates, assertion will pass if number of elements is the same in both lists (even if different elements are duplicated in each list.\r\n\r\n","title":"Assert equals between 2 Lists in Junit","body":"<p>If there are no duplicates, following code should do the job</p>\n<pre><code>    Assertions.assertTrue(firstList.size() == secondList.size() \n        &amp;&amp; firstList.containsAll(secondList) \n        &amp;&amp; secondList.containsAll(firstList));\n</code></pre>\n<p><strong>Note</strong>: In case of duplicates, assertion will pass if number of elements is the same in both lists (even if different elements are duplicated in each list.</p>\n"},{"tags":[],"owner":{"account_id":26604654,"reputation":103,"user_id":20225739,"display_name":"Theri Muthu Selvam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695031944,"creation_date":1695031944,"answer_id":77126323,"question_id":3236880,"body_markdown":"Just use the below code, it&#39;ll help in your case and import the following Assertions package - `import org.junit.jupiter.api.Assertions;`\r\n\r\n    Assertions.assertEquals(expected, actual);","title":"Assert equals between 2 Lists in Junit","body":"<p>Just use the below code, it'll help in your case and import the following Assertions package - <code>import org.junit.jupiter.api.Assertions;</code></p>\n<pre><code>Assertions.assertEquals(expected, actual);\n</code></pre>\n"}],"owner":{"account_id":162637,"reputation":3918,"user_id":384223,"accept_rate":55,"display_name":"Kamal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331004,"favorite_count":0,"down_vote_count":0,"up_vote_count":214,"answer_count":15,"score":214,"last_activity_date":1695031944,"creation_date":1279022199,"question_id":3236880,"body_markdown":"How can I make an equality assertion between lists in a ***JUnit*** test case? Equality should be between the content of the list.\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; numbers = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\tList&lt;String&gt; numbers2 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n\tList&lt;String&gt; numbers3 = Arrays.asList(&quot;one&quot;, &quot;two&quot;, &quot;four&quot;); \r\n    \r\n    // numbers should be equal to numbers2\r\n    //numbers should not be equal to numbers3","title":"Assert equals between 2 Lists in Junit","body":"<p>How can I make an equality assertion between lists in a <strong><em>JUnit</em></strong> test case? Equality should be between the content of the list.</p>\n\n<p>For example:</p>\n\n<pre><code>List&lt;String&gt; numbers = Arrays.asList(\"one\", \"two\", \"three\");\nList&lt;String&gt; numbers2 = Arrays.asList(\"one\", \"two\", \"three\");\nList&lt;String&gt; numbers3 = Arrays.asList(\"one\", \"two\", \"four\"); \n\n// numbers should be equal to numbers2\n//numbers should not be equal to numbers3\n</code></pre>\n"},{"tags":["java","mysql","jdbc","connection-pooling","c3p0"],"comments":[{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449610,"post_id":13482803,"comment_id":18448232,"body_markdown":"what does the other datasource look like?","body":"what does the other datasource look like?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353449725,"post_id":13482803,"comment_id":18448268,"body_markdown":"Same config with different id.","body":"Same config with different id."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449747,"post_id":13482803,"comment_id":18448275,"body_markdown":"Have you tried increasing the connection limit on the database?","body":"Have you tried increasing the connection limit on the database?"},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353449958,"post_id":13482803,"comment_id":18448349,"body_markdown":"Also does this happen on start up or after a while at run time? Are you sure you&#39;ve configured your database settings correctly?","body":"Also does this happen on start up or after a while at run time? Are you sure you&#39;ve configured your database settings correctly?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353450715,"post_id":13482803,"comment_id":18448667,"body_markdown":"This is during run time. I doubt it was related to the connection limit for the db. The monitor shows the DB connection count with a sawtooth pattern (http://en.wikipedia.org/wiki/Sawtooth_wave), which is really weird. The DB is getting from anywhere between 40-300 connections. We have ds1 with maxPoolSize=300 and ds2 with maxPoolSize=50.","body":"This is during run time. I doubt it was related to the connection limit for the db. The monitor shows the DB connection count with a sawtooth pattern (<a href=\"http://en.wikipedia.org/wiki/Sawtooth_wave\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Sawtooth_wave</a>), which is really weird. The DB is getting from anywhere between 40-300 connections. We have ds1 with maxPoolSize=300 and ds2 with maxPoolSize=50."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353450949,"post_id":13482803,"comment_id":18448749,"body_markdown":"so whats the limit on the DB?","body":"so whats the limit on the DB?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353451833,"post_id":13482803,"comment_id":18449100,"body_markdown":"1200 is the limit. We are far from there. BTW, the sawtooth problem was identified. We have a script that opens connections without closing them. That is now fixed. But this should have nothing to do with the getConnection() problem here.","body":"1200 is the limit. We are far from there. BTW, the sawtooth problem was identified. We have a script that opens connections without closing them. That is now fixed. But this should have nothing to do with the getConnection() problem here."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353452572,"post_id":13482803,"comment_id":18449398,"body_markdown":"Have you noticed any pattern to this exception occuring? Does it occur on both datasources? Have you debugged before getting the connection to see if the datasource is in a weird state when it throws the exception?","body":"Have you noticed any pattern to this exception occuring? Does it occur on both datasources? Have you debugged before getting the connection to see if the datasource is in a weird state when it throws the exception?"},{"owner":{"account_id":1346755,"reputation":13871,"user_id":1287342,"display_name":"Alex"},"score":0,"creation_date":1353453051,"post_id":13482803,"comment_id":18449593,"body_markdown":"Are you able to bump up the logging level on C3PO?","body":"Are you able to bump up the logging level on C3PO?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353453174,"post_id":13482803,"comment_id":18449638,"body_markdown":"@Brian No pattern has been recognized. It happens on both ds. We are not able to reproduce the problem. So not possible to debug.","body":"@Brian No pattern has been recognized. It happens on both ds. We are not able to reproduce the problem. So not possible to debug."},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353453203,"post_id":13482803,"comment_id":18449649,"body_markdown":"@Alex How do I bump up the logging level in c3p0? We are using logback, btw.","body":"@Alex How do I bump up the logging level in c3p0? We are using logback, btw."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353453440,"post_id":13482803,"comment_id":18449725,"body_markdown":"But how often does it happen and how soon after start up?","body":"But how often does it happen and how soon after start up?"},{"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"score":0,"creation_date":1353454216,"post_id":13482803,"comment_id":18449949,"body_markdown":"@Brian There is no pattern for it.","body":"@Brian There is no pattern for it."},{"owner":{"account_id":1346755,"reputation":13871,"user_id":1287342,"display_name":"Alex"},"score":0,"creation_date":1353455216,"post_id":13482803,"comment_id":18450229,"body_markdown":"Looks like c3p0 is hard-wired to use log4j (http://www.mchange.com/projects/c3p0/#configuring_logging). Your best bet is probably to install the log4j-over-slf4j bridge (http://www.slf4j.org/legacy.html) and then modify your logback configuration to increase the logging level of the com.mchange appender.","body":"Looks like c3p0 is hard-wired to use log4j (<a href=\"http://www.mchange.com/projects/c3p0/#configuring_logging\" rel=\"nofollow noreferrer\">mchange.com/projects/c3p0/#configuring_logging</a>). Your best bet is probably to install the log4j-over-slf4j bridge (<a href=\"http://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">slf4j.org/legacy.html</a>) and then modify your logback configuration to increase the logging level of the com.mchange appender."},{"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"score":0,"creation_date":1353485087,"post_id":13482803,"comment_id":18457405,"body_markdown":"You&#39;re going to need to explain exactly what happens. Does it happen every time hibernate attempts to make a connection? I think you need to include your session factory bean and also the hibernate calling code","body":"You&#39;re going to need to explain exactly what happens. Does it happen every time hibernate attempts to make a connection? I think you need to include your session factory bean and also the hibernate calling code"}],"answers":[{"tags":[],"owner":{"account_id":1976647,"reputation":402,"user_id":1774298,"accept_rate":88,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353450973,"creation_date":1353450570,"answer_id":13483317,"question_id":13482803,"body_markdown":"Although not strictly answering your question, I didn&#39;t want to add code in the comments as code in comments is unreadable.\r\n\r\nHere is an example config of MySQL with C3P0 from my project. note all the extra parameters to make sure the connections don&#39;t die. (In the end I went with Postgres because it didn&#39;t kill my connections and was more stable generally, also having to retest connections with select 1; isn&#39;t very efficient)\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n         destroy-method=&quot;close&quot;&gt;\r\n      &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\r\n      &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n      &lt;property name=&quot;properties&quot;&gt;\r\n        &lt;props&gt;\r\n            &lt;prop key=&quot;c3p0.minPoolSize&quot;&gt;0&lt;/prop&gt;\r\n            &lt;prop key=&quot;hc3p0.maxPoolSize&quot;&gt;1000&lt;/prop&gt;\r\n            &lt;prop key=&quot;hc3p0.timeout&quot;&gt;3000&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.acquire_increment&quot;&gt;10&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.max_statement&quot;&gt;50&lt;/prop&gt;\r\n\r\n            &lt;prop key=&quot;hibernate.c3p0.idle_test_period&quot;&gt;60&lt;/prop&gt;\r\n            &lt;prop key=&quot;c3p0.preferredTestQuery&quot;&gt;SELECT 1;&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.c3p0.testConnectionOnCheckout&quot;&gt;false&lt;/prop&gt;\r\n            &lt;prop key=&quot;user&quot;&gt;${jdbc.username}&lt;/prop&gt;\r\n            &lt;prop key=&quot;password&quot;&gt;${jdbc.password}&lt;/prop&gt;\r\n        &lt;/props&gt;\r\n      &lt;/property&gt;\r\n    &lt;/bean&gt;","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>Although not strictly answering your question, I didn't want to add code in the comments as code in comments is unreadable.</p>\n\n<p>Here is an example config of MySQL with C3P0 from my project. note all the extra parameters to make sure the connections don't die. (In the end I went with Postgres because it didn't kill my connections and was more stable generally, also having to retest connections with select 1; isn't very efficient)</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n     destroy-method=\"close\"&gt;\n  &lt;property name=\"driverClass\" value=\"${jdbc.driverClassName}\"/&gt;\n  &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\"/&gt;\n  &lt;property name=\"properties\"&gt;\n    &lt;props&gt;\n        &lt;prop key=\"c3p0.minPoolSize\"&gt;0&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.maxPoolSize\"&gt;1000&lt;/prop&gt;\n        &lt;prop key=\"hc3p0.timeout\"&gt;3000&lt;/prop&gt;\n        &lt;prop key=\"c3p0.acquire_increment\"&gt;10&lt;/prop&gt;\n        &lt;prop key=\"c3p0.max_statement\"&gt;50&lt;/prop&gt;\n\n        &lt;prop key=\"hibernate.c3p0.idle_test_period\"&gt;60&lt;/prop&gt;\n        &lt;prop key=\"c3p0.preferredTestQuery\"&gt;SELECT 1;&lt;/prop&gt;\n        &lt;prop key=\"hibernate.c3p0.testConnectionOnCheckout\"&gt;false&lt;/prop&gt;\n        &lt;prop key=\"user\"&gt;${jdbc.username}&lt;/prop&gt;\n        &lt;prop key=\"password\"&gt;${jdbc.password}&lt;/prop&gt;\n    &lt;/props&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616513389,"creation_date":1616513389,"answer_id":66766284,"question_id":13482803,"body_markdown":"I found the following list of causes and resolutions which helped me solve the problem. Might also help others:\r\n\r\n 1. **The database configuration details you entered are incorrect or have changed**. For example, the database name or database username/password for your Confluence database. Confirm that the database username, password, and connection URL in &lt;confluence-home&gt;/confluence.cfg.xml are incorrect, and if not update them accordingly.\r\n 2. **The URL for the database is incorrect**. For example, if the database connection is jdbc:mysql://yma/confluence?autoReconnect=true, does the host &#39;yma&#39; exist and is the database server installed on &#39;yma&#39;? Check &lt;confluence-home&gt;/confluence.cfg.xml to find this entry.\r\n 3. **The database server is not running**. If your database server is down, restart it and check the logs to see why it had failed or stopped.\r\n 4. **The network is down** (or there is a firewall in between Confluence and its database) and the connection to the database cannot be established. If your network is down, or a new firewall is installed, consult with your System Administrator for further troubleshooting.\r\n 5. **Your database password has expired.** If your password has expired (and you will only discover this if you try to connect to your database via your database client or an external database tool such as DbVisualizer), update your password. You may want to deactivate expiring passwords for your Confluence database user to prevent the problem from happening again. Be sure to consult with your DBA about this.\r\n 6. **Postgres specific issue**: the Postgres encryption method has been altered or changed when migrating or upgrading Confluence, the environment, etc. Check the pg_hba.conf file. If the method is set to ident change it to md5.\r\n 7. **MySQL specific issue**: there are too many connection requests that triggered MySQL server to block Confluence from making any requests. See this MySQL article for resolution.\r\n\r\nSource: https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html\r\n\r\n\r\n  [1]: https://confluence.atlassian.com\r\n","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>I found the following list of causes and resolutions which helped me solve the problem. Might also help others:</p>\n<ol>\n<li><strong>The database configuration details you entered are incorrect or have changed</strong>. For example, the database name or database username/password for your Confluence database. Confirm that the database username, password, and connection URL in /confluence.cfg.xml are incorrect, and if not update them accordingly.</li>\n<li><strong>The URL for the database is incorrect</strong>. For example, if the database connection is jdbc:mysql://yma/confluence?autoReconnect=true, does the host 'yma' exist and is the database server installed on 'yma'? Check /confluence.cfg.xml to find this entry.</li>\n<li><strong>The database server is not running</strong>. If your database server is down, restart it and check the logs to see why it had failed or stopped.</li>\n<li><strong>The network is down</strong> (or there is a firewall in between Confluence and its database) and the connection to the database cannot be established. If your network is down, or a new firewall is installed, consult with your System Administrator for further troubleshooting.</li>\n<li><strong>Your database password has expired.</strong> If your password has expired (and you will only discover this if you try to connect to your database via your database client or an external database tool such as DbVisualizer), update your password. You may want to deactivate expiring passwords for your Confluence database user to prevent the problem from happening again. Be sure to consult with your DBA about this.</li>\n<li><strong>Postgres specific issue</strong>: the Postgres encryption method has been altered or changed when migrating or upgrading Confluence, the environment, etc. Check the pg_hba.conf file. If the method is set to ident change it to md5.</li>\n<li><strong>MySQL specific issue</strong>: there are too many connection requests that triggered MySQL server to block Confluence from making any requests. See this MySQL article for resolution.</li>\n</ol>\n<p>Source: <a href=\"https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html\" rel=\"nofollow noreferrer\">https://confluence.atlassian.com/confkb/connections-could-not-be-acquired-from-the-underlying-database-104825087.html</a></p>\n"}],"owner":{"account_id":1210340,"reputation":1432,"user_id":1179018,"accept_rate":41,"display_name":"scabbage"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15256,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1695031555,"creation_date":1353448161,"question_id":13482803,"body_markdown":"We have a [Hibernate + c3p0 + MySQL] config for our project. We are hitting the following exception:\r\n\r\n    com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1319) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:557) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    Wrapped by: java.sql.SQLException: Connections could not be acquired from the underlying database!\r\n    \tat com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:106) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:529) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128) ~[c3p0-0.9.1.2.jar:0.9.1.2]\r\n    \tat org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    Wrapped by: org.hibernate.exception.GenericJDBCException: Could not open connection\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:52) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1263) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:399) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    Wrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Could not open connection\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:440) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:336) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\r\n    \tat $Proxy28.messageExists(Unknown Source) ~[na:na]\r\n\r\nOur c3p0 config:\r\n\r\n    &lt;bean id=&quot;provDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    …\r\n            &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot; /&gt;\r\n            &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;100&quot;/&gt;\r\n            &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot; /&gt;\r\n            &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot; /&gt;\r\n            &lt;property name=&quot;maxIdleTime&quot; value=&quot;1800&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nNote that we also have another similar c3p0 datasource configured on top of this MySQL instance.\r\n\r\nCan anyone give me some suggestions on how to debug this?","title":"c3p0 getConnection() throws exception: A ResourcePool could not acquire a resource from its primary factory or source","body":"<p>We have a [Hibernate + c3p0 + MySQL] config for our project. We are hitting the following exception:</p>\n<pre><code>com.mchange.v2.resourcepool.CannotAcquireResourceException: A ResourcePool could not acquire a resource from its primary factory or source.\n    at com.mchange.v2.resourcepool.BasicResourcePool.awaitAvailable(BasicResourcePool.java:1319) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.prelimCheckoutResource(BasicResourcePool.java:557) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.resourcepool.BasicResourcePool.checkoutResource(BasicResourcePool.java:477) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:525) ~[c3p0-0.9.1.2.jar:0.9.1.2]\nWrapped by: java.sql.SQLException: Connections could not be acquired from the underlying database!\n    at com.mchange.v2.sql.SqlUtils.toSQLException(SqlUtils.java:106) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool.checkoutPooledConnection(C3P0PooledConnectionPool.java:529) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource.getConnection(AbstractPoolBackedDataSource.java:128) ~[c3p0-0.9.1.2.jar:0.9.1.2]\n    at org.hibernate.service.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:141) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:276) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:297) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\nWrapped by: org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:52) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:125) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:110) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:304) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:169) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:160) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1263) ~[hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:399) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\nWrapped by: org.springframework.transaction.CannotCreateTransactionException: Could not open Hibernate Session for transaction; nested exception is org.hibernate.exception.GenericJDBCException: Could not open connection\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:440) ~[spring-orm-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:371) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:336) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:105) ~[spring-tx-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202) ~[spring-aop-3.1.2.RELEASE.jar:3.1.2.RELEASE]\n    at $Proxy28.messageExists(Unknown Source) ~[na:na]\n</code></pre>\n<p>Our c3p0 config:</p>\n<pre><code>&lt;bean id=&quot;provDataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\n…\n        &lt;property name=&quot;acquireIncrement&quot; value=&quot;1&quot; /&gt;\n        &lt;property name=&quot;idleConnectionTestPeriod&quot; value=&quot;100&quot;/&gt;\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;5&quot; /&gt;\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;50&quot; /&gt;\n        &lt;property name=&quot;maxIdleTime&quot; value=&quot;1800&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Note that we also have another similar c3p0 datasource configured on top of this MySQL instance.</p>\n<p>Can anyone give me some suggestions on how to debug this?</p>\n"},{"tags":["java","compression","dicom","dcm4che"],"answers":[{"tags":[],"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695030454,"creation_date":1694597919,"answer_id":77095888,"question_id":77020127,"body_markdown":"Pixel data decoding and encoding in dcm4che is provided through the [Java Image I/O API](https://docs.oracle.com/javase/8/docs/technotes/guides/imageio/spec/imageio_guideTOC.fm.html). A set of image readers and writers are automatically recorded so that it supports reading DICOM files, as well as translating a supported set of transfer syntaxes.\r\n\r\nThe easiest way to obtain an image is through [`ImageIO`](https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html):\r\n\r\n```java\r\nBufferedImage img = ImageIO.read(file);\r\n```\r\n\r\nThe outcome is a rendered form of the pixel data, including Modality LUT and VOI LUT. You can skip these transformations by requesting the raster instead. This may require you to fill in some blanks if you want to turn it into a rendered image, but it is closer to a native pixel data form.\r\n\r\n```java\r\ntry (DicomInputStream dis = new DicomInputStream(file)) {\r\n    ImageReader reader = ImageIO.getImageReadersByFormatName(&quot;DICOM&quot;).next();\r\n    try (ImageInputStream iis = ImageIO.createImageInputStream(dis)) {\r\n        reader.setInput(iis, false);\r\n        ImageReadParam param = reader.getDefaultReadParam();\r\n        // note that a file may have multiple frames.\r\n        // set frame number depending on your use case\r\n        int frame = 0;\r\n        Raster raster = reader.readRaster(frame, param);\r\n    }\r\n}\r\n```\r\n\r\nThis is supported by dcm4che since at least v2, although the details on how to register custom image readers and writers depending on transfer syntax may differ.\r\n\r\n&gt; Because of that I&#39;m sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.\r\n\r\nYou can find the difference between native pixel data and encapsulated pixel data in the standard, [part 5, section 8.2](https://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.html). In short, _Pixel Data_ comprising a list of fragments means that the pixel data is encapsulated, and the transfer syntax dictates how the pixels are encoded in them.\r\n\r\nSee also:\r\n\r\n- https://stackoverflow.com/questions/40585011/imageio-read-is-sporadically-reading-an-image-file ","title":"How do I decompress/unencapsulate Pixel Data fragments using dcm4che?","body":"<p>Pixel data decoding and encoding in dcm4che is provided through the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/imageio/spec/imageio_guideTOC.fm.html\" rel=\"nofollow noreferrer\">Java Image I/O API</a>. A set of image readers and writers are automatically recorded so that it supports reading DICOM files, as well as translating a supported set of transfer syntaxes.</p>\n<p>The easiest way to obtain an image is through <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/imageio/ImageIO.html\" rel=\"nofollow noreferrer\"><code>ImageIO</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedImage img = ImageIO.read(file);\n</code></pre>\n<p>The outcome is a rendered form of the pixel data, including Modality LUT and VOI LUT. You can skip these transformations by requesting the raster instead. This may require you to fill in some blanks if you want to turn it into a rendered image, but it is closer to a native pixel data form.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (DicomInputStream dis = new DicomInputStream(file)) {\n    ImageReader reader = ImageIO.getImageReadersByFormatName(&quot;DICOM&quot;).next();\n    try (ImageInputStream iis = ImageIO.createImageInputStream(dis)) {\n        reader.setInput(iis, false);\n        ImageReadParam param = reader.getDefaultReadParam();\n        // note that a file may have multiple frames.\n        // set frame number depending on your use case\n        int frame = 0;\n        Raster raster = reader.readRaster(frame, param);\n    }\n}\n</code></pre>\n<p>This is supported by dcm4che since at least v2, although the details on how to register custom image readers and writers depending on transfer syntax may differ.</p>\n<blockquote>\n<p>Because of that I'm sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.</p>\n</blockquote>\n<p>You can find the difference between native pixel data and encapsulated pixel data in the standard, <a href=\"https://dicom.nema.org/medical/dicom/current/output/chtml/part05/sect_8.2.html\" rel=\"nofollow noreferrer\">part 5, section 8.2</a>. In short, <em>Pixel Data</em> comprising a list of fragments means that the pixel data is encapsulated, and the transfer syntax dictates how the pixels are encoded in them.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40585011/imageio-read-is-sporadically-reading-an-image-file\">ImageIO.read is sporadically reading an image file</a></li>\n</ul>\n"}],"owner":{"account_id":18823488,"reputation":11,"user_id":15401415,"display_name":"Salu Ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695030454,"creation_date":1693534115,"question_id":77020127,"body_markdown":"When reading the _Pixel Data_ with dcm4che, it returns an object of type `Fragment`, which has a byte array with a size of 219576 bytes, however the image size is 512x512 with each pixel occupying 16 bits, so the expected would be 524288 bytes if the image was not compressed. Because of that I&#39;m sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.\r\n\r\nHow could I transform that 219576 bytes in expected 524288 bytes? (I want to have access every pixel color)\r\n\r\n    File file = new File(filename);\r\n    DicomInputStream dis = new DicomInputStream(file);\r\n    Attributes attrs = dis.readDataset();\r\n    Object image = attrs.getValue(Tag.PixelData);\r\n    if (image.getClass() == Fragments.class) {\r\n        //decompress here\r\n    }\r\n    dis.close();\r\n\r\nThis is the DICOM file I&#39;m working and his tags and values: https://pastecode.io/s/ofmt5uf1\r\n\r\n```none\r\n&quot;0008|0021&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|0020&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|3010&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000089&quot;\r\n&quot;0008|0023&quot; -&gt; &quot;20230619&quot;\r\n&quot;0008|0022&quot; -&gt; &quot;20230619&quot;\r\n&quot;0029|1024&quot; -&gt; &quot;Spine &quot;\r\n&quot;0029|1022&quot; -&gt; &quot;16&quot;\r\n&quot;0029|1028&quot; -&gt; &quot;0\\48.3151&quot;\r\n&quot;0010|0020&quot; -&gt; &quot;72918 &quot;\r\n&quot;0029|1027&quot; -&gt; &quot;150.63&quot;\r\n&quot;0029|1026&quot; -&gt; &quot;150.63&quot;\r\n&quot;0018|9323&quot; -&gt; &quot;ELLIP_ZEC &quot;\r\n&quot;0020|1041&quot; -&gt; &quot;-1240.06&quot;\r\n&quot;0018|1200&quot; -&gt; &quot;20230619&quot;\r\n&quot;0020|1040&quot; -&gt; &quot;&quot;\r\n&quot;0018|1201&quot; -&gt; &quot;081456.000000 &quot;\r\n&quot;0018|1160&quot; -&gt; &quot;None&quot;\r\n&quot;0029|100f&quot; -&gt; &quot;1&quot;\r\n&quot;0029|100e&quot; -&gt; &quot;UNDEFINED &quot;\r\n&quot;0029|100d&quot; -&gt; &quot;FFSNONE &quot;\r\n&quot;0040|0245&quot; -&gt; &quot;093956.911773 &quot;\r\n&quot;0040|0244&quot; -&gt; &quot;20230619&quot;\r\n&quot;0029|1014&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1013&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1011&quot; -&gt; &quot;SAFIRE2 &quot;\r\n&quot;0008|0016&quot; -&gt; &quot;1.2.840.10008.5.1.4.1.1.2&quot;\r\n&quot;0029|1018&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1017&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0008|0018&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900001296&quot;\r\n&quot;0029|1016&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|1015&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0010|0010&quot; -&gt; &quot;PIETRO LEVY SETUBAL &quot;\r\n&quot;0018|1210&quot; -&gt; &quot;Br60f\\3 &quot;\r\n&quot;0028|0030&quot; -&gt; &quot;0.294203125\\0.294203125 &quot;\r\n&quot;0029|1019&quot; -&gt; &quot;0&quot;\r\n&quot;0021|0010&quot; -&gt; &quot;SIEMENS MED &quot;\r\n&quot;0018|1170&quot; -&gt; &quot;8 &quot;\r\n&quot;0008|0090&quot; -&gt; &quot;&quot;\r\n&quot;0019|0010&quot; -&gt; &quot;SIEMENS CT EXAM APP SHARED&quot;\r\n&quot;0008|1010&quot; -&gt; &quot;CT107544&quot;\r\n&quot;0029|1043&quot; -&gt; &quot;3&quot;\r\n&quot;0028|0301&quot; -&gt; &quot;NO&quot;\r\n&quot;0029|1046&quot; -&gt; &quot;0.5&quot;\r\n&quot;0008|0201&quot; -&gt; &quot;-0300 &quot;\r\n&quot;0029|1045&quot; -&gt; &quot;0.4&quot;\r\n&quot;0029|1048&quot; -&gt; &quot;NONE&quot;\r\n&quot;0018|9345&quot; -&gt; &quot;10.8698&quot;\r\n&quot;0020|0052&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000087&quot;\r\n&quot;0029|1209&quot; -&gt; &quot;VA10A 971201&quot;\r\n&quot;0018|1100&quot; -&gt; &quot;150.632589502953&quot;\r\n&quot;0029|1208&quot; -&gt; &quot;SOM 5 &quot;\r\n&quot;0018|0015&quot; -&gt; &quot;SPINE &quot;\r\n&quot;0029|102a&quot; -&gt; &quot;CHILD &quot;\r\n&quot;0008|002a&quot; -&gt; &quot;20230619094136.916000 &quot;\r\n&quot;0029|102e&quot; -&gt; &quot;FALSE &quot;\r\n&quot;0029|102c&quot; -&gt; &quot;16&quot;\r\n&quot;0029|102b&quot; -&gt; &quot;3&quot;\r\n&quot;0018|0090&quot; -&gt; &quot;499.799988&quot;\r\n&quot;0029|102f&quot; -&gt; &quot;c0bf3ca5-a91b-43d9-b4ec-483d516b3e38&quot;\r\n&quot;0008|0030&quot; -&gt; &quot;093956.911773 &quot;\r\n&quot;0029|1031&quot; -&gt; &quot;450&quot;\r\n&quot;0008|0032&quot; -&gt; &quot;094136.916000 &quot;\r\n&quot;0029|1030&quot; -&gt; &quot;ALGOSLIDE &quot;\r\n&quot;0008|0031&quot; -&gt; &quot;094156.128805 &quot;\r\n&quot;0008|0033&quot; -&gt; &quot;094136.916000 &quot;\r\n&quot;0028|0011&quot; -&gt; &quot;512&quot;\r\n&quot;0029|1039&quot; -&gt; &quot;TRUE&quot;\r\n&quot;0029|1038&quot; -&gt; &quot;-1240.06&quot;\r\n&quot;0028|0010&quot; -&gt; &quot;512&quot;\r\n&quot;0029|1037&quot; -&gt; &quot;1000&quot;\r\n&quot;0018|1110&quot; -&gt; &quot;983 &quot;\r\n&quot;0018|1111&quot; -&gt; &quot;535 &quot;\r\n&quot;0018|1190&quot; -&gt; &quot;1.6\\1.6 &quot;\r\n&quot;0029|101d&quot; -&gt; &quot;134&quot;\r\n&quot;0029|101b&quot; -&gt; &quot;0&quot;\r\n&quot;0029|101a&quot; -&gt; &quot;ITR_Off &quot;\r\n&quot;0029|101f&quot; -&gt; &quot;0&quot;\r\n&quot;0029|101e&quot; -&gt; &quot;16&quot;\r\n&quot;0028|0004&quot; -&gt; &quot;MONOCHROME2 &quot;\r\n&quot;0029|0012&quot; -&gt; &quot;SIEMENS CSA HEADER&quot;\r\n&quot;0028|0002&quot; -&gt; &quot;1&quot;\r\n&quot;0029|0010&quot; -&gt; &quot;SIEMENS CT EXAM IMAGE &quot;\r\n&quot;0029|0011&quot; -&gt; &quot;SIEMENS CT EXAM EQUIPMENT &quot;\r\n&quot;0010|1030&quot; -&gt; &quot;&quot;\r\n&quot;0029|1106&quot; -&gt; &quot;3.84984&quot;\r\n&quot;0010|2000&quot; -&gt; &quot;&quot;\r\n&quot;0020|0032&quot; -&gt; &quot;-75.1688984375\\-132.8538984375\\-1240.06 &quot;\r\n&quot;0028|1054&quot; -&gt; &quot;HU&quot;\r\n&quot;0029|1104&quot; -&gt; &quot;435234&quot;\r\n&quot;0018|1120&quot; -&gt; &quot;0 &quot;\r\n&quot;0028|1055&quot; -&gt; &quot;&quot;\r\n&quot;0018|1000&quot; -&gt; &quot;107544&quot;\r\n&quot;0028|1052&quot; -&gt; &quot;-8192 &quot;\r\n&quot;0028|1053&quot; -&gt; &quot;1 &quot;\r\n&quot;0029|1109&quot; -&gt; &quot;P81A&quot;\r\n&quot;0028|1050&quot; -&gt; &quot;450 &quot;\r\n&quot;0028|1051&quot; -&gt; &quot;1500&quot;\r\n&quot;0021|1011&quot; -&gt; &quot;0\\48.3151045659296&quot;\r\n&quot;0029|104f&quot; -&gt; &quot;Bone&quot;\r\n&quot;0029|104e&quot; -&gt; &quot;Manual&quot;\r\n&quot;0008|0060&quot; -&gt; &quot;CT&quot;\r\n&quot;0029|1052&quot; -&gt; &quot;130.0 kV&quot;\r\n&quot;0020|4000&quot; -&gt; &quot;&quot;\r\n&quot;0029|1051&quot; -&gt; &quot;80.0 kV &quot;\r\n&quot;0010|2110&quot; -&gt; &quot;&quot;\r\n&quot;0018|1130&quot; -&gt; &quot;106.000 &quot;\r\n&quot;0010|1020&quot; -&gt; &quot;&quot;\r\n&quot;0029|103b&quot; -&gt; &quot;213&quot;\r\n&quot;0020|0037&quot; -&gt; &quot;1\\0\\0\\0\\1\\0 &quot;\r\n&quot;0029|1050&quot; -&gt; &quot;236.0 mAs &quot;\r\n&quot;0008|0050&quot; -&gt; &quot;188828&quot;\r\n&quot;0028|0107&quot; -&gt; &quot;10006&quot;\r\n&quot;0028|0106&quot; -&gt; &quot;6869&quot;\r\n&quot;0018|9309&quot; -&gt; &quot;8.9&quot;\r\n&quot;0028|0103&quot; -&gt; &quot;0&quot;\r\n&quot;0028|0101&quot; -&gt; &quot;16&quot;\r\n&quot;0018|0050&quot; -&gt; &quot;1 &quot;\r\n&quot;0028|0102&quot; -&gt; &quot;15&quot;\r\n&quot;0008|0005&quot; -&gt; &quot;ISO_IR 100&quot;\r\n&quot;0010|0040&quot; -&gt; &quot;M &quot;\r\n&quot;0018|9305&quot; -&gt; &quot;1&quot;\r\n&quot;0020|0012&quot; -&gt; &quot;200 &quot;\r\n&quot;0029|1007&quot; -&gt; &quot;1000&quot;\r\n&quot;0018|1140&quot; -&gt; &quot;CW&quot;\r\n&quot;0018|9306&quot; -&gt; &quot;0.7&quot;\r\n&quot;0020|0011&quot; -&gt; &quot;3 &quot;\r\n&quot;0028|0100&quot; -&gt; &quot;16&quot;\r\n&quot;0029|1006&quot; -&gt; &quot;1587&quot;\r\n&quot;0010|1010&quot; -&gt; &quot;007Y&quot;\r\n&quot;0018|1020&quot; -&gt; &quot;syngo CT VA30A&quot;\r\n&quot;0018|9307&quot; -&gt; &quot;11.2&quot;\r\n&quot;0020|0010&quot; -&gt; &quot;230619085613&quot;\r\n&quot;0018|5100&quot; -&gt; &quot;HFS &quot;\r\n&quot;0008|0008&quot; -&gt; &quot;ORIGINAL\\PRIMARY\\AXIAL\\CT_SOM5 SPI&quot;\r\n&quot;0029|1009&quot; -&gt; &quot;STANDARD&quot;\r\n&quot;0008|103e&quot; -&gt; &quot;VOL OSSO&quot;\r\n&quot;0020|000e&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000197&quot;\r\n&quot;0020|000d&quot; -&gt; &quot;1.2.826.1.1.3680043.2.1396.11123.88282918.2306190855&quot;\r\n&quot;0018|1150&quot; -&gt; &quot;1250&quot;\r\n&quot;0018|1030&quot; -&gt; &quot;COLUNA TORACICA-LOMBAR&quot;\r\n&quot;0018|1151&quot; -&gt; &quot;107 &quot;\r\n&quot;0018|1152&quot; -&gt; &quot;134 &quot;\r\n&quot;0018|9318&quot; -&gt; &quot;0\\-57.685\\-1240.06&quot;\r\n&quot;0010|0030&quot; -&gt; &quot;20160315&quot;\r\n&quot;0028|2110&quot; -&gt; &quot;00&quot;\r\n&quot;0018|9313&quot; -&gt; &quot;0\\-106\\-1240.06&quot;\r\n&quot;0018|9310&quot; -&gt; &quot;8.96&quot;\r\n&quot;0018|9311&quot; -&gt; &quot;0.8&quot;\r\n&quot;0020|0013&quot; -&gt; &quot;549 &quot;\r\n&quot;0018|0060&quot; -&gt; &quot;110 &quot;\r\n&quot;0019|1002&quot; -&gt; &quot;283&quot;\r\n&quot;0019|1003&quot; -&gt; &quot;Br60fS3n0.:02644:0HhAAL1aaA &quot;\r\n&quot;0008|0070&quot; -&gt; &quot;Siemens Healthineers&quot;\r\n&quot;0008|1040&quot; -&gt; &quot;Centro de Imagem&quot;\r\n```","title":"How do I decompress/unencapsulate Pixel Data fragments using dcm4che?","body":"<p>When reading the <em>Pixel Data</em> with dcm4che, it returns an object of type <code>Fragment</code>, which has a byte array with a size of 219576 bytes, however the image size is 512x512 with each pixel occupying 16 bits, so the expected would be 524288 bytes if the image was not compressed. Because of that I'm sure the image is compressed/encapsulated (not sure about the difference) and I want to unzip it.</p>\n<p>How could I transform that 219576 bytes in expected 524288 bytes? (I want to have access every pixel color)</p>\n<pre><code>File file = new File(filename);\nDicomInputStream dis = new DicomInputStream(file);\nAttributes attrs = dis.readDataset();\nObject image = attrs.getValue(Tag.PixelData);\nif (image.getClass() == Fragments.class) {\n    //decompress here\n}\ndis.close();\n</code></pre>\n<p>This is the DICOM file I'm working and his tags and values: <a href=\"https://pastecode.io/s/ofmt5uf1\" rel=\"nofollow noreferrer\">https://pastecode.io/s/ofmt5uf1</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;0008|0021&quot; -&gt; &quot;20230619&quot;\n&quot;0008|0020&quot; -&gt; &quot;20230619&quot;\n&quot;0008|3010&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000089&quot;\n&quot;0008|0023&quot; -&gt; &quot;20230619&quot;\n&quot;0008|0022&quot; -&gt; &quot;20230619&quot;\n&quot;0029|1024&quot; -&gt; &quot;Spine &quot;\n&quot;0029|1022&quot; -&gt; &quot;16&quot;\n&quot;0029|1028&quot; -&gt; &quot;0\\48.3151&quot;\n&quot;0010|0020&quot; -&gt; &quot;72918 &quot;\n&quot;0029|1027&quot; -&gt; &quot;150.63&quot;\n&quot;0029|1026&quot; -&gt; &quot;150.63&quot;\n&quot;0018|9323&quot; -&gt; &quot;ELLIP_ZEC &quot;\n&quot;0020|1041&quot; -&gt; &quot;-1240.06&quot;\n&quot;0018|1200&quot; -&gt; &quot;20230619&quot;\n&quot;0020|1040&quot; -&gt; &quot;&quot;\n&quot;0018|1201&quot; -&gt; &quot;081456.000000 &quot;\n&quot;0018|1160&quot; -&gt; &quot;None&quot;\n&quot;0029|100f&quot; -&gt; &quot;1&quot;\n&quot;0029|100e&quot; -&gt; &quot;UNDEFINED &quot;\n&quot;0029|100d&quot; -&gt; &quot;FFSNONE &quot;\n&quot;0040|0245&quot; -&gt; &quot;093956.911773 &quot;\n&quot;0040|0244&quot; -&gt; &quot;20230619&quot;\n&quot;0029|1014&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1013&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1011&quot; -&gt; &quot;SAFIRE2 &quot;\n&quot;0008|0016&quot; -&gt; &quot;1.2.840.10008.5.1.4.1.1.2&quot;\n&quot;0029|1018&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1017&quot; -&gt; &quot;FALSE &quot;\n&quot;0008|0018&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900001296&quot;\n&quot;0029|1016&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|1015&quot; -&gt; &quot;FALSE &quot;\n&quot;0010|0010&quot; -&gt; &quot;PIETRO LEVY SETUBAL &quot;\n&quot;0018|1210&quot; -&gt; &quot;Br60f\\3 &quot;\n&quot;0028|0030&quot; -&gt; &quot;0.294203125\\0.294203125 &quot;\n&quot;0029|1019&quot; -&gt; &quot;0&quot;\n&quot;0021|0010&quot; -&gt; &quot;SIEMENS MED &quot;\n&quot;0018|1170&quot; -&gt; &quot;8 &quot;\n&quot;0008|0090&quot; -&gt; &quot;&quot;\n&quot;0019|0010&quot; -&gt; &quot;SIEMENS CT EXAM APP SHARED&quot;\n&quot;0008|1010&quot; -&gt; &quot;CT107544&quot;\n&quot;0029|1043&quot; -&gt; &quot;3&quot;\n&quot;0028|0301&quot; -&gt; &quot;NO&quot;\n&quot;0029|1046&quot; -&gt; &quot;0.5&quot;\n&quot;0008|0201&quot; -&gt; &quot;-0300 &quot;\n&quot;0029|1045&quot; -&gt; &quot;0.4&quot;\n&quot;0029|1048&quot; -&gt; &quot;NONE&quot;\n&quot;0018|9345&quot; -&gt; &quot;10.8698&quot;\n&quot;0020|0052&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000087&quot;\n&quot;0029|1209&quot; -&gt; &quot;VA10A 971201&quot;\n&quot;0018|1100&quot; -&gt; &quot;150.632589502953&quot;\n&quot;0029|1208&quot; -&gt; &quot;SOM 5 &quot;\n&quot;0018|0015&quot; -&gt; &quot;SPINE &quot;\n&quot;0029|102a&quot; -&gt; &quot;CHILD &quot;\n&quot;0008|002a&quot; -&gt; &quot;20230619094136.916000 &quot;\n&quot;0029|102e&quot; -&gt; &quot;FALSE &quot;\n&quot;0029|102c&quot; -&gt; &quot;16&quot;\n&quot;0029|102b&quot; -&gt; &quot;3&quot;\n&quot;0018|0090&quot; -&gt; &quot;499.799988&quot;\n&quot;0029|102f&quot; -&gt; &quot;c0bf3ca5-a91b-43d9-b4ec-483d516b3e38&quot;\n&quot;0008|0030&quot; -&gt; &quot;093956.911773 &quot;\n&quot;0029|1031&quot; -&gt; &quot;450&quot;\n&quot;0008|0032&quot; -&gt; &quot;094136.916000 &quot;\n&quot;0029|1030&quot; -&gt; &quot;ALGOSLIDE &quot;\n&quot;0008|0031&quot; -&gt; &quot;094156.128805 &quot;\n&quot;0008|0033&quot; -&gt; &quot;094136.916000 &quot;\n&quot;0028|0011&quot; -&gt; &quot;512&quot;\n&quot;0029|1039&quot; -&gt; &quot;TRUE&quot;\n&quot;0029|1038&quot; -&gt; &quot;-1240.06&quot;\n&quot;0028|0010&quot; -&gt; &quot;512&quot;\n&quot;0029|1037&quot; -&gt; &quot;1000&quot;\n&quot;0018|1110&quot; -&gt; &quot;983 &quot;\n&quot;0018|1111&quot; -&gt; &quot;535 &quot;\n&quot;0018|1190&quot; -&gt; &quot;1.6\\1.6 &quot;\n&quot;0029|101d&quot; -&gt; &quot;134&quot;\n&quot;0029|101b&quot; -&gt; &quot;0&quot;\n&quot;0029|101a&quot; -&gt; &quot;ITR_Off &quot;\n&quot;0029|101f&quot; -&gt; &quot;0&quot;\n&quot;0029|101e&quot; -&gt; &quot;16&quot;\n&quot;0028|0004&quot; -&gt; &quot;MONOCHROME2 &quot;\n&quot;0029|0012&quot; -&gt; &quot;SIEMENS CSA HEADER&quot;\n&quot;0028|0002&quot; -&gt; &quot;1&quot;\n&quot;0029|0010&quot; -&gt; &quot;SIEMENS CT EXAM IMAGE &quot;\n&quot;0029|0011&quot; -&gt; &quot;SIEMENS CT EXAM EQUIPMENT &quot;\n&quot;0010|1030&quot; -&gt; &quot;&quot;\n&quot;0029|1106&quot; -&gt; &quot;3.84984&quot;\n&quot;0010|2000&quot; -&gt; &quot;&quot;\n&quot;0020|0032&quot; -&gt; &quot;-75.1688984375\\-132.8538984375\\-1240.06 &quot;\n&quot;0028|1054&quot; -&gt; &quot;HU&quot;\n&quot;0029|1104&quot; -&gt; &quot;435234&quot;\n&quot;0018|1120&quot; -&gt; &quot;0 &quot;\n&quot;0028|1055&quot; -&gt; &quot;&quot;\n&quot;0018|1000&quot; -&gt; &quot;107544&quot;\n&quot;0028|1052&quot; -&gt; &quot;-8192 &quot;\n&quot;0028|1053&quot; -&gt; &quot;1 &quot;\n&quot;0029|1109&quot; -&gt; &quot;P81A&quot;\n&quot;0028|1050&quot; -&gt; &quot;450 &quot;\n&quot;0028|1051&quot; -&gt; &quot;1500&quot;\n&quot;0021|1011&quot; -&gt; &quot;0\\48.3151045659296&quot;\n&quot;0029|104f&quot; -&gt; &quot;Bone&quot;\n&quot;0029|104e&quot; -&gt; &quot;Manual&quot;\n&quot;0008|0060&quot; -&gt; &quot;CT&quot;\n&quot;0029|1052&quot; -&gt; &quot;130.0 kV&quot;\n&quot;0020|4000&quot; -&gt; &quot;&quot;\n&quot;0029|1051&quot; -&gt; &quot;80.0 kV &quot;\n&quot;0010|2110&quot; -&gt; &quot;&quot;\n&quot;0018|1130&quot; -&gt; &quot;106.000 &quot;\n&quot;0010|1020&quot; -&gt; &quot;&quot;\n&quot;0029|103b&quot; -&gt; &quot;213&quot;\n&quot;0020|0037&quot; -&gt; &quot;1\\0\\0\\0\\1\\0 &quot;\n&quot;0029|1050&quot; -&gt; &quot;236.0 mAs &quot;\n&quot;0008|0050&quot; -&gt; &quot;188828&quot;\n&quot;0028|0107&quot; -&gt; &quot;10006&quot;\n&quot;0028|0106&quot; -&gt; &quot;6869&quot;\n&quot;0018|9309&quot; -&gt; &quot;8.9&quot;\n&quot;0028|0103&quot; -&gt; &quot;0&quot;\n&quot;0028|0101&quot; -&gt; &quot;16&quot;\n&quot;0018|0050&quot; -&gt; &quot;1 &quot;\n&quot;0028|0102&quot; -&gt; &quot;15&quot;\n&quot;0008|0005&quot; -&gt; &quot;ISO_IR 100&quot;\n&quot;0010|0040&quot; -&gt; &quot;M &quot;\n&quot;0018|9305&quot; -&gt; &quot;1&quot;\n&quot;0020|0012&quot; -&gt; &quot;200 &quot;\n&quot;0029|1007&quot; -&gt; &quot;1000&quot;\n&quot;0018|1140&quot; -&gt; &quot;CW&quot;\n&quot;0018|9306&quot; -&gt; &quot;0.7&quot;\n&quot;0020|0011&quot; -&gt; &quot;3 &quot;\n&quot;0028|0100&quot; -&gt; &quot;16&quot;\n&quot;0029|1006&quot; -&gt; &quot;1587&quot;\n&quot;0010|1010&quot; -&gt; &quot;007Y&quot;\n&quot;0018|1020&quot; -&gt; &quot;syngo CT VA30A&quot;\n&quot;0018|9307&quot; -&gt; &quot;11.2&quot;\n&quot;0020|0010&quot; -&gt; &quot;230619085613&quot;\n&quot;0018|5100&quot; -&gt; &quot;HFS &quot;\n&quot;0008|0008&quot; -&gt; &quot;ORIGINAL\\PRIMARY\\AXIAL\\CT_SOM5 SPI&quot;\n&quot;0029|1009&quot; -&gt; &quot;STANDARD&quot;\n&quot;0008|103e&quot; -&gt; &quot;VOL OSSO&quot;\n&quot;0020|000e&quot; -&gt; &quot;1.3.12.2.1107.5.1.7.107544.30000023061909300914900000197&quot;\n&quot;0020|000d&quot; -&gt; &quot;1.2.826.1.1.3680043.2.1396.11123.88282918.2306190855&quot;\n&quot;0018|1150&quot; -&gt; &quot;1250&quot;\n&quot;0018|1030&quot; -&gt; &quot;COLUNA TORACICA-LOMBAR&quot;\n&quot;0018|1151&quot; -&gt; &quot;107 &quot;\n&quot;0018|1152&quot; -&gt; &quot;134 &quot;\n&quot;0018|9318&quot; -&gt; &quot;0\\-57.685\\-1240.06&quot;\n&quot;0010|0030&quot; -&gt; &quot;20160315&quot;\n&quot;0028|2110&quot; -&gt; &quot;00&quot;\n&quot;0018|9313&quot; -&gt; &quot;0\\-106\\-1240.06&quot;\n&quot;0018|9310&quot; -&gt; &quot;8.96&quot;\n&quot;0018|9311&quot; -&gt; &quot;0.8&quot;\n&quot;0020|0013&quot; -&gt; &quot;549 &quot;\n&quot;0018|0060&quot; -&gt; &quot;110 &quot;\n&quot;0019|1002&quot; -&gt; &quot;283&quot;\n&quot;0019|1003&quot; -&gt; &quot;Br60fS3n0.:02644:0HhAAL1aaA &quot;\n&quot;0008|0070&quot; -&gt; &quot;Siemens Healthineers&quot;\n&quot;0008|1040&quot; -&gt; &quot;Centro de Imagem&quot;\n</code></pre>\n"},{"tags":["java","protocol-buffers","mapstruct","proto3","protobuf-java"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1532368772,"creation_date":1532118614,"answer_id":51449940,"question_id":51416941,"body_markdown":"The problem is that MapStruct will use `getProductsList().addAll()`. In order to avoid this you should use `CollectionMappingStrategy.ADDER_PREFERRED` `collectionMappingStrategy`. Have a look at the [`UserMapper`](https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-protobuf3/usage/src/main/java/org/mapstruct/example/mapper/UserMapper.java) from the [mapstruct-protobuf3](https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-protobuf3) in the mapstruct examples repo.\r\n\r\nIn a nutshell you need to add:\r\n\r\n\r\n    @Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\r\n        nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\r\n\r\n\r\nto your mapper.\r\n\r\nOne information regarding your builder, in case you are using 1.3.0.Beta1 you won&#39;t need it as there is out of the box support for that in MapStruct now.\r\n\r\nNB: There was a [bug](https://github.com/mapstruct/mapstruct/issues/1338) in MapStruct that was not working correctly with `ProtocolStringList`. This bug has been fixed in 1.3.0.Beta1. If you try with this version it should work (in case your `productList` is a `String`)","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>The problem is that MapStruct will use <code>getProductsList().addAll()</code>. In order to avoid this you should use <code>CollectionMappingStrategy.ADDER_PREFERRED</code> <code>collectionMappingStrategy</code>. Have a look at the <a href=\"https://github.com/mapstruct/mapstruct-examples/blob/master/mapstruct-protobuf3/usage/src/main/java/org/mapstruct/example/mapper/UserMapper.java\" rel=\"noreferrer\"><code>UserMapper</code></a> from the <a href=\"https://github.com/mapstruct/mapstruct-examples/tree/master/mapstruct-protobuf3\" rel=\"noreferrer\">mapstruct-protobuf3</a> in the mapstruct examples repo.</p>\n\n<p>In a nutshell you need to add:</p>\n\n<pre><code>@Mapper(collectionMappingStrategy = CollectionMappingStrategy.ADDER_PREFERRED,\n    nullValueCheckStrategy = NullValueCheckStrategy.ALWAYS)\n</code></pre>\n\n<p>to your mapper.</p>\n\n<p>One information regarding your builder, in case you are using 1.3.0.Beta1 you won't need it as there is out of the box support for that in MapStruct now.</p>\n\n<p>NB: There was a <a href=\"https://github.com/mapstruct/mapstruct/issues/1338\" rel=\"noreferrer\">bug</a> in MapStruct that was not working correctly with <code>ProtocolStringList</code>. This bug has been fixed in 1.3.0.Beta1. If you try with this version it should work (in case your <code>productList</code> is a <code>String</code>)</p>\n"},{"tags":[],"owner":{"account_id":8637440,"reputation":189,"user_id":6467108,"display_name":"JustK K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695030392,"creation_date":1695030392,"answer_id":77126148,"question_id":51416941,"body_markdown":"I faced with the same issue and solve it like this:\r\n```\r\n    @AfterMapping\r\n    void afterMapping(@MappingTarget ResponseProtobuf.Builder target, Response response) {\r\n       target.addAllProducts(response.getProducts());\r\n    }\r\n```","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>I faced with the same issue and solve it like this:</p>\n<pre><code>    @AfterMapping\n    void afterMapping(@MappingTarget ResponseProtobuf.Builder target, Response response) {\n       target.addAllProducts(response.getProducts());\n    }\n</code></pre>\n"}],"owner":{"account_id":9736891,"reputation":225,"user_id":7219867,"display_name":"Liso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8621,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51449940,"answer_count":2,"score":9,"last_activity_date":1695030392,"creation_date":1531985884,"question_id":51416941,"body_markdown":"I&#39;m trying to map some POJOs from Java to Protobuf (proto3). Some of them contain Lists. While mapping lists with POJOs (for example List&lt;SpecialPojo&gt;) is no problem, I&#39;m getting a UnsupportedOperationException. \r\n\r\nExample with `List&lt;Product&gt;` (this works corrctly):\r\n\r\n    ProductProtobuf.Builder map(Product product);\r\n\r\n    @Mapping(target = &quot;productsList&quot;, source = &quot;products&quot;)\r\n    ResponseProtobuf.Builder map(Response response);\r\n\r\nExample with `List&lt;String&gt;` (this doesn&#39;t work):\r\n\r\n    @Mapping(target = &quot;usersList&quot;, source = &quot;users&quot;)\r\n    ResponseProtobuf.Builder map(Response response);\r\n\r\n\r\nAdditionally, I have some Mapper for builder:\r\n\r\n    public ResponseProtobuf.Builder responseBuilder() {\r\n\t\treturn ResponseProtobuf.newBuilder();\r\n\t}\r\n\r\n    public ProductProtobuf build(ProductProtobuf.Builder builder) {\r\n\t\treturn builder.build();\r\n\t}","title":"Map List&lt;String&gt; with Mapstruct from Java POJO to Protobuf (proto3)","body":"<p>I'm trying to map some POJOs from Java to Protobuf (proto3). Some of them contain Lists. While mapping lists with POJOs (for example List) is no problem, I'm getting a UnsupportedOperationException. </p>\n\n<p>Example with <code>List&lt;Product&gt;</code> (this works corrctly):</p>\n\n<pre><code>ProductProtobuf.Builder map(Product product);\n\n@Mapping(target = \"productsList\", source = \"products\")\nResponseProtobuf.Builder map(Response response);\n</code></pre>\n\n<p>Example with <code>List&lt;String&gt;</code> (this doesn't work):</p>\n\n<pre><code>@Mapping(target = \"usersList\", source = \"users\")\nResponseProtobuf.Builder map(Response response);\n</code></pre>\n\n<p>Additionally, I have some Mapper for builder:</p>\n\n<pre><code>public ResponseProtobuf.Builder responseBuilder() {\n    return ResponseProtobuf.newBuilder();\n}\n\npublic ProductProtobuf build(ProductProtobuf.Builder builder) {\n    return builder.build();\n}\n</code></pre>\n"},{"tags":["java","jcreator"],"comments":[{"owner":{"account_id":3251,"reputation":19567,"user_id":4665,"accept_rate":89,"display_name":"Jon P"},"score":0,"creation_date":1695008131,"post_id":77124400,"comment_id":135961729,"body_markdown":"Java and Javascript are not interchangeable.  This looks more like Java","body":"Java and Javascript are not interchangeable.  This looks more like Java"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695014215,"post_id":77124400,"comment_id":135962154,"body_markdown":"Please indent your code correctly. It will make it much easier for you to see errors. Your IDE should do that for you if you ask it.","body":"Please indent your code correctly. It will make it much easier for you to see errors. Your IDE should do that for you if you ask it."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695015451,"post_id":77124400,"comment_id":135962270,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695016952,"post_id":77124400,"comment_id":135962417,"body_markdown":"Have you run your code under the debugger and stepped through it? That&#39;s a good way to help you understand what it is doing.","body":"Have you run your code under the debugger and stepped through it? That&#39;s a good way to help you understand what it is doing."},{"owner":{"account_id":29384482,"reputation":11,"user_id":22514185,"display_name":"Charles Glenn Naria"},"score":0,"creation_date":1695017801,"post_id":77124400,"comment_id":135962513,"body_markdown":"I dont really know how to use the debugging tool","body":"I dont really know how to use the debugging tool"}],"answers":[{"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695014901,"creation_date":1695014901,"answer_id":77124746,"question_id":77124400,"body_markdown":"If you want to implement a way to return to the menu after completing an operation, this is what I would do:\r\n\r\n1. Define a `boolean` variable to control the menu loop. You can use `true` to keep the menu running until the user wants to exit.\r\n\r\n```java\r\nboolean isRunning = true;\r\n```\r\n\r\n2. Then put the entire menu system in a `while` loop to keep the menu active.\r\n\r\n```java\r\nwhile (isRunning) {\r\n    // Menu code\r\n}\r\n```\r\n\r\n3. When the user selects an option (e.g., &quot;1&quot; for Biography or &quot;2&quot; for Calculator), you can add an additional loop to handle the specific operation and return to the main menu \r\n\r\nFor biography:\r\n\r\n\r\n```java\r\nif (number.equals(&quot;1&quot;)) {\r\n    // Biography code\r\n\r\n    // After the executino above, add a loop to ask if the user wants to return to the main menu\r\n    System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\r\n    String returnChoice = naria.next();\r\n    \r\n    if (returnChoice.equalsIgnoreCase(&quot;no&quot;)) {\r\n        isRunning = false; // If not, then exit the program\r\n    }\r\n}\r\n```\r\n\r\nFor Calculator:\r\n\r\n```java\r\nelse if (number.equals(&quot;2&quot;)) {\r\n    while (true) {\r\n        // Calculator code\r\n        \r\n        // After performing the code above, ask if the user wants to return to the main menu\r\n        System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\r\n        String returnChoice = glenn.next();\r\n        \r\n        if (returnChoice.equalsIgnoreCase(&quot;yes&quot;)) {\r\n            break; // Then exit this loop and return to the main menu\r\n        }\r\n    }\r\n}\r\n```","title":"Getting my Return choice to work inside of the calculator","body":"<p>If you want to implement a way to return to the menu after completing an operation, this is what I would do:</p>\n<ol>\n<li>Define a <code>boolean</code> variable to control the menu loop. You can use <code>true</code> to keep the menu running until the user wants to exit.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isRunning = true;\n</code></pre>\n<ol start=\"2\">\n<li>Then put the entire menu system in a <code>while</code> loop to keep the menu active.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>while (isRunning) {\n    // Menu code\n}\n</code></pre>\n<ol start=\"3\">\n<li>When the user selects an option (e.g., &quot;1&quot; for Biography or &quot;2&quot; for Calculator), you can add an additional loop to handle the specific operation and return to the main menu</li>\n</ol>\n<p>For biography:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (number.equals(&quot;1&quot;)) {\n    // Biography code\n\n    // After the executino above, add a loop to ask if the user wants to return to the main menu\n    System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\n    String returnChoice = naria.next();\n    \n    if (returnChoice.equalsIgnoreCase(&quot;no&quot;)) {\n        isRunning = false; // If not, then exit the program\n    }\n}\n</code></pre>\n<p>For Calculator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>else if (number.equals(&quot;2&quot;)) {\n    while (true) {\n        // Calculator code\n        \n        // After performing the code above, ask if the user wants to return to the main menu\n        System.out.print(&quot;Return to the main menu? (yes/no): &quot;);\n        String returnChoice = glenn.next();\n        \n        if (returnChoice.equalsIgnoreCase(&quot;yes&quot;)) {\n            break; // Then exit this loop and return to the main menu\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695030373,"creation_date":1695027015,"answer_id":77125712,"question_id":77124400,"body_markdown":"&gt; _&quot;... I wanted the break to change to return back to biography and calculator choice ... I dont know what statements do I use to make it work ...&quot;_\r\n\r\nUse a _loop_.\r\n\r\n- _[The for Statement (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html)_\r\n- _[The while and do-while Statements (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Language Basics)](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html)_\r\n\r\nA lot of the _&quot;bugs&quot;_ in your code stem from the use of the _[Scanner#next](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next())_ methods versus _[nextLine](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine())_.\r\n\r\nThe _next_ methods are useful for capturing multiple values within a single line, and not the entire line itself.\r\n\r\nHere is a re-factor, where I&#39;m using a _[LinkedHashMap](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html)_ to contain the questions and answers for the _biography_ option.\r\n\r\n```java\r\npublic brickgame() {\r\n}\r\npublic static void main (String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n    Map&lt;String, String[]&gt; map = new LinkedHashMap&lt;&gt;() {{\r\n        put(&quot;Fname&quot;, new String[] { &quot;Please Enter your Name: &quot;, null });\r\n        put(&quot;Age&quot;, new String[] { &quot;Please Enter your Age: &quot;, null });\r\n        put(&quot;Address&quot;, new String[] { &quot;Please Enter your Address: &quot;, null });\r\n        put(&quot;Birthplace&quot;, new String[] { &quot;Please Enter your Birthplace: &quot;, null });\r\n        put(&quot;Birthday&quot;, new String[] { &quot;Please Enter your Birthday: &quot;, null });\r\n        put(&quot;FavoriteF&quot;, new String[] { &quot;Please Enter your Favorite Food: &quot;, null });\r\n        put(&quot;FavoriteS&quot;, new String[] { &quot;Please Enter your Favorite Subject: &quot;, null });\r\n        put(&quot;FavoriteC&quot;, new String[] { &quot;Please Enter your Favorite Color: &quot;, null });\r\n        put(&quot;Hobby&quot;, new String[] { &quot;Please Enter your Hobby: &quot;, null });\r\n        put(&quot;STalent&quot;, new String[] { &quot;Please Enter your Secret Talent: &quot;, null });\r\n    }};\r\n\r\n    Formatter f = new Formatter(System.out);\r\n    boolean exit = false;\r\n\r\n    do {\r\n        f.format(&quot;Choose the operation you want to do?%n&quot;);\r\n        f.format(&quot;[1] Biography%n&quot;);\r\n        f.format(&quot;[2] Calculator%n&quot;);\r\n        f.format(&quot;[3] Bye%n&quot;);\r\n        f.format(&quot;Choose the number:&quot;).flush();\r\n        switch (Integer.parseInt(in.nextLine())) {\r\n            case 1 -&gt; {\r\n                for (Map.Entry&lt;String, String[]&gt; e : map.entrySet()) {\r\n                    f.format(e.getValue()[0]).flush();\r\n                    e.getValue()[1] = in.nextLine();\r\n                }\r\n\r\n                f.format(&quot;Hello &quot;+map.get(&quot;Fname&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;You are &quot;+ map.get(&quot;Age&quot;)[1] +&quot; years old%n&quot;);\r\n                f.format(&quot;You lived at &quot;+map.get(&quot;Address&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;You are born in &quot;+ map.get(&quot;Birthplace&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your birthday is on &quot;+map.get(&quot;Birthday&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Food is &quot;+map.get(&quot;FavoriteF&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteC&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteS&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your hobby is to &quot;+map.get(&quot;Hobby&quot;)[1] + &quot;%n&quot;);\r\n                f.format(&quot;Your Secret Talent is to &quot;+ map.get(&quot;STalent&quot;)[1] + &quot;%n&quot;);\r\n                f.flush();\r\n            }\r\n            case 2 -&gt; {\r\n                int i;\r\n                BigDecimal x, a, b;\r\n                f.format(&quot;[1] Addition%n&quot;);\r\n                f.format(&quot;[2] Subtraction%n&quot;);\r\n                f.format(&quot;[3] Multiplication%n&quot;);\r\n                f.format(&quot;[4] Division%n&quot;);\r\n                f.format(&quot;[5] Greater Than/Less Than%n&quot;);\r\n                f.format(&quot;[6] Return%n&quot;);\r\n                f.format(&quot;Enter the number you chose:&quot;).flush();\r\n                i = Integer.parseInt(in.nextLine());\r\n                f.format(&quot;Enter your first number: &quot;).flush();\r\n                a = new BigDecimal(in.nextLine());\r\n                f.format(&quot;Enter your second number: &quot;).flush();\r\n                b = new BigDecimal(in.nextLine());\r\n                switch (i) {\r\n                    case 5 -&gt; {\r\n                        f.format(a.toPlainString() + &quot; is &quot;);\r\n                        f.format(\r\n                            switch (a.compareTo(b)) {\r\n                                case -1 -&gt; &quot;lesser-than &quot;;\r\n                                case 0 -&gt; &quot;equal-to &quot;;\r\n                                default -&gt; &quot;greater-than &quot;;\r\n                            });\r\n                        f.format(b.toPlainString()).flush();\r\n                    }\r\n                    case 6 -&gt; {\r\n                        System.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n                        exit = true;\r\n                    }\r\n                    default -&gt; {\r\n                        x = new BigDecimal(\r\n                                String.valueOf(\r\n                                    switch (i) {\r\n                                        case 1 -&gt; a.add(b);\r\n                                        case 2 -&gt; a.subtract(b);\r\n                                        case 3 -&gt; a.multiply(b);\r\n                                        default -&gt; a.divide(b, 0xf, RoundingMode.HALF_UP);\r\n                                    }));\r\n                        String op = switch (i) {\r\n                            case 1 -&gt; &quot;+&quot;;\r\n                            case 2 -&gt; &quot;-&quot;;\r\n                            case 3 -&gt; &quot;*&quot;;\r\n                            default -&gt; &quot;/&quot;;\r\n                        };\r\n                        f.format(a.toPlainString());\r\n                        f.format(&quot; %s &quot;, op);\r\n                        f.format(b.toPlainString());\r\n                        f.format(&quot; = %s%n&quot;, x.toPlainString());\r\n                    }\r\n                }\r\n            }\r\n            case 3 -&gt; {\r\n                System.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n                exit = true;\r\n            }\r\n        }\r\n    } while (!exit);\r\n}\r\n```\r\n\r\nAnd, here is an example usage.\r\n\r\n```none\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:1\r\nPlease Enter your Name: abc\r\nPlease Enter your Age: 123\r\nPlease Enter your Address: 456 def\r\nPlease Enter your Birthplace: ghi\r\nPlease Enter your Birthday: 7/8/9\r\nPlease Enter your Favorite Food: jkl\r\nPlease Enter your Favorite Subject: mno\r\nPlease Enter your Favorite Color: pqr\r\nPlease Enter your Hobby: stu\r\nPlease Enter your Secret Talent: vwx\r\nHello abc\r\nYou are 123 years old\r\nYou lived at 456 def\r\nYou are born in ghi\r\nYour birthday is on 7/8/9\r\nYour Favorite Food is jkl\r\nYour Favorite Color is pqr\r\nYour Favorite Color is mno\r\nYour hobby is to stu\r\nYour Secret Talent is to vwx\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:2\r\n[1] Addition\r\n[2] Subtraction\r\n[3] Multiplication\r\n[4] Division\r\n[5] Greater Than/Less Than\r\n[6] Return\r\nEnter the number you chose:4\r\nEnter your first number: 22\r\nEnter your second number: 7\r\n22 / 7 = 3.142857142857143\r\nChoose the operation you want to do?\r\n[1] Biography\r\n[2] Calculator\r\n[3] Bye\r\nChoose the number:3\r\n```","title":"Getting my Return choice to work inside of the calculator","body":"<blockquote>\n<p><em>&quot;... I wanted the break to change to return back to biography and calculator choice ... I dont know what statements do I use to make it work ...&quot;</em></p>\n</blockquote>\n<p>Use a <em>loop</em>.</p>\n<ul>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/for.html\" rel=\"nofollow noreferrer\">The for Statement (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n<li><em><a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">The while and do-while Statements (The Java™ Tutorials &gt; Learning the Java Language &gt; Language Basics)</a></em></li>\n</ul>\n<p>A lot of the <em>&quot;bugs&quot;</em> in your code stem from the use of the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#next()\" rel=\"nofollow noreferrer\">Scanner#next</a></em> methods versus <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Scanner.html#nextLine()\" rel=\"nofollow noreferrer\">nextLine</a></em>.</p>\n<p>The <em>next</em> methods are useful for capturing multiple values within a single line, and not the entire line itself.</p>\n<p>Here is a re-factor, where I'm using a <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a></em> to contain the questions and answers for the <em>biography</em> option.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public brickgame() {\n}\npublic static void main (String[] args) {\n    Scanner in = new Scanner(System.in);\n    Map&lt;String, String[]&gt; map = new LinkedHashMap&lt;&gt;() {{\n        put(&quot;Fname&quot;, new String[] { &quot;Please Enter your Name: &quot;, null });\n        put(&quot;Age&quot;, new String[] { &quot;Please Enter your Age: &quot;, null });\n        put(&quot;Address&quot;, new String[] { &quot;Please Enter your Address: &quot;, null });\n        put(&quot;Birthplace&quot;, new String[] { &quot;Please Enter your Birthplace: &quot;, null });\n        put(&quot;Birthday&quot;, new String[] { &quot;Please Enter your Birthday: &quot;, null });\n        put(&quot;FavoriteF&quot;, new String[] { &quot;Please Enter your Favorite Food: &quot;, null });\n        put(&quot;FavoriteS&quot;, new String[] { &quot;Please Enter your Favorite Subject: &quot;, null });\n        put(&quot;FavoriteC&quot;, new String[] { &quot;Please Enter your Favorite Color: &quot;, null });\n        put(&quot;Hobby&quot;, new String[] { &quot;Please Enter your Hobby: &quot;, null });\n        put(&quot;STalent&quot;, new String[] { &quot;Please Enter your Secret Talent: &quot;, null });\n    }};\n\n    Formatter f = new Formatter(System.out);\n    boolean exit = false;\n\n    do {\n        f.format(&quot;Choose the operation you want to do?%n&quot;);\n        f.format(&quot;[1] Biography%n&quot;);\n        f.format(&quot;[2] Calculator%n&quot;);\n        f.format(&quot;[3] Bye%n&quot;);\n        f.format(&quot;Choose the number:&quot;).flush();\n        switch (Integer.parseInt(in.nextLine())) {\n            case 1 -&gt; {\n                for (Map.Entry&lt;String, String[]&gt; e : map.entrySet()) {\n                    f.format(e.getValue()[0]).flush();\n                    e.getValue()[1] = in.nextLine();\n                }\n\n                f.format(&quot;Hello &quot;+map.get(&quot;Fname&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;You are &quot;+ map.get(&quot;Age&quot;)[1] +&quot; years old%n&quot;);\n                f.format(&quot;You lived at &quot;+map.get(&quot;Address&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;You are born in &quot;+ map.get(&quot;Birthplace&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your birthday is on &quot;+map.get(&quot;Birthday&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Food is &quot;+map.get(&quot;FavoriteF&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteC&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Favorite Color is &quot;+map.get(&quot;FavoriteS&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your hobby is to &quot;+map.get(&quot;Hobby&quot;)[1] + &quot;%n&quot;);\n                f.format(&quot;Your Secret Talent is to &quot;+ map.get(&quot;STalent&quot;)[1] + &quot;%n&quot;);\n                f.flush();\n            }\n            case 2 -&gt; {\n                int i;\n                BigDecimal x, a, b;\n                f.format(&quot;[1] Addition%n&quot;);\n                f.format(&quot;[2] Subtraction%n&quot;);\n                f.format(&quot;[3] Multiplication%n&quot;);\n                f.format(&quot;[4] Division%n&quot;);\n                f.format(&quot;[5] Greater Than/Less Than%n&quot;);\n                f.format(&quot;[6] Return%n&quot;);\n                f.format(&quot;Enter the number you chose:&quot;).flush();\n                i = Integer.parseInt(in.nextLine());\n                f.format(&quot;Enter your first number: &quot;).flush();\n                a = new BigDecimal(in.nextLine());\n                f.format(&quot;Enter your second number: &quot;).flush();\n                b = new BigDecimal(in.nextLine());\n                switch (i) {\n                    case 5 -&gt; {\n                        f.format(a.toPlainString() + &quot; is &quot;);\n                        f.format(\n                            switch (a.compareTo(b)) {\n                                case -1 -&gt; &quot;lesser-than &quot;;\n                                case 0 -&gt; &quot;equal-to &quot;;\n                                default -&gt; &quot;greater-than &quot;;\n                            });\n                        f.format(b.toPlainString()).flush();\n                    }\n                    case 6 -&gt; {\n                        System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n                        exit = true;\n                    }\n                    default -&gt; {\n                        x = new BigDecimal(\n                                String.valueOf(\n                                    switch (i) {\n                                        case 1 -&gt; a.add(b);\n                                        case 2 -&gt; a.subtract(b);\n                                        case 3 -&gt; a.multiply(b);\n                                        default -&gt; a.divide(b, 0xf, RoundingMode.HALF_UP);\n                                    }));\n                        String op = switch (i) {\n                            case 1 -&gt; &quot;+&quot;;\n                            case 2 -&gt; &quot;-&quot;;\n                            case 3 -&gt; &quot;*&quot;;\n                            default -&gt; &quot;/&quot;;\n                        };\n                        f.format(a.toPlainString());\n                        f.format(&quot; %s &quot;, op);\n                        f.format(b.toPlainString());\n                        f.format(&quot; = %s%n&quot;, x.toPlainString());\n                    }\n                }\n            }\n            case 3 -&gt; {\n                System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n                exit = true;\n            }\n        }\n    } while (!exit);\n}\n</code></pre>\n<p>And, here is an example usage.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Choose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:1\nPlease Enter your Name: abc\nPlease Enter your Age: 123\nPlease Enter your Address: 456 def\nPlease Enter your Birthplace: ghi\nPlease Enter your Birthday: 7/8/9\nPlease Enter your Favorite Food: jkl\nPlease Enter your Favorite Subject: mno\nPlease Enter your Favorite Color: pqr\nPlease Enter your Hobby: stu\nPlease Enter your Secret Talent: vwx\nHello abc\nYou are 123 years old\nYou lived at 456 def\nYou are born in ghi\nYour birthday is on 7/8/9\nYour Favorite Food is jkl\nYour Favorite Color is pqr\nYour Favorite Color is mno\nYour hobby is to stu\nYour Secret Talent is to vwx\nChoose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:2\n[1] Addition\n[2] Subtraction\n[3] Multiplication\n[4] Division\n[5] Greater Than/Less Than\n[6] Return\nEnter the number you chose:4\nEnter your first number: 22\nEnter your second number: 7\n22 / 7 = 3.142857142857143\nChoose the operation you want to do?\n[1] Biography\n[2] Calculator\n[3] Bye\nChoose the number:3\n</code></pre>\n"}],"owner":{"account_id":29384482,"reputation":11,"user_id":22514185,"display_name":"Charles Glenn Naria"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1695030373,"creation_date":1695007276,"question_id":77124400,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class brickgame {\r\n\r\n    public brickgame() {\r\n    }\r\n   public static void main (String[] args) {\r\n   \tSystem.out.println(&quot;Choose the operation you want to do?&quot;);\r\n   \tScanner charles = new Scanner(System.in);\r\n   \tString number;\r\n   \t\r\n   \t\r\n   \r\n   \tSystem.out.print(&quot;[1] Biography \\n[2] Calculator \\n[3] Bye \\nChoose the number:&quot;);\r\n   \t \tnumber=charles.nextLine();\r\n   \t \t\r\n   \t \t\r\n   \t \tif(number.equals(&quot;1&quot;)) {\r\n   \t \t\tScanner naria = new Scanner(System.in);\r\n   \t \tString Fname,Age,Address,Birthplace,Birthday,FavoriteF,FavoriteS,FavoriteC,Hobby,STalent;\r\n   \t \t\r\n   \t \tSystem.out.println(&quot;Please use Underscore Character or _ as your spacebar! &quot;);\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Name: &quot;);\r\n   \t \tFname = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Age: &quot;);\r\n   \t \tAge = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Address: &quot;);\r\n   \t \tAddress = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Birthplace: &quot;);\r\n   \t \tBirthplace = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Birthday: &quot;);\r\n   \t \tBirthday = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Food: &quot;);\r\n   \t \tFavoriteF = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Subject: &quot;);\r\n   \t \tFavoriteS = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Favorite Color: &quot;);\r\n   \t \tFavoriteC = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Hobby: &quot;);\r\n   \t \tHobby = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.print(&quot;Please Enter your Secret Talent: &quot;);\r\n   \t \tSTalent = naria.next();\r\n   \t \t\r\n   \t \tSystem.out.println(&quot;Hello &quot;+Fname);\r\n        System.out.println(&quot;You are &quot;+ Age +&quot; years old&quot;);\r\n        System.out.println(&quot;You lived at &quot;+Address);\r\n   \t \tSystem.out.println(&quot;You are born in &quot;+ Birthplace);\r\n   \t \tSystem.out.println(&quot;Your birthday is on &quot;+Birthday);\r\n   \t \tSystem.out.println(&quot;Your Favorite Food is &quot;+FavoriteF);\r\n   \t \tSystem.out.println(&quot;Your Favorite Color is &quot;+FavoriteC);\r\n   \t \tSystem.out.println(&quot;Your Favorite Color is &quot;+FavoriteS);\r\n   \t \tSystem.out.println(&quot;Your hobby is to &quot;+Hobby);\r\n   \t \tSystem.out.println(&quot;Your Secret Talent is to &quot;+ STalent);\r\n   \t \t}\r\n   \telse if(number.equals(&quot;2&quot;)) {\r\n   \t\twhile (true)\r\n   \t\t{\r\n   \t\t\r\n   \t \tScanner glenn = new Scanner(System.in);\r\nString chosen;\r\nint a,b,ab,e,f;\r\nfloat d,c,dc;\r\n\r\n\r\nSystem.out.println(&quot;\\n[1] Addition \\n[2] Subtraction \\n[3] Multiplication \\n[4] Division \\n[5] Greater Than/Less Than \\n[6] Return \\nEnter the number you chose:&quot;);\r\n \tchosen=glenn.nextLine();\r\n   \t \t\r\n\t   \t \tif(chosen.equals(&quot;1&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a+b; \t\t\r\n\t   \t \tSystem.out.print(a + &quot; + &quot; + b + &quot; = &quot; +ab);  \t \r\n\t   \t \t}\r\n\t   \telse if(chosen.equals(&quot;2&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a-b;\r\n\t   \t \t\t\r\n\t   \t \tSystem.out.print(a + &quot; - &quot; + b + &quot; = &quot; +ab);\r\n\t   \t \t}\r\n\t   \telse if(chosen.equals(&quot;3&quot;)) {\r\n\t   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n\t   \t \ta=glenn.nextInt();\r\n\t   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n\t   \t \tb=glenn.nextInt();\r\n\t   \t \tab=a*b;\t\r\n\t   \t \tSystem.out.print(a + &quot; * &quot; + b + &quot; = &quot; +ab);\r\n\t   \t \t}\r\n   \telse if(chosen.equals(&quot;4&quot;)) {\r\n   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n   \t \tc=glenn.nextInt();\r\n   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n   \t \td=glenn.nextInt();\r\n   \t \tdc=c/d;\t\r\n   \t \tSystem.out.print(c + &quot; / &quot; + d + &quot; = &quot; +dc);\r\n   \t}\r\n   \t \telse if(chosen.equals(&quot;5&quot;)) {\r\n   \t \tSystem.out.print(&quot;Enter your first number: &quot;);\r\n   \t \te=glenn.nextInt();\r\n   \t \tSystem.out.print(&quot;Enter your second number: &quot;);\r\n   \t \tf=glenn.nextInt();\r\n   \t \tif (e&gt;f){\r\n   \t \t \tSystem.out.print(e + &quot; is greater than &quot;+ f);\r\n   \t \t }\r\n   \t \t \r\n   \t \t  if(e&lt;f){\r\n   \t \t \tSystem.out.print(e + &quot; is lesser than &quot;+ f);\r\n   \t \t }\r\n   \t \t if(e==f){\r\n   \t \t \tSystem.out.print(e + &quot; is same as &quot;+ f);\r\n   \t \t }\r\n   \t \t}\r\n   \t \t  if(chosen.equals(&quot;6&quot;)) {\r\n   \t \t  \tSystem.out.println(&quot; \\nThank you and Goodbye!&quot;);\r\n   \t    break;\r\n   \t}\t\r\n   \t\t}\r\n   \t}\r\n   \t\telse System.out.println(&quot; \\nThank you and Goodbye!&quot;); \r\n\r\n}\r\n}\r\n```\r\n\r\n\r\nI wanted the break to change to return back to biography and calculator choice, I need help please because Ive been struggling too much now, I dont know what statements do I use to make it work, I only got like a few hours to finish it and Ive been struggling real, real hard for the past 2 hours\r\n\r\nIt is an easy problem but I am only a programmer for 2 weeks rn thats why I needed help, any help is appreaciated","title":"Getting my Return choice to work inside of the calculator","body":"<pre><code>import java.util.Scanner;\n\npublic class brickgame {\n\n    public brickgame() {\n    }\n   public static void main (String[] args) {\n    System.out.println(&quot;Choose the operation you want to do?&quot;);\n    Scanner charles = new Scanner(System.in);\n    String number;\n    \n    \n   \n    System.out.print(&quot;[1] Biography \\n[2] Calculator \\n[3] Bye \\nChoose the number:&quot;);\n        number=charles.nextLine();\n        \n        \n        if(number.equals(&quot;1&quot;)) {\n            Scanner naria = new Scanner(System.in);\n        String Fname,Age,Address,Birthplace,Birthday,FavoriteF,FavoriteS,FavoriteC,Hobby,STalent;\n        \n        System.out.println(&quot;Please use Underscore Character or _ as your spacebar! &quot;);\n        \n        System.out.print(&quot;Please Enter your Name: &quot;);\n        Fname = naria.next();\n        \n        System.out.print(&quot;Please Enter your Age: &quot;);\n        Age = naria.next();\n        \n        System.out.print(&quot;Please Enter your Address: &quot;);\n        Address = naria.next();\n        \n        System.out.print(&quot;Please Enter your Birthplace: &quot;);\n        Birthplace = naria.next();\n        \n        System.out.print(&quot;Please Enter your Birthday: &quot;);\n        Birthday = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Food: &quot;);\n        FavoriteF = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Subject: &quot;);\n        FavoriteS = naria.next();\n        \n        System.out.print(&quot;Please Enter your Favorite Color: &quot;);\n        FavoriteC = naria.next();\n        \n        System.out.print(&quot;Please Enter your Hobby: &quot;);\n        Hobby = naria.next();\n        \n        System.out.print(&quot;Please Enter your Secret Talent: &quot;);\n        STalent = naria.next();\n        \n        System.out.println(&quot;Hello &quot;+Fname);\n        System.out.println(&quot;You are &quot;+ Age +&quot; years old&quot;);\n        System.out.println(&quot;You lived at &quot;+Address);\n        System.out.println(&quot;You are born in &quot;+ Birthplace);\n        System.out.println(&quot;Your birthday is on &quot;+Birthday);\n        System.out.println(&quot;Your Favorite Food is &quot;+FavoriteF);\n        System.out.println(&quot;Your Favorite Color is &quot;+FavoriteC);\n        System.out.println(&quot;Your Favorite Color is &quot;+FavoriteS);\n        System.out.println(&quot;Your hobby is to &quot;+Hobby);\n        System.out.println(&quot;Your Secret Talent is to &quot;+ STalent);\n        }\n    else if(number.equals(&quot;2&quot;)) {\n        while (true)\n        {\n        \n        Scanner glenn = new Scanner(System.in);\nString chosen;\nint a,b,ab,e,f;\nfloat d,c,dc;\n\n\nSystem.out.println(&quot;\\n[1] Addition \\n[2] Subtraction \\n[3] Multiplication \\n[4] Division \\n[5] Greater Than/Less Than \\n[6] Return \\nEnter the number you chose:&quot;);\n    chosen=glenn.nextLine();\n        \n            if(chosen.equals(&quot;1&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a+b;         \n            System.out.print(a + &quot; + &quot; + b + &quot; = &quot; +ab);     \n            }\n        else if(chosen.equals(&quot;2&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a-b;\n                \n            System.out.print(a + &quot; - &quot; + b + &quot; = &quot; +ab);\n            }\n        else if(chosen.equals(&quot;3&quot;)) {\n            System.out.print(&quot;Enter your first number: &quot;);\n            a=glenn.nextInt();\n            System.out.print(&quot;Enter your second number: &quot;);\n            b=glenn.nextInt();\n            ab=a*b; \n            System.out.print(a + &quot; * &quot; + b + &quot; = &quot; +ab);\n            }\n    else if(chosen.equals(&quot;4&quot;)) {\n        System.out.print(&quot;Enter your first number: &quot;);\n        c=glenn.nextInt();\n        System.out.print(&quot;Enter your second number: &quot;);\n        d=glenn.nextInt();\n        dc=c/d; \n        System.out.print(c + &quot; / &quot; + d + &quot; = &quot; +dc);\n    }\n        else if(chosen.equals(&quot;5&quot;)) {\n        System.out.print(&quot;Enter your first number: &quot;);\n        e=glenn.nextInt();\n        System.out.print(&quot;Enter your second number: &quot;);\n        f=glenn.nextInt();\n        if (e&gt;f){\n            System.out.print(e + &quot; is greater than &quot;+ f);\n         }\n         \n          if(e&lt;f){\n            System.out.print(e + &quot; is lesser than &quot;+ f);\n         }\n         if(e==f){\n            System.out.print(e + &quot; is same as &quot;+ f);\n         }\n        }\n          if(chosen.equals(&quot;6&quot;)) {\n            System.out.println(&quot; \\nThank you and Goodbye!&quot;);\n        break;\n    }   \n        }\n    }\n        else System.out.println(&quot; \\nThank you and Goodbye!&quot;); \n\n}\n}\n</code></pre>\n<p>I wanted the break to change to return back to biography and calculator choice, I need help please because Ive been struggling too much now, I dont know what statements do I use to make it work, I only got like a few hours to finish it and Ive been struggling real, real hard for the past 2 hours</p>\n<p>It is an easy problem but I am only a programmer for 2 weeks rn thats why I needed help, any help is appreaciated</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695028137,"post_id":77125847,"comment_id":135964302,"body_markdown":"Find a caching library that allows you to read without locking if it&#39;s sure the data is already there. One example could be Caffeine, which is a fork of the Guava Cache.","body":"Find a caching library that allows you to read without locking if it&#39;s sure the data is already there. One example could be Caffeine, which is a fork of the Guava Cache."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1695028371,"post_id":77125847,"comment_id":135964362,"body_markdown":"From a performance perspective, you should _measure_ performance, not guess it like some kind of mystical oracle.","body":"From a performance perspective, you should <i>measure</i> performance, not guess it like some kind of mystical oracle."},{"owner":{"account_id":4926557,"reputation":41,"user_id":3967656,"display_name":"Kashish Aneja"},"score":0,"creation_date":1695028840,"post_id":77125847,"comment_id":135964473,"body_markdown":"@Jorn - Data is there but has to be loaded at the request level, as the request will have a deciding parameter, the outer map will have read/write operation but the inner is a write once operation.","body":"@Jorn - Data is there but has to be loaded at the request level, as the request will have a deciding parameter, the outer map will have read/write operation but the inner is a write once operation."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695029369,"post_id":77125847,"comment_id":135964584,"body_markdown":"Yes, sounds like a good fit for that Cache then","body":"Yes, sounds like a good fit for that Cache then"}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695029742,"creation_date":1695029742,"answer_id":77126051,"question_id":77125847,"body_markdown":"The point of `ConcurrentMap` class is that it does NOT use locks. So, you should be OK.","title":"Best way to load and store data at request level","body":"<p>The point of <code>ConcurrentMap</code> class is that it does NOT use locks. So, you should be OK.</p>\n"}],"owner":{"account_id":4926557,"reputation":41,"user_id":3967656,"display_name":"Kashish Aneja"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695029742,"creation_date":1695028038,"question_id":77125847,"body_markdown":"**Scenario:** I have a Rest API, where we are fetching some data and on basis of some db data, we are applying rules.\r\n**Current Implementation:** So, I have fetched all the data required for rules in one shot and stored it in HashMap.\r\nDataStructure looks like this - **ConcurrentMap&lt;String,HashMap&lt;String,Rules&gt;&gt;.**  \r\n\r\nThe outer map contains uses the request_id as key and inner contains rule&#39;key.\r\nAlso, outer map is concurrenthashmap and inner one is hashmap.\r\n\r\nThe **problem** comes as this application is multithreaded and when threads try to read the rule, they have to go through the lock in the concurrenthashmap.SO, from a performance perspective, I think this does not sound good.\r\n\r\nI wanted to check if there is a better way to implement this scenario.","title":"Best way to load and store data at request level","body":"<p><strong>Scenario:</strong> I have a Rest API, where we are fetching some data and on basis of some db data, we are applying rules.\n<strong>Current Implementation:</strong> So, I have fetched all the data required for rules in one shot and stored it in HashMap.\nDataStructure looks like this - <strong>ConcurrentMap&lt;String,HashMap&lt;String,Rules&gt;&gt;.</strong></p>\n<p>The outer map contains uses the request_id as key and inner contains rule'key.\nAlso, outer map is concurrenthashmap and inner one is hashmap.</p>\n<p>The <strong>problem</strong> comes as this application is multithreaded and when threads try to read the rule, they have to go through the lock in the concurrenthashmap.SO, from a performance perspective, I think this does not sound good.</p>\n<p>I wanted to check if there is a better way to implement this scenario.</p>\n"},{"tags":["java","gradle"],"owner":{"account_id":18059203,"reputation":11,"user_id":13126726,"display_name":"Mihir Kohli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695029728,"creation_date":1695029728,"question_id":77126048,"body_markdown":"How to add custom favicon to javadoc built using gradle?\r\n\r\n```\r\njavadoc {\r\n\tsource = sourceSets.main.allJava\r\n\tclasspath = configurations.compileClasspath\r\n\toptions.encoding = &#39;UTF-8&#39;\r\n\t// currently our javadoc has a lot of errors, so we need to suppress the linter\r\n\toptions.addStringOption(&#39;Xdoclint:none&#39;, &#39;-quiet&#39;)\r\n}\r\n\r\ntask releaseJavadoc(type: Javadoc) {\r\n\ttitle = project.name + &#39; &#39; + project.property(&#39;version&#39;)\r\n\tsource = sourceSets.main.allJava\r\n\tclasspath = configurations.compileClasspath\r\n\toptions.encoding = &#39;UTF-8&#39;\r\n\t// currently our javadoc has a lot of errors, so we need to suppress the linter\r\n\toptions.addStringOption(&#39;Xdoclint:none&#39;, &#39;-quiet&#39;)\r\n}\r\n```\r\n\r\nAbove is code for buidling javadocs.\r\n\r\n[Current](https://i.stack.imgur.com/xKo8n.png)\r\n\r\nWant to replace this with custom favicon.","title":"How to add favicon to javadoc gradle?","body":"<p>How to add custom favicon to javadoc built using gradle?</p>\n<pre><code>javadoc {\n    source = sourceSets.main.allJava\n    classpath = configurations.compileClasspath\n    options.encoding = 'UTF-8'\n    // currently our javadoc has a lot of errors, so we need to suppress the linter\n    options.addStringOption('Xdoclint:none', '-quiet')\n}\n\ntask releaseJavadoc(type: Javadoc) {\n    title = project.name + ' ' + project.property('version')\n    source = sourceSets.main.allJava\n    classpath = configurations.compileClasspath\n    options.encoding = 'UTF-8'\n    // currently our javadoc has a lot of errors, so we need to suppress the linter\n    options.addStringOption('Xdoclint:none', '-quiet')\n}\n</code></pre>\n<p>Above is code for buidling javadocs.</p>\n<p><a href=\"https://i.stack.imgur.com/xKo8n.png\" rel=\"nofollow noreferrer\">Current</a></p>\n<p>Want to replace this with custom favicon.</p>\n"},{"tags":["java","gis","geo","geotools"],"comments":[{"owner":{"account_id":74542,"reputation":3561,"user_id":214143,"display_name":"Jason Aller"},"score":1,"creation_date":1690384756,"post_id":76771429,"comment_id":135346743,"body_markdown":"What are your criteria for determining if a point is &quot;likely&quot; at a given set of coordinates?","body":"What are your criteria for determining if a point is &quot;likely&quot; at a given set of coordinates?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1690441907,"post_id":76771429,"comment_id":135354981,"body_markdown":"There is a GeoJSON datastore in GeoTools","body":"There is a GeoJSON datastore in GeoTools"},{"owner":{"account_id":23317556,"reputation":33,"user_id":17395970,"display_name":"Gaetan"},"score":0,"creation_date":1690532133,"post_id":76771429,"comment_id":135369849,"body_markdown":"Hi guys. Thanks for your answers.\nI may have used the wrong word. My need is to assert that a geograpohic point exists.\nI&#39;m not at the stage where i try to get en address from it.\nBut i would like to get en error if i get something like 100.10, 200.30 (witch wouldn&#39;t exist).\nAnd i didn&#39;t find that in GeoTools. I figured there would be a methode like `isValideCoordinate(lat, lon)`","body":"Hi guys. Thanks for your answers. I may have used the wrong word. My need is to assert that a geograpohic point exists. I&#39;m not at the stage where i try to get en address from it. But i would like to get en error if i get something like 100.10, 200.30 (witch wouldn&#39;t exist). And i didn&#39;t find that in GeoTools. I figured there would be a methode like <code>isValideCoordinate(lat, lon)</code>"}],"answers":[{"tags":[],"owner":{"account_id":18524434,"reputation":65,"user_id":13496635,"display_name":"Arjen10"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695029439,"creation_date":1695027694,"answer_id":77125798,"question_id":76771429,"body_markdown":"validation coordinates should be determined from the reference coordinate system. you can visit [epsg.io](https://epsg.io/4326) like wgs84 bounds, use the following code to determine whether the coordinates are within the corresponding interval.\r\n\r\n```java\r\npackage org.example;\r\n\r\n\r\nimport org.geotools.referencing.CRS;\r\nimport org.opengis.referencing.crs.CoordinateReferenceSystem;\r\nimport org.opengis.referencing.cs.CoordinateSystem;\r\nimport org.opengis.referencing.cs.CoordinateSystemAxis;\r\n\r\n/**\r\n * @author Arjen10\r\n * @date 2023/9/15 下午4:55\r\n */\r\npublic class Test2 {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CoordinateReferenceSystem decode = CRS.decode(&quot;EPSG:4326&quot;, true);\r\n        CoordinateSystem coordinateSystem = decode.getCoordinateSystem();\r\n        CoordinateSystemAxis axis = coordinateSystem.getAxis(0);\r\n        CoordinateSystemAxis axis1 = coordinateSystem.getAxis(1);\r\n        double maxX = axis.getMaximumValue();\r\n        double maxY = axis1.getMaximumValue();\r\n        double minX = axis.getMinimumValue();\r\n        double minY = axis1.getMinimumValue();\r\n        System.out.println(&quot;wg84 maxX &quot; + maxX);\r\n        System.out.println(&quot;wg84 maxY &quot; + maxY);\r\n        System.out.println(&quot;wg84 minX &quot; + minX);\r\n        System.out.println(&quot;wg84 minY &quot; + minY);\r\n\r\n        double userInputX = 180d;\r\n        double userInputY = 90.1;\r\n\r\n        if (userInputX &gt; maxX || userInputX &lt; minX) {\r\n            throw new IllegalArgumentException(&quot;error x&quot;);\r\n        }\r\n\r\n        if (userInputY &gt; maxY || userInputY &lt; minY) {\r\n            throw new IllegalArgumentException(&quot;error y&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```","title":"User input geographic point syntax validation","body":"<p>validation coordinates should be determined from the reference coordinate system. you can visit <a href=\"https://epsg.io/4326\" rel=\"nofollow noreferrer\">epsg.io</a> like wgs84 bounds, use the following code to determine whether the coordinates are within the corresponding interval.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\n\nimport org.geotools.referencing.CRS;\nimport org.opengis.referencing.crs.CoordinateReferenceSystem;\nimport org.opengis.referencing.cs.CoordinateSystem;\nimport org.opengis.referencing.cs.CoordinateSystemAxis;\n\n/**\n * @author Arjen10\n * @date 2023/9/15 下午4:55\n */\npublic class Test2 {\n\n    public static void main(String[] args) throws Exception {\n        CoordinateReferenceSystem decode = CRS.decode(&quot;EPSG:4326&quot;, true);\n        CoordinateSystem coordinateSystem = decode.getCoordinateSystem();\n        CoordinateSystemAxis axis = coordinateSystem.getAxis(0);\n        CoordinateSystemAxis axis1 = coordinateSystem.getAxis(1);\n        double maxX = axis.getMaximumValue();\n        double maxY = axis1.getMaximumValue();\n        double minX = axis.getMinimumValue();\n        double minY = axis1.getMinimumValue();\n        System.out.println(&quot;wg84 maxX &quot; + maxX);\n        System.out.println(&quot;wg84 maxY &quot; + maxY);\n        System.out.println(&quot;wg84 minX &quot; + minX);\n        System.out.println(&quot;wg84 minY &quot; + minY);\n\n        double userInputX = 180d;\n        double userInputY = 90.1;\n\n        if (userInputX &gt; maxX || userInputX &lt; minX) {\n            throw new IllegalArgumentException(&quot;error x&quot;);\n        }\n\n        if (userInputY &gt; maxY || userInputY &lt; minY) {\n            throw new IllegalArgumentException(&quot;error y&quot;);\n        }\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":23317556,"reputation":33,"user_id":17395970,"display_name":"Gaetan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77125798,"answer_count":1,"score":0,"last_activity_date":1695029439,"creation_date":1690375226,"question_id":76771429,"body_markdown":"I&#39;m trying to work with geographic points in a java project.\r\nI started to look into good practice, started looking into GeoTols which seems to be the reference for java.\r\n\r\nWhat I&#39;m trying to do is validate a user input for geographic points.\r\nThe user input is JSON file. So I&#39;m parsing the file, and I would like to find something that validates the syntax and that a point at this coordinates is likely.\r\n\r\nI couldn&#39;t find it (maybe I searched wrong) in GeoTools.\r\nThanks!","title":"User input geographic point syntax validation","body":"<p>I'm trying to work with geographic points in a java project.\nI started to look into good practice, started looking into GeoTols which seems to be the reference for java.</p>\n<p>What I'm trying to do is validate a user input for geographic points.\nThe user input is JSON file. So I'm parsing the file, and I would like to find something that validates the syntax and that a point at this coordinates is likely.</p>\n<p>I couldn't find it (maybe I searched wrong) in GeoTools.\nThanks!</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1575882911,"post_id":59245405,"comment_id":104701498,"body_markdown":"It doesn&#39;t work because it crashed due to a bug in the VM.","body":"It doesn&#39;t work because it crashed due to a bug in the VM."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1575885572,"post_id":59245405,"comment_id":104702901,"body_markdown":"Access violation is usually an indication of problem in native code - usually badly addressed memory. If the database access relies on some external library (DLL or SO), it may have a bug.","body":"Access violation is usually an indication of problem in native code - usually badly addressed memory. If the database access relies on some external library (DLL or SO), it may have a bug."},{"owner":{"account_id":272310,"reputation":6057,"user_id":563323,"display_name":"Sanne"},"score":1,"creation_date":1575888464,"post_id":59245405,"comment_id":104704481,"body_markdown":"That&#39;s not a Quarkus issue, something wrong is being triggered in your JDK. I see you&#39;re using a very old build of JDK11, try updating?","body":"That&#39;s not a Quarkus issue, something wrong is being triggered in your JDK. I see you&#39;re using a very old build of JDK11, try updating?"},{"owner":{"account_id":11721412,"reputation":1016,"user_id":8580266,"display_name":"alexzimmer96"},"score":0,"creation_date":1575898185,"post_id":59245405,"comment_id":104709509,"body_markdown":"Thanks for the responses. I&#39;ve tried updating to the current version of OpenJDK-11 but it still crashes.","body":"Thanks for the responses. I&#39;ve tried updating to the current version of OpenJDK-11 but it still crashes."}],"answers":[{"tags":[],"owner":{"account_id":14915615,"reputation":181,"user_id":10769525,"display_name":"drino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695029254,"creation_date":1695029254,"answer_id":77125994,"question_id":59245405,"body_markdown":"Try do to do something simple (like print) in your operateEntry function to be sure that it is not a problem with your database access.\r\n\r\nI don&#39;t think that this is the good approach to solve your problem, parallelStream to access database often lead to the kinf of problem you are actually facing.\r\n\r\nAnother approach might be to use parallel aproach to read files, but a single transaction to commit in database.\r\n","title":"Parallel Stream for inserting data on startup","body":"<p>Try do to do something simple (like print) in your operateEntry function to be sure that it is not a problem with your database access.</p>\n<p>I don't think that this is the good approach to solve your problem, parallelStream to access database often lead to the kinf of problem you are actually facing.</p>\n<p>Another approach might be to use parallel aproach to read files, but a single transaction to commit in database.</p>\n"}],"owner":{"account_id":11721412,"reputation":1016,"user_id":8580266,"display_name":"alexzimmer96"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1695029254,"creation_date":1575881760,"question_id":59245405,"body_markdown":"I&#39;m just wondering if it&#39;s possible to create a parallelStream inside a startup-event function. I discover quarkus at the moment and for testing i have to read a file and insert its files into the database on startup. Whenever is try to use a `parallelStream` instead of a normal one, i get `ACCESS_VIOLATION_EXCEPTION`.\r\n\r\nHere&#39;s some Code so you can imagine what i&#39;m doing. This example works.\r\n```java\r\nvoid onStart(@Observes StartupEvent ev) throws Exception {\r\n    // Parsing the file, getting the iterator\r\n    it.readAll().stream().forEach(this::operateEntry);\r\n}\r\n\r\n@Transactional\r\nvoid operateEntry(Entry entry) {\r\n    // Performing the database actions for a single entry\r\n}\r\n```\r\n\r\nUsing the same example but this time with an parallel stream results in an error:\r\n```java\r\nvoid onStart(@Observes StartupEvent ev) throws Exception {\r\n    // Parsing the file, getting the iterator\r\n    it.readAll().parallelStream().forEach(this::operateEntry);\r\n}\r\n```\r\nAnd the error message\r\n```\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5e59bf40, pid=15880, tid=20388\r\n#\r\n# JRE version: Java(TM) SE Runtime Environment (11.0.1+13) (build 11.0.1+13-LTS)\r\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (11.0.1+13-LTS, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\r\n# Problematic frame:\r\n# V  [jvm.dll+0x1ebf40]\r\n#\r\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\r\n#\r\n# An error report file with more information is saved as:\r\n# D:\\knowledge\\curator-service\\target\\hs_err_pid15880.log\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   http://bugreport.java.com/bugreport/crash.jsp\r\n```\r\n\r\nI understand that parsing a bigger amount of data on every quarkus startup might not a realistic use-case. However i would like to understand why this does not work. I&#39;m thankful for any advice.\r\n\r\nThank you in advance.","title":"Parallel Stream for inserting data on startup","body":"<p>I'm just wondering if it's possible to create a parallelStream inside a startup-event function. I discover quarkus at the moment and for testing i have to read a file and insert its files into the database on startup. Whenever is try to use a <code>parallelStream</code> instead of a normal one, i get <code>ACCESS_VIOLATION_EXCEPTION</code>.</p>\n\n<p>Here's some Code so you can imagine what i'm doing. This example works.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void onStart(@Observes StartupEvent ev) throws Exception {\n    // Parsing the file, getting the iterator\n    it.readAll().stream().forEach(this::operateEntry);\n}\n\n@Transactional\nvoid operateEntry(Entry entry) {\n    // Performing the database actions for a single entry\n}\n</code></pre>\n\n<p>Using the same example but this time with an parallel stream results in an error:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void onStart(@Observes StartupEvent ev) throws Exception {\n    // Parsing the file, getting the iterator\n    it.readAll().parallelStream().forEach(this::operateEntry);\n}\n</code></pre>\n\n<p>And the error message</p>\n\n<pre><code># A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffd5e59bf40, pid=15880, tid=20388\n#\n# JRE version: Java(TM) SE Runtime Environment (11.0.1+13) (build 11.0.1+13-LTS)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (11.0.1+13-LTS, mixed mode, tiered, compressed oops, g1 gc, windows-amd64)\n# Problematic frame:\n# V  [jvm.dll+0x1ebf40]\n#\n# No core dump will be written. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# D:\\knowledge\\curator-service\\target\\hs_err_pid15880.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.java.com/bugreport/crash.jsp\n</code></pre>\n\n<p>I understand that parsing a bigger amount of data on every quarkus startup might not a realistic use-case. However i would like to understand why this does not work. I'm thankful for any advice.</p>\n\n<p>Thank you in advance.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1441019124,"post_id":32308964,"comment_id":52494469,"body_markdown":"The &quot;answer&quot; by &quot;Mr. Noddy&quot; was probably meant to be a comment, but he doesn&#39;t have 50 points reputation. He tells you to look here: https://stackoverflow.com/questions/18152803/how-do-you-track-the-location-of-pdpagecontentstreams-text-output . Btw, the answer to your question &quot;Is there a way through which i can get the cursor information like where the cursor is present&quot; is &quot;no&quot;.","body":"The &quot;answer&quot; by &quot;Mr. Noddy&quot; was probably meant to be a comment, but he doesn&#39;t have 50 points reputation. He tells you to look here: <a href=\"https://stackoverflow.com/questions/18152803/how-do-you-track-the-location-of-pdpagecontentstreams-text-output\" title=\"how do you track the location of pdpagecontentstreams text output\">stackoverflow.com/questions/18152803/&hellip;</a> . Btw, the answer to your question &quot;Is there a way through which i can get the cursor information like where the cursor is present&quot; is &quot;no&quot;."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1441350624,"post_id":32308964,"comment_id":52652892,"body_markdown":"if an answer solved your problem, please press the green checkmark. If it isn&#39;t, mention in the comments why.","body":"if an answer solved your problem, please press the green checkmark. If it isn&#39;t, mention in the comments why."}],"answers":[{"tags":[],"owner":{"account_id":6450270,"reputation":1304,"user_id":5201008,"accept_rate":56,"display_name":"Nirav Patel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1441160098,"creation_date":1441087763,"answer_id":32324661,"question_id":32308964,"body_markdown":"You can use some class level variables like below which maintains positionY throught execution of pdf generation.\r\n\r\n    float PAGE_MARGIN = 20;\r\n    float newPagepositionY = page.findMediaBox().getHeight() - PAGE_MARGIN;\r\n    float positionY = newPagepositionY;\r\n    PDPage currentPage = new PDPage();\r\n\r\nBefore adding any content on PDF, check whether cursor has reached at end of page or not.\r\ni.e. Create funtion as shown below\r\n\r\n    public boolean isEndOfPage(Row row) \r\n    {\r\n    \tfloat currentY = this.positionY ;\r\n    \tboolean isEndOfPage = currentY  &lt;= (PAGE_MARGIN + 10);\r\n    \t\r\n    \treturn isEndOfPage;\r\n    }\r\n\r\nUsing above funtion, you can create new page as required.\r\n\r\n    if (isEndOfPage(row)) \r\n    {\r\n    \t// Reset positionY  to newPagepositionY\r\n    \tthis.positionY  = newPagepositionY;\r\n    \r\n    \tthis.currentPage = new PDPage();\r\n    \t\r\n    \t// your code\r\n    }","title":"How to add multiple pages in PDFBox","body":"<p>You can use some class level variables like below which maintains positionY throught execution of pdf generation.</p>\n\n<pre><code>float PAGE_MARGIN = 20;\nfloat newPagepositionY = page.findMediaBox().getHeight() - PAGE_MARGIN;\nfloat positionY = newPagepositionY;\nPDPage currentPage = new PDPage();\n</code></pre>\n\n<p>Before adding any content on PDF, check whether cursor has reached at end of page or not.\ni.e. Create funtion as shown below</p>\n\n<pre><code>public boolean isEndOfPage(Row row) \n{\n    float currentY = this.positionY ;\n    boolean isEndOfPage = currentY  &lt;= (PAGE_MARGIN + 10);\n\n    return isEndOfPage;\n}\n</code></pre>\n\n<p>Using above funtion, you can create new page as required.</p>\n\n<pre><code>if (isEndOfPage(row)) \n{\n    // Reset positionY  to newPagepositionY\n    this.positionY  = newPagepositionY;\n\n    this.currentPage = new PDPage();\n\n    // your code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14931104,"reputation":21,"user_id":10780484,"display_name":"kenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546626324,"creation_date":1544614102,"answer_id":53742060,"question_id":32308964,"body_markdown":"This worked for me\r\n    \r\n    package trypdf;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    \r\n    public class PDF {\r\n    \t\r\n    \tpublic static PDPage blankPage= new PDPage();\r\n        public  static float PAGE_MARGIN = 5;\r\n    \tpublic static  float newPagepositionY = blankPage.getMediaBox().getHeight() - \r\n              PAGE_MARGIN;\r\n    \tpublic static    float positionY = newPagepositionY;\r\n    \r\n    \tpublic static void main(String[] args)throws IOException \r\n    \t{\r\n    \t\t\r\n    \t      PDDocument document = new PDDocument();    \r\n    \t      \r\n   \t          // adding a new page to the document - the first page\r\n    \t      document.addPage(blankPage);   \r\n    \t      \r\n              // creating the content that will appear on the previously added \r\n              //page \r\n    \t      PDPageContentStream contentStream = new \r\n                          PDPageContentStream(document,blankPage); \r\n    \t      \r\n    \t      //the begin of the text for the content\r\n              contentStream.beginText();\r\n              \r\n              //formating the text   \r\n    \t      contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\r\n    \t      contentStream.setLeading(14.5f);\r\n\r\n              //setting the coordinates from where the text will be displayed \r\n              //on the page (first one is the column, second is for row)\r\n    \t      contentStream.newLineAtOffset(15, 750);\r\n    \t      \r\n              //depending on the text formats you can get more or less rows on a \r\n              //page, for my formats I gor 49 rows + the document margins and \r\n              //the spaces between the rows; this goes for the first for\r\n              for(int i=0; i&lt;48;i++) {\t\r\n                  \r\n                  //will display a text at the begining of every row in my case \r\n                  //it will display the row number\r\n    \t    \t  contentStream. showText(Integer.toString(i));\r\n    \t    \t  \r\n                  //this for will display some text to each column of the page\r\n                  //in my case it will display the letter &quot;a&quot;+ one space 64 \r\n                  //times; depending on the text formats you can get more or \r\n                  //less characters\r\n                  for(int j=0;j&lt;63;j++) {\r\n    \t    \t\t  contentStream. showText(&quot;a&quot;+&quot; &quot;);\r\n    \t    \t  }\r\n    \t    \t  \r\n                  //I wanted to display a &quot;b&quot; at each end of a line so I coud \r\n                  //see that the line fits to the page\r\n                  contentStream. showText(&quot;b&quot;);\r\n    \t    \t  \r\n                  //adds another line  \r\n                  contentStream.newLine();\r\n    \t      }\t\r\n\r\n              //marks the end of the text that will be displayed on the first \r\n              //page          \r\n    \t      contentStream.endText();\r\n              \r\n              //will close the content for the first page\r\n    \t      contentStream.close();\r\n    \t      \r\n              //end of the first page\r\n\r\n    \t      //adding other 3 pages with the same text\r\n    \t      int j=0; //the counter for the pages that will be added\r\n    \t      \r\n              while(j&lt;3) {\r\n    \t            \r\n                    //adding another blank page to the document with different \r\n                    //text from the previous one\r\n                    document.addPage(blankPage=new PDPage());\r\n    \t            \r\n                    //taking a content for the new page\r\n                    contentStream = new PDPageContentStream(document,blankPage);\r\n    \t            contentStream.beginText(); \r\n    \t            contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\r\n    \t            contentStream.setLeading(14.5f);\r\n    \t            contentStream.newLineAtOffset(15, 720);\r\n\r\n                    //display a number for every row on the page\r\n    \t            for( int i=50; i&lt;98;i++) {\r\n    \t    \t          contentStream. showText(Integer.toString(i));\r\n    \t    \t          contentStream.newLine();\r\n    \t            }\r\n    \t            \r\n                    //closing the text and the content\r\n                    contentStream.endText();\r\n    \t            contentStream.close();\r\n\r\n                    //increasing the counter for the page    \t           \r\n                    j++;\r\n    \t      }\r\n    \t      System.out.println(&quot;Content added&quot;);\r\n    \t      \r\n              //Saving the document\r\n    \t      document.save(&quot;C:/PdfBox_Examples/docc1.pdf&quot;);  \r\n    \t      System.out.println(&quot;PDF created&quot;);  \r\n    \t      document.close();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to add multiple pages in PDFBox","body":"<p>This worked for me</p>\n\n<pre><code>package trypdf;\n\nimport java.io.IOException;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\npublic class PDF {\n\n    public static PDPage blankPage= new PDPage();\n    public  static float PAGE_MARGIN = 5;\n    public static  float newPagepositionY = blankPage.getMediaBox().getHeight() - \n          PAGE_MARGIN;\n    public static    float positionY = newPagepositionY;\n\n    public static void main(String[] args)throws IOException \n    {\n\n          PDDocument document = new PDDocument();    \n\n          // adding a new page to the document - the first page\n          document.addPage(blankPage);   \n\n          // creating the content that will appear on the previously added \n          //page \n          PDPageContentStream contentStream = new \n                      PDPageContentStream(document,blankPage); \n\n          //the begin of the text for the content\n          contentStream.beginText();\n\n          //formating the text   \n          contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\n          contentStream.setLeading(14.5f);\n\n          //setting the coordinates from where the text will be displayed \n          //on the page (first one is the column, second is for row)\n          contentStream.newLineAtOffset(15, 750);\n\n          //depending on the text formats you can get more or less rows on a \n          //page, for my formats I gor 49 rows + the document margins and \n          //the spaces between the rows; this goes for the first for\n          for(int i=0; i&lt;48;i++) {  \n\n              //will display a text at the begining of every row in my case \n              //it will display the row number\n              contentStream. showText(Integer.toString(i));\n\n              //this for will display some text to each column of the page\n              //in my case it will display the letter \"a\"+ one space 64 \n              //times; depending on the text formats you can get more or \n              //less characters\n              for(int j=0;j&lt;63;j++) {\n                  contentStream. showText(\"a\"+\" \");\n              }\n\n              //I wanted to display a \"b\" at each end of a line so I coud \n              //see that the line fits to the page\n              contentStream. showText(\"b\");\n\n              //adds another line  \n              contentStream.newLine();\n          } \n\n          //marks the end of the text that will be displayed on the first \n          //page          \n          contentStream.endText();\n\n          //will close the content for the first page\n          contentStream.close();\n\n          //end of the first page\n\n          //adding other 3 pages with the same text\n          int j=0; //the counter for the pages that will be added\n\n          while(j&lt;3) {\n\n                //adding another blank page to the document with different \n                //text from the previous one\n                document.addPage(blankPage=new PDPage());\n\n                //taking a content for the new page\n                contentStream = new PDPageContentStream(document,blankPage);\n                contentStream.beginText(); \n                contentStream.setFont( PDType1Font.TIMES_ROMAN, 12 );\n                contentStream.setLeading(14.5f);\n                contentStream.newLineAtOffset(15, 720);\n\n                //display a number for every row on the page\n                for( int i=50; i&lt;98;i++) {\n                      contentStream. showText(Integer.toString(i));\n                      contentStream.newLine();\n                }\n\n                //closing the text and the content\n                contentStream.endText();\n                contentStream.close();\n\n                //increasing the counter for the page                  \n                j++;\n          }\n          System.out.println(\"Content added\");\n\n          //Saving the document\n          document.save(\"C:/PdfBox_Examples/docc1.pdf\");  \n          System.out.println(\"PDF created\");  \n          document.close();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18928040,"reputation":1,"user_id":13810716,"display_name":"mandeep Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695028995,"creation_date":1695028995,"answer_id":77125956,"question_id":32308964,"body_markdown":"\r\n\r\n    // Imports\r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n    \r\n    // Method to add a paragraph to a PDF document\r\n    public static void addParagraph(PDDocument document, String text, PDFont font, float fontSize, float margin) throws IOException {\r\n      // Create a new page if the document is empty\r\n      if (document.getNumberOfPages() == 0) {\r\n        document.addPage(new PDPage());\r\n      }\r\n      \r\n      // Get the current page and its content stream\r\n      PDPage page = document.getPage(document.getNumberOfPages() - 1);\r\n      PDPageContentStream contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true);\r\n      \r\n      // Set the text attributes\r\n      contentStream.setFont(font, fontSize);\r\n      contentStream.setLeading(fontSize * 1.2f); // Line spacing\r\n      \r\n      // Split the text into lines based on the page width and margin\r\n      float pageWidth = page.getMediaBox().getWidth();\r\n      float maxLineWidth = pageWidth - 2 * margin;\r\n      List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n      int lastSpace = -1;\r\n      while (text.length() &gt; 0) {\r\n        int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n        if (spaceIndex &lt; 0) {\r\n          spaceIndex = text.length();\r\n        }\r\n        String subString = text.substring(0, spaceIndex);\r\n        float subStringWidth = font.getStringWidth(subString) / 1000 * fontSize;\r\n        if (subStringWidth &gt; maxLineWidth) {\r\n          if (lastSpace &lt; 0) { // The word is longer than the line\r\n            lastSpace = spaceIndex; // Break the word\r\n          }\r\n          subString = text.substring(0, lastSpace);\r\n          lines.add(subString);\r\n          text = text.substring(lastSpace).trim();\r\n          lastSpace = -1;\r\n        } else if (spaceIndex == text.length()) { // The last line\r\n          lines.add(text);\r\n          text = &quot;&quot;;\r\n        } else {\r\n          lastSpace = spaceIndex;\r\n        }\r\n      }\r\n      \r\n      // Write the lines to the content stream\r\n      contentStream.beginText();\r\n      float pageHeight = page.getMediaBox().getHeight();\r\n      float currentY = pageHeight - margin; // Start from the top margin\r\n      for (String line : lines) {\r\n        float lineWidth = font.getStringWidth(line) / 1000 * fontSize;\r\n        float currentX = margin + (maxLineWidth - lineWidth) / 2; // Center the text horizontally\r\n        if (currentY - fontSize &lt; margin) { // No more space in the current page\r\n          contentStream.endText();\r\n          contentStream.close();\r\n          page = new PDPage(); // Create a new page\r\n          document.addPage(page);\r\n          contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true); // Get its content stream\r\n          contentStream.setFont(font, fontSize); // Set the text attributes again\r\n          contentStream.setLeading(fontSize * 1.2f);\r\n          contentStream.beginText();\r\n          currentY = pageHeight - margin; // Reset the current Y position\r\n        }\r\n        contentStream.newLineAtOffset(currentX, currentY); // Move to the next line position\r\n        contentStream.showText(line); // Show the line\r\n        contentStream.newLine(); // Advance to the next line\r\n        currentY -= fontSize * 1.2f; // Update the current Y position\r\n      }\r\n      \r\n      // Close the content stream and save the document\r\n      contentStream.endText();\r\n      contentStream.close();\r\n    }\r\n\r\n","title":"How to add multiple pages in PDFBox","body":"<pre><code>// Imports\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\n// Method to add a paragraph to a PDF document\npublic static void addParagraph(PDDocument document, String text, PDFont font, float fontSize, float margin) throws IOException {\n  // Create a new page if the document is empty\n  if (document.getNumberOfPages() == 0) {\n    document.addPage(new PDPage());\n  }\n  \n  // Get the current page and its content stream\n  PDPage page = document.getPage(document.getNumberOfPages() - 1);\n  PDPageContentStream contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true);\n  \n  // Set the text attributes\n  contentStream.setFont(font, fontSize);\n  contentStream.setLeading(fontSize * 1.2f); // Line spacing\n  \n  // Split the text into lines based on the page width and margin\n  float pageWidth = page.getMediaBox().getWidth();\n  float maxLineWidth = pageWidth - 2 * margin;\n  List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n  int lastSpace = -1;\n  while (text.length() &gt; 0) {\n    int spaceIndex = text.indexOf(' ', lastSpace + 1);\n    if (spaceIndex &lt; 0) {\n      spaceIndex = text.length();\n    }\n    String subString = text.substring(0, spaceIndex);\n    float subStringWidth = font.getStringWidth(subString) / 1000 * fontSize;\n    if (subStringWidth &gt; maxLineWidth) {\n      if (lastSpace &lt; 0) { // The word is longer than the line\n        lastSpace = spaceIndex; // Break the word\n      }\n      subString = text.substring(0, lastSpace);\n      lines.add(subString);\n      text = text.substring(lastSpace).trim();\n      lastSpace = -1;\n    } else if (spaceIndex == text.length()) { // The last line\n      lines.add(text);\n      text = &quot;&quot;;\n    } else {\n      lastSpace = spaceIndex;\n    }\n  }\n  \n  // Write the lines to the content stream\n  contentStream.beginText();\n  float pageHeight = page.getMediaBox().getHeight();\n  float currentY = pageHeight - margin; // Start from the top margin\n  for (String line : lines) {\n    float lineWidth = font.getStringWidth(line) / 1000 * fontSize;\n    float currentX = margin + (maxLineWidth - lineWidth) / 2; // Center the text horizontally\n    if (currentY - fontSize &lt; margin) { // No more space in the current page\n      contentStream.endText();\n      contentStream.close();\n      page = new PDPage(); // Create a new page\n      document.addPage(page);\n      contentStream = new PDPageContentStream(document, page, PDPageContentStream.AppendMode.APPEND, true); // Get its content stream\n      contentStream.setFont(font, fontSize); // Set the text attributes again\n      contentStream.setLeading(fontSize * 1.2f);\n      contentStream.beginText();\n      currentY = pageHeight - margin; // Reset the current Y position\n    }\n    contentStream.newLineAtOffset(currentX, currentY); // Move to the next line position\n    contentStream.showText(line); // Show the line\n    contentStream.newLine(); // Advance to the next line\n    currentY -= fontSize * 1.2f; // Update the current Y position\n  }\n  \n  // Close the content stream and save the document\n  contentStream.endText();\n  contentStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":6091194,"reputation":33,"user_id":4753403,"display_name":"nb23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1695028995,"creation_date":1441016230,"question_id":32308964,"body_markdown":"I want to write some content in my PDF using PDFBox. Once the page height is less than the margin I need to create another page. I want to retain the cursor information. I s there a way through which i can get the cursor information like where the cursor is present so i can subtract the margin from cursor position and add another page to it. Right now I have done something like this\r\n\r\n    PDRectangle rect = page.getMediaBox();\r\n    float positionY = rect.getWidth();\r\n     positionY = positionY - pdfWriter.defaultBottomMargin;\r\n    if(positionY &lt; positionX) {\r\n                   positionY = rect.getWidth();\r\n                    PDPage page2 = page;\r\n                   rect = page2.getMediaBox();\r\n                   document.addPage(page2);\r\n                   PDPageContentStream contentStream = new PDPageContentStream(document, page2);\r\n                   contentStream.appendRawCommands(&quot;T*\\n&quot;);\r\n                   contentStream.beginText();\r\n                  // contentStream.setFont(font, 12);\r\n                   contentStream.moveTextPositionByAmount(positionX, positionY);\r\n                   contentStream.drawString(tmpText[k]);\r\n                   contentStream.endText();\r\n                   contentStream.close();\r\n                   }","title":"How to add multiple pages in PDFBox","body":"<p>I want to write some content in my PDF using PDFBox. Once the page height is less than the margin I need to create another page. I want to retain the cursor information. I s there a way through which i can get the cursor information like where the cursor is present so i can subtract the margin from cursor position and add another page to it. Right now I have done something like this</p>\n\n<pre><code>PDRectangle rect = page.getMediaBox();\nfloat positionY = rect.getWidth();\n positionY = positionY - pdfWriter.defaultBottomMargin;\nif(positionY &lt; positionX) {\n               positionY = rect.getWidth();\n                PDPage page2 = page;\n               rect = page2.getMediaBox();\n               document.addPage(page2);\n               PDPageContentStream contentStream = new PDPageContentStream(document, page2);\n               contentStream.appendRawCommands(\"T*\\n\");\n               contentStream.beginText();\n              // contentStream.setFont(font, 12);\n               contentStream.moveTextPositionByAmount(positionX, positionY);\n               contentStream.drawString(tmpText[k]);\n               contentStream.endText();\n               contentStream.close();\n               }\n</code></pre>\n"},{"tags":["java","android","firebase-analytics"],"comments":[{"owner":{"account_id":11938965,"reputation":779,"user_id":9512447,"display_name":"Max"},"score":1,"creation_date":1679314007,"post_id":71477354,"comment_id":133693581,"body_markdown":"I have the same problem, dont know how to fix it though i can see parameters in a debug mode","body":"I have the same problem, dont know how to fix it though i can see parameters in a debug mode"}],"answers":[{"tags":[],"owner":{"account_id":17108478,"reputation":107,"user_id":12379954,"display_name":"Gergő Csisz&#225;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683405705,"creation_date":1683405705,"answer_id":76191042,"question_id":71477354,"body_markdown":"This problem cause me a big headache, but I realized that the site was not visited by enough people. After some time, as more data arrived on my page, the parameters for my event appeared. \r\nYou can read about these thresholds here: https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1\r\n\r\nI hope this solves your problem too!","title":"Firebase Analytics: Parameter name selection for event is empty even though I have setup custom definition","body":"<p>This problem cause me a big headache, but I realized that the site was not visited by enough people. After some time, as more data arrived on my page, the parameters for my event appeared.\nYou can read about these thresholds here: <a href=\"https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1\" rel=\"nofollow noreferrer\">https://support.google.com/firebase/answer/9268042?visit_id=638190021689212752-425852670&amp;rd=1</a></p>\n<p>I hope this solves your problem too!</p>\n"}],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695028263,"creation_date":1647321195,"question_id":71477354,"body_markdown":"This is how I log firebase event in my app\r\n\r\n    public static void trackGAEvent(String name, String screenName) {\r\n        FirebaseAnalytics firebaseAnalytics = Utils.getFirebaseAnalytics();\r\n\r\n        if (firebaseAnalytics == null) {\r\n            return;\r\n        }\r\n\r\n        Bundle bundle = null;\r\n\r\n        if (screenName != null) {\r\n            bundle = new Bundle();\r\n            bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\r\n        }\r\n\r\n        firebaseAnalytics.logEvent(name, bundle);\r\n    }\r\n\r\n    trackEvent(&quot;review_ok&quot;, &quot;screen_name_A&quot;);\r\n    trackEvent(&quot;review_ok&quot;, &quot;screen_name_B&quot;);\r\n\r\n\r\n----------\r\n\r\nBy using custom definition, I expect I can break down the event `review_ok` to `screen_name_A` and `screen_name_B`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, when I look at the even of `review_ok`, the parameter name selection is empty.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nDo you know what else I have missed out?\r\n\r\n  [1]: https://i.stack.imgur.com/O6pOh.png\r\n  [2]: https://i.stack.imgur.com/FM0ye.png","title":"Firebase Analytics: Parameter name selection for event is empty even though I have setup custom definition","body":"<p>This is how I log firebase event in my app</p>\n<pre><code>public static void trackGAEvent(String name, String screenName) {\n    FirebaseAnalytics firebaseAnalytics = Utils.getFirebaseAnalytics();\n\n    if (firebaseAnalytics == null) {\n        return;\n    }\n\n    Bundle bundle = null;\n\n    if (screenName != null) {\n        bundle = new Bundle();\n        bundle.putString(FirebaseAnalytics.Param.SCREEN_NAME, screenName);\n    }\n\n    firebaseAnalytics.logEvent(name, bundle);\n}\n\ntrackEvent(&quot;review_ok&quot;, &quot;screen_name_A&quot;);\ntrackEvent(&quot;review_ok&quot;, &quot;screen_name_B&quot;);\n</code></pre>\n<hr />\n<p>By using custom definition, I expect I can break down the event <code>review_ok</code> to <code>screen_name_A</code> and <code>screen_name_B</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/O6pOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O6pOh.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I look at the even of <code>review_ok</code>, the parameter name selection is empty.</p>\n<p><a href=\"https://i.stack.imgur.com/FM0ye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FM0ye.png\" alt=\"enter image description here\" /></a></p>\n<p>Do you know what else I have missed out?</p>\n"},{"tags":["java","android","asp.net-core","retrofit2"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1695039474,"post_id":77125873,"comment_id":135966514,"body_markdown":"I don&#39;t see any user authentication, just the easy to forge userId. Are you sure this is an open API where everybody without having an account can upload images?","body":"I don&#39;t see any user authentication, just the easy to forge userId. Are you sure this is an open API where everybody without having an account can upload images?"},{"owner":{"account_id":27625362,"reputation":11,"user_id":21085467,"display_name":"Владислав Мельник"},"score":0,"creation_date":1695067710,"post_id":77125873,"comment_id":135972121,"body_markdown":"@Robert Yes, this is an open API, tomorrow I can reset the controller code where this method is, if necessary","body":"@Robert Yes, this is an open API, tomorrow I can reset the controller code where this method is, if necessary"},{"owner":{"account_id":19892464,"reputation":11448,"user_id":14574199,"display_name":"Tiny Wang"},"score":0,"creation_date":1695092699,"post_id":77125873,"comment_id":135974581,"body_markdown":"for .net core api `public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)`, it requires the request to post `formdata`, you might have a test with postman to call the api seperately, and I&#39;m afraid that it would work because your code of the api looks good.","body":"for .net core api <code>public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)</code>, it requires the request to post <code>formdata</code>, you might have a test with postman to call the api seperately, and I&#39;m afraid that it would work because your code of the api looks good."}],"owner":{"account_id":27625362,"reputation":11,"user_id":21085467,"display_name":"Владислав Мельник"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695028250,"creation_date":1695028250,"question_id":77125873,"body_markdown":"Throws a 400 Bad Request error when sending a photo to the server. I am sending via retrofit 2 to the server. I download the photo from my phone in png format and try to upload it to the server. Please help who can. Below will be the code for Android and the server (AspNet Core 6.0):\r\nCode Android:\r\n\r\n```\r\nselectedImageUri = data.getData();\r\n\r\n            // Отримайте фактичний шлях до вибраної фотографії і використовуйте його\r\n            imagePath = getPathFromUri(selectedImageUri);\r\n\r\n\r\n            // Отримайте файл з фактичним шляхом\r\n            File imageFile = new File(imagePath);\r\n            RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), imageFile);\r\n            MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;imageFile&quot;, imageFile.getName(), requestFile);\r\n\r\n            UploadDTO uploadDTO = new UploadDTO();\r\n            uploadDTO.setImageFile(body);\r\n            uploadDTO.setUserId(correctUser.getId());\r\n\r\n            Log.d(&quot;user id:&quot;, uploadDTO.getUserId());\r\n            Log.d(&quot;image:&quot;, String.valueOf(uploadDTO.getImageFile().body()));\r\n\r\n            RequestBody userIdRequestBody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), correctUser.getId());\r\n\r\n            apiService.uploadPhoto(uploadDTO).enqueue(new Callback&lt;User&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\r\n                    if(response.body() != null)\r\n                    {\r\n                        // Тут ви можете робити що завгодно з вибраною фотографією, наприклад, відображати її у віджеті ImageView\r\n                        avatarImg.setImageURI(selectedImageUri);\r\n                        urlAv = imagePath;\r\n                    }\r\n                    else\r\n                    {\r\n                        Log.d(&quot;Error: &quot;, String.valueOf(response.code() + &quot; &quot; + response.message()));\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onFailure(Call&lt;User&gt; call, Throwable t) {\r\n\r\n                }\r\n            });\r\n```\r\n\r\nUploadDTO:\r\n\r\n```\r\npackage com.example.uklon_android.DTOs;\r\n\r\nimport java.io.File;\r\n\r\nimport okhttp3.MultipartBody;\r\nimport retrofit2.http.Part;\r\n\r\npublic class UploadDTO {\r\n    String userId;\r\n    MultipartBody.Part imageFile;\r\n\r\n    public void setUserId(String userId)\r\n    {\r\n        this.userId = userId;\r\n    };\r\n\r\n    public String getUserId()\r\n    {\r\n        return userId;\r\n    }\r\n\r\n    public void setImageFile(MultipartBody.Part imageFile)\r\n    {\r\n        this.imageFile = imageFile;\r\n    };\r\n\r\n    public MultipartBody.Part getImageFile()\r\n    {\r\n        return imageFile;\r\n    }\r\n}\r\n```\r\n\r\nCode in server:\r\n\r\n```\r\n[HttpPost(&quot;upload-photo&quot;)]\r\n        public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)\r\n        {\r\n            if (upload.imageFile == null || upload.imageFile.Length == 0)\r\n            {\r\n                return BadRequest(&quot;No file uploaded.&quot;);\r\n            }\r\n\r\n            try\r\n            {\r\n                var fileName = Guid.NewGuid().ToString() + Path.GetExtension(upload.imageFile.FileName);\r\n\r\n                // Шлях для збереження файлу на сервері\r\n                var filePath = Path.Combine(&quot;uploads&quot;, fileName);\r\n\r\n                using (var stream = new FileStream(filePath, FileMode.Create))\r\n                {\r\n                    await upload.imageFile.CopyToAsync(stream);\r\n                }\r\n\r\n                // Ви можете зберігати шлях до файлу в базі даних або повертати його як відповідь\r\n                string imageUrl = &quot;/uploads/&quot; + fileName;\r\n\r\n                // Пошук моделі за ідентифікатором\r\n                var existingModel = await _context.Users.FindAsync(upload.userId);\r\n\r\n                if (existingModel == null)\r\n                    return NotFound();\r\n\r\n                // Оновлення полів моделі\r\n                existingModel.Url = imageUrl;\r\n\r\n                // Зберегти зміни\r\n                await _context.SaveChangesAsync();\r\n\r\n                return Ok(existingModel);\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                return BadRequest(new { error = ex.Message });\r\n            }\r\n        }\r\n```\r\n\r\nUploadDTO in server:\r\n\r\n```\r\n\r\nusing Microsoft.AspNetCore.Http;\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Threading.Tasks;\r\n\r\nnamespace BissnesLogic.DTOs\r\n{\r\n    public class UploadDTO\r\n    {\r\n        public string userId { get; set; }\r\n        public IFormFile imageFile { get; set; }\r\n    }\r\n}\r\n```\r\n\r\nPlease tell me what could be the problem?\r\n\r\nI don&#39;t understand what could be wrong","title":"Error: com.example.uklon_android D 400 Bad Request when sending a photo to the server","body":"<p>Throws a 400 Bad Request error when sending a photo to the server. I am sending via retrofit 2 to the server. I download the photo from my phone in png format and try to upload it to the server. Please help who can. Below will be the code for Android and the server (AspNet Core 6.0):\nCode Android:</p>\n<pre><code>selectedImageUri = data.getData();\n\n            // Отримайте фактичний шлях до вибраної фотографії і використовуйте його\n            imagePath = getPathFromUri(selectedImageUri);\n\n\n            // Отримайте файл з фактичним шляхом\n            File imageFile = new File(imagePath);\n            RequestBody requestFile = RequestBody.create(MediaType.parse(&quot;multipart/form-data&quot;), imageFile);\n            MultipartBody.Part body = MultipartBody.Part.createFormData(&quot;imageFile&quot;, imageFile.getName(), requestFile);\n\n            UploadDTO uploadDTO = new UploadDTO();\n            uploadDTO.setImageFile(body);\n            uploadDTO.setUserId(correctUser.getId());\n\n            Log.d(&quot;user id:&quot;, uploadDTO.getUserId());\n            Log.d(&quot;image:&quot;, String.valueOf(uploadDTO.getImageFile().body()));\n\n            RequestBody userIdRequestBody = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), correctUser.getId());\n\n            apiService.uploadPhoto(uploadDTO).enqueue(new Callback&lt;User&gt;() {\n                @Override\n                public void onResponse(Call&lt;User&gt; call, Response&lt;User&gt; response) {\n                    if(response.body() != null)\n                    {\n                        // Тут ви можете робити що завгодно з вибраною фотографією, наприклад, відображати її у віджеті ImageView\n                        avatarImg.setImageURI(selectedImageUri);\n                        urlAv = imagePath;\n                    }\n                    else\n                    {\n                        Log.d(&quot;Error: &quot;, String.valueOf(response.code() + &quot; &quot; + response.message()));\n                    }\n                }\n\n                @Override\n                public void onFailure(Call&lt;User&gt; call, Throwable t) {\n\n                }\n            });\n</code></pre>\n<p>UploadDTO:</p>\n<pre><code>package com.example.uklon_android.DTOs;\n\nimport java.io.File;\n\nimport okhttp3.MultipartBody;\nimport retrofit2.http.Part;\n\npublic class UploadDTO {\n    String userId;\n    MultipartBody.Part imageFile;\n\n    public void setUserId(String userId)\n    {\n        this.userId = userId;\n    };\n\n    public String getUserId()\n    {\n        return userId;\n    }\n\n    public void setImageFile(MultipartBody.Part imageFile)\n    {\n        this.imageFile = imageFile;\n    };\n\n    public MultipartBody.Part getImageFile()\n    {\n        return imageFile;\n    }\n}\n</code></pre>\n<p>Code in server:</p>\n<pre><code>[HttpPost(&quot;upload-photo&quot;)]\n        public async Task&lt;IActionResult&gt; UploadPhotoAsync(UploadDTO upload)\n        {\n            if (upload.imageFile == null || upload.imageFile.Length == 0)\n            {\n                return BadRequest(&quot;No file uploaded.&quot;);\n            }\n\n            try\n            {\n                var fileName = Guid.NewGuid().ToString() + Path.GetExtension(upload.imageFile.FileName);\n\n                // Шлях для збереження файлу на сервері\n                var filePath = Path.Combine(&quot;uploads&quot;, fileName);\n\n                using (var stream = new FileStream(filePath, FileMode.Create))\n                {\n                    await upload.imageFile.CopyToAsync(stream);\n                }\n\n                // Ви можете зберігати шлях до файлу в базі даних або повертати його як відповідь\n                string imageUrl = &quot;/uploads/&quot; + fileName;\n\n                // Пошук моделі за ідентифікатором\n                var existingModel = await _context.Users.FindAsync(upload.userId);\n\n                if (existingModel == null)\n                    return NotFound();\n\n                // Оновлення полів моделі\n                existingModel.Url = imageUrl;\n\n                // Зберегти зміни\n                await _context.SaveChangesAsync();\n\n                return Ok(existingModel);\n            }\n            catch (Exception ex)\n            {\n                return BadRequest(new { error = ex.Message });\n            }\n        }\n</code></pre>\n<p>UploadDTO in server:</p>\n<pre><code>\nusing Microsoft.AspNetCore.Http;\nusing System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace BissnesLogic.DTOs\n{\n    public class UploadDTO\n    {\n        public string userId { get; set; }\n        public IFormFile imageFile { get; set; }\n    }\n}\n</code></pre>\n<p>Please tell me what could be the problem?</p>\n<p>I don't understand what could be wrong</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":2019478,"reputation":4894,"user_id":1806005,"accept_rate":56,"display_name":"hi_my_name_is"},"score":1,"creation_date":1413458282,"post_id":26402875,"comment_id":41455197,"body_markdown":"how you call it, which url, parameters.. details man..","body":"how you call it, which url, parameters.. details man.."}],"answers":[{"tags":[],"owner":{"account_id":5138561,"reputation":111,"user_id":4116602,"display_name":"traianus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413461213,"creation_date":1413461213,"answer_id":26403984,"question_id":26402875,"body_markdown":"As I see, probably you call /addProfile.htm without the id parameter and parseInt throws the NPE in this line:\r\n\r\n`int id = Integer.parseInt(request.getParameter(&quot;id&quot;));`","title":"Request processing failed; nested exception is java.lang.NumberFormatException: null","body":"<p>As I see, probably you call /addProfile.htm without the id parameter and parseInt throws the NPE in this line:</p>\n\n<p><code>int id = Integer.parseInt(request.getParameter(\"id\"));</code></p>\n"}],"owner":{"account_id":4418498,"reputation":108,"user_id":3599302,"accept_rate":50,"display_name":"user3599302"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695027815,"creation_date":1413457721,"question_id":26402875,"body_markdown":"I&#39;m getting error as `Request processing failed; nested exception is java.lang.NumberFormatException: null`.\r\n\r\nHere is my code:\r\n\r\n     @Controller\r\n     @RequestMapping(&quot;/customerAdmin&quot;)\r\n     public class CustomerAdmincontroller {\r\n            @InitBinder\r\n            public void initBinder(WebDataBinder binder) {\r\n                binder.registerCustomEditor(Customer.class, &quot;customer&quot;, new PropertyEditorSupport() {@\r\n                    Override\r\n                    public void setAsText(String customer) {\r\n          setValue(new Customer(Integer.parseInt(customer)));\r\n                    }\r\n                });\r\n            }\r\n    \r\n            @RequestMapping(value = &quot;/addProfile.htm&quot;, method = RequestMethod.GET)\r\n            public ModelAndView addProfileForm(ModelMap model, HttpServletRequest request) {\r\n                int id = Integer.parseInt(request.getParameter(&quot;id&quot;));\r\n                System.out.println(id);\r\n                Profile profile = new Profile();\r\n                Customer customer = new Customer(id);\r\n                profile.setCustomer(customer);\r\n                model.addAttribute(&quot;profile&quot;, profile);\r\n                ModelAndView mav = new ModelAndView(&quot;addProfile&quot;);\r\n                return mav;\r\n            }\r\n    }\r\n\r\n\r\nAm getting error as\r\n\r\n\r\n\r\n&gt; Oct 16, 2014 4:31:47 PM  invoke\r\n&gt; \r\n&gt;  SEVERE: Servlet.service() for servlet [dispatcherServlet] in context\r\n&gt;  with path [/CustomerPortal] threw exception [Request processing\r\n&gt;  failed; nested exception is java.lang.NumberFormatException: null]\r\n&gt;  with root cause\r\n\r\nwhen i run the project this error already show and i see this error in this Here but still it&#39;s error for me. any one can help me ?\r\nMy controler :\r\n\r\n\r\n    @Autowired\r\n    \taddozv stdDAO;\r\n    \r\n    \tprivate ServletRequest request;\r\n        @SuppressWarnings({ &quot;null&quot;})  \r\n              @RequestMapping(value=&quot;/addadmins&quot; , method = RequestMethod.POST)\r\n               public void addadmins(ModelMap model, HttpServletRequest requ) {\r\n            \t   String username = requ.getParameter(&quot;username&quot;);\r\n            \t   String password = requ.getParameter(&quot;password&quot;);\r\n            \t   String nozv = requ.getParameter(&quot;nozv&quot;);\r\n            \t   String namefamily = requ.getParameter(&quot;namefamily&quot;);\r\n            \t   String codemely = requ.getParameter(&quot;codemely&quot;);\r\n            \t   String father = requ.getParameter(&quot;father&quot;);\r\n            \t   String adress = requ.getParameter(&quot;adress&quot;);\r\n            \t   String telephone = requ.getParameter(&quot;telephone&quot;);\r\n            \t   admins adm=new admins();\r\n            \t   adm.setUsername(username);\r\n            \t   adm.setPassword(password);\r\n            \t   adm.setNozv(Integer.parseInt(nozv));\r\n            \t   adm.setNamefamily(namefamily);\r\n            \t   adm.setCodemely(Integer.parseInt(codemely));\r\n            \t   adm.setFather(father);\r\n            \t   adm.setAdress(adress);\r\n            \t   adm.setTelephone(Integer.parseInt(telephone));  \r\n            \t   stdDAO.add(adm);\r\n\r\nJdbc :\r\n\r\n    @Override\r\n    \tpublic void add(admins adm) {\r\n    \t\tString sql = &quot;INSERT INTO admins &quot; +\r\n    \t\t\t\t&quot;username, password, nozv, namefamily, codemely, father, adress, telephone) VALUES (?, ?, ?, ?, ?, ?, ?, ?)&quot;;\r\n    \t\tConnection conn = null;\r\n    \t\ttry{\r\n    \t\t\tconn = dataSource.getConnection();\r\n    \t\t\tPreparedStatement ps=conn.prepareStatement(sql);\r\n    \t\t\tps.setString(1, adm.getUsername());\r\n    \t\t\tps.setString(2, adm.getPassword());\r\n    \t\t\tps.setInt(3, adm.getNozv());\r\n    \t\t\tps.setString(4, adm.getNamefamily());\r\n    \t\t\tps.setInt(5, adm.getCodemely());\r\n    \t\t\tps.setString(6, adm.getFather());\r\n    \t\t\tps.setString(7, adm.getAdress());\r\n    \t\t\tps.setInt(8, adm.getTelephone());\r\n    \t\t\tps.executeUpdate();\r\n    \t\t\tps.close();\r\n    \t\t\t} catch (SQLException e) {\r\n    \t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\r\n    \t\t\t} finally {\r\n    \t\t\t\tif (conn != null) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\tconn.close();\r\n    \t\t\t} catch (SQLException e) {}\r\n    \t\t}\t\t\r\n    }\r\n\r\nand in jsp page it&#39;s true i don&#39;t know why already it&#39;s Error in this page.\r\nbefore this code i&#39;m writing this code:\r\n \r\n\r\n    @SuppressWarnings(&quot;null&quot;)\r\n       @RequestMapping(value=&quot;/addozvv&quot; , method = RequestMethod.GET)\r\n       public String addozv(ModelMap model) {\r\n          model.addAttribute(&quot;title&quot;, &quot;ozv&quot;);\r\n          \r\n    \r\n          return &quot;addozvv&quot;;\r\n       }\r\n       \r\n       @SuppressWarnings(&quot;null&quot;)\r\n       @RequestMapping(value=&quot;/addozvv&quot; , method = RequestMethod.POST)\r\n       public void showPageSaveozv(ModelMap model, HttpServletRequest req) {\r\n    \t   String Id = req.getParameter(&quot;nozviat&quot;);\r\n    \t   String namefamily = req.getParameter(&quot;namefamily&quot;);\r\n    \t   String codemely = req.getParameter(&quot;codemely&quot;);\r\n    \t   String father = req.getParameter(&quot;father&quot;);\r\n    \t   String adress = req.getParameter(&quot;adress&quot;);\r\n    \t   String otelephone = req.getParameter(&quot;otelephone&quot;);\r\n    \t   String znamefamily = req.getParameter(&quot;znamefamily&quot;);\r\n    \t   String zcodemely = req.getParameter(&quot;zcodemely&quot;);\r\n    \t   String office = req.getParameter(&quot;office&quot;);\r\n    \t   String ztelephone = req.getParameter(&quot;ztelephone&quot;);\r\n    \t \r\n          /////////////\r\n          ozviat ozv = new ozviat();\r\n          \t\r\n          ozv.setId(Integer.parseInt(Id));   \r\n          ozv.setNamefamily(namefamily); \r\n         \r\n    \tozv.setCodemely(Integer.parseInt(codemely));  \r\n          ozv.setFather(father);   \r\n          ozv.setAdress(adress);  \r\n          ozv.setOtelephone(Integer.parseInt(otelephone));   \r\n          ozv.setZnamefamily(znamefamily);   \r\n          ozv.setZcodemely(Integer.parseInt(zcodemely));   \r\n          ozv.setOffice(office); \r\n          ozv.setZtelephone(Integer.parseInt(ztelephone)); \r\n          stdDAO.insert(ozv);\r\n          \r\n \r\n       }\r\n\r\n but when i Run the project it&#39;s ture but other one it&#39;s a error\t\r\n\t\r\n","title":"Request processing failed; nested exception is java.lang.NumberFormatException: null","body":"<p>I'm getting error as <code>Request processing failed; nested exception is java.lang.NumberFormatException: null</code>.</p>\n\n<p>Here is my code:</p>\n\n<pre><code> @Controller\n @RequestMapping(\"/customerAdmin\")\n public class CustomerAdmincontroller {\n        @InitBinder\n        public void initBinder(WebDataBinder binder) {\n            binder.registerCustomEditor(Customer.class, \"customer\", new PropertyEditorSupport() {@\n                Override\n                public void setAsText(String customer) {\n      setValue(new Customer(Integer.parseInt(customer)));\n                }\n            });\n        }\n\n        @RequestMapping(value = \"/addProfile.htm\", method = RequestMethod.GET)\n        public ModelAndView addProfileForm(ModelMap model, HttpServletRequest request) {\n            int id = Integer.parseInt(request.getParameter(\"id\"));\n            System.out.println(id);\n            Profile profile = new Profile();\n            Customer customer = new Customer(id);\n            profile.setCustomer(customer);\n            model.addAttribute(\"profile\", profile);\n            ModelAndView mav = new ModelAndView(\"addProfile\");\n            return mav;\n        }\n}\n</code></pre>\n\n<p>Am getting error as</p>\n\n<blockquote>\n  <p>Oct 16, 2014 4:31:47 PM  invoke</p>\n  \n  <p>SEVERE: Servlet.service() for servlet [dispatcherServlet] in context\n   with path [/CustomerPortal] threw exception [Request processing\n   failed; nested exception is java.lang.NumberFormatException: null]\n   with root cause</p>\n</blockquote>\n\n<p>when i run the project this error already show and i see this error in this Here but still it's error for me. any one can help me ?\nMy controler :</p>\n\n<pre><code>@Autowired\n    addozv stdDAO;\n\n    private ServletRequest request;\n    @SuppressWarnings({ \"null\"})  \n          @RequestMapping(value=\"/addadmins\" , method = RequestMethod.POST)\n           public void addadmins(ModelMap model, HttpServletRequest requ) {\n               String username = requ.getParameter(\"username\");\n               String password = requ.getParameter(\"password\");\n               String nozv = requ.getParameter(\"nozv\");\n               String namefamily = requ.getParameter(\"namefamily\");\n               String codemely = requ.getParameter(\"codemely\");\n               String father = requ.getParameter(\"father\");\n               String adress = requ.getParameter(\"adress\");\n               String telephone = requ.getParameter(\"telephone\");\n               admins adm=new admins();\n               adm.setUsername(username);\n               adm.setPassword(password);\n               adm.setNozv(Integer.parseInt(nozv));\n               adm.setNamefamily(namefamily);\n               adm.setCodemely(Integer.parseInt(codemely));\n               adm.setFather(father);\n               adm.setAdress(adress);\n               adm.setTelephone(Integer.parseInt(telephone));  \n               stdDAO.add(adm);\n</code></pre>\n\n<p>Jdbc :</p>\n\n<pre><code>@Override\n    public void add(admins adm) {\n        String sql = \"INSERT INTO admins \" +\n                \"username, password, nozv, namefamily, codemely, father, adress, telephone) VALUES (?, ?, ?, ?, ?, ?, ?, ?)\";\n        Connection conn = null;\n        try{\n            conn = dataSource.getConnection();\n            PreparedStatement ps=conn.prepareStatement(sql);\n            ps.setString(1, adm.getUsername());\n            ps.setString(2, adm.getPassword());\n            ps.setInt(3, adm.getNozv());\n            ps.setString(4, adm.getNamefamily());\n            ps.setInt(5, adm.getCodemely());\n            ps.setString(6, adm.getFather());\n            ps.setString(7, adm.getAdress());\n            ps.setInt(8, adm.getTelephone());\n            ps.executeUpdate();\n            ps.close();\n            } catch (SQLException e) {\n                throw new RuntimeException(e);\n\n            } finally {\n                if (conn != null) {\n                    try {\n                conn.close();\n            } catch (SQLException e) {}\n        }       \n}\n</code></pre>\n\n<p>and in jsp page it's true i don't know why already it's Error in this page.\nbefore this code i'm writing this code:</p>\n\n<pre><code>@SuppressWarnings(\"null\")\n   @RequestMapping(value=\"/addozvv\" , method = RequestMethod.GET)\n   public String addozv(ModelMap model) {\n      model.addAttribute(\"title\", \"ozv\");\n\n\n      return \"addozvv\";\n   }\n\n   @SuppressWarnings(\"null\")\n   @RequestMapping(value=\"/addozvv\" , method = RequestMethod.POST)\n   public void showPageSaveozv(ModelMap model, HttpServletRequest req) {\n       String Id = req.getParameter(\"nozviat\");\n       String namefamily = req.getParameter(\"namefamily\");\n       String codemely = req.getParameter(\"codemely\");\n       String father = req.getParameter(\"father\");\n       String adress = req.getParameter(\"adress\");\n       String otelephone = req.getParameter(\"otelephone\");\n       String znamefamily = req.getParameter(\"znamefamily\");\n       String zcodemely = req.getParameter(\"zcodemely\");\n       String office = req.getParameter(\"office\");\n       String ztelephone = req.getParameter(\"ztelephone\");\n\n      /////////////\n      ozviat ozv = new ozviat();\n\n      ozv.setId(Integer.parseInt(Id));   \n      ozv.setNamefamily(namefamily); \n\n    ozv.setCodemely(Integer.parseInt(codemely));  \n      ozv.setFather(father);   \n      ozv.setAdress(adress);  \n      ozv.setOtelephone(Integer.parseInt(otelephone));   \n      ozv.setZnamefamily(znamefamily);   \n      ozv.setZcodemely(Integer.parseInt(zcodemely));   \n      ozv.setOffice(office); \n      ozv.setZtelephone(Integer.parseInt(ztelephone)); \n      stdDAO.insert(ozv);\n\n\n   }\n</code></pre>\n\n<p>but when i Run the project it's ture but other one it's a error    </p>\n"},{"tags":["java","android","bluetooth","bluetooth-sco"],"owner":{"account_id":28894514,"reputation":1,"user_id":22130830,"display_name":"Ravi Beniwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695027659,"creation_date":1695027659,"question_id":77125796,"body_markdown":"Here&#39;s how I have configured Bluetooth connectivity in my Android app:\r\nJava Code for Bluetooth Connection:\r\n\r\nHere is the code to connect device\r\n```\r\nprivate void connectToDevice() {\r\n        // Establish Bluetooth connection\r\n        try {\r\n            UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n            bluetoothSocket = targetDevice.createRfcommSocketToServiceRecord(uuid);\r\n            bluetoothSocket.connect();\r\n            inputStream = bluetoothSocket.getInputStream();\r\n            listenForData();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nHere with below code I am able to see my device\r\n\r\n```\r\n\r\n        AudioDeviceInfo[] audioDevices = new AudioDeviceInfo[0];\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n            audioDevices = audioManager.getDevices(AudioManager.GET_DEVICES_INPUTS);\r\n        }\r\n\r\n        microphoneList = new ArrayList&lt;&gt;();\r\n\r\n        for (AudioDeviceInfo deviceInfo : audioDevices) {\r\n            int deviceType = deviceInfo.getType();\r\n            if (deviceType == AudioDeviceInfo.TYPE_BUILTIN_MIC ||\r\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_SCO ||\r\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_A2DP) {\r\n                microphoneList.add(deviceInfo);\r\n            }\r\n        }\r\n\r\n        String[] microphoneNames = new String[microphoneList.size()];\r\n        for (int i = 0; i &lt; microphoneList.size(); i++) {\r\n            microphoneNames[i] = microphoneList.get(i).getProductName().toString();\r\n        }\r\n\r\n```\r\nHere is the recording code\r\n\r\n```\r\naudioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\r\n                    int result = audioManager.requestAudioFocus(null, AudioManager.STREAM_VOICE_CALL, AudioManager.AUDIOFOCUS_GAIN_TRANSIENT);\r\n\r\n\r\n                    if (result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED) {\r\n                        // Proceed with starting Bluetooth SCO and recording\r\n                        audioManager.setBluetoothScoOn(true);\r\n                        btnRecordPressed(null);\r\n                    }\r\n\r\n                    IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED);\r\n                    VoskActivity.this.registerReceiver(mBluetoothScoReceiver, intentFilter);\r\n\r\n\r\n\r\n  private BroadcastReceiver mBluetoothScoReceiver = new BroadcastReceiver() {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE, -1);\r\n\r\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\r\n                // Start recording audio\r\n                Log.d(&quot;audio connected&quot;,&quot;&quot;);\r\n\r\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\r\n                Log.d(&quot;audio disconnected&quot;,&quot;&quot;);\r\n            }\r\n        }\r\n    };\r\n```\r\n\r\n\r\n\r\n## Expected Behavior\r\nI expected that when I press the PTT button on my Inrico device, it would use its microphone to record my voice within the app.\r\n\r\n## Actual Behavior\r\nHowever, it seems that the recording is using the phone&#39;s built-in microphone instead of the Inrico PTT device microphone.\r\n","title":"Android Studio Java: Inrico PTT Bluetooth Device Not Recognizing Voice Input","body":"<p>Here's how I have configured Bluetooth connectivity in my Android app:\nJava Code for Bluetooth Connection:</p>\n<p>Here is the code to connect device</p>\n<pre><code>private void connectToDevice() {\n        // Establish Bluetooth connection\n        try {\n            UUID uuid = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n            bluetoothSocket = targetDevice.createRfcommSocketToServiceRecord(uuid);\n            bluetoothSocket.connect();\n            inputStream = bluetoothSocket.getInputStream();\n            listenForData();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Here with below code I am able to see my device</p>\n<pre><code>\n        AudioDeviceInfo[] audioDevices = new AudioDeviceInfo[0];\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n            audioDevices = audioManager.getDevices(AudioManager.GET_DEVICES_INPUTS);\n        }\n\n        microphoneList = new ArrayList&lt;&gt;();\n\n        for (AudioDeviceInfo deviceInfo : audioDevices) {\n            int deviceType = deviceInfo.getType();\n            if (deviceType == AudioDeviceInfo.TYPE_BUILTIN_MIC ||\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_SCO ||\n                    deviceType == AudioDeviceInfo.TYPE_BLUETOOTH_A2DP) {\n                microphoneList.add(deviceInfo);\n            }\n        }\n\n        String[] microphoneNames = new String[microphoneList.size()];\n        for (int i = 0; i &lt; microphoneList.size(); i++) {\n            microphoneNames[i] = microphoneList.get(i).getProductName().toString();\n        }\n\n</code></pre>\n<p>Here is the recording code</p>\n<pre><code>audioManager = (AudioManager) getSystemService(Context.AUDIO_SERVICE);\n                    int result = audioManager.requestAudioFocus(null, AudioManager.STREAM_VOICE_CALL, AudioManager.AUDIOFOCUS_GAIN_TRANSIENT);\n\n\n                    if (result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED) {\n                        // Proceed with starting Bluetooth SCO and recording\n                        audioManager.setBluetoothScoOn(true);\n                        btnRecordPressed(null);\n                    }\n\n                    IntentFilter intentFilter = new IntentFilter(AudioManager.ACTION_SCO_AUDIO_STATE_UPDATED);\n                    VoskActivity.this.registerReceiver(mBluetoothScoReceiver, intentFilter);\n\n\n\n  private BroadcastReceiver mBluetoothScoReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            int state = intent.getIntExtra(AudioManager.EXTRA_SCO_AUDIO_STATE, -1);\n\n            if (state == AudioManager.SCO_AUDIO_STATE_CONNECTED) {\n                // Start recording audio\n                Log.d(&quot;audio connected&quot;,&quot;&quot;);\n\n            } else if(state == AudioManager.SCO_AUDIO_STATE_DISCONNECTED){\n                Log.d(&quot;audio disconnected&quot;,&quot;&quot;);\n            }\n        }\n    };\n</code></pre>\n<h2>Expected Behavior</h2>\n<p>I expected that when I press the PTT button on my Inrico device, it would use its microphone to record my voice within the app.</p>\n<h2>Actual Behavior</h2>\n<p>However, it seems that the recording is using the phone's built-in microphone instead of the Inrico PTT device microphone.</p>\n"},{"tags":["java","maven","intellij-idea","connection-refused"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1694739865,"post_id":77109063,"comment_id":135934398,"body_markdown":"What’s in the `/Users/tyler/.m2/settings.xml` file? My guess would be that there is a mirror or proxy configured there. You might be able to get a more detailed error by running Maven on the command line with `-e`, such as `mvn -e clean install`","body":"What’s in the <code>&#47;Users&#47;tyler&#47;.m2&#47;settings.xml</code> file? My guess would be that there is a mirror or proxy configured there. You might be able to get a more detailed error by running Maven on the command line with <code>-e</code>, such as <code>mvn -e clean install</code>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1694744517,"post_id":77109063,"comment_id":135934720,"body_markdown":"are there non-https mirrors/repositories configured?","body":"are there non-https mirrors/repositories configured?"},{"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"score":0,"creation_date":1694812409,"post_id":77109063,"comment_id":135945471,"body_markdown":"The `settings.xml` file doesn&#39;t exist for me, but the same is true for my teammates, who are having no problems. Updated my question to include that, as well as noting that `mvn dependency:tree` works fine when running it in a terminal.","body":"The <code>settings.xml</code> file doesn&#39;t exist for me, but the same is true for my teammates, who are having no problems. Updated my question to include that, as well as noting that <code>mvn dependency:tree</code> works fine when running it in a terminal."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695027423,"creation_date":1695027423,"answer_id":77125764,"question_id":77109063,"body_markdown":"IDEA runs Maven Daemon as a separate process, which it communicates with using RMI/loopback.\r\nJudging from the error message you are getting, something is preventing IDEA from talking to Maven Daemon.\r\n\r\nThis is most often caused by firewalls and/or security solutions.\r\nSee also:\r\n\r\nhttps://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect\r\n\r\nNote that your computer seems to be using IPv6, which may make this more complicated.\r\nFor instance, IPv6 may have a different set of firewall/routing rules. You can try switching to IPv4 to see if that helps.","title":"&quot;Connection refused to host ::1&quot; when reloading Maven in IDEA","body":"<p>IDEA runs Maven Daemon as a separate process, which it communicates with using RMI/loopback.\nJudging from the error message you are getting, something is preventing IDEA from talking to Maven Daemon.</p>\n<p>This is most often caused by firewalls and/or security solutions.\nSee also:</p>\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/articles/360014262940-Unable-to-import-Maven-project-import-fails-with-error-Cannot-reconnect</a></p>\n<p>Note that your computer seems to be using IPv6, which may make this more complicated.\nFor instance, IPv6 may have a different set of firewall/routing rules. You can try switching to IPv4 to see if that helps.</p>\n"}],"owner":{"account_id":16642332,"reputation":75,"user_id":12027515,"display_name":"tlhinman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77125764,"answer_count":1,"score":0,"last_activity_date":1695027423,"creation_date":1694738967,"question_id":77109063,"body_markdown":"This is IDEA 2023.2.2 Ultimate, though I just updated today and this was certainly a problem before. M1 Macbook on Ventura 13.5.2.\r\n\r\nWhenever I open IDEA, I&#39;m presented with this in the Sync tab, with no further trace:\r\n```\r\njava.util.concurrent.ExecutionException: java.rmi.ConnectException: Connection refused to host: ::1; nested exception is: \r\n\tjava.net.ConnectException: Connection refused\r\n```\r\nI more or less ignored this until today, when I needed to introduce a new Maven dependency and found myself completely unable to do so. I added a new `&lt;dependency&gt;` entry to `pom.xml`, but there is no way to get IDEA to accept it. Clicking Reload All Maven Projects immediately gives me the above error every time. The new dependency never appears in External Libraries and it&#39;s unavailable when developing.\r\n\r\nStrangely, running `mvn dependency:tree` in my terminal, whether outside or within IDEA, seems to work fine. I see the new one in the list. But in neither case does it have any effect in IDEA.\r\n\r\nMy teammate has the same Maven configuration (which I&#39;ve never touched) and he was able to get the new dependency just fine after checking out my branch, so I&#39;m kind of going nuts here. Being on or off VPN doesn&#39;t seem to have any effect.\r\n\r\n`/etc/hosts`, if that matters, is\r\n```\r\n127.0.0.1       localhost\r\n255.255.255.255 broadcasthost\r\n::1             localhost\r\n```\r\n\r\n`/Users/tyler/.m2/settings.xml` doesn&#39;t exist for me. The same is true for my teammates, though.\r\n\r\nHere are some relevant Maven settings:\r\n\r\n[![Screenshot of my IDEA Maven settings][1]][1]\r\n\r\n\r\n[![Screenshot of more IDEA Maven settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BZe5Y.png\r\n  [2]: https://i.stack.imgur.com/5wB6u.png","title":"&quot;Connection refused to host ::1&quot; when reloading Maven in IDEA","body":"<p>This is IDEA 2023.2.2 Ultimate, though I just updated today and this was certainly a problem before. M1 Macbook on Ventura 13.5.2.</p>\n<p>Whenever I open IDEA, I'm presented with this in the Sync tab, with no further trace:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.rmi.ConnectException: Connection refused to host: ::1; nested exception is: \n    java.net.ConnectException: Connection refused\n</code></pre>\n<p>I more or less ignored this until today, when I needed to introduce a new Maven dependency and found myself completely unable to do so. I added a new <code>&lt;dependency&gt;</code> entry to <code>pom.xml</code>, but there is no way to get IDEA to accept it. Clicking Reload All Maven Projects immediately gives me the above error every time. The new dependency never appears in External Libraries and it's unavailable when developing.</p>\n<p>Strangely, running <code>mvn dependency:tree</code> in my terminal, whether outside or within IDEA, seems to work fine. I see the new one in the list. But in neither case does it have any effect in IDEA.</p>\n<p>My teammate has the same Maven configuration (which I've never touched) and he was able to get the new dependency just fine after checking out my branch, so I'm kind of going nuts here. Being on or off VPN doesn't seem to have any effect.</p>\n<p><code>/etc/hosts</code>, if that matters, is</p>\n<pre><code>127.0.0.1       localhost\n255.255.255.255 broadcasthost\n::1             localhost\n</code></pre>\n<p><code>/Users/tyler/.m2/settings.xml</code> doesn't exist for me. The same is true for my teammates, though.</p>\n<p>Here are some relevant Maven settings:</p>\n<p><a href=\"https://i.stack.imgur.com/BZe5Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BZe5Y.png\" alt=\"Screenshot of my IDEA Maven settings\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5wB6u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5wB6u.png\" alt=\"Screenshot of more IDEA Maven settings\" /></a></p>\n"},{"tags":["java","sockets","timer","network-programming","serversocket"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1695017824,"post_id":77124825,"comment_id":135962515,"body_markdown":"Have a look at the methods on the `Timer` class.","body":"Have a look at the methods on the <code>Timer</code> class."}],"answers":[{"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695027324,"creation_date":1695027324,"answer_id":77125751,"question_id":77124825,"body_markdown":"`TimerTask` has a `cancel` method \r\n\r\n&gt; Cancels this timer task. If the task has been scheduled for one-time execution and has not yet run, or has not yet been scheduled, it will never run. If the task has been scheduled for repeated execution, it will never run again. (If the task is running when this call occurs, the task will run to completion, but will never run again.)\r\n\r\nso you can cancle the task when SocketTimeoutException  occurs.\r\n\r\n    catch (SocketTimeoutException e) {\r\n          System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\r\n          cancel();\r\n    }\r\n\r\nThere is another way to implement scheduled tasks, can achieve more complex functions, for simple tasks,`Timer` is enough. \r\n\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n        executor.scheduleAtFixedRate(() -&gt; {\r\n            try {\r\n            } catch (Exception e) {\r\n                executor.shutdown();\r\n            }\r\n        }, 0, 5, TimeUnit.SECONDS);","title":"How to stop scheduleAtFixedRate after the condition fails","body":"<p><code>TimerTask</code> has a <code>cancel</code> method</p>\n<blockquote>\n<p>Cancels this timer task. If the task has been scheduled for one-time execution and has not yet run, or has not yet been scheduled, it will never run. If the task has been scheduled for repeated execution, it will never run again. (If the task is running when this call occurs, the task will run to completion, but will never run again.)</p>\n</blockquote>\n<p>so you can cancle the task when SocketTimeoutException  occurs.</p>\n<pre><code>catch (SocketTimeoutException e) {\n      System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\n      cancel();\n}\n</code></pre>\n<p>There is another way to implement scheduled tasks, can achieve more complex functions, for simple tasks,<code>Timer</code> is enough.</p>\n<pre><code>ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n    executor.scheduleAtFixedRate(() -&gt; {\n        try {\n        } catch (Exception e) {\n            executor.shutdown();\n        }\n    }, 0, 5, TimeUnit.SECONDS);\n</code></pre>\n"}],"owner":{"account_id":29399168,"reputation":1,"user_id":22579953,"display_name":"wei jong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695027324,"creation_date":1695016662,"question_id":77124825,"body_markdown":"I have a problem - \r\n\r\nStatement: I will be sending data from the client to the server and the server would be responding back with some data to the client after it receives the message from the client. The data that will be sent to the server will be sent in the certain frequency, and if I don&#39;t get the reply from the server in certain timeout, I should be displaying the message in my client that the &quot;**server is stateless and is not working**&quot;.\r\n\r\nBelow is my code and questions:\r\n```\r\n\r\npackage com.soc;\r\nimport java.io.*;\r\nimport java.net.*;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class LocalFaultDetector {\r\n    public static void main(String[] args) throws UnknownHostException, IOException {\r\n        Timer timer = new Timer();\r\n        int heartbeatFreq = 3000; // Configure your default frequency in milliseconds\r\n        String serverIP = &quot;localhost&quot;; // Replace with the IP address of your server\r\n        int serverPort = 8999; // Replace with the port your server is listening on\r\n        timer.scheduleAtFixedRate(new TimerTask() {\r\n            @Override\r\n            public void run() {\r\n                try(Socket socket = new Socket(serverIP, serverPort)) {\r\n\r\n                    // Send the message to Server\r\n                    PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\r\n                    out.println(&quot;Message from client to the server&quot;);\r\n\r\n                    // Print sending message on LFD1 console\r\n                    System.out.println(&quot;Sent message to server with the message&quot;);\r\n\r\n                    // Set a timeout for reading the response\r\n                    socket.setSoTimeout(timeout);\r\n\t\t    //IF THE TIMEOUT IS CROSSED, HOW DO I EXIT THE scheduleAtFixedRate loop.\r\n                    // Read the response from the server\r\n                    BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n                    String serverResponse = in.readLine();\r\n                    if(serverResponse != null){\r\n                        System.out.println(&quot;Received response from server: &quot; + serverResponse);\r\n                    } else {\r\n                        System.err.println(&quot;No response received from the server within the timeout.&quot;);\r\n                    }\r\n                } catch (SocketTimeoutException e) {\r\n                    System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\r\n                } catch (IOException e) {\r\n                    // Handle exceptions (e.g., server not responding)\r\n                    System.err.println(&quot;Error: &quot; + e.getMessage());\r\n                }\r\n            }\r\n        }, 0, heartbeatFreq);\r\n    }\r\n}\r\n```\r\n\r\nMy questions:\r\n\r\n1) If the timeout is crossed in `socket.setSoTimeout(timeout);`, how do I exit/break/close/cancel the `scheduleAtFixedRate `so that the client does not send the message to the server again?\r\n\r\n2) Is there any other optimal way to send the message from the client to the server in frequencies (ie. every 5 seconds) and wait for the reply from the server and check if I get the messages back from the server. Any suggestions would be helpful.\r\n\r\nI have tried my best and I am very new to the network programming. Above is the code that I have tried.","title":"How to stop scheduleAtFixedRate after the condition fails","body":"<p>I have a problem -</p>\n<p>Statement: I will be sending data from the client to the server and the server would be responding back with some data to the client after it receives the message from the client. The data that will be sent to the server will be sent in the certain frequency, and if I don't get the reply from the server in certain timeout, I should be displaying the message in my client that the &quot;<strong>server is stateless and is not working</strong>&quot;.</p>\n<p>Below is my code and questions:</p>\n<pre><code>\npackage com.soc;\nimport java.io.*;\nimport java.net.*;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class LocalFaultDetector {\n    public static void main(String[] args) throws UnknownHostException, IOException {\n        Timer timer = new Timer();\n        int heartbeatFreq = 3000; // Configure your default frequency in milliseconds\n        String serverIP = &quot;localhost&quot;; // Replace with the IP address of your server\n        int serverPort = 8999; // Replace with the port your server is listening on\n        timer.scheduleAtFixedRate(new TimerTask() {\n            @Override\n            public void run() {\n                try(Socket socket = new Socket(serverIP, serverPort)) {\n\n                    // Send the message to Server\n                    PrintWriter out = new PrintWriter(socket.getOutputStream(), true);\n                    out.println(&quot;Message from client to the server&quot;);\n\n                    // Print sending message on LFD1 console\n                    System.out.println(&quot;Sent message to server with the message&quot;);\n\n                    // Set a timeout for reading the response\n                    socket.setSoTimeout(timeout);\n            //IF THE TIMEOUT IS CROSSED, HOW DO I EXIT THE scheduleAtFixedRate loop.\n                    // Read the response from the server\n                    BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n                    String serverResponse = in.readLine();\n                    if(serverResponse != null){\n                        System.out.println(&quot;Received response from server: &quot; + serverResponse);\n                    } else {\n                        System.err.println(&quot;No response received from the server within the timeout.&quot;);\n                    }\n                } catch (SocketTimeoutException e) {\n                    System.err.println(&quot;Timeout waiting for a response from the server.&quot;);\n                } catch (IOException e) {\n                    // Handle exceptions (e.g., server not responding)\n                    System.err.println(&quot;Error: &quot; + e.getMessage());\n                }\n            }\n        }, 0, heartbeatFreq);\n    }\n}\n</code></pre>\n<p>My questions:</p>\n<ol>\n<li><p>If the timeout is crossed in <code>socket.setSoTimeout(timeout);</code>, how do I exit/break/close/cancel the <code>scheduleAtFixedRate </code>so that the client does not send the message to the server again?</p>\n</li>\n<li><p>Is there any other optimal way to send the message from the client to the server in frequencies (ie. every 5 seconds) and wait for the reply from the server and check if I get the messages back from the server. Any suggestions would be helpful.</p>\n</li>\n</ol>\n<p>I have tried my best and I am very new to the network programming. Above is the code that I have tried.</p>\n"},{"tags":["java","jvm","java-11"],"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":3,"creation_date":1694805550,"post_id":77114812,"comment_id":135944433,"body_markdown":"from the `java` tool [documentation](https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs): &quot;If the class identifies an existing file that has a .java extension, or if the --source option is specified, then source-file mode is selected. The source file is then **compiled** and run. ... In source-file mode, the effect is as though the source file is **compiled into memory**,&quot; (my emphasis)","body":"from the <code>java</code> tool <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html#using-source-file-mode-to-launch-single-file-source-code-programs\" rel=\"nofollow noreferrer\">documentation</a>: &quot;If the class identifies an existing file that has a .java extension, or if the --source option is specified, then source-file mode is selected. The source file is then <b>compiled</b> and run. ... In source-file mode, the effect is as though the source file is <b>compiled into memory</b>,&quot; (my emphasis)"},{"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1694825612,"post_id":77114812,"comment_id":135946543,"body_markdown":"Wrote [an article](https://medium.com/@nigamnaman/introduction-to-java-simplified-56c8b887a799) some time back over the attempt to try out JEP-330 and a brief of what it could possibly mean. Open to feedback to improve :)","body":"Wrote <a href=\"https://medium.com/@nigamnaman/introduction-to-java-simplified-56c8b887a799\" rel=\"nofollow noreferrer\">an article</a> some time back over the attempt to try out JEP-330 and a brief of what it could possibly mean. Open to feedback to improve :)"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1694807720,"creation_date":1694805332,"answer_id":77114863,"question_id":77114812,"body_markdown":"## tl;dr\r\n\r\nIn modern Java, as a convenience to beginner Java students, the *java* app will graciously compile, and then run, a `.java` file.\r\n\r\nThink of it as *java* app detecting a source-code file, then sub-contracting the compilation work out to *javac* app, caching the compiled class in memory, and lastly continuing onwards to run the newly compiled class. \r\n\r\n## Details\r\n\r\nA [JDK][1] comes bundled with a [few dozen tools][2]. A couple of these are crucial:\r\n\r\n - [*javac*][3] —&#160;Compiles `.java` file of source code text into `.class` file of bytecode. \r\n - [*java*][4] — Execute that `.class` file by launching a [JVM][5].\r\n\r\nThe process steps are:\r\n\r\n 1. You write Java source code in a `.java` file, including a `main` method inside a `class` definition. \r\n 2. You submit that file to a compiler, such as the *javac* app bundled with every [JDK][1]. \r\n 3. The compiler outputs a `.class` file.\r\n 4. You execute (run) the `main` method by launching the *java* app bundled with every JDK.\r\n \r\nYou can skip some steps.\r\n\r\n - **Compile *and* run a single file:**&lt;br/&gt;As of Java 11, you can point the *java* app to a `.java` file. The *java* app will automatically compile first, as if *javac* were called on your behalf. Then the *java* app will go on to run the newly compiled class. \r\n   - No `.class` file is written to storage. The compiled class is cached in memory.\r\n   - See [*JEP 330: Launch Single-File Source-Code Programs*][6] for all the details.\r\n   - This behavior is what you noted: *However, `java HelloWorld.java` was executed properly without making HelloWorld.class.*\r\n - **Simplified `main`**&lt;br&gt;As a preview feature in Java 21, you can: \r\n   - Write your `java` file without declaring a class. Just write the `main` method alone, with nothing around it.\r\n   - Drop the `public static` from your `main` method declaration.\r\n   - See [*JEP 445: Unnamed Classes and Instance Main Methods (Preview)*][7] for details.\r\n\r\n### Motivation\r\n\r\nThe Java team is making concerted efforts to ease the way for beginning Java programmers, to smooth over the initial speed bumps.  They are trying to mask some of the elaborate ceremony, and make the tooling more friendly and accommodating. \r\n\r\nThe underlying structures and features of Java are still in place. This is not a “dumbing-down” of Java. These efforts are just attempts at making reasonable accommodations for beginners.\r\n\r\n### *Hello World*\r\n\r\nCombining these features, getting started with a *Hello World* app is a simple as writing the following in a `HelloWorld.java` file:\r\n\r\n```java\r\nvoid main() {\r\n    System.out.println(&quot;Hello, World!&quot;);\r\n}\r\n```\r\n\r\n… and then on the command-line calling:\r\n\r\n```bash\r\njava HelloWorld.java\r\n```\r\n\r\nResult on the console:\r\n\r\n&gt;Hello, World!\r\n\r\nThat is a vast reduction in labor and confusion for a brand-new student of Java.\r\n\r\n\r\n----------\r\n\r\n\r\n## *jshell*\r\n\r\nBy the way… Another piece of making Java easier to use is [*jshell*][8], a [REPL][9] for Java. \r\n\r\nBoth beginners and pros find *jshell* handy for running short bits of Java with immediate feedback.\r\n\r\n## *BlueJ*\r\n\r\nAnother useful tool for beginners is [*BlueJ*][10], an [IDE][11] designed for students. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/index.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\r\n  [5]: https://en.wikipedia.org/wiki/Java_virtual_machine\r\n  [6]: https://openjdk.org/jeps/330\r\n  [7]: https://openjdk.org/jeps/445\r\n  [8]: https://docs.oracle.com/en/java/javase/20/docs/specs/man/jshell.html\r\n  [9]: https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\r\n  [10]: https://en.wikipedia.org/wiki/BlueJ\r\n  [11]: https://en.wikipedia.org/wiki/Integrated_development_environment","title":"How do java.exe execute a java source code?","body":"<h2>tl;dr</h2>\n<p>In modern Java, as a convenience to beginner Java students, the <em>java</em> app will graciously compile, and then run, a <code>.java</code> file.</p>\n<p>Think of it as <em>java</em> app detecting a source-code file, then sub-contracting the compilation work out to <em>javac</em> app, caching the compiled class in memory, and lastly continuing onwards to run the newly compiled class.</p>\n<h2>Details</h2>\n<p>A <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a> comes bundled with a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/index.html\" rel=\"nofollow noreferrer\">few dozen tools</a>. A couple of these are crucial:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\"><em>javac</em></a> — Compiles <code>.java</code> file of source code text into <code>.class</code> file of bytecode.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/java.html\" rel=\"nofollow noreferrer\"><em>java</em></a> — Execute that <code>.class</code> file by launching a <a href=\"https://en.wikipedia.org/wiki/Java_virtual_machine\" rel=\"nofollow noreferrer\">JVM</a>.</li>\n</ul>\n<p>The process steps are:</p>\n<ol>\n<li>You write Java source code in a <code>.java</code> file, including a <code>main</code> method inside a <code>class</code> definition.</li>\n<li>You submit that file to a compiler, such as the <em>javac</em> app bundled with every <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>.</li>\n<li>The compiler outputs a <code>.class</code> file.</li>\n<li>You execute (run) the <code>main</code> method by launching the <em>java</em> app bundled with every JDK.</li>\n</ol>\n<p>You can skip some steps.</p>\n<ul>\n<li><strong>Compile <em>and</em> run a single file:</strong><br/>As of Java 11, you can point the <em>java</em> app to a <code>.java</code> file. The <em>java</em> app will automatically compile first, as if <em>javac</em> were called on your behalf. Then the <em>java</em> app will go on to run the newly compiled class.\n<ul>\n<li>No <code>.class</code> file is written to storage. The compiled class is cached in memory.</li>\n<li>See <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\"><em>JEP 330: Launch Single-File Source-Code Programs</em></a> for all the details.</li>\n<li>This behavior is what you noted: <em>However, <code>java HelloWorld.java</code> was executed properly without making HelloWorld.class.</em></li>\n</ul>\n</li>\n<li><strong>Simplified <code>main</code></strong><br>As a preview feature in Java 21, you can:\n<ul>\n<li>Write your <code>java</code> file without declaring a class. Just write the <code>main</code> method alone, with nothing around it.</li>\n<li>Drop the <code>public static</code> from your <code>main</code> method declaration.</li>\n<li>See <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\"><em>JEP 445: Unnamed Classes and Instance Main Methods (Preview)</em></a> for details.</li>\n</ul>\n</li>\n</ul>\n<h3>Motivation</h3>\n<p>The Java team is making concerted efforts to ease the way for beginning Java programmers, to smooth over the initial speed bumps.  They are trying to mask some of the elaborate ceremony, and make the tooling more friendly and accommodating.</p>\n<p>The underlying structures and features of Java are still in place. This is not a “dumbing-down” of Java. These efforts are just attempts at making reasonable accommodations for beginners.</p>\n<h3><em>Hello World</em></h3>\n<p>Combining these features, getting started with a <em>Hello World</em> app is a simple as writing the following in a <code>HelloWorld.java</code> file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void main() {\n    System.out.println(&quot;Hello, World!&quot;);\n}\n</code></pre>\n<p>… and then on the command-line calling:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java HelloWorld.java\n</code></pre>\n<p>Result on the console:</p>\n<blockquote>\n<p>Hello, World!</p>\n</blockquote>\n<p>That is a vast reduction in labor and confusion for a brand-new student of Java.</p>\n<hr />\n<h2><em>jshell</em></h2>\n<p>By the way… Another piece of making Java easier to use is <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/man/jshell.html\" rel=\"nofollow noreferrer\"><em>jshell</em></a>, a <a href=\"https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop\" rel=\"nofollow noreferrer\">REPL</a> for Java.</p>\n<p>Both beginners and pros find <em>jshell</em> handy for running short bits of Java with immediate feedback.</p>\n<h2><em>BlueJ</em></h2>\n<p>Another useful tool for beginners is <a href=\"https://en.wikipedia.org/wiki/BlueJ\" rel=\"nofollow noreferrer\"><em>BlueJ</em></a>, an <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"nofollow noreferrer\">IDE</a> designed for students.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1694825521,"creation_date":1694825521,"answer_id":77115950,"question_id":77114812,"body_markdown":"As mentioned in the [JEP-330](https://openjdk.org/jeps/330), for your example\r\n\r\n    java HelloWorld.java\r\n\r\nis informally equivalent to\r\n\r\n    javac -d &lt;memory&gt; HelloWorld.java\r\n    java -cp &lt;memory&gt; hello.World\r\n\r\n","title":"How do java.exe execute a java source code?","body":"<p>As mentioned in the <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">JEP-330</a>, for your example</p>\n<pre><code>java HelloWorld.java\n</code></pre>\n<p>is informally equivalent to</p>\n<pre><code>javac -d &lt;memory&gt; HelloWorld.java\njava -cp &lt;memory&gt; hello.World\n</code></pre>\n"},{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695027282,"creation_date":1695027282,"answer_id":77125744,"question_id":77114812,"body_markdown":"Since Java 9 we have `jshell` as a REPL tools for Java language (REPL as in Python), an interactive interpreter of Java code source.\r\n\r\nSince Java 11, you can either execute JVM bytecode or interpret java source code (source file mode) with the help of the `java` command (see https://openjdk.org/jeps/330). An excerpt of this document is:\r\n\r\n&gt; As of JDK 10, the java launcher operates in three modes: launching a\r\n&gt; class file, launching the main class of a JAR file, or launching the\r\n&gt; main class of a module. Here **we add a new, fourth mode: launching a\r\n&gt; class declared in a source file**.\r\n\r\nHow the interpreter works? That is (almost) of no interest, but highly probable that some compilation steps are made under the hood.","title":"How do java.exe execute a java source code?","body":"<p>Since Java 9 we have <code>jshell</code> as a REPL tools for Java language (REPL as in Python), an interactive interpreter of Java code source.</p>\n<p>Since Java 11, you can either execute JVM bytecode or interpret java source code (source file mode) with the help of the <code>java</code> command (see <a href=\"https://openjdk.org/jeps/330\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/330</a>). An excerpt of this document is:</p>\n<blockquote>\n<p>As of JDK 10, the java launcher operates in three modes: launching a\nclass file, launching the main class of a JAR file, or launching the\nmain class of a module. Here <strong>we add a new, fourth mode: launching a\nclass declared in a source file</strong>.</p>\n</blockquote>\n<p>How the interpreter works? That is (almost) of no interest, but highly probable that some compilation steps are made under the hood.</p>\n"}],"owner":{"account_id":14322433,"reputation":23,"user_id":10345397,"display_name":"Jay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77114863,"answer_count":3,"score":2,"last_activity_date":1695027282,"creation_date":1694804675,"question_id":77114812,"body_markdown":"When I had only `HelloWorld.java` in the directory without `HelloWorld.class`, `java HelloWorld` in Windows cmd raised a class not found exception. However, `java HelloWorld.java` was executed properly without making `HelloWorld.class`.\r\n\r\nFrom what I understand, JVM reads the bytecodes of a file with .class extension, but fails to read .java file. I understand that java.exe is just a launcher to create JVM and run it, but am now confused how it can work properly with java code, not byte code.","title":"How do java.exe execute a java source code?","body":"<p>When I had only <code>HelloWorld.java</code> in the directory without <code>HelloWorld.class</code>, <code>java HelloWorld</code> in Windows cmd raised a class not found exception. However, <code>java HelloWorld.java</code> was executed properly without making <code>HelloWorld.class</code>.</p>\n<p>From what I understand, JVM reads the bytecodes of a file with .class extension, but fails to read .java file. I understand that java.exe is just a launcher to create JVM and run it, but am now confused how it can work properly with java code, not byte code.</p>\n"},{"tags":["java","arrays","private-constructor"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695026207,"post_id":77125616,"comment_id":135963955,"body_markdown":"Are you sure you are passing the argument to the second class&#39; `main` correctly? If you don&#39;t the `args` will be empty and getting the first element `[0]` will throw that error.","body":"Are you sure you are passing the argument to the second class&#39; <code>main</code> correctly? If you don&#39;t the <code>args</code> will be empty and getting the first element <code>[0]</code> will throw that error."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695026327,"post_id":77125616,"comment_id":135963974,"body_markdown":"&quot;I&#39;m 95% sure that this error is because connections ...&quot;: If you want to be 100% sure, look at the stack trace. It&#39;ll tell you exactly on which line the error occurs. My guess would be it&#39;s the `main` function itself, not the `ConnectionManager`.","body":"&quot;I&#39;m 95% sure that this error is because connections ...&quot;: If you want to be 100% sure, look at the stack trace. It&#39;ll tell you exactly on which line the error occurs. My guess would be it&#39;s the <code>main</code> function itself, not the <code>ConnectionManager</code>."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1695026432,"post_id":77125616,"comment_id":135963993,"body_markdown":"Where does `size` come from in `new Connection[size]`? The size of your array seems not to be related to the one passed to the `ConnectionManager` constructor.","body":"Where does <code>size</code> come from in <code>new Connection[size]</code>? The size of your array seems not to be related to the one passed to the <code>ConnectionManager</code> constructor."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1695026656,"post_id":77125616,"comment_id":135964038,"body_markdown":"Your `Connection#getConnection` method is a little silly. Outside that, the idea of making the array elements null in order to retrieve sole access to a connection is a bit misplaced: this is not thread-safe code, and it&#39;s boilerplate for single-threaded.","body":"Your <code>Connection#getConnection</code> method is a little silly. Outside that, the idea of making the array elements null in order to retrieve sole access to a connection is a bit misplaced: this is not thread-safe code, and it&#39;s boilerplate for single-threaded."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695026666,"post_id":77125616,"comment_id":135964040,"body_markdown":"Is this an exercise you&#39;re doing or a real connection pool?","body":"Is this an exercise you&#39;re doing or a real connection pool?"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026698,"post_id":77125616,"comment_id":135964050,"body_markdown":"@Ivar `size` is a field of `ConnectionManager`. Do you want to tell space allocation for `connections` happens before calling the constructor? But then the compiler would have produced an error, wouldn&#39;t it?\n\n\n\n@Jorn I&#39;m sure, moreover, if I substitute `args[0]` for a literal, it also doesn&#39;t work.","body":"@Ivar <code>size</code> is a field of <code>ConnectionManager</code>. Do you want to tell space allocation for <code>connections</code> happens before calling the constructor? But then the compiler would have produced an error, wouldn&#39;t it?    @Jorn I&#39;m sure, moreover, if I substitute <code>args[0]</code> for a literal, it also doesn&#39;t work."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1695026778,"post_id":77125616,"comment_id":135964060,"body_markdown":"It is definitely **not** the same. In example 1 you&#39;re creating the `Test` array after you got the size input. In example 2 you&#39;re creating the array **before** you set the size via the constructor.","body":"It is definitely <b>not</b> the same. In example 1 you&#39;re creating the <code>Test</code> array after you got the size input. In example 2 you&#39;re creating the array <b>before</b> you set the size via the constructor."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026809,"post_id":77125616,"comment_id":135964064,"body_markdown":"@g00se This is an exercise from TiJ4. \n\nHello, g00se, BTW. I remember you from different question.","body":"@g00se This is an exercise from TiJ4.   Hello, g00se, BTW. I remember you from different question."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1695026811,"post_id":77125616,"comment_id":135964065,"body_markdown":"Correct, your `connections` field is initialized before the constructor is called. So you have a zero-sized `connections` array, which then fails on `connections[0]` in the constructor.","body":"Correct, your <code>connections</code> field is initialized before the constructor is called. So you have a zero-sized <code>connections</code> array, which then fails on <code>connections[0]</code> in the constructor."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695026957,"post_id":77125616,"comment_id":135964087,"body_markdown":"@QBrute So I suggested right? Field initialization happens **before** the constructor? And that&#39;s the problem? \n\nOH, YES, MAN, YES!!! I just put array initialization in the constructor after assigning `size`. Now it works!\n\nOrder of initialization, yeah, one should know it. Sorry for an ignorant question...\n\nThank you guys!!!","body":"@QBrute So I suggested right? Field initialization happens <b>before</b> the constructor? And that&#39;s the problem?   OH, YES, MAN, YES!!! I just put array initialization in the constructor after assigning <code>size</code>. Now it works!  Order of initialization, yeah, one should know it. Sorry for an ignorant question...  Thank you guys!!!"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027042,"post_id":77125616,"comment_id":135964101,"body_markdown":"Somebody may post your comment as an answer. I&#39;ll accept, and you&#39;ll get some points.","body":"Somebody may post your comment as an answer. I&#39;ll accept, and you&#39;ll get some points."},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027291,"post_id":77125616,"comment_id":135964147,"body_markdown":"What I don&#39;t get now is why it is so. There&#39;s no object before the constructor. And how you can initialize a field of an object before it&#39;s created (via constructor call)?!","body":"What I don&#39;t get now is why it is so. There&#39;s no object before the constructor. And how you can initialize a field of an object before it&#39;s created (via constructor call)?!"},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1695027359,"post_id":77125616,"comment_id":135964156,"body_markdown":"@Нормальныйдневник No you are wrong: the object is created, it is just not fully initialized before finishing constructor","body":"@Нормальныйдневник No you are wrong: the object is created, it is just not fully initialized before finishing constructor"},{"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"score":0,"creation_date":1695027553,"post_id":77125616,"comment_id":135964185,"body_markdown":"@AdrianShum Maybe fields are implicitly initialized in the beginning of a constructor, before its first explicit line...","body":"@AdrianShum Maybe fields are implicitly initialized in the beginning of a constructor, before its first explicit line..."},{"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"score":0,"creation_date":1695027721,"post_id":77125616,"comment_id":135964218,"body_markdown":"@Нормальныйдневник yup. There are other initialization works happens outside your explicitly-written constructor","body":"@Нормальныйдневник yup. There are other initialization works happens outside your explicitly-written constructor"}],"answers":[{"tags":[],"owner":{"account_id":169237,"reputation":39170,"user_id":395202,"accept_rate":59,"display_name":"Adrian Shum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695026741,"creation_date":1695026741,"answer_id":77125684,"question_id":77125616,"body_markdown":"It is simply because the array was created before your constructor:\r\n\r\n```\r\nclass ConnectionManager {\r\n    private int size;\r\n\r\n    // you tried to create array with size, for which is not initialised yet, \r\n    // which is 0 for int instance variable\r\n    private Connection[] connections = new Connection[size];  \r\n\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;  // this assignment happens after your array creation\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n\r\n \r\n```\r\n(Rearranged the code slightly)\r\n\r\nThose initialisation statements (e.g. `private Connection[] connections = new Connection[size];`) are performed before your Constructor logic.  Which means, when it tried to create the `connections` array, `size` is still 0, hence the array is created with 0 size.\r\n\r\nThe proper way is\r\n```\r\nclass ConnectionManager {\r\n    private int size;\r\n    private Connection[] connections;\r\n\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;  // this is actually superfluous. \r\n                           // You can always get it directly from array&#39;s size\r\n        this.connections = new Connection[size];\r\n\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n```\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>It is simply because the array was created before your constructor:</p>\n<pre><code>class ConnectionManager {\n    private int size;\n\n    // you tried to create array with size, for which is not initialised yet, \n    // which is 0 for int instance variable\n    private Connection[] connections = new Connection[size];  \n\n\n    public ConnectionManager(int size) {\n        this.size = size;  // this assignment happens after your array creation\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n\n \n</code></pre>\n<p>(Rearranged the code slightly)</p>\n<p>Those initialisation statements (e.g. <code>private Connection[] connections = new Connection[size];</code>) are performed before your Constructor logic.  Which means, when it tried to create the <code>connections</code> array, <code>size</code> is still 0, hence the array is created with 0 size.</p>\n<p>The proper way is</p>\n<pre><code>class ConnectionManager {\n    private int size;\n    private Connection[] connections;\n\n\n    public ConnectionManager(int size) {\n        this.size = size;  // this is actually superfluous. \n                           // You can always get it directly from array's size\n        this.connections = new Connection[size];\n\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3544434,"reputation":1492,"user_id":2960757,"display_name":"CodeTheorist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026963,"creation_date":1695026963,"answer_id":77125706,"question_id":77125616,"body_markdown":"This error is happening in the latter 2 classes because they have constructors but doesn&#39;t occur on `Test` because it doesn&#39;t have a constuctor.\r\n\r\nWhat this shows is that `arg[0]` is actually null or undefined, but it doesn&#39;t matter with `Test` as this value isn&#39;t actually being used in the constructor.  In the latter 2 classes, the constructors are trying to assign null or undefined to a primitive `int` rather than an `Integer`, which can&#39;t be null, thus producing the error.  As `arg[0]` is null or undefined, this shows that the app is actually being run without arguments.  The only other problem may be if `arg[0]` is a string which can&#39;t be parsed as a number, but I&#39;m pretty confident this would give you a parsing exception.\r\n\r\nPlease try running the app with an extra argument that can be parsed to an integer and see if the error still persists.  This will tell you for sure if this is the case.  Furthermore, you should add a constructor to `Test` to confirm this is the problem, as `Test` should throw the same exception if it has a constructor and this is indeed the correct error.\r\n\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>This error is happening in the latter 2 classes because they have constructors but doesn't occur on <code>Test</code> because it doesn't have a constuctor.</p>\n<p>What this shows is that <code>arg[0]</code> is actually null or undefined, but it doesn't matter with <code>Test</code> as this value isn't actually being used in the constructor.  In the latter 2 classes, the constructors are trying to assign null or undefined to a primitive <code>int</code> rather than an <code>Integer</code>, which can't be null, thus producing the error.  As <code>arg[0]</code> is null or undefined, this shows that the app is actually being run without arguments.  The only other problem may be if <code>arg[0]</code> is a string which can't be parsed as a number, but I'm pretty confident this would give you a parsing exception.</p>\n<p>Please try running the app with an extra argument that can be parsed to an integer and see if the error still persists.  This will tell you for sure if this is the case.  Furthermore, you should add a constructor to <code>Test</code> to confirm this is the problem, as <code>Test</code> should throw the same exception if it has a constructor and this is indeed the correct error.</p>\n"},{"tags":[],"owner":{"account_id":2552681,"reputation":2752,"user_id":2216148,"accept_rate":100,"display_name":"Rodney"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026967,"creation_date":1695026967,"answer_id":77125707,"question_id":77125616,"body_markdown":"For a zero length array, no index value is valid.\r\n\r\nThis is no index 1, no index 0, no index *anything*.\r\n\r\n```java\r\nfor (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\r\n```\r\n\r\nThis test doesn&#39;t throw because it iterates all the valid indecies of the test array, from zero to size-1. If size is zero the loop never runs.\r\n","title":"Index 0 out of bounds for length 0 — why?","body":"<p>For a zero length array, no index value is valid.</p>\n<p>This is no index 1, no index 0, no index <em>anything</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\n</code></pre>\n<p>This test doesn't throw because it iterates all the valid indecies of the test array, from zero to size-1. If size is zero the loop never runs.</p>\n"}],"owner":{"account_id":22033184,"reputation":5,"user_id":21005435,"display_name":"Нормальный дневник"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77125684,"answer_count":3,"score":-1,"last_activity_date":1695026967,"creation_date":1695026091,"question_id":77125616,"body_markdown":"This code works:\r\n\r\n```\r\nclass Test {\r\n    static int size;\r\n}\r\n\r\npublic class E08_ConnectionApp {\r\n    public static void main(String[] args) {\r\n        Test.size = Integer.parseInt(args[0]);\r\n        Test[] test = new Test[Test.size];\r\n        for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\r\n    }\r\n}\r\n```\r\n\r\nBut when I do **THE SAME** for other classes, I get the error from the title. I don&#39;t understand what&#39;s wrong. Please, tell me.\r\n\r\nThis code doesn&#39;t work:\r\n\r\n```\r\nclass Connection {\r\n    private int ID;\r\n\r\n    private Connection(int ID) {\r\n        this.ID = ID;\r\n\r\n        print(&quot;Connection number &quot; + ID + &quot; created.&quot;);\r\n    }\r\n\r\n    static Connection createNewConnection(int ID) { return new Connection(ID); }\r\n\r\n    Connection getConnection() { return this; }\r\n\r\n    public int getID() {\r\n        return ID;\r\n    }\r\n}\r\nclass ConnectionManager {\r\n    private int size;\r\n\r\n    public ConnectionManager(int size) {\r\n        this.size = size;\r\n\r\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\r\n    }\r\n\r\n    private Connection[] connections = new Connection[size];\r\n\r\n    public Connection getAvailableConnection() {\r\n        for (int i = 0; i &lt; size; i++)\r\n            if (connections[i] != null) {\r\n                Connection temp = connections[i].getConnection();\r\n                connections[i] = null;\r\n                print(&quot;Connection #&quot; + temp.getID() + &quot; fetched.&quot;);\r\n                return temp;\r\n            }\r\n\r\n        print(&quot;No connections available...&quot;);\r\n        return null;\r\n    }\r\n}\r\n\r\npublic class E08_ConnectionApp {\r\n    public static void main(String[] args) {\r\n        ConnectionManager connectionManager = new ConnectionManager(Integer.parseInt(args[0]));\r\n    }\r\n}\r\n```\r\nWhen debugging, I get an error from the title in this line:\r\n\r\n`for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);`\r\n\r\nI&#39;m 95% sure that this error is because `connections`, although has space allocated for it (an array of size 5, which is an argument of the program), contains `null` references to `Connection` objects. But what I&#39;m trying to do is actually initialize this array, to attach array references to actual objects. If I&#39;m doing it wrong, what is the right way?\r\n\r\nI&#39;m thinking about some bad settings in my project or maybe IntelliJ IDEA bug, but the latter is *highly unlikely*.\r\n\r\nThanks in advance for your answers.\r\n\r\nI tried google the error and thinking for myself, I tried various ways to reproduce the problem, but in `Test` everything works as expected...","title":"Index 0 out of bounds for length 0 — why?","body":"<p>This code works:</p>\n<pre><code>class Test {\n    static int size;\n}\n\npublic class E08_ConnectionApp {\n    public static void main(String[] args) {\n        Test.size = Integer.parseInt(args[0]);\n        Test[] test = new Test[Test.size];\n        for (int i = 0; i &lt; Test.size; i++) test[i] = new Test();\n    }\n}\n</code></pre>\n<p>But when I do <strong>THE SAME</strong> for other classes, I get the error from the title. I don't understand what's wrong. Please, tell me.</p>\n<p>This code doesn't work:</p>\n<pre><code>class Connection {\n    private int ID;\n\n    private Connection(int ID) {\n        this.ID = ID;\n\n        print(&quot;Connection number &quot; + ID + &quot; created.&quot;);\n    }\n\n    static Connection createNewConnection(int ID) { return new Connection(ID); }\n\n    Connection getConnection() { return this; }\n\n    public int getID() {\n        return ID;\n    }\n}\nclass ConnectionManager {\n    private int size;\n\n    public ConnectionManager(int size) {\n        this.size = size;\n\n        for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);\n    }\n\n    private Connection[] connections = new Connection[size];\n\n    public Connection getAvailableConnection() {\n        for (int i = 0; i &lt; size; i++)\n            if (connections[i] != null) {\n                Connection temp = connections[i].getConnection();\n                connections[i] = null;\n                print(&quot;Connection #&quot; + temp.getID() + &quot; fetched.&quot;);\n                return temp;\n            }\n\n        print(&quot;No connections available...&quot;);\n        return null;\n    }\n}\n\npublic class E08_ConnectionApp {\n    public static void main(String[] args) {\n        ConnectionManager connectionManager = new ConnectionManager(Integer.parseInt(args[0]));\n    }\n}\n</code></pre>\n<p>When debugging, I get an error from the title in this line:</p>\n<p><code>for (int i = 0; i &lt; size; i++) connections[i] = Connection.createNewConnection(i + 1);</code></p>\n<p>I'm 95% sure that this error is because <code>connections</code>, although has space allocated for it (an array of size 5, which is an argument of the program), contains <code>null</code> references to <code>Connection</code> objects. But what I'm trying to do is actually initialize this array, to attach array references to actual objects. If I'm doing it wrong, what is the right way?</p>\n<p>I'm thinking about some bad settings in my project or maybe IntelliJ IDEA bug, but the latter is <em>highly unlikely</em>.</p>\n<p>Thanks in advance for your answers.</p>\n<p>I tried google the error and thinking for myself, I tried various ways to reproduce the problem, but in <code>Test</code> everything works as expected...</p>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1695039912,"post_id":77125676,"comment_id":135966599,"body_markdown":"Latest Android Gradle tools require AFAIR Java 17. You can change JDK for Gradle in AS settings and user the built-in JDK. https://stackoverflow.com/a/76138830/150978","body":"Latest Android Gradle tools require AFAIR Java 17. You can change JDK for Gradle in AS settings and user the built-in JDK. <a href=\"https://stackoverflow.com/a/76138830/150978\">stackoverflow.com/a/76138830/150978</a>"},{"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"score":0,"creation_date":1695042808,"post_id":77125676,"comment_id":135967251,"body_markdown":"@Robert thankyou so much. It worked. How do i add your comment as solution.","body":"@Robert thankyou so much. It worked. How do i add your comment as solution."}],"owner":{"account_id":20670469,"reputation":87,"user_id":15176346,"display_name":"Oseamiya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":963,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695026660,"creation_date":1695026660,"question_id":77125676,"body_markdown":"I&#39;m running the most recent version of Android Studio (Giraffe). I created a new application and added a new module . Then I did nothing; I attempted to assemble the release but received this problem. \r\n\r\nI tried fixing the problem by changing Gradle JDK to JDK 11 but still I am getting this error. \r\n\r\n```\r\n* What went wrong:\r\nA problem occurred configuring root project &#39;My Application&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.1\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.1\r\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.0&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8      \r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.0&#39;)\r\n```\r\n\r\nI even tried by adding this to my build.gradle\r\n```\r\ncompileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n```\r\nBut this couldn&#39;t help too. Help needed.","title":"Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8","body":"<p>I'm running the most recent version of Android Studio (Giraffe). I created a new application and added a new module . Then I did nothing; I attempted to assemble the release but received this problem.</p>\n<p>I tried fixing the problem by changing Gradle JDK to JDK 11 but still I am getting this error.</p>\n<pre><code>* What went wrong:\nA problem occurred configuring root project 'My Application'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:8.1.1.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:8.1.1\n         project : &gt; com.android.library:com.android.library.gradle.plugin:8.1.1\n      &gt; No matching variant of com.android.tools.build:gradle:8.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.0' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:8.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 11 and the consumer needed a component for use during runtime, compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:8.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component, compatible with Java 11 and the consumer needed a component, compatible with Java 8      \n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:8.1.1 declares a component for use during runtime, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '8.0')\n</code></pre>\n<p>I even tried by adding this to my build.gradle</p>\n<pre><code>compileOptions {\n        sourceCompatibility JavaVersion.VERSION_11\n        targetCompatibility JavaVersion.VERSION_11\n    }\n</code></pre>\n<p>But this couldn't help too. Help needed.</p>\n"},{"tags":["java","oracle","spring-boot","macos","testcontainers"],"comments":[{"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"score":3,"creation_date":1694987786,"post_id":77123724,"comment_id":135960363,"body_markdown":"Not sure about your specific client issues, but in general numeric values in Oracle `insert` statements should *not* be quoted.","body":"Not sure about your specific client issues, but in general numeric values in Oracle <code>insert</code> statements should <i>not</i> be quoted."},{"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"score":0,"creation_date":1694988490,"post_id":77123724,"comment_id":135960413,"body_markdown":"Yes I agree but I am still curious why it happens only in Mac PC&#39;s and BigDecimal","body":"Yes I agree but I am still curious why it happens only in Mac PC&#39;s and BigDecimal"},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1694989621,"post_id":77123724,"comment_id":135960518,"body_markdown":"If you put quotes on numeric value, then an auto-conversion should happen somewhere between your app and oracle or oracle and macOS. So one thing it can be that oracle driver for mac is more explicit during conversion","body":"If you put quotes on numeric value, then an auto-conversion should happen somewhere between your app and oracle or oracle and macOS. So one thing it can be that oracle driver for mac is more explicit during conversion"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":2,"creation_date":1694989781,"post_id":77123724,"comment_id":135960528,"body_markdown":"@SveKamenska It is internal to the database. The OP&#39;s query is passed to the database and parsed by the SQL engine and the implicit cast occurs there and relies on the session parameters of the user&#39;s database session to control the expected format of the number.","body":"@SveKamenska It is internal to the database. The OP&#39;s query is passed to the database and parsed by the SQL engine and the implicit cast occurs there and relies on the session parameters of the user&#39;s database session to control the expected format of the number."},{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1694994228,"post_id":77123724,"comment_id":135960838,"body_markdown":"@MT0, thanks for the detailed explanation - this is what I meant by the 2nd assumption - oracle &lt;-&gt; os interaction","body":"@MT0, thanks for the detailed explanation - this is what I meant by the 2nd assumption - oracle &lt;-&gt; os interaction"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695009530,"post_id":77123724,"comment_id":135961809,"body_markdown":"It isn&#39;t the OS per-se.  The OS has nothing to do with what is being sent over the database connection.  It will be the JDBC driver or the application itself.   And I expect that it is JDBC driver version specific behavior rather than special JDBC driver behavior for MacOS.  (The latter would be perverse ... IMO.)  The drivers are supplied by Oracle or a 3rd party, not by Apple.","body":"It isn&#39;t the OS per-se.  The OS has nothing to do with what is being sent over the database connection.  It will be the JDBC driver or the application itself.   And I expect that it is JDBC driver version specific behavior rather than special JDBC driver behavior for MacOS.  (The latter would be perverse ... IMO.)  The drivers are supplied by Oracle or a 3rd party, not by Apple."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1695024797,"post_id":77123724,"comment_id":135963692,"body_markdown":"@StephenC The driver should just pass the query (and any bind parameters) to the SQL engine of the database and the database will parse the query and perform any implicit casts between data-types using its settings. What may have an impact is if the driver is being initialised with an `NLS_LANG` setting or if the `NLS_TERRITORY` or the `NLS_NUMERIC_CHARACTERS` session parameters are being set in the user&#39;s database session (otherwise the database defaults will be used); that is probably all that is going to have any impact here.","body":"@StephenC The driver should just pass the query (and any bind parameters) to the SQL engine of the database and the database will parse the query and perform any implicit casts between data-types using its settings. What may have an impact is if the driver is being initialised with an <code>NLS_LANG</code> setting or if the <code>NLS_TERRITORY</code> or the <code>NLS_NUMERIC_CHARACTERS</code> session parameters are being set in the user&#39;s database session (otherwise the database defaults will be used); that is probably all that is going to have any impact here."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695025759,"post_id":77123724,"comment_id":135963872,"body_markdown":"Good point.  But that&#39;s the application (or the application&#39;s config) setting those.  Not the OS.","body":"Good point.  But that&#39;s the application (or the application&#39;s config) setting those.  Not the OS."},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1695026522,"post_id":77123724,"comment_id":135964009,"body_markdown":"@StephenC I&#39;ve updated my answer with some options where a JDBC driver can derive the session parameters it uses in its connections. When the driver is loaded, it *may* take some settings from the OS to initialise the session parameters in the database session or those can be overridden by application settings or explicitly by directly setting the session parameters.","body":"@StephenC I&#39;ve updated my answer with some options where a JDBC driver can derive the session parameters it uses in its connections. When the driver is loaded, it <i>may</i> take some settings from the OS to initialise the session parameters in the database session or those can be overridden by application settings or explicitly by directly setting the session parameters."}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695026321,"creation_date":1694989432,"answer_id":77123823,"question_id":77123724,"body_markdown":"Summary: **NEVER** rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and **NOT** as a string.\r\n\r\n---\r\n\r\nWhen you insert a string into a `NUMBER` column then you are asking Oracle to perform an implicit string-to-number conversion and if the decimal separator is not `.` then `&#39;99.99000&#39;` will give the error:\r\n\r\n```lang-sql\r\nORA-01722: invalid number\r\n```\r\n\r\n(In Oracle 23, the error is more informative: `ORA-01722: unable to convert string value containing &#39;.&#39; to a number:`.)\r\n\r\nYou can see this if you change your session parameters:\r\n\r\n```lang-sql\r\nCREATE TABLE policy_restriction_bound(\r\n  id                     NUMBER(8,0),\r\n  policy_restriction_id  NUMBER(8,0),\r\n  minimum_approves_count NUMBER(8,0),\r\n  upper_bound            NUMBER(10,5),\r\n  currency               VARCHAR2(3)\r\n);\r\n```\r\n\r\nThen:\r\n\r\n```lang-sql\r\nALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;,.&#39;;\r\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;);\r\n```\r\n\r\nOutputs:\r\n\r\n&gt; ```lang-none\r\n&gt; ORA-01722: invalid number\r\n&gt; ```\r\n\r\nand:\r\n\r\n```lang-sql\r\nALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;.,&#39;;\r\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;);\r\n```\r\n\r\nWorks.\r\n\r\n---\r\n\r\nWhat you should do is **NEVER** rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and **NOT** as a string.\r\n\r\nIf you must pass strings (don&#39;t) then make sure that all your test containers are using the same session parameters as the production database so that the behaviour is identical.\r\n\r\nDepending on the JDBC driver, this could be by:\r\n\r\n 1. The connection&#39;s default session parameters which may be derived from the [language of the OS](https://www.oracle.com/database/technologies/faq-nls-lang.html) or an `NLS_LANG` environment variable set in the OS.\r\n 2. Running the Java application and [explicitly specifying the language and locale](https://stackoverflow.com/a/4224705/1509264) when you start Java:\r\n\r\n    ```lang-console\r\n    -Duser.country=en -Duser.language=en\r\n    ```\r\n\r\n    Which may cause the JDBC driver to override any default database settings and set the `NLS_LANG` and `NLS_TERRITORY` session parameters (which will set a the default `NLS_NUMERIC_CHARACTERS` session parameter for that territory).\r\n\r\n 3. [Setting a locale in the Java application](https://stackoverflow.com/a/1306042/1509264):\r\n \r\n    ```lang-java\r\n    Locale.setDefault(Locale.&lt;your locale here&gt;);\r\n    ```\r\n\r\n    Which may cause the JDBC driver to override any default database settings and set the `NLS_TERRITORY` (and maybe `NLS_LANG`) session parameter (which will set a the default `NLS_NUMERIC_CHARACTERS` session parameter for that territory).\r\n\r\n 4. In SQL from the Java application, explicitly setting the `NLS_TERRITORY` setting in the database session (which will implicitly set the default `NLS_NUMERIC_CHARACTERS` for that territory) and override any default settings for the connection.\r\n\r\n    ```lang-sql\r\n    ALTER SESSION SET TERRITORY = &#39;United States&#39;\r\n    ```\r\n\r\n 5. In SQL from the Java application, explicitly setting the `NLS_NUMERIC_CHARACTERS` session parameter (again, overriding the defaults).\r\n\r\n    ```lang-sql\r\n    ALTER SESSION SET NLS_NUMERIC_CHARACTERS = &#39;.,&#39;\r\n    ```\r\n\r\nBut it is much better to **NEVER** rely on implicit conversions.\r\n\r\n[fiddle](https://dbfiddle.uk/v7kwFV7R)\r\n","title":"ORA-01722: invalid number (Only For MacOS PC)","body":"<p>Summary: <strong>NEVER</strong> rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and <strong>NOT</strong> as a string.</p>\n<hr />\n<p>When you insert a string into a <code>NUMBER</code> column then you are asking Oracle to perform an implicit string-to-number conversion and if the decimal separator is not <code>.</code> then <code>'99.99000'</code> will give the error:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ORA-01722: invalid number\n</code></pre>\n<p>(In Oracle 23, the error is more informative: <code>ORA-01722: unable to convert string value containing '.' to a number:</code>.)</p>\n<p>You can see this if you change your session parameters:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE policy_restriction_bound(\n  id                     NUMBER(8,0),\n  policy_restriction_id  NUMBER(8,0),\n  minimum_approves_count NUMBER(8,0),\n  upper_bound            NUMBER(10,5),\n  currency               VARCHAR2(3)\n);\n</code></pre>\n<p>Then:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = ',.';\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD');\n</code></pre>\n<p>Outputs:</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>ORA-01722: invalid number\n</code></pre>\n</blockquote>\n<p>and:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = '.,';\nINSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD');\n</code></pre>\n<p>Works.</p>\n<hr />\n<p>What you should do is <strong>NEVER</strong> rely on implicit string-to-number conversions. If you want to pass a numeric value then pass it as a number and <strong>NOT</strong> as a string.</p>\n<p>If you must pass strings (don't) then make sure that all your test containers are using the same session parameters as the production database so that the behaviour is identical.</p>\n<p>Depending on the JDBC driver, this could be by:</p>\n<ol>\n<li><p>The connection's default session parameters which may be derived from the <a href=\"https://www.oracle.com/database/technologies/faq-nls-lang.html\" rel=\"nofollow noreferrer\">language of the OS</a> or an <code>NLS_LANG</code> environment variable set in the OS.</p>\n</li>\n<li><p>Running the Java application and <a href=\"https://stackoverflow.com/a/4224705/1509264\">explicitly specifying the language and locale</a> when you start Java:</p>\n<pre class=\"lang-console prettyprint-override\"><code>-Duser.country=en -Duser.language=en\n</code></pre>\n<p>Which may cause the JDBC driver to override any default database settings and set the <code>NLS_LANG</code> and <code>NLS_TERRITORY</code> session parameters (which will set a the default <code>NLS_NUMERIC_CHARACTERS</code> session parameter for that territory).</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/1306042/1509264\">Setting a locale in the Java application</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale.setDefault(Locale.&lt;your locale here&gt;);\n</code></pre>\n<p>Which may cause the JDBC driver to override any default database settings and set the <code>NLS_TERRITORY</code> (and maybe <code>NLS_LANG</code>) session parameter (which will set a the default <code>NLS_NUMERIC_CHARACTERS</code> session parameter for that territory).</p>\n</li>\n<li><p>In SQL from the Java application, explicitly setting the <code>NLS_TERRITORY</code> setting in the database session (which will implicitly set the default <code>NLS_NUMERIC_CHARACTERS</code> for that territory) and override any default settings for the connection.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET TERRITORY = 'United States'\n</code></pre>\n</li>\n<li><p>In SQL from the Java application, explicitly setting the <code>NLS_NUMERIC_CHARACTERS</code> session parameter (again, overriding the defaults).</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER SESSION SET NLS_NUMERIC_CHARACTERS = '.,'\n</code></pre>\n</li>\n</ol>\n<p>But it is much better to <strong>NEVER</strong> rely on implicit conversions.</p>\n<p><a href=\"https://dbfiddle.uk/v7kwFV7R\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77123823,"answer_count":1,"score":0,"last_activity_date":1695026321,"creation_date":1694987054,"question_id":77123724,"body_markdown":"The entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;policy_restriction_bound&quot;,\r\n    uniqueConstraints = @UniqueConstraint(columnNames = {&quot;policy_restriction_id&quot;, &quot;upperBound&quot;, &quot;currency&quot;},\r\n        name = &quot;uq_policy_restriction_bound_restr_id_bound_currency&quot;))\r\npublic class PolicyRestrictionBoundEntity {\r\n    public static final int UPPER_BOUND_SCALE = 5;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequence-generator&quot;)\r\n    @SequenceGenerator(name = &quot;sequence-generator&quot;, sequenceName = &quot;hibernate_sequence&quot;, allocationSize = 5)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;policy_restriction_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_policy_restr_bound2policy_restr&quot;))\r\n    private PolicyRestrictionEntity policyRestriction;\r\n\r\n    @NotNull\r\n    private Integer minimumApprovesCount;\r\n\r\n    @Positive\r\n    @Access(AccessType.PROPERTY)\r\n    private BigDecimal upperBound;\r\n\r\n    @Size(min = 1, max = 3)\r\n    private String currency;\r\n}\r\n```\r\n\r\nContainer\r\n \r\n```\r\nprivate static final OracleContainer DB_CONTAINER = new OracleContainer(&quot;gvenzl/oracle-xe:18.4.0-slim-faststart&quot;);\r\n```\r\nThe following is being inserted into Oracle db\r\n```\r\nprotected List&lt;String&gt; getInsertTestDataAfterMigrationCommands() {\r\n        return List.of(&quot;&quot;&quot;\r\n            &quot;&quot;&quot;\r\n                INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\n                VALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;)&quot;&quot;&quot;\r\n        );\r\n    }\r\n```\r\n\r\nThe error \r\n```\r\njava.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\r\nCaused by: Error : 1722, Position : 134, Sql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;), OriginalSql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\r\nVALUES (&#39;1&#39;, &#39;1&#39;, &#39;2&#39;, &#39;99.99000&#39;, &#39;USD&#39;), Error Msg = ORA-01722: invalid number\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n```\r\n\r\nHello, \r\n\r\nI am inserting the data via `getInsertTestDataAfterMigrationCommands()` method as above.\r\nBut I get `ORA-01722: invalid number` error.\r\nWhen I delete the single quotes in `&#39;`99.99000`&#39;` the error goes away.\r\nBut what I&#39;m wondering about is that we only get this error for all Macbook users in the team. This does not error occur on Linux and Windows PCs that also pass the Jenkins Pipeline.\r\n\r\nAlso when I delete Single quotes again pass the Jenkins Pipeline.\r\nIt is also interesting that we only receive single quotes issues with a `BigDecimal` value. No problem with other fields.\r\n\r\nI couldn&#39;t find the reason why we only get this error on Macbook PCs, do you have any ideas?\r\n\r\nAdditional: I noticed that smart quotes on the Macbook were turned on. I disabled it, but we continue to get the error. \r\n\r\n\r\n","title":"ORA-01722: invalid number (Only For MacOS PC)","body":"<p>The entity</p>\n<pre><code>@Entity\n@Table(name = &quot;policy_restriction_bound&quot;,\n    uniqueConstraints = @UniqueConstraint(columnNames = {&quot;policy_restriction_id&quot;, &quot;upperBound&quot;, &quot;currency&quot;},\n        name = &quot;uq_policy_restriction_bound_restr_id_bound_currency&quot;))\npublic class PolicyRestrictionBoundEntity {\n    public static final int UPPER_BOUND_SCALE = 5;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequence-generator&quot;)\n    @SequenceGenerator(name = &quot;sequence-generator&quot;, sequenceName = &quot;hibernate_sequence&quot;, allocationSize = 5)\n    private Long id;\n\n    @NotNull\n    @ManyToOne\n    @JoinColumn(name = &quot;policy_restriction_id&quot;, foreignKey = @ForeignKey(name = &quot;fk_policy_restr_bound2policy_restr&quot;))\n    private PolicyRestrictionEntity policyRestriction;\n\n    @NotNull\n    private Integer minimumApprovesCount;\n\n    @Positive\n    @Access(AccessType.PROPERTY)\n    private BigDecimal upperBound;\n\n    @Size(min = 1, max = 3)\n    private String currency;\n}\n</code></pre>\n<p>Container</p>\n<pre><code>private static final OracleContainer DB_CONTAINER = new OracleContainer(&quot;gvenzl/oracle-xe:18.4.0-slim-faststart&quot;);\n</code></pre>\n<p>The following is being inserted into Oracle db</p>\n<pre><code>protected List&lt;String&gt; getInsertTestDataAfterMigrationCommands() {\n        return List.of(&quot;&quot;&quot;\n            &quot;&quot;&quot;\n                INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\n                VALUES ('1', '1', '2', '99.99000', 'USD')&quot;&quot;&quot;\n        );\n    }\n</code></pre>\n<p>The error</p>\n<pre><code>java.lang.RuntimeException: java.sql.SQLSyntaxErrorException: ORA-01722: invalid number\nCaused by: Error : 1722, Position : 134, Sql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD'), OriginalSql = INSERT into policy_restriction_bound(id, policy_restriction_id, minimum_approves_count, upper_bound, currency)\nVALUES ('1', '1', '2', '99.99000', 'USD'), Error Msg = ORA-01722: invalid number\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n</code></pre>\n<p>Hello,</p>\n<p>I am inserting the data via <code>getInsertTestDataAfterMigrationCommands()</code> method as above.\nBut I get <code>ORA-01722: invalid number</code> error.\nWhen I delete the single quotes in <code>'</code>99.99000<code>'</code> the error goes away.\nBut what I'm wondering about is that we only get this error for all Macbook users in the team. This does not error occur on Linux and Windows PCs that also pass the Jenkins Pipeline.</p>\n<p>Also when I delete Single quotes again pass the Jenkins Pipeline.\nIt is also interesting that we only receive single quotes issues with a <code>BigDecimal</code> value. No problem with other fields.</p>\n<p>I couldn't find the reason why we only get this error on Macbook PCs, do you have any ideas?</p>\n<p>Additional: I noticed that smart quotes on the Macbook were turned on. I disabled it, but we continue to get the error.</p>\n"},{"tags":["java","edirectory","netiq"],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695026123,"creation_date":1695026123,"question_id":77125622,"body_markdown":"I&#39;m experimenting the `nestedGroupAux` class of the eDirectory. It works fine to return all the members of a group as well as those of the nested groups, but is it possible to distinguish between direct members of the group and members obtained by inference, and that are actually members of some nested group?","title":"NetIQ eDirectory LDAP nested groups","body":"<p>I'm experimenting the <code>nestedGroupAux</code> class of the eDirectory. It works fine to return all the members of a group as well as those of the nested groups, but is it possible to distinguish between direct members of the group and members obtained by inference, and that are actually members of some nested group?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"score":5,"creation_date":1229373730,"post_id":369512,"comment_id":198561,"body_markdown":"why is this a cw? It&#39;s a perfectly valid programming question.","body":"why is this a cw? It&#39;s a perfectly valid programming question."},{"owner":{"account_id":10258,"reputation":26460,"user_id":19276,"accept_rate":81,"display_name":"DJClayworth"},"score":3,"creation_date":1229374057,"post_id":369512,"comment_id":198578,"body_markdown":"Are you aware that Comparable allows comparison by as many fields as you like?","body":"Are you aware that Comparable allows comparison by as many fields as you like?"},{"owner":{"account_id":441579,"reputation":810,"user_id":831750,"accept_rate":50,"display_name":"eugenevd"},"score":0,"creation_date":1393501915,"post_id":369512,"comment_id":33463083,"body_markdown":"possible duplicate of [Using Comparable for multiple dynamic fields of VO in java](http://stackoverflow.com/questions/16206629/using-comparable-for-multiple-dynamic-fields-of-vo-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16206629/using-comparable-for-multiple-dynamic-fields-of-vo-in-java\">Using Comparable for multiple dynamic fields of VO in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":21,"reputation":106392,"user_id":29,"accept_rate":83,"display_name":"Michael Haren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229371221,"creation_date":1229371221,"answer_id":369518,"question_id":369512,"body_markdown":"I think it&#39;d be more confusing if your comparison algorithm were &quot;clever&quot;. I&#39;d go with the numerous comparison methods you suggested.\r\n\r\nThe only exception for me would be equality. For unit testing, it&#39;s been useful to me to override the .Equals (in .net) in order to determine if several fields are equal between two objects (and not that the references are equal).","title":"How to compare objects by multiple fields","body":"<p>I think it'd be more confusing if your comparison algorithm were \"clever\". I'd go with the numerous comparison methods you suggested.</p>\n\n<p>The only exception for me would be equality. For unit testing, it's been useful to me to override the .Equals (in .net) in order to determine if several fields are equal between two objects (and not that the references are equal).</p>\n"},{"tags":[],"owner":{"account_id":13446,"reputation":44828,"user_id":27020,"accept_rate":100,"display_name":"Marc Novakowski"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1229371291,"creation_date":1229371291,"answer_id":369521,"question_id":369512,"body_markdown":"Instead of comparison methods you may want to just define several types of &quot;Comparator&quot; subclasses inside the Person class.  That way you can pass them into standard Collections sorting methods.","title":"How to compare objects by multiple fields","body":"<p>Instead of comparison methods you may want to just define several types of \"Comparator\" subclasses inside the Person class.  That way you can pass them into standard Collections sorting methods.</p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1229371402,"creation_date":1229371402,"answer_id":369526,"question_id":369512,"body_markdown":"If there are multiple ways a user might order person, you could also have multiple [Comparator][1]s setup as constants somewhere. Most of the sort operations and sorted collections take a comparator as a parameter.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html","title":"How to compare objects by multiple fields","body":"<p>If there are multiple ways a user might order person, you could also have multiple <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>s setup as constants somewhere. Most of the sort operations and sorted collections take a comparator as a parameter.</p>\n"},{"tags":[],"owner":{"account_id":11936,"reputation":13753,"user_id":23249,"accept_rate":85,"display_name":"Elie"},"down_vote_count":2,"up_vote_count":92,"is_accepted":true,"score":90,"last_activity_date":1537820867,"creation_date":1229371611,"answer_id":369537,"question_id":369512,"body_markdown":"You can implement a `Comparator` which compares two `Person` objects, and you can examine as many of the fields as you like. You can put in a variable in your comparator that tells it which field to compare to, although it would probably be simpler to just write multiple comparators.","title":"How to compare objects by multiple fields","body":"<p>You can implement a <code>Comparator</code> which compares two <code>Person</code> objects, and you can examine as many of the fields as you like. You can put in a variable in your comparator that tells it which field to compare to, although it would probably be simpler to just write multiple comparators.</p>\n"},{"tags":[],"owner":{"account_id":589,"reputation":30817,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1229376800,"creation_date":1229376800,"answer_id":369785,"question_id":369512,"body_markdown":"If you implement the [Comparable][1] interface, you&#39;ll want to choose one simple property to order by. This is known as natural ordering. Think of it as the default. It&#39;s always used when no specific comparator is supplied. Usually this is name, but your use case may call for something different. You are free to use any number of other Comparators you can supply to various collections APIs to override the natural ordering.\r\n\r\nAlso note that typically if a.compareTo(b) == 0, then a.equals(b) == true. It&#39;s ok if not but there are side effects to be aware of. See the excellent javadocs on the Comparable interface and you&#39;ll find lots of great information on this.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Comparable.html","title":"How to compare objects by multiple fields","body":"<p>If you implement the <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a> interface, you'll want to choose one simple property to order by. This is known as natural ordering. Think of it as the default. It's always used when no specific comparator is supplied. Usually this is name, but your use case may call for something different. You are free to use any number of other Comparators you can supply to various collections APIs to override the natural ordering.</p>\n\n<p>Also note that typically if a.compareTo(b) == 0, then a.equals(b) == true. It's ok if not but there are side effects to be aware of. See the excellent javadocs on the Comparable interface and you'll find lots of great information on this.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"down_vote_count":2,"up_vote_count":185,"is_accepted":false,"score":183,"last_activity_date":1494715826,"creation_date":1229378860,"answer_id":369867,"question_id":369512,"body_markdown":"You should implement `Comparable &lt;Person&gt;`. Assuming all fields will not be null (for simplicity sake), that age is an int, and compare ranking is first, last, age, the `compareTo` method is quite simple:\r\n\r\n    public int compareTo(Person other) {\r\n        int i = firstName.compareTo(other.firstName);\r\n        if (i != 0) return i;\r\n\r\n        i = lastName.compareTo(other.lastName);\r\n        if (i != 0) return i;\r\n\r\n        return Integer.compare(age, other.age);\r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>You should implement <code>Comparable &lt;Person&gt;</code>. Assuming all fields will not be null (for simplicity sake), that age is an int, and compare ranking is first, last, age, the <code>compareTo</code> method is quite simple:</p>\n\n<pre><code>public int compareTo(Person other) {\n    int i = firstName.compareTo(other.firstName);\n    if (i != 0) return i;\n\n    i = lastName.compareTo(other.lastName);\n    if (i != 0) return i;\n\n    return Integer.compare(age, other.age);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19498,"reputation":1063,"user_id":45757,"display_name":"Boune"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1511000286,"creation_date":1229384088,"answer_id":370068,"question_id":369512,"body_markdown":"You can also have a look at Enum that implements Comparator.\r\n\r\nhttp://tobega.blogspot.com/2008/05/beautiful-enums.html\r\n\r\ne.g.\r\n\r\n    Collections.sort(myChildren, Child.Order.ByAge.descending());\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>You can also have a look at Enum that implements Comparator.</p>\n\n<p><a href=\"http://tobega.blogspot.com/2008/05/beautiful-enums.html\" rel=\"nofollow noreferrer\">http://tobega.blogspot.com/2008/05/beautiful-enums.html</a></p>\n\n<p>e.g.</p>\n\n<pre><code>Collections.sort(myChildren, Child.Order.ByAge.descending());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":65190,"reputation":897,"user_id":192040,"accept_rate":89,"display_name":"Nigel_V_Thomas"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1427829557,"creation_date":1310323117,"answer_id":6643088,"question_id":369512,"body_markdown":"@Patrick To sort more than one field consecutively try [ComparatorChain][1]\n&gt; A ComparatorChain is a Comparator that wraps one or more Comparators in sequence. The ComparatorChain calls each Comparator in sequence until either 1) any single Comparator returns a non-zero result (and that result is then returned), or 2) the ComparatorChain is exhausted (and zero is returned). This type of sorting is very similar to multi-column sorting in SQL, and this class allows Java classes to emulate that kind of behaviour when sorting a List.\n&gt;\n&gt; To further facilitate SQL-like sorting, the order of any single Comparator in the list can &gt;be reversed.\n&gt;\n&gt; Calling a method that adds new Comparators or changes the ascend/descend sort after compare(Object, Object) has been called will result in an UnsupportedOperationException. However, take care to not alter the underlying List of Comparators or the BitSet that defines the sort order.\n&gt;\n&gt; Instances of ComparatorChain are not synchronized. The class is not thread-safe at construction time, but it is thread-safe to perform multiple comparisons after all the setup operations are complete.\n\n\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/comparators/ComparatorChain.html","title":"How to compare objects by multiple fields","body":"<p>@Patrick To sort more than one field consecutively try <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/comparators/ComparatorChain.html\" rel=\"noreferrer\">ComparatorChain</a></p>\n<blockquote>\n<p>A ComparatorChain is a Comparator that wraps one or more Comparators in sequence. The ComparatorChain calls each Comparator in sequence until either 1) any single Comparator returns a non-zero result (and that result is then returned), or 2) the ComparatorChain is exhausted (and zero is returned). This type of sorting is very similar to multi-column sorting in SQL, and this class allows Java classes to emulate that kind of behaviour when sorting a List.</p>\n<p>To further facilitate SQL-like sorting, the order of any single Comparator in the list can &gt;be reversed.</p>\n<p>Calling a method that adds new Comparators or changes the ascend/descend sort after compare(Object, Object) has been called will result in an UnsupportedOperationException. However, take care to not alter the underlying List of Comparators or the BitSet that defines the sort order.</p>\n<p>Instances of ComparatorChain are not synchronized. The class is not thread-safe at construction time, but it is thread-safe to perform multiple comparisons after all the setup operations are complete.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27075,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1332670696,"creation_date":1332519126,"answer_id":9842650,"question_id":369512,"body_markdown":"Its easy to do using [Google&#39;s Guava library][1].\r\n\r\ne.g. `Objects.equal(name, name2) &amp;&amp; Objects.equal(age, age2) &amp;&amp; ...`\r\n\r\nMore examples:\r\n\r\n- https://stackoverflow.com/a/5039178/1180621\r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained#equals","title":"How to compare objects by multiple fields","body":"<p>Its easy to do using <a href=\"http://code.google.com/p/guava-libraries/wiki/CommonObjectUtilitiesExplained#equals\" rel=\"nofollow noreferrer\">Google's Guava library</a>.</p>\n\n<p>e.g. <code>Objects.equal(name, name2) &amp;&amp; Objects.equal(age, age2) &amp;&amp; ...</code></p>\n\n<p>More examples:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/5039178/1180621\">https://stackoverflow.com/a/5039178/1180621</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1339104958,"creation_date":1339104958,"answer_id":10940234,"question_id":369512,"body_markdown":"Writing a `Comparator` manually for such an use case is a terrible solution IMO. Such ad hoc approaches have many drawbacks: \r\n\r\n- No code reuse. Violates DRY.\r\n- Boilerplate.\r\n- Increased possibility of errors.\r\n\r\n---\r\n\r\n**So what&#39;s the solution?**\r\n\r\nFirst some theory.\r\n\r\nLet us denote the proposition &quot;type `A` supports comparison&quot; by `Ord A`. (From program perspective, you can think of `Ord A` as an object containing logic for comparing two `A`s. Yes, just like `Comparator`.) \r\n\r\nNow, if `Ord A` and `Ord B`, then their composite `(A, B)` should also support comparison. i.e. `Ord (A, B)`. If `Ord A`, `Ord B`, and `Ord C`, then `Ord (A, B, C)`. \r\n\r\nWe can extend this argument to arbitrary arity, and say:\r\n\r\n`Ord A, Ord B, Ord C, ..., Ord Z` ⇒ `Ord (A, B, C, .., Z)`\r\n\r\nLet&#39;s call this statement 1.\r\n\r\nThe comparison of the composites will work just as you described in your question: the first comparison will be tried first, then the next one, then the next, and so on.\r\n\r\nThat&#39;s the first part of our solution. Now the second part.\r\n\r\nIf you know that `Ord A`, and know how to transform `B` to `A` (call that transformation function `f`), then you can also have `Ord B`.  How? Well, when the two `B` instances are to be compared,  you first transform them to `A` using `f` and then apply `Ord A`.\r\n\r\nHere, we are mapping the transformation `B → A` to `Ord A → Ord B`. This is known as contravariant mapping (or `comap` for short).\r\n\r\n`Ord A, (B → A)` ⇒&lt;sub&gt;comap&lt;/sub&gt; `Ord B`\r\n\r\nLet&#39;s call this statement 2.\r\n\r\n---\r\n\r\nNow let&#39;s apply this to your example. \r\n\r\nYou have a data type named `Person` that comprises three fields of type `String`. \r\n\r\n- We know that `Ord String`. By statement 1, `Ord (String, String, String)`. \r\n\r\n- We can easily write a function from `Person` to `(String, String, String)`. (Just return the three fields.)  Since we know `Ord (String, String, String)` and `Person → (String, String, String)`, by statement 2, we can use `comap` to get `Ord Person`. \r\n\r\nQED.\r\n\r\n---\r\n\r\n**How do I implement all these concepts?**\r\n\r\nThe good news is you don&#39;t have to. There already exists [a library][1] which implements all the ideas described in this post. (If you are curious how these are implemented, you can [look under the hood][2].)\r\n\r\nThis is how the code will look with it:\r\n\r\n    Ord&lt;Person&gt; personOrd = \r\n     p3Ord(stringOrd, stringOrd, stringOrd).comap(\r\n       new F&lt;Person, P3&lt;String, String, String&gt;&gt;() {\r\n         public P3&lt;String, String, String&gt; f(Person x) {\r\n           return p(x.getFirstName(), x.getLastname(), x.getAge());\r\n         }\r\n       }\r\n     );\r\n\r\n**Explanation:**\r\n\r\n- [`stringOrd`][3] is an object of type `Ord&lt;String&gt;`. This corresponds to our original &quot;supports comparison&quot; proposition.\r\n- [`p3Ord`][4] is a method that takes `Ord&lt;A&gt;`, `Ord&lt;B&gt;`, `Ord&lt;C&gt;`, and returns `Ord&lt;P3&lt;A, B, C&gt;&gt;`. This corresponds to statement 1. ([`P3`][5] stands for product with three elements. Product is an algebraic term for composites.)\r\n- [`comap`][6] corresponds to well, `comap`.\r\n- [`F&lt;A, B&gt;`][7] represents a transformation function `A → B`.\r\n- [`p`][8] is a factory method for creating products.\r\n- The whole expression corresponds to statement 2.\r\n\r\nHope that helps.\r\n\r\n  [1]: http://functionaljava.org/\r\n  [2]: https://github.com/functionaljava/functionaljava\r\n  [3]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#stringOrd\r\n  [4]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#p3Ord%28fj.Ord,%20fj.Ord,%20fj.Ord%29\r\n  [5]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P3.html\r\n  [6]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#comap%28fj.F%29\r\n  [7]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/F.html\r\n  [8]: http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P.html#p%28A,%20B,%20C%29","title":"How to compare objects by multiple fields","body":"<p>Writing a <code>Comparator</code> manually for such an use case is a terrible solution IMO. Such ad hoc approaches have many drawbacks: </p>\n\n<ul>\n<li>No code reuse. Violates DRY.</li>\n<li>Boilerplate.</li>\n<li>Increased possibility of errors.</li>\n</ul>\n\n<hr>\n\n<p><strong>So what's the solution?</strong></p>\n\n<p>First some theory.</p>\n\n<p>Let us denote the proposition \"type <code>A</code> supports comparison\" by <code>Ord A</code>. (From program perspective, you can think of <code>Ord A</code> as an object containing logic for comparing two <code>A</code>s. Yes, just like <code>Comparator</code>.) </p>\n\n<p>Now, if <code>Ord A</code> and <code>Ord B</code>, then their composite <code>(A, B)</code> should also support comparison. i.e. <code>Ord (A, B)</code>. If <code>Ord A</code>, <code>Ord B</code>, and <code>Ord C</code>, then <code>Ord (A, B, C)</code>. </p>\n\n<p>We can extend this argument to arbitrary arity, and say:</p>\n\n<p><code>Ord A, Ord B, Ord C, ..., Ord Z</code> ⇒ <code>Ord (A, B, C, .., Z)</code></p>\n\n<p>Let's call this statement 1.</p>\n\n<p>The comparison of the composites will work just as you described in your question: the first comparison will be tried first, then the next one, then the next, and so on.</p>\n\n<p>That's the first part of our solution. Now the second part.</p>\n\n<p>If you know that <code>Ord A</code>, and know how to transform <code>B</code> to <code>A</code> (call that transformation function <code>f</code>), then you can also have <code>Ord B</code>.  How? Well, when the two <code>B</code> instances are to be compared,  you first transform them to <code>A</code> using <code>f</code> and then apply <code>Ord A</code>.</p>\n\n<p>Here, we are mapping the transformation <code>B → A</code> to <code>Ord A → Ord B</code>. This is known as contravariant mapping (or <code>comap</code> for short).</p>\n\n<p><code>Ord A, (B → A)</code> ⇒<sub>comap</sub> <code>Ord B</code></p>\n\n<p>Let's call this statement 2.</p>\n\n<hr>\n\n<p>Now let's apply this to your example. </p>\n\n<p>You have a data type named <code>Person</code> that comprises three fields of type <code>String</code>. </p>\n\n<ul>\n<li><p>We know that <code>Ord String</code>. By statement 1, <code>Ord (String, String, String)</code>. </p></li>\n<li><p>We can easily write a function from <code>Person</code> to <code>(String, String, String)</code>. (Just return the three fields.)  Since we know <code>Ord (String, String, String)</code> and <code>Person → (String, String, String)</code>, by statement 2, we can use <code>comap</code> to get <code>Ord Person</code>. </p></li>\n</ul>\n\n<p>QED.</p>\n\n<hr>\n\n<p><strong>How do I implement all these concepts?</strong></p>\n\n<p>The good news is you don't have to. There already exists <a href=\"http://functionaljava.org/\" rel=\"noreferrer\">a library</a> which implements all the ideas described in this post. (If you are curious how these are implemented, you can <a href=\"https://github.com/functionaljava/functionaljava\" rel=\"noreferrer\">look under the hood</a>.)</p>\n\n<p>This is how the code will look with it:</p>\n\n<pre><code>Ord&lt;Person&gt; personOrd = \n p3Ord(stringOrd, stringOrd, stringOrd).comap(\n   new F&lt;Person, P3&lt;String, String, String&gt;&gt;() {\n     public P3&lt;String, String, String&gt; f(Person x) {\n       return p(x.getFirstName(), x.getLastname(), x.getAge());\n     }\n   }\n );\n</code></pre>\n\n<p><strong>Explanation:</strong></p>\n\n<ul>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#stringOrd\" rel=\"noreferrer\"><code>stringOrd</code></a> is an object of type <code>Ord&lt;String&gt;</code>. This corresponds to our original \"supports comparison\" proposition.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#p3Ord%28fj.Ord,%20fj.Ord,%20fj.Ord%29\" rel=\"noreferrer\"><code>p3Ord</code></a> is a method that takes <code>Ord&lt;A&gt;</code>, <code>Ord&lt;B&gt;</code>, <code>Ord&lt;C&gt;</code>, and returns <code>Ord&lt;P3&lt;A, B, C&gt;&gt;</code>. This corresponds to statement 1. (<a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P3.html\" rel=\"noreferrer\"><code>P3</code></a> stands for product with three elements. Product is an algebraic term for composites.)</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/Ord.html#comap%28fj.F%29\" rel=\"noreferrer\"><code>comap</code></a> corresponds to well, <code>comap</code>.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/F.html\" rel=\"noreferrer\"><code>F&lt;A, B&gt;</code></a> represents a transformation function <code>A → B</code>.</li>\n<li><a href=\"http://functionaljava.googlecode.com/svn/artifacts/3.0/javadoc/fj/P.html#p%28A,%20B,%20C%29\" rel=\"noreferrer\"><code>p</code></a> is a factory method for creating products.</li>\n<li>The whole expression corresponds to statement 2.</li>\n</ul>\n\n<p>Hope that helps.</p>\n"},{"tags":[],"owner":{"account_id":2850233,"reputation":3615,"user_id":2447599,"display_name":"Ran Adler"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1524244296,"creation_date":1372254277,"answer_id":17321802,"question_id":369512,"body_markdown":"    import com.google.common.collect.ComparisonChain;\r\n    \r\n    /**\r\n     * @author radler\r\n     * Class Description ...\r\n     */\r\n    public class Attribute implements Comparable&lt;Attribute&gt; {\r\n\r\n    \tprivate String type;\r\n    \tprivate String value;\r\n\r\n    \tpublic String getType() { return type; }\r\n    \tpublic void setType(String type) { this.type = type; }\r\n\r\n    \tpublic String getValue() { return value; }\r\n    \tpublic void setValue(String value) { this.value = value; }\r\n\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Attribute [type=&quot; + type + &quot;, value=&quot; + value + &quot;]&quot;;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic int compareTo(Attribute that) {\r\n    \t\treturn ComparisonChain.start()\r\n            \t.compare(this.type, that.type)\r\n            \t.compare(this.value, that.value)\r\n            \t.result();\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<pre><code>import com.google.common.collect.ComparisonChain;\n\n/**\n * @author radler\n * Class Description ...\n */\npublic class Attribute implements Comparable&lt;Attribute&gt; {\n\n    private String type;\n    private String value;\n\n    public String getType() { return type; }\n    public void setType(String type) { this.type = type; }\n\n    public String getValue() { return value; }\n    public void setValue(String value) { this.value = value; }\n\n    @Override\n    public String toString() {\n        return \"Attribute [type=\" + type + \", value=\" + value + \"]\";\n    }\n\n    @Override\n    public int compareTo(Attribute that) {\n        return ComparisonChain.start()\n            .compare(this.type, that.type)\n            .compare(this.value, that.value)\n            .result();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"down_vote_count":2,"up_vote_count":132,"is_accepted":false,"score":130,"last_activity_date":1576224716,"creation_date":1384944068,"answer_id":20093642,"question_id":369512,"body_markdown":"(from [Ways to sort lists of objects in Java based on multiple fields](http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/))\r\n\r\nWorking code in [this gist](https://gist.github.com/bbottema/b891b25bf56e0ccb1f83)\r\n\r\nUsing Java 8 lambda&#39;s (added April 10, 2019)\r\n-------------------------------------\r\nJava 8 solves this nicely by lambda&#39;s (though Guava and Apache Commons might still offer more flexibility):\r\n\r\n    Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\r\n                .thenComparing(Report::getStudentNumber)\r\n                .thenComparing(Report::getSchool));\r\n\r\nThanks to @gaoagong&#39;s [answer below](https://stackoverflow.com/a/36367245/441662).\r\n\r\n\r\nMessy and convoluted: Sorting by hand\r\n-------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            int sizeCmp = p1.size.compareTo(p2.size);  \r\n            if (sizeCmp != 0) {  \r\n                return sizeCmp;  \r\n            }  \r\n            int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \r\n            if (nrOfToppingsCmp != 0) {  \r\n                return nrOfToppingsCmp;  \r\n            }  \r\n            return p1.name.compareTo(p2.name);  \r\n        }  \r\n    });  \r\nThis requires a lot of typing, maintenance and is error prone.\r\n\r\nThe reflective way: Sorting with BeanComparator\r\n-----------------------------------------------\r\n\r\n    ComparatorChain chain = new ComparatorChain(Arrays.asList(\r\n       new BeanComparator(&quot;size&quot;), \r\n       new BeanComparator(&quot;nrOfToppings&quot;), \r\n       new BeanComparator(&quot;name&quot;)));\r\n\r\n    Collections.sort(pizzas, chain);  \r\n\r\nObviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.\r\n\r\nGetting there: Sorting with Google Guava’s ComparisonChain\r\n----------------------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \r\n            // or in case the fields can be null:  \r\n            /* \r\n            return ComparisonChain.start() \r\n               .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \r\n               .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \r\n               .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \r\n               .result(); \r\n            */  \r\n        }  \r\n    });  \r\nThis is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).\r\n\r\nSorting with Apache Commons CompareToBuilder\r\n--------------------------------------------\r\n\r\n    Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \r\n        @Override  \r\n        public int compare(Pizza p1, Pizza p2) {  \r\n            return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \r\n        }  \r\n    });  \r\nLike Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.\r\n\r\nThus\r\n----\r\nUltimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).\r\n\r\nBonus method\r\n----\r\nI found a nice solution that combines multiple comparators in order of priority [on CodeReview](https://codereview.stackexchange.com/a/74764/52676) in a `MultiComparator`:\r\n\r\n    class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\r\n        private final List&lt;Comparator&lt;T&gt;&gt; comparators;\r\n\r\n        public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\r\n            this.comparators = comparators;\r\n        }\r\n\r\n        public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\r\n            this(Arrays.asList(comparators));\r\n        }\r\n\r\n        public int compare(T o1, T o2) {\r\n            for (Comparator&lt;T&gt; c : comparators) {\r\n                int result = c.compare(o1, o2);\r\n                if (result != 0) {\r\n                    return result;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n        public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\r\n            Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\r\n        }\r\n    }\r\n\r\nOfcourse Apache Commons Collections has a util for this already:\r\n\r\n[ComparatorUtils.chainedComparator(comparatorCollection)](http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection))\r\n\r\n    Collections.sort(list, ComparatorUtils.chainedComparator(comparators));","title":"How to compare objects by multiple fields","body":"<p>(from <a href=\"http://blog.bennybottema.com/2013/06/21/ways-to-sort-lists-of-objects-in-java-based-on-multiple-fields/\" rel=\"noreferrer\">Ways to sort lists of objects in Java based on multiple fields</a>)</p>\n\n<p>Working code in <a href=\"https://gist.github.com/bbottema/b891b25bf56e0ccb1f83\" rel=\"noreferrer\">this gist</a></p>\n\n<h2>Using Java 8 lambda's (added April 10, 2019)</h2>\n\n<p>Java 8 solves this nicely by lambda's (though Guava and Apache Commons might still offer more flexibility):</p>\n\n<pre><code>Collections.sort(reportList, Comparator.comparing(Report::getReportKey)\n            .thenComparing(Report::getStudentNumber)\n            .thenComparing(Report::getSchool));\n</code></pre>\n\n<p>Thanks to @gaoagong's <a href=\"https://stackoverflow.com/a/36367245/441662\">answer below</a>.</p>\n\n<h2>Messy and convoluted: Sorting by hand</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        int sizeCmp = p1.size.compareTo(p2.size);  \n        if (sizeCmp != 0) {  \n            return sizeCmp;  \n        }  \n        int nrOfToppingsCmp = p1.nrOfToppings.compareTo(p2.nrOfToppings);  \n        if (nrOfToppingsCmp != 0) {  \n            return nrOfToppingsCmp;  \n        }  \n        return p1.name.compareTo(p2.name);  \n    }  \n});  \n</code></pre>\n\n<p>This requires a lot of typing, maintenance and is error prone.</p>\n\n<h2>The reflective way: Sorting with BeanComparator</h2>\n\n<pre><code>ComparatorChain chain = new ComparatorChain(Arrays.asList(\n   new BeanComparator(\"size\"), \n   new BeanComparator(\"nrOfToppings\"), \n   new BeanComparator(\"name\")));\n\nCollections.sort(pizzas, chain);  \n</code></pre>\n\n<p>Obviously this is more concise, but even more error prone as you lose your direct reference to the fields by using Strings instead (no typesafety, auto-refactorings). Now if a field is renamed, the compiler won’t even report a problem. Moreover, because this solution uses reflection, the sorting is much slower.</p>\n\n<h2>Getting there: Sorting with Google Guava’s ComparisonChain</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return ComparisonChain.start().compare(p1.size, p2.size).compare(p1.nrOfToppings, p2.nrOfToppings).compare(p1.name, p2.name).result();  \n        // or in case the fields can be null:  \n        /* \n        return ComparisonChain.start() \n           .compare(p1.size, p2.size, Ordering.natural().nullsLast()) \n           .compare(p1.nrOfToppings, p2.nrOfToppings, Ordering.natural().nullsLast()) \n           .compare(p1.name, p2.name, Ordering.natural().nullsLast()) \n           .result(); \n        */  \n    }  \n});  \n</code></pre>\n\n<p>This is much better, but requires some boiler plate code for the most common use case: null-values should be valued less by default. For null-fields, you have to provide an extra directive to Guava what to do in that case. This is a flexible mechanism if you want to do something specific, but often you want the default case (ie. 1, a, b, z, null).</p>\n\n<h2>Sorting with Apache Commons CompareToBuilder</h2>\n\n<pre><code>Collections.sort(pizzas, new Comparator&lt;Pizza&gt;() {  \n    @Override  \n    public int compare(Pizza p1, Pizza p2) {  \n        return new CompareToBuilder().append(p1.size, p2.size).append(p1.nrOfToppings, p2.nrOfToppings).append(p1.name, p2.name).toComparison();  \n    }  \n});  \n</code></pre>\n\n<p>Like Guava’s ComparisonChain, this library class sorts easily on multiple fields, but also defines default behavior for null values (ie. 1, a, b, z, null). However, you can’t specify anything else either, unless you provide your own Comparator.</p>\n\n<h2>Thus</h2>\n\n<p>Ultimately it comes down to flavor and the need for flexibility (Guava’s ComparisonChain) vs. concise code (Apache’s CompareToBuilder).</p>\n\n<h2>Bonus method</h2>\n\n<p>I found a nice solution that combines multiple comparators in order of priority <a href=\"https://codereview.stackexchange.com/a/74764/52676\">on CodeReview</a> in a <code>MultiComparator</code>:</p>\n\n<pre><code>class MultiComparator&lt;T&gt; implements Comparator&lt;T&gt; {\n    private final List&lt;Comparator&lt;T&gt;&gt; comparators;\n\n    public MultiComparator(List&lt;Comparator&lt;? super T&gt;&gt; comparators) {\n        this.comparators = comparators;\n    }\n\n    public MultiComparator(Comparator&lt;? super T&gt;... comparators) {\n        this(Arrays.asList(comparators));\n    }\n\n    public int compare(T o1, T o2) {\n        for (Comparator&lt;T&gt; c : comparators) {\n            int result = c.compare(o1, o2);\n            if (result != 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, Comparator&lt;? super T&gt;... comparators) {\n        Collections.sort(list, new MultiComparator&lt;T&gt;(comparators));\n    }\n}\n</code></pre>\n\n<p>Ofcourse Apache Commons Collections has a util for this already:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-2.1.1/org/apache/commons/collections/ComparatorUtils.html#chainedComparator(java.util.Collection)\" rel=\"noreferrer\">ComparatorUtils.chainedComparator(comparatorCollection)</a></p>\n\n<pre><code>Collections.sort(list, ComparatorUtils.chainedComparator(comparators));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4571351,"reputation":1,"user_id":3710964,"display_name":"Pradeep Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1403611778,"creation_date":1403611778,"answer_id":24386282,"question_id":369512,"body_markdown":"\r\n    //here threshold,buyRange,targetPercentage are three keys on that i have sorted my arraylist \r\n    final Comparator&lt;BasicDBObject&gt; \r\n    \r\n        sortOrder = new Comparator&lt;BasicDBObject&gt;() {\r\n        \t\t\t\tpublic int compare(BasicDBObject e1, BasicDBObject e2) {\r\n        \t\t\t\t\tint threshold = new Double(e1.getDouble(&quot;threshold&quot;))\r\n        \t\t\t\t\t.compareTo(new Double(e2.getDouble(&quot;threshold&quot;)));\r\n        \t\t\t\t\tif (threshold != 0)\r\n        \t\t\t\t\t\treturn threshold;\r\n        \r\n        \t\t\t\t\tint buyRange = new Double(e1.getDouble(&quot;buyRange&quot;))\r\n        \t\t\t\t\t.compareTo(new Double(e2.getDouble(&quot;buyRange&quot;)));\r\n        \t\t\t\t\tif (buyRange != 0)\r\n        \t\t\t\t\t\treturn buyRange;\r\n        \r\n        \t\t\t\t\treturn (new Double(e1.getDouble(&quot;targetPercentage&quot;)) &lt; new Double(\r\n        \t\t\t\t\t\t\te2.getDouble(&quot;targetPercentage&quot;)) ? -1 : (new Double(\r\n        \t\t\t\t\t\t\t\t\te1.getDouble(&quot;targetPercentage&quot;)) == new Double(\r\n        \t\t\t\t\t\t\t\t\t\t\te2.getDouble(&quot;targetPercentage&quot;)) ? 0 : 1));\r\n        \t\t\t\t}\r\n        \t\t\t};\r\n        \t\t\tCollections.sort(objectList, sortOrder);","title":"How to compare objects by multiple fields","body":"<pre><code>//here threshold,buyRange,targetPercentage are three keys on that i have sorted my arraylist \nfinal Comparator&lt;BasicDBObject&gt; \n\n    sortOrder = new Comparator&lt;BasicDBObject&gt;() {\n                    public int compare(BasicDBObject e1, BasicDBObject e2) {\n                        int threshold = new Double(e1.getDouble(\"threshold\"))\n                        .compareTo(new Double(e2.getDouble(\"threshold\")));\n                        if (threshold != 0)\n                            return threshold;\n\n                        int buyRange = new Double(e1.getDouble(\"buyRange\"))\n                        .compareTo(new Double(e2.getDouble(\"buyRange\")));\n                        if (buyRange != 0)\n                            return buyRange;\n\n                        return (new Double(e1.getDouble(\"targetPercentage\")) &lt; new Double(\n                                e2.getDouble(\"targetPercentage\")) ? -1 : (new Double(\n                                        e1.getDouble(\"targetPercentage\")) == new Double(\n                                                e2.getDouble(\"targetPercentage\")) ? 0 : 1));\n                    }\n                };\n                Collections.sort(objectList, sortOrder);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4941567,"reputation":76,"user_id":3978127,"display_name":"Display Name"},"down_vote_count":0,"up_vote_count":538,"is_accepted":false,"score":538,"last_activity_date":1502206113,"creation_date":1409041550,"answer_id":25501226,"question_id":369512,"body_markdown":"With Java 8: \r\n\r\n    Comparator.comparing((Person p)-&gt;p.firstName)\r\n              .thenComparing(p-&gt;p.lastName)\r\n              .thenComparingInt(p-&gt;p.age);\r\n\r\nIf you have accessor methods:\r\n\r\n    Comparator.comparing(Person::getFirstName)\r\n              .thenComparing(Person::getLastName)\r\n              .thenComparingInt(Person::getAge);\r\n\r\nIf a class implements Comparable then such comparator may be used in compareTo method:\r\n\r\n    @Override\r\n    public int compareTo(Person o){\r\n        return Comparator.comparing(Person::getFirstName)\r\n                  .thenComparing(Person::getLastName)\r\n                  .thenComparingInt(Person::getAge)\r\n                  .compare(this, o);\r\n    }","title":"How to compare objects by multiple fields","body":"<p>With Java 8: </p>\n\n<pre><code>Comparator.comparing((Person p)-&gt;p.firstName)\n          .thenComparing(p-&gt;p.lastName)\n          .thenComparingInt(p-&gt;p.age);\n</code></pre>\n\n<p>If you have accessor methods:</p>\n\n<pre><code>Comparator.comparing(Person::getFirstName)\n          .thenComparing(Person::getLastName)\n          .thenComparingInt(Person::getAge);\n</code></pre>\n\n<p>If a class implements Comparable then such comparator may be used in compareTo method:</p>\n\n<pre><code>@Override\npublic int compareTo(Person o){\n    return Comparator.comparing(Person::getFirstName)\n              .thenComparing(Person::getLastName)\n              .thenComparingInt(Person::getAge)\n              .compare(this, o);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112990,"reputation":1,"user_id":4099068,"display_name":"Xeroiris"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1511000259,"creation_date":1412171480,"answer_id":26143022,"question_id":369512,"body_markdown":"Another option you can always consider is Apache Commons. It provides a lot of options.\r\n\r\n    import org.apache.commons.lang3.builder.CompareToBuilder;\r\n\r\nEx:\r\n\r\n    public int compare(Person a, Person b){\r\n\r\n       return new CompareToBuilder()\r\n         .append(a.getName(), b.getName())\r\n         .append(a.getAddress(), b.getAddress())\r\n         .toComparison();\r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>Another option you can always consider is Apache Commons. It provides a lot of options.</p>\n\n<pre><code>import org.apache.commons.lang3.builder.CompareToBuilder;\n</code></pre>\n\n<p>Ex:</p>\n\n<pre><code>public int compare(Person a, Person b){\n\n   return new CompareToBuilder()\n     .append(a.getName(), b.getName())\n     .append(a.getAddress(), b.getAddress())\n     .toComparison();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":82472,"reputation":4043,"user_id":231860,"accept_rate":40,"display_name":"Luke Machowski"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1415709573,"creation_date":1415709573,"answer_id":26865152,"question_id":369512,"body_markdown":"For those able to use the Java 8 streaming API, there is a neater approach that is well documented here:\r\n[Lambdas and sorting][1]\r\n\r\nI was looking for the equivalent of the C# LINQ:\r\n\r\n    .ThenBy(...)\r\nI found the mechanism in Java 8 on the Comparator:\r\n\r\n    .thenComparing(...)\r\n\r\nSo here is the snippet that demonstrates the algorithm.\r\n\r\n        Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\r\n        comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\r\n\r\n\r\nCheck out the link above for a neater way and an explanation about how Java&#39;s type inference makes it a bit more clunky to define compared to LINQ.\r\n\r\nHere is the full unit test for reference:\r\n\r\n    @Test\r\n    public void testChainedSorting()\r\n    {\r\n        // Create the collection of people:\r\n        ArrayList&lt;Person&gt; people = new ArrayList&lt;&gt;();\r\n        people.add(new Person(&quot;Dan&quot;, 4));\r\n        people.add(new Person(&quot;Andi&quot;, 2));\r\n        people.add(new Person(&quot;Bob&quot;, 42));\r\n        people.add(new Person(&quot;Debby&quot;, 3));\r\n        people.add(new Person(&quot;Bob&quot;, 72));\r\n        people.add(new Person(&quot;Barry&quot;, 20));\r\n        people.add(new Person(&quot;Cathy&quot;, 40));\r\n        people.add(new Person(&quot;Bob&quot;, 40));\r\n        people.add(new Person(&quot;Barry&quot;, 50));\r\n\r\n        // Define chained comparators:\r\n        // Great article explaining this and how to make it even neater:\r\n        // http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\r\n        Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\r\n        comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\r\n\r\n        // Sort the stream:\r\n        Stream&lt;Person&gt; personStream = people.stream().sorted(comparator);\r\n\r\n        // Make sure that the output is as expected:\r\n        List&lt;Person&gt; sortedPeople = personStream.collect(Collectors.toList());\r\n        Assert.assertEquals(&quot;Andi&quot;,  sortedPeople.get(0).name); Assert.assertEquals(2,  sortedPeople.get(0).age);\r\n        Assert.assertEquals(&quot;Barry&quot;, sortedPeople.get(1).name); Assert.assertEquals(20, sortedPeople.get(1).age);\r\n        Assert.assertEquals(&quot;Barry&quot;, sortedPeople.get(2).name); Assert.assertEquals(50, sortedPeople.get(2).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(3).name); Assert.assertEquals(40, sortedPeople.get(3).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(4).name); Assert.assertEquals(42, sortedPeople.get(4).age);\r\n        Assert.assertEquals(&quot;Bob&quot;,   sortedPeople.get(5).name); Assert.assertEquals(72, sortedPeople.get(5).age);\r\n        Assert.assertEquals(&quot;Cathy&quot;, sortedPeople.get(6).name); Assert.assertEquals(40, sortedPeople.get(6).age);\r\n        Assert.assertEquals(&quot;Dan&quot;,   sortedPeople.get(7).name); Assert.assertEquals(4,  sortedPeople.get(7).age);\r\n        Assert.assertEquals(&quot;Debby&quot;, sortedPeople.get(8).name); Assert.assertEquals(3,  sortedPeople.get(8).age);\r\n        // Andi     : 2\r\n        // Barry    : 20\r\n        // Barry    : 50\r\n        // Bob      : 40\r\n        // Bob      : 42\r\n        // Bob      : 72\r\n        // Cathy    : 40\r\n        // Dan      : 4\r\n        // Debby    : 3\r\n    }\r\n\r\n    /**\r\n     * A person in our system.\r\n     */\r\n    public static class Person\r\n    {\r\n        /**\r\n         * Creates a new person.\r\n         * @param name The name of the person.\r\n         * @param age The age of the person.\r\n         */\r\n        public Person(String name, int age)\r\n        {\r\n            this.age = age;\r\n            this.name = name;\r\n        }\r\n\r\n        /**\r\n         * The name of the person.\r\n         */\r\n        public String name;\r\n\r\n        /**\r\n         * The age of the person.\r\n         */\r\n        public int age;\r\n\r\n        @Override\r\n        public String toString()\r\n        {\r\n            if (name == null) return super.toString();\r\n            else return String.format(&quot;%s : %d&quot;, this.name, this.age);\r\n        }\r\n    }\r\n\r\n  [1]: http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/","title":"How to compare objects by multiple fields","body":"<p>For those able to use the Java 8 streaming API, there is a neater approach that is well documented here:\n<a href=\"http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\" rel=\"noreferrer\">Lambdas and sorting</a></p>\n\n<p>I was looking for the equivalent of the C# LINQ:</p>\n\n<pre><code>.ThenBy(...)\n</code></pre>\n\n<p>I found the mechanism in Java 8 on the Comparator:</p>\n\n<pre><code>.thenComparing(...)\n</code></pre>\n\n<p>So here is the snippet that demonstrates the algorithm.</p>\n\n<pre><code>    Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\n    comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\n</code></pre>\n\n<p>Check out the link above for a neater way and an explanation about how Java's type inference makes it a bit more clunky to define compared to LINQ.</p>\n\n<p>Here is the full unit test for reference:</p>\n\n<pre><code>@Test\npublic void testChainedSorting()\n{\n    // Create the collection of people:\n    ArrayList&lt;Person&gt; people = new ArrayList&lt;&gt;();\n    people.add(new Person(\"Dan\", 4));\n    people.add(new Person(\"Andi\", 2));\n    people.add(new Person(\"Bob\", 42));\n    people.add(new Person(\"Debby\", 3));\n    people.add(new Person(\"Bob\", 72));\n    people.add(new Person(\"Barry\", 20));\n    people.add(new Person(\"Cathy\", 40));\n    people.add(new Person(\"Bob\", 40));\n    people.add(new Person(\"Barry\", 50));\n\n    // Define chained comparators:\n    // Great article explaining this and how to make it even neater:\n    // http://blog.jooq.org/2014/01/31/java-8-friday-goodies-lambdas-and-sorting/\n    Comparator&lt;Person&gt; comparator = Comparator.comparing(person -&gt; person.name);\n    comparator = comparator.thenComparing(Comparator.comparing(person -&gt; person.age));\n\n    // Sort the stream:\n    Stream&lt;Person&gt; personStream = people.stream().sorted(comparator);\n\n    // Make sure that the output is as expected:\n    List&lt;Person&gt; sortedPeople = personStream.collect(Collectors.toList());\n    Assert.assertEquals(\"Andi\",  sortedPeople.get(0).name); Assert.assertEquals(2,  sortedPeople.get(0).age);\n    Assert.assertEquals(\"Barry\", sortedPeople.get(1).name); Assert.assertEquals(20, sortedPeople.get(1).age);\n    Assert.assertEquals(\"Barry\", sortedPeople.get(2).name); Assert.assertEquals(50, sortedPeople.get(2).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(3).name); Assert.assertEquals(40, sortedPeople.get(3).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(4).name); Assert.assertEquals(42, sortedPeople.get(4).age);\n    Assert.assertEquals(\"Bob\",   sortedPeople.get(5).name); Assert.assertEquals(72, sortedPeople.get(5).age);\n    Assert.assertEquals(\"Cathy\", sortedPeople.get(6).name); Assert.assertEquals(40, sortedPeople.get(6).age);\n    Assert.assertEquals(\"Dan\",   sortedPeople.get(7).name); Assert.assertEquals(4,  sortedPeople.get(7).age);\n    Assert.assertEquals(\"Debby\", sortedPeople.get(8).name); Assert.assertEquals(3,  sortedPeople.get(8).age);\n    // Andi     : 2\n    // Barry    : 20\n    // Barry    : 50\n    // Bob      : 40\n    // Bob      : 42\n    // Bob      : 72\n    // Cathy    : 40\n    // Dan      : 4\n    // Debby    : 3\n}\n\n/**\n * A person in our system.\n */\npublic static class Person\n{\n    /**\n     * Creates a new person.\n     * @param name The name of the person.\n     * @param age The age of the person.\n     */\n    public Person(String name, int age)\n    {\n        this.age = age;\n        this.name = name;\n    }\n\n    /**\n     * The name of the person.\n     */\n    public String name;\n\n    /**\n     * The age of the person.\n     */\n    public int age;\n\n    @Override\n    public String toString()\n    {\n        if (name == null) return super.toString();\n        else return String.format(\"%s : %d\", this.name, this.age);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6174988,"reputation":11040,"user_id":4812170,"accept_rate":73,"display_name":"vaquar khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1449667319,"creation_date":1449667011,"answer_id":34179812,"question_id":369512,"body_markdown":"Following blog given good chained Comparator example \r\n\r\n \r\n\r\nhttp://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example\r\n\r\n\r\n\r\n\r\n\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n     \r\n    /**\r\n     * This is a chained comparator that is used to sort a list by multiple\r\n     * attributes by chaining a sequence of comparators of individual fields\r\n     * together.\r\n     *\r\n     */\r\n    public class EmployeeChainedComparator implements Comparator&lt;Employee&gt; {\r\n     \r\n        private List&lt;Comparator&lt;Employee&gt;&gt; listComparators;\r\n     \r\n        @SafeVarargs\r\n        public EmployeeChainedComparator(Comparator&lt;Employee&gt;... comparators) {\r\n            this.listComparators = Arrays.asList(comparators);\r\n        }\r\n     \r\n        @Override\r\n        public int compare(Employee emp1, Employee emp2) {\r\n            for (Comparator&lt;Employee&gt; comparator : listComparators) {\r\n                int result = comparator.compare(emp1, emp2);\r\n                if (result != 0) {\r\n                    return result;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\nCalling Comparator:\r\n\r\n    Collections.sort(listEmployees, new EmployeeChainedComparator(\r\n                    new EmployeeJobTitleComparator(),\r\n                    new EmployeeAgeComparator(),\r\n                    new EmployeeSalaryComparator())\r\n            );","title":"How to compare objects by multiple fields","body":"<p>Following blog given good chained Comparator example </p>\n\n<p><a href=\"http://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example\" rel=\"nofollow\">http://www.codejava.net/java-core/collections/sorting-a-list-by-multiple-attributes-example</a></p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.List;\n\n/**\n * This is a chained comparator that is used to sort a list by multiple\n * attributes by chaining a sequence of comparators of individual fields\n * together.\n *\n */\npublic class EmployeeChainedComparator implements Comparator&lt;Employee&gt; {\n\n    private List&lt;Comparator&lt;Employee&gt;&gt; listComparators;\n\n    @SafeVarargs\n    public EmployeeChainedComparator(Comparator&lt;Employee&gt;... comparators) {\n        this.listComparators = Arrays.asList(comparators);\n    }\n\n    @Override\n    public int compare(Employee emp1, Employee emp2) {\n        for (Comparator&lt;Employee&gt; comparator : listComparators) {\n            int result = comparator.compare(emp1, emp2);\n            if (result != 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n\n<p>Calling Comparator:</p>\n\n<pre><code>Collections.sort(listEmployees, new EmployeeChainedComparator(\n                new EmployeeJobTitleComparator(),\n                new EmployeeAgeComparator(),\n                new EmployeeSalaryComparator())\n        );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490125073,"creation_date":1490125073,"answer_id":42936643,"question_id":369512,"body_markdown":"Starting from [Steve&#39;s answer][1] the ternary operator can be used:\r\n\r\n    public int compareTo(Person other) {\r\n        int f = firstName.compareTo(other.firstName);\r\n        int l = lastName.compareTo(other.lastName);\r\n        return f != 0 ? f : l != 0 ? l : Integer.compare(age, other.age);\r\n    }\r\n\r\n[1]: https://stackoverflow.com/a/369867/1744774","title":"How to compare objects by multiple fields","body":"<p>Starting from <a href=\"https://stackoverflow.com/a/369867/1744774\">Steve's answer</a> the ternary operator can be used:</p>\n\n<pre><code>public int compareTo(Person other) {\n    int f = firstName.compareTo(other.firstName);\n    int l = lastName.compareTo(other.lastName);\n    return f != 0 ? f : l != 0 ? l : Integer.compare(age, other.age);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12305114,"reputation":57,"user_id":8978420,"display_name":"Exodus"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511355770,"creation_date":1511355770,"answer_id":47435442,"question_id":369512,"body_markdown":"It is easy to compare two objects with hashcode method in java`\r\n\r\n    public class Sample{\r\n    \t\r\n      String a=null;\r\n      String b=null;\r\n      \r\n      public Sample(){\r\n    \t  a=&quot;s&quot;;\r\n    \t  b=&quot;a&quot;;\r\n      }\r\n      public Sample(String a,String b){\r\n    \t  this.a=a;\r\n    \t  this.b=b;\r\n      }\r\n      public static void main(String args[]){\r\n    \t  Sample f=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n    \t  Sample s=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n          //will return true\r\n    \t  System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\r\n\r\n          //will return false\r\n    \t  Sample f=new Sample(&quot;b&quot;,&quot;12&quot;);\r\n    \t  Sample s=new Sample(&quot;b&quot;,&quot;13&quot;);\r\n    \t  System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\r\n   \r\n    }","title":"How to compare objects by multiple fields","body":"<p>It is easy to compare two objects with hashcode method in java`</p>\n\n<pre><code>public class Sample{\n\n  String a=null;\n  String b=null;\n\n  public Sample(){\n      a=\"s\";\n      b=\"a\";\n  }\n  public Sample(String a,String b){\n      this.a=a;\n      this.b=b;\n  }\n  public static void main(String args[]){\n      Sample f=new Sample(\"b\",\"12\");\n      Sample s=new Sample(\"b\",\"12\");\n      //will return true\n      System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\n\n      //will return false\n      Sample f=new Sample(\"b\",\"12\");\n      Sample s=new Sample(\"b\",\"13\");\n      System.out.println((s.a.hashCode()+s.b.hashCode())==(f.a.hashCode()+f.b.hashCode()));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10464823,"reputation":1,"user_id":8380642,"display_name":"Pawan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1525558480,"creation_date":1525558480,"answer_id":50194468,"question_id":369512,"body_markdown":"    //Following is the example in jdk 1.8\r\n    package com;\r\n    import java.util.ArrayList;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    class User {\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    \tprivate Integer age;\r\n    \r\n    \tpublic Integer getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n    \r\n    \tpublic User setAge(Integer age) {\r\n    \t\tthis.age = age;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic User setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic User setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t\treturn this;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    public class MultiFieldsComparision {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    \r\n    \t\tUser u1 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Singh&quot;).setAge(38);\r\n    \t\tUser u2 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Payal&quot;).setAge(37);\r\n    \t\tUser u3 = new User().setFirstName(&quot;Anuj&quot;).setLastName(&quot;Kumar&quot;).setAge(60);\r\n    \t\tUser u4 = new User().setFirstName(&quot;Anuj&quot;).setLastName(&quot;Kumar&quot;).setAge(43);\r\n    \t\tUser u5 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Chamoli&quot;).setAge(44);\r\n    \t\tUser u6 = new User().setFirstName(&quot;Pawan&quot;).setLastName(&quot;Singh&quot;).setAge(5);\r\n    \r\n    \t\tusers.add(u1);\r\n    \t\tusers.add(u2);\r\n    \t\tusers.add(u3);\r\n    \t\tusers.add(u4);\r\n    \t\tusers.add(u5);\r\n    \t\tusers.add(u6);\r\n    \r\n    \t\tSystem.out.println(&quot;****** Before Sorting ******&quot;);\r\n    \r\n    \t\tusers.forEach(user -&gt; {\r\n    \t\t\tSystem.out.println(user.getFirstName() + &quot; , &quot; + user.getLastName() + &quot; , &quot; + user.getAge());\r\n    \t\t});\r\n    \r\n    \t\tSystem.out.println(&quot;****** Aftre Sorting ******&quot;);\r\n    \r\n    \t\tusers.sort(\r\n    \t\t\t\tComparator.comparing(User::getFirstName).thenComparing(User::getLastName).thenComparing(User::getAge));\r\n    \r\n    \t\tusers.forEach(user -&gt; {\r\n    \t\t\tSystem.out.println(user.getFirstName() + &quot; , &quot; + user.getLastName() + &quot; , &quot; + user.getAge());\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to compare objects by multiple fields","body":"<pre><code>//Following is the example in jdk 1.8\npackage com;\nimport java.util.ArrayList;\nimport java.util.Comparator;\nimport java.util.List;\n\nclass User {\n    private String firstName;\n    private String lastName;\n    private Integer age;\n\n    public Integer getAge() {\n        return age;\n    }\n\n    public User setAge(Integer age) {\n        this.age = age;\n        return this;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public User setFirstName(String firstName) {\n        this.firstName = firstName;\n        return this;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public User setLastName(String lastName) {\n        this.lastName = lastName;\n        return this;\n    }\n\n}\n\npublic class MultiFieldsComparision {\n\n    public static void main(String[] args) {\n        List&lt;User&gt; users = new ArrayList&lt;User&gt;();\n\n        User u1 = new User().setFirstName(\"Pawan\").setLastName(\"Singh\").setAge(38);\n        User u2 = new User().setFirstName(\"Pawan\").setLastName(\"Payal\").setAge(37);\n        User u3 = new User().setFirstName(\"Anuj\").setLastName(\"Kumar\").setAge(60);\n        User u4 = new User().setFirstName(\"Anuj\").setLastName(\"Kumar\").setAge(43);\n        User u5 = new User().setFirstName(\"Pawan\").setLastName(\"Chamoli\").setAge(44);\n        User u6 = new User().setFirstName(\"Pawan\").setLastName(\"Singh\").setAge(5);\n\n        users.add(u1);\n        users.add(u2);\n        users.add(u3);\n        users.add(u4);\n        users.add(u5);\n        users.add(u6);\n\n        System.out.println(\"****** Before Sorting ******\");\n\n        users.forEach(user -&gt; {\n            System.out.println(user.getFirstName() + \" , \" + user.getLastName() + \" , \" + user.getAge());\n        });\n\n        System.out.println(\"****** Aftre Sorting ******\");\n\n        users.sort(\n                Comparator.comparing(User::getFirstName).thenComparing(User::getLastName).thenComparing(User::getAge));\n\n        users.forEach(user -&gt; {\n            System.out.println(user.getFirstName() + \" , \" + user.getLastName() + \" , \" + user.getAge());\n        });\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3429817,"reputation":486,"user_id":2874585,"display_name":"Sachchit Bansal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1578040348,"creation_date":1578039151,"answer_id":59575149,"question_id":369512,"body_markdown":"Code implementation of the same is here if we have to sort the Person object based on multiple fields.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n\r\n    public class Person {\r\n\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Person(String firstName, String lastName, int age) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n    }\r\n\r\n\r\n    static class PersonSortingComparator implements Comparator&lt;Person&gt; {\r\n\r\n        @Override\r\n        public int compare(Person person1, Person person2) {\r\n\r\n            // for first name comparison\r\n            int firstNameCompare = person1.getFirstName().compareTo(person2.getFirstName());\r\n\r\n            // for last name comparison\r\n            int lastNameCompare = person1.getLastName().compareTo(person2.getLastName());\r\n\r\n            // for last name comparison\r\n            int ageCompare = person1.getAge() - person2.getAge();\r\n\r\n            // Now comparing\r\n            if (firstNameCompare == 0) {\r\n                if (lastNameCompare == 0) {\r\n                    return ageCompare;\r\n                }\r\n                return lastNameCompare;\r\n            }\r\n            return firstNameCompare;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Person person1 = new Person(&quot;Ajay&quot;, &quot;Kumar&quot;, 27);\r\n        Person person2 = new Person(&quot;Ajay&quot;,&quot;Gupta&quot;, 23);\r\n        Person person3 = new Person(&quot;Ajay&quot;,&quot;Kumar&quot;, 22);\r\n\r\n\r\n        ArrayList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\r\n        persons.add(person1);\r\n        persons.add(person2);\r\n        persons.add(person3);\r\n\r\n\r\n        System.out.println(&quot;Before Sorting:\\n&quot;);\r\n        for (Person person : persons) {\r\n            System.out.println(person.firstName + &quot; &quot; + person.lastName + &quot; &quot; + person.age);\r\n        }\r\n\r\n        Collections.sort(persons, new PersonSortingComparator());\r\n\r\n        System.out.println(&quot;After Sorting:\\n&quot;);\r\n        for (Person person : persons) {\r\n            System.out.println(person.firstName + &quot; &quot; + person.lastName + &quot; &quot; + person.age);\r\n        }\r\n    }\r\n\r\n    }\r\n","title":"How to compare objects by multiple fields","body":"<p>Code implementation of the same is here if we have to sort the Person object based on multiple fields.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\n\npublic class Person {\n\nprivate String firstName;\nprivate String lastName;\nprivate int age;\n\npublic String getFirstName() {\n    return firstName;\n}\n\npublic void setFirstName(String firstName) {\n    this.firstName = firstName;\n}\n\npublic String getLastName() {\n    return lastName;\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic int getAge() {\n    return age;\n}\n\npublic void setAge(int age) {\n    this.age = age;\n}\n\npublic Person(String firstName, String lastName, int age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n}\n\n\nstatic class PersonSortingComparator implements Comparator&lt;Person&gt; {\n\n    @Override\n    public int compare(Person person1, Person person2) {\n\n        // for first name comparison\n        int firstNameCompare = person1.getFirstName().compareTo(person2.getFirstName());\n\n        // for last name comparison\n        int lastNameCompare = person1.getLastName().compareTo(person2.getLastName());\n\n        // for last name comparison\n        int ageCompare = person1.getAge() - person2.getAge();\n\n        // Now comparing\n        if (firstNameCompare == 0) {\n            if (lastNameCompare == 0) {\n                return ageCompare;\n            }\n            return lastNameCompare;\n        }\n        return firstNameCompare;\n    }\n}\n\npublic static void main(String[] args) {\n    Person person1 = new Person(\"Ajay\", \"Kumar\", 27);\n    Person person2 = new Person(\"Ajay\",\"Gupta\", 23);\n    Person person3 = new Person(\"Ajay\",\"Kumar\", 22);\n\n\n    ArrayList&lt;Person&gt; persons = new ArrayList&lt;&gt;();\n    persons.add(person1);\n    persons.add(person2);\n    persons.add(person3);\n\n\n    System.out.println(\"Before Sorting:\\n\");\n    for (Person person : persons) {\n        System.out.println(person.firstName + \" \" + person.lastName + \" \" + person.age);\n    }\n\n    Collections.sort(persons, new PersonSortingComparator());\n\n    System.out.println(\"After Sorting:\\n\");\n    for (Person person : persons) {\n        System.out.println(person.firstName + \" \" + person.lastName + \" \" + person.age);\n    }\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16917807,"reputation":1246,"user_id":12235376,"display_name":"pallgeuer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608376494,"creation_date":1608376494,"answer_id":65369206,"question_id":369512,"body_markdown":"Better late than never - if you&#39;re looking for unnecessary clutter or overhead then it&#39;s hard to beat the following in terms of least code/fast execution at the same time.\r\n\r\n**Data class:**\r\n```\r\npublic class MyData {\r\n    int id;\r\n    boolean relevant;\r\n    String name;\r\n    float value;\r\n}\r\n```\r\n\r\n**Comparator:**\r\n```\r\npublic class MultiFieldComparator implements Comparator&lt;MyData&gt; {\r\n    @Override\r\n    public int compare(MyData dataA, MyData dataB) {\r\n        int result;\r\n        if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\r\n           (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\r\n           (result = dataA.name.compareTo(dataB.name)) == 0)\r\n            result = Float.compare(dataA.value, dataB.value);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nIf you are just looking to sort a collection by a custom order then the following is even cleaner:\r\n```\r\nmyDataList.sort((dataA, dataB) -&gt; {\r\n    int result;\r\n    if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\r\n       (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\r\n       (result = dataA.name.compareTo(dataB.name)) == 0)\r\n        result = Float.compare(dataA.value, dataB.value);\r\n    return result;\r\n});\r\n```","title":"How to compare objects by multiple fields","body":"<p>Better late than never - if you're looking for unnecessary clutter or overhead then it's hard to beat the following in terms of least code/fast execution at the same time.</p>\n<p><strong>Data class:</strong></p>\n<pre><code>public class MyData {\n    int id;\n    boolean relevant;\n    String name;\n    float value;\n}\n</code></pre>\n<p><strong>Comparator:</strong></p>\n<pre><code>public class MultiFieldComparator implements Comparator&lt;MyData&gt; {\n    @Override\n    public int compare(MyData dataA, MyData dataB) {\n        int result;\n        if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\n           (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\n           (result = dataA.name.compareTo(dataB.name)) == 0)\n            result = Float.compare(dataA.value, dataB.value);\n        return result;\n    }\n}\n</code></pre>\n<p>If you are just looking to sort a collection by a custom order then the following is even cleaner:</p>\n<pre><code>myDataList.sort((dataA, dataB) -&gt; {\n    int result;\n    if((result = Integer.compare(dataA.id, dataB.id)) == 0 &amp;&amp;\n       (result = Boolean.compare(dataA.relevant, dataB.relevant)) == 0 &amp;&amp;\n       (result = dataA.name.compareTo(dataB.name)) == 0)\n        result = Float.compare(dataA.value, dataB.value);\n    return result;\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1776813,"reputation":735,"user_id":1620446,"display_name":"Abhilash Ranjan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642011851,"creation_date":1642011851,"answer_id":70686559,"question_id":369512,"body_markdown":"Java 8 through lambda way we can compare by method reference.\r\nStudent POJO  \r\n\r\n    public class Student {\r\n    int id;\r\n    String firstName;\r\n    String lastName;\r\n    String subject;\r\n\r\n    public Student(int id, String firstName, String lastName, String subject) {\r\n        this.id = id;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.subject = subject;\r\n    }\r\n    enter code here\r\n\r\nNow we can sort based on \r\n\r\n   ` 1. id-&gt;FirstName-&gt;LastName-&gt;Subject \r\n     2. Subject-&gt;id-&gt;FirstName-&gt;LastName`\r\n\r\n We will use Comparator in array Stream \r\n\r\n    public class TestComprator {\r\n    public static void main(String[] args) {\r\n        Student s1= new Student(108, &quot;James&quot;, &quot;Testo&quot;, &quot;Physics&quot;);\r\n        Student s2= new Student(101, &quot;Fundu&quot;, &quot;Barito&quot;, &quot;Chem&quot;);\r\n        Student s3= new Student(105, &quot;Sindhu&quot;, &quot;Sharan&quot;, &quot;Math&quot;);\r\n        Student s4= new Student(98, &quot;Rechel&quot;, &quot;Stephen&quot;, &quot;Physics&quot;);\r\n        System.out.printf(&quot;----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------&quot;);\r\n        Arrays.asList(s1,s2,s3,s4).stream()\r\n                .sorted(Comparator.comparing(Student::getId)\r\n                        .thenComparing(Student::getFirstName)\r\n                    .thenComparing(Student::getLastName)\r\n                    .thenComparing(Student::getSubject))\r\n                .forEach(System.out::println);\r\n\r\n        System.out.printf(&quot;----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\\n&quot;);\r\n        Arrays.asList(s1,s2,s3,s4).stream()\r\n                .sorted(Comparator. comparing(Student::getSubject)\r\n                        .thenComparing(Student::getId)\r\n                        .thenComparing(Student::getFirstName)\r\n                        .thenComparing(Student::getLastName)\r\n                       )\r\n                .forEach(System.out::println);\r\n    }\r\n}\r\n\r\n\r\n\r\nOutput:- \r\n\r\n    `----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------\r\n    Student{id=98, firstName=&#39;Rechel&#39;, lastName=&#39;Stephen&#39;, subject=&#39;Physics&#39;}\r\n    Student{id=101, firstName=&#39;Fundu&#39;, lastName=&#39;Barito&#39;, subject=&#39;Chem&#39;}\r\n    Student{id=105, firstName=&#39;Sindhu&#39;, lastName=&#39;Sharan&#39;, subject=&#39;Math&#39;}\r\n    Student{id=108, firstName=&#39;James&#39;, lastName=&#39;Testo&#39;, subject=&#39;Physics&#39;}\r\n     ----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\r\n    Student{id=101, firstName=&#39;Fundu&#39;, lastName=&#39;Barito&#39;, subject=&#39;Chem&#39;}\r\n    Student{id=105, firstName=&#39;Sindhu&#39;, lastName=&#39;Sharan&#39;, subject=&#39;Math&#39;}\r\n    Student{id=98, firstName=&#39;Rechel&#39;, lastName=&#39;Stephen&#39;, subject=&#39;Physics&#39;}\r\n    Student{id=108, firstName=&#39;James&#39;, lastName=&#39;Testo&#39;, subject=&#39;Physics&#39;}\r\n\r\n","title":"How to compare objects by multiple fields","body":"<p>Java 8 through lambda way we can compare by method reference.\nStudent POJO</p>\n<pre><code>public class Student {\nint id;\nString firstName;\nString lastName;\nString subject;\n\npublic Student(int id, String firstName, String lastName, String subject) {\n    this.id = id;\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.subject = subject;\n}\nenter code here\n</code></pre>\n<p>Now we can sort based on</p>\n<p><code> 1. id-&gt;FirstName-&gt;LastName-&gt;Subject  2. Subject-&gt;id-&gt;FirstName-&gt;LastName</code></p>\n<p>We will use Comparator in array Stream</p>\n<pre><code>public class TestComprator {\npublic static void main(String[] args) {\n    Student s1= new Student(108, &quot;James&quot;, &quot;Testo&quot;, &quot;Physics&quot;);\n    Student s2= new Student(101, &quot;Fundu&quot;, &quot;Barito&quot;, &quot;Chem&quot;);\n    Student s3= new Student(105, &quot;Sindhu&quot;, &quot;Sharan&quot;, &quot;Math&quot;);\n    Student s4= new Student(98, &quot;Rechel&quot;, &quot;Stephen&quot;, &quot;Physics&quot;);\n    System.out.printf(&quot;----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------&quot;);\n    Arrays.asList(s1,s2,s3,s4).stream()\n            .sorted(Comparator.comparing(Student::getId)\n                    .thenComparing(Student::getFirstName)\n                .thenComparing(Student::getLastName)\n                .thenComparing(Student::getSubject))\n            .forEach(System.out::println);\n\n    System.out.printf(&quot;----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\\n&quot;);\n    Arrays.asList(s1,s2,s3,s4).stream()\n            .sorted(Comparator. comparing(Student::getSubject)\n                    .thenComparing(Student::getId)\n                    .thenComparing(Student::getFirstName)\n                    .thenComparing(Student::getLastName)\n                   )\n            .forEach(System.out::println);\n}\n</code></pre>\n<p>}</p>\n<p>Output:-</p>\n<pre><code>`----------id-&gt;FirstName-&gt;LastName-&gt;Subject-------------\nStudent{id=98, firstName='Rechel', lastName='Stephen', subject='Physics'}\nStudent{id=101, firstName='Fundu', lastName='Barito', subject='Chem'}\nStudent{id=105, firstName='Sindhu', lastName='Sharan', subject='Math'}\nStudent{id=108, firstName='James', lastName='Testo', subject='Physics'}\n ----Subject-&gt;id-&gt;FirstName-&gt;LastName ------\nStudent{id=101, firstName='Fundu', lastName='Barito', subject='Chem'}\nStudent{id=105, firstName='Sindhu', lastName='Sharan', subject='Math'}\nStudent{id=98, firstName='Rechel', lastName='Stephen', subject='Physics'}\nStudent{id=108, firstName='James', lastName='Testo', subject='Physics'}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7629544,"reputation":335,"user_id":5785058,"display_name":"Shiv Krishna Jaiswal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695026027,"creation_date":1695026027,"answer_id":77125609,"question_id":369512,"body_markdown":"I will suggest creating a `static final` attribute `CMP` and then use it in `compareTo` method,\r\n```\r\npublic class Person {\r\n    private static final Comparator&lt;Person&gt; CMP = Comparator.comparing(Person::getFirstName)\r\n                                                            .thenComparing(Person::getLastName)\r\n                                                            .thenComparingInt(Person::getAge);\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n\r\n    /* Constructors */\r\n\r\n    /* Methods */\r\n\r\n    @Override\r\n    public int compareTo(Person p) {\r\n        return CMP.compare(this, p);\r\n    }\r\n}\r\n```","title":"How to compare objects by multiple fields","body":"<p>I will suggest creating a <code>static final</code> attribute <code>CMP</code> and then use it in <code>compareTo</code> method,</p>\n<pre><code>public class Person {\n    private static final Comparator&lt;Person&gt; CMP = Comparator.comparing(Person::getFirstName)\n                                                            .thenComparing(Person::getLastName)\n                                                            .thenComparingInt(Person::getAge);\n    private String firstName;\n    private String lastName;\n    private int age;\n\n    /* Constructors */\n\n    /* Methods */\n\n    @Override\n    public int compareTo(Person p) {\n        return CMP.compare(this, p);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12462,"reputation":162436,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555518,"favorite_count":0,"down_vote_count":0,"up_vote_count":317,"accepted_answer_id":369537,"answer_count":24,"score":317,"last_activity_date":1695026027,"creation_date":1229371003,"question_id":369512,"body_markdown":"Assume you have some objects which have several fields they can be compared by:\r\n\r\n    public class Person {\r\n        \r\n        private String firstName;\r\n        private String lastName;\r\n        private String age;\r\n        \r\n        /* Constructors */\r\n\r\n        /* Methods */\r\n\r\n    }\r\n\r\nSo in this example, when you ask if:\r\n\r\n    a.compareTo(b) &gt; 0\r\n\r\nyou might be asking if a&#39;s last name comes before b&#39;s, or if a is older than b, etc...\r\n\r\nWhat is the cleanest way to enable multiple comparison between these kinds of objects without adding unnecessary clutter or overhead?\r\n\r\n  - `java.lang.Comparable` interface allows comparison by one field only\r\n  - Adding numerous compare methods (i.e. `compareByFirstName()`, `compareByAge()`, etc...) is cluttered in my opinion.\r\n\r\nSo what is the best way to go about this?","title":"How to compare objects by multiple fields","body":"<p>Assume you have some objects which have several fields they can be compared by:</p>\n\n<pre><code>public class Person {\n\n    private String firstName;\n    private String lastName;\n    private String age;\n\n    /* Constructors */\n\n    /* Methods */\n\n}\n</code></pre>\n\n<p>So in this example, when you ask if:</p>\n\n<pre><code>a.compareTo(b) &gt; 0\n</code></pre>\n\n<p>you might be asking if a's last name comes before b's, or if a is older than b, etc...</p>\n\n<p>What is the cleanest way to enable multiple comparison between these kinds of objects without adding unnecessary clutter or overhead?</p>\n\n<ul>\n<li><code>java.lang.Comparable</code> interface allows comparison by one field only</li>\n<li>Adding numerous compare methods (i.e. <code>compareByFirstName()</code>, <code>compareByAge()</code>, etc...) is cluttered in my opinion.</li>\n</ul>\n\n<p>So what is the best way to go about this?</p>\n"},{"tags":["java","javascript","minify","yui-compressor"],"comments":[{"owner":{"account_id":1796407,"reputation":7412,"user_id":1635726,"display_name":"closure"},"score":0,"creation_date":1356182846,"post_id":14003126,"comment_id":19331450,"body_markdown":"Is the code really generated? Why can&#39;t the generation logic create code that is minified (using short variable names).","body":"Is the code really generated? Why can&#39;t the generation logic create code that is minified (using short variable names)."},{"owner":{"account_id":1493926,"reputation":109,"user_id":1400330,"accept_rate":0,"display_name":"Dmitry B."},"score":0,"creation_date":1356183118,"post_id":14003126,"comment_id":19331494,"body_markdown":"This is the good point and I also thought about this. But not whole code is completely generated. It is built of some already created templates and produces some code as well. Your solution is a good way to think about but I just want to be sure there are no other solutions I can use.","body":"This is the good point and I also thought about this. But not whole code is completely generated. It is built of some already created templates and produces some code as well. Your solution is a good way to think about but I just want to be sure there are no other solutions I can use."},{"owner":{"account_id":1796407,"reputation":7412,"user_id":1635726,"display_name":"closure"},"score":0,"creation_date":1356183394,"post_id":14003126,"comment_id":19331554,"body_markdown":"My suggestion is to do a little read up on minification. I don&#39;t think minifier do much. Your minification will be superior as you are generating the code and you are in full control of the logic.","body":"My suggestion is to do a little read up on minification. I don&#39;t think minifier do much. Your minification will be superior as you are generating the code and you are in full control of the logic."},{"owner":{"account_id":262268,"reputation":15911,"user_id":547020,"accept_rate":93,"display_name":"Eliran Malka"},"score":0,"creation_date":1356184905,"post_id":14003126,"comment_id":19331884,"body_markdown":"see [this java library](http://ajaxian.com/archives/utility-javascript-obfuscator).","body":"see <a href=\"http://ajaxian.com/archives/utility-javascript-obfuscator\" rel=\"nofollow noreferrer\">this java library</a>."},{"owner":{"account_id":1023850,"reputation":37494,"user_id":1033581,"accept_rate":66,"display_name":"Cœur"},"score":0,"creation_date":1531068797,"post_id":14003126,"comment_id":89447322,"body_markdown":"@EliranMalka I removed the link to [What is the best free JavaScript obfuscator that is available as a Java library?](https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library) as the question is still opened.","body":"@EliranMalka I removed the link to <a href=\"https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library\">What is the best free JavaScript obfuscator that is available as a Java library?</a> as the question is still opened."},{"owner":{"account_id":262268,"reputation":15911,"user_id":547020,"accept_rate":93,"display_name":"Eliran Malka"},"score":0,"creation_date":1531146714,"post_id":14003126,"comment_id":89474761,"body_markdown":"Possible duplicate of [What is the best free JavaScript obfuscator that is available as a Java library?](https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/4050099/what-is-the-best-free-javascript-obfuscator-that-is-available-as-a-java-library\">What is the best free JavaScript obfuscator that is available as a Java library?</a>"}],"answers":[{"tags":[],"owner":{"account_id":7805313,"reputation":1804,"user_id":5903395,"display_name":"Gee Bee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498693658,"creation_date":1498693658,"answer_id":44814228,"question_id":14003126,"body_markdown":"**Plan a)**\r\n\r\nUse the YUI not as a command line tool, but as a Java library and call it in your code.\r\n\r\nThe JavaScriptCompressor accepts a Reader descendant (e.g. InputFileReader).\r\n \r\n        JavaScriptCompressor compressor = new JavaScriptCompressor(in, new YuiCompressorErrorReporter());\r\n\r\nYou can actually get your raw JavaScript and convert it to a Stream, e.g. https://stackoverflow.com/questions/782178/how-do-i-convert-a-string-to-an-inputstream-in-java \r\n\r\nA full example of integration is here:\r\n\r\nhttp://blog.teamextension.com/yui-compressor-in-java-246\r\n\r\n**Plan b)**\r\n\r\nNote that you could simply save the generated javascript into the filesystem, and call the command line Yui from Java. Then read the minified file from the filesystem, and that&#39;s it, you have a minified JS.\r\n","title":"Minify and obfuscate JavaScript code in Java","body":"<p><strong>Plan a)</strong></p>\n\n<p>Use the YUI not as a command line tool, but as a Java library and call it in your code.</p>\n\n<p>The JavaScriptCompressor accepts a Reader descendant (e.g. InputFileReader).</p>\n\n<pre><code>    JavaScriptCompressor compressor = new JavaScriptCompressor(in, new YuiCompressorErrorReporter());\n</code></pre>\n\n<p>You can actually get your raw JavaScript and convert it to a Stream, e.g. <a href=\"https://stackoverflow.com/questions/782178/how-do-i-convert-a-string-to-an-inputstream-in-java\">How do I convert a String to an InputStream in Java?</a> </p>\n\n<p>A full example of integration is here:</p>\n\n<p><a href=\"http://blog.teamextension.com/yui-compressor-in-java-246\" rel=\"nofollow noreferrer\">http://blog.teamextension.com/yui-compressor-in-java-246</a></p>\n\n<p><strong>Plan b)</strong></p>\n\n<p>Note that you could simply save the generated javascript into the filesystem, and call the command line Yui from Java. Then read the minified file from the filesystem, and that's it, you have a minified JS.</p>\n"},{"tags":[],"owner":{"account_id":29471457,"reputation":1,"user_id":22583999,"display_name":"w2sfot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025921,"creation_date":1695025921,"answer_id":77125598,"question_id":14003126,"body_markdown":"You can try JShaman JavaScript Obfuscator, it is a good JavaScript obfuscation tool. It has a Web API interface that can be called. You can invoke and obfuscate JavaScript code in Java.","title":"Minify and obfuscate JavaScript code in Java","body":"<p>You can try JShaman JavaScript Obfuscator, it is a good JavaScript obfuscation tool. It has a Web API interface that can be called. You can invoke and obfuscate JavaScript code in Java.</p>\n"}],"owner":{"account_id":1493926,"reputation":109,"user_id":1400330,"accept_rate":0,"display_name":"Dmitry B."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5090,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1695025921,"creation_date":1356182024,"question_id":14003126,"body_markdown":"I use YUI Compressor for years to minify and obfuscate JS files. But now I need to obfuscate and minify dynamically generated JavaScript code on the server. So the main difference here is that there will not be JS files that should be obfuscated but requests to the server (Java) which should generate portions of JS code and return them already minified and obfuscated.\r\n\r\nYUI Compressor does not give the possibility to do that. I watched in the sources and have already figured out what methods should be overridden to make it work. I would not like to do this (but will have to in case there is no other way).\r\n\r\nSo are there any other Java libraries allowing to minify and obfuscate JavaScript strings directly from Java code?\r\n","title":"Minify and obfuscate JavaScript code in Java","body":"<p>I use YUI Compressor for years to minify and obfuscate JS files. But now I need to obfuscate and minify dynamically generated JavaScript code on the server. So the main difference here is that there will not be JS files that should be obfuscated but requests to the server (Java) which should generate portions of JS code and return them already minified and obfuscated.</p>\n\n<p>YUI Compressor does not give the possibility to do that. I watched in the sources and have already figured out what methods should be overridden to make it work. I would not like to do this (but will have to in case there is no other way).</p>\n\n<p>So are there any other Java libraries allowing to minify and obfuscate JavaScript strings directly from Java code?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1694527146,"post_id":77089367,"comment_id":135900674,"body_markdown":"I&#39;m not sure I understand the question. &#39;When I try to update the EntityA and update the mappings&#39; - which mappings? You haven&#39;t shown any mappings from `EntityA` to `CourseTags`","body":"I&#39;m not sure I understand the question. &#39;When I try to update the EntityA and update the mappings&#39; - which mappings? You haven&#39;t shown any mappings from <code>EntityA</code> to <code>CourseTags</code>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1694528866,"post_id":77089367,"comment_id":135901095,"body_markdown":"This should be tagged Hibernate as it is not jpa. Except for a missing filter so you don&#39;t see the entities marked as deleted, what you&#39;ve shown looks correct.  Looking at the code here https://www.baeldung.com/spring-jpa-soft-delete which has a working, runable test case, how is your project different? Maybe run it and step through the differences, and turn on logging to compare as maybe something is preventing that annotation from being picked up, you have other errors or warnings you are missing etc.","body":"This should be tagged Hibernate as it is not jpa. Except for a missing filter so you don&#39;t see the entities marked as deleted, what you&#39;ve shown looks correct.  Looking at the code here <a href=\"https://www.baeldung.com/spring-jpa-soft-delete\" rel=\"nofollow noreferrer\">baeldung.com/spring-jpa-soft-delete</a> which has a working, runable test case, how is your project different? Maybe run it and step through the differences, and turn on logging to compare as maybe something is preventing that annotation from being picked up, you have other errors or warnings you are missing etc."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694533284,"creation_date":1694532454,"answer_id":77090590,"question_id":77089367,"body_markdown":"Issue here is that your expectations are wrong, as you&#39;ve double mapped the &quot;entity_b&quot; table. \r\n\r\nThe CourseTags entity and its @SQLDelete query apply when you remove CourseTags entity instances - via EntityManager.remove(courseTag) calls. If you try that, you should see it working.\r\n\r\nWhat you must be doing is trying to remove `List&lt;EntityC&gt; mappings` references. This is a ManyToMany relationship which is also set to use the &quot;entity_b&quot; table, but completely independently of the CourseTags entity. None of the settings on CourseTags apply to the ManyToMany; removing a reference will just immediately cause JPA to clean up (aka delete) the row in the join table. \r\n\r\nIf you want to have additional state in there (you have an ID and is_deleted in there), you should probably treat it as an entity - and only as an entity.\r\n\r\nIn EntityA, use:\r\n\r\n    @OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;EntityB&gt; mappings;\r\n\r\nWhile in B:\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;entity_b&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\r\n    public class CourseTags extends BaseEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @JoinColumn(name = &quot;entity_a_id&quot;)\r\n        EntityA entityA;\r\n        @JoinColumn(name = &quot;entity_c_id&quot;)\r\n        EntityC entityC;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        Boolean isDeleted = false;\r\n    }\r\n\r\n","title":"Perform soft delete in Many to Many mapping - JPA - Spring Boot","body":"<p>Issue here is that your expectations are wrong, as you've double mapped the &quot;entity_b&quot; table.</p>\n<p>The CourseTags entity and its @SQLDelete query apply when you remove CourseTags entity instances - via EntityManager.remove(courseTag) calls. If you try that, you should see it working.</p>\n<p>What you must be doing is trying to remove <code>List&lt;EntityC&gt; mappings</code> references. This is a ManyToMany relationship which is also set to use the &quot;entity_b&quot; table, but completely independently of the CourseTags entity. None of the settings on CourseTags apply to the ManyToMany; removing a reference will just immediately cause JPA to clean up (aka delete) the row in the join table.</p>\n<p>If you want to have additional state in there (you have an ID and is_deleted in there), you should probably treat it as an entity - and only as an entity.</p>\n<p>In EntityA, use:</p>\n<pre><code>@OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.LAZY)\nprivate List&lt;EntityB&gt; mappings;\n</code></pre>\n<p>While in B:</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;entity_b&quot;)\n@SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\npublic class CourseTags extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @JoinColumn(name = &quot;entity_a_id&quot;)\n    EntityA entityA;\n    @JoinColumn(name = &quot;entity_c_id&quot;)\n    EntityC entityC;\n    @Column(name = &quot;is_deleted&quot;)\n    Boolean isDeleted = false;\n}\n</code></pre>\n"}],"owner":{"account_id":6325177,"reputation":1443,"user_id":4911868,"accept_rate":100,"display_name":"javaDeveloper"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695025904,"creation_date":1694523669,"question_id":77089367,"body_markdown":"I have an entity\r\n\r\n    class EntityA {\r\n     @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    }\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n        @JoinTable(name = &quot;entity_b&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;entity_a_id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;entity_c_id&quot;))\r\n        @JsonView(Views.ALL.class)\r\n        @JsonIgnore\r\n        private List&lt;EntityC&gt; mappings;\r\n      }\r\n\r\nI dont have delete permission on this database instead we use soft delete.\r\n\r\nI definded an entity_b\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;entity_b&quot;)\r\n    @SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\r\n    public class EntityB extends BaseEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @Column(name = &quot;entity_a_id&quot;)\r\n        Long entityAId;\r\n        @Column(name = &quot;entity_c_id&quot;)\r\n        Long entityCId;\r\n        @Column(name = &quot;is_deleted&quot;)\r\n        Boolean isDeleted = false;\r\n    }\r\n\r\nWhen I try to update the EntityA and update the mappings I expected this to call the @SQLDelete query for deleting but its executing the actual DELETE operation.\r\n\r\nIs it possible to override the DELETE operation. Across the whole project for all entities or individuial entities, both solution are okay.\r\n\r\nNote: I was able to solve with manually handling the deletion instead of letting jpa does it, but ius it possible that I could do it minimal code and I also have multiple such ManyToMany relationships. Looking for a generic solution that can apply across the project","title":"Perform soft delete in Many to Many mapping - JPA - Spring Boot","body":"<p>I have an entity</p>\n<pre><code>class EntityA {\n @Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n}\n@ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;entity_b&quot;,\n            joinColumns = @JoinColumn(name = &quot;entity_a_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;entity_c_id&quot;))\n    @JsonView(Views.ALL.class)\n    @JsonIgnore\n    private List&lt;EntityC&gt; mappings;\n  }\n</code></pre>\n<p>I dont have delete permission on this database instead we use soft delete.</p>\n<p>I definded an entity_b</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;entity_b&quot;)\n@SQLDelete(sql = &quot;UPDATE entity_b SET is_deleted = 1 WHERE id=?&quot;)\npublic class EntityB extends BaseEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Column(name = &quot;entity_a_id&quot;)\n    Long entityAId;\n    @Column(name = &quot;entity_c_id&quot;)\n    Long entityCId;\n    @Column(name = &quot;is_deleted&quot;)\n    Boolean isDeleted = false;\n}\n</code></pre>\n<p>When I try to update the EntityA and update the mappings I expected this to call the @SQLDelete query for deleting but its executing the actual DELETE operation.</p>\n<p>Is it possible to override the DELETE operation. Across the whole project for all entities or individuial entities, both solution are okay.</p>\n<p>Note: I was able to solve with manually handling the deletion instead of letting jpa does it, but ius it possible that I could do it minimal code and I also have multiple such ManyToMany relationships. Looking for a generic solution that can apply across the project</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":1,"creation_date":1670180295,"post_id":74679907,"comment_id":131810254,"body_markdown":"What is your question or concern?","body":"What is your question or concern?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1670180421,"post_id":74679907,"comment_id":131810289,"body_markdown":"Why do you return `0` when your index `i` is `0` or `x`?","body":"Why do you return <code>0</code> when your index <code>i</code> is <code>0</code> or <code>x</code>?"},{"owner":{"account_id":27144540,"reputation":9,"user_id":20684983,"display_name":"anime weeb"},"score":0,"creation_date":1672220358,"post_id":74679907,"comment_id":132244005,"body_markdown":"Thanks guys the issue i resolved, I&#39;m a beginner at coding I hope to get better!","body":"Thanks guys the issue i resolved, I&#39;m a beginner at coding I hope to get better!"}],"answers":[{"tags":[],"owner":{"account_id":27144591,"reputation":29,"user_id":20685029,"display_name":"Kaarssteun"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1670180911,"creation_date":1670180437,"answer_id":74679939,"question_id":74679907,"body_markdown":"The given code computes the sum of all elements in the array and then checks for each index if the sum of elements to the left of that index is equal to the sum of elements to the right of that index. If this is the case, it returns the index.\r\n\r\nThere are several issues with this approach:\r\n\r\nThe method sumA is not used, so it can be removed.\r\nThe method does not check if the pivot index is on the left or right edge of the array, so it can return incorrect results in these cases.\r\nThe method only checks for the first pivot index and returns it, but there can be multiple pivot indices in an array. It should return the leftmost pivot index.\r\nTo fix these issues, the following changes can be made to the code:\r\n\r\nInitialize a variable leftSum to 0 and a variable rightSum to the sum of all elements in the array.\r\nIterate over the elements in the array from left to right.\r\nFor each index, add the element at that index to leftSum and subtract it from rightSum.\r\nIf leftSum is equal to rightSum, return the index.\r\nIf the end of the array is reached without finding a pivot index, return -1.\r\nThe updated code would look like this:\r\n\r\n    class Solution {\r\n        public int pivotIndex(int[] nums) {\r\n            // Initialize leftSum to 0 and rightSum to the sum of all elements in the array\r\n            int leftSum = 0;\r\n            int rightSum = 0;\r\n            for (int num : nums) {\r\n                rightSum += num;\r\n            }\r\n    \r\n            // Iterate over the elements in the array from left to right\r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                // Add the element at the current index to leftSum and subtract it from rightSum\r\n                leftSum += nums[i];\r\n                rightSum -= nums[i];\r\n    \r\n                // If leftSum is equal to rightSum, return the index\r\n                if (leftSum == rightSum) {\r\n                    return i;\r\n                }\r\n            }\r\n    \r\n            // If the end of the array is reached without finding a pivot index, return -1\r\n            return -1;\r\n        }\r\n    }\r\n\r\n","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<p>The given code computes the sum of all elements in the array and then checks for each index if the sum of elements to the left of that index is equal to the sum of elements to the right of that index. If this is the case, it returns the index.</p>\n<p>There are several issues with this approach:</p>\n<p>The method sumA is not used, so it can be removed.\nThe method does not check if the pivot index is on the left or right edge of the array, so it can return incorrect results in these cases.\nThe method only checks for the first pivot index and returns it, but there can be multiple pivot indices in an array. It should return the leftmost pivot index.\nTo fix these issues, the following changes can be made to the code:</p>\n<p>Initialize a variable leftSum to 0 and a variable rightSum to the sum of all elements in the array.\nIterate over the elements in the array from left to right.\nFor each index, add the element at that index to leftSum and subtract it from rightSum.\nIf leftSum is equal to rightSum, return the index.\nIf the end of the array is reached without finding a pivot index, return -1.\nThe updated code would look like this:</p>\n<pre><code>class Solution {\n    public int pivotIndex(int[] nums) {\n        // Initialize leftSum to 0 and rightSum to the sum of all elements in the array\n        int leftSum = 0;\n        int rightSum = 0;\n        for (int num : nums) {\n            rightSum += num;\n        }\n\n        // Iterate over the elements in the array from left to right\n        for (int i = 0; i &lt; nums.length; i++) {\n            // Add the element at the current index to leftSum and subtract it from rightSum\n            leftSum += nums[i];\n            rightSum -= nums[i];\n\n            // If leftSum is equal to rightSum, return the index\n            if (leftSum == rightSum) {\n                return i;\n            }\n        }\n\n        // If the end of the array is reached without finding a pivot index, return -1\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025883,"creation_date":1695025883,"answer_id":77125595,"question_id":74679907,"body_markdown":"    class Solution {\r\n         public int pivotIndex(int[] nums) {\r\n               int leftSum = 0, sum = Arrays.stream(nums).sum();\r\n\r\n               for (int i = 0; i &lt; nums.length; i++) {\r\n                  if (i != 0) {\r\n                     leftSum += nums[i - 1];\r\n                  }\r\n                  if (leftSum == sum - leftSum - nums[i]) {\r\n                      return i;\r\n                  }\r\n                }\r\n                return -1;\r\n          }\r\n     }\r\nTry this code using Java format at Leetcode you will pass..","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<pre><code>class Solution {\n     public int pivotIndex(int[] nums) {\n           int leftSum = 0, sum = Arrays.stream(nums).sum();\n\n           for (int i = 0; i &lt; nums.length; i++) {\n              if (i != 0) {\n                 leftSum += nums[i - 1];\n              }\n              if (leftSum == sum - leftSum - nums[i]) {\n                  return i;\n              }\n            }\n            return -1;\n      }\n }\n</code></pre>\n<p>Try this code using Java format at Leetcode you will pass..</p>\n"}],"owner":{"account_id":27144540,"reputation":9,"user_id":20684983,"display_name":"anime weeb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1695025883,"creation_date":1670180154,"question_id":74679907,"body_markdown":"Problem:\r\n\r\n&gt; Given an array of integers nums, calculate the pivot index of this array.\r\n&gt; \r\n&gt; The pivot index is the index where the sum of all the numbers strictly to the left of the index is equal to the sum of all the numbers strictly to the index&#39;s right.\r\n&gt;\r\n&gt; If the index is on the left edge of the array, then the left sum is 0 because there are no elements to the left. This also applies to the right edge of the array.\r\n&gt;\r\n&gt; Return the leftmost pivot index. If no such index exists, return -1.\r\n\r\nCode:\r\n\r\n```\r\nclass Solution {\r\n\r\n    public int sumA(int a, int b, int[] s){\r\n            int res=0;\r\n            for(int i = a; i&lt;b; i++){\r\n                res= res + s[i];\r\n            }\r\n            return res;\r\n        }\r\n\r\n\r\n    public int pivotIndex(int[] nums) {\r\n        int sum = 0;\r\n        int i=0;\r\n        int flag = 0;\r\n        int x = nums.length;\r\n\r\n        sum= sumA(0, x, nums);\r\n\r\n        for(i = 1; i &lt; nums.length; i++){\r\n            if((sum - nums[i] - sumA(0, i-1, nums)) \r\n            == (sumA(0, i-1, nums))){\r\n                flag=1;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if(flag == 1) return i;\r\n        else if((i==0) ||(i==x)) return 0;\r\n        else return -1;\r\n        \r\n    }\r\n}\r\n```","title":"I tried the problem Leetcode-724 (Pivot index) - how can I correct my approach?","body":"<p>Problem:</p>\n<blockquote>\n<p>Given an array of integers nums, calculate the pivot index of this array.</p>\n<p>The pivot index is the index where the sum of all the numbers strictly to the left of the index is equal to the sum of all the numbers strictly to the index's right.</p>\n<p>If the index is on the left edge of the array, then the left sum is 0 because there are no elements to the left. This also applies to the right edge of the array.</p>\n<p>Return the leftmost pivot index. If no such index exists, return -1.</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>class Solution {\n\n    public int sumA(int a, int b, int[] s){\n            int res=0;\n            for(int i = a; i&lt;b; i++){\n                res= res + s[i];\n            }\n            return res;\n        }\n\n\n    public int pivotIndex(int[] nums) {\n        int sum = 0;\n        int i=0;\n        int flag = 0;\n        int x = nums.length;\n\n        sum= sumA(0, x, nums);\n\n        for(i = 1; i &lt; nums.length; i++){\n            if((sum - nums[i] - sumA(0, i-1, nums)) \n            == (sumA(0, i-1, nums))){\n                flag=1;\n                break;\n            }\n        }\n\n        if(flag == 1) return i;\n        else if((i==0) ||(i==x)) return 0;\n        else return -1;\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","maven-3"],"comments":[{"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"score":0,"creation_date":1342105855,"post_id":11454822,"comment_id":15118380,"body_markdown":"what do you mean by &quot;automatically&quot;? You must declare all your dependencies in your POM as with any normal Maven project. IntelliJ or other IDE will just download them if they are declared there...","body":"what do you mean by &quot;automatically&quot;? You must declare all your dependencies in your POM as with any normal Maven project. IntelliJ or other IDE will just download them if they are declared there..."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":9,"creation_date":1342166360,"post_id":11454822,"comment_id":15137368,"body_markdown":"It downloads all dependencies but it doesn&#39;t seem to add all of them to classpath...","body":"It downloads all dependencies but it doesn&#39;t seem to add all of them to classpath..."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":3,"creation_date":1342166401,"post_id":11454822,"comment_id":15137380,"body_markdown":"and another problem is that intelliJ shows me red underlined errors only when I open that java file...","body":"and another problem is that intelliJ shows me red underlined errors only when I open that java file..."},{"owner":{"account_id":489116,"reputation":4969,"user_id":1228560,"accept_rate":48,"display_name":"RCross"},"score":4,"creation_date":1353600779,"post_id":11454822,"comment_id":18502794,"body_markdown":"One instance where you get this red line is if you have a SNAPSHOT dependency with a classifier, where a newer version of the dependency without the classifier exists.  This is perfectly legal in Maven, but IntelliJ gets confused trying to work out the path to the physical file in your local Maven repository.","body":"One instance where you get this red line is if you have a SNAPSHOT dependency with a classifier, where a newer version of the dependency without the classifier exists.  This is perfectly legal in Maven, but IntelliJ gets confused trying to work out the path to the physical file in your local Maven repository."},{"owner":{"account_id":10254,"reputation":8707,"user_id":19269,"accept_rate":80,"display_name":"Kevin Pauli"},"score":4,"creation_date":1449768352,"post_id":11454822,"comment_id":56160525,"body_markdown":"FYI this can still happen in 15.0.2.  Just happened to me.  Had to blow away my .iml file and .idea folder and reimport.  Incredibly frustrating b/c I spent 2 hours fighting it, and ultimately lost all my carefully crafted run configs.","body":"FYI this can still happen in 15.0.2.  Just happened to me.  Had to blow away my .iml file and .idea folder and reimport.  Incredibly frustrating b/c I spent 2 hours fighting it, and ultimately lost all my carefully crafted run configs."},{"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"score":3,"creation_date":1450879459,"post_id":11454822,"comment_id":56615576,"body_markdown":"@KevinPauli no need to remove IDEA project files for that, you could just &quot;Reimport All Maven Projects&quot; under &quot;Maven Projects&quot; tab for manual re-import.","body":"@KevinPauli no need to remove IDEA project files for that, you could just &quot;Reimport All Maven Projects&quot; under &quot;Maven Projects&quot; tab for manual re-import."},{"owner":{"account_id":444896,"reputation":1010,"user_id":837005,"accept_rate":50,"display_name":"DaddyMoe"},"score":1,"creation_date":1481377863,"post_id":11454822,"comment_id":69358836,"body_markdown":"Most times backup and blowing away your user **.m2 folder** or drill in offending packages and delete/rename and doing a `mvn clean install` does the trick.","body":"Most times backup and blowing away your user <b>.m2 folder</b> or drill in offending packages and delete/rename and doing a <code>mvn clean install</code> does the trick."},{"owner":{"account_id":53847,"reputation":1915,"user_id":161012,"accept_rate":29,"display_name":"Pierre Thibault"},"score":0,"creation_date":1494024278,"post_id":11454822,"comment_id":74668876,"body_markdown":"At the end it was an error in a parent pom.","body":"At the end it was an error in a parent pom."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":1,"creation_date":1535728603,"post_id":11454822,"comment_id":91187783,"body_markdown":"I love Eclipse way of downloading maven dependancies, right click on pom.xml and force update. I wonder why IDEA has made is difficult","body":"I love Eclipse way of downloading maven dependancies, right click on pom.xml and force update. I wonder why IDEA has made is difficult"},{"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"score":0,"creation_date":1572089365,"post_id":11454822,"comment_id":103457761,"body_markdown":"Had the same problem after cloning the deeplearning4j repo from github, my work around was to close intellij -&gt; delete the entire **`.idea`** folder -&gt; re-open the project -&gt; Build -&gt; Build Project","body":"Had the same problem after cloning the deeplearning4j repo from github, my work around was to close intellij -&gt; delete the entire <b><code>.idea</code></b> folder -&gt; re-open the project -&gt; Build -&gt; Build Project"},{"owner":{"account_id":7498629,"reputation":149,"user_id":5697889,"display_name":"Amandeep"},"score":0,"creation_date":1658378131,"post_id":11454822,"comment_id":129037640,"body_markdown":"**right click on the project/module &gt; Maven (at bottom) &gt; Reload Project**","body":"<b>right click on the project/module &gt; Maven (at bottom) &gt; Reload Project</b>"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1342106240,"creation_date":1342106240,"answer_id":11455049,"question_id":11454822,"body_markdown":"Try to Re-Import the project from the Maven Projects panel in IntelliJ IDEA. It should download and configure all the dependencies defined in your `pom.xml` automatically.\r\n\r\nIf download doesn&#39;t work from IDEA for some reason, try `mvn install` from the command line and see if the dependencies can be fetched.\r\n\r\nOf course all the required dependencies and any custom repositories must be defined directly in the `pom.xml` file.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Try to Re-Import the project from the Maven Projects panel in IntelliJ IDEA. It should download and configure all the dependencies defined in your <code>pom.xml</code> automatically.</p>\n\n<p>If download doesn't work from IDEA for some reason, try <code>mvn install</code> from the command line and see if the dependencies can be fetched.</p>\n\n<p>Of course all the required dependencies and any custom repositories must be defined directly in the <code>pom.xml</code> file.</p>\n"},{"tags":[],"owner":{"account_id":389422,"reputation":7780,"user_id":748883,"accept_rate":100,"display_name":"Alonso Dominguez"},"down_vote_count":5,"up_vote_count":326,"is_accepted":true,"score":321,"last_activity_date":1486118806,"creation_date":1342169956,"answer_id":11467266,"question_id":11454822,"body_markdown":"IntelliJ should download and add all your dependencies to the project&#39;s classpath automatically as long as your POM is compliant and all the dependencies are available.\r\n\r\nWhen importing Maven projects into IntelliJ an information box usually comes up asking you if you want to configure *Auto-Import* for Maven projects. That means that if you make any changes to your POM those changes will be loaded automatically.\r\n\r\nYou can enable such feature going to File &gt; Settings &gt; Maven &gt; Importing, there is a checkbox that says &quot;Import Maven projects automatically&quot;.\r\n\r\nIf that doesn&#39;t help, then I would suggest to make a full clean-up and start again:\r\n\r\n - Close your project window (and IntelliJ) and remove all `*.iml` files and all `.idea` folders (there should be one per module)\r\n - Run `mvn clean install` from the command line\r\n - Re-import the project into IntelliJ and pay attention when it asks you to enable auto-import\r\n\r\n**IntelliJ 2016 Update**:\r\n\r\nThe *Import Maven Projects automatically* setting has been moved to **Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Importing** in your IntelliJ preferences.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>IntelliJ should download and add all your dependencies to the project's classpath automatically as long as your POM is compliant and all the dependencies are available.</p>\n\n<p>When importing Maven projects into IntelliJ an information box usually comes up asking you if you want to configure <em>Auto-Import</em> for Maven projects. That means that if you make any changes to your POM those changes will be loaded automatically.</p>\n\n<p>You can enable such feature going to File > Settings > Maven > Importing, there is a checkbox that says \"Import Maven projects automatically\".</p>\n\n<p>If that doesn't help, then I would suggest to make a full clean-up and start again:</p>\n\n<ul>\n<li>Close your project window (and IntelliJ) and remove all <code>*.iml</code> files and all <code>.idea</code> folders (there should be one per module)</li>\n<li>Run <code>mvn clean install</code> from the command line</li>\n<li>Re-import the project into IntelliJ and pay attention when it asks you to enable auto-import</li>\n</ul>\n\n<p><strong>IntelliJ 2016 Update</strong>:</p>\n\n<p>The <em>Import Maven Projects automatically</em> setting has been moved to <strong>Build, Execution, Deployment > Build Tools > Maven > Importing</strong> in your IntelliJ preferences.</p>\n"},{"tags":[],"owner":{"account_id":249197,"reputation":3414,"user_id":525096,"accept_rate":67,"display_name":"Markus Coetzee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1352747203,"creation_date":1352747203,"answer_id":13349880,"question_id":11454822,"body_markdown":"When you create a new project you simply need to choose the option:\r\n\r\n...&lt;br&gt;\r\n**Import project from external model**&lt;br&gt;\r\n*Create IDEA project structure over existing external model (Eclipse, Maven...)*&lt;br&gt;\r\n...\r\n\r\nYou&#39;ll find it pretty straight forward from there.&lt;br&gt; \r\nAnd in your case you can close your project and simply create a new one. Choose your project&#39;s directory, which will override it, making it a Maven project.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>When you create a new project you simply need to choose the option:</p>\n\n<p>...<br>\n<strong>Import project from external model</strong><br>\n<em>Create IDEA project structure over existing external model (Eclipse, Maven...)</em><br>\n...</p>\n\n<p>You'll find it pretty straight forward from there.<br> \nAnd in your case you can close your project and simply create a new one. Choose your project's directory, which will override it, making it a Maven project.</p>\n"},{"tags":[],"owner":{"account_id":179927,"reputation":62995,"user_id":412916,"display_name":"Jano"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361696303,"creation_date":1361696303,"answer_id":15050170,"question_id":11454822,"body_markdown":"Importing Maven dependencies may not work if you import the same path several times. This may happen automatically after importing an existing maven project. I can&#39;t figure out why this happens, so I&#39;m inclined to think it is a bug.\r\n\r\nFor example, if my project is\r\n\r\n    hibernate\r\n      src/main\r\n      src/test\r\n\r\nthe three paths may be imported as top nodes:\r\n\r\n    hibernate\r\n    src/main\r\n    src/test\r\n\r\nIf such is the case, the dependencies appear to be right, but they won&#39;t be used until you remove the superfluous paths (in this case, `src/main` and `src/test`). Once you do this, refresh and click Build &gt; Rebuild Project. IDEA will pick up the dependencies.\r\n\r\nA symptom of this problem is that IDEA warns you of a duplicated path when you manually check a library (second screenshot in the question).\r\n\r\nThere are several ways to re-read the dependencies in case you need it. If you go to the “Maven Projects” tab, there is a “Reimport All Maven Projects” icon at the top left of the tab. If you suspect IDEA became confused you can click on File &gt; Invalidate Caches.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Importing Maven dependencies may not work if you import the same path several times. This may happen automatically after importing an existing maven project. I can't figure out why this happens, so I'm inclined to think it is a bug.</p>\n\n<p>For example, if my project is</p>\n\n<pre><code>hibernate\n  src/main\n  src/test\n</code></pre>\n\n<p>the three paths may be imported as top nodes:</p>\n\n<pre><code>hibernate\nsrc/main\nsrc/test\n</code></pre>\n\n<p>If such is the case, the dependencies appear to be right, but they won't be used until you remove the superfluous paths (in this case, <code>src/main</code> and <code>src/test</code>). Once you do this, refresh and click Build > Rebuild Project. IDEA will pick up the dependencies.</p>\n\n<p>A symptom of this problem is that IDEA warns you of a duplicated path when you manually check a library (second screenshot in the question).</p>\n\n<p>There are several ways to re-read the dependencies in case you need it. If you go to the “Maven Projects” tab, there is a “Reimport All Maven Projects” icon at the top left of the tab. If you suspect IDEA became confused you can click on File > Invalidate Caches.</p>\n"},{"tags":[],"owner":{"account_id":4062869,"reputation":49,"user_id":3338903,"display_name":"Bud"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1393015718,"creation_date":1393015718,"answer_id":21944850,"question_id":11454822,"body_markdown":"Go into your project structure, under project Settings, Modules, select the dependencies table. For each dependency, change the scope from &#39;Test&#39; to &#39;Compile&#39;.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Go into your project structure, under project Settings, Modules, select the dependencies table. For each dependency, change the scope from 'Test' to 'Compile'.</p>\n"},{"tags":[],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1403082444,"creation_date":1403082444,"answer_id":24281446,"question_id":11454822,"body_markdown":"If certain maven modules are not compiling check if their pom.xml is on the &quot;ignored files&quot; list. In IntelliJ goto \r\n\r\n&gt; preferences -&gt; project settings -&gt; maven -&gt; ignored files\r\n\r\nand check if the related pom.xml is ignored.\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If certain maven modules are not compiling check if their pom.xml is on the \"ignored files\" list. In IntelliJ goto </p>\n\n<blockquote>\n  <p>preferences -> project settings -> maven -> ignored files</p>\n</blockquote>\n\n<p>and check if the related pom.xml is ignored.</p>\n"},{"tags":[],"owner":{"account_id":15387,"reputation":63718,"user_id":32453,"accept_rate":92,"display_name":"rogerdpack"},"down_vote_count":0,"up_vote_count":77,"is_accepted":false,"score":77,"last_activity_date":1561145656,"creation_date":1406046320,"answer_id":24892769,"question_id":11454822,"body_markdown":"## Fix before IntelliJ 14\r\n\r\nFile [menu] -&gt; Settings -&gt; maven -&gt; importing and *uncheck* &quot;use maven3 to import project&quot; \r\n\r\nref: http://youtrack.jetbrains.com/issue/IDEA-98425 (which may have a few other ideas too)\r\n\r\n## Fix IntelliJ 15+\r\nRan into this again, with IntelliJ 15 this time, which has no &quot;use maven3 to import&quot; option available anymore.  The cause was that sometimes IntelliJ &quot;doesn&#39;t parse maven dependencies right&quot; and if it can&#39;t parse one of them right, it gives up on *all* of them, apparently.  You can tell if this is the case by opening the maven projects tool window (View menu -&gt; Tool Windows -&gt; Maven Projects).  Then expand one of your maven projects and its dependencies.  If the dependencies are all underlined in red, &quot;Houston, we have a problem&quot;. \r\n[![enter image description here][1]][1]\r\n\r\n\r\nYou can actually see the *real* failure by mousing over the project name itself. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn my instance it said &quot;Problems: No versions available for XXX&quot; or &quot;Failed to read descriptor for artifact org.xy.z&quot; ref: https://youtrack.jetbrains.com/issue/IDEA-128846\r\nand\r\nhttps://youtrack.jetbrains.com/issue/IDEA-152555\r\n\r\nIt seems in this case I was dealing with a jar that didn&#39;t have an associated pom file (in our maven nexus repo, and also my local repository).  If this is also your problem, &quot;urrent work around: if you do not actually need to use classes from that jar in your own code (for instance a transitive maven dependency only), you can actually get away with commenting it out from the pom (temporarily), maven project reload, and then uncomment it.  Somehow after that point IntelliJ &quot;remembers&quot; its old working dependencies.  Adding a maven transitive exclude temporarily might also do it, if you&#39;re running into it from transitive chain of dependencies.&quot;\r\n\r\n\r\nAnother thing that might help is to use a &quot;newer version&quot; of maven than the bundled 3.0.5.\r\nIn order to set it up to use this as the default, close all your intellij windows, then open preferences -&gt; build, execution and deployment -&gt; build tools -&gt; maven, and change the maven home directory, it should say &quot;For default project&quot; at the top when you adjust this, though you can adjust it for a particular project as well, as long as you &quot;re import&quot; after adjusting it.\r\n\r\n## Clear Caches\r\nDeleting your intellij cache folders (windows: HOMEPATH/.{IntellijIdea,IdeaC}XXX linux ~/.IdeaIC15) and/or uninstalling and reinstalling IntelliJ itself. This can also be done by going to File [menu] -&gt; `Invalidate Caches / Restart...`. Click `invalidate and restart`. This will reindex your whole project and solve many hard-to-trace issues with IntelliJ.\r\n\r\n  [1]: http://i.stack.imgur.com/AeswW.png\r\n  [2]: http://i.stack.imgur.com/Ne5jy.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<h2>Fix before IntelliJ 14</h2>\n\n<p>File [menu] -> Settings -> maven -> importing and <em>uncheck</em> \"use maven3 to import project\" </p>\n\n<p>ref: <a href=\"http://youtrack.jetbrains.com/issue/IDEA-98425\" rel=\"noreferrer\">http://youtrack.jetbrains.com/issue/IDEA-98425</a> (which may have a few other ideas too)</p>\n\n<h2>Fix IntelliJ 15+</h2>\n\n<p>Ran into this again, with IntelliJ 15 this time, which has no \"use maven3 to import\" option available anymore.  The cause was that sometimes IntelliJ \"doesn't parse maven dependencies right\" and if it can't parse one of them right, it gives up on <em>all</em> of them, apparently.  You can tell if this is the case by opening the maven projects tool window (View menu -> Tool Windows -> Maven Projects).  Then expand one of your maven projects and its dependencies.  If the dependencies are all underlined in red, \"Houston, we have a problem\". \n<a href=\"https://i.stack.imgur.com/AeswW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AeswW.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can actually see the <em>real</em> failure by mousing over the project name itself. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Ne5jy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ne5jy.png\" alt=\"enter image description here\"></a></p>\n\n<p>In my instance it said \"Problems: No versions available for XXX\" or \"Failed to read descriptor for artifact org.xy.z\" ref: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-128846\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-128846</a>\nand\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-152555\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-152555</a></p>\n\n<p>It seems in this case I was dealing with a jar that didn't have an associated pom file (in our maven nexus repo, and also my local repository).  If this is also your problem, \"urrent work around: if you do not actually need to use classes from that jar in your own code (for instance a transitive maven dependency only), you can actually get away with commenting it out from the pom (temporarily), maven project reload, and then uncomment it.  Somehow after that point IntelliJ \"remembers\" its old working dependencies.  Adding a maven transitive exclude temporarily might also do it, if you're running into it from transitive chain of dependencies.\"</p>\n\n<p>Another thing that might help is to use a \"newer version\" of maven than the bundled 3.0.5.\nIn order to set it up to use this as the default, close all your intellij windows, then open preferences -> build, execution and deployment -> build tools -> maven, and change the maven home directory, it should say \"For default project\" at the top when you adjust this, though you can adjust it for a particular project as well, as long as you \"re import\" after adjusting it.</p>\n\n<h2>Clear Caches</h2>\n\n<p>Deleting your intellij cache folders (windows: HOMEPATH/.{IntellijIdea,IdeaC}XXX linux ~/.IdeaIC15) and/or uninstalling and reinstalling IntelliJ itself. This can also be done by going to File [menu] -> <code>Invalidate Caches / Restart...</code>. Click <code>invalidate and restart</code>. This will reindex your whole project and solve many hard-to-trace issues with IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":1413944,"reputation":59678,"user_id":1339987,"accept_rate":54,"display_name":"djechlin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1409789040,"creation_date":1409789040,"answer_id":25655398,"question_id":11454822,"body_markdown":"If in the lower right corner it says &quot;2 processes running...&quot; or similar, you may just need to wait for that to finish, since it may take time to download all the jars.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If in the lower right corner it says \"2 processes running...\" or similar, you may just need to wait for that to finish, since it may take time to download all the jars.</p>\n"},{"tags":[],"owner":{"account_id":1601823,"reputation":20166,"user_id":1482709,"accept_rate":74,"display_name":"Prashanth Sams"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411747242,"creation_date":1411747242,"answer_id":26063676,"question_id":11454822,"body_markdown":"Open `IntelliJ Idea`, Go to\r\n   **File &gt; Other Settings &gt; Default Settings... &gt; Maven (Preferences) &gt; Importing**   or|\r\n `Preferences &gt; Maven &gt; Importing`\r\n\r\n\r\n![enter image description here][1]\r\n\r\nClick on **Enable Auto-import** in the console.\r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/z4bwI.png\r\n  [2]: http://i.stack.imgur.com/dI5zE.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Open <code>IntelliJ Idea</code>, Go to\n   <strong>File > Other Settings > Default Settings... > Maven (Preferences) > Importing</strong>   or|\n <code>Preferences &gt; Maven &gt; Importing</code></p>\n\n<p><img src=\"https://i.stack.imgur.com/z4bwI.png\" alt=\"enter image description here\"></p>\n\n<p>Click on <strong>Enable Auto-import</strong> in the console.</p>\n\n<p><img src=\"https://i.stack.imgur.com/dI5zE.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":5101101,"reputation":11,"user_id":4336300,"display_name":"Abel Zhan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418023135,"creation_date":1418023135,"answer_id":27353153,"question_id":11454822,"body_markdown":"I solved this issue by updating my settings.xml file with correct mirror config, seems that intellij will try to download meta-data from repository every time the maven module imported.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I solved this issue by updating my settings.xml file with correct mirror config, seems that intellij will try to download meta-data from repository every time the maven module imported.</p>\n"},{"tags":[],"owner":{"account_id":3015094,"reputation":56,"user_id":2557498,"display_name":"Sunspar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439562588,"creation_date":1439562588,"answer_id":32012487,"question_id":11454822,"body_markdown":"Hijacking a bit to add what ended up working for me:\r\n\r\nGo into the `Maven Projects` sidebar on the right edge of the IDE, and verify that your dependencies are listed correctly under your module there. Assuming they are, just ask IDEA to reimport then (the first button at the top, looks like two blue arrows forming a counter-clockwise circle).\r\n\r\nOnce I did that, and let IDEA reload the project for me, all my dependencies were magically understood.\r\n\r\nFor reference: this was with `IDEA 13.1.2`","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Hijacking a bit to add what ended up working for me:</p>\n\n<p>Go into the <code>Maven Projects</code> sidebar on the right edge of the IDE, and verify that your dependencies are listed correctly under your module there. Assuming they are, just ask IDEA to reimport then (the first button at the top, looks like two blue arrows forming a counter-clockwise circle).</p>\n\n<p>Once I did that, and let IDEA reload the project for me, all my dependencies were magically understood.</p>\n\n<p>For reference: this was with <code>IDEA 13.1.2</code></p>\n"},{"tags":[],"owner":{"account_id":393010,"reputation":4140,"user_id":754625,"accept_rate":44,"display_name":"Damith Ganegoda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445850790,"creation_date":1445850790,"answer_id":33342080,"question_id":11454822,"body_markdown":"Reimport the project. If you install maven plugin you can use this.\r\n\r\nRight click on the project -&gt; Maven -&gt; Reimport","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Reimport the project. If you install maven plugin you can use this.</p>\n\n<p>Right click on the project -> Maven -> Reimport</p>\n"},{"tags":[],"owner":{"account_id":7291064,"reputation":421,"user_id":5557463,"display_name":"chichi"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1447389049,"creation_date":1447389049,"answer_id":33685968,"question_id":11454822,"body_markdown":"When importing the project, select `pom.xml` instead of the project directory. It should work.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>When importing the project, select <code>pom.xml</code> instead of the project directory. It should work.</p>\n"},{"tags":[],"owner":{"account_id":385433,"reputation":2430,"user_id":2343179,"accept_rate":81,"display_name":"seahorse"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1487790687,"creation_date":1459158847,"answer_id":36259848,"question_id":11454822,"body_markdown":"In maven the dependencies got included for me when I removed the dependencyManagement xml section and just had dependencies directly under project section","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In maven the dependencies got included for me when I removed the dependencyManagement xml section and just had dependencies directly under project section</p>\n"},{"tags":[],"owner":{"account_id":5960042,"reputation":2613,"user_id":4685486,"accept_rate":100,"display_name":"Anatolii Stepaniuk"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1459437044,"creation_date":1459437044,"answer_id":36337296,"question_id":11454822,"body_markdown":"What helped me:\r\n\r\nNavigage:\r\nSettings | Build, Execution, Deployment | Maven\r\n\r\nSpecify &quot;Maven home directory&quot; - the place you installed the maven","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>What helped me:</p>\n\n<p>Navigage:\nSettings | Build, Execution, Deployment | Maven</p>\n\n<p>Specify \"Maven home directory\" - the place you installed the maven</p>\n"},{"tags":[],"owner":{"account_id":6431558,"reputation":498,"user_id":4984475,"display_name":"sjaiswal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460493002,"creation_date":1460493002,"answer_id":36583472,"question_id":11454822,"body_markdown":"I faced the same problem and tried everything suggested which did not solve the issue, I was using Intellij version 13.1.3\r\n\r\nFinally after spending more than couple of hours trying to fix it, I decided to try an upgraded version and opened the project in version 14.1.4 which ultimately resolved the issue. I would think this as a probable bug in the previous version.\r\n\r\nI hope this helps!\r\n\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I faced the same problem and tried everything suggested which did not solve the issue, I was using Intellij version 13.1.3</p>\n\n<p>Finally after spending more than couple of hours trying to fix it, I decided to try an upgraded version and opened the project in version 14.1.4 which ultimately resolved the issue. I would think this as a probable bug in the previous version.</p>\n\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":7513996,"reputation":1289,"user_id":5708054,"display_name":"Paul Back"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1476754999,"creation_date":1476754999,"answer_id":40098236,"question_id":11454822,"body_markdown":"For IntelliJ 2016-2.4 (and I believe other new-ish versions):\r\n\r\nView &gt; Tool Windows &gt; Maven Projects\r\n\r\nIn the newly revealed toolbar, select Maven settings (icon of a toolset).\r\n\r\nWhen this screen opens, expand the Maven menu and click &#39;Importing&#39;\r\n\r\nHere, click &quot;Import Maven projects automatically.&quot;  Also ensure that the &#39;JDK for Importer&#39; option matches the JDK version you mean to use.\r\n\r\nClick OK.  Now go to the red dependency in your pom.xml, select the red lightbulb, and click &#39;Update Maven indices&#39;.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>For IntelliJ 2016-2.4 (and I believe other new-ish versions):</p>\n\n<p>View > Tool Windows > Maven Projects</p>\n\n<p>In the newly revealed toolbar, select Maven settings (icon of a toolset).</p>\n\n<p>When this screen opens, expand the Maven menu and click 'Importing'</p>\n\n<p>Here, click \"Import Maven projects automatically.\"  Also ensure that the 'JDK for Importer' option matches the JDK version you mean to use.</p>\n\n<p>Click OK.  Now go to the red dependency in your pom.xml, select the red lightbulb, and click 'Update Maven indices'.</p>\n"},{"tags":[],"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485266276,"creation_date":1485266276,"answer_id":41830108,"question_id":11454822,"body_markdown":"I ran into the problem that some subdependencies couldn&#39;t be resolved in IntelliJ 2016.3.X. This could be fixed by changing the `Maven home  directory` in Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven from `Bundled (Maven 3)` to `/usr/share/maven`.\r\n\r\nAfter that all subdependencies got resolved as in previous IntelliJ versions.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I ran into the problem that some subdependencies couldn't be resolved in IntelliJ 2016.3.X. This could be fixed by changing the <code>Maven home  directory</code> in Settings > Build, Execution, Deployment > Build Tools > Maven from <code>Bundled (Maven 3)</code> to <code>/usr/share/maven</code>.</p>\n\n<p>After that all subdependencies got resolved as in previous IntelliJ versions.</p>\n"},{"tags":[],"owner":{"account_id":3114394,"reputation":389,"user_id":2635503,"accept_rate":71,"display_name":"Markus Barthlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486850709,"creation_date":1486850709,"answer_id":42181769,"question_id":11454822,"body_markdown":"If everything else fails, check if the jar file in your local .m2 repository is indeed valid and not corrupted. In my case, the file had not been fully downloaded.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>If everything else fails, check if the jar file in your local .m2 repository is indeed valid and not corrupted. In my case, the file had not been fully downloaded.</p>\n"},{"tags":[],"owner":{"account_id":5534377,"reputation":284,"user_id":6078959,"accept_rate":80,"display_name":"Svitlana  Onish"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500068146,"creation_date":1500068146,"answer_id":45111906,"question_id":11454822,"body_markdown":"Maven - Reimport did not work for me.\r\nI have Spring project in STS(Eclipse) and my solution is to import project to IDEA like so:\r\n&lt;br/&gt;&lt;br/&gt;\r\n1) File - New - Project from Existing Sources... - select directory - choose Eclipse.&lt;br/&gt;\r\n2) Set Maven autoimport to true in settings.&lt;br/&gt;\r\n3) Then right click in pom.xml and choose Add as Maven Project.&lt;br/&gt;&lt;br/&gt;\r\nAfter this it has imported everything.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Maven - Reimport did not work for me.\nI have Spring project in STS(Eclipse) and my solution is to import project to IDEA like so:\n<br/><br/>\n1) File - New - Project from Existing Sources... - select directory - choose Eclipse.<br/>\n2) Set Maven autoimport to true in settings.<br/>\n3) Then right click in pom.xml and choose Add as Maven Project.<br/><br/>\nAfter this it has imported everything.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507969931,"creation_date":1507969931,"answer_id":46742516,"question_id":11454822,"body_markdown":"The problem appears to be that despite listing your dependencies in the pom.xml,  IntelliJ IDEA does not rebuild those dependencies when you run your project.\r\n\r\nWhat worked for me is this:\r\n\r\nGo to &#39;Run&#39; -&gt; &#39;Edit Configurations...&#39;, find your application, make sure the &quot;Before launch:&quot; section is expanded, click the green plus sign, and select &quot;Build Project&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/QvqlB.png\r\n\r\n\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>The problem appears to be that despite listing your dependencies in the pom.xml,  IntelliJ IDEA does not rebuild those dependencies when you run your project.</p>\n\n<p>What worked for me is this:</p>\n\n<p>Go to 'Run' -> 'Edit Configurations...', find your application, make sure the \"Before launch:\" section is expanded, click the green plus sign, and select \"Build Project\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/QvqlB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QvqlB.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8621334,"reputation":362,"user_id":6456149,"display_name":"amol13"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1524464150,"creation_date":1524464150,"answer_id":49974512,"question_id":11454822,"body_markdown":"First check path Specified for **User Settings file:** in **Settings -&gt; Build,Execution,Development -&gt; Build Tools -&gt; Maven** .\r\nThe field should have path of the **settings.xml** of your maven. Also the settings.xml should have correct path of remote repository.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>First check path Specified for <strong>User Settings file:</strong> in <strong>Settings -> Build,Execution,Development -> Build Tools -> Maven</strong> .\nThe field should have path of the <strong>settings.xml</strong> of your maven. Also the settings.xml should have correct path of remote repository.</p>\n"},{"tags":[],"owner":{"account_id":12854374,"reputation":57,"user_id":9298161,"display_name":"Amit Joshi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1535782755,"creation_date":1535773335,"answer_id":52124679,"question_id":11454822,"body_markdown":"I had the similar issue with my macbook, just did a small change in `pom.xml` and it started downloading all dependencies:\r\n\r\nEarlier dependencies were written as below for my windows machine:\r\n\r\n    &lt;dependencies&gt;\r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nI just removed the `&lt;dependencies&gt;` and `&lt;/dependencies&gt;` tags and it started downloading all the dependencies:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI am not sure it will work for you or not.. but worked fine for me.\r\n\r\nThanks\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had the similar issue with my macbook, just did a small change in <code>pom.xml</code> and it started downloading all dependencies:</p>\n\n<p>Earlier dependencies were written as below for my windows machine:</p>\n\n<pre><code>&lt;dependencies&gt;\n &lt;dependency&gt;\n  &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;mail&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>I just removed the <code>&lt;dependencies&gt;</code> and <code>&lt;/dependencies&gt;</code> tags and it started downloading all the dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n  &lt;artifactId&gt;mail&lt;/artifactId&gt;\n  &lt;version&gt;1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I am not sure it will work for you or not.. but worked fine for me.</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536144191,"creation_date":1536144191,"answer_id":52183186,"question_id":11454822,"body_markdown":"I was able to resolve it by removing unnecessary modules from **Project Settings -&gt; Modules** list.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt turns out these additional modules were created automatically by IntelliJ IDEA when I created the IntelliJ project by importing from the project folder (instead of by opening pom.xml). Then, after declaring the project as Maven project, proper modules were created, and existing modules were conflicting with them. It is also possible to exclude those modules during project creation.\r\n\r\n  [1]: https://i.stack.imgur.com/HtqZc.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I was able to resolve it by removing unnecessary modules from <strong>Project Settings -> Modules</strong> list.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HtqZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtqZc.png\" alt=\"enter image description here\"></a></p>\n\n<p>It turns out these additional modules were created automatically by IntelliJ IDEA when I created the IntelliJ project by importing from the project folder (instead of by opening pom.xml). Then, after declaring the project as Maven project, proper modules were created, and existing modules were conflicting with them. It is also possible to exclude those modules during project creation.</p>\n"},{"tags":[],"owner":{"account_id":3351646,"reputation":508,"user_id":2815598,"display_name":"petre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1536146475,"creation_date":1536146475,"answer_id":52183923,"question_id":11454822,"body_markdown":"I had a similar issue, in my case I am using a custom `settings.xml` which was not picked from IntelliJ. \r\n\r\n**Solution:**    \r\n`File &gt; Settings &gt; Build, Execution, Deployment &gt; Maven: User settings file` (chose here my custom settings.xml).\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had a similar issue, in my case I am using a custom <code>settings.xml</code> which was not picked from IntelliJ. </p>\n\n<p><strong>Solution:</strong><br>\n<code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Maven: User settings file</code> (chose here my custom settings.xml).</p>\n"},{"tags":[],"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1540914439,"creation_date":1540914439,"answer_id":53068122,"question_id":11454822,"body_markdown":"Deleting the .idea folder from the project directory, and then re-importing the project as a Maven project is what worked for me.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>Deleting the .idea folder from the project directory, and then re-importing the project as a Maven project is what worked for me.</p>\n"},{"tags":[],"owner":{"account_id":1623665,"reputation":1963,"user_id":1499715,"accept_rate":100,"display_name":"elirandav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548680659,"creation_date":1548680659,"answer_id":54402655,"question_id":11454822,"body_markdown":"In my case, one of the modules was ignored for some reason.\r\nTo resolve that: Right click the problematic module and choose &quot;Unignore Projects&quot;. \r\n\r\n[![unignore project example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4Ky2.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In my case, one of the modules was ignored for some reason.\nTo resolve that: Right click the problematic module and choose \"Unignore Projects\". </p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4Ky2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4Ky2.png\" alt=\"unignore project example\"></a></p>\n"},{"tags":[],"owner":{"account_id":8085349,"reputation":913,"user_id":6093078,"display_name":"Yashaswi N P"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557129292,"creation_date":1557129292,"answer_id":56000991,"question_id":11454822,"body_markdown":"I had the same issue and tried all the answers mentioned here, none worked. \r\n\r\nThe simple solution is go to your project folder and delete all the .idea and .iml files and restart the IntelliJ ide. It works. No need to do anything with the settings. ","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I had the same issue and tried all the answers mentioned here, none worked. </p>\n\n<p>The simple solution is go to your project folder and delete all the .idea and .iml files and restart the IntelliJ ide. It works. No need to do anything with the settings. </p>\n"},{"tags":[],"owner":{"account_id":16157456,"reputation":1,"user_id":11664393,"display_name":"ChibuezePaul ISoft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561043194,"creation_date":1561043194,"answer_id":56688907,"question_id":11454822,"body_markdown":"i was able to fix mine by adding this lines of code after the build tag in the pom.xml file, i compared it from my running project and discovered that was the difference, now i&#39;m all good.\r\n\r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-snapshots&lt;/id&gt;\r\n                &lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n                &lt;snapshots&gt;\r\n                    &lt;enabled&gt;true&lt;/enabled&gt;\r\n                &lt;/snapshots&gt;\r\n            &lt;/pluginRepository&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-milestones&lt;/id&gt;\r\n                &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>i was able to fix mine by adding this lines of code after the build tag in the pom.xml file, i compared it from my running project and discovered that was the difference, now i'm all good.</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16081862,"reputation":33,"user_id":11607527,"display_name":"Nishchay Maurya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561463328,"creation_date":1561458170,"answer_id":56751856,"question_id":11454822,"body_markdown":"You might be working under a company&#39;s internal network.\r\n\r\nIf so, to download or add external Maven dependencies your `settings.xml` file under `user/&lt;username&gt;/.m2` folder might need to be updated.\r\n\r\nContact your administrator to provide the right `settings.xml` file and then paste it into you `.m2` folder.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>You might be working under a company's internal network.</p>\n\n<p>If so, to download or add external Maven dependencies your <code>settings.xml</code> file under <code>user/&lt;username&gt;/.m2</code> folder might need to be updated.</p>\n\n<p>Contact your administrator to provide the right <code>settings.xml</code> file and then paste it into you <code>.m2</code> folder.</p>\n"},{"tags":[],"owner":{"account_id":13195289,"reputation":81,"user_id":9530369,"display_name":"Akanksha Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1561716715,"creation_date":1561716715,"answer_id":56805024,"question_id":11454822,"body_markdown":"In my case, path for JAVA used by MAVEN was not set as JAVA_HOME as configured on the machine. Hence, it was not even trying to download the dependencies.\nSteps I followed which solved this issue,\n\n1. Checked for JAVA path , **Settings &gt;&gt; Build &gt;&gt; Build Tools &gt;&gt; Importing &gt;&gt; JDK for importer**. Pointed it to JAVA_HOME.\n\n2. `mvn clean install -U`\n\n    Used above command to force the dependencies download.\n\n3. Re imported Maven Projects\n\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>In my case, path for JAVA used by MAVEN was not set as JAVA_HOME as configured on the machine. Hence, it was not even trying to download the dependencies.\nSteps I followed which solved this issue,</p>\n<ol>\n<li><p>Checked for JAVA path , <strong>Settings &gt;&gt; Build &gt;&gt; Build Tools &gt;&gt; Importing &gt;&gt; JDK for importer</strong>. Pointed it to JAVA_HOME.</p>\n</li>\n<li><p><code>mvn clean install -U</code></p>\n<p>Used above command to force the dependencies download.</p>\n</li>\n<li><p>Re imported Maven Projects</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14035647,"reputation":851,"user_id":10138416,"display_name":"linker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572099968,"creation_date":1572089648,"answer_id":58570379,"question_id":11454822,"body_markdown":"&gt; re-import-maven **-&gt;** close-intellij **-&gt;** delete-the-entire\r\n&gt; -**`.idea`**-folder **-&gt;** re-open-the-project **-&gt;** build **-&gt;** build-project/build-module-*&#39;your parent module&#39;* \r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<blockquote>\n  <p>re-import-maven <strong>-></strong> close-intellij <strong>-></strong> delete-the-entire\n  -<strong><code>.idea</code></strong>-folder <strong>-></strong> re-open-the-project <strong>-></strong> build <strong>-></strong> build-project/build-module-<em>'your parent module'</em> </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9678231,"reputation":21,"user_id":7180905,"display_name":"Jaydeep Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575583321,"creation_date":1575583321,"answer_id":59203914,"question_id":11454822,"body_markdown":"1. From maven tab click + and choose pom.xml\r\n2. From maven tab click download sources and documentation\r\n3. On project structure(where you can view project files/directories) right click the project you&#39;re trying to build and choose Build Module Project Name.\r\n4. From tab Run- Edit Configurations with + add Application and fill the below fields: i. Main Class- Manually choose from Project tab select the main class ii. Use classpath of module - choose the application name iii. Shorten command line - classpath file\r\n5. Now simply run the app.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<ol>\n<li>From maven tab click + and choose pom.xml</li>\n<li>From maven tab click download sources and documentation</li>\n<li>On project structure(where you can view project files/directories) right click the project you're trying to build and choose Build Module Project Name.</li>\n<li>From tab Run- Edit Configurations with + add Application and fill the below fields: i. Main Class- Manually choose from Project tab select the main class ii. Use classpath of module - choose the application name iii. Shorten command line - classpath file</li>\n<li>Now simply run the app.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":362912,"reputation":3281,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1604435790,"creation_date":1604435790,"answer_id":64670261,"question_id":11454822,"body_markdown":"A possible pattern for this issue is that you dont have connection to Nexus and basically you want to build the project in offline mode. But when you import the project Idea tries to download Maven dependencies automatically.. and fails. You set Work Offline checkbox in Settings, but its too late: something was already broken during initial download attempt. Neither of the options listed here worked for me to resolve this. Instead I did the following:\r\n\r\n 1. first created empty Java (not Maven) project \r\n 2. checked Work Offline option in Maven settings\r\n 3. added my project as a Maven module to this new project\r\n\r\nThis way it worked.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>A possible pattern for this issue is that you dont have connection to Nexus and basically you want to build the project in offline mode. But when you import the project Idea tries to download Maven dependencies automatically.. and fails. You set Work Offline checkbox in Settings, but its too late: something was already broken during initial download attempt. Neither of the options listed here worked for me to resolve this. Instead I did the following:</p>\n<ol>\n<li>first created empty Java (not Maven) project</li>\n<li>checked Work Offline option in Maven settings</li>\n<li>added my project as a Maven module to this new project</li>\n</ol>\n<p>This way it worked.</p>\n"},{"tags":[],"owner":{"account_id":8997468,"reputation":1035,"user_id":8572205,"display_name":"nhaht"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619494153,"creation_date":1619494153,"answer_id":67276608,"question_id":11454822,"body_markdown":"**Invalidate Caches** worked for me:\r\n\r\n**File &gt; Invalidate Caches**  \r\n\r\nChecks:\r\n\r\nClear file system cache and Local History  \r\nClear downloaded shared indexes \r\n\r\nThen **Invalidate and Restart** ","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p><strong>Invalidate Caches</strong> worked for me:</p>\n<p><strong>File &gt; Invalidate Caches</strong></p>\n<p>Checks:</p>\n<p>Clear file system cache and Local History<br />\nClear downloaded shared indexes</p>\n<p>Then <strong>Invalidate and Restart</strong></p>\n"},{"tags":[],"owner":{"account_id":18525892,"reputation":31,"user_id":13497807,"display_name":"antarin karmakar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620648729,"creation_date":1620648425,"answer_id":67470136,"question_id":11454822,"body_markdown":"So I was also facing this problem in lots of my organisation&#39;s codebase. On addition to the answers suggested above, we can tweak around with the allocation pool memory of the jvm. This is because, the volume of the dependencies brought in large codebases may be overwhelming for the jvm for IDE to build the project completely. Hence tried increasing XMX value and it worked! [Added -Xmx3072 to resolve the issue of &quot;not building&quot; my Java project in IntelliJ][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2DSu.png\r\n  [2]: https://i.stack.imgur.com/xnoWj.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>So I was also facing this problem in lots of my organisation's codebase. On addition to the answers suggested above, we can tweak around with the allocation pool memory of the jvm. This is because, the volume of the dependencies brought in large codebases may be overwhelming for the jvm for IDE to build the project completely. Hence tried increasing XMX value and it worked! <a href=\"https://i.stack.imgur.com/X2DSu.png\" rel=\"nofollow noreferrer\">Added -Xmx3072 to resolve the issue of &quot;not building&quot; my Java project in IntelliJ</a></p>\n<p><a href=\"https://i.stack.imgur.com/xnoWj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnoWj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":131520,"reputation":1759,"user_id":3702859,"accept_rate":75,"display_name":"xmar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1624024651,"creation_date":1624024651,"answer_id":68036481,"question_id":11454822,"body_markdown":"**IntelliJ 2020.3.3**\r\n\r\nThis one did it for me.\r\n\r\nBuild, Execution, Deployment &gt; Build Tools.\r\n\r\nChange &quot;Reload project after changes in the build scripts&quot;:\r\n  - from default &quot;External Changes&quot; to &quot;Any Changes&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWith this, it took a while for the project to rebuild but now I can see Maven dependencies in IntelliJ:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ARJE9.png\r\n  [2]: https://i.stack.imgur.com/OGkK0.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p><strong>IntelliJ 2020.3.3</strong></p>\n<p>This one did it for me.</p>\n<p>Build, Execution, Deployment &gt; Build Tools.</p>\n<p>Change &quot;Reload project after changes in the build scripts&quot;:</p>\n<ul>\n<li>from default &quot;External Changes&quot; to &quot;Any Changes&quot;</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/ARJE9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ARJE9.png\" alt=\"enter image description here\" /></a></p>\n<p>With this, it took a while for the project to rebuild but now I can see Maven dependencies in IntelliJ:</p>\n<p><a href=\"https://i.stack.imgur.com/OGkK0.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OGkK0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":23927989,"reputation":1,"user_id":17922877,"display_name":"nilesh nanaware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642066484,"creation_date":1642066484,"answer_id":70694254,"question_id":11454822,"body_markdown":"The solution for this: - \r\n1) go to file -&gt; settings -&gt; maven -&gt; maven home path\r\n2) there you will find bundled (maven 3) something like that\r\nselect the appropriate home path of maven where the maven file is present in system\r\n(the path given in the environment variable)\r\n3) click on apply\r\n4) refresh the project.","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>The solution for this: -</p>\n<ol>\n<li>go to file -&gt; settings -&gt; maven -&gt; maven home path</li>\n<li>there you will find bundled (maven 3) something like that\nselect the appropriate home path of maven where the maven file is present in system\n(the path given in the environment variable)</li>\n<li>click on apply</li>\n<li>refresh the project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25359995,"reputation":1,"user_id":19175439,"display_name":"HB FL3X"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680327938,"creation_date":1680327886,"answer_id":75904475,"question_id":11454822,"body_markdown":"I fixed the problem in intellij IDEA 2022 by adding &quot;requires package_name&quot; in module-info.java file in the project structure folder. For example requires AnimateFX;","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I fixed the problem in intellij IDEA 2022 by adding &quot;requires package_name&quot; in module-info.java file in the project structure folder. For example requires AnimateFX;</p>\n"},{"tags":[],"owner":{"account_id":29414966,"reputation":1,"user_id":22539523,"display_name":"Guiler "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694461221,"creation_date":1694454781,"answer_id":77083830,"question_id":11454822,"body_markdown":"I solved it by clicking on settings &gt; Build, Execution, Deployment &gt; Build tools &gt; Maven &gt; And finally, activating the &quot;Use plugin registry&quot; checkbox\r\n[Tutorial][1]\r\n\r\n[Checkbox photo][2]\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=i0ACQF8yX9E\r\n  [2]: https://i.stack.imgur.com/oOCTq.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I solved it by clicking on settings &gt; Build, Execution, Deployment &gt; Build tools &gt; Maven &gt; And finally, activating the &quot;Use plugin registry&quot; checkbox\n<a href=\"https://www.youtube.com/watch?v=i0ACQF8yX9E\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n<p><a href=\"https://i.stack.imgur.com/oOCTq.png\" rel=\"nofollow noreferrer\">Checkbox photo</a></p>\n"},{"tags":[],"owner":{"account_id":27772278,"reputation":1,"user_id":21202373,"display_name":"&#220;veys Sara&#231;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695025846,"creation_date":1695024619,"answer_id":77125479,"question_id":11454822,"body_markdown":"You should delete the .idea folder:\r\n\r\n![][1]\r\n\r\n[1]:https://i.stack.imgur.com/Eg0M2.png","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>You should delete the .idea folder:</p>\n<p><img src=\"https://i.stack.imgur.com/Eg0M2.png\" alt=\"\" /></p>\n"}],"owner":{"account_id":1021496,"reputation":4264,"user_id":1031724,"accept_rate":56,"display_name":"Zaur Guliyev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649861,"favorite_count":0,"down_vote_count":0,"up_vote_count":235,"accepted_answer_id":11467266,"answer_count":41,"score":235,"last_activity_date":1695025846,"creation_date":1342105581,"question_id":11454822,"body_markdown":"I just imported a project from subversion to IntelliJ IDEA 11 - it&#39;s a maven project. But I have a problem in maven library dependencies so that I can&#39;t include all maven dependencies automatically - IDEA shows dependency errors only when I open that class/ Thats what I get here:\r\n\r\n![enter image description here][1]\r\n\r\n\r\nSo I want all dependencies to be added automatically - is that possible or do I have to go through all class files to identify and add maven dependencies?!\r\n\r\n\r\nUPDATE: After doing some modifications I found how to resolve my problem in some way. Thats what I did:\r\n![enter image description here][2]\r\n\r\n  [1]: http://i.stack.imgur.com/v5K5p.png\r\n  [2]: http://i.stack.imgur.com/KslcB.png\r\n\r\n\r\n\r\nbut I think logically it will not include and check new dependencies ahead?!... Is there any settings area for this in intelliJ - auto export dependencies to classpath?\r\n","title":"Import Maven dependencies in IntelliJ IDEA","body":"<p>I just imported a project from subversion to IntelliJ IDEA 11 - it's a maven project. But I have a problem in maven library dependencies so that I can't include all maven dependencies automatically - IDEA shows dependency errors only when I open that class/ Thats what I get here:</p>\n<p><img src=\"https://i.stack.imgur.com/v5K5p.png\" alt=\"enter image description here\" /></p>\n<p>So I want all dependencies to be added automatically - is that possible or do I have to go through all class files to identify and add maven dependencies?!</p>\n<p>UPDATE: After doing some modifications I found how to resolve my problem in some way. Thats what I did:\n<img src=\"https://i.stack.imgur.com/KslcB.png\" alt=\"enter image description here\" /></p>\n<p>but I think logically it will not include and check new dependencies ahead?!... Is there any settings area for this in intelliJ - auto export dependencies to classpath?</p>\n"},{"tags":["java","swagger","openapi"],"owner":{"account_id":23456861,"reputation":301,"user_id":17512207,"display_name":"ildvzg68472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695025508,"creation_date":1695025508,"question_id":77125562,"body_markdown":"I use springdoc-openapi v2.2.0 to generate the swagger document.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nCurrently there are 20 APIs in this swagger document, 18 of them have some common headers as below: \r\n\r\n```\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;channelId&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Registered channel ID&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;uuid&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t&quot;name&quot;: &quot;businessCode&quot;,\r\n\t\t\t\t\t\t&quot;in&quot;: &quot;header&quot;,\r\n\t\t\t\t\t\t&quot;description&quot;: &quot;Business code&quot;,\r\n\t\t\t\t\t\t&quot;type&quot;: &quot;string&quot;,\r\n\t\t\t\t\t\t&quot;required&quot;: true\r\n\t\t\t\t\t},\r\n```\r\nBut 2 of them don&#39;t need the headers.\r\n\r\nAppreciate a lot if you can advise a solution using springdoc-openapi v2.2.0 to realize that the 18 APIs have the common headers but the 2 APIs don&#39;t have.\r\n","title":"How to add common headers using springdoc-openapi v2.2.0","body":"<p>I use springdoc-openapi v2.2.0 to generate the swagger document.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Currently there are 20 APIs in this swagger document, 18 of them have some common headers as below:</p>\n<pre><code>                    {\n                        &quot;name&quot;: &quot;channelId&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Registered channel ID&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;uuid&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;128 bit random universally unique identifier (UUID)&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n                    {\n                        &quot;name&quot;: &quot;businessCode&quot;,\n                        &quot;in&quot;: &quot;header&quot;,\n                        &quot;description&quot;: &quot;Business code&quot;,\n                        &quot;type&quot;: &quot;string&quot;,\n                        &quot;required&quot;: true\n                    },\n</code></pre>\n<p>But 2 of them don't need the headers.</p>\n<p>Appreciate a lot if you can advise a solution using springdoc-openapi v2.2.0 to realize that the 18 APIs have the common headers but the 2 APIs don't have.</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":5656054,"reputation":119,"user_id":4475215,"display_name":"Madoka Magica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695025348,"creation_date":1695025348,"question_id":77125547,"body_markdown":"I&#39;m making an autoclicker on Android. I&#39;m making widgets for swipe. This is class 3 widget. WidgMiddleView draws a line between WidgStartView and WidgEndView everything works, only WidgMiddleView completely covers the screen and I can&#39;t click on anything. What to do, how to avoid this?\r\n```\r\nclass SwipeWidgView(var ctx: Context, var mainWidget: MainWidgetView, var key: String?): View(ctx) {\r\n\r\n    protected lateinit var paramsStartWidg: WindowManager.LayoutParams\r\n    protected lateinit var paramsEndWidg: WindowManager.LayoutParams\r\n    protected lateinit var paramsMiddleWidg: WindowManager.LayoutParams\r\n    protected lateinit var widgetWindowManager: WidgetWindowManager\r\n    protected lateinit var layoutInflater: LayoutInflater\r\n    private lateinit var widgStartView: WidgStartView\r\n    private lateinit var widgEndView: WidgEndView\r\n    private lateinit var widgMiddleView: WidgMiddleView\r\n    var scenarioClick: ScenarioClick? = null\r\n    val mainHandler = Handler(Looper.getMainLooper())\r\n    var lstInitMedium: MutableList&lt;Boolean&gt; = mutableListOf(false, false)\r\n\r\n    init {\r\n        layoutInflater = LayoutInflater.from(ctx)\r\n        widgetWindowManager = WidgetWindowManager.init(ctx)\r\n        paramsStartWidg = initParams()\r\n        paramsEndWidg = initParams()\r\n        paramsMiddleWidg = initParams()\r\n        paramsMiddleWidg.flags = paramsMiddleWidg.flags or WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL\r\n        widgStartView = WidgStartView(ctx)\r\n        widgEndView = WidgEndView(ctx)\r\n        widgMiddleView = WidgMiddleView(ctx)\r\n        setupData()\r\n    }\r\n\r\n    fun setupData() {\r\n        CoroutineScope(Dispatchers.IO).launch {\r\n            if (key.isNullOrEmpty()) {\r\n                var newKey = mainWidget.getRandomString()\r\n                var name = mainWidget.getName()\r\n                var date = Constants.getDateMilliNow()\r\n                var posQueue = mainWidget.getNextPos()\r\n                scenarioClick = ScenarioClick(\r\n                    null, widgStartView.posX, widgStartView.posY,\r\n                    widgEndView.posX, widgEndView.posY, Constants.TYPE_SWIPE, name,\r\n                    posQueue, newKey, date\r\n                )\r\n                mainWidget.addScenarioClick(scenarioClick!!)\r\n            } else {\r\n                //Request to db later\r\n            }\r\n            withContext(Dispatchers.Main) {\r\n                widgStartView.setWidgText(scenarioClick!!.posQueue.toString())\r\n                showWidgets()\r\n            }\r\n        }\r\n    }\r\n\r\n    fun drawLine(width: Int, height: Int) {\r\n        scenarioClick?.let { sc -&gt;\r\n            try {\r\n                var startX = sc.posX2!! + (width / 2)\r\n                var startY = sc.posY2!! + (height / 2)\r\n                var endX = sc.posX + (width / 2)\r\n                var endY = sc.posY + (height / 2)\r\n                widgMiddleView.binding.rootWidg.layoutParams.width = abs(startX - endX)\r\n                widgMiddleView.binding.rootWidg.layoutParams.height = abs(startY - endY)\r\n                widgMiddleView.binding.rootWidg.drawLine2(endX, endY, startX, startY)\r\n                mainHandler.postDelayed({\r\n                    widgMiddleView.invalidate()\r\n                }, 1000)\r\n\r\n            } catch (e: Exception) {\r\n                L.i(&quot;exception=&quot; + e.toString())\r\n            }\r\n        }\r\n    }\r\n\r\n    fun showWidgets() {\r\n        widgMiddleView.showWidget()\r\n        widgStartView.showWidget()\r\n        widgEndView.showWidget()\r\n        //while(true) {\r\n        /*mainHandler.postDelayed({\r\n            var left = scenarioClick!!.posX\r\n            var top = scenarioClick!!.posY\r\n            var right = scenarioClick!!.posX2\r\n            var bottom = scenarioClick!!.posY2\r\n            if(right != null &amp;&amp; bottom != null) {\r\n                widgMiddleView.changeRectCoords(left, top, right!!, bottom!!)\r\n            }\r\n        }, 300L)*/\r\n        //  }\r\n\r\n        //widgetWindowManager.addView(widgMiddleView, paramsMiddleWidg)\r\n    }\r\n\r\n    fun endInitMiddleWidgView() {\r\n        if (lstInitMedium[0] &amp;&amp; lstInitMedium[1]) {\r\n            drawLine(widgStartView.width2, widgStartView.height2)\r\n        }\r\n    }\r\n\r\n    fun initParams(): WindowManager.LayoutParams {\r\n        var typeApp = 0\r\n        typeApp = if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\r\n            WindowManager.LayoutParams.TYPE_PHONE\r\n        } else {\r\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\r\n        }\r\n\r\n        var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            WindowManager.LayoutParams.WRAP_CONTENT,\r\n            typeApp,  //вот тут менять не проепать\r\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\r\n            PixelFormat.TRANSLUCENT\r\n        )\r\n\r\n        params!!.gravity =\r\n            Gravity.TOP or Gravity.LEFT //Initially view will be added to top-left corner\r\n        return params\r\n    }\r\n\r\n    inner class WidgStartView(ctx: Context) : FrameLayout(ctx) {\r\n        lateinit var binding: WidgSwipeStartBinding\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        var xm = 0\r\n        var ym = 0\r\n        var modeNow = 0\r\n        var posX: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsStartWidg?.let {\r\n                    it.x = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posX = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n        var posY: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsStartWidg?.let {\r\n                    it.y = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posY = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n\r\n        init {\r\n            binding = WidgSwipeStartBinding.inflate(layoutInflater)\r\n\r\n\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    // Теперь вы можете получить реальные значения width, height, x и y\r\n                    L.i(&quot;zvezda&quot;)\r\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    posX = centerDisp.first - (width2 / 2)\r\n                    posY = centerDisp.second - (height2 / 2)\r\n                    mainWidget.changePos(scenarioClick!!, posX, posY)\r\n                    widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\r\n                    // Выводим значения в консоль\r\n                    /*L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )*/\r\n                    lstInitMedium[0] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgEndView.showWidget()\r\n                }\r\n            })\r\n\r\n            //Touch listener\r\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\r\n                private var initialX = 0\r\n                private var initialY = 0\r\n                private var initialTouchX = 0f\r\n                private var initialTouchY = 0f\r\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\r\n                    //L.i(&quot;This is it&quot;);\r\n                    var x = event!!.rawX\r\n                    var y = event.rawY\r\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            xm = v!!.width / 2\r\n                            ym = v.height / 2\r\n                            modeNow = MainWidgetView.MODE_MOVE\r\n                            initialX = paramsStartWidg.x\r\n                            initialY = paramsStartWidg.y\r\n                            //get the touch location\r\n                            initialTouchX = event.rawX\r\n                            initialTouchY = event.rawY\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_MOVE -&gt; {\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                L.i(&quot;Pizda&quot;)\r\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\r\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\r\n                               /* paramsStartWidg.x = posX\r\n                                paramsStartWidg.y = posY*/\r\n                               // mainWidget.changePos(scenarioClick!!, posX, posY)\r\n                                //Update the layout with new X &amp; Y coordinate\r\n                                widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\r\n                                drawLine(width2, height2)\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                                //resize2(event.x, event.y, v!!.width, v.height)\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\r\n                            }\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\r\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                            }\r\n                            modeNow = 0\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n\r\n        fun setWidgText(text: String) {\r\n            binding.tvClickWidg.text = text\r\n        }\r\n\r\n        fun showWidget() {\r\n            widgetWindowManager.addView(binding.root, paramsStartWidg)\r\n        }\r\n    }\r\n\r\n    inner class WidgEndView(ctx: Context) : FrameLayout(ctx) {\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        var xm = 0\r\n        var ym = 0\r\n        var modeNow = 0\r\n        lateinit var binding: WidgSwipeEndBinding\r\n        var posX: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsEndWidg?.let {\r\n                    it.x = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posX2 = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n        var posY: Int = 0\r\n            set(value) {\r\n                field = value\r\n                paramsEndWidg?.let {\r\n                    it.y = value\r\n                }\r\n                scenarioClick?.let {\r\n                    it.posY2 = value\r\n                }\r\n            }\r\n            get() {\r\n                return field\r\n            }\r\n\r\n        init {\r\n            binding = WidgSwipeEndBinding.inflate(layoutInflater)\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\r\n                    posX = centerDisp.first - (width2/2)\r\n                    posY = centerDisp.second - (height/2) - (centerDisp.second * 0.3).toInt()\r\n                    mainWidget.changePos2(scenarioClick!!, posX, posY)\r\n                    widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\r\n                    // Выводим значения в консоль\r\n                    /*L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )*/\r\n                    lstInitMedium[1] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgMiddleView.showWidget()\r\n                }\r\n            })\r\n\r\n            //Touch listener\r\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\r\n                private var initialX = 0\r\n                private var initialY = 0\r\n                private var initialTouchX = 0f\r\n                private var initialTouchY = 0f\r\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\r\n                    //L.i(&quot;This is it&quot;);\r\n                    var x = event!!.rawX\r\n                    var y = event.rawY\r\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\r\n                    when (event.action) {\r\n                        MotionEvent.ACTION_DOWN -&gt; {\r\n                            xm = v!!.width / 2\r\n                            ym = v.height / 2\r\n                            modeNow = MainWidgetView.MODE_MOVE\r\n                            initialX = paramsEndWidg.x\r\n                            initialY = paramsEndWidg.y\r\n                            //get the touch location\r\n                            initialTouchX = event.rawX\r\n                            initialTouchY = event.rawY\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_MOVE -&gt; {\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                L.i(&quot;Pizda&quot;)\r\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\r\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\r\n                                /*paramsEndWidg.x = posX\r\n                                paramsEndWidg.y = posY*/\r\n                                mainWidget.changePos2(scenarioClick!!, posX, posY)\r\n                                //Update the layout with new X &amp; Y coordinate\r\n                                widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\r\n                                drawLine(width2, height2)\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                                //resize2(event.x, event.y, v!!.width, v.height)\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\r\n                            }\r\n                            return true\r\n                        }\r\n\r\n                        MotionEvent.ACTION_UP -&gt; {\r\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\r\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\r\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\r\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\r\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\r\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\r\n                            }\r\n                            modeNow = 0\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                }\r\n            })\r\n        }\r\n\r\n        fun showWidget() {\r\n            widgetWindowManager.addView(binding.root, paramsEndWidg)\r\n        }\r\n    }\r\n\r\n    inner class WidgMiddleView(ctx: Context) : RectangleView(ctx) {\r\n        var width2: Int = -1\r\n        var height2: Int = -1\r\n        lateinit var binding: WidgSwipeMiddleBinding\r\n\r\n        init {\r\n            alpha = 0.8f\r\n            binding = WidgSwipeMiddleBinding.inflate(layoutInflater)\r\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\r\n                ViewTreeObserver.OnGlobalLayoutListener {\r\n                override fun onGlobalLayout() {\r\n                    // Убираем слушателя, чтобы избежать лишних вызовов\r\n                    //binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\r\n                    width2 = binding.root.width\r\n                    height2 = binding.root.height\r\n                    // Выводим значения в консоль\r\n                    L.i(\r\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\r\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\r\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\r\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\r\n                                &quot;ppp=&quot; + binding.root.top\r\n                    )\r\n                    lstInitMedium[1] = true\r\n                    endInitMiddleWidgView()\r\n                    //widgMiddleView.showWidget()\r\n                }\r\n            })\r\n        }\r\n\r\n       /* fun changeRectCoords(left: Int, top: Int, right: Int, bottom: Int) {\r\n            // if(scenarioClick!!.posX2 != null &amp;&amp; scenarioClick!!.posY2 != null)\r\n            binding.rootWidg.drawLine(left, top, right, bottom)\r\n        }*/\r\n\r\n        fun showWidget() {\r\n\r\n            //changeRectCoords(scenarioClick!!.posX, scenarioClick!!.posY, scenarioClick!!.posX2!!, scenarioClick!!.posY2!!)\r\n            widgetWindowManager.addView(binding.root, paramsMiddleWidg)\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\nRectangleView\r\n```\r\npublic class RectangleView extends View {\r\n\r\n    private Rect rect = new Rect();\r\n    private final Paint mPaint = new Paint();\r\n\r\n    public RectangleView(Context context) {\r\n        super(context);\r\n        init();\r\n    }\r\n\r\n    public RectangleView(Context context, @Nullable AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init();\r\n    }\r\n\r\n    public RectangleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init();\r\n    }\r\n\r\n    private void init() {\r\n        int color = Color.parseColor(&quot;#0CFFE5&quot;);\r\n        mPaint.setColor(color);\r\n        mPaint.setStrokeWidth(20);\r\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n        mPaint.setAntiAlias(true);\r\n        setWillNotDraw(false);\r\n    }\r\n\r\n    @Override\r\n    protected void onSizeChanged(int width, int height, int oldWidth, int oldHeight) {\r\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\r\n    }\r\n\r\n    @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        if(rect != null) {\r\n            canvas.drawLine(rect.left, rect.top, rect.right, rect.bottom, mPaint);\r\n        }\r\n    }\r\n\r\n    public void drawLine2(int left, int top, int right, int bottom) {\r\n        rect.set(left, top, right, bottom);\r\n        postInvalidate();\r\n    }\r\n\r\n}\r\n```\r\nlayout of middle widget\r\n```\r\n&lt;net.mautoclicker.ui.views.RectangleView\r\n        android:id=&quot;@+id/rootWidg&quot;\r\n        android:layout_width=&quot;30dp&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:alpha=&quot;0.8&quot;/&gt;\r\n```\r\n\r\nI would like the problem to be solved","title":"The view widget overlaps the application workspace","body":"<p>I'm making an autoclicker on Android. I'm making widgets for swipe. This is class 3 widget. WidgMiddleView draws a line between WidgStartView and WidgEndView everything works, only WidgMiddleView completely covers the screen and I can't click on anything. What to do, how to avoid this?</p>\n<pre><code>class SwipeWidgView(var ctx: Context, var mainWidget: MainWidgetView, var key: String?): View(ctx) {\n\n    protected lateinit var paramsStartWidg: WindowManager.LayoutParams\n    protected lateinit var paramsEndWidg: WindowManager.LayoutParams\n    protected lateinit var paramsMiddleWidg: WindowManager.LayoutParams\n    protected lateinit var widgetWindowManager: WidgetWindowManager\n    protected lateinit var layoutInflater: LayoutInflater\n    private lateinit var widgStartView: WidgStartView\n    private lateinit var widgEndView: WidgEndView\n    private lateinit var widgMiddleView: WidgMiddleView\n    var scenarioClick: ScenarioClick? = null\n    val mainHandler = Handler(Looper.getMainLooper())\n    var lstInitMedium: MutableList&lt;Boolean&gt; = mutableListOf(false, false)\n\n    init {\n        layoutInflater = LayoutInflater.from(ctx)\n        widgetWindowManager = WidgetWindowManager.init(ctx)\n        paramsStartWidg = initParams()\n        paramsEndWidg = initParams()\n        paramsMiddleWidg = initParams()\n        paramsMiddleWidg.flags = paramsMiddleWidg.flags or WindowManager.LayoutParams.FLAG_NOT_TOUCH_MODAL\n        widgStartView = WidgStartView(ctx)\n        widgEndView = WidgEndView(ctx)\n        widgMiddleView = WidgMiddleView(ctx)\n        setupData()\n    }\n\n    fun setupData() {\n        CoroutineScope(Dispatchers.IO).launch {\n            if (key.isNullOrEmpty()) {\n                var newKey = mainWidget.getRandomString()\n                var name = mainWidget.getName()\n                var date = Constants.getDateMilliNow()\n                var posQueue = mainWidget.getNextPos()\n                scenarioClick = ScenarioClick(\n                    null, widgStartView.posX, widgStartView.posY,\n                    widgEndView.posX, widgEndView.posY, Constants.TYPE_SWIPE, name,\n                    posQueue, newKey, date\n                )\n                mainWidget.addScenarioClick(scenarioClick!!)\n            } else {\n                //Request to db later\n            }\n            withContext(Dispatchers.Main) {\n                widgStartView.setWidgText(scenarioClick!!.posQueue.toString())\n                showWidgets()\n            }\n        }\n    }\n\n    fun drawLine(width: Int, height: Int) {\n        scenarioClick?.let { sc -&gt;\n            try {\n                var startX = sc.posX2!! + (width / 2)\n                var startY = sc.posY2!! + (height / 2)\n                var endX = sc.posX + (width / 2)\n                var endY = sc.posY + (height / 2)\n                widgMiddleView.binding.rootWidg.layoutParams.width = abs(startX - endX)\n                widgMiddleView.binding.rootWidg.layoutParams.height = abs(startY - endY)\n                widgMiddleView.binding.rootWidg.drawLine2(endX, endY, startX, startY)\n                mainHandler.postDelayed({\n                    widgMiddleView.invalidate()\n                }, 1000)\n\n            } catch (e: Exception) {\n                L.i(&quot;exception=&quot; + e.toString())\n            }\n        }\n    }\n\n    fun showWidgets() {\n        widgMiddleView.showWidget()\n        widgStartView.showWidget()\n        widgEndView.showWidget()\n        //while(true) {\n        /*mainHandler.postDelayed({\n            var left = scenarioClick!!.posX\n            var top = scenarioClick!!.posY\n            var right = scenarioClick!!.posX2\n            var bottom = scenarioClick!!.posY2\n            if(right != null &amp;&amp; bottom != null) {\n                widgMiddleView.changeRectCoords(left, top, right!!, bottom!!)\n            }\n        }, 300L)*/\n        //  }\n\n        //widgetWindowManager.addView(widgMiddleView, paramsMiddleWidg)\n    }\n\n    fun endInitMiddleWidgView() {\n        if (lstInitMedium[0] &amp;&amp; lstInitMedium[1]) {\n            drawLine(widgStartView.width2, widgStartView.height2)\n        }\n    }\n\n    fun initParams(): WindowManager.LayoutParams {\n        var typeApp = 0\n        typeApp = if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.O) {\n            WindowManager.LayoutParams.TYPE_PHONE\n        } else {\n            WindowManager.LayoutParams.TYPE_APPLICATION_OVERLAY\n        }\n\n        var params: WindowManager.LayoutParams = WindowManager.LayoutParams(\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            WindowManager.LayoutParams.WRAP_CONTENT,\n            typeApp,  //вот тут менять не проепать\n            WindowManager.LayoutParams.FLAG_NOT_FOCUSABLE,\n            PixelFormat.TRANSLUCENT\n        )\n\n        params!!.gravity =\n            Gravity.TOP or Gravity.LEFT //Initially view will be added to top-left corner\n        return params\n    }\n\n    inner class WidgStartView(ctx: Context) : FrameLayout(ctx) {\n        lateinit var binding: WidgSwipeStartBinding\n        var width2: Int = -1\n        var height2: Int = -1\n        var xm = 0\n        var ym = 0\n        var modeNow = 0\n        var posX: Int = 0\n            set(value) {\n                field = value\n                paramsStartWidg?.let {\n                    it.x = value\n                }\n                scenarioClick?.let {\n                    it.posX = value\n                }\n            }\n            get() {\n                return field\n            }\n        var posY: Int = 0\n            set(value) {\n                field = value\n                paramsStartWidg?.let {\n                    it.y = value\n                }\n                scenarioClick?.let {\n                    it.posY = value\n                }\n            }\n            get() {\n                return field\n            }\n\n        init {\n            binding = WidgSwipeStartBinding.inflate(layoutInflater)\n\n\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    // Теперь вы можете получить реальные значения width, height, x и y\n                    L.i(&quot;zvezda&quot;)\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    posX = centerDisp.first - (width2 / 2)\n                    posY = centerDisp.second - (height2 / 2)\n                    mainWidget.changePos(scenarioClick!!, posX, posY)\n                    widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\n                    // Выводим значения в консоль\n                    /*L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )*/\n                    lstInitMedium[0] = true\n                    endInitMiddleWidgView()\n                    //widgEndView.showWidget()\n                }\n            })\n\n            //Touch listener\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\n                private var initialX = 0\n                private var initialY = 0\n                private var initialTouchX = 0f\n                private var initialTouchY = 0f\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n                    //L.i(&quot;This is it&quot;);\n                    var x = event!!.rawX\n                    var y = event.rawY\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            xm = v!!.width / 2\n                            ym = v.height / 2\n                            modeNow = MainWidgetView.MODE_MOVE\n                            initialX = paramsStartWidg.x\n                            initialY = paramsStartWidg.y\n                            //get the touch location\n                            initialTouchX = event.rawX\n                            initialTouchY = event.rawY\n                            return true\n                        }\n\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                L.i(&quot;Pizda&quot;)\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\n                               /* paramsStartWidg.x = posX\n                                paramsStartWidg.y = posY*/\n                               // mainWidget.changePos(scenarioClick!!, posX, posY)\n                                //Update the layout with new X &amp; Y coordinate\n                                widgetWindowManager.updateView(binding.rootWidg, paramsStartWidg)\n                                drawLine(width2, height2)\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                                //resize2(event.x, event.y, v!!.width, v.height)\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\n                            }\n                            return true\n                        }\n\n                        MotionEvent.ACTION_UP -&gt; {\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                            }\n                            modeNow = 0\n                            return true\n                        }\n                    }\n                    return false\n                }\n            })\n        }\n\n        fun setWidgText(text: String) {\n            binding.tvClickWidg.text = text\n        }\n\n        fun showWidget() {\n            widgetWindowManager.addView(binding.root, paramsStartWidg)\n        }\n    }\n\n    inner class WidgEndView(ctx: Context) : FrameLayout(ctx) {\n        var width2: Int = -1\n        var height2: Int = -1\n        var xm = 0\n        var ym = 0\n        var modeNow = 0\n        lateinit var binding: WidgSwipeEndBinding\n        var posX: Int = 0\n            set(value) {\n                field = value\n                paramsEndWidg?.let {\n                    it.x = value\n                }\n                scenarioClick?.let {\n                    it.posX2 = value\n                }\n            }\n            get() {\n                return field\n            }\n        var posY: Int = 0\n            set(value) {\n                field = value\n                paramsEndWidg?.let {\n                    it.y = value\n                }\n                scenarioClick?.let {\n                    it.posY2 = value\n                }\n            }\n            get() {\n                return field\n            }\n\n        init {\n            binding = WidgSwipeEndBinding.inflate(layoutInflater)\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    var centerDisp = mainWidget.widgetWindowManager.getCenterDisplay()\n                    posX = centerDisp.first - (width2/2)\n                    posY = centerDisp.second - (height/2) - (centerDisp.second * 0.3).toInt()\n                    mainWidget.changePos2(scenarioClick!!, posX, posY)\n                    widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\n                    // Выводим значения в консоль\n                    /*L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )*/\n                    lstInitMedium[1] = true\n                    endInitMiddleWidgView()\n                    //widgMiddleView.showWidget()\n                }\n            })\n\n            //Touch listener\n            binding.rootWidg.setOnTouchListener(object : OnTouchListener {\n                private var initialX = 0\n                private var initialY = 0\n                private var initialTouchX = 0f\n                private var initialTouchY = 0f\n                override fun onTouch(v: View?, event: MotionEvent?): Boolean {\n                    //L.i(&quot;This is it&quot;);\n                    var x = event!!.rawX\n                    var y = event.rawY\n                    L.i(&quot;control pizda xraw=&quot; + x + &quot;yraw=&quot; + y + &quot;x=&quot; + event.x + &quot;y=&quot; + event.y + &quot;|&quot;)\n                    when (event.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            xm = v!!.width / 2\n                            ym = v.height / 2\n                            modeNow = MainWidgetView.MODE_MOVE\n                            initialX = paramsEndWidg.x\n                            initialY = paramsEndWidg.y\n                            //get the touch location\n                            initialTouchX = event.rawX\n                            initialTouchY = event.rawY\n                            return true\n                        }\n\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                L.i(&quot;Pizda&quot;)\n                                posX = initialX + (event.rawX - initialTouchX).toInt()\n                                posY = initialY + (event.rawY - initialTouchY).toInt()\n                                /*paramsEndWidg.x = posX\n                                paramsEndWidg.y = posY*/\n                                mainWidget.changePos2(scenarioClick!!, posX, posY)\n                                //Update the layout with new X &amp; Y coordinate\n                                widgetWindowManager.updateView(binding.rootWidg, paramsEndWidg)\n                                drawLine(width2, height2)\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                                //resize2(event.x, event.y, v!!.width, v.height)\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                                //changeOpacity(event.x, event.y, v!!.width, v.height)\n                            }\n                            return true\n                        }\n\n                        MotionEvent.ACTION_UP -&gt; {\n                            //resize2(event.getX(), event.getY(),v.getWidth(), v.getHeight(), root_container, moveView);\n                            if (modeNow == MainWidgetView.MODE_MOVE) {\n                                val Xdiff = (event.rawX - initialTouchX).toInt()\n                                val Ydiff = (event.rawY - initialTouchY).toInt()\n                            } else if (modeNow == MainWidgetView.MODE_RESIZE) {\n                            } else if (modeNow == MainWidgetView.MODE_VISIBILITY) {\n                            }\n                            modeNow = 0\n                            return true\n                        }\n                    }\n                    return false\n                }\n            })\n        }\n\n        fun showWidget() {\n            widgetWindowManager.addView(binding.root, paramsEndWidg)\n        }\n    }\n\n    inner class WidgMiddleView(ctx: Context) : RectangleView(ctx) {\n        var width2: Int = -1\n        var height2: Int = -1\n        lateinit var binding: WidgSwipeMiddleBinding\n\n        init {\n            alpha = 0.8f\n            binding = WidgSwipeMiddleBinding.inflate(layoutInflater)\n            binding.root.viewTreeObserver.addOnGlobalLayoutListener(object :\n                ViewTreeObserver.OnGlobalLayoutListener {\n                override fun onGlobalLayout() {\n                    // Убираем слушателя, чтобы избежать лишних вызовов\n                    //binding.root.viewTreeObserver.removeOnGlobalLayoutListener(this)\n                    width2 = binding.root.width\n                    height2 = binding.root.height\n                    // Выводим значения в консоль\n                    L.i(\n                        &quot;widgetView.x=&quot; + binding.root.x + &quot;widgetView.y=&quot; + binding.root.y +\n                                &quot;widgetView.top=&quot; + binding.root.top + &quot;widgetView.left=&quot; + binding.root.left +\n                                &quot;widgetView.trX=&quot; + binding.root.translationX + &quot;widgetView.trY=&quot; + binding.root.translationY +\n                                &quot;widgWidth=&quot; + binding.root.width + &quot;widthL=&quot; + binding.root.layoutParams.width +\n                                &quot;ppp=&quot; + binding.root.top\n                    )\n                    lstInitMedium[1] = true\n                    endInitMiddleWidgView()\n                    //widgMiddleView.showWidget()\n                }\n            })\n        }\n\n       /* fun changeRectCoords(left: Int, top: Int, right: Int, bottom: Int) {\n            // if(scenarioClick!!.posX2 != null &amp;&amp; scenarioClick!!.posY2 != null)\n            binding.rootWidg.drawLine(left, top, right, bottom)\n        }*/\n\n        fun showWidget() {\n\n            //changeRectCoords(scenarioClick!!.posX, scenarioClick!!.posY, scenarioClick!!.posX2!!, scenarioClick!!.posY2!!)\n            widgetWindowManager.addView(binding.root, paramsMiddleWidg)\n        }\n    }\n\n\n}\n</code></pre>\n<p>RectangleView</p>\n<pre><code>public class RectangleView extends View {\n\n    private Rect rect = new Rect();\n    private final Paint mPaint = new Paint();\n\n    public RectangleView(Context context) {\n        super(context);\n        init();\n    }\n\n    public RectangleView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public RectangleView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    private void init() {\n        int color = Color.parseColor(&quot;#0CFFE5&quot;);\n        mPaint.setColor(color);\n        mPaint.setStrokeWidth(20);\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n        mPaint.setAntiAlias(true);\n        setWillNotDraw(false);\n    }\n\n    @Override\n    protected void onSizeChanged(int width, int height, int oldWidth, int oldHeight) {\n        super.onSizeChanged(width, height, oldWidth, oldHeight);\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        if(rect != null) {\n            canvas.drawLine(rect.left, rect.top, rect.right, rect.bottom, mPaint);\n        }\n    }\n\n    public void drawLine2(int left, int top, int right, int bottom) {\n        rect.set(left, top, right, bottom);\n        postInvalidate();\n    }\n\n}\n</code></pre>\n<p>layout of middle widget</p>\n<pre><code>&lt;net.mautoclicker.ui.views.RectangleView\n        android:id=&quot;@+id/rootWidg&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:alpha=&quot;0.8&quot;/&gt;\n</code></pre>\n<p>I would like the problem to be solved</p>\n"},{"tags":["java","spring","classpath"],"answers":[{"tags":[],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1272990579,"creation_date":1272990579,"answer_id":2767097,"question_id":2766933,"body_markdown":"Spring supports ant-style class path resource matching.\r\n\r\nhttp://static.springsource.org/spring/docs/2.5.x/reference/resources.html\r\n\r\nExamples like : `classpath:com/mycompany/**/applicationContext.xml, /WEB-INF/*-context.xml`\r\n\r\nSee if you can use spring for your project. If it is not possible then you can always pull down the source code to see what they are doing, and do that yourself :)","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Spring supports ant-style class path resource matching.</p>\n\n<p><a href=\"http://static.springsource.org/spring/docs/2.5.x/reference/resources.html\" rel=\"noreferrer\">http://static.springsource.org/spring/docs/2.5.x/reference/resources.html</a></p>\n\n<p>Examples like : <code>classpath:com/mycompany/**/applicationContext.xml, /WEB-INF/*-context.xml</code></p>\n\n<p>See if you can use spring for your project. If it is not possible then you can always pull down the source code to see what they are doing, and do that yourself :)</p>\n"},{"tags":[],"owner":{"account_id":2789278,"reputation":232,"user_id":2399852,"display_name":"Serhat"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1369000557,"creation_date":1369000557,"answer_id":16639869,"question_id":2766933,"body_markdown":"You can try corn-cps\r\n\r\n     List&lt;URL&gt; resources = CPScanner.scanResources(new PackageNameFilter(&quot;net.sf.corn.cps.*&quot;), new ResourceNameFilter(&quot;*.xml&quot;));\r\n\r\n \r\n Use the dependecy below in your pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\r\n        &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>You can try corn-cps</p>\n\n<pre><code> List&lt;URL&gt; resources = CPScanner.scanResources(new PackageNameFilter(\"net.sf.corn.cps.*\"), new ResourceNameFilter(\"*.xml\"));\n</code></pre>\n\n<p>Use the dependecy below in your pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.corn&lt;/groupId&gt;\n    &lt;artifactId&gt;corn-cps&lt;/artifactId&gt;\n    &lt;version&gt;1.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3867856,"reputation":451,"user_id":3203943,"display_name":"whitestryder"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1397537095,"creation_date":1397537095,"answer_id":23074855,"question_id":2766933,"body_markdown":"Comment from &quot;Binil Thomas&quot; was on the right track, I was looking for confirmation that Spring&#39;s PathMatchingResourcePatternResolver could be used from Java Config so that I could give the resulting &quot;Resource&quot; list to the Spring Hibernate SessionFactory.mappingLocations without having to update the list of Hibernate *.hbm.xml files every time a new mapping file was added.  I was able to achieve this with the PathMatchingResourcePatternResolver using the below code:\r\n\r\n    import org.hibernate.SessionFactory;\r\n    import org.springframework.core.io.Resource;\r\n    import org.springframework.core.io.support.PathMatchingResourcePatternResolver;\r\n    import org.springframework.core.io.support.ResourcePatternResolver;\r\n    import org.springframework.orm.hibernate4.LocalSessionFactoryBean;\r\n    ...\r\n    ResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();   \r\n    Resource [] mappingLocations = patternResolver.getResources(&quot;classpath*:mappings/**/*.hbm.xml&quot;);\r\n    sessionFactory.setMappingLocations(mappingLocations);\r\n\r\nWorks like a charm.","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Comment from \"Binil Thomas\" was on the right track, I was looking for confirmation that Spring's PathMatchingResourcePatternResolver could be used from Java Config so that I could give the resulting \"Resource\" list to the Spring Hibernate SessionFactory.mappingLocations without having to update the list of Hibernate *.hbm.xml files every time a new mapping file was added.  I was able to achieve this with the PathMatchingResourcePatternResolver using the below code:</p>\n\n<pre><code>import org.hibernate.SessionFactory;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.support.PathMatchingResourcePatternResolver;\nimport org.springframework.core.io.support.ResourcePatternResolver;\nimport org.springframework.orm.hibernate4.LocalSessionFactoryBean;\n...\nResourcePatternResolver patternResolver = new PathMatchingResourcePatternResolver();   \nResource [] mappingLocations = patternResolver.getResources(\"classpath*:mappings/**/*.hbm.xml\");\nsessionFactory.setMappingLocations(mappingLocations);\n</code></pre>\n\n<p>Works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":6745630,"reputation":171,"user_id":5197313,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1444133546,"creation_date":1444133546,"answer_id":32969661,"question_id":2766933,"body_markdown":"Just use:\r\n\r\n    @Value(&quot;classpath:folder/*.xml&quot;)\r\n    Resource[] resources;","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>Just use:</p>\n\n<pre><code>@Value(\"classpath:folder/*.xml\")\nResource[] resources;\n</code></pre>\n"}],"owner":{"account_id":2812,"reputation":13739,"user_id":3973,"accept_rate":67,"display_name":"Binil Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21506,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":2767097,"answer_count":4,"score":16,"last_activity_date":1695023599,"creation_date":1272989185,"question_id":2766933,"body_markdown":"I want to read a bunch of text files, by loading them as resources using the context classloader.\r\n\r\n    URL url = Thread.currentThread()\r\n                    .getContextClassLoader()\r\n                    .getResource(&quot;folder/foo.txt&quot;);\r\n\r\nIs there some way to get a list of resources whose names match a given pattern? For eg:\r\n   \r\n    URL[] matchingUrls = someLibrary.getMatchingResources(&quot;folder/*.txt&quot;);\r\n\r\nLibraries like Spring can scan the classpath to find classes with a given annotation, so I am wondering if there something similar to load a bunch of resources.","title":"Finding all CLASSPATH resources matching a pattern","body":"<p>I want to read a bunch of text files, by loading them as resources using the context classloader.</p>\n\n<pre><code>URL url = Thread.currentThread()\n                .getContextClassLoader()\n                .getResource(\"folder/foo.txt\");\n</code></pre>\n\n<p>Is there some way to get a list of resources whose names match a given pattern? For eg:</p>\n\n<pre><code>URL[] matchingUrls = someLibrary.getMatchingResources(\"folder/*.txt\");\n</code></pre>\n\n<p>Libraries like Spring can scan the classpath to find classes with a given annotation, so I am wondering if there something similar to load a bunch of resources.</p>\n"},{"tags":["java","spring-boot","swagger","openapi"],"comments":[{"owner":{"account_id":40784,"reputation":7745,"user_id":118268,"accept_rate":84,"display_name":"KevinS"},"score":0,"creation_date":1684970273,"post_id":76327460,"comment_id":134597000,"body_markdown":"Could you try removing the springfox dependency? You only need the sprindoc dependency and I think that springfox is probably pulling in a different version of the io.swagger dependency than the one springdoc needs.","body":"Could you try removing the springfox dependency? You only need the sprindoc dependency and I think that springfox is probably pulling in a different version of the io.swagger dependency than the one springdoc needs."},{"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"score":0,"creation_date":1684972996,"post_id":76327460,"comment_id":134597282,"body_markdown":"If I remove springfox dependency,I get other error: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause\n\njava.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]","body":"If I remove springfox dependency,I get other error: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause  java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39; \tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(Schema&zwnj;&#8203;Serializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]"},{"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"score":0,"creation_date":1684973387,"post_id":76327460,"comment_id":134597330,"body_markdown":"I solved it, when I deleted springfox swagger started dependency 3.0 and agree             &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt; // I think that openApi 2.0.3 is not compatible with swagger v3","body":"I solved it, when I deleted springfox swagger started dependency 3.0 and agree             &lt;dependency&gt;                 &lt;groupId&gt;io.springfox&lt;/groupId&gt;                 &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;                 &lt;version&gt;2.9.2&lt;/version&gt;             &lt;/dependency&gt;             &lt;dependency&gt;                 &lt;groupId&gt;io.springfox&lt;/groupId&gt;                 &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;                 &lt;version&gt;2.9.2&lt;/version&gt;             &lt;/dependency&gt; // I think that openApi 2.0.3 is not compatible with swagger v3"}],"owner":{"account_id":28673800,"reputation":11,"user_id":21956276,"display_name":"Martin DiCe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1670,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695023327,"creation_date":1684963106,"question_id":76327460,"body_markdown":"I am having a error in SpringBoot v 3.0.6 with swagger v3.0.0.\r\n\r\nhttp://localhost:8007/doc/swagger-ui/index.html\r\nError URL:\r\n\r\nFailed to load API definition.\r\nErrors\r\nHide\r\n \r\nFetch error\r\nresponse status is 500 /v3/api-docs\r\n \r\nLog:\r\n\r\n```none\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;] with root cause\r\n\r\njava.lang.NoSuchMethodError: &#39;boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()&#39;\r\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:13) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1140) ~[jackson-databind-2.14.2.jar:2.14.2]\r\n\tat io.swagger.v3.core.util.Json.pretty(Json.java:24) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.ModelResolver.clone(ModelResolver.java:937) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.jackson.ModelResolver.resolve(ModelResolver.java:656) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat org.springdoc.core.converters.AdditionalModelsConverter.resolve(AdditionalModelsConverter.java:155) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.FileSupportConverter.resolve(FileSupportConverter.java:69) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.ResponseSupportConverter.resolve(ResponseSupportConverter.java:79) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.SchemaPropertyDeprecatingConverter.resolve(SchemaPropertyDeprecatingConverter.java:92) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.PolymorphicModelConverter.resolve(PolymorphicModelConverter.java:77) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.PageableOpenAPIConverter.resolve(PageableOpenAPIConverter.java:93) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.converters.SortOpenAPIConverter.resolve(SortOpenAPIConverter.java:83) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat io.swagger.v3.core.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:97) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat io.swagger.v3.core.converter.ModelConverters.resolveAsResolvedSchema(ModelConverters.java:110) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\r\n\tat org.springdoc.core.utils.SpringDocAnnotationsUtils.extractSchema(SpringDocAnnotationsUtils.java:122) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.GenericParameterService.calculateSchema(GenericParameterService.java:373) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.RequestBodyService.buildRequestBody(RequestBodyService.java:281) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.RequestBodyService.calculateRequestBodyInfo(RequestBodyService.java:257) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:343) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:111) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nMy pom.xml\r\n```\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.diceprojects&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ApiExportExcelToEmail&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ApiExportExcelToEmail&lt;/name&gt;\r\n    &lt;description&gt;ApiExportExcelToEmail&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n```\r\n\r\nMy Properties:\r\n```\r\nserver.port=8007\r\nspring.jpa.generate-ddl=true\r\nlogging.level.org.hibernate.SQL=debug\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n\r\n# SpringDoc configurations\r\nspringdoc.api-docs.enabled=true\r\nspringdoc.swagger-ui.enabled=true\r\n\r\nspringdoc.swagger-ui.path=/doc/swagger-ui.html\r\n```\r\n\r\nAnd My controller:\r\n```\r\n\r\n@CrossOrigin(&quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/export&quot;)\r\npublic class ReportController {\r\n\r\n        private final GetReportService service;\r\n        private final EmailService emailService;\r\n\r\n\r\n    public  ReportController(GetReportService service, EmailService emailService) {\r\n\r\n        this.service = service;\r\n        this.emailService = emailService;\r\n\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/getReport&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/getReport&quot;)\r\n    public ResponseEntity&lt;List&lt;ReportDTO&gt;&gt; getReport(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        return ResponseEntity.ok().body(fileContent);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/downloadCSV&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/downloadCSV&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadCSV(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        Resource fileResource = service.createCSVFile(fileContent);\r\n\r\n        // Leer el contenido del archivo en un arreglo de bytes\r\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\r\n\r\n        // Crear un objeto ByteArrayResource con el contenido del archivo\r\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\r\n\r\n        // Crear el encabezado de la respuesta\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.csv&quot;);\r\n\r\n        // Devolver el ResponseEntity con el archivo descargable\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentLength(fileBytes.length)\r\n                .body(resource);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/downloadExcel&quot;, method = RequestMethod.GET)\r\n    @GetMapping(&quot;/downloadExcel&quot;)\r\n    public ResponseEntity&lt;Resource&gt; downloadExcel(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\r\n        ParamFecha date = requestData.getDate();\r\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\r\n        Resource fileResource = service.createExcelFile(fileContent);\r\n\r\n        // Leer el contenido del archivo en un arreglo de bytes\r\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\r\n\r\n        // Crear un objeto ByteArrayResource con el contenido del archivo\r\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\r\n\r\n        // Crear el encabezado de la respuesta\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\r\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.xlsx&quot;);\r\n\r\n        // Devolver el ResponseEntity con el archivo descargable\r\n        return ResponseEntity.ok()\r\n                .headers(headers)\r\n                .contentLength(fileBytes.length)\r\n                .body(resource);\r\n    }\r\n\r\n    //@RequestMapping(value = &quot;/sendReportByEmail&quot;, method = RequestMethod.POST)\r\n    @PostMapping(&quot;/downloadExcel&quot;)\r\n    public ResponseEntity&lt;String&gt; sendReportByEmail(@RequestBody(required = true) SendReportRequest request) {\r\n\r\n        try {\r\n            // Verificar si falta alg&#250;n par&#225;metro obligatorio\r\n            if (request.getRecipientEmail() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;recipientEmail&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getSubject() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;subject&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getBody() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;body&#39; parameter is missing&quot;);\r\n            }\r\n            if (request.getDate() == null || request.getDate().getDate() == null) {\r\n                return ResponseEntity.badRequest().body(&quot;Error: &#39;date&#39; parameter is missing&quot;);\r\n            }\r\n\r\n            // Obtener el contenido del archivo Excel\r\n            List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(request.getDate().getDate());\r\n            Resource excelFile = service.createExcelFile(fileContent);\r\n\r\n            // Enviar el archivo Excel por correo electr&#243;nico\r\n            try {\r\n                emailService.sendEmail(request.getRecipientEmail(), request.getSubject(), request.getBody(), excelFile);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\r\n            }\r\n\r\n            return ResponseEntity.ok().body(&quot;Report sent successfully&quot;);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\r\n        }\r\n    }\r\n\r\n    //Validador de resultados\r\n    private ResponseEntity&lt;Map&lt;String,String&gt;&gt; validate(BindingResult result) {\r\n\r\n        if (result.hasErrors()){\r\n\r\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n            result.getFieldErrors().forEach(err -&gt; errors.put(err.getField(), err.getDefaultMessage()));\r\n\r\n            return ResponseEntity.badRequest().body(errors);\r\n\r\n        }\r\n\r\n        return null;\r\n\r\n    }\r\n```\r\n\r\n------------------------------------------------------------------------\r\nBut, I can&#39;t find the error :( help me please!!\r\n\r\n\r\nI wanted to see my API documentation ;(","title":"Error with Swagger v3 and Spring boot v3: Failed to load API definition","body":"<p>I am having a error in SpringBoot v 3.0.6 with swagger v3.0.0.</p>\n<p>http://localhost:8007/doc/swagger-ui/index.html\nError URL:</p>\n<p>Failed to load API definition.\nErrors\nHide</p>\n<p>Fetch error\nresponse status is 500 /v3/api-docs</p>\n<p>Log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed: java.lang.NoSuchMethodError: 'boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()'] with root cause\n\njava.lang.NoSuchMethodError: 'boolean io.swagger.v3.oas.models.media.Schema.getExampleSetFlag()'\n    at io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:35) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.SchemaSerializer.serialize(SchemaSerializer.java:13) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:480) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:319) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1572) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter._writeValueAndClose(ObjectWriter.java:1273) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValueAsString(ObjectWriter.java:1140) ~[jackson-databind-2.14.2.jar:2.14.2]\n    at io.swagger.v3.core.util.Json.pretty(Json.java:24) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.ModelResolver.clone(ModelResolver.java:937) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.jackson.ModelResolver.resolve(ModelResolver.java:656) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at org.springdoc.core.converters.AdditionalModelsConverter.resolve(AdditionalModelsConverter.java:155) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.FileSupportConverter.resolve(FileSupportConverter.java:69) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.ResponseSupportConverter.resolve(ResponseSupportConverter.java:79) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.SchemaPropertyDeprecatingConverter.resolve(SchemaPropertyDeprecatingConverter.java:92) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.PolymorphicModelConverter.resolve(PolymorphicModelConverter.java:77) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.PageableOpenAPIConverter.resolve(PageableOpenAPIConverter.java:93) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.converters.SortOpenAPIConverter.resolve(SortOpenAPIConverter.java:83) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at io.swagger.v3.core.converter.ModelConverterContextImpl.resolve(ModelConverterContextImpl.java:97) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at io.swagger.v3.core.converter.ModelConverters.resolveAsResolvedSchema(ModelConverters.java:110) ~[swagger-core-jakarta-2.2.8.jar:2.2.8]\n    at org.springdoc.core.utils.SpringDocAnnotationsUtils.extractSchema(SpringDocAnnotationsUtils.java:122) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.GenericParameterService.calculateSchema(GenericParameterService.java:373) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.RequestBodyService.buildRequestBody(RequestBodyService.java:281) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.RequestBodyService.calculateRequestBodyInfo(RequestBodyService.java:257) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.core.service.AbstractRequestService.build(AbstractRequestService.java:343) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:472) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.calculatePath(AbstractOpenApiResource.java:652) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$calculatePath$11(OpenApiResource.java:219) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.calculatePath(OpenApiResource.java:200) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.lambda$getPaths$2(OpenApiResource.java:170) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/java.util.Optional.ifPresent(Optional.java:178) ~[na:na]\n    at org.springdoc.webmvc.api.OpenApiResource.getPaths(OpenApiResource.java:149) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.api.AbstractOpenApiResource.getOpenApi(AbstractOpenApiResource.java:334) ~[springdoc-openapi-starter-common-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiResource.openapiJson(OpenApiResource.java:124) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at org.springdoc.webmvc.api.OpenApiWebMvcResource.openapiJson(OpenApiWebMvcResource.java:111) ~[springdoc-openapi-starter-webmvc-api-2.0.3.jar:2.0.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.diceprojects&lt;/groupId&gt;\n    &lt;artifactId&gt;ApiExportExcelToEmail&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ApiExportExcelToEmail&lt;/name&gt;\n    &lt;description&gt;ApiExportExcelToEmail&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n                &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-commons&lt;/artifactId&gt;\n            &lt;version&gt;4.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-beans&lt;/artifactId&gt;\n            &lt;version&gt;6.0.9&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n        &lt;dependencyManagement&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                    &lt;type&gt;pom&lt;/type&gt;\n                    &lt;scope&gt;import&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n</code></pre>\n<p>My Properties:</p>\n<pre><code>server.port=8007\nspring.jpa.generate-ddl=true\nlogging.level.org.hibernate.SQL=debug\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\n\n# SpringDoc configurations\nspringdoc.api-docs.enabled=true\nspringdoc.swagger-ui.enabled=true\n\nspringdoc.swagger-ui.path=/doc/swagger-ui.html\n</code></pre>\n<p>And My controller:</p>\n<pre><code>\n@CrossOrigin(&quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/export&quot;)\npublic class ReportController {\n\n        private final GetReportService service;\n        private final EmailService emailService;\n\n\n    public  ReportController(GetReportService service, EmailService emailService) {\n\n        this.service = service;\n        this.emailService = emailService;\n\n    }\n\n    //@RequestMapping(value = &quot;/getReport&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/getReport&quot;)\n    public ResponseEntity&lt;List&lt;ReportDTO&gt;&gt; getReport(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        return ResponseEntity.ok().body(fileContent);\n    }\n\n    //@RequestMapping(value = &quot;/downloadCSV&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/downloadCSV&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadCSV(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        Resource fileResource = service.createCSVFile(fileContent);\n\n        // Leer el contenido del archivo en un arreglo de bytes\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\n\n        // Crear un objeto ByteArrayResource con el contenido del archivo\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\n\n        // Crear el encabezado de la respuesta\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.csv&quot;);\n\n        // Devolver el ResponseEntity con el archivo descargable\n        return ResponseEntity.ok()\n                .headers(headers)\n                .contentLength(fileBytes.length)\n                .body(resource);\n    }\n\n    //@RequestMapping(value = &quot;/downloadExcel&quot;, method = RequestMethod.GET)\n    @GetMapping(&quot;/downloadExcel&quot;)\n    public ResponseEntity&lt;Resource&gt; downloadExcel(@RequestParam(&quot;date&quot;) RequestDataDTO requestData) throws IOException {\n        ParamFecha date = requestData.getDate();\n        List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(date.getDate());\n        Resource fileResource = service.createExcelFile(fileContent);\n\n        // Leer el contenido del archivo en un arreglo de bytes\n        byte[] fileBytes = IOUtils.toByteArray(fileResource.getInputStream());\n\n        // Crear un objeto ByteArrayResource con el contenido del archivo\n        ByteArrayResource resource = new ByteArrayResource(fileBytes);\n\n        // Crear el encabezado de la respuesta\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_OCTET_STREAM);\n        headers.setContentDispositionFormData(&quot;attachment&quot;, &quot;reporte.xlsx&quot;);\n\n        // Devolver el ResponseEntity con el archivo descargable\n        return ResponseEntity.ok()\n                .headers(headers)\n                .contentLength(fileBytes.length)\n                .body(resource);\n    }\n\n    //@RequestMapping(value = &quot;/sendReportByEmail&quot;, method = RequestMethod.POST)\n    @PostMapping(&quot;/downloadExcel&quot;)\n    public ResponseEntity&lt;String&gt; sendReportByEmail(@RequestBody(required = true) SendReportRequest request) {\n\n        try {\n            // Verificar si falta algún parámetro obligatorio\n            if (request.getRecipientEmail() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'recipientEmail' parameter is missing&quot;);\n            }\n            if (request.getSubject() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'subject' parameter is missing&quot;);\n            }\n            if (request.getBody() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'body' parameter is missing&quot;);\n            }\n            if (request.getDate() == null || request.getDate().getDate() == null) {\n                return ResponseEntity.badRequest().body(&quot;Error: 'date' parameter is missing&quot;);\n            }\n\n            // Obtener el contenido del archivo Excel\n            List&lt;ReportDTO&gt; fileContent = service.convertResultToFile(request.getDate().getDate());\n            Resource excelFile = service.createExcelFile(fileContent);\n\n            // Enviar el archivo Excel por correo electrónico\n            try {\n                emailService.sendEmail(request.getRecipientEmail(), request.getSubject(), request.getBody(), excelFile);\n            } catch (Exception e) {\n                e.printStackTrace();\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\n            }\n\n            return ResponseEntity.ok().body(&quot;Report sent successfully&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Error sending report&quot;);\n        }\n    }\n\n    //Validador de resultados\n    private ResponseEntity&lt;Map&lt;String,String&gt;&gt; validate(BindingResult result) {\n\n        if (result.hasErrors()){\n\n            Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n            result.getFieldErrors().forEach(err -&gt; errors.put(err.getField(), err.getDefaultMessage()));\n\n            return ResponseEntity.badRequest().body(errors);\n\n        }\n\n        return null;\n\n    }\n</code></pre>\n<hr />\n<p>But, I can't find the error :( help me please!!</p>\n<p>I wanted to see my API documentation ;(</p>\n"},{"tags":["java","list","data-structures","collections","set"],"comments":[{"owner":{"account_id":4187,"reputation":53594,"user_id":6210,"accept_rate":50,"display_name":"MSN"},"score":1,"creation_date":1240256474,"post_id":769731,"comment_id":581275,"body_markdown":"Why would you get an element from a set by index? Are you trying to use a set as a sorted array?","body":"Why would you get an element from a set by index? Are you trying to use a set as a sorted array?"},{"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"score":0,"creation_date":1240256935,"post_id":769731,"comment_id":581305,"body_markdown":"The particular instance here is a dbUnit test against a Set returned from a hibernate call.  In my test, it&#39;s reasonable to assume (because I assert it) that the object returned is in a specific order, because of my IDataSet I used to set it up.  It&#39;s a non-typical case, but lead to my curiousty about the API.","body":"The particular instance here is a dbUnit test against a Set returned from a hibernate call.  In my test, it&#39;s reasonable to assume (because I assert it) that the object returned is in a specific order, because of my IDataSet I used to set it up.  It&#39;s a non-typical case, but lead to my curiousty about the API."},{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1240257354,"post_id":769731,"comment_id":581331,"body_markdown":"Adding things in a specific order doesn&#39;t mean they&#39;ll stay that way, unless you&#39;re using a custom Set implementation.","body":"Adding things in a specific order doesn&#39;t mean they&#39;ll stay that way, unless you&#39;re using a custom Set implementation."},{"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"score":1,"creation_date":1240259147,"post_id":769731,"comment_id":581424,"body_markdown":"&quot;If I know I want the first item, I can use set.iterator().next()&quot; - This line doesn&#39;t actually make sense.  You are really saying &quot;If I know I want the first item, by the implementation&#39;s definition of the first item, then I can...&quot;.  Set itself is unordered, so indexed access doesn&#39;t make sense.  Now if there were an ArrayListSet, that would make more sense (just cast to &quot;List&quot; and be happy).  Perhaps you could give more context for the question?","body":"&quot;If I know I want the first item, I can use set.iterator().next()&quot; - This line doesn&#39;t actually make sense.  You are really saying &quot;If I know I want the first item, by the implementation&#39;s definition of the first item, then I can...&quot;.  Set itself is unordered, so indexed access doesn&#39;t make sense.  Now if there were an ArrayListSet, that would make more sense (just cast to &quot;List&quot; and be happy).  Perhaps you could give more context for the question?"},{"owner":{"account_id":9662,"reputation":8462,"user_id":17945,"accept_rate":36,"display_name":"reinierpost"},"score":0,"creation_date":1422896481,"post_id":769731,"comment_id":44919869,"body_markdown":"Set isn&#39;t unordered! Certain implementations of it are, but some implementations are explicitly ordered in a particular way.","body":"Set isn&#39;t unordered! Certain implementations of it are, but some implementations are explicitly ordered in a particular way."}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":2,"up_vote_count":186,"is_accepted":true,"score":184,"last_activity_date":1344141205,"creation_date":1240255233,"answer_id":769732,"question_id":769731,"body_markdown":"Because sets have no ordering. Some implementations do (particularly those implementing the `java.util.SortedSet` interface), but that is not a general property of sets.\r\n\r\nIf you&#39;re trying to use sets this way, you should consider using a list instead.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Because sets have no ordering. Some implementations do (particularly those implementing the <code>java.util.SortedSet</code> interface), but that is not a general property of sets.</p>\n\n<p>If you're trying to use sets this way, you should consider using a list instead.</p>\n"},{"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240255343,"creation_date":1240255343,"answer_id":769744,"question_id":769731,"body_markdown":"That is because Set only guarantees uniqueness, but says nothing about the optimal access or usage patterns.  Ie, a Set can be a List or a Map, each of which have very different retrieval characteristics.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>That is because Set only guarantees uniqueness, but says nothing about the optimal access or usage patterns.  Ie, a Set can be a List or a Map, each of which have very different retrieval characteristics.</p>\n"},{"tags":[],"owner":{"account_id":22705,"reputation":80387,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1352000344,"creation_date":1240255906,"answer_id":769780,"question_id":769731,"body_markdown":"Just adding one point that was not mentioned in [mmyers&#39; answer][1].\r\n\r\n&gt; If I know I want the first item, I can\r\n&gt; use set.iterator().next(), but\r\n&gt; otherwise it seems I have to cast to\r\n&gt; an Array to retrieve an item at a\r\n&gt; specific index?\r\n&gt; \r\n&gt; What are the appropriate ways of\r\n&gt; retrieving data from a set? (other\r\n&gt; than using an iterator)\r\n\r\nYou should also familiarise yourself with the [`SortedSet`][2] interface (whose most common implementation is [`TreeSet`][3]). \r\n\r\nA SortedSet is a Set (i.e. elements are unique) that is kept ordered by the *natural ordering* of the elements or using some `Comparator`. You can easily access the first and last items using `first()` and `last()` methods. A `SortedSet` comes in handy every once in a while, when you need to keep your collection both duplicate-free and ordered in a certain way.\r\n\r\n**Edit**: If you need a Set whose elements are kept in insertion-order (much like a List), take a look at [`LinkedHashSet`][4].\r\n\r\n  [1]: https://stackoverflow.com/questions/769731/why-doesnt-java-utils-set-have-getint-index/769732#769732\r\n  [2]: http://java.sun.com/javase/7/docs/api/java/util/SortedSet.html\r\n  [3]: http://java.sun.com/javase/7/docs/api/java/util/TreeSet.html\r\n  [4]: http://java.sun.com/javase/7/docs/api/java/util/LinkedHashSet.html","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Just adding one point that was not mentioned in <a href=\"https://stackoverflow.com/questions/769731/why-doesnt-java-utils-set-have-getint-index/769732#769732\">mmyers' answer</a>.</p>\n\n<blockquote>\n  <p>If I know I want the first item, I can\n  use set.iterator().next(), but\n  otherwise it seems I have to cast to\n  an Array to retrieve an item at a\n  specific index?</p>\n  \n  <p>What are the appropriate ways of\n  retrieving data from a set? (other\n  than using an iterator)</p>\n</blockquote>\n\n<p>You should also familiarise yourself with the <a href=\"http://java.sun.com/javase/7/docs/api/java/util/SortedSet.html\" rel=\"nofollow noreferrer\"><code>SortedSet</code></a> interface (whose most common implementation is <a href=\"http://java.sun.com/javase/7/docs/api/java/util/TreeSet.html\" rel=\"nofollow noreferrer\"><code>TreeSet</code></a>). </p>\n\n<p>A SortedSet is a Set (i.e. elements are unique) that is kept ordered by the <em>natural ordering</em> of the elements or using some <code>Comparator</code>. You can easily access the first and last items using <code>first()</code> and <code>last()</code> methods. A <code>SortedSet</code> comes in handy every once in a while, when you need to keep your collection both duplicate-free and ordered in a certain way.</p>\n\n<p><strong>Edit</strong>: If you need a Set whose elements are kept in insertion-order (much like a List), take a look at <a href=\"http://java.sun.com/javase/7/docs/api/java/util/LinkedHashSet.html\" rel=\"nofollow noreferrer\"><code>LinkedHashSet</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":744,"reputation":4034,"user_id":972,"accept_rate":62,"display_name":"Hugo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240259123,"creation_date":1240259123,"answer_id":769935,"question_id":769731,"body_markdown":"The only reason I can think of for using a numerical index in a set would be for iteration. For that, use \r\n\r\n    for(A a : set) { \r\n       visit(a); \r\n    }\r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>The only reason I can think of for using a numerical index in a set would be for iteration. For that, use </p>\n\n<pre><code>for(A a : set) { \n   visit(a); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9733,"reputation":98806,"user_id":18103,"accept_rate":68,"display_name":"skiphoppy"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1240262720,"creation_date":1240262720,"answer_id":770163,"question_id":769731,"body_markdown":"I&#39;m not sure if anybody has spelled it out exactly this way, but you need to understand the following:\r\n\r\n**There is no &quot;first&quot; element in a set.**\r\n\r\nBecause, as others have said, sets have no ordering.  A set is a mathematical concept that specifically does not include ordering.\r\n\r\nOf course, your computer can&#39;t really keep a list of stuff that&#39;s not ordered in memory.  It has to have some ordering.  Internally it&#39;s an array or a linked list or something.  But you don&#39;t really know what it is, and it doesn&#39;t really have a first element; the element that comes out &quot;first&quot; comes out that way by chance, and might not be first next time.  Even if you took steps to &quot;guarantee&quot; a particular first element, it&#39;s still coming out by chance, because you just happened to get it right for one particular implementation of a Set; a different implementation might not work that way with what you did.  And, in fact, you may not know the implementation you&#39;re using as well as you think you do.\r\n\r\nPeople run into this ALL. THE. TIME. with RDBMS systems and don&#39;t understand.  An RDBMS query returns a set of records.  This is the same type of set from mathematics: an unordered collection of items, only in this case the items are records.  An RDBMS query result has no guaranteed order at all unless you use the ORDER BY clause, but all the time people assume it does and then trip themselves up some day when the shape of their data or code changes slightly and triggers the query optimizer to work a different way and suddenly the results don&#39;t come out in the order they expect.  These are typically the people who didn&#39;t pay attention in database class (or when reading the documentation or tutorials) when it was explained to them, up front, that query results do not have a guaranteed ordering.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>I'm not sure if anybody has spelled it out exactly this way, but you need to understand the following:</p>\n\n<p><strong>There is no \"first\" element in a set.</strong></p>\n\n<p>Because, as others have said, sets have no ordering.  A set is a mathematical concept that specifically does not include ordering.</p>\n\n<p>Of course, your computer can't really keep a list of stuff that's not ordered in memory.  It has to have some ordering.  Internally it's an array or a linked list or something.  But you don't really know what it is, and it doesn't really have a first element; the element that comes out \"first\" comes out that way by chance, and might not be first next time.  Even if you took steps to \"guarantee\" a particular first element, it's still coming out by chance, because you just happened to get it right for one particular implementation of a Set; a different implementation might not work that way with what you did.  And, in fact, you may not know the implementation you're using as well as you think you do.</p>\n\n<p>People run into this ALL. THE. TIME. with RDBMS systems and don't understand.  An RDBMS query returns a set of records.  This is the same type of set from mathematics: an unordered collection of items, only in this case the items are records.  An RDBMS query result has no guaranteed order at all unless you use the ORDER BY clause, but all the time people assume it does and then trip themselves up some day when the shape of their data or code changes slightly and triggers the query optimizer to work a different way and suddenly the results don't come out in the order they expect.  These are typically the people who didn't pay attention in database class (or when reading the documentation or tutorials) when it was explained to them, up front, that query results do not have a guaranteed ordering.</p>\n"},{"tags":[],"owner":{"account_id":32595,"reputation":18597,"user_id":90566,"accept_rate":84,"display_name":"waxwing"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1465545856,"creation_date":1240306950,"answer_id":771850,"question_id":769731,"body_markdown":"This kind of leads to the question when you should use a set and when you should use a list. Usually, the advice goes:\r\n\r\n1. If you need ordered data, use a List\r\n2. If you need unique data, use a Set\r\n3. If you need both, use either: a SortedSet (for data ordered by comparator) or an OrderedSet/UniqueList (for data ordered by insertion). Unfortunately the Java API does not yet have OrderedSet/UniqueList.\r\n\r\nA fourth case that appears often is that you need neither. In this case you see some programmers go with lists and some with sets. Personally I find it very harmful to see set as a list without ordering - because it is really a whole other beast. Unless you need stuff like set uniqueness or set equality, always favor lists.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>This kind of leads to the question when you should use a set and when you should use a list. Usually, the advice goes:</p>\n\n<ol>\n<li>If you need ordered data, use a List</li>\n<li>If you need unique data, use a Set</li>\n<li>If you need both, use either: a SortedSet (for data ordered by comparator) or an OrderedSet/UniqueList (for data ordered by insertion). Unfortunately the Java API does not yet have OrderedSet/UniqueList.</li>\n</ol>\n\n<p>A fourth case that appears often is that you need neither. In this case you see some programmers go with lists and some with sets. Personally I find it very harmful to see set as a list without ordering - because it is really a whole other beast. Unless you need stuff like set uniqueness or set equality, always favor lists.</p>\n"},{"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1240903763,"creation_date":1240903763,"answer_id":796631,"question_id":769731,"body_markdown":"some data structures are missing from the standard java collections. \r\n\r\nBag (like set but can contain elements multiple times)\r\n\r\nUniqueList (ordered list, can contain each element only once)\r\n\r\nseems you would need a uniquelist in this case\r\n\r\nif you need flexible data structures, you might be interested in [Google Collections][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/google-collections/","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>some data structures are missing from the standard java collections. </p>\n\n<p>Bag (like set but can contain elements multiple times)</p>\n\n<p>UniqueList (ordered list, can contain each element only once)</p>\n\n<p>seems you would need a uniquelist in this case</p>\n\n<p>if you need flexible data structures, you might be interested in <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a></p>\n"},{"tags":[],"owner":{"account_id":585336,"reputation":71,"user_id":253996,"display_name":"walls"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1263904644,"creation_date":1263904644,"answer_id":2093454,"question_id":769731,"body_markdown":"That&#39;s true, element in Set are not ordered, by definition of the Set Collection. So they can&#39;t be access by an index.\r\n\r\nBut why don&#39;t we have a get(object) method, not by providing the index as parameter, but an object that is equal to the one we are looking for? \r\nBy this way, we can access the data of the element inside the Set, just by knowing its attributes used by the equal method.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>That's true, element in Set are not ordered, by definition of the Set Collection. So they can't be access by an index.</p>\n\n<p>But why don't we have a get(object) method, not by providing the index as parameter, but an object that is equal to the one we are looking for? \nBy this way, we can access the data of the element inside the Set, just by knowing its attributes used by the equal method.</p>\n"},{"tags":[],"owner":{"account_id":100602,"reputation":1271,"user_id":271104,"accept_rate":33,"display_name":"Sorin Postelnicu"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1275182118,"creation_date":1275180909,"answer_id":2937137,"question_id":769731,"body_markdown":"Actually this is a recurring question when writing JavaEE applications which use Object-Relational Mapping (for example with Hibernate); and from all the people who replied here, Andreas Petersson is the only one who understood the real issue and offered the correct answer to it: Java is missing a UniqueList! (or you can also call it OrderedSet, or IndexedSet).\r\n\r\nMaxwing mentioned this use-case (in which you need ordered AND unique data) and he suggested the SortedSet, but this is not what Marty Pitt really needed.\r\n\r\nThis &quot;IndexedSet&quot; is NOT the same as a SortedSet - in a SortedSet the elements are sorted by using a Comparator (or using their &quot;natural&quot; ordering).\r\n\r\nBut instead it is closer to a LinkedHashSet (which others also suggested), or even more so to an (also inexistent) &quot;ArrayListSet&quot;, because it guarantees that the elements are returned in the same order as they were inserted.\r\n\r\nBut the LinkedHashSet is an implementation, not an interface! What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList) interface! This will allow the programmer to specify that he needs a collection of elements that have a specific order and without duplicates, and then instantiate it with any implementation (for example an implementation provided by Hibernate).\r\n\r\nSince JDK is open-source, maybe this interface will be finally included in Java 7...\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Actually this is a recurring question when writing JavaEE applications which use Object-Relational Mapping (for example with Hibernate); and from all the people who replied here, Andreas Petersson is the only one who understood the real issue and offered the correct answer to it: Java is missing a UniqueList! (or you can also call it OrderedSet, or IndexedSet).</p>\n\n<p>Maxwing mentioned this use-case (in which you need ordered AND unique data) and he suggested the SortedSet, but this is not what Marty Pitt really needed.</p>\n\n<p>This \"IndexedSet\" is NOT the same as a SortedSet - in a SortedSet the elements are sorted by using a Comparator (or using their \"natural\" ordering).</p>\n\n<p>But instead it is closer to a LinkedHashSet (which others also suggested), or even more so to an (also inexistent) \"ArrayListSet\", because it guarantees that the elements are returned in the same order as they were inserted.</p>\n\n<p>But the LinkedHashSet is an implementation, not an interface! What is needed is an IndexedSet (or ListSet, or OrderedSet, or UniqueList) interface! This will allow the programmer to specify that he needs a collection of elements that have a specific order and without duplicates, and then instantiate it with any implementation (for example an implementation provided by Hibernate).</p>\n\n<p>Since JDK is open-source, maybe this interface will be finally included in Java 7...</p>\n"},{"tags":[],"owner":{"account_id":624263,"reputation":3,"user_id":371472,"display_name":"lala"},"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1277029195,"creation_date":1277029195,"answer_id":3078876,"question_id":769731,"body_markdown":"To get element in a Set, i use to following one:\r\n\r\n    public T getElement(Set&lt;T&gt; set, T element) {\r\n\tT result = null;\r\n\tif (set instanceof TreeSet&lt;?&gt;) {\r\n\t    T floor = ((TreeSet&lt;T&gt;) set).floor(element);\r\n\t    if (floor != null &amp;&amp; floor.equals(element))\r\n\t\tresult = floor;\r\n\t} else {\r\n\t    boolean found = false;\r\n\t    for (Iterator&lt;T&gt; it = set.iterator(); !found &amp;&amp; it.hasNext();) {\r\n\t\tif (true) {\r\n\t\t    T current = it.next();\r\n\t\t    if (current.equals(element)) {\r\n\t\t\tresult = current;\r\n\t\t\tfound = true;\r\n\t\t    }\r\n\t\t}\r\n\t    }\r\n\t}\r\n\treturn result;\r\n    }","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>To get element in a Set, i use to following one:</p>\n\n<pre><code>public T getElement(Set&lt;T&gt; set, T element) {\nT result = null;\nif (set instanceof TreeSet&lt;?&gt;) {\n    T floor = ((TreeSet&lt;T&gt;) set).floor(element);\n    if (floor != null &amp;&amp; floor.equals(element))\n    result = floor;\n} else {\n    boolean found = false;\n    for (Iterator&lt;T&gt; it = set.iterator(); !found &amp;&amp; it.hasNext();) {\n    if (true) {\n        T current = it.next();\n        if (current.equals(element)) {\n        result = current;\n        found = true;\n        }\n    }\n    }\n}\nreturn result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186564,"reputation":31,"user_id":424048,"display_name":"buchweizen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1282138423,"creation_date":1282138423,"answer_id":3512634,"question_id":769731,"body_markdown":"I ran into situations where I actually wanted a **Sorted**Set with access via index (I concur with other posters that accessing an unsorted Set with an index makes no sense). \r\nAn example would be a tree where I wanted the children to be sorted and duplicate children were not allowed. \r\n\r\nI needed the access via index to display them and the set attributes came in handy to efficiently eliminate duplicates.\r\n\r\nFinding no suitable collection in java.util or google collections, I found it straightforward to implement it myself. The basic idea is to wrap a SortedSet and create a List when access via index is required (and forget the list when the SortedSet is changed). This does of course only work efficiently when changing the wrapped SortedSet and accessing the list is separated in the lifetime of the Collection. Otherwise it behaves like a list which is sorted often, i.e. too slow.\r\n\r\nWith large numbers of children, this improved performance a lot over a list I kept sorted via Collections.sort.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>I ran into situations where I actually wanted a <strong>Sorted</strong>Set with access via index (I concur with other posters that accessing an unsorted Set with an index makes no sense). \nAn example would be a tree where I wanted the children to be sorted and duplicate children were not allowed. </p>\n\n<p>I needed the access via index to display them and the set attributes came in handy to efficiently eliminate duplicates.</p>\n\n<p>Finding no suitable collection in java.util or google collections, I found it straightforward to implement it myself. The basic idea is to wrap a SortedSet and create a List when access via index is required (and forget the list when the SortedSet is changed). This does of course only work efficiently when changing the wrapped SortedSet and accessing the list is separated in the lifetime of the Collection. Otherwise it behaves like a list which is sorted often, i.e. too slow.</p>\n\n<p>With large numbers of children, this improved performance a lot over a list I kept sorted via Collections.sort.</p>\n"},{"tags":[],"owner":{"account_id":37416,"reputation":74513,"user_id":106979,"accept_rate":82,"display_name":"fortran"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1294401258,"creation_date":1294401258,"answer_id":4625210,"question_id":769731,"body_markdown":"If you are going to do lots of random accesses by index in a set, you can get an array view of its elements:\r\n\r\n    Object[] arrayView = mySet.toArray();\r\n    //do whatever you need with arrayView[i]\r\n\r\nThere are two main drawbacks though:\r\n\r\n1. It&#39;s not memory efficient, as an array for the whole set needs to be created.\r\n1. If the set is modified, the view becomes obsolete.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>If you are going to do lots of random accesses by index in a set, you can get an array view of its elements:</p>\n\n<pre><code>Object[] arrayView = mySet.toArray();\n//do whatever you need with arrayView[i]\n</code></pre>\n\n<p>There are two main drawbacks though:</p>\n\n<ol>\n<li>It's not memory efficient, as an array for the whole set needs to be created.</li>\n<li>If the set is modified, the view becomes obsolete.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":118444,"reputation":20506,"user_id":309483,"accept_rate":88,"display_name":"Janus Troelsen"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1334759397,"creation_date":1328223312,"answer_id":9121254,"question_id":769731,"body_markdown":"You can do ``new ArrayList&lt;T&gt;(set).get(index)``","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>You can do <code>new ArrayList&lt;T&gt;(set).get(index)</code></p>\n"},{"tags":[],"owner":{"account_id":876674,"reputation":65,"user_id":77864,"accept_rate":50,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337624003,"creation_date":1337624003,"answer_id":10690385,"question_id":769731,"body_markdown":"The reason why the Set *interface* doesn&#39;t have a get index-type call or even something even more basic, such as first() or last(), is because it is an ambiguous operation, and therefore a potentially dangerous operation. If a method returns a Set, and you call, say first() method on it, what is the expected result, given that the a generic Set makes no guarantees on the ordering? The resultant object could very well vary between each call of the method, or it might not and lull you into a false sense of security, until the library you&#39;re using changes changes the implementation underneath and now you find that all your code breaks for no particular reason.\r\n\r\nThe suggestions about workarounds listed here are good. If you need indexed access, use a list. Be careful with using iterators or toArray with a generic Set, because a) there is no guarantee on the ordering and b) there is no guarantee that the ordering will not change with subsequent invocations or with different underlying implementations. If you need something in between, a SortedSet or a LinkedHashSet is what you want.\r\n\r\n//\r\nI do wish the Set interface had a get-random-element though. ","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>The reason why the Set <em>interface</em> doesn't have a get index-type call or even something even more basic, such as first() or last(), is because it is an ambiguous operation, and therefore a potentially dangerous operation. If a method returns a Set, and you call, say first() method on it, what is the expected result, given that the a generic Set makes no guarantees on the ordering? The resultant object could very well vary between each call of the method, or it might not and lull you into a false sense of security, until the library you're using changes changes the implementation underneath and now you find that all your code breaks for no particular reason.</p>\n\n<p>The suggestions about workarounds listed here are good. If you need indexed access, use a list. Be careful with using iterators or toArray with a generic Set, because a) there is no guarantee on the ordering and b) there is no guarantee that the ordering will not change with subsequent invocations or with different underlying implementations. If you need something in between, a SortedSet or a LinkedHashSet is what you want.</p>\n\n<p>//\nI do wish the Set interface had a get-random-element though. </p>\n"},{"tags":[],"owner":{"account_id":227148,"reputation":625,"user_id":488635,"display_name":"Vitaly Sazanovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621543132,"creation_date":1390831744,"answer_id":21382988,"question_id":769731,"body_markdown":"If you don&#39;t mind the set to be sorted then you may be interested to take a look at the [indexed-tree-map][1] project. \r\n\r\nThe enhanced TreeSet/[TreeMap][2] provides access to elements by index or getting the index of an element. And the implementation is based on updating node weights in the RB tree. So no iteration or backing up by a list here.\r\n\r\n\r\n  [1]: https://github.com/geniot/indexed-tree-map\r\n  [2]: https://github.com/geniot/indexed-tree-map/blob/master/src/main/java/com/dictiographer/collections/IndexedTreeMap.java","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>If you don't mind the set to be sorted then you may be interested to take a look at the <a href=\"https://github.com/geniot/indexed-tree-map\" rel=\"nofollow noreferrer\">indexed-tree-map</a> project.</p>\n<p>The enhanced TreeSet/<a href=\"https://github.com/geniot/indexed-tree-map/blob/master/src/main/java/com/dictiographer/collections/IndexedTreeMap.java\" rel=\"nofollow noreferrer\">TreeMap</a> provides access to elements by index or getting the index of an element. And the implementation is based on updating node weights in the RB tree. So no iteration or backing up by a list here.</p>\n"},{"tags":[],"owner":{"account_id":3970425,"reputation":4907,"user_id":3275167,"accept_rate":82,"display_name":"coderz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427894459,"creation_date":1427888399,"answer_id":29389809,"question_id":769731,"body_markdown":"Please note only 2 basic data structure can be accessed via index.\r\n\r\n - **Array** data structure can be accessed via index with `O(1)` time complexity to achieve `get(int index)` operation.\r\n - **LinkedList** data structure can also be accessed via index, but with `O(n)` time complexity to achieve `get(int index)` operation.\r\n\r\nIn Java, `ArrayList` is implemented using **Array** data structure.\r\n\r\nWhile **Set** data structure usually can be implemented via **HashTable/HashMap** or **BalancedTree** data structure, for fast detecting whether an element exists and add non-existing element, usually a well implemented **Set** can achieve `O(1)` time complexity `contains` operation. In Java, `HashSet` is the most common used implementation of **Set**, it is implemented by calling `HashMap` API, and `HashMap` is implemented using **separate chaining with linked lists** (a combination of **Array** and **LinkedList**).\r\n\r\nSince **Set** can be implemented via different data structure, there is no `get(int index)` method for it.","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Please note only 2 basic data structure can be accessed via index.</p>\n\n<ul>\n<li><strong>Array</strong> data structure can be accessed via index with <code>O(1)</code> time complexity to achieve <code>get(int index)</code> operation.</li>\n<li><strong>LinkedList</strong> data structure can also be accessed via index, but with <code>O(n)</code> time complexity to achieve <code>get(int index)</code> operation.</li>\n</ul>\n\n<p>In Java, <code>ArrayList</code> is implemented using <strong>Array</strong> data structure.</p>\n\n<p>While <strong>Set</strong> data structure usually can be implemented via <strong>HashTable/HashMap</strong> or <strong>BalancedTree</strong> data structure, for fast detecting whether an element exists and add non-existing element, usually a well implemented <strong>Set</strong> can achieve <code>O(1)</code> time complexity <code>contains</code> operation. In Java, <code>HashSet</code> is the most common used implementation of <strong>Set</strong>, it is implemented by calling <code>HashMap</code> API, and <code>HashMap</code> is implemented using <strong>separate chaining with linked lists</strong> (a combination of <strong>Array</strong> and <strong>LinkedList</strong>).</p>\n\n<p>Since <strong>Set</strong> can be implemented via different data structure, there is no <code>get(int index)</code> method for it.</p>\n"},{"tags":[],"owner":{"account_id":5206598,"reputation":2016,"user_id":4164297,"accept_rate":89,"display_name":"Dil."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1465548146,"creation_date":1465548146,"answer_id":37743750,"question_id":769731,"body_markdown":"`java.util.Set` is a collection of un-ordered items. It doesn&#39;t make any sense if the Set has a get(int index), because \r\nSet doesn&#39;t has an index and also you only can guess the value. \r\n\r\nIf you really want this, code a method to get random element from Set.\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p><code>java.util.Set</code> is a collection of un-ordered items. It doesn't make any sense if the Set has a get(int index), because \nSet doesn't has an index and also you only can guess the value. </p>\n\n<p>If you really want this, code a method to get random element from Set.</p>\n"},{"tags":[],"owner":{"account_id":18020746,"reputation":1,"user_id":13098024,"display_name":"magnonyms"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584804333,"creation_date":1584765627,"answer_id":60784531,"question_id":769731,"body_markdown":"Set is an interface and some of its implementation classes are HashSet, TreeSet and LinkedHashSet. It uses HashMap under the hood to store values. Because HashMap does not preserve the order, it is not possible to get value by index.\r\n\r\nYou now must be thinking how Set is using HashMap since HashMap stores a key, value pair but the Set does not. valid question. when you add an element in Set, internally, it maintains a HashMap where the key is the element you want to enter in Set and the value is the dummy constant. Below is an internal implementation of add function. Hence, all the keys in the HashMap will have the same constant value.\r\n    \r\n    // Dummy value to associate with an Object in the backing Map\r\n    private static final Object PRESENT = new Object();\r\n    \r\n    public boolean add(E e) {\r\n        return map.put(e, PRESENT)==null;\r\n    }\r\n    \r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Set is an interface and some of its implementation classes are HashSet, TreeSet and LinkedHashSet. It uses HashMap under the hood to store values. Because HashMap does not preserve the order, it is not possible to get value by index.</p>\n\n<p>You now must be thinking how Set is using HashMap since HashMap stores a key, value pair but the Set does not. valid question. when you add an element in Set, internally, it maintains a HashMap where the key is the element you want to enter in Set and the value is the dummy constant. Below is an internal implementation of add function. Hence, all the keys in the HashMap will have the same constant value.</p>\n\n<pre><code>// Dummy value to associate with an Object in the backing Map\nprivate static final Object PRESENT = new Object();\n\npublic boolean add(E e) {\n    return map.put(e, PRESENT)==null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18656920,"reputation":1,"user_id":13599103,"display_name":"Prabhat Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625429755,"creation_date":1625429755,"answer_id":68248495,"question_id":769731,"body_markdown":"Because the Set stores unique elements in random locations and Internally It uses multiple data structures. i.e. Array, linked list, a tree with hashing.\r\n    \r\nlink\r\nhttps://en.wikipedia.org/wiki/Set_(abstract_data_type)\r\n\r\n","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Because the Set stores unique elements in random locations and Internally It uses multiple data structures. i.e. Array, linked list, a tree with hashing.</p>\n<p>link\n<a href=\"https://en.wikipedia.org/wiki/Set_(abstract_data_type)\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Set_(abstract_data_type)</a></p>\n"}],"owner":{"account_id":23524,"reputation":28912,"user_id":59015,"accept_rate":69,"display_name":"Marty Pitt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208898,"favorite_count":0,"down_vote_count":2,"up_vote_count":250,"accepted_answer_id":769732,"answer_count":19,"score":248,"last_activity_date":1695023293,"creation_date":1240255180,"question_id":769731,"body_markdown":"Why does the `java.util.Set` interface lack `get(int Index)`, or any similar `get()` method?\r\n\r\nIt seems that sets are great for putting things into, but I can&#39;t find an elegant way of retrieving a single item from them.\r\n\r\nIf I know I want the first item, I can use `set.iterator().next()`, but otherwise it seems I have to cast to an Array to retrieve an item at a specific index?\r\n\r\nWhat are the appropriate ways of retrieving data from a set? (other than using an iterator)\r\n\r\nI&#39;m asking this question because I had a dbUnit test, where I could reasonably assert that the returned set from a query had only 1 item, and I was trying to access that item.\r\n\r\nSo, what&#39;s the difference between `Set` and `List`?","title":"Why doesn&#39;t java.util.Set have get(int index)?","body":"<p>Why does the <code>java.util.Set</code> interface lack <code>get(int Index)</code>, or any similar <code>get()</code> method?</p>\n<p>It seems that sets are great for putting things into, but I can't find an elegant way of retrieving a single item from them.</p>\n<p>If I know I want the first item, I can use <code>set.iterator().next()</code>, but otherwise it seems I have to cast to an Array to retrieve an item at a specific index?</p>\n<p>What are the appropriate ways of retrieving data from a set? (other than using an iterator)</p>\n<p>I'm asking this question because I had a dbUnit test, where I could reasonably assert that the returned set from a query had only 1 item, and I was trying to access that item.</p>\n<p>So, what's the difference between <code>Set</code> and <code>List</code>?</p>\n"},{"tags":["java","ip","ipv6","ipv4"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1695023090,"post_id":77125269,"comment_id":135963378,"body_markdown":"What makes you think that is even possible? IPv6 and IPv4 addresses are different things.","body":"What makes you think that is even possible? IPv6 and IPv4 addresses are different things."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695023365,"post_id":77125269,"comment_id":135963421,"body_markdown":"The fact, that it should be simple and I cannot find the solution.","body":"The fact, that it should be simple and I cannot find the solution."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":2,"creation_date":1695023418,"post_id":77125269,"comment_id":135963429,"body_markdown":"Ipv6 and ipv4 are two totally different things. You cannot convert one into the other","body":"Ipv6 and ipv4 are two totally different things. You cannot convert one into the other"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":4,"creation_date":1695023512,"post_id":77125269,"comment_id":135963451,"body_markdown":"&quot;it should be simple&quot; - citation needed.","body":"&quot;it should be simple&quot; - citation needed."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695024357,"post_id":77125269,"comment_id":135963607,"body_markdown":"I didn&#39;t tell you, I guessed!","body":"I didn&#39;t tell you, I guessed!"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695038545,"post_id":77125269,"comment_id":135966331,"body_markdown":"IPv4 and IPv6 are two separate, incompatible protocols. It would be like trying to convert IPv4 to IPX, or IPv6 to AppleTalk. They are simply different network protocols. You cannot mix them, and you cannot convert one to the other.","body":"IPv4 and IPv6 are two separate, incompatible protocols. It would be like trying to convert IPv4 to IPX, or IPv6 to AppleTalk. They are simply different network protocols. You cannot mix them, and you cannot convert one to the other."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695060738,"post_id":77125269,"comment_id":135970989,"body_markdown":"@JDev, have a look at the _[InetAddress](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/InetAddress.html)_ class.  The _[Inet6Address](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html)_ class offers a _[isIPv4CompatibleAddress](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html#isIPv4CompatibleAddress())_ method.  From there you&#39;re simply taking the last 4 bytes to compose an _IPv4_.","body":"@JDev, have a look at the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/InetAddress.html\" rel=\"nofollow noreferrer\">InetAddress</a></i> class.  The <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html\" rel=\"nofollow noreferrer\">Inet6Address</a></i> class offers a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/net/Inet6Address.html#isIPv4CompatibleAddress()\" rel=\"nofollow noreferrer\">isIPv4CompatibleAddress</a></i> method.  From there you&#39;re simply taking the last 4 bytes to compose an <i>IPv4</i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695078906,"post_id":77125269,"comment_id":135973513,"body_markdown":"@Reilas, the IPv4-Compatible addresses have been deprecated for almost 20 years. See _[RFC 4291, IP Version 6 Addressing Architecture, 2.5.5.1. IPv4-Compatible IPv6 Address](https://datatracker.ietf.org/doc/html/rfc4291#section-2.5.5.1)_: &quot;_The &#39;IPv4-Compatible IPv6 address&#39; is now deprecated because the current IPv6 transition mechanisms no longer use these addresses._&quot;","body":"@Reilas, the IPv4-Compatible addresses have been deprecated for almost 20 years. See <i><a href=\"https://datatracker.ietf.org/doc/html/rfc4291#section-2.5.5.1\" rel=\"nofollow noreferrer\">RFC 4291, IP Version 6 Addressing Architecture, 2.5.5.1. IPv4-Compatible IPv6 Address</a></i>: &quot;<i>The &#39;IPv4-Compatible IPv6 address&#39; is now deprecated because the current IPv6 transition mechanisms no longer use these addresses.</i>&quot;"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695079666,"post_id":77125269,"comment_id":135973562,"body_markdown":"@RonMaupin, strange, take a look at the source as well, _https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/Inet6Address.java#L297_.","body":"@RonMaupin, strange, take a look at the source as well, <i><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/net/Inet6Address.java#L297\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/master/src/java.base/share/class&zwnj;&#8203;es/&hellip;</a></i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":1,"creation_date":1695080518,"post_id":77125269,"comment_id":135973627,"body_markdown":"@Reilas, that library seems woefully out of date. It even includes Site-Local addresses that were deprecated in favor of ULA: &quot;_Site-local addresses are now deprecated as defined in [SLDEP]_,&quot; but there is nothing to check for ULA. It does include IPv4-Mapped addresses: &quot;_In InetAddress and Inet6Address, it is used for internal representation; it has no functional role. Java will never return an IPv4-mapped address. These classes can take an IPv4-mapped address as input, both in byte array and text representation. However, it will be converted into an IPv4 address._&quot;","body":"@Reilas, that library seems woefully out of date. It even includes Site-Local addresses that were deprecated in favor of ULA: &quot;<i>Site-local addresses are now deprecated as defined in [SLDEP]</i>,&quot; but there is nothing to check for ULA. It does include IPv4-Mapped addresses: &quot;<i>In InetAddress and Inet6Address, it is used for internal representation; it has no functional role. Java will never return an IPv4-mapped address. These classes can take an IPv4-mapped address as input, both in byte array and text representation. However, it will be converted into an IPv4 address.</i>&quot;"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1695082684,"post_id":77125269,"comment_id":135973813,"body_markdown":"@RonMaupin, interesting.   I found the relevant _RFC_, [3879](https://www.rfc-editor.org/rfc/rfc3879).  It appears to just be a _&quot;proposed standard&quot;_ and advises to refer to _[STD 1](https://datatracker.ietf.org/doc/html/rfc7101#section-3)_ for the _&quot;state and status of [the] protocol&quot;_.  Here, _STD 1_ is defined as _&quot;... in an abnormal state since RFC 5000 was published.&quot;_.  This would explain the lack of action on _Java_&#39;s half; you can&#39;t amend the standard if it cannot define a state.  They should re-define it as a _notation_, and not a _syntax_.","body":"@RonMaupin, interesting.   I found the relevant <i>RFC</i>, <a href=\"https://www.rfc-editor.org/rfc/rfc3879\" rel=\"nofollow noreferrer\">3879</a>.  It appears to just be a <i>&quot;proposed standard&quot;</i> and advises to refer to <i><a href=\"https://datatracker.ietf.org/doc/html/rfc7101#section-3\" rel=\"nofollow noreferrer\">STD 1</a></i> for the <i>&quot;state and status of [the] protocol&quot;</i>.  Here, <i>STD 1</i> is defined as <i>&quot;... in an abnormal state since RFC 5000 was published.&quot;</i>.  This would explain the lack of action on <i>Java</i>&#39;s half; you can&#39;t amend the standard if it cannot define a state.  They should re-define it as a <i>notation</i>, and not a <i>syntax</i>."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695084575,"post_id":77125269,"comment_id":135973941,"body_markdown":"@Reilas, read [this answer](https://serverfault.com/a/755655/324849) about RFC status, and then look at the _[IANA IPv6 Special-Purpose Address Registry](https://www.iana.org/assignments/iana-ipv6-special-registry/iana-ipv6-special-registry.xhtml)_ where Site-Local addressing has been removed, although ULA is now included.","body":"@Reilas, read <a href=\"https://serverfault.com/a/755655/324849\">this answer</a> about RFC status, and then look at the <i><a href=\"https://www.iana.org/assignments/iana-ipv6-special-registry/iana-ipv6-special-registry.xhtml\" rel=\"nofollow noreferrer\">IANA IPv6 Special-Purpose Address Registry</a></i> where Site-Local addressing has been removed, although ULA is now included."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695085518,"post_id":77125269,"comment_id":135974009,"body_markdown":"@Reilas, you may find my [IP Calculator](https://github.com/rmaupin/IPvX) for both IPv4 and IPv6 interesting. There is all the source code, and you should read the PDF, including the last part that explains the methods. The IP library has some very good regular expressions for both IPs. The calculator also has some fields that provide information about the address, including the various multicast scopes and other address ranges and scopes.","body":"@Reilas, you may find my <a href=\"https://github.com/rmaupin/IPvX\" rel=\"nofollow noreferrer\">IP Calculator</a> for both IPv4 and IPv6 interesting. There is all the source code, and you should read the PDF, including the last part that explains the methods. The IP library has some very good regular expressions for both IPs. The calculator also has some fields that provide information about the address, including the various multicast scopes and other address ranges and scopes."},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1695103740,"post_id":77125269,"comment_id":135975526,"body_markdown":"@Ron Maupin - Thanks for comments and explanations. Understood. \nI&#39;ll use IPv6 and that&#39;s it.\nI&#39;m just behind Cloudflare Proxy. Earlier there was the possibility to switch Ipv6 to IPv4. And now the default is only Ipv6. So I thought to myself that I could somehow convert it, because IPv4 is more readable. )))\nYes, I don’t have a deep understanding of networks, that’s why I asked.","body":"@Ron Maupin - Thanks for comments and explanations. Understood.  I&#39;ll use IPv6 and that&#39;s it. I&#39;m just behind Cloudflare Proxy. Earlier there was the possibility to switch Ipv6 to IPv4. And now the default is only Ipv6. So I thought to myself that I could somehow convert it, because IPv4 is more readable. ))) Yes, I don’t have a deep understanding of networks, that’s why I asked."},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":0,"creation_date":1695125881,"post_id":77125269,"comment_id":135979729,"body_markdown":"It was closed because you asked on the wrong SE site. You ask about network protocol theory on [networkengineering.se]. Also: &quot;_Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it._&quot;","body":"It was closed because you asked on the wrong SE site. You ask about network protocol theory on <a href=\"https://networkengineering.stackexchange.com\">Network Engineering</a>. Also: &quot;<i>Questions asking us to recommend or find a book, tool, software library, tutorial or other off-site resource are off-topic for Stack Overflow as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</i>&quot;"},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1697505005,"post_id":77125269,"comment_id":136285463,"body_markdown":"see this answer: https://stackoverflow.com/a/49516679/6801443","body":"see this answer: <a href=\"https://stackoverflow.com/a/49516679/6801443\">stackoverflow.com/a/49516679/6801443</a>"},{"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"score":0,"creation_date":1697525581,"post_id":77125269,"comment_id":136287243,"body_markdown":"@SeanF Thanks for the Answer, I saw this snippet. It will not works with full IPv6 address.","body":"@SeanF Thanks for the Answer, I saw this snippet. It will not works with full IPv6 address."},{"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"score":0,"creation_date":1697668885,"post_id":77125269,"comment_id":136310463,"body_markdown":"The IPv6 address must be in a format that corresponds to one of the translation/conversion protocols.  You cannot convert all IPv6 addresses, only those derived from IPv4 using a protocol of some sort.","body":"The IPv6 address must be in a format that corresponds to one of the translation/conversion protocols.  You cannot convert all IPv6 addresses, only those derived from IPv4 using a protocol of some sort."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695023230,"creation_date":1695023230,"answer_id":77125378,"question_id":77125269,"body_markdown":"You can&#39;t convert IPv4 to IPv6, or the other way around. They are completely different things. It&#39;s like converting a telephone number to a street address: There *may* be come cases where there&#39;s a 1:1 mapping, or a 1:n mapping, but there&#39;s no guarantee.","title":"Convert Expanded(long form) IPv6 to IPv4 in java","body":"<p>You can't convert IPv4 to IPv6, or the other way around. They are completely different things. It's like converting a telephone number to a street address: There <em>may</em> be come cases where there's a 1:1 mapping, or a 1:n mapping, but there's no guarantee.</p>\n"}],"owner":{"account_id":1738584,"reputation":2241,"user_id":1590594,"accept_rate":21,"display_name":"JDev"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1695038555,"answer_count":1,"score":-4,"last_activity_date":1695023230,"creation_date":1695022029,"question_id":77125269,"body_markdown":"I&#39;ve been trying for hours now to find a library or try to do it with java-core.\r\n\r\nI&#39;m trying to convert `Expanded IPv6` to `IPv4` but none of the googled methods does not work.\r\n\r\nAlso tried this library. https://github.com/seancfoley/IPAddress\r\n\r\nWithout much success.\r\n\r\nIs it even possible?\r\n\r\nTo understand what I mean. For example, if you Google `what is my ip`, then Google will show you your IP in the `Expanded IPv6` format.\r\n\r\nOr you can look at this site: https://whatismyipaddress.com\r\n\r\nHow can the string (IPv6 long format) be converted to IPv4 in java?","title":"Convert Expanded(long form) IPv6 to IPv4 in java","body":"<p>I've been trying for hours now to find a library or try to do it with java-core.</p>\n<p>I'm trying to convert <code>Expanded IPv6</code> to <code>IPv4</code> but none of the googled methods does not work.</p>\n<p>Also tried this library. <a href=\"https://github.com/seancfoley/IPAddress\" rel=\"nofollow noreferrer\">https://github.com/seancfoley/IPAddress</a></p>\n<p>Without much success.</p>\n<p>Is it even possible?</p>\n<p>To understand what I mean. For example, if you Google <code>what is my ip</code>, then Google will show you your IP in the <code>Expanded IPv6</code> format.</p>\n<p>Or you can look at this site: <a href=\"https://whatismyipaddress.com\" rel=\"nofollow noreferrer\">https://whatismyipaddress.com</a></p>\n<p>How can the string (IPv6 long format) be converted to IPv4 in java?</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":2,"creation_date":1694918873,"post_id":77120245,"comment_id":135953997,"body_markdown":"Yes, you have to install and start your Kafka instance aside. The `spring-kafka` artifact only has the API, not the whole Kafka itself.","body":"Yes, you have to install and start your Kafka instance aside. The <code>spring-kafka</code> artifact only has the API, not the whole Kafka itself."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1694958641,"post_id":77120245,"comment_id":135957018,"body_markdown":"Was there missing documentation that says Kafka shouldn&#39;t be ran first? Are you following a specific tutorial? How can this be made clear for others assuming the same?","body":"Was there missing documentation that says Kafka shouldn&#39;t be ran first? Are you following a specific tutorial? How can this be made clear for others assuming the same?"},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":0,"creation_date":1694975325,"post_id":77120245,"comment_id":135959027,"body_markdown":"@OneCricketeer I am following the Baeldung&#39;s introduction https://www.baeldung.com/spring-kafka. In the section 3 there is a mention of a terminal command *Previously, we ran command-line tools to create topics in Kafka*, but I couldn&#39;t see any link to a previous lesson, so I got confused. This is the first link after searching for *spring add kafka*. I clicked on the 3rd as well https://spring.io/projects/spring-kafka#overview, but it also doesn&#39;t seem to mention that. Only in the 2nd link https://reflectoring.io/spring-boot-kafka/ I can find quickstart https://kafka.apache.org/quickstart.","body":"@OneCricketeer I am following the Baeldung&#39;s introduction <a href=\"https://www.baeldung.com/spring-kafka\" rel=\"nofollow noreferrer\">baeldung.com/spring-kafka</a>. In the section 3 there is a mention of a terminal command <i>Previously, we ran command-line tools to create topics in Kafka</i>, but I couldn&#39;t see any link to a previous lesson, so I got confused. This is the first link after searching for <i>spring add kafka</i>. I clicked on the 3rd as well <a href=\"https://spring.io/projects/spring-kafka#overview\" rel=\"nofollow noreferrer\">spring.io/projects/spring-kafka#overview</a>, but it also doesn&#39;t seem to mention that. Only in the 2nd link <a href=\"https://reflectoring.io/spring-boot-kafka/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-kafka</a> I can find quickstart <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">kafka.apache.org/quickstart</a>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1695002853,"post_id":77120245,"comment_id":135961425,"body_markdown":"First sentence of section 2 talks about downloading and installing Kafka before doing anything with maven/Spring","body":"First sentence of section 2 talks about downloading and installing Kafka before doing anything with maven/Spring"}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695008377,"creation_date":1694924413,"answer_id":77120459,"question_id":77120245,"body_markdown":"Yes, you have to run Kafka manually on localhost port `9092`.\r\n\r\nThe `spring-kafka` module contains the Kafka APIs which is needed to do operations on Kafka topics, producers and consumers.\r\n\r\n**Note:** Spring-Kafka module does come with **Embedded Kafka** but that can only be used for **Spring Kafka based test classes** via the annotation [@EmbeddedKafka][1]. See [here][2] for example on how to write Kafka test classes with that annotation. \r\n\r\nThat&#39;s the reason why you need to setup/install a live running Kafka instance on your local for your application to connect and use it.\r\n\r\n**Now, it completely depends on your use case. See which use case suits you better.**\r\n\r\n----\r\nOn the other hand, you will need to download and setup Apache Kafka on your system.\r\n\r\nThere are 2 options to run a Kafka service: with legacy **Zookeeper** and newer **KRaft**.\r\n\r\n[KRaft mode is more scalable than ZooKeeper mode, allowing Kafka clusters to handle more traffic and data. KRaft mode is faster than ZooKeeper mode, resulting in lower latency and higher throughput.][3]\r\n\r\nInitial steps are the same.\r\n\r\n1. Download the latest version of Kafka from [here][4].\r\n2. Navigate to `bin/` in the kafka directory.\r\n\r\n# KRaft\r\n\r\nSteps continued:\r\n\r\n3. Build the project using `./gradlew jar -PscalaVersion=2.13.10`\r\n4. Generate a Cluster UUID\r\n   `KAFKA_CLUSTER_ID=&quot;$(./kafka-storage.sh random-uuid)&quot;`\r\n5. Format Log Directories\r\n   `./kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ../config/kraft/server.properties`\r\n6. Modify the `log.dirs` to point to some other valid directory instead of `/tmp/kraft-combined-logs`.\r\n7. Start the Kafka broker.\r\n   `./kafka-server-start.sh ../config/kraft/server.properties`\r\n\r\nFor Windows, there is a folder `windows` with batch scripts corresponding to Linux/Mac shell scripts.\r\n\r\n# Zookeeper\r\n\r\nSteps continued:\r\n\r\n3. Start the **Zookeeper**.\r\n   - Linux/Mac: `./zookeeper-server-start.sh ../config/zookeeper.properties`\r\n   - Windows: `windows\\zookeeper-server-start.bat ..\\..\\config\\zookeeper.properties`\r\n4. Edit the **server.properties**\r\n   - Uncomment this line of code : `listeners=PLAINTEXT://localhost:9092` to enable broker to be listened at this socket.\r\n   - Modify the `log.dirs` to point to some other valid directory instead of `/tmp/kafka-logs`.\r\n\r\n5. Start the Kafka broker.\r\n   - Linux/Mac: `./kafka-server-start.sh ../config/server.properties`\r\n   - Windows: `windows\\kafka-server-start.bat ..\\..\\config\\server.properties`\r\n\r\nThat&#39;s all for initial setup.\r\n\r\n***\r\n\r\nVisit [here][5] to read more info on topic creation and other things related to Kafka. \r\n\r\nNow, Spring application will be able to connect to Kafka.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/api/org/springframework/kafka/test/context/EmbeddedKafka.html\r\n  [2]: https://www.baeldung.com/spring-boot-kafka-testing\r\n  [3]: https://romanglushach.medium.com/the-evolution-of-kafka-architecture-from-zookeeper-to-kraft-f42d511ba242\r\n  [4]: https://kafka.apache.org/downloads\r\n  [5]: https://kafka.apache.org/quickstart","title":"Connection to node -1 (localhost/127.0.0.1:9092) could not be established in Spring Kafka","body":"<p>Yes, you have to run Kafka manually on localhost port <code>9092</code>.</p>\n<p>The <code>spring-kafka</code> module contains the Kafka APIs which is needed to do operations on Kafka topics, producers and consumers.</p>\n<p><strong>Note:</strong> Spring-Kafka module does come with <strong>Embedded Kafka</strong> but that can only be used for <strong>Spring Kafka based test classes</strong> via the annotation <a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/test/context/EmbeddedKafka.html\" rel=\"nofollow noreferrer\">@EmbeddedKafka</a>. See <a href=\"https://www.baeldung.com/spring-boot-kafka-testing\" rel=\"nofollow noreferrer\">here</a> for example on how to write Kafka test classes with that annotation.</p>\n<p>That's the reason why you need to setup/install a live running Kafka instance on your local for your application to connect and use it.</p>\n<p><strong>Now, it completely depends on your use case. See which use case suits you better.</strong></p>\n<hr />\n<p>On the other hand, you will need to download and setup Apache Kafka on your system.</p>\n<p>There are 2 options to run a Kafka service: with legacy <strong>Zookeeper</strong> and newer <strong>KRaft</strong>.</p>\n<p><a href=\"https://romanglushach.medium.com/the-evolution-of-kafka-architecture-from-zookeeper-to-kraft-f42d511ba242\" rel=\"nofollow noreferrer\">KRaft mode is more scalable than ZooKeeper mode, allowing Kafka clusters to handle more traffic and data. KRaft mode is faster than ZooKeeper mode, resulting in lower latency and higher throughput.</a></p>\n<p>Initial steps are the same.</p>\n<ol>\n<li>Download the latest version of Kafka from <a href=\"https://kafka.apache.org/downloads\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>Navigate to <code>bin/</code> in the kafka directory.</li>\n</ol>\n<h1>KRaft</h1>\n<p>Steps continued:</p>\n<ol start=\"3\">\n<li>Build the project using <code>./gradlew jar -PscalaVersion=2.13.10</code></li>\n<li>Generate a Cluster UUID\n<code>KAFKA_CLUSTER_ID=&quot;$(./kafka-storage.sh random-uuid)&quot;</code></li>\n<li>Format Log Directories\n<code>./kafka-storage.sh format -t $KAFKA_CLUSTER_ID -c ../config/kraft/server.properties</code></li>\n<li>Modify the <code>log.dirs</code> to point to some other valid directory instead of <code>/tmp/kraft-combined-logs</code>.</li>\n<li>Start the Kafka broker.\n<code>./kafka-server-start.sh ../config/kraft/server.properties</code></li>\n</ol>\n<p>For Windows, there is a folder <code>windows</code> with batch scripts corresponding to Linux/Mac shell scripts.</p>\n<h1>Zookeeper</h1>\n<p>Steps continued:</p>\n<ol start=\"3\">\n<li><p>Start the <strong>Zookeeper</strong>.</p>\n<ul>\n<li>Linux/Mac: <code>./zookeeper-server-start.sh ../config/zookeeper.properties</code></li>\n<li>Windows: <code>windows\\zookeeper-server-start.bat ..\\..\\config\\zookeeper.properties</code></li>\n</ul>\n</li>\n<li><p>Edit the <strong>server.properties</strong></p>\n<ul>\n<li>Uncomment this line of code : <code>listeners=PLAINTEXT://localhost:9092</code> to enable broker to be listened at this socket.</li>\n<li>Modify the <code>log.dirs</code> to point to some other valid directory instead of <code>/tmp/kafka-logs</code>.</li>\n</ul>\n</li>\n<li><p>Start the Kafka broker.</p>\n<ul>\n<li>Linux/Mac: <code>./kafka-server-start.sh ../config/server.properties</code></li>\n<li>Windows: <code>windows\\kafka-server-start.bat ..\\..\\config\\server.properties</code></li>\n</ul>\n</li>\n</ol>\n<p>That's all for initial setup.</p>\n<hr />\n<p>Visit <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">here</a> to read more info on topic creation and other things related to Kafka.</p>\n<p>Now, Spring application will be able to connect to Kafka.</p>\n"}],"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77120459,"answer_count":1,"score":0,"last_activity_date":1695023136,"creation_date":1694916529,"question_id":77120245,"body_markdown":"I added Spring Kafka to my Spring application and expected it to work, but I got \r\n&lt;!-- language: less --&gt;\r\n\r\n    INFO     [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\r\n    INFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\r\n    INFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1694915576434\r\n    INFO --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n    WARN --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established.\r\n\r\nI added it to my `pom.xml`\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand configured it \r\n&lt;!-- language-all: java --&gt;\r\n\r\n    @Bean\r\n    public KafkaAdmin kafkaAdmin() {\r\n        Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n        configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new KafkaAdmin(configs);\r\n    }\r\n\r\n    @Bean\r\n    public NewTopic checkInTopic() {\r\n        return new NewTopic(checkInTopicName, 1, (short) 1);\r\n    }\r\n\r\nwhere `bootstrapAddress` is configured via `application.yml`:\r\n&lt;!-- language: yaml --&gt;\r\n\r\n    spring:  \r\n      kafka:\r\n        bootstrap-servers: localhost:9092\r\n\r\nand I also have a producer config:\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(Map.of(\r\n                ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\r\n                ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n                ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\r\n        ));\r\n    }\r\n\r\nWhat&#39;s wrong? Should I run Kafka somehow manually on localhost port `9092`? I assume it&#39;s done automatically by Spring framework just as I don&#39;t have to deploy it on tomcat because it&#39;s bundled. Does it start Kafka service or should I do it myself? ","title":"Connection to node -1 (localhost/127.0.0.1:9092) could not be established in Spring Kafka","body":"<p>I added Spring Kafka to my Spring application and expected it to work, but I got</p>\n<pre class=\"lang-less prettyprint-override\"><code>INFO     [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.4.1\nINFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: 8a516edc2755df89\nINFO --- [           main] o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1694915576434\nINFO --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\nWARN --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established.\n</code></pre>\n<p>I added it to my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and configured it</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaAdmin kafkaAdmin() {\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new KafkaAdmin(configs);\n}\n\n@Bean\npublic NewTopic checkInTopic() {\n    return new NewTopic(checkInTopicName, 1, (short) 1);\n}\n</code></pre>\n<p>where <code>bootstrapAddress</code> is configured via <code>application.yml</code>:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:  \n  kafka:\n    bootstrap-servers: localhost:9092\n</code></pre>\n<p>and I also have a producer config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    return new DefaultKafkaProducerFactory&lt;&gt;(Map.of(\n            ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\n            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class\n    ));\n}\n</code></pre>\n<p>What's wrong? Should I run Kafka somehow manually on localhost port <code>9092</code>? I assume it's done automatically by Spring framework just as I don't have to deploy it on tomcat because it's bundled. Does it start Kafka service or should I do it myself?</p>\n"},{"tags":["java","list","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1535423308,"post_id":52049227,"comment_id":91049182,"body_markdown":"`list.stream().map(m -&gt; m.get(&quot;position&quot;).toString()).collect(Collectors.toList())`","body":"<code>list.stream().map(m -&gt; m.get(&quot;position&quot;).toString()).collect(Collectors.toList())</code>"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1535441761,"creation_date":1535441596,"answer_id":52052429,"question_id":52049227,"body_markdown":"As far as I understand your question, I suppose the `list` has the following structure:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\r\n\r\nAnd any number these `Map`s in the `list` can possibly have a key `&quot;position&quot;` which you want to use to extract the value. Use:\r\n\r\n    List&lt;String&gt; positions = listOfMap.stream()                         // Stream\r\n\t    \t\t \t\t\t\t      .map(map -&gt; map.get(&quot;position&quot;))  // Get from map a value by key\r\n\t    \t\t \t\t\t\t\t  .collect(Collectors.toList());    // Collect to List\r\n\r\nI would like to add up that Stream-API is definitely not a substitution of `for-loops` like you have provided in the snippet. As its [documentation][1] states, it should be *non-infering* and *stateless*. So, replacing a `for-loop` adding an element elsewhere using Stream is not a good idea - you have to find another way. \r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html","title":"Retrieve values from a list of maps using streams","body":"<p>As far as I understand your question, I suppose the <code>list</code> has the following structure:</p>\n\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; listOfMap = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>And any number these <code>Map</code>s in the <code>list</code> can possibly have a key <code>\"position\"</code> which you want to use to extract the value. Use:</p>\n\n<pre><code>List&lt;String&gt; positions = listOfMap.stream()                         // Stream\n                                  .map(map -&gt; map.get(\"position\"))  // Get from map a value by key\n                                  .collect(Collectors.toList());    // Collect to List\n</code></pre>\n\n<p>I would like to add up that Stream-API is definitely not a substitution of <code>for-loops</code> like you have provided in the snippet. As its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a> states, it should be <em>non-infering</em> and <em>stateless</em>. So, replacing a <code>for-loop</code> adding an element elsewhere using Stream is not a good idea - you have to find another way. </p>\n"},{"tags":[],"owner":{"account_id":29471130,"reputation":1,"user_id":22583730,"display_name":"Aniket Kanade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695023132,"creation_date":1695023132,"answer_id":77125370,"question_id":52049227,"body_markdown":"This will give you a List of Strings.  if you take values directly it will give you Objects. \r\nList&lt;String&gt; positions = listOfMap.stream().map(map -&gt; **String.valueOf**(map.get(&quot;position&quot;))) .collect(Collectors.toList()); ","title":"Retrieve values from a list of maps using streams","body":"<p>This will give you a List of Strings.  if you take values directly it will give you Objects.\nList positions = listOfMap.stream().map(map -&gt; <strong>String.valueOf</strong>(map.get(&quot;position&quot;))) .collect(Collectors.toList());</p>\n"}],"owner":{"account_id":13343493,"reputation":443,"user_id":9631005,"display_name":"Rigo Sarmiento"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6903,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52052429,"answer_count":2,"score":2,"last_activity_date":1695023132,"creation_date":1535423160,"question_id":52049227,"body_markdown":"I have a list of maps:\r\n`List&lt;Map&lt;String, Object&gt;&gt;`\r\n\r\nThe maps consist of the keys `name` and `position`.\r\n\r\nI need to retrieve all values of the key `position` from all maps of the list.\r\n\r\nCurrently I have this:\r\n\r\n    public List&lt;String&gt; getPositions() {\r\n        List&lt;String&gt; positions = new ArrayList&lt;&gt;();\r\n        list.forEach( map -&gt; {\r\n            for ( Entry&lt;String, Object&gt; entry : map.entrySet() )\r\n                if ( entry.getKey().toString().equals( &quot;position&quot; ) )\r\n                    positions.add( entry.getValue().toString() );\r\n        } );\r\n        return positions;\r\n    }\r\n\r\nIs it possible to do this faster with Java `Stream`?","title":"Retrieve values from a list of maps using streams","body":"<p>I have a list of maps:\n<code>List&lt;Map&lt;String, Object&gt;&gt;</code></p>\n\n<p>The maps consist of the keys <code>name</code> and <code>position</code>.</p>\n\n<p>I need to retrieve all values of the key <code>position</code> from all maps of the list.</p>\n\n<p>Currently I have this:</p>\n\n<pre><code>public List&lt;String&gt; getPositions() {\n    List&lt;String&gt; positions = new ArrayList&lt;&gt;();\n    list.forEach( map -&gt; {\n        for ( Entry&lt;String, Object&gt; entry : map.entrySet() )\n            if ( entry.getKey().toString().equals( \"position\" ) )\n                positions.add( entry.getValue().toString() );\n    } );\n    return positions;\n}\n</code></pre>\n\n<p>Is it possible to do this faster with Java <code>Stream</code>?</p>\n"},{"tags":["java","spring","spring-bean"],"comments":[{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1596639054,"post_id":63267695,"comment_id":111876806,"body_markdown":"The package defined in the xml is `com.beans` and the real one is `com.beans.run`","body":"The package defined in the xml is <code>com.beans</code> and the real one is <code>com.beans.run</code>"},{"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"score":0,"creation_date":1596639463,"post_id":63267695,"comment_id":111877023,"body_markdown":"so I have to change package from `com.beans.hello` to `com.beans.run` ? or should I add a doctype ?","body":"so I have to change package from <code>com.beans.hello</code> to <code>com.beans.run</code> ? or should I add a doctype ?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1596639572,"post_id":63267695,"comment_id":111877086,"body_markdown":"Is there a specific reason that you&#39;re using a 10-year-old setup for a new application?","body":"Is there a specific reason that you&#39;re using a 10-year-old setup for a new application?"},{"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"score":0,"creation_date":1596639911,"post_id":63267695,"comment_id":111877264,"body_markdown":"yeah I am working on java-8 with beans due to a specific reason","body":"yeah I am working on java-8 with beans due to a specific reason"},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1596640996,"post_id":63267695,"comment_id":111877858,"body_markdown":"just change the right party of the xml file to `class=&quot;com.beans.run.hello&quot;` or the class package to `com.beans`","body":"just change the right party of the xml file to <code>class=&quot;com.beans.run.hello&quot;</code> or the class package to <code>com.beans</code>"}],"answers":[{"tags":[],"owner":{"account_id":29471065,"reputation":1,"user_id":22583676,"display_name":"Nikitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695022842,"creation_date":1695022842,"answer_id":77125347,"question_id":63267695,"body_markdown":"```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n&lt;bean id=&quot;s1&quot; class=&quot;com.project.Sim1&quot;&gt;&lt;/bean&gt;\r\n&lt;bean id=&quot;s2&quot; class=&quot;com.project.Sim2&quot;&gt;&lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\nSo this is my XML file. \r\nI was facing the same error too and I tried everything mentioned already but nothing worked. \r\n\r\nFirst of all, I had changed http to https which was causing the error for me.\r\nBut if i used http eclipse would show an error and it would vanish when i used https. But that would cause the error mentioned in your question or a different error that goes like \r\n&quot;Line 5 of XML...&quot;. \r\n\r\nSo, ignore the white cross mark and run it anyway. You&#39;ll then get the output.\r\nI spent one full day trying to fix this error and the next day I changed https to http and ignored the cross marks and ran it anyway and it worked lol.. funny ","title":"XML document from class path resource [beans.xml] is invalid","body":"<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n&lt;bean id=&quot;s1&quot; class=&quot;com.project.Sim1&quot;&gt;&lt;/bean&gt;\n&lt;bean id=&quot;s2&quot; class=&quot;com.project.Sim2&quot;&gt;&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>So this is my XML file.\nI was facing the same error too and I tried everything mentioned already but nothing worked.</p>\n<p>First of all, I had changed http to https which was causing the error for me.\nBut if i used http eclipse would show an error and it would vanish when i used https. But that would cause the error mentioned in your question or a different error that goes like\n&quot;Line 5 of XML...&quot;.</p>\n<p>So, ignore the white cross mark and run it anyway. You'll then get the output.\nI spent one full day trying to fix this error and the next day I changed https to http and ignored the cross marks and ran it anyway and it worked lol.. funny</p>\n"}],"owner":{"account_id":17433084,"reputation":19,"user_id":12636727,"display_name":"Aman Rawat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695022842,"creation_date":1596638790,"question_id":63267695,"body_markdown":"Hi everyone I&#39;m learning this new thing in java and I got this code from some source but when I&#39;m trying to run this code on my system I&#39;m getting this error while running my code and here is the complete error that I am getting and as I&#39;m not able to resolve this error \r\n\r\n```\r\nAug 05, 2020 8:08:40 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\r\nINFO: Loading XML bean definitions from class path resource [beans.xml]\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Line 5 in XML document from class path resource [beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException: Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\r\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 75; Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\r\n\tat com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1601)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1879)\r\n\tat com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:744)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1361)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$ContentDriver.scanRootElementHook(XMLDocumentScannerImpl.java:1329)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3134)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:867)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:507)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:867)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\r\n\tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\r\n\tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:126)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:125)\r\n\tat org.springframework.context.support.AbstractXmlApplicationContext.refreshBeanFactory(AbstractXmlApplicationContext.java:65)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:226)\r\n\tat org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:58)\r\n\tat com.beans.run.run.main(run.java:11)\r\n```\r\n\r\nI&#39;m using this java code in run.java file\r\n\r\n```\r\npackage com.beans.run;\r\n\r\n\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\r\n\r\npublic class run {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;[+] running [+]&quot;);\r\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\r\n        hello hw = (hello) ctx.getBean(&quot;helloWorld&quot;);\r\n        hw.getMessage();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this code in hello.java file\r\n\r\n```\r\npackage com.beans.run;\r\n\r\npublic class hello {\r\n\r\n        private String message;\r\n\r\n        public void setMessage(String message){\r\n            this.message  = message;\r\n        }\r\n        public void getMessage(){\r\n            System.out.println(&quot;Your Message : &quot; + message);\r\n        }\r\n}\r\n```\r\n\r\n\r\nhere is my beans.xml file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\r\n    &lt;bean id=&quot;helloWorld&quot; class=&quot;com.beans.hello&quot;&gt;\r\n        &lt;property name=&quot;message&quot; value=&quot;Hello World&quot;/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI&#39;ve tried all possible solution but it did&#39;nt work please help me to figure this out","title":"XML document from class path resource [beans.xml] is invalid","body":"<p>Hi everyone I'm learning this new thing in java and I got this code from some source but when I'm trying to run this code on my system I'm getting this error while running my code and here is the complete error that I am getting and as I'm not able to resolve this error</p>\n<pre><code>Aug 05, 2020 8:08:40 PM org.springframework.beans.factory.xml.XmlBeanDefinitionReader loadBeanDefinitions\nINFO: Loading XML bean definitions from class path resource [beans.xml]\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Line 5 in XML document from class path resource [beans.xml] is invalid; nested exception is org.xml.sax.SAXParseException: Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\norg.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 75; Document root element &quot;beans&quot;, must match DOCTYPE root &quot;null&quot;.\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:204)\n    at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.error(ErrorHandlerWrapper.java:135)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:396)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)\n    at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:284)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.rootElementSpecified(XMLDTDValidator.java:1601)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.handleStartElement(XMLDTDValidator.java:1879)\n    at com.sun.org.apache.xerces.internal.impl.dtd.XMLDTDValidator.startElement(XMLDTDValidator.java:744)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(XMLDocumentFragmentScannerImpl.java:1361)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$ContentDriver.scanRootElementHook(XMLDocumentScannerImpl.java:1329)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3134)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:867)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:605)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:507)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:867)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:796)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:142)\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:247)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)\n    at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)\n    at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:126)\n    at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:125)\n    at org.springframework.context.support.AbstractXmlApplicationContext.refreshBeanFactory(AbstractXmlApplicationContext.java:65)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:226)\n    at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:58)\n    at com.beans.run.run.main(run.java:11)\n</code></pre>\n<p>I'm using this java code in run.java file</p>\n<pre><code>package com.beans.run;\n\n\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.ClassPathXmlApplicationContext;\n\npublic class run {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;[+] running [+]&quot;);\n        ApplicationContext ctx = new ClassPathXmlApplicationContext(&quot;beans.xml&quot;);\n        hello hw = (hello) ctx.getBean(&quot;helloWorld&quot;);\n        hw.getMessage();\n    }\n\n}\n</code></pre>\n<p>and this code in hello.java file</p>\n<pre><code>package com.beans.run;\n\npublic class hello {\n\n        private String message;\n\n        public void setMessage(String message){\n            this.message  = message;\n        }\n        public void getMessage(){\n            System.out.println(&quot;Your Message : &quot; + message);\n        }\n}\n</code></pre>\n<p>here is my beans.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n       http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot;&gt;\n    &lt;bean id=&quot;helloWorld&quot; class=&quot;com.beans.hello&quot;&gt;\n        &lt;property name=&quot;message&quot; value=&quot;Hello World&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I've tried all possible solution but it did'nt work please help me to figure this out</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":3058835,"reputation":2381,"user_id":4114323,"accept_rate":85,"display_name":"ryekayo"},"score":0,"creation_date":1470752344,"post_id":38853317,"comment_id":65070690,"body_markdown":"Can you show the stacktrace please?","body":"Can you show the stacktrace please?"}],"answers":[{"tags":[],"owner":{"account_id":8819086,"reputation":931,"user_id":6589559,"display_name":"Gokul"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1470753281,"creation_date":1470753281,"answer_id":38853704,"question_id":38853317,"body_markdown":"By seeing as much code you have provided this types of problem comes because the  objects are not referring to the same Java  object instance.This can happen when you have used same session object for read &amp; write Or if you are putting same object in single session. They are referring to the same row in the database (i.e. the same primary key) but they&#39;re different copies of it.So what is happening is that the session, which is managing the entities would be keeping track of which Java object corresponds to the row with the same primary key. \r\n\r\nI would recommend you to try below given code.\r\n\r\n    1- Just set cascade to MERGE, that should work for you.\r\n    \r\n           OR\r\n    \t   \r\n    2- @GeneratedValue(strategy = GenerationType.SEQUENCE)   OR Other GenerationType ","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>By seeing as much code you have provided this types of problem comes because the  objects are not referring to the same Java  object instance.This can happen when you have used same session object for read &amp; write Or if you are putting same object in single session. They are referring to the same row in the database (i.e. the same primary key) but they're different copies of it.So what is happening is that the session, which is managing the entities would be keeping track of which Java object corresponds to the row with the same primary key. </p>\n\n<p>I would recommend you to try below given code.</p>\n\n<pre><code>1- Just set cascade to MERGE, that should work for you.\n\n       OR\n\n2- @GeneratedValue(strategy = GenerationType.SEQUENCE)   OR Other GenerationType \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14043898,"reputation":1,"user_id":10144666,"display_name":"user10144666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695022659,"creation_date":1695021696,"answer_id":77125247,"question_id":38853317,"body_markdown":"You Should also check your Entity class &quot;Country&quot;, where there is field &quot;countryCode&quot;. In this field you only annotate @Id but I recommended that you should also add @GeneratedValue(strategy = GenerationType.IDENTITY) \r\n\r\n`public class Country {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;COUNTRY_CODE&quot;)\r\n    private String countryCode;\r\n\r\n    public boolean equals(Object o) {}\r\n\r\n    public int hashCode() { }\r\n\r\n}`\r\n","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>You Should also check your Entity class &quot;Country&quot;, where there is field &quot;countryCode&quot;. In this field you only annotate @Id but I recommended that you should also add @GeneratedValue(strategy = GenerationType.IDENTITY)</p>\n<p>`public class Country {</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = &quot;COUNTRY_CODE&quot;)\nprivate String countryCode;\n\npublic boolean equals(Object o) {}\n\npublic int hashCode() { }\n</code></pre>\n<p>}`</p>\n"}],"owner":{"account_id":2007817,"reputation":1508,"user_id":1797171,"accept_rate":39,"display_name":"sandris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30386,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":38853704,"answer_count":2,"score":10,"last_activity_date":1695022659,"creation_date":1470752258,"question_id":38853317,"body_markdown":"Searched through SO but looks like there is no similar case to mine.\r\n\r\nThere is an entity Country, with a single field:\r\n\r\n    public class Country {\r\n    \r\n        @Id\r\n        @Column(name = &quot;COUNTRY_CODE&quot;)\r\n        private String countryCode;\r\n\r\n        public boolean equals(Object o) {}\r\n\r\n        public int hashCode() { }\r\n    }\r\n\r\nAnd another class which has a collection of these entries:\r\n\r\n    public class Product {\r\n    \r\n        @ManyToOne(fetch = EAGER, cascade = ALL)\r\n        @JoinColumn(name = &quot;COUNTRY_CODE&quot;)\r\n        private Country country;\r\n    }\r\n\r\nWhen setting country through:\r\n\r\n    product.setCountry(new Country(&quot;lv&quot;))\r\n\r\nI assume that it will just be saved, if it is present.\r\n\r\nBut instead I get an exception - a different object with the same identifier value was already associated with the session","title":"spring jpa - a different object with the same identifier value was already associated with the session","body":"<p>Searched through SO but looks like there is no similar case to mine.</p>\n\n<p>There is an entity Country, with a single field:</p>\n\n<pre><code>public class Country {\n\n    @Id\n    @Column(name = \"COUNTRY_CODE\")\n    private String countryCode;\n\n    public boolean equals(Object o) {}\n\n    public int hashCode() { }\n}\n</code></pre>\n\n<p>And another class which has a collection of these entries:</p>\n\n<pre><code>public class Product {\n\n    @ManyToOne(fetch = EAGER, cascade = ALL)\n    @JoinColumn(name = \"COUNTRY_CODE\")\n    private Country country;\n}\n</code></pre>\n\n<p>When setting country through:</p>\n\n<pre><code>product.setCountry(new Country(\"lv\"))\n</code></pre>\n\n<p>I assume that it will just be saved, if it is present.</p>\n\n<p>But instead I get an exception - a different object with the same identifier value was already associated with the session</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":5,"creation_date":1695022628,"post_id":77125310,"comment_id":135963302,"body_markdown":"`Arrays#asList` returns a fixed-size list, you cannot add nor remove from it. Note you can easily pass the contents of that into a mutable list though: `new ArrayList&lt;&gt;(Arrays.asList(...));`. Note that the `#put` call with the list is unnecessary: you can modify the list retrieved from the map, and the list held in the map will also &quot;update&quot; (in reality, they both reference the same object).","body":"<code>Arrays#asList</code> returns a fixed-size list, you cannot add nor remove from it. Note you can easily pass the contents of that into a mutable list though: <code>new ArrayList&lt;&gt;(Arrays.asList(...));</code>. Note that the <code>#put</code> call with the list is unnecessary: you can modify the list retrieved from the map, and the list held in the map will also &quot;update&quot; (in reality, they both reference the same object)."},{"owner":{"account_id":23244023,"reputation":1,"user_id":22302241,"display_name":"Wei Zhang"},"score":0,"creation_date":1695062216,"post_id":77125310,"comment_id":135971211,"body_markdown":"Thanks! This really solved the problem.","body":"Thanks! This really solved the problem."}],"owner":{"account_id":23244023,"reputation":1,"user_id":22302241,"display_name":"Wei Zhang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695022701,"answer_count":0,"score":0,"last_activity_date":1695022590,"creation_date":1695022485,"question_id":77125310,"body_markdown":"I am using Leetcode to practice algorithms. I came across Question 1218.  My code is the following\r\n\r\n```\r\nclass Solution {\r\n    public int longestSubsequence(int[] arr, int difference) {\r\n\r\n        // HashMap\r\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\n        \r\n        for (int i=0;i&lt;arr.length;i++){\r\n            if (map.containsKey(arr[i])){\r\n\r\n                List&lt;Integer&gt; temp=map.get(arr[i]);\r\n                int num = arr[i];\r\n\r\n                temp.add(num);\r\n\r\n                map.remove(arr[i]);\r\n                map.put(arr[i]+difference,temp);\r\n            } else{\r\n                map.put(arr[i]+difference,Arrays.asList(arr[i]));\r\n            }\r\n\r\n        }\r\n        int res = 1;\r\n        for (List&lt;Integer&gt; i:map.values()){\r\n            res=Math.max(res,i.size());\r\n        }\r\n        return res;\r\n\r\n\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\nThe error is\r\n\r\n```\r\njava.lang.UnsupportedOperationException\r\n  at line 153, java.base/java.util.AbstractList.add\r\n  at line 111, java.base/java.util.AbstractList.add\r\n  at line 13, Solution.longestSubsequence\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 87, __Driver__.main\r\n```\r\n\r\nP.S. Line 13 is the line `temp.add(num)`;\r\n\r\n\r\n\r\nI am really really confused. I am just adding an integer to an array List&lt;Integer&gt;. What I did was wrong?\r\n","title":"Java ArrayList returns error when I add element to it &quot;UnsupportedOperationException&quot;. How to resolve this?","body":"<p>I am using Leetcode to practice algorithms. I came across Question 1218.  My code is the following</p>\n<pre><code>class Solution {\n    public int longestSubsequence(int[] arr, int difference) {\n\n        // HashMap\n        Map&lt;Integer, List&lt;Integer&gt;&gt; map = new HashMap&lt;&gt;();\n        \n        for (int i=0;i&lt;arr.length;i++){\n            if (map.containsKey(arr[i])){\n\n                List&lt;Integer&gt; temp=map.get(arr[i]);\n                int num = arr[i];\n\n                temp.add(num);\n\n                map.remove(arr[i]);\n                map.put(arr[i]+difference,temp);\n            } else{\n                map.put(arr[i]+difference,Arrays.asList(arr[i]));\n            }\n\n        }\n        int res = 1;\n        for (List&lt;Integer&gt; i:map.values()){\n            res=Math.max(res,i.size());\n        }\n        return res;\n\n\n        \n    }\n}\n</code></pre>\n<p>The error is</p>\n<pre><code>java.lang.UnsupportedOperationException\n  at line 153, java.base/java.util.AbstractList.add\n  at line 111, java.base/java.util.AbstractList.add\n  at line 13, Solution.longestSubsequence\n  at line 54, __DriverSolution__.__helper__\n  at line 87, __Driver__.main\n</code></pre>\n<p>P.S. Line 13 is the line <code>temp.add(num)</code>;</p>\n<p>I am really really confused. I am just adding an integer to an array List. What I did was wrong?</p>\n"},{"tags":["java","spring-boot","hashicorp-vault","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":8280949,"reputation":69,"user_id":6225677,"display_name":"Viv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695022290,"creation_date":1695022290,"answer_id":77125293,"question_id":76835524,"body_markdown":"I have solved this problem by removing the bootstrap starter dependency, moving the bootstrap properties to application yaml, and including config for vault in application yaml\r\n\r\nconfig:\r\n    import: optional:vault://\r\n\r\nPlease refer to the documentation for this below,\r\n\r\nhttps://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional","title":"Spring Cloud Vault Config Databases Doesn&#39;t load the properties without bootstrap properties","body":"<p>I have solved this problem by removing the bootstrap starter dependency, moving the bootstrap properties to application yaml, and including config for vault in application yaml</p>\n<p>config:\nimport: optional:vault://</p>\n<p>Please refer to the documentation for this below,</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-vault/docs/current/reference/html/#vault.configdata.location.optional</a></p>\n"}],"owner":{"account_id":8280949,"reputation":69,"user_id":6225677,"display_name":"Viv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77125293,"answer_count":1,"score":0,"last_activity_date":1695022290,"creation_date":1691149082,"question_id":76835524,"body_markdown":"Describe the bug\r\nWe are using database secret engine in hashicorp vault with dynamic role setup to get dynamic credentials. We are trying to fetch the same in Springboot application using spring-cloud-vault-config-databases, however the properties are not working until we enable and specify the bootstrap yaml properties. They should have working as is with application properties but they don&#39;t work.\r\n\r\nSample\r\npom.xml\r\n\r\n    4.0.0 org.springframework.boot spring-boot-starter-parent 2.7.8 com.fyndna vault-demo 0.0.1-SNAPSHOT vault-demo Demo project for integration with Hashicorp Vault 17 2021.0.2 org.springframework.cloud spring-cloud-dependencies ${spring-cloud.version} pom import org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-bootstrap org.springframework.boot spring-boot-starter-data-jpa org.springframework.cloud spring-cloud-vault-config-databases org.postgresql postgresql runtime org.springframework.boot spring-boot-starter-validation\r\n    \t&lt;!-- Dapr&#39;s core SDK with all features, except Actors. --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Dapr&#39;s SDK for Actors (optional). --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk-actors&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;!-- Dapr&#39;s SDK integration with SpringBoot (optional). --&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;io.dapr&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;dapr-sdk-springboot&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.9.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;tess4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.openpnp&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;opencv&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;[4.3.0,)&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    bootstrap yaml ---\r\n    spring:\r\n    application:\r\n    name: vault-demo\r\n    cloud:\r\n    vault:\r\n    authentication: TOKEN\r\n    token: 00000000-0000-0000-0000-000000000000\r\n    host: localhost\r\n    port: 8200\r\n    scheme: http\r\n    fail-fast: true\r\n    config:\r\n    lifecycle:\r\n    enabled: true\r\n    min-renewal: 5s\r\n    expiry-threshold: 1m\r\n    generic:\r\n    enabled: true\r\n    backend: secret\r\n    database:\r\n    enabled: true\r\n    role: dynamic-role\r\n    backend: database\r\n    datasource:\r\n    url: jdbc:postgresql://localhost:5433/yugabyte\r\n    platform: postgres\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    hikari:\r\n    transactionIsolation: TRANSACTION_SERIALIZABLE\r\n    schema: alert_manager\r\n    jpa:\r\n    show-sql: true\r\n    generate-ddl: true\r\n    hibernate:\r\n    ddl-auto: validate\r\n    \r\n    package com.mycomp.security.vault;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaAuditing;\r\n    import org.springframework.vault.authentication.SessionManager;\r\n    \r\n    @SpringBootApplication\r\n    @EnableJpaAuditing\r\n    public class VaultDemoApplication {\r\n    \r\n    private static final Logger logger = LoggerFactory.getLogger(VaultDemoApplication.class);\r\n    @Autowired\r\n    private SessionManager sessionManager;\r\n    \r\n    @Value(&quot;${spring.datasource.username}&quot;)\r\n    private String dbUser;\r\n    \r\n    @Value(&quot;${spring.datasource.password}&quot;)\r\n    private String dbPass;\r\n    \r\n    public static void main(String[] args) {\r\n    \tSpringApplication.run(VaultDemoApplication.class, args);\r\n    }\r\n    \r\n    @PostConstruct\r\n    public void initIt() throws Exception {\r\n    \tlogger.info(&quot;Got Vault Token: &quot; + sessionManager.getSessionToken().getToken());\r\n    \tlogger.info(&quot;Got DB User: &quot; + dbUser);\r\n    \tlogger.info(&quot;Got DB Pass: &quot; + dbPass);\r\n    }\r\n    }\r\n    \r\n    ---- Now if we disable the bootstrap and rename the bootstrap property with application yaml then it doesn&#39;t work and thorws errors and stacktraces for bootstrap properties ---- please see the below logs ----\r\n    \r\n    -------------------------------======================================================--------------------------\r\n    \r\n    . ____ _ __ _ _\r\n    /\\ / &#39; __ _ () __ __ _ \\ \\ \\\r\n    ( ( )__ | &#39;_ | &#39;| | &#39; / ` | \\ \\ \\\r\n    \\/ )| |)| | | | | || (| | ) ) ) )\r\n    &#39; || .__|| ||| |_, | / / / /\r\n    =========||==============|/=////\r\n    :: Spring Boot :: (v2.7.8)\r\n    \r\n    2023-08-02 11:14:05.806 WARN 83143 --- [ main] o.s.v.a.LifecycleAwareSessionManager : Cannot enhance VaultToken to a LoginToken: Token self-lookup failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/auth/token/lookup-self&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    2023-08-02 11:14:05.865 INFO 83143 --- [ main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name=&#39;bootstrapProperties-secret/application&#39;}]\r\n    2023-08-02 11:14:05.894 INFO 83143 --- [ main] c.f.security.vault.VaultDemoApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-08-02 11:14:05.974 WARN 83143 --- [ main] LeaseEventPublisher$LoggingErrorListener : [RequestedSecret [path=&#39;secret/application&#39;, mode=ROTATE]] Lease [leaseId=&#39;null&#39;, leaseDuration=PT0S, renewable=false] I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    \r\n    org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:340) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.core.VaultTemplate.lambda$doRead$5(VaultTemplate.java:461) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.doWithSession(VaultTemplate.java:448) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.doRead(VaultTemplate.java:458) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.VaultTemplate.read(VaultTemplate.java:353) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.doGetSecrets(SecretLeaseContainer.java:645) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.doStart(SecretLeaseContainer.java:390) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.start(SecretLeaseContainer.java:380) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.lease.SecretLeaseContainer.addRequestedSecret(SecretLeaseContainer.java:343) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.loadProperties(LeaseAwareVaultPropertySource.java:176) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:161) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:119) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:146) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:83) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.doCreatePropertySources(VaultPropertySourceLocatorSupport.java:122) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.createCompositePropertySource(VaultPropertySourceLocatorSupport.java:101) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.locate(VaultPropertySourceLocatorSupport.java:76) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95) ~[spring-cloud-context-3.1.2.jar:3.1.2]\r\n    at org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:306) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar:2.7.8]\r\n    at com.mycomp.security.vault.VaultDemoApplication.main(VaultDemoApplication.java:29) ~[classes/:na]\r\n    Caused by: java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.0.jar:na]\r\n    at org.springframework.http.client.OkHttp3ClientHttpRequest.executeInternal(OkHttp3ClientHttpRequest.java:73) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.core.VaultTemplate.lambda$getSessionInterceptor$1(VaultTemplate.java:255) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.client.RestTemplateBuilder.lambda$createTemplate$4(RestTemplateBuilder.java:239) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:122) ~[spring-vault-core-2.3.2.jar:2.3.2]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782) ~[spring-web-5.3.25.jar:5.3.25]\r\n    ... 27 common frames omitted\r\n    Suppressed: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n    at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\r\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[na:na]\r\n    at okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:379) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:337) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:209) ~[okhttp-4.9.0.jar:na]\r\n    ... 55 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused\r\n    at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\r\n    at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\r\n    at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\r\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\r\n    at okhttp3.internal.platform.Platform.connectSocket(Platform.kt:120) ~[okhttp-4.9.0.jar:na]\r\n    at okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.0.jar:na]\r\n    ... 56 common frames omitted\r\n    \r\n    2023-08-02 11:14:05.977 INFO 83143 --- [ main] o.s.v.c.e.LeaseAwareVaultPropertySource : Vault location [secret/application] not resolvable: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\r\n    2023-08-02 11:14:06.845 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-08-02 11:14:06.965 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 1 JPA repository interfaces.\r\n    2023-08-02 11:14:07.165 INFO 83143 --- [ main] o.s.cloud.context.scope.GenericScope : BeanFactory id=e2ef9e1a-5270-34d9-869d-92664cf987c9\r\n    2023-08-02 11:14:07.647 INFO 83143 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\r\n    2023-08-02 11:14:07.656 INFO 83143 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]\r\n    2023-08-02 11:14:07.657 INFO 83143 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.71]\r\n    2023-08-02 11:14:07.811 INFO 83143 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\r\n    2023-08-02 11:14:07.812 INFO 83143 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\r\n    2023-08-02 11:14:07.990 INFO 83143 --- [ main] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2023-08-02 11:14:08.026 INFO 83143 --- [ main] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.6.14.Final\r\n    2023-08-02 11:14:08.230 INFO 83143 --- [ main] o.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2023-08-02 11:14:08.362 INFO 83143 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...\r\n    2023-08-02 11:14:09.677 ERROR 83143 --- [ main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: FATAL: role &quot;vithakur&quot; does not exist\r\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.QueryExecutorImpl.(QueryExecutorImpl.java:173) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.jdbc.PgConnection.(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\r\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\r\n\r\n","title":"Spring Cloud Vault Config Databases Doesn&#39;t load the properties without bootstrap properties","body":"<p>Describe the bug\nWe are using database secret engine in hashicorp vault with dynamic role setup to get dynamic credentials. We are trying to fetch the same in Springboot application using spring-cloud-vault-config-databases, however the properties are not working until we enable and specify the bootstrap yaml properties. They should have working as is with application properties but they don't work.</p>\n<p>Sample\npom.xml</p>\n<pre><code>4.0.0 org.springframework.boot spring-boot-starter-parent 2.7.8 com.fyndna vault-demo 0.0.1-SNAPSHOT vault-demo Demo project for integration with Hashicorp Vault 17 2021.0.2 org.springframework.cloud spring-cloud-dependencies ${spring-cloud.version} pom import org.springframework.boot spring-boot-starter-web org.springframework.cloud spring-cloud-starter-bootstrap org.springframework.boot spring-boot-starter-data-jpa org.springframework.cloud spring-cloud-vault-config-databases org.postgresql postgresql runtime org.springframework.boot spring-boot-starter-validation\n    &lt;!-- Dapr's core SDK with all features, except Actors. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Dapr's SDK for Actors (optional). --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk-actors&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- Dapr's SDK integration with SpringBoot (optional). --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dapr&lt;/groupId&gt;\n        &lt;artifactId&gt;dapr-sdk-springboot&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n        &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;version&gt;4.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.tess4j&lt;/groupId&gt;\n        &lt;artifactId&gt;tess4j&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openpnp&lt;/groupId&gt;\n        &lt;artifactId&gt;opencv&lt;/artifactId&gt;\n        &lt;version&gt;[4.3.0,)&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;version&gt;2.4.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\nbootstrap yaml ---\nspring:\napplication:\nname: vault-demo\ncloud:\nvault:\nauthentication: TOKEN\ntoken: 00000000-0000-0000-0000-000000000000\nhost: localhost\nport: 8200\nscheme: http\nfail-fast: true\nconfig:\nlifecycle:\nenabled: true\nmin-renewal: 5s\nexpiry-threshold: 1m\ngeneric:\nenabled: true\nbackend: secret\ndatabase:\nenabled: true\nrole: dynamic-role\nbackend: database\ndatasource:\nurl: jdbc:postgresql://localhost:5433/yugabyte\nplatform: postgres\ntype: com.zaxxer.hikari.HikariDataSource\nhikari:\ntransactionIsolation: TRANSACTION_SERIALIZABLE\nschema: alert_manager\njpa:\nshow-sql: true\ngenerate-ddl: true\nhibernate:\nddl-auto: validate\n\npackage com.mycomp.security.vault;\n\nimport javax.annotation.PostConstruct;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaAuditing;\nimport org.springframework.vault.authentication.SessionManager;\n\n@SpringBootApplication\n@EnableJpaAuditing\npublic class VaultDemoApplication {\n\nprivate static final Logger logger = LoggerFactory.getLogger(VaultDemoApplication.class);\n@Autowired\nprivate SessionManager sessionManager;\n\n@Value(&quot;${spring.datasource.username}&quot;)\nprivate String dbUser;\n\n@Value(&quot;${spring.datasource.password}&quot;)\nprivate String dbPass;\n\npublic static void main(String[] args) {\n    SpringApplication.run(VaultDemoApplication.class, args);\n}\n\n@PostConstruct\npublic void initIt() throws Exception {\n    logger.info(&quot;Got Vault Token: &quot; + sessionManager.getSessionToken().getToken());\n    logger.info(&quot;Got DB User: &quot; + dbUser);\n    logger.info(&quot;Got DB Pass: &quot; + dbPass);\n}\n}\n\n---- Now if we disable the bootstrap and rename the bootstrap property with application yaml then it doesn't work and thorws errors and stacktraces for bootstrap properties ---- please see the below logs ----\n\n-------------------------------======================================================--------------------------\n\n. ____ _ __ _ _\n/\\ / ' __ _ () __ __ _ \\ \\ \\\n( ( )__ | '_ | '| | ' / ` | \\ \\ \\\n\\/ )| |)| | | | | || (| | ) ) ) )\n' || .__|| ||| |_, | / / / /\n=========||==============|/=////\n:: Spring Boot :: (v2.7.8)\n\n2023-08-02 11:14:05.806 WARN 83143 --- [ main] o.s.v.a.LifecycleAwareSessionManager : Cannot enhance VaultToken to a LoginToken: Token self-lookup failed; nested exception is org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/auth/token/lookup-self&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n2023-08-02 11:14:05.865 INFO 83143 --- [ main] b.c.PropertySourceBootstrapConfiguration : Located property source: [BootstrapPropertySource {name='bootstrapProperties-secret/application'}]\n2023-08-02 11:14:05.894 INFO 83143 --- [ main] c.f.security.vault.VaultDemoApplication : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-08-02 11:14:05.974 WARN 83143 --- [ main] LeaseEventPublisher$LoggingErrorListener : [RequestedSecret [path='secret/application', mode=ROTATE]] Lease [leaseId='null', leaseDuration=PT0S, renewable=false] I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:340) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.core.VaultTemplate.lambda$doRead$5(VaultTemplate.java:461) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.doWithSession(VaultTemplate.java:448) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.doRead(VaultTemplate.java:458) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.VaultTemplate.read(VaultTemplate.java:353) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.doGetSecrets(SecretLeaseContainer.java:645) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.doStart(SecretLeaseContainer.java:390) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.start(SecretLeaseContainer.java:380) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.lease.SecretLeaseContainer.addRequestedSecret(SecretLeaseContainer.java:343) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.loadProperties(LeaseAwareVaultPropertySource.java:176) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:161) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.vault.core.env.LeaseAwareVaultPropertySource.(LeaseAwareVaultPropertySource.java:119) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:146) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.LeasingVaultPropertySourceLocator.createVaultPropertySource(LeasingVaultPropertySourceLocator.java:83) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.doCreatePropertySources(VaultPropertySourceLocatorSupport.java:122) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.createCompositePropertySource(VaultPropertySourceLocatorSupport.java:101) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.vault.config.VaultPropertySourceLocatorSupport.locate(VaultPropertySourceLocatorSupport.java:76) ~[spring-cloud-vault-config-3.1.0.jar:3.1.0]\nat org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:51) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.cloud.bootstrap.config.PropertySourceLocator.locateCollection(PropertySourceLocator.java:47) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.cloud.bootstrap.config.PropertySourceBootstrapConfiguration.initialize(PropertySourceBootstrapConfiguration.java:95) ~[spring-cloud-context-3.1.2.jar:3.1.2]\nat org.springframework.boot.SpringApplication.applyInitializers(SpringApplication.java:604) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:373) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:306) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.8.jar:2.7.8]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.8.jar:2.7.8]\nat com.mycomp.security.vault.VaultDemoApplication.main(VaultDemoApplication.java:29) ~[classes/:na]\nCaused by: java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:297) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:207) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:226) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealCall.execute(RealCall.kt:154) ~[okhttp-4.9.0.jar:na]\nat org.springframework.http.client.OkHttp3ClientHttpRequest.executeInternal(OkHttp3ClientHttpRequest.java:73) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.core.VaultTemplate.lambda$getSessionInterceptor$1(VaultTemplate.java:255) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.client.RestTemplateBuilder.lambda$createTemplate$4(RestTemplateBuilder.java:239) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.vault.client.VaultClients.lambda$createRestTemplate$0(VaultClients.java:122) ~[spring-vault-core-2.3.2.jar:2.3.2]\nat org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66) ~[spring-web-5.3.25.jar:5.3.25]\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782) ~[spring-web-5.3.25.jar:5.3.25]\n... 27 common frames omitted\nSuppressed: javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\nat java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175) ~[na:na]\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1500) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1415) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450) ~[na:na]\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421) ~[na:na]\nat okhttp3.internal.connection.RealConnection.connectTls(RealConnection.kt:379) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.establishProtocol(RealConnection.kt:337) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.kt:209) ~[okhttp-4.9.0.jar:na]\n... 55 common frames omitted\nCaused by: java.net.ConnectException: Connection refused\nat java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]\nat java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]\nat java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]\nat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327) ~[na:na]\nat java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]\nat okhttp3.internal.platform.Platform.connectSocket(Platform.kt:120) ~[okhttp-4.9.0.jar:na]\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.kt:295) ~[okhttp-4.9.0.jar:na]\n... 56 common frames omitted\n\n2023-08-02 11:14:05.977 INFO 83143 --- [ main] o.s.v.c.e.LeaseAwareVaultPropertySource : Vault location [secret/application] not resolvable: I/O error on GET request for &quot;https://localhost:8200/v1/secret/application&quot;: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200; nested exception is java.net.ConnectException: Failed to connect to localhost/[0:0:0:0:0:0:0:1]:8200\n2023-08-02 11:14:06.845 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-08-02 11:14:06.965 INFO 83143 --- [ main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 114 ms. Found 1 JPA repository interfaces.\n2023-08-02 11:14:07.165 INFO 83143 --- [ main] o.s.cloud.context.scope.GenericScope : BeanFactory id=e2ef9e1a-5270-34d9-869d-92664cf987c9\n2023-08-02 11:14:07.647 INFO 83143 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 8080 (http)\n2023-08-02 11:14:07.656 INFO 83143 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat]\n2023-08-02 11:14:07.657 INFO 83143 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.71]\n2023-08-02 11:14:07.811 INFO 83143 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext\n2023-08-02 11:14:07.812 INFO 83143 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1832 ms\n2023-08-02 11:14:07.990 INFO 83143 --- [ main] o.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-08-02 11:14:08.026 INFO 83143 --- [ main] org.hibernate.Version : HHH000412: Hibernate ORM core version 5.6.14.Final\n2023-08-02 11:14:08.230 INFO 83143 --- [ main] o.hibernate.annotations.common.Version : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2023-08-02 11:14:08.362 INFO 83143 --- [ main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...\n2023-08-02 11:14:09.677 ERROR 83143 --- [ main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: FATAL: role &quot;vithakur&quot; does not exist\nat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2675) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.QueryExecutorImpl.readStartupMessages(QueryExecutorImpl.java:2787) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.QueryExecutorImpl.(QueryExecutorImpl.java:173) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:290) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.jdbc.PgConnection.(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\nat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\nat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:121) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\nat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n</code></pre>\n"},{"tags":["java","spring-boot","microservices","netflix-eureka"],"comments":[{"owner":{"account_id":29428878,"reputation":1,"user_id":22548948,"display_name":"Atif Tirmizi"},"score":0,"creation_date":1695104812,"post_id":77125267,"comment_id":135975685,"body_markdown":"UDPATE - I&#39;m able to now see the API-gateway as a running instance after I changed the eureka.client.register-with-eureka to be &#39;true&#39;. However, I still don&#39;t see the CT-cryptography-core-lib service running in the instances of the server","body":"UDPATE - I&#39;m able to now see the API-gateway as a running instance after I changed the eureka.client.register-with-eureka to be &#39;true&#39;. However, I still don&#39;t see the CT-cryptography-core-lib service running in the instances of the server"}],"owner":{"account_id":29428878,"reputation":1,"user_id":22548948,"display_name":"Atif Tirmizi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695021986,"creation_date":1695021986,"question_id":77125267,"body_markdown":"Basically, I&#39;m building microservice(s) architecture, where I want to implement an API gateway that acts as a proxy to route API requests to other spring boot applications from the api-gateway. \r\nI created a new Spring Boot application called &#39;ct-api-gateway-proxy-service&#39; to be the API gateway and added the @EnableEurekaServer annotation to the running file. It is running on port 8888. However, when I run the localhost:8888, the server is up but I don&#39;t see the connected microservice as a running instance. I also added localhost:8888/eureka but I get a whitepage label error.\r\n\r\nThe connecting microservice client is called &#39;CT-cryptography-core-lib&#39;. This is an existing spring boot application that I&#39;m trying to connect to the API gateway. This application is annotated with &#39;@EnableEurekaClient&#39;. However, when I run this application, it runs successfully but I don&#39;t actually see it running on the Eureka server UI (localhost:8888) as an instance on the gateway server. I also don&#39;t see any Eureka information on the stack trace of this application.\r\nMy end goal is to link all microservices, including this one and route API calls to them. \r\n\r\nThis is my application.properties for &#39;ct-api-gateway-proxy-service&#39;:\r\n\r\n```\r\nserver.port=8888\r\neureka.instance.hostname=localhost\r\neureka.client.register-with-eureka=false\r\neureka.client.fetch-registry=false\r\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\r\nspring.application.name=ct-api-gateway-proxy-service\r\n\r\nspring.cloud.gateway.routes[0].id=CT-cryptography-core-lib\r\nspring.cloud.gateway.routes[0].uri=lb://CT-cryptography-core-lib\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/rest/symmetric/block-cipher/encryption/\r\n```\r\n\r\nThis is my application file for &#39;ct-api-gateway-proxy-service&#39; code:\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableEurekaServer\r\npublic class CtApiGatewayProxyServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CtApiGatewayProxyServiceApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nThis is my application.properties file for the &#39;CT-cryptography-core-lib&#39; microservice:\r\n\r\n```\r\nserver.port= 4000\r\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\r\nspring.application.name=CT-cryptography-core-lib\r\n\r\n#---LOGGING---\r\n#FLAG FOR OUTPUTTING THE LOGS TO EXTERNAL SERVICE (S3) OR TO LOCAL FILE\r\nlog.output:local\r\n```\r\n\r\nMy main Application for &#39;CT-cryptography-core-lib&#39;:\r\n\r\n```\r\npackage com.ct.cryptography.api;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\r\n\r\n@SpringBootApplication\r\n@EnableEurekaClient\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"API-Gateway proxy service (Netflix Eureka Server) not showing running instances (Spring Boot Microservices)","body":"<p>Basically, I'm building microservice(s) architecture, where I want to implement an API gateway that acts as a proxy to route API requests to other spring boot applications from the api-gateway.\nI created a new Spring Boot application called 'ct-api-gateway-proxy-service' to be the API gateway and added the @EnableEurekaServer annotation to the running file. It is running on port 8888. However, when I run the localhost:8888, the server is up but I don't see the connected microservice as a running instance. I also added localhost:8888/eureka but I get a whitepage label error.</p>\n<p>The connecting microservice client is called 'CT-cryptography-core-lib'. This is an existing spring boot application that I'm trying to connect to the API gateway. This application is annotated with '@EnableEurekaClient'. However, when I run this application, it runs successfully but I don't actually see it running on the Eureka server UI (localhost:8888) as an instance on the gateway server. I also don't see any Eureka information on the stack trace of this application.\nMy end goal is to link all microservices, including this one and route API calls to them.</p>\n<p>This is my application.properties for 'ct-api-gateway-proxy-service':</p>\n<pre><code>server.port=8888\neureka.instance.hostname=localhost\neureka.client.register-with-eureka=false\neureka.client.fetch-registry=false\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\nspring.application.name=ct-api-gateway-proxy-service\n\nspring.cloud.gateway.routes[0].id=CT-cryptography-core-lib\nspring.cloud.gateway.routes[0].uri=lb://CT-cryptography-core-lib\nspring.cloud.gateway.routes[0].predicates[0]=Path=/rest/symmetric/block-cipher/encryption/\n</code></pre>\n<p>This is my application file for 'ct-api-gateway-proxy-service' code:</p>\n<pre><code>@SpringBootApplication\n@EnableEurekaServer\npublic class CtApiGatewayProxyServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(CtApiGatewayProxyServiceApplication.class, args);\n    }\n}\n</code></pre>\n<p>This is my application.properties file for the 'CT-cryptography-core-lib' microservice:</p>\n<pre><code>server.port= 4000\neureka.client.service-url.defaultZone=http://localhost:8888/eureka\nspring.application.name=CT-cryptography-core-lib\n\n#---LOGGING---\n#FLAG FOR OUTPUTTING THE LOGS TO EXTERNAL SERVICE (S3) OR TO LOCAL FILE\nlog.output:local\n</code></pre>\n<p>My main Application for 'CT-cryptography-core-lib':</p>\n<pre><code>package com.ct.cryptography.api;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.EnableEurekaClient;\n\n@SpringBootApplication\n@EnableEurekaClient\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","websphere","geronimo","jbatch"],"comments":[{"owner":{"account_id":1623729,"reputation":5190,"user_id":1499766,"accept_rate":86,"display_name":"Scott Kurz"},"score":1,"creation_date":1694782266,"post_id":77112338,"comment_id":135940112,"body_markdown":"At a high-level, the problem is that you need to configure BatchEE to run on managed threads, with constructs like the CDI BeanManager available.  How to make that happen?  I&#39;m not sure.  It might involve setting the property `BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService`  whereever/however you are setting that property.     I&#39;m not sure if you would also need to set a separate property to integrate with the WebSphere transaction manager.  Hopefully that&#39;s a clue for searching until someone answers in more detail.","body":"At a high-level, the problem is that you need to configure BatchEE to run on managed threads, with constructs like the CDI BeanManager available.  How to make that happen?  I&#39;m not sure.  It might involve setting the property <code>BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoo&zwnj;&#8203;lService</code>  whereever/however you are setting that property.     I&#39;m not sure if you would also need to set a separate property to integrate with the WebSphere transaction manager.  Hopefully that&#39;s a clue for searching until someone answers in more detail."}],"answers":[{"tags":[],"owner":{"account_id":20037117,"reputation":33,"user_id":14688588,"display_name":"Michael Neumair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695021903,"creation_date":1695021903,"answer_id":77125263,"question_id":77112338,"body_markdown":"setting the Property `BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService` as mentioned in the comment from Scott Kurz solved the problem for me! \r\n\r\nThanks!\r\nMichael","title":"How to run BatchEE jobs on managed threads within WebSphere Application Server?","body":"<p>setting the Property <code>BatchThreadPoolService = org.apache.batchee.container.services.executor.JNDIThreadPoolService</code> as mentioned in the comment from Scott Kurz solved the problem for me!</p>\n<p>Thanks!\nMichael</p>\n"}],"owner":{"account_id":20037117,"reputation":33,"user_id":14688588,"display_name":"Michael Neumair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77125263,"answer_count":1,"score":1,"last_activity_date":1695021903,"creation_date":1694780592,"question_id":77112338,"body_markdown":"I have a web application, that uses batchee-jbatch to execute some batches within the web application on a IBM WAS.\r\n\r\nThe JobOperator seems to start properly, but the application fails when I try to execute the batch. The serve log file shows the following output:\r\n\r\n```\r\n[15.09.23 13:59:14:975 MESZ] 00000177 Init          I   \r\n ____        _       _     ______ ______ \r\n|  _ \\      | |     | |   |  ____|  ____|\r\n| |_) | __ _| |_ ___| |__ | |__  | |__   \r\n|  _ &lt; / _` | __/ __| &#39;_ \\|  __| |  __|  \r\n| |_) | (_| | || (__| | | | |____| |____ \r\n|____/ \\__,_|\\__\\___|_| |_|______|______|0.4-incubating\r\n[15.09.23 13:59:15:107 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,107 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchJobObserver\r\n[15.09.23 13:59:15:109 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,109 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchWatchdogTask\r\n[15.09.23 13:59:15:138 MESZ] 000002af BaseStepContr E   javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n                                 java.lang.RuntimeException: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:60)\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.createItemReaderProxy(ProxyFactory.java:124)\r\n\tat org.apache.batchee.container.impl.controller.chunk.ChunkStepController.initializeChunkArtifacts(ChunkStepController.java:778)\r\n\tat org.apache.batchee.container.impl.controller.chunk.ChunkStepController.invokeCoreStep(ChunkStepController.java:728)\r\n\tat org.apache.batchee.container.impl.controller.BaseStepController.execute(BaseStepController.java:157)\r\n\tat org.apache.batchee.container.impl.controller.ExecutionTransitioner.doExecutionLoop(ExecutionTransitioner.java:106)\r\n\tat org.apache.batchee.container.impl.controller.JobThreadRootController.originateExecutionOnThread(JobThreadRootController.java:110)\r\n\tat org.apache.batchee.container.util.BatchWorkUnit.run(BatchWorkUnit.java:62)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\r\n\tat java.lang.reflect.Method.invoke(Method.java:508)\r\n\tat org.apache.batchee.container.util.ClassLoaderAwareHandler.invoke(ClassLoaderAwareHandler.java:39)\r\n\tat com.sun.proxy.$Proxy504.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.lang.Thread.run(Thread.java:820)\r\nCaused by: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\r\n\tat org.apache.batchee.container.cdi.BatchCDIInjectionExtension.getBeanManager(BatchCDIInjectionExtension.java:113)\r\n\tat org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.getBeanManager(CDIBatchArtifactFactory.java:68)\r\n\tat org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.load(CDIBatchArtifactFactory.java:34)\r\n\tat org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:50)\r\n\t... 16 more\r\n```\r\n\r\nI have no idea why the batch runtime exception `unable to resolve BeanManager` is fired and how to solve this issue. Does anybody has an idea what could be the problem?\r\n\r\nBest Regards\r\n","title":"How to run BatchEE jobs on managed threads within WebSphere Application Server?","body":"<p>I have a web application, that uses batchee-jbatch to execute some batches within the web application on a IBM WAS.</p>\n<p>The JobOperator seems to start properly, but the application fails when I try to execute the batch. The serve log file shows the following output:</p>\n<pre><code>[15.09.23 13:59:14:975 MESZ] 00000177 Init          I   \n ____        _       _     ______ ______ \n|  _ \\      | |     | |   |  ____|  ____|\n| |_) | __ _| |_ ___| |__ | |__  | |__   \n|  _ &lt; / _` | __/ __| '_ \\|  __| |  __|  \n| |_) | (_| | || (__| | | | |____| |____ \n|____/ \\__,_|\\__\\___|_| |_|______|______|0.4-incubating\n[15.09.23 13:59:15:107 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,107 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchJobObserver\n[15.09.23 13:59:15:109 MESZ] 00000177 SystemOut     O 2023-09-15 13:59:15,109 WebContainer : 6 TRACE Log4jLoggerFactory.getContext() found anchor class com.example.core.impl.BatchWatchdogTask\n[15.09.23 13:59:15:138 MESZ] 000002af BaseStepContr E   javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n                                 java.lang.RuntimeException: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n    at org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:60)\n    at org.apache.batchee.container.proxy.ProxyFactory.createItemReaderProxy(ProxyFactory.java:124)\n    at org.apache.batchee.container.impl.controller.chunk.ChunkStepController.initializeChunkArtifacts(ChunkStepController.java:778)\n    at org.apache.batchee.container.impl.controller.chunk.ChunkStepController.invokeCoreStep(ChunkStepController.java:728)\n    at org.apache.batchee.container.impl.controller.BaseStepController.execute(BaseStepController.java:157)\n    at org.apache.batchee.container.impl.controller.ExecutionTransitioner.doExecutionLoop(ExecutionTransitioner.java:106)\n    at org.apache.batchee.container.impl.controller.JobThreadRootController.originateExecutionOnThread(JobThreadRootController.java:110)\n    at org.apache.batchee.container.util.BatchWorkUnit.run(BatchWorkUnit.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:90)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:55)\n    at java.lang.reflect.Method.invoke(Method.java:508)\n    at org.apache.batchee.container.util.ClassLoaderAwareHandler.invoke(ClassLoaderAwareHandler.java:39)\n    at com.sun.proxy.$Proxy504.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.lang.Thread.run(Thread.java:820)\nCaused by: javax.batch.operations.BatchRuntimeException: unable to resolve BeanManager\n    at org.apache.batchee.container.cdi.BatchCDIInjectionExtension.getBeanManager(BatchCDIInjectionExtension.java:113)\n    at org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.getBeanManager(CDIBatchArtifactFactory.java:68)\n    at org.apache.batchee.container.services.factory.CDIBatchArtifactFactory.load(CDIBatchArtifactFactory.java:34)\n    at org.apache.batchee.container.proxy.ProxyFactory.loadArtifact(ProxyFactory.java:50)\n    ... 16 more\n</code></pre>\n<p>I have no idea why the batch runtime exception <code>unable to resolve BeanManager</code> is fired and how to solve this issue. Does anybody has an idea what could be the problem?</p>\n<p>Best Regards</p>\n"},{"tags":["java","visual-studio-code","terminal","java.util.scanner"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1694870594,"post_id":77117922,"comment_id":135949812,"body_markdown":"what happens when you only enter the command &quot;java -version&quot; in that terminal?","body":"what happens when you only enter the command &quot;java -version&quot; in that terminal?"},{"owner":{"account_id":21867978,"reputation":1653,"user_id":16157878,"display_name":"soundflix"},"score":0,"creation_date":1694877521,"post_id":77117922,"comment_id":135950616,"body_markdown":"Welcome to StackOverflow! Please [edit] your question. Code and error messages should be written as text, not images. You can leave the images as a supporting info.","body":"Welcome to StackOverflow! Please <a href=\"https://stackoverflow.com/posts/77117922/edit\">edit</a> your question. Code and error messages should be written as text, not images. You can leave the images as a supporting info."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694949160,"post_id":77117922,"comment_id":135956141,"body_markdown":"Why do you use a mingw64 terminal? Because that is your problem in MingW the path `E:\\university work\\OOP Java\\practice1\\src` does not exist as you can see from the line above. The Paths has to be written as `/e/university/OOP Java/practice1/src`. You better should use a common cmd.exe or powershell terminal if you want to work with Windows paths.","body":"Why do you use a mingw64 terminal? Because that is your problem in MingW the path <code>E:\\university work\\OOP Java\\practice1\\src</code> does not exist as you can see from the line above. The Paths has to be written as <code>&#47;e&#47;university&#47;OOP Java&#47;practice1&#47;src</code>. You better should use a common cmd.exe or powershell terminal if you want to work with Windows paths."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1695023574,"post_id":77117922,"comment_id":135963464,"body_markdown":"Maybe this will help? [Integrating MINGW64 into Visual Studio Code](https://stackoverflow.com/questions/69341108/integrating-mingw64-into-visual-studio-code)","body":"Maybe this will help? <a href=\"https://stackoverflow.com/questions/69341108/integrating-mingw64-into-visual-studio-code\">Integrating MINGW64 into Visual Studio Code</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469129,"post_id":77117922,"comment_id":136158179,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695021491,"creation_date":1695021491,"answer_id":77125230,"question_id":77117922,"body_markdown":"You are using **Code Runner** to run the program, which is not a best practice. You&#39;d better use the official Java extension package to execute the program.\r\n\r\nYou can click `Run` or `Debug` on the code editing page to run or debug the program.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can also select `Run Java` from the triangle button in the upper right corner.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IWbYO.png\r\n  [2]: https://i.stack.imgur.com/VtZhX.png","title":"Java code is running properly in output section but not runs in terminal section of vs code","body":"<p>You are using <strong>Code Runner</strong> to run the program, which is not a best practice. You'd better use the official Java extension package to execute the program.</p>\n<p>You can click <code>Run</code> or <code>Debug</code> on the code editing page to run or debug the program.</p>\n<p><a href=\"https://i.stack.imgur.com/IWbYO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IWbYO.png\" alt=\"enter image description here\" /></a></p>\n<p>You can also select <code>Run Java</code> from the triangle button in the upper right corner.</p>\n<p><a href=\"https://i.stack.imgur.com/VtZhX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VtZhX.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29459741,"reputation":1,"user_id":22574782,"display_name":"Raja Talha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695021491,"creation_date":1694870119,"question_id":77117922,"body_markdown":"Actually I am a beginner in coding and I am facing an issue  and I am unable to find the solution of this issue on google.\r\nThe problem is that if I run the code in output section of vs code then it runs properly but if I turn on the &quot;Run in terminal&quot; then it runs but does not gives an output.\r\n\r\n[![This is the Screen shot of output when I run the code in output section][1]][1]\r\n\r\n[![This is the screen shot of output when I run the code in vs code terminal][2]][2]\r\n\r\n\r\nI don&#39;t know what is the issue that it does not give output in terminal and I am running the code in terminal because we can&#39;t take the user input in the output section so we must have to run the code in terminal to take input from the user.\r\n\r\nI am trying to run the code in vs code terminal but it is not showing the output.\r\nit runs the code but does not give output.\r\nI want to run the code in terminal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hVR9i.jpg\r\n  [2]: https://i.stack.imgur.com/Rq6CD.jpg","title":"Java code is running properly in output section but not runs in terminal section of vs code","body":"<p>Actually I am a beginner in coding and I am facing an issue  and I am unable to find the solution of this issue on google.\nThe problem is that if I run the code in output section of vs code then it runs properly but if I turn on the &quot;Run in terminal&quot; then it runs but does not gives an output.</p>\n<p><a href=\"https://i.stack.imgur.com/hVR9i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hVR9i.jpg\" alt=\"This is the Screen shot of output when I run the code in output section\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Rq6CD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rq6CD.jpg\" alt=\"This is the screen shot of output when I run the code in vs code terminal\" /></a></p>\n<p>I don't know what is the issue that it does not give output in terminal and I am running the code in terminal because we can't take the user input in the output section so we must have to run the code in terminal to take input from the user.</p>\n<p>I am trying to run the code in vs code terminal but it is not showing the output.\nit runs the code but does not give output.\nI want to run the code in terminal.</p>\n"},{"tags":["java","browser","using"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549789521,"post_id":29842930,"comment_id":96023074,"body_markdown":"Browser windows do not equal processes.","body":"Browser windows do not equal processes."},{"owner":{"account_id":955166,"reputation":885,"user_id":980615,"accept_rate":100,"display_name":"Jelle de Fries"},"score":0,"creation_date":1549792469,"post_id":29842930,"comment_id":96023668,"body_markdown":"@user207421 Where is it stated that a window is a process? It is only mentioned that you are able to close a window through a process, not that they are the same thing.","body":"@user207421 Where is it stated that a window is a process? It is only mentioned that you are able to close a window through a process, not that they are the same thing."}],"answers":[{"tags":[],"owner":{"account_id":955166,"reputation":885,"user_id":980615,"accept_rate":100,"display_name":"Jelle de Fries"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429868316,"creation_date":1429866304,"answer_id":29843152,"question_id":29842930,"body_markdown":"You can put it in a `Process` and kill that.\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    Process p = runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + url);\r\n    p.destroy();\r\n\r\n-- update --\r\n\r\nYou should execute your command with a String array\r\n\r\n    Process p = Runtime.getRuntime().exec(new String[]{\r\n        &quot;/usr/bin/firefox&quot;,\r\n        &quot;-new-window&quot;, url\r\n    });\r\n\r\nThis is less prone to errors:\r\nhttps://stackoverflow.com/questions/4916918/java-execute-a-command-with-a-space-in-the-pathname\r\n\r\nOr use `ProcessBuilder`: [ProcessBuilder Documentation](http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html)","title":"Close browser window using java code","body":"<p>You can put it in a <code>Process</code> and kill that.</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\nProcess p = runtime.exec(\"/usr/bin/firefox -new-window \" + url);\np.destroy();\n</code></pre>\n\n<p>-- update --</p>\n\n<p>You should execute your command with a String array</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(new String[]{\n    \"/usr/bin/firefox\",\n    \"-new-window\", url\n});\n</code></pre>\n\n<p>This is less prone to errors:\n<a href=\"https://stackoverflow.com/questions/4916918/java-execute-a-command-with-a-space-in-the-pathname\">Java execute a command with a space in the pathname</a></p>\n\n<p>Or use <code>ProcessBuilder</code>: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":1131718,"reputation":1467,"user_id":1117650,"accept_rate":71,"display_name":"ynka"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1470149780,"creation_date":1470149780,"answer_id":38723904,"question_id":29842930,"body_markdown":"I was trying to achieve a similar thing, without caring too much which browser will open. I come accross a solution based on Java FX:\r\n\r\n    public class MyBrowser extends Application {\r\n\r\n    private String url = &quot;http://stackoverflow.com/questions/29842930/close-browser-window-using-java-code&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n\r\n        WebView webview = new WebView();\r\n        webview.getEngine().load(url);\r\n        webview.setPrefSize(1800, 1000);\r\n\r\n        stage.setScene(new Scene(webview));\r\n        stage.show();\r\n\r\n        //stage.close();\r\n\r\n    }\r\n}\r\n\r\nOf course if you call `close()` this way, you will not really see the embedded browser window. It should be called in another part of the code, e.g. in response to a button push. ","title":"Close browser window using java code","body":"<p>I was trying to achieve a similar thing, without caring too much which browser will open. I come accross a solution based on Java FX:</p>\n\n<pre><code>public class MyBrowser extends Application {\n\nprivate String url = \"http://stackoverflow.com/questions/29842930/close-browser-window-using-java-code\";\n\npublic static void main(String[] args) {\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n\n    WebView webview = new WebView();\n    webview.getEngine().load(url);\n    webview.setPrefSize(1800, 1000);\n\n    stage.setScene(new Scene(webview));\n    stage.show();\n\n    //stage.close();\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Of course if you call <code>close()</code> this way, you will not really see the embedded browser window. It should be called in another part of the code, e.g. in response to a button push. </p>\n"},{"tags":[],"owner":{"account_id":12153720,"reputation":1,"user_id":8873206,"display_name":"Priya Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608835477,"creation_date":1608816159,"answer_id":65438898,"question_id":29842930,"body_markdown":"Use the below code snippet\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n    runtime.exec(&quot;killall -9  firefox&quot;);\r\n\r\nchange the name of the browser according to your needs.","title":"Close browser window using java code","body":"<p>Use the below code snippet</p>\n<pre><code>Runtime runtime = Runtime.getRuntime();\nruntime.exec(&quot;killall -9  firefox&quot;);\n</code></pre>\n<p>change the name of the browser according to your needs.</p>\n"}],"owner":{"account_id":6191116,"reputation":29,"user_id":4823801,"accept_rate":0,"display_name":"Pink Giraffe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12864,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1695020670,"creation_date":1429865726,"question_id":29842930,"body_markdown":"How should i close an opened browser window using java code. I have found a way to first find the process then end that process. Is there any better way? I have opened the browser initially using the below code. I am working in CentOS.\r\n\r\n    String url = &quot;http://192.168.40.174/test15.html&quot;;\r\n    Runtime runtime = Runtime.getRuntime();\r\n    runtime.exec(&quot;/usr/bin/firefox -new-window &quot; + url);","title":"Close browser window using java code","body":"<p>How should i close an opened browser window using java code. I have found a way to first find the process then end that process. Is there any better way? I have opened the browser initially using the below code. I am working in CentOS.</p>\n\n<pre><code>String url = \"http://192.168.40.174/test15.html\";\nRuntime runtime = Runtime.getRuntime();\nruntime.exec(\"/usr/bin/firefox -new-window \" + url);\n</code></pre>\n"},{"tags":["java","android","flutter","visual-studio-code"],"comments":[{"owner":{"account_id":14061061,"reputation":56930,"user_id":10157127,"display_name":"Md. Yeasin Sheikh"},"score":0,"creation_date":1694803920,"post_id":77113854,"comment_id":135944218,"body_markdown":"try `java` command, if fails try to set the [environment path](https://stackoverflow.com/q/64359564/10157127)","body":"try <code>java</code> command, if fails try to set the <a href=\"https://stackoverflow.com/q/64359564/10157127\">environment path</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1696469033,"post_id":77113854,"comment_id":136158170,"body_markdown":"Any updates here?","body":"Any updates here?"}],"answers":[{"tags":[],"owner":{"account_id":19317033,"reputation":13,"user_id":14121580,"display_name":"Charleeoh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695004817,"creation_date":1695004817,"answer_id":77124308,"question_id":77113854,"body_markdown":"Check your environmental variables. You seem to have set the wrong path to your JAVA_HOME Variable. Try updating the path to your JDK root folder.\r\n\r\n 1. Search &#39;environmental variables&#39; on your start menu.\r\n 2. Select &#39;Edit the System Environmental Variables&#39;.\r\n 3. Under &#39;System variables&#39;, scroll to JAVA_HOME and edit the path to the path of your JDK e.g &quot;C:\\Program Files\\Java\\jdk-18&quot; (Install this if you haven&#39;t).\r\n 4. Under &#39;User variables&#39;, scroll to Path and edit the path to the path of your JDK (Including the bin folder) e.g &quot;C:\\Program Files\\Java\\jdk-18\\bin&quot;.\r\n\r\nThis should fix the issue","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>Check your environmental variables. You seem to have set the wrong path to your JAVA_HOME Variable. Try updating the path to your JDK root folder.</p>\n<ol>\n<li>Search 'environmental variables' on your start menu.</li>\n<li>Select 'Edit the System Environmental Variables'.</li>\n<li>Under 'System variables', scroll to JAVA_HOME and edit the path to the path of your JDK e.g &quot;C:\\Program Files\\Java\\jdk-18&quot; (Install this if you haven't).</li>\n<li>Under 'User variables', scroll to Path and edit the path to the path of your JDK (Including the bin folder) e.g &quot;C:\\Program Files\\Java\\jdk-18\\bin&quot;.</li>\n</ol>\n<p>This should fix the issue</p>\n"},{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695020296,"creation_date":1695020296,"answer_id":77125122,"question_id":77113854,"body_markdown":"Use the following settings in vscode to specify the jdk path.\r\n\r\n```json\r\n&quot;java.configuration.runtimes&quot;: [\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\r\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\r\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\r\n    &quot;default&quot;:  true\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\r\n   },\r\n   {\r\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\r\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\r\n   }\r\n]\r\n```\r\n\r\n - https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>Use the following settings in vscode to specify the jdk path.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.configuration.runtimes&quot;: [\n  {\n    &quot;name&quot;: &quot;JavaSE-1.8&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk1.8.0_201&quot;\n  },\n  {\n    &quot;name&quot;: &quot;JavaSE-11&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-11.0.3&quot;,\n    &quot;sources&quot; : &quot;/usr/local/jdk-11.0.3/lib/src.zip&quot;,\n    &quot;javadoc&quot; : &quot;https://docs.oracle.com/en/java/javase/11/docs/api&quot;,\n    &quot;default&quot;:  true\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-12&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-12.0.2&quot;\n   },\n   {\n    &quot;name&quot;: &quot;JavaSE-13&quot;,\n    &quot;path&quot;: &quot;/usr/local/jdk-13&quot;\n   }\n]\n</code></pre>\n<ul>\n<li><a href=\"https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-project#_configure-runtime-for-projects</a></li>\n</ul>\n"}],"owner":{"account_id":19484073,"reputation":5,"user_id":14253788,"display_name":"Aryayan Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695020296,"creation_date":1694793955,"question_id":77113854,"body_markdown":"I have install Flutter and set up Android SDK. But know I am facing this issue.\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\nException: Gradle task assembleDebug failed with exit code 1\r\n```\r\nWhen I looked for the solutions online, all the videos gave the solution to delete jre folder in Android Studio. But I don&#39;t have it and I use only VS Code. Please help me out with a step by step solution.[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0IRg9.png","title":"The supplied javaHome seems to be invalid in VS Code","body":"<p>I have install Flutter and set up Android SDK. But know I am facing this issue.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nThe supplied javaHome seems to be invalid. I cannot find the java executable. Tried location: C:\\Program Files\\Java\\jdk-20\\bin\\java.exe\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>When I looked for the solutions online, all the videos gave the solution to delete jre folder in Android Studio. But I don't have it and I use only VS Code. Please help me out with a step by step solution.<a href=\"https://i.stack.imgur.com/0IRg9.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9815,"page":177,"page_size":100}
