{"items":[{"tags":["java","casting"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1695128151,"post_id":77134734,"comment_id":135980232,"body_markdown":"Add all information as text not as image","body":"Add all information as text not as image"}],"answers":[{"comments":[{"owner":{"account_id":26500086,"reputation":67,"user_id":20137178,"display_name":"Markus helb&#230;k"},"score":0,"creation_date":1695131950,"post_id":77134791,"comment_id":135981106,"body_markdown":"WOW! Thanks so much. This is a way better solution :). However, do you have any pointers on how to add gson to our module? \n\nour module-info.java :\n\n`module ui {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires gson;\n    \n\n    opens ui.controllers to javafx.graphics, javafx.fxml;\n    opens ui to javafx.graphics, javafx.fxml;\n}\n`\nIs this a total misunderstanding on how modularity works? The package for the ReadAndWrite.java is core.","body":"WOW! Thanks so much. This is a way better solution :). However, do you have any pointers on how to add gson to our module?   our module-info.java :  <code>module ui {     requires javafx.controls;     requires javafx.fxml;     requires gson;           opens ui.controllers to javafx.graphics, javafx.fxml;     opens ui to javafx.graphics, javafx.fxml; } </code> Is this a total misunderstanding on how modularity works? The package for the ReadAndWrite.java is core."},{"owner":{"account_id":26500086,"reputation":67,"user_id":20137178,"display_name":"Markus helb&#230;k"},"score":1,"creation_date":1695134082,"post_id":77134791,"comment_id":135981575,"body_markdown":"Forget it, I figured it out. Thanks again!","body":"Forget it, I figured it out. Thanks again!"}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695128486,"creation_date":1695128486,"answer_id":77134791,"question_id":77134734,"body_markdown":"The type safety warnings you are encountering are because you are working with collections of ***HashMap&lt;String, Object&gt;*** and trying to cast them to more specific types. While this casting can be done, it&#39;s not type-safe because the generic types of your collections are not explicitly defined, leading to unchecked type conversions.\r\n\r\nTo get rid of these type safety warnings, you should consider using JSON libraries that allow you to work with Java objects directly, such as Google&#39;s ***Gson*** or ***Jackson***. These libraries will allow you to map your JSON data directly to Java classes and avoid casting issues.\r\n\r\nHere&#39;s how you can refactor your code using the Gson library:    \r\n\r\n 1. Add the Gson dependency to your project if you haven&#39;t already\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n 2. Refactor your ReadAndWrite class to use Gson:\r\n\r\n```\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.reflect.TypeToken;\r\n\r\npublic class ReadAndWrite {\r\n    private static String dummyName = &quot;dummyName&quot;;\r\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\r\n    private Gson gson = new Gson();\r\n\r\n    // ...\r\n\r\n    public void writeWorkoutToUser(Workout workout) {\r\n        List&lt;User&gt; existingData = readDataFromFile();\r\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n\r\n        User user;\r\n\r\n        if (existingData == null || existingData.isEmpty()) {\r\n            user = new User(dummyName);\r\n        } else {\r\n            user = existingData.get(0);\r\n        }\r\n\r\n        user.addWorkout(workout);\r\n        users.add(user);\r\n\r\n        String jsonFormat = gson.toJson(users);\r\n\r\n        try (FileWriter file = new FileWriter(fileLocation)) {\r\n            file.write(jsonFormat);\r\n            file.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private List&lt;User&gt; readDataFromFile() {\r\n        try (FileReader reader = new FileReader(fileLocation)) {\r\n            if (reader.ready()) {\r\n                List&lt;User&gt; users = gson.fromJson(reader, new TypeToken&lt;List&lt;User&gt;&gt;() {}.getType());\r\n                return users;\r\n            } else {\r\n                // The file can be empty; this is not an error.\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            // If it is not found, it will be created at a later point, so this is fine.\r\n            return null;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public User returnUserClassFromFile() {\r\n        List&lt;User&gt; users = readDataFromFile();\r\n\r\n        if (users == null || users.isEmpty()) {\r\n            return new User(dummyName);\r\n        }\r\n\r\n        return users.get(0);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWith this refactoring, you no longer need to cast between JSON collections and Java objects, making your code safer and more maintainable.\r\n","title":"Type safety: Unchecked cast from JSONArray to ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>The type safety warnings you are encountering are because you are working with collections of <em><strong>HashMap&lt;String, Object&gt;</strong></em> and trying to cast them to more specific types. While this casting can be done, it's not type-safe because the generic types of your collections are not explicitly defined, leading to unchecked type conversions.</p>\n<p>To get rid of these type safety warnings, you should consider using JSON libraries that allow you to work with Java objects directly, such as Google's <em><strong>Gson</strong></em> or <em><strong>Jackson</strong></em>. These libraries will allow you to map your JSON data directly to Java classes and avoid casting issues.</p>\n<p>Here's how you can refactor your code using the Gson library:</p>\n<ol>\n<li>Add the Gson dependency to your project if you haven't already</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10&lt;/version&gt; &lt;!-- Use the latest version --&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<ol start=\"2\">\n<li>Refactor your ReadAndWrite class to use Gson:</li>\n</ol>\n<pre><code>import com.google.gson.Gson;\nimport com.google.gson.reflect.TypeToken;\n\npublic class ReadAndWrite {\n    private static String dummyName = &quot;dummyName&quot;;\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\n    private Gson gson = new Gson();\n\n    // ...\n\n    public void writeWorkoutToUser(Workout workout) {\n        List&lt;User&gt; existingData = readDataFromFile();\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\n        User user;\n\n        if (existingData == null || existingData.isEmpty()) {\n            user = new User(dummyName);\n        } else {\n            user = existingData.get(0);\n        }\n\n        user.addWorkout(workout);\n        users.add(user);\n\n        String jsonFormat = gson.toJson(users);\n\n        try (FileWriter file = new FileWriter(fileLocation)) {\n            file.write(jsonFormat);\n            file.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private List&lt;User&gt; readDataFromFile() {\n        try (FileReader reader = new FileReader(fileLocation)) {\n            if (reader.ready()) {\n                List&lt;User&gt; users = gson.fromJson(reader, new TypeToken&lt;List&lt;User&gt;&gt;() {}.getType());\n                return users;\n            } else {\n                // The file can be empty; this is not an error.\n            }\n        } catch (FileNotFoundException e) {\n            // If it is not found, it will be created at a later point, so this is fine.\n            return null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    public User returnUserClassFromFile() {\n        List&lt;User&gt; users = readDataFromFile();\n\n        if (users == null || users.isEmpty()) {\n            return new User(dummyName);\n        }\n\n        return users.get(0);\n    }\n}\n\n</code></pre>\n<p>With this refactoring, you no longer need to cast between JSON collections and Java objects, making your code safer and more maintainable.</p>\n"}],"owner":{"account_id":26500086,"reputation":67,"user_id":20137178,"display_name":"Markus helb&#230;k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134791,"answer_count":1,"score":1,"last_activity_date":1695128486,"creation_date":1695128067,"question_id":77134734,"body_markdown":"In one of my programming courses, I was given the task of creating a class that reads and writes json to a file.\r\n\r\nI used the json.simple library, but quickly realized that almost all lines received a &quot;Type safety warning&quot;?\r\n\r\nI then tried to use ArrayList and HashMap as much as possible since JSONObject and JSONArray extender these. From what I understood, this was an issue.\r\n\r\nI am quite new to programming and would greatly appreciate being some tips, also when it comes to how I solved the task.\r\n\r\nHow do I get rid of these type of saftey warnings?\r\n\r\nMy code : \r\n\r\n`\r\n```\r\n//imports\r\nimport org.json.simple.JSONObject;\r\nimport org.json.simple.parser.JSONParser;\r\nimport org.json.simple.JSONArray;\r\nimport org.json.simple.parser.ParseException;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.time.LocalDate;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class ReadAndWrite {\r\n    /**\r\n     * This is a class for reading and writing to the userData file stored in the users home directory.\r\n     * The file is stored in json format. The classes are first converted to json format and then written to the file.\r\n     * The classes are then read from the file and converted back to the classes.\r\n     */\r\n\r\n    /**\r\n     * For the first version of the application we will only have one user. \r\n     * This is why we have a dummy name for the user. To parse the classes to json\r\n     * we are using the json-simple library. JSONObjects \r\n     */\r\n    private static String dummyName = &quot;dummyName&quot;;\r\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\r\n    private JSONParser parser = new JSONParser();\r\n    private Collection&lt;User&gt; userClasses = new ArrayList&lt;User&gt;();\r\n    private Collection&lt;Workout&gt; workoutsClasses = new ArrayList&lt;Workout&gt;();\r\n    private Collection&lt;Exercise&gt; exercisesClasses = new ArrayList&lt;Exercise&gt;();\r\n    private Collection&lt;Set&gt; setsClasses = new ArrayList&lt;Set&gt;();\r\n    \r\n    \r\n    /**\r\n     * Private method for setting up a set class to json format.\r\n     * @param list of sets\r\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; sets in json format\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setSetsJsonArray(List&lt;Set&gt; list) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setsArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        int i = 0;\r\n        for (Set set : list) {\r\n            HashMap&lt;String, Object&gt; setJson = new HashMap&lt;String, Object&gt;();\r\n            setJson.put(&quot;setNumber&quot;, ++i);\r\n            setJson.put(&quot;weight&quot;, set.getWeight());\r\n            setJson.put(&quot;reps&quot;, set.getReps());\r\n            setsArray.add(setJson);\r\n        }\r\n        return setsArray;\r\n    }\r\n    /**\r\n     * Private method for setting up a exercise class to json format.\r\n     * @param list of exercises\r\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; exercises in json format\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setExercisesJsonArray(List&lt;Exercise&gt; list) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt;  exercisesArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        for (Exercise exercise : list) {\r\n            HashMap&lt;String, Object&gt; exerciseJson = new HashMap&lt;String, Object&gt;();\r\n            exerciseJson.put(&quot;exerciseName&quot;, exercise.getName());\r\n            exerciseJson.put(&quot;sets&quot;, setSetsJsonArray(exercise.getSets()));\r\n            exercisesArray.add(exerciseJson);\r\n        }\r\n        return exercisesArray;\r\n    }\r\n    /**\r\n     * Private method for setting up a workout class to json format.\r\n     * @param workout\r\n     * @return HashMap&lt;String, Object&gt; -&gt; workout in json format\r\n     */\r\n    private HashMap&lt;String, Object&gt; formatWorkoutClassToJson(Workout workout) {\r\n        HashMap&lt;String, Object&gt; workoutJson = new HashMap&lt;String, Object&gt;();\r\n        workoutJson.put(&quot;exercises&quot;, setExercisesJsonArray(workout.getExercises()));\r\n        workoutJson.put(&quot;date&quot;, workout.getDate().toString());\r\n        \r\n        return workoutJson;\r\n    }\r\n\r\n    //Writing a workout class to the userData file in json format\r\n    /** \r\n     * The method to be used for writing a workout class to the userData file in json format.\r\n     * @param workout\r\n     */\r\n    public void writeWorkoutToUser(Workout workout) {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; existingData = readDataFromFile();\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\r\n        \r\n        HashMap&lt;String, Object&gt; user = new HashMap&lt;String,Object&gt;();\r\n    \r\n        // Setting up user\r\n        if (existingData == null) {\r\n            user.put(&quot;name&quot;, dummyName);\r\n            user.put(&quot;workouts&quot;, new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;());\r\n        } else {\r\n            HashMap&lt;String, Object&gt; userDummy = existingData.get(0);\r\n            user = userDummy;\r\n        }\r\n    \r\n        // Adding to user\r\n        HashMap&lt;String, Object&gt; workoutInJSONFormat = this.formatWorkoutClassToJson(workout);\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\r\n        workoutsJsonArray.add(workoutInJSONFormat);\r\n    \r\n        users.add(user);\r\n        JSONArray jsonFormat = new JSONArray();\r\n        jsonFormat.addAll(users);\r\n    \r\n        try (FileWriter file = new FileWriter(fileLocation)) {    \r\n            file.write(jsonFormat.toJSONString()); \r\n            file.flush();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * Private method for reconstructing the user class from a JSONArray format.\r\n     * @param users JSONArray of users\r\n     * @return ArrayList of users, in our case there is only one user.\r\n     */\r\n    private ArrayList&lt;User&gt; classReconstructor(JSONArray users) {\r\n        for (Object userObject : users) {\r\n            JSONObject user = (JSONObject) userObject;\r\n            String name = (String) user.get(&quot;name&quot;);\r\n            \r\n            JSONArray workouts = (JSONArray) user.get(&quot;workouts&quot;);\r\n            for (Object workoutObject : workouts) {\r\n                JSONObject workout = (JSONObject) workoutObject;\r\n                LocalDate date = LocalDate.parse((String) workout.get(&quot;date&quot;));\r\n\r\n                JSONArray exercises = (JSONArray) workout.get(&quot;exercises&quot;);\r\n                for (Object exerciseObject : exercises) {\r\n                    JSONObject exercise = (JSONObject) exerciseObject;\r\n                    String exerciseName = (String) exercise.get(&quot;exerciseName&quot;);\r\n\r\n                    JSONArray sets = (JSONArray) exercise.get(&quot;sets&quot;);\r\n                    for (Object setObject : sets) {\r\n                        JSONObject set = (JSONObject) setObject;\r\n                        int weight = ((Long) set.get(&quot;weight&quot;)).intValue();\r\n                        int reps = ((Long) set.get(&quot;reps&quot;)).intValue();\r\n\r\n                        Set newSet = new Set(weight, reps);\r\n                        setsClasses.add(newSet);\r\n                    }\r\n                    Exercise newExercise = new Exercise(exerciseName);\r\n                    for (Set set : setsClasses) {\r\n                        newExercise.addSet(set);\r\n                    }\r\n                    exercisesClasses.add(newExercise);\r\n                }\r\n                Workout newWorkout = new Workout(date);\r\n                for (Exercise exercise : exercisesClasses) {\r\n                    newWorkout.addExercise(exercise);\r\n                }\r\n                workoutsClasses.add(newWorkout);\r\n            }\r\n            User newUser = new User(name);\r\n            for (Workout workout : workoutsClasses) {\r\n                newUser.addWorkout(workout);\r\n            }\r\n            userClasses.add(newUser);\r\n        }\r\n        return (ArrayList&lt;User&gt;) userClasses;\r\n    }\r\n\r\n    /**\r\n     * Private method for reading data from the file.\r\n     * @return JSONArray of all users. In our case there is only one user.\r\n     */\r\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; readDataFromFile() {\r\n        try (FileReader reader = new FileReader(fileLocation)){\r\n            if (reader.ready()) {\r\n                Object obj = parser.parse(reader);\r\n                JSONArray users = (JSONArray) obj;\r\n                \r\n                ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\r\n\r\n                return usersList;\r\n            } else {\r\n                //The file can be empty this is not an error, it just means that there is no data to read.\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            // If it is not found, it will be created at a later point, so this is fine\r\n            return null;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } catch (ParseException e){\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /** \r\n     * The method to be used for getting the user class from the file.\r\n     * @return User class\r\n     */\r\n    public User returnUserClassFromFile() {\r\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = readDataFromFile();\r\n        if (users == null) {\r\n            return new User(dummyName);\r\n        }\r\n        JSONArray usersJson = (JSONArray) users;\r\n        ArrayList&lt;User&gt; user = this.classReconstructor(usersJson);\r\n        User userClass = user.get(0);\r\n        return userClass;\r\n    }\r\n````\r\n\r\nWhere the issue appears: \r\n\r\n\r\n```\r\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\r\n\r\n```\r\n\r\n```\r\njsonFormat.addAll(users);\r\n\r\n```\r\n\r\n```\r\nArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\r\n\r\n```\r\n\r\nThe warning messages : \r\n[![enter image description here](https://i.stack.imgur.com/CyHf9.png)](https://i.stack.imgur.com/CyHf9.png)\r\n\r\n\r\nI have tried to use ArrayList and HashMap insted of JSONArray and JSONObject","title":"Type safety: Unchecked cast from JSONArray to ArrayList&lt;HashMap&lt;String, Object&gt;&gt;","body":"<p>In one of my programming courses, I was given the task of creating a class that reads and writes json to a file.</p>\n<p>I used the json.simple library, but quickly realized that almost all lines received a &quot;Type safety warning&quot;?</p>\n<p>I then tried to use ArrayList and HashMap as much as possible since JSONObject and JSONArray extender these. From what I understood, this was an issue.</p>\n<p>I am quite new to programming and would greatly appreciate being some tips, also when it comes to how I solved the task.</p>\n<p>How do I get rid of these type of saftey warnings?</p>\n<p>My code :</p>\n<p>`</p>\n<pre><code>//imports\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.JSONArray;\nimport org.json.simple.parser.ParseException;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class ReadAndWrite {\n    /**\n     * This is a class for reading and writing to the userData file stored in the users home directory.\n     * The file is stored in json format. The classes are first converted to json format and then written to the file.\n     * The classes are then read from the file and converted back to the classes.\n     */\n\n    /**\n     * For the first version of the application we will only have one user. \n     * This is why we have a dummy name for the user. To parse the classes to json\n     * we are using the json-simple library. JSONObjects \n     */\n    private static String dummyName = &quot;dummyName&quot;;\n    private static String fileLocation = System.getProperty(&quot;user.home&quot;) + System.getProperty(&quot;file.separator&quot;) + &quot;loftUserData.json&quot;;\n    private JSONParser parser = new JSONParser();\n    private Collection&lt;User&gt; userClasses = new ArrayList&lt;User&gt;();\n    private Collection&lt;Workout&gt; workoutsClasses = new ArrayList&lt;Workout&gt;();\n    private Collection&lt;Exercise&gt; exercisesClasses = new ArrayList&lt;Exercise&gt;();\n    private Collection&lt;Set&gt; setsClasses = new ArrayList&lt;Set&gt;();\n    \n    \n    /**\n     * Private method for setting up a set class to json format.\n     * @param list of sets\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; sets in json format\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setSetsJsonArray(List&lt;Set&gt; list) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setsArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        int i = 0;\n        for (Set set : list) {\n            HashMap&lt;String, Object&gt; setJson = new HashMap&lt;String, Object&gt;();\n            setJson.put(&quot;setNumber&quot;, ++i);\n            setJson.put(&quot;weight&quot;, set.getWeight());\n            setJson.put(&quot;reps&quot;, set.getReps());\n            setsArray.add(setJson);\n        }\n        return setsArray;\n    }\n    /**\n     * Private method for setting up a exercise class to json format.\n     * @param list of exercises\n     * @return ArrayList&lt;HashMap&lt;String, Object&gt;&gt; -&gt; exercises in json format\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; setExercisesJsonArray(List&lt;Exercise&gt; list) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt;  exercisesArray = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        for (Exercise exercise : list) {\n            HashMap&lt;String, Object&gt; exerciseJson = new HashMap&lt;String, Object&gt;();\n            exerciseJson.put(&quot;exerciseName&quot;, exercise.getName());\n            exerciseJson.put(&quot;sets&quot;, setSetsJsonArray(exercise.getSets()));\n            exercisesArray.add(exerciseJson);\n        }\n        return exercisesArray;\n    }\n    /**\n     * Private method for setting up a workout class to json format.\n     * @param workout\n     * @return HashMap&lt;String, Object&gt; -&gt; workout in json format\n     */\n    private HashMap&lt;String, Object&gt; formatWorkoutClassToJson(Workout workout) {\n        HashMap&lt;String, Object&gt; workoutJson = new HashMap&lt;String, Object&gt;();\n        workoutJson.put(&quot;exercises&quot;, setExercisesJsonArray(workout.getExercises()));\n        workoutJson.put(&quot;date&quot;, workout.getDate().toString());\n        \n        return workoutJson;\n    }\n\n    //Writing a workout class to the userData file in json format\n    /** \n     * The method to be used for writing a workout class to the userData file in json format.\n     * @param workout\n     */\n    public void writeWorkoutToUser(Workout workout) {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; existingData = readDataFromFile();\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;();\n        \n        HashMap&lt;String, Object&gt; user = new HashMap&lt;String,Object&gt;();\n    \n        // Setting up user\n        if (existingData == null) {\n            user.put(&quot;name&quot;, dummyName);\n            user.put(&quot;workouts&quot;, new ArrayList&lt;HashMap&lt;String, Object&gt;&gt;());\n        } else {\n            HashMap&lt;String, Object&gt; userDummy = existingData.get(0);\n            user = userDummy;\n        }\n    \n        // Adding to user\n        HashMap&lt;String, Object&gt; workoutInJSONFormat = this.formatWorkoutClassToJson(workout);\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\n        workoutsJsonArray.add(workoutInJSONFormat);\n    \n        users.add(user);\n        JSONArray jsonFormat = new JSONArray();\n        jsonFormat.addAll(users);\n    \n        try (FileWriter file = new FileWriter(fileLocation)) {    \n            file.write(jsonFormat.toJSONString()); \n            file.flush();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    /**\n     * Private method for reconstructing the user class from a JSONArray format.\n     * @param users JSONArray of users\n     * @return ArrayList of users, in our case there is only one user.\n     */\n    private ArrayList&lt;User&gt; classReconstructor(JSONArray users) {\n        for (Object userObject : users) {\n            JSONObject user = (JSONObject) userObject;\n            String name = (String) user.get(&quot;name&quot;);\n            \n            JSONArray workouts = (JSONArray) user.get(&quot;workouts&quot;);\n            for (Object workoutObject : workouts) {\n                JSONObject workout = (JSONObject) workoutObject;\n                LocalDate date = LocalDate.parse((String) workout.get(&quot;date&quot;));\n\n                JSONArray exercises = (JSONArray) workout.get(&quot;exercises&quot;);\n                for (Object exerciseObject : exercises) {\n                    JSONObject exercise = (JSONObject) exerciseObject;\n                    String exerciseName = (String) exercise.get(&quot;exerciseName&quot;);\n\n                    JSONArray sets = (JSONArray) exercise.get(&quot;sets&quot;);\n                    for (Object setObject : sets) {\n                        JSONObject set = (JSONObject) setObject;\n                        int weight = ((Long) set.get(&quot;weight&quot;)).intValue();\n                        int reps = ((Long) set.get(&quot;reps&quot;)).intValue();\n\n                        Set newSet = new Set(weight, reps);\n                        setsClasses.add(newSet);\n                    }\n                    Exercise newExercise = new Exercise(exerciseName);\n                    for (Set set : setsClasses) {\n                        newExercise.addSet(set);\n                    }\n                    exercisesClasses.add(newExercise);\n                }\n                Workout newWorkout = new Workout(date);\n                for (Exercise exercise : exercisesClasses) {\n                    newWorkout.addExercise(exercise);\n                }\n                workoutsClasses.add(newWorkout);\n            }\n            User newUser = new User(name);\n            for (Workout workout : workoutsClasses) {\n                newUser.addWorkout(workout);\n            }\n            userClasses.add(newUser);\n        }\n        return (ArrayList&lt;User&gt;) userClasses;\n    }\n\n    /**\n     * Private method for reading data from the file.\n     * @return JSONArray of all users. In our case there is only one user.\n     */\n    private ArrayList&lt;HashMap&lt;String, Object&gt;&gt; readDataFromFile() {\n        try (FileReader reader = new FileReader(fileLocation)){\n            if (reader.ready()) {\n                Object obj = parser.parse(reader);\n                JSONArray users = (JSONArray) obj;\n                \n                ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\n\n                return usersList;\n            } else {\n                //The file can be empty this is not an error, it just means that there is no data to read.\n            }\n        } catch (FileNotFoundException e) {\n            // If it is not found, it will be created at a later point, so this is fine\n            return null;\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (ParseException e){\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n    /** \n     * The method to be used for getting the user class from the file.\n     * @return User class\n     */\n    public User returnUserClassFromFile() {\n        ArrayList&lt;HashMap&lt;String, Object&gt;&gt; users = readDataFromFile();\n        if (users == null) {\n            return new User(dummyName);\n        }\n        JSONArray usersJson = (JSONArray) users;\n        ArrayList&lt;User&gt; user = this.classReconstructor(usersJson);\n        User userClass = user.get(0);\n        return userClass;\n    }\n</code></pre>\n<p>Where the issue appears:</p>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; workoutsJsonArray = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) user.get(&quot;workouts&quot;);\n\n</code></pre>\n<pre><code>jsonFormat.addAll(users);\n\n</code></pre>\n<pre><code>ArrayList&lt;HashMap&lt;String, Object&gt;&gt; usersList = (ArrayList&lt;HashMap&lt;String, Object&gt;&gt;) users;\n\n</code></pre>\n<p>The warning messages :\n<a href=\"https://i.stack.imgur.com/CyHf9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CyHf9.png\" alt=\"enter image description here\" /></a></p>\n<p>I have tried to use ArrayList and HashMap insted of JSONArray and JSONObject</p>\n"},{"tags":["java","spring","spring-boot","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1695004865,"post_id":77124243,"comment_id":135961545,"body_markdown":"Is it possible to have a more complete example, rather than trying to imagine it from the description? [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example). For example, at the moment I can&#39;t tell whether something like a Future, a Semaphore or a CyclicBarrier would be appropriate.","body":"Is it possible to have a more complete example, rather than trying to imagine it from the description? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>. For example, at the moment I can&#39;t tell whether something like a Future, a Semaphore or a CyclicBarrier would be appropriate."},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695007700,"post_id":77124243,"comment_id":135961704,"body_markdown":"@scrhartley See updated code above? Does that help?","body":"@scrhartley See updated code above? Does that help?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695008782,"post_id":77124243,"comment_id":135961760,"body_markdown":"Do you mean [subscribe](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-java.util.function.Consumer-), rather then `onSubscribe`? Or am I looking in the wrong place?","body":"Do you mean <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#subscribe-java.util.function.Consumer-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">subscribe</a>, rather then <code>onSubscribe</code>? Or am I looking in the wrong place?"},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695008888,"post_id":77124243,"comment_id":135961767,"body_markdown":"@scrhartley Yes, you&#39;re right. I corrected it.","body":"@scrhartley Yes, you&#39;re right. I corrected it."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":1,"creation_date":1695009120,"post_id":77124243,"comment_id":135961783,"body_markdown":"I&#39;m currently trying to find something nicer that a [CountDownLatch](https://www.baeldung.com/java-countdown-latch)","body":"I&#39;m currently trying to find something nicer that a <a href=\"https://www.baeldung.com/java-countdown-latch\" rel=\"nofollow noreferrer\">CountDownLatch</a>"},{"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"score":0,"creation_date":1695009712,"post_id":77124243,"comment_id":135961817,"body_markdown":"@scrhartley How do you pass the CountdownLatch to the callbacks?","body":"@scrhartley How do you pass the CountdownLatch to the callbacks?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695127507,"post_id":77124243,"comment_id":135980085,"body_markdown":"Just a thought: do you actually need the callbacks or can you instead use Mono.block() and then do everything with imperative code: `String response1 = client1.post().block();`","body":"Just a thought: do you actually need the callbacks or can you instead use Mono.block() and then do everything with imperative code: <code>String response1 = client1.post().block();</code>"}],"answers":[{"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695013236,"post_id":77124611,"comment_id":135962068,"body_markdown":"Why are you swallowing `IterruptedException` instead of marking the thread as interrupted?","body":"Why are you swallowing <code>IterruptedException</code> instead of marking the thread as interrupted?"},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695013715,"post_id":77124611,"comment_id":135962107,"body_markdown":"1. InterruptedException doesn&#39;t tend to happen and even if you try hard, some part of the library chain won&#39;t handle it properly anyway 2. I didn&#39;t want to scare anyone off from the code. 3. There&#39;s not necessarily one way handle it e.g. maybe you would log it there-and-then, or maybe you rethrow after resetting the flag.","body":"1. InterruptedException doesn&#39;t tend to happen and even if you try hard, some part of the library chain won&#39;t handle it properly anyway 2. I didn&#39;t want to scare anyone off from the code. 3. There&#39;s not necessarily one way handle it e.g. maybe you would log it there-and-then, or maybe you rethrow after resetting the flag."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695016400,"post_id":77124611,"comment_id":135962359,"body_markdown":"It will be great to provide some more information in your answer about thread interruption. If that code is running on a user-created thread, the interrupted exception can be swallowed according to user-specific interruption policy. By &quot;user-created&quot; I mean `new Thread(runnable).start()`. But I think that creating a new thread in which there will be a `CountdownLatch` or `CompletableFuture` is a kind of overhead. And if that code is running on a Spring thread you should not swallow the `InterruptedException` because you don&#39;t know Spring&#39;s interruption policy.","body":"It will be great to provide some more information in your answer about thread interruption. If that code is running on a user-created thread, the interrupted exception can be swallowed according to user-specific interruption policy. By &quot;user-created&quot; I mean <code>new Thread(runnable).start()</code>. But I think that creating a new thread in which there will be a <code>CountdownLatch</code> or <code>CompletableFuture</code> is a kind of overhead. And if that code is running on a Spring thread you should not swallow the <code>InterruptedException</code> because you don&#39;t know Spring&#39;s interruption policy."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695039679,"post_id":77124611,"comment_id":135966551,"body_markdown":"This example is trying to synchronize across threads and I introduced mechanisms for synchronizing across threads (ultimately, reactive is backed by a thread pool). I don&#39;t create any new threads, just use the existing language features (probably some CAS involved). I don&#39;t claim my handling of the InterruptedException is optimal. I will note that in Oracle&#39;s [Javadoc example](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html) they either declare the exception (which we can&#39;t do here since it&#39;s a `Runnable`) or do the same as I have.","body":"This example is trying to synchronize across threads and I introduced mechanisms for synchronizing across threads (ultimately, reactive is backed by a thread pool). I don&#39;t create any new threads, just use the existing language features (probably some CAS involved). I don&#39;t claim my handling of the InterruptedException is optimal. I will note that in Oracle&#39;s <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">Javadoc example</a> they either declare the exception (which we can&#39;t do here since it&#39;s a <code>Runnable</code>) or do the same as I have."},{"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"score":0,"creation_date":1695128435,"post_id":77124611,"comment_id":135980278,"body_markdown":"Updated answer to include using Mono.block()","body":"Updated answer to include using Mono.block()"}],"tags":[],"owner":{"account_id":27243397,"reputation":1331,"user_id":20769158,"display_name":"scrhartley"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695128274,"creation_date":1695012465,"answer_id":77124611,"question_id":77124243,"body_markdown":"Here is an example using `CompletableFuture`. It uses the third parameter for `Mono.subscribe` to let the future know when it&#39;s done.\r\n```java\r\n@Override\r\npublic void run() {\r\n    Mono&lt;String&gt; response1 = client1.post();\r\n    CompletableFuture&lt;?&gt; future1 = new CompletableFuture&lt;&gt;();\r\n    response1.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; future1.complete(null));\r\n\r\n    Mono&lt;String&gt; response2 = client2.post();\r\n    CompletableFuture&lt;?&gt; future2 = new CompletableFuture&lt;&gt;();\r\n    response2.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; future2.complete(null));\r\n\r\n    Mono&lt;String&gt; responseX = clientX.post();\r\n    CompletableFuture&lt;?&gt; futureX = new CompletableFuture&lt;&gt;();\r\n    responseX.subscribe(\r\n\t\t\t\tnew MyResponseCallback(), new MyErrorCallback(),\r\n\t\t\t\t() -&gt; futureX.complete(null));\r\n    \r\n    CompletableFuture.allOf(future1, future2, futureX).join();\r\n}\r\n```\r\nHere is a `CountDownLatch` example:\r\n```java\r\n@Override\r\npublic void run() {\r\n    CountDownLatch latch = new CountDownLatch(3);\r\n\r\n    Mono&lt;String&gt; response1 = client1.post();\r\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n\r\n    Mono&lt;String&gt; response2 = client2.post();\r\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n\r\n    Mono&lt;String&gt; responseX = clientX.post();\r\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\r\n    \r\n    try {\r\n        latch.await();\r\n    } catch (InterruptedException ex) {}\r\n}\r\n```\r\nAnother `CompletableFuture` example:\r\n```java\r\n@Override\r\npublic void run() {\r\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n\tSupplier&lt;Runnable&gt; onDone = () -&gt; {\r\n\t\tCompletableFuture&lt;?&gt; future = new CompletableFuture&lt;&gt;();\r\n\t\tfutures.add(future);\r\n\t\treturn () -&gt; future.complete(null);\r\n\t};\r\n\r\n\tMono&lt;String&gt; response1 = client1.post();\r\n\tresponse1.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tMono&lt;String&gt; response2 = client2.post();\r\n\tresponse2.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tMono&lt;String&gt; responseX = clientX.post();\r\n\tresponseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\r\n\r\n\tCompletableFuture.allOf(futures.toArray(CompletableFuture[]::new)).join();\r\n}\r\n```\r\nAre all the callbacks actually required?\r\n```java\r\n@Override\r\npublic void run() {\r\n    // Make requests\r\n    Mono&lt;String&gt; responseMono1 = client1.post();\r\n    Mono&lt;String&gt; responseMono2 = client2.post();\r\n    Mono&lt;String&gt; responseMonoX = clientX.post();\r\n    try {\r\n        // Wait for requests to complete\r\n        String response1 = responseMono1.block();\r\n        String response2 = responseMono2.block();\r\n        String responseX = responseMonoX.block();\r\n\r\n        ...\r\n    }\r\n    catch (RuntimeException e) {\r\n        ...\r\n    }\r\n}\r\n```","title":"Sleeping in Spring Boot","body":"<p>Here is an example using <code>CompletableFuture</code>. It uses the third parameter for <code>Mono.subscribe</code> to let the future know when it's done.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    Mono&lt;String&gt; response1 = client1.post();\n    CompletableFuture&lt;?&gt; future1 = new CompletableFuture&lt;&gt;();\n    response1.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; future1.complete(null));\n\n    Mono&lt;String&gt; response2 = client2.post();\n    CompletableFuture&lt;?&gt; future2 = new CompletableFuture&lt;&gt;();\n    response2.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; future2.complete(null));\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    CompletableFuture&lt;?&gt; futureX = new CompletableFuture&lt;&gt;();\n    responseX.subscribe(\n                new MyResponseCallback(), new MyErrorCallback(),\n                () -&gt; futureX.complete(null));\n    \n    CompletableFuture.allOf(future1, future2, futureX).join();\n}\n</code></pre>\n<p>Here is a <code>CountDownLatch</code> example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    CountDownLatch latch = new CountDownLatch(3);\n\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n\n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), latch::countDown);\n    \n    try {\n        latch.await();\n    } catch (InterruptedException ex) {}\n}\n</code></pre>\n<p>Another <code>CompletableFuture</code> example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    List&lt;CompletableFuture&lt;?&gt;&gt; futures = new ArrayList&lt;&gt;();\n    Supplier&lt;Runnable&gt; onDone = () -&gt; {\n        CompletableFuture&lt;?&gt; future = new CompletableFuture&lt;&gt;();\n        futures.add(future);\n        return () -&gt; future.complete(null);\n    };\n\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback(), onDone.get());\n\n    CompletableFuture.allOf(futures.toArray(CompletableFuture[]::new)).join();\n}\n</code></pre>\n<p>Are all the callbacks actually required?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void run() {\n    // Make requests\n    Mono&lt;String&gt; responseMono1 = client1.post();\n    Mono&lt;String&gt; responseMono2 = client2.post();\n    Mono&lt;String&gt; responseMonoX = clientX.post();\n    try {\n        // Wait for requests to complete\n        String response1 = responseMono1.block();\n        String response2 = responseMono2.block();\n        String responseX = responseMonoX.block();\n\n        ...\n    }\n    catch (RuntimeException e) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695018059,"creation_date":1695018059,"answer_id":77124919,"question_id":77124243,"body_markdown":"You are using reactive programming but forget about that and try to solve it imperativly. You don&#39;t need to sleep, utilize the features you have with Project Reactor instead. \r\n\r\nYou can use `zip` to combine the result of different `Mono` together, then `map` the result into what you need. No need to check a `boolean` use countdown latches etc. \r\n\r\n```java\r\nMono&lt;String&gt; response1 = client1.post();   \r\nMono&lt;String&gt; response2 = client2.post();\r\nMono&lt;String&gt; responseX = clientX.post();\r\nMono&lt;String&gt; result = Mono\r\n  .zip(response1, response2, response3)\r\n  .map(//dosomething with the result of the 3 mono&#39;s)\r\n  .subscribe();\r\n```\r\n\r\nWhat you are doing in your `Consumer` is a bit unclear, but you can probably use a `map` for that as well on each `Mono` (or if it is just to set a boolean you can remove them). ","title":"Sleeping in Spring Boot","body":"<p>You are using reactive programming but forget about that and try to solve it imperativly. You don't need to sleep, utilize the features you have with Project Reactor instead.</p>\n<p>You can use <code>zip</code> to combine the result of different <code>Mono</code> together, then <code>map</code> the result into what you need. No need to check a <code>boolean</code> use countdown latches etc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;String&gt; response1 = client1.post();   \nMono&lt;String&gt; response2 = client2.post();\nMono&lt;String&gt; responseX = clientX.post();\nMono&lt;String&gt; result = Mono\n  .zip(response1, response2, response3)\n  .map(//dosomething with the result of the 3 mono's)\n  .subscribe();\n</code></pre>\n<p>What you are doing in your <code>Consumer</code> is a bit unclear, but you can probably use a <code>map</code> for that as well on each <code>Mono</code> (or if it is just to set a boolean you can remove them).</p>\n"}],"owner":{"account_id":6123024,"reputation":171,"user_id":4775976,"display_name":"Software"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77124611,"answer_count":2,"score":1,"last_activity_date":1695128274,"creation_date":1695002998,"question_id":77124243,"body_markdown":"I have a task scheduled (@EnableSceduling) in a Spring Boot web service that repeats on a regular basis. When that task fires, it calls the registered object&#39;s Runnable/run method. In that run method, I need to do work and not exit that run method until the work is completed. The problem is that I have other threads doing other work that is needed by this run thread for its work. So in the run thread I have something like this:\r\n\r\n    @Component\r\n    public class DoWork implements Runnable {\r\n        \r\n        @override\r\n        public void run() {\r\n        \r\n        // Setup clients.\r\n\r\n        // Call services.\r\n        Mono&lt;String&gt; response1 = client1.post();\r\n        response1.subscribe(new MyResponseCallback(), new MyErrorCallback()); \r\n        \r\n        Mono&lt;String&gt; response2 = client2.post();\r\n        response2.subscribe(new MyResponseCallback(), new MyErrorCallback()); \r\n\r\n        Mono&lt;String&gt; responseX = clientX.post();\r\n        responseX.subscribe(new MyResponseCallback(), new MyErrorCallback());\r\n            \r\n        while(callbacksWorkCompletedFlag == false) {\r\n            \r\n                Thread.sleep (1000);\r\n            }\r\n\r\n            // Do computation with callback responses.\r\n  \r\n            // After computation is completed, exit run method.\r\n        }\r\n    }\r\n\r\n-------------\r\n\r\n\r\n    public class MyResponseCallback implements Consumer&lt;String&gt; {\r\n        \r\n        @override\r\n        public void accept (final Sting response) {\r\n        \r\n            // Do work with response.\r\n        }\r\n    }\r\n\r\n-------------\r\n\r\n\r\n    public class MyErrorCallback implements Consumer&lt;Throwable&gt; {\r\n        \r\n        @override\r\n        public void accept (final Throwable error) {\r\n        \r\n            // Log error.\r\n        }\r\n    }\r\n\r\nIs there a better way to do this in Java/Spring boot?\r\n","title":"Sleeping in Spring Boot","body":"<p>I have a task scheduled (@EnableSceduling) in a Spring Boot web service that repeats on a regular basis. When that task fires, it calls the registered object's Runnable/run method. In that run method, I need to do work and not exit that run method until the work is completed. The problem is that I have other threads doing other work that is needed by this run thread for its work. So in the run thread I have something like this:</p>\n<pre><code>@Component\npublic class DoWork implements Runnable {\n    \n    @override\n    public void run() {\n    \n    // Setup clients.\n\n    // Call services.\n    Mono&lt;String&gt; response1 = client1.post();\n    response1.subscribe(new MyResponseCallback(), new MyErrorCallback()); \n    \n    Mono&lt;String&gt; response2 = client2.post();\n    response2.subscribe(new MyResponseCallback(), new MyErrorCallback()); \n\n    Mono&lt;String&gt; responseX = clientX.post();\n    responseX.subscribe(new MyResponseCallback(), new MyErrorCallback());\n        \n    while(callbacksWorkCompletedFlag == false) {\n        \n            Thread.sleep (1000);\n        }\n\n        // Do computation with callback responses.\n\n        // After computation is completed, exit run method.\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class MyResponseCallback implements Consumer&lt;String&gt; {\n    \n    @override\n    public void accept (final Sting response) {\n    \n        // Do work with response.\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class MyErrorCallback implements Consumer&lt;Throwable&gt; {\n    \n    @override\n    public void accept (final Throwable error) {\n    \n        // Log error.\n    }\n}\n</code></pre>\n<p>Is there a better way to do this in Java/Spring boot?</p>\n"},{"tags":["java","spring-boot","hateoas"],"owner":{"account_id":29481726,"reputation":1,"user_id":22592436,"display_name":"Olivier Perrin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695128093,"creation_date":1695126468,"question_id":77134559,"body_markdown":"I&#39;ve read the following reference ([https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded](https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded)) and I tried to change the array name in the `_embedded` tag.\r\n\r\nI don&#39;t want to put any reference to the (Spring) framework in my domain object (using `@Relation`).\r\n\r\nNor I don&#39;t want to use a specific library (evo-inflector) in my build file.\r\n\r\nI&#39;m also using an `Assembler` to put the correct links in my response:\r\n\r\n```\r\n@Component\r\npublic class OrderModelAssembler\r\n                implements RepresentationModelAssembler&lt;ProductionOrder, EntityModel&lt;ProductionOrder&gt;&gt; {\r\n\r\n        @Override\r\n        public EntityModel&lt;ProductionOrder&gt; toModel(ProductionOrder order) {\r\n                var model = EntityModel.of(order);\r\n                switch (order.getState()) {\r\n                        case DRAFT:\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).rename(order.getId(), null))\r\n                                                .withRel(URIConstants.REL_RENAME));\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).submit(order.getId()))\r\n                                                .withRel(URIConstants.REL_SUBMIT));\r\n                                break;\r\n                        case SUBMITTED:\r\n                                model.add(linkTo(methodOn(ProductionOrderController.class).accept(order.getId(), null))\r\n                                                .withRel(URIConstants.REL_ACCEPT));\r\n                                break;\r\n                        case ACCEPTED:\r\n                                break;\r\n                }\r\n           return model;\r\n        }\r\n\r\n        @Override\r\n        public CollectionModel&lt;EntityModel&lt;ProductionOrder&gt;&gt; toCollectionModel(\r\n                        Iterable&lt;? extends ProductionOrder&gt; entities) {\r\n\r\n                var productionModel = StreamSupport\r\n                        .stream(entities.spliterator(), false)\r\n                        .map(this::toModel)\r\n                        .toList();\r\n                return CollectionModel.of(productionModel,\r\n                                linkTo(methodOn(ProductionOrderController.class)\r\n                                                .getAllOrders()).withSelfRel());\r\n        }\r\n\r\n}\r\n```\r\n\r\nI tried to add the following bean in my main class, but with no success.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\r\n@Configuration\r\npublic class ProductionOrdersApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ProductionOrdersApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tLinkRelationProvider relProvider() {\r\n\t\treturn new LinkRelationProvider() {\r\n\t\t\t@Override\r\n\t\t\tpublic LinkRelation getItemResourceRelFor(Class&lt;?&gt; type) {\r\n\t\t\t\treturn LinkRelation.of(&quot;productionOrder&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic LinkRelation getCollectionResourceRelFor(Class&lt;?&gt; type) {\r\n\t\t\t\treturn LinkRelation.of(&quot;productionOrders&quot;);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve read the section in the Hateoas guide, where the 4 possibilities are those I tried.\r\n\r\nCan you explain how to modify the array name in the `_embedded` tag using the `RelProvider` interface in order to obtain the following result:\r\n\r\n```\r\n{\r\n    &quot;_embedded&quot;: {\r\n        &quot;productionOrders&quot;: [\r\n            {\r\n                &quot;_links&quot;: {\r\n                    &quot;rename&quot;: {\r\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/rename&quot;\r\n                    },\r\n                    &quot;submit&quot;: {\r\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/submit&quot;\r\n                    }\r\n                },\r\n                &quot;expectedCompletionDate&quot;: &quot;1970-01-01&quot;,\r\n                &quot;id&quot;: &quot;46ceb9a6-e6d5-4be8-9534-c1f2348b7592&quot;,\r\n                &quot;name&quot;: &quot;A test order&quot;,\r\n                &quot;state&quot;: &quot;DRAFT&quot;\r\n            }\r\n        ]\r\n    },\r\n    &quot;_links&quot;: {\r\n        &quot;self&quot;: {\r\n            &quot;href&quot;: &quot;http://localhost:8080/productionOrders&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThanks\r\n\r\nOlivier","title":"Spring HATEOAS: change array name in _embedded using RelProvider","body":"<p>I've read the following reference (<a href=\"https://stackoverflow.com/questions/28834796/spring-hateoas-hal-change-array-name-in-embedded\">Spring HATEOAS &amp; HAL: Change array name in _embedded</a>) and I tried to change the array name in the <code>_embedded</code> tag.</p>\n<p>I don't want to put any reference to the (Spring) framework in my domain object (using <code>@Relation</code>).</p>\n<p>Nor I don't want to use a specific library (evo-inflector) in my build file.</p>\n<p>I'm also using an <code>Assembler</code> to put the correct links in my response:</p>\n<pre><code>@Component\npublic class OrderModelAssembler\n                implements RepresentationModelAssembler&lt;ProductionOrder, EntityModel&lt;ProductionOrder&gt;&gt; {\n\n        @Override\n        public EntityModel&lt;ProductionOrder&gt; toModel(ProductionOrder order) {\n                var model = EntityModel.of(order);\n                switch (order.getState()) {\n                        case DRAFT:\n                                model.add(linkTo(methodOn(ProductionOrderController.class).rename(order.getId(), null))\n                                                .withRel(URIConstants.REL_RENAME));\n                                model.add(linkTo(methodOn(ProductionOrderController.class).submit(order.getId()))\n                                                .withRel(URIConstants.REL_SUBMIT));\n                                break;\n                        case SUBMITTED:\n                                model.add(linkTo(methodOn(ProductionOrderController.class).accept(order.getId(), null))\n                                                .withRel(URIConstants.REL_ACCEPT));\n                                break;\n                        case ACCEPTED:\n                                break;\n                }\n           return model;\n        }\n\n        @Override\n        public CollectionModel&lt;EntityModel&lt;ProductionOrder&gt;&gt; toCollectionModel(\n                        Iterable&lt;? extends ProductionOrder&gt; entities) {\n\n                var productionModel = StreamSupport\n                        .stream(entities.spliterator(), false)\n                        .map(this::toModel)\n                        .toList();\n                return CollectionModel.of(productionModel,\n                                linkTo(methodOn(ProductionOrderController.class)\n                                                .getAllOrders()).withSelfRel());\n        }\n\n}\n</code></pre>\n<p>I tried to add the following bean in my main class, but with no success.</p>\n<pre><code>@SpringBootApplication\n@EnableHypermediaSupport(type = EnableHypermediaSupport.HypermediaType.HAL)\n@Configuration\npublic class ProductionOrdersApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProductionOrdersApplication.class, args);\n    }\n\n    @Bean\n    LinkRelationProvider relProvider() {\n        return new LinkRelationProvider() {\n            @Override\n            public LinkRelation getItemResourceRelFor(Class&lt;?&gt; type) {\n                return LinkRelation.of(&quot;productionOrder&quot;);\n            }\n\n            @Override\n            public LinkRelation getCollectionResourceRelFor(Class&lt;?&gt; type) {\n                return LinkRelation.of(&quot;productionOrders&quot;);\n            }\n        };\n    }\n}\n</code></pre>\n<p>I've read the section in the Hateoas guide, where the 4 possibilities are those I tried.</p>\n<p>Can you explain how to modify the array name in the <code>_embedded</code> tag using the <code>RelProvider</code> interface in order to obtain the following result:</p>\n<pre><code>{\n    &quot;_embedded&quot;: {\n        &quot;productionOrders&quot;: [\n            {\n                &quot;_links&quot;: {\n                    &quot;rename&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/rename&quot;\n                    },\n                    &quot;submit&quot;: {\n                        &quot;href&quot;: &quot;http://localhost:8080/productionOrders/46ceb9a6-e6d5-4be8-9534-c1f2348b7592/submit&quot;\n                    }\n                },\n                &quot;expectedCompletionDate&quot;: &quot;1970-01-01&quot;,\n                &quot;id&quot;: &quot;46ceb9a6-e6d5-4be8-9534-c1f2348b7592&quot;,\n                &quot;name&quot;: &quot;A test order&quot;,\n                &quot;state&quot;: &quot;DRAFT&quot;\n            }\n        ]\n    },\n    &quot;_links&quot;: {\n        &quot;self&quot;: {\n            &quot;href&quot;: &quot;http://localhost:8080/productionOrders&quot;\n        }\n    }\n}\n</code></pre>\n<p>Thanks</p>\n<p>Olivier</p>\n"},{"tags":["java","json","elasticsearch"],"owner":{"account_id":3733275,"reputation":133,"user_id":3104960,"accept_rate":57,"display_name":"Georgi Nikolov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1695127843,"creation_date":1695127843,"question_id":77134708,"body_markdown":"for some time now I have been trying to incorporate the Elastic Java 8.10 client into my code, I have a big ELK stack with a lot of data. I am trying to fetch continuously data from it, but I am encountering some inconsistent behavior.\r\n\r\nMy code is following the Elastic tutorial on their website and I have a simple function to get the data:\r\n\r\n```java\r\n/**\r\n     * Method for querying a search in ELK using search_after.\r\n     * @param search_size\r\n     * @param index\r\n     * @param sort_options\r\n     * @param field\r\n     * @param value\r\n     * @return SearchResponse\r\n     * @throws IOException on failed search\r\n     */\r\n    public final SearchResponse&lt;JsonData&gt; querySearch(final int search_size,\r\n            final String index, final List&lt;SortOptions&gt; sort_options,\r\n            final List&lt;FieldValue&gt; search_after, final String field,\r\n            final String value) throws IOException {\r\n        SearchResponse&lt;JsonData&gt; result = this.el_client.search(s -&gt; s\r\n            .index(index)\r\n            .size(search_size)\r\n            .sort(sort_options)\r\n            .query(q -&gt; q\r\n                .term(t -&gt; t\r\n                    .field(field)\r\n                    .value(v -&gt; v.stringValue(value))\r\n                )),\r\n            JsonData.class);\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nThe strange thing is that it works fine for some time, but then I always receive the following error:\r\n\r\n```\r\nError deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n```\r\nit is inconsistent as it happens at random entries retrieved from Elasticsearch, I looked the previous entries that were retrieved and it is never the same time window (i am using the @timestamp field to cross-reference which entries might provoke the error)\r\n\r\nHere is the stack trace:\r\n\r\n```\r\n co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305] (JSON path: hits.hits[55]._source) (line no=1, column no=176305, offset=-1)\r\n \tat co.elastic.clients.json.JsonpMappingException.from0(JsonpMappingException.java:134)\r\n \tat co.elastic.clients.json.JsonpMappingException.from(JsonpMappingException.java:121)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:218)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:85)\r\n \tat co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:318)\r\n \tat co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:280)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\r\n \tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\r\n \tat co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\r\n \tat co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:377)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:347)\r\n \tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:154)\r\n \tat co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1887)\r\n \tat co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1904)\r\n \tat netrank.ElasticSourceClient.querySearch(ElasticSourceClient.java:190)\r\n \tat netrank.datasource.ElasticSource.run(ElasticSource.java:309)\r\n \tat be.cylab.mark.data.SourceWrapper.run(SourceWrapper.java:61)\r\n \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n Caused by: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\r\n \tat co.elastic.clients.json.jackson.JacksonUtils.convertException(JacksonUtils.java:36)\r\n \tat co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:435)\r\n \tat co.elastic.clients.json.JsonData.from(JsonData.java:162)\r\n \tat co.elastic.clients.json.JsonData.lambda$static$0(JsonData.java:169)\r\n \tat co.elastic.clients.json.JsonpDeserializer$3.deserialize(JsonpDeserializer.java:136)\r\n \tat co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\r\n \tat co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64)\r\n \tat co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeseri \tat co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\r\n \t... 27 more\r\n Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\r\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\r\n \tat com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1840)\r\n \tat com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:712)\r\n \tat com.fasterxml.jackson.core.base.ParserBase._throwUnquotedSpace(ParserBase.java:1046)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1931)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseLongName(UTF8StreamJsonParser.java:1872)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName2(UTF8StreamJsonParser.java:1810)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName(UTF8StreamJsonParser.java:1767)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1702)\r\n \tat com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:757)\r\n \tat com.fasterxml.jackson.databind.util.TokenBuffer._copyBufferContents(TokenBuffer.java:1155)\r\n \tat com.fasterxml.jackson.databind.util.TokenBuffer.copyCurrentStructure(TokenBuffer.java:1137)\r\n \tat co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:432)\r\n \t... 34 more\r\n```\r\n\r\nAt this point I have the feeling that the error is not from my code, but how the Elastic API sends the data and then the transformation from the raw JSON to JsonData. I tried using Object instead, but the same thing happens.\r\nIs there a way to sanitize the JSON at the moment of fetching it or any way to correct this strange behavior?","title":"jakarta.json.stream.JsonParsingException when retrieving data from Elasticsearch","body":"<p>for some time now I have been trying to incorporate the Elastic Java 8.10 client into my code, I have a big ELK stack with a lot of data. I am trying to fetch continuously data from it, but I am encountering some inconsistent behavior.</p>\n<p>My code is following the Elastic tutorial on their website and I have a simple function to get the data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n     * Method for querying a search in ELK using search_after.\n     * @param search_size\n     * @param index\n     * @param sort_options\n     * @param field\n     * @param value\n     * @return SearchResponse\n     * @throws IOException on failed search\n     */\n    public final SearchResponse&lt;JsonData&gt; querySearch(final int search_size,\n            final String index, final List&lt;SortOptions&gt; sort_options,\n            final List&lt;FieldValue&gt; search_after, final String field,\n            final String value) throws IOException {\n        SearchResponse&lt;JsonData&gt; result = this.el_client.search(s -&gt; s\n            .index(index)\n            .size(search_size)\n            .sort(sort_options)\n            .query(q -&gt; q\n                .term(t -&gt; t\n                    .field(field)\n                    .value(v -&gt; v.stringValue(value))\n                )),\n            JsonData.class);\n\n        return result;\n    }\n</code></pre>\n<p>The strange thing is that it works fine for some time, but then I always receive the following error:</p>\n<pre><code>Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n</code></pre>\n<p>it is inconsistent as it happens at random entries retrieved from Elasticsearch, I looked the previous entries that were retrieved and it is never the same time window (i am using the @timestamp field to cross-reference which entries might provoke the error)</p>\n<p>Here is the stack trace:</p>\n<pre><code> co.elastic.clients.json.JsonpMappingException: Error deserializing co.elastic.clients.elasticsearch.core.search.Hit: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305] (JSON path: hits.hits[55]._source) (line no=1, column no=176305, offset=-1)\n    at co.elastic.clients.json.JsonpMappingException.from0(JsonpMappingException.java:134)\n    at co.elastic.clients.json.JsonpMappingException.from(JsonpMappingException.java:121)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:218)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:85)\n    at co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:318)\n    at co.elastic.clients.json.JsonpDeserializerBase$ArrayDeserializer.deserialize(JsonpDeserializerBase.java:280)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeserializer.java:78)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:148)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.ObjectBuilderDeserializer.deserialize(ObjectBuilderDeserializer.java:79)\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\n    at co.elastic.clients.json.DelegatingDeserializer$SameType.deserialize(DelegatingDeserializer.java:43)\n    at co.elastic.clients.transport.endpoints.EndpointWithResponseMapperAttr$1.deserialize(EndpointWithResponseMapperAttr.java:56)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.decodeResponse(RestClientTransport.java:377)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:347)\n    at co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:154)\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1887)\n    at co.elastic.clients.elasticsearch.ElasticsearchClient.search(ElasticsearchClient.java:1904)\n    at netrank.ElasticSourceClient.querySearch(ElasticSourceClient.java:190)\n    at netrank.datasource.ElasticSource.run(ElasticSource.java:309)\n    at be.cylab.mark.data.SourceWrapper.run(SourceWrapper.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n Caused by: jakarta.json.stream.JsonParsingException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\n    at co.elastic.clients.json.jackson.JacksonUtils.convertException(JacksonUtils.java:36)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:435)\n    at co.elastic.clients.json.JsonData.from(JsonData.java:162)\n    at co.elastic.clients.json.JsonData.lambda$static$0(JsonData.java:169)\n    at co.elastic.clients.json.JsonpDeserializer$3.deserialize(JsonpDeserializer.java:136)\n    at co.elastic.clients.json.JsonpDeserializer.deserialize(JsonpDeserializer.java:77)\n    at co.elastic.clients.json.NamedDeserializer.deserialize(NamedDeserializer.java:64)\n    at co.elastic.clients.json.ObjectDeserializer$FieldObjectDeserializer.deserialize(ObjectDeseri  at co.elastic.clients.json.ObjectDeserializer.deserialize(ObjectDeserializer.java:192)\n    ... 27 more\n Caused by: com.fasterxml.jackson.core.JsonParseException: Illegal unquoted character ((CTRL-CHAR, code 10)): has to be escaped using backslash to be included in name\n  at [Source: (org.apache.http.nio.entity.ContentInputStream); line: 1, column: 176305]\n    at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1840)\n    at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:712)\n    at com.fasterxml.jackson.core.base.ParserBase._throwUnquotedSpace(ParserBase.java:1046)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseEscapedName(UTF8StreamJsonParser.java:1931)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseLongName(UTF8StreamJsonParser.java:1872)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName2(UTF8StreamJsonParser.java:1810)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.parseMediumName(UTF8StreamJsonParser.java:1767)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1702)\n    at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:757)\n    at com.fasterxml.jackson.databind.util.TokenBuffer._copyBufferContents(TokenBuffer.java:1155)\n    at com.fasterxml.jackson.databind.util.TokenBuffer.copyCurrentStructure(TokenBuffer.java:1137)\n    at co.elastic.clients.json.jackson.JacksonJsonpParser.getJsonData(JacksonJsonpParser.java:432)\n    ... 34 more\n</code></pre>\n<p>At this point I have the feeling that the error is not from my code, but how the Elastic API sends the data and then the transformation from the raw JSON to JsonData. I tried using Object instead, but the same thing happens.\nIs there a way to sanitize the JSON at the moment of fetching it or any way to correct this strange behavior?</p>\n"},{"tags":["java","gson","retrofit2"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695126701,"post_id":77134565,"comment_id":135979925,"body_markdown":"What is the error you get?","body":"What is the error you get?"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1695127334,"post_id":77134565,"comment_id":135980051,"body_markdown":"`Expected 0 arguments but found 1`. Then, I create a create method with Intellisense and add the following code into the interface: `&lt;T&gt; Object getData(Class&lt;T&gt; responseType);` but it&#39;s not working.","body":"<code>Expected 0 arguments but found 1</code>. Then, I create a create method with Intellisense and add the following code into the interface: <code>&lt;T&gt; Object getData(Class&lt;T&gt; responseType);</code> but it&#39;s not working."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695127404,"post_id":77134565,"comment_id":135980066,"body_markdown":"Please [edit] your question with the details, **do not add pertinent information in comments**","body":"Please <a href=\"https://stackoverflow.com/posts/77134565/edit\">edit</a> your question with the details, <b>do not add pertinent information in comments</b>"},{"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"score":0,"creation_date":1695127736,"post_id":77134565,"comment_id":135980137,"body_markdown":"okay, i edited it. @MarkRotteveel","body":"okay, i edited it. @MarkRotteveel"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1695159600,"post_id":77134565,"comment_id":135986125,"body_markdown":"Could you please explain how `RestInterfaceController.getData()` respectively the server you are sending the request to should behave? Your current `getData()` method takes no arguments, so the server should always return the same response format; in that case there should not be any need for a `responseType`. Could you please provide some examples for the response JSON data you receive, and why a `responseType` is necessary.","body":"Could you please explain how <code>RestInterfaceController.getData()</code> respectively the server you are sending the request to should behave? Your current <code>getData()</code> method takes no arguments, so the server should always return the same response format; in that case there should not be any need for a <code>responseType</code>. Could you please provide some examples for the response JSON data you receive, and why a <code>responseType</code> is necessary."}],"owner":{"account_id":18902552,"reputation":37,"user_id":13790258,"display_name":"avcismail"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695127703,"creation_date":1695126535,"question_id":77134565,"body_markdown":"I wrote a method that will receive data from the API generically for the model classes that I will send using the Retrofit package. However, normally when doing it with a static model, data comes, but now no data is coming. Why?\r\n\r\nWhen I use the `Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData(responseType);` from the parameter responseType here, it gives an error `Expected 0 arguments but found 1`. Then, I create a create method with Intellisense and add the following code into the interface: `&lt;T&gt; Object getData(Class&lt;T&gt; responseType);` but it&#39;s not working. How can I solve this problem?\r\n\r\n```\r\nprivate &lt;T&gt; void RetrofitApply(Class&lt;T&gt; responseType) {\r\n    Retrofit retrofit = new Retrofit.Builder()\r\n            .baseUrl(Constants.constants.baseUrl)\r\n            .addConverterFactory(GsonConverterFactory.create())\r\n            .build();\r\n    RestInterfaceController restInterfaceController = retrofit.create(RestInterfaceController.class);\r\n    Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData();\r\n\r\n    call.enqueue(new Callback&lt;T&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\r\n            if (response.isSuccessful()) {\r\n                T responseData = response.body();\r\n                if (responseData != null) {\r\n                    System.out.println(&quot;DATA : &quot; + responseData);\r\n                    System.out.println(&quot;ERROR CODE : &quot; + response.code());\r\n                    System.out.println(&quot;ERROR MESSAGE: &quot; + response.message());\r\n                } else {\r\n                    System.out.println(&quot;Response data is null.&quot;);\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Response is not successful. : &quot; + response.code());\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\r\n            System.out.println(&quot;ERROR MESSAGE : &quot; + t.getMessage());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nInterface here:\r\n\r\n```\r\npublic interface RestInterfaceController {\r\n    @GET(&quot;Europe/Istanbul&quot;)\r\n    Call&lt;Example&gt; getData();\r\n}\r\n```","title":"How can I solve Retrofit generic methods problem","body":"<p>I wrote a method that will receive data from the API generically for the model classes that I will send using the Retrofit package. However, normally when doing it with a static model, data comes, but now no data is coming. Why?</p>\n<p>When I use the <code>Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData(responseType);</code> from the parameter responseType here, it gives an error <code>Expected 0 arguments but found 1</code>. Then, I create a create method with Intellisense and add the following code into the interface: <code>&lt;T&gt; Object getData(Class&lt;T&gt; responseType);</code> but it's not working. How can I solve this problem?</p>\n<pre><code>private &lt;T&gt; void RetrofitApply(Class&lt;T&gt; responseType) {\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(Constants.constants.baseUrl)\n            .addConverterFactory(GsonConverterFactory.create())\n            .build();\n    RestInterfaceController restInterfaceController = retrofit.create(RestInterfaceController.class);\n    Call&lt;T&gt; call = (Call&lt;T&gt;) restInterfaceController.getData();\n\n    call.enqueue(new Callback&lt;T&gt;() {\n        @Override\n        public void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\n            if (response.isSuccessful()) {\n                T responseData = response.body();\n                if (responseData != null) {\n                    System.out.println(&quot;DATA : &quot; + responseData);\n                    System.out.println(&quot;ERROR CODE : &quot; + response.code());\n                    System.out.println(&quot;ERROR MESSAGE: &quot; + response.message());\n                } else {\n                    System.out.println(&quot;Response data is null.&quot;);\n                }\n            } else {\n                System.out.println(&quot;Response is not successful. : &quot; + response.code());\n            }\n        }\n\n        @Override\n        public void onFailure(Call&lt;T&gt; call, Throwable t) {\n            System.out.println(&quot;ERROR MESSAGE : &quot; + t.getMessage());\n        }\n    });\n}\n</code></pre>\n<p>Interface here:</p>\n<pre><code>public interface RestInterfaceController {\n    @GET(&quot;Europe/Istanbul&quot;)\n    Call&lt;Example&gt; getData();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","log4j","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1695125660,"post_id":77134083,"comment_id":135979673,"body_markdown":"Which methods does you `Filter` implement?","body":"Which methods does you <code>Filter</code> implement?"},{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1695126374,"post_id":77134083,"comment_id":135979861,"body_markdown":"I have implementend all filter(...) methods from org.apache.logging.log4j.core.filter.AbstractFilter.","body":"I have implementend all filter(...) methods from org.apache.logging.log4j.core.filter.AbstractFilter."}],"answers":[{"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":1,"creation_date":1695124388,"post_id":77134135,"comment_id":135979447,"body_markdown":"I don&#39;t think that&#39;s the problem. The filter is found, just not when it&#39;s defined insinde console appender","body":"I don&#39;t think that&#39;s the problem. The filter is found, just not when it&#39;s defined insinde console appender"}],"tags":[],"owner":{"account_id":7236887,"reputation":1,"user_id":6709625,"display_name":"Liam Nguyen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695122793,"creation_date":1695122793,"answer_id":77134135,"question_id":77134083,"body_markdown":"I think the `log4j` can not identify which `Filter` class in the xml, try to use the fully qualified class name of your extended Filter in the tag.","title":"Why does log4j filter not works inside appender","body":"<p>I think the <code>log4j</code> can not identify which <code>Filter</code> class in the xml, try to use the fully qualified class name of your extended Filter in the tag.</p>\n"},{"comments":[{"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"score":0,"creation_date":1695129715,"post_id":77134645,"comment_id":135980549,"body_markdown":"Thanks a lot. you where right, filter(final LogEvent event) had an error. was not aware that global filter calls different methods than appender filter","body":"Thanks a lot. you where right, filter(final LogEvent event) had an error. was not aware that global filter calls different methods than appender filter"}],"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695127282,"creation_date":1695127282,"answer_id":77134645,"question_id":77134083,"body_markdown":"Unlike Logback, which defines a separate [`Filter`](https://logback.qos.ch/apidocs/ch/qos/logback/core/filter/Filter.html) and [`TurboFilter`](https://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/TurboFilter.html) interface, Log4j Core has a single [`Filter`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html) interface that has a **double purpose**:\r\n * the [`filter(LogEvent)`](https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html) method is used when the filter is:\r\n     \r\n    1. attached to an appender,\r\n    2. attached to an appender reference,\r\n    3. attached to a logger configuration (as in your case).\r\n\r\n * the remaining `filter` methods are only used when your filter is a **global** filter (directly attached to a configuration).\r\n\r\nYour `filter(LogEvent)` method must work incorrectly, hence the issue. Remark that in this case you **always** have a message (usually of type `ObjectMessage`, `SimpleMessage` or `ParameterizedMessage`), although this message might be a mutable one.\r\n","title":"Why does log4j filter not works inside appender","body":"<p>Unlike Logback, which defines a separate <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/core/filter/Filter.html\" rel=\"nofollow noreferrer\"><code>Filter</code></a> and <a href=\"https://logback.qos.ch/apidocs/ch/qos/logback/classic/turbo/TurboFilter.html\" rel=\"nofollow noreferrer\"><code>TurboFilter</code></a> interface, Log4j Core has a single <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html\" rel=\"nofollow noreferrer\"><code>Filter</code></a> interface that has a <strong>double purpose</strong>:</p>\n<ul>\n<li><p>the <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/Filter.html\" rel=\"nofollow noreferrer\"><code>filter(LogEvent)</code></a> method is used when the filter is:</p>\n<ol>\n<li>attached to an appender,</li>\n<li>attached to an appender reference,</li>\n<li>attached to a logger configuration (as in your case).</li>\n</ol>\n</li>\n<li><p>the remaining <code>filter</code> methods are only used when your filter is a <strong>global</strong> filter (directly attached to a configuration).</p>\n</li>\n</ul>\n<p>Your <code>filter(LogEvent)</code> method must work incorrectly, hence the issue. Remark that in this case you <strong>always</strong> have a message (usually of type <code>ObjectMessage</code>, <code>SimpleMessage</code> or <code>ParameterizedMessage</code>), although this message might be a mutable one.</p>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134645,"answer_count":2,"score":1,"last_activity_date":1695127282,"creation_date":1695122364,"question_id":77134083,"body_markdown":"I&#39;ve create a custom filter that looks like this:\r\n\r\n    @Plugin(name = &quot;EmptyMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE, printObject = true)\r\n    public class EmptyMessageFilter extends AbstractFilter {\r\n    \r\n      @PluginFactory\r\n      public static EmptyMessageFilter createFilter() {\r\n        return new EmptyMessageFilter();\r\n      }\r\n    ...\r\n    }\r\n\r\nThe log4j config file looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Properties&gt;\r\n            &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\r\n                %d{yyyy-MM-dd HH:mm:ss.SSS}\r\n            &lt;/Property&gt;\r\n        &lt;/Properties&gt;\r\n        &lt;!-- When filter is here it works --&gt;\r\n        &lt;Filters&gt;\r\n            &lt;EmptyMessageFilter/&gt;\r\n        &lt;/Filters&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\r\n            &lt;!-- When filter is here it does not work --&gt;\r\n            &lt;Filters&gt;\r\n                &lt;EmptyMessageFilter/&gt;\r\n            &lt;/Filters&gt;  \r\n            &lt;/Console&gt;\r\n      \r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;info&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nWhen the filter is configured inside the Console appender it does not work but when it&#39;s outside the appenders it works. \r\nAccording to this https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers both should work. Any hints whats wrong?\r\n\r\nThe predefined filters like RegexFilter or BurstFilter works as well inside the appender but i don&#39;t see a difference between my custom filter and the predifined filters....\r\n\r\n","title":"Why does log4j filter not works inside appender","body":"<p>I've create a custom filter that looks like this:</p>\n<pre><code>@Plugin(name = &quot;EmptyMessageFilter&quot;, category = Node.CATEGORY, elementType = Filter.ELEMENT_TYPE, printObject = true)\npublic class EmptyMessageFilter extends AbstractFilter {\n\n  @PluginFactory\n  public static EmptyMessageFilter createFilter() {\n    return new EmptyMessageFilter();\n  }\n...\n}\n</code></pre>\n<p>The log4j config file looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n    &lt;Properties&gt;\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;\n            %d{yyyy-MM-dd HH:mm:ss.SSS}\n        &lt;/Property&gt;\n    &lt;/Properties&gt;\n    &lt;!-- When filter is here it works --&gt;\n    &lt;Filters&gt;\n        &lt;EmptyMessageFilter/&gt;\n    &lt;/Filters&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;ConsoleAppender&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot;/&gt;\n        &lt;!-- When filter is here it does not work --&gt;\n        &lt;Filters&gt;\n            &lt;EmptyMessageFilter/&gt;\n        &lt;/Filters&gt;  \n        &lt;/Console&gt;\n  \n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot;&gt;\n            &lt;AppenderRef ref=&quot;ConsoleAppender&quot;/&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>When the filter is configured inside the Console appender it does not work but when it's outside the appenders it works.\nAccording to this <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers\" rel=\"nofollow noreferrer\">https://logging.apache.org/log4j/2.x/manual/configuration.html#Loggers</a> both should work. Any hints whats wrong?</p>\n<p>The predefined filters like RegexFilter or BurstFilter works as well inside the appender but i don't see a difference between my custom filter and the predifined filters....</p>\n"},{"tags":["java","annotations","java-annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1695125778,"post_id":77134475,"comment_id":135979703,"body_markdown":"You can&#39;t do it that way. Annotations aren&#39;t magic. You&#39;re going to have to handle them either at compile time (change the generated class file) or at runtime (with reflection, change the parameter being passed). I recommend you google for &quot;java annotation processing&quot; to get started learning about how to do that.","body":"You can&#39;t do it that way. Annotations aren&#39;t magic. You&#39;re going to have to handle them either at compile time (change the generated class file) or at runtime (with reflection, change the parameter being passed). I recommend you google for &quot;java annotation processing&quot; to get started learning about how to do that."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1695125944,"post_id":77134475,"comment_id":135979750,"body_markdown":"And note that the method you wrote targets *fields*, but in your example you have annotated a *parameter*. Those are different things.","body":"And note that the method you wrote targets <i>fields</i>, but in your example you have annotated a <i>parameter</i>. Those are different things."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1695126615,"post_id":77134475,"comment_id":135979910,"body_markdown":"This is easily possible. Just really hard to do. I&#39;m guessing lots of folks are downvoting this because they think it&#39;s not possible and a casual web search indicates that it isn&#39;t (APs cannot modify existing source files). But if that&#39;s what&#39;s happening here, there&#39;s easy only slightly creative ways around it.","body":"This is easily possible. Just really hard to do. I&#39;m guessing lots of folks are downvoting this because they think it&#39;s not possible and a casual web search indicates that it isn&#39;t (APs cannot modify existing source files). But if that&#39;s what&#39;s happening here, there&#39;s easy only slightly creative ways around it."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695128678,"post_id":77134475,"comment_id":135980316,"body_markdown":"Sure, it&#39;s &quot;possible&quot;. Easily, not so much. But leave it to a Lombok developer to extend what&#39;s possible within the confines of the Java language and compiler ;-)","body":"Sure, it&#39;s &quot;possible&quot;. Easily, not so much. But leave it to a Lombok developer to extend what&#39;s possible within the confines of the Java language and compiler ;-)"}],"answers":[{"comments":[{"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"score":0,"creation_date":1695128629,"post_id":77134626,"comment_id":135980310,"body_markdown":"thanks for so detailed answer. Eh, I hoped for magic, but no:) I&#39;ll use an additional method like in the last code example, but annotation becomes excessive with it.","body":"thanks for so detailed answer. Eh, I hoped for magic, but no:) I&#39;ll use an additional method like in the last code example, but annotation becomes excessive with it."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695127063,"creation_date":1695127063,"answer_id":77134626,"question_id":77134475,"body_markdown":"This is not _directly_ possible. But there are tricks.\r\n\r\n## Annotation Processor\r\n\r\nAnnotation Processors (APs) have an API that limits them to making _new_ source files, they can&#39;t edit existing ones. Hence, &#39;write an annotation processor that injects code that replaces a `null` value with some default&#39; is not possible.\r\n\r\nBut, there are alternatives that get close.\r\n\r\nYou can set up your annotation system so that the users (i.e. the programmers using your annotation) write a &#39;template&#39; in java and that your AP sees this and generates the real source file. APs can only &#39;see&#39; signatures (the name, return type, parameter types, parameter names, and throws clauses of methods, and the name + type of fields, and a list of inner types, __but not__ initializer expressions of fields, or the body of method declarations).\r\n\r\nThis does allow you to do things like this:\r\n\r\n```\r\n// This is a file you write\r\n@SomeAnno\r\npublic class FooDefinition {\r\n  private final String name;\r\n\r\n  public static void greet(Foo self) {\r\n    System.out.println(&quot;Hello, &quot; + self.getName());\r\n  }\r\n}\r\n```\r\n\r\n```\r\n// and this is what your AP can generate from that\r\npublic class Foo {\r\n  private final String name;\r\n\r\n  public Foo(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n\r\n  public void greet() {\r\n    FooDefinition.greet(this);\r\n  }\r\n}\r\n```\r\n\r\nThis is a hypothetical AP that adds getters and a constructor. It &#39;works&#39; because all you need to know from FooDefinition to generate Foo, is that `final String name;` exists, and that `static void greet(Foo self)` exists. You don&#39;t need to know the content of that greet method (as you can&#39;t).\r\n\r\nThis isn&#39;t exactly &#39;nice&#39; as an experience: Foo doesn&#39;t exist until you do a full compilation run, and any modifications to `FooDefinition` will not affect `Foo` until you do another full build run. You will not get the benefit of making a quick change in your IDE and seeing this instantly reflected throughout your source code. I&#39;m not sure it&#39;s a useful trick for your needs here - at best, you can make a wrapper clone of your class, where the body of each method in the code you generate replaces any nulled arguments with their defaults and then calls your code.\r\n\r\n## Agents\r\n\r\nAgents are debug aids that &#39;plug in&#39; to your JVM&#39;s core functionality and can modify things on the fly. In particular, they get to witness raw bytecode (in `byte[]` form, as in, a direct dump of the contents of a `.class` file) and can modify it if they want. You register them on boot (`java -javaagent:/path/to/some.jar`) - you can make one that sees the annotation and meddles with the bytecode to inject a default-replacer.\r\n\r\nIt&#39;s a bit odd in the sense that you have to have a runtime component (that agent, which must be specified with a `-javaagent:` parameter.\r\n\r\nIt&#39;s definitely possible and essentially &#39;live&#39;, i.e. in IDEs and such you just make an edit, save, and e.g. eclipse&#39;s hot code replace will work fine here, as your agent is still there and on-the-fly injecting initialization code that replaces nulls with defaults.\r\n\r\nHowever, this is __really difficult__ - a seasoned java programmer roughing will still probably require a full week to build such a tool. You&#39;ll need to look into java bytecode libraries such as ObjectWeb&#39;s ASM, or BCEL, because you need to read the bytecode first, and you&#39;ll have to generate _bytecode_, not java code.\r\n\r\n## Lombok\r\n\r\nLombok is often sold (sometimes even by us - I&#39;m a core lombok contributor) as an &#39;annotation processor&#39;. But it really isn&#39;t: It&#39;s a compiler plugin that simply loads via the Annotation Processor path sometimes. It does _precisely_ what you are talking about and &#39;make a defaulting mechanism&#39; is a very common request. You should probably search the ProjectLombok github home for issues about this and the wiki as there&#39;s plenty of words written on this idea already.\r\n\r\nGiven that lombok isn&#39;t an AP, if you want this, you&#39;d fork lombok and then write it and use it, or, send in a PR if you find a really really neat way to do this. The primary reason we (lombok authors) aren&#39;t doing this yet is that annotation processors are extremely limited on what you can pass in for arguments, so we&#39;re not sure how to express the default value.\r\n\r\n## Just... code\r\n\r\nIt won&#39;t be automatic but you can of course always simply do something like this:\r\n\r\n```\r\n// code you actually write\r\nstatic void myMethod(@NullToDefault String param) {\r\n    param = applyDefaults(&quot;param&quot;, param);\r\n    System.out.println(param);\r\n}\r\n```\r\n\r\ni.e. you&#39;re going to have to manually write that `applyDefaults` line every time, but the code that leads to can at least read out that annotation. It won&#39;t be able to read out `param` (the name), hence, we pass it.\r\n","title":"Java annotation to change null value","body":"<p>This is not <em>directly</em> possible. But there are tricks.</p>\n<h2>Annotation Processor</h2>\n<p>Annotation Processors (APs) have an API that limits them to making <em>new</em> source files, they can't edit existing ones. Hence, 'write an annotation processor that injects code that replaces a <code>null</code> value with some default' is not possible.</p>\n<p>But, there are alternatives that get close.</p>\n<p>You can set up your annotation system so that the users (i.e. the programmers using your annotation) write a 'template' in java and that your AP sees this and generates the real source file. APs can only 'see' signatures (the name, return type, parameter types, parameter names, and throws clauses of methods, and the name + type of fields, and a list of inner types, <strong>but not</strong> initializer expressions of fields, or the body of method declarations).</p>\n<p>This does allow you to do things like this:</p>\n<pre><code>// This is a file you write\n@SomeAnno\npublic class FooDefinition {\n  private final String name;\n\n  public static void greet(Foo self) {\n    System.out.println(&quot;Hello, &quot; + self.getName());\n  }\n}\n</code></pre>\n<pre><code>// and this is what your AP can generate from that\npublic class Foo {\n  private final String name;\n\n  public Foo(String name) {\n    this.name = name;\n  }\n\n  public String getName() {\n    return name;\n  }\n\n  public void greet() {\n    FooDefinition.greet(this);\n  }\n}\n</code></pre>\n<p>This is a hypothetical AP that adds getters and a constructor. It 'works' because all you need to know from FooDefinition to generate Foo, is that <code>final String name;</code> exists, and that <code>static void greet(Foo self)</code> exists. You don't need to know the content of that greet method (as you can't).</p>\n<p>This isn't exactly 'nice' as an experience: Foo doesn't exist until you do a full compilation run, and any modifications to <code>FooDefinition</code> will not affect <code>Foo</code> until you do another full build run. You will not get the benefit of making a quick change in your IDE and seeing this instantly reflected throughout your source code. I'm not sure it's a useful trick for your needs here - at best, you can make a wrapper clone of your class, where the body of each method in the code you generate replaces any nulled arguments with their defaults and then calls your code.</p>\n<h2>Agents</h2>\n<p>Agents are debug aids that 'plug in' to your JVM's core functionality and can modify things on the fly. In particular, they get to witness raw bytecode (in <code>byte[]</code> form, as in, a direct dump of the contents of a <code>.class</code> file) and can modify it if they want. You register them on boot (<code>java -javaagent:/path/to/some.jar</code>) - you can make one that sees the annotation and meddles with the bytecode to inject a default-replacer.</p>\n<p>It's a bit odd in the sense that you have to have a runtime component (that agent, which must be specified with a <code>-javaagent:</code> parameter.</p>\n<p>It's definitely possible and essentially 'live', i.e. in IDEs and such you just make an edit, save, and e.g. eclipse's hot code replace will work fine here, as your agent is still there and on-the-fly injecting initialization code that replaces nulls with defaults.</p>\n<p>However, this is <strong>really difficult</strong> - a seasoned java programmer roughing will still probably require a full week to build such a tool. You'll need to look into java bytecode libraries such as ObjectWeb's ASM, or BCEL, because you need to read the bytecode first, and you'll have to generate <em>bytecode</em>, not java code.</p>\n<h2>Lombok</h2>\n<p>Lombok is often sold (sometimes even by us - I'm a core lombok contributor) as an 'annotation processor'. But it really isn't: It's a compiler plugin that simply loads via the Annotation Processor path sometimes. It does <em>precisely</em> what you are talking about and 'make a defaulting mechanism' is a very common request. You should probably search the ProjectLombok github home for issues about this and the wiki as there's plenty of words written on this idea already.</p>\n<p>Given that lombok isn't an AP, if you want this, you'd fork lombok and then write it and use it, or, send in a PR if you find a really really neat way to do this. The primary reason we (lombok authors) aren't doing this yet is that annotation processors are extremely limited on what you can pass in for arguments, so we're not sure how to express the default value.</p>\n<h2>Just... code</h2>\n<p>It won't be automatic but you can of course always simply do something like this:</p>\n<pre><code>// code you actually write\nstatic void myMethod(@NullToDefault String param) {\n    param = applyDefaults(&quot;param&quot;, param);\n    System.out.println(param);\n}\n</code></pre>\n<p>i.e. you're going to have to manually write that <code>applyDefaults</code> line every time, but the code that leads to can at least read out that annotation. It won't be able to read out <code>param</code> (the name), hence, we pass it.</p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":77134626,"answer_count":1,"score":-1,"last_activity_date":1695127063,"creation_date":1695125701,"question_id":77134475,"body_markdown":"I want to write an annotation that can change the parameter value to some default if it is null.\r\nFor example:\r\n```\r\nstatic void myMethod(@NullToDefault String param) {\r\n    System.out.println(param);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    myMethod(&quot;foo&quot;); //prints &quot;foo&quot;\r\n    myMethod(null);  //prints &quot;default&quot;\r\n}\r\n```\r\nI have separately an annotation and a method to change the null value. But I can&#39;t get how to force the annotation to call this method by default. What should I do to complete this?\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.PARAMETER)\r\n@interface NullToDefault {\r\n}\r\n\r\npublic static void inject(Object instance) { //how to call this automatically?\r\n    Field[] fields = instance.getClass().getDeclaredFields();\r\n    for (Field field : fields) {\r\n        if (field.isAnnotationPresent(NullToDefault.class)) {\r\n            field.setAccessible(true);\r\n            try {\r\n                if (field.get(instance) == null) {\r\n                    field.set(instance, &quot;default&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Java annotation to change null value","body":"<p>I want to write an annotation that can change the parameter value to some default if it is null.\nFor example:</p>\n<pre><code>static void myMethod(@NullToDefault String param) {\n    System.out.println(param);\n}\n\npublic static void main(String[] args) {\n    myMethod(&quot;foo&quot;); //prints &quot;foo&quot;\n    myMethod(null);  //prints &quot;default&quot;\n}\n</code></pre>\n<p>I have separately an annotation and a method to change the null value. But I can't get how to force the annotation to call this method by default. What should I do to complete this?</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.PARAMETER)\n@interface NullToDefault {\n}\n\npublic static void inject(Object instance) { //how to call this automatically?\n    Field[] fields = instance.getClass().getDeclaredFields();\n    for (Field field : fields) {\n        if (field.isAnnotationPresent(NullToDefault.class)) {\n            field.setAccessible(true);\n            try {\n                if (field.get(instance) == null) {\n                    field.set(instance, &quot;default&quot;);\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"answers":[{"comments":[{"owner":{"account_id":5646377,"reputation":21,"user_id":4468317,"display_name":"Muzzy"},"score":0,"creation_date":1695141905,"post_id":77134616,"comment_id":135983268,"body_markdown":"Thanks Flaviu! If we use the approach above, would Flink chain the 2 processors together? How does it work internally?","body":"Thanks Flaviu! If we use the approach above, would Flink chain the 2 processors together? How does it work internally?"},{"owner":{"account_id":5448964,"reputation":95,"user_id":4334448,"display_name":"Flaviu Cicio"},"score":1,"creation_date":1695197220,"post_id":77134616,"comment_id":135990381,"body_markdown":"The 2 process functions will not be chained, they run in parallel.\nTo chain them you need to attach the second process function to `stream1` like this: \n\n`DataStream&lt;Event&gt; processedStream1 = stream1.process(new ProcessFunction&lt;Event, NewType2&gt;());`","body":"The 2 process functions will not be chained, they run in parallel. To chain them you need to attach the second process function to <code>stream1</code> like this:   <code>DataStream&lt;Event&gt; processedStream1 = stream1.process(new ProcessFunction&lt;Event, NewType2&gt;());</code>"}],"tags":[],"owner":{"account_id":5448964,"reputation":95,"user_id":4334448,"display_name":"Flaviu Cicio"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1695126978,"creation_date":1695126978,"answer_id":77134616,"question_id":77131453,"body_markdown":"There is no need for side-outputs, except when you want some events to go in one stream and the other ones in a second stream.\r\n\r\nI would go with the first option, just make sure that you create streams from both of them and consume them separately:\r\n\r\n    DataStream&lt;Event&gt; stream1 = dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()); \r\n    DataStream&lt;Event&gt; stream2 = dataStream.process(new ProcessFunction&lt;Event, NewType2&gt;());\r\n    \r\n    sink1.consume(stream1);\r\n    sink2.consume(stream2);","title":"Apache Flink same source stream writing to different sinks","body":"<p>There is no need for side-outputs, except when you want some events to go in one stream and the other ones in a second stream.</p>\n<p>I would go with the first option, just make sure that you create streams from both of them and consume them separately:</p>\n<pre><code>DataStream&lt;Event&gt; stream1 = dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()); \nDataStream&lt;Event&gt; stream2 = dataStream.process(new ProcessFunction&lt;Event, NewType2&gt;());\n\nsink1.consume(stream1);\nsink2.consume(stream2);\n</code></pre>\n"}],"owner":{"account_id":5646377,"reputation":21,"user_id":4468317,"display_name":"Muzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695126978,"creation_date":1695092177,"question_id":77131453,"body_markdown":"I have a `DataStream&lt;Event&gt; dataStream` and I&#39;d like to have 2 `ProcessFunction` to process the same stream and write to 2 sinks respectively. I might have 2 options - \r\n\r\n1. Use 2 process functions on the same stream directly - \r\n```\r\ndataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()) // process function 1\r\ndataStream.process(new ProcessFunction&lt;Event, NewType2&gt;()) // process function 2\r\n```\r\n2. Create separate streams using `SideOutput` and then use 2 Process Functions on these different streams\r\n\r\n```\r\nDataStream&lt;Event&gt; sideOutputStream1 = dataStream.getOutputTag(...) // tag 1\r\nDataStream&lt;Event&gt; sideOutputStream2 = dataStream.getOutputTag(...) // tag 2\r\n```\r\n\r\nI was wondering which is the better approach here.\r\n\r\nI tried both in dev environment, I am not sure what metrics I should be looking into to decide which approach to choose.","title":"Apache Flink same source stream writing to different sinks","body":"<p>I have a <code>DataStream&lt;Event&gt; dataStream</code> and I'd like to have 2 <code>ProcessFunction</code> to process the same stream and write to 2 sinks respectively. I might have 2 options -</p>\n<ol>\n<li>Use 2 process functions on the same stream directly -</li>\n</ol>\n<pre><code>dataStream.process(new ProcessFunction&lt;Event, NewType1&gt;()) // process function 1\ndataStream.process(new ProcessFunction&lt;Event, NewType2&gt;()) // process function 2\n</code></pre>\n<ol start=\"2\">\n<li>Create separate streams using <code>SideOutput</code> and then use 2 Process Functions on these different streams</li>\n</ol>\n<pre><code>DataStream&lt;Event&gt; sideOutputStream1 = dataStream.getOutputTag(...) // tag 1\nDataStream&lt;Event&gt; sideOutputStream2 = dataStream.getOutputTag(...) // tag 2\n</code></pre>\n<p>I was wondering which is the better approach here.</p>\n<p>I tried both in dev environment, I am not sure what metrics I should be looking into to decide which approach to choose.</p>\n"},{"tags":["java","oracle-ucm"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":1,"creation_date":1695374174,"post_id":77134501,"comment_id":136018734,"body_markdown":"There are easier ways. Have a look at RIDC.","body":"There are easier ways. Have a look at RIDC."},{"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"score":0,"creation_date":1696331842,"post_id":77134501,"comment_id":136136392,"body_markdown":"Thank you! Yes I ended up by choosing it and solved my life. Thank you! :)","body":"Thank you! Yes I ended up by choosing it and solved my life. Thank you! :)"}],"owner":{"account_id":12580334,"reputation":81,"user_id":10905492,"display_name":"diguex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695126633,"creation_date":1695125923,"question_id":77134501,"body_markdown":"So this is the first time I&#39;m doing this kind of task, so apologizes if something doesn&#39;t make sense at the beginning.\r\nSo essentially I have a UCM server from where I need to retrieve data.\r\nI&#39;ve with me a pdf provided by Oracle where they also stored some JAVA code to perform the action.\r\n\r\nHowever, there&#39;s something I&#39;m not understanding:\r\nThey mention I need to have the oracle.ucm.fa_client_11.1.1.jar.\r\nI has to be included in the classpath and it contains the Java API for connecting to UCM Server.\r\n\r\nFirst question is: where can I find it?\r\nIt seems it&#39;s related with Webcenter Content Document Transfer Utility java app, am I wrong?\r\nThe goal of my task is simply to retrieve files from UCM to my local machine, but I&#39;m missing some dependencies.\r\n\r\nCan someone help me?\r\n\r\nThanks for your time!","title":"Retrieving data from Oracle UCM server","body":"<p>So this is the first time I'm doing this kind of task, so apologizes if something doesn't make sense at the beginning.\nSo essentially I have a UCM server from where I need to retrieve data.\nI've with me a pdf provided by Oracle where they also stored some JAVA code to perform the action.</p>\n<p>However, there's something I'm not understanding:\nThey mention I need to have the oracle.ucm.fa_client_11.1.1.jar.\nI has to be included in the classpath and it contains the Java API for connecting to UCM Server.</p>\n<p>First question is: where can I find it?\nIt seems it's related with Webcenter Content Document Transfer Utility java app, am I wrong?\nThe goal of my task is simply to retrieve files from UCM to my local machine, but I'm missing some dependencies.</p>\n<p>Can someone help me?</p>\n<p>Thanks for your time!</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695126295,"creation_date":1695126295,"question_id":77134540,"body_markdown":"I am getting a stale element exception. This is usually easy to solve. I just need to create the WebElement object again. But thnis time I have no WebElement at all. I am just trying to get information form the browser&#39;s console:\r\n\r\n    public void fillInConsole(String data){\r\n        GenericFunctions.waitForSeconds(20);\r\n        JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\r\n        dataObject = jsExecutor.executeScript(&quot;return &quot; + data + &quot; ; &quot;).toString().toLowerCase();\r\n    }\r\n\r\nThis is the error message I get:\r\n\r\norg.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found\r\n  (Session info: chrome=116.0.5845.188)\r\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/stale_element_reference.html\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;BCNCZXM893&#39;, ip: &#39;192.168.1.12&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_202&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 116.0.5845.188, chrome: {chromedriverVersion: 116.0.5845.96 (1a3918166880..., userDataDir: C:\\Users\\mbormann\\AppData\\L...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:57313}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: de6622e6242a28810845580472d51c05\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\r\n\tat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:489)\r\n\r\nDoes anyone have an idea, what is going on here. This worked fine for a year and suddenly it&#39;s broken.\r\n","title":"stale element exception without using WebElement","body":"<p>I am getting a stale element exception. This is usually easy to solve. I just need to create the WebElement object again. But thnis time I have no WebElement at all. I am just trying to get information form the browser's console:</p>\n<pre><code>public void fillInConsole(String data){\n    GenericFunctions.waitForSeconds(20);\n    JavascriptExecutor jsExecutor = (JavascriptExecutor) driver;\n    dataObject = jsExecutor.executeScript(&quot;return &quot; + data + &quot; ; &quot;).toString().toLowerCase();\n}\n</code></pre>\n<p>This is the error message I get:</p>\n<p>org.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found\n(Session info: chrome=116.0.5845.188)\nFor documentation on this error, please visit: <a href=\"https://www.seleniumhq.org/exceptions/stale_element_reference.html\" rel=\"nofollow noreferrer\">https://www.seleniumhq.org/exceptions/stale_element_reference.html</a>\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'BCNCZXM893', ip: '192.168.1.12', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_202'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 116.0.5845.188, chrome: {chromedriverVersion: 116.0.5845.96 (1a3918166880..., userDataDir: C:\\Users\\mbormann\\AppData\\L...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:57313}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: WINDOWS, platformName: WINDOWS, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: de6622e6242a28810845580472d51c05\nat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:187)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:122)\nat org.openqa.selenium.remote.http.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:49)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.executeScript(RemoteWebDriver.java:489)</p>\n<p>Does anyone have an idea, what is going on here. This worked fine for a year and suddenly it's broken.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":287515,"reputation":15504,"user_id":587365,"display_name":"Andrew Spencer"},"score":5,"creation_date":1510218203,"post_id":25680258,"comment_id":81344052,"body_markdown":"That other question is SO not a duplicate of this one. (Although some of the answers are pretty similar :) )","body":"That other question is SO not a duplicate of this one. (Although some of the answers are pretty similar :) )"},{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":1,"creation_date":1524560451,"post_id":25680258,"comment_id":87011176,"body_markdown":"This question should be reopened, as it clearly states its use case being different from the marked duplicate.","body":"This question should be reopened, as it clearly states its use case being different from the marked duplicate."},{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":0,"creation_date":1524560636,"post_id":25680258,"comment_id":87011313,"body_markdown":"We have at least: UPPERCASE, lowercase, camelCase, PascalCase, snake_case, SCREAMING_SNAKE_CASE, hyphen-case, dot.case.","body":"We have at least: UPPERCASE, lowercase, camelCase, PascalCase, snake_case, SCREAMING_SNAKE_CASE, hyphen-case, dot.case."}],"answers":[{"comments":[{"owner":{"account_id":2105878,"reputation":133,"user_id":1872221,"accept_rate":25,"display_name":"Alexey Smirnov"},"score":0,"creation_date":1496434508,"post_id":25680302,"comment_id":75677403,"body_markdown":"I have the same issue. But if word is helloFunnyWORLD, result should be hello-funny-world. Guava solution is not suitable for me.","body":"I have the same issue. But if word is helloFunnyWORLD, result should be hello-funny-world. Guava solution is not suitable for me."},{"owner":{"account_id":2466361,"reputation":589,"user_id":2149367,"accept_rate":67,"display_name":"SureshS"},"score":1,"creation_date":1519986630,"post_id":25680302,"comment_id":85139540,"body_markdown":"Just out of curiosity why is the class name `StackOverflow25680258`? Do you have some sort of macro?","body":"Just out of curiosity why is the class name <code>StackOverflow25680258</code>? Do you have some sort of macro?"},{"owner":{"account_id":234132,"reputation":3822,"user_id":500096,"accept_rate":51,"display_name":"Paul"},"score":1,"creation_date":1527335765,"post_id":25680302,"comment_id":88096110,"body_markdown":"@SureshS: the name of the method is given by the id of this question - see browser link :)","body":"@SureshS: the name of the method is given by the id of this question - see browser link :)"},{"owner":{"account_id":8254104,"reputation":314,"user_id":6207773,"accept_rate":0,"display_name":"Lucke"},"score":0,"creation_date":1536056018,"post_id":25680302,"comment_id":91277240,"body_markdown":"@Adam Is it possible to output: &quot;inputInSnakeCase&quot; ? I mean with first letter in lower case. (using guava not manually lower first letter)","body":"@Adam Is it possible to output: &quot;inputInSnakeCase&quot; ? I mean with first letter in lower case. (using guava not manually lower first letter)"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":3,"creation_date":1536070555,"post_id":25680302,"comment_id":91286729,"body_markdown":"@Lucke Yes - use CaseFormat.LOWER_CAMEL instead of CaseFormat.UPPER_CAMEL","body":"@Lucke Yes - use CaseFormat.LOWER_CAMEL instead of CaseFormat.UPPER_CAMEL"}],"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"comment_count":5,"down_vote_count":1,"up_vote_count":115,"is_accepted":true,"score":114,"last_activity_date":1486227193,"creation_date":1409900653,"answer_id":25680302,"question_id":25680258,"body_markdown":"[Guava][1] supports this through its [CaseFormat][2] class\r\n\r\n    import com.google.common.base.CaseFormat;\r\n    \r\n    \r\n    public class StackOverflow25680258 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, &quot;input_in_snake_case&quot;)); \r\n    \t}\r\n    \r\n    }\r\n\r\nOutput\r\n\r\n    InputInSnakeCase\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/base/CaseFormat.java","title":"Converting a string from snake case to camel case in Java","body":"<p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> supports this through its <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/base/CaseFormat.java\" rel=\"noreferrer\">CaseFormat</a> class</p>\n\n<pre><code>import com.google.common.base.CaseFormat;\n\n\npublic class StackOverflow25680258 {\n\n    public static void main(String[] args) {\n        System.out.println(CaseFormat.UPPER_UNDERSCORE.to(CaseFormat.UPPER_CAMEL, \"input_in_snake_case\")); \n    }\n\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>InputInSnakeCase\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2682534,"reputation":864,"user_id":2317585,"display_name":"John Gilmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667161971,"creation_date":1667161971,"answer_id":74256540,"question_id":25680258,"body_markdown":"A java solution without dependencies assuming the input is actually snake case.\r\n\r\n```java\r\n  public static String makeCamelCase(final String snakeCase) {\r\n    var sb = new StringBuilder();\r\n    var lastChar = snakeCase.charAt(0);\r\n    sb.append(Character.toUpperCase(lastChar));\r\n    for (int i =1; i &lt; snakeCase.length(); i++) {\r\n      var c = snakeCase.charAt(i);\r\n      sb.append(c);\r\n      if (lastChar == &#39;_&#39;) {\r\n        sb.delete(sb.length()-2, sb.length());\r\n        sb.append(&quot;_&quot; + Character.toUpperCase(c));\r\n      }\r\n      lastChar = c;\r\n    }\r\n    return sb.toString();\r\n  }\r\n```","title":"Converting a string from snake case to camel case in Java","body":"<p>A java solution without dependencies assuming the input is actually snake case.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static String makeCamelCase(final String snakeCase) {\n    var sb = new StringBuilder();\n    var lastChar = snakeCase.charAt(0);\n    sb.append(Character.toUpperCase(lastChar));\n    for (int i =1; i &lt; snakeCase.length(); i++) {\n      var c = snakeCase.charAt(i);\n      sb.append(c);\n      if (lastChar == '_') {\n        sb.delete(sb.length()-2, sb.length());\n        sb.append(&quot;_&quot; + Character.toUpperCase(c));\n      }\n      lastChar = c;\n    }\n    return sb.toString();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695125907,"creation_date":1695125907,"answer_id":77134499,"question_id":25680258,"body_markdown":"You can use Apache Commons Text `toCamelCase` method:\r\n\r\n```\r\nimport org.apache.commons.text.CaseUtils;\r\n\r\n...\r\n\r\nString snakeCaseText = &quot;make_it_camel_case&quot;;\r\nSystem.out.println(CaseUtils.toCamelCase(snakeCaseText, false, &#39;_&#39;));\r\n```\r\n\r\nOutput of the code above would be &quot;makeItCamelCase&quot;.\r\n\r\nMethod documentation can be found on: \r\nhttps://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)","title":"Converting a string from snake case to camel case in Java","body":"<p>You can use Apache Commons Text <code>toCamelCase</code> method:</p>\n<pre><code>import org.apache.commons.text.CaseUtils;\n\n...\n\nString snakeCaseText = &quot;make_it_camel_case&quot;;\nSystem.out.println(CaseUtils.toCamelCase(snakeCaseText, false, '_'));\n</code></pre>\n<p>Output of the code above would be &quot;makeItCamelCase&quot;.</p>\n<p>Method documentation can be found on:\n<a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/CaseUtils.html#toCamelCase(java.lang.String,boolean,char...)</a></p>\n"}],"owner":{"account_id":3816453,"reputation":1445,"user_id":3165718,"accept_rate":45,"display_name":"Kamesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51738,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"accepted_answer_id":25680302,"answer_count":3,"score":46,"last_activity_date":1695125907,"creation_date":1409900469,"question_id":25680258,"body_markdown":"How can I convert snake case to camel case in Java?\r\n\r\nInput: &quot;input_in_snake_case&quot;\r\n\r\nOutput: &quot;InputInSnakeCase&quot;","title":"Converting a string from snake case to camel case in Java","body":"<p>How can I convert snake case to camel case in Java?</p>\n\n<p>Input: \"input_in_snake_case\"</p>\n\n<p>Output: \"InputInSnakeCase\"</p>\n"},{"tags":["java","tomcat","openssl","fips"],"owner":{"account_id":1288376,"reputation":55,"user_id":1240976,"display_name":"robhyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695124551,"creation_date":1695123395,"question_id":77134207,"body_markdown":"**This is a general question about FIPS mode in Apache Tomcat**\r\n\r\nWe are expected to adhere to the Apache Tomcat STIG (https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968), but given our setup, I want to know if it even buys us anything. Our setup: HTTPS traffic flows from an external load balancer (managed by another team) where it validates / authenticates a user via PKI. The traffic is then forwarded on to our server over plain old HTTP 8080 where it hits Apache HTTPD. Only the load balancer is allowed to connect to our server on this port. From there, HTTPD proxies / reverse proxies the traffic over AJP (I forget the exact port number) to Tomcat. Only localhost connections are allowed to connect over the AJP port. Thus, since no cryptography (I don&#39;t think) is handled on our side, what would enabling FIPS mode in Tomcat actually get us? Please let me know if I&#39;m missing something. \r\n\r\nIn case it matters:\r\n\r\n - Apache Tomcat 8.0.45, but we&#39;re upgrading to 9.x\r\n - Apache HTTPD 2.4.42\r\n - Java 1.8\r\n - OpenSSL is 1.x and is FIPS capable (at least it says FIPS in the version)\r\n - Red Hat 7 (FIPS mode is enabled as far as I can tell)","title":"FIPS Mode in Apache Tomcat","body":"<p><strong>This is a general question about FIPS mode in Apache Tomcat</strong></p>\n<p>We are expected to adhere to the Apache Tomcat STIG (<a href=\"https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968\" rel=\"nofollow noreferrer\">https://www.stigviewer.com/stig/apache_tomcat_application_sever_9/2020-12-11/finding/V-222968</a>), but given our setup, I want to know if it even buys us anything. Our setup: HTTPS traffic flows from an external load balancer (managed by another team) where it validates / authenticates a user via PKI. The traffic is then forwarded on to our server over plain old HTTP 8080 where it hits Apache HTTPD. Only the load balancer is allowed to connect to our server on this port. From there, HTTPD proxies / reverse proxies the traffic over AJP (I forget the exact port number) to Tomcat. Only localhost connections are allowed to connect over the AJP port. Thus, since no cryptography (I don't think) is handled on our side, what would enabling FIPS mode in Tomcat actually get us? Please let me know if I'm missing something.</p>\n<p>In case it matters:</p>\n<ul>\n<li>Apache Tomcat 8.0.45, but we're upgrading to 9.x</li>\n<li>Apache HTTPD 2.4.42</li>\n<li>Java 1.8</li>\n<li>OpenSSL is 1.x and is FIPS capable (at least it says FIPS in the version)</li>\n<li>Red Hat 7 (FIPS mode is enabled as far as I can tell)</li>\n</ul>\n"},{"tags":["java","oracle","spring-boot","hibernate","h2"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1695122889,"post_id":77134090,"comment_id":135979176,"body_markdown":"Which version of H2?  In my existing projects I&#39;m using v1.4.200 instead of 2.x to avoid compatibility problems.  In one project I&#39;m using v1.4.196 because newer ones give a timestamp/date problem.  I have not yet tried to modify my code to be compatible with 2.x.","body":"Which version of H2?  In my existing projects I&#39;m using v1.4.200 instead of 2.x to avoid compatibility problems.  In one project I&#39;m using v1.4.196 because newer ones give a timestamp/date problem.  I have not yet tried to modify my code to be compatible with 2.x."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1695123297,"post_id":77134090,"comment_id":135979251,"body_markdown":"@Pino Good question - &#39;1.4.199&#39;","body":"@Pino Good question - &#39;1.4.199&#39;"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1695123362,"post_id":77134090,"comment_id":135979262,"body_markdown":"Try with 1.4.196 and let me know.","body":"Try with 1.4.196 and let me know."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1695126376,"post_id":77134090,"comment_id":135979862,"body_markdown":"@Pino That&#39;s working, thanks. I&#39;ll play with the versions a bit so I&#39;m not stuck on one version without being able to upgrade.","body":"@Pino That&#39;s working, thanks. I&#39;ll play with the versions a bit so I&#39;m not stuck on one version without being able to upgrade."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1699795514,"post_id":77134090,"comment_id":136573605,"body_markdown":"I think you should run your integration tests against the actual database you use, Oracle. [TestContainers](https://testcontainers.com) is a solution for that. It integrates nicely with Spring Boot testing and the Spring folks have documented it nicely.  If you really need to use H2 then use a DDL abstraction layer such as [Liquibase](https://www.liquibase.org/). (there will be other benefits to that too, for example in relation to future evolution of your database model). Liquibase will abstract away the difference you mention.","body":"I think you should run your integration tests against the actual database you use, Oracle. <a href=\"https://testcontainers.com\" rel=\"nofollow noreferrer\">TestContainers</a> is a solution for that. It integrates nicely with Spring Boot testing and the Spring folks have documented it nicely.  If you really need to use H2 then use a DDL abstraction layer such as <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a>. (there will be other benefits to that too, for example in relation to future evolution of your database model). Liquibase will abstract away the difference you mention."}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695123330,"creation_date":1695122473,"question_id":77134090,"body_markdown":"We have a Spring Boot application which uses Oracle in production but in-memory H2 database for the integration tests. We initialize the H2 database by running Liquibase migration scripts. Time to time we have some DB incompatibility issues, for example Oracle can&#39;t store empty string etc.. I tried to mitigate some of them by connecting to H2 DB using MODE=Oracle in the connection string, the settings looks like this:\r\n\r\n`spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle`\r\n\r\nAfter startup we check that the DB schema is migrated properly by setting\r\n`spring.jpa.hibernate.ddl-auto=validate`\r\n\r\nHowever I get an exception here, because H2 uses `Timestamp` date type where the `Date` type should be used. The H2 documentation says it is a desired behavior\r\n\r\nhttp://www.h2database.com/html/features.html#compatibility\r\n\r\nI checked both Oracle and H2 databases and indeed the Oracle uses Date and H2 uses Timestamp. This however causes and exception being thrown when the integration test starts and Hibernate is validating schema, the exception looks like:\r\n\r\n```\r\nSchema-validation: wrong column type encountered in column [my_column] in table [my_table];\r\n found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]\r\n```\r\n\r\nI have two questions:\r\n\r\nWhy can&#39;t H2 use `Date` in Oracle mode, but uses it in a default mode? This should be a question for H2 devs, but I&#39;d appreciate the answer if anyone knows.\r\n\r\nIs there any way how to test `spring.jpa.hibernate.ddl-auto=validate` and `MODE=Oracle` at the same time? I think I can have one test to validate the schema and other tests running in Oracle mode, but that&#39;s far from being a nice solution.\r\n\r\n\r\n**Edit:** H2 version is &#39;1.4.199&#39;","title":"Spring Boot integration tests using H2 in MODE=Oracle can&#39;t validate schema","body":"<p>We have a Spring Boot application which uses Oracle in production but in-memory H2 database for the integration tests. We initialize the H2 database by running Liquibase migration scripts. Time to time we have some DB incompatibility issues, for example Oracle can't store empty string etc.. I tried to mitigate some of them by connecting to H2 DB using MODE=Oracle in the connection string, the settings looks like this:</p>\n<p><code>spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle</code></p>\n<p>After startup we check that the DB schema is migrated properly by setting\n<code>spring.jpa.hibernate.ddl-auto=validate</code></p>\n<p>However I get an exception here, because H2 uses <code>Timestamp</code> date type where the <code>Date</code> type should be used. The H2 documentation says it is a desired behavior</p>\n<p><a href=\"http://www.h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">http://www.h2database.com/html/features.html#compatibility</a></p>\n<p>I checked both Oracle and H2 databases and indeed the Oracle uses Date and H2 uses Timestamp. This however causes and exception being thrown when the integration test starts and Hibernate is validating schema, the exception looks like:</p>\n<pre><code>Schema-validation: wrong column type encountered in column [my_column] in table [my_table];\n found [timestamp (Types#TIMESTAMP)], but expecting [date (Types#DATE)]\n</code></pre>\n<p>I have two questions:</p>\n<p>Why can't H2 use <code>Date</code> in Oracle mode, but uses it in a default mode? This should be a question for H2 devs, but I'd appreciate the answer if anyone knows.</p>\n<p>Is there any way how to test <code>spring.jpa.hibernate.ddl-auto=validate</code> and <code>MODE=Oracle</code> at the same time? I think I can have one test to validate the schema and other tests running in Oracle mode, but that's far from being a nice solution.</p>\n<p><strong>Edit:</strong> H2 version is '1.4.199'</p>\n"},{"tags":["java","processing"],"answers":[{"tags":[],"owner":{"account_id":26518992,"reputation":1059,"user_id":20153035,"display_name":"Fastnlight"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665602384,"creation_date":1665602384,"answer_id":74047041,"question_id":74046987,"body_markdown":"You are declaring setup twice. There are multiple solutions to this:&lt;br&gt;\r\n1: Remove one of the setups.&lt;br&gt;\r\n2: Overload the method. Overloading a method allows you to have multiple methods with the same name, but requires them to have a different amount of parameters. To do this, simply give one of the setups a parameter.&lt;br&gt;\r\n3: Rename one of the setups.","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You are declaring setup twice. There are multiple solutions to this:<br>\n1: Remove one of the setups.<br>\n2: Overload the method. Overloading a method allows you to have multiple methods with the same name, but requires them to have a different amount of parameters. To do this, simply give one of the setups a parameter.<br>\n3: Rename one of the setups.</p>\n"},{"tags":[],"owner":{"account_id":3016257,"reputation":236,"user_id":5896674,"display_name":"Serguei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665603089,"creation_date":1665603089,"answer_id":74047137,"question_id":74046987,"body_markdown":"Looks like you are using [Processing][1]. In that case as was pointed out the main file in Processing can have only one `setup()` method. A simple solution is to merge their method bodies into a single setup and remove the second one, like so\r\n\r\n```#!java\r\nvoid setup() {\r\n  size(400, 400) ;\r\n  background(255) ;\r\n  myPiggy = new Piggy();\r\n\r\n  Bubble[] bubbles = new Bubble[300];\r\n\r\n  // You cannot have two size() calls, pick one above or this one\r\n  //size(640, 360);\r\n\r\n  for (int i = 0; i &lt; bubbles.length; i++) {\r\n    bubbles[i] = new Bubble(random(60));\r\n  }\r\n}\r\n```\r\n\r\nPlease note that does not cover other aspects of your code you are trying to merge. For example, you&#39;d need to merge``draw()`` to display your Piggy as well as the bubbles.\r\n\r\n  [1]: https://processing.org/","title":"My code keeps getting an error that says duplicate method setup","body":"<p>Looks like you are using <a href=\"https://processing.org/\" rel=\"nofollow noreferrer\">Processing</a>. In that case as was pointed out the main file in Processing can have only one <code>setup()</code> method. A simple solution is to merge their method bodies into a single setup and remove the second one, like so</p>\n<pre><code>void setup() {\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n\n  Bubble[] bubbles = new Bubble[300];\n\n  // You cannot have two size() calls, pick one above or this one\n  //size(640, 360);\n\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n</code></pre>\n<p>Please note that does not cover other aspects of your code you are trying to merge. For example, you'd need to merge<code>draw()</code> to display your Piggy as well as the bubbles.</p>\n"},{"tags":[],"owner":{"account_id":25825446,"reputation":45,"user_id":19563707,"display_name":"KeLLox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665677875,"creation_date":1665677875,"answer_id":74058931,"question_id":74046987,"body_markdown":"You have the method setup() two times, to fix the problem you can just rename one of the methods and if you don&#39;t want to do that you can just add a parameter to one of the setups ```void setup(int p){the code}```","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You have the method setup() two times, to fix the problem you can just rename one of the methods and if you don't want to do that you can just add a parameter to one of the setups <code>void setup(int p){the code}</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1668753089,"post_id":74456570,"comment_id":131487335,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74456570/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15848825,"reputation":1,"user_id":11435267,"display_name":"factober"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668583346,"creation_date":1668583346,"answer_id":74456570,"question_id":74046987,"body_markdown":"You&#39;ve two setup() methods in your code. There should be one setup() method. If the code in both functions is useful, merge both in one and the error should go.","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You've two setup() methods in your code. There should be one setup() method. If the code in both functions is useful, merge both in one and the error should go.</p>\n"},{"tags":[],"owner":{"account_id":17621330,"reputation":3,"user_id":12787217,"display_name":"Tony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695123307,"creation_date":1694843588,"answer_id":77116539,"question_id":74046987,"body_markdown":"You have two methods in your code named `setup()`\r\n```java\r\nPiggy myPiggy;\r\n\r\nvoid setup() {    // &lt;------------ HERE\r\n  size(400, 400) ;\r\n  background(255) ;\r\n  myPiggy = new Piggy();\r\n}\r\nvoid draw() {\r\n  background(255) ;\r\n  myPiggy.display();\r\n\r\n}\r\nvoid mouseDragged() {\r\n  myPiggy.mouseSmoved(mouseX, mouseY);\r\n\r\n}\r\n\r\nvoid setup() {   // &lt;------------ HERE\r\nBubble[] bubbles = new Bubble[300];\r\n\r\n  size(640, 360); //&lt;-- this must be the first line in a setup\r\n  for (int i = 0; i &lt; bubbles.length; i++) {\r\n    bubbles[i] = new Bubble(random(60));\r\n  }\r\n}\r\n```\r\n\r\nYou need to rename or edit your code or delete one [`setup()`][1] to proceed.\r\n\r\n\r\nALSO, `size(x,y)` must be the first line in the setup unless you&#39;re using [`settings()`][2] to initialize `size()` with a variable.\r\n\r\n\r\n  [1]: https://processing.org/reference/setup_.html\r\n  [2]: https://processing.org/reference/settings_.html","title":"My code keeps getting an error that says duplicate method setup","body":"<p>You have two methods in your code named <code>setup()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Piggy myPiggy;\n\nvoid setup() {    // &lt;------------ HERE\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n}\nvoid draw() {\n  background(255) ;\n  myPiggy.display();\n\n}\nvoid mouseDragged() {\n  myPiggy.mouseSmoved(mouseX, mouseY);\n\n}\n\nvoid setup() {   // &lt;------------ HERE\nBubble[] bubbles = new Bubble[300];\n\n  size(640, 360); //&lt;-- this must be the first line in a setup\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n</code></pre>\n<p>You need to rename or edit your code or delete one <a href=\"https://processing.org/reference/setup_.html\" rel=\"nofollow noreferrer\"><code>setup()</code></a> to proceed.</p>\n<p>ALSO, <code>size(x,y)</code> must be the first line in the setup unless you're using <a href=\"https://processing.org/reference/settings_.html\" rel=\"nofollow noreferrer\"><code>settings()</code></a> to initialize <code>size()</code> with a variable.</p>\n"}],"owner":{"account_id":26600515,"reputation":19,"user_id":20222218,"display_name":"Noor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":5,"score":0,"last_activity_date":1695123307,"creation_date":1665602064,"question_id":74046987,"body_markdown":"I&#39;m making a creature and need to add a moving background into it so I chose for bubbles.\r\n\r\nOn its own it works, same as the movement of the Pig. But when I combine them together it gives the error &#39;duplicate method setup() in my file.\r\n\r\nDoes anyone have any tips what to do?\r\n\r\n    Piggy myPiggy;\r\n    \r\n    void setup() {\r\n      size(400, 400) ;\r\n      background(255) ;\r\n      myPiggy = new Piggy();\r\n    }\r\n    void draw() {\r\n      background(255) ;\r\n      myPiggy.display();\r\n    \r\n    }\r\n    void mouseDragged() {\r\n      myPiggy.mouseSmoved(mouseX, mouseY);\r\n    \r\n    }\r\n    \r\n    void setup() {\r\n    Bubble[] bubbles = new Bubble[300];\r\n    \r\n      size(640, 360);\r\n      for (int i = 0; i &lt; bubbles.length; i++) {\r\n        bubbles[i] = new Bubble(random(60));\r\n      }\r\n    }\r\n    \r\n    void draw() {\r\n      background(255);\r\n      for (int i = 0; i &lt; bubbles.length; i++) {\r\n        bubbles[i].ascend();\r\n        bubbles[i].display();\r\n        bubbles[i].top();\r\n      }\r\n    }\r\n     \r\n    class Piggy {\r\n      float pgX= 0 ;\r\n      float pgY= 0 ;\r\n      int stX = 0 ;\r\n      int stY = 0 ;\r\n      color earColor;\r\n      color faceColor;\r\n      \r\n      Piggy() {\r\n        stX = width / 2;\r\n        stY = height / 2;\r\n      }\r\n    \r\n      void display () {\r\n        //ears\r\n        fill(255,192,203) ;\r\n        noStroke() ;\r\n        ellipse(stX-90, stY-70, 60, 100) ;\r\n        ellipse(stX+90, stY-70, 60, 100) ;\r\n        fill(stX-90, stY-70, 40, 80) ;\r\n        fill(stX+90, stY-70, 40, 80) ;\r\n    \r\n        // face\r\n        fill(255,192,203) ;\r\n        ellipse(stX, stY, 250, 220);\r\n    \r\n        // eyes\r\n        fill(255) ;\r\n        circle(stX-60, stY-30, 40) ;\r\n        circle(stX+60, stY-30, 40) ;\r\n        // pupil\r\n        fill(0) ;\r\n        circle(stX-60, stY-25, 15);\r\n        circle(stX+60, stY-25, 15);\r\n    \r\n        // nose\r\n        fill(253, 89, 157) ;\r\n        ellipse(stX, stY+20, 60, 50) ;\r\n        fill(253, 144, 214) ;\r\n        noStroke() ;\r\n        circle(stX-15, stY+20, 20) ;\r\n        circle(stX+15, stY+20, 20) ;\r\n    \r\n        //mouth\r\n        fill(255) ;\r\n        noStroke() ;\r\n        arc(stX, stY+60, 50, 40, 0, PI) ;\r\n      }\r\n    \r\n      void mouseSmoved(int x, int y) {\r\n        stX = x;\r\n        stY = y;\r\n        \r\n      }\r\n    }\r\n\r\n\r\n    class Bubble {\r\n    \r\n      float x;\r\n      float y;\r\n      float diameter;\r\n      float yspeed;\r\n    \r\n      Bubble(float tempD) {\r\n        x = random(width);\r\n        y = height;\r\n        diameter = tempD;\r\n        yspeed = random(0.5, 2.5);\r\n      }\r\n    \r\n      void ascend() {\r\n        y = y - yspeed;\r\n        x = x + random(-2,2);\r\n      }\r\n    \r\n      void display() {\r\n        stroke(0);\r\n        noFill();\r\n        //fill(127,100);\r\n        ellipse(x, y, diameter, diameter);\r\n      }\r\n    \r\n      void top() {\r\n        if (y &lt; -diameter/2) {\r\n          y = height+diameter/2;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"My code keeps getting an error that says duplicate method setup","body":"<p>I'm making a creature and need to add a moving background into it so I chose for bubbles.</p>\n<p>On its own it works, same as the movement of the Pig. But when I combine them together it gives the error 'duplicate method setup() in my file.</p>\n<p>Does anyone have any tips what to do?</p>\n<pre><code>Piggy myPiggy;\n\nvoid setup() {\n  size(400, 400) ;\n  background(255) ;\n  myPiggy = new Piggy();\n}\nvoid draw() {\n  background(255) ;\n  myPiggy.display();\n\n}\nvoid mouseDragged() {\n  myPiggy.mouseSmoved(mouseX, mouseY);\n\n}\n\nvoid setup() {\nBubble[] bubbles = new Bubble[300];\n\n  size(640, 360);\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i] = new Bubble(random(60));\n  }\n}\n\nvoid draw() {\n  background(255);\n  for (int i = 0; i &lt; bubbles.length; i++) {\n    bubbles[i].ascend();\n    bubbles[i].display();\n    bubbles[i].top();\n  }\n}\n \nclass Piggy {\n  float pgX= 0 ;\n  float pgY= 0 ;\n  int stX = 0 ;\n  int stY = 0 ;\n  color earColor;\n  color faceColor;\n  \n  Piggy() {\n    stX = width / 2;\n    stY = height / 2;\n  }\n\n  void display () {\n    //ears\n    fill(255,192,203) ;\n    noStroke() ;\n    ellipse(stX-90, stY-70, 60, 100) ;\n    ellipse(stX+90, stY-70, 60, 100) ;\n    fill(stX-90, stY-70, 40, 80) ;\n    fill(stX+90, stY-70, 40, 80) ;\n\n    // face\n    fill(255,192,203) ;\n    ellipse(stX, stY, 250, 220);\n\n    // eyes\n    fill(255) ;\n    circle(stX-60, stY-30, 40) ;\n    circle(stX+60, stY-30, 40) ;\n    // pupil\n    fill(0) ;\n    circle(stX-60, stY-25, 15);\n    circle(stX+60, stY-25, 15);\n\n    // nose\n    fill(253, 89, 157) ;\n    ellipse(stX, stY+20, 60, 50) ;\n    fill(253, 144, 214) ;\n    noStroke() ;\n    circle(stX-15, stY+20, 20) ;\n    circle(stX+15, stY+20, 20) ;\n\n    //mouth\n    fill(255) ;\n    noStroke() ;\n    arc(stX, stY+60, 50, 40, 0, PI) ;\n  }\n\n  void mouseSmoved(int x, int y) {\n    stX = x;\n    stY = y;\n    \n  }\n}\n\n\nclass Bubble {\n\n  float x;\n  float y;\n  float diameter;\n  float yspeed;\n\n  Bubble(float tempD) {\n    x = random(width);\n    y = height;\n    diameter = tempD;\n    yspeed = random(0.5, 2.5);\n  }\n\n  void ascend() {\n    y = y - yspeed;\n    x = x + random(-2,2);\n  }\n\n  void display() {\n    stroke(0);\n    noFill();\n    //fill(127,100);\n    ellipse(x, y, diameter, diameter);\n  }\n\n  void top() {\n    if (y &lt; -diameter/2) {\n      y = height+diameter/2;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","performance","jit"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":5,"creation_date":1658782575,"post_id":73115073,"comment_id":129133045,"body_markdown":"Graal is not JIT.  Further, benchmarking JIT runtimes like HotSpot is _extremely hard_, and I&#39;d guess with something like 98% confidence that you are doing it incorrectly.  Start by reading about and using JMH.","body":"Graal is not JIT.  Further, benchmarking JIT runtimes like HotSpot is <i>extremely hard</i>, and I&#39;d guess with something like 98% confidence that you are doing it incorrectly.  Start by reading about and using JMH."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1658782616,"post_id":73115073,"comment_id":129133053,"body_markdown":"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation","body":"<a href=\"https://developers.redhat.com/articles/2021/06/23/how-jit-compiler-boosts-java-performance-openjdk#deoptimization_and_speculation\" rel=\"nofollow noreferrer\">developers.redhat.com/articles/2021/06/23/&hellip;</a>"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":5,"creation_date":1658783229,"post_id":73115073,"comment_id":129133195,"body_markdown":"@Robert 1.0 *does* exist as a double. It is exactly expressible in binary. Unlike, say, 0.3.","body":"@Robert 1.0 <i>does</i> exist as a double. It is exactly expressible in binary. Unlike, say, 0.3."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1658783941,"post_id":73115073,"comment_id":129133365,"body_markdown":"@Robert What?  Of course the double value 1.0 exists.  The mantissa is 1.0, to as many significant figures as you like, and the exponent is 0.","body":"@Robert What?  Of course the double value 1.0 exists.  The mantissa is 1.0, to as many significant figures as you like, and the exponent is 0."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1658785189,"post_id":73115073,"comment_id":129133652,"body_markdown":"My guess: It has to do with `value` being a _parameter_ in the method version of your code. This makes it much harder to guarantee that `value` will **always** be `0.0`.","body":"My guess: It has to do with <code>value</code> being a <i>parameter</i> in the method version of your code. This makes it much harder to guarantee that <code>value</code> will <b>always</b> be <code>0.0</code>."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658787734,"post_id":73115073,"comment_id":129134190,"body_markdown":"Thanks for the all the comments! It&#39;s nice to see such fast feedbacks! @louis-wasserman I&#39;ve seen JMH somewhere as the proper way to benchmark JIT, it looks a bit complicated but I&#39;ll give it a try. I also tried to read (and watch) as many things as possible regarding JIT runtime optimization, but I&#39;ve never clearly found whether it was actively trying to remove &#39;useless&#39; arithmetic operation (which would bring a big perf advantage to JIT vs AOT compilation). Is it possible in theory ? I hope JMH can reveal why the magic does not seem to happen.","body":"Thanks for the all the comments! It&#39;s nice to see such fast feedbacks! @louis-wasserman I&#39;ve seen JMH somewhere as the proper way to benchmark JIT, it looks a bit complicated but I&#39;ll give it a try. I also tried to read (and watch) as many things as possible regarding JIT runtime optimization, but I&#39;ve never clearly found whether it was actively trying to remove &#39;useless&#39; arithmetic operation (which would bring a big perf advantage to JIT vs AOT compilation). Is it possible in theory ? I hope JMH can reveal why the magic does not seem to happen."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1658790046,"post_id":73115073,"comment_id":129134557,"body_markdown":"What if you call the method many times, instead of just the once? Is it eventually optimized?","body":"What if you call the method many times, instead of just the once? Is it eventually optimized?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1658790518,"post_id":73115073,"comment_id":129134654,"body_markdown":"If I were writing this, I&#39;d be tempted to check at the beginning of the &quot;apply transformation&quot; method whether the transformation is an affine one - and if so, run code that doesn&#39;t have the otiose additions and multiplications.  I don&#39;t feel it&#39;s the JIT&#39;s job to know how likely an expression is to come out to 0 or 1.","body":"If I were writing this, I&#39;d be tempted to check at the beginning of the &quot;apply transformation&quot; method whether the transformation is an affine one - and if so, run code that doesn&#39;t have the otiose additions and multiplications.  I don&#39;t feel it&#39;s the JIT&#39;s job to know how likely an expression is to come out to 0 or 1."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":9,"creation_date":1658792203,"post_id":73115073,"comment_id":129134969,"body_markdown":"Your manually written benchmark collected nearly all pitfalls: no warmup; multiple measurements in one method; measuring an OSR stub instead of a regular compiled method; including printout in the measurement, etc. No wonder the benchmark results are misleading. Please check https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java","body":"Your manually written benchmark collected nearly all pitfalls: no warmup; multiple measurements in one method; measuring an OSR stub instead of a regular compiled method; including printout in the measurement, etc. No wonder the benchmark results are misleading. Please check <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1658792489,"post_id":73115073,"comment_id":129135016,"body_markdown":"*&quot;a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros&quot;* - only if multiplier is known to be a constant at compile time. This is rarely a case in a real application (otherwise, why would you at all leave multiplication by 1 in the source code?)","body":"<i>&quot;a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros&quot;</i> - only if multiplier is known to be a constant at compile time. This is rarely a case in a real application (otherwise, why would you at all leave multiplication by 1 in the source code?)"},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658792598,"post_id":73115073,"comment_id":129135033,"body_markdown":"Ah, ok! Then thanks for the link @apangin. I&#39;ll dig, rewrite, and hope that&#39;ll make a difference. But do you know if such a jit optimisation is possible in theory?","body":"Ah, ok! Then thanks for the link @apangin. I&#39;ll dig, rewrite, and hope that&#39;ll make a difference. But do you know if such a jit optimisation is possible in theory?"},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658792967,"post_id":73115073,"comment_id":129135087,"body_markdown":"@apangin I thought JIT compilation was allowing to do runtime optimisation that were impossible with Aot compilation. If the user enters a translation matrix as an affine transform, I kind of hoped JIT compiled code optimisation could kick in if the same op is repeated many times. Now if it&#39;s not possible, I&#39;m happy to learn that as well.","body":"@apangin I thought JIT compilation was allowing to do runtime optimisation that were impossible with Aot compilation. If the user enters a translation matrix as an affine transform, I kind of hoped JIT compiled code optimisation could kick in if the same op is repeated many times. Now if it&#39;s not possible, I&#39;m happy to learn that as well."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":4,"creation_date":1658793473,"post_id":73115073,"comment_id":129135168,"body_markdown":"HotSpot JIT compiler does not profile operands of arithmetic expressions. That would be too expensive. What it *does* profile is conditional branches and receivers of virtual methods.","body":"HotSpot JIT compiler does not profile operands of arithmetic expressions. That would be too expensive. What it <i>does</i> profile is conditional branches and receivers of virtual methods."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658794952,"post_id":73115073,"comment_id":129135357,"body_markdown":"So afaiu, a computational graph is built during jit compilation, right? If the data flow shows that a static variable is &#39;plugged&#39; to a mult op, it however can&#39;t know that the variable is a one (it&#39;s not profiled), and thus there&#39;s never a reason to remove the op. Is this somewhat the idea?","body":"So afaiu, a computational graph is built during jit compilation, right? If the data flow shows that a static variable is &#39;plugged&#39; to a mult op, it however can&#39;t know that the variable is a one (it&#39;s not profiled), and thus there&#39;s never a reason to remove the op. Is this somewhat the idea?"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658826016,"post_id":73115073,"comment_id":129141944,"body_markdown":"Your can&#39;t rely on your benchmarks to make conclusions about JIT - try JMH. For example remove System.out from tic-toc sections and add a for loop to repeat main a few times and you should see dramatically different results (all cases under 1ms on my PC).","body":"Your can&#39;t rely on your benchmarks to make conclusions about JIT - try JMH. For example remove System.out from tic-toc sections and add a for loop to repeat main a few times and you should see dramatically different results (all cases under 1ms on my PC)."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658831254,"post_id":73115073,"comment_id":129144033,"body_markdown":"@DuncG if I remove System.out, then I guess the compiler can detect that all the code does nothing and thus skips it completely (which is good, but it&#39;s not what I want to test). Shouldn&#39;t I produce and use an output somewhere ? Anyway the upvoted comments are pretty clear : the benchmark is bad, so I need to redo it. It&#39;ll take me some time to get familiar with proper benchmarking however.","body":"@DuncG if I remove System.out, then I guess the compiler can detect that all the code does nothing and thus skips it completely (which is good, but it&#39;s not what I want to test). Shouldn&#39;t I produce and use an output somewhere ? Anyway the upvoted comments are pretty clear : the benchmark is bad, so I need to redo it. It&#39;ll take me some time to get familiar with proper benchmarking however."},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1658831379,"post_id":73115073,"comment_id":129144073,"body_markdown":"@NicolasChiaruttini Right, if the JVM can deduce at JIT compilation time that the operand is constant, it&#39;ll make use of this information. If it can&#39;t deduce statically, JIT won&#39;t look at the actual value.","body":"@NicolasChiaruttini Right, if the JVM can deduce at JIT compilation time that the operand is constant, it&#39;ll make use of this information. If it can&#39;t deduce statically, JIT won&#39;t look at the actual value."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1658833675,"post_id":73115073,"comment_id":129144960,"body_markdown":"@NicolasChiaruttini Not what I&#39;m saying. System.out can be slow and will skew timing if included in your metrics. Just move your System.out lines so they are not inside the timed tic/toc section. Make `repeatMultiply` return value so the result can be printed after `toc()` and not as part of the measurement.","body":"@NicolasChiaruttini Not what I&#39;m saying. System.out can be slow and will skew timing if included in your metrics. Just move your System.out lines so they are not inside the timed tic/toc section. Make <code>repeatMultiply</code> return value so the result can be printed after <code>toc()</code> and not as part of the measurement."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1658843417,"post_id":73115073,"comment_id":129149013,"body_markdown":"I know this isn&#39;t what you asked, but 3D point transformations are very simple and fast even if you do the full matrix. It&#39;s probably not going to be the bottleneck. If it does cause a slowdown, and you know that most of the transformations are simple translations, this is something you can fix yourself explicitly, in any programming language: just check before looping over an array of points, what type of matrix do we have? If it&#39;s just translation only, do the reduced version, otherwise, do the full version.","body":"I know this isn&#39;t what you asked, but 3D point transformations are very simple and fast even if you do the full matrix. It&#39;s probably not going to be the bottleneck. If it does cause a slowdown, and you know that most of the transformations are simple translations, this is something you can fix yourself explicitly, in any programming language: just check before looping over an array of points, what type of matrix do we have? If it&#39;s just translation only, do the reduced version, otherwise, do the full version."},{"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"score":0,"creation_date":1658847557,"post_id":73115073,"comment_id":129150900,"body_markdown":"@Boann, you&#39;re right, but my dream was to go one step further: imagine you need to extract an affine transformed 2d array from a source 2d array, and it&#39;s a case so simple that it turns out to be equivalent to target[i] = source[i+10], maybe the compiler could realize that and then vectorise these operations. JIT compilation would really shine. I&#39;ve read that auto-vectorisation is very difficult, so that probably won&#39;t happen soon.","body":"@Boann, you&#39;re right, but my dream was to go one step further: imagine you need to extract an affine transformed 2d array from a source 2d array, and it&#39;s a case so simple that it turns out to be equivalent to target[i] = source[i+10], maybe the compiler could realize that and then vectorise these operations. JIT compilation would really shine. I&#39;ve read that auto-vectorisation is very difficult, so that probably won&#39;t happen soon."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":1,"creation_date":1658851875,"post_id":73115073,"comment_id":129152643,"body_markdown":"@NicolasChiaruttini I&#39;m not aware of the JIT ever compiling code into multiple choice versions based on particular values of numbers. Unless *all* calls in the entire program are the &quot;simple case&quot;, that&#39;s the kind of optimization that you&#39;d have to do yourself.","body":"@NicolasChiaruttini I&#39;m not aware of the JIT ever compiling code into multiple choice versions based on particular values of numbers. Unless <i>all</i> calls in the entire program are the &quot;simple case&quot;, that&#39;s the kind of optimization that you&#39;d have to do yourself."}],"answers":[{"tags":[],"owner":{"account_id":29480494,"reputation":1,"user_id":22591397,"display_name":"himanshuinnostax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695123271,"creation_date":1695115648,"answer_id":77133311,"question_id":73115073,"body_markdown":"The JIT compiler is cautious about making optimizations that could potentially change the behavior of the code. Even though adding zero or multiplying by one seems unnecessary from a mathematical perspective, these operations may have been explicitly included in the code for a specific reason, such as code readability or to handle edge cases. Removing them could alter the program&#39;s semantics.\r\n","title":"Why does Java&#39;s JIT compiler not seem to remove useless arithmetic operations (+0; *1)?","body":"<p>The JIT compiler is cautious about making optimizations that could potentially change the behavior of the code. Even though adding zero or multiplying by one seems unnecessary from a mathematical perspective, these operations may have been explicitly included in the code for a specific reason, such as code readability or to handle edge cases. Removing them could alter the program's semantics.</p>\n"}],"owner":{"account_id":19554242,"reputation":67,"user_id":14309052,"display_name":"Nicolas Chiaruttini"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":1,"score":5,"last_activity_date":1695123271,"creation_date":1658781327,"question_id":73115073,"body_markdown":"I&#39;m trying to understand what sort of compile-time optimizations I can hope for in Java when a code is executed many times. I&#39;m in particular interested in arithmetic simplifications in the following scenario:\r\n\r\nImagine that you need to transform a million 3d points using the same 3d affine transformation. If the transformation turns out to be a pure translation, a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros.\r\n\r\nBefore trying this &#39;complex scenario&#39;, I just ran some multiplications and additions in loops, and despite the cool stuff I&#39;ve been reading about Java&#39;s JIT compiler(s), I&#39;ve been a bit disappointed.\r\n\r\nFirst - what works: performing many multiplications by 1 seems to be simplified and is executed very fast:\r\n\r\n```java\r\n        tic();\r\n        final int nRepetitions = 100_000_000;\r\n        final double factor1 = 1.0d;\r\n        value = 0.0d;\r\n        for (int i=0;i&lt;nRepetitions;i++) {\r\n            for (int j=0;j&lt;20;j++) {\r\n                value = value * factor1;\r\n            }\r\n        }\r\n        System.out.println(&quot;Result = &quot;+value);\r\n        toc();\r\n```\r\n\r\nI get this execution speed, which is fast:\r\n```\r\n Result with graalvm-ce-17\\bin\\java.exe\r\n ----------------------\r\n Repeating 100000000 multiplication by factor1 = 1.0, a final variable\r\n The code is put in the main method\r\n This is overall is No op, and should be super fast\r\n Result = 0.0\r\n Elapsed time \t64.8528\t ms\r\n ----------------------\r\n```\r\n\r\nIf I perform the same computation, but by calling a function, I do not get any optimization at all, and the execution speed is about 2 seconds.\r\n\r\n\r\n```java\r\n        tic();\r\n        value = 0.0d;\r\n        repeatMultiply(nRepetitions, value, factor1);\r\n        toc();\r\n```\r\n\r\nThe function being:\r\n\r\n```\r\n    public static void repeatMultiply(int nRepetitions, double value, final double multFactor) {\r\n        for (int i=0;i&lt;nRepetitions;i++) {\r\n            for (int j=0;j&lt;20;j++) {\r\n                value = value * multFactor;\r\n            }\r\n        }\r\n        System.out.println(&quot;Result = &quot;+value);\r\n    }\r\n```\r\n\r\nNow the code runs very slowly:\r\n\r\n```\r\n ----------------------\r\n  Repeating 100000000 multiplication by factor1 = 1.0d\r\n  Function called = repeatMultiply\r\n  This is overall is No op, and should be super fast\r\n  Result = 0.0\r\n  Elapsed time \t1815.1354\t ms\r\n```\r\n\r\nI&#39;ve tested other things. Not declaring the variable `factor1` as `final` in the first example destroys the only optimization I saw. I then tried to add zeros instead of multiplying by ones, but it was even worse: I always get the &#39;long&#39; execution time which is about two seconds on my machine.\r\n\r\nI&#39;ve tested Oracle JDK v1.8 and v18, also Graal VM Community Edition 17, but none seemed to make a bit of difference. I&#39;ve put a gist with all the code and tests I performed in https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882\r\n\r\nI hope you can enlighten me and let me know if these results reflect an intrinsic limitation of Java&#39;s JIT compilers of if I&#39;ve done something wrong in my testing.\r\n\r\nIs there any way my goal (auto-optimisation of affine transformations computation) can be reached with JIT compilation, or should I stop dreaming and explicitely test the &quot;simple scenario&quot; (like translation) explicitely in the Java code ?\r\n\r\n**EDIT**\r\n\r\nIs it possible that the Computed Constants JEP https://openjdk.org/jeps/8312611 would allow for such optimisations or is it totally irrelevant ? ","title":"Why does Java&#39;s JIT compiler not seem to remove useless arithmetic operations (+0; *1)?","body":"<p>I'm trying to understand what sort of compile-time optimizations I can hope for in Java when a code is executed many times. I'm in particular interested in arithmetic simplifications in the following scenario:</p>\n<p>Imagine that you need to transform a million 3d points using the same 3d affine transformation. If the transformation turns out to be a pure translation, a good optimizer would be able to turn 12 multiplications and 12 additions into 3 additions only, because all multiplications are multiplications by 1 and many additions are additions with zeros.</p>\n<p>Before trying this 'complex scenario', I just ran some multiplications and additions in loops, and despite the cool stuff I've been reading about Java's JIT compiler(s), I've been a bit disappointed.</p>\n<p>First - what works: performing many multiplications by 1 seems to be simplified and is executed very fast:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        tic();\n        final int nRepetitions = 100_000_000;\n        final double factor1 = 1.0d;\n        value = 0.0d;\n        for (int i=0;i&lt;nRepetitions;i++) {\n            for (int j=0;j&lt;20;j++) {\n                value = value * factor1;\n            }\n        }\n        System.out.println(&quot;Result = &quot;+value);\n        toc();\n</code></pre>\n<p>I get this execution speed, which is fast:</p>\n<pre><code> Result with graalvm-ce-17\\bin\\java.exe\n ----------------------\n Repeating 100000000 multiplication by factor1 = 1.0, a final variable\n The code is put in the main method\n This is overall is No op, and should be super fast\n Result = 0.0\n Elapsed time   64.8528  ms\n ----------------------\n</code></pre>\n<p>If I perform the same computation, but by calling a function, I do not get any optimization at all, and the execution speed is about 2 seconds.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        tic();\n        value = 0.0d;\n        repeatMultiply(nRepetitions, value, factor1);\n        toc();\n</code></pre>\n<p>The function being:</p>\n<pre><code>    public static void repeatMultiply(int nRepetitions, double value, final double multFactor) {\n        for (int i=0;i&lt;nRepetitions;i++) {\n            for (int j=0;j&lt;20;j++) {\n                value = value * multFactor;\n            }\n        }\n        System.out.println(&quot;Result = &quot;+value);\n    }\n</code></pre>\n<p>Now the code runs very slowly:</p>\n<pre><code> ----------------------\n  Repeating 100000000 multiplication by factor1 = 1.0d\n  Function called = repeatMultiply\n  This is overall is No op, and should be super fast\n  Result = 0.0\n  Elapsed time  1815.1354    ms\n</code></pre>\n<p>I've tested other things. Not declaring the variable <code>factor1</code> as <code>final</code> in the first example destroys the only optimization I saw. I then tried to add zeros instead of multiplying by ones, but it was even worse: I always get the 'long' execution time which is about two seconds on my machine.</p>\n<p>I've tested Oracle JDK v1.8 and v18, also Graal VM Community Edition 17, but none seemed to make a bit of difference. I've put a gist with all the code and tests I performed in <a href=\"https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882\" rel=\"nofollow noreferrer\">https://gist.github.com/NicoKiaru/2949e6969087e75b07b21596d80c7882</a></p>\n<p>I hope you can enlighten me and let me know if these results reflect an intrinsic limitation of Java's JIT compilers of if I've done something wrong in my testing.</p>\n<p>Is there any way my goal (auto-optimisation of affine transformations computation) can be reached with JIT compilation, or should I stop dreaming and explicitely test the &quot;simple scenario&quot; (like translation) explicitely in the Java code ?</p>\n<p><strong>EDIT</strong></p>\n<p>Is it possible that the Computed Constants JEP <a href=\"https://openjdk.org/jeps/8312611\" rel=\"nofollow noreferrer\">https://openjdk.org/jeps/8312611</a> would allow for such optimisations or is it totally irrelevant ?</p>\n"},{"tags":["java","image","pdf","itext","pdfbox"],"comments":[{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1695118216,"post_id":77133625,"comment_id":135978391,"body_markdown":"You could try https://github.com/danfickle/openhtmltopdf","body":"You could try <a href=\"https://github.com/danfickle/openhtmltopdf\" rel=\"nofollow noreferrer\">github.com/danfickle/openhtmltopdf</a>"}],"answers":[{"comments":[{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1695121240,"post_id":77133668,"comment_id":135978897,"body_markdown":"Thank you for your input. Does it also support image generation?","body":"Thank you for your input. Does it also support image generation?"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1695121341,"post_id":77133668,"comment_id":135978914,"body_markdown":"Please, see: https://stackoverflow.com/questions/59160419/java-convert-html-to-image","body":"Please, see: <a href=\"https://stackoverflow.com/questions/59160419/java-convert-html-to-image\" title=\"java convert html to image\">stackoverflow.com/questions/59160419/java-convert-html-to-im&zwnj;&#8203;age</a>"},{"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"score":1,"creation_date":1695122974,"post_id":77133668,"comment_id":135979189,"body_markdown":"yes. it can also be used to generate images from HTML content in addition to PDF generation.","body":"yes. it can also be used to generate images from HTML content in addition to PDF generation."},{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1695635300,"post_id":77133668,"comment_id":136045904,"body_markdown":"safXcode - can you tell what jar should I use to import org.xhtmlrenderer.pdf.ITextRenderer? can you check this forum  as well https://stackoverflow.com/questions/77170646/create-a-pdf-file-from-html-specified-via-url-using-flying-saucer?","body":"safXcode - can you tell what jar should I use to import org.xhtmlrenderer.pdf.ITextRenderer? can you check this forum  as well <a href=\"https://stackoverflow.com/questions/77170646/create-a-pdf-file-from-html-specified-via-url-using-flying-saucer\" title=\"create a pdf file from html specified via url using flying saucer\">stackoverflow.com/questions/77170646/&hellip;</a>?"},{"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"score":0,"creation_date":1695702052,"post_id":77133668,"comment_id":136055933,"body_markdown":"Is it open source or paid version ? can you confirm ?","body":"Is it open source or paid version ? can you confirm ?"},{"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"score":0,"creation_date":1695724765,"post_id":77133668,"comment_id":136059776,"body_markdown":"open-source for sure","body":"open-source for sure"},{"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"score":0,"creation_date":1695724929,"post_id":77133668,"comment_id":136059813,"body_markdown":"go to their github repo and read GETTING STARTED","body":"go to their github repo and read GETTING STARTED"}],"tags":[],"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1695123166,"creation_date":1695118495,"answer_id":77133668,"question_id":77133625,"body_markdown":"You can use **Flying Saucer**:  Flying Saucer is a Java library that can convert XHTML and HTML documents to PDF and images. It can render web pages, including external resources, and convert them into PDFs or images.\r\n\r\n**GitHub Repository**: https://github.com/flyingsaucerproject/flyingsaucer\r\n\r\nHere&#39;s a basic example using Flying Saucer to convert HTML to a PDF in Java:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n\r\n    import org.xhtmlrenderer.pdf.ITextRenderer;\r\n\r\n    public class HtmlToPdfConverter {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://example.com&quot;; // Replace with your desired URL\r\n            String outputPdfFile = &quot;output.pdf&quot;;\r\n\r\n            // Create an ITextRenderer instance\r\n            ITextRenderer renderer = new ITextRenderer();\r\n\r\n            // Set the URL to be converted\r\n            renderer.setDocument(url);\r\n\r\n            // Perform the layout and render to PDF\r\n            renderer.layout();\r\n            renderer.createPDF(outputPdfFile);\r\n\r\n            // Close the renderer\r\n            renderer.finishPDF();\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nPlease note that you&#39;ll need to handle exceptions, configure options, and adapt the code to your specific requirements, such as adding error handling, specifying output paths, and adjusting rendering settings.\r\n\r\n\r\n**edit** \r\nTo generate image you can refer below code snippet\r\n\r\n&lt;!-- begin snippet: js hide: false console: false babel: false --&gt;\r\n\r\n\r\n\r\n    import org.xhtmlrenderer.simple.Graphics2DRenderer;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import javax.imageio.ImageIO;\r\n\r\n    public class HtmlToImageConverter {\r\n        public static void main(String[] args) throws Exception {\r\n            String url = &quot;http://example.com&quot;; // Replace with your desired URL\r\n            String outputImageFile = &quot;output.png&quot;;\r\n\r\n            // Create a Graphics2DRenderer instance\r\n            Graphics2DRenderer renderer = new Graphics2DRenderer();\r\n\r\n            // Set the URL to be converted\r\n            renderer.setDocument(url);\r\n\r\n            // Perform layout\r\n            renderer.layout();\r\n\r\n            // Create a BufferedImage\r\n            BufferedImage image = new BufferedImage(renderer.getWidth(),\r\n                                                      renderer.getHeight(),\r\n                                                      BufferedImage.TYPE_INT_RGB);\r\n\r\n            // Render HTML content to the BufferedImage\r\n            renderer.createPDF(image.createGraphics(), false);\r\n\r\n            // Save the BufferedImage as an image file\r\n            File outputFile = new File(outputImageFile);\r\n            ImageIO.write(image, &quot;png&quot;, outputFile);\r\n\r\n            System.out.println(&quot;Image saved to: &quot; + outputFile.getAbsolutePath());\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Create a PDF file from HTML specified via URL","body":"<p>You can use <strong>Flying Saucer</strong>:  Flying Saucer is a Java library that can convert XHTML and HTML documents to PDF and images. It can render web pages, including external resources, and convert them into PDFs or images.</p>\n<p><strong>GitHub Repository</strong>: <a href=\"https://github.com/flyingsaucerproject/flyingsaucer\" rel=\"nofollow noreferrer\">https://github.com/flyingsaucerproject/flyingsaucer</a></p>\n<p>Here's a basic example using Flying Saucer to convert HTML to a PDF in Java:</p>\n<pre><code>import org.xhtmlrenderer.pdf.ITextRenderer;\n\npublic class HtmlToPdfConverter {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;http://example.com&quot;; // Replace with your desired URL\n        String outputPdfFile = &quot;output.pdf&quot;;\n\n        // Create an ITextRenderer instance\n        ITextRenderer renderer = new ITextRenderer();\n\n        // Set the URL to be converted\n        renderer.setDocument(url);\n\n        // Perform the layout and render to PDF\n        renderer.layout();\n        renderer.createPDF(outputPdfFile);\n\n        // Close the renderer\n        renderer.finishPDF();\n    }\n}\n</code></pre>\n<p>Please note that you'll need to handle exceptions, configure options, and adapt the code to your specific requirements, such as adding error handling, specifying output paths, and adjusting rendering settings.</p>\n<p><strong>edit</strong>\nTo generate image you can refer below code snippet</p>\n<pre><code>import org.xhtmlrenderer.simple.Graphics2DRenderer;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport javax.imageio.ImageIO;\n\npublic class HtmlToImageConverter {\n    public static void main(String[] args) throws Exception {\n        String url = &quot;http://example.com&quot;; // Replace with your desired URL\n        String outputImageFile = &quot;output.png&quot;;\n\n        // Create a Graphics2DRenderer instance\n        Graphics2DRenderer renderer = new Graphics2DRenderer();\n\n        // Set the URL to be converted\n        renderer.setDocument(url);\n\n        // Perform layout\n        renderer.layout();\n\n        // Create a BufferedImage\n        BufferedImage image = new BufferedImage(renderer.getWidth(),\n                                                  renderer.getHeight(),\n                                                  BufferedImage.TYPE_INT_RGB);\n\n        // Render HTML content to the BufferedImage\n        renderer.createPDF(image.createGraphics(), false);\n\n        // Save the BufferedImage as an image file\n        File outputFile = new File(outputImageFile);\n        ImageIO.write(image, &quot;png&quot;, outputFile);\n\n        System.out.println(&quot;Image saved to: &quot; + outputFile.getAbsolutePath());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1076957,"reputation":1015,"user_id":1074881,"accept_rate":57,"display_name":"ezhil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77133668,"answer_count":1,"score":0,"last_activity_date":1695123166,"creation_date":1695118041,"question_id":77133625,"body_markdown":"I would like to generate a PDF and Image file from HTML specified via URL(page) and send it to an external system. I need to perform this generation logic in java. The most popular and widely used libraries for generating PDFs from HTML are Apache PDFBox and iText. But is there any tool available to generate PDF and image based on the page URL?","title":"Create a PDF file from HTML specified via URL","body":"<p>I would like to generate a PDF and Image file from HTML specified via URL(page) and send it to an external system. I need to perform this generation logic in java. The most popular and widely used libraries for generating PDFs from HTML are Apache PDFBox and iText. But is there any tool available to generate PDF and image based on the page URL?</p>\n"},{"tags":["java","authentication","httpclient","kerberos","java-17"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1692962942,"post_id":76970101,"comment_id":135699584,"body_markdown":"According to [MS documentation](https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/understanding-http-authentication)  the authentication scheme you are searching for is named `Negotiate` - but I am not sure if this is still used as it was developed for IE.","body":"According to <a href=\"https://learn.microsoft.com/en-us/dotnet/framework/wcf/feature-details/understanding-http-authentication\" rel=\"nofollow noreferrer\">MS documentation</a>  the authentication scheme you are searching for is named <code>Negotiate</code> - but I am not sure if this is still used as it was developed for IE."}],"answers":[{"tags":[],"owner":{"account_id":2573759,"reputation":347,"user_id":2231919,"accept_rate":82,"display_name":"Spyridon Non Serviam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695122957,"creation_date":1695122957,"answer_id":77134152,"question_id":76970101,"body_markdown":"I ended up going for the Spring based approach (it is a Spring project either way), which is cleaner and easier, as seen in [this simple example][1].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security-kerberos/blob/main/spring-security-kerberos-samples/sec-client-rest-template/src/main/java/demo/app/Application.java","title":"Kerberos auth with Apache httpcomponents (httpclient5)","body":"<p>I ended up going for the Spring based approach (it is a Spring project either way), which is cleaner and easier, as seen in <a href=\"https://github.com/spring-projects/spring-security-kerberos/blob/main/spring-security-kerberos-samples/sec-client-rest-template/src/main/java/demo/app/Application.java\" rel=\"nofollow noreferrer\">this simple example</a>.</p>\n"}],"owner":{"account_id":2573759,"reputation":347,"user_id":2231919,"accept_rate":82,"display_name":"Spyridon Non Serviam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77134152,"answer_count":1,"score":1,"last_activity_date":1695122957,"creation_date":1692885855,"question_id":76970101,"body_markdown":"I want to migrate from Apache httpclient (v3.x and Java 8) to httpcomponents (httpclient5 and Java 17) and move away from my NTLM auth to Kerberos. I have not found any example though on how to do this. I am only finding examples of v4.x and below. Any ideas how to do this in v5.x? Is it even possible?\r\n\r\nA rough version of my code currently:\r\n\r\n    CredentialsProvider credsProvider;\r\n    RequestConfig requestConfig;\r\n    credsProvider = new BasicCredentialsProvider();\r\n    credsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\r\n    requestConfig = RequestConfig.custom().setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\r\n    HttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\r\n    \t\t\t\t.setDefaultRequestConfig(requestConfig).build();\r\n    HttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\r\n    requestFactory.setHttpClient(httpClient);\r\n    RestTemplate restTemplate = new RestTemplate(requestFactory);\r\n    restTemplate.getForObject(url, String.class);","title":"Kerberos auth with Apache httpcomponents (httpclient5)","body":"<p>I want to migrate from Apache httpclient (v3.x and Java 8) to httpcomponents (httpclient5 and Java 17) and move away from my NTLM auth to Kerberos. I have not found any example though on how to do this. I am only finding examples of v4.x and below. Any ideas how to do this in v5.x? Is it even possible?</p>\n<p>A rough version of my code currently:</p>\n<pre><code>CredentialsProvider credsProvider;\nRequestConfig requestConfig;\ncredsProvider = new BasicCredentialsProvider();\ncredsProvider.setCredentials(AuthScope.ANY, new NTCredentials(user, pass, host, domain));\nrequestConfig = RequestConfig.custom().setTargetPreferredAuthSchemes(Collections.singletonList(AuthSchemes.NTLM)).build();\nHttpClient httpClient = HttpClients.custom().setDefaultCredentialsProvider(credsProvider)\n                .setDefaultRequestConfig(requestConfig).build();\nHttpComponentsClientHttpRequestFactory requestFactory = new HttpComponentsClientHttpRequestFactory();\nrequestFactory.setHttpClient(httpClient);\nRestTemplate restTemplate = new RestTemplate(requestFactory);\nrestTemplate.getForObject(url, String.class);\n</code></pre>\n"},{"tags":["java","json","karate","gherkin"],"comments":[{"owner":{"account_id":11698906,"reputation":1250,"user_id":8564731,"display_name":"Jeremy Fiel"},"score":1,"creation_date":1695124222,"post_id":77133993,"comment_id":135979413,"body_markdown":"You have string values for `crc`, `debtor`, and `creditor` but your schema expects `integer`","body":"You have string values for <code>crc</code>, <code>debtor</code>, and <code>creditor</code> but your schema expects <code>integer</code>"}],"owner":{"account_id":8611883,"reputation":43,"user_id":22504890,"display_name":"user22504890"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695121527,"creation_date":1695121527,"question_id":77133993,"body_markdown":"I have OpenApi spec yaml file where I have schema like this: \r\n\r\n    &quot;schemas&quot; : {\r\n          &quot;bankFilteringBic_200_response&quot; : {\r\n            &quot;allOf&quot; : [ {\r\n              &quot;properties&quot; : {\r\n                &quot;debtor&quot; : {\r\n                  &quot;example&quot; : 1,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                },\r\n                &quot;creditor&quot; : {\r\n                  &quot;example&quot; : 2,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                },\r\n                &quot;currency&quot; : {\r\n                  &quot;example&quot; : 3,\r\n                  &quot;type&quot; : &quot;integer&quot;\r\n                }\r\n              },\r\n              &quot;type&quot; : &quot;object&quot;\r\n            } ]\r\n          }\r\n        }\r\n      }\r\n\r\nAnd my test is look like this : \r\n\r\n    Feature: print hello world feature\r\n    \r\n    Background:\r\n      * url &#39;http://localhost:8080&#39;\r\n      * def myRequest = read(&#39;classpath:bank-filtering.json&#39;).components.schemas.bankFilteringBic_request\r\n      * def expectedSchema = read(&#39;classpath:bank-filtering.json&#39;).components.schemas.bankFilteringBic_200_response\r\n      * def expectedTypes = {}\r\n    \r\n      # Extract property names and types from the schema\r\n      * def schemaProperties = expectedSchema.allOf[0].properties\r\n      * karate.forEach(schemaProperties, function(key, value){ expectedTypes[key] = &quot;#&quot; + value.type })\r\n    \r\n    \r\n      Scenario: Hello World Scenario\r\n    \r\n      Given path &#39;bankfiltering/bic&#39;\r\n      And request { processingEntity: &#39;ULSBGB2B&#39;, csmAgentID: &#39;SIC&#39;, debtor: &#39;LOYDGB21063&#39;, creditor: &#39;BARCGB22&#39;, currency: &#39;CRC&#39; }\r\n      When method POST\r\n      And path &#39;bankfiltering/bic&#39;\r\n      Then status 200\r\n      And match response == expectedTypes\r\n      And print response\r\n\r\nBut when I run it I am getting this error \r\n\r\n    [ForkJoinPool-1-worker-3] ERROR com.intuit.karate - assertion failed: path: $.debtor, actual: 0, expected: &#39;#integer&#39;, reason: not equal\r\n    \r\n    sample.feature:21 - path: $.debtor, actual: 0, expected: &#39;#integer&#39;, reason: not equal\r\n\r\nI just want to validate my response with this schema which I am retrieving from the my OpenApi spec. Where I am mistaking and how to fix the problem? I was reading https://github.com/karatelabs/karate#schema-validation but could not find a solution for this problem.","title":"How to validate schema from OpenApi specification with my response in Karate?","body":"<p>I have OpenApi spec yaml file where I have schema like this:</p>\n<pre><code>&quot;schemas&quot; : {\n      &quot;bankFilteringBic_200_response&quot; : {\n        &quot;allOf&quot; : [ {\n          &quot;properties&quot; : {\n            &quot;debtor&quot; : {\n              &quot;example&quot; : 1,\n              &quot;type&quot; : &quot;integer&quot;\n            },\n            &quot;creditor&quot; : {\n              &quot;example&quot; : 2,\n              &quot;type&quot; : &quot;integer&quot;\n            },\n            &quot;currency&quot; : {\n              &quot;example&quot; : 3,\n              &quot;type&quot; : &quot;integer&quot;\n            }\n          },\n          &quot;type&quot; : &quot;object&quot;\n        } ]\n      }\n    }\n  }\n</code></pre>\n<p>And my test is look like this :</p>\n<pre><code>Feature: print hello world feature\n\nBackground:\n  * url 'http://localhost:8080'\n  * def myRequest = read('classpath:bank-filtering.json').components.schemas.bankFilteringBic_request\n  * def expectedSchema = read('classpath:bank-filtering.json').components.schemas.bankFilteringBic_200_response\n  * def expectedTypes = {}\n\n  # Extract property names and types from the schema\n  * def schemaProperties = expectedSchema.allOf[0].properties\n  * karate.forEach(schemaProperties, function(key, value){ expectedTypes[key] = &quot;#&quot; + value.type })\n\n\n  Scenario: Hello World Scenario\n\n  Given path 'bankfiltering/bic'\n  And request { processingEntity: 'ULSBGB2B', csmAgentID: 'SIC', debtor: 'LOYDGB21063', creditor: 'BARCGB22', currency: 'CRC' }\n  When method POST\n  And path 'bankfiltering/bic'\n  Then status 200\n  And match response == expectedTypes\n  And print response\n</code></pre>\n<p>But when I run it I am getting this error</p>\n<pre><code>[ForkJoinPool-1-worker-3] ERROR com.intuit.karate - assertion failed: path: $.debtor, actual: 0, expected: '#integer', reason: not equal\n\nsample.feature:21 - path: $.debtor, actual: 0, expected: '#integer', reason: not equal\n</code></pre>\n<p>I just want to validate my response with this schema which I am retrieving from the my OpenApi spec. Where I am mistaking and how to fix the problem? I was reading <a href=\"https://github.com/karatelabs/karate#schema-validation\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#schema-validation</a> but could not find a solution for this problem.</p>\n"},{"tags":["java","file","intellij-idea","javafx","jar"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1695144656,"post_id":77133944,"comment_id":135983751,"body_markdown":"Further info is in the runtime images section of the getting started documentation at openjfx.io.","body":"Further info is in the runtime images section of the getting started documentation at openjfx.io."}],"owner":{"account_id":28857700,"reputation":21,"user_id":22102164,"display_name":"Antonella Sannino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695141688,"answer_count":0,"score":0,"last_activity_date":1695121040,"creation_date":1695121040,"question_id":77133944,"body_markdown":"I&#39;ve created a maze for a project i&#39;ve to do to pass an exam, when i try to generate a jar file and i try to run i&#39;ve got this problem: JNI error has occurred. \r\nSomeone can help me? i don&#39;t know what to do i&#39;m using intellij and jdk 20, when i try to run it by java -jar Maze.jar in the terminal it just crush. I&#39;m using also sqlite in this project with javafx. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/imWHq.png)](https://i.stack.imgur.com/imWHq.png)\r\n\r\n\r\n[![[![[![My project:](https://i.stack.imgur.com/DZ5mu.png)](https://i.stack.imgur.com/DZ5mu.png)](https://i.stack.imgur.com/iCyjr.png)](https://i.stack.imgur.com/iCyjr.png)](https://i.stack.imgur.com/41R9D.png)](https://i.stack.imgur.com/41R9D.png)\r\n\r\n\r\n\r\nto start jar file, for exporting my project.","title":"Generated JAR file - JNI error has occurred intellij","body":"<p>I've created a maze for a project i've to do to pass an exam, when i try to generate a jar file and i try to run i've got this problem: JNI error has occurred.\nSomeone can help me? i don't know what to do i'm using intellij and jdk 20, when i try to run it by java -jar Maze.jar in the terminal it just crush. I'm using also sqlite in this project with javafx.</p>\n<p><a href=\"https://i.stack.imgur.com/imWHq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imWHq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/41R9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41R9D.png\" alt=\"My project:\" /></a></p>\n<p>to start jar file, for exporting my project.</p>\n"},{"tags":["java","android","kotlin","jcodec"],"comments":[{"owner":{"account_id":16285107,"reputation":1793,"user_id":11760058,"display_name":"cachius"},"score":1,"creation_date":1652184378,"post_id":72132908,"comment_id":127540281,"body_markdown":"The got-to solution for A/V file manipulation [ffmpeg](/q/7333232) can also [be used on Android](https://www.geeksforgeeks.org/how-to-use-ffmpeg-in-android-with-example/). Maybe give it a try.","body":"The got-to solution for A/V file manipulation <a href=\"/q/7333232\">ffmpeg</a> can also <a href=\"https://www.geeksforgeeks.org/how-to-use-ffmpeg-in-android-with-example/\" rel=\"nofollow noreferrer\">be used on Android</a>. Maybe give it a try."}],"answers":[{"comments":[{"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"score":0,"creation_date":1652040355,"post_id":72162362,"comment_id":127503875,"body_markdown":"Thanks. Currently I&#39;m using mp4parser to merge mp4 files but it has a lot of problems in merging video files. For example when video frame rates are a little different. because of that i decided to migrate to jcodec but don&#39;t know how to use it in that way. Also there is a library called ffmpeg which is great but it increases app size.","body":"Thanks. Currently I&#39;m using mp4parser to merge mp4 files but it has a lot of problems in merging video files. For example when video frame rates are a little different. because of that i decided to migrate to jcodec but don&#39;t know how to use it in that way. Also there is a library called ffmpeg which is great but it increases app size."},{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":1,"creation_date":1652040574,"post_id":72162362,"comment_id":127503917,"body_markdown":"@Hadi since you&#39;re merging sub-files from the same original file they should have the same frame rate, right? Also, the example I&#39;ve linked you is with 2 mp4 files gathered from a single file","body":"@Hadi since you&#39;re merging sub-files from the same original file they should have the same frame rate, right? Also, the example I&#39;ve linked you is with 2 mp4 files gathered from a single file"}],"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695120886,"creation_date":1652022658,"answer_id":72162362,"question_id":72132908,"body_markdown":"I don&#39;t really know `jcodec`, but I&#39;ve used `MP4parser` in the past. If you need to merge mp4 files, regardless of the library, then I suggest you this one. I&#39;m just pitching it to you because I don&#39;t know if you&#39;re having problems in merging the files due to the complexity of the library. It might be worth giving it a shot. MP4Parser is quite easy and straightforward. I&#39;ll also leave you the link to the maven repository.\r\n\r\nhttps://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar\r\n\r\nHere there&#39;s an implementation I&#39;ve done to show you how to merge 2 files from the same original video (to replicate your exact case). Basically, you have a `Movie` class, which represents your mp4 file, containing a  `List` of `Track` (only 2); one representing the video while the other the audio. \r\n\r\n1. First, I&#39;ve collected from the movies all the video and audio tracks in two separate arrays.\r\n\r\n2. Then, I&#39;ve created a `List` with the merged audio `Track` and the merged video `Track` in order to set it to the output file.\r\n\r\n3. Finally, I&#39;ve built the `Movie` inside a `Container` and saved it with a `FileOutputStream`.\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        MovieCreator mc = new MovieCreator();\r\n        Movie movie1 = mc.build(&quot;./test1.mp4&quot;);\r\n        Movie movie2 = mc.build(&quot;./test2.mp4&quot;);\r\n\r\n        //Fetching the video tracks from the movies and storing them into an array\r\n        Track[] vetTrackVideo = new Track[0];\r\n        vetTrackVideo = Stream.of(movie1, movie2)\r\n                .flatMap(movie -&gt; movie.getTracks().stream())\r\n                .filter(movie -&gt; movie.getHandler().equals(&quot;vide&quot;))\r\n                .collect(Collectors.toList())\r\n                .toArray(vetTrackVideo);\r\n\r\n        //Fetching the audio tracks from the movies and storing them into an array\r\n        Track[] vetTrackAudio = new Track[0];\r\n        vetTrackAudio = Stream.of(movie1, movie2)\r\n                .flatMap(movie -&gt; movie.getTracks().stream())\r\n                .filter(movie -&gt; movie.getHandler().equals(&quot;soun&quot;))\r\n                .collect(Collectors.toList())\r\n                .toArray(vetTrackAudio);\r\n\r\n        //Creating the output movie by setting a list with both video and audio tracks\r\n        Movie movieOutput = new Movie();\r\n        List&lt;Track&gt; listTracks = new ArrayList&lt;&gt;(List.of(new AppendTrack(vetTrackVideo), new AppendTrack(vetTrackAudio)));\r\n        movieOutput.setTracks(listTracks);\r\n\r\n        //Building the output movie and storing it into a Container\r\n        DefaultMp4Builder mp4Builder = new DefaultMp4Builder();\r\n        Container c = mp4Builder.build(movieOutput);\r\n\r\n        //Writing the output file\r\n        FileOutputStream fos = new FileOutputStream(&quot;output.mp4&quot;);\r\n        c.writeContainer(fos.getChannel());\r\n        fos.close();\r\n    }\r\n}\r\n```\r\n\r\nHere, I&#39;ll also leave you a link to my GitHub repository with the test mp4 files so that you can test the merging sample.\r\n\r\nhttps://github.com/daniele-aveta/StackOverflow-MP4Merger\r\n","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>I don't really know <code>jcodec</code>, but I've used <code>MP4parser</code> in the past. If you need to merge mp4 files, regardless of the library, then I suggest you this one. I'm just pitching it to you because I don't know if you're having problems in merging the files due to the complexity of the library. It might be worth giving it a shot. MP4Parser is quite easy and straightforward. I'll also leave you the link to the maven repository.</p>\n<p><a href=\"https://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.googlecode.mp4parser/isoparser/1.1.22/jar</a></p>\n<p>Here there's an implementation I've done to show you how to merge 2 files from the same original video (to replicate your exact case). Basically, you have a <code>Movie</code> class, which represents your mp4 file, containing a  <code>List</code> of <code>Track</code> (only 2); one representing the video while the other the audio.</p>\n<ol>\n<li><p>First, I've collected from the movies all the video and audio tracks in two separate arrays.</p>\n</li>\n<li><p>Then, I've created a <code>List</code> with the merged audio <code>Track</code> and the merged video <code>Track</code> in order to set it to the output file.</p>\n</li>\n<li><p>Finally, I've built the <code>Movie</code> inside a <code>Container</code> and saved it with a <code>FileOutputStream</code>.</p>\n</li>\n</ol>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        MovieCreator mc = new MovieCreator();\n        Movie movie1 = mc.build(&quot;./test1.mp4&quot;);\n        Movie movie2 = mc.build(&quot;./test2.mp4&quot;);\n\n        //Fetching the video tracks from the movies and storing them into an array\n        Track[] vetTrackVideo = new Track[0];\n        vetTrackVideo = Stream.of(movie1, movie2)\n                .flatMap(movie -&gt; movie.getTracks().stream())\n                .filter(movie -&gt; movie.getHandler().equals(&quot;vide&quot;))\n                .collect(Collectors.toList())\n                .toArray(vetTrackVideo);\n\n        //Fetching the audio tracks from the movies and storing them into an array\n        Track[] vetTrackAudio = new Track[0];\n        vetTrackAudio = Stream.of(movie1, movie2)\n                .flatMap(movie -&gt; movie.getTracks().stream())\n                .filter(movie -&gt; movie.getHandler().equals(&quot;soun&quot;))\n                .collect(Collectors.toList())\n                .toArray(vetTrackAudio);\n\n        //Creating the output movie by setting a list with both video and audio tracks\n        Movie movieOutput = new Movie();\n        List&lt;Track&gt; listTracks = new ArrayList&lt;&gt;(List.of(new AppendTrack(vetTrackVideo), new AppendTrack(vetTrackAudio)));\n        movieOutput.setTracks(listTracks);\n\n        //Building the output movie and storing it into a Container\n        DefaultMp4Builder mp4Builder = new DefaultMp4Builder();\n        Container c = mp4Builder.build(movieOutput);\n\n        //Writing the output file\n        FileOutputStream fos = new FileOutputStream(&quot;output.mp4&quot;);\n        c.writeContainer(fos.getChannel());\n        fos.close();\n    }\n}\n</code></pre>\n<p>Here, I'll also leave you a link to my GitHub repository with the test mp4 files so that you can test the merging sample.</p>\n<p><a href=\"https://github.com/daniele-aveta/StackOverflow-MP4Merger\" rel=\"nofollow noreferrer\">https://github.com/daniele-aveta/StackOverflow-MP4Merger</a></p>\n"},{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1652555812,"creation_date":1652555812,"answer_id":72243230,"question_id":72132908,"body_markdown":"You can do this with **ffmpeg**.\r\n\r\n1. First you will need to write the file paths to a txt file\r\n\r\ntxt file with : \r\n\r\n - file &#39;/sdcard/video/video1.mp4&#39; \r\n - file &#39;/sdcard/video/video2.mp4&#39; \r\n - file &#39;/sdcard/video/video3.mp4&#39; \r\n - file &#39;/sdcard/video/video4.mp4&#39;\r\n\r\nYou can use following command. \r\n\r\n    ffmpeg -f concat -i mp4list.txt -c:v copy -c:a copy merging.mp4\r\n\r\n2. You can write a wrapper over the Java code. Additionally, you can use the code below.\r\n\r\nResource to help : [link][1]\r\n\r\n\r\n  [1]: https://github.com/WritingMinds/ffmpeg-android-java\r\n\r\n    String[] cmd = new String[]{&quot;-f&quot;, &quot;concat&quot;, &quot;-safe&quot;, &quot;0&quot;, &quot;-i&quot;, &quot;mp4list.txt&quot;, &quot;-c&quot;, &quot;copy&quot;, &quot;-preset&quot;, &quot;ultrafast&quot;, outFile};\r\n    \r\n    ffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\r\n        \r\n            @Override\r\n            public void onFailure(String message){\r\n            }\r\n            @Override\r\n            public void onSuccess(String message){\r\n            }\r\n            @Override\r\n            public void onProgress(String message){\r\n            }\r\n        \r\n            @Override\r\n            public void onStart(){\r\n            }\r\n        \r\n            @Override\r\n            public void onFinish(){\r\n            }\r\n        }\r\n\r\n","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>You can do this with <strong>ffmpeg</strong>.</p>\n<ol>\n<li>First you will need to write the file paths to a txt file</li>\n</ol>\n<p>txt file with :</p>\n<ul>\n<li>file '/sdcard/video/video1.mp4'</li>\n<li>file '/sdcard/video/video2.mp4'</li>\n<li>file '/sdcard/video/video3.mp4'</li>\n<li>file '/sdcard/video/video4.mp4'</li>\n</ul>\n<p>You can use following command.</p>\n<pre><code>ffmpeg -f concat -i mp4list.txt -c:v copy -c:a copy merging.mp4\n</code></pre>\n<ol start=\"2\">\n<li>You can write a wrapper over the Java code. Additionally, you can use the code below.</li>\n</ol>\n<p>Resource to help : <a href=\"https://github.com/WritingMinds/ffmpeg-android-java\" rel=\"nofollow noreferrer\">link</a></p>\n<pre><code>String[] cmd = new String[]{&quot;-f&quot;, &quot;concat&quot;, &quot;-safe&quot;, &quot;0&quot;, &quot;-i&quot;, &quot;mp4list.txt&quot;, &quot;-c&quot;, &quot;copy&quot;, &quot;-preset&quot;, &quot;ultrafast&quot;, outFile};\n\nffmpeg.execute(cmd, new ExecuteBinaryResponseHandler(){\n    \n        @Override\n        public void onFailure(String message){\n        }\n        @Override\n        public void onSuccess(String message){\n        }\n        @Override\n        public void onProgress(String message){\n        }\n    \n        @Override\n        public void onStart(){\n        }\n    \n        @Override\n        public void onFinish(){\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1695120886,"creation_date":1651780337,"question_id":72132908,"body_markdown":"I have multiple mp4 files which are parts of a whole mp4 file. They have been just split up to smaller files. \r\n\r\nI want to combine those files programmatically into one mp4 file using [jcodec][1] in Java. Currently, I&#39;m using the following code to do this:\r\n\r\n```\r\nimport org.jcodec.common.DemuxerTrack;\r\nimport org.jcodec.common.MuxerTrack;\r\nimport org.jcodec.common.io.SeekableByteChannel;\r\nimport org.jcodec.common.model.Packet;\r\nimport org.jcodec.containers.mp4.Brand;\r\nimport org.jcodec.containers.mp4.demuxer.MP4Demuxer;\r\nimport org.jcodec.containers.mp4.muxer.MP4Muxer;\r\n\r\nimport java.io.File;\r\nimport java.util.List;\r\n\r\nimport static org.jcodec.common.io.NIOUtils.readableChannel;\r\nimport static org.jcodec.common.io.NIOUtils.writableChannel;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        File outputFile = new File(&quot;file_path_output.mp4&quot;);\r\n        outputFile.mkdirs();\r\n        outputFile.delete();\r\n\r\n        File[] inputFiles = new File[]{\r\n                new File(&quot;file_path_1.mp4&quot;),\r\n                new File(&quot;file_path_2.mp4&quot;),\r\n                new File(&quot;file_path_3.mp4&quot;),\r\n        };\r\n\r\n        SeekableByteChannel output = writableChannel(outputFile);\r\n        MP4Muxer mp4Muxer = MP4Muxer.createMP4Muxer(output, Brand.MP4);\r\n\r\n        MuxerTrack mixedVideoTrack = null;\r\n        MuxerTrack mixedAudioTrack = null;\r\n        for (File input : inputFiles) {\r\n            SeekableByteChannel byteChannel = readableChannel(input);\r\n            MP4Demuxer demuxer = MP4Demuxer.createMP4Demuxer(byteChannel);\r\n            List&lt;DemuxerTrack&gt; videoTracks = demuxer.getVideoTracks();\r\n            List&lt;DemuxerTrack&gt; audioTracks = demuxer.getAudioTracks();\r\n            if (mixedVideoTrack == null) {\r\n                mixedVideoTrack = mp4Muxer.addVideoTrack(videoTracks.get(0).getMeta().getCodec(), videoTracks.get(0).getMeta().getVideoCodecMeta());\r\n            }\r\n            if (mixedAudioTrack == null) {\r\n                mixedAudioTrack = mp4Muxer.addAudioTrack(audioTracks.get(0).getMeta().getCodec(), audioTracks.get(0).getMeta().getAudioCodecMeta());\r\n            }\r\n            for (DemuxerTrack videoTrack : videoTracks) {\r\n                Packet packet;\r\n                while ((packet = videoTrack.nextFrame()) != null) {\r\n                    mixedVideoTrack.addFrame(packet);\r\n                }\r\n            }\r\n            for (DemuxerTrack audioTrack : audioTracks) {\r\n                Packet packet;\r\n                while ((packet = audioTrack.nextFrame()) != null) {\r\n                    mixedAudioTrack.addFrame(packet);\r\n                }\r\n            }\r\n            demuxer.close();\r\n        }\r\n\r\n        mp4Muxer.finish();\r\n        output.close();\r\n    }\r\n}\r\n```\r\n\r\nUnfortunately, it does not work as the video generated does not contain audio files nor correct frames. For example, all visual frames I get are like one below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat is the problem and how can I fix it? Thank you very much.\r\n\r\n  [1]: https://github.com/jcodec/jcodec\r\n  [2]: https://i.stack.imgur.com/mLS3G.jpg","title":"How to combine multiple mp4 videos into one video using jcodec in Java?","body":"<p>I have multiple mp4 files which are parts of a whole mp4 file. They have been just split up to smaller files.</p>\n<p>I want to combine those files programmatically into one mp4 file using <a href=\"https://github.com/jcodec/jcodec\" rel=\"nofollow noreferrer\">jcodec</a> in Java. Currently, I'm using the following code to do this:</p>\n<pre><code>import org.jcodec.common.DemuxerTrack;\nimport org.jcodec.common.MuxerTrack;\nimport org.jcodec.common.io.SeekableByteChannel;\nimport org.jcodec.common.model.Packet;\nimport org.jcodec.containers.mp4.Brand;\nimport org.jcodec.containers.mp4.demuxer.MP4Demuxer;\nimport org.jcodec.containers.mp4.muxer.MP4Muxer;\n\nimport java.io.File;\nimport java.util.List;\n\nimport static org.jcodec.common.io.NIOUtils.readableChannel;\nimport static org.jcodec.common.io.NIOUtils.writableChannel;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        File outputFile = new File(&quot;file_path_output.mp4&quot;);\n        outputFile.mkdirs();\n        outputFile.delete();\n\n        File[] inputFiles = new File[]{\n                new File(&quot;file_path_1.mp4&quot;),\n                new File(&quot;file_path_2.mp4&quot;),\n                new File(&quot;file_path_3.mp4&quot;),\n        };\n\n        SeekableByteChannel output = writableChannel(outputFile);\n        MP4Muxer mp4Muxer = MP4Muxer.createMP4Muxer(output, Brand.MP4);\n\n        MuxerTrack mixedVideoTrack = null;\n        MuxerTrack mixedAudioTrack = null;\n        for (File input : inputFiles) {\n            SeekableByteChannel byteChannel = readableChannel(input);\n            MP4Demuxer demuxer = MP4Demuxer.createMP4Demuxer(byteChannel);\n            List&lt;DemuxerTrack&gt; videoTracks = demuxer.getVideoTracks();\n            List&lt;DemuxerTrack&gt; audioTracks = demuxer.getAudioTracks();\n            if (mixedVideoTrack == null) {\n                mixedVideoTrack = mp4Muxer.addVideoTrack(videoTracks.get(0).getMeta().getCodec(), videoTracks.get(0).getMeta().getVideoCodecMeta());\n            }\n            if (mixedAudioTrack == null) {\n                mixedAudioTrack = mp4Muxer.addAudioTrack(audioTracks.get(0).getMeta().getCodec(), audioTracks.get(0).getMeta().getAudioCodecMeta());\n            }\n            for (DemuxerTrack videoTrack : videoTracks) {\n                Packet packet;\n                while ((packet = videoTrack.nextFrame()) != null) {\n                    mixedVideoTrack.addFrame(packet);\n                }\n            }\n            for (DemuxerTrack audioTrack : audioTracks) {\n                Packet packet;\n                while ((packet = audioTrack.nextFrame()) != null) {\n                    mixedAudioTrack.addFrame(packet);\n                }\n            }\n            demuxer.close();\n        }\n\n        mp4Muxer.finish();\n        output.close();\n    }\n}\n</code></pre>\n<p>Unfortunately, it does not work as the video generated does not contain audio files nor correct frames. For example, all visual frames I get are like one below:</p>\n<p><a href=\"https://i.stack.imgur.com/mLS3G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mLS3G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>What is the problem and how can I fix it? Thank you very much.</p>\n"},{"tags":["java","spring-boot","sorting","pagination"],"owner":{"account_id":16033864,"reputation":83,"user_id":11572068,"display_name":"SAKSHI YADAV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695120884,"creation_date":1695120884,"question_id":77133929,"body_markdown":"I have to implement pagination in a table whose records updates frequently.\r\nI have a sorting criteria based on Priority, but the Priority of records can keep on changing and they needs to be shift accordingly.\r\nThere is a socket event which notifies about Priority change in action to that the record placement is changed.\r\n\r\nThis needs to be achieved via Infinite scrolling.\r\n\r\nPlease suggest something","title":"Pagination with constantly updating data","body":"<p>I have to implement pagination in a table whose records updates frequently.\nI have a sorting criteria based on Priority, but the Priority of records can keep on changing and they needs to be shift accordingly.\nThere is a socket event which notifies about Priority change in action to that the record placement is changed.</p>\n<p>This needs to be achieved via Infinite scrolling.</p>\n<p>Please suggest something</p>\n"},{"tags":["java","android","webview","webresource"],"owner":{"account_id":4152478,"reputation":37,"user_id":3404508,"accept_rate":100,"display_name":"Avadhesh18"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695120720,"creation_date":1695120720,"question_id":77133909,"body_markdown":"I am trying to intercept a `WebResource` request from webview, make the request in the app and then return the response back with extra headers. However it is not working. The only two headers that are set are `content-type` and `content-length`. These two headers have correct values but no other extra headers are set. Not even using the newer [WebResourceResponse][1]\r\n\r\n\r\n        public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n            String url = request.getUrl().toString();\r\n    if (url.contains(2_DOMAIN)) {\r\n              \r\n    if(url.contains(&quot;yesintercept&quot;)) {\r\n        String gresponse = makeGetRequest(url);\r\n        Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\r\n        responseHeaders.put(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);    \r\n        WebResourceResponse response = new WebResourceResponse(&quot;application/vnd.apple.mpegurl&quot;, &quot;utf-8&quot;,new ByteArrayInputStream(gresponse.getBytes()));\r\n        response.setResponseHeaders(responseHeaders);\r\n    \r\n        return response;\r\n    }\r\n    else {\r\n    \r\n           \r\n        return super.shouldInterceptRequest(view, request);\r\n    }\r\n            }\r\n            else {\r\n                return super.shouldInterceptRequest(view, request);\r\n            }\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebResourceResponse#WebResourceResponse(java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.util.Map%3Cjava.lang.String,java.lang.String%3E,%20java.io.InputStream)","title":"WebResourceResponse won&#39;t set the headers provided","body":"<p>I am trying to intercept a <code>WebResource</code> request from webview, make the request in the app and then return the response back with extra headers. However it is not working. The only two headers that are set are <code>content-type</code> and <code>content-length</code>. These two headers have correct values but no other extra headers are set. Not even using the newer <a href=\"https://developer.android.com/reference/android/webkit/WebResourceResponse#WebResourceResponse(java.lang.String,%20java.lang.String,%20int,%20java.lang.String,%20java.util.Map%3Cjava.lang.String,java.lang.String%3E,%20java.io.InputStream)\" rel=\"nofollow noreferrer\">WebResourceResponse</a></p>\n<pre><code>    public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n        String url = request.getUrl().toString();\nif (url.contains(2_DOMAIN)) {\n          \nif(url.contains(&quot;yesintercept&quot;)) {\n    String gresponse = makeGetRequest(url);\n    Map&lt;String, String&gt; responseHeaders = new HashMap&lt;&gt;();\n    responseHeaders.put(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);    \n    WebResourceResponse response = new WebResourceResponse(&quot;application/vnd.apple.mpegurl&quot;, &quot;utf-8&quot;,new ByteArrayInputStream(gresponse.getBytes()));\n    response.setResponseHeaders(responseHeaders);\n\n    return response;\n}\nelse {\n\n       \n    return super.shouldInterceptRequest(view, request);\n}\n        }\n        else {\n            return super.shouldInterceptRequest(view, request);\n        }\n    }\n</code></pre>\n"},{"tags":["java","unit-testing","testing","junit","environment-variables"],"comments":[{"owner":{"account_id":337871,"reputation":1438,"user_id":666397,"display_name":"Atif"},"score":0,"creation_date":1497280425,"post_id":8168884,"comment_id":75999432,"body_markdown":"Since this is for testing, the System Rules unit test rule may be the best answer at the present.","body":"Since this is for testing, the System Rules unit test rule may be the best answer at the present."},{"owner":{"account_id":3682862,"reputation":1323,"user_id":3067411,"display_name":"Felipe Martins Melo"},"score":4,"creation_date":1549964072,"post_id":8168884,"comment_id":96084975,"body_markdown":"Just for those interested in the same question while using JUnit 5: https://stackoverflow.com/questions/46846503/properly-set-system-properties-in-junit-5","body":"Just for those interested in the same question while using JUnit 5: <a href=\"https://stackoverflow.com/questions/46846503/properly-set-system-properties-in-junit-5\" title=\"properly set system properties in junit 5\">stackoverflow.com/questions/46846503/&hellip;</a>"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1597869809,"post_id":8168884,"comment_id":112277521,"body_markdown":"@FelipeMartinsMelo that question is about system properties, not environment variables. Here is a JUnit 5-compatible solution for environment variables: https://stackoverflow.com/a/63494695/3429133","body":"@FelipeMartinsMelo that question is about system properties, not environment variables. Here is a JUnit 5-compatible solution for environment variables: <a href=\"https://stackoverflow.com/a/63494695/3429133\">stackoverflow.com/a/63494695/3429133</a>"},{"owner":{"account_id":65427,"reputation":10919,"user_id":192529,"accept_rate":81,"display_name":"Timur Sadykov"},"score":0,"creation_date":1609672388,"post_id":8168884,"comment_id":115890311,"body_markdown":"here is a hack to set env variables for JUNIT: https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java","body":"here is a hack to set env variables for JUNIT: <a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java\" title=\"how do i set environment variables from java\">stackoverflow.com/questions/318239/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":265483,"reputation":5939,"user_id":552469,"accept_rate":83,"display_name":"Andrea Colleoni"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1321540896,"creation_date":1321540896,"answer_id":8168970,"question_id":8168884,"body_markdown":"Decouple the Java code from the Environment variable providing a more abstract variable reader that you realize with an EnvironmentVariableReader your code to test reads from.\r\n\r\nThen in your test you can give an different implementation of the variable reader that provides your test values.\r\n\r\nDependency injection can help in this.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Decouple the Java code from the Environment variable providing a more abstract variable reader that you realize with an EnvironmentVariableReader your code to test reads from.</p>\n\n<p>Then in your test you can give an different implementation of the variable reader that provides your test values.</p>\n\n<p>Dependency injection can help in this.</p>\n"},{"comments":[{"owner":{"account_id":1780512,"reputation":96,"user_id":1623387,"display_name":"Andrew"},"score":28,"creation_date":1588704590,"post_id":8169008,"comment_id":109000179,"body_markdown":"I know this question is old, but I wanted to say that this is the correct answer. The accepted answer encourages poor design with a hidden dependency on System, whereas this answer encourages a proper design treating System as just another dependency that should be injected.","body":"I know this question is old, but I wanted to say that this is the correct answer. The accepted answer encourages poor design with a hidden dependency on System, whereas this answer encourages a proper design treating System as just another dependency that should be injected."},{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":1,"creation_date":1639668561,"post_id":8169008,"comment_id":124412610,"body_markdown":"seek this answer if you don&#39;t care about the coverage percentage being 100% but care more about good design and separation of concerns. If you really want to reach the 100% use this and the previous answer to test this service","body":"seek this answer if you don&#39;t care about the coverage percentage being 100% but care more about good design and separation of concerns. If you really want to reach the 100% use this and the previous answer to test this service"}],"tags":[],"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"comment_count":2,"down_vote_count":1,"up_vote_count":136,"is_accepted":false,"score":135,"last_activity_date":1321542152,"creation_date":1321541043,"answer_id":8169008,"question_id":8168884,"body_markdown":"The usual solution is to create a class which manages the access to this environmental variable, which you can then mock in your test class.\r\n\r\n    public class Environment {\r\n        public String getVariable() {\r\n            return System.getenv(); // or whatever\r\n        }\r\n    }\r\n    \r\n    public class ServiceTest {\r\n        private static class MockEnvironment {\r\n            public String getVariable() {\r\n               return &quot;foobar&quot;;\r\n            }\r\n        }\r\n    \r\n        @Test public void testService() {\r\n            service.doSomething(new MockEnvironment());\r\n        }\r\n    }\r\n\r\nThe class under test then gets the environment variable using the Environment class, not directly from System.getenv().","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The usual solution is to create a class which manages the access to this environmental variable, which you can then mock in your test class.</p>\n\n<pre><code>public class Environment {\n    public String getVariable() {\n        return System.getenv(); // or whatever\n    }\n}\n\npublic class ServiceTest {\n    private static class MockEnvironment {\n        public String getVariable() {\n           return \"foobar\";\n        }\n    }\n\n    @Test public void testService() {\n        service.doSomething(new MockEnvironment());\n    }\n}\n</code></pre>\n\n<p>The class under test then gets the environment variable using the Environment class, not directly from System.getenv().</p>\n"},{"tags":[],"owner":{"account_id":43453,"reputation":16185,"user_id":127035,"accept_rate":71,"display_name":"ewan.chalmers"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1321541132,"creation_date":1321541132,"answer_id":8169030,"question_id":8168884,"body_markdown":"[This answer][1] to the question [How do I set environment variables from Java?][2] provides a way to alter the (unmodifiable) Map in System.getenv(). So while it doesn&#39;t REALLY change the value of the OS environment variable, it can be used for unit testing as it does change what [System.getenv][3] will return.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java/496849#496849\r\n  [2]: https://stackoverflow.com/q/318239/127035\r\n  [3]: http://download.oracle.com/javase/1,5.0/docs/api/java/lang/System.html#getenv%28java.lang.String%29","title":"How to test code dependent on environment variables using JUnit?","body":"<p><a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java/496849#496849\">This answer</a> to the question <a href=\"https://stackoverflow.com/q/318239/127035\">How do I set environment variables from Java?</a> provides a way to alter the (unmodifiable) Map in System.getenv(). So while it doesn't REALLY change the value of the OS environment variable, it can be used for unit testing as it does change what <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/java/lang/System.html#getenv%28java.lang.String%29\" rel=\"noreferrer\">System.getenv</a> will return.</p>\n"},{"tags":[],"owner":{"account_id":334630,"reputation":5349,"user_id":661196,"accept_rate":79,"display_name":"Cygnusx1"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1321541175,"creation_date":1321541175,"answer_id":8169043,"question_id":8168884,"body_markdown":"Well you can use the setup() method to declare the different values of your env. variables in constants.  Then use these constants in the tests methods used to test the different scenario.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Well you can use the setup() method to declare the different values of your env. variables in constants.  Then use these constants in the tests methods used to test the different scenario.</p>\n"},{"comments":[{"owner":{"account_id":5616780,"reputation":1050,"user_id":4447817,"display_name":"Tanmoy Bhattacharjee"},"score":2,"creation_date":1520315874,"post_id":8169361,"comment_id":85253473,"body_markdown":"The main point is not not to access the env variables from the junit test","body":"The main point is not not to access the env variables from the junit test"}],"tags":[],"owner":{"account_id":121626,"reputation":8142,"user_id":314862,"accept_rate":76,"display_name":"Dimitri"},"comment_count":1,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1321542287,"creation_date":1321542287,"answer_id":8169361,"question_id":8168884,"body_markdown":"If you want to retrieve informations about the environment variable in Java, you can call the method : `System.getenv();`. As the properties, this method returns a Map containing  the variable names as keys and the variable values as the map values. Here is an example : \r\n\r\n        import java.util.Map;\r\n    \r\n    public class EnvMap {\r\n        public static void main (String[] args) {\r\n            Map&lt;String, String&gt; env = System.getenv();\r\n            for (String envName : env.keySet()) {\r\n                System.out.format(&quot;%s=%s%n&quot;, envName, env.get(envName));\r\n            }\r\n        }\r\n    }\r\n\r\nThe method `getEnv()` can also takes an argument. For instance :\r\n\r\n    String myvalue = System.getEnv(&quot;MY_VARIABLE&quot;);\r\n\r\nFor testing, I would do something like this : \r\n\r\n    public class Environment {\r\n        public static String getVariable(String variable) {\r\n           return  System.getenv(variable);\r\n    }\r\n    \r\n    @Test\r\n     public class EnvVariableTest {\r\n    \r\n         @Test testVariable1(){\r\n             String value = Environment.getVariable(&quot;MY_VARIABLE1&quot;);\r\n             doSometest(value); \r\n         }\r\n        \r\n        @Test testVariable2(){\r\n           String value2 = Environment.getVariable(&quot;MY_VARIABLE2&quot;);\r\n           doSometest(value); \r\n         }   \r\n     }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>If you want to retrieve informations about the environment variable in Java, you can call the method : <code>System.getenv();</code>. As the properties, this method returns a Map containing  the variable names as keys and the variable values as the map values. Here is an example : </p>\n\n<pre><code>    import java.util.Map;\n\npublic class EnvMap {\n    public static void main (String[] args) {\n        Map&lt;String, String&gt; env = System.getenv();\n        for (String envName : env.keySet()) {\n            System.out.format(\"%s=%s%n\", envName, env.get(envName));\n        }\n    }\n}\n</code></pre>\n\n<p>The method <code>getEnv()</code> can also takes an argument. For instance :</p>\n\n<pre><code>String myvalue = System.getEnv(\"MY_VARIABLE\");\n</code></pre>\n\n<p>For testing, I would do something like this : </p>\n\n<pre><code>public class Environment {\n    public static String getVariable(String variable) {\n       return  System.getenv(variable);\n}\n\n@Test\n public class EnvVariableTest {\n\n     @Test testVariable1(){\n         String value = Environment.getVariable(\"MY_VARIABLE1\");\n         doSometest(value); \n     }\n\n    @Test testVariable2(){\n       String value2 = Environment.getVariable(\"MY_VARIABLE2\");\n       doSometest(value); \n     }   \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412962,"reputation":494,"user_id":786339,"display_name":"pgkelley"},"comment_count":0,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1435157672,"creation_date":1435157672,"answer_id":31029944,"question_id":8168884,"body_markdown":"I think the cleanest way to do this is with Mockito.spy(). It&#39;s a bit more lightweight than creating a separate class to mock and pass around.\r\n\r\nMove your environment variable fetching to another method:\r\n\r\n    @VisibleForTesting\r\n    String getEnvironmentVariable(String envVar) {\r\n        return System.getenv(envVar);\r\n    }\r\n\r\nNow in your unit test do this:\r\n\r\n    @Test\r\n    public void test() {\r\n        ClassToTest classToTest = new ClassToTest();\r\n        ClassToTest classToTestSpy = Mockito.spy(classToTest);\r\n        Mockito.when(classToTestSpy.getEnvironmentVariable(&quot;key&quot;)).thenReturn(&quot;value&quot;);\r\n        // Now test the method that uses getEnvironmentVariable\r\n        assertEquals(&quot;changedvalue&quot;, classToTestSpy.methodToTest());\r\n    }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I think the cleanest way to do this is with Mockito.spy(). It's a bit more lightweight than creating a separate class to mock and pass around.</p>\n\n<p>Move your environment variable fetching to another method:</p>\n\n<pre><code>@VisibleForTesting\nString getEnvironmentVariable(String envVar) {\n    return System.getenv(envVar);\n}\n</code></pre>\n\n<p>Now in your unit test do this:</p>\n\n<pre><code>@Test\npublic void test() {\n    ClassToTest classToTest = new ClassToTest();\n    ClassToTest classToTestSpy = Mockito.spy(classToTest);\n    Mockito.when(classToTestSpy.getEnvironmentVariable(\"key\")).thenReturn(\"value\");\n    // Now test the method that uses getEnvironmentVariable\n    assertEquals(\"changedvalue\", classToTestSpy.methodToTest());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":1,"creation_date":1469534474,"post_id":35393623,"comment_id":64566664,"body_markdown":"I am using this as @ClassRule, do I need to reset or clear it after use, if yes then how?","body":"I am using this as @ClassRule, do I need to reset or clear it after use, if yes then how?"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1469548215,"post_id":35393623,"comment_id":64577076,"body_markdown":"You don&#39;t need to. The original environment variables are automatically reset by the rule after all tests in the class are executed.","body":"You don&#39;t need to. The original environment variables are automatically reset by the rule after all tests in the class are executed."},{"owner":{"account_id":8921473,"reputation":1917,"user_id":6657842,"display_name":"RLD"},"score":0,"creation_date":1497630938,"post_id":35393623,"comment_id":76175882,"body_markdown":"This approach only works for JUnit 4 or higher version. Not recommended for JUnit 3 or lower version or if you mix JUnit 4 and JUnit 3.","body":"This approach only works for JUnit 4 or higher version. Not recommended for JUnit 3 or lower version or if you mix JUnit 4 and JUnit 3."},{"owner":{"account_id":6770994,"reputation":565,"user_id":5214346,"display_name":"Jean Bob"},"score":2,"creation_date":1532617579,"post_id":35393623,"comment_id":90051741,"body_markdown":"`import org.junit.contrib.java.lang.system.EnvironmentVariables;`\nYou will need to add the dependency `com.github.stefanbirkner:system-rules` in your project. It&#39;s available in MavenCentral.","body":"<code>import org.junit.contrib.java.lang.system.EnvironmentVariables;</code> You will need to add the dependency <code>com.github.stefanbirkner:system-rules</code> in your project. It&#39;s available in MavenCentral."},{"owner":{"account_id":436394,"reputation":2218,"user_id":823533,"display_name":"Guilherme Garnier"},"score":2,"creation_date":1565276103,"post_id":35393623,"comment_id":101310831,"body_markdown":"Here are the instructions to add the dependency: https://stefanbirkner.github.io/system-rules/download.html","body":"Here are the instructions to add the dependency: <a href=\"https://stefanbirkner.github.io/system-rules/download.html\" rel=\"nofollow noreferrer\">stefanbirkner.github.io/system-rules/download.html</a>"},{"owner":{"account_id":3489860,"reputation":2204,"user_id":2919822,"accept_rate":78,"display_name":"JavaDevSweden"},"score":0,"creation_date":1571395562,"post_id":35393623,"comment_id":103236301,"body_markdown":"This worked once when running tests in eclipse, but after that it keeps throwing this exception: \njava.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=mytest], {ExactMatcher:fDisplayName=mytest(se.mypackage...)], {LeadingIdentifierMatcher:fClassName=se.mypackage...,fLeadingIdentifier=mytest]] from org.junit.internal.requests.ClassRequest@33cb5951\n\tat org.junit.internal.requests.FilterRequest.getRunner(FilterRequest.java:40)\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.createFilteredTest(JUnit4TestLoader.java:83)\n...","body":"This worked once when running tests in eclipse, but after that it keeps throwing this exception:  java.lang.Exception: No tests found matching [{ExactMatcher:fDisplayName=mytest], {ExactMatcher:fDisplayName=mytest(se.mypackage...)], {LeadingIdentifierMatcher:fClassName=se.mypackage...,fLeadin&zwnj;&#8203;gIdentifier=mytest]] from org.junit.internal.requests.ClassRequest@33cb5951 \tat org.junit.internal.requests.FilterRequest.getRunner(FilterRe&zwnj;&#8203;quest.java:40) \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestLoader.crea&zwnj;&#8203;teFilteredTest(JUnit&zwnj;&#8203;4TestLoader.java:83) ..."},{"owner":{"account_id":51094,"reputation":9008,"user_id":152578,"accept_rate":100,"display_name":"CPerkins"},"score":1,"creation_date":1585322669,"post_id":35393623,"comment_id":107727076,"body_markdown":"Stefan, this sounds fantastic - but does this change the value of the environment variables for the code under test?   Forgive me if the answer is obvious, but neither your answer nor the SystemRules readme seem to answer my question.","body":"Stefan, this sounds fantastic - but does this change the value of the environment variables for the code under test?   Forgive me if the answer is obvious, but neither your answer nor the SystemRules readme seem to answer my question."},{"owner":{"account_id":6671152,"reputation":377,"user_id":5147250,"accept_rate":29,"display_name":"ab_"},"score":0,"creation_date":1594486011,"post_id":35393623,"comment_id":111145597,"body_markdown":"Trying this from a scala FunSpec test suit with Junit 4.12. I set the variable using this approach but System.getenv is still returning null for the same variable.","body":"Trying this from a scala FunSpec test suit with Junit 4.12. I set the variable using this approach but System.getenv is still returning null for the same variable."},{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":0,"creation_date":1623189277,"post_id":35393623,"comment_id":120007103,"body_markdown":"Current Maven Search Link : https://mvnrepository.com/artifact/com.github.stefanbirkner/system-lambda","body":"Current Maven Search Link : <a href=\"https://mvnrepository.com/artifact/com.github.stefanbirkner/system-lambda\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.github.stefanbirkner/&hellip;</a>"},{"owner":{"account_id":1674847,"reputation":797,"user_id":1540624,"accept_rate":57,"display_name":"amitkumar12788"},"score":0,"creation_date":1631664760,"post_id":35393623,"comment_id":122282096,"body_markdown":"I have one private instance integer field which is taking it&#39;s input from system.getenv(), this is throwing NumberFormatException because of parsing of null value.\n \nI set environment variable using @Rule public final EnvironmentVariables environmentVariable, with Library System Rules.\n \nit&#39;s running fine when I am running individual test case or the class but failing while running whole test suite.\n\nany suggestion here?","body":"I have one private instance integer field which is taking it&#39;s input from system.getenv(), this is throwing NumberFormatException because of parsing of null value.   I set environment variable using @Rule public final EnvironmentVariables environmentVariable, with Library System Rules.   it&#39;s running fine when I am running individual test case or the class but failing while running whole test suite.  any suggestion here?"},{"owner":{"account_id":987386,"reputation":1567,"user_id":1005567,"display_name":"spekdrum"},"score":1,"creation_date":1635859224,"post_id":35393623,"comment_id":123400441,"body_markdown":"It seems System Lambda doesn&#39;t work with Java 16 and 17 \nhttps://github.com/stefanbirkner/system-lambda/issues/23","body":"It seems System Lambda doesn&#39;t work with Java 16 and 17  <a href=\"https://github.com/stefanbirkner/system-lambda/issues/23\" rel=\"nofollow noreferrer\">github.com/stefanbirkner/system-lambda/issues/23</a>"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1655488601,"post_id":35393623,"comment_id":128352614,"body_markdown":"Or `@ClassRule` if `System.getenv()` happens while assigning the field at startup time. Initialize it in `@BeforeClass`.","body":"Or <code>@ClassRule</code> if <code>System.getenv()</code> happens while assigning the field at startup time. Initialize it in <code>@BeforeClass</code>."},{"owner":{"account_id":1215286,"reputation":7830,"user_id":1183010,"accept_rate":80,"display_name":"R. Oosterholt"},"score":0,"creation_date":1675693480,"post_id":35393623,"comment_id":132978132,"body_markdown":"When facing `InaccessibleObjectExceptions` (Java 16+), try using a fork of System Lambda called [system stubs](https://github.com/webcompere/system-stubs).","body":"When facing <code>InaccessibleObjectExceptions</code> (Java 16+), try using a fork of System Lambda called <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">system stubs</a>."}],"tags":[],"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"comment_count":13,"down_vote_count":4,"up_vote_count":259,"is_accepted":true,"score":255,"last_activity_date":1663270602,"creation_date":1455464573,"answer_id":35393623,"question_id":8168884,"body_markdown":"The library [System Lambda][1] has a method `withEnvironmentVariable` for setting environment variables.\r\n\r\n    import static com.github.stefanbirkner.systemlambda.SystemLambda.*;\r\n\r\n\tpublic void EnvironmentVariablesTest {\r\n\t  @Test\r\n\t  public void setEnvironmentVariable() {\r\n        String value = withEnvironmentVariable(&quot;name&quot;, &quot;value&quot;)\r\n          .execute(() -&gt; System.getenv(&quot;name&quot;));\r\n        assertEquals(&quot;value&quot;, value);\r\n      }\r\n\t}\r\n\r\nFor Java 5 to 7 the library [System Rules][2] has a JUnit rule called `EnvironmentVariables`.\r\n\r\n\r\n    import org.junit.contrib.java.lang.system.EnvironmentVariables;\r\n\r\n    public class EnvironmentVariablesTest {\r\n      @Rule\r\n      public final EnvironmentVariables environmentVariables\r\n        = new EnvironmentVariables();\r\n\r\n      @Test\r\n      public void setEnvironmentVariable() {\r\n        environmentVariables.set(&quot;name&quot;, &quot;value&quot;);\r\n        assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\r\n      }\r\n    }\r\n\r\n\r\nFull disclosure: I&#39;m the author of both libraries. \r\n\r\n  [1]: https://github.com/stefanbirkner/system-lambda/\r\n  [2]: https://github.com/stefanbirkner/system-rules","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The library <a href=\"https://github.com/stefanbirkner/system-lambda/\" rel=\"noreferrer\">System Lambda</a> has a method <code>withEnvironmentVariable</code> for setting environment variables.</p>\n<pre><code>import static com.github.stefanbirkner.systemlambda.SystemLambda.*;\n\npublic void EnvironmentVariablesTest {\n  @Test\n  public void setEnvironmentVariable() {\n    String value = withEnvironmentVariable(&quot;name&quot;, &quot;value&quot;)\n      .execute(() -&gt; System.getenv(&quot;name&quot;));\n    assertEquals(&quot;value&quot;, value);\n  }\n}\n</code></pre>\n<p>For Java 5 to 7 the library <a href=\"https://github.com/stefanbirkner/system-rules\" rel=\"noreferrer\">System Rules</a> has a JUnit rule called <code>EnvironmentVariables</code>.</p>\n<pre><code>import org.junit.contrib.java.lang.system.EnvironmentVariables;\n\npublic class EnvironmentVariablesTest {\n  @Rule\n  public final EnvironmentVariables environmentVariables\n    = new EnvironmentVariables();\n\n  @Test\n  public void setEnvironmentVariable() {\n    environmentVariables.set(&quot;name&quot;, &quot;value&quot;);\n    assertEquals(&quot;value&quot;, System.getenv(&quot;name&quot;));\n  }\n}\n</code></pre>\n<p>Full disclosure: I'm the author of both libraries.</p>\n"},{"comments":[{"owner":{"account_id":342992,"reputation":801,"user_id":674442,"accept_rate":60,"display_name":"Semo"},"score":6,"creation_date":1570615840,"post_id":44594009,"comment_id":102966101,"body_markdown":"This solution is the best and should be the accepted one, because you won&#39;t need anything additional like a lib. Maven alone is handy enough. Thank you @RLD","body":"This solution is the best and should be the accepted one, because you won&#39;t need anything additional like a lib. Maven alone is handy enough. Thank you @RLD"},{"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"score":4,"creation_date":1575035202,"post_id":44594009,"comment_id":104443685,"body_markdown":"@Semo it requires maven though, which is much bigger requirement than using a lib. It couples the Junit Test to the pom, and the test now always need to be executed from mvn, instead of running it directly on the IDE the usual way.","body":"@Semo it requires maven though, which is much bigger requirement than using a lib. It couples the Junit Test to the pom, and the test now always need to be executed from mvn, instead of running it directly on the IDE the usual way."},{"owner":{"account_id":8921473,"reputation":1917,"user_id":6657842,"display_name":"RLD"},"score":0,"creation_date":1575488035,"post_id":44594009,"comment_id":104587483,"body_markdown":"@Chirlo, it depends on what you want your program to tie with. Using Maven, you can configure in one place and write neat and concise code. If you use library, you have to write code in multiple places. Regarding your point of running JUnits, you can run JUnits from IDE like Eclipse even if you use Maven.","body":"@Chirlo, it depends on what you want your program to tie with. Using Maven, you can configure in one place and write neat and concise code. If you use library, you have to write code in multiple places. Regarding your point of running JUnits, you can run JUnits from IDE like Eclipse even if you use Maven."},{"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"score":0,"creation_date":1575489049,"post_id":44594009,"comment_id":104587898,"body_markdown":"@RLD, the only way I know of in Eclipse would be running it as a &#39;Maven&#39;  run configuration instead of a Junit which is much more cumbersome and just has text output instead of the normal Junit view. And I don&#39;t quite follow your point of neat and concise code and having to write code in multiple places. For me, having test data in the pom  that is then used in a Junit test is more obscure than having them together. I was in this situation recently and ended up following MathewFarwell&#39;s approach, no need for libraries/pom tricks and everything is together in the same test.","body":"@RLD, the only way I know of in Eclipse would be running it as a &#39;Maven&#39;  run configuration instead of a Junit which is much more cumbersome and just has text output instead of the normal Junit view. And I don&#39;t quite follow your point of neat and concise code and having to write code in multiple places. For me, having test data in the pom  that is then used in a Junit test is more obscure than having them together. I was in this situation recently and ended up following MathewFarwell&#39;s approach, no need for libraries/pom tricks and everything is together in the same test."},{"owner":{"account_id":9439489,"reputation":695,"user_id":7020467,"accept_rate":75,"display_name":"Ian Stewart"},"score":3,"creation_date":1575504036,"post_id":44594009,"comment_id":104592781,"body_markdown":"This makes the environment variables hard-coded, and they can&#39;t be changed from one invocation of System.getenv to the next. Correct?","body":"This makes the environment variables hard-coded, and they can&#39;t be changed from one invocation of System.getenv to the next. Correct?"},{"owner":{"account_id":7634448,"reputation":605,"user_id":5788396,"display_name":"funfried"},"score":0,"creation_date":1575542902,"post_id":44594009,"comment_id":104605349,"body_markdown":"Hope this might help others: If the environment variables do not work, check if you set the forkCount to 0, if so, you have to set it to 1, otherwise surefire cannot set the environment!","body":"Hope this might help others: If the environment variables do not work, check if you set the forkCount to 0, if so, you have to set it to 1, otherwise surefire cannot set the environment!"},{"owner":{"account_id":10645052,"reputation":374,"user_id":7838048,"accept_rate":20,"display_name":"Nuwan Jayawardene"},"score":0,"creation_date":1644678260,"post_id":44594009,"comment_id":125672805,"body_markdown":"Had the same proble as @vitaut, and this is the only solution that worked. Neither system-rules library nor system-lambda worked for my use case.","body":"Had the same proble as @vitaut, and this is the only solution that worked. Neither system-rules library nor system-lambda worked for my use case."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1663665802,"post_id":44594009,"comment_id":130287937,"body_markdown":"And it cannot be changed whenever you want this variable to change between tests, either test cases in one class or different test classes. Good, but not perfect..","body":"And it cannot be changed whenever you want this variable to change between tests, either test cases in one class or different test classes. Good, but not perfect.."}],"tags":[],"owner":{"account_id":8921473,"reputation":1917,"user_id":6657842,"display_name":"RLD"},"comment_count":8,"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1497631688,"creation_date":1497630677,"answer_id":44594009,"question_id":8168884,"body_markdown":"In a similar situation like this where I had to write **Test Case** which is dependent on **Environment Variable**, I tried following:\r\n\r\n 1. I went for **System Rules** as suggested by *Stefan Birkner*. Its use was simple. But sooner than later, I found the behavior erratic. In one run, it works, in the very next run it fails. **I investigated and found that System Rules work well with JUnit 4 or higher version.** But in my cases, I was using some Jars which were dependent on **JUnit 3**. So I skipped **System Rules**. More on it you can find here https://stackoverflow.com/questions/20879258/rule-annotation-doesnt-work-while-using-testsuite-in-junit.\r\n 2. Next I tried to create **Environment Variable** through **Process Builder** class provided by **Java**. Here through Java Code we can create an environment variable, but you need to know the **process** or **program** name which I did not. Also it creates environment variable for child process, not for the main process.\r\n\r\nI wasted a day using the above two approaches, but of no avail. Then **Maven** came to my rescue. We can set **Environment Variables** or **System Properties** through **Maven POM** file which I think best way to do **Unit Testing** for **Maven** based project. Below is the entry I made in **POM** file.\r\n\r\n        &lt;build&gt;\r\n          &lt;plugins&gt;\r\n           &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                  &lt;PropertyName1&gt;PropertyValue1&lt;/PropertyName1&gt;                                                          \r\n                  &lt;PropertyName2&gt;PropertyValue2&lt;/PropertyName2&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n              &lt;environmentVariables&gt;\r\n                &lt;EnvironmentVariable1&gt;EnvironmentVariableValue1&lt;/EnvironmentVariable1&gt;\r\n                &lt;EnvironmentVariable2&gt;EnvironmentVariableValue2&lt;/EnvironmentVariable2&gt;\r\n              &lt;/environmentVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAfter this change, I ran **Test Cases** again and suddenly all worked as expected. For reader&#39;s information, I explored this approach in **Maven 3.x**, so I have no idea on **Maven 2.x**.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>In a similar situation like this where I had to write <strong>Test Case</strong> which is dependent on <strong>Environment Variable</strong>, I tried following:</p>\n\n<ol>\n<li>I went for <strong>System Rules</strong> as suggested by <em>Stefan Birkner</em>. Its use was simple. But sooner than later, I found the behavior erratic. In one run, it works, in the very next run it fails. <strong>I investigated and found that System Rules work well with JUnit 4 or higher version.</strong> But in my cases, I was using some Jars which were dependent on <strong>JUnit 3</strong>. So I skipped <strong>System Rules</strong>. More on it you can find here <a href=\"https://stackoverflow.com/questions/20879258/rule-annotation-doesnt-work-while-using-testsuite-in-junit\">@Rule annotation doesn&#39;t work while using TestSuite in JUnit</a>.</li>\n<li>Next I tried to create <strong>Environment Variable</strong> through <strong>Process Builder</strong> class provided by <strong>Java</strong>. Here through Java Code we can create an environment variable, but you need to know the <strong>process</strong> or <strong>program</strong> name which I did not. Also it creates environment variable for child process, not for the main process.</li>\n</ol>\n\n<p>I wasted a day using the above two approaches, but of no avail. Then <strong>Maven</strong> came to my rescue. We can set <strong>Environment Variables</strong> or <strong>System Properties</strong> through <strong>Maven POM</strong> file which I think best way to do <strong>Unit Testing</strong> for <strong>Maven</strong> based project. Below is the entry I made in <strong>POM</strong> file.</p>\n\n<pre><code>    &lt;build&gt;\n      &lt;plugins&gt;\n       &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n              &lt;PropertyName1&gt;PropertyValue1&lt;/PropertyName1&gt;                                                          \n              &lt;PropertyName2&gt;PropertyValue2&lt;/PropertyName2&gt;\n          &lt;/systemPropertyVariables&gt;\n          &lt;environmentVariables&gt;\n            &lt;EnvironmentVariable1&gt;EnvironmentVariableValue1&lt;/EnvironmentVariable1&gt;\n            &lt;EnvironmentVariable2&gt;EnvironmentVariableValue2&lt;/EnvironmentVariable2&gt;\n          &lt;/environmentVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>After this change, I ran <strong>Test Cases</strong> again and suddenly all worked as expected. For reader's information, I explored this approach in <strong>Maven 3.x</strong>, so I have no idea on <strong>Maven 2.x</strong>.</p>\n"},{"comments":[{"owner":{"account_id":1597725,"reputation":34231,"user_id":1479414,"accept_rate":71,"display_name":"Andremoniy"},"score":14,"creation_date":1508850894,"post_id":44803444,"comment_id":80769933,"body_markdown":"`when(System.getenv(&quot;FOO_VAR_1&quot;)).thenReturn(&quot;test-foo-var-1&quot;)` causes `org.mockito.exceptions.misusing.MissingMethodInvocationException: \nwhen() requires an argument which has to be &#39;a method call on a mock&#39;.` error","body":"<code>when(System.getenv(&quot;FOO_VAR_1&quot;)).thenReturn(&quot;test-foo-var-1&quot;&zwnj;&#8203;)</code> causes <code>org.mockito.exceptions.misusing.MissingMethodInvocationExcep&zwnj;&#8203;tion:  when() requires an argument which has to be &#39;a method call on a mock&#39;.</code> error"},{"owner":{"account_id":5477846,"reputation":1836,"user_id":4355350,"accept_rate":91,"display_name":"Piyush Vishwakarma"},"score":1,"creation_date":1602055722,"post_id":44803444,"comment_id":113595128,"body_markdown":"Instead of using when(System.getenv(&quot;FOO_VAR_1&quot;)), one could use when(System.getenv(eq(&quot;FOO_VAR_1&quot;)))\neq comes from org.mockito.Mockito.eq","body":"Instead of using when(System.getenv(&quot;FOO_VAR_1&quot;)), one could use when(System.getenv(eq(&quot;FOO_VAR_1&quot;))) eq comes from org.mockito.Mockito.eq"},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":7,"creation_date":1623910254,"post_id":44803444,"comment_id":120212479,"body_markdown":"I really appreciate it when people show imports instead of assuming they&#39;re too obvious to add. Many times a class is found in multiple packages making the choice non-obvious.","body":"I really appreciate it when people show imports instead of assuming they&#39;re too obvious to add. Many times a class is found in multiple packages making the choice non-obvious."},{"owner":{"account_id":4983383,"reputation":301,"user_id":4007690,"display_name":"Komoo"},"score":0,"creation_date":1684240461,"post_id":44803444,"comment_id":134486204,"body_markdown":"It is not suitable to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops","body":"It is not suitable to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops"}],"tags":[],"owner":{"account_id":5442752,"reputation":453,"user_id":4330355,"display_name":"Mangusta"},"comment_count":4,"down_vote_count":4,"up_vote_count":16,"is_accepted":false,"score":12,"last_activity_date":1498655361,"creation_date":1498655361,"answer_id":44803444,"question_id":8168884,"body_markdown":"I don&#39;t think this has been mentioned yet, but you could also use **Powermockito**:\r\n\r\nGiven:\r\n\r\n    package com.foo.service.impl;\r\n\r\n    public class FooServiceImpl {\r\n\r\n        public void doSomeFooStuff() {\r\n            System.getenv(&quot;FOO_VAR_1&quot;);\r\n            System.getenv(&quot;FOO_VAR_2&quot;);\r\n            System.getenv(&quot;FOO_VAR_3&quot;);\r\n            \r\n            // Do the other Foo stuff\r\n        }\r\n    }\r\n\r\nYou could do the following:\r\n\r\n    package com.foo.service.impl;\r\n\r\n    import static org.mockito.Mockito.when;\r\n    import static org.powermock.api.mockito.PowerMockito.mockStatic;\r\n    import static org.powermock.api.mockito.PowerMockito.verifyStatic;\r\n\r\n    import org.junit.Beforea;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(FooServiceImpl.class)\r\n    public class FooServiceImpTest {\r\n\r\n        @InjectMocks\r\n        private FooServiceImpl service;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            MockitoAnnotations.initMocks(this);\r\n\r\n            mockStatic(System.class);  // Powermock can mock static and private methods\r\n\r\n            when(System.getenv(&quot;FOO_VAR_1&quot;)).thenReturn(&quot;test-foo-var-1&quot;);\r\n            when(System.getenv(&quot;FOO_VAR_2&quot;)).thenReturn(&quot;test-foo-var-2&quot;);\r\n            when(System.getenv(&quot;FOO_VAR_3&quot;)).thenReturn(&quot;test-foo-var-3&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void testSomeFooStuff() {        \r\n            // Test\r\n            service.doSomeFooStuff();\r\n    \r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_1&quot;);\r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_2&quot;);\r\n            verifyStatic();\r\n            System.getenv(&quot;FOO_VAR_3&quot;);\r\n        }\r\n    }","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I don't think this has been mentioned yet, but you could also use <strong>Powermockito</strong>:</p>\n\n<p>Given:</p>\n\n<pre><code>package com.foo.service.impl;\n\npublic class FooServiceImpl {\n\n    public void doSomeFooStuff() {\n        System.getenv(\"FOO_VAR_1\");\n        System.getenv(\"FOO_VAR_2\");\n        System.getenv(\"FOO_VAR_3\");\n\n        // Do the other Foo stuff\n    }\n}\n</code></pre>\n\n<p>You could do the following:</p>\n\n<pre><code>package com.foo.service.impl;\n\nimport static org.mockito.Mockito.when;\nimport static org.powermock.api.mockito.PowerMockito.mockStatic;\nimport static org.powermock.api.mockito.PowerMockito.verifyStatic;\n\nimport org.junit.Beforea;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.MockitoAnnotations;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest(FooServiceImpl.class)\npublic class FooServiceImpTest {\n\n    @InjectMocks\n    private FooServiceImpl service;\n\n    @Before\n    public void setUp() {\n        MockitoAnnotations.initMocks(this);\n\n        mockStatic(System.class);  // Powermock can mock static and private methods\n\n        when(System.getenv(\"FOO_VAR_1\")).thenReturn(\"test-foo-var-1\");\n        when(System.getenv(\"FOO_VAR_2\")).thenReturn(\"test-foo-var-2\");\n        when(System.getenv(\"FOO_VAR_3\")).thenReturn(\"test-foo-var-3\");\n    }\n\n    @Test\n    public void testSomeFooStuff() {        \n        // Test\n        service.doSomeFooStuff();\n\n        verifyStatic();\n        System.getenv(\"FOO_VAR_1\");\n        verifyStatic();\n        System.getenv(\"FOO_VAR_2\");\n        verifyStatic();\n        System.getenv(\"FOO_VAR_3\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295514,"reputation":2157,"user_id":599971,"accept_rate":55,"display_name":"ejaenv"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1536323363,"creation_date":1536323363,"answer_id":52222610,"question_id":8168884,"body_markdown":"I use System.getEnv() to get the map and I keep as a field, so I can mock it:\r\n\r\n\r\n    public class AAA {\r\n    \r\n        Map&lt;String, String&gt; environmentVars; \r\n    \r\n        public String readEnvironmentVar(String varName) {\r\n            if (environmentVars==null) environmentVars = System.getenv();   \r\n            return environmentVars.get(varName);\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    public class AAATest {\r\n                \r\n             @Test\r\n             public void test() {\r\n                  aaa.environmentVars = new HashMap&lt;String,String&gt;();\r\n                  aaa.environmentVars.put(&quot;NAME&quot;, &quot;value&quot;);\r\n                  assertEquals(&quot;value&quot;,aaa.readEnvironmentVar(&quot;NAME&quot;));\r\n             }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I use System.getEnv() to get the map and I keep as a field, so I can mock it:</p>\n\n<pre><code>public class AAA {\n\n    Map&lt;String, String&gt; environmentVars; \n\n    public String readEnvironmentVar(String varName) {\n        if (environmentVars==null) environmentVars = System.getenv();   \n        return environmentVars.get(varName);\n    }\n}\n\n\n\npublic class AAATest {\n\n         @Test\n         public void test() {\n              aaa.environmentVars = new HashMap&lt;String,String&gt;();\n              aaa.environmentVars.put(\"NAME\", \"value\");\n              assertEquals(\"value\",aaa.readEnvironmentVar(\"NAME\"));\n         }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":875392,"reputation":1699,"user_id":925141,"display_name":"Ryan J. McDonough"},"score":2,"creation_date":1562878989,"post_id":53426018,"comment_id":100528462,"body_markdown":"You forgot to mention that you&#39;re using JMockit. :) Regardless, this solution also works great with JUnit 5","body":"You forgot to mention that you&#39;re using JMockit. :) Regardless, this solution also works great with JUnit 5"}],"tags":[],"owner":{"account_id":14801638,"reputation":51,"user_id":10689710,"display_name":"Muthu"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1542872425,"creation_date":1542872425,"answer_id":53426018,"question_id":8168884,"body_markdown":"Hope the issue is resolved. I just thought to tell my solution.\r\n\r\n    Map&lt;String, String&gt; env = System.getenv();\r\n\t    new MockUp&lt;System&gt;() {\r\n\t\t    @Mock\t\t\t\r\n    \t\tpublic String getenv(String name) \r\n            {\r\n\t\t\t    if (name.equalsIgnoreCase( &quot;OUR_OWN_VARIABLE&quot; )) {\r\n\t\t\t\t    return &quot;true&quot;;\r\n\t\t\t    }\r\n\t\t\t    return env.get(name);\r\n\t\t    }\r\n    \t};","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Hope the issue is resolved. I just thought to tell my solution.</p>\n\n<pre><code>Map&lt;String, String&gt; env = System.getenv();\n    new MockUp&lt;System&gt;() {\n        @Mock           \n        public String getenv(String name) \n        {\n            if (name.equalsIgnoreCase( \"OUR_OWN_VARIABLE\" )) {\n                return \"true\";\n            }\n            return env.get(name);\n        }\n    };\n</code></pre>\n"},{"comments":[{"owner":{"account_id":343224,"reputation":1917,"user_id":674794,"accept_rate":100,"display_name":"Intenex"},"score":1,"creation_date":1594510715,"post_id":60434013,"comment_id":111152407,"body_markdown":"Thanks for this! My version of Java doesn&#39;t seem to have `theCaseInsensitiveEnvironment` and instead has a field `theEnvironment`, like the following:\n\n```\n        envMap = new HashMap&lt;&gt;();\n        Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.ProcessEnvironment&quot;);\n        Field theEnvironmentField = clazz.getDeclaredField(&quot;theEnvironment&quot;);\n        Field theUnmodifiableEnvironmentField = clazz.getDeclaredField(&quot;theUnmodifiableEnvironment&quot;);\n        removeStaticFinalAndSetValue(theEnvironmentField, envMap);\n        removeStaticFinalAndSetValue(theUnmodifiableEnvironmentField, envMap);\n```","body":"Thanks for this! My version of Java doesn&#39;t seem to have <code>theCaseInsensitiveEnvironment</code> and instead has a field <code>theEnvironment</code>, like the following:  ```         envMap = new HashMap&lt;&gt;();         Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.ProcessEnvironment&quot;);         Field theEnvironmentField = clazz.getDeclaredField(&quot;theEnvironment&quot;);         Field theUnmodifiableEnvironmentField = clazz.getDeclaredField(&quot;theUnmodifiableEnvironment&quot;);         removeStaticFinalAndSetValue(theEnvironmentField, envMap);         removeStaticFinalAndSetValue(theUnmodifiableEnvironmentField&zwnj;&#8203;, envMap); ```"}],"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1582808949,"creation_date":1582808949,"answer_id":60434013,"question_id":8168884,"body_markdown":"Even though I think [this answer][1] is the best for Maven projects, It can be achieved via reflect as well (tested in **Java 8**):\r\n\r\n    public class TestClass {\r\n    \tprivate static final Map&lt;String, String&gt; DEFAULTS = new HashMap&lt;&gt;(System.getenv());\r\n    \tprivate static Map&lt;String, String&gt; envMap;\r\n    \r\n    \t@Test\r\n    \tpublic void aTest() {\r\n    \t\tassertEquals(&quot;6&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t\tSystem.getenv().put(&quot;NUMBER_OF_PROCESSORS&quot;, &quot;155&quot;);\r\n    \t\tassertEquals(&quot;155&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void anotherTest() {\r\n    \t\tassertEquals(&quot;6&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t\tSystem.getenv().put(&quot;NUMBER_OF_PROCESSORS&quot;, &quot;77&quot;);\r\n    \t\tassertEquals(&quot;77&quot;, System.getenv(&quot;NUMBER_OF_PROCESSORS&quot;));\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Restore default variables for each test\r\n    \t */\r\n    \t@BeforeEach\r\n    \tpublic void initEnvMap() {\r\n    \t\tenvMap.clear();\r\n    \t\tenvMap.putAll(DEFAULTS);\r\n    \t}\r\n    \r\n    \t@BeforeAll\r\n    \tpublic static void accessFields() throws Exception {\r\n    \t\tenvMap = new HashMap&lt;&gt;();\r\n    \t\tClass&lt;?&gt; clazz = Class.forName(&quot;java.lang.ProcessEnvironment&quot;);\r\n    \t\tField theCaseInsensitiveEnvironmentField = clazz.getDeclaredField(&quot;theCaseInsensitiveEnvironment&quot;);\r\n    \t\tField theUnmodifiableEnvironmentField = clazz.getDeclaredField(&quot;theUnmodifiableEnvironment&quot;);\r\n    \t\tremoveStaticFinalAndSetValue(theCaseInsensitiveEnvironmentField, envMap);\r\n    \t\tremoveStaticFinalAndSetValue(theUnmodifiableEnvironmentField, envMap);\r\n    \t}\r\n    \r\n    \tprivate static void removeStaticFinalAndSetValue(Field field, Object value) throws Exception {\r\n    \t\tfield.setAccessible(true);\r\n    \t\tField modifiersField = Field.class.getDeclaredField(&quot;modifiers&quot;);\r\n    \t\tmodifiersField.setAccessible(true);\r\n    \t\tmodifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\r\n    \t\tfield.set(null, value);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/44594009/6579265\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Even though I think <a href=\"https://stackoverflow.com/a/44594009/6579265\">this answer</a> is the best for Maven projects, It can be achieved via reflect as well (tested in <strong>Java 8</strong>):</p>\n\n<pre><code>public class TestClass {\n    private static final Map&lt;String, String&gt; DEFAULTS = new HashMap&lt;&gt;(System.getenv());\n    private static Map&lt;String, String&gt; envMap;\n\n    @Test\n    public void aTest() {\n        assertEquals(\"6\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n        System.getenv().put(\"NUMBER_OF_PROCESSORS\", \"155\");\n        assertEquals(\"155\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n    }\n\n    @Test\n    public void anotherTest() {\n        assertEquals(\"6\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n        System.getenv().put(\"NUMBER_OF_PROCESSORS\", \"77\");\n        assertEquals(\"77\", System.getenv(\"NUMBER_OF_PROCESSORS\"));\n    }\n\n    /*\n     * Restore default variables for each test\n     */\n    @BeforeEach\n    public void initEnvMap() {\n        envMap.clear();\n        envMap.putAll(DEFAULTS);\n    }\n\n    @BeforeAll\n    public static void accessFields() throws Exception {\n        envMap = new HashMap&lt;&gt;();\n        Class&lt;?&gt; clazz = Class.forName(\"java.lang.ProcessEnvironment\");\n        Field theCaseInsensitiveEnvironmentField = clazz.getDeclaredField(\"theCaseInsensitiveEnvironment\");\n        Field theUnmodifiableEnvironmentField = clazz.getDeclaredField(\"theUnmodifiableEnvironment\");\n        removeStaticFinalAndSetValue(theCaseInsensitiveEnvironmentField, envMap);\n        removeStaticFinalAndSetValue(theUnmodifiableEnvironmentField, envMap);\n    }\n\n    private static void removeStaticFinalAndSetValue(Field field, Object value) throws Exception {\n        field.setAccessible(true);\n        Field modifiersField = Field.class.getDeclaredField(\"modifiers\");\n        modifiersField.setAccessible(true);\n        modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);\n        field.set(null, value);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1602103707,"creation_date":1597869700,"answer_id":63494695,"question_id":8168884,"body_markdown":"For JUnit 4 users, [System Lambda](https://github.com/stefanbirkner/system-lambda) as suggested by [Stefan Birkner](https://stackoverflow.com/a/35393623/3429133) is a great fit.\r\n\r\nIn case you are using JUnit 5, there is the [JUnit Pioneer](https://junit-pioneer.org) extension pack. It comes with `@ClearEnvironmentVariable` and `@SetEnvironmentVariable`. From the [docs](https://junit-pioneer.org/docs/environment-variables):\r\n\r\n&gt;The `@ClearEnvironmentVariable` and `@SetEnvironmentVariable` annotations can be used to clear, respectively, set the values of environment variables for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the variables mentioned in the annotation will be restored to their original value or will be cleared if they didn&#39;t have one before. Other environment variables that are changed during the test, are *not* restored.\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@Test\r\n\t@ClearEnvironmentVariable(key = &quot;SOME_VARIABLE&quot;)\r\n\t@SetEnvironmentVariable(key = &quot;ANOTHER_VARIABLE&quot;, value = &quot;new value&quot;)\r\n\tvoid test() {\r\n\t\tassertNull(System.getenv(&quot;SOME_VARIABLE&quot;));\r\n\t\tassertEquals(&quot;new value&quot;, System.getenv(&quot;ANOTHER_VARIABLE&quot;));\r\n\t}","title":"How to test code dependent on environment variables using JUnit?","body":"<p>For JUnit 4 users, <a href=\"https://github.com/stefanbirkner/system-lambda\" rel=\"noreferrer\">System Lambda</a> as suggested by <a href=\"https://stackoverflow.com/a/35393623/3429133\">Stefan Birkner</a> is a great fit.</p>\n<p>In case you are using JUnit 5, there is the <a href=\"https://junit-pioneer.org\" rel=\"noreferrer\">JUnit Pioneer</a> extension pack. It comes with <code>@ClearEnvironmentVariable</code> and <code>@SetEnvironmentVariable</code>. From the <a href=\"https://junit-pioneer.org/docs/environment-variables\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The <code>@ClearEnvironmentVariable</code> and <code>@SetEnvironmentVariable</code> annotations can be used to clear, respectively, set the values of environment variables for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the variables mentioned in the annotation will be restored to their original value or will be cleared if they didn't have one before. Other environment variables that are changed during the test, are <em>not</em> restored.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@ClearEnvironmentVariable(key = &quot;SOME_VARIABLE&quot;)\n@SetEnvironmentVariable(key = &quot;ANOTHER_VARIABLE&quot;, value = &quot;new value&quot;)\nvoid test() {\n    assertNull(System.getenv(&quot;SOME_VARIABLE&quot;));\n    assertEquals(&quot;new value&quot;, System.getenv(&quot;ANOTHER_VARIABLE&quot;));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1282660,"reputation":8511,"user_id":1236401,"accept_rate":75,"display_name":"Mugen"},"score":1,"creation_date":1655710496,"post_id":64216233,"comment_id":128387296,"body_markdown":"`org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops`","body":"<code>org.mockito.exceptions.base.MockitoException: It is not possible to mock static methods of java.lang.System to avoid interfering with class loading what leads to infinite loops</code>"}],"tags":[],"owner":{"account_id":10656426,"reputation":486,"user_id":7845889,"display_name":"Sebastian Luna"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601932245,"creation_date":1601932245,"answer_id":64216233,"question_id":8168884,"body_markdown":"You can use [Powermock][1] for mocking the call. Like:\r\n\r\n    PowerMockito.mockStatic(System.class);\r\n    PowerMockito.when(System.getenv(&quot;MyEnvVariable&quot;)).thenReturn(&quot;DesiredValue&quot;);\r\nYou can also mock all the calls with:\r\n\r\n    PowerMockito.mockStatic(System.class);\r\n    PowerMockito.when(System.getenv(Mockito.anyString())).thenReturn(envVariable);\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock","title":"How to test code dependent on environment variables using JUnit?","body":"<p>You can use <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">Powermock</a> for mocking the call. Like:</p>\n<pre><code>PowerMockito.mockStatic(System.class);\nPowerMockito.when(System.getenv(&quot;MyEnvVariable&quot;)).thenReturn(&quot;DesiredValue&quot;);\n</code></pre>\n<p>You can also mock all the calls with:</p>\n<pre><code>PowerMockito.mockStatic(System.class);\nPowerMockito.when(System.getenv(Mockito.anyString())).thenReturn(envVariable);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1607116890,"post_id":64892391,"comment_id":115181209,"body_markdown":"Pioneer&#39;s environment variable extension implements both `BeforeAllCallback` and `BeforeEachCallback`, but values are currently limited to constant expressions.","body":"Pioneer&#39;s environment variable extension implements both <code>BeforeAllCallback</code> and <code>BeforeEachCallback</code>, but values are currently limited to constant expressions."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1607364153,"post_id":64892391,"comment_id":115243787,"body_markdown":"Each tool has its own strengths/weaknesses. System Stubs solves a problem I was repeatedly having and didn&#39;t have a problem elsewhere. Stefan Birkner&#39;s System Rules _nearly_ solved that problem, and System Lambda solved it less than System Rules. System Stubs solves it more universally.\n\nThat said, the JUnit Pioneer library has other features too.","body":"Each tool has its own strengths/weaknesses. System Stubs solves a problem I was repeatedly having and didn&#39;t have a problem elsewhere. Stefan Birkner&#39;s System Rules <i>nearly</i> solved that problem, and System Lambda solved it less than System Rules. System Stubs solves it more universally.  That said, the JUnit Pioneer library has other features too."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1649070163,"post_id":64892391,"comment_id":126774858,"body_markdown":"Note: the above works with Java 16+","body":"Note: the above works with Java 16+"}],"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605699805,"creation_date":1605699805,"answer_id":64892391,"question_id":8168884,"body_markdown":"The library https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter - a fork of `system-lambda` - provides a JUnit 5 plug-in:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SomeTest {\r\n    @SystemStub\r\n    private EnvironmentVariables environmentVariables =\r\n       new EnvironmentVariables(&quot;name&quot;, &quot;value&quot;);\r\n\r\n    @Test\r\n    void someTest() {\r\n       // environment is set here\r\n\r\n       // can set a new value into the environment too\r\n       environmentVariables.set(&quot;other&quot;, &quot;value&quot;);\r\n\r\n       // tidy up happens at end of this test\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe https://junit-pioneer.org/ alternative requires environment variable values to be known at compile time. The above also supports the setting\r\nof environment variables in the `@BeforeAll`, which means it interoperates well with things like `Testcontainers` that might set up some resources needed by child tests.\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>The library <a href=\"https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs/tree/master/system-stubs-jupiter</a> - a fork of <code>system-lambda</code> - provides a JUnit 5 plug-in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SomeTest {\n    @SystemStub\n    private EnvironmentVariables environmentVariables =\n       new EnvironmentVariables(&quot;name&quot;, &quot;value&quot;);\n\n    @Test\n    void someTest() {\n       // environment is set here\n\n       // can set a new value into the environment too\n       environmentVariables.set(&quot;other&quot;, &quot;value&quot;);\n\n       // tidy up happens at end of this test\n    }\n\n}\n</code></pre>\n<p>The <a href=\"https://junit-pioneer.org/\" rel=\"nofollow noreferrer\">https://junit-pioneer.org/</a> alternative requires environment variable values to be known at compile time. The above also supports the setting\nof environment variables in the <code>@BeforeAll</code>, which means it interoperates well with things like <code>Testcontainers</code> that might set up some resources needed by child tests.</p>\n"},{"tags":[],"owner":{"account_id":2969883,"reputation":411,"user_id":3236202,"display_name":"Ola Aronsson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611909795,"creation_date":1611844422,"answer_id":65939213,"question_id":8168884,"body_markdown":"A lot of focus in the suggestions above on inventing ways *in runtime* to pass in variables, set them and clear them and so on..? But to test things &#39;structurally&#39;, I guess you want to have different test suites for different scenarios? Pretty much like when you want to run your &#39;heavier&#39; integration test builds, whereas in most cases you just want to skip them. But then you don&#39;t try and &#39;invent ways to set stuff in runtime&#39;, rather you just *tell* maven what you want? It used to be a lot of work telling maven to run specific tests via profiles and such, if you google around people would suggest doing it via springboot (but if you haven&#39;t dragged in the springboot monstrum into your project, it seems a horrendous footprint for &#39;just running JUnits&#39;, right?). Or else it would imply loads of more or less inconvenient POM XML juggling which is also tiresome and, let&#39;s just say it, &#39;a nineties move&#39;, as inconvenient as still insisting on making &#39;spring beans out of XML&#39;, showing off your *ultimate* 600 line logback.xml or whatnot...?\r\n \r\nNowadays, you can just use Junit 5 (this example is for maven, more details can be found here [JUnit 5 User Guide 5][1])\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/\r\n\r\n\r\n     &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;5.7.0&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nand then\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nand then in your favourite utility lib create a simple nifty annotation class such as\r\n\r\n    @Target({ ElementType.TYPE, ElementType.METHOD })\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @EnabledIfEnvironmentVariable(named = &quot;MAVEN_CMD_LINE_ARGS&quot;, matches = &quot;(.*)integration-testing(.*)&quot;)\r\n    public @interface IntegrationTest {}\r\n\r\nso then whenever your cmdline options contain -Pintegration-testing for instance, then and only then will your @IntegrationTest annotated test-class/method fire. Or, if you don&#39;t want to use (and setup) a specific maven profile but rather just pass in &#39;trigger&#39; system properties by means of\r\n\r\n    mvn &lt;cmds&gt; -DmySystemPop=mySystemPropValue\r\n\r\nand adjust your annotation interface to trigger on that (yes, there is also a @EnabledIfSystemProperty). Or making sure your shell is set up to contain &#39;whatever you need&#39; or, as is suggested above, actually going through &#39;the pain&#39; adding system env via your POM XML.\r\n\r\nHaving your code *internally* in runtime fiddle with env or mocking env, setting it up and then possibly &#39;clearing&#39; runtime env to change itself during execution just seems like a bad, perhaps even dangerous, approach - it&#39;s easy to imagine someone will always sooner or later make a &#39;hidden&#39; internal mistake that will go unnoticed for a while, just to arise suddenly and bite you hard in production later..? You usually prefer an approach entailing that &#39;given input&#39; gives &#39;expected output&#39;, something that is easy to grasp and maintain over time, your fellow coders will just see it &#39;immediately&#39;.\r\n\r\nWell long &#39;answer&#39; or maybe rather just an opinion on why you&#39;d prefer this approach (yes, at first I just read the heading for this question and went ahead to answer that, ie &#39;How to test code dependent on environment variables using JUnit&#39;).\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>A lot of focus in the suggestions above on inventing ways <em>in runtime</em> to pass in variables, set them and clear them and so on..? But to test things 'structurally', I guess you want to have different test suites for different scenarios? Pretty much like when you want to run your 'heavier' integration test builds, whereas in most cases you just want to skip them. But then you don't try and 'invent ways to set stuff in runtime', rather you just <em>tell</em> maven what you want? It used to be a lot of work telling maven to run specific tests via profiles and such, if you google around people would suggest doing it via springboot (but if you haven't dragged in the springboot monstrum into your project, it seems a horrendous footprint for 'just running JUnits', right?). Or else it would imply loads of more or less inconvenient POM XML juggling which is also tiresome and, let's just say it, 'a nineties move', as inconvenient as still insisting on making 'spring beans out of XML', showing off your <em>ultimate</em> 600 line logback.xml or whatnot...?</p>\n<p>Nowadays, you can just use Junit 5 (this example is for maven, more details can be found here <a href=\"https://junit.org/junit5/docs/current/user-guide/\" rel=\"nofollow noreferrer\">JUnit 5 User Guide 5</a>)</p>\n<pre><code> &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-bom&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>and then</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>and then in your favourite utility lib create a simple nifty annotation class such as</p>\n<pre><code>@Target({ ElementType.TYPE, ElementType.METHOD })\n@Retention(RetentionPolicy.RUNTIME)\n@EnabledIfEnvironmentVariable(named = &quot;MAVEN_CMD_LINE_ARGS&quot;, matches = &quot;(.*)integration-testing(.*)&quot;)\npublic @interface IntegrationTest {}\n</code></pre>\n<p>so then whenever your cmdline options contain -Pintegration-testing for instance, then and only then will your @IntegrationTest annotated test-class/method fire. Or, if you don't want to use (and setup) a specific maven profile but rather just pass in 'trigger' system properties by means of</p>\n<pre><code>mvn &lt;cmds&gt; -DmySystemPop=mySystemPropValue\n</code></pre>\n<p>and adjust your annotation interface to trigger on that (yes, there is also a @EnabledIfSystemProperty). Or making sure your shell is set up to contain 'whatever you need' or, as is suggested above, actually going through 'the pain' adding system env via your POM XML.</p>\n<p>Having your code <em>internally</em> in runtime fiddle with env or mocking env, setting it up and then possibly 'clearing' runtime env to change itself during execution just seems like a bad, perhaps even dangerous, approach - it's easy to imagine someone will always sooner or later make a 'hidden' internal mistake that will go unnoticed for a while, just to arise suddenly and bite you hard in production later..? You usually prefer an approach entailing that 'given input' gives 'expected output', something that is easy to grasp and maintain over time, your fellow coders will just see it 'immediately'.</p>\n<p>Well long 'answer' or maybe rather just an opinion on why you'd prefer this approach (yes, at first I just read the heading for this question and went ahead to answer that, ie 'How to test code dependent on environment variables using JUnit').</p>\n"},{"tags":[],"owner":{"account_id":3440955,"reputation":943,"user_id":2882939,"display_name":"Tihamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611931332,"creation_date":1611931332,"answer_id":65956540,"question_id":8168884,"body_markdown":"One slow, dependable, old-school method that always works in every operating system with every language (and even between languages) is to write the &quot;system/environment&quot; data you need to a temporary text file, read it when you need it, and then erase it.  Of course, if you&#39;re running in parallel, then you need unique names for the file, and if you&#39;re putting sensitive information in it, then you need to encrypt it.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>One slow, dependable, old-school method that always works in every operating system with every language (and even between languages) is to write the &quot;system/environment&quot; data you need to a temporary text file, read it when you need it, and then erase it.  Of course, if you're running in parallel, then you need unique names for the file, and if you're putting sensitive information in it, then you need to encrypt it.</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616671060,"creation_date":1616671060,"answer_id":66798392,"question_id":8168884,"body_markdown":"Simply \r\n\r\n\r\nAdd below maven dependency\r\n\r\n    &lt;!-- for JUnit 4 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\r\n        &lt;artifactId&gt;system-stubs-junit4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- for JUnit 5 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\r\n        &lt;artifactId&gt;system-stubs-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nInside your test, you can use something similar:\r\n\r\n    @Rule\r\n    public EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule();\r\n    \r\n    @Test\r\n    public void givenEnvironmentCanBeModified_whenSetEnvironment_thenItIsSet() {\r\n        // mock that the system contains an  environment variable &quot;ENV_VAR&quot; having value &quot;value1&quot;\r\n        environmentVariablesRule.set(&quot;ENV_VAR&quot;, &quot;value1&quot;);\r\n    \r\n        assertThat(System.getenv(&quot;ENV_VAR&quot;)).isEqualTo(&quot;value1&quot;);\r\n    }\r\n\r\n\r\nReference for more details\\\r\nhttps://www.baeldung.com/java-system-stubs","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Simply</p>\n<p>Add below maven dependency</p>\n<pre><code>&lt;!-- for JUnit 4 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\n    &lt;artifactId&gt;system-stubs-junit4&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- for JUnit 5 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;uk.org.webcompere&lt;/groupId&gt;\n    &lt;artifactId&gt;system-stubs-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Inside your test, you can use something similar:</p>\n<pre><code>@Rule\npublic EnvironmentVariablesRule environmentVariablesRule = new EnvironmentVariablesRule();\n\n@Test\npublic void givenEnvironmentCanBeModified_whenSetEnvironment_thenItIsSet() {\n    // mock that the system contains an  environment variable &quot;ENV_VAR&quot; having value &quot;value1&quot;\n    environmentVariablesRule.set(&quot;ENV_VAR&quot;, &quot;value1&quot;);\n\n    assertThat(System.getenv(&quot;ENV_VAR&quot;)).isEqualTo(&quot;value1&quot;);\n}\n</code></pre>\n<p>Reference for more details<br />\n<a href=\"https://www.baeldung.com/java-system-stubs\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-system-stubs</a></p>\n"},{"tags":[],"owner":{"account_id":13553007,"reputation":11,"user_id":18741648,"display_name":"Madgel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666936834,"creation_date":1666936834,"answer_id":74231201,"question_id":8168884,"body_markdown":"You can try to dependent your code also from properties:\r\n\r\n\r\n    public static String host() {\r\n       return firstNonBlank(getenv(&quot;HOST&quot;), getProperty(&quot;host&quot;), &quot;localhost&quot;);\r\n    }\r\n\r\nSo, in tests you can easily just add system property And your production code will precede using environment variables:\r\n\r\n    System.setProperty(&quot;HOST&quot;, &quot;127.0.0.0&quot;);\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>You can try to dependent your code also from properties:</p>\n<pre><code>public static String host() {\n   return firstNonBlank(getenv(&quot;HOST&quot;), getProperty(&quot;host&quot;), &quot;localhost&quot;);\n}\n</code></pre>\n<p>So, in tests you can easily just add system property And your production code will precede using environment variables:</p>\n<pre><code>System.setProperty(&quot;HOST&quot;, &quot;127.0.0.0&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":1,"creation_date":1694853183,"post_id":74642769,"comment_id":135948129,"body_markdown":"SystemStubs can mock `System.getProperties` via the `SystemProperties` object. Note: it&#39;s also compatible with JDK17 for environment variables.","body":"SystemStubs can mock <code>System.getProperties</code> via the <code>SystemProperties</code> object. Note: it&#39;s also compatible with JDK17 for environment variables."}],"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669901933,"creation_date":1669901933,"answer_id":74642769,"question_id":8168884,"body_markdown":"Neat and clean approach to use mocking of Environment variables in Unit Testing is with the help of `@SystemStub` which comes as part of below dependency\r\n\r\n    testImplementation &#39;uk.org.webcompere:system-stubs-jupiter:2.0.1&#39;\r\n\r\nBelow changes are on **Junit 5** setup\r\nAdd below on your class\r\n\r\n    @ExtendWith(SystemStubsExtension.class)\r\n\r\nand now use \r\n  \r\n    @SystemStub\r\n      private EnvironmentVariables environmentVariables;\r\n\r\nnow you can mock the behavior of the environment variables by setting up the required key/value in your test.\r\n\r\nFor e.g. `environmentVariables.set(&quot;MY_ENV_VARIABLE&quot;, &quot;MY_REQUIRED_VALUE&quot;);`\r\nand this works perfectly fine, if your code is using environment variables\r\n\r\n     System.getenv().getOrDefault(&quot;MY_ENV_VARIABLE&quot;, &quot;false&quot;);\r\n\r\nPlease note, it won&#39;t mock `System.getProperties()` it works only for `System.getenv()`\r\n\r\n","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Neat and clean approach to use mocking of Environment variables in Unit Testing is with the help of <code>@SystemStub</code> which comes as part of below dependency</p>\n<pre><code>testImplementation 'uk.org.webcompere:system-stubs-jupiter:2.0.1'\n</code></pre>\n<p>Below changes are on <strong>Junit 5</strong> setup\nAdd below on your class</p>\n<pre><code>@ExtendWith(SystemStubsExtension.class)\n</code></pre>\n<p>and now use</p>\n<pre><code>@SystemStub\n  private EnvironmentVariables environmentVariables;\n</code></pre>\n<p>now you can mock the behavior of the environment variables by setting up the required key/value in your test.</p>\n<p>For e.g. <code>environmentVariables.set(&quot;MY_ENV_VARIABLE&quot;, &quot;MY_REQUIRED_VALUE&quot;);</code>\nand this works perfectly fine, if your code is using environment variables</p>\n<pre><code> System.getenv().getOrDefault(&quot;MY_ENV_VARIABLE&quot;, &quot;false&quot;);\n</code></pre>\n<p>Please note, it won't mock <code>System.getProperties()</code> it works only for <code>System.getenv()</code></p>\n"},{"tags":[],"owner":{"account_id":12226886,"reputation":1130,"user_id":8924185,"display_name":"Ahmad Zahabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695120716,"creation_date":1695120716,"answer_id":77133907,"question_id":8168884,"body_markdown":"Consider using the spring class level annotation `@TestPropertySource`\r\n\r\n&gt; @TestPropertySource is a class-level annotation that you can use to configure the locations of properties files and inlined properties to be added to the set of PropertySources in the Environment for an ApplicationContext loaded for an integration test.\r\n\r\nThe following example demonstrates how to declare inlined properties:\r\n\r\n    @ContextConfiguration\r\n    @TestPropertySource(properties = { &quot;timezone = GMT&quot;, &quot;port: 4242&quot; }) \r\n    class MyIntegrationTests {\r\n    \t// class body...\r\n    }\r\n\r\n[here][1] the full reference.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-testpropertysource.html","title":"How to test code dependent on environment variables using JUnit?","body":"<p>Consider using the spring class level annotation <code>@TestPropertySource</code></p>\n<blockquote>\n<p>@TestPropertySource is a class-level annotation that you can use to configure the locations of properties files and inlined properties to be added to the set of PropertySources in the Environment for an ApplicationContext loaded for an integration test.</p>\n</blockquote>\n<p>The following example demonstrates how to declare inlined properties:</p>\n<pre><code>@ContextConfiguration\n@TestPropertySource(properties = { &quot;timezone = GMT&quot;, &quot;port: 4242&quot; }) \nclass MyIntegrationTests {\n    // class body...\n}\n</code></pre>\n<p><a href=\"https://docs.spring.io/spring-framework/reference/testing/annotations/integration-spring/annotation-testpropertysource.html\" rel=\"nofollow noreferrer\">here</a> the full reference.</p>\n"}],"owner":{"account_id":216122,"reputation":50779,"user_id":471164,"accept_rate":89,"display_name":"vitaut"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310857,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":35393623,"answer_count":21,"score":215,"last_activity_date":1695120716,"creation_date":1321540579,"question_id":8168884,"body_markdown":"I have a piece of Java code which uses an environment variable and the behaviour of the code depends on the value of this variable. I would like to test this code with different values of the environment variable. How can I do this in JUnit?\r\n\r\nI&#39;ve seen [some ways to set environment variables in Java](https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java) in general, but I&#39;m more interested in unit testing aspect of it, especially considering that tests shouldn&#39;t interfere with each other.","title":"How to test code dependent on environment variables using JUnit?","body":"<p>I have a piece of Java code which uses an environment variable and the behaviour of the code depends on the value of this variable. I would like to test this code with different values of the environment variable. How can I do this in JUnit?</p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/318239/how-do-i-set-environment-variables-from-java\">some ways to set environment variables in Java</a> in general, but I'm more interested in unit testing aspect of it, especially considering that tests shouldn't interfere with each other.</p>\n"},{"tags":["java","servlets","jakarta-ee","httpsession"],"answers":[{"comments":[{"owner":{"account_id":3148532,"reputation":8619,"user_id":2662489,"accept_rate":88,"display_name":"developerwjk"},"score":0,"creation_date":1470429807,"post_id":38797165,"comment_id":64965309,"body_markdown":"Would anything be achieved by checking if they match or not?","body":"Would anything be achieved by checking if they match or not?"},{"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"score":0,"creation_date":1470430432,"post_id":38797165,"comment_id":64965568,"body_markdown":"It&#39;s hard to say tbh. Perhaps if you gathered metrics on how these values behave normally, you could detect anomalies in that behaviour, that could potentially be attacks on your application. But this is a big what-if.","body":"It&#39;s hard to say tbh. Perhaps if you gathered metrics on how these values behave normally, you could detect anomalies in that behaviour, that could potentially be attacks on your application. But this is a big what-if."},{"owner":{"account_id":5455670,"reputation":1661,"user_id":4339178,"accept_rate":64,"display_name":"srh"},"score":0,"creation_date":1470434666,"post_id":38797165,"comment_id":64967052,"body_markdown":"why session ID of client may not be same as the ID of the current valid session for this request? (assuming session is still valid on client side)","body":"why session ID of client may not be same as the ID of the current valid session for this request? (assuming session is still valid on client side)"},{"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"score":0,"creation_date":1470472515,"post_id":38797165,"comment_id":64973684,"body_markdown":"I imagine that in most cases the values are the same, but I would never assume it.","body":"I imagine that in most cases the values are the same, but I would never assume it."}],"tags":[],"owner":{"account_id":40277,"reputation":5675,"user_id":116712,"accept_rate":40,"display_name":"pablochan"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1481533119,"creation_date":1470428094,"answer_id":38797165,"question_id":38797066,"body_markdown":"`request.getRequestedSessionId()` will return the session id specified by the client (presumably in a cookie). `request.getSession().getId()` will return the server&#39;s session id (if a session does not exist, `request.getSession()` will create it).\r\n\r\nThe important difference is that you can&#39;t rely on the value returned by `request.getRequestedSessionId()`, since it may not be valid. From the documentation:\r\n\r\n&gt; Returns the session ID specified by the client. This may not be the same as the ID of the current valid session for this request. If the client did not specify a session ID, this method returns null.","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p><code>request.getRequestedSessionId()</code> will return the session id specified by the client (presumably in a cookie). <code>request.getSession().getId()</code> will return the server's session id (if a session does not exist, <code>request.getSession()</code> will create it).</p>\n\n<p>The important difference is that you can't rely on the value returned by <code>request.getRequestedSessionId()</code>, since it may not be valid. From the documentation:</p>\n\n<blockquote>\n  <p>Returns the session ID specified by the client. This may not be the same as the ID of the current valid session for this request. If the client did not specify a session ID, this method returns null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1695119480,"creation_date":1539349373,"answer_id":52780107,"question_id":38797066,"body_markdown":"`HttpRequest.getRequestedSessionId()` is the session id provided by the caller, usually with the JESSIONID cookie whereas  `HttpRequest.getSession().getId()` is the id effectively used by the server. \r\n\r\nFor an ongoing session, the JESSIONID cookie, or the value of `HttpRequest.getRequestedSessionId()` allows the server to find the ongoing session by id. \r\n\r\nFor new sessions, you might be very tempted to set the servers session id by supplying a value via the JESSIONID cookie, i.e. the value of `HttpRequest.getRequestedSessionId()`. This would make it easy to correlate a chain of calls to multiple servers initiated by an initial call from the customer&#39;s browser. However, the semantics of HttpRequest.getRequestedSessionId() does not allow such chaining.\r\nIndeed, the JESSIONID cookie has an effect only for a session already existing in the server and which was previously sent to the client. If the JESSIONID cookie refers to a nonexistent session id, the server creates a new session **ignoring** the value of JESSIONID cookie.\r\n\r\nYou can convince yourself of the above, by reading the source code of the `doGetSession(boolean)` in the `org.apache.catalina.connector.Request` class.","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p><code>HttpRequest.getRequestedSessionId()</code> is the session id provided by the caller, usually with the JESSIONID cookie whereas  <code>HttpRequest.getSession().getId()</code> is the id effectively used by the server.</p>\n<p>For an ongoing session, the JESSIONID cookie, or the value of <code>HttpRequest.getRequestedSessionId()</code> allows the server to find the ongoing session by id.</p>\n<p>For new sessions, you might be very tempted to set the servers session id by supplying a value via the JESSIONID cookie, i.e. the value of <code>HttpRequest.getRequestedSessionId()</code>. This would make it easy to correlate a chain of calls to multiple servers initiated by an initial call from the customer's browser. However, the semantics of HttpRequest.getRequestedSessionId() does not allow such chaining.\nIndeed, the JESSIONID cookie has an effect only for a session already existing in the server and which was previously sent to the client. If the JESSIONID cookie refers to a nonexistent session id, the server creates a new session <strong>ignoring</strong> the value of JESSIONID cookie.</p>\n<p>You can convince yourself of the above, by reading the source code of the <code>doGetSession(boolean)</code> in the <code>org.apache.catalina.connector.Request</code> class.</p>\n"}],"owner":{"account_id":5455670,"reputation":1661,"user_id":4339178,"accept_rate":64,"display_name":"srh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14865,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":38797165,"answer_count":2,"score":6,"last_activity_date":1695119480,"creation_date":1470427636,"question_id":38797066,"body_markdown":"What is the difference between `request.getSession().getId()` and `request.getRequestedSessionId()`? Do both of them return the same thing i.e. Session Id?\r\n\r\nThanks\r\n\r\n","title":"request.getSession().getId() vs request.getRequestedSessionId()","body":"<p>What is the difference between <code>request.getSession().getId()</code> and <code>request.getRequestedSessionId()</code>? Do both of them return the same thing i.e. Session Id?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","mongodb","spring-boot","enums"],"answers":[{"comments":[{"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"score":0,"creation_date":1695118957,"post_id":77133595,"comment_id":135978530,"body_markdown":"First of all, Thanks for your respnse. But when i research my problem, i found another solution. I am not sure but, i suppose, I can use below annotation.\n\n`@Field(targetType = FieldType.INT32)` \n\nWhat do you think about.?","body":"First of all, Thanks for your respnse. But when i research my problem, i found another solution. I am not sure but, i suppose, I can use below annotation.  <code>@Field(targetType = FieldType.INT32)</code>   What do you think about.?"},{"owner":{"account_id":15347224,"reputation":1,"user_id":11072237,"display_name":"Shahbaz Khan"},"score":0,"creation_date":1695134165,"post_id":77133595,"comment_id":135981607,"body_markdown":"Yes, you can use the @Field(targetType = FieldType.INT32) annotation to save an enum as an integer in MongoDB. This annotation tells Spring Data MongoDB to store the field as an integer instead of a string","body":"Yes, you can use the @Field(targetType = FieldType.INT32) annotation to save an enum as an integer in MongoDB. This annotation tells Spring Data MongoDB to store the field as an integer instead of a string"}],"tags":[],"owner":{"account_id":15347224,"reputation":1,"user_id":11072237,"display_name":"Shahbaz Khan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695117851,"creation_date":1695117851,"answer_id":77133595,"question_id":77133421,"body_markdown":" - To save an enum as an integer in MongoDB using Spring Boot, you can  \r\n   use a custom converter\r\n\r\n   \r\nTo create a custom converter for your enum, you need to create a\r\n   class that implements the Converter interface and takes your enum\r\n   class as the generic type parameter. The following code shows an\r\n   example of a custom converter for the Status enum:\r\n\r\n\r\n\r\n    public class StatusConverter implements Converter&lt;Status, Integer&gt; {\r\n\r\n    @Override\r\n    public Integer convert(Status source) {\r\n        return source.getValue();\r\n    }\r\n\r\n    @Override\r\n    public Status unwrap(Integer source) {\r\n        return Arrays.stream(Status.values())\r\n                .filter(status -&gt; status.getValue() == source)\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid status value: &quot; + source));\r\n    }\r\n    }\r\nOnce you have created your custom converter, you need to register it with Spring Data MongoDB. You can do this by adding the following configuration to your application&#39;s spring.data.MongoDB properties:\r\n\r\n   spring.data.mongodb.converters.enabled=true\r\n   spring.data.mongodb.converters.custom-converters=com.example.StatusConverter\r\n","title":"MongoDb - Spring Boot - Enum Type","body":"<ul>\n<li>To save an enum as an integer in MongoDB using Spring Boot, you can<br />\nuse a custom converter</li>\n</ul>\n<p>To create a custom converter for your enum, you need to create a\nclass that implements the Converter interface and takes your enum\nclass as the generic type parameter. The following code shows an\nexample of a custom converter for the Status enum:</p>\n<pre><code>public class StatusConverter implements Converter&lt;Status, Integer&gt; {\n\n@Override\npublic Integer convert(Status source) {\n    return source.getValue();\n}\n\n@Override\npublic Status unwrap(Integer source) {\n    return Arrays.stream(Status.values())\n            .filter(status -&gt; status.getValue() == source)\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;Invalid status value: &quot; + source));\n}\n}\n</code></pre>\n<p>Once you have created your custom converter, you need to register it with Spring Data MongoDB. You can do this by adding the following configuration to your application's spring.data.MongoDB properties:</p>\n<p>spring.data.mongodb.converters.enabled=true\nspring.data.mongodb.converters.custom-converters=com.example.StatusConverter</p>\n"},{"comments":[{"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"score":0,"creation_date":1695120080,"post_id":77133755,"comment_id":135978710,"body_markdown":"Many thanks for your response. I am not sure your respnonse but, i try to @Field(targetType = FieldType.INT32) this annotation. And it worked.","body":"Many thanks for your response. I am not sure your respnonse but, i try to @Field(targetType = FieldType.INT32) this annotation. And it worked."}],"tags":[],"owner":{"account_id":18157142,"reputation":46,"user_id":13209014,"display_name":"gokdeemir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695119297,"creation_date":1695119297,"answer_id":77133755,"question_id":77133421,"body_markdown":"I am not sure, but you can try this \r\n\r\n        @Enumerated(EnumType.ORDINAL)\r\n        private Status status;\r\n\r\n","title":"MongoDb - Spring Boot - Enum Type","body":"<p>I am not sure, but you can try this</p>\n<pre><code>    @Enumerated(EnumType.ORDINAL)\n    private Status status;\n</code></pre>\n"}],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695119297,"creation_date":1695116584,"question_id":77133421,"body_markdown":"I have a project with Spring Boot and MongoDB. I have an enum class that return Integer. But, as far as i know, enum types saved as String into mongdb. But, i want to saved as Integer. How can i handle this problem.?\r\n\r\nBelow code my Employee class.\r\n```\r\n@Data\r\n@Document\r\npublic class Employee {\r\n\r\n    @MongoId(FieldType.OBJECT_ID)\r\n    private String id;\r\n    private String name;\r\n    private String surname;\r\n    private String department;\r\n    private Address address;\r\n    private Company company;\r\n    private Status status;\r\n\r\n}\r\n```\r\n\r\nBelow code my enum class.\r\n```\r\npublic enum Status {\r\n\r\n    JUNIOR(0),\r\n    MID(1),\r\n    SENIOR(2);\r\n\r\n    private final int value;\r\n\r\n    Status(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public int getValue() {\r\n        return value;\r\n    }\r\n\r\n\r\n}\r\n```","title":"MongoDb - Spring Boot - Enum Type","body":"<p>I have a project with Spring Boot and MongoDB. I have an enum class that return Integer. But, as far as i know, enum types saved as String into mongdb. But, i want to saved as Integer. How can i handle this problem.?</p>\n<p>Below code my Employee class.</p>\n<pre><code>@Data\n@Document\npublic class Employee {\n\n    @MongoId(FieldType.OBJECT_ID)\n    private String id;\n    private String name;\n    private String surname;\n    private String department;\n    private Address address;\n    private Company company;\n    private Status status;\n\n}\n</code></pre>\n<p>Below code my enum class.</p>\n<pre><code>public enum Status {\n\n    JUNIOR(0),\n    MID(1),\n    SENIOR(2);\n\n    private final int value;\n\n    Status(int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return value;\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","macos","javafx","javafx-11"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1586131947,"post_id":61050869,"comment_id":108007212,"body_markdown":"Note that the latest release of JavaFX is version _14_, which was released within the last month. JavaFX 15 is currently early-access (and will be for the next 5-6 months).","body":"Note that the latest release of JavaFX is version <i>14</i>, which was released within the last month. JavaFX 15 is currently early-access (and will be for the next 5-6 months)."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601150120,"creation_date":1586131831,"answer_id":61051144,"question_id":61050869,"body_markdown":"You need to take care with environment variables mixing with GUI applications on macOS.  Setting PATH_TO_FX in the terminal likely didn&#39;t set the value for the IntelliJ IDE.  You will note that the instructions at https://openjfx.io/openjfx-docs/#IDE-Intellij explicitly mention setting that value within the IDE, not from the Terminal.\r\n\r\nI strongly suggest using Gradle or Maven with the code samples given at https://OpenJFX.io/ as a starting point.  Confirm that the builds work from the command line before debugging what the IDE might be doing differently.\r\n\r\nYou can also install a JDK that includes the JavaFX modules.  A few OpenJDK providers have such builds. For example:\r\n\r\n - BellSoft produces a &quot;Full JDK&quot; Liberica JDK install,\r\n   https://bell-sw.com/pages/downloads/\r\n - Azul produces a &quot;JDK FX&quot; java package for\r\n   Zulu builds of OpenJDK, https://www.azul.com/downloads/zulu-community/\r\n\r\n","title":"Installing JavaFX 15 on Mac","body":"<p>You need to take care with environment variables mixing with GUI applications on macOS.  Setting PATH_TO_FX in the terminal likely didn't set the value for the IntelliJ IDE.  You will note that the instructions at <a href=\"https://openjfx.io/openjfx-docs/#IDE-Intellij\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#IDE-Intellij</a> explicitly mention setting that value within the IDE, not from the Terminal.</p>\n<p>I strongly suggest using Gradle or Maven with the code samples given at <a href=\"https://OpenJFX.io/\" rel=\"nofollow noreferrer\">https://OpenJFX.io/</a> as a starting point.  Confirm that the builds work from the command line before debugging what the IDE might be doing differently.</p>\n<p>You can also install a JDK that includes the JavaFX modules.  A few OpenJDK providers have such builds. For example:</p>\n<ul>\n<li>BellSoft produces a &quot;Full JDK&quot; Liberica JDK install,\n<a href=\"https://bell-sw.com/pages/downloads/\" rel=\"nofollow noreferrer\">https://bell-sw.com/pages/downloads/</a></li>\n<li>Azul produces a &quot;JDK FX&quot; java package for\nZulu builds of OpenJDK, <a href=\"https://www.azul.com/downloads/zulu-community/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu-community/</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":343146,"reputation":11083,"user_id":674669,"accept_rate":58,"display_name":"user674669"},"score":1,"creation_date":1640792958,"post_id":64317928,"comment_id":124660760,"body_markdown":"On Homebrew 3.2.8, I had to use: brew install --cask liberica-jdk8-full","body":"On Homebrew 3.2.8, I had to use: brew install --cask liberica-jdk8-full"}],"tags":[],"owner":{"account_id":193337,"reputation":4264,"user_id":435004,"display_name":"DomQ"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1668769030,"creation_date":1602505710,"answer_id":64317928,"question_id":61050869,"body_markdown":"My experience is that [homebrew-liberica](https://github.com/bell-sw/homebrew-liberica) just works:\r\n\r\n```\r\nbrew tap bell-sw/liberica\r\nbrew install --cask liberica-jdk15-full\r\n```\r\n","title":"Installing JavaFX 15 on Mac","body":"<p>My experience is that <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">homebrew-liberica</a> just works:</p>\n<pre><code>brew tap bell-sw/liberica\nbrew install --cask liberica-jdk15-full\n</code></pre>\n"},{"tags":[],"owner":{"account_id":496250,"reputation":543,"user_id":1757756,"display_name":"Mavaddat Javid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694406414,"creation_date":1603587815,"answer_id":64519429,"question_id":61050869,"body_markdown":"You can either use the terminal or set up a launch configuration in VS Code.\r\n\r\nTo use the terminal, you can either install [Liberica][4] or download [the latest JavaFX][1] from Gluon (or the *Early-Access build*). To compile your `*.java` file, make sure to specify and set the `--module-path` and the `-cp` as command arguments for `javac` on the CLI.\r\n\r\nFor [example][2], if you downloaded the JavaFX SDK to your `~/Downloads` directory (i.e., you downloaded JavaFX 20 and extracted it in your ordinary **Downloads** folder), then you will run something like\r\n\r\n```bash\r\njavac --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -cp &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -d . JavaFXThing.java\r\n```\r\n\r\nThen, in order to run your program, you&#39;ll use:\r\n\r\n```bash\r\njava --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib&quot;  --add-modules javafx.controls,javafx.fxml JavaFXThing \r\n```\r\n\r\nCheck what modules you need to specify for the `--add-modules` parameter here: [API documentation for JavaFX 20][3]\r\n\r\nHere is a sample `launch.json` to enable debug launching in VS Code:\r\n\r\n```json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch JavaFX Class&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;/Users/kevinmou/Downloads/javafx-sdk-20/lib\\&quot;  --add-modules javafx.controls,javafx.fxml&quot;,\r\n            &quot;mainClass&quot;: &quot;${file}&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nFor JDK, I recommend using [Liberica][4] with a package manager such as [SDKMAN!](https://sdkman.io/), since it is easy to keep up-to-date and Liberica takes care of the paths and environment variables (including JavaFX). \r\n\r\n## Package Managers for Liberica\r\n\r\n### SDKMAN! ![SDKMAN! logo](https://sdkman.io/assets//img/favicon.ico)\r\nTo install Liberica JDK using&amp;nbsp;[SDKMAN!](https://sdkman.io/), run:\r\n\r\n```language-bash\r\nsdk install java 17-librca\r\n```\r\n\r\n### Homebrew ![Homebrew logo](https://brew.sh/assets/img/favicon.ico)\r\n\r\nTo install Liberica JDK using&amp;nbsp;[Homebrew](https://brew.sh/), run:\r\n\r\n```language-bash\r\nbrew tap bell-sw/liberica\r\nbrew install --cask liberica-jdk17\r\n```\r\n\r\nThen, to update\r\n\r\n```language-bash\r\nbrew update &amp;&amp; brew upgrade\r\n```\r\n\r\n\r\nPlease refer to&amp;nbsp;[bell-sw/homebrew-liberica](https://github.com/bell-sw/homebrew-liberica)&amp;nbsp;for\r\nlist of available packages.\r\n\r\n\r\n  [1]: https://gluonhq.com/products/javafx/\r\n  [2]: https://github.com/mavaddat-javid-education/java-debugging-kevinkaiyenmou/blob/master/Chapter15/JavaFXThing.java\r\n  [3]: https://openjfx.io/javadoc/20/\r\n  [4]: https://github.com/bell-sw/homebrew-liberica","title":"Installing JavaFX 15 on Mac","body":"<p>You can either use the terminal or set up a launch configuration in VS Code.</p>\n<p>To use the terminal, you can either install <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">Liberica</a> or download <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">the latest JavaFX</a> from Gluon (or the <em>Early-Access build</em>). To compile your <code>*.java</code> file, make sure to specify and set the <code>--module-path</code> and the <code>-cp</code> as command arguments for <code>javac</code> on the CLI.</p>\n<p>For <a href=\"https://github.com/mavaddat-javid-education/java-debugging-kevinkaiyenmou/blob/master/Chapter15/JavaFXThing.java\" rel=\"nofollow noreferrer\">example</a>, if you downloaded the JavaFX SDK to your <code>~/Downloads</code> directory (i.e., you downloaded JavaFX 20 and extracted it in your ordinary <strong>Downloads</strong> folder), then you will run something like</p>\n<pre class=\"lang-bash prettyprint-override\"><code>javac --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -cp &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib/*&quot; -d . JavaFXThing.java\n</code></pre>\n<p>Then, in order to run your program, you'll use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --module-path &quot;$(eval echo ~$USER)/Downloads/javafx-sdk-20/lib&quot;  --add-modules javafx.controls,javafx.fxml JavaFXThing \n</code></pre>\n<p>Check what modules you need to specify for the <code>--add-modules</code> parameter here: <a href=\"https://openjfx.io/javadoc/20/\" rel=\"nofollow noreferrer\">API documentation for JavaFX 20</a></p>\n<p>Here is a sample <code>launch.json</code> to enable debug launching in VS Code:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch JavaFX Class&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path \\&quot;/Users/kevinmou/Downloads/javafx-sdk-20/lib\\&quot;  --add-modules javafx.controls,javafx.fxml&quot;,\n            &quot;mainClass&quot;: &quot;${file}&quot;\n        }\n    ]\n}\n</code></pre>\n<p>For JDK, I recommend using <a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">Liberica</a> with a package manager such as <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>, since it is easy to keep up-to-date and Liberica takes care of the paths and environment variables (including JavaFX).</p>\n<h2>Package Managers for Liberica</h2>\n<h3>SDKMAN! <img src=\"https://sdkman.io/assets//img/favicon.ico\" alt=\"SDKMAN! logo\" /></h3>\n<p>To install Liberica JDK using<a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">SDKMAN!</a>, run:</p>\n<pre><code>sdk install java 17-librca\n</code></pre>\n<h3>Homebrew <img src=\"https://brew.sh/assets/img/favicon.ico\" alt=\"Homebrew logo\" /></h3>\n<p>To install Liberica JDK using<a href=\"https://brew.sh/\" rel=\"nofollow noreferrer\">Homebrew</a>, run:</p>\n<pre><code>brew tap bell-sw/liberica\nbrew install --cask liberica-jdk17\n</code></pre>\n<p>Then, to update</p>\n<pre><code>brew update &amp;&amp; brew upgrade\n</code></pre>\n<p>Please refer to<a href=\"https://github.com/bell-sw/homebrew-liberica\" rel=\"nofollow noreferrer\">bell-sw/homebrew-liberica</a>for\nlist of available packages.</p>\n"},{"comments":[{"owner":{"account_id":193337,"reputation":4264,"user_id":435004,"display_name":"DomQ"},"score":0,"creation_date":1668769045,"post_id":65899853,"comment_id":131492180,"body_markdown":"Indeed! I fixed it now.","body":"Indeed! I fixed it now."}],"tags":[],"owner":{"account_id":10312345,"reputation":151,"user_id":7607735,"display_name":"Kasia"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1695119097,"creation_date":1611657901,"answer_id":65899853,"question_id":61050869,"body_markdown":"&lt;strike&gt;the second command that DomQ posted was incorrect:&lt;/strike&gt;\r\n\r\n\r\n`brew tap bell-sw/liberica`\r\n\r\n`brew install --cask liberica-jdk15-full`","title":"Installing JavaFX 15 on Mac","body":"<p><strike>the second command that DomQ posted was incorrect:</strike></p>\n<p><code>brew tap bell-sw/liberica</code></p>\n<p><code>brew install --cask liberica-jdk15-full</code></p>\n"}],"owner":{"account_id":18185549,"reputation":51,"user_id":13232366,"display_name":"Fernando Edelstein"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20224,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"answer_count":4,"score":3,"last_activity_date":1695119097,"creation_date":1586129629,"question_id":61050869,"body_markdown":"I&#39;m trying to install JavaFX 15 on my Mac but I&#39;m stuck.\r\n\r\nRunning MacOS Mojave 10.14.6\r\n\r\nI&#39;ve already installed Java 13 JDK and set the Home folder, downloaded the JavaFX SDK from https://gluonhq.com/products/javafx/ , I&#39;ve already ran the code &quot;export PATH_TO_FX=/Users/.../javafx-sdk-15/lib&quot; in Mac terminal.\r\n\r\nI&#39;m using IntelliJ for programming and I tried to set the path at Project Structure - Libraries\r\n\r\nbut apps won&#39;t compile.\r\n\r\nCould somebody help me? Thanks a lot in advance!","title":"Installing JavaFX 15 on Mac","body":"<p>I'm trying to install JavaFX 15 on my Mac but I'm stuck.</p>\n\n<p>Running MacOS Mojave 10.14.6</p>\n\n<p>I've already installed Java 13 JDK and set the Home folder, downloaded the JavaFX SDK from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"noreferrer\">https://gluonhq.com/products/javafx/</a> , I've already ran the code \"export PATH_TO_FX=/Users/.../javafx-sdk-15/lib\" in Mac terminal.</p>\n\n<p>I'm using IntelliJ for programming and I tried to set the path at Project Structure - Libraries</p>\n\n<p>but apps won't compile.</p>\n\n<p>Could somebody help me? Thanks a lot in advance!</p>\n"},{"tags":["java","spring","jdbc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695117234,"post_id":77133319,"comment_id":135978161,"body_markdown":"Remove the version you have for `spring-boot-starter-*` dependencies, those are managed by the `parent`. Ditch `javax.validation` from your dependencies. Regarding the error you probably decided to add some `spring.sql` or other script/init related properties in your `application.properties`.","body":"Remove the version you have for <code>spring-boot-starter-*</code> dependencies, those are managed by the <code>parent</code>. Ditch <code>javax.validation</code> from your dependencies. Regarding the error you probably decided to add some <code>spring.sql</code> or other script/init related properties in your <code>application.properties</code>."},{"owner":{"account_id":27832628,"reputation":3,"user_id":22510030,"display_name":"meshkel"},"score":0,"creation_date":1695120036,"post_id":77133319,"comment_id":135978700,"body_markdown":"I&#39;m a newbie, so can you tell me what&#39;s wrong with my application.yml (I use it instead of .properties) please. Here it is: &#39;spring:\n  datasource:\n    generate-unique-name: false\n    name: tacocloud&#39;","body":"I&#39;m a newbie, so can you tell me what&#39;s wrong with my application.yml (I use it instead of .properties) please. Here it is: &#39;spring:   datasource:     generate-unique-name: false     name: tacocloud&#39;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695124067,"post_id":77133319,"comment_id":135979379,"body_markdown":"How should we know what is wrong as there is nothing regarding that file in there. As mentioned you probably have an empty script or script location in there.","body":"How should we know what is wrong as there is nothing regarding that file in there. As mentioned you probably have an empty script or script location in there."}],"answers":[{"tags":[],"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695117756,"creation_date":1695117756,"answer_id":77133578,"question_id":77133319,"body_markdown":"According to the error message, it seems that the sql initialize script in `schema.sql` is empty or missing. So if you&#39;re sure to run a initialization script, make sure specify its location and fill it properly. Or if you&#39;re not willing to run a initialization, you can turn off it in your config file.\r\n","title":"Error starting ApplicationContext. Problem with creating bean","body":"<p>According to the error message, it seems that the sql initialize script in <code>schema.sql</code> is empty or missing. So if you're sure to run a initialization script, make sure specify its location and fill it properly. Or if you're not willing to run a initialization, you can turn off it in your config file.</p>\n"}],"owner":{"account_id":27832628,"reputation":3,"user_id":22510030,"display_name":"meshkel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695119062,"creation_date":1695115719,"question_id":77133319,"body_markdown":"I have the same problem. While learning Java Spring from the book, when I got to the point where I connected the database to my application, I got errors:\r\n\r\n```none\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-09-18T19:56:21.059+03:00 ERROR 9740 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;designTacoController&#39; defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;ingredientRepository&#39;: Unsatisfied dependency expressed through method &#39;setDialect&#39; parameter 0: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;jdbcDialect&#39; defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method &#39;jdbcDialect&#39; parameter 0: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t 37 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\r\n  50 common frames omitted\r\nCaused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:305) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\t 63 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: &#39;script&#39; must not be null or empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.splitSqlScript(ScriptUtils.java:636) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\tat org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:252) ~[spring-jdbc-6.0.11.jar:6.0.11]\r\n\t73 common frames omitted\r\n```\r\n\r\n    \r\n\r\nbefore that there was a problem with Sql, but she seemed to be able to connect the database via mySql and DBNavigator, but again everything did not go according to plan. here is my pom:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;tacos&lt;/groupId&gt;\r\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;taco-cloud&lt;/name&gt;\r\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;\r\n            UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;\r\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n           &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.220&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;version&gt;8.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;spring-milestones&lt;/id&gt;\r\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\r\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Error starting ApplicationContext. Problem with creating bean","body":"<p>I have the same problem. While learning Java Spring from the book, when I got to the point where I connected the database to my application, I got errors:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-09-18T19:56:21.059+03:00 ERROR 9740 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'designTacoController' defined in file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\tacos\\web\\DesignTacoController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at tacos.TacoCloudApplication.main(TacoCloudApplication.java:14) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.2.jar:3.1.2]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'ingredientRepository': Unsatisfied dependency expressed through method 'setDialect' parameter 0: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 22 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jdbcDialect' defined in class path resource [org/springframework/boot/autoconfigure/data/jdbc/JdbcRepositoriesAutoConfiguration$SpringBootJdbcConfiguration.class]: Unsatisfied dependency expressed through method 'jdbcDialect' parameter 0: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:550) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]\n     37 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:888) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.0.11.jar:6.0.11]\n  50 common frames omitted\nCaused by: org.springframework.jdbc.datasource.init.UncategorizedScriptException: Failed to execute database script from resource [file [C:\\Users\\Artem\\IdeaProjects\\taco-cloud\\taco-cloud\\target\\classes\\schema.sql]]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:305) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applySchemaScripts(AbstractScriptDatabaseInitializer.java:98) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:76) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n     63 common frames omitted\nCaused by: java.lang.IllegalArgumentException: 'script' must not be null or empty\n    at org.springframework.util.Assert.hasText(Assert.java:294) ~[spring-core-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.splitSqlScript(ScriptUtils.java:636) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:252) ~[spring-jdbc-6.0.11.jar:6.0.11]\n    73 common frames omitted\n</code></pre>\n<p>before that there was a problem with Sql, but she seemed to be able to connect the database via mySql and DBNavigator, but again everything did not go according to plan. here is my pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n          http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;tacos&lt;/groupId&gt;\n    &lt;artifactId&gt;taco-cloud&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;taco-cloud&lt;/name&gt;\n    &lt;description&gt;Taco Cloud Example&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;\n            UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;\n            UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;htmlunit-driver&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n           &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.2.220&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;version&gt;8.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695045655,"post_id":77127806,"comment_id":135967898,"body_markdown":"afaik the default for enums and Jackson is to use the String representation and not the ordinal value. Hence there must be something in your configuration that has changed that.","body":"afaik the default for enums and Jackson is to use the String representation and not the ordinal value. Hence there must be something in your configuration that has changed that."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695045933,"post_id":77127806,"comment_id":135967957,"body_markdown":"String Enum name is default yes. However I am using a custom code to represent the JSON value for my Enum. And it only works with Jackson 2.14+.\nI have not used Enum directly in my DTO classes before, just the Integer value. Now when I updated my DTOs to use the Enum I got this problem.\nThis can be changed by defining which variable should be used for serialization with @JsonValue annortation.","body":"String Enum name is default yes. However I am using a custom code to represent the JSON value for my Enum. And it only works with Jackson 2.14+. I have not used Enum directly in my DTO classes before, just the Integer value. Now when I updated my DTOs to use the Enum I got this problem. This can be changed by defining which variable should be used for serialization with @JsonValue annortation."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695047671,"post_id":77127806,"comment_id":135968373,"body_markdown":"Which is the problem you described that it didn&#39;t use the name of the enum but the ordinal value? So which is is? Or else describe your problem in more detail (with examples what you initially had and what didn&#39;t work).I also don&#39;t get your statement about that there is no `size` and `totalElements` as the JSON clearly states it does. Is there a special reason not the use the default `PageImpl`? As it seems to just map the result as well. If the only problem was an enum mapping I don&#39;t really get it?","body":"Which is the problem you described that it didn&#39;t use the name of the enum but the ordinal value? So which is is? Or else describe your problem in more detail (with examples what you initially had and what didn&#39;t work).I also don&#39;t get your statement about that there is no <code>size</code> and <code>totalElements</code> as the JSON clearly states it does. Is there a special reason not the use the default <code>PageImpl</code>? As it seems to just map the result as well. If the only problem was an enum mapping I don&#39;t really get it?"},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695066910,"post_id":77127806,"comment_id":135971973,"body_markdown":"1. I upgraded to Jackson 2.15 because of a problem with using Enum&#39;s in my DTOs (which I previously used Integer for the Enum).\n\n2. My Custom PageImpl no longer works as a result of newer Jackson.\n\n3. The Values in my Custom PageImpl was not set. next was always false, size, totalElemets, totalPages, etc. was all zero (0).\n\nThe JSON i get from Postman clearly states that it has size, page, totalElements, totalPages, etc, but even though I am binding those in my Custom PageImp these values are null/zero.","body":"1. I upgraded to Jackson 2.15 because of a problem with using Enum&#39;s in my DTOs (which I previously used Integer for the Enum).  2. My Custom PageImpl no longer works as a result of newer Jackson.  3. The Values in my Custom PageImpl was not set. next was always false, size, totalElemets, totalPages, etc. was all zero (0).  The JSON i get from Postman clearly states that it has size, page, totalElements, totalPages, etc, but even though I am binding those in my Custom PageImp these values are null/zero."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695067116,"post_id":77127806,"comment_id":135972015,"body_markdown":"I tried to explain the reason why I upgraded to new Jackson, but the enum problem is not the problem I am trying to solve. Perhaps I should remove it from the Question.","body":"I tried to explain the reason why I upgraded to new Jackson, but the enum problem is not the problem I am trying to solve. Perhaps I should remove it from the Question."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695114819,"post_id":77127806,"comment_id":135977648,"body_markdown":"I find your question confusing and the comments don&#39;t really help clarifying things. There is an enum problem, but there isn&#39;t. You upgraded because of enums, but according to you it wasn&#39;t the reason. I&#39;m a bit lost on what is going on. Please provide a reproducable sample that shows the problem you are trying to solve.","body":"I find your question confusing and the comments don&#39;t really help clarifying things. There is an enum problem, but there isn&#39;t. You upgraded because of enums, but according to you it wasn&#39;t the reason. I&#39;m a bit lost on what is going on. Please provide a reproducable sample that shows the problem you are trying to solve."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695115212,"post_id":77127806,"comment_id":135977735,"body_markdown":"This is not an Enum problem. I have removed all mention on Enums now. This is a problem of upgrading to newer version of Jackson. The question has been updated.","body":"This is not an Enum problem. I have removed all mention on Enums now. This is a problem of upgrading to newer version of Jackson. The question has been updated."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695117012,"post_id":77127806,"comment_id":135978101,"body_markdown":"You said you followd the guide as mentioned in the link, ou didn&#39;t. You decided to add properties and use lombok to add getters/setters for the properties. But you are never setting them. DItch all those attributes and just call the super constructor. As you are using Spring Boot you shouldn&#39;t be messing around with Jackson dependencies yourself (in general). I still don&#39;t get why you upgraded in the first place (as mentioned before), and please provide sample code that we can run, as it keeps getting more vague.","body":"You said you followd the guide as mentioned in the link, ou didn&#39;t. You decided to add properties and use lombok to add getters/setters for the properties. But you are never setting them. DItch all those attributes and just call the super constructor. As you are using Spring Boot you shouldn&#39;t be messing around with Jackson dependencies yourself (in general). I still don&#39;t get why you upgraded in the first place (as mentioned before), and please provide sample code that we can run, as it keeps getting more vague."},{"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"score":0,"creation_date":1695118048,"post_id":77127806,"comment_id":135978348,"body_markdown":"I tried with changing my CustomDtoPage according to the Example in the link. I provided the excact same constructor with the JsonCreator annotation. Thus also removed the parameters I had, and Lombok. I have updated the Question how I changed my custom PageImpl.\nI am able to get this new custom PageImp working only with the older Jackson that is provided with Spring Boot 2.1.11 I am using, but not any newer version of Jackson.","body":"I tried with changing my CustomDtoPage according to the Example in the link. I provided the excact same constructor with the JsonCreator annotation. Thus also removed the parameters I had, and Lombok. I have updated the Question how I changed my custom PageImpl. I am able to get this new custom PageImp working only with the older Jackson that is provided with Spring Boot 2.1.11 I am using, but not any newer version of Jackson."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695124348,"post_id":77127806,"comment_id":135979439,"body_markdown":"This is still not a reproducable sample, just snippets. Please provide a sample that runs with the old versions and not with the newer version. Is it the endpoint? Is it the binding with the resttemplate that isn&#39;t working? Add the configuration etc.","body":"This is still not a reproducable sample, just snippets. Please provide a sample that runs with the old versions and not with the newer version. Is it the endpoint? Is it the binding with the resttemplate that isn&#39;t working? Add the configuration etc."}],"owner":{"account_id":2058273,"reputation":830,"user_id":1835477,"accept_rate":59,"display_name":"DJViking"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117994,"creation_date":1695044935,"question_id":77127806,"body_markdown":"Upgrading Jackson in a Spring Boot application was not without difficulties and problems.\\\r\nRunning 2.1.11.RELEASE, and Java 8\r\n\r\nI upgraded Jackson from 2.9.10 to 2.15.2.\r\n```\r\n&lt;!-- Jackson --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.15.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nNow my Client failed to work with my `CustomPage extends PageImpl`.\\\r\nI no longer got any values for `size`, `page`, `total`, `hasNext()` or `next()`.\r\nAll page variables was either zero or false.\r\n\r\nMy Custom PageImpl:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.data.domain.PageImpl;\r\nimport org.springframework.data.domain.Pageable;\r\nimport org.springframework.data.domain.Sort;\r\n\r\n@Getter\r\n@Setter\r\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;, &quot;sort&quot;})\r\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    private int number;\r\n    private int size;\r\n    private int totalPages;\r\n    private int numberOfElements;\r\n    private long totalElements;\r\n    private boolean previousPage;\r\n    private boolean first;\r\n    private boolean nextPage;\r\n    private boolean last;\r\n    private Sort sort;\r\n    private CustomDtoPageable pageable;\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public CustomDtoPage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n    public PageImpl&lt;T&gt; pageImpl() {\r\n        return new PageImpl&lt;&gt;(getContent(), PageRequest.of(getNumber(), getSize(), getSort()), getTotalElements());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class CustomDtoPageable extends PageRequest {\r\n\r\n    public CustomDtoPageable() {\r\n        super(1, 1);\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI tried updating it similar to the CustomPageImpl from the following guide, but same problem with it.\\\r\nhttps://www.baeldung.com/resttemplate-page-entity-response\r\n\r\nMy new Custom PageImpl according to the example in the article:\r\n```\r\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\r\n    public CustomDtoPage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\r\n                   @JsonProperty(&quot;number&quot;) int number,\r\n                   @JsonProperty(&quot;size&quot;) int size,\r\n                   @JsonProperty(&quot;totalElements&quot;) Long totalElements,\r\n                   @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\r\n                   @JsonProperty(&quot;last&quot;) boolean last,\r\n                   @JsonProperty(&quot;totalPages&quot;) int totalPages,\r\n                   @JsonProperty(&quot;sort&quot;) JsonNode sort,\r\n                   @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\r\n        super(content, PageRequest.of(number, size), totalElements);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\r\n        super(content, pageable, total);\r\n    }\r\n\r\n    public CustomDtoPage(List&lt;T&gt; content) {\r\n        super(content);\r\n    }\r\n\r\n    public CustomDtoPage() {\r\n        super(new ArrayList&lt;&gt;());\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis will fail because there are no value for `size` and `totalElements`.\\\r\n&gt; Caused by: java.lang.IllegalArgumentException: Page size must not be less than one!\r\n\r\nThe page and size was available in the pageable JsonNode, so I change the constructor to this\\\r\n`super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), pageable.get(&quot;size&quot;).asInt()), 10);`\\\r\nThis does not work. I only get one page, because it does not have any next.\r\n\r\n`super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), 1), 10);`\\\r\nThis does work. However since total is hardcoded to 10 it stops at page 9, even though totalPages is way higher (and unknown to me).\r\n\r\n\r\nI printed out the values I got when deserializing the PageImpl.\r\nWith my old CustomDtoPage\r\n```\r\npageable {&quot;class&quot;:&quot;org.springframework.data.domain.PageRequest&quot;,&quot;page&quot;:&quot;0&quot;,&quot;size&quot;:&quot;500&quot;,&quot;sort&quot;:{&quot;orders&quot;:{&quot;class&quot;:&quot;java.util.Arrays$ArrayList&quot;,&quot;a&quot;:{&quot;class&quot;:&quot;org.springframework.data.domain.Sort$Order-array&quot;}}}}\r\nnumber 0\r\nsize 0\r\ntotalPages 0\r\ntotalElements 0\r\nnumberOfElements 0\r\nfirst false\r\nlast false\r\n```\r\n\r\nWith the Updated CustomDtoPage that uses JsonCreator constructor, and JsonProperty for parameters\r\n```\r\npageable null\r\nnumber 0\r\nsize 0\r\ntotalPages 0\r\ntotalElements 0\r\nnumberOfElements 0\r\nfirst false\r\nlast false\r\nhasNext false\r\n```\r\n\r\nThese are the values I expect to get, and are getting when running with the older version of Jackson\r\n```\r\nnumber 0\r\nsize 500\r\ntotalPages 94\r\ntotalElements 46818\r\nnumberOfElements 500\r\nfirst true\r\nlast false\r\nhasNext true\r\n```\r\n\r\n\r\nIs there any way I can get this back to work as it did with the older version of Jackson?\r\n\r\nI have tried several suggestions I have found online, and on Stackoverflow, none worked.\r\n\r\nThis is the Page structure I get from calling the endpoint using the Postman application.\r\n```\r\n{\r\n    &quot;content&quot;: [\r\n        {\r\n            &quot;myContentHere&quot;: &quot;&quot;\r\n        }\r\n    ],\r\n    &quot;pageable&quot;: {\r\n        &quot;sort&quot;: {\r\n            &quot;unsorted&quot;: true,\r\n            &quot;sorted&quot;: false,\r\n            &quot;empty&quot;: true\r\n        },\r\n        &quot;pageSize&quot;: 500,\r\n        &quot;pageNumber&quot;: 0,\r\n        &quot;offset&quot;: 0,\r\n        &quot;unpaged&quot;: false,\r\n        &quot;paged&quot;: true\r\n    },\r\n    &quot;last&quot;: false,\r\n    &quot;totalElements&quot;: 46818,\r\n    &quot;totalPages&quot;: 94,\r\n    &quot;first&quot;: true,\r\n    &quot;numberOfElements&quot;: 500,\r\n    &quot;sort&quot;: {\r\n        &quot;unsorted&quot;: true,\r\n        &quot;sorted&quot;: false,\r\n        &quot;empty&quot;: true\r\n    },\r\n    &quot;size&quot;: 500,\r\n    &quot;number&quot;: 0,\r\n    &quot;empty&quot;: false\r\n}\r\n```\r\n\r\nUpgrading the client to Spring Boot 2.2.2, while still using Jackson 1.15.2 did not solve my problems.\r\nI even tried upgrading Spring Boot to 2.7.12.\r\n\r\nEdit: I started to investigate the response my client gets, to see if the values are actually there.\r\nThis is the response I get when running with Jackson 2.14.2 or 2.15.2\r\n\r\n```\r\n&lt;org.springframework.data.domain.PageImpl&gt;\r\n&lt;content&gt;\r\n&lt;/content&gt;\r\n&lt;pageable class=&quot;org.springframework.data.domain.PageRequest&quot;&gt;\r\n  &lt;page&gt;0&lt;/page&gt;&lt;size&gt;500&lt;/size&gt;\r\n  &lt;sort&gt;\r\n    &lt;orders class=&quot;java.util.Arrays$ArrayList&quot;&gt;&lt;a class=&quot;org.springframework.data.domain.Sort$Order-array&quot;/&gt;&lt;/orders&gt;\r\n  &lt;/sort&gt;\r\n&lt;/pageable&gt;\r\n&lt;total&gt;46818&lt;/total&gt;\r\n&lt;/org.springframework.data.domain.PageImpl&gt;\r\n```\r\n\r\nWhy I get XML and not JSON I am not sure about (but that is beside the point)\r\nAs you can see it only has a total value.\r\nSo all the others are thus not present (number, size, totalElements, etc.).\r\n\r\nRunning with Jackson 2.9.10 instead\r\n```\r\n  &quot;content&quot;:[{}],\r\n  &quot;pageable\r\n    &quot;sort&quot;: {\r\n        &quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true\r\n    },\r\n    &quot;pageSize&quot;:500,\r\n    &quot;pageNumber&quot;:0,\r\n    &quot;offset&quot;:0,\r\n    &quot;unpaged&quot;:false,\r\n    &quot;paged&quot;:true\r\n  },\r\n  &quot;last&quot;:false,\r\n  &quot;totalElements&quot;:46818,\r\n  &quot;totalPages&quot;:94,\r\n  &quot;first&quot;:true,\r\n  &quot;numberOfElements&quot;:500,\r\n  &quot;sort&quot;: {\r\n    &quot;unsorted&quot;:true,\r\n    &quot;sorted&quot;:false,\r\n    &quot;empty&quot;:true\r\n  },\r\n  &quot;size&quot;:500,\r\n  &quot;number&quot;:0,\r\n  &quot;empty&quot;:false\r\n  ```\r\n  There all values are present in the JSON.\r\n\r\n  Why are they not present when I use the newer version of Jackson?","title":"Spring Boot: Custom PageImpl not working with latest Jackson","body":"<p>Upgrading Jackson in a Spring Boot application was not without difficulties and problems.<br />\nRunning 2.1.11.RELEASE, and Java 8</p>\n<p>I upgraded Jackson from 2.9.10 to 2.15.2.</p>\n<pre><code>&lt;!-- Jackson --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now my Client failed to work with my <code>CustomPage extends PageImpl</code>.<br />\nI no longer got any values for <code>size</code>, <code>page</code>, <code>total</code>, <code>hasNext()</code> or <code>next()</code>.\nAll page variables was either zero or false.</p>\n<p>My Custom PageImpl:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.data.domain.PageImpl;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.data.domain.Sort;\n\n@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true, value = {&quot;pageable&quot;, &quot;sort&quot;})\npublic class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private int number;\n    private int size;\n    private int totalPages;\n    private int numberOfElements;\n    private long totalElements;\n    private boolean previousPage;\n    private boolean first;\n    private boolean nextPage;\n    private boolean last;\n    private Sort sort;\n    private CustomDtoPageable pageable;\n\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomDtoPage() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n    public PageImpl&lt;T&gt; pageImpl() {\n        return new PageImpl&lt;&gt;(getContent(), PageRequest.of(getNumber(), getSize(), getSort()), getTotalElements());\n    }\n\n}\n</code></pre>\n<pre><code>public class CustomDtoPageable extends PageRequest {\n\n    public CustomDtoPageable() {\n        super(1, 1);\n    }\n    \n}\n</code></pre>\n<p>I tried updating it similar to the CustomPageImpl from the following guide, but same problem with it.<br />\n<a href=\"https://www.baeldung.com/resttemplate-page-entity-response\" rel=\"nofollow noreferrer\">https://www.baeldung.com/resttemplate-page-entity-response</a></p>\n<p>My new Custom PageImpl according to the example in the article:</p>\n<pre><code>public class CustomDtoPage&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    @JsonCreator(mode = JsonCreator.Mode.PROPERTIES)\n    public CustomDtoPage(@JsonProperty(&quot;content&quot;) List&lt;T&gt; content,\n                   @JsonProperty(&quot;number&quot;) int number,\n                   @JsonProperty(&quot;size&quot;) int size,\n                   @JsonProperty(&quot;totalElements&quot;) Long totalElements,\n                   @JsonProperty(&quot;pageable&quot;) JsonNode pageable,\n                   @JsonProperty(&quot;last&quot;) boolean last,\n                   @JsonProperty(&quot;totalPages&quot;) int totalPages,\n                   @JsonProperty(&quot;sort&quot;) JsonNode sort,\n                   @JsonProperty(&quot;numberOfElements&quot;) int numberOfElements) {\n        super(content, PageRequest.of(number, size), totalElements);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content, Pageable pageable, long total) {\n        super(content, pageable, total);\n    }\n\n    public CustomDtoPage(List&lt;T&gt; content) {\n        super(content);\n    }\n\n    public CustomDtoPage() {\n        super(new ArrayList&lt;&gt;());\n    }\n\n}\n</code></pre>\n<p>This will fail because there are no value for <code>size</code> and <code>totalElements</code>.\\</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Page size must not be less than one!</p>\n</blockquote>\n<p>The page and size was available in the pageable JsonNode, so I change the constructor to this<br />\n<code>super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), pageable.get(&quot;size&quot;).asInt()), 10);</code><br />\nThis does not work. I only get one page, because it does not have any next.</p>\n<p><code>super(content, PageRequest.of(pageable.get(&quot;page&quot;).asInt(), 1), 10);</code><br />\nThis does work. However since total is hardcoded to 10 it stops at page 9, even though totalPages is way higher (and unknown to me).</p>\n<p>I printed out the values I got when deserializing the PageImpl.\nWith my old CustomDtoPage</p>\n<pre><code>pageable {&quot;class&quot;:&quot;org.springframework.data.domain.PageRequest&quot;,&quot;page&quot;:&quot;0&quot;,&quot;size&quot;:&quot;500&quot;,&quot;sort&quot;:{&quot;orders&quot;:{&quot;class&quot;:&quot;java.util.Arrays$ArrayList&quot;,&quot;a&quot;:{&quot;class&quot;:&quot;org.springframework.data.domain.Sort$Order-array&quot;}}}}\nnumber 0\nsize 0\ntotalPages 0\ntotalElements 0\nnumberOfElements 0\nfirst false\nlast false\n</code></pre>\n<p>With the Updated CustomDtoPage that uses JsonCreator constructor, and JsonProperty for parameters</p>\n<pre><code>pageable null\nnumber 0\nsize 0\ntotalPages 0\ntotalElements 0\nnumberOfElements 0\nfirst false\nlast false\nhasNext false\n</code></pre>\n<p>These are the values I expect to get, and are getting when running with the older version of Jackson</p>\n<pre><code>number 0\nsize 500\ntotalPages 94\ntotalElements 46818\nnumberOfElements 500\nfirst true\nlast false\nhasNext true\n</code></pre>\n<p>Is there any way I can get this back to work as it did with the older version of Jackson?</p>\n<p>I have tried several suggestions I have found online, and on Stackoverflow, none worked.</p>\n<p>This is the Page structure I get from calling the endpoint using the Postman application.</p>\n<pre><code>{\n    &quot;content&quot;: [\n        {\n            &quot;myContentHere&quot;: &quot;&quot;\n        }\n    ],\n    &quot;pageable&quot;: {\n        &quot;sort&quot;: {\n            &quot;unsorted&quot;: true,\n            &quot;sorted&quot;: false,\n            &quot;empty&quot;: true\n        },\n        &quot;pageSize&quot;: 500,\n        &quot;pageNumber&quot;: 0,\n        &quot;offset&quot;: 0,\n        &quot;unpaged&quot;: false,\n        &quot;paged&quot;: true\n    },\n    &quot;last&quot;: false,\n    &quot;totalElements&quot;: 46818,\n    &quot;totalPages&quot;: 94,\n    &quot;first&quot;: true,\n    &quot;numberOfElements&quot;: 500,\n    &quot;sort&quot;: {\n        &quot;unsorted&quot;: true,\n        &quot;sorted&quot;: false,\n        &quot;empty&quot;: true\n    },\n    &quot;size&quot;: 500,\n    &quot;number&quot;: 0,\n    &quot;empty&quot;: false\n}\n</code></pre>\n<p>Upgrading the client to Spring Boot 2.2.2, while still using Jackson 1.15.2 did not solve my problems.\nI even tried upgrading Spring Boot to 2.7.12.</p>\n<p>Edit: I started to investigate the response my client gets, to see if the values are actually there.\nThis is the response I get when running with Jackson 2.14.2 or 2.15.2</p>\n<pre><code>&lt;org.springframework.data.domain.PageImpl&gt;\n&lt;content&gt;\n&lt;/content&gt;\n&lt;pageable class=&quot;org.springframework.data.domain.PageRequest&quot;&gt;\n  &lt;page&gt;0&lt;/page&gt;&lt;size&gt;500&lt;/size&gt;\n  &lt;sort&gt;\n    &lt;orders class=&quot;java.util.Arrays$ArrayList&quot;&gt;&lt;a class=&quot;org.springframework.data.domain.Sort$Order-array&quot;/&gt;&lt;/orders&gt;\n  &lt;/sort&gt;\n&lt;/pageable&gt;\n&lt;total&gt;46818&lt;/total&gt;\n&lt;/org.springframework.data.domain.PageImpl&gt;\n</code></pre>\n<p>Why I get XML and not JSON I am not sure about (but that is beside the point)\nAs you can see it only has a total value.\nSo all the others are thus not present (number, size, totalElements, etc.).</p>\n<p>Running with Jackson 2.9.10 instead</p>\n<pre><code>  &quot;content&quot;:[{}],\n  &quot;pageable\n    &quot;sort&quot;: {\n        &quot;unsorted&quot;:true,&quot;sorted&quot;:false,&quot;empty&quot;:true\n    },\n    &quot;pageSize&quot;:500,\n    &quot;pageNumber&quot;:0,\n    &quot;offset&quot;:0,\n    &quot;unpaged&quot;:false,\n    &quot;paged&quot;:true\n  },\n  &quot;last&quot;:false,\n  &quot;totalElements&quot;:46818,\n  &quot;totalPages&quot;:94,\n  &quot;first&quot;:true,\n  &quot;numberOfElements&quot;:500,\n  &quot;sort&quot;: {\n    &quot;unsorted&quot;:true,\n    &quot;sorted&quot;:false,\n    &quot;empty&quot;:true\n  },\n  &quot;size&quot;:500,\n  &quot;number&quot;:0,\n  &quot;empty&quot;:false\n</code></pre>\n<p>There all values are present in the JSON.</p>\n<p>Why are they not present when I use the newer version of Jackson?</p>\n"},{"tags":["java","spring-boot","feign"],"answers":[{"comments":[{"owner":{"account_id":2327950,"reputation":282,"user_id":2041980,"display_name":"Habib Ali"},"score":0,"creation_date":1670246106,"post_id":74415212,"comment_id":131824579,"body_markdown":"I am having the same problem.... did somebody resolve it?","body":"I am having the same problem.... did somebody resolve it?"},{"owner":{"account_id":7918637,"reputation":101,"user_id":5980325,"display_name":"MichaPoe"},"score":0,"creation_date":1670344877,"post_id":74415212,"comment_id":131852798,"body_markdown":"Check, that there is no Spring Boot Annotation like `@Configuration` on your config classes.","body":"Check, that there is no Spring Boot Annotation like <code>@Configuration</code> on your config classes."},{"owner":{"account_id":11624210,"reputation":731,"user_id":8514493,"display_name":"E.Big"},"score":0,"creation_date":1687093589,"post_id":74415212,"comment_id":134886035,"body_markdown":"It works for me. Cause one feign client used wrong RequestInterceptor (I guess spring proxy machine picked up wrong class from beans)","body":"It works for me. Cause one feign client used wrong RequestInterceptor (I guess spring proxy machine picked up wrong class from beans)"}],"tags":[],"owner":{"account_id":7918637,"reputation":101,"user_id":5980325,"display_name":"MichaPoe"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668275226,"creation_date":1668275226,"answer_id":74415212,"question_id":72791558,"body_markdown":"I guess You have to remove the stereotype `@Configuration`.\r\n\r\nI actually came here during a search to a similar problem. I do have (same like You) two different configs. One FeignClient with and a second client without auth. But the second client is using both RequestInterceptors (I implemented a noop-RequestInterceptor just for logging).\r\n\r\nCould You actually solve your problem?","title":"Multiple Feign clients with different interceptors","body":"<p>I guess You have to remove the stereotype <code>@Configuration</code>.</p>\n<p>I actually came here during a search to a similar problem. I do have (same like You) two different configs. One FeignClient with and a second client without auth. But the second client is using both RequestInterceptors (I implemented a noop-RequestInterceptor just for logging).</p>\n<p>Could You actually solve your problem?</p>\n"}],"owner":{"account_id":1697325,"reputation":7484,"user_id":1558430,"accept_rate":76,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2636,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1695117955,"creation_date":1656441305,"question_id":72791558,"body_markdown":"I have two Feign clients *in Spring Boot* doing different things, but would like them to be authenticated differently.\r\n\r\n    @FeignClient(\r\n        name = &quot;...&quot;,\r\n        url = &quot;${url1}&quot;,\r\n        configuration = Config1.class\r\n    )\r\n    public interface Client1 {\r\n        @PostMapping(\r\n            path = &quot;...&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n        JsonNode doThing(@RequestBody JsonNode thing);\r\n    }\r\n\r\n    @FeignClient(\r\n        name = &quot;...&quot;,\r\n        url = &quot;${url2}&quot;,\r\n        configuration = Config2.class\r\n    )\r\n    public interface Client2 {\r\n        @PostMapping(\r\n            path = &quot;...&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)\r\n        JsonNode doThing(@RequestBody JsonNode thing);\r\n    }\r\n\r\nThey both need basic authentication, but different values for username and password. For that, I thought about having separate `Config` classes to set their respective clients:\r\n\r\n    @Configuration\r\n    public class Client1 {\r\n        private final String user;\r\n        private final String password;\r\n\r\n        public Client1(final Config1 config) {\r\n            this.user = config.getUser();\r\n            this.password = config.getPassword();\r\n        }\r\n\r\n        @Bean(name = &quot;client1&quot;)\r\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n            return new BasicAuthRequestInterceptor(user, password);\r\n        }\r\n    }\r\n\r\n    @Configuration\r\n    public class Client2 {\r\n        private final String user;\r\n        private final String password;\r\n\r\n        public Client1(final Config2 config) {\r\n            this.user = config.getUser();\r\n            this.password = config.getPassword();\r\n        }\r\n\r\n        @Bean(name = &quot;client2&quot;)\r\n        public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\r\n            return new BasicAuthRequestInterceptor(user, password);\r\n        }\r\n    }\r\n\r\nBut my API is returning HTTP 4xx errors, as if the interceptor did not work at all. Can I get some pointers on setting this up properly?\r\n\r\n(Notice that I gave those beans `name`s, because they will otherwise conflict for DI.)","title":"Multiple Feign clients with different interceptors","body":"<p>I have two Feign clients <em>in Spring Boot</em> doing different things, but would like them to be authenticated differently.</p>\n<pre><code>@FeignClient(\n    name = &quot;...&quot;,\n    url = &quot;${url1}&quot;,\n    configuration = Config1.class\n)\npublic interface Client1 {\n    @PostMapping(\n        path = &quot;...&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n    JsonNode doThing(@RequestBody JsonNode thing);\n}\n\n@FeignClient(\n    name = &quot;...&quot;,\n    url = &quot;${url2}&quot;,\n    configuration = Config2.class\n)\npublic interface Client2 {\n    @PostMapping(\n        path = &quot;...&quot;,\n        consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n    JsonNode doThing(@RequestBody JsonNode thing);\n}\n</code></pre>\n<p>They both need basic authentication, but different values for username and password. For that, I thought about having separate <code>Config</code> classes to set their respective clients:</p>\n<pre><code>@Configuration\npublic class Client1 {\n    private final String user;\n    private final String password;\n\n    public Client1(final Config1 config) {\n        this.user = config.getUser();\n        this.password = config.getPassword();\n    }\n\n    @Bean(name = &quot;client1&quot;)\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n        return new BasicAuthRequestInterceptor(user, password);\n    }\n}\n\n@Configuration\npublic class Client2 {\n    private final String user;\n    private final String password;\n\n    public Client1(final Config2 config) {\n        this.user = config.getUser();\n        this.password = config.getPassword();\n    }\n\n    @Bean(name = &quot;client2&quot;)\n    public BasicAuthRequestInterceptor basicAuthRequestInterceptor() {\n        return new BasicAuthRequestInterceptor(user, password);\n    }\n}\n</code></pre>\n<p>But my API is returning HTTP 4xx errors, as if the interceptor did not work at all. Can I get some pointers on setting this up properly?</p>\n<p>(Notice that I gave those beans <code>name</code>s, because they will otherwise conflict for DI.)</p>\n"},{"tags":["java","ssl","https","ssl-certificate","wildfly"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694696169,"post_id":77093090,"comment_id":135927211,"body_markdown":"Your certificate contain the entry `SubjectAlternativeName [ DNSName: guardian ]`. Therefore the certificate is not suitable for a server accessed via `10.0.0.16` as it is not `guardian`. The address you use in the URL has to be present in the certificate!","body":"Your certificate contain the entry <code>SubjectAlternativeName [ DNSName: guardian ]</code>. Therefore the certificate is not suitable for a server accessed via <code>10.0.0.16</code> as it is not <code>guardian</code>. The address you use in the URL has to be present in the certificate!"},{"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"score":0,"creation_date":1694794776,"post_id":77093090,"comment_id":135942666,"body_markdown":"Thank you, Is there a way to bypass this?","body":"Thank you, Is there a way to bypass this?"},{"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"score":0,"creation_date":1694800106,"post_id":77093090,"comment_id":135943615,"body_markdown":"@Robert it still does not work, I added the guardian host to known hosts, still &quot;Certificate uknown&quot;","body":"@Robert it still does not work, I added the guardian host to known hosts, still &quot;Certificate uknown&quot;"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1694812820,"post_id":77093090,"comment_id":135945549,"body_markdown":"It doesn&#39;t matter what you add where unless the IP address is not added into the SubjectAlternativeName extension within the certificate or you use a different URL. If you use the IP address in the URL it has to be present in the certificate. Most likely the server tries to find a matching certificate for 10.0.0.16 but fails.","body":"It doesn&#39;t matter what you add where unless the IP address is not added into the SubjectAlternativeName extension within the certificate or you use a different URL. If you use the IP address in the URL it has to be present in the certificate. Most likely the server tries to find a matching certificate for 10.0.0.16 but fails."}],"answers":[{"tags":[],"owner":{"account_id":3305966,"reputation":524,"user_id":2787839,"display_name":"primetomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112756,"creation_date":1695112756,"answer_id":77132949,"question_id":77093090,"body_markdown":"For a browser session invalid hostname does not give errors like that, you would get a browser warning and the option to accept the danger and continue. \r\nVerify your TLS setup by going to port 8442 forst, which is server-ceritficate-only TLS. If that works, going to port 8443 should have your browser ask you for the client certificate to use. \r\nWhat browser do you use? The browser may have cached failed attempt (without client cert installed in browser), so you should try a new private window (or restart browser).","title":"SSL handshake exception Wildfly","body":"<p>For a browser session invalid hostname does not give errors like that, you would get a browser warning and the option to accept the danger and continue.\nVerify your TLS setup by going to port 8442 forst, which is server-ceritficate-only TLS. If that works, going to port 8443 should have your browser ask you for the client certificate to use.\nWhat browser do you use? The browser may have cached failed attempt (without client cert installed in browser), so you should try a new private window (or restart browser).</p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695117364,"creation_date":1694559145,"question_id":77093090,"body_markdown":"I am trying to access the admin ui for **EJBCA 8** deployed on Wildfly 26.0.0.Final, Java 17 via https://10.0.0.16:8443/ejbca/admin...\r\nBut I keep on getting this exception:\r\n\r\n```\r\nfatal alert: certificate_unknown\r\n````\r\nFull stack trace:\r\n````\r\n2023-09-12 22:14:01,180 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.179 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,181 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.180 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,182 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.182 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,183 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,184 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,185 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.184 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) javax.net.ssl|DEBUG|66|default I/O-2|2023-09-12 22:14:01.215 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) }\r\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) )\r\n2023-09-12 22:14:01,219 ERROR [stderr] (default I/O-2) javax.net.ssl|ERROR|66|default I/O-2|2023-09-12 22:14:01.218 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)}\r\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) \r\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) )\r\n2023-09-12 22:14:01,256 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,258 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,259 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,275 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,276 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.274 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.275 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.278 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.279 UTC|X509Authentication.java:304|No X.509 cert selected for EC\r\n2023-09-12 22:14:01,280 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.280 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\r\n2023-09-12 22:14:01,343 ERROR [stderr] (default I/O-4) javax.net.ssl|DEBUG|86|default I/O-4|2023-09-12 22:14:01.343 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) }\r\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) )\r\n2023-09-12 22:14:01,347 ERROR [stderr] (default I/O-4) javax.net.ssl|ERROR|86|default I/O-4|2023-09-12 22:14:01.346 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,348 ERROR [stderr] (default I/O-4) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:142)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:762)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.read(SslConduit.java:587)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:356)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:341)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1254)\r\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) \r\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) )\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) javax.net.ssl|DEBUG|56|default I/O-1|2023-09-12 22:14:01.326 UTC|Alert.java:238|Received alert message (\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) &quot;Alert&quot;: {\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;level&quot;      : &quot;fatal&quot;,\r\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;description&quot;: &quot;certificate_unknown&quot;\r\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) }\r\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) )\r\n2023-09-12 22:14:01,359 ERROR [stderr] (default I/O-1) javax.net.ssl|ERROR|56|default I/O-1|2023-09-12 22:14:01.359 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\r\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1) &quot;throwable&quot; : {\r\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\r\n2023-09-12 22:14:01,361 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n2023-09-12 22:14:01,366 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\r\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\r\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)   \tat org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) \r\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) )\r\n2023-09-12 22:17:06,808 INFO  [org.ejbca.core.ejb.services.ServiceSessionBean] (EJB default - 1) Timer was triggered. Trying to run service with ID 0.\r\n\r\n```\r\n\r\nThese are the steps i took:\r\n\r\n***1. Generated a CA with ejbca and a keystore using this command***\r\n```\r\nant runinstall -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \r\nant deploy-keystore -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \r\n```\r\n***2. Regarding the CA installation, this is the install.properties:***\r\n```\r\n#\r\n# $Id$\r\n#\r\n# This is a sample file to override default properties used\r\n# during installation of EJBCA (ant install)\r\n# \r\n# You should copy and rename this file to install.properties\r\n# and customize at will.\r\n#\r\n\r\n# ------------ Administrative CA configuration ---------------------\r\n# This installation will create a first Management CA. This CA will be used to create the first\r\n# superadministrator and for the SSL server certificate of administrative web server.\r\n# When the administrative web server have been setup you can create other CA:s and administrators.\r\n# This is only used for administrative purposes,\r\n# Enter a short name for the Management CA.\r\nca.name=KontronCA\r\n\r\n# The Distinguished Name of the Management CA. \r\n# This is used in the CA certificate to distinguish the CA.\r\n# Note, you can not use DC components for the initial CA, you can create CAs \r\n# using DC components later on once the CA GU is up and running.\r\nca.dn=CN=KontronCA,O=Kontron,C=MK\r\n\r\n# The token type the administrative CA will use.\r\n# Use soft for software generated keys (default) or enter a class path for the HSM class.\r\n# Normally the HSM class should be the PKCS11CryptoToken. For Utimaco CP5, use Pkcs11NgCryptoToken.\r\n#\r\n# Possible values are:\r\n# soft\r\n# org.cesecore.keys.token.PKCS11CryptoToken\r\n# org.cesecore.keys.token.p11ng.cryptotoken.Pkcs11NgCryptoToken\r\n# se.primeKey.caToken.card.PrimeCAToken\r\n# Note: If you use JBoss 7/EAP 6 and want to use PKCS#11 you have to configure JBoss to permit this. \r\n#       See instructions in the Install Guide.\r\n#\r\n# Default: soft\r\nca.tokentype=soft\r\n\r\n# Password for the Management CA token.\r\n# With soft token, use password null.\r\n# To prompt for the password on the terminal, don&#39;t set, i.e. comment out the line below.\r\n# If no password should be used (for example nCipher module protected), use password &#39;&#39; (nothing).\r\nca.tokenpassword=null\r\n\r\n# Configuration file were you define key name, password and key alias for the HSM used \r\n# by the Management CA. Same as the Hard CA Token Properties in CA UI.\r\n# Remove everything in the file and add your own configuration.\r\n# Note that this must be a full path.\r\n# On windows use / instead of \\\r\n#ca.tokenproperties=/home/ejbca/ejbca/conf/catoken.properties\r\n\r\n# The keyspec for the administrative CAs key, to be generated in soft keystore.\r\n# Keyspec for RSA keys is size of RSA keys (1024, 2048, 4096, 8192).\r\n# Keyspec for ECDSA keys is name of curve or &#39;implicitlyCA&#39;, see docs.\r\nca.keyspec=2048\r\n\r\n# The keytype for the Management CA, can be RSA, ECDSA or DSA\r\n# For the key to be generated in soft keystore.\r\nca.keytype=RSA\r\n\r\n# Default signing algorithm for the Management CA.\r\n# Available algorithms are:\r\n# SHA1WithRSA, SHA1withECDSA, SHA256WithRSA, SHA256withECDSA.\r\nca.signaturealgorithm=SHA256WithRSA\r\n\r\n# The validity in days for the Management CA, only digits.\r\nca.validity=3650\r\n\r\n# The policy id of the Management CA. Policy id determines which PKI policy the CA uses.\r\n# Type your policy id or use &#39;2.5.29.32.0&#39; for &#39;any policy&#39; (rfc5280) or &#39;null&#39; for no policy at all.\r\nca.policy=null\r\n\r\n# Certificate profile used for the CA certificate created during &#39;ant install&#39;. \r\n# If you have a certificate profile imported you can use that. Otherwise default\r\n# profile for ROOTCA is used.\r\n# Default: ROOTCA\r\n#ca.certificateprofile=MyOwnRootCACertificateProfile\r\n\r\n```\r\n***3.*** These commands generated a keystore and a truststore in the **Wildfly** keystore directory, also generated a **superadmin.p12** file in the **EJBCA** p12 directory. I imported the superadmin.p12 cert into my browser to correspond to the contents of the Wildfly keystore. For those who could use the contents of the certificates/keys in detail:***\r\n\r\n* **keystore**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: guardian\r\nCreation date: Sep 12, 2023\r\nEntry type: PrivateKeyEntry\r\nCertificate chain length: 2\r\nCertificate[1]:\r\nOwner: C=MK, O=Kontron, CN=guardian\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 35fa3d026c4f457ce7395000d2c3a3303f61a316\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:03 UTC 2025\r\nCertificate fingerprints:\r\n         SHA1: 41:34:F5:8E:35:97:29:52:92:30:86:A5:B1:D7:75:94:AB:BA:F3:85\r\n         SHA256: D3:85:48:65:1C:72:51:BD:53:29:2C:A2:9A:FA:2D:F2:4F:C4:89:91:EE:CB:5F:0B:9F:79:BB:A7:39:A3:6A:67\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:false\r\n  PathLen: undefined\r\n]\r\n\r\n#3: ObjectId: 2.5.29.37 Criticality=false\r\nExtendedKeyUsages [\r\n  serverAuth\r\n]\r\n\r\n#4: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_Encipherment\r\n]\r\n\r\n#5: ObjectId: 2.5.29.17 Criticality=false\r\nSubjectAlternativeName [\r\n  DNSName: guardian\r\n]\r\n\r\n#6: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 1F C8 84 02 3A 27 5D 87   69 7F 0B F9 C7 49 7A 90  ....:&#39;].i....Iz.\r\n0010: 1B A3 AC F1                                        ....\r\n]\r\n]\r\n\r\nCertificate[2]:\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n* **truststore**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: kontronca\r\nCreation date: Sep 12, 2023\r\nEntry type: trustedCertEntry\r\n\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n* **superadmin.p12**:\r\n\r\n```\r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 1 entry\r\n\r\nAlias name: superadmin\r\nCreation date: Sep 12, 2023\r\nEntry type: PrivateKeyEntry\r\nCertificate chain length: 2\r\nCertificate[1]:\r\nOwner: CN=SuperAdmin\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 7d746d2654d61e218a9ee97737ba641410486529\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:30 UTC 2025\r\nCertificate fingerprints:\r\n         SHA1: 34:62:62:9E:D1:75:DB:69:BF:95:70:99:6D:01:7D:B9:47:28:D3:3E\r\n         SHA256: 16:37:E9:59:C1:E0:60:1C:0B:4A:10:C7:F2:CF:C2:18:48:0B:82:31:81:5F:6A:1F:B8:AF:1E:5A:BF:C6:9D:9E\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:false\r\n  PathLen: undefined\r\n]\r\n\r\n#3: ObjectId: 2.5.29.37 Criticality=false\r\nExtendedKeyUsages [\r\n  clientAuth\r\n  emailProtection\r\n]\r\n\r\n#4: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Non_repudiation\r\n  Key_Encipherment\r\n]\r\n\r\n#5: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: 86 CB BD 08 52 E3 44 52   F5 FB 63 79 C2 93 41 08  ....R.DR..cy..A.\r\n0010: 86 98 E7 A5                                        ....\r\n]\r\n]\r\n\r\nCertificate[2]:\r\nOwner: C=MK, O=Kontron, CN=KontronCA\r\nIssuer: C=MK, O=Kontron, CN=KontronCA\r\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\r\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\r\nCertificate fingerprints:\r\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\r\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\r\nSignature algorithm name: SHA256withRSA\r\nSubject Public Key Algorithm: 2048-bit RSA key\r\nVersion: 3\r\n\r\nExtensions:\r\n\r\n#1: ObjectId: 2.5.29.35 Criticality=false\r\nAuthorityKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n#2: ObjectId: 2.5.29.19 Criticality=true\r\nBasicConstraints:[\r\n  CA:true\r\n  PathLen: no limit\r\n]\r\n\r\n#3: ObjectId: 2.5.29.15 Criticality=true\r\nKeyUsage [\r\n  DigitalSignature\r\n  Key_CertSign\r\n  Crl_Sign\r\n]\r\n\r\n#4: ObjectId: 2.5.29.14 Criticality=false\r\nSubjectKeyIdentifier [\r\nKeyIdentifier [\r\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\r\n0010: 50 69 6D FB                                        Pim.\r\n]\r\n]\r\n\r\n\r\n\r\n*******************************************\r\n*******************************************\r\n\r\n```\r\n\r\n**4.** Tried to connect to the server and got the following error, I tried many solutions but I am out of ideas. Id appreciate your help, thank you.","title":"SSL handshake exception Wildfly","body":"<p>I am trying to access the admin ui for <strong>EJBCA 8</strong> deployed on Wildfly 26.0.0.Final, Java 17 via <a href=\"https://10.0.0.16:8443/ejbca/admin..\" rel=\"nofollow noreferrer\">https://10.0.0.16:8443/ejbca/admin..</a>.\nBut I keep on getting this exception:</p>\n<pre><code>fatal alert: certificate_unknown\n</code></pre>\n<p>Full stack trace:</p>\n<pre><code>2023-09-12 22:14:01,180 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.179 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,181 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.180 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,182 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.182 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,183 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,184 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.183 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,185 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.184 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) javax.net.ssl|DEBUG|66|default I/O-2|2023-09-12 22:14:01.215 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2) &quot;Alert&quot;: {\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,216 ERROR [stderr] (default I/O-2)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) }\n2023-09-12 22:14:01,217 ERROR [stderr] (default I/O-2) )\n2023-09-12 22:14:01,219 ERROR [stderr] (default I/O-2) javax.net.ssl|ERROR|66|default I/O-2|2023-09-12 22:14:01.218 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2) &quot;throwable&quot; : {\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,220 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n2023-09-12 22:14:01,221 ERROR [stderr] (default I/O-2)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)}\n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) \n2023-09-12 22:14:01,222 ERROR [stderr] (default I/O-2) )\n2023-09-12 22:14:01,256 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,258 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,259 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.258 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,275 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.256 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,276 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.274 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.275 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,277 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-1) javax.net.ssl|ALL|CC|default task-1|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,278 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.277 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.278 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,279 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.279 UTC|X509Authentication.java:304|No X.509 cert selected for EC\n2023-09-12 22:14:01,280 ERROR [stderr] (default task-2) javax.net.ssl|ALL|DC|default task-2|2023-09-12 22:14:01.280 UTC|X509Authentication.java:304|No X.509 cert selected for EdDSA\n2023-09-12 22:14:01,343 ERROR [stderr] (default I/O-4) javax.net.ssl|DEBUG|86|default I/O-4|2023-09-12 22:14:01.343 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) &quot;Alert&quot;: {\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) }\n2023-09-12 22:14:01,345 ERROR [stderr] (default I/O-4) )\n2023-09-12 22:14:01,347 ERROR [stderr] (default I/O-4) javax.net.ssl|ERROR|86|default I/O-4|2023-09-12 22:14:01.346 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,348 ERROR [stderr] (default I/O-4) &quot;throwable&quot; : {\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,349 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,350 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,351 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:142)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:762)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.read(SslConduit.java:587)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:356)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener.handleEvent(AlpnOpenListener.java:341)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at org.jboss.xnio@3.8.5.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1254)\n2023-09-12 22:14:01,352 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) \n2023-09-12 22:14:01,353 ERROR [stderr] (default I/O-4) )\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) javax.net.ssl|DEBUG|56|default I/O-1|2023-09-12 22:14:01.326 UTC|Alert.java:238|Received alert message (\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1) &quot;Alert&quot;: {\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;level&quot;      : &quot;fatal&quot;,\n2023-09-12 22:14:01,354 ERROR [stderr] (default I/O-1)   &quot;description&quot;: &quot;certificate_unknown&quot;\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) }\n2023-09-12 22:14:01,357 ERROR [stderr] (default I/O-1) )\n2023-09-12 22:14:01,359 ERROR [stderr] (default I/O-1) javax.net.ssl|ERROR|56|default I/O-1|2023-09-12 22:14:01.359 UTC|TransportContext.java:370|Fatal (CERTIFICATE_UNKNOWN): Received fatal alert: certificate_unknown (\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1) &quot;throwable&quot; : {\n2023-09-12 22:14:01,360 ERROR [stderr] (default I/O-1)   javax.net.ssl.SSLHandshakeException: Received fatal alert: certificate_unknown\n2023-09-12 22:14:01,361 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n2023-09-12 22:14:01,366 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:365)\n2023-09-12 22:14:01,367 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Alert.java:293)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:204)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.decode(SSLEngineImpl.java:736)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:691)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:506)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:482)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at java.base/javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:679)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.server.protocol.http.ALPNLimitingSSLEngine.unwrap(ALPNLimitingSSLEngine.java:75)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doUnwrap(SslConduit.java:781)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.doHandshake(SslConduit.java:672)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit.access$900(SslConduit.java:70)\n2023-09-12 22:14:01,368 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$SslReadReadyHandler.readReady(SslConduit.java:1215)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$1.run(SslConduit.java:183)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at io.undertow.core@2.2.14.Final//io.undertow.protocols.ssl.SslConduit$2.run(SslConduit.java:198)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.safeRun(WorkerThread.java:612)\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1)      at org.jboss.xnio.nio@3.8.5.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:479)}\n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) \n2023-09-12 22:14:01,372 ERROR [stderr] (default I/O-1) )\n2023-09-12 22:17:06,808 INFO  [org.ejbca.core.ejb.services.ServiceSessionBean] (EJB default - 1) Timer was triggered. Trying to run service with ID 0.\n\n```\n\nThese are the steps i took:\n\n***1. Generated a CA with ejbca and a keystore using this command***\n```\nant runinstall -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \nant deploy-keystore -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.0.0.Final \n```\n***2. Regarding the CA installation, this is the install.properties:***\n```\n#\n# $Id$\n#\n# This is a sample file to override default properties used\n# during installation of EJBCA (ant install)\n# \n# You should copy and rename this file to install.properties\n# and customize at will.\n#\n\n# ------------ Administrative CA configuration ---------------------\n# This installation will create a first Management CA. This CA will be used to create the first\n# superadministrator and for the SSL server certificate of administrative web server.\n# When the administrative web server have been setup you can create other CA:s and administrators.\n# This is only used for administrative purposes,\n# Enter a short name for the Management CA.\nca.name=KontronCA\n\n# The Distinguished Name of the Management CA. \n# This is used in the CA certificate to distinguish the CA.\n# Note, you can not use DC components for the initial CA, you can create CAs \n# using DC components later on once the CA GU is up and running.\nca.dn=CN=KontronCA,O=Kontron,C=MK\n\n# The token type the administrative CA will use.\n# Use soft for software generated keys (default) or enter a class path for the HSM class.\n# Normally the HSM class should be the PKCS11CryptoToken. For Utimaco CP5, use Pkcs11NgCryptoToken.\n#\n# Possible values are:\n# soft\n# org.cesecore.keys.token.PKCS11CryptoToken\n# org.cesecore.keys.token.p11ng.cryptotoken.Pkcs11NgCryptoToken\n# se.primeKey.caToken.card.PrimeCAToken\n# Note: If you use JBoss 7/EAP 6 and want to use PKCS#11 you have to configure JBoss to permit this. \n#       See instructions in the Install Guide.\n#\n# Default: soft\nca.tokentype=soft\n\n# Password for the Management CA token.\n# With soft token, use password null.\n# To prompt for the password on the terminal, don't set, i.e. comment out the line below.\n# If no password should be used (for example nCipher module protected), use password '' (nothing).\nca.tokenpassword=null\n\n# Configuration file were you define key name, password and key alias for the HSM used \n# by the Management CA. Same as the Hard CA Token Properties in CA UI.\n# Remove everything in the file and add your own configuration.\n# Note that this must be a full path.\n# On windows use / instead of \\\n#ca.tokenproperties=/home/ejbca/ejbca/conf/catoken.properties\n\n# The keyspec for the administrative CAs key, to be generated in soft keystore.\n# Keyspec for RSA keys is size of RSA keys (1024, 2048, 4096, 8192).\n# Keyspec for ECDSA keys is name of curve or 'implicitlyCA', see docs.\nca.keyspec=2048\n\n# The keytype for the Management CA, can be RSA, ECDSA or DSA\n# For the key to be generated in soft keystore.\nca.keytype=RSA\n\n# Default signing algorithm for the Management CA.\n# Available algorithms are:\n# SHA1WithRSA, SHA1withECDSA, SHA256WithRSA, SHA256withECDSA.\nca.signaturealgorithm=SHA256WithRSA\n\n# The validity in days for the Management CA, only digits.\nca.validity=3650\n\n# The policy id of the Management CA. Policy id determines which PKI policy the CA uses.\n# Type your policy id or use '2.5.29.32.0' for 'any policy' (rfc5280) or 'null' for no policy at all.\nca.policy=null\n\n# Certificate profile used for the CA certificate created during 'ant install'. \n# If you have a certificate profile imported you can use that. Otherwise default\n# profile for ROOTCA is used.\n# Default: ROOTCA\n#ca.certificateprofile=MyOwnRootCACertificateProfile\n\n```\n***3.*** These commands generated a keystore and a truststore in the **Wildfly** keystore directory, also generated a **superadmin.p12** file in the **EJBCA** p12 directory. I imported the superadmin.p12 cert into my browser to correspond to the contents of the Wildfly keystore. For those who could use the contents of the certificates/keys in detail:***\n\n* **keystore**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: guardian\nCreation date: Sep 12, 2023\nEntry type: PrivateKeyEntry\nCertificate chain length: 2\nCertificate[1]:\nOwner: C=MK, O=Kontron, CN=guardian\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 35fa3d026c4f457ce7395000d2c3a3303f61a316\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:03 UTC 2025\nCertificate fingerprints:\n         SHA1: 41:34:F5:8E:35:97:29:52:92:30:86:A5:B1:D7:75:94:AB:BA:F3:85\n         SHA256: D3:85:48:65:1C:72:51:BD:53:29:2C:A2:9A:FA:2D:F2:4F:C4:89:91:EE:CB:5F:0B:9F:79:BB:A7:39:A3:6A:67\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#3: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  serverAuth\n]\n\n#4: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_Encipherment\n]\n\n#5: ObjectId: 2.5.29.17 Criticality=false\nSubjectAlternativeName [\n  DNSName: guardian\n]\n\n#6: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 1F C8 84 02 3A 27 5D 87   69 7F 0B F9 C7 49 7A 90  ....:'].i....Iz.\n0010: 1B A3 AC F1                                        ....\n]\n]\n\nCertificate[2]:\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n* **truststore**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: kontronca\nCreation date: Sep 12, 2023\nEntry type: trustedCertEntry\n\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n* **superadmin.p12**:\n\n```\nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 1 entry\n\nAlias name: superadmin\nCreation date: Sep 12, 2023\nEntry type: PrivateKeyEntry\nCertificate chain length: 2\nCertificate[1]:\nOwner: CN=SuperAdmin\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 7d746d2654d61e218a9ee97737ba641410486529\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Thu Sep 11 21:16:30 UTC 2025\nCertificate fingerprints:\n         SHA1: 34:62:62:9E:D1:75:DB:69:BF:95:70:99:6D:01:7D:B9:47:28:D3:3E\n         SHA256: 16:37:E9:59:C1:E0:60:1C:0B:4A:10:C7:F2:CF:C2:18:48:0B:82:31:81:5F:6A:1F:B8:AF:1E:5A:BF:C6:9D:9E\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:false\n  PathLen: undefined\n]\n\n#3: ObjectId: 2.5.29.37 Criticality=false\nExtendedKeyUsages [\n  clientAuth\n  emailProtection\n]\n\n#4: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Non_repudiation\n  Key_Encipherment\n]\n\n#5: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: 86 CB BD 08 52 E3 44 52   F5 FB 63 79 C2 93 41 08  ....R.DR..cy..A.\n0010: 86 98 E7 A5                                        ....\n]\n]\n\nCertificate[2]:\nOwner: C=MK, O=Kontron, CN=KontronCA\nIssuer: C=MK, O=Kontron, CN=KontronCA\nSerial number: 469c953c2abc88fe22cfd0e196233597c49ca7dd\nValid from: Tue Sep 12 21:25:35 UTC 2023 until: Fri Sep 09 21:25:34 UTC 2033\nCertificate fingerprints:\n         SHA1: BB:16:7B:4E:A7:F1:3F:0F:0E:2E:46:AE:22:53:B9:79:D8:FC:40:84\n         SHA256: 2F:63:73:96:ED:7A:70:ED:89:07:37:87:2E:60:0F:03:EE:9F:0C:F8:E9:25:5A:71:11:4D:67:5B:0F:EB:86:0A\nSignature algorithm name: SHA256withRSA\nSubject Public Key Algorithm: 2048-bit RSA key\nVersion: 3\n\nExtensions:\n\n#1: ObjectId: 2.5.29.35 Criticality=false\nAuthorityKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n#2: ObjectId: 2.5.29.19 Criticality=true\nBasicConstraints:[\n  CA:true\n  PathLen: no limit\n]\n\n#3: ObjectId: 2.5.29.15 Criticality=true\nKeyUsage [\n  DigitalSignature\n  Key_CertSign\n  Crl_Sign\n]\n\n#4: ObjectId: 2.5.29.14 Criticality=false\nSubjectKeyIdentifier [\nKeyIdentifier [\n0000: F2 E9 49 59 83 CC EB F7   ED 57 B4 D1 EC 26 E8 44  ..IY.....W...&amp;.D\n0010: 50 69 6D FB                                        Pim.\n]\n]\n\n\n\n*******************************************\n*******************************************\n\n```\n\n**4.** Tried to connect to the server and got the following error, I tried many solutions but I am out of ideas. Id appreciate your help, thank you.\n</code></pre>\n"},{"tags":["java","spring","jenkins","nexus","nexus3"],"owner":{"account_id":25267413,"reputation":11,"user_id":19097334,"display_name":"Ayshe Ayparcasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117342,"creation_date":1695117342,"question_id":77133527,"body_markdown":"I created a repository on Nexus with Jenkins pipeline. I created the spring boot jar inside. Now I want to access this repository from another microservice project. I added some configurations to the settings.xml file under the ~/.m2 directory. And What should I add to the pom.xml file to access the repository?\r\n[![settings.xml][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lEaNg.png","title":"How can I use Nexus repository in other microservice projects?","body":"<p>I created a repository on Nexus with Jenkins pipeline. I created the spring boot jar inside. Now I want to access this repository from another microservice project. I added some configurations to the settings.xml file under the ~/.m2 directory. And What should I add to the pom.xml file to access the repository?\n<a href=\"https://i.stack.imgur.com/lEaNg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEaNg.png\" alt=\"settings.xml\" /></a></p>\n"},{"tags":["java","hystrix"],"owner":{"account_id":6290651,"reputation":848,"user_id":4888475,"accept_rate":44,"display_name":"Mr.Tr33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695117181,"creation_date":1695117181,"question_id":77133512,"body_markdown":"I am using Hystrix for API request in my application.\r\n\r\nIs it possible to configure Hystrix to send a cleaned up version of my request to an API. I mean, not sending the fields which are null?\r\n\r\nThe background to this question:&lt;br/&gt;\r\nI am using a service which has an openapi json file to generate the client. If I generate the client and use it for my requests it also sends the optional fields as null. But the service does not allow on some fields to be null. If I do not send the null fields, everything works fine.","title":"Hystrix how to send a clean request, without null","body":"<p>I am using Hystrix for API request in my application.</p>\n<p>Is it possible to configure Hystrix to send a cleaned up version of my request to an API. I mean, not sending the fields which are null?</p>\n<p>The background to this question:<br/>\nI am using a service which has an openapi json file to generate the client. If I generate the client and use it for my requests it also sends the optional fields as null. But the service does not allow on some fields to be null. If I do not send the null fields, everything works fine.</p>\n"},{"tags":["java","maven","javadoc"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1679076227,"post_id":75758382,"comment_id":133662214,"body_markdown":"Do you have a full working example... It would be the best to file in an issue on https://issues.apache.org/jira/browse/MJAVADOC including the example...","body":"Do you have a full working example... It would be the best to file in an issue on <a href=\"https://issues.apache.org/jira/browse/MJAVADOC\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MJAVADOC</a> including the example..."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1679323329,"post_id":75758382,"comment_id":133696498,"body_markdown":"Here&#39;s an isolated reproducer: https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer\nHere&#39;s the issue: https://issues.apache.org/jira/browse/MJAVADOC-747\nDoes that help?","body":"Here&#39;s an isolated reproducer: <a href=\"https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer\" rel=\"nofollow noreferrer\">github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer</a> Here&#39;s the issue: <a href=\"https://issues.apache.org/jira/browse/MJAVADOC-747\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MJAVADOC-747</a> Does that help?"},{"owner":{"account_id":6076754,"reputation":6738,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":0,"creation_date":1679687565,"post_id":75758382,"comment_id":133771970,"body_markdown":"can&#39;t you just exludepackagename from maven-javadoc-plugin for that problematic library?","body":"can&#39;t you just exludepackagename from maven-javadoc-plugin for that problematic library?"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1679765008,"post_id":75758382,"comment_id":133780923,"body_markdown":"When you say the error occurs &quot;while running the jar&quot;, what does that actually mean, as mvn jar:jar doesn&#39;t exhibit the error? Also, what maven version are you using?","body":"When you say the error occurs &quot;while running the jar&quot;, what does that actually mean, as mvn jar:jar doesn&#39;t exhibit the error? Also, what maven version are you using?"},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1680094099,"post_id":75758382,"comment_id":133838382,"body_markdown":"The package name is apparently the default package.","body":"The package name is apparently the default package."},{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1680094242,"post_id":75758382,"comment_id":133838419,"body_markdown":"Maven 3.8.6. The reason that mvn jar:jar doesn&#39;t exhibit is probably because it&#39;s the compiler plugin, not the jar plugin, that checks modules stuff. But the javadoc:jar goal does both jar creation and checking module stuff since 3.3.0 (which causes the regression).","body":"Maven 3.8.6. The reason that mvn jar:jar doesn&#39;t exhibit is probably because it&#39;s the compiler plugin, not the jar plugin, that checks modules stuff. But the javadoc:jar goal does both jar creation and checking module stuff since 3.3.0 (which causes the regression)."}],"answers":[{"tags":[],"owner":{"account_id":399098,"reputation":10383,"user_id":764206,"display_name":"Nikita Koksharov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695115821,"creation_date":1695115821,"answer_id":77133331,"question_id":75758382,"body_markdown":"[legacyMode](https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#legacymode) setting has been available since maven-javadocs-plugin 3.6.0 version. You need to set it `true` to disable modules usage during javadocs generation. Below is the example.\r\n\r\n       &lt;plugin&gt;\r\n         \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n         \t&lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n         \t&lt;version&gt;3.6.0&lt;/version&gt;\r\n         \t&lt;executions&gt;\r\n                   &lt;execution&gt;\r\n                     &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                     &lt;goals&gt;\r\n                         &lt;goal&gt;jar&lt;/goal&gt;\r\n                     &lt;/goals&gt;\r\n                   &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;legacyMode&gt;true&lt;/legacyMode&gt;\r\n            &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n","title":"Maven Javadoc plugin 3.5.0: How do I fix &quot;Unable to derive module descriptor&quot; error?","body":"<p><a href=\"https://maven.apache.org/plugins/maven-javadoc-plugin/javadoc-mojo.html#legacymode\" rel=\"nofollow noreferrer\">legacyMode</a> setting has been available since maven-javadocs-plugin 3.6.0 version. You need to set it <code>true</code> to disable modules usage during javadocs generation. Below is the example.</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;executions&gt;\n               &lt;execution&gt;\n                 &lt;id&gt;attach-javadocs&lt;/id&gt;\n                 &lt;goals&gt;\n                     &lt;goal&gt;jar&lt;/goal&gt;\n                 &lt;/goals&gt;\n               &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;legacyMode&gt;true&lt;/legacyMode&gt;\n        &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1695115821,"creation_date":1678980959,"question_id":75758382,"body_markdown":"I am building a Maven project with the maven-javadoc-plugin attached.\r\n\r\nAfter updating to maven-javadoc-plugin 3.5.0, this error appears while running the `jar` goal:\r\n\r\n    Execution build-javadoc-jar of goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar failed:\r\n      Unable to derive module descriptor for /.../rewrite-gradle-7.38.0.jar\r\n      PluginSpec.class found in top-level directory (unnamed package not allowed in module)\r\n\r\nI don&#39;t control that 3th party dependency. And I don&#39;t use JPMS.\r\n\r\nIs there a way to tell the javadoc tool to ignore module naming?\r\n\r\n\r\n----\r\n\r\n[Source code that reproduces the problem][1]:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;reproducer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;reproducer&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3.0&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                  &lt;manifestEntries&gt;\r\n                    &lt;Automatic-Module-Name&gt;org.acme.reproducer&lt;/Automatic-Module-Name&gt;\r\n                  &lt;/manifestEntries&gt;\r\n                &lt;/archive&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.5.0&lt;/version&gt;&lt;!-- Regression from 3.2.0 which did not have the problem--&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rewrite-recipe-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;1.17.0&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-gradle&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer/","title":"Maven Javadoc plugin 3.5.0: How do I fix &quot;Unable to derive module descriptor&quot; error?","body":"<p>I am building a Maven project with the maven-javadoc-plugin attached.</p>\n<p>After updating to maven-javadoc-plugin 3.5.0, this error appears while running the <code>jar</code> goal:</p>\n<pre><code>Execution build-javadoc-jar of goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:jar failed:\n  Unable to derive module descriptor for /.../rewrite-gradle-7.38.0.jar\n  PluginSpec.class found in top-level directory (unnamed package not allowed in module)\n</code></pre>\n<p>I don't control that 3th party dependency. And I don't use JPMS.</p>\n<p>Is there a way to tell the javadoc tool to ignore module naming?</p>\n<hr />\n<p><a href=\"https://github.com/ge0ffrey/maven-javadoc-plugin-3.5.0-reproducer/\" rel=\"nofollow noreferrer\">Source code that reproduces the problem</a>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;reproducer&lt;/groupId&gt;\n  &lt;artifactId&gt;reproducer&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;archive&gt;\n              &lt;manifestEntries&gt;\n                &lt;Automatic-Module-Name&gt;org.acme.reproducer&lt;/Automatic-Module-Name&gt;\n              &lt;/manifestEntries&gt;\n            &lt;/archive&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.5.0&lt;/version&gt;&lt;!-- Regression from 3.2.0 which did not have the problem--&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n        &lt;artifactId&gt;rewrite-recipe-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.17.0&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.openrewrite&lt;/groupId&gt;\n      &lt;artifactId&gt;rewrite-gradle&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","openssl","bouncycastle"],"comments":[{"owner":{"account_id":17300877,"reputation":388,"user_id":12530613,"display_name":"Auktis"},"score":0,"creation_date":1695117517,"post_id":77133270,"comment_id":135978208,"body_markdown":"Without any specific knowledge of both tools, I see &quot;PKCS7Padding&quot; in Java and &quot;-nopad&quot; in openssl, is this normal?","body":"Without any specific knowledge of both tools, I see &quot;PKCS7Padding&quot; in Java and &quot;-nopad&quot; in openssl, is this normal?"},{"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"score":0,"creation_date":1695118122,"post_id":77133270,"comment_id":135978373,"body_markdown":"I dont know - but if i dont put this parameter i get following error : \nbad decrypt\n80A08A0602000000:error:1C80006B:Provider routines:ossl_cipher_generic_block_final:wrong final block length:providers/implementations/ciphers/ciphercommon.c:429:","body":"I dont know - but if i dont put this parameter i get following error :  bad decrypt 80A08A0602000000:error:1C80006B:Provider routines:ossl_cipher_generic_block_final:wrong final block length:providers/implementations/ciphers/ciphercommon.c:429:"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":2,"creation_date":1695121955,"post_id":77133270,"comment_id":135979011,"body_markdown":"Remove `-nopad`, add `-A`.","body":"Remove <code>-nopad</code>, add <code>-A</code>."},{"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"score":0,"creation_date":1695122479,"post_id":77133270,"comment_id":135979111,"body_markdown":"Thanks a million. So simple but -A is working. How do i set your answer as correct ?","body":"Thanks a million. So simple but -A is working. How do i set your answer as correct ?"}],"owner":{"account_id":1587233,"reputation":431,"user_id":1471287,"accept_rate":100,"display_name":"jka_dk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695115707,"creation_date":1695115358,"question_id":77133270,"body_markdown":"I&#39;m experimenting with BouncyCastle to encrypt a string or file and then decrypt it with the openssl command line tool.\r\n\r\nI have done the encryption like this \r\n\r\n```lang=java\r\nString text = &quot;Asdf&quot;;\r\n\r\nString encryptedText;\r\nSecurity.addProvider(new BouncyCastleProvider());\r\nString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\r\n\r\nbyte[] keyBytes = &quot;0123456789abcdef&quot;.getBytes(StandardCharsets.UTF_8);\r\nSecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n\r\nbyte[] ivBytes = new byte[16];\r\nIvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\r\nSecureRandom secureRandom = new SecureRandom();\r\nsecureRandom.nextBytes(ivBytes);\r\n\r\nCipher cipher = Cipher.getInstance(algorithm, &quot;BC&quot;);\r\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParameterSpec);\r\n\r\nbyte[] ciphertext = cipher.doFinal(text.getBytes(StandardCharsets.UTF_8));\r\nencryptedText = Base64.getEncoder().encodeToString(ciphertext);\r\n\r\n```\r\n\r\nand the string I get after encryptions is \r\n\r\n    fH/ybmlsrqaj1jVsjJEyBg==\r\n\r\nI have saved this in a file\r\nand then I try to decrypt it with this command:\r\n\r\n    openssl enc -d -aes-128-cbc -K 30313233343536373839616263646566 -iv 00000000000000000000000000000000 -nopad  -base64 -in in.txt -out decrypted.tx\r\n\r\nThere is no errors, but I get an empty file.\r\n\r\nIs this not possible or what am I doing wrong?\r\n\r\n","title":"How do i encrypt with Java/BouncyCastle and decrypt with eg. OpenSSL","body":"<p>I'm experimenting with BouncyCastle to encrypt a string or file and then decrypt it with the openssl command line tool.</p>\n<p>I have done the encryption like this</p>\n<pre><code>String text = &quot;Asdf&quot;;\n\nString encryptedText;\nSecurity.addProvider(new BouncyCastleProvider());\nString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\n\nbyte[] keyBytes = &quot;0123456789abcdef&quot;.getBytes(StandardCharsets.UTF_8);\nSecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n\nbyte[] ivBytes = new byte[16];\nIvParameterSpec ivParameterSpec = new IvParameterSpec(ivBytes);\nSecureRandom secureRandom = new SecureRandom();\nsecureRandom.nextBytes(ivBytes);\n\nCipher cipher = Cipher.getInstance(algorithm, &quot;BC&quot;);\ncipher.init(Cipher.ENCRYPT_MODE, secretKey, ivParameterSpec);\n\nbyte[] ciphertext = cipher.doFinal(text.getBytes(StandardCharsets.UTF_8));\nencryptedText = Base64.getEncoder().encodeToString(ciphertext);\n\n</code></pre>\n<p>and the string I get after encryptions is</p>\n<pre><code>fH/ybmlsrqaj1jVsjJEyBg==\n</code></pre>\n<p>I have saved this in a file\nand then I try to decrypt it with this command:</p>\n<pre><code>openssl enc -d -aes-128-cbc -K 30313233343536373839616263646566 -iv 00000000000000000000000000000000 -nopad  -base64 -in in.txt -out decrypted.tx\n</code></pre>\n<p>There is no errors, but I get an empty file.</p>\n<p>Is this not possible or what am I doing wrong?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1677482798,"post_id":75556103,"comment_id":133339155,"body_markdown":"Changed name is not decision. For correct i18n working necessary localeResolver bean name","body":"Changed name is not decision. For correct i18n working necessary localeResolver bean name"},{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1677600225,"post_id":75556103,"comment_id":133368084,"body_markdown":"can you elaborate ? please","body":"can you elaborate ? please"},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1677660071,"post_id":75556103,"comment_id":133379656,"body_markdown":"localeResolver bean uses for determining which locale is currently in use. Right now this bean already exist. I fixed my problem by removing @EnableWebMvc anotation (https://github.com/spring-projects/spring-boot/issues/24209), but this is not the best decision.","body":"localeResolver bean uses for determining which locale is currently in use. Right now this bean already exist. I fixed my problem by removing @EnableWebMvc anotation (<a href=\"https://github.com/spring-projects/spring-boot/issues/24209\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/24209</a>), but this is not the best decision."}],"tags":[],"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677238618,"creation_date":1677238618,"answer_id":75556103,"question_id":75555800,"body_markdown":"There are two approaches to solve this problem :\r\n\r\n1. Change the method name &#39;localeResolver&#39; to a different one; since &quot;Spring takes the names of the annotated methods as bean names.&quot;\r\n\r\n2. Set the name property of the @Bean annotation.\r\n\r\nFor reference you may follow :\r\nhttps://www.baeldung.com/spring-boot-bean-definition-override-exception","title":"Overide localeResolver bean in spring boot 3","body":"<p>There are two approaches to solve this problem :</p>\n<ol>\n<li><p>Change the method name 'localeResolver' to a different one; since &quot;Spring takes the names of the annotated methods as bean names.&quot;</p>\n</li>\n<li><p>Set the name property of the @Bean annotation.</p>\n</li>\n</ol>\n<p>For reference you may follow :\n<a href=\"https://www.baeldung.com/spring-boot-bean-definition-override-exception\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-bean-definition-override-exception</a></p>\n"},{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695115694,"creation_date":1695115694,"answer_id":77133318,"question_id":75555800,"body_markdown":"Faced this issue too while trying to create a bean inside a configuration imported from library using `@AutoConfiguration`.\\\r\n The `LocaleResolver` bean was being created in `WebMvcAutoConfiguration` which has `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)`, the configuration I was providing should have had higher precedence, so adding `@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 9)` to my configuration class solved the issue. \r\n\r\nKeep in mind that this is only valid when your application is without the `@EnableWebMvc` annotation","title":"Overide localeResolver bean in spring boot 3","body":"<p>Faced this issue too while trying to create a bean inside a configuration imported from library using <code>@AutoConfiguration</code>.<br />\nThe <code>LocaleResolver</code> bean was being created in <code>WebMvcAutoConfiguration</code> which has <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 10)</code>, the configuration I was providing should have had higher precedence, so adding <code>@AutoConfigureOrder(Ordered.HIGHEST_PRECEDENCE + 9)</code> to my configuration class solved the issue.</p>\n<p>Keep in mind that this is only valid when your application is without the <code>@EnableWebMvc</code> annotation</p>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":892,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1695115694,"creation_date":1677236824,"question_id":75555800,"body_markdown":"Before migrate to spring boot 3 I created `localeResolver` bean like this:\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver(MessageSourceProperties properties) {\r\n        CookieLocaleResolver clr = new CookieLocaleResolver(properties.getCookieName());\r\n        clr.setDefaultLocale(Locale.ENGLISH);\r\n        return clr;\r\n    }\r\n\r\nBut right now this bean already defined and i get error:\r\n\r\n    The bean &#39;localeResolver&#39;, defined in class path resource [com/app/autoconfigure/internationalization/I18nAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class] and overriding is disabled.\r\n\r\nThis bean is created in class `WebMvcConfigurationSupport`.\r\n\r\nHow to override it?","title":"Overide localeResolver bean in spring boot 3","body":"<p>Before migrate to spring boot 3 I created <code>localeResolver</code> bean like this:</p>\n<pre><code>@Bean\npublic LocaleResolver localeResolver(MessageSourceProperties properties) {\n    CookieLocaleResolver clr = new CookieLocaleResolver(properties.getCookieName());\n    clr.setDefaultLocale(Locale.ENGLISH);\n    return clr;\n}\n</code></pre>\n<p>But right now this bean already defined and i get error:</p>\n<pre><code>The bean 'localeResolver', defined in class path resource [com/app/autoconfigure/internationalization/I18nAutoConfiguration.class], could not be registered. A bean with that name has already been defined in class path resource [org/springframework/web/servlet/config/annotation/DelegatingWebMvcConfiguration.class] and overriding is disabled.\n</code></pre>\n<p>This bean is created in class <code>WebMvcConfigurationSupport</code>.</p>\n<p>How to override it?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud"],"answers":[{"comments":[{"owner":{"account_id":29469436,"reputation":1,"user_id":22582297,"display_name":""},"score":0,"creation_date":1695128961,"post_id":77133303,"comment_id":135980376,"body_markdown":"It sounds like my order.yml can&#39;t get reference to admin.yml,i checked my order.yml and can&#39;t find any wrong in format and configuration,and my adminApplication can run,what should i do then?And my order.yml in nacos like that:\n`\nspring: \n  redis:\n    host: localhost\n    port: 6379\n  datasource:\n    dynamic:\n       primary: master \n       strict: false\n`","body":"It sounds like my order.yml can&#39;t get reference to admin.yml,i checked my order.yml and can&#39;t find any wrong in format and configuration,and my adminApplication can run,what should i do then?And my order.yml in nacos like that: ` spring:    redis:     host: localhost     port: 6379   datasource:     dynamic:        primary: master         strict: false `"},{"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"score":0,"creation_date":1695142586,"post_id":77133303,"comment_id":135983383,"body_markdown":"Your adminApplication can run because the config it refers contains datasource info, and OrderApplication can&#39;t run because `order.yml` doesn&#39;t contain datasource info. You can resolve it in several ways, as you have done before: 1. add datasource conf in `order.yml`, and  OrderApplication can load proper datasource from nacos&#39;config file; 2. declare reference to admin.yml, so OrderApplication can load the same datasouce as AdminApplication. 3: if OrderApplication and AdminApplication use the same datasource config, you can extract the datasource config and refer to it in both app.","body":"Your adminApplication can run because the config it refers contains datasource info, and OrderApplication can&#39;t run because <code>order.yml</code> doesn&#39;t contain datasource info. You can resolve it in several ways, as you have done before: 1. add datasource conf in <code>order.yml</code>, and  OrderApplication can load proper datasource from nacos&#39;config file; 2. declare reference to admin.yml, so OrderApplication can load the same datasouce as AdminApplication. 3: if OrderApplication and AdminApplication use the same datasource config, you can extract the datasource config and refer to it in both app."},{"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"score":0,"creation_date":1695143160,"post_id":77133303,"comment_id":135983477,"body_markdown":"in summary, what you have done is right, and there is no need to worry about make the multiple database origin invalid.  (If you have any reference that add datasource config in `order.yml` would make the multiple database origin invalid, please tell me)","body":"in summary, what you have done is right, and there is no need to worry about make the multiple database origin invalid.  (If you have any reference that add datasource config in <code>order.yml</code> would make the multiple database origin invalid, please tell me)"},{"owner":{"account_id":29469436,"reputation":1,"user_id":22582297,"display_name":""},"score":0,"creation_date":1695178898,"post_id":77133303,"comment_id":135988046,"body_markdown":"Thanks,i have been declared referecnes use &quot;primary:master&quot;config in order.yml,it should be work in OrderApplication,but it not work now,and that is make me confuse .I read lots of manuals and anwsers,and tried it.Only the direct connect in nacos config(add datasource conf in order.yml) and add` extension-config` in OrderApplication/bootstrap.yml this two ways can make the OrderApplication run.Otherwise,the direct sounds like will be make the multiple nymanic switch invalid(sorry,not clearly in above),so i can&#39;t use the first method,the second one i can&#39;t sure is it a direct connect","body":"Thanks,i have been declared referecnes use &quot;primary:master&quot;config in order.yml,it should be work in OrderApplication,but it not work now,and that is make me confuse .I read lots of manuals and anwsers,and tried it.Only the direct connect in nacos config(add datasource conf in order.yml) and add` extension-config` in OrderApplication/bootstrap.yml this two ways can make the OrderApplication run.Otherwise,the direct sounds like will be make the multiple nymanic switch invalid(sorry,not clearly in above),so i can&#39;t use the first method,the second one i can&#39;t sure is it a direct connect"},{"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"score":0,"creation_date":1695179874,"post_id":77133303,"comment_id":135988129,"body_markdown":"I think you misunderstand the `primary:master` config. It only specify which datasource is used as master when you have multiple datasource config,  so it can&#39;t help you get concret datasource config(jdbc-url, user...) from nacos. BTW, I wonder what you mean by `multiple dynamic switch`, because I think you can edit the config in nacos to switch the database. (Any chinese blog is welcome if you can find one to describe your demand)","body":"I think you misunderstand the <code>primary:master</code> config. It only specify which datasource is used as master when you have multiple datasource config,  so it can&#39;t help you get concret datasource config(jdbc-url, user...) from nacos. BTW, I wonder what you mean by <code>multiple dynamic switch</code>, because I think you can edit the config in nacos to switch the database. (Any chinese blog is welcome if you can find one to describe your demand)"},{"owner":{"account_id":29469436,"reputation":1,"user_id":22582297,"display_name":""},"score":0,"creation_date":1695194231,"post_id":77133303,"comment_id":135989772,"body_markdown":"Well,the **primary:master**  choose the master datasource,and the master datasource (like url username password etc)was defined in admin.yml,this is my understand about it.The `multiple dynamic switch` is my misunderstand from others converse,just forget it.In my above describe,i think my config would  be worked,[link](https://www.cnblogs.com/ziyue7575/p/e97bcad8ed323602251ca3bd2b1a4457.html)This is the blog example i saw before.I see enormous configs are similar like that,and also my config,but my config doesn&#39;t work.BTW,i just config a datasource now(I&#39;m not sure is it would be a factor.)","body":"Well,the <b>primary:master</b>  choose the master datasource,and the master datasource (like url username password etc)was defined in admin.yml,this is my understand about it.The <code>multiple dynamic switch</code> is my misunderstand from others converse,just forget it.In my above describe,i think my config would  be worked,<a href=\"https://www.cnblogs.com/ziyue7575/p/e97bcad8ed323602251ca3bd2b1a4457.html\" rel=\"nofollow noreferrer\">link</a>This is the blog example i saw before.I see enormous configs are similar like that,and also my config,but my config doesn&#39;t work.BTW,i just config a datasource now(I&#39;m not sure is it would be a factor.)"}],"tags":[],"owner":{"account_id":29479773,"reputation":36,"user_id":22590790,"display_name":"Chunlin Wu"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695115622,"creation_date":1695115622,"answer_id":77133303,"question_id":77124346,"body_markdown":"1. CannotFindDataSourceException indicates that the program cannot run because of unable to load datasource configuration from the configuration file, and  there are no datasource configuration in order.yml.\r\n2. Either specify a datasource in order.yml or get reference to admin.yml, you bring in datasource conf and solve the problem.\r\n3. Where and How to specify the datasource has nothing to do whether multiple-database takes effect, what you need to do is adding multiple \r\n```\r\nspring:\r\n datasource:\r\n  dynamic:\r\n   datasource:\r\n```\r\nin config files (don&#39;t forget to specify the primary data sources), also see the document: https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611","title":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource","body":"<ol>\n<li>CannotFindDataSourceException indicates that the program cannot run because of unable to load datasource configuration from the configuration file, and  there are no datasource configuration in order.yml.</li>\n<li>Either specify a datasource in order.yml or get reference to admin.yml, you bring in datasource conf and solve the problem.</li>\n<li>Where and How to specify the datasource has nothing to do whether multiple-database takes effect, what you need to do is adding multiple</li>\n</ol>\n<pre><code>spring:\n datasource:\n  dynamic:\n   datasource:\n</code></pre>\n<p>in config files (don't forget to specify the primary data sources), also see the document: <a href=\"https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611\" rel=\"nofollow noreferrer\">https://www.kancloud.cn/tracy5546/dynamic-datasource/2264611</a></p>\n"}],"owner":{"account_id":29469436,"reputation":1,"user_id":22582297,"display_name":""},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695115622,"creation_date":1695005785,"question_id":77124346,"body_markdown":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determinePrimaryDataSource(DynamicRoutingDataSource.java:97)\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.getDataSource(DynamicRoutingDataSource.java:126)\r\n\tat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determineDataSource(DynamicRoutingDataSource.java:83)\r\n\tat com.baomidou.dynamic.datasource.ds.AbstractRoutingDataSource.getConnection(AbstractRoutingDataSource.java:55)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\r\n\tat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)\r\n\tat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)\r\n\tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n\tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)\r\n\tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)\r\n\tat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n\tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\r\n\tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\r\n\tat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\r\n\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\r\n\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n10:26:08.070 [RMI TCP Connection(5)-10.21.102.209] INFO  o.a.c.c.C.[.[.[/] - [log,173] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n10:26:26.590 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Receive server push request, request = ConfigChangeNotifyRequest, requestId = 17\r\n10:26:26.591 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Ack server push request, request = ConfigChangeNotifyRequest, requestId = 17\r\n10:26:27.525 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order] &amp; group[DEFAULT_GROUP]\r\n10:26:27.528 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order.yml] &amp; group[DEFAULT_GROUP]\r\n\r\nAs above,I can&#39;t run the OrderApplication. In nacosmy admin.yml like that\r\n\r\n\r\n`spring: \r\n  datasource:\r\n    dynamic:\r\n      druid:\r\n        initial-size: 5\r\n        min-idle: 5\r\n        maxActive: 20\r\n        maxWait: 60000\r\n      primary: master\r\n      datasource:\r\n        master:\r\n          driver-class-name: com.mysql.cj.jdbc.Driver\r\n          url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8\r\n          username: test\r\n          password: test\r\n`\r\n        \r\n\r\n\r\n\r\nThe AdminApplication read the admin.yml in nacos,and it worked.But when i run the OrderApplication,and read the order.yml,it can&#39;t worked,and the order.yml:\r\n\r\n\r\n\r\n`\r\nspring: \r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n  datasource:\r\n    dynamic:\r\n       primary: master \r\n       strict: false    \r\nmybatis-plus:\r\n  typeAliasesPackage: com.sanxin.order\r\n  mapperLocations: classpath:mapper/**/*.xml\r\n`\r\n\r\n\r\n\r\nI tried to add the mysql database datasource like url,username,password in order.yml,the OrderApplication can worked,but this way make the multiple database origin invalid,so i can&#39;t do like that.\r\nI tried to add extension-configs in  OrderApplication/bootstrap.yml, just like:\r\n\r\n\r\n\r\n\r\n`      extension-configs:\r\n        - dataId: admin.yml\r\n          group: DEFAULT_GROUP\r\n`\r\n\r\n\r\n\r\nAnd the Application worked,too.But i don&#39;t know the property would make the multipl database invalid or not.\r\nSo What Can I do to make the OrderApplication Run?","title":"com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource","body":"<p>com.baomidou.dynamic.datasource.exception.CannotFindDataSourceException: dynamic-datasource can not find primary datasource\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determinePrimaryDataSource(DynamicRoutingDataSource.java:97)\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.getDataSource(DynamicRoutingDataSource.java:126)\nat com.baomidou.dynamic.datasource.DynamicRoutingDataSource.determineDataSource(DynamicRoutingDataSource.java:83)\nat com.baomidou.dynamic.datasource.ds.AbstractRoutingDataSource.getConnection(AbstractRoutingDataSource.java:55)\nat org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:159)\nat org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:117)\nat org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:80)\nat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.getProduct(DataSourceHealthIndicator.java:122)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doDataSourceHealthCheck(DataSourceHealthIndicator.java:105)\nat org.springframework.boot.actuate.jdbc.DataSourceHealthIndicator.doHealthCheck(DataSourceHealthIndicator.java:100)\nat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\nat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:94)\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:41)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getLoggedHealth(HealthEndpointSupport.java:172)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:145)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:156)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:141)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:110)\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:81)\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:88)\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:78)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\nat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74)\nat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:122)\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:97)\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401)\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357)\nat sun.rmi.transport.Transport$1.run(Transport.java:200)\nat sun.rmi.transport.Transport$1.run(Transport.java:197)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688)\nat java.security.AccessController.doPrivileged(Native Method)\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n10:26:08.070 [RMI TCP Connection(5)-10.21.102.209] INFO  o.a.c.c.C.[.[.[/] - [log,173] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n10:26:26.590 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Receive server push request, request = ConfigChangeNotifyRequest, requestId = 17\n10:26:26.591 [nacos-grpc-client-executor-16] INFO  c.a.n.c.r.client - [printIfInfoEnabled,60] - [4d6ce7ac-dc84-43d7-b6cb-79073a6368a9_config-0] Ack server push request, request = ConfigChangeNotifyRequest, requestId = 17\n10:26:27.525 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order] &amp; group[DEFAULT_GROUP]\n10:26:27.528 [nacos.client.cachedata.internal.notifier] WARN  c.a.c.n.c.NacosPropertySourceBuilder - [loadNacosData,87] - Ignore the empty nacos configuration and get it based on dataId[sanxin-order.yml] &amp; group[DEFAULT_GROUP]</p>\n<p>As above,I can't run the OrderApplication. In nacosmy admin.yml like that</p>\n<p><code>spring:  datasource: dynamic: druid: initial-size: 5 min-idle: 5 maxActive: 20 maxWait: 60000 primary: master datasource: master: driver-class-name: com.mysql.cj.jdbc.Driver url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=utf8&amp;zeroDateTimeBehavior=convertToNull&amp;useSSL=true&amp;serverTimezone=GMT%2B8 username: test password: test </code></p>\n<p>The AdminApplication read the admin.yml in nacos,and it worked.But when i run the OrderApplication,and read the order.yml,it can't worked,and the order.yml:</p>\n<p><code>spring:  redis: host: localhost port: 6379 datasource: dynamic: primary: master  strict: false     mybatis-plus: typeAliasesPackage: com.sanxin.order mapperLocations: classpath:mapper/**/*.xml</code></p>\n<p>I tried to add the mysql database datasource like url,username,password in order.yml,the OrderApplication can worked,but this way make the multiple database origin invalid,so i can't do like that.\nI tried to add extension-configs in  OrderApplication/bootstrap.yml, just like:</p>\n<p><code>     extension-configs: - dataId: admin.yml group: DEFAULT_GROUP</code></p>\n<p>And the Application worked,too.But i don't know the property would make the multipl database invalid or not.\nSo What Can I do to make the OrderApplication Run?</p>\n"},{"tags":["java","spring","spring-boot","gradle","maven-publish"],"answers":[{"tags":[],"owner":{"account_id":7986346,"reputation":962,"user_id":6025730,"accept_rate":67,"display_name":"Nakamura"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588160228,"creation_date":1588160228,"answer_id":61500898,"question_id":61500897,"body_markdown":"After messing around for a while, I found the solution:\r\n\r\n```\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication){\r\n\t\t\t// bootJar is the default build task configured by Spring Boot\r\n\t\t\tartifact bootJar\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n### Detailed Explanation\r\n\r\nThis is because `components.java` is configured for default java plugin task: `jar` or `war`. However for Spring Boot, after applying plugin `org.springframework.boot`, the default task become `bootJar` or `bootWar`.\r\n\r\n(For your reference) From Spring Boot doc:\r\n\r\n&gt;  Executable jars can be built using the `bootJar` task. The task is automatically created when the `java` plugin is applied and is an instance of `BootJar`. The `assemble` task is automatically configured to depend upon the `bootJar` task so running `assemble` (or `build`) will also run the `bootJar` task.\r\n\r\nTherefore, the artifact could not be correctly identified by `components.java`. We should point to `bootJar` or `bootWar` instead.\r\n\r\nReference: https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish\r\n","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>After messing around for a while, I found the solution:</p>\n\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // bootJar is the default build task configured by Spring Boot\n            artifact bootJar\n        }\n    }\n}\n</code></pre>\n\n<h3>Detailed Explanation</h3>\n\n<p>This is because <code>components.java</code> is configured for default java plugin task: <code>jar</code> or <code>war</code>. However for Spring Boot, after applying plugin <code>org.springframework.boot</code>, the default task become <code>bootJar</code> or <code>bootWar</code>.</p>\n\n<p>(For your reference) From Spring Boot doc:</p>\n\n<blockquote>\n  <p>Executable jars can be built using the <code>bootJar</code> task. The task is automatically created when the <code>java</code> plugin is applied and is an instance of <code>BootJar</code>. The <code>assemble</code> task is automatically configured to depend upon the <code>bootJar</code> task so running <code>assemble</code> (or <code>build</code>) will also run the <code>bootJar</code> task.</p>\n</blockquote>\n\n<p>Therefore, the artifact could not be correctly identified by <code>components.java</code>. We should point to <code>bootJar</code> or <code>bootWar</code> instead.</p>\n\n<p>Reference: <a href=\"https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish\" rel=\"noreferrer\">https://docs.spring.io/spring-boot/docs/current/gradle-plugin/reference/html/#publishing-your-application-maven-publish</a></p>\n"},{"tags":[],"owner":{"account_id":4762496,"reputation":1608,"user_id":3849555,"display_name":"Chayne P. S."},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1591595212,"creation_date":1591595212,"answer_id":62255748,"question_id":61500897,"body_markdown":"Extend the answer by @Nakamura, If you make a project to be Springboot Library and need to set:\r\n\r\n    bootJar {\r\n        enabled=false\r\n    }\r\n    \r\n    jar {\r\n        enabled=true\r\n    }\r\n\r\nYou can set :\r\n\r\n    publishing {\r\n        publications {\r\n            mavenJava(MavenPublication){\r\n                // jar is the default build task configured by Spring Boot if bootJar=false\r\n                artifact jar\r\n            }\r\n        }\r\n    }","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>Extend the answer by @Nakamura, If you make a project to be Springboot Library and need to set:</p>\n\n<pre><code>bootJar {\n    enabled=false\n}\n\njar {\n    enabled=true\n}\n</code></pre>\n\n<p>You can set :</p>\n\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // jar is the default build task configured by Spring Boot if bootJar=false\n            artifact jar\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":178753,"reputation":1370,"user_id":410939,"display_name":"Alex"},"score":2,"creation_date":1606144632,"post_id":63835718,"comment_id":114864894,"body_markdown":"FYI `artifact bootJar` skips the generation of a .module metadata for me and, looking at the source code of *DefaultMavenPublication.java*, it always will. @Isank can you elaborate a bit more on the solution using `versionMapping`. Your links to sources are brilliant but leave me asking how one would get to the solution, rather than how the solution works. E.g. where do I find info on the strings *java-api* and *java-runtime*?","body":"FYI <code>artifact bootJar</code> skips the generation of a .module metadata for me and, looking at the source code of <i>DefaultMavenPublication.java</i>, it always will. @Isank can you elaborate a bit more on the solution using <code>versionMapping</code>. Your links to sources are brilliant but leave me asking how one would get to the solution, rather than how the solution works. E.g. where do I find info on the strings <i>java-api</i> and <i>java-runtime</i>?"}],"tags":[],"owner":{"account_id":2635431,"reputation":1575,"user_id":2280259,"accept_rate":33,"display_name":"isank-a"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1599762665,"creation_date":1599762665,"answer_id":63835718,"question_id":61500897,"body_markdown":"The problem that you&#39;re facing is actually the desired behavior because of the change - https://github.com/gradle/gradle/pull/11388 that came along with Gradle 6.0.1\r\n\r\nThe thing is that Gradle requires you to provide a proper version of dependencies so as to disallow users from publishing an invalid Gradle Module Metadata. The discussions on the issues below will help you to get a deeper insight into this\r\n\r\nhttps://github.com/gradle/gradle/issues/11862\r\n\r\nhttps://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262\r\n\r\nNow, in your case, there are two solutions that you can choose from\r\n\r\n```groovy\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication){\r\n            // bootJar is the default build task configured by Spring Boot\r\n            artifact bootJar\r\n        }\r\n    }\r\n}\r\n```\r\nor\r\n\r\n```groovy\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication) {\r\n\t\t\tfrom components.java\r\n\r\n\t\t\tversionMapping {\r\n\t\t\t\tusage(&#39;java-api&#39;) {\r\n\t\t\t\t\tfromResolutionOf(&#39;runtimeClasspath&#39;)\r\n\t\t\t\t}\r\n\t\t\t\tusage(&#39;java-runtime&#39;) {\r\n\t\t\t\t\tfromResolutionResult()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nMore information on the second option can be found on this link - https://docs.gradle.org/6.6.1/userguide/publishing_maven.html\r\n\r\n","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>The problem that you're facing is actually the desired behavior because of the change - <a href=\"https://github.com/gradle/gradle/pull/11388\" rel=\"noreferrer\">https://github.com/gradle/gradle/pull/11388</a> that came along with Gradle 6.0.1</p>\n<p>The thing is that Gradle requires you to provide a proper version of dependencies so as to disallow users from publishing an invalid Gradle Module Metadata. The discussions on the issues below will help you to get a deeper insight into this</p>\n<p><a href=\"https://github.com/gradle/gradle/issues/11862\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/11862</a></p>\n<p><a href=\"https://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262\" rel=\"noreferrer\">https://github.com/spring-gradle-plugins/dependency-management-plugin/issues/262</a></p>\n<p>Now, in your case, there are two solutions that you can choose from</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication){\n            // bootJar is the default build task configured by Spring Boot\n            artifact bootJar\n        }\n    }\n}\n</code></pre>\n<p>or</p>\n<pre><code>publishing {\n    publications {\n        mavenJava(MavenPublication) {\n            from components.java\n\n            versionMapping {\n                usage('java-api') {\n                    fromResolutionOf('runtimeClasspath')\n                }\n                usage('java-runtime') {\n                    fromResolutionResult()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>More information on the second option can be found on this link - <a href=\"https://docs.gradle.org/6.6.1/userguide/publishing_maven.html\" rel=\"noreferrer\">https://docs.gradle.org/6.6.1/userguide/publishing_maven.html</a></p>\n"}],"owner":{"account_id":7986346,"reputation":962,"user_id":6025730,"accept_rate":67,"display_name":"Nakamura"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14247,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1695115073,"creation_date":1588160228,"question_id":61500897,"body_markdown":"I&#39;m using maven-publish plugin in Gradle to publish my Spring Boot application jar. I run the usual task: `./gradlew artifactorypublish`. However, the following error appeared, which I couldn&#39;t understand the meaning of:\r\n\r\n```\r\n&gt; Task :assembleArtifact\r\n&gt; Task :application-jar:compileJava UP-TO-DATE\r\n&gt; Task :application-jar:processResources UP-TO-DATE\r\n&gt; Task :application-jar:classes UP-TO-DATE\r\n&gt; Task :application-jar:jar SKIPPED\r\n&gt; Task :generateMetadataFileForMavenJavaPublication FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:generateMetadataFileForMavenJavaPublication&#39;.\r\n&gt; Invalid publication &#39;mavenJava&#39;:\r\n    - Publication only contains dependencies and/or constraints without a version. You need to add minimal version information, publish resolved versions (https://docs.gradle.org/6.1/userguide/publishing_maven.html#publishing_maven:resolved_dependencies) or reference a platform (https://docs.gradle.org/6.1/userguide/platforms.html)\r\n```\r\n\r\nMy build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.2.6.RELEASE&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.9.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n\tid &#39;maven-publish&#39;\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n\t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n\t}\r\n}\r\n\r\npublishing {\r\n\tpublications {\r\n\t\tmavenJava(MavenPublication){\r\n\t\t\tcomponents.java\r\n\t\t}\r\n\t}\r\n}\r\n\r\n...\r\n```\r\n\r\nVersions:  \r\nGradle 6.1  \r\nSpring Boot 2.2.6 (mostly generated from Spring Boot Initializr)","title":"Gradle, SpringBoot, MavenPublish - Publication only contains dependencies and/or constraints without a version","body":"<p>I'm using maven-publish plugin in Gradle to publish my Spring Boot application jar. I run the usual task: <code>./gradlew artifactorypublish</code>. However, the following error appeared, which I couldn't understand the meaning of:</p>\n<pre><code>&gt; Task :assembleArtifact\n&gt; Task :application-jar:compileJava UP-TO-DATE\n&gt; Task :application-jar:processResources UP-TO-DATE\n&gt; Task :application-jar:classes UP-TO-DATE\n&gt; Task :application-jar:jar SKIPPED\n&gt; Task :generateMetadataFileForMavenJavaPublication FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':generateMetadataFileForMavenJavaPublication'.\n&gt; Invalid publication 'mavenJava':\n    - Publication only contains dependencies and/or constraints without a version. You need to add minimal version information, publish resolved versions (https://docs.gradle.org/6.1/userguide/publishing_maven.html#publishing_maven:resolved_dependencies) or reference a platform (https://docs.gradle.org/6.1/userguide/platforms.html)\n</code></pre>\n<p>My build.gradle:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.6.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.9.RELEASE'\n    id 'java'\n    id 'maven-publish'\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n}\n\npublishing {\n    publications {\n        mavenJava(MavenPublication){\n            components.java\n        }\n    }\n}\n\n...\n</code></pre>\n<p>Versions:<br />\nGradle 6.1<br />\nSpring Boot 2.2.6 (mostly generated from Spring Boot Initializr)</p>\n"},{"tags":["java","android"],"owner":{"account_id":29480231,"reputation":1,"user_id":22591175,"display_name":"Lati111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695115031,"creation_date":1695115031,"question_id":77133239,"body_markdown":"I&#39;m trying to change the background color of the inactive input field in the material time picker&#39;s keyboard mode, the circled grey part in the [example image](https://i.stack.imgur.com/YGyQN.png). I can&#39;t find a way to change it however.\r\n\r\nThe timepicker&#39;s code is as follows:\r\n\r\n```\r\n        FragmentManager fragmentManager = getSupportFragmentManager();\r\n        MaterialTimePicker materialTimePicker = new MaterialTimePicker.Builder()\r\n                .setTimeFormat(TimeFormat.CLOCK_24H)\r\n                //.setTheme(R.style.Timepicker_theme)\r\n                .setInputMode(MaterialTimePicker.INPUT_MODE_KEYBOARD)\r\n                .build();\r\n        materialTimePicker.show(fragmentManager, &quot;a&quot;);\r\n```\r\n\r\nAnd this is the primary theme I&#39;m using:\r\n\r\n```\r\n    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/yellow_primary&lt;/item&gt;\r\n        &lt;!-- Text color. --&gt;\r\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColorPrimaryDisableOnly&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nI&#39;ve tried changing the theme using `.setTheme(R.style.Timepicker_theme)`, which crashes unless the style inherits `ThemeOverlay.MaterialComponents.TimePicker`. Using this style I can change the elements in the clock mode, but not the keyboard mode.\r\n\r\nI might be missing something due to not being very experienced with android development, but I couldn&#39;t find anything that worked after several hours of googling. Any help would be appreciated.","title":"Can&#39;t change color in material timepicker in keyboard mode","body":"<p>I'm trying to change the background color of the inactive input field in the material time picker's keyboard mode, the circled grey part in the <a href=\"https://i.stack.imgur.com/YGyQN.png\" rel=\"nofollow noreferrer\">example image</a>. I can't find a way to change it however.</p>\n<p>The timepicker's code is as follows:</p>\n<pre><code>        FragmentManager fragmentManager = getSupportFragmentManager();\n        MaterialTimePicker materialTimePicker = new MaterialTimePicker.Builder()\n                .setTimeFormat(TimeFormat.CLOCK_24H)\n                //.setTheme(R.style.Timepicker_theme)\n                .setInputMode(MaterialTimePicker.INPUT_MODE_KEYBOARD)\n                .build();\n        materialTimePicker.show(fragmentManager, &quot;a&quot;);\n</code></pre>\n<p>And this is the primary theme I'm using:</p>\n<pre><code>    &lt;style name=&quot;Theme.app&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n        &lt;!-- Primary brand color. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/blue_primary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;!-- Secondary brand color. --&gt;\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/blue_primary&lt;/item&gt;\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/blue_secondary&lt;/item&gt;\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n        &lt;!-- Status bar color. --&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;@color/yellow_primary&lt;/item&gt;\n        &lt;!-- Text color. --&gt;\n        &lt;item name=&quot;android:textColorPrimary&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n        &lt;item name=&quot;android:textColorPrimaryDisableOnly&quot;&gt;@color/dark_blue_primary&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>I've tried changing the theme using <code>.setTheme(R.style.Timepicker_theme)</code>, which crashes unless the style inherits <code>ThemeOverlay.MaterialComponents.TimePicker</code>. Using this style I can change the elements in the clock mode, but not the keyboard mode.</p>\n<p>I might be missing something due to not being very experienced with android development, but I couldn't find anything that worked after several hours of googling. Any help would be appreciated.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1588755104,"post_id":61630688,"comment_id":109017267,"body_markdown":"Please unzip the `*.docx` and have a look into the `word/document.xml`. I suspect there are `pict` elements in the text runs instead of `drawing` elements. So `.getCTR().getPictList()` will contain your shapes.","body":"Please unzip the <code>*.docx</code> and have a look into the <code>word&#47;document.xml</code>. I suspect there are <code>pict</code> elements in the text runs instead of <code>drawing</code> elements. So <code>.getCTR().getPictList()</code> will contain your shapes."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588755780,"post_id":61630688,"comment_id":109017662,"body_markdown":"Hi @AxelRichter, I think the drawings are not the file, Please see the XML content of XWPFRun.","body":"Hi @AxelRichter, I think the drawings are not the file, Please see the XML content of XWPFRun."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1588756079,"post_id":61630688,"comment_id":109017823,"body_markdown":"What file are you talking about? In `XML` there is `&lt;w:r&gt; ...&lt;w:pict&gt;...&lt;v:rect&gt;` for a rectangle shape. This is what `.getCTR().getPictList()` would get. The `drawing` elements are only used for `SmartArt` graphics.","body":"What file are you talking about? In <code>XML</code> there is <code>&lt;w:r&gt; ...&lt;w:pict&gt;...&lt;v:rect&gt;</code> for a rectangle shape. This is what <code>.getCTR().getPictList()</code> would get. The <code>drawing</code> elements are only used for <code>SmartArt</code> graphics."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588756275,"post_id":61630688,"comment_id":109017927,"body_markdown":"Sorry, I forgot to attach the XML. You can see the definition for the drawing in the XML. I tried to extract it. There is no image in the word/... `&lt;xml-fragment &gt;\n   &lt;mc:AlternateContent&gt;\n      &lt;mc:Choice Requires=&quot;wps&quot;&gt;\n         &lt;w:drawing&gt;\n            .......\n         &lt;/w:drawing&gt;\n      &lt;/mc:Choice&gt;\n      &lt;mc:Fallback&gt;\n         &lt;w:pict&gt;\n            &lt;v:rect &gt;\n               ......\n            &lt;/v:rect&gt;\n         &lt;/w:pict&gt;\n      &lt;/mc:Fallback&gt;\n   &lt;/mc:AlternateContent&gt;\n&lt;/xml-fragment&gt;`","body":"Sorry, I forgot to attach the XML. You can see the definition for the drawing in the XML. I tried to extract it. There is no image in the word/... <code>&lt;xml-fragment &gt;    &lt;mc:AlternateContent&gt;       &lt;mc:Choice Requires=&quot;wps&quot;&gt;          &lt;w:drawing&gt;             .......          &lt;&#47;w:drawing&gt;       &lt;&#47;mc:Choice&gt;       &lt;mc:Fallback&gt;          &lt;w:pict&gt;             &lt;v:rect &gt;                ......             &lt;&#47;v:rect&gt;          &lt;&#47;w:pict&gt;       &lt;&#47;mc:Fallback&gt;    &lt;&#47;mc:AlternateContent&gt; &lt;&#47;xml-fragment&gt;</code>"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1588757334,"post_id":61630688,"comment_id":109018519,"body_markdown":"Please provide that `XML` in your question. It shows, your `Word` document uses alternate content which was introduced after publishing `Office Open XML` in 2007. So `apache poi` does not provide methods to get that content. It only can be got using `XML` (`XPath`) methods directly.","body":"Please provide that <code>XML</code> in your question. It shows, your <code>Word</code> document uses alternate content which was introduced after publishing <code>Office Open XML</code> in 2007. So <code>apache poi</code> does not provide methods to get that content. It only can be got using <code>XML</code> (<code>XPath</code>) methods directly."},{"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"score":0,"creation_date":1588759399,"post_id":61630688,"comment_id":109019662,"body_markdown":"@AxelRichter, yes, I added the XML to my question","body":"@AxelRichter, yes, I added the XML to my question"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695114811,"creation_date":1588762539,"answer_id":61633401,"question_id":61630688,"body_markdown":"Your provided `XML` shows, your `Word` document uses alternate content which was introduced after publishing `Office Open XML` in 2007. So `apache poi` does not provide methods to get that content as it only provides methods for `Office Open XML` according standard `ECMA-376`. That is because the underlying `ooxml-schemas` were created from that `ECMA-376` standard only.\r\n\r\nSo the `drawing` elements in the `AlternateContent` elements only can be got using `XML` (`XPath`) methods directly.\r\n\r\nThis could look like so:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    import org.apache.xmlbeans.XmlObject;\r\n    import org.apache.xmlbeans.XmlCursor;\r\n    \r\n    import java.util.List;\r\n    import java.util.ArrayList;\r\n    \r\n    public class WordGetAllDrawingsFromRuns {\r\n    \r\n     private static List&lt;CTDrawing&gt; getAllDrawings(XWPFRun run) throws Exception {\r\n      CTR ctR = run.getCTR();\r\n      XmlCursor cursor = ctR.newCursor();\r\n      cursor.selectPath(&quot;declare namespace w=&#39;http://schemas.openxmlformats.org/wordprocessingml/2006/main&#39; .//w:drawing&quot;);\r\n      List&lt;CTDrawing&gt; drawings = new ArrayList&lt;CTDrawing&gt;();\r\n      while (cursor.hasNextSelection()) {\r\n       cursor.toNextSelection();\r\n       XmlObject obj = cursor.getObject();\r\n       CTDrawing drawing = CTDrawing.Factory.parse(obj.newInputStream());\r\n       drawings.add(drawing);\r\n      }\r\n      return drawings;\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordDocument.docx&quot;));\r\n    \r\n      for (IBodyElement bodyElement : document.getBodyElements()) {\r\n       if (bodyElement instanceof XWPFParagraph) {\r\n        XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\r\n        for(IRunElement runElement : paragraph.getIRuns()) {\r\n         if (runElement instanceof XWPFRun) {\r\n          XWPFRun run = (XWPFRun) runElement;\r\n          List&lt;CTDrawing&gt; drawings = getAllDrawings(run);\r\n          System.out.println(drawings);\r\n    \r\n         }\r\n        }\r\n       }\r\n      }\r\n    \r\n      document.close();\r\n     }\r\n    }\r\n\r\n\r\nBut next problem will be how to get contents out of the `drawing` elements then as `&lt;wps:wsp&gt;&lt;wps:txbx&gt;` also is not part of `Office Open XML` according standard `ECMA-376`. So `ooxml-schemas` methods of `CTDrawing` also are not able to get those. So if the need is then getting the text box contents from the drawing, this also is only possible using `XML` (`XPath`) methods directly.\r\n\r\nThis could look like so then:\r\n\r\n     private static CTTxbxContent getTextBoxContent(CTDrawing drawing) throws Exception {\r\n      XmlCursor cursor = drawing.newCursor();\r\n      cursor.selectPath(&quot;declare namespace w=&#39;http://schemas.openxmlformats.org/wordprocessingml/2006/main&#39; .//w:txbxContent&quot;);\r\n      List&lt;CTTxbxContent&gt; txbxContents = new ArrayList&lt;CTTxbxContent&gt;();\r\n      while (cursor.hasNextSelection()) {\r\n       cursor.toNextSelection();\r\n       XmlObject obj = cursor.getObject();\r\n       CTTxbxContent txbxContent = CTTxbxContent.Factory.parse(obj.newInputStream());\r\n       txbxContents.add(txbxContent);\r\n       break;\r\n      }\r\n      CTTxbxContent txbxContent = null;\r\n      if (txbxContents.size() &gt; 0) {\r\n       txbxContent = txbxContents.get(0);\r\n      }\r\n      return txbxContent;\r\n     }\r\n\r\n","title":"How to get the drawings from the apache POI XWPFDocument?","body":"<p>Your provided <code>XML</code> shows, your <code>Word</code> document uses alternate content which was introduced after publishing <code>Office Open XML</code> in 2007. So <code>apache poi</code> does not provide methods to get that content as it only provides methods for <code>Office Open XML</code> according standard <code>ECMA-376</code>. That is because the underlying <code>ooxml-schemas</code> were created from that <code>ECMA-376</code> standard only.</p>\n<p>So the <code>drawing</code> elements in the <code>AlternateContent</code> elements only can be got using <code>XML</code> (<code>XPath</code>) methods directly.</p>\n<p>This could look like so:</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\nimport org.apache.xmlbeans.XmlObject;\nimport org.apache.xmlbeans.XmlCursor;\n\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class WordGetAllDrawingsFromRuns {\n\n private static List&lt;CTDrawing&gt; getAllDrawings(XWPFRun run) throws Exception {\n  CTR ctR = run.getCTR();\n  XmlCursor cursor = ctR.newCursor();\n  cursor.selectPath(&quot;declare namespace w='http://schemas.openxmlformats.org/wordprocessingml/2006/main' .//w:drawing&quot;);\n  List&lt;CTDrawing&gt; drawings = new ArrayList&lt;CTDrawing&gt;();\n  while (cursor.hasNextSelection()) {\n   cursor.toNextSelection();\n   XmlObject obj = cursor.getObject();\n   CTDrawing drawing = CTDrawing.Factory.parse(obj.newInputStream());\n   drawings.add(drawing);\n  }\n  return drawings;\n }\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordDocument.docx&quot;));\n\n  for (IBodyElement bodyElement : document.getBodyElements()) {\n   if (bodyElement instanceof XWPFParagraph) {\n    XWPFParagraph paragraph = (XWPFParagraph) bodyElement;\n    for(IRunElement runElement : paragraph.getIRuns()) {\n     if (runElement instanceof XWPFRun) {\n      XWPFRun run = (XWPFRun) runElement;\n      List&lt;CTDrawing&gt; drawings = getAllDrawings(run);\n      System.out.println(drawings);\n\n     }\n    }\n   }\n  }\n\n  document.close();\n }\n}\n</code></pre>\n<p>But next problem will be how to get contents out of the <code>drawing</code> elements then as <code>&lt;wps:wsp&gt;&lt;wps:txbx&gt;</code> also is not part of <code>Office Open XML</code> according standard <code>ECMA-376</code>. So <code>ooxml-schemas</code> methods of <code>CTDrawing</code> also are not able to get those. So if the need is then getting the text box contents from the drawing, this also is only possible using <code>XML</code> (<code>XPath</code>) methods directly.</p>\n<p>This could look like so then:</p>\n<pre><code> private static CTTxbxContent getTextBoxContent(CTDrawing drawing) throws Exception {\n  XmlCursor cursor = drawing.newCursor();\n  cursor.selectPath(&quot;declare namespace w='http://schemas.openxmlformats.org/wordprocessingml/2006/main' .//w:txbxContent&quot;);\n  List&lt;CTTxbxContent&gt; txbxContents = new ArrayList&lt;CTTxbxContent&gt;();\n  while (cursor.hasNextSelection()) {\n   cursor.toNextSelection();\n   XmlObject obj = cursor.getObject();\n   CTTxbxContent txbxContent = CTTxbxContent.Factory.parse(obj.newInputStream());\n   txbxContents.add(txbxContent);\n   break;\n  }\n  CTTxbxContent txbxContent = null;\n  if (txbxContents.size() &gt; 0) {\n   txbxContent = txbxContents.get(0);\n  }\n  return txbxContent;\n }\n</code></pre>\n"}],"owner":{"account_id":8895617,"reputation":139,"user_id":6640786,"display_name":"Co Worker"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2002,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61633401,"answer_count":1,"score":0,"last_activity_date":1695114811,"creation_date":1588753640,"question_id":61630688,"body_markdown":"I tried to get the drawings from the XWPFDocument by this way(My data.docx only contains one rectangle and it&#39;s text).\r\n```\r\n    XWPFDocument wordDocumentObj = new XWPFDocument(new FileInputStream(new File(&quot;data.docx&quot;)));\r\n    Iterator&lt;IBodyElement&gt; bodyElementIterator = wordDocumentObj.getBodyElementsIterator();\r\n\r\n    while(bodyElementIterator.hasNext()){\r\n        IBodyElement element = bodyElementIterator.next();\r\n        if (element instanceof XWPFParagraph) {\r\n             XWPFParagraph paragrapObj = (XWPFParagraph)element;\r\n             for(IRunElement irunObj : paragrapObj.getIRuns()) {\r\n                 XWPFRun runObj = (XWPFRun)irunObj;\r\n                 // I read whole the API doc, I think it is the only way to get the drawings\r\n                 System.out.println(runObj.getCTR().getDrawingList());// No element returned\r\n                 System.out.println(runObj.getCTR().getDrawingArray());// No element returned\r\n             }\r\n        }\r\n    }\r\n```\r\nDo you have any idea to get the drawings from the XWPFDocument?\r\n\r\nUpdated: The XML content of XWPFRun. I tried to extract the word file. There is no image in the /word/* directory:\r\n\r\n```\r\n\r\n&lt;xml-fragment &gt;\r\n   &lt;mc:AlternateContent&gt;\r\n      &lt;mc:Choice Requires=&quot;wps&quot;&gt;\r\n         &lt;w:drawing&gt;\r\n            &lt;wp:anchor&gt;\r\n               &lt;a:graphic xmlns:a=&quot;http://schemas.openxmlformats.org/drawingml/2006/main&quot;&gt;\r\n                  &lt;a:graphicData uri=&quot;http://schemas.microsoft.com/office/word/2010/wordprocessingShape&quot;&gt;\r\n                     &lt;wps:wsp&gt;\r\n                        &lt;wps:txbx&gt;\r\n                           &lt;w:txbxContent&gt;\r\n                              &lt;w:p w14:paraId=&quot;2744738E&quot; w14:textId=&quot;0811E43C&quot; w:rsidR=&quot;00832A19&quot; w:rsidRDefault=&quot;00832A19&quot; w:rsidP=&quot;00832A19&quot;&gt;\r\n                                 &lt;w:r&gt;\r\n                                    &lt;w:t&gt;Some text here&lt;/w:t&gt;\r\n                                 &lt;/w:r&gt;\r\n                              &lt;/w:p&gt;\r\n                           &lt;/w:txbxContent&gt;\r\n                        &lt;/wps:txbx&gt;\r\n\r\n                     &lt;/wps:wsp&gt;\r\n                  &lt;/a:graphicData&gt;\r\n               &lt;/a:graphic&gt;\r\n            &lt;/wp:anchor&gt;\r\n         &lt;/w:drawing&gt;\r\n      &lt;/mc:Choice&gt;\r\n      &lt;mc:Fallback&gt;\r\n         &lt;w:pict&gt;\r\n            &lt;v:rect w14:anchorId=&quot;684D682E&quot; id=&quot;Rectangle 2&quot; o:spid=&quot;_x0000_s1026&quot; style=&quot;&quot; fillcolor=&quot;#4f81bd [3204]&quot; strokecolor=&quot;#243f60 [1604]&quot; strokeweight=&quot;2pt&quot;&gt;\r\n               &lt;v:textbox&gt;\r\n                  &lt;w:txbxContent&gt;\r\n                     &lt;w:p w14:paraId=&quot;2744738E&quot; w14:textId=&quot;0811E43C&quot; w:rsidR=&quot;00832A19&quot; w:rsidRDefault=&quot;00832A19&quot; w:rsidP=&quot;00832A19&quot;&gt;\r\n                        &lt;w:r&gt;\r\n                           &lt;w:t&gt;Some text here&lt;/w:t&gt;\r\n                        &lt;/w:r&gt;\r\n                     &lt;/w:p&gt;\r\n                  &lt;/w:txbxContent&gt;\r\n               &lt;/v:textbox&gt;\r\n            &lt;/v:rect&gt;\r\n         &lt;/w:pict&gt;\r\n      &lt;/mc:Fallback&gt;\r\n   &lt;/mc:AlternateContent&gt;\r\n&lt;/xml-fragment&gt;\r\n```","title":"How to get the drawings from the apache POI XWPFDocument?","body":"<p>I tried to get the drawings from the XWPFDocument by this way(My data.docx only contains one rectangle and it's text).</p>\n\n<pre><code>    XWPFDocument wordDocumentObj = new XWPFDocument(new FileInputStream(new File(\"data.docx\")));\n    Iterator&lt;IBodyElement&gt; bodyElementIterator = wordDocumentObj.getBodyElementsIterator();\n\n    while(bodyElementIterator.hasNext()){\n        IBodyElement element = bodyElementIterator.next();\n        if (element instanceof XWPFParagraph) {\n             XWPFParagraph paragrapObj = (XWPFParagraph)element;\n             for(IRunElement irunObj : paragrapObj.getIRuns()) {\n                 XWPFRun runObj = (XWPFRun)irunObj;\n                 // I read whole the API doc, I think it is the only way to get the drawings\n                 System.out.println(runObj.getCTR().getDrawingList());// No element returned\n                 System.out.println(runObj.getCTR().getDrawingArray());// No element returned\n             }\n        }\n    }\n</code></pre>\n\n<p>Do you have any idea to get the drawings from the XWPFDocument?</p>\n\n<p>Updated: The XML content of XWPFRun. I tried to extract the word file. There is no image in the /word/* directory:</p>\n\n<pre><code>\n&lt;xml-fragment &gt;\n   &lt;mc:AlternateContent&gt;\n      &lt;mc:Choice Requires=\"wps\"&gt;\n         &lt;w:drawing&gt;\n            &lt;wp:anchor&gt;\n               &lt;a:graphic xmlns:a=\"http://schemas.openxmlformats.org/drawingml/2006/main\"&gt;\n                  &lt;a:graphicData uri=\"http://schemas.microsoft.com/office/word/2010/wordprocessingShape\"&gt;\n                     &lt;wps:wsp&gt;\n                        &lt;wps:txbx&gt;\n                           &lt;w:txbxContent&gt;\n                              &lt;w:p w14:paraId=\"2744738E\" w14:textId=\"0811E43C\" w:rsidR=\"00832A19\" w:rsidRDefault=\"00832A19\" w:rsidP=\"00832A19\"&gt;\n                                 &lt;w:r&gt;\n                                    &lt;w:t&gt;Some text here&lt;/w:t&gt;\n                                 &lt;/w:r&gt;\n                              &lt;/w:p&gt;\n                           &lt;/w:txbxContent&gt;\n                        &lt;/wps:txbx&gt;\n\n                     &lt;/wps:wsp&gt;\n                  &lt;/a:graphicData&gt;\n               &lt;/a:graphic&gt;\n            &lt;/wp:anchor&gt;\n         &lt;/w:drawing&gt;\n      &lt;/mc:Choice&gt;\n      &lt;mc:Fallback&gt;\n         &lt;w:pict&gt;\n            &lt;v:rect w14:anchorId=\"684D682E\" id=\"Rectangle 2\" o:spid=\"_x0000_s1026\" style=\"\" fillcolor=\"#4f81bd [3204]\" strokecolor=\"#243f60 [1604]\" strokeweight=\"2pt\"&gt;\n               &lt;v:textbox&gt;\n                  &lt;w:txbxContent&gt;\n                     &lt;w:p w14:paraId=\"2744738E\" w14:textId=\"0811E43C\" w:rsidR=\"00832A19\" w:rsidRDefault=\"00832A19\" w:rsidP=\"00832A19\"&gt;\n                        &lt;w:r&gt;\n                           &lt;w:t&gt;Some text here&lt;/w:t&gt;\n                        &lt;/w:r&gt;\n                     &lt;/w:p&gt;\n                  &lt;/w:txbxContent&gt;\n               &lt;/v:textbox&gt;\n            &lt;/v:rect&gt;\n         &lt;/w:pict&gt;\n      &lt;/mc:Fallback&gt;\n   &lt;/mc:AlternateContent&gt;\n&lt;/xml-fragment&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel","camel-routes"],"comments":[{"owner":{"account_id":8052509,"reputation":361,"user_id":6070606,"accept_rate":100,"display_name":"Vignesh Nayak Manel"},"score":0,"creation_date":1695120269,"post_id":77133147,"comment_id":135978742,"body_markdown":"what dependencies have you added in pom.xml?","body":"what dependencies have you added in pom.xml?"},{"owner":{"account_id":10203787,"reputation":474,"user_id":7533126,"display_name":"Abhinandan Kushwaha"},"score":0,"creation_date":1695146800,"post_id":77133147,"comment_id":135984099,"body_markdown":"@VigneshNayakManel\nI am using gradle project and below is my dependency \n`implementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: &#39;3.7.2&#39;`","body":"@VigneshNayakManel I am using gradle project and below is my dependency  <code>implementation group: &#39;org.apache.camel.springboot&#39;, name: &#39;camel-spring-boot-starter&#39;, version: &#39;3.7.2&#39;</code>"},{"owner":{"account_id":1901420,"reputation":3763,"user_id":1717210,"display_name":"TacheDeChoco"},"score":0,"creation_date":1695202004,"post_id":77133147,"comment_id":135991366,"body_markdown":"How do you start your app ? Do yo have a main class annotated with `@SpringBootApplication` and specifying the packages to scan ? See ex at https://www.baeldung.com/apache-camel-spring-boot","body":"How do you start your app ? Do yo have a main class annotated with <code>@SpringBootApplication</code> and specifying the packages to scan ? See ex at <a href=\"https://www.baeldung.com/apache-camel-spring-boot\" rel=\"nofollow noreferrer\">baeldung.com/apache-camel-spring-boot</a>"}],"owner":{"account_id":10203787,"reputation":474,"user_id":7533126,"display_name":"Abhinandan Kushwaha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695114290,"creation_date":1695114290,"question_id":77133147,"body_markdown":"I am trying to use camel routing in my SpringBoot project. I have created a class named CamelFileRoute that extends `RouteBuilder`. When I log something inside the constructor, it is printed in the console. However, the logs inside the `configure()` method are not getting printed. Why is the configure method not getting called?\r\n\r\nBelow is my code-\r\n```java\r\n\r\npackage com.reet.camel.route;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport lombok.extern.java.Log;\r\n\r\n@Component\r\npublic class CamelFileRoute extends RouteBuilder{\r\n\t\r\n\tpublic CamelFileRoute() {\r\n\t\t// TODO Auto-generated constructor stub\r\n\t\tSystem.out.println(&quot;Inside constructor&quot;);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure() {\r\n\t\tSystem.out.println(&quot;Inside configure&quot;);\r\n\t\t\r\n\t\tfrom(&quot;file:files/input&quot;)\r\n\t\t.log(&quot;${body}&quot;)\r\n\t\t.to(&quot;file:files/output&quot;)\r\n\t\t.log(&quot;${body}&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nExpected output-&lt;br /&gt;\r\n`Inside constructor`&lt;br /&gt;\r\n`Inside configure`\r\n\r\nActual output-&lt;br /&gt;\r\n`Inside constructor`","title":"The configure() method not getting called in Apache camel routing","body":"<p>I am trying to use camel routing in my SpringBoot project. I have created a class named CamelFileRoute that extends <code>RouteBuilder</code>. When I log something inside the constructor, it is printed in the console. However, the logs inside the <code>configure()</code> method are not getting printed. Why is the configure method not getting called?</p>\n<p>Below is my code-</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npackage com.reet.camel.route;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\nimport lombok.extern.java.Log;\n\n@Component\npublic class CamelFileRoute extends RouteBuilder{\n    \n    public CamelFileRoute() {\n        // TODO Auto-generated constructor stub\n        System.out.println(&quot;Inside constructor&quot;);\n    }\n\n    @Override\n    public void configure() {\n        System.out.println(&quot;Inside configure&quot;);\n        \n        from(&quot;file:files/input&quot;)\n        .log(&quot;${body}&quot;)\n        .to(&quot;file:files/output&quot;)\n        .log(&quot;${body}&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>Expected output-<br />\n<code>Inside constructor</code><br />\n<code>Inside configure</code></p>\n<p>Actual output-<br />\n<code>Inside constructor</code></p>\n"},{"tags":["java","maven","quarkus","multi-module"],"comments":[{"owner":{"account_id":241177,"reputation":10288,"user_id":511837,"accept_rate":78,"display_name":"igr"},"score":1,"creation_date":1664377340,"post_id":72814044,"comment_id":130458770,"body_markdown":"It happens to me as well. Cmon Quarkus...","body":"It happens to me as well. Cmon Quarkus..."}],"answers":[{"tags":[],"owner":{"account_id":19215844,"reputation":444,"user_id":14040597,"display_name":"xstefank"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695113883,"creation_date":1695113883,"answer_id":77133102,"question_id":72814044,"body_markdown":"Quarkus Dev mode is a continuous run of your Quarkus application. So, of course, it still needs to run, and if you run the dev mode successfully, you will see that there is a `something-run.jar` running (e.g., with `jps`):\r\n\r\n```\r\n$ jps\r\n44482 Jps\r\n44354 test-app-dev.jar\r\n```\r\n\r\nPOM is not a runnable type, so the expectation of the Quarkus plugin is right.\r\n\r\nBut I tried to do what you&#39;re after out of curiosity. Here is my project - https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule.\r\n\r\nFirst, you see that in the parent pom.xml, we can&#39;t define the plugins directly, so they are not executed for the parent of type POM. We can use the `&lt;pluginManagement&gt;` section only to define basically plugin configurations and executions like this: https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42. You see that I just wrapped the generated `&lt;plugins&gt;` section. Also, we don&#39;t need to define dependencies here since we don&#39;t pack any executable code in the parent POM module. I kept the properties and the native profile, so they are inherited in children&#39;s modules.\r\n\r\nNext, we have three modules (`module1`, `module2`, and `module3`) which are the same, so I&#39;ll cover only one.\r\n\r\nIn `module1`&#39;s pom.xml we can see that we need to define the dependencies for this module, without versions which are still inherited from the Quarkus BOM defined in the parent. And we also need to define just the plugin definitions as showed in https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53. Notice that all executions and configuration can be omitted since it is picked from the parent&#39;s `&lt;pluginManagement&gt;` section.\r\n\r\nOne more thing, since you plan to run multiple dev modes at the same time, you need to specify different port on which your Quarkus applications Dev modes run - https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1 and similarly in different modules https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1.\r\n\r\nAnd that&#39;s it, now you can run `quarkus dev` or `mvn quarkus:dev` from the parent module and it runs all the children in dev mode. BUT, since maven execution is sequential, you will first run `module1` dev mode, and it stops there. Only when you stop this dev mode (Ctrl + C) it will run `module2` dev mode, and again only you stop this one, it will run the `module3` dev mode.\r\n\r\nBut this is how maven works. So what you need is to parallelize the maven execution and luckily this can be done with maven daemon or `mvnd` (https://github.com/apache/maven-mvnd). With this you can do the following in the parent directory:\r\n\r\n```\r\n$ mvnd quarkus:dev      \r\nBuilding quarkus-multimodule  daemon: b580640b  threads used/hidden/max: 3/0/3  progress: 1/4  25%  time\r\n:module3             quarkus:3.3.3:dev (default-cli)\r\n:module2             quarkus:3.3.3:dev (default-cli)                                                    \r\n:module1             quarkus:3.3.3:dev (default-cli)\r\n```\r\n\r\nAnd you have 3 running Quarkus dev modes on three different ports:\r\n\r\n```\r\n$ jps\r\n48565 Jps\r\n47959 module3-dev.jar\r\n48122 module2-dev.jar\r\n48062 module1-dev.jar\r\n```\r\n\r\nBUT, of course, you don&#39;t have access to the individual features of the Dev mode, like the terminal console. For that, you would need to write your own wrapper around the quarkus dev executions, e.g., with a bash script that would run the process in the background.\r\n\r\nHopefully, this helps. If you don&#39;t miss the features in the terminal, you can access most of them in the Dev UI. Just remember to be in the correct Dev UI on the correct port of the module you&#39;re changing, e.g., http://localhost:8082/q/dev-ui/extensions.","title":"Quarkus can&#39;t start dev mode with multimodule project","body":"<p>Quarkus Dev mode is a continuous run of your Quarkus application. So, of course, it still needs to run, and if you run the dev mode successfully, you will see that there is a <code>something-run.jar</code> running (e.g., with <code>jps</code>):</p>\n<pre><code>$ jps\n44482 Jps\n44354 test-app-dev.jar\n</code></pre>\n<p>POM is not a runnable type, so the expectation of the Quarkus plugin is right.</p>\n<p>But I tried to do what you're after out of curiosity. Here is my project - <a href=\"https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/tree/main/quarkus-multimodule</a>.</p>\n<p>First, you see that in the parent pom.xml, we can't define the plugins directly, so they are not executed for the parent of type POM. We can use the <code>&lt;pluginManagement&gt;</code> section only to define basically plugin configurations and executions like this: <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/pom.xml#L42</a>. You see that I just wrapped the generated <code>&lt;plugins&gt;</code> section. Also, we don't need to define dependencies here since we don't pack any executable code in the parent POM module. I kept the properties and the native profile, so they are inherited in children's modules.</p>\n<p>Next, we have three modules (<code>module1</code>, <code>module2</code>, and <code>module3</code>) which are the same, so I'll cover only one.</p>\n<p>In <code>module1</code>'s pom.xml we can see that we need to define the dependencies for this module, without versions which are still inherited from the Quarkus BOM defined in the parent. And we also need to define just the plugin definitions as showed in <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/pom.xml#L35-L53</a>. Notice that all executions and configuration can be omitted since it is picked from the parent's <code>&lt;pluginManagement&gt;</code> section.</p>\n<p>One more thing, since you plan to run multiple dev modes at the same time, you need to specify different port on which your Quarkus applications Dev modes run - <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module1/src/main/resources/application.properties#L1</a> and similarly in different modules <a href=\"https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1\" rel=\"nofollow noreferrer\">https://github.com/xstefank/quarkus-reproducers/blob/main/quarkus-multimodule/module2/src/main/resources/application.properties#L1</a>.</p>\n<p>And that's it, now you can run <code>quarkus dev</code> or <code>mvn quarkus:dev</code> from the parent module and it runs all the children in dev mode. BUT, since maven execution is sequential, you will first run <code>module1</code> dev mode, and it stops there. Only when you stop this dev mode (Ctrl + C) it will run <code>module2</code> dev mode, and again only you stop this one, it will run the <code>module3</code> dev mode.</p>\n<p>But this is how maven works. So what you need is to parallelize the maven execution and luckily this can be done with maven daemon or <code>mvnd</code> (<a href=\"https://github.com/apache/maven-mvnd\" rel=\"nofollow noreferrer\">https://github.com/apache/maven-mvnd</a>). With this you can do the following in the parent directory:</p>\n<pre><code>$ mvnd quarkus:dev      \nBuilding quarkus-multimodule  daemon: b580640b  threads used/hidden/max: 3/0/3  progress: 1/4  25%  time\n:module3             quarkus:3.3.3:dev (default-cli)\n:module2             quarkus:3.3.3:dev (default-cli)                                                    \n:module1             quarkus:3.3.3:dev (default-cli)\n</code></pre>\n<p>And you have 3 running Quarkus dev modes on three different ports:</p>\n<pre><code>$ jps\n48565 Jps\n47959 module3-dev.jar\n48122 module2-dev.jar\n48062 module1-dev.jar\n</code></pre>\n<p>BUT, of course, you don't have access to the individual features of the Dev mode, like the terminal console. For that, you would need to write your own wrapper around the quarkus dev executions, e.g., with a bash script that would run the process in the background.</p>\n<p>Hopefully, this helps. If you don't miss the features in the terminal, you can access most of them in the Dev UI. Just remember to be in the correct Dev UI on the correct port of the module you're changing, e.g., http://localhost:8082/q/dev-ui/extensions.</p>\n"}],"owner":{"account_id":17397714,"reputation":41,"user_id":12607192,"display_name":"Adam Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":886,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1695113883,"creation_date":1656584091,"question_id":72814044,"body_markdown":"I tried setting up a multi module project with quarkus. I setup a parent with 3 child modules that all can be started with the quarkus dev mode. However when I try to start quarkus dev mode in the parent pom I get the Exception that it can not be build since it is not packaged as a jar.\r\n\r\nHere is my pom\r\n     \r\n\r\n    &lt;groupId&gt;at.myname&lt;/groupId&gt;\r\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;model&lt;/module&gt;\r\n        &lt;module&gt;view&lt;/module&gt;\r\n        &lt;module&gt;controller&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n                &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                            &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;-parameters&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;systemPropertyVariables&gt;\r\n                                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\r\n                                &lt;/native.image.path&gt;\r\n                                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n\r\n                            &lt;/systemPropertyVariables&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.2&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-index&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jandex&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;property&gt;\r\n                    &lt;name&gt;native&lt;/name&gt;\r\n                &lt;/property&gt;\r\n            &lt;/activation&gt;\r\n            &lt;properties&gt;\r\n                &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n                &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\nMy build output on quarkus dev is:\r\n\r\n    [INFO] Scanning for projects...\r\n    [WARNING] \r\n    [WARNING] Some problems were encountered while building the effective model for at.myname:model:jar:1.0-SNAPSHOT\r\n    [WARNING] &#39;dependencies.dependency.version&#39; for org.projectlombok:lombok:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 30, column 22\r\n    [WARNING] \r\n    [WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n    [WARNING] \r\n    [WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n    [WARNING] \r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Build Order:\r\n    [INFO] \r\n    [INFO] backend                                                            [pom]\r\n    [INFO] model                                                              [jar]\r\n    [INFO] controller                                                         [jar]\r\n    [INFO] view                                                               [jar]\r\n    [INFO] \r\n    [INFO] -----------------------&lt; at.myname:backend &gt;----------------------------\r\n    [INFO] Building backend 1.0-SNAPSHOT                                      [1/4]\r\n    [INFO] --------------------------------[ pom ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- quarkus-maven-plugin:2.10.0.Final:generate-code (default) @ backend ---\r\n    [INFO] Type of the artifact is POM, skipping build goal\r\n    [INFO] \r\n    [INFO] --- quarkus-maven-plugin:2.10.0.Final:dev (default-cli) @ backend ---\r\n    [INFO] Invoking org.jboss.jandex:jandex-maven-plugin:1.2.2:jandex) @ backend\r\n    [INFO] [SKIP] Cannot process fileset in directory: C:\\ws\\Polar\\backend\\target\\classes. Directory does not exist!\r\n    [INFO] Invoking io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:generate-code-tests) @ backend\r\n    [INFO] Type of the artifact is POM, skipping build goal\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Reactor Summary for backend 1.0-SNAPSHOT:\r\n    [INFO] \r\n    [INFO] backend ............................................ FAILURE [  0.349 s]\r\n    [INFO] model .............................................. SKIPPED\r\n    [INFO] controller ......................................... SKIPPED\r\n    [INFO] view ............................................... SKIPPED\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.034 s\r\n    [INFO] Finished at: 2022-06-30T12:07:30+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:dev (default-cli) on project backend: Failed to run: Failed to resolve artifact at.myname:backend:jar:1.0-SNAPSHOT: Could not find artifact at.myname:backend:jar:1.0-SNAPSHOT -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    \r\n    Process finished with exit code 1\r\n\r\n","title":"Quarkus can&#39;t start dev mode with multimodule project","body":"<p>I tried setting up a multi module project with quarkus. I setup a parent with 3 child modules that all can be started with the quarkus dev mode. However when I try to start quarkus dev mode in the parent pom I get the Exception that it can not be build since it is not packaged as a jar.</p>\n<p>Here is my pom</p>\n<pre><code>&lt;groupId&gt;at.myname&lt;/groupId&gt;\n&lt;artifactId&gt;backend&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;modules&gt;\n    &lt;module&gt;model&lt;/module&gt;\n    &lt;module&gt;view&lt;/module&gt;\n    &lt;module&gt;controller&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M5&lt;/surefire-plugin.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n            &lt;extensions&gt;true&lt;/extensions&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;goal&gt;generate-code&lt;/goal&gt;\n                        &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;compilerArgs&gt;\n                    &lt;arg&gt;-parameters&lt;/arg&gt;\n                &lt;/compilerArgs&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;systemPropertyVariables&gt;\n                            &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner\n                            &lt;/native.image.path&gt;\n                            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n\n                        &lt;/systemPropertyVariables&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jboss.jandex&lt;/groupId&gt;\n            &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-index&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;jandex&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;native&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;property&gt;\n                &lt;name&gt;native&lt;/name&gt;\n            &lt;/property&gt;\n        &lt;/activation&gt;\n        &lt;properties&gt;\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\n            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n\n<p>My build output on quarkus dev is:</p>\n<pre><code>[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for at.myname:model:jar:1.0-SNAPSHOT\n[WARNING] 'dependencies.dependency.version' for org.projectlombok:lombok:jar is either LATEST or RELEASE (both of them are being deprecated) @ line 30, column 22\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] backend                                                            [pom]\n[INFO] model                                                              [jar]\n[INFO] controller                                                         [jar]\n[INFO] view                                                               [jar]\n[INFO] \n[INFO] -----------------------&lt; at.myname:backend &gt;----------------------------\n[INFO] Building backend 1.0-SNAPSHOT                                      [1/4]\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.10.0.Final:generate-code (default) @ backend ---\n[INFO] Type of the artifact is POM, skipping build goal\n[INFO] \n[INFO] --- quarkus-maven-plugin:2.10.0.Final:dev (default-cli) @ backend ---\n[INFO] Invoking org.jboss.jandex:jandex-maven-plugin:1.2.2:jandex) @ backend\n[INFO] [SKIP] Cannot process fileset in directory: C:\\ws\\Polar\\backend\\target\\classes. Directory does not exist!\n[INFO] Invoking io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:generate-code-tests) @ backend\n[INFO] Type of the artifact is POM, skipping build goal\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary for backend 1.0-SNAPSHOT:\n[INFO] \n[INFO] backend ............................................ FAILURE [  0.349 s]\n[INFO] model .............................................. SKIPPED\n[INFO] controller ......................................... SKIPPED\n[INFO] view ............................................... SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.034 s\n[INFO] Finished at: 2022-06-30T12:07:30+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:2.10.0.Final:dev (default-cli) on project backend: Failed to run: Failed to resolve artifact at.myname:backend:jar:1.0-SNAPSHOT: Could not find artifact at.myname:backend:jar:1.0-SNAPSHOT -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","jboss","wildfly","ear","ejbca"],"answers":[{"tags":[],"owner":{"account_id":3305966,"reputation":524,"user_id":2787839,"display_name":"primetomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112914,"creation_date":1695112914,"answer_id":77132970,"question_id":77072121,"body_markdown":"There are many public end points, which one are you trying to access? For protocols like SCEP, CMP, EST, REST etc there is a configuration in the Admin UI to allow or disallow them. A 403 is a quite specific one, so something specific must make it forbidden.\r\n","title":"EJBCA 403 forbidden on Wildfly","body":"<p>There are many public end points, which one are you trying to access? For protocols like SCEP, CMP, EST, REST etc there is a configuration in the Admin UI to allow or disallow them. A 403 is a quite specific one, so something specific must make it forbidden.</p>\n"}],"owner":{"account_id":25600556,"reputation":11,"user_id":19375640,"display_name":"codemaster1101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695112914,"creation_date":1694260957,"question_id":77072121,"body_markdown":"I have a problem with an EJBCA 8 deployment on Wildfly 26.1.3.Final\r\nWhenever i try to access a public endpoint i get a 403 forbidden HTTP status back.\r\n\r\nThis is my configuration:\r\n\r\nwildfly.service\r\n```\r\n[Unit]\r\nDescription=The WildFly Application Server\r\nAfter=syslog.target network.target\r\nBefore=httpd.service\r\n\r\n[Service]\r\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\r\nEnvironmentFile=-/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/docs/contrib/scripts/systemd/wildfly.conf\r\nUser=vagrant\r\nLimitNOFILE=102642\r\nPIDFile=/opt/kais/mes/workdir/guardian/wildfly/wildfly.pid\r\nExecStart=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/bin/standalone.sh -c standalone.xml  -b 10.0.0.16 -bmanagement=10.0.0.16\r\nStandardOutput=null\r\n\r\n[Install]\r\nWantedBy=multi-user.target\r\n```\r\n\r\nThese are the bash commands that I use to deploy EJBCA ear on Wildfly\r\n\r\n```\r\ncd /opt/kais/mes/install/guardian/ejbca/ejbca-ce-EJBCA_8_0_20230531\r\n\r\n# Deploy ear\r\nsudo ant deployear -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final\r\n```\r\n\r\nAnother thing to note is that I do not get any logs regarding the 403 from the Wildfly server logs -&gt; $WILDFLY_HOME/standalone/log/server.log","title":"EJBCA 403 forbidden on Wildfly","body":"<p>I have a problem with an EJBCA 8 deployment on Wildfly 26.1.3.Final\nWhenever i try to access a public endpoint i get a 403 forbidden HTTP status back.</p>\n<p>This is my configuration:</p>\n<p>wildfly.service</p>\n<pre><code>[Unit]\nDescription=The WildFly Application Server\nAfter=syslog.target network.target\nBefore=httpd.service\n\n[Service]\nEnvironment=LAUNCH_JBOSS_IN_BACKGROUND=1\nEnvironmentFile=-/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/docs/contrib/scripts/systemd/wildfly.conf\nUser=vagrant\nLimitNOFILE=102642\nPIDFile=/opt/kais/mes/workdir/guardian/wildfly/wildfly.pid\nExecStart=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final/bin/standalone.sh -c standalone.xml  -b 10.0.0.16 -bmanagement=10.0.0.16\nStandardOutput=null\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n<p>These are the bash commands that I use to deploy EJBCA ear on Wildfly</p>\n<pre><code>cd /opt/kais/mes/install/guardian/ejbca/ejbca-ce-EJBCA_8_0_20230531\n\n# Deploy ear\nsudo ant deployear -Dappserver.home=/opt/kais/mes/install/guardian/wildfly/wildfly-26.1.3.Final\n</code></pre>\n<p>Another thing to note is that I do not get any logs regarding the 403 from the Wildfly server logs -&gt; $WILDFLY_HOME/standalone/log/server.log</p>\n"},{"tags":["java","spring","generics","autowired","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":110605,"reputation":25191,"user_id":292614,"accept_rate":91,"display_name":"John Strickler"},"score":14,"creation_date":1411743221,"post_id":22603321,"comment_id":40831966,"body_markdown":"This is amazing.  I thought Type Erasure made this sort of thing not possible.","body":"This is amazing.  I thought Type Erasure made this sort of thing not possible."},{"owner":{"account_id":2814037,"reputation":515,"user_id":2419613,"accept_rate":88,"display_name":"ceram1"},"score":6,"creation_date":1413593017,"post_id":22603321,"comment_id":41515160,"body_markdown":"How can I get bean by resolvabletype from beanfactory?","body":"How can I get bean by resolvabletype from beanfactory?"},{"owner":{"account_id":255364,"reputation":3356,"user_id":535374,"accept_rate":63,"display_name":"xi.lin"},"score":0,"creation_date":1422592637,"post_id":22603321,"comment_id":44821465,"body_markdown":"@JohnStrickler I also thought this cannot be safely done. I Haven&#39;t check the implementation of ResolvableType yet, but is it means we can safely get generic type now?","body":"@JohnStrickler I also thought this cannot be safely done. I Haven&#39;t check the implementation of ResolvableType yet, but is it means we can safely get generic type now?"},{"owner":{"account_id":2257919,"reputation":31825,"user_id":1988693,"accept_rate":76,"display_name":"drew moore"},"score":0,"creation_date":1475561616,"post_id":22603321,"comment_id":66979509,"body_markdown":"@xi.lin I can&#39;t tell you how it&#39;s implemented, but looking at the [`ResolvableType` API](http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html) (also linked in answer) and javadoc, clearly it can be done (note the `getGeneric()` method)","body":"@xi.lin I can&#39;t tell you how it&#39;s implemented, but looking at the <a href=\"http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"nofollow noreferrer\"><code>ResolvableType</code> API</a> (also linked in answer) and javadoc, clearly it can be done (note the <code>getGeneric()</code> method)"},{"owner":{"account_id":3643033,"reputation":407,"user_id":3036723,"accept_rate":75,"display_name":"Micha Przybylak"},"score":3,"creation_date":1487693675,"post_id":22603321,"comment_id":71894511,"body_markdown":"Actually In some cases you can get generic type in runtime in Java. One condition, you need to have subclass of generic class. Example: Parent class `public class Parent&lt;T&gt; {}` subclass `public class Child extends Parent&lt;Integer&gt; { }` and now: `Child c = new Child(); System.out.println(((ParameterizedType)c.getClass().getGenericSuperclass()).getActualTypeArguments()[0]);` will print `class java.lang.Integer`","body":"Actually In some cases you can get generic type in runtime in Java. One condition, you need to have subclass of generic class. Example: Parent class <code>public class Parent&lt;T&gt; {}</code> subclass <code>public class Child extends Parent&lt;Integer&gt; { }</code> and now: <code>Child c = new Child(); System.out.println(((ParameterizedType)c.getClass().getGener&zwnj;&#8203;icSuperclass()).getA&zwnj;&#8203;ctualTypeArguments()&zwnj;&#8203;[0]);</code> will print <code>class java.lang.Integer</code>"},{"owner":{"account_id":1118646,"reputation":3983,"user_id":1107412,"accept_rate":37,"display_name":"Preslav Rachev"},"score":1,"creation_date":1530174877,"post_id":22603321,"comment_id":89145138,"body_markdown":"Will this work with package-scan bean autoconfiguration? I don&#39;t think so.","body":"Will this work with package-scan bean autoconfiguration? I don&#39;t think so."},{"owner":{"account_id":9037579,"reputation":675,"user_id":6732893,"accept_rate":55,"display_name":"NuCradle"},"score":0,"creation_date":1568483743,"post_id":22603321,"comment_id":102291689,"body_markdown":"Would this work for generic types with two or more parameterized items, e.g. `Item&lt;String, MyFirstItemType&gt;` for one `@Bean`, and `Item&lt;String, MySecondItemType&gt;` for the second `@Bean`?","body":"Would this work for generic types with two or more parameterized items, e.g. <code>Item&lt;String, MyFirstItemType&gt;</code> for one <code>@Bean</code>, and <code>Item&lt;String, MySecondItemType&gt;</code> for the second <code>@Bean</code>?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1609602882,"post_id":22603321,"comment_id":115875650,"body_markdown":"@JohnStrickler just in case: [this is how it is achieved](https://stackoverflow.com/questions/64873444/generic-class-type-parameter-detail-at-runtime/64934396#64934396), pretty much","body":"@JohnStrickler just in case: <a href=\"https://stackoverflow.com/questions/64873444/generic-class-type-parameter-detail-at-runtime/64934396#64934396\">this is how it is achieved</a>, pretty much"},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1609609611,"post_id":22603321,"comment_id":115877944,"body_markdown":"@ceram1, see: [Get spring bean via context using generic](https://stackoverflow.com/questions/30374267/).","body":"@ceram1, see: <a href=\"https://stackoverflow.com/questions/30374267/\">Get spring bean via context using generic</a>."}],"tags":[],"owner":{"account_id":3418844,"reputation":8031,"user_id":2867032,"display_name":"Shishir Kumar"},"comment_count":9,"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1671789430,"creation_date":1395645989,"answer_id":22603321,"question_id":22603291,"body_markdown":"Simple solution is to upgrade to [Spring 4.0][1] as it will automatically consider generics as a form of `@Qualifier`, as below:\r\n\r\n    @Autowired\r\n    private Item&lt;String&gt; strItem; // Injects the stringItem bean\r\n    \r\n    @Autowired\r\n    private Item&lt;Integer&gt; intItem; // Injects the integerItem bean\r\n\r\nInfact, you can even autowire nested generics when injecting into a list, as below:\r\n\r\n    // Inject all Item beans as long as they have an &lt;Integer&gt; generic\r\n    // Item&lt;String&gt; beans will not appear in this list\r\n    @Autowired\r\n    private List&lt;Item&lt;Integer&gt;&gt; intItems;\r\n\r\n**How this Works?**\r\n\r\nThe new [`ResolvableType`][2] class provides the logic of actually working with generic types. You can use it yourself to easily navigate and resolve type information. Most methods on `ResolvableType` will themselves return a `ResolvableType`, for example:\r\n\r\n    // Assuming &#39;field&#39; refers to &#39;intItems&#39; above\r\n    ResolvableType t1 = ResolvableType.forField(field); // List&lt;Item&lt;Integer&gt;&gt; \r\n    ResolvableType t2 = t1.getGeneric(); // Item&lt;Integer&gt;\r\n    ResolvableType t3 = t2.getGeneric(); // Integer\r\n    Class&lt;?&gt; c = t3.resolve(); // Integer.class\r\n    \r\n    // or more succinctly\r\n    Class&lt;?&gt; c = ResolvableType.forField(field).resolveGeneric(0, 0);\r\n\r\nCheck out the Examples &amp; Tutorials at below links.\r\n\r\n- [Spring Framework 4.0 and Java Generics][3]\r\n- [Spring and Autowiring of Generic Types][4]\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\r\n  [2]: http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html\r\n  [3]: http://spring.io/blog/2013/12/03/spring-framework-4-0-and-java-generics\r\n  [4]: http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Simple solution is to upgrade to <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/beans.html#beans-generics-as-qualifiers\" rel=\"noreferrer\">Spring 4.0</a> as it will automatically consider generics as a form of <code>@Qualifier</code>, as below:</p>\n<pre><code>@Autowired\nprivate Item&lt;String&gt; strItem; // Injects the stringItem bean\n\n@Autowired\nprivate Item&lt;Integer&gt; intItem; // Injects the integerItem bean\n</code></pre>\n<p>Infact, you can even autowire nested generics when injecting into a list, as below:</p>\n<pre><code>// Inject all Item beans as long as they have an &lt;Integer&gt; generic\n// Item&lt;String&gt; beans will not appear in this list\n@Autowired\nprivate List&lt;Item&lt;Integer&gt;&gt; intItems;\n</code></pre>\n<p><strong>How this Works?</strong></p>\n<p>The new <a href=\"http://docs.spring.io/spring/docs/4.0.0.RC2/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"noreferrer\"><code>ResolvableType</code></a> class provides the logic of actually working with generic types. You can use it yourself to easily navigate and resolve type information. Most methods on <code>ResolvableType</code> will themselves return a <code>ResolvableType</code>, for example:</p>\n<pre><code>// Assuming 'field' refers to 'intItems' above\nResolvableType t1 = ResolvableType.forField(field); // List&lt;Item&lt;Integer&gt;&gt; \nResolvableType t2 = t1.getGeneric(); // Item&lt;Integer&gt;\nResolvableType t3 = t2.getGeneric(); // Integer\nClass&lt;?&gt; c = t3.resolve(); // Integer.class\n\n// or more succinctly\nClass&lt;?&gt; c = ResolvableType.forField(field).resolveGeneric(0, 0);\n</code></pre>\n<p>Check out the Examples &amp; Tutorials at below links.</p>\n<ul>\n<li><a href=\"http://spring.io/blog/2013/12/03/spring-framework-4-0-and-java-generics\" rel=\"noreferrer\">Spring Framework 4.0 and Java Generics</a></li>\n<li><a href=\"http://www.jayway.com/2013/11/03/spring-and-autowiring-of-generic-types/\" rel=\"noreferrer\">Spring and Autowiring of Generic Types</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":4111938,"reputation":1379,"user_id":3374518,"display_name":"user3374518"},"score":1,"creation_date":1395650552,"post_id":22603588,"comment_id":34416927,"body_markdown":"Do you mean to work with concrete `StringItem` &amp; `IntegerItem` classes directly?","body":"Do you mean to work with concrete <code>StringItem</code> &amp; <code>IntegerItem</code> classes directly?"}],"tags":[],"owner":{"account_id":4206636,"reputation":401,"user_id":3445373,"display_name":"Rishav Basu"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1695112803,"creation_date":1395647003,"answer_id":22603588,"question_id":22603291,"body_markdown":"If you don&#39;t want to upgrade to Spring 4, you have to autowire by name, like this:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;stringItem&quot;)\r\n    private Item&lt;String&gt; strItem; // Injects the stringItem bean\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;integerItem&quot;)\r\n    private Item&lt;Integer&gt; intItem; // Injects the integerItem bean","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>If you don't want to upgrade to Spring 4, you have to autowire by name, like this:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;stringItem&quot;)\nprivate Item&lt;String&gt; strItem; // Injects the stringItem bean\n\n@Autowired\n@Qualifier(&quot;integerItem&quot;)\nprivate Item&lt;Integer&gt; intItem; // Injects the integerItem bean\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3063427,"reputation":2288,"user_id":2595642,"accept_rate":43,"display_name":"shikjohari"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1415349999,"creation_date":1415349999,"answer_id":26797340,"question_id":22603291,"body_markdown":"Spring 4.0 is the answer with the @Qualifier annotation usage. Hope this helps","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Spring 4.0 is the answer with the @Qualifier annotation usage. Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1396168,"reputation":349,"user_id":1325870,"display_name":"zg_spring"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415761831,"creation_date":1415761831,"answer_id":26878602,"question_id":22603291,"body_markdown":"Spring autowired strategy is defined in your configration file(application.xml).\r\n\r\nif you don&#39;t defined, default is by Type, spring inject use JDK reflect mechanism.\r\n\r\nso List?String? and List?Item?, the type is same List.class, so spring confused how to inject.\r\n\r\nand as above persons response, you should be point @Qualifier to tell spring which bean should be inject.\r\n\r\ni like spring configration file to define bean rather then Annotation.\r\n\r\n    &lt;bean&gt;\r\n     &lt;property name=&quot;stringItem&quot;&gt;\r\n            &lt;list&gt;\r\n                  &lt;....&gt;\r\n            &lt;/list&gt;\r\n     &lt;/property&gt;\r\n&lt;/bean&gt;","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Spring autowired strategy is defined in your configration file(application.xml).</p>\n\n<p>if you don't defined, default is by Type, spring inject use JDK reflect mechanism.</p>\n\n<p>so List?String? and List?Item?, the type is same List.class, so spring confused how to inject.</p>\n\n<p>and as above persons response, you should be point @Qualifier to tell spring which bean should be inject.</p>\n\n<p>i like spring configration file to define bean rather then Annotation.</p>\n\n<pre><code>&lt;bean&gt;\n &lt;property name=\"stringItem\"&gt;\n        &lt;list&gt;\n              &lt;....&gt;\n        &lt;/list&gt;\n &lt;/property&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":9057139,"reputation":107,"user_id":6745028,"display_name":"Ramkumar S"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1476497429,"creation_date":1476497429,"answer_id":40054251,"question_id":22603291,"body_markdown":"I believe it has nothing to with generics... If you are injecting two different beans of same type then you need to provide a qualifier to help Spring identify them;\r\n\r\n... Elsewhere\r\n\r\n    @Configuration\r\n    @Bean\r\n    public Item stringItem() {\r\n        return new StringItem();\r\n    }\r\n\r\n    @Bean\r\n    public Item integerItem() {\r\n        return new IntegerItem();\r\n    }\r\n\r\n\r\nIf you have a non-generic declarations like these then you need to add qualifier to help Spring identify them... \r\n\r\n    @Autowired\r\n    **@Qualifier(&quot;stringItem&quot;)**\r\n    private Item item1;\r\n\r\n    @Autowired\r\n    **@Qualifier(&quot;integerItem&quot;)**\r\n    private Item item2;\r\n\r\n\r\nOf course, in versions 4 and above spring considers the Generic Types through the resolvers which is very cool...\r\n    ","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>I believe it has nothing to with generics... If you are injecting two different beans of same type then you need to provide a qualifier to help Spring identify them;</p>\n\n<p>... Elsewhere</p>\n\n<pre><code>@Configuration\n@Bean\npublic Item stringItem() {\n    return new StringItem();\n}\n\n@Bean\npublic Item integerItem() {\n    return new IntegerItem();\n}\n</code></pre>\n\n<p>If you have a non-generic declarations like these then you need to add qualifier to help Spring identify them... </p>\n\n<pre><code>@Autowired\n**@Qualifier(\"stringItem\")**\nprivate Item item1;\n\n@Autowired\n**@Qualifier(\"integerItem\")**\nprivate Item item2;\n</code></pre>\n\n<p>Of course, in versions 4 and above spring considers the Generic Types through the resolvers which is very cool...</p>\n"},{"comments":[{"owner":{"account_id":16003369,"reputation":21,"user_id":11549467,"display_name":"howard791006"},"score":0,"creation_date":1558691314,"post_id":56290051,"comment_id":99192548,"body_markdown":"BTW in Spring 5+","body":"BTW in Spring 5+"}],"tags":[],"owner":{"account_id":16003369,"reputation":21,"user_id":11549467,"display_name":"howard791006"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573428848,"creation_date":1558691271,"answer_id":56290051,"question_id":22603291,"body_markdown":"Below is a solution I made to answer this question:\r\n\r\n```\r\n\r\n        List&lt;String&gt; listItem= new ArrayList&lt;&gt;();\r\n\r\n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(List.class, String.class);\r\n        RootBeanDefinition beanDefinition = new RootBeanDefinition();\r\n        beanDefinition.setTargetType(resolvableType);\r\n        beanDefinition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_BY_TYPE);\r\n        beanDefinition.setAutowireCandidate(true);\r\n\r\n        DefaultListableBeanFactory bf = (DefaultListableBeanFactory) configurableWebApplicationContext.getBeanFactory();\r\n\r\n        bf.registerBeanDefinition(&quot;your bean name&quot;, beanDefinition);\r\n        bf.registerSingleton(&quot;your bean name&quot;, listItem);\r\n```","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>Below is a solution I made to answer this question:</p>\n\n<pre><code>\n        List&lt;String&gt; listItem= new ArrayList&lt;&gt;();\n\n        ResolvableType resolvableType = ResolvableType.forClassWithGenerics(List.class, String.class);\n        RootBeanDefinition beanDefinition = new RootBeanDefinition();\n        beanDefinition.setTargetType(resolvableType);\n        beanDefinition.setAutowireMode(AbstractBeanDefinition.AUTOWIRE_BY_TYPE);\n        beanDefinition.setAutowireCandidate(true);\n\n        DefaultListableBeanFactory bf = (DefaultListableBeanFactory) configurableWebApplicationContext.getBeanFactory();\n\n        bf.registerBeanDefinition(\"your bean name\", beanDefinition);\n        bf.registerSingleton(\"your bean name\", listItem);\n</code></pre>\n"}],"owner":{"account_id":4111938,"reputation":1379,"user_id":3374518,"display_name":"user3374518"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106704,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":22603321,"answer_count":6,"score":106,"last_activity_date":1695112803,"creation_date":1395645860,"question_id":22603291,"body_markdown":"I have a bean `Item&lt;T&gt;` which is required to be autowired in a `@Configuration` class.\r\n\r\n    @Configuration\r\n    public class AppConfig {\r\n    \r\n        @Bean\r\n        public Item&lt;String&gt; stringItem() {\r\n            return new StringItem();\r\n        }\r\n    \r\n        @Bean\r\n        public Item&lt;Integer&gt; integerItem() {\r\n            return new IntegerItem();\r\n        }\r\n    \r\n    }\r\n\r\nBut when I try to `@Autowire Item&lt;String&gt;`, I get following exception.\r\n\r\n    &quot;No qualifying bean of type [Item] is defined: expected single matching bean but found 2: stringItem, integerItem&quot;\r\n\r\nHow should I Autowire generic type `Item&lt;T&gt;` in Spring?","title":"How to Autowire Bean of generic type &lt;T&gt; in Spring?","body":"<p>I have a bean <code>Item&lt;T&gt;</code> which is required to be autowired in a <code>@Configuration</code> class.</p>\n\n<pre><code>@Configuration\npublic class AppConfig {\n\n    @Bean\n    public Item&lt;String&gt; stringItem() {\n        return new StringItem();\n    }\n\n    @Bean\n    public Item&lt;Integer&gt; integerItem() {\n        return new IntegerItem();\n    }\n\n}\n</code></pre>\n\n<p>But when I try to <code>@Autowire Item&lt;String&gt;</code>, I get following exception.</p>\n\n<pre><code>\"No qualifying bean of type [Item] is defined: expected single matching bean but found 2: stringItem, integerItem\"\n</code></pre>\n\n<p>How should I Autowire generic type <code>Item&lt;T&gt;</code> in Spring?</p>\n"},{"tags":["java","spring","spring-boot","java-8","spring-boot-chaos-monkey"],"owner":{"account_id":27084749,"reputation":11,"user_id":20633422,"display_name":"Rashmi Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1695112719,"creation_date":1695112653,"question_id":77132929,"body_markdown":"in my microservice I am trying to introduce retry at the time of saving record into the `database`. that is actually working. but I need to test it in lower env without bringing our DB down. for that I googled and found `chaos monkey` is an option for the same. so I introduced the same in my code.\r\n\r\nbelow is my service class.\r\n\r\n    public class DemoService {\r\n    \r\n        @Autowired\r\n        private DemoRepo demoRepo;\r\n        static private int i=0;\r\n    \r\n        @Retryable(value={SQLException.class},maxAttempts = 3, backoff = @Backoff(delay = 1000))\r\n        public Demo save(Demo demo){\r\n            log.info(&quot;Retry is working&quot;+(i+1));\r\n           return demoRepo.save(demo);\r\n        }\r\n    }\r\n\r\n`\r\n\r\nand below is my `application.yml` file.\r\n\r\n    spring:\r\n      jpa:\r\n        hibernate:\r\n          ddl-auto: update\r\n      datasource:\r\n        url: jdbc:mysql://localhost:3306/chaostest\r\n        username: root\r\n        password: 1234\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n      profiles:\r\n        active: chaos-monkey\r\n    \r\n    chaos:\r\n      monkey:\r\n        enabled: true\r\n        assaults:\r\n          exceptionsActive: true\r\n          exception:\r\n            type: java.sql.SQLException\r\n          level: 5\r\n        watcher:\r\n          demoRepo: true\r\n    \r\n    logging:\r\n      level:\r\n        de:\r\n          codecentric:\r\n            spring:\r\n              boot:\r\n                chaos:\r\n                  monkey: DEBUG\r\n\r\nThe problem is chaos monkey is not creating any issue for database. my transaction is getting saved on first time only. I want to test if retry is working properly? \r\n\r\n1) what changes I need to do on configuration or code so that chaos-monkey works properly\r\n2) is there any other way to test the same without bringing DB down?\r\n\r\n\r\n\r\n\r\n","title":"Chaos-monkey to test DB retry in springboot","body":"<p>in my microservice I am trying to introduce retry at the time of saving record into the <code>database</code>. that is actually working. but I need to test it in lower env without bringing our DB down. for that I googled and found <code>chaos monkey</code> is an option for the same. so I introduced the same in my code.</p>\n<p>below is my service class.</p>\n<pre><code>public class DemoService {\n\n    @Autowired\n    private DemoRepo demoRepo;\n    static private int i=0;\n\n    @Retryable(value={SQLException.class},maxAttempts = 3, backoff = @Backoff(delay = 1000))\n    public Demo save(Demo demo){\n        log.info(&quot;Retry is working&quot;+(i+1));\n       return demoRepo.save(demo);\n    }\n}\n</code></pre>\n<p>`</p>\n<p>and below is my <code>application.yml</code> file.</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      ddl-auto: update\n  datasource:\n    url: jdbc:mysql://localhost:3306/chaostest\n    username: root\n    password: 1234\n    driver-class-name: com.mysql.cj.jdbc.Driver\n  profiles:\n    active: chaos-monkey\n\nchaos:\n  monkey:\n    enabled: true\n    assaults:\n      exceptionsActive: true\n      exception:\n        type: java.sql.SQLException\n      level: 5\n    watcher:\n      demoRepo: true\n\nlogging:\n  level:\n    de:\n      codecentric:\n        spring:\n          boot:\n            chaos:\n              monkey: DEBUG\n</code></pre>\n<p>The problem is chaos monkey is not creating any issue for database. my transaction is getting saved on first time only. I want to test if retry is working properly?</p>\n<ol>\n<li>what changes I need to do on configuration or code so that chaos-monkey works properly</li>\n<li>is there any other way to test the same without bringing DB down?</li>\n</ol>\n"},{"tags":["java","inheritance"],"comments":[{"owner":{"account_id":5356655,"reputation":5914,"user_id":4269149,"display_name":"Sarthak Mittal"},"score":1,"creation_date":1522751021,"post_id":49627652,"comment_id":86262240,"body_markdown":"There will only be one object created which will inherit properties of its parent classes. Which can be referenced through parent class references as well.","body":"There will only be one object created which will inherit properties of its parent classes. Which can be referenced through parent class references as well."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1522751636,"post_id":49627652,"comment_id":86262603,"body_markdown":"an instance of the childclass IS also an object(instance) of the parent class.","body":"an instance of the childclass IS also an object(instance) of the parent class."},{"owner":{"account_id":4081262,"reputation":1022,"user_id":3351697,"accept_rate":63,"display_name":"Afgan"},"score":0,"creation_date":1522753258,"post_id":49627652,"comment_id":86263589,"body_markdown":"Every class has to be load","body":"Every class has to be load"},{"owner":{"account_id":20264131,"reputation":173,"user_id":15389318,"display_name":"jacob12"},"score":0,"creation_date":1657182248,"post_id":49627652,"comment_id":128750895,"body_markdown":"If you&#39;ve been led to believe that creating a child instance will implicitly create a parent instance which can be referred to by `super` , as described here https://www.javatpoint.com/super-keyword , then know that this is false, and if you&#39;re learning from this link then proceed with caution.","body":"If you&#39;ve been led to believe that creating a child instance will implicitly create a parent instance which can be referred to by <code>super</code> , as described here <a href=\"https://www.javatpoint.com/super-keyword\" rel=\"nofollow noreferrer\">javatpoint.com/super-keyword</a> , then know that this is false, and if you&#39;re learning from this link then proceed with caution."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522751048,"creation_date":1522751048,"answer_id":49627693,"question_id":49627652,"body_markdown":"When you first load a class, all its ancestors are also loaded recursively.\r\n\r\nWhen you instantiate an object you won&#39;t instantiate an additional instance of its parent. However, the object you just instantiated is itself also an instance of the parent.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>When you first load a class, all its ancestors are also loaded recursively.</p>\n\n<p>When you instantiate an object you won't instantiate an additional instance of its parent. However, the object you just instantiated is itself also an instance of the parent.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1522754979,"creation_date":1522751062,"answer_id":49627701,"question_id":49627652,"body_markdown":"You have a **single** object.  \r\nAs a class is instantiated, it invokes **first** the constructor of the parent class.   And for each parent class, it follows the same logic : it invokes **first** the constructor of the parent class.   \r\n\r\nSuppose : `A` extends `B` extends `C`.  \r\n\r\n`new A()` results to the `B` constructor invocation that invokes itself the `C` constructor.   \r\nAs `C` then `B` constructor invocations are returned, the `A` constructor can go on and the instance `A` is created.\r\n             \r\n\r\n&gt; But, what I specifically want to know is that will it load the class\r\n&gt; or will it create the object of that parent class.\r\n\r\nSimilarly to the constructor execution, before loading a class, its parent class has to be loaded `first` and that recursively for each parent class.\r\n\r\nHere classes corresponding to `A` extends `B` extends `C` :\r\n\r\n    class C {\r\n        public C(){    \r\n            System.out.println(&quot;C constructor&quot;);\r\n        }\r\n    }\r\n    \r\n    class B extends C{\r\n        public B() {\r\n            System.out.println(&quot;B constructor&quot;);\r\n        }\r\n    \r\n    }\r\n    class A extends B{\r\n        public A() {\r\n            System.out.println(&quot;A constructor&quot;);\r\n        }\r\n    }\r\n    \r\n    \r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            new A();\r\n        }\r\n    }\r\n\r\nCompile these classes and then execute the `Test` class that creates a `A` instance in its `main()` method by specifying the `-verbose` flag (enable by default the classes logs) in the `java` command :\r\n\r\n    java -verbose Test\r\n\r\nAnd you should see in the output standard something like  :\r\n\r\n&lt;pre&gt;\r\n[Loaded java.lang.Object from C:\\...]\r\n[Loaded java.io.Serializable from C:\\...]\r\n... // load all classes required until loaded C, B and A classes\r\n[Loaded C from file:/C:/...]\r\n[Loaded B from file:/C:/...]\r\n[Loaded A from file:/C:/...]\r\nC constructor\r\nB constructor\r\nA constructor\r\n&lt;/pre&gt;\r\n\r\nIt confirms that : \r\n\r\n- the parent classes need to be loaded first by starting by the root parent class ( `Object`) until the closest parent class(`B`).\r\n- no constructor is executed before all classes of the hierarchy be loaded\r\n- the constructors of the parent classes are always executed before the constructor of the instantiated class  by starting by the root parent constructor ( `Object`) until the closest parent constructor(`B`).\r\n","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>You have a <strong>single</strong> object.<br>\nAs a class is instantiated, it invokes <strong>first</strong> the constructor of the parent class.   And for each parent class, it follows the same logic : it invokes <strong>first</strong> the constructor of the parent class.   </p>\n\n<p>Suppose : <code>A</code> extends <code>B</code> extends <code>C</code>.  </p>\n\n<p><code>new A()</code> results to the <code>B</code> constructor invocation that invokes itself the <code>C</code> constructor.<br>\nAs <code>C</code> then <code>B</code> constructor invocations are returned, the <code>A</code> constructor can go on and the instance <code>A</code> is created.</p>\n\n<blockquote>\n  <p>But, what I specifically want to know is that will it load the class\n  or will it create the object of that parent class.</p>\n</blockquote>\n\n<p>Similarly to the constructor execution, before loading a class, its parent class has to be loaded <code>first</code> and that recursively for each parent class.</p>\n\n<p>Here classes corresponding to <code>A</code> extends <code>B</code> extends <code>C</code> :</p>\n\n<pre><code>class C {\n    public C(){    \n        System.out.println(\"C constructor\");\n    }\n}\n\nclass B extends C{\n    public B() {\n        System.out.println(\"B constructor\");\n    }\n\n}\nclass A extends B{\n    public A() {\n        System.out.println(\"A constructor\");\n    }\n}\n\n\npublic class Test {\n    public static void main(String[] args) {\n        new A();\n    }\n}\n</code></pre>\n\n<p>Compile these classes and then execute the <code>Test</code> class that creates a <code>A</code> instance in its <code>main()</code> method by specifying the <code>-verbose</code> flag (enable by default the classes logs) in the <code>java</code> command :</p>\n\n<pre><code>java -verbose Test\n</code></pre>\n\n<p>And you should see in the output standard something like  :</p>\n\n<pre>\n[Loaded java.lang.Object from C:\\...]\n[Loaded java.io.Serializable from C:\\...]\n... // load all classes required until loaded C, B and A classes\n[Loaded C from file:/C:/...]\n[Loaded B from file:/C:/...]\n[Loaded A from file:/C:/...]\nC constructor\nB constructor\nA constructor\n</pre>\n\n<p>It confirms that : </p>\n\n<ul>\n<li>the parent classes need to be loaded first by starting by the root parent class ( <code>Object</code>) until the closest parent class(<code>B</code>).</li>\n<li>no constructor is executed before all classes of the hierarchy be loaded</li>\n<li>the constructors of the parent classes are always executed before the constructor of the instantiated class  by starting by the root parent constructor ( <code>Object</code>) until the closest parent constructor(<code>B</code>).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1522751108,"post_id":49627704,"comment_id":86262287,"body_markdown":"Careful: there is no additional instance of parent class created.","body":"Careful: there is no additional instance of parent class created."}],"tags":[],"owner":{"account_id":1732446,"reputation":10591,"user_id":1585767,"accept_rate":85,"display_name":"Andres"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522751200,"creation_date":1522751066,"answer_id":49627704,"question_id":49627652,"body_markdown":"The constructor is called, therefore an object of the parent class is created. That object is used later to build an object of the child class. The reason for this is that an object of the child class is an object of the parent class with more things.\r\n\r\n","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>The constructor is called, therefore an object of the parent class is created. That object is used later to build an object of the child class. The reason for this is that an object of the child class is an object of the parent class with more things.</p>\n"},{"tags":[],"owner":{"account_id":13252051,"reputation":1635,"user_id":9569292,"display_name":"Thomas Timbul"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522753590,"creation_date":1522753590,"answer_id":49628524,"question_id":49627652,"body_markdown":"Because the child class inherits properties and methods from the parent class, the entire class hierarchy (including superclasses and implemented interfaces) are **loaded**.\r\n\r\nWhen you create an instance of the childclass, only a **single** object of type childclass is created (instantiated). There are no additional instances of any parent(s).\r\n\r\nThe properties and methods declared on parent classes are accessible via the childclass instance, and due to this inheritance the childclass instance will be accepted as argument to any methods that expect an instance of the parent (or any interfaces that it or any parent implements).\r\n\r\nIf you think of the code as a **contractual design**, this makes perfect sense:\r\n\r\n - The parent class declaration establishes that certain methods are available to call on itself or any of its children. The same is true for interfaces. &lt;br&gt;**For example**, all employment contracts in the real world must contain certain clauses, but the rest is up to the company.\r\n - By inheriting (`extends` or `implements`) it is _guaranteed_ that the child will also automatically provide the same methods. &lt;br&gt;**For example**, we can assume that any law-abiding company will provide employment contracts including those clauses and (once agreed) the signature of both you and the company.\r\n - The entire hierarchy needs to be loaded in order to understand the full contract.&lt;br/&gt;**For example**, if there is a dispute, the lawyers who examine a contract will check what the law prescribes, perhaps by looking at a sample contract provided by the legislating body. The parentClass is that sample in the problem.\r\n - We only need one object instance. &lt;br/&gt;**For example** you won&#39;t get two employment contracts, one for the basic stuff and another with more information. You will receive and sign a single document.\r\n - Finally, in my analog, any employment contract (no matter how it is phrased) will be acceptable to any agency that asks you to prove your relationship to the company that employs you (assuming it is legal and valid by containing the legally prescribed clauses and appropriate signatures).","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>Because the child class inherits properties and methods from the parent class, the entire class hierarchy (including superclasses and implemented interfaces) are <strong>loaded</strong>.</p>\n\n<p>When you create an instance of the childclass, only a <strong>single</strong> object of type childclass is created (instantiated). There are no additional instances of any parent(s).</p>\n\n<p>The properties and methods declared on parent classes are accessible via the childclass instance, and due to this inheritance the childclass instance will be accepted as argument to any methods that expect an instance of the parent (or any interfaces that it or any parent implements).</p>\n\n<p>If you think of the code as a <strong>contractual design</strong>, this makes perfect sense:</p>\n\n<ul>\n<li>The parent class declaration establishes that certain methods are available to call on itself or any of its children. The same is true for interfaces. <br><strong>For example</strong>, all employment contracts in the real world must contain certain clauses, but the rest is up to the company.</li>\n<li>By inheriting (<code>extends</code> or <code>implements</code>) it is <em>guaranteed</em> that the child will also automatically provide the same methods. <br><strong>For example</strong>, we can assume that any law-abiding company will provide employment contracts including those clauses and (once agreed) the signature of both you and the company.</li>\n<li>The entire hierarchy needs to be loaded in order to understand the full contract.<br/><strong>For example</strong>, if there is a dispute, the lawyers who examine a contract will check what the law prescribes, perhaps by looking at a sample contract provided by the legislating body. The parentClass is that sample in the problem.</li>\n<li>We only need one object instance. <br/><strong>For example</strong> you won't get two employment contracts, one for the basic stuff and another with more information. You will receive and sign a single document.</li>\n<li>Finally, in my analog, any employment contract (no matter how it is phrased) will be acceptable to any agency that asks you to prove your relationship to the company that employs you (assuming it is legal and valid by containing the legally prescribed clauses and appropriate signatures).</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695295958,"post_id":77132930,"comment_id":136007012,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77132930/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24938347,"reputation":1,"user_id":18804608,"display_name":"Fine"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112655,"creation_date":1695112655,"answer_id":77132930,"question_id":49627652,"body_markdown":"It will load the class of parent, but not create the instance. You can wirte a simple code and use Java VisualVM to see the objects snapshot.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>It will load the class of parent, but not create the instance. You can wirte a simple code and use Java VisualVM to see the objects snapshot.</p>\n"}],"owner":{"account_id":10773055,"reputation":133,"user_id":7926006,"display_name":"Shubham Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4925,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49627701,"answer_count":5,"score":6,"last_activity_date":1695112655,"creation_date":1522750891,"question_id":49627652,"body_markdown":"I know that super will be called every time we create a child class object. But, what I specifically want to know is that will it load the class or will it create the object of that parent class.\r\n\r\nThanks in advance.","title":"will there be object creation of parent class if we create an object of child class?","body":"<p>I know that super will be called every time we create a child class object. But, what I specifically want to know is that will it load the class or will it create the object of that parent class.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","rest","tomcat","intellij-idea","jersey"],"comments":[{"owner":{"account_id":2928294,"reputation":73,"user_id":2509192,"display_name":"user2509192"},"score":0,"creation_date":1665163476,"post_id":56103809,"comment_id":130643394,"body_markdown":"Did you find a solution? I have the same problem and I&#39;m also leaning into incompatibility between some dependencies. It works on localhost but not on Azure App Service (it actually used to work but doesn&#39;t anymore)","body":"Did you find a solution? I have the same problem and I&#39;m also leaning into incompatibility between some dependencies. It works on localhost but not on Azure App Service (it actually used to work but doesn&#39;t anymore)"}],"answers":[{"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":1,"creation_date":1695210799,"post_id":77132927,"comment_id":135993211,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77132927/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27426887,"reputation":11,"user_id":20924233,"display_name":"sonnees2012"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695112645,"creation_date":1695112645,"answer_id":77132927,"question_id":56103809,"body_markdown":"@ApplicationPath(&quot;api&quot;) -&gt; @ApplicationPath(&quot;/api&quot;)\r\n@Path(&quot;data&quot;) -&gt; @Path(&quot;/data&quot;)","title":"Getting Resource configuration is not modifiable in this context when deploying RESTful Jersey service in IntelliJ IDEA","body":"<p>@ApplicationPath(&quot;api&quot;) -&gt; @ApplicationPath(&quot;/api&quot;)\n@Path(&quot;data&quot;) -&gt; @Path(&quot;/data&quot;)</p>\n"}],"owner":{"account_id":15923746,"reputation":21,"user_id":11489940,"display_name":"SunnyD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1695112645,"creation_date":1557698460,"question_id":56103809,"body_markdown":"I am writing a RESTful API using Jersey/Tomcat and I&#39;ve been encountering:\r\n\r\n    javax.servlet.ServletException: Servlet.init() for servlet [com.tuiasi.petru.sop.service.MyApplication] threw exception\r\n    .......\r\n    java.lang.IllegalStateException: The resource configuration is not modifiable in this context.\r\n    \r\n\r\nwhen calling the API.\r\n\r\nI believe I have exhausted many trivial solutions, including ones that I saw here. I suppose that there is something to do with the deployment configuration I have set up in IntelliJ IDEA, which I am using. So basically my code is as follows:\r\n\r\n    @ApplicationPath(&quot;api&quot;)\r\n    public class MyApplication extends ResourceConfig {\r\n    \r\n    public MyApplication() {\r\n            register(...);\r\n        }\r\n    }\r\n\r\n    @Path(&quot;data&quot;)\r\n    public class DataController {\r\n    ...\r\n    \r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response list() {\r\n    \treturn Response.ok().build();\r\n    }\r\n    }\r\n\r\n\r\nMy web.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot; version=&quot;3.1&quot;&gt;\r\n      &lt;display-name&gt;SOPStorageService server&lt;/display-name&gt;\r\n    &lt;/web-app&gt;\r\n\r\nWhen I deploy in IntelliJ IDEA, I choose a war exploded kind of artifact where I add the storage service with all its dependencies.\r\n\r\nThe only issue I still haven&#39;t ruled out completely is a possible incompatibility between some jars. I am wondering yet if someone has a better eye at spotting a possible issue in this particular case.\r\n\r\nAny help much appreciated.\r\n\r\n","title":"Getting Resource configuration is not modifiable in this context when deploying RESTful Jersey service in IntelliJ IDEA","body":"<p>I am writing a RESTful API using Jersey/Tomcat and I've been encountering:</p>\n\n<pre><code>javax.servlet.ServletException: Servlet.init() for servlet [com.tuiasi.petru.sop.service.MyApplication] threw exception\n.......\njava.lang.IllegalStateException: The resource configuration is not modifiable in this context.\n</code></pre>\n\n<p>when calling the API.</p>\n\n<p>I believe I have exhausted many trivial solutions, including ones that I saw here. I suppose that there is something to do with the deployment configuration I have set up in IntelliJ IDEA, which I am using. So basically my code is as follows:</p>\n\n<pre><code>@ApplicationPath(\"api\")\npublic class MyApplication extends ResourceConfig {\n\npublic MyApplication() {\n        register(...);\n    }\n}\n\n@Path(\"data\")\npublic class DataController {\n...\n\n@GET\n@Produces(MediaType.APPLICATION_JSON)\npublic Response list() {\n    return Response.ok().build();\n}\n}\n</code></pre>\n\n<p>My web.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\" xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\" version=\"3.1\"&gt;\n  &lt;display-name&gt;SOPStorageService server&lt;/display-name&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I deploy in IntelliJ IDEA, I choose a war exploded kind of artifact where I add the storage service with all its dependencies.</p>\n\n<p>The only issue I still haven't ruled out completely is a possible incompatibility between some jars. I am wondering yet if someone has a better eye at spotting a possible issue in this particular case.</p>\n\n<p>Any help much appreciated.</p>\n"},{"tags":["java","encryption","cryptography"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557647605,"post_id":56097189,"comment_id":98829808,"body_markdown":"Have a look into the following links. https://stackoverflow.com/questions/20227/how-do-i-use-3des-encryption-decryption-in-java/13612902","body":"Have a look into the following links. <a href=\"https://stackoverflow.com/questions/20227/how-do-i-use-3des-encryption-decryption-in-java/13612902\" title=\"how do i use 3des encryption decryption in java\">stackoverflow.com/questions/20227/&hellip;</a>"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1557647615,"post_id":56097189,"comment_id":98829811,"body_markdown":"https://stackoverflow.com/questions/11930805/tripledes-encryption-error-in-java","body":"<a href=\"https://stackoverflow.com/questions/11930805/tripledes-encryption-error-in-java\" title=\"tripledes encryption error in java\">stackoverflow.com/questions/11930805/&hellip;</a>"},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557647910,"post_id":56097189,"comment_id":98829857,"body_markdown":"Oracle has a tutorial for almost anything: [Cryptography Reference Guide](https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html). Don&#39;t skip these. Also, posting JavaScript code for a question actually about Java, is not something you should ever do. Additionally, dumping code and saying *&quot;This is what I want to do&quot;*, is simply disrespectful to others trying to help you. Please read [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) and [How do I ask a good question?](https://stackoverflow.com/help/how-to-ask)","body":"Oracle has a tutorial for almost anything: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/crypto/CryptoSpec.html\" rel=\"nofollow noreferrer\">Cryptography Reference Guide</a>. Don&#39;t skip these. Also, posting JavaScript code for a question actually about Java, is not something you should ever do. Additionally, dumping code and saying <i>&quot;This is what I want to do&quot;</i>, is simply disrespectful to others trying to help you. Please read <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>"},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557648674,"post_id":56097189,"comment_id":98829981,"body_markdown":"@P.Soutzikevich I don&#39;t understand whats wrong with me asking this. I don&#39;t think it is disrespectful in anyway. Like I said I have searched for similar posts on stackoverflow. I suggest you search once&#39;s and you will see that similar posts are there already. I am not the first one to do so. People generally recommend that you provide relevant facts/code to clarify the point clearly. Hence I did the same I posted the Javascript code whose equivalent java code is what I am trying to make. As simple as that.","body":"@P.Soutzikevich I don&#39;t understand whats wrong with me asking this. I don&#39;t think it is disrespectful in anyway. Like I said I have searched for similar posts on stackoverflow. I suggest you search once&#39;s and you will see that similar posts are there already. I am not the first one to do so. People generally recommend that you provide relevant facts/code to clarify the point clearly. Hence I did the same I posted the Javascript code whose equivalent java code is what I am trying to make. As simple as that."},{"owner":{"account_id":13311988,"reputation":8270,"user_id":9609843,"display_name":"sanyassh"},"score":0,"creation_date":1557649899,"post_id":56097189,"comment_id":98830214,"body_markdown":"You need to show your Java code if you want us to help you with `java.security.NoSuchAlgorithmException`.","body":"You need to show your Java code if you want us to help you with <code>java.security.NoSuchAlgorithmException</code>."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557651996,"post_id":56097189,"comment_id":98830643,"body_markdown":"@Ritz No you didn&#39;t use relevant **&quot;facts/code&quot;** to clarify any point. What I&#39;m saying is that, I find it disrespectful when someone finds a snippet of code, copy-pastes it into a question and asks: *&quot;How can I do this in **&lt;some&gt;** language?*. I did attach the links for you to read in my first comment, that pointed out what you need to do (post your code with what you&#39;ve tried, but you completely ignored it. If that&#39;s not disrespectful, I don&#39;t know what is. You didn&#39;t even take the time to write (in English, not in code) what it is you are trying to do.","body":"@Ritz No you didn&#39;t use relevant <b>&quot;facts/code&quot;</b> to clarify any point. What I&#39;m saying is that, I find it disrespectful when someone finds a snippet of code, copy-pastes it into a question and asks: <i>&quot;How can I do this in <b>&lt;some&gt;</b> language?</i>. I did attach the links for you to read in my first comment, that pointed out what you need to do (post your code with what you&#39;ve tried, but you completely ignored it. If that&#39;s not disrespectful, I don&#39;t know what is. You didn&#39;t even take the time to write (in English, not in code) what it is you are trying to do."},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557652753,"post_id":56097189,"comment_id":98830782,"body_markdown":"@P.Soutzikevich Again, Read my OP properly. I have clearly mentioned &quot;I want to recreate the same logic in Java&quot; and before that I gave you both the CryptoJS code which I have worked on after going through various examples from multiple sites. But when I try to recreate it in Java it&#39;s not quite working. Also I did mention that I have gone through most articles relevant to my post from StackOverflow already but they didn&#39;t quite suffice well hence I asked it clearly and made my motives clear. If I were really disrespectful I would have randomly copy pasted code without any credits.","body":"@P.Soutzikevich Again, Read my OP properly. I have clearly mentioned &quot;I want to recreate the same logic in Java&quot; and before that I gave you both the CryptoJS code which I have worked on after going through various examples from multiple sites. But when I try to recreate it in Java it&#39;s not quite working. Also I did mention that I have gone through most articles relevant to my post from StackOverflow already but they didn&#39;t quite suffice well hence I asked it clearly and made my motives clear. If I were really disrespectful I would have randomly copy pasted code without any credits."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557653341,"post_id":56097189,"comment_id":98830881,"body_markdown":"@Ritz I gave you the solution you were looking for, even though there was little effort to create a [MCVE](https://stackoverflow.com/help/mcve). If it solved your problem, then please consider accepting it as the answer and upvoting.","body":"@Ritz I gave you the solution you were looking for, even though there was little effort to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. If it solved your problem, then please consider accepting it as the answer and upvoting."},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557653690,"post_id":56097189,"comment_id":98830936,"body_markdown":"@P.Soutzikevich I have replied as well. Kindly try the example code provided with the sample inputs given. As of now, it doesn&#39;t work. And I am also searching for the answer of my own. I thinking of giving BouncyCastle a try. I went through their documentation and it seems they implement the provider necessary for the code.","body":"@P.Soutzikevich I have replied as well. Kindly try the example code provided with the sample inputs given. As of now, it doesn&#39;t work. And I am also searching for the answer of my own. I thinking of giving BouncyCastle a try. I went through their documentation and it seems they implement the provider necessary for the code."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1557665017,"post_id":56097189,"comment_id":98833566,"body_markdown":"Your javascript code is using single DES, but your Java code is using Triple DES.","body":"Your javascript code is using single DES, but your Java code is using Triple DES."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":2,"creation_date":1557665310,"post_id":56097189,"comment_id":98833621,"body_markdown":"@Ritz While there is no obligation for you to accept any answer, you would only be proving me correct by not doing so. So thanks for helping me prove my point in the previous comments.","body":"@Ritz While there is no obligation for you to accept any answer, you would only be proving me correct by not doing so. So thanks for helping me prove my point in the previous comments."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1557677087,"post_id":56097189,"comment_id":98836706,"body_markdown":"Please do not deface your own questions. Simply edit them to add information/corrections, or delete them.","body":"Please do not deface your own questions. Simply edit them to add information/corrections, or delete them."}],"answers":[{"comments":[{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557653467,"post_id":56097774,"comment_id":98830897,"body_markdown":"I should have mentioned this already but I have already tried PKCS5Padding and NoPadding and it doesn&#39;t work. I get the following error message, `javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.` I would have mentioned this when you first posted the same answer without screenshot and then deleted it.","body":"I should have mentioned this already but I have already tried PKCS5Padding and NoPadding and it doesn&#39;t work. I get the following error message, <code>javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.</code> I would have mentioned this when you first posted the same answer without screenshot and then deleted it."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":3,"creation_date":1557664381,"post_id":56097774,"comment_id":98833451,"body_markdown":"@Ritz Your question was for a `java.security.NoSuchAlgorithmException` and was caused by an invalid Transformation string you entered, in the form of *&quot;algorithm/mode/padding&quot;*, for the initialization of a Cipher. This information can be found in the documentation [here](https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html). The **new** issue you have, as you mention in the above comment, is caused by using a **bad** (invalid or wrongly instantiated) key. For triple-DES, you should use [SecretKeySpec](https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html)","body":"@Ritz Your question was for a <code>java.security.NoSuchAlgorithmException</code> and was caused by an invalid Transformation string you entered, in the form of <i>&quot;algorithm/mode/padding&quot;</i>, for the initialization of a Cipher. This information can be found in the documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">here</a>. The <b>new</b> issue you have, as you mention in the above comment, is caused by using a <b>bad</b> (invalid or wrongly instantiated) key. For triple-DES, you should use <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html\" rel=\"nofollow noreferrer\">SecretKeySpec</a>"},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557674330,"post_id":56097774,"comment_id":98835942,"body_markdown":"I have used SecretKeySpec only. Let me go through this entirely once more. I am messing it up somewhere.","body":"I have used SecretKeySpec only. Let me go through this entirely once more. I am messing it up somewhere."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1557677037,"post_id":56097774,"comment_id":98836690,"body_markdown":"Even if he uses the correct key, the Javascript code is using DES and the Java code is using Triple-DES, different algorithms.","body":"Even if he uses the correct key, the Javascript code is using DES and the Java code is using Triple-DES, different algorithms."},{"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"score":0,"creation_date":1557678255,"post_id":56097774,"comment_id":98837018,"body_markdown":"@JamesKPolk Yes, I saw that when you first pointed it out. I just ignored the wrong JS code, because he copy/pasted it from somewhere on the web. He was bored to write a proper question. Good eye btw ;)","body":"@JamesKPolk Yes, I saw that when you first pointed it out. I just ignored the wrong JS code, because he copy/pasted it from somewhere on the web. He was bored to write a proper question. Good eye btw ;)"},{"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"score":0,"creation_date":1557721760,"post_id":56097774,"comment_id":98845354,"body_markdown":"@P. Soutzikevich Added working code and updated post.","body":"@P. Soutzikevich Added working code and updated post."}],"tags":[],"owner":{"account_id":10992489,"reputation":991,"user_id":8075923,"display_name":"Soutzikevich"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557664889,"creation_date":1557652582,"answer_id":56097774,"question_id":56097189,"body_markdown":"The transformation you have used appears to be invalid for Triple-DES.\r\n\r\nChange the padding of this string: \r\n\r\n    public static String ALGO = &quot;DESede/ECB/PKCS7Padding&quot;;\r\n\r\ninto **PKCS5Padding**:\r\n\r\n    public static String ALGO = &quot;DESede/ECB/PKCS5Padding&quot;;\r\n\r\nThe compiler error message you received was pretty clear; *No Such Algorithm exception*. Compilers usually suffer from poor error description messages, but in this case it points you directly to the source of the error. By doing a little good old web-searching, you would&#39;ve realised that Triple DES takes PKCS**5**Padding or no padding at all.\r\n\r\nWhere did I get this information? From the **documentation** of course.\r\n\r\nSee this screenshot: [![enter image description here][1]][1]\r\n\r\nThe documentation about a java `Cipher` object can be found [here][2]. You can see that one of the parameters for calling `Cipher.init(int opmode, Key key)`, is obviously of type `Key`.\r\n\r\nBy clicking on the relevant link to read about the `Key` interface, you will notice that one of the implementing Classes (of this interface), is `SecretKeySpec`. The documentation for SecretKeySpec can be found [here][3].\r\n\r\nFrom the first paragraph of SecretKeySpec:\r\n\r\n&gt; This class is only useful for raw secret keys that can be represented as a byte array and have no key parameters associated with them, e.g., **DES or Triple DES** keys.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vr71W.png\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html","title":"CryptoJS Triple DES Code to Java Equivalent","body":"<p>The transformation you have used appears to be invalid for Triple-DES.</p>\n\n<p>Change the padding of this string: </p>\n\n<pre><code>public static String ALGO = \"DESede/ECB/PKCS7Padding\";\n</code></pre>\n\n<p>into <strong>PKCS5Padding</strong>:</p>\n\n<pre><code>public static String ALGO = \"DESede/ECB/PKCS5Padding\";\n</code></pre>\n\n<p>The compiler error message you received was pretty clear; <em>No Such Algorithm exception</em>. Compilers usually suffer from poor error description messages, but in this case it points you directly to the source of the error. By doing a little good old web-searching, you would've realised that Triple DES takes PKCS<strong>5</strong>Padding or no padding at all.</p>\n\n<p>Where did I get this information? From the <strong>documentation</strong> of course.</p>\n\n<p>See this screenshot: <a href=\"https://i.stack.imgur.com/Vr71W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vr71W.png\" alt=\"enter image description here\"></a></p>\n\n<p>The documentation about a java <code>Cipher</code> object can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/Cipher.html\" rel=\"nofollow noreferrer\">here</a>. You can see that one of the parameters for calling <code>Cipher.init(int opmode, Key key)</code>, is obviously of type <code>Key</code>.</p>\n\n<p>By clicking on the relevant link to read about the <code>Key</code> interface, you will notice that one of the implementing Classes (of this interface), is <code>SecretKeySpec</code>. The documentation for SecretKeySpec can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/crypto/spec/SecretKeySpec.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>From the first paragraph of SecretKeySpec:</p>\n\n<blockquote>\n  <p>This class is only useful for raw secret keys that can be represented as a byte array and have no key parameters associated with them, e.g., <strong>DES or Triple DES</strong> keys.</p>\n</blockquote>\n"}],"owner":{"account_id":2854787,"reputation":180,"user_id":2554946,"display_name":"Ritz"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1693,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":56097774,"answer_count":1,"score":-2,"last_activity_date":1695112229,"creation_date":1557647334,"question_id":56097189,"body_markdown":"I have the following CryptoJS code for encryption and decryption.\r\n\r\n**Encryption Code**\r\n\r\n```javascript\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).on(&quot;click&quot;, &quot;#crack&quot;, function(evt) {\r\n        evt.preventDefault();\r\n        var e = $(&quot;#plaintext&quot;).val();\r\n        var key = $(&quot;#key&quot;).val();\r\n        var iv = CryptoJS.enc.Utf8.parse(key);\r\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\r\n            n = CryptoJS.DES.encrypt(CryptoJS.enc.Utf8.parse(e), t,{\r\n                iv:iv,\r\n                mode: CryptoJS.mode.ECB,\r\n                padding: CryptoJS.pad.Pkcs7\r\n            });\r\n            r = n.toString(CryptoJS.enc.Utf8);\r\n        $(&quot;.result&quot;).text(n);\r\n    });\r\n    &lt;/script&gt;\r\n```\r\n\r\n**Decryption Code**\r\n\r\n```javascript\r\n&lt;script type=&quot;text/javascript&quot;&gt;\r\n    $(document).on(&quot;click&quot;, &quot;#crack&quot;, function(evt) {\r\n        evt.preventDefault();\r\n        var e = $(&quot;#ciphertext&quot;).val();\r\n\t\t\r\n        var key = $(&quot;#key&quot;).val();\r\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\r\n            n = CryptoJS.DES.decrypt({\r\n                ciphertext: CryptoJS.enc.Base64.parse(e.replace(&#39;&quot;&#39;, &quot;&quot;))\r\n            }, t, {\r\n                mode: CryptoJS.mode.ECB,\r\n                padding: CryptoJS.pad.Pkcs7\r\n            }),\r\n            r = n.toString(CryptoJS.enc.Utf8);\r\n        $(&quot;.result&quot;).text(r);\r\n    });\r\n    &lt;/script&gt;\r\n```\r\n\r\nI want to recreate the same logic in Java but it&#39;s not quite working our well. I followed most of the existing questions which are already asked here on StackOverflow but it didn&#39;t help out. \r\n\r\nI found another article and sample code which seemed like it would work but it didn&#39;t. \r\n\r\nArticle Link: https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/\r\n\r\nI get the following error message:\r\n\r\n```\r\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting DESede/ECB/PKCS7Padding\r\n```\r\n\r\nWhat am I doing wrong and how is CryptoJS code here is different from the Java one? \r\n\r\n**Sample Inputs:**\r\n\r\n**Key:** \r\n\r\n*CipherText:* 3OwGE1y7zFLyPT49uGMvFQ==\r\n\r\n*Key:* 75a1b1ae20af8de7bdfb6fac8ca9d36c0ab91930\r\n\r\n---\r\n\r\nEDIT: Added Working Code. Also the CryptoJS is Simple DES and not Triple DES as Suggested by @James. the application I was testing used tripledes.js in the resource file which mislead me to believe maybe Triple DES is used. I crossed checked that in CryptoJS if you want to use TripleDES you have to use something like `CryptoJS.TripleDES.encrypt(...)`. Also, I forgot that DES Key size is 8 Bytes and the key that I gave wasn&#39;t being handled properly causing the bad padding exception, which I workedaround using Arrays.copyOf, and lastly Thanks to P.Soutzikevich.\r\n\r\nThe following code works exactly how I want it to be. \r\n\r\n```java\r\nprivate final int DES_KEY_SIZE = 8;\r\nprivate final String DES_MODE = &quot;DES/ECB/PKCS5Padding&quot;;\r\n```\r\n\r\nEncryption\r\n\r\n```java\r\nbyte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\r\nbyte[] plainTextBytes = plainText.getBytes();\r\ndesKeySpec = new SecretKeySpec(keyBytes, &quot;DES&quot;);\r\ndesCipher = Cipher.getInstance(DES_MODE);\r\ndesCipher.init(Cipher.ENCRYPT_MODE, desKeySpec);\r\nbyte[] encryptedText = desCipher.doFinal(plainTextBytes);\r\ndata = Base64.getEncoder().encodeToString(encryptedText);\r\n```\r\n\r\nDecryption:\r\n\r\n```java\r\nbyte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\r\nbyte[] encryptedTextBytes = Base64.getDecoder().decode(cipherText);\r\ndesKeySpec = new SecretKeySpec(keyBytes, &quot;DES&quot;);\r\ndesCipher = Cipher.getInstance(DES_MODE);\r\ndesCipher.init(Cipher.DECRYPT_MODE, desKeySpec);\r\ndata = new String(desCipher.doFinal(encryptedTextBytes));\r\n```","title":"CryptoJS Triple DES Code to Java Equivalent","body":"<p>I have the following CryptoJS code for encryption and decryption.</p>\n\n<p><strong>Encryption Code</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).on(\"click\", \"#crack\", function(evt) {\n        evt.preventDefault();\n        var e = $(\"#plaintext\").val();\n        var key = $(\"#key\").val();\n        var iv = CryptoJS.enc.Utf8.parse(key);\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\n            n = CryptoJS.DES.encrypt(CryptoJS.enc.Utf8.parse(e), t,{\n                iv:iv,\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            });\n            r = n.toString(CryptoJS.enc.Utf8);\n        $(\".result\").text(n);\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p><strong>Decryption Code</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    $(document).on(\"click\", \"#crack\", function(evt) {\n        evt.preventDefault();\n        var e = $(\"#ciphertext\").val();\n\n        var key = $(\"#key\").val();\n        var r, t = CryptoJS.enc.Utf8.parse(key), // key\n            n = CryptoJS.DES.decrypt({\n                ciphertext: CryptoJS.enc.Base64.parse(e.replace('\"', \"\"))\n            }, t, {\n                mode: CryptoJS.mode.ECB,\n                padding: CryptoJS.pad.Pkcs7\n            }),\n            r = n.toString(CryptoJS.enc.Utf8);\n        $(\".result\").text(r);\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p>I want to recreate the same logic in Java but it's not quite working our well. I followed most of the existing questions which are already asked here on StackOverflow but it didn't help out. </p>\n\n<p>I found another article and sample code which seemed like it would work but it didn't. </p>\n\n<p>Article Link: <a href=\"https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/\" rel=\"nofollow noreferrer\">https://androidfreetutorial.wordpress.com/2017/03/14/android-encryptiondecryption-with-tripledes-3des-algorithm/</a></p>\n\n<p>I get the following error message:</p>\n\n<pre><code>java.security.NoSuchAlgorithmException: Cannot find any provider supporting DESede/ECB/PKCS7Padding\n</code></pre>\n\n<p>What am I doing wrong and how is CryptoJS code here is different from the Java one? </p>\n\n<p><strong>Sample Inputs:</strong></p>\n\n<p><strong>Key:</strong> </p>\n\n<p><em>CipherText:</em> 3OwGE1y7zFLyPT49uGMvFQ==</p>\n\n<p><em>Key:</em> 75a1b1ae20af8de7bdfb6fac8ca9d36c0ab91930</p>\n\n<hr>\n\n<p>EDIT: Added Working Code. Also the CryptoJS is Simple DES and not Triple DES as Suggested by @James. the application I was testing used tripledes.js in the resource file which mislead me to believe maybe Triple DES is used. I crossed checked that in CryptoJS if you want to use TripleDES you have to use something like <code>CryptoJS.TripleDES.encrypt(...)</code>. Also, I forgot that DES Key size is 8 Bytes and the key that I gave wasn't being handled properly causing the bad padding exception, which I workedaround using Arrays.copyOf, and lastly Thanks to P.Soutzikevich.</p>\n\n<p>The following code works exactly how I want it to be. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private final int DES_KEY_SIZE = 8;\nprivate final String DES_MODE = \"DES/ECB/PKCS5Padding\";\n</code></pre>\n\n<p>Encryption</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\nbyte[] plainTextBytes = plainText.getBytes();\ndesKeySpec = new SecretKeySpec(keyBytes, \"DES\");\ndesCipher = Cipher.getInstance(DES_MODE);\ndesCipher.init(Cipher.ENCRYPT_MODE, desKeySpec);\nbyte[] encryptedText = desCipher.doFinal(plainTextBytes);\ndata = Base64.getEncoder().encodeToString(encryptedText);\n</code></pre>\n\n<p>Decryption:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>byte[] keyBytes = Arrays.copyOf(secretKey.getBytes(), DES_KEY_SIZE);\nbyte[] encryptedTextBytes = Base64.getDecoder().decode(cipherText);\ndesKeySpec = new SecretKeySpec(keyBytes, \"DES\");\ndesCipher = Cipher.getInstance(DES_MODE);\ndesCipher.init(Cipher.DECRYPT_MODE, desKeySpec);\ndata = new String(desCipher.doFinal(encryptedTextBytes));\n</code></pre>\n"},{"tags":["java","spring","serialization","jackson-databind"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695110971,"post_id":77132724,"comment_id":135976877,"body_markdown":"OBviously a JsonDeserializer isn&#39;t the proper way, you need to handle this on your logging side.","body":"OBviously a JsonDeserializer isn&#39;t the proper way, you need to handle this on your logging side."},{"owner":{"account_id":29440053,"reputation":89,"user_id":22558282,"display_name":"Dave"},"score":0,"creation_date":1695111014,"post_id":77132724,"comment_id":135976882,"body_markdown":"try doing this,\nKeep the actual password in your SignInDTO class.\n\nIn the controller, mask the password only when you record it in the logs, but pass the actual password to your service.\n\nMake sure you securely manage user passwords within your system, for example by using password hashing and secure storage.\n\nThis way, the user password will be recorded in a masked form in the logs, but will be used correctly in your service for authentication.","body":"try doing this, Keep the actual password in your SignInDTO class.  In the controller, mask the password only when you record it in the logs, but pass the actual password to your service.  Make sure you securely manage user passwords within your system, for example by using password hashing and secure storage.  This way, the user password will be recorded in a masked form in the logs, but will be used correctly in your service for authentication."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1695111237,"post_id":77132724,"comment_id":135976933,"body_markdown":"Show us how you are doing the logging. There are different ways depending on which logger you are using - [google search](https://www.google.com/search?q=spring+boot+mask+sensitive+data+in+logs).","body":"Show us how you are doing the logging. There are different ways depending on which logger you are using - <a href=\"https://www.google.com/search?q=spring+boot+mask+sensitive+data+in+logs\" rel=\"nofollow noreferrer\">google search</a>."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1695111977,"post_id":77132724,"comment_id":135977069,"body_markdown":"Re. your edit: Please, please investigate how to save passwords securely. This is not a problem you can figure out by yourself. There are many tools available to you and articles written about how to use them. **Do not, ever, save a plaintext password in your database, or roll your own &quot;obscuring&quot;**.","body":"Re. your edit: Please, please investigate how to save passwords securely. This is not a problem you can figure out by yourself. There are many tools available to you and articles written about how to use them. <b>Do not, ever, save a plaintext password in your database, or roll your own &quot;obscuring&quot;</b>."}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695111952,"creation_date":1695111952,"answer_id":77132855,"question_id":77132724,"body_markdown":"Here is an approach which I used before:\r\n\r\nTo log the request data with the password masked, you can use a custom logger that intercepts the request and masks the password before logging it. Here&#39;s a simplified example using a custom logging filter:\r\n\r\n```\r\nimport org.springframework.web.filter.GenericFilterBean;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport java.io.IOException;\r\n\r\npublic class MaskedPasswordLoggingFilter extends GenericFilterBean {\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n            throws IOException, ServletException {\r\n        // Wrap the request to intercept the body\r\n        MaskedPasswordLoggingRequestWrapper requestWrapper = new MaskedPasswordLoggingRequestWrapper(request);\r\n        chain.doFilter(requestWrapper, response);\r\n    }\r\n}\r\n\r\n```\r\nIn the ***MaskedPasswordLoggingFilter***, you can wrap the ***ServletRequest*** with a custom ***HttpServletRequestWrapper*** (e.g., ***MaskedPasswordLoggingRequestWrapper***) that masks the password before logging.\r\n\r\n```\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletRequestWrapper;\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\n\r\npublic class MaskedPasswordLoggingRequestWrapper extends HttpServletRequestWrapper {\r\n\r\n    public MaskedPasswordLoggingRequestWrapper(HttpServletRequest request) {\r\n        super(request);\r\n    }\r\n\r\n    @Override\r\n    public BufferedReader getReader() throws IOException {\r\n        // Replace the original reader with a custom reader that masks the password\r\n        return new MaskedPasswordBufferedReader(super.getReader());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n*A friendly advice:*\r\n\r\nIf you want to save the masked password in the database, you can do so after intercepting the request using a similar approach. However, it&#39;s important to consider security and **hashing the password properly before saving it** to the database. Storing plain passwords, even if masked, is not recommended for security reasons.\r\n\r\nIt&#39;s generally a better practice to store securely hashed passwords in the database and mask them only for logging or display purposes. When a user logs in, you would hash the provided password and compare it with the hashed value stored in the database.\r\n\r\nHere&#39;s a high-level outline:\r\n\r\n - Hash the password using a strong hashing algorithm (e.g., bcrypt) and store the hashed value in the database during user registration or password update.\r\n   \r\n\r\n - When logging requests, use a logging filter or interceptor to mask\r\n   the password for logging or display purposes only.\r\n\r\n    \r\n - When authenticating users, hash the provided password and compare it\r\n   with the hashed value stored in the database.\r\n\r\nThis approach ensures that passwords are stored securely while allowing you to log or display masked passwords as needed.\r\n","title":"How can I mask sensitive data only for logging in Spring Boot?","body":"<p>Here is an approach which I used before:</p>\n<p>To log the request data with the password masked, you can use a custom logger that intercepts the request and masks the password before logging it. Here's a simplified example using a custom logging filter:</p>\n<pre><code>import org.springframework.web.filter.GenericFilterBean;\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport java.io.IOException;\n\npublic class MaskedPasswordLoggingFilter extends GenericFilterBean {\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n        // Wrap the request to intercept the body\n        MaskedPasswordLoggingRequestWrapper requestWrapper = new MaskedPasswordLoggingRequestWrapper(request);\n        chain.doFilter(requestWrapper, response);\n    }\n}\n\n</code></pre>\n<p>In the <em><strong>MaskedPasswordLoggingFilter</strong></em>, you can wrap the <em><strong>ServletRequest</strong></em> with a custom <em><strong>HttpServletRequestWrapper</strong></em> (e.g., <em><strong>MaskedPasswordLoggingRequestWrapper</strong></em>) that masks the password before logging.</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\n\npublic class MaskedPasswordLoggingRequestWrapper extends HttpServletRequestWrapper {\n\n    public MaskedPasswordLoggingRequestWrapper(HttpServletRequest request) {\n        super(request);\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        // Replace the original reader with a custom reader that masks the password\n        return new MaskedPasswordBufferedReader(super.getReader());\n    }\n}\n\n</code></pre>\n<p><em>A friendly advice:</em></p>\n<p>If you want to save the masked password in the database, you can do so after intercepting the request using a similar approach. However, it's important to consider security and <strong>hashing the password properly before saving it</strong> to the database. Storing plain passwords, even if masked, is not recommended for security reasons.</p>\n<p>It's generally a better practice to store securely hashed passwords in the database and mask them only for logging or display purposes. When a user logs in, you would hash the provided password and compare it with the hashed value stored in the database.</p>\n<p>Here's a high-level outline:</p>\n<ul>\n<li><p>Hash the password using a strong hashing algorithm (e.g., bcrypt) and store the hashed value in the database during user registration or password update.</p>\n</li>\n<li><p>When logging requests, use a logging filter or interceptor to mask\nthe password for logging or display purposes only.</p>\n</li>\n<li><p>When authenticating users, hash the provided password and compare it\nwith the hashed value stored in the database.</p>\n</li>\n</ul>\n<p>This approach ensures that passwords are stored securely while allowing you to log or display masked passwords as needed.</p>\n"}],"owner":{"account_id":12043906,"reputation":5,"user_id":8809732,"display_name":"lolo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695112196,"creation_date":1695110761,"question_id":77132724,"body_markdown":"I&#39;m building a Spring Boot application and want to save sign-in request data in db with user password masked. For example, if user passed &quot;abc&quot;, I want to save it as &quot;***&quot;. I&#39;ve tried @JsonDeserialize with custom deserializer class. It worked, but the controller also gets a masked password. Although it was a valid password, my service throws error it&#39;s wrong password due to masking. Is there any ways to do this?\r\n\r\nHere&#39;s my code.\r\n\r\n```\r\npublic class SignInDTO {\r\n    private String id;\r\n    private String pwd;\r\n}\r\n```\r\n\r\n```\r\n@RequestMapping(&quot;/auth&quot;)\r\npublic class AuthController {\r\n\r\n    private final AuthService authService;\r\n\r\n    @PostMapping(&quot;/sign-in&quot;)\r\n    public ResponseEntity&lt;AuthDTO&gt; signIn(@RequestBody SignInDTO signInDTO) {\r\n        AuthDTO authDTO = authService.getInfo(signInDTO);\r\n\r\n        return ResponseEntity.ok().body(authDTO);\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;ve tried.\r\n\r\n```\r\npublic class SignInDTO {\r\n    private String id;\r\n    @JsonDeserialize(using = MaskingSensitiveDataDeserializer.class)\r\n    private String pwd;\r\n}\r\n```\r\n\r\n```\r\npublic class MaskingSensitiveDataDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n        return &quot;****&quot;;\r\n    }\r\n}\r\n```\r\n\r\nMy initial question was how to log masked password, then how about saving it in db? Is there any way to save request body with password masked?","title":"How can I mask sensitive data only for logging in Spring Boot?","body":"<p>I'm building a Spring Boot application and want to save sign-in request data in db with user password masked. For example, if user passed &quot;abc&quot;, I want to save it as &quot;***&quot;. I've tried @JsonDeserialize with custom deserializer class. It worked, but the controller also gets a masked password. Although it was a valid password, my service throws error it's wrong password due to masking. Is there any ways to do this?</p>\n<p>Here's my code.</p>\n<pre><code>public class SignInDTO {\n    private String id;\n    private String pwd;\n}\n</code></pre>\n<pre><code>@RequestMapping(&quot;/auth&quot;)\npublic class AuthController {\n\n    private final AuthService authService;\n\n    @PostMapping(&quot;/sign-in&quot;)\n    public ResponseEntity&lt;AuthDTO&gt; signIn(@RequestBody SignInDTO signInDTO) {\n        AuthDTO authDTO = authService.getInfo(signInDTO);\n\n        return ResponseEntity.ok().body(authDTO);\n    }\n}\n</code></pre>\n<p>This is what I've tried.</p>\n<pre><code>public class SignInDTO {\n    private String id;\n    @JsonDeserialize(using = MaskingSensitiveDataDeserializer.class)\n    private String pwd;\n}\n</code></pre>\n<pre><code>public class MaskingSensitiveDataDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n        return &quot;****&quot;;\n    }\n}\n</code></pre>\n<p>My initial question was how to log masked password, then how about saving it in db? Is there any way to save request body with password masked?</p>\n"},{"tags":["java","logging","slf4j"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1498361621,"post_id":44742944,"comment_id":76466952,"body_markdown":"This isn&#39;t going to work.  Interfaces can&#39;t have fields, other than constants.","body":"This isn&#39;t going to work.  Interfaces can&#39;t have fields, other than constants."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498362294,"post_id":44742944,"comment_id":76467050,"body_markdown":"If you don&#39;t declare anything it is indeed a static final right. Other words the log_ is indeed a constant.","body":"If you don&#39;t declare anything it is indeed a static final right. Other words the log_ is indeed a constant."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1498362458,"post_id":44742944,"comment_id":76467080,"body_markdown":"Constant value will only be evaluated once at the beginning of the program, so `log_` in the interface will always have a constant class not matter where you call it from. BTW `Thread.curren...` doesn&#39;t give you the correct class, you will need to use StackTrace to get correct class.","body":"Constant value will only be evaluated once at the beginning of the program, so <code>log_</code> in the interface will always have a constant class not matter where you call it from. BTW <code>Thread.curren...</code> doesn&#39;t give you the correct class, you will need to use StackTrace to get correct class."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498363803,"post_id":44742944,"comment_id":76467290,"body_markdown":"+11thdimension Any suugestion on how to implement something close to what I am doing? I can use Classes however it wont be very useful since you can only extend one other class","body":"+11thdimension Any suugestion on how to implement something close to what I am doing? I can use Classes however it wont be very useful since you can only extend one other class"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1498378167,"post_id":44742944,"comment_id":76469817,"body_markdown":"@user1870400 Why do you want to &quot;factor out&quot; `isInfoEnabled()` calls? Keep in mind that the logging methods has an internal check if the message should be logged or not, depending on the current logging configuration.","body":"@user1870400 Why do you want to &quot;factor out&quot; <code>isInfoEnabled()</code> calls? Keep in mind that the logging methods has an internal check if the message should be logged or not, depending on the current logging configuration."},{"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"score":0,"creation_date":1498379233,"post_id":44742944,"comment_id":76470039,"body_markdown":"You did not say what version of Java you are using. There is some new syntax in Java 8 that you may use here.@Progman It makes sense to have logging level checks if you need to do some expensive operation to create the string to be logged.","body":"You did not say what version of Java you are using. There is some new syntax in Java 8 that you may use here.@Progman It makes sense to have logging level checks if you need to do some expensive operation to create the string to be logged."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1498379565,"post_id":44742944,"comment_id":76470126,"body_markdown":"Can&#39;t you use an abstract class instead?","body":"Can&#39;t you use an abstract class instead?"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498379791,"post_id":44742944,"comment_id":76470179,"body_markdown":"@shmosel I answered this is my previous comment but I will say it again. If I create an abstract class then other classes cannot extend any other class besides the Logging class which would be a huge limitation. Having an interface would be seamless","body":"@shmosel I answered this is my previous comment but I will say it again. If I create an abstract class then other classes cannot extend any other class besides the Logging class which would be a huge limitation. Having an interface would be seamless"},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498380135,"post_id":44742944,"comment_id":76470256,"body_markdown":"@Progman Please take a look at this one https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/Logging.scala This is something Apache Spark uses and it is one of the most popular projects in the industry","body":"@Progman Please take a look at this one <a href=\"https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/internal/Logging.scala\" rel=\"nofollow noreferrer\">github.com/apache/spark/blob/master/core/src/main/scala/org/&zwnj;&#8203;&hellip;</a> This is something Apache Spark uses and it is one of the most popular projects in the industry"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1498381092,"post_id":44742944,"comment_id":76470490,"body_markdown":"What they do in that snippet of Spark is entirely unnecessary, and only adds additional overhead. Popular not necessarily means that it doesn&#39;t have bad code or too much cargo cult.","body":"What they do in that snippet of Spark is entirely unnecessary, and only adds additional overhead. Popular not necessarily means that it doesn&#39;t have bad code or too much cargo cult."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1498382303,"post_id":44742944,"comment_id":76470797,"body_markdown":"@user1870400 Your answer doesn&#39;t explain why you want to &quot;factor out&quot; the `isInfoEnabled()` calls. Please explain why you want to remove them and why you don&#39;t do it right now.","body":"@user1870400 Your answer doesn&#39;t explain why you want to &quot;factor out&quot; the <code>isInfoEnabled()</code> calls. Please explain why you want to remove them and why you don&#39;t do it right now."}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1498380552,"post_id":44744705,"comment_id":76470360,"body_markdown":"Spot on. Note that Slf4J already has an info() method taking a pattern and arguments: https://www.slf4j.org/apidocs/index.html. The syntax would be `&quot;My log message for {} of run&quot;`, though.","body":"Spot on. Note that Slf4J already has an info() method taking a pattern and arguments: <a href=\"https://www.slf4j.org/apidocs/index.html\" rel=\"nofollow noreferrer\">slf4j.org/apidocs/index.html</a>. The syntax would be <code>&quot;My log message for {} of run&quot;</code>, though."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498380802,"post_id":44744705,"comment_id":76470430,"body_markdown":"I think you made a point that I am not avoid String concatenation which can be fixed by changing my methods signatures into `default void logInfo(String... msg)` but the performance however is still pretty bad even with {}. Guard condition gives the best performance so far","body":"I think you made a point that I am not avoid String concatenation which can be fixed by changing my methods signatures into <code>default void logInfo(String... msg)</code> but the performance however is still pretty bad even with {}. Guard condition gives the best performance so far"},{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1498381170,"post_id":44744705,"comment_id":76470510,"body_markdown":"Yes, I wrote it in the last sentence. I mean &quot;it could be&quot; a solution instead of using the guard condition, but I was not sure. I wolk throug this issue a couple of year ago in Javascript. And had the same results: have to use the guard condition. :(","body":"Yes, I wrote it in the last sentence. I mean &quot;it could be&quot; a solution instead of using the guard condition, but I was not sure. I wolk throug this issue a couple of year ago in Javascript. And had the same results: have to use the guard condition. :("}],"tags":[],"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"comment_count":3,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1498380260,"creation_date":1498380260,"answer_id":44744705,"question_id":44742944,"body_markdown":"I think your approach, even if it works, is pointless. The log method already did this work. \r\n\r\nThe reason because we use the log guard condition is about string concatenation. \r\n\r\nHere is the issue:\r\n\r\n    log.debug(&quot;This is the case where &quot; + varToBeChecked);\r\n\r\nIn this case you have to use the guard condition:\r\n\r\n    if (log.isDebugEnabled()) {\r\n        log.debug(&quot;This is the case where &quot; + varToBeChecked);\r\n    }  \r\n\r\nThis not only avoids the execution of the log statement, but also the string concatenation, that will be done in the previos example.\r\n\r\nSo if you have just a fixed string with no concatenation you have no reasons to use the guard condition:\r\n\r\n    log.info(&quot;Method starts here&quot;);\r\n\r\nIn your proposal, the interface is not protecting you from this issue, so you are going to add complexity without solving the issue.\r\n\r\nThe solution to this log staff could be a change of the log interface:\r\n\r\n    log.debug(&quot;My log message for %s of run&quot;, myVarToBeLogged);\r\n\r\nIn this case we could avoids the string concatenation, but I&#39;m not sure it is the same performance of using the guard condition.\r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>I think your approach, even if it works, is pointless. The log method already did this work. </p>\n\n<p>The reason because we use the log guard condition is about string concatenation. </p>\n\n<p>Here is the issue:</p>\n\n<pre><code>log.debug(\"This is the case where \" + varToBeChecked);\n</code></pre>\n\n<p>In this case you have to use the guard condition:</p>\n\n<pre><code>if (log.isDebugEnabled()) {\n    log.debug(\"This is the case where \" + varToBeChecked);\n}  \n</code></pre>\n\n<p>This not only avoids the execution of the log statement, but also the string concatenation, that will be done in the previos example.</p>\n\n<p>So if you have just a fixed string with no concatenation you have no reasons to use the guard condition:</p>\n\n<pre><code>log.info(\"Method starts here\");\n</code></pre>\n\n<p>In your proposal, the interface is not protecting you from this issue, so you are going to add complexity without solving the issue.</p>\n\n<p>The solution to this log staff could be a change of the log interface:</p>\n\n<pre><code>log.debug(\"My log message for %s of run\", myVarToBeLogged);\n</code></pre>\n\n<p>In this case we could avoids the string concatenation, but I'm not sure it is the same performance of using the guard condition.</p>\n"},{"tags":[],"owner":{"account_id":3386246,"reputation":2684,"user_id":2842142,"display_name":"Apokralipsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498380938,"creation_date":1498380326,"answer_id":44744712,"question_id":44742944,"body_markdown":"The logging methods only output values to log when a specific logging level is enabled. The only case where manually checking the logging level makes sense is when creating the message to log is expensive. Say, you have to  retrieve a lazy loaded field from the database or walk through a collection with many items. In that case it makes sense to create an interface to simulate a mixin and use functional programming as in: \r\n\r\n    public interface Logging {\r\n        \r\n        Logger getLogger();\r\n        \r\n        default void logInfo(Supplier&lt;String&gt; msg){\r\n    \t    Logger logger = getLogger();\r\n    \t    if (logger.isInfoEnabled()){\r\n    \t        logger.info(msg.get());\r\n    \t    }\r\n        }\r\n    \r\n    }\r\n\r\n    public class Something implements Logging {\r\n    \r\n        public static Logger LOG = LoggerFactory.getLogger(Something.class);\r\n\r\n        @Override\r\n        public Logger getLogger() {\r\n            return LOG;\r\n        }\r\n    \r\n        public void doSomething(){\r\n            logInfo(this::createExpensiveMessage); \r\n        }\r\n    \r\n        private String createExpensiveMessage(){\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                // Nobody cares \r\n            }\r\n    \r\n            return &quot;Something happened&quot;;\r\n       }\r\n\r\n}\r\n\r\n\r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>The logging methods only output values to log when a specific logging level is enabled. The only case where manually checking the logging level makes sense is when creating the message to log is expensive. Say, you have to  retrieve a lazy loaded field from the database or walk through a collection with many items. In that case it makes sense to create an interface to simulate a mixin and use functional programming as in: </p>\n\n<pre><code>public interface Logging {\n\n    Logger getLogger();\n\n    default void logInfo(Supplier&lt;String&gt; msg){\n        Logger logger = getLogger();\n        if (logger.isInfoEnabled()){\n            logger.info(msg.get());\n        }\n    }\n\n}\n\npublic class Something implements Logging {\n\n    public static Logger LOG = LoggerFactory.getLogger(Something.class);\n\n    @Override\n    public Logger getLogger() {\n        return LOG;\n    }\n\n    public void doSomething(){\n        logInfo(this::createExpensiveMessage); \n    }\n\n    private String createExpensiveMessage(){\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            // Nobody cares \n        }\n\n        return \"Something happened\";\n   }\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498381691,"post_id":44744758,"comment_id":76470646,"body_markdown":"I realize many people are talking about the fact that  I am not avoid string concatenation therefore I have edited my question so I can keep it the core of my problem.","body":"I realize many people are talking about the fact that  I am not avoid string concatenation therefore I have edited my question so I can keep it the core of my problem."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498382125,"post_id":44744758,"comment_id":76470765,"body_markdown":"I don&#39;t have any database variables or long lists that has lot of items however my doSomething function above is called gazillion times every second (Imagine an infinite loop calling my doSomething function above)","body":"I don&#39;t have any database variables or long lists that has lot of items however my doSomething function above is called gazillion times every second (Imagine an infinite loop calling my doSomething function above)"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1498382847,"post_id":44744758,"comment_id":76470920,"body_markdown":"When you write `if (log.isInfoEnabled()) {`, in fact, it is not really faster. Checking the level is the first thing that is done when you invoke : `log.info(myMsg);` In fact, you could even be slower If you use  `if (log.isInfoEnabled()) {log.info(myMsg);}` and that the log level matches often as you do what the logger api already does for you (the check) and as the log level matches, the check is still done by the logger.  Now if you think that you log too much called methods, just remove these logs if these are not helpful.","body":"When you write <code>if (log.isInfoEnabled()) {</code>, in fact, it is not really faster. Checking the level is the first thing that is done when you invoke : <code>log.info(myMsg);</code> In fact, you could even be slower If you use  <code>if (log.isInfoEnabled()) {log.info(myMsg);}</code> and that the log level matches often as you do what the logger api already does for you (the check) and as the log level matches, the check is still done by the logger.  Now if you think that you log too much called methods, just remove these logs if these are not helpful."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498383443,"post_id":44744758,"comment_id":76471053,"body_markdown":"So you are log.info, log.debug, log.trace, log.warn... all have guard conditions inside them ? If so, can you show me where this repo https://github.com/qos-ch/slf4j I can see that?","body":"So you are log.info, log.debug, log.trace, log.warn... all have guard conditions inside them ? If so, can you show me where this repo <a href=\"https://github.com/qos-ch/slf4j\" rel=\"nofollow noreferrer\">github.com/qos-ch/slf4j</a> I can see that?"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1498383885,"post_id":44744758,"comment_id":76471153,"body_markdown":"Exactly. Otherwise, how the logger can know if it has to log or not ?  slf4j is the interface. Check rather the implementation. For example logback or log4j. http://www.grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.1.3/ch/qos/logback/classic/Logger.java#Logger :  the logback Logger source code. You can see   `public void info(String msg) {\n        filterAndLog_0_Or3Plus(FQCN, null, Level.INFO, msg, null, null);\n    }` where `filterAndLog_0_Or3Plus()` is a private method performing the same type of check as `isInfoEnabled()`.","body":"Exactly. Otherwise, how the logger can know if it has to log or not ?  slf4j is the interface. Check rather the implementation. For example logback or log4j. <a href=\"http://www.grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/logback-classic/1.1.3/ch/qos/logback/classic/Logger.java#Logger\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/ch.qos.logback/&hellip;</a> :  the logback Logger source code. You can see   <code>public void info(String msg) {         filterAndLog_0_Or3Plus(FQCN, null, Level.INFO, msg, null, null);     }</code> where <code>filterAndLog_0_Or3Plus()</code> is a private method performing the same type of check as <code>isInfoEnabled()</code>."},{"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"score":0,"creation_date":1498438058,"post_id":44744758,"comment_id":76484822,"body_markdown":"what if I am concatenating with exceptions? Since exceptions can be log does it makes sense to do the guarded check? for cases like `log.info(&quot;Exception occured: &quot;, exception)`","body":"what if I am concatenating with exceptions? Since exceptions can be log does it makes sense to do the guarded check? for cases like <code>log.info(&quot;Exception occured: &quot;, exception)</code>"},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1498452812,"post_id":44744758,"comment_id":76487511,"body_markdown":"It is helpless and it is not a concatenation. You use the method `info(String msg, Throwable t)` that is designed to work in the same way. Please read again my answer. It explains that the single case where it is useful is when you perform concatenation that contains expensive computation. For example      `log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders());`","body":"It is helpless and it is not a concatenation. You use the method <code>info(String msg, Throwable t)</code> that is designed to work in the same way. Please read again my answer. It explains that the single case where it is useful is when you perform concatenation that contains expensive computation. For example      <code>log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders());</code>"}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":7,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1498382102,"creation_date":1498380779,"answer_id":44744758,"question_id":44742944,"body_markdown":"&gt; I am trying to factor out if (log.isInfoEnabled()) or if\r\n&gt; (log.isWarnEnabled()) statements\r\n\r\nI think you didn&#39;t understand how and why the `if (log.isLevelXXXEnabled()){...}`  pattern  is used.&lt;br&gt;\r\n\r\nWhat you are writing here :\r\n\r\n    public void doSomething(String name) {\r\n        if (name.equals(&quot;hello&quot;)) {\r\n            if (log_.isInfoEnabled()) { // Don&#39;t want to have this code everywhere\r\n                logInfo(&quot;What class name does the log print here ? &quot;) \r\n            }\r\n        }\r\n    }\r\n\r\nhas really no need to be enclosed by :\r\n\r\n    if (log_.isInfoEnabled()){\r\n\r\nWhy ?&lt;br&gt;\r\n Because you pass a `String` to log that doesn&#39;t require any computation : `&quot;What class name does the log print here ?&quot;` to your logger.&lt;br&gt;\r\nBesides, loggers are already designed to write the log only if the actual level of the logger matches with the requested log level.&lt;br&gt;\r\n\r\nNow, suppose you passed an object with a expensive `toString()` method.&lt;br&gt;\r\nThe logger invokes indeed the `toString()` method of the passed object to log **when it performs actually the log**.&lt;br&gt;\r\nBut in this case, using a check before logging is still useless.&lt;br&gt;\r\n\r\nSuppose `myObject` is a variable referring to an instance of class with a `toString()` performing multiple computations or simply a collection of objects.\r\nThis is helpless :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        logInfo(myObject); \r\n    }\r\n\r\nas the logger implementation will perform `myObject.toString()` only if the effective log level of the logger matches with the requested level for logging.&lt;br&gt;\r\n\r\nUsing this check log pattern makes sense only when you have to perform a relatively expensive computation for the passed object.&lt;br&gt;\r\nGenerally, it is when you perform yourself a computation and you provide it as parameter to the log operation.&lt;br&gt;\r\nFor example :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders()); \r\n    }\r\n\r\nHere it makes sense not because you spare 4 concatenations but because `myPerson.getOrders()` is a collection with potential hundreds elements and invoking `toString()` on it should be done only if you really log.&lt;br&gt;\r\n\r\nNow how do you think design a generic method that could do this specific check and any other specific check for you ?&lt;br&gt;\r\nIt is not possible.&lt;br&gt;\r\nIn fact, what you try to do is possible but will only repeat what the logger libraries already do for you.&lt;br&gt;\r\nThe specific case where you should do the check because it is expensive has to be performed by you for each specific case.&lt;br&gt;\r\n\r\nNow according to preferences, you can of course replace this :\r\n\r\n    if (log_.isInfoEnabled()) { \r\n        log_.info(&quot;name :&quot; + myPerson.getName() + &quot;, order history :&quot; + myPerson.getOrders()); \r\n    }\r\n\r\nby this other syntax :\r\n\r\n    log_.info(&quot;name : {}, order history : {}&quot;, myPerson.getName(), myPerson.getOrders()); \r\n\r\nthat relies on the \r\n\r\n    public void info(String format, Object... arguments);\r\n\r\nmethod of the `org.slf4j.Logger` class.&lt;br&gt;\r\n\r\nUsing `if (log_.isInfoEnabled()) {`  or `public void info(String format, Object... arguments);`  doesn&#39;t change really the problem as you should always think when using the way to spare potential computation.&lt;br&gt;\r\n    \r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<blockquote>\n  <p>I am trying to factor out if (log.isInfoEnabled()) or if\n  (log.isWarnEnabled()) statements</p>\n</blockquote>\n\n<p>I think you didn't understand how and why the <code>if (log.isLevelXXXEnabled()){...}</code>  pattern  is used.<br></p>\n\n<p>What you are writing here :</p>\n\n<pre><code>public void doSomething(String name) {\n    if (name.equals(\"hello\")) {\n        if (log_.isInfoEnabled()) { // Don't want to have this code everywhere\n            logInfo(\"What class name does the log print here ? \") \n        }\n    }\n}\n</code></pre>\n\n<p>has really no need to be enclosed by :</p>\n\n<pre><code>if (log_.isInfoEnabled()){\n</code></pre>\n\n<p>Why ?<br>\n Because you pass a <code>String</code> to log that doesn't require any computation : <code>\"What class name does the log print here ?\"</code> to your logger.<br>\nBesides, loggers are already designed to write the log only if the actual level of the logger matches with the requested log level.<br></p>\n\n<p>Now, suppose you passed an object with a expensive <code>toString()</code> method.<br>\nThe logger invokes indeed the <code>toString()</code> method of the passed object to log <strong>when it performs actually the log</strong>.<br>\nBut in this case, using a check before logging is still useless.<br></p>\n\n<p>Suppose <code>myObject</code> is a variable referring to an instance of class with a <code>toString()</code> performing multiple computations or simply a collection of objects.\nThis is helpless :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    logInfo(myObject); \n}\n</code></pre>\n\n<p>as the logger implementation will perform <code>myObject.toString()</code> only if the effective log level of the logger matches with the requested level for logging.<br></p>\n\n<p>Using this check log pattern makes sense only when you have to perform a relatively expensive computation for the passed object.<br>\nGenerally, it is when you perform yourself a computation and you provide it as parameter to the log operation.<br>\nFor example :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    log_.info(\"name :\" + myPerson.getName() + \", order history :\" + myPerson.getOrders()); \n}\n</code></pre>\n\n<p>Here it makes sense not because you spare 4 concatenations but because <code>myPerson.getOrders()</code> is a collection with potential hundreds elements and invoking <code>toString()</code> on it should be done only if you really log.<br></p>\n\n<p>Now how do you think design a generic method that could do this specific check and any other specific check for you ?<br>\nIt is not possible.<br>\nIn fact, what you try to do is possible but will only repeat what the logger libraries already do for you.<br>\nThe specific case where you should do the check because it is expensive has to be performed by you for each specific case.<br></p>\n\n<p>Now according to preferences, you can of course replace this :</p>\n\n<pre><code>if (log_.isInfoEnabled()) { \n    log_.info(\"name :\" + myPerson.getName() + \", order history :\" + myPerson.getOrders()); \n}\n</code></pre>\n\n<p>by this other syntax :</p>\n\n<pre><code>log_.info(\"name : {}, order history : {}\", myPerson.getName(), myPerson.getOrders()); \n</code></pre>\n\n<p>that relies on the </p>\n\n<pre><code>public void info(String format, Object... arguments);\n</code></pre>\n\n<p>method of the <code>org.slf4j.Logger</code> class.<br></p>\n\n<p>Using <code>if (log_.isInfoEnabled()) {</code>  or <code>public void info(String format, Object... arguments);</code>  doesn't change really the problem as you should always think when using the way to spare potential computation.<br></p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498382418,"creation_date":1498382418,"answer_id":44744949,"question_id":44742944,"body_markdown":"The guard is (should be) primarily used to prevent costly operations when no need arises - just for debugging.\r\n\r\nSo the following would be the correct pattern:\r\n\r\n        if (log_.isInfoEnabled()) {\r\n            String meg = String.join(&quot;log message: &quot;, f(), g(), h);\r\n            log_.info(msg);\r\n        }\r\n\r\n    default void logInfo(Supplier&lt;String&gt; messageSupplier) {\r\n        if (log_.isInfoEnabled()) {\r\n            log_.info(messageSupplier.get());\r\n        }\r\n    }\r\n\r\n    logInfo(() -&gt; String.join(&quot;log message: &quot;, f(), g(), h));\r\n\r\nHowever you risk that this method is used for the simple logging cases, turning it in a costly extra function call `logInfo`, and that lambda.","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>The guard is (should be) primarily used to prevent costly operations when no need arises - just for debugging.</p>\n\n<p>So the following would be the correct pattern:</p>\n\n<pre><code>    if (log_.isInfoEnabled()) {\n        String meg = String.join(\"log message: \", f(), g(), h);\n        log_.info(msg);\n    }\n\ndefault void logInfo(Supplier&lt;String&gt; messageSupplier) {\n    if (log_.isInfoEnabled()) {\n        log_.info(messageSupplier.get());\n    }\n}\n\nlogInfo(() -&gt; String.join(\"log message: \", f(), g(), h));\n</code></pre>\n\n<p>However you risk that this method is used for the simple logging cases, turning it in a costly extra function call <code>logInfo</code>, and that lambda.</p>\n"},{"tags":[],"owner":{"account_id":442476,"reputation":1444,"user_id":833105,"display_name":"Rafiek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695112029,"creation_date":1541171119,"answer_id":53121076,"question_id":44742944,"body_markdown":"You don&#39;t need guards if you use parameterized messages and the parameters are direct references to objects or primitive values.\r\n\r\nhttps://www.slf4j.org/faq.html#logging_performance\r\n\r\nThis is a parameterized message: `log.debug(&quot;Person is {}&quot;, person);`","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>You don't need guards if you use parameterized messages and the parameters are direct references to objects or primitive values.</p>\n<p><a href=\"https://www.slf4j.org/faq.html#logging_performance\" rel=\"nofollow noreferrer\">https://www.slf4j.org/faq.html#logging_performance</a></p>\n<p>This is a parameterized message: <code>log.debug(&quot;Person is {}&quot;, person);</code></p>\n"},{"tags":[],"owner":{"account_id":4387361,"reputation":347,"user_id":3577053,"display_name":"user07"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589305687,"creation_date":1589305687,"answer_id":61758510,"question_id":44742944,"body_markdown":"Guards are still needed if logging parameters use some kind of processing to get to the object we want to log. What slf4j deferres is only the call to object&#39;s toString() method, but not the computations that are performed to get the object itself. This guard is reasonable to put here:\r\n\r\n    if (log.isdebugEnabled()) {\r\n     log.debug(&quot;Value {} is not valid&quot;, obj.connectToDBAndRetrieveValue());\r\n    }\r\n\r\nSo having a custom log wrapper to encapsulate the guard logic might be handy. And also, it will shift unit testing of this condition from client code to the concrete wrapper class what would be much easier and cleaner to do.\r\n\r\nAs a side note, actually this kind of wrapper is not needed for INFO level since INFO is usually enabled in production. Unless this is not your case.","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>Guards are still needed if logging parameters use some kind of processing to get to the object we want to log. What slf4j deferres is only the call to object's toString() method, but not the computations that are performed to get the object itself. This guard is reasonable to put here:</p>\n\n<pre><code>if (log.isdebugEnabled()) {\n log.debug(\"Value {} is not valid\", obj.connectToDBAndRetrieveValue());\n}\n</code></pre>\n\n<p>So having a custom log wrapper to encapsulate the guard logic might be handy. And also, it will shift unit testing of this condition from client code to the concrete wrapper class what would be much easier and cleaner to do.</p>\n\n<p>As a side note, actually this kind of wrapper is not needed for INFO level since INFO is usually enabled in production. Unless this is not your case.</p>\n"}],"owner":{"account_id":2103408,"reputation":6138,"user_id":1870400,"accept_rate":42,"display_name":"user1870400"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7934,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":44744758,"answer_count":6,"score":2,"last_activity_date":1695112029,"creation_date":1498361258,"question_id":44742944,"body_markdown":"I am trying to factor out `if (log.isInfoEnabled())` or `if (log.isWarnEnabled())` statements so I am thinking to create an interface in **Java 8** like below however I am not sure if I could run into any problems?\r\n\r\n    public interface Logging {\r\n\r\n        Logger log_ = LoggerFactory.getLogger(Thread.currentThread().getContextClassLoader().getClass());\r\n\r\n        default void logInfo(String... messages) {\r\n            if (log_.isInfoEnabled()) {\r\n                String meg = String.join(&quot;log message: &quot;, messages)\r\n                log_.info(msg);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public class Hello implements Logging {\r\n\r\n        //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n        public void doSomething(String name) {\r\n            if (name.equals(&quot;hello&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n\r\n         //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n       public void doSomething2(String name) {\r\n            if (name.equals(&quot;hello2&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n       \r\n        //Imagine this function is called lot of times like imagine\r\n        // an infinite loop calling this function\r\n        public void doSomething3(String name) {\r\n            if (name.equals(&quot;hello3&quot;)) {\r\n                logInfo(&quot;What class name does the log print here ? &quot;)  \r\n            }\r\n        }\r\n    }\r\n\r\n  vs\r\n\r\n  \r\n    public class Hello {\r\n\r\n        Logger log_ = LoggerFactory.getLogger(Hello.class);\r\n\r\n        public void doSomething(String name) {\r\n            if (name.equals(&quot;hello&quot;)) {\r\n                if (log_.isInfoEnabled()) { // Don&#39;t want to have this code everywhere\r\n                    logInfo(&quot;What class name does the log print here ? &quot;) \r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAre these two equivalent? Any problems if I go with the Logging interface above?\r\n    \r\n","title":"How to factor out conditional log checks in Java 8 &amp; SLF4J?","body":"<p>I am trying to factor out <code>if (log.isInfoEnabled())</code> or <code>if (log.isWarnEnabled())</code> statements so I am thinking to create an interface in <strong>Java 8</strong> like below however I am not sure if I could run into any problems?</p>\n\n<pre><code>public interface Logging {\n\n    Logger log_ = LoggerFactory.getLogger(Thread.currentThread().getContextClassLoader().getClass());\n\n    default void logInfo(String... messages) {\n        if (log_.isInfoEnabled()) {\n            String meg = String.join(\"log message: \", messages)\n            log_.info(msg);\n        }\n    }\n}\n\n\npublic class Hello implements Logging {\n\n    //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n    public void doSomething(String name) {\n        if (name.equals(\"hello\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n\n     //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n   public void doSomething2(String name) {\n        if (name.equals(\"hello2\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n\n    //Imagine this function is called lot of times like imagine\n    // an infinite loop calling this function\n    public void doSomething3(String name) {\n        if (name.equals(\"hello3\")) {\n            logInfo(\"What class name does the log print here ? \")  \n        }\n    }\n}\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>public class Hello {\n\n    Logger log_ = LoggerFactory.getLogger(Hello.class);\n\n    public void doSomething(String name) {\n        if (name.equals(\"hello\")) {\n            if (log_.isInfoEnabled()) { // Don't want to have this code everywhere\n                logInfo(\"What class name does the log print here ? \") \n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Are these two equivalent? Any problems if I go with the Logging interface above?</p>\n"},{"tags":["java","spring-webflux","ksqldb","vertex"],"comments":[{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695086612,"post_id":77113555,"comment_id":135974106,"body_markdown":"It seems like there is nothing baked into the ksqldb Java client to detect if there was a connection drop while a push query is running. The only error were able to surface is if there is a connection drop while there is consumption of records in progress, but if we enter an idle state and drop connection, there is zero indication that the connection has dropped from the client and you are not able to surface any kind of error.","body":"It seems like there is nothing baked into the ksqldb Java client to detect if there was a connection drop while a push query is running. The only error were able to surface is if there is a connection drop while there is consumption of records in progress, but if we enter an idle state and drop connection, there is zero indication that the connection has dropped from the client and you are not able to surface any kind of error."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1695617502,"post_id":77113555,"comment_id":136043197,"body_markdown":"check how errors are handled in `RowSubscriber` and make sure that `sink.error(e)` is called. also, some errors could occur outside of the subscriber. It could be that you need to add `.exceptionally` block and propagate exception there `sink.error(e)`","body":"check how errors are handled in <code>RowSubscriber</code> and make sure that <code>sink.error(e)</code> is called. also, some errors could occur outside of the subscriber. It could be that you need to add <code>.exceptionally</code> block and propagate exception there <code>sink.error(e)</code>"},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695667055,"post_id":77113555,"comment_id":136052363,"body_markdown":"It was actually a vertx error did not trigger any of the RowSubscriber onError hooks. It was a null pointer exception that was uncaught and was unable to be caught since the code that triggers the NPE is library code that is only readable. Ended up using webclient straight for more flexibility and control.","body":"It was actually a vertx error did not trigger any of the RowSubscriber onError hooks. It was a null pointer exception that was uncaught and was unable to be caught since the code that triggers the NPE is library code that is only readable. Ended up using webclient straight for more flexibility and control."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1695676783,"post_id":77113555,"comment_id":136053808,"body_markdown":"interesting combination vertx &amp; spring-webflux.","body":"interesting combination vertx &amp; spring-webflux."},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695679788,"post_id":77113555,"comment_id":136054092,"body_markdown":"No vertx, just used Spring Webflux straight with the ksqldb rest api","body":"No vertx, just used Spring Webflux straight with the ksqldb rest api"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1695692679,"post_id":77113555,"comment_id":136055279,"body_markdown":"hmm, &quot;It was actually a vertx error&quot;. Anyway, I&#39;m glad you found the root cause.","body":"hmm, &quot;It was actually a vertx error&quot;. Anyway, I&#39;m glad you found the root cause."},{"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"score":0,"creation_date":1695745174,"post_id":77113555,"comment_id":136064337,"body_markdown":"Yeah I meant that, we opted to not use the ksqldb Java client library since it was locked into using vertx where it was inflexible and we were triggering a null pointer exception that was unable to be caught, so instead we are using Webclient and the ksqlDB REST API sow we have more control over HTTP exception handling and configuration around TCP keep alive. Errors surface much more clearly as well.","body":"Yeah I meant that, we opted to not use the ksqldb Java client library since it was locked into using vertx where it was inflexible and we were triggering a null pointer exception that was unable to be caught, so instead we are using Webclient and the ksqlDB REST API sow we have more control over HTTP exception handling and configuration around TCP keep alive. Errors surface much more clearly as well."}],"owner":{"account_id":11111536,"reputation":609,"user_id":8157160,"accept_rate":56,"display_name":"Farhan Islam"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1695111947,"creation_date":1694791131,"question_id":77113555,"body_markdown":"I&#39;m using\r\n\r\n\timplementation (&#39;io.confluent.ksql:ksqldb-api-client:7.3.1&#39;)\r\n\r\nand I&#39;m running into issues throwing exception on connection loss on the code below\r\n\r\n    @Override\r\n    public &lt;T&gt; Flux&lt;T&gt; select(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\r\n        String tableName = Objects.requireNonNull(mappingContext.getPersistentEntity(entityClass)).getTableName().toString();\r\n        logger.info(&quot;Executing ksqlDB push query: SELECT * FROM&quot; + tableName + &quot; EMIT CHANGES;&quot;);\r\n        return Flux.create((FluxSink&lt;io.confluent.ksql.api.client.Row&gt; sink) -&gt;\r\n                        client.streamQuery(&quot;select * from &quot; + tableName + &quot; &quot; + emitChangesString(entityClass) + &quot;;&quot;)\r\n                                .thenAccept(streamedQueryResult -&gt; streamedQueryResult.subscribe(RowSubscriber.fromSink(sink)))\r\n                )\r\n                .flatMap(row -&gt; {\r\n                    try {\r\n                        return Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\r\n                    } catch (JsonProcessingException e) {\r\n                        logger.error(&quot;ksqlDB Exception occurred while object mapping record from table:&quot; + e);\r\n                        return Flux.empty();\r\n                    }\r\n                })\r\n                .doOnError(throwable -&gt; logger.error(&quot;Exception occurred during ksqlDB push query processing&quot;));\r\n    }\r\n\r\n\r\nI would expect the .doOnError() to be hit when i disconnect my internet connection but instead nothing happens and no errors are thrown.\r\n\r\nAm I missing something here to be able to determine when the connection is lost?\r\n","title":"ksqlDB Java Client unable to surface connection exception","body":"<p>I'm using</p>\n<pre><code>implementation ('io.confluent.ksql:ksqldb-api-client:7.3.1')\n</code></pre>\n<p>and I'm running into issues throwing exception on connection loss on the code below</p>\n<pre><code>@Override\npublic &lt;T&gt; Flux&lt;T&gt; select(Query query, Class&lt;T&gt; entityClass) throws DataAccessException {\n    String tableName = Objects.requireNonNull(mappingContext.getPersistentEntity(entityClass)).getTableName().toString();\n    logger.info(&quot;Executing ksqlDB push query: SELECT * FROM&quot; + tableName + &quot; EMIT CHANGES;&quot;);\n    return Flux.create((FluxSink&lt;io.confluent.ksql.api.client.Row&gt; sink) -&gt;\n                    client.streamQuery(&quot;select * from &quot; + tableName + &quot; &quot; + emitChangesString(entityClass) + &quot;;&quot;)\n                            .thenAccept(streamedQueryResult -&gt; streamedQueryResult.subscribe(RowSubscriber.fromSink(sink)))\n            )\n            .flatMap(row -&gt; {\n                try {\n                    return Flux.just(objectMapper.readValue(row.asObject().toJsonString(), entityClass));\n                } catch (JsonProcessingException e) {\n                    logger.error(&quot;ksqlDB Exception occurred while object mapping record from table:&quot; + e);\n                    return Flux.empty();\n                }\n            })\n            .doOnError(throwable -&gt; logger.error(&quot;Exception occurred during ksqlDB push query processing&quot;));\n}\n</code></pre>\n<p>I would expect the .doOnError() to be hit when i disconnect my internet connection but instead nothing happens and no errors are thrown.</p>\n<p>Am I missing something here to be able to determine when the connection is lost?</p>\n"},{"tags":["java","spring-boot","junit5","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1613131936,"post_id":66170469,"comment_id":116988106,"body_markdown":"What is the output when you set `-Amapstruct.verbose=true`? Are you using Lombok by any chance?","body":"What is the output when you set <code>-Amapstruct.verbose=true</code>? Are you using Lombok by any chance?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1613132922,"post_id":66170469,"comment_id":116988514,"body_markdown":"I haven&#39;t use this debug option so far. Yes I use Lombook","body":"I haven&#39;t use this debug option so far. Yes I use Lombook"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1613162560,"post_id":66170469,"comment_id":117001100,"body_markdown":"Then I suggest having a look at https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together/47684351","body":"Then I suggest having a look at <a href=\"https://stackoverflow.com/questions/47676369/mapstruct-and-lombok-not-working-together/47684351\" title=\"mapstruct and lombok not working together\">stackoverflow.com/questions/47676369/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613127187,"creation_date":1613127187,"answer_id":66170503,"question_id":66170469,"body_markdown":"Use the generated implementation of the mapper within the Spring test configuration:\r\n\r\n    @SpringBootTest(classes = {ProductMapperImpl.class })\r\n\r\nAlso remember that the mapper itself should be bound to the Spring context.","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>Use the generated implementation of the mapper within the Spring test configuration:</p>\n<pre><code>@SpringBootTest(classes = {ProductMapperImpl.class })\n</code></pre>\n<p>Also remember that the mapper itself should be bound to the Spring context.</p>\n"},{"comments":[{"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"score":0,"creation_date":1649949832,"post_id":66849106,"comment_id":127008640,"body_markdown":"In this case previous error returns: &quot;java: cannot find symbol   symbol:   variable log&quot;","body":"In this case previous error returns: &quot;java: cannot find symbol   symbol:   variable log&quot;"}],"tags":[],"owner":{"account_id":230699,"reputation":335,"user_id":2550062,"display_name":"thinwa"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1616995381,"creation_date":1616995381,"answer_id":66849106,"question_id":66170469,"body_markdown":"Try to reorder your annotation processor factory path, move lombok to the top.","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>Try to reorder your annotation processor factory path, move lombok to the top.</p>\n"},{"tags":[],"owner":{"account_id":4098260,"reputation":619,"user_id":3364457,"display_name":"AndrewMcCoist"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644314167,"creation_date":1644314167,"answer_id":71031819,"question_id":66170469,"body_markdown":"It&#39;s not exactly related to MapStruct itself, but maybe it will save some devs a few minutes / hours when searching for the problem.\r\n\r\nI had a similar problem in a project, where I was supposed to add new API version and mark old one as deprecated.\r\n\r\nWhen I tried compiling with maven, I got errors\r\n\r\n    [ERROR] /src/main/java/com/example/MapStructMapperClass.java: No implementation was created for MapStructMapperClass.java due to having a problem in the erroneous element java.util.ArrayList. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\nThe project uses Lombok, so I checked annotation processor configs. Looked fine and worked properly on a simple, ad hoc created project.\r\nTried bumping MapStruct and Lpmbok versions. Still the same problem.\r\n\r\n\r\nThen, I noticed a few lines in the log:\r\n\r\n    [WARNING] COMPILATION WARNING :\r\n    [INFO] ------------------------------\r\n    [WARNING] /src/main/java/com/example/MyRestController.java: com.example.MyOldService in MyRestController has been deprecated\r\n    [INFO] 1 warning\r\n    [INFO] ----------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] ----------------------\r\n    [ERROR] warnings found and -Werror specified\r\n\r\nAnd the config in maven pom.xml\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\r\n      &lt;configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nAs [Javac JDK 8][1] states:\r\n\r\n    -Werror\r\n        Terminate compilation if warnings occur.\r\n\r\nSo, my problem was that I used @Deprecated annotation and someone turned treating compilation warnings as errors on. Due to the project using MapStruct and having pleeeeenty of mappers with the same compilation error, I focused on solving the problem with the annotations processors, completely ignoring those &quot;insignificant&quot; warnings.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>It's not exactly related to MapStruct itself, but maybe it will save some devs a few minutes / hours when searching for the problem.</p>\n<p>I had a similar problem in a project, where I was supposed to add new API version and mark old one as deprecated.</p>\n<p>When I tried compiling with maven, I got errors</p>\n<pre><code>[ERROR] /src/main/java/com/example/MapStructMapperClass.java: No implementation was created for MapStructMapperClass.java due to having a problem in the erroneous element java.util.ArrayList. Hint: this often means that some other annotation processor was supposed to process the erroneous element. You can also enable MapStruct verbose mode by setting -Amapstruct.verbose=true as a compilation argument.\n</code></pre>\n<p>The project uses Lombok, so I checked annotation processor configs. Looked fine and worked properly on a simple, ad hoc created project.\nTried bumping MapStruct and Lpmbok versions. Still the same problem.</p>\n<p>Then, I noticed a few lines in the log:</p>\n<pre><code>[WARNING] COMPILATION WARNING :\n[INFO] ------------------------------\n[WARNING] /src/main/java/com/example/MyRestController.java: com.example.MyOldService in MyRestController has been deprecated\n[INFO] 1 warning\n[INFO] ----------------------\n[ERROR] COMPILATION ERROR :\n[INFO] ----------------------\n[ERROR] warnings found and -Werror specified\n</code></pre>\n<p>And the config in maven pom.xml</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;failOnWarning&gt;true&lt;/failOnWarning&gt;\n  &lt;configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>As <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javac.html\" rel=\"nofollow noreferrer\">Javac JDK 8</a> states:</p>\n<pre><code>-Werror\n    Terminate compilation if warnings occur.\n</code></pre>\n<p>So, my problem was that I used @Deprecated annotation and someone turned treating compilation warnings as errors on. Due to the project using MapStruct and having pleeeeenty of mappers with the same compilation error, I focused on solving the problem with the annotations processors, completely ignoring those &quot;insignificant&quot; warnings.</p>\n"},{"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107722,"creation_date":1695107722,"answer_id":77132393,"question_id":66170469,"body_markdown":"I had the same problem, but in my case the root cause was related to my **multi-module architecture**.\r\n\r\nThe top-level mapper has used one child mapper of **module A** which used itself a child mapper of **module B**.\r\n\r\nGradle **module A** has dependency implementation of **module B**\r\n\r\n&gt; implementation(&quot;module-b&quot;)\r\n\r\nThis means the **application module** has **no access** to classes of **transitive dependency B through module A** which makes MapStruct fail with this error:\r\n\r\n&gt; No implementation was created for **MapperOfApplication** due to having a problem\r\n&gt; in the erroneous element **EntityOfModuleB**. Hint: this often\r\n&gt; means that some other annotation processor was supposed to process the\r\n&gt; erroneous element. You can also enable MapStruct verbose mode by\r\n&gt; setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\n\r\nThe odd thing is, mapper for **EntityOfModuleB** is not even used, as **EntityOfModuleADto** has no reference to **EntityOfModuleBDto** and in my opinion this error should not occur in my case. (**MapStruct bug?**)\r\n\r\n\r\n\r\nHowever, as a **solution** I had to additionally **include** dependency `implementation(&quot;module-b&quot;)` into my **application module**","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>I had the same problem, but in my case the root cause was related to my <strong>multi-module architecture</strong>.</p>\n<p>The top-level mapper has used one child mapper of <strong>module A</strong> which used itself a child mapper of <strong>module B</strong>.</p>\n<p>Gradle <strong>module A</strong> has dependency implementation of <strong>module B</strong></p>\n<blockquote>\n<p>implementation(&quot;module-b&quot;)</p>\n</blockquote>\n<p>This means the <strong>application module</strong> has <strong>no access</strong> to classes of <strong>transitive dependency B through module A</strong> which makes MapStruct fail with this error:</p>\n<blockquote>\n<p>No implementation was created for <strong>MapperOfApplication</strong> due to having a problem\nin the erroneous element <strong>EntityOfModuleB</strong>. Hint: this often\nmeans that some other annotation processor was supposed to process the\nerroneous element. You can also enable MapStruct verbose mode by\nsetting -Amapstruct.verbose=true as a compilation argument.</p>\n</blockquote>\n<p>The odd thing is, mapper for <strong>EntityOfModuleB</strong> is not even used, as <strong>EntityOfModuleADto</strong> has no reference to <strong>EntityOfModuleBDto</strong> and in my opinion this error should not occur in my case. (<strong>MapStruct bug?</strong>)</p>\n<p>However, as a <strong>solution</strong> I had to additionally <strong>include</strong> dependency <code>implementation(&quot;module-b&quot;)</code> into my <strong>application module</strong></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18050,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1695111818,"creation_date":1613127034,"question_id":66170469,"body_markdown":"I&#39;m trying to create very simple JUnit test into Spring Cloud project:\r\n\r\n    @SpringBootTest(classes = {ProductMapper.class })\r\n    public class TestingWebApplicationTests {\r\n    \r\n        @Test\r\n        public void contextLoads() {\r\n        }\r\n    \r\n    }\r\n\r\n    import org.mapstruct.Mapper;\r\n    \r\n    @Mapper(config = BaseMapperConfig.class)\r\n    public interface ProductMapper {\r\n    \r\n    \tProductDTO toDTO(Product product);\r\n    \r\n    \tProductFullDTO toFullDTO(Product product);\r\n    \r\n    \tProduct map(ProductFullDTO productDTO);\r\n    \r\n    \tProductFilter toFilter(ProductFilterDTO dto);\r\n    }\r\n\r\nI get this error when I try to run the test into the latest Intelij.\r\n\r\n&gt; java: No implementation was created for ProductMapper due to having a\r\n&gt; problem in the erroneous element java.util.ArrayList. Hint: this often\r\n&gt; means that some other annotation processor was supposed to process the\r\n&gt; erroneous element. You can also enable MapStruct verbose mode by\r\n&gt; setting -Amapstruct.verbose=true as a compilation argument.\r\n\r\nDo you know how I can fix this issue?\r\n\r\n","title":"java: No implementation was created for ProductMapper due to having a problem in the erroneous element java.util.ArrayList","body":"<p>I'm trying to create very simple JUnit test into Spring Cloud project:</p>\n<pre><code>@SpringBootTest(classes = {ProductMapper.class })\npublic class TestingWebApplicationTests {\n\n    @Test\n    public void contextLoads() {\n    }\n\n}\n\nimport org.mapstruct.Mapper;\n\n@Mapper(config = BaseMapperConfig.class)\npublic interface ProductMapper {\n\n    ProductDTO toDTO(Product product);\n\n    ProductFullDTO toFullDTO(Product product);\n\n    Product map(ProductFullDTO productDTO);\n\n    ProductFilter toFilter(ProductFilterDTO dto);\n}\n</code></pre>\n<p>I get this error when I try to run the test into the latest Intelij.</p>\n<blockquote>\n<p>java: No implementation was created for ProductMapper due to having a\nproblem in the erroneous element java.util.ArrayList. Hint: this often\nmeans that some other annotation processor was supposed to process the\nerroneous element. You can also enable MapStruct verbose mode by\nsetting -Amapstruct.verbose=true as a compilation argument.</p>\n</blockquote>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","android","notifications","android-13"],"comments":[{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1695106696,"post_id":77132020,"comment_id":135975987,"body_markdown":"Have you requested permission for android.permission.SCHEDULE_EXACT_ALARM from the user?","body":"Have you requested permission for android.permission.SCHEDULE_EXACT_ALARM from the user?"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1695111149,"post_id":77132020,"comment_id":135976911,"body_markdown":"Did you ask the user to grant [POST_NOTIFICATIONS permission](https://developer.android.com/develop/ui/views/notifications/notification-permission)? Without it, you can&#39;t send any non-exempt notifications yet on Android 13","body":"Did you ask the user to grant <a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">POST_NOTIFICATIONS permission</a>? Without it, you can&#39;t send any non-exempt notifications yet on Android 13"},{"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"score":0,"creation_date":1695192108,"post_id":77132020,"comment_id":135989368,"body_markdown":"yes granted the  POST_NOTIFICATIONS permission and also implemented the android. permission.SCHEDULE_EXACT_ALARM. but the result remains the same.","body":"yes granted the  POST_NOTIFICATIONS permission and also implemented the android. permission.SCHEDULE_EXACT_ALARM. but the result remains the same."}],"answers":[{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695111692,"creation_date":1695111692,"answer_id":77132824,"question_id":77132020,"body_markdown":"consider using new permission `SCHEDULE_EXACT_ALARM` (introduced in 12) and read dedicated [DOC](https://developer.android.com/about/versions/14/changes/schedule-exact-alarms)","title":"Scheduled local notifications at specific time in Android 13","body":"<p>consider using new permission <code>SCHEDULE_EXACT_ALARM</code> (introduced in 12) and read dedicated <a href=\"https://developer.android.com/about/versions/14/changes/schedule-exact-alarms\" rel=\"nofollow noreferrer\">DOC</a></p>\n"}],"owner":{"account_id":29433973,"reputation":1,"user_id":22553152,"display_name":"Toni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695111692,"creation_date":1695103388,"question_id":77132020,"body_markdown":"&gt; Hi guys, i am trying to scheduled local notifications at specific time in Android 13 but it is not working. I don&#39;t know how to fix the isse. Can any one help me on this.\r\nMy code is here\r\n```\r\npublic static void scheduleExactAlarm(Context context) {\r\n            AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\r\n            if (alarmManager == null) {\r\n                // Handle the case where AlarmManager is not available\r\n                return;\r\n            }\r\n\r\n            Intent alarmIntent = new Intent(context, MYAlarmReceiver.class);\r\n            alarmIntent.setAction(&quot;com.test.ACTION_MY_ALARM&quot;); // Replace with your action\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(\r\n                    context,\r\n                    0,\r\n                    alarmIntent,\r\n                    PendingIntent.FLAG_IMMUTABLE\r\n            );\r\n\r\n            long triggerMillis = 10 * 60 * 1000; // 10 minutes from now\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n                alarmManager.setExactAndAllowWhileIdle(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        triggerMillis,\r\n                        pendingIntent\r\n                );\r\n            } else {\r\n                alarmManager.setExact(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        triggerMillis,\r\n                        pendingIntent\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n`public class MYAlarmReceiver extends BroadcastReceiver {\r\n    private static final String TAG = &quot;AlarmReceiver&quot;;\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n         if (intent.getAction() != null) {\r\n            switch (intent.getAction()) {\r\n                case &quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot;:\r\n                    Toast.makeText(context, &quot;RECEIVED ALARM PERMISSION&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n                case &quot;from alarm&quot;:\r\n                    Toast.makeText(context, &quot;ALARM FIRED&quot;, Toast.LENGTH_LONG).show();\r\n                    break;\r\n            }\r\n        }\r\n      }`\r\n\r\n   &lt;receiver\r\n            android:name=&quot;.MYAlarmReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:process=&quot;:remote&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.text.ACTION_MY_ALARM&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;action android:name=&quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot; /&gt;\r\n                &lt;action android:name=&quot;from alarm&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USE_EXACT_ALARM&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt; &lt;!-- Permissions --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\r\n```\r\n\r\nWhen i am trying with this code it is not workking on Android 12 and Android 13. I don&#39;t know how to fix this.\r\nIs there something that i missed?","title":"Scheduled local notifications at specific time in Android 13","body":"<blockquote>\n<p>Hi guys, i am trying to scheduled local notifications at specific time in Android 13 but it is not working. I don't know how to fix the isse. Can any one help me on this.\nMy code is here</p>\n</blockquote>\n<pre><code>public static void scheduleExactAlarm(Context context) {\n            AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n\n            if (alarmManager == null) {\n                // Handle the case where AlarmManager is not available\n                return;\n            }\n\n            Intent alarmIntent = new Intent(context, MYAlarmReceiver.class);\n            alarmIntent.setAction(&quot;com.test.ACTION_MY_ALARM&quot;); // Replace with your action\n\n            PendingIntent pendingIntent = PendingIntent.getBroadcast(\n                    context,\n                    0,\n                    alarmIntent,\n                    PendingIntent.FLAG_IMMUTABLE\n            );\n\n            long triggerMillis = 10 * 60 * 1000; // 10 minutes from now\n\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n                alarmManager.setExactAndAllowWhileIdle(\n                        AlarmManager.RTC_WAKEUP,\n                        triggerMillis,\n                        pendingIntent\n                );\n            } else {\n                alarmManager.setExact(\n                        AlarmManager.RTC_WAKEUP,\n                        triggerMillis,\n                        pendingIntent\n                );\n            }\n        }\n\n\n`public class MYAlarmReceiver extends BroadcastReceiver {\n    private static final String TAG = &quot;AlarmReceiver&quot;;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n         if (intent.getAction() != null) {\n            switch (intent.getAction()) {\n                case &quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot;:\n                    Toast.makeText(context, &quot;RECEIVED ALARM PERMISSION&quot;, Toast.LENGTH_LONG).show();\n                    break;\n                case &quot;from alarm&quot;:\n                    Toast.makeText(context, &quot;ALARM FIRED&quot;, Toast.LENGTH_LONG).show();\n                    break;\n            }\n        }\n      }`\n\n   &lt;receiver\n            android:name=&quot;.MYAlarmReceiver&quot;\n            android:enabled=&quot;true&quot;\n            android:exported=&quot;true&quot;\n            android:process=&quot;:remote&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.text.ACTION_MY_ALARM&quot; /&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;action android:name=&quot;ACTION_SCHEDULE_EXACT_ALARM_PERMISSION_STATE_CHANGED&quot; /&gt;\n                &lt;action android:name=&quot;from alarm&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SCHEDULE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USE_EXACT_ALARM&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.alarm.permission.SET_ALARM&quot; /&gt; &lt;!-- Permissions --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;/&gt;\n</code></pre>\n<p>When i am trying with this code it is not workking on Android 12 and Android 13. I don't know how to fix this.\nIs there something that i missed?</p>\n"},{"tags":["java","spring","spring-boot","spring-graphql"],"comments":[{"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"score":0,"creation_date":1694802542,"post_id":77099681,"comment_id":135944013,"body_markdown":"I cant seem to find where this &#171;&#160;management.graphql.autotime.percentiles-histogram&#160;&#187; property comes from. Can you point a reference to this?","body":"I cant seem to find where this &#171; management.graphql.autotime.percentiles-histogram &#187; property comes from. Can you point a reference to this?"},{"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"score":0,"creation_date":1694816754,"post_id":77099681,"comment_id":135945956,"body_markdown":"When this property is set, it calls publishPercentileHistogram() on the timer builder in AutoTimeProperties.java if this property is set","body":"When this property is set, it calls publishPercentileHistogram() on the timer builder in AutoTimeProperties.java if this property is set"}],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695110135,"creation_date":1695110135,"answer_id":77132644,"question_id":77099681,"body_markdown":"Indeed, autotime support has been removed in Spring Boot 3.0 for Spring for GraphQL because `@Timed` is not supported for this instrumentation.\r\n\r\nYou can replace this with [a per-metric configuration][1]:\r\n\r\n```\r\nmanagement.metrics.distribution.graphql.percentiles-histogram=true\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.customizing.per-meter-properties","title":"Does Spring-graphl provide percentile metrics in spring-boot3?","body":"<p>Indeed, autotime support has been removed in Spring Boot 3.0 for Spring for GraphQL because <code>@Timed</code> is not supported for this instrumentation.</p>\n<p>You can replace this with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.customizing.per-meter-properties\" rel=\"nofollow noreferrer\">a per-metric configuration</a>:</p>\n<pre><code>management.metrics.distribution.graphql.percentiles-histogram=true\n</code></pre>\n"}],"owner":{"account_id":378934,"reputation":317,"user_id":731969,"accept_rate":67,"display_name":"Wonger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77132644,"answer_count":1,"score":0,"last_activity_date":1695110135,"creation_date":1694630036,"question_id":77099681,"body_markdown":"When using spring-graphl with spring-boot 2, I can set the following properties:\r\n`management.graphql.autotime.percentiles-histogram: true` and I can get percentile histogram data metrics in prometheus with metrics named: `graphql_datafetcher_seconds_bucket`. \r\n\r\nWith the release of spring-boot 3, I see that spring-graph added observability support using Micrometers Observability api, and with that I no longer see any percentile histogram metrics. The configuration property mentioned above is  Is there a configuration I&#39;m missing somewhere or is it no longer supported in spring-graphql?","title":"Does Spring-graphl provide percentile metrics in spring-boot3?","body":"<p>When using spring-graphl with spring-boot 2, I can set the following properties:\n<code>management.graphql.autotime.percentiles-histogram: true</code> and I can get percentile histogram data metrics in prometheus with metrics named: <code>graphql_datafetcher_seconds_bucket</code>.</p>\n<p>With the release of spring-boot 3, I see that spring-graph added observability support using Micrometers Observability api, and with that I no longer see any percentile histogram metrics. The configuration property mentioned above is  Is there a configuration I'm missing somewhere or is it no longer supported in spring-graphql?</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":14310059,"reputation":3682,"user_id":10336633,"display_name":"Ryosuke"},"score":0,"creation_date":1589226951,"post_id":61738137,"comment_id":109204844,"body_markdown":"You need to create notification channels above Android O. See [this](https://developer.android.com/training/notify-user/channels)","body":"You need to create notification channels above Android O. See <a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"nofollow noreferrer\">this</a>"},{"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"score":0,"creation_date":1589227467,"post_id":61738137,"comment_id":109205101,"body_markdown":"Thanks for your reply. I did. See Edit","body":"Thanks for your reply. I did. See Edit"}],"answers":[{"tags":[],"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1589231274,"creation_date":1589230509,"answer_id":61739123,"question_id":61738137,"body_markdown":"I found the issue: \r\n\r\nYou need to set a valid small icon. Otherwise the notification display will fail silently during startForeground. \r\n\r\n    val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\r\n            .setOngoing(true)\r\n            .setSmallIcon(R.mipmap.ic_launcher)\r\n            .setContentTitle(&quot;MyService&quot;)\r\n            .setContentText(&quot;Recording Service Ready&quot;)\r\n            .setContentIntent(pendingIntent)\r\n            .build()\r\n\r\nI discovered this when trying to display the notification manually using NotificationManager.notify.\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>I found the issue: </p>\n\n<p>You need to set a valid small icon. Otherwise the notification display will fail silently during startForeground. </p>\n\n<pre><code>val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\n        .setOngoing(true)\n        .setSmallIcon(R.mipmap.ic_launcher)\n        .setContentTitle(\"MyService\")\n        .setContentText(\"Recording Service Ready\")\n        .setContentIntent(pendingIntent)\n        .build()\n</code></pre>\n\n<p>I discovered this when trying to display the notification manually using NotificationManager.notify.</p>\n"},{"tags":[],"owner":{"account_id":29479860,"reputation":1,"user_id":22590858,"display_name":""},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695109742,"creation_date":1695109742,"answer_id":77132607,"question_id":61738137,"body_markdown":"Looks like your code is valid.\r\n\r\nYou need to add \r\n`&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;` to your AndroidManifest.xml\r\nto visualize app alarm on your device.\r\n(even if there&#39;s no such thing as SecurityException.)\r\n\r\nAnd then turn your app alarm on.\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>Looks like your code is valid.</p>\n<p>You need to add\n<code>&lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;</code> to your AndroidManifest.xml\nto visualize app alarm on your device.\n(even if there's no such thing as SecurityException.)</p>\n<p>And then turn your app alarm on.</p>\n"}],"owner":{"account_id":18555437,"reputation":181,"user_id":13520669,"display_name":"Alexander J&#228;ger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1440,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":61739123,"answer_count":2,"score":5,"last_activity_date":1695109742,"creation_date":1589226779,"question_id":61738137,"body_markdown":"I&#39;m starting a foreground service which uses a HandlerThread to do some long running tasks.\r\n\r\n**It works fine, however, the notification does not show my title or content (It says &quot;xxx is running &quot; Tap for more information or to stop the app&quot;). I&#39;m targeting Android 10 for now**\r\n\r\nThe service is started from my main activity\r\n\r\n    Log.w(TAG, &quot;startServiceCalled&quot;)\r\n    Intent(this, MyService::class.java).also { intent -&gt;\r\n        startForegroundService(intent)\r\n    }\r\n\r\nIn the `onCreate` callback of the Service I&#39;m putting the service in the foreground like this\r\n\r\n    val pendingIntent: PendingIntent =\r\n        Intent(this, MainActivity::class.java).let { notificationIntent -&gt;\r\n        PendingIntent.getActivity(this, 0, notificationIntent, 0)\r\n    }\r\n\r\n    val notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\r\n        .setOngoing(true)\r\n        .setContentTitle(&quot;My Custom App&quot;)\r\n        .setContentText(&quot;MyService Ready&quot;)\r\n        .setContentIntent(pendingIntent)\r\n        .build()\r\n\r\n    startForeground(NOTIFICATIION_ID, notification, ServiceInfo.FOREGROUND_SERVICE_TYPE_MANIFEST);\r\n\r\nBTW: I&#39;m also using Flutter so my main activity extends FlutterActivity\r\n\r\nEDIT: The notification channel is created like this\r\n\r\n    val RECORDING_NOTIFICATION_CHANNEL = NotificationChannel(&quot;com.example.notification&quot;, &quot;Service notifications&quot;, NotificationManager.IMPORTANCE_DEFAULT).apply {\r\n        description = &quot;Provides information about the service&quot;\r\n    }\r\n    val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n    notificationManager.createNotificationChannel(RECORDING_NOTIFICATION_CHANNEL);\r\n\r\n","title":"startForeground Notification does not show Title or Content","body":"<p>I'm starting a foreground service which uses a HandlerThread to do some long running tasks.</p>\n\n<p><strong>It works fine, however, the notification does not show my title or content (It says \"xxx is running \" Tap for more information or to stop the app\"). I'm targeting Android 10 for now</strong></p>\n\n<p>The service is started from my main activity</p>\n\n<pre><code>Log.w(TAG, \"startServiceCalled\")\nIntent(this, MyService::class.java).also { intent -&gt;\n    startForegroundService(intent)\n}\n</code></pre>\n\n<p>In the <code>onCreate</code> callback of the Service I'm putting the service in the foreground like this</p>\n\n<pre><code>val pendingIntent: PendingIntent =\n    Intent(this, MainActivity::class.java).let { notificationIntent -&gt;\n    PendingIntent.getActivity(this, 0, notificationIntent, 0)\n}\n\nval notification: Notification = NotificationCompat.Builder(applicationContext, MainActivity.RECORDING_NOTIFICATION_CHANNEL.id)\n    .setOngoing(true)\n    .setContentTitle(\"My Custom App\")\n    .setContentText(\"MyService Ready\")\n    .setContentIntent(pendingIntent)\n    .build()\n\nstartForeground(NOTIFICATIION_ID, notification, ServiceInfo.FOREGROUND_SERVICE_TYPE_MANIFEST);\n</code></pre>\n\n<p>BTW: I'm also using Flutter so my main activity extends FlutterActivity</p>\n\n<p>EDIT: The notification channel is created like this</p>\n\n<pre><code>val RECORDING_NOTIFICATION_CHANNEL = NotificationChannel(\"com.example.notification\", \"Service notifications\", NotificationManager.IMPORTANCE_DEFAULT).apply {\n    description = \"Provides information about the service\"\n}\nval notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\nnotificationManager.createNotificationChannel(RECORDING_NOTIFICATION_CHANNEL);\n</code></pre>\n"},{"tags":["java","keycloak","keycloak-services","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":14915615,"reputation":181,"user_id":10769525,"display_name":"drino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695108957,"creation_date":1695108957,"answer_id":77132517,"question_id":77129188,"body_markdown":"I don&#39;t think that KeycloakSession is the object to use in your case. \r\nIndeed, when using EventListenerProvider context, the session is managed by Keycloak. \r\nBut outside of this, as you seems to be stateless, you cannot get any information about a current &quot;session&quot;. \r\n\r\nBut, you have different options : \r\n\r\nOption 1 :\r\n----------\r\n\r\nImplement a singleton and store attributes..\r\nMake your own SessionManagement system. Which might work but is not recommended. (Duplication of data, ensure data are up to date etc...)\r\n\r\nOption 2 :\r\n----------\r\n\r\nUse the keycloak API to get needed informations.","title":"KeycloakSession is null for authenticated users","body":"<p>I don't think that KeycloakSession is the object to use in your case.\nIndeed, when using EventListenerProvider context, the session is managed by Keycloak.\nBut outside of this, as you seems to be stateless, you cannot get any information about a current &quot;session&quot;.</p>\n<p>But, you have different options :</p>\n<h2>Option 1 :</h2>\n<p>Implement a singleton and store attributes..\nMake your own SessionManagement system. Which might work but is not recommended. (Duplication of data, ensure data are up to date etc...)</p>\n<h2>Option 2 :</h2>\n<p>Use the keycloak API to get needed informations.</p>\n"}],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695108957,"creation_date":1695057513,"question_id":77129188,"body_markdown":"**I have the below code through which I am trying to get the contents of the KeycloakSession. &quot;KeycloakSession&quot; is null everytime and I am not able to print the contents of it and use some of the attributes \r\n elsewhere.**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Context\r\n    public static KeycloakSession keycloakSession;\r\n\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(userDetails.class);\r\n\r\n    \tpublic static void getSessionAttributes() {\r\n\r\n    \t\ttry {\r\n    \t        if (keycloakSession != null) {\r\n    \t            Map&lt;String, Object&gt; authenticatedUser = keycloakSession.getAttributes();\r\n    \t            for (Map.Entry&lt;String, Object&gt; entry : authenticatedUser.entrySet()) {\r\n    \t                String key = entry.getKey();\r\n    \t                Object value = entry.getValue();\r\n    \t                System.out.println(&quot;Key:&quot; + key);\r\n    \t            }\r\n    \t        \r\n    \t        } else {\r\n    \t            System.out.println(&quot;keycloakSession is null&quot;);\r\n    \t        }\r\n    \t    } catch (Exception e) {\r\n    \t        \r\n    \t        e.printStackTrace();\r\n    \t    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n**However, when I put similar code inside a onEvent method of an event-listener, KeycloakSession is never null and I am able to fetch the session details linked to the currently logged in user, something like this always works :**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public class userDetailsProvider implements EventListenerProvider\r\n    {\r\n    \t\r\n    \t  @Context\r\n        HttpServletRequest request;\r\n\r\n        private final KeycloakSession keycloakSession;\r\n\r\n        public userDetailsProvider(KeycloakSession keycloakSession)\r\n        {\r\n            this.keycloakSession = keycloakSession;\r\n        }\r\n\r\n        @Override\r\n        public void onEvent(Event event)\r\n        {\r\n    \t\t\r\n        \t\r\n        \t\tString username=null;\r\n             \r\n                try {\r\n        \t        if (keycloakSession != null) {\r\n        \t            String authenticatedUser = keycloakSession.getContext().getAuthenticationSession().getAuthenticatedUser().getUsername();\r\n        \t            System.out.println(&quot;authenticatedUser from session:&quot; + authenticatedUser);\r\n        \t        } else if (request.getParameterMap() != null) {\r\n        \t            Map&lt;String, String[]&gt; requestParameters = request.getParameterMap();\r\n        \t            for (Map.Entry&lt;String, String[]&gt; entry : requestParameters.entrySet()) {\r\n        \t                String paramName = entry.getKey();\r\n        \t                String[] paramValues = entry.getValue();\r\n        \t                if (&quot;username&quot;.equals(paramName)) {\r\n        \t                    username = paramValues[0];\r\n        \t                    System.out.println(&quot;Username:&quot; + username);\r\n        \t                }\r\n        \t            }\r\n        \t        } else {\r\n        \t            System.out.println(&quot;Username: Anonymous&quot;);\r\n        \t        }\r\n        \t    } catch (Exception e) {\r\n        \t        \r\n        \t        e.printStackTrace();\r\n        \t    }\r\n                \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**How can I get the &quot;keycloakSession&quot; outside event listener code, so that I may fetch its attributes ? I am using keycloak 21, with application acting as OAuth2 client, in which, keycloak is configured as auth-server. Thanks in advance.** ","title":"KeycloakSession is null for authenticated users","body":"<p><strong>I have the below code through which I am trying to get the contents of the KeycloakSession. &quot;KeycloakSession&quot; is null everytime and I am not able to print the contents of it and use some of the attributes\nelsewhere.</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Context\npublic static KeycloakSession keycloakSession;\n\n    private static final Logger LOG = LoggerFactory.getLogger(userDetails.class);\n\n    public static void getSessionAttributes() {\n\n        try {\n            if (keycloakSession != null) {\n                Map&lt;String, Object&gt; authenticatedUser = keycloakSession.getAttributes();\n                for (Map.Entry&lt;String, Object&gt; entry : authenticatedUser.entrySet()) {\n                    String key = entry.getKey();\n                    Object value = entry.getValue();\n                    System.out.println(\"Key:\" + key);\n                }\n            \n            } else {\n                System.out.println(\"keycloakSession is null\");\n            }\n        } catch (Exception e) {\n            \n            e.printStackTrace();\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>However, when I put similar code inside a onEvent method of an event-listener, KeycloakSession is never null and I am able to fetch the session details linked to the currently logged in user, something like this always works :</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public class userDetailsProvider implements EventListenerProvider\n{\n    \n      @Context\n    HttpServletRequest request;\n\n    private final KeycloakSession keycloakSession;\n\n    public userDetailsProvider(KeycloakSession keycloakSession)\n    {\n        this.keycloakSession = keycloakSession;\n    }\n\n    @Override\n    public void onEvent(Event event)\n    {\n        \n        \n            String username=null;\n         \n            try {\n                if (keycloakSession != null) {\n                    String authenticatedUser = keycloakSession.getContext().getAuthenticationSession().getAuthenticatedUser().getUsername();\n                    System.out.println(\"authenticatedUser from session:\" + authenticatedUser);\n                } else if (request.getParameterMap() != null) {\n                    Map&lt;String, String[]&gt; requestParameters = request.getParameterMap();\n                    for (Map.Entry&lt;String, String[]&gt; entry : requestParameters.entrySet()) {\n                        String paramName = entry.getKey();\n                        String[] paramValues = entry.getValue();\n                        if (\"username\".equals(paramName)) {\n                            username = paramValues[0];\n                            System.out.println(\"Username:\" + username);\n                        }\n                    }\n                } else {\n                    System.out.println(\"Username: Anonymous\");\n                }\n            } catch (Exception e) {\n                \n                e.printStackTrace();\n            }\n            </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>How can I get the &quot;keycloakSession&quot; outside event listener code, so that I may fetch its attributes ? I am using keycloak 21, with application acting as OAuth2 client, in which, keycloak is configured as auth-server. Thanks in advance.</strong></p>\n"},{"tags":["java","spring-boot","jpa","many-to-many"],"comments":[{"owner":{"account_id":24877126,"reputation":441,"user_id":18750808,"display_name":"Sve Kamenska"},"score":0,"creation_date":1695030616,"post_id":77125829,"comment_id":135964826,"body_markdown":"Please, add info how do you define ENTITY_TYPE column: entity class(es) where it is defined and other configurations, f.e. ENTITY_TYPE default value. And also add the code where you insert record into the DB: do you set ENTITY_TYPE to some value before saving?","body":"Please, add info how do you define ENTITY_TYPE column: entity class(es) where it is defined and other configurations, f.e. ENTITY_TYPE default value. And also add the code where you insert record into the DB: do you set ENTITY_TYPE to some value before saving?"},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695032914,"post_id":77125829,"comment_id":135965247,"body_markdown":"Since EntityA and EntityB are independent from each other I would also use independent join tables.","body":"Since EntityA and EntityB are independent from each other I would also use independent join tables."},{"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"score":0,"creation_date":1695033206,"post_id":77125829,"comment_id":135965304,"body_markdown":"In the real project I can&#39;t do that due to client desires. The real project has more than 50 entities referenced not just two of them like in the example.","body":"In the real project I can&#39;t do that due to client desires. The real project has more than 50 entities referenced not just two of them like in the example."},{"owner":{"account_id":29176687,"reputation":332,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1695043099,"post_id":77125829,"comment_id":135967307,"body_markdown":"As understand the JoinTable documentation you simply have to specify an SQL predicate (e.g. clause = &quot;ENTITY_TYPE = 1&quot;) but not a complete query. Did you try this?","body":"As understand the JoinTable documentation you simply have to specify an SQL predicate (e.g. clause = &quot;ENTITY_TYPE = 1&quot;) but not a complete query. Did you try this?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1695044780,"post_id":77125829,"comment_id":135967718,"body_markdown":"The issues isn&#39;t with reads - your @where clause tells Hibernate (this is NOT JPA) which REL_GREAT_ENTITY rows to use in which relationship. But Where is a filter applied to reads, not writes, so you have nothing in there specifying how to write this out. If you want a pure JPA approach, map REL_GREAT_ENTITY as an entity with inheritance, so you can use the ENTITY_TYPE as the inheritance discriminator for A and B subtypes. EntityA would have a OneToMany/ManyToOne with GreaterEntityRelA which has a ManyToOne/OneToMany with GreatEntity.","body":"The issues isn&#39;t with reads - your @where clause tells Hibernate (this is NOT JPA) which REL_GREAT_ENTITY rows to use in which relationship. But Where is a filter applied to reads, not writes, so you have nothing in there specifying how to write this out. If you want a pure JPA approach, map REL_GREAT_ENTITY as an entity with inheritance, so you can use the ENTITY_TYPE as the inheritance discriminator for A and B subtypes. EntityA would have a OneToMany/ManyToOne with GreaterEntityRelA which has a ManyToOne/OneToMany with GreatEntity."},{"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"score":0,"creation_date":1695108371,"post_id":77125829,"comment_id":135976341,"body_markdown":"I see but the issue here is that GREAT_ENTITY is no the parent and should not be the parent of EntityA nor EntityB","body":"I see but the issue here is that GREAT_ENTITY is no the parent and should not be the parent of EntityA nor EntityB"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695231119,"post_id":77132503,"comment_id":135998071,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77132503/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695108775,"creation_date":1695108775,"answer_id":77132503,"question_id":77125829,"body_markdown":"After some study of the situation the better way to solve this was creating in the database one table for each realation as said by [Karsten][1] in the comments.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/22351796/karsten","title":"Multiple relations in a single table using JPA","body":"<p>After some study of the situation the better way to solve this was creating in the database one table for each realation as said by <a href=\"https://stackoverflow.com/users/22351796/karsten\">Karsten</a> in the comments.</p>\n"}],"owner":{"account_id":17579735,"reputation":1,"user_id":12753781,"display_name":"JSStackflowing"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695108775,"creation_date":1695027921,"question_id":77125829,"body_markdown":"Using SpringBoot 2.7.6 I&#39;m trying to do a multiple relationship stored in one table.\r\nI have one entity that is related with many entities in my DB.\r\n\r\n### Great Entity\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;GREAT_ENTITY&quot;)\r\npublic class GreatEntity {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\r\n    private List&lt;EntityA&gt; entitiyAList;\r\n\r\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\r\n    private List&lt;EntityB&gt; entitiyBList;\r\n}\r\n```\r\n\r\n### EntityA\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ENTITY_A&quot;)\r\npublic class EntityA {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n    @Where(clause = &quot;ENTITY_TYPE = 1&quot;)\r\n    private List&lt;GreatEntity&gt; greatEntities;\r\n}\r\n```\r\n\r\n### EntityB\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;ENTITY_B&quot;)\r\npublic class EntityB {\r\n    \r\n    @Id\r\n    @Column(&quot;ID&quot;)\r\n    private Long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n    @Where(clause = &quot;ENTITY_TYPE = 2&quot;)\r\n    private List&lt;GreatEntity&gt; greatEntities;\r\n}    \r\n```\r\n\r\n### REL_GREAT_ENTITY\r\n\r\nThe table used for this relationship looks like this\r\n\r\n```\r\nCREATE TABLE &quot;REL_GREAT_ENTITY&quot; \r\n   (\t\r\n    &quot;GREAT_ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\t&quot;ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\t&quot;ENTITY_TYPE&quot; NUMBER(38,0) NOT NULL ENABLE, \r\n\tCONSTRAINT &quot;GREAT_ENTITY_REL_GREAT_ENTITY_FK&quot; FOREIGN KEY (&quot;GREAT_ENTITY_ID &quot;)\r\n\tREFERENCES &quot;GREAT_ENTITY&quot; (&quot;ID&quot;) ENABLE\r\n   )\r\n```\r\n\r\nThis data was inserted by the previous owner of the DB but can be added by using an INSERT query\r\n```\r\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\r\nVALUES (1,1,1);\r\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\r\nVALUES (1,1,2);\r\n```\r\n```\r\n   GREAT_ENTITY_ID ENTITY_ID ENTITY_TYPE\r\n   --------------- --------- -----------\r\n   1               1         1\r\n   1               1         2\r\n```\r\n\r\nThe ENTITY_TYPE defines witch entity is the GreatEntity associated to. 1 for EntityA and 2 for EntityB as it was defined in the @Where clause in both entities.\r\n\r\nI&#39;ve tried to add the @Where clause like in the example provided but when I retrieve the entities I got the following error:\r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: ORA-00904: &quot;GREATENTITY1_&quot;.&quot;ENTITY_TYPE&quot;: identificador no v&#225;lido\r\n```\r\n\r\nI also tried a workaround in order to fetch the data using:\r\n\r\n```\r\n    @ManyToMany\r\n    @WhereJoinTable(clause = &quot;GREAT_ENTITY_ID in (SELECT rel.GREAT_ENTITY_ID FROM REL_GREAT_ENTITY rel WHERE rel.ENTITY_TYPE=1)&quot;)\r\n    @JoinTable(\r\n        name = &quot;REL_GREAT_ENTITY &quot;,\r\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\r\n    )\r\n```\r\n\r\nIn this case I was able to retrieve the data by fetching the EntityA and then the EntityA.greatEntities belong only to the ENTITY_TYPE = 1\r\n\r\nBut I was not able to insert any record in the DB by persisting EntityA due to the DB didn&#39;t know the ENTITY_TYPE (NOT NULL value)","title":"Multiple relations in a single table using JPA","body":"<p>Using SpringBoot 2.7.6 I'm trying to do a multiple relationship stored in one table.\nI have one entity that is related with many entities in my DB.</p>\n<h3>Great Entity</h3>\n<pre><code>@Entity\n@Table(name = &quot;GREAT_ENTITY&quot;)\npublic class GreatEntity {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\n    private List&lt;EntityA&gt; entitiyAList;\n\n    @ManyToMany(mapperBy = &quot;greatEntities&quot;)\n    private List&lt;EntityB&gt; entitiyBList;\n}\n</code></pre>\n<h3>EntityA</h3>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_A&quot;)\npublic class EntityA {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY&quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n    @Where(clause = &quot;ENTITY_TYPE = 1&quot;)\n    private List&lt;GreatEntity&gt; greatEntities;\n}\n</code></pre>\n<h3>EntityB</h3>\n<pre><code>@Entity\n@Table(name = &quot;ENTITY_B&quot;)\npublic class EntityB {\n    \n    @Id\n    @Column(&quot;ID&quot;)\n    private Long id;\n\n    @ManyToMany\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY&quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n    @Where(clause = &quot;ENTITY_TYPE = 2&quot;)\n    private List&lt;GreatEntity&gt; greatEntities;\n}    \n</code></pre>\n<h3>REL_GREAT_ENTITY</h3>\n<p>The table used for this relationship looks like this</p>\n<pre><code>CREATE TABLE &quot;REL_GREAT_ENTITY&quot; \n   (    \n    &quot;GREAT_ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \n    &quot;ENTITY_ID &quot; NUMBER(38,0) NOT NULL ENABLE, \n    &quot;ENTITY_TYPE&quot; NUMBER(38,0) NOT NULL ENABLE, \n    CONSTRAINT &quot;GREAT_ENTITY_REL_GREAT_ENTITY_FK&quot; FOREIGN KEY (&quot;GREAT_ENTITY_ID &quot;)\n    REFERENCES &quot;GREAT_ENTITY&quot; (&quot;ID&quot;) ENABLE\n   )\n</code></pre>\n<p>This data was inserted by the previous owner of the DB but can be added by using an INSERT query</p>\n<pre><code>INSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\nVALUES (1,1,1);\nINSERT INTO REL_GREAT_ENTITY(GREAT_ENTITY_ID, ENTITY_ID, ENTITY_TYPE)\nVALUES (1,1,2);\n</code></pre>\n<pre><code>   GREAT_ENTITY_ID ENTITY_ID ENTITY_TYPE\n   --------------- --------- -----------\n   1               1         1\n   1               1         2\n</code></pre>\n<p>The ENTITY_TYPE defines witch entity is the GreatEntity associated to. 1 for EntityA and 2 for EntityB as it was defined in the @Where clause in both entities.</p>\n<p>I've tried to add the @Where clause like in the example provided but when I retrieve the entities I got the following error:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: ORA-00904: &quot;GREATENTITY1_&quot;.&quot;ENTITY_TYPE&quot;: identificador no vlido\n</code></pre>\n<p>I also tried a workaround in order to fetch the data using:</p>\n<pre><code>    @ManyToMany\n    @WhereJoinTable(clause = &quot;GREAT_ENTITY_ID in (SELECT rel.GREAT_ENTITY_ID FROM REL_GREAT_ENTITY rel WHERE rel.ENTITY_TYPE=1)&quot;)\n    @JoinTable(\n        name = &quot;REL_GREAT_ENTITY &quot;,\n        joinColumns = @JoinColumn(name = &quot;ID&quot;, referencedColumnName = &quot;ENTITY_ID&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;GREAT_ENTITY_ID&quot;)\n    )\n</code></pre>\n<p>In this case I was able to retrieve the data by fetching the EntityA and then the EntityA.greatEntities belong only to the ENTITY_TYPE = 1</p>\n<p>But I was not able to insert any record in the DB by persisting EntityA due to the DB didn't know the ENTITY_TYPE (NOT NULL value)</p>\n"},{"tags":["java","multithreading","object"],"comments":[{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1695077670,"post_id":77130776,"comment_id":135973392,"body_markdown":"Clone the code and search for it. That&#39;s what everyone else does.","body":"Clone the code and search for it. That&#39;s what everyone else does."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1695077853,"post_id":77130776,"comment_id":135973410,"body_markdown":"That won&#39;t help them find a `native` implementation.","body":"That won&#39;t help them find a <code>native</code> implementation."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1695079710,"post_id":77130776,"comment_id":135973565,"body_markdown":"probably `JVM_MonitorWait` in `jvm.cpp`: https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/prims/jvm.cpp#L631","body":"probably <code>JVM_MonitorWait</code> in <code>jvm.cpp</code>: <a href=\"https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/prims/jvm.cpp#L631\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695109855,"post_id":77130776,"comment_id":135976611,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans It will if you understand JNI and know how it mangles the name.","body":"@Mike&#39;Pomax&#39;Kamermans It will if you understand JNI and know how it mangles the name."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1695135857,"post_id":77130776,"comment_id":135981977,"body_markdown":"Which, of course, they don&#39;t, which is why the question got posted ;) And of course no one needs to clone a repo to see a file, it has its own URL in the same repo as they linked to, just in a different directory.","body":"Which, of course, they don&#39;t, which is why the question got posted ;) And of course no one needs to clone a repo to see a file, it has its own URL in the same repo as they linked to, just in a different directory."}],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695108578,"creation_date":1695081036,"answer_id":77130949,"question_id":77130776,"body_markdown":"### TL;DR: Where is it?\r\n\r\nThe implementation can be found in [`objectMonitor.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440).\r\n\r\n### The path to `wait0`\r\n\r\nWhile the Java sources are stored in a directory called `classes`, native code is stored in the [native](https://github.com/openjdk/jdk/tree/master/src/java.base/share/native) directory. \r\nSpecifically, you want the [native/libjava](https://github.com/openjdk/jdk/tree/master/src/java.base/share/native/libjava) directory containing native code for some core Java classes.\r\n\r\nIn there, you can find a file called [`Object.c`](https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Object.c) containing some native code for the `Object` class. However, that class doesn&#39;t seem to contain much useful stuff except including `jvm.h`.\r\n\r\nThisheader file contains a [`JVM_MonitorWait`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/include/jvm.h#L70) function declaration and its implementation can be [found in `jvm.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/jvm.cpp#L631).\r\n\r\nMost importantly, that function calls `ObjectSynchronizer::wait` which is in turn [declared in a file called `synchronizer.hpp`](https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/runtime/synchronizer.hpp#L116). \r\nIn the same directory, you can find a file called synchronizer.cpp containing [the implementation](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/synchronizer.cpp#L713) which calls `ObjectMonitor::wait`.\r\n\r\nFinally, you can find the code of `ObjectMonitor::wait` [in `objectMonitor.cpp`](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440).\r\n\r\n### How to navigate\r\n#### IDE\r\nThe best way to find what you are looking for in a codebase like this is to clone the project and set it up in an IDE that can search the methods for you. However, setting up a project like the JDK in an IDE and building it can be tedious and might take a while.\r\n#### with a browser\r\nYou can also navigate through the repository in your browser by looking for files with names similar to what you are looking for (e.g. using GitHub&#39;s `Go To File` feature).\r\n\r\nHowever, in some cases, you might want to use some sort of full text search. In cases like that, you could try GitHub Codespaces or the GitHub Code search [as outlined here](https://stackoverflow.com/a/3616259/10871900). For doing this, you navigate to https://github.com/search, enter `repo:` followed by the repository name (including user/org, in this case `repo:openjdk/jdk`) as well as the text you want to search. Then, you can switch to the code search for the given term.","title":"Java wait0() native implementation source","body":"<h3>TL;DR: Where is it?</h3>\n<p>The implementation can be found in <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440\" rel=\"nofollow noreferrer\"><code>objectMonitor.cpp</code></a>.</p>\n<h3>The path to <code>wait0</code></h3>\n<p>While the Java sources are stored in a directory called <code>classes</code>, native code is stored in the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/native\" rel=\"nofollow noreferrer\">native</a> directory.\nSpecifically, you want the <a href=\"https://github.com/openjdk/jdk/tree/master/src/java.base/share/native/libjava\" rel=\"nofollow noreferrer\">native/libjava</a> directory containing native code for some core Java classes.</p>\n<p>In there, you can find a file called <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/native/libjava/Object.c\" rel=\"nofollow noreferrer\"><code>Object.c</code></a> containing some native code for the <code>Object</code> class. However, that class doesn't seem to contain much useful stuff except including <code>jvm.h</code>.</p>\n<p>Thisheader file contains a <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/include/jvm.h#L70\" rel=\"nofollow noreferrer\"><code>JVM_MonitorWait</code></a> function declaration and its implementation can be <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/jvm.cpp#L631\" rel=\"nofollow noreferrer\">found in <code>jvm.cpp</code></a>.</p>\n<p>Most importantly, that function calls <code>ObjectSynchronizer::wait</code> which is in turn <a href=\"https://github.com/openjdk/jdk/blob/24c3d86f32a2e2d9cb24cd8827ef1f20bb53fead/src/hotspot/share/runtime/synchronizer.hpp#L116\" rel=\"nofollow noreferrer\">declared in a file called <code>synchronizer.hpp</code></a>.\nIn the same directory, you can find a file called synchronizer.cpp containing <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/synchronizer.cpp#L713\" rel=\"nofollow noreferrer\">the implementation</a> which calls <code>ObjectMonitor::wait</code>.</p>\n<p>Finally, you can find the code of <code>ObjectMonitor::wait</code> <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/objectMonitor.cpp#L1440\" rel=\"nofollow noreferrer\">in <code>objectMonitor.cpp</code></a>.</p>\n<h3>How to navigate</h3>\n<h4>IDE</h4>\n<p>The best way to find what you are looking for in a codebase like this is to clone the project and set it up in an IDE that can search the methods for you. However, setting up a project like the JDK in an IDE and building it can be tedious and might take a while.</p>\n<h4>with a browser</h4>\n<p>You can also navigate through the repository in your browser by looking for files with names similar to what you are looking for (e.g. using GitHub's <code>Go To File</code> feature).</p>\n<p>However, in some cases, you might want to use some sort of full text search. In cases like that, you could try GitHub Codespaces or the GitHub Code search <a href=\"https://stackoverflow.com/a/3616259/10871900\">as outlined here</a>. For doing this, you navigate to <a href=\"https://github.com/search\" rel=\"nofollow noreferrer\">https://github.com/search</a>, enter <code>repo:</code> followed by the repository name (including user/org, in this case <code>repo:openjdk/jdk</code>) as well as the text you want to search. Then, you can switch to the code search for the given term.</p>\n"}],"owner":{"account_id":1082267,"reputation":327,"user_id":1078923,"display_name":"Siddhant Swami"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695155121,"accepted_answer_id":77130949,"answer_count":1,"score":0,"last_activity_date":1695108578,"creation_date":1695077316,"question_id":77130776,"body_markdown":"I was looking into Object.wait for Java and found out that it internally calls a wait0() method. You can find it&#39;s declaration in [openJdk here][1]:\r\n```java\r\npublic final void wait(long timeoutMillis) throws InterruptedException {\r\n    long comp = Blocker.begin();\r\n    try {\r\n        wait0(timeoutMillis);\r\n    } catch (InterruptedException e) {\r\n        Thread thread = Thread.currentThread();\r\n        if (thread.isVirtual())\r\n            thread.getAndClearInterrupt();\r\n        throw e;\r\n    } finally {\r\n        Blocker.end(comp);\r\n    }\r\n}\r\n\r\n// final modifier so method not in vtable\r\nprivate final native void wait0(long timeoutMillis) throws InterruptedException;\r\n```\r\n\r\n\r\nCan anyone point out to me where is the implementation for this native wait0() method?\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L387","title":"Java wait0() native implementation source","body":"<p>I was looking into Object.wait for Java and found out that it internally calls a wait0() method. You can find it's declaration in <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/Object.java#L387\" rel=\"nofollow noreferrer\">openJdk here</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final void wait(long timeoutMillis) throws InterruptedException {\n    long comp = Blocker.begin();\n    try {\n        wait0(timeoutMillis);\n    } catch (InterruptedException e) {\n        Thread thread = Thread.currentThread();\n        if (thread.isVirtual())\n            thread.getAndClearInterrupt();\n        throw e;\n    } finally {\n        Blocker.end(comp);\n    }\n}\n\n// final modifier so method not in vtable\nprivate final native void wait0(long timeoutMillis) throws InterruptedException;\n</code></pre>\n<p>Can anyone point out to me where is the implementation for this native wait0() method?</p>\n"},{"tags":["java","spring","hibernate","uuidgenerator"],"answers":[{"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1695123441,"post_id":77132434,"comment_id":135979277,"body_markdown":"Thanks. More flexible implies you can adjust more with `@UuidGenerator` then with `@GenericGenerator`. May elaborate on this shortly?","body":"Thanks. More flexible implies you can adjust more with <code>@UuidGenerator</code> then with <code>@GenericGenerator</code>. May elaborate on this shortly?"}],"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695108086,"creation_date":1695108086,"answer_id":77132434,"question_id":77128492,"body_markdown":"I really suggest you to use ` @UuidGenerator` instead of \r\n\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n\r\nSomething like this:\r\n\r\n      @Id\r\n      @UuidGenerator\r\n      private UUID id; // or String\r\n\r\nBecause if you are going to check `java docs` of the annotation you will see that `@UuidGenerator` use \r\n`@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )` that you need. \r\n\r\nAbout the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying `@UuidGenerator`, we can choose the concrete version of UUID to generate.\r\n\r\nAnd also some motivation to use it is described into [8.5. User-defined generators][1] \r\n\r\n&gt; These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.\r\n&gt; \r\n&gt; @UuidGenerator A more flexible generator for [RFC 4122][2] UUIDs\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\r\n  [2]: https://www.ietf.org/rfc/rfc4122.txt","title":"UuidGenerator Bean Type Mismatch?","body":"<p>I really suggest you to use <code> @UuidGenerator</code> instead of</p>\n<pre><code>@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n</code></pre>\n<p>Something like this:</p>\n<pre><code>  @Id\n  @UuidGenerator\n  private UUID id; // or String\n</code></pre>\n<p>Because if you are going to check <code>java docs</code> of the annotation you will see that <code>@UuidGenerator</code> use\n<code>@IdGeneratorType( org.hibernate.id.uuid.UuidGenerator.class )</code> that you need.</p>\n<p>About the problem i really dont know where can be the problem but the solution that i suggest will help you to do this replacement also  when specifying <code>@UuidGenerator</code>, we can choose the concrete version of UUID to generate.</p>\n<p>And also some motivation to use it is described into <a href=\"https://docs.jboss.org/hibernate/orm/6.3/introduction/html_single/Hibernate_Introduction.html\" rel=\"nofollow noreferrer\">8.5. User-defined generators</a></p>\n<blockquote>\n<p>These APIs are new in Hibernate 6, and supersede the classic IdentifierGenerator interface and @GenericGenerator annotation from older versions of Hibernate.</p>\n<p>@UuidGenerator A more flexible generator for <a href=\"https://www.ietf.org/rfc/rfc4122.txt\" rel=\"nofollow noreferrer\">RFC 4122</a> UUIDs</p>\n</blockquote>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77132434,"answer_count":1,"score":2,"last_activity_date":1695108086,"creation_date":1695050916,"question_id":77128492,"body_markdown":"Because [`strategy`][1] and [`UUIDGenerator`][2] is deprecated, this is the new UUID Generator:\r\n\r\n    @GenericGenerator(\r\n                name = &quot;UUID&quot;, \r\n                type = org.hibernate.id.uuid.UuidGenerator.class\r\n        )\r\n\r\nWhen using this, I get the following error:\r\n\r\n&gt; Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\r\n&gt; required a bean of type &#39;org.hibernate.annotations.UuidGenerator&#39; that\r\n&gt; could not be found\r\n\r\nI wasn&#39;t able to find anything corresponding to this in the [documentation][3].\r\n\r\nFor full disclosure, this is the whole annotation block used:\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\r\n    @GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\r\n    @Column(...)\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\r\n  [3]: https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html","title":"UuidGenerator Bean Type Mismatch?","body":"<p>Because <a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/GenericGenerator.html#strategy()\" rel=\"nofollow noreferrer\"><code>strategy</code></a> and <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/UUIDGenerator.html\" rel=\"nofollow noreferrer\"><code>UUIDGenerator</code></a> is deprecated, this is the new UUID Generator:</p>\n<pre><code>@GenericGenerator(\n            name = &quot;UUID&quot;, \n            type = org.hibernate.id.uuid.UuidGenerator.class\n    )\n</code></pre>\n<p>When using this, I get the following error:</p>\n<blockquote>\n<p>Parameter 0 of constructor in org.hibernate.id.uuid.UuidGenerator\nrequired a bean of type 'org.hibernate.annotations.UuidGenerator' that\ncould not be found</p>\n</blockquote>\n<p>I wasn't able to find anything corresponding to this in the <a href=\"https://docs.jboss.org/hibernate/orm/6.0/javadocs/org/hibernate/id/uuid/UuidGenerator.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>For full disclosure, this is the whole annotation block used:</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO, generator = &quot;UUID&quot;)\n@GenericGenerator(name = &quot;UUID&quot;, type = org.hibernate.id.uuid.UuidGenerator.class)\n@Column(...)\n</code></pre>\n"},{"tags":["java","spring","gradle"],"comments":[{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695062398,"post_id":77126736,"comment_id":135971247,"body_markdown":"Can you provide your `build.gradle(.kts)` file?","body":"Can you provide your <code>build.gradle(.kts)</code> file?"},{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1695091731,"post_id":77126736,"comment_id":135974499,"body_markdown":"I have pasted my `build.gradle` file.","body":"I have pasted my <code>build.gradle</code> file."}],"answers":[{"comments":[{"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1695113396,"post_id":77132343,"comment_id":135977349,"body_markdown":"is the spring.io need to password right now? I never typo any password to download spring dependencies for a long time.","body":"is the spring.io need to password right now? I never typo any password to download spring dependencies for a long time."},{"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"score":0,"creation_date":1695125858,"post_id":77132343,"comment_id":135979723,"body_markdown":"Yes, it&#39;s weird, but the error said that... @Dolphin","body":"Yes, it&#39;s weird, but the error said that... @Dolphin"}],"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107245,"creation_date":1695107245,"answer_id":77132343,"question_id":77126736,"body_markdown":"&gt; Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n\r\nI couldn&#39;t find a place in your `build.gradle` where you declare a spring repository to get `spring-native`. But the problem is there.\r\n\r\nAccording to the error message (`401 - unauthorized`), you need to provide credentials for a spring repository just as you did for your company&#39;s repositories.\r\n\r\n```gradle\r\nmaven {\r\n    credentials {\r\n        username &quot;&lt;username&gt;&quot;\r\n        password &quot;&lt;password&gt;&quot;\r\n    }\r\n    url &quot;&lt;spring repository url&gt;&quot;\r\n}\r\n```","title":"spring.io download jar Received status code 401 from server","body":"<blockquote>\n<p>Could not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:</p>\n</blockquote>\n<p>I couldn't find a place in your <code>build.gradle</code> where you declare a spring repository to get <code>spring-native</code>. But the problem is there.</p>\n<p>According to the error message (<code>401 - unauthorized</code>), you need to provide credentials for a spring repository just as you did for your company's repositories.</p>\n<pre><code>maven {\n    credentials {\n        username &quot;&lt;username&gt;&quot;\n        password &quot;&lt;password&gt;&quot;\n    }\n    url &quot;&lt;spring repository url&gt;&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107245,"creation_date":1695035842,"question_id":77126736,"body_markdown":"Today when I refresh the java project which was using gradle as the build tool, shows error:\r\n\r\n\r\n\r\n\r\n    Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\r\n    Could not get resource &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;.\r\n    Could not GET &#39;https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar&#39;. Received status code 401 from server:\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n\r\n\r\nAm I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the `org.springframework.experimental:spring-native:0.10.0` in anywhere of my project. This is the project `build.gradle`:\r\n\r\n\r\n\r\n\r\n    buildscript {\r\n        apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n        repositories {\r\n            maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n        }\r\n        dependencies {\r\n            classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\r\n            classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;idea&#39;\r\n        id &#39;java-library&#39;\r\n        id &#39;application&#39;\r\n        id &#39;maven-publish&#39;\r\n        id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\r\n        id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\r\n        id &#39;com.github.ayltai.spring-graalvm-native-plugin&#39; version &#39;1.4.10&#39;\r\n        id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\r\n    \r\n    }\r\n    \r\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\r\n    \r\n    subprojects {\r\n        apply plugin: &#39;io.freefair.lombok&#39;\r\n        apply plugin: &#39;java&#39;\r\n        apply plugin: &#39;maven-publish&#39;\r\n        apply plugin: &#39;java-library&#39;\r\n        apply plugin: &quot;idea&quot;\r\n        apply plugin: &quot;io.spring.dependency-management&quot;\r\n        apply plugin: &#39;org.springframework.boot&#39;\r\n        apply plugin: &#39;org.springdoc.openapi-gradle-plugin&#39;\r\n    \r\n    \r\n        configurations.all {\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\r\n            // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\r\n            exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\r\n            /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\r\n             * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\r\n             * the spring gateway project needs to using lettuce\r\n             * because the jedis did not support reactive until 2022.08\r\n             * only lettuce support reactive\r\n             * so we should not exclude the lettuce for the whole project\r\n            **/\r\n            // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\r\n            /**\r\n             * why exclude the gson?\r\n             * https://github.com/swagger-api/swagger-core/issues/1826\r\n             */\r\n            // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            // check for updates every build\r\n            resolutionStrategy.cacheChangingModulesFor 0, &#39;seconds&#39;\r\n    \r\n            resolutionStrategy {\r\n                eachDependency { DependencyResolveDetails details -&gt;\r\n                    if (details.requested.group == &#39;com.github.jsqlparser&#39;) {\r\n                        details.useVersion &quot;2.1&quot;\r\n                    }\r\n                    if (details.requested.group == &#39;redis.clients&#39; &amp;&amp; details.requested.name == &#39;jedis&#39; ) {\r\n                        details.useVersion(&quot;3.8.0&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.springframework.data&#39; &amp;&amp; details.requested.name == &#39;spring-data-redis&#39; ) {\r\n                        details.useVersion(&quot;2.7.2&quot;)\r\n                    }\r\n                    //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\r\n                    if (details.requested.group == &#39;org.postgresql&#39; &amp;&amp; details.requested.name == &#39;postgresql&#39; ) {\r\n                        details.useVersion(&quot;42.2.23&quot;)\r\n                    }\r\n                    if (details.requested.group == &#39;org.apache.logging.log4j&#39; &amp;&amp; details.requested.name == &#39;log4j-api&#39; ) {\r\n                        details.useVersion(&quot;2.17.0&quot;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        repositories {\r\n            if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\r\n                mavenCentral()\r\n            } else {\r\n                mavenCentral()\r\n            }\r\n        }\r\n    \r\n        dependencies {\r\n            compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n            api &quot;$rootProject.ext.dependencies.log4j&quot;\r\n            api &quot;$rootProject.ext.dependencies.collections4&quot;\r\n            api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\r\n            implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\r\n            testImplementation group: &#39;org.testng&#39;, name: &#39;testng&#39;, version: &#39;7.4.0&#39;\r\n        }\r\n    \r\n        dependencyManagement {\r\n            imports {\r\n                mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\r\n            }\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        sourceCompatibility = 11\r\n        targetCompatibility = 11\r\n        def defaultEncoding = &#39;UTF-8&#39;\r\n        compileJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        compileTestJava {\r\n            options.encoding = defaultEncoding\r\n        }\r\n        tasks.withType(JavaCompile) {\r\n            options.encoding = &#39;UTF-8&#39;\r\n        }\r\n    \r\n        /**\r\n         * remove aliyun repo config from ~/.gradle/init.gradle into project\r\n         * avoid to force other project in machine use aliyun\r\n         * some international project could not fetch dependencies from aliyun\r\n         */\r\n        repositories {\r\n            def PROXY_REPOSITORY_URL = &#39;https://maven.aliyun.com/nexus/content/groups/public&#39;\r\n            all { ArtifactRepository repo -&gt;\r\n                if(repo instanceof MavenArtifactRepository){\r\n                    def url = repo.url.toString()\r\n                    if (url.startsWith(&#39;https://repo1.maven.org/maven2&#39;)) {\r\n                        project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\r\n                        remove repo\r\n                    }\r\n                }\r\n            }\r\n            maven {\r\n                url PROXY_REPOSITORY_URL\r\n            }\r\n            /****** Release Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/&#39;\r\n            }\r\n            /****** Snapshot Repo ********/\r\n            maven {\r\n                credentials {\r\n                    username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\r\n                    password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\r\n                }\r\n                url &#39;https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"spring.io download jar Received status code 401 from server","body":"<p>Today when I refresh the java project which was using gradle as the build tool, shows error:</p>\n<pre><code>Could not download spring-native-0.10.0.jar (org.springframework.experimental:spring-native:0.10.0)\nCould not get resource 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'.\nCould not GET 'https://repo.spring.io/release/org/springframework/experimental/spring-native/0.10.0/spring-native-0.10.0.jar'. Received status code 401 from server:\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p>Am I missing something? what should I do to avoid this issue? It seems to need login to download the jar. BTW, I did not import the <code>org.springframework.experimental:spring-native:0.10.0</code> in anywhere of my project. This is the project <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    apply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\n    repositories {\n        maven { url 'https://maven.aliyun.com/repository/public' }\n    }\n    dependencies {\n        classpath &quot;io.spring.gradle:dependency-management-plugin:1.0.11.RELEASE&quot;\n        classpath &quot;gradle.plugin.com.arenagod.gradle:mybatis-generator-plugin:1.4&quot;\n    }\n}\n\nplugins {\n    id 'java'\n    id 'idea'\n    id 'java-library'\n    id 'application'\n    id 'maven-publish'\n    id &quot;org.springframework.boot&quot; version &quot;2.6.7&quot;\n    id &quot;io.freefair.lombok&quot; version &quot;6.4.3&quot;\n    id 'com.github.ayltai.spring-graalvm-native-plugin' version '1.4.10'\n    id &quot;org.springdoc.openapi-gradle-plugin&quot; version &quot;1.3.4&quot;\n\n}\n\napply from: &quot;${rootProject.projectDir}/common.gradle&quot;\n\nsubprojects {\n    apply plugin: 'io.freefair.lombok'\n    apply plugin: 'java'\n    apply plugin: 'maven-publish'\n    apply plugin: 'java-library'\n    apply plugin: &quot;idea&quot;\n    apply plugin: &quot;io.spring.dependency-management&quot;\n    apply plugin: 'org.springframework.boot'\n    apply plugin: 'org.springdoc.openapi-gradle-plugin'\n\n\n    configurations.all {\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-classic&quot;\n        // exclude group: &quot;ch.qos.logback&quot;, module: &quot;logback-core&quot;\n        exclude group: &quot;org.slf4j&quot;, module: &quot;slf4j-simple&quot;\n        /** https://stackoverflow.com/questions/67484542/redis-command-timed-out-nested-exception-is-io-lettuce-core-rediscommandtimeout\n         * https://stackoverflow.com/questions/73244405/java-lang-illegalargumentexception-unable-to-find-gatewayfilterfactory-with-nam\n         * the spring gateway project needs to using lettuce\n         * because the jedis did not support reactive until 2022.08\n         * only lettuce support reactive\n         * so we should not exclude the lettuce for the whole project\n        **/\n        // exclude group: &quot;io.lettuce&quot;, module: &quot;lettuce-core&quot;\n        /**\n         * why exclude the gson?\n         * https://github.com/swagger-api/swagger-core/issues/1826\n         */\n        // exclude group: &quot;com.google.code.gson&quot;, module: &quot;gson&quot;\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        // check for updates every build\n        resolutionStrategy.cacheChangingModulesFor 0, 'seconds'\n\n        resolutionStrategy {\n            eachDependency { DependencyResolveDetails details -&gt;\n                if (details.requested.group == 'com.github.jsqlparser') {\n                    details.useVersion &quot;2.1&quot;\n                }\n                if (details.requested.group == 'redis.clients' &amp;&amp; details.requested.name == 'jedis' ) {\n                    details.useVersion(&quot;3.8.0&quot;)\n                }\n                if (details.requested.group == 'org.springframework.data' &amp;&amp; details.requested.name == 'spring-data-redis' ) {\n                    details.useVersion(&quot;2.7.2&quot;)\n                }\n                //exclude group: &quot;org.springframework.data&quot;, module: &quot;spring-data-redis&quot;\n                if (details.requested.group == 'org.postgresql' &amp;&amp; details.requested.name == 'postgresql' ) {\n                    details.useVersion(&quot;42.2.23&quot;)\n                }\n                if (details.requested.group == 'org.apache.logging.log4j' &amp;&amp; details.requested.name == 'log4j-api' ) {\n                    details.useVersion(&quot;2.17.0&quot;)\n                }\n            }\n        }\n    }\n\n    repositories {\n        if (project.hasProperty(&quot;buildEnv&quot;) &amp;&amp; project.getProperties().get(&quot;buildEnv&quot;) == &quot;github&quot;) {\n            mavenCentral()\n        } else {\n            mavenCentral()\n        }\n    }\n\n    dependencies {\n        compileOnly &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        annotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testAnnotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        testImplementation &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n        api &quot;$rootProject.ext.dependencies.log4j&quot;\n        api &quot;$rootProject.ext.dependencies.collections4&quot;\n        api &quot;org.apache.commons:commons-lang3:${commonColleciton3Version}&quot;\n        implementation &quot;$rootProject.ext.dependencies.mybatisGeneratorCore&quot;\n        implementation &quot;$rootProject.ext.dependencies.itfswMybatisGeneratorPlugin&quot;\n        testImplementation group: 'org.testng', name: 'testng', version: '7.4.0'\n    }\n\n    dependencyManagement {\n        imports {\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:$rootProject.ext.version.springCloudVersion&quot;\n        }\n    }\n}\n\nallprojects {\n    sourceCompatibility = 11\n    targetCompatibility = 11\n    def defaultEncoding = 'UTF-8'\n    compileJava {\n        options.encoding = defaultEncoding\n    }\n    compileTestJava {\n        options.encoding = defaultEncoding\n    }\n    tasks.withType(JavaCompile) {\n        options.encoding = 'UTF-8'\n    }\n\n    /**\n     * remove aliyun repo config from ~/.gradle/init.gradle into project\n     * avoid to force other project in machine use aliyun\n     * some international project could not fetch dependencies from aliyun\n     */\n    repositories {\n        def PROXY_REPOSITORY_URL = 'https://maven.aliyun.com/nexus/content/groups/public'\n        all { ArtifactRepository repo -&gt;\n            if(repo instanceof MavenArtifactRepository){\n                def url = repo.url.toString()\n                if (url.startsWith('https://repo1.maven.org/maven2')) {\n                    project.logger.lifecycle &quot;Repository ${repo.url} replaced by $PROXY_REPOSITORY_URL.&quot;\n                    remove repo\n                }\n            }\n        }\n        maven {\n            url PROXY_REPOSITORY_URL\n        }\n        /****** Release Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_REPO_USERNAME&quot;)\n                password System.getenv(&quot;ALIYUN_REPO_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-release-REsSq7/'\n        }\n        /****** Snapshot Repo ********/\n        maven {\n            credentials {\n                username System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_NAME&quot;)\n                password System.getenv(&quot;ALIYUN_DOCKER_REPO_USER_PASSWORD&quot;)\n            }\n            url 'https://packages.aliyun.com/maven/repository/2236707-snapshot-lUlWG7/'\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1623426851,"post_id":67939740,"comment_id":120084778,"body_markdown":"How does OptionTypeIdResolver looks like?","body":"How does OptionTypeIdResolver looks like?"},{"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"score":0,"creation_date":1623428750,"post_id":67939740,"comment_id":120085518,"body_markdown":"@notescrew - added the definition","body":"@notescrew - added the definition"}],"answers":[{"comments":[{"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"score":0,"creation_date":1623584812,"post_id":67940539,"comment_id":120115651,"body_markdown":"Thanks for responding. Issue actually was with the extra field &#39;titleName&#39; I was sending in my POST. It was mistake on my part and actually the error message did say that too, however I kept thinking that it had something to do with Option.","body":"Thanks for responding. Issue actually was with the extra field &#39;titleName&#39; I was sending in my POST. It was mistake on my part and actually the error message did say that too, however I kept thinking that it had something to do with Option."},{"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"score":0,"creation_date":1623584932,"post_id":67940539,"comment_id":120115681,"body_markdown":"For reference only, I added below code to my service layer to get a json view of the post object and that helped with the troubleshooting:\n`import com.fasterxml.jackson.databind.ObjectMapper;`\n`ObjectMapper mapper = new ObjectMapper();`\n`String projectString = mapper.writeValueAsString(project);`\n`log.info(projectString);`","body":"For reference only, I added below code to my service layer to get a json view of the post object and that helped with the troubleshooting: <code>import com.fasterxml.jackson.databind.ObjectMapper;</code> <code>ObjectMapper mapper = new ObjectMapper();</code> <code>String projectString = mapper.writeValueAsString(project);</code> <code>log.info(projectString);</code>"}],"tags":[],"owner":{"account_id":21602575,"reputation":81,"user_id":15930440,"display_name":"RoundedHouse"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623429082,"creation_date":1623429082,"answer_id":67940539,"question_id":67939740,"body_markdown":"Map&lt;String,Option&gt;\r\n\r\n    String = key\r\n    Option = Object\r\n    would be in this json format\r\n    {\r\n      &quot;String&quot;:{\r\n           //option object definition here\r\n      }\r\n    }\r\n\r\nYour **&quot;options&quot;** field in this case is  taking a **List&lt;Map&lt;String,Option&gt;&gt;**  but not **Map&lt;String,Option&gt;** which is defined in your **[Project entity table]**\r\n","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>Map&lt;String,Option&gt;</p>\n<pre><code>String = key\nOption = Object\nwould be in this json format\n{\n  &quot;String&quot;:{\n       //option object definition here\n  }\n}\n</code></pre>\n<p>Your <strong>&quot;options&quot;</strong> field in this case is  taking a <strong>List&lt;Map&lt;String,Option&gt;&gt;</strong>  but not <strong>Map&lt;String,Option&gt;</strong> which is defined in your <strong>[Project entity table]</strong></p>\n"}],"owner":{"account_id":472636,"reputation":15,"user_id":881217,"display_name":"vinnar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695107127,"creation_date":1623425482,"question_id":67939740,"body_markdown":"I have been provided an API endpoint and I am trying to test it out using Postman. \r\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.\r\n\r\nHere is the Entity:\r\n```\r\nimport java.util.Map;\r\nimport com.abcd.xyz.option.Option;\r\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\r\n\r\nimport lombok.Getter;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter @Setter @NoArgsConstructor @ToString\r\npublic class Project {\r\n\r\n    private String name;\r\n    private String shortName;\r\n    private String idName;\r\n\r\n    private String language;\r\n    private String buildTool;\r\n    private String k8sid;\r\n    private String dnsId;\r\n    private String jenkinsUrl;\r\n\r\n    private Map&lt;String, Option&gt; options;\r\n\r\n}\r\n```\r\n..............\r\n\r\nOption definition:\r\n\r\n```\r\nimport java.util.List;\r\n\r\nimport com.abcd.xyz.bundling.ResourceFile;\r\nimport com.abcd.xyz.project.Project;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\r\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\r\n\r\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\r\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\r\npublic interface Option {\r\n    @JsonIgnore\r\n    public List&lt;ResourceFile&gt; getFiles(Project project);\r\n}\r\n```\r\n......................\r\n\r\nOptionTypeIdResolver:\r\n\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\r\nimport com.fasterxml.jackson.databind.DatabindContext;\r\nimport com.fasterxml.jackson.databind.JavaType;\r\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\r\nimport com.fasterxml.jackson.databind.type.TypeFactory;\r\n\r\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\r\n// JSON into the correct Option type.\r\npublic class OptionTypeIdResolver implements TypeIdResolver {\r\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\r\n    private JavaType baseType;\r\n\r\n    @Override\r\n    public void init(JavaType baseType) {\r\n        this.baseType = baseType;\r\n    }\r\n\r\n    @Override\r\n    public Id getMechanism() {\r\n        return Id.CUSTOM;\r\n    }\r\n\r\n    @Override\r\n    public String idFromValue(Object obj) {\r\n        return idFromValueAndType(obj, obj.getClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromBaseType() {\r\n        return idFromValueAndType(null, baseType.getRawClass());\r\n    }\r\n\r\n    @Override\r\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\r\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\r\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\r\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\r\n            return simpleName;\r\n        }\r\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\r\n    }\r\n\r\n    @Override\r\n    public JavaType typeFromId(DatabindContext context, String type) {\r\n        Class&lt;?&gt; clazz;\r\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\r\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\r\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\r\n        try {\r\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new IllegalStateException(&quot;cannot find class &#39;&quot; + clazzName + &quot;&#39;&quot;);\r\n        }\r\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\r\n    }\r\n\r\n    @Override\r\n    public String getDescForKnownTypeIds() {\r\n        return &quot;&quot;;\r\n    }\r\n}\r\n```\r\n.................\r\n\r\nHere is the POST body I am using:\r\n```\r\n{\r\n  &quot;buildTool&quot;: &quot;gradle&quot;,\r\n  &quot;dnsId&quot;: &quot;demo005&quot;,\r\n  &quot;idName&quot;: &quot;demo005&quot;,\r\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\r\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\r\n  &quot;language&quot;: &quot;java&quot;,\r\n  &quot;name&quot;: &quot;demo005&quot;,\r\n  &quot;shortName&quot;: &quot;f&quot;,\r\n  &quot;titleName&quot;: &quot;demo004&quot;,\r\n  &quot;options&quot;: [\r\n      {&quot;java&quot;: {\r\n          &quot;JavaOption&quot;: {\r\n              &quot;group&quot;: &quot;com.example&quot;,\r\n              &quot;name&quot;: &quot;f&quot;\r\n          }\r\n        }\r\n      }\r\n  ]\r\n}\r\n```\r\n\r\n..................\r\n\r\n\r\nError I get is :\r\n\r\n```\r\no.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property &#39;option&#39;\r\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\r\n```\r\n\r\nWhat am I getting wrong in the formatting..?","title":"JSON representation of Map&lt;String, Object&gt;","body":"<p>I have been provided an API endpoint and I am trying to test it out using Postman.\nAPI has a Map&lt;String,Object&gt; which I am not sure how to represent in JSON format for Postman to be able to use.</p>\n<p>Here is the Entity:</p>\n<pre><code>import java.util.Map;\nimport com.abcd.xyz.option.Option;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter @Setter @NoArgsConstructor @ToString\npublic class Project {\n\n    private String name;\n    private String shortName;\n    private String idName;\n\n    private String language;\n    private String buildTool;\n    private String k8sid;\n    private String dnsId;\n    private String jenkinsUrl;\n\n    private Map&lt;String, Option&gt; options;\n\n}\n</code></pre>\n<p>..............</p>\n<p>Option definition:</p>\n<pre><code>import java.util.List;\n\nimport com.abcd.xyz.bundling.ResourceFile;\nimport com.abcd.xyz.project.Project;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonTypeInfo;\nimport com.fasterxml.jackson.databind.annotation.JsonTypeIdResolver;\n\n@JsonTypeInfo(use=JsonTypeInfo.Id.CUSTOM, include=JsonTypeInfo.As.PROPERTY, property=&quot;option&quot;)\n@JsonTypeIdResolver(OptionTypeIdResolver.class)\npublic interface Option {\n    @JsonIgnore\n    public List&lt;ResourceFile&gt; getFiles(Project project);\n}\n</code></pre>\n<p>......................</p>\n<p>OptionTypeIdResolver:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonTypeInfo.Id;\nimport com.fasterxml.jackson.databind.DatabindContext;\nimport com.fasterxml.jackson.databind.JavaType;\nimport com.fasterxml.jackson.databind.jsontype.TypeIdResolver;\nimport com.fasterxml.jackson.databind.type.TypeFactory;\n\n// Handles the conversion of the &quot;option&quot; property of an Option class into JSON, or from\n// JSON into the correct Option type.\npublic class OptionTypeIdResolver implements TypeIdResolver {\n    private static final String OPTION_PACKAGE = Option.class.getPackage().getName();\n    private JavaType baseType;\n\n    @Override\n    public void init(JavaType baseType) {\n        this.baseType = baseType;\n    }\n\n    @Override\n    public Id getMechanism() {\n        return Id.CUSTOM;\n    }\n\n    @Override\n    public String idFromValue(Object obj) {\n        return idFromValueAndType(obj, obj.getClass());\n    }\n\n    @Override\n    public String idFromBaseType() {\n        return idFromValueAndType(null, baseType.getRawClass());\n    }\n\n    @Override\n    public String idFromValueAndType(Object obj, Class&lt;?&gt; clazz) {\n        // Convert java class name to simple name, ie package.GradleOption -&gt; gradle\n        String simpleName = clazz.getSimpleName().substring(0, 1).toLowerCase() + clazz.getSimpleName().substring(1).replaceAll(&quot;Option$&quot;,&quot;&quot;);\n        if ( clazz.getName().startsWith(OPTION_PACKAGE) ) {\n            return simpleName;\n        }\n        throw new IllegalStateException(&quot;class &quot; + clazz + &quot; is not in the package &quot; + OPTION_PACKAGE);\n    }\n\n    @Override\n    public JavaType typeFromId(DatabindContext context, String type) {\n        Class&lt;?&gt; clazz;\n        // Convert simple name to java class name, ie gradle -&gt; package.GradleOption\n        String javaType = type.substring(0, 1).toUpperCase() + type.substring(1) + &quot;Option&quot;;\n        String clazzName = OPTION_PACKAGE + &quot;.&quot; + javaType;\n        try {\n            clazz = TypeFactory.defaultInstance().findClass(clazzName);\n        } catch (ClassNotFoundException e) {\n            throw new IllegalStateException(&quot;cannot find class '&quot; + clazzName + &quot;'&quot;);\n        }\n        return TypeFactory.defaultInstance().constructSpecializedType(baseType, clazz);\n    }\n\n    @Override\n    public String getDescForKnownTypeIds() {\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>.................</p>\n<p>Here is the POST body I am using:</p>\n<pre><code>{\n  &quot;buildTool&quot;: &quot;gradle&quot;,\n  &quot;dnsId&quot;: &quot;demo005&quot;,\n  &quot;idName&quot;: &quot;demo005&quot;,\n  &quot;jenkinsUrl&quot;: &quot;&quot;,\n  &quot;k8sid&quot;: &quot;er5t-eks-oGWFNxUs&quot;,\n  &quot;language&quot;: &quot;java&quot;,\n  &quot;name&quot;: &quot;demo005&quot;,\n  &quot;shortName&quot;: &quot;f&quot;,\n  &quot;titleName&quot;: &quot;demo004&quot;,\n  &quot;options&quot;: [\n      {&quot;java&quot;: {\n          &quot;JavaOption&quot;: {\n              &quot;group&quot;: &quot;com.example&quot;,\n              &quot;name&quot;: &quot;f&quot;\n          }\n        }\n      }\n  ]\n}\n</code></pre>\n<p>..................</p>\n<p>Error I get is :</p>\n<pre><code>o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'; nested exception is com.fasterxml.jackson.databind.exc.InvalidTypeIdException: Missing type id when trying to resolve subtype of [simple type, class com.abcd.xyz.option.Option]: missing type id property 'option'\n at [Source: (PushbackInputStream); line: 10, column: 16] (through reference chain: com.abcd.xyz.project.Project[&quot;titleName&quot;])]\n</code></pre>\n<p>What am I getting wrong in the formatting..?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":26840344,"reputation":134,"user_id":20426969,"display_name":"Sarmad Ali"},"score":0,"creation_date":1695105962,"post_id":77131984,"comment_id":135975868,"body_markdown":"post your code here","body":"post your code here"}],"owner":{"account_id":29479100,"reputation":1,"user_id":22590221,"display_name":"Cl3ine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695107080,"creation_date":1695102702,"question_id":77131984,"body_markdown":"FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.steelzest, PID: 4271\r\n                                                                                                    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.steelzest/com.example.steelzest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n                                                                                                    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)&#39; on a null object reference\r\n                                                                                                    \tat com.example.steelzest.MainActivity.onCreate(MainActivity.java:26)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8595)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8573)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)&#160;\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)&#160;\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)&#160;\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)&#160;\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:205)&#160;\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:294)&#160;\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:8176)&#160;\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)&#160;\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)&#160;\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)&#160;\r\n---------------------------- PROCESS ENDED (4271) for package com.example.steelzest ----------------------------\r\n\r\n\r\nI rechecked each and every component\r\nIt was originally supposed to be imagebutton but the error kept occurring so i changed it to buttons\r\nThe XML code had to be modified multiple times \r\nthe java main class code was also modified multiple times but still it displayed\r\n&quot;NULL POINTER EXCEPTION&quot; for every button that tried to display either:\r\nMAPS\r\nCONTACT NUMBER\r\nSOCIAL MEDIA LINKS","title":"I have been trying to add a button click listener for a button that takes you to the contacts page. when i run the code it throws null pointer exceptn","body":"<p>FATAL EXCEPTION: main\nProcess: com.example.steelzest, PID: 4271\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.steelzest/com.example.steelzest.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3782)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.app.ActivityThread.main(ActivityThread.java:8176)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.Button.setOnClickListener(android.view.View$OnClickListener)' on a null object reference\nat com.example.steelzest.MainActivity.onCreate(MainActivity.java:26)\nat android.app.Activity.performCreate(Activity.java:8595)\nat android.app.Activity.performCreate(Activity.java:8573)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1456)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3764)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3922)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:103)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:139)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2443)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:205)\nat android.os.Looper.loop(Looper.java:294)\nat android.app.ActivityThread.main(ActivityThread.java:8176)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n---------------------------- PROCESS ENDED (4271) for package com.example.steelzest ----------------------------</p>\n<p>I rechecked each and every component\nIt was originally supposed to be imagebutton but the error kept occurring so i changed it to buttons\nThe XML code had to be modified multiple times\nthe java main class code was also modified multiple times but still it displayed\n&quot;NULL POINTER EXCEPTION&quot; for every button that tried to display either:\nMAPS\nCONTACT NUMBER\nSOCIAL MEDIA LINKS</p>\n"},{"tags":["java","gradle","intellij-idea","java-17"],"answers":[{"comments":[{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1635078237,"post_id":69696435,"comment_id":123193757,"body_markdown":"I&#39;ve set the Java home to the openjdk installed by IntelliJ. `echo %JAVA_HOME%`\n`C:\\Users\\Michael\\.jdks\\openjdk-17.0.1`. I&#39;ve then restarted IntelliJ, Added the targetCompatibility as `17` and rerun gradle. When executing my app I still get the error.","body":"I&#39;ve set the Java home to the openjdk installed by IntelliJ. <code>echo %JAVA_HOME%</code> <code>C:\\Users\\Michael\\.jdks\\openjdk-17.0.1</code>. I&#39;ve then restarted IntelliJ, Added the targetCompatibility as <code>17</code> and rerun gradle. When executing my app I still get the error."},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1635079148,"post_id":69696435,"comment_id":123193942,"body_markdown":"As another thing to note. If I set it to use Java 11 and leave my `JAVA_HOME` pointing at 17, it works fine. There seems to be something different that it&#39;s not liking.","body":"As another thing to note. If I set it to use Java 11 and leave my <code>JAVA_HOME</code> pointing at 17, it works fine. There seems to be something different that it&#39;s not liking."},{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1635083203,"post_id":69696435,"comment_id":123194948,"body_markdown":"How are you launching the application? Did you run the `echo %JAVA_HOME%` command from within the *IntelliJ IDEA* inclosed terminal or a separate terminal application (cmd / powershell...)?","body":"How are you launching the application? Did you run the <code>echo %JAVA_HOME%</code> command from within the <i>IntelliJ IDEA</i> inclosed terminal or a separate terminal application (cmd / powershell...)?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1635084830,"post_id":69696435,"comment_id":123195393,"body_markdown":"I&#39;m running a main method from within IntelliJ. If I run `echo %JAVA_HOME%` it outputs `%JAVA_HOME%` in the IntelliJ terminal. \nIn cmd it outputs the correct Java 17 directory.\nIf I set the source compatability to 11 and use the Java 17 JDK it works correctly so it is finding the JDK fine.","body":"I&#39;m running a main method from within IntelliJ. If I run <code>echo %JAVA_HOME%</code> it outputs <code>%JAVA_HOME%</code> in the IntelliJ terminal.  In cmd it outputs the correct Java 17 directory. If I set the source compatability to 11 and use the Java 17 JDK it works correctly so it is finding the JDK fine."},{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":2,"creation_date":1635085490,"post_id":69696435,"comment_id":123195583,"body_markdown":"You may need to add the `toolchain` configuration to avoid having Gradle using its default one (this may be why it succeeds when setting the sourceCompatibility to 11)","body":"You may need to add the <code>toolchain</code> configuration to avoid having Gradle using its default one (this may be why it succeeds when setting the sourceCompatibility to 11)"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1635085734,"post_id":69696435,"comment_id":123195660,"body_markdown":"That is exactly it. Thank you!","body":"That is exactly it. Thank you!"},{"owner":{"account_id":3103707,"reputation":401,"user_id":2627126,"display_name":"Jay Lim"},"score":0,"creation_date":1659247768,"post_id":69696435,"comment_id":129246209,"body_markdown":"You save my 2 hours. I&#39;m using windows and the command `set JAVA_HOME=~` not working for me. So I changed system variable directly using windows control panel and everything works perfect.","body":"You save my 2 hours. I&#39;m using windows and the command <code>set JAVA_HOME=~</code> not working for me. So I changed system variable directly using windows control panel and everything works perfect."},{"owner":{"account_id":5789444,"reputation":373,"user_id":4567511,"accept_rate":67,"display_name":"dnl.re"},"score":2,"creation_date":1660809760,"post_id":69696435,"comment_id":129621833,"body_markdown":"For IntelliJ Users: Go to Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and set the Gradle JVM to your desired java version.","body":"For IntelliJ Users: Go to Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and set the Gradle JVM to your desired java version."},{"owner":{"account_id":2471685,"reputation":521,"user_id":2153380,"accept_rate":67,"display_name":"CZ"},"score":0,"creation_date":1660811926,"post_id":69696435,"comment_id":129622587,"body_markdown":"Thanks for adding `toolchain` to the answer as I had no control on Gradle&#39;s JVM in the Jenkins build pipeline.","body":"Thanks for adding <code>toolchain</code> to the answer as I had no control on Gradle&#39;s JVM in the Jenkins build pipeline."}],"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"comment_count":9,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1635085429,"creation_date":1635076053,"answer_id":69696435,"question_id":69696321,"body_markdown":"The message typically entails that your *JAVA_HOME* environment variable points to a different *Java* version.\r\n\r\nHere are the steps to follow:\r\n\r\n * Close *IntelliJ IDEA*\r\n * Open a terminal window and check your *JAVA_HOME* variable value:\r\n   * *nix system: `echo $JAVA_HOME`\r\n   * Windows system: `echo %JAVA_HOME%`\r\n * The *JAVA_HOME* path should be pointing to a different path, then set it to the *openjdk-17* path:\r\n   * *nix system: `export JAVA_HOME=/path/to/openjdk-17`\r\n   * Windows system: `set JAVA_HOME=path\\to\\openjdk-17`\r\n * Open your project again in *IntelliJ IDEA*\r\n * Make sure to set both *source* and *target* compatibility versions (not only the `sourceCompatibility`)\r\n\r\nYou should be able to build your project.\r\n\r\nEDIT: Gradle Toolchain\r\n-\r\n \r\nYou may need also to instruct *Gradle* to use a different *JVM* than the one it uses itself by setting the *Java* plugin toolchain to your target version:\r\n\r\n    // build.gradle\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(17)\r\n        }\r\n    }\r\n\r\n ","title":"IntelliJ - Invalid source release: 17","body":"<p>The message typically entails that your <em>JAVA_HOME</em> environment variable points to a different <em>Java</em> version.</p>\n<p>Here are the steps to follow:</p>\n<ul>\n<li>Close <em>IntelliJ IDEA</em></li>\n<li>Open a terminal window and check your <em>JAVA_HOME</em> variable value:\n<ul>\n<li>*nix system: <code>echo $JAVA_HOME</code></li>\n<li>Windows system: <code>echo %JAVA_HOME%</code></li>\n</ul>\n</li>\n<li>The <em>JAVA_HOME</em> path should be pointing to a different path, then set it to the <em>openjdk-17</em> path:\n<ul>\n<li>*nix system: <code>export JAVA_HOME=/path/to/openjdk-17</code></li>\n<li>Windows system: <code>set JAVA_HOME=path\\to\\openjdk-17</code></li>\n</ul>\n</li>\n<li>Open your project again in <em>IntelliJ IDEA</em></li>\n<li>Make sure to set both <em>source</em> and <em>target</em> compatibility versions (not only the <code>sourceCompatibility</code>)</li>\n</ul>\n<p>You should be able to build your project.</p>\n<h2>EDIT: Gradle Toolchain</h2>\n<p>You may need also to instruct <em>Gradle</em> to use a different <em>JVM</em> than the one it uses itself by setting the <em>Java</em> plugin toolchain to your target version:</p>\n<pre><code>// build.gradle\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1635078396,"post_id":69696521,"comment_id":123193790,"body_markdown":"I&#39;ve done this and restarted IntelliJ. I still get the same error. \nIf I echo the `JAVA_HOME` it looks correct. `echo %JAVA_HOME% C:\\Users\\Michael\\.jdks\\openjdk-17.0.1`","body":"I&#39;ve done this and restarted IntelliJ. I still get the same error.  If I echo the <code>JAVA_HOME</code> it looks correct. <code>echo %JAVA_HOME% C:\\Users\\Michael\\.jdks\\openjdk-17.0.1</code>"},{"owner":{"account_id":23128242,"reputation":21,"user_id":17233734,"display_name":"Virbhadra Kaulwar"},"score":0,"creation_date":1635188367,"post_id":69696521,"comment_id":123224518,"body_markdown":"https://docs.gradle.org/current/userguide/compatibility.html see this compatibility matrix make sure that you are using this . Try running it once on jdk 16 .","body":"<a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/compatibility.html</a> see this compatibility matrix make sure that you are using this . Try running it once on jdk 16 ."},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":0,"creation_date":1669761029,"post_id":69696521,"comment_id":131715499,"body_markdown":"For MacOS, an example you could stick in your `~/.profile` file: `export JAVA_HOME=$(/usr/libexec/java_home)`","body":"For MacOS, an example you could stick in your <code>~&#47;.profile</code> file: <code>export JAVA_HOME=$(&#47;usr&#47;libexec&#47;java_home)</code>"}],"tags":[],"owner":{"account_id":23128242,"reputation":21,"user_id":17233734,"display_name":"Virbhadra Kaulwar"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635076715,"creation_date":1635076715,"answer_id":69696521,"question_id":69696321,"body_markdown":"Set JAVA_ HOME TO JDK 17  and check this by Opening cmd -&gt; javac. This should return the current version of java set in your machine ","title":"IntelliJ - Invalid source release: 17","body":"<p>Set JAVA_ HOME TO JDK 17  and check this by Opening cmd -&gt; javac. This should return the current version of java set in your machine</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635151640,"creation_date":1635151640,"answer_id":69705111,"question_id":69696321,"body_markdown":"If you start your project from a main method directly invoked from Intelij then the missing dialog execution configurations may be the cause of the  error.\r\n\r\nAlways check the execution configurations to make sure the correct JRE folder is plugged in. In latest versions of jdk there is not a specific jre folder but the complete jdk package, so make sure it points at this folder.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D4Qcy.png\r\n  [2]: https://i.stack.imgur.com/oKiVJ.png","title":"IntelliJ - Invalid source release: 17","body":"<p>If you start your project from a main method directly invoked from Intelij then the missing dialog execution configurations may be the cause of the  error.</p>\n<p>Always check the execution configurations to make sure the correct JRE folder is plugged in. In latest versions of jdk there is not a specific jre folder but the complete jdk package, so make sure it points at this folder.</p>\n<p><a href=\"https://i.stack.imgur.com/D4Qcy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D4Qcy.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/oKiVJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oKiVJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":410321,"reputation":7300,"user_id":782096,"accept_rate":90,"display_name":"leojh"},"score":20,"creation_date":1642639481,"post_id":70215091,"comment_id":125127720,"body_markdown":"Menu &quot;IntelliJ Idea -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot; in macOS","body":"Menu &quot;IntelliJ Idea -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot; in macOS"},{"owner":{"account_id":3103707,"reputation":401,"user_id":2627126,"display_name":"Jay Lim"},"score":3,"creation_date":1643271074,"post_id":70215091,"comment_id":125296328,"body_markdown":"There is the menu, but no selectable field for project and Gradle JVM in the menu :(\n(Windows10 x64, Intellij 2021.3.1 Ultimate)","body":"There is the menu, but no selectable field for project and Gradle JVM in the menu :( (Windows10 x64, Intellij 2021.3.1 Ultimate)"},{"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"score":2,"creation_date":1657143998,"post_id":70215091,"comment_id":128743480,"body_markdown":"How can I bookmark this? I always need to come back to this.","body":"How can I bookmark this? I always need to come back to this."},{"owner":{"account_id":3850353,"reputation":422,"user_id":3190699,"accept_rate":50,"display_name":"Saiteja Parsi"},"score":2,"creation_date":1662679218,"post_id":70215091,"comment_id":130067818,"body_markdown":"You might also want to change the project SDK from File -&gt; Project Structure (;) -&gt; Project Settings -&gt; Project -&gt; SDK. Otherwise, you might get `java.lang.UnsupportedClassVersionError`","body":"You might also want to change the project SDK from File -&gt; Project Structure (;) -&gt; Project Settings -&gt; Project -&gt; SDK. Otherwise, you might get <code>java.lang.UnsupportedClassVersionError</code>"},{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1695537374,"post_id":70215091,"comment_id":136035967,"body_markdown":"It worked for thanks! (mac intellij idea env)","body":"It worked for thanks! (mac intellij idea env)"}],"tags":[],"owner":{"account_id":12874842,"reputation":3956,"user_id":9311905,"display_name":"Rakesh R"},"comment_count":5,"down_vote_count":0,"up_vote_count":394,"is_accepted":true,"score":394,"last_activity_date":1638538116,"creation_date":1638538116,"answer_id":70215091,"question_id":69696321,"body_markdown":"In intellij just set Gradle JVM to Java version 17. \r\n\r\n&quot;File -&gt; Settings.. -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot; \r\nthere select your project and set Gradle JVM to your java 17.0.1","title":"IntelliJ - Invalid source release: 17","body":"<p>In intellij just set Gradle JVM to Java version 17.</p>\n<p>&quot;File -&gt; Settings.. -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle&quot;\nthere select your project and set Gradle JVM to your java 17.0.1</p>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644957908,"creation_date":1644957908,"answer_id":71133166,"question_id":69696321,"body_markdown":"you can define `org.gradle.java.home` in  `~/.gradle/gradle.properties` like:\r\n```\r\norg.gradle.java.home=/path/to/jdk17\r\n```\r\n\r\nthis will cover both `gradle` cli and default value for IntelliJ (if not specified otherwise)\r\n\r\n(windows users file at `C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties`)","title":"IntelliJ - Invalid source release: 17","body":"<p>you can define <code>org.gradle.java.home</code> in  <code>~/.gradle/gradle.properties</code> like:</p>\n<pre><code>org.gradle.java.home=/path/to/jdk17\n</code></pre>\n<p>this will cover both <code>gradle</code> cli and default value for IntelliJ (if not specified otherwise)</p>\n<p>(windows users file at <code>C:\\Users\\&lt;username&gt;\\.gradle\\gradle.properties</code>)</p>\n"},{"comments":[{"owner":{"account_id":1531824,"reputation":3794,"user_id":1428862,"display_name":"Scott Carlson"},"score":0,"creation_date":1647621564,"post_id":71275892,"comment_id":126424883,"body_markdown":"Check under Settings / Build, Execution... / Build Tools / Gradle.  There should be a setting Gradle JVM:  that needs to be consistent.  For me this was used when I marked a task as &quot;After Sync&quot; in the gradle view.  Even though the project is set to &quot;Build and run using: IntelliJ&quot; for the after sync task, it runs external Gradle.","body":"Check under Settings / Build, Execution... / Build Tools / Gradle.  There should be a setting Gradle JVM:  that needs to be consistent.  For me this was used when I marked a task as &quot;After Sync&quot; in the gradle view.  Even though the project is set to &quot;Build and run using: IntelliJ&quot; for the after sync task, it runs external Gradle."},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1660910215,"post_id":71275892,"comment_id":129651036,"body_markdown":"@ScottCarlson thanks but the settings in the IDE are generelly only affecting the run configurations of the IDE. If you enter some commands into a terminal (even that of the IDE) it will pick up the JDK that is set in the system environment variables of Windows, and not the JDK you&#39;ve set in IntelliJ for your project.","body":"@ScottCarlson thanks but the settings in the IDE are generelly only affecting the run configurations of the IDE. If you enter some commands into a terminal (even that of the IDE) it will pick up the JDK that is set in the system environment variables of Windows, and not the JDK you&#39;ve set in IntelliJ for your project."}],"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645871444,"creation_date":1645871444,"answer_id":71275892,"question_id":69696321,"body_markdown":"I was running into this issue, **only when building from terminal**, while the **execution from the IntelliJ Run Configuration works**\r\n\r\nThe reason is probably, that I had downloaded the JDK from the relatively new way of doing it directly from the IDE\r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy guess is, that this JDK with its path that is set here\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIs only known to IntelliJ and likely dynamically **passed to Gradle** when running a run configuration, and **not known to Gradle itself**.\r\n\r\n\r\nI tried to figure out what is happening, so I&#39;ve added this task which in both cases prints the same path to an older local JDK.\r\n\r\n    tasks.build.doFirst {\r\n        println &quot;used jdk path: &quot; + System.getenv(&#39;JAVA_HOME&#39;)\r\n    }\r\n\r\n&gt; C:\\Program\r\n&gt; Files\\GraalVM\\graalvm-ce-java11-21.1.0\r\n\r\nAfterwards I&#39;ve **deleted the old JDK under that path and retried both**, run configuration and terminal execution. Now the **run configuration still works**, while **printing** the same **invalid JDK path**, and the **terminal execution fails** with\r\n\r\n\r\n&gt; ERROR: JAVA_HOME is set to an invalid directory: C:\\Program\r\n&gt; Files\\GraalVM\\graalvm-ce-java11-21.1.0\r\n&gt; \r\n&gt; Please set the JAVA_HOME variable in your environment to match the\r\n&gt; location of your Java installation.\r\n\r\nI had expected the error in both cases, but it seems the JAVA_HOME directory is **not necessarily used** and in some way other than with the env variable, IntelliJ has to tell Gradle to use the right JDK from the **.jdks directory**.\r\n\r\n**This is just an assumption, if anyone has an explanation I&#39;d appreciate it, especially how Gradle is able to know what JDK to use.**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GrsXo.png\r\n  [2]: https://i.stack.imgur.com/btVvN.png","title":"IntelliJ - Invalid source release: 17","body":"<p>I was running into this issue, <strong>only when building from terminal</strong>, while the <strong>execution from the IntelliJ Run Configuration works</strong></p>\n<p>The reason is probably, that I had downloaded the JDK from the relatively new way of doing it directly from the IDE</p>\n<p><a href=\"https://i.stack.imgur.com/GrsXo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GrsXo.png\" alt=\"enter image description here\" /></a></p>\n<p>My guess is, that this JDK with its path that is set here</p>\n<p><a href=\"https://i.stack.imgur.com/btVvN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/btVvN.png\" alt=\"enter image description here\" /></a></p>\n<p>Is only known to IntelliJ and likely dynamically <strong>passed to Gradle</strong> when running a run configuration, and <strong>not known to Gradle itself</strong>.</p>\n<p>I tried to figure out what is happening, so I've added this task which in both cases prints the same path to an older local JDK.</p>\n<pre><code>tasks.build.doFirst {\n    println &quot;used jdk path: &quot; + System.getenv('JAVA_HOME')\n}\n</code></pre>\n<blockquote>\n<p>C:\\Program\nFiles\\GraalVM\\graalvm-ce-java11-21.1.0</p>\n</blockquote>\n<p>Afterwards I've <strong>deleted the old JDK under that path and retried both</strong>, run configuration and terminal execution. Now the <strong>run configuration still works</strong>, while <strong>printing</strong> the same <strong>invalid JDK path</strong>, and the <strong>terminal execution fails</strong> with</p>\n<blockquote>\n<p>ERROR: JAVA_HOME is set to an invalid directory: C:\\Program\nFiles\\GraalVM\\graalvm-ce-java11-21.1.0</p>\n<p>Please set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.</p>\n</blockquote>\n<p>I had expected the error in both cases, but it seems the JAVA_HOME directory is <strong>not necessarily used</strong> and in some way other than with the env variable, IntelliJ has to tell Gradle to use the right JDK from the <strong>.jdks directory</strong>.</p>\n<p><strong>This is just an assumption, if anyone has an explanation I'd appreciate it, especially how Gradle is able to know what JDK to use.</strong></p>\n"},{"comments":[{"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"score":1,"creation_date":1658158052,"post_id":71479311,"comment_id":128976020,"body_markdown":"This path is no longer valid. You have to go to preferences and then Gradle","body":"This path is no longer valid. You have to go to preferences and then Gradle"}],"tags":[],"owner":{"account_id":10771493,"reputation":1873,"user_id":7924858,"display_name":"abhinavsinghvirsen"},"comment_count":1,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1647334124,"creation_date":1647334124,"answer_id":71479311,"question_id":69696321,"body_markdown":"Set Gradle JVM to target build jvm \r\n\r\nFile -&gt; Settings.. -&gt;[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qzhlk.png","title":"IntelliJ - Invalid source release: 17","body":"<p>Set Gradle JVM to target build jvm</p>\n<p>File -&gt; Settings.. -&gt;<a href=\"https://i.stack.imgur.com/Qzhlk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Qzhlk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1647524772,"creation_date":1647523009,"answer_id":71512969,"question_id":69696321,"body_markdown":"There could be many reasons due to which this error is thrown by intellij\r\n\r\n - Check your JAVA_HOME -&gt; \r\n```\r\necho $JAVA_HOME\r\n```\r\nif JAVA_HOME is not correct, update the JAVA_HOME environment variable.\r\n\r\n - check if the project structure in IntelliJ is correct.\r\n```\r\nFile &gt; Project Structure &gt; Project Setting &gt; Project -&gt; SDK and Language level should match\r\n\r\nFile &gt; Project Structure &gt; Project Setting &gt; Modules -&gt; Language Level should match with SDK\r\n``` \r\n* Check and fix settings in preferences are correct\r\n\r\n```\r\nPreferences &gt; Build, Execution and Deployment &gt; Gradle &gt; Gradle JVM should match with SDK (Preferences &gt; Build, Execution and Deployment &gt; maven if you&#39;re using maven)\r\n\r\nPreferences &gt; Build, Execution and Deployment &gt; Compiler &gt; Java Compiler &gt; Project Bytecode version (this should match with your SDK as well)\r\n```","title":"IntelliJ - Invalid source release: 17","body":"<p>There could be many reasons due to which this error is thrown by intellij</p>\n<ul>\n<li>Check your JAVA_HOME -&gt;</li>\n</ul>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>if JAVA_HOME is not correct, update the JAVA_HOME environment variable.</p>\n<ul>\n<li>check if the project structure in IntelliJ is correct.</li>\n</ul>\n<pre><code>File &gt; Project Structure &gt; Project Setting &gt; Project -&gt; SDK and Language level should match\n\nFile &gt; Project Structure &gt; Project Setting &gt; Modules -&gt; Language Level should match with SDK\n</code></pre>\n<ul>\n<li>Check and fix settings in preferences are correct</li>\n</ul>\n<pre><code>Preferences &gt; Build, Execution and Deployment &gt; Gradle &gt; Gradle JVM should match with SDK (Preferences &gt; Build, Execution and Deployment &gt; maven if you're using maven)\n\nPreferences &gt; Build, Execution and Deployment &gt; Compiler &gt; Java Compiler &gt; Project Bytecode version (this should match with your SDK as well)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"comment_count":0,"down_vote_count":1,"up_vote_count":54,"is_accepted":false,"score":53,"last_activity_date":1672085991,"creation_date":1657144086,"answer_id":72890216,"question_id":69696321,"body_markdown":"A picture is worth a thousand words!\r\n\r\n**Go to preferences and change Gradle JVM.**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iVbHB.png","title":"IntelliJ - Invalid source release: 17","body":"<p>A picture is worth a thousand words!</p>\n<p><strong>Go to preferences and change Gradle JVM.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/iVbHB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/iVbHB.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":6410870,"reputation":1742,"user_id":4970679,"display_name":"ahuemmer"},"score":2,"creation_date":1661759816,"post_id":73478896,"comment_id":129839396,"body_markdown":"Welcome to SO! Please take a look at the other answers that were given before. Your approach is mentioned there already. In order to keep the site clear and make it easy to find answers, we try to avoid double answers.","body":"Welcome to SO! Please take a look at the other answers that were given before. Your approach is mentioned there already. In order to keep the site clear and make it easy to find answers, we try to avoid double answers."}],"tags":[],"owner":{"account_id":26153235,"reputation":31,"user_id":19840864,"display_name":"Darko Manojlovic"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661371350,"creation_date":1661371350,"answer_id":73478896,"question_id":69696321,"body_markdown":"in build.gradle set sourceCompatibility = &#39;11&#39; not sourceCompatibility = &#39;17&#39;","title":"IntelliJ - Invalid source release: 17","body":"<p>in build.gradle set sourceCompatibility = '11' not sourceCompatibility = '17'</p>\n"},{"tags":[],"owner":{"account_id":1889504,"reputation":2570,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475295,"creation_date":1676475295,"answer_id":75462080,"question_id":69696321,"body_markdown":"Had the same problem, tried everything said above but no luck.\r\n\r\nThen saw this path `C:\\Program Files\\Common Files\\Oracle\\Java\\javapath` present in Systesm variable `path`. Deleting it solved the issue.\r\n\r\n**Note**: Don&#39;t forget to restart the terminal.","title":"IntelliJ - Invalid source release: 17","body":"<p>Had the same problem, tried everything said above but no luck.</p>\n<p>Then saw this path <code>C:\\Program Files\\Common Files\\Oracle\\Java\\javapath</code> present in Systesm variable <code>path</code>. Deleting it solved the issue.</p>\n<p><strong>Note</strong>: Don't forget to restart the terminal.</p>\n"},{"tags":[],"owner":{"account_id":8098318,"reputation":1530,"user_id":6102097,"display_name":"Boney"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680600936,"creation_date":1680600936,"answer_id":75927794,"question_id":69696321,"body_markdown":"Below process worked for me: File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; *jdk-17.0.5*[for me](ADD JDK Required version either from disk or download it)","title":"IntelliJ - Invalid source release: 17","body":"<p>Below process worked for me: File -&gt; Project Structure -&gt; Platform Settings -&gt; SDKs -&gt; <em>jdk-17.0.5</em>[for me](ADD JDK Required version either from disk or download it)</p>\n"},{"tags":[],"owner":{"account_id":270681,"reputation":539,"user_id":560773,"display_name":"KLMN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683599499,"creation_date":1683599499,"answer_id":76205481,"question_id":69696321,"body_markdown":"If your project is using maven, go to \r\nRun &gt; Edit Configurations.. &gt; Maven &amp; choose your maven project &gt; checked &#39;Inherit from settings&#39;\r\n\r\nthis solving my problem.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jcunr.png","title":"IntelliJ - Invalid source release: 17","body":"<p>If your project is using maven, go to\nRun &gt; Edit Configurations.. &gt; Maven &amp; choose your maven project &gt; checked 'Inherit from settings'</p>\n<p>this solving my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/Jcunr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jcunr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":28758112,"reputation":401,"user_id":22024689,"display_name":"Iman Hosseinzadeh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689974928,"creation_date":1689974928,"answer_id":76741337,"question_id":69696321,"body_markdown":"Verify that you are using the **same JDK version** to **compile and run** the program.\r\n\r\nI also faced a similar problem. but changing the gradle JVM did not solve my problem.\r\nMy problem was that two versions of JDK were installed in my system.\r\nthe `java` command run with JDK 17 but the `javac` command run with JDK 11.\r\n\r\nI deleted the JDK 11 and the problem was solved.","title":"IntelliJ - Invalid source release: 17","body":"<p>Verify that you are using the <strong>same JDK version</strong> to <strong>compile and run</strong> the program.</p>\n<p>I also faced a similar problem. but changing the gradle JVM did not solve my problem.\nMy problem was that two versions of JDK were installed in my system.\nthe <code>java</code> command run with JDK 17 but the <code>javac</code> command run with JDK 11.</p>\n<p>I deleted the JDK 11 and the problem was solved.</p>\n"},{"tags":[],"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690934165,"creation_date":1690934165,"answer_id":76815841,"question_id":69696321,"body_markdown":"Set to the (gradle) project config and commit. By saving this, you will help all your project contributors, in contrast to your local IDE Settings.\r\n\r\nIf you use build.gradle.kts\r\n--\r\n    java {\r\n      toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n      }\r\n    }\r\n\r\nIf you use build.gradle\r\n--\r\n    java {\r\n      toolchain {\r\n        languageVersion = JavaLanguageVersion.of(17)\r\n      }\r\n    }\r\nas few other answers mentioned.\r\n\r\nIntelliJ IDEA(,) -&gt; Gradle JVM (in search bar)\r\n--\r\nThe global UI Settigs, as [the accepted answer suggests][1], would also help. But be aware of the instability:\r\n\r\n 1. It would still fail if you re-build with a terminal command `./gradlew assemble`.\r\n 2. The setting is global. So you would need to be back to it each time you switch between 11 and 17 projects.\r\n 3. You would need to instruct each developer in the team to do the same UI exercise.\r\n\r\n  [1]: https://stackoverflow.com/a/70215091/601844","title":"IntelliJ - Invalid source release: 17","body":"<p>Set to the (gradle) project config and commit. By saving this, you will help all your project contributors, in contrast to your local IDE Settings.</p>\n<h2>If you use build.gradle.kts</h2>\n<pre><code>java {\n  toolchain {\n    languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\n</code></pre>\n<h2>If you use build.gradle</h2>\n<pre><code>java {\n  toolchain {\n    languageVersion = JavaLanguageVersion.of(17)\n  }\n}\n</code></pre>\n<p>as few other answers mentioned.</p>\n<h2>IntelliJ IDEA(,) -&gt; Gradle JVM (in search bar)</h2>\n<p>The global UI Settigs, as <a href=\"https://stackoverflow.com/a/70215091/601844\">the accepted answer suggests</a>, would also help. But be aware of the instability:</p>\n<ol>\n<li>It would still fail if you re-build with a terminal command <code>./gradlew assemble</code>.</li>\n<li>The setting is global. So you would need to be back to it each time you switch between 11 and 17 projects.</li>\n<li>You would need to instruct each developer in the team to do the same UI exercise.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":19097304,"reputation":11,"user_id":13946305,"display_name":"Jack.Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695107051,"creation_date":1695107051,"answer_id":77132321,"question_id":69696321,"body_markdown":"reset the JDK to 17.0.4 in .bash_profile works for me.","title":"IntelliJ - Invalid source release: 17","body":"<p>reset the JDK to 17.0.4 in .bash_profile works for me.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167083,"favorite_count":0,"down_vote_count":0,"up_vote_count":173,"accepted_answer_id":70215091,"answer_count":16,"score":173,"last_activity_date":1695107051,"creation_date":1635075157,"question_id":69696321,"body_markdown":"I&#39;ve created a new Java project in IntelliJ with Gradle that uses Java 17. When running my app it has the error `Cause: error: invalid source release: 17`. \r\n\r\n**My Settings**\r\n\r\nI&#39;ve installed `openjdk-17` through `IntelliJ` and set it as my `Project SDK`. \r\n\r\nThe `Project language level` has been set to `17 - Sealed types, always-strict floating-point semantics`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn `Modules -&gt; Sources` I&#39;ve set the `Language level` to `Project default (17 - Sealed types, always strict floating-point semantics)`.\r\n\r\n[![modules-&gt;sources][2]][2]\r\n\r\nIn `Modules -&gt; Dependencies` I&#39;ve set the `Module SDK` to `Project SDK openjdk-17`. \r\n\r\n[![modules-&gt;dependencies][3]][3]\r\n\r\nIn `Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler` I&#39;ve set the `Project bytecode version` to `17`.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**Gradle**\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.5.6&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.app&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-core:2.13.0&#39;\r\n        implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.13.0&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\nI&#39;ve looked at all of the answers [here][5] but I can&#39;t seem to fix this. I must be missing something but I can&#39;t find it. I&#39;ve not had any problems using Java 8 or 11. \r\n\r\nHow do I resolve this? \r\n\r\n  [1]: https://i.stack.imgur.com/h6OBn.png\r\n  [2]: https://i.stack.imgur.com/WxHWG.png\r\n  [3]: https://i.stack.imgur.com/0DMAk.png\r\n  [4]: https://i.stack.imgur.com/jZxak.png\r\n  [5]: https://stackoverflow.com/questions/46280859/intellij-idea-error-java-invalid-source-release-1-9","title":"IntelliJ - Invalid source release: 17","body":"<p>I've created a new Java project in IntelliJ with Gradle that uses Java 17. When running my app it has the error <code>Cause: error: invalid source release: 17</code>.</p>\n<p><strong>My Settings</strong></p>\n<p>I've installed <code>openjdk-17</code> through <code>IntelliJ</code> and set it as my <code>Project SDK</code>.</p>\n<p>The <code>Project language level</code> has been set to <code>17 - Sealed types, always-strict floating-point semantics</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/h6OBn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/h6OBn.png\" alt=\"enter image description here\" /></a></p>\n<p>In <code>Modules -&gt; Sources</code> I've set the <code>Language level</code> to <code>Project default (17 - Sealed types, always strict floating-point semantics)</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/WxHWG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WxHWG.png\" alt=\"modules-&gt;sources\" /></a></p>\n<p>In <code>Modules -&gt; Dependencies</code> I've set the <code>Module SDK</code> to <code>Project SDK openjdk-17</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/0DMAk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0DMAk.png\" alt=\"modules-&gt;dependencies\" /></a></p>\n<p>In <code>Settings -&gt; Build, Execution, Deployment -&gt; Compiler -&gt; Java Compiler</code> I've set the <code>Project bytecode version</code> to <code>17</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/jZxak.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jZxak.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Gradle</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.6'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.app'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'com.fasterxml.jackson.core:jackson-core:2.13.0'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.13.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I've looked at all of the answers <a href=\"https://stackoverflow.com/questions/46280859/intellij-idea-error-java-invalid-source-release-1-9\">here</a> but I can't seem to fix this. I must be missing something but I can't find it. I've not had any problems using Java 8 or 11.</p>\n<p>How do I resolve this?</p>\n"},{"tags":["java","mysql","mariadb","innodb","hikaricp"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1695106887,"post_id":77132186,"comment_id":135976021,"body_markdown":"Is your code correctly closing connections when you&#39;re done with them? Because that is what returns them to the connection pool for reuse.","body":"Is your code correctly closing connections when you&#39;re done with them? Because that is what returns them to the connection pool for reuse."},{"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"score":0,"creation_date":1695107056,"post_id":77132186,"comment_id":135976058,"body_markdown":"@MarkRotteveel indeed. The app is in production for years, we are very far away from v0.1-style mistakes. This version of app works under heavy load for days in other environments.","body":"@MarkRotteveel indeed. The app is in production for years, we are very far away from v0.1-style mistakes. This version of app works under heavy load for days in other environments."},{"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"score":0,"creation_date":1695108453,"post_id":77132186,"comment_id":135976356,"body_markdown":"@MarkRotteveel though I will double-check this.","body":"@MarkRotteveel though I will double-check this."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1695163703,"post_id":77132186,"comment_id":135986709,"body_markdown":"Perhaps &quot;CannotCreateTransactionException&quot; is caused by running out of memory?","body":"Perhaps &quot;CannotCreateTransactionException&quot; is caused by running out of memory?"}],"answers":[{"tags":[],"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1695107048,"creation_date":1695107048,"answer_id":77132320,"question_id":77132186,"body_markdown":"Transactions are stored in INFORMATION_SCHEMA.INNODB_TRX. To find the statement, just execute\r\n\r\n    SELECT trx_query FROM INFORMATION_SCHEMA.INNODB_TRX WHERE trx_id=2974372519;\r\n\r\nSee also: [INFORMATION_SCHEMA.INNODB_TRX table][1]\r\n\r\n\r\n  [1]: https://mariadb.com/kb/en/information-schema-innodb_trx-table/","title":"How to investigate active MySQL transactions that are not visible in processlist?","body":"<p>Transactions are stored in INFORMATION_SCHEMA.INNODB_TRX. To find the statement, just execute</p>\n<pre><code>SELECT trx_query FROM INFORMATION_SCHEMA.INNODB_TRX WHERE trx_id=2974372519;\n</code></pre>\n<p>See also: <a href=\"https://mariadb.com/kb/en/information-schema-innodb_trx-table/\" rel=\"nofollow noreferrer\">INFORMATION_SCHEMA.INNODB_TRX table</a></p>\n"}],"owner":{"account_id":416749,"reputation":3159,"user_id":792313,"accept_rate":85,"display_name":"snowindy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77132320,"answer_count":1,"score":1,"last_activity_date":1695107048,"creation_date":1695105513,"question_id":77132186,"body_markdown":"We have a Java application that works with MariaDB 10.4.28 hosted in AWS RDS. \r\n\r\nWe have a situation that application went down with reason &quot;CannotCreateTransactionException&quot;. The pool has 40 active connections and 0 idle connections. \r\n\r\nWe have several tools that fire at such moments to help debug such situations:\r\n\r\n - ThreadStackDump\r\n   - The dump shows that there are no actual threads running any queries at all, all threads are waiting for a connection from a pool.\r\n - &quot;show processlist&quot;\r\n   - It shows no queries running except just a couple normal ones that are not hanged and finish within milliseconds\r\n - &quot;SHOW ENGINE INNODB STATUS&quot;\r\n   - It in fact shows a lot of records like the following\r\n\r\n```\r\n---TRANSACTION 2974372519, ACTIVE 31 sec\r\n  2 lock struct(s), heap size 1128, 0 row lock(s), undo log entries 4\r\n```\r\n\r\n\r\nQuestions: \r\n- What can be a command or an approach to understand that this 2974372519 transaction is, what it is attempting to do?\r\n- What can be an approach to understand what my 40 occupied DB pool connections are doing?\r\n\r\n\r\nWe use HikariCP:4.0.3 and mysql-connector-java:8.0.22.","title":"How to investigate active MySQL transactions that are not visible in processlist?","body":"<p>We have a Java application that works with MariaDB 10.4.28 hosted in AWS RDS.</p>\n<p>We have a situation that application went down with reason &quot;CannotCreateTransactionException&quot;. The pool has 40 active connections and 0 idle connections.</p>\n<p>We have several tools that fire at such moments to help debug such situations:</p>\n<ul>\n<li>ThreadStackDump\n<ul>\n<li>The dump shows that there are no actual threads running any queries at all, all threads are waiting for a connection from a pool.</li>\n</ul>\n</li>\n<li>&quot;show processlist&quot;\n<ul>\n<li>It shows no queries running except just a couple normal ones that are not hanged and finish within milliseconds</li>\n</ul>\n</li>\n<li>&quot;SHOW ENGINE INNODB STATUS&quot;\n<ul>\n<li>It in fact shows a lot of records like the following</li>\n</ul>\n</li>\n</ul>\n<pre><code>---TRANSACTION 2974372519, ACTIVE 31 sec\n  2 lock struct(s), heap size 1128, 0 row lock(s), undo log entries 4\n</code></pre>\n<p>Questions:</p>\n<ul>\n<li>What can be a command or an approach to understand that this 2974372519 transaction is, what it is attempting to do?</li>\n<li>What can be an approach to understand what my 40 occupied DB pool connections are doing?</li>\n</ul>\n<p>We use HikariCP:4.0.3 and mysql-connector-java:8.0.22.</p>\n"},{"tags":["java","bytebuffer"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1695055201,"post_id":77128863,"comment_id":135969927,"body_markdown":"`BitSet` is *little* endian so the final bit pattern is `00000101` (5)","body":"<code>BitSet</code> is <i>little</i> endian so the final bit pattern is <code>00000101</code> (5)"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695056549,"post_id":77128863,"comment_id":135970206,"body_markdown":"Why do you think that &quot;the endianness is wrong&quot;? Do you expect adding a byte to the buffer and that byte to appear at the higher position (bigger index) ? javadoc of [`allocate()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#allocate(int)): &quot;The new buffer&#39;s position will be zero&quot; and of [`put()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#put(byte)): &quot;Writes the given byte into this buffer at the current position, and then increments the position.&quot;","body":"Why do you think that &quot;the endianness is wrong&quot;? Do you expect adding a byte to the buffer and that byte to appear at the higher position (bigger index) ? javadoc of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#allocate(int)\" rel=\"nofollow noreferrer\"><code>allocate()</code></a>: &quot;The new buffer&#39;s position will be zero&quot; and of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/ByteBuffer.html#put(byte)\" rel=\"nofollow noreferrer\"><code>put()</code></a>: &quot;Writes the given byte into this buffer at the current position, and then increments the position.&quot;"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1695057083,"post_id":77128863,"comment_id":135970311,"body_markdown":"and BTW in Java you can easily write binary literal numbers like `0b0101` (or `(byte)0b0101` if needed as byte), no need to use `BitSet`","body":"and BTW in Java you can easily write binary literal numbers like <code>0b0101</code> (or <code>(byte)0b0101</code> if needed as byte), no need to use <code>BitSet</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1695056152,"creation_date":1695056152,"answer_id":77129060,"question_id":77128863,"body_markdown":"&gt; Which I think is the right answer.\r\n\r\nNot at all; you are misinterpreting what you are seeing, your test is not particularly well written to show it off.\r\n\r\nHere&#39;s whats _actually_ happening:\r\n\r\n```\r\nBitSet byt = new BitSet(8);\r\nbyt.set(0, false);\r\nbyt.set(1, false);\r\nout.put(byt.toByteArray());\r\n```\r\n\r\n__This writes nothing__. Add `System.out.println(out.position());` to see this in action.\r\n\r\nThat&#39;s because the spec of BitSet disregards entirely how large you made your bitset (the `8` in `new BitSet(8)` has zero effect on what `.toByteArray()` does), instead, it checks the most significant 1-bit in your bitset, rounds that up to the nearest integer divisible by 8, and that&#39;s how many bits are emitted. Given that your second snippet has all-zero bytes, &#39;0 bits&#39; is all that is needed to represent it, and therefore, .toByteArray() dutifully __produces a 0-length array__. And `buffer.put(someZeroLenArray);` dutifully does exactly what you ask it to, which is: Do nothing, successfully. Make no changes to the byte buffer and do not advance the position.&#39;.\r\n\r\n\r\nSo, you:\r\n\r\n * Write nothing. Not even 8 zero bits - literally nothing.\r\n * Write &#39;5&#39;\r\n * Print the first byte (Which prints 5)\r\n * Print the second, which hasn&#39;t been set at all yet and thus defaults to printing 0.\r\n\r\nYou clearly are thinking that the &#39;5&#39; you see is from the second BitSet, and the 0 you see is from the first.\r\n\r\nThe endianness is right (as in, the endianness you get is [A] exactly what the java spec says you get, and [B] matches all uses of endianness, notably including network standards, _except_ intel chips); your expectation of what endianness you expected is incorrect, and all you need to do is adjust that.\r\n\r\nMore generally endianness doesn&#39;t even apply here: endianness is a concept that applies when you write things that are larger than 8 bit in length and you never do.\r\n\r\nThis is an example of endianness:\r\n\r\n```\r\nByteBuffer bb = ByteBuffer.allocate(4);\r\nbb.putInt(1);\r\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 0\r\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 1\r\nbb = ByteBuffer.allocate(4);\r\nbb.order(ByteOrder.LITTLE_ENDIAN);\r\nbb.putInt(1);\r\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 1\r\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 0\r\n```\r\n\r\nIn other words, given that &#39;an int&#39; requires writing 4 bytes, which of the 4 bytes that comprise the int do we write first - the one with the least significant digits (the 1 here - &#39;1&#39; in int terms is 00000000001 of course), or the one with the most (the 0)? With LITTLE_ENDIAN, the 1 is printed first.\r\n\r\nThe code snippet you pasted does not have an &#39;endianness&#39;. It is neither little nor big endian. The _bits_ are in big endian form, but then, bits being in big endian form is how it&#39;s done for all systems and all CPUs that are relevant to talk about today.\r\n\r\n","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<blockquote>\n<p>Which I think is the right answer.</p>\n</blockquote>\n<p>Not at all; you are misinterpreting what you are seeing, your test is not particularly well written to show it off.</p>\n<p>Here's whats <em>actually</em> happening:</p>\n<pre><code>BitSet byt = new BitSet(8);\nbyt.set(0, false);\nbyt.set(1, false);\nout.put(byt.toByteArray());\n</code></pre>\n<p><strong>This writes nothing</strong>. Add <code>System.out.println(out.position());</code> to see this in action.</p>\n<p>That's because the spec of BitSet disregards entirely how large you made your bitset (the <code>8</code> in <code>new BitSet(8)</code> has zero effect on what <code>.toByteArray()</code> does), instead, it checks the most significant 1-bit in your bitset, rounds that up to the nearest integer divisible by 8, and that's how many bits are emitted. Given that your second snippet has all-zero bytes, '0 bits' is all that is needed to represent it, and therefore, .toByteArray() dutifully <strong>produces a 0-length array</strong>. And <code>buffer.put(someZeroLenArray);</code> dutifully does exactly what you ask it to, which is: Do nothing, successfully. Make no changes to the byte buffer and do not advance the position.'.</p>\n<p>So, you:</p>\n<ul>\n<li>Write nothing. Not even 8 zero bits - literally nothing.</li>\n<li>Write '5'</li>\n<li>Print the first byte (Which prints 5)</li>\n<li>Print the second, which hasn't been set at all yet and thus defaults to printing 0.</li>\n</ul>\n<p>You clearly are thinking that the '5' you see is from the second BitSet, and the 0 you see is from the first.</p>\n<p>The endianness is right (as in, the endianness you get is [A] exactly what the java spec says you get, and [B] matches all uses of endianness, notably including network standards, <em>except</em> intel chips); your expectation of what endianness you expected is incorrect, and all you need to do is adjust that.</p>\n<p>More generally endianness doesn't even apply here: endianness is a concept that applies when you write things that are larger than 8 bit in length and you never do.</p>\n<p>This is an example of endianness:</p>\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(4);\nbb.putInt(1);\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 0\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 1\nbb = ByteBuffer.allocate(4);\nbb.order(ByteOrder.LITTLE_ENDIAN);\nbb.putInt(1);\nSystem.out.println(&quot;At pos 0: &quot; + bb.get(0)); // 1\nSystem.out.println(&quot;At pos 3: &quot; + bb.get(3)); // 0\n</code></pre>\n<p>In other words, given that 'an int' requires writing 4 bytes, which of the 4 bytes that comprise the int do we write first - the one with the least significant digits (the 1 here - '1' in int terms is 00000000001 of course), or the one with the most (the 0)? With LITTLE_ENDIAN, the 1 is printed first.</p>\n<p>The code snippet you pasted does not have an 'endianness'. It is neither little nor big endian. The <em>bits</em> are in big endian form, but then, bits being in big endian form is how it's done for all systems and all CPUs that are relevant to talk about today.</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1695058483,"creation_date":1695058012,"answer_id":77129236,"question_id":77128863,"body_markdown":"`BitSet.toByteArray()` creates a byte array which is of the minimum length necessary to represent the `BitSet`. You can read in docs:\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()\r\n\r\n    byte[] bytes = s.toByteArray();\r\n    then bytes.length == (s.length()+7)/8 and\r\n    s.get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)\r\n    for all n &lt; 8 * bytes.length.\r\n\r\nand the s.length() is:\r\n\r\n&gt;Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns zero if the BitSet contains no set bits.\r\n\r\nSo, essentially, if you store only false in your bitset, toByteArray() will return empty array.\r\n\r\nByteBuffer will fill the bytes as you put them in. So the order in which the bytes are stored is exactly the order in which you call the .put method.\r\n\r\nNow lets follow your code example:\r\n\r\nYour ByteByffer of size 2, initially:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nx means its empty\r\n\r\nThen you create BitSet: `[true, false, false, false, false, false, false, false]` This is array: `[1]`. You then put it into your ByteBuffer:\r\n\r\n    | 1 | x |\r\n      0   1\r\n\r\nin the first entry you have now 1.\r\n\r\nThen you create second bitset: `[true, false, true, false, false, false, false, false]` which is `[5]` (2^0 + 2^2 = 1 + 4 = 5). Then you put it to BytBuffer:\r\n\r\n    | 1 | 5 |\r\n      0   1\r\n\r\nSo, your output is : &#39;First byte is 1 second is 5&#39;. And that is correct.\r\n\r\n&gt; which I think is not okay since the endianness is wrong\r\n\r\nI dont think your problem has anything to do with endianess, if you expected to see &#39;First byte is 5 second is 1&#39; then switch the order of adding bytes to ByteBuffer.\r\n\r\n\r\n\r\nNow, lets follow the second example:\r\n\r\nYour ByteByffer of size 2, initially:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nthen a BitSet with `[false, false, false, false, false, false, false, false]`, which is 0 in binary. But BitSet.toByteArray will produce an empty array because the BitSet has no set bits.\r\n\r\nso, there is no change to a ByteBuffe, its still empty:\r\n\r\n    | x | x |\r\n      0   1\r\n\r\nThe second bit set is `[true, false, true, false, false, false, false, false]`, which is [5], after puting to ByteBuffer:\r\n\r\n    | 5 | x |\r\n      0   1\r\n\r\nHere, because the first `BitSet` added nothing, we only see the result of adding the second byte.\r\n\r\nSo, you problem originates from how BitSet produces array when using toByteArray(). You might consider not using `BitSet` and use some other class, see this SO for some hints: https://stackoverflow.com/questions/14032437/java-bitset-and-byte-usage\r\n\r\n\r\n[edit] \r\nfix for the second example could be manually taking into account that a zero array can be returned by BitSet.toByteBuffer and manually adding [0] array. Of course, the same can be done for second byte.\r\n\r\n        ByteBuffer out = ByteBuffer.allocate(2);\r\n        BitSet byt = new BitSet(8);\r\n        byt.set(0, false);\r\n        byt.set(1, false);\r\n        \r\n        byte[] byteArr = byt.toByteArray();\r\n        if(byteArr.length == 0) {\r\n            out.put((byte)0);\r\n        } else {\r\n            out.put(byteArr);\r\n        }\r\n        \r\n        byt.set(0, true);\r\n        byt.set(1, false);\r\n        byt.set(2, true);\r\n        \r\n        byteArr = byt.toByteArray();\r\n        out.put(byteArr);\r\n        \r\n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<p><code>BitSet.toByteArray()</code> creates a byte array which is of the minimum length necessary to represent the <code>BitSet</code>. You can read in docs:</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/BitSet.html#toByteArray()</a></p>\n<pre><code>byte[] bytes = s.toByteArray();\nthen bytes.length == (s.length()+7)/8 and\ns.get(n) == ((bytes[n/8] &amp; (1&lt;&lt;(n%8))) != 0)\nfor all n &lt; 8 * bytes.length.\n</code></pre>\n<p>and the s.length() is:</p>\n<blockquote>\n<p>Returns the &quot;logical size&quot; of this BitSet: the index of the highest set bit in the BitSet plus one. Returns zero if the BitSet contains no set bits.</p>\n</blockquote>\n<p>So, essentially, if you store only false in your bitset, toByteArray() will return empty array.</p>\n<p>ByteBuffer will fill the bytes as you put them in. So the order in which the bytes are stored is exactly the order in which you call the .put method.</p>\n<p>Now lets follow your code example:</p>\n<p>Your ByteByffer of size 2, initially:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>x means its empty</p>\n<p>Then you create BitSet: <code>[true, false, false, false, false, false, false, false]</code> This is array: <code>[1]</code>. You then put it into your ByteBuffer:</p>\n<pre><code>| 1 | x |\n  0   1\n</code></pre>\n<p>in the first entry you have now 1.</p>\n<p>Then you create second bitset: <code>[true, false, true, false, false, false, false, false]</code> which is <code>[5]</code> (2^0 + 2^2 = 1 + 4 = 5). Then you put it to BytBuffer:</p>\n<pre><code>| 1 | 5 |\n  0   1\n</code></pre>\n<p>So, your output is : 'First byte is 1 second is 5'. And that is correct.</p>\n<blockquote>\n<p>which I think is not okay since the endianness is wrong</p>\n</blockquote>\n<p>I dont think your problem has anything to do with endianess, if you expected to see 'First byte is 5 second is 1' then switch the order of adding bytes to ByteBuffer.</p>\n<p>Now, lets follow the second example:</p>\n<p>Your ByteByffer of size 2, initially:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>then a BitSet with <code>[false, false, false, false, false, false, false, false]</code>, which is 0 in binary. But BitSet.toByteArray will produce an empty array because the BitSet has no set bits.</p>\n<p>so, there is no change to a ByteBuffe, its still empty:</p>\n<pre><code>| x | x |\n  0   1\n</code></pre>\n<p>The second bit set is <code>[true, false, true, false, false, false, false, false]</code>, which is [5], after puting to ByteBuffer:</p>\n<pre><code>| 5 | x |\n  0   1\n</code></pre>\n<p>Here, because the first <code>BitSet</code> added nothing, we only see the result of adding the second byte.</p>\n<p>So, you problem originates from how BitSet produces array when using toByteArray(). You might consider not using <code>BitSet</code> and use some other class, see this SO for some hints: <a href=\"https://stackoverflow.com/questions/14032437/java-bitset-and-byte-usage\">Java BitSet and byte[] usage</a></p>\n<p>[edit]\nfix for the second example could be manually taking into account that a zero array can be returned by BitSet.toByteBuffer and manually adding [0] array. Of course, the same can be done for second byte.</p>\n<pre><code>    ByteBuffer out = ByteBuffer.allocate(2);\n    BitSet byt = new BitSet(8);\n    byt.set(0, false);\n    byt.set(1, false);\n    \n    byte[] byteArr = byt.toByteArray();\n    if(byteArr.length == 0) {\n        out.put((byte)0);\n    } else {\n        out.put(byteArr);\n    }\n    \n    byt.set(0, true);\n    byt.set(1, false);\n    byt.set(2, true);\n    \n    byteArr = byt.toByteArray();\n    out.put(byteArr);\n    \n    System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n</code></pre>\n"}],"owner":{"account_id":29475281,"reputation":23,"user_id":22587167,"display_name":"pdesolver"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":77129236,"answer_count":2,"score":1,"last_activity_date":1695106480,"creation_date":1695054224,"question_id":77128863,"body_markdown":"I&#39;m new to java and started to implement a UDP sender with BitSet and ByteBuffer for some reason I get behaviour which I would not expect.\r\n\r\n\r\n \r\n\r\n```\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.util.BitSet;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tByteBuffer out = ByteBuffer.allocate(2);\r\n\t\tBitSet byt = new BitSet(8);\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tout.put(byt.toByteArray());\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tbyt.set(2, true);\r\n\t\tout.put(byt.toByteArray());\r\n\t\t\r\n\t\tSystem.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n\t}\r\n}\r\n```\r\n\r\nwhere I get the output\r\n```\r\nFirst byte is 1 second is 5\r\n```\r\nwhich I think is not okay since the endianness is wrong\r\n\r\nWhen I try to run this:\r\n```\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tByteBuffer out = ByteBuffer.allocate(2);\r\n\t\tBitSet byt = new BitSet(8);\r\n\t\tbyt.set(0, false);\r\n\t\tbyt.set(1, false);\r\n\t\tout.put(byt.toByteArray());\r\n\t\tbyt.set(0, true);\r\n\t\tbyt.set(1, false);\r\n\t\tbyt.set(2, true);\r\n\t\tout.put(byt.toByteArray());\r\n\t\t\r\n\t\tSystem.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\r\n\t}\r\n}\r\n```\r\n\r\nThe output changes to \r\n```\r\nFirst byte is 5 second is 0\r\n```\r\n\r\nWhich I think is the right answer. \r\n\r\nNotice the change is only on line 7 while the order of the bytes also change.\r\n\r\nA quick test is [here](http://tpcg.io/_SFY07L) and [here](http://tpcg.io/_MQR5YW)\r\n\r\nI&#39;m fairly new to Java. So it could all be a big misunderstanding. Thanks anyway!","title":"Weird behaviour in Java 8 with ByteBuffer and BitSet","body":"<p>I'm new to java and started to implement a UDP sender with BitSet and ByteBuffer for some reason I get behaviour which I would not expect.</p>\n<pre><code>import java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.util.BitSet;\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        ByteBuffer out = ByteBuffer.allocate(2);\n        BitSet byt = new BitSet(8);\n        byt.set(0, true);\n        byt.set(1, false);\n        out.put(byt.toByteArray());\n        byt.set(0, true);\n        byt.set(1, false);\n        byt.set(2, true);\n        out.put(byt.toByteArray());\n        \n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n    }\n}\n</code></pre>\n<p>where I get the output</p>\n<pre><code>First byte is 1 second is 5\n</code></pre>\n<p>which I think is not okay since the endianness is wrong</p>\n<p>When I try to run this:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        \n        ByteBuffer out = ByteBuffer.allocate(2);\n        BitSet byt = new BitSet(8);\n        byt.set(0, false);\n        byt.set(1, false);\n        out.put(byt.toByteArray());\n        byt.set(0, true);\n        byt.set(1, false);\n        byt.set(2, true);\n        out.put(byt.toByteArray());\n        \n        System.out.println(&quot;First byte is &quot; + out.array()[0]+ &quot; second is &quot; + out.array()[1]);\n    }\n}\n</code></pre>\n<p>The output changes to</p>\n<pre><code>First byte is 5 second is 0\n</code></pre>\n<p>Which I think is the right answer.</p>\n<p>Notice the change is only on line 7 while the order of the bytes also change.</p>\n<p>A quick test is <a href=\"http://tpcg.io/_SFY07L\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://tpcg.io/_MQR5YW\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I'm fairly new to Java. So it could all be a big misunderstanding. Thanks anyway!</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695061822,"creation_date":1695061822,"answer_id":77129648,"question_id":77129351,"body_markdown":"Operators in Spring Webflux are designed to handle errors that occur during the reactive stream processing, such as errors emitted by upstream publishers or operators. **They do not catch exceptions that occur during the initial creation of the `UUID` using `UUID.fromString`**.\r\n\r\nBut, you can deal with it using a simple try-catch block:\r\n\r\n```java\r\ntry {\r\n    UUID uuid = UUID.fromString(&quot;123&quot;);\r\n    Mono.just(uuid).subscribe();\r\n} catch (IllegalArgumentException e) {\r\n    throw new AssertionError(&quot;Invalid UUID string&quot;, e);\r\n}\r\n```","title":"How map an exception from a Mono to another exception","body":"<p>Operators in Spring Webflux are designed to handle errors that occur during the reactive stream processing, such as errors emitted by upstream publishers or operators. <strong>They do not catch exceptions that occur during the initial creation of the <code>UUID</code> using <code>UUID.fromString</code></strong>.</p>\n<p>But, you can deal with it using a simple try-catch block:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    UUID uuid = UUID.fromString(&quot;123&quot;);\n    Mono.just(uuid).subscribe();\n} catch (IllegalArgumentException e) {\n    throw new AssertionError(&quot;Invalid UUID string&quot;, e);\n}\n</code></pre>\n"}],"owner":{"account_id":2928448,"reputation":56,"user_id":2627282,"display_name":"Giustiniano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695106257,"creation_date":1695059173,"question_id":77129351,"body_markdown":"I have an endpoint in Spring Webflux (Java 20) that receives a UUID string and I need to validate it using UUID.fromString. If the latter throws an exception because the String is malformed, how can catch and rethrow the exception?         \r\n\r\nThis is the simplest code snippet that shows the problem, where I try to catch the IllegalArgumentException and propagate it as an `AssertionError instead.\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Mono.just(UUID.fromString(&quot;123&quot;))\r\n            .doOnError(IllegalArgumentException.class, e -&gt; Mono.error(new AssertionError(&quot;&quot;)))\r\n            .subscribe();\r\n    }\r\n}\r\n```\r\n\r\n```\r\nMono.just(UUID.fromString(&quot;123&quot;))\r\n    .onErrorMap(IllegalArgumentException.class, e -&gt; new AssertionError(&quot;&quot;))\r\n    .subscribe();\r\n```\r\n\r\n```\r\nMono.just(UUID.fromString(&quot;123&quot;))\r\n    .onErrorResume(e -&gt; Mono.error(new AssertionError(&quot;hello&quot;)))\r\n    .subscribe();\r\n```\r\n\r\nWhatever I try, the result is always that the IllegalArgumentException is not caught and just bubbles up:\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid UUID string: 123\r\n\tat java.base/java.util.UUID.fromString1(UUID.java:280)\r\n\tat java.base/java.util.UUID.fromString(UUID.java:258)\r\n\tat org.example.Main.main(Main.java:12)\r\n```","title":"How map an exception from a Mono to another exception","body":"<p>I have an endpoint in Spring Webflux (Java 20) that receives a UUID string and I need to validate it using UUID.fromString. If the latter throws an exception because the String is malformed, how can catch and rethrow the exception?</p>\n<p>This is the simplest code snippet that shows the problem, where I try to catch the IllegalArgumentException and propagate it as an `AssertionError instead.</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        Mono.just(UUID.fromString(&quot;123&quot;))\n            .doOnError(IllegalArgumentException.class, e -&gt; Mono.error(new AssertionError(&quot;&quot;)))\n            .subscribe();\n    }\n}\n</code></pre>\n<pre><code>Mono.just(UUID.fromString(&quot;123&quot;))\n    .onErrorMap(IllegalArgumentException.class, e -&gt; new AssertionError(&quot;&quot;))\n    .subscribe();\n</code></pre>\n<pre><code>Mono.just(UUID.fromString(&quot;123&quot;))\n    .onErrorResume(e -&gt; Mono.error(new AssertionError(&quot;hello&quot;)))\n    .subscribe();\n</code></pre>\n<p>Whatever I try, the result is always that the IllegalArgumentException is not caught and just bubbles up:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Invalid UUID string: 123\n    at java.base/java.util.UUID.fromString1(UUID.java:280)\n    at java.base/java.util.UUID.fromString(UUID.java:258)\n    at org.example.Main.main(Main.java:12)\n</code></pre>\n"},{"tags":["java","spring-boot","web","native","graalvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695038401,"post_id":77125967,"comment_id":135966312,"body_markdown":"Remove `@EnableWebMvc` as that disables large parts of the auto-configuration. Make `HeaderMethodArgumentResolver` an `@Bean` which you put into the list, that way it is visible for GraalVM.","body":"Remove <code>@EnableWebMvc</code> as that disables large parts of the auto-configuration. Make <code>HeaderMethodArgumentResolver</code> an <code>@Bean</code> which you put into the list, that way it is visible for GraalVM."},{"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"score":0,"creation_date":1695039914,"post_id":77125967,"comment_id":135966600,"body_markdown":"Actually, my first try was without @EnableWebMvc. I added it later, but nothing changes. I also tried making the argument resolver a bean, but still nothing changes. (I&#39;m going to update the question with this information)","body":"Actually, my first try was without @EnableWebMvc. I added it later, but nothing changes. I also tried making the argument resolver a bean, but still nothing changes. (I&#39;m going to update the question with this information)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1695042729,"post_id":77125967,"comment_id":135967238,"body_markdown":"If you make it a bean, you should reference it from the `addArgumentResolvers` method and also place a regular `@Configuration` instead of the one with `proxyBeanMethos`","body":"If you make it a bean, you should reference it from the <code>addArgumentResolvers</code> method and also place a regular <code>@Configuration</code> instead of the one with <code>proxyBeanMethos</code>"},{"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"score":0,"creation_date":1695047691,"post_id":77125967,"comment_id":135968379,"body_markdown":"I edited the question fixing the configuration. Also see NOTE 1","body":"I edited the question fixing the configuration. Also see NOTE 1"}],"answers":[{"tags":[],"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695105960,"creation_date":1695105960,"answer_id":77132225,"question_id":77125967,"body_markdown":"I finally figured out how to make it work, just adding the following on the configuration bean: \r\n\r\n    @RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\r\n\r\nHere it is the full class:\r\n\r\n    @Configuration(proxyBeanMethods = false)\r\n    @RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\r\n    public class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n            resolvers.add(new HeaderMethodArgumentResolver());\r\n        }\r\n    \r\n    }\r\n\r\nProbably, given that the configuration bean was in a library, it needs to register reflection information for discovering the addArgumentResolvers method or that it implements WebMvcConfigurer (can&#39;t be sure now, but it works!)","title":"spring boot 3 native graalvm - HandlerMethodArgumentResolver not working","body":"<p>I finally figured out how to make it work, just adding the following on the configuration bean:</p>\n<pre><code>@RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\n</code></pre>\n<p>Here it is the full class:</p>\n<pre><code>@Configuration(proxyBeanMethods = false)\n@RegisterReflectionForBinding({HeaderMethodArgumentResolverConfiguration.class})\npublic class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new HeaderMethodArgumentResolver());\n    }\n\n}\n</code></pre>\n<p>Probably, given that the configuration bean was in a library, it needs to register reflection information for discovering the addArgumentResolvers method or that it implements WebMvcConfigurer (can't be sure now, but it works!)</p>\n"}],"owner":{"account_id":5085295,"reputation":331,"user_id":4080230,"display_name":"Francesco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695105960,"creation_date":1695029082,"question_id":77125967,"body_markdown":"I configured a custom HandlerMethodArgumentResolver for getting some parameters from the request header and wrapping them in a custom object to be injected as an argument into my controllers.\r\n\r\nThe custom HandlerMethodArgumentResolver is not in the main project, but in a library imported by the main application. Pom and component scan are both ok, because other beans and configurations are being processed with no issues.\r\n\r\nAll is working fine running it on JVM, but compiling it as a native application with GraalVM is causing me troubles, becase when I run the application, the custom argument resolver won&#39;t be taken into consideration, and the custom object injected is null at runtime.\r\n\r\nHere it is the code.\r\n\r\n    public class HeaderMethodArgumentResolver implements HandlerMethodArgumentResolver {\r\n    \r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().equals(MyHeader.class);\r\n        }\r\n    \r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n            MyHeader header = MyHeaderExtractor.generateFrom(webRequest);\r\n    \r\n            // Makes Validated annotation working on my custom argument\r\n            if (parameter.hasParameterAnnotation(Validated.class) || parameter.hasParameterAnnotation(Valid.class)) {\r\n                // Validate header\r\n                WebDataBinder binder = binderFactory.createBinder(webRequest, header, parameter.getParameterName());\r\n                validateIfApplicable(binder, parameter);\r\n                if (binder.getBindingResult().hasErrors()) {\r\n                    throw new MethodArgumentNotValidException(parameter, binder.getBindingResult());\r\n                }\r\n            }\r\n            return header;\r\n        }\r\n    \r\n        /**\r\n         * Validate the model attribute if applicable.\r\n         * &lt;p&gt;The default implementation checks for {@code @jakarta.validation.Valid},\r\n         * Spring&#39;s {@link org.springframework.validation.annotation.Validated},\r\n         * and custom annotations whose name starts with &quot;Valid&quot;.\r\n         * @param binder the DataBinder to be used\r\n         * @param parameter the method parameter declaration\r\n         * @see WebDataBinder#validate(Object...)\r\n         * @see SmartValidator#validate(Object, Errors, Object...)\r\n         */\r\n        protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\r\n            for (Annotation ann : parameter.getParameterAnnotations()) {\r\n                Object[] validationHints = ValidationAnnotationUtils.determineValidationHints(ann);\r\n                if (validationHints != null) {\r\n                    binder.validate(validationHints);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThen the configuration class for letting Spring MVC know about my argument resolver.\r\n\r\n    @EnableWebMvc // Tried with and without EnableWebMvc\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\r\n    \r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n            // tried this\r\n            resolvers.add(new HeaderMethodArgumentResolver());\r\n            // and also this when created as a Bean\r\n            resolvers.add(headerMethodArgumentResolver());\r\n        }\r\n\r\n        @Bean   // Tried with and without this method\r\n        public HeaderMethodArgumentResolver headerMethodArgumentResolver() {\r\n            return new HeaderMethodArgumentResolver();\r\n        }\r\n    \r\n    }\r\n\r\nAnd an example controller.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/my-resource&quot;)\r\n    @Slf4j\r\n    public class MyController {\r\n    \r\n        @PostMapping(&quot;/example&quot;)\r\n        public MyResponseObject doSomething(\r\n                @Validated({HeaderAsIWant.class}) MyHeader myHeader,\r\n                @Validated @RequestBody MyRequestObject request) {\r\n        }\r\n    \r\n    }\r\n\r\nAm I doing something wrong, missing some configuration, or is it a bug/incompatibility with the native build?\r\n\r\nMany thanks to everyone that will reply.\r\n\r\nNOTE 1: I checked from the /actuator/beans invocation, and I&#39;m sure the bean got instantiated correctly. The issue seems to be that Spring won&#39;t call the method resolver when the request comes in.\r\n\r\nNOTE 2: **Moving the custom argument resolver from the library to the main project solves the issue.** Though, that&#39;s not a solution for me because I need to use this argument resolver in multiple microservices, possibly without copy-pasting it.\r\n","title":"spring boot 3 native graalvm - HandlerMethodArgumentResolver not working","body":"<p>I configured a custom HandlerMethodArgumentResolver for getting some parameters from the request header and wrapping them in a custom object to be injected as an argument into my controllers.</p>\n<p>The custom HandlerMethodArgumentResolver is not in the main project, but in a library imported by the main application. Pom and component scan are both ok, because other beans and configurations are being processed with no issues.</p>\n<p>All is working fine running it on JVM, but compiling it as a native application with GraalVM is causing me troubles, becase when I run the application, the custom argument resolver won't be taken into consideration, and the custom object injected is null at runtime.</p>\n<p>Here it is the code.</p>\n<pre><code>public class HeaderMethodArgumentResolver implements HandlerMethodArgumentResolver {\n\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().equals(MyHeader.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer, NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        MyHeader header = MyHeaderExtractor.generateFrom(webRequest);\n\n        // Makes Validated annotation working on my custom argument\n        if (parameter.hasParameterAnnotation(Validated.class) || parameter.hasParameterAnnotation(Valid.class)) {\n            // Validate header\n            WebDataBinder binder = binderFactory.createBinder(webRequest, header, parameter.getParameterName());\n            validateIfApplicable(binder, parameter);\n            if (binder.getBindingResult().hasErrors()) {\n                throw new MethodArgumentNotValidException(parameter, binder.getBindingResult());\n            }\n        }\n        return header;\n    }\n\n    /**\n     * Validate the model attribute if applicable.\n     * &lt;p&gt;The default implementation checks for {@code @jakarta.validation.Valid},\n     * Spring's {@link org.springframework.validation.annotation.Validated},\n     * and custom annotations whose name starts with &quot;Valid&quot;.\n     * @param binder the DataBinder to be used\n     * @param parameter the method parameter declaration\n     * @see WebDataBinder#validate(Object...)\n     * @see SmartValidator#validate(Object, Errors, Object...)\n     */\n    protected void validateIfApplicable(WebDataBinder binder, MethodParameter parameter) {\n        for (Annotation ann : parameter.getParameterAnnotations()) {\n            Object[] validationHints = ValidationAnnotationUtils.determineValidationHints(ann);\n            if (validationHints != null) {\n                binder.validate(validationHints);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then the configuration class for letting Spring MVC know about my argument resolver.</p>\n<pre><code>@EnableWebMvc // Tried with and without EnableWebMvc\n@Configuration(proxyBeanMethods = false)\npublic class HeaderMethodArgumentResolverConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        // tried this\n        resolvers.add(new HeaderMethodArgumentResolver());\n        // and also this when created as a Bean\n        resolvers.add(headerMethodArgumentResolver());\n    }\n\n    @Bean   // Tried with and without this method\n    public HeaderMethodArgumentResolver headerMethodArgumentResolver() {\n        return new HeaderMethodArgumentResolver();\n    }\n\n}\n</code></pre>\n<p>And an example controller.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/my-resource&quot;)\n@Slf4j\npublic class MyController {\n\n    @PostMapping(&quot;/example&quot;)\n    public MyResponseObject doSomething(\n            @Validated({HeaderAsIWant.class}) MyHeader myHeader,\n            @Validated @RequestBody MyRequestObject request) {\n    }\n\n}\n</code></pre>\n<p>Am I doing something wrong, missing some configuration, or is it a bug/incompatibility with the native build?</p>\n<p>Many thanks to everyone that will reply.</p>\n<p>NOTE 1: I checked from the /actuator/beans invocation, and I'm sure the bean got instantiated correctly. The issue seems to be that Spring won't call the method resolver when the request comes in.</p>\n<p>NOTE 2: <strong>Moving the custom argument resolver from the library to the main project solves the issue.</strong> Though, that's not a solution for me because I need to use this argument resolver in multiple microservices, possibly without copy-pasting it.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":4,"creation_date":1695095870,"post_id":77131630,"comment_id":135974800,"body_markdown":"The only difference is that before Java 1.7, the Java compiler wasn&#39;t smart enough to do the first option, and so you had to do the second. People found that to be a pain, so the Java designers introduced the first option. There&#39;s no reason not to use it when it works.","body":"The only difference is that before Java 1.7, the Java compiler wasn&#39;t smart enough to do the first option, and so you had to do the second. People found that to be a pain, so the Java designers introduced the first option. There&#39;s no reason not to use it when it works."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1695095928,"post_id":77131630,"comment_id":135974803,"body_markdown":"There isn&#39;t one. Originally when generics were introduced, you were required to provide the types as part of the initialisation, but they introduced the &quot;diamond operator&quot; so we no longer need to type the types, yea for us","body":"There isn&#39;t one. Originally when generics were introduced, you were required to provide the types as part of the initialisation, but they introduced the &quot;diamond operator&quot; so we no longer need to type the types, yea for us"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1695099477,"post_id":77131630,"comment_id":135975058,"body_markdown":"They mean the same. Today most programmers prefer the former form.","body":"They mean the same. Today most programmers prefer the former form."},{"owner":{"account_id":13779135,"reputation":55,"user_id":9944670,"display_name":"jozen"},"score":0,"creation_date":1695100205,"post_id":77131630,"comment_id":135975130,"body_markdown":"Gotcha, thanks everyone","body":"Gotcha, thanks everyone"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1695100524,"post_id":77131630,"comment_id":135975164,"body_markdown":"*&quot;... the Java compiler wasn&#39;t smart enough ...&quot;* - Nit pick: the correct explanation is that the JLS didn&#39;t **allow** the compiler to figure it out.  The JLS specifies what the compiler is supposed to accept or reject.  It is not up to the compiler to be &quot;smart&quot;.  (Indeed a &quot;smart&quot; Java compiler would be a bad thing because that leads to portability issues; i.e. when two different compilers for the same revision of the JLS give different compilation outcomes for the same source code.)","body":"<i>&quot;... the Java compiler wasn&#39;t smart enough ...&quot;</i> - Nit pick: the correct explanation is that the JLS didn&#39;t <b>allow</b> the compiler to figure it out.  The JLS specifies what the compiler is supposed to accept or reject.  It is not up to the compiler to be &quot;smart&quot;.  (Indeed a &quot;smart&quot; Java compiler would be a bad thing because that leads to portability issues; i.e. when two different compilers for the same revision of the JLS give different compilation outcomes for the same source code.)"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1695111347,"post_id":77131943,"comment_id":135976962,"body_markdown":"I have also seen code checkers warn against redundant type arguments in the second form.","body":"I have also seen code checkers warn against redundant type arguments in the second form."}],"tags":[],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695102035,"creation_date":1695101985,"answer_id":77131943,"question_id":77131630,"body_markdown":"There isn&#39;t a difference, since starting java 7, using the diamong operator,  `new HashMap&lt;&gt;()` automatically does  type inference.\r\n\r\nThe advantage of first approach, is to make the code less crowded, also avoid having too long lines, which impact readability. If you use tools like checkstyles which improve code readability, there are parameters, regarding accepted number of characters per line.","title":"Purpose of including types in generic instantiation?","body":"<p>There isn't a difference, since starting java 7, using the diamong operator,  <code>new HashMap&lt;&gt;()</code> automatically does  type inference.</p>\n<p>The advantage of first approach, is to make the code less crowded, also avoid having too long lines, which impact readability. If you use tools like checkstyles which improve code readability, there are parameters, regarding accepted number of characters per line.</p>\n"}],"owner":{"account_id":13779135,"reputation":55,"user_id":9944670,"display_name":"jozen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1695101556,"accepted_answer_id":77131943,"answer_count":1,"score":-1,"last_activity_date":1695105695,"creation_date":1695095712,"question_id":77131630,"body_markdown":"As an example, I don&#39;t understand the difference between\r\n\r\n    HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\r\n\r\nand\r\n\r\n    HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;Integer, Integer&gt;();","title":"Purpose of including types in generic instantiation?","body":"<p>As an example, I don't understand the difference between</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>and</p>\n<pre><code>HashMap&lt;Integer, Integer&gt; hashMap = new HashMap&lt;Integer, Integer&gt;();\n</code></pre>\n"},{"tags":["java","codeql"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1695487443,"post_id":77132163,"comment_id":136032306,"body_markdown":"The problem might be `c = this.asExpr()` for your `Sink`. The sink should probably not be the method call as a whole, but an argument to the method call. Could you please try replacing `c = this.asExpr()` with `c.getAnArgument() = this.asExpr()` and see if that works?","body":"The problem might be <code>c = this.asExpr()</code> for your <code>Sink</code>. The sink should probably not be the method call as a whole, but an argument to the method call. Could you please try replacing <code>c = this.asExpr()</code> with <code>c.getAnArgument() = this.asExpr()</code> and see if that works?"}],"owner":{"account_id":23156228,"reputation":1,"user_id":17257435,"display_name":"coiloffaraday"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695105268,"creation_date":1695105268,"question_id":77132163,"body_markdown":"Firstly, this is my ql script\r\n\r\n```\r\n/**\r\n * @id java/taint\r\n * @name taint\r\n * @description taint\r\n * @kind path-problem\r\n * @problem.severity warning\r\n */\r\n\r\nimport java\r\nimport semmle.code.java.dataflow.DataFlow\r\nimport semmle.code.java.dataflow.FlowSources\r\nimport semmle.code.java.dataflow.TaintTracking\r\nimport DataFlow::PathGraph\r\n\r\nprivate class Sink extends DataFlow::Node {\r\n  Sink() { exists(MethodAccess c | c.getMethod().hasName(&quot;wxLogin&quot;) and c = this.asExpr()) }\r\n}\r\n\r\nprivate class Source extends DataFlow::Node {\r\n  Source() {\r\n    exists(Parameter p |\r\n      p = this.asParameter() and\r\n      exists(Annotation a |\r\n        a = p.getAnAnnotation() and\r\n        a.getType().getName() = &quot;RequestParam&quot;\r\n      )\r\n    )\r\n  }\r\n}\r\n\r\nclass Configuration extends TaintTracking::Configuration {\r\n  Configuration() { this = &quot;Configuration&quot; }\r\n\r\n  override predicate isSource(DataFlow::Node source) { source instanceof RemoteFlowSource }\r\n\r\n  override predicate isSink(DataFlow::Node sink) { sink instanceof Sink }\r\n}\r\n\r\nfrom Configuration cfg, DataFlow::PathNode source, DataFlow::PathNode sink\r\nwhere cfg.hasFlowPath(source, sink)\r\nselect source.getNode(), source, sink, &quot;source&quot;\r\n/*\r\n * from Sink s\r\n * select s\r\n */\r\n\r\n/*\r\n * from RemoteFlowSource r\r\n * select r\r\n */\r\n\r\n```\r\n\r\nAnd the project I use to build the database is from\r\n[github](https://github.com/fu123dawe/weixin-java-miniapp-demo-master)\r\n\r\nA key part of the source project is\r\n\r\n```\r\n    @GetMapping(&quot;/login&quot;)\r\n    public void getCode(@RequestParam(&quot;code&quot;) String code) {\r\n        List&lt;WxMaProperties.Config&gt; configs = wxMaProperties.getConfigs();\r\n        String s = userService.wxLogin(configs.get(0).getAppid(), code);\r\n        System.out.println(s);\r\n    }\r\n```\r\n\r\nwhich is expected to be found a datapath in.\r\n\r\nThe taint spreads from `String code` to `wxLogin()`.\r\n\r\nBut the CodeQl gives no output.\r\n\r\nI wonder if I should do extra configs when analyzing a spring project?\r\n\r\nI&#39;ve already tried to select the sources and the sinks, which turn out to work well enough\r\n\r\n[sink](https://i.stack.imgur.com/IIxsv.png)\r\n\r\n[source](https://i.stack.imgur.com/RRCxd.png)","title":"Fail when using the taint tracking submodule of CodeQl","body":"<p>Firstly, this is my ql script</p>\n<pre><code>/**\n * @id java/taint\n * @name taint\n * @description taint\n * @kind path-problem\n * @problem.severity warning\n */\n\nimport java\nimport semmle.code.java.dataflow.DataFlow\nimport semmle.code.java.dataflow.FlowSources\nimport semmle.code.java.dataflow.TaintTracking\nimport DataFlow::PathGraph\n\nprivate class Sink extends DataFlow::Node {\n  Sink() { exists(MethodAccess c | c.getMethod().hasName(&quot;wxLogin&quot;) and c = this.asExpr()) }\n}\n\nprivate class Source extends DataFlow::Node {\n  Source() {\n    exists(Parameter p |\n      p = this.asParameter() and\n      exists(Annotation a |\n        a = p.getAnAnnotation() and\n        a.getType().getName() = &quot;RequestParam&quot;\n      )\n    )\n  }\n}\n\nclass Configuration extends TaintTracking::Configuration {\n  Configuration() { this = &quot;Configuration&quot; }\n\n  override predicate isSource(DataFlow::Node source) { source instanceof RemoteFlowSource }\n\n  override predicate isSink(DataFlow::Node sink) { sink instanceof Sink }\n}\n\nfrom Configuration cfg, DataFlow::PathNode source, DataFlow::PathNode sink\nwhere cfg.hasFlowPath(source, sink)\nselect source.getNode(), source, sink, &quot;source&quot;\n/*\n * from Sink s\n * select s\n */\n\n/*\n * from RemoteFlowSource r\n * select r\n */\n\n</code></pre>\n<p>And the project I use to build the database is from\n<a href=\"https://github.com/fu123dawe/weixin-java-miniapp-demo-master\" rel=\"nofollow noreferrer\">github</a></p>\n<p>A key part of the source project is</p>\n<pre><code>    @GetMapping(&quot;/login&quot;)\n    public void getCode(@RequestParam(&quot;code&quot;) String code) {\n        List&lt;WxMaProperties.Config&gt; configs = wxMaProperties.getConfigs();\n        String s = userService.wxLogin(configs.get(0).getAppid(), code);\n        System.out.println(s);\n    }\n</code></pre>\n<p>which is expected to be found a datapath in.</p>\n<p>The taint spreads from <code>String code</code> to <code>wxLogin()</code>.</p>\n<p>But the CodeQl gives no output.</p>\n<p>I wonder if I should do extra configs when analyzing a spring project?</p>\n<p>I've already tried to select the sources and the sinks, which turn out to work well enough</p>\n<p><a href=\"https://i.stack.imgur.com/IIxsv.png\" rel=\"nofollow noreferrer\">sink</a></p>\n<p><a href=\"https://i.stack.imgur.com/RRCxd.png\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695104368,"creation_date":1695104368,"answer_id":77132091,"question_id":77127373,"body_markdown":"I got the workaround You can&#39;t play using embedded link of loom use webview to play the video.\r\n```\r\npackage com.mokshasolutions.hastekhelte.common;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.WindowManager;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport java.util.Objects;\r\n\r\npublic class VideoPlayerActivity extends AppCompatActivity {\r\n    String videoUrl = &quot;YOUR_LINK&quot;;\r\n    private WebView webView;\r\n    String url;\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        setContentView(R.layout.activity_video_player);\r\n        Objects.requireNonNull(getSupportActionBar()).hide();\r\n\r\n        webView = findViewById(R.id.webView);\r\n      \r\n            webView.setWebViewClient(new WebViewClient() {\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, String \r\n                    url) {\r\n                    // Prevent the WebView from navigating to clicked links\r\n                    return true;\r\n                }\r\n            });\r\n            webView.getSettings().setLoadsImagesAutomatically(true);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            // Load your desired webpage\r\n            webView.loadUrl(videoUrl);\r\n       \r\n    }\r\n\r\n}\r\n```","title":"Ho to play loom embedded video in java in android","body":"<p>I got the workaround You can't play using embedded link of loom use webview to play the video.</p>\n<pre><code>package com.mokshasolutions.hastekhelte.common;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.WindowManager;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\nimport java.util.Objects;\n\npublic class VideoPlayerActivity extends AppCompatActivity {\n    String videoUrl = &quot;YOUR_LINK&quot;;\n    private WebView webView;\n    String url;\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setContentView(R.layout.activity_video_player);\n        Objects.requireNonNull(getSupportActionBar()).hide();\n\n        webView = findViewById(R.id.webView);\n      \n            webView.setWebViewClient(new WebViewClient() {\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, String \n                    url) {\n                    // Prevent the WebView from navigating to clicked links\n                    return true;\n                }\n            });\n            webView.getSettings().setLoadsImagesAutomatically(true);\n            webView.getSettings().setJavaScriptEnabled(true);\n            // Load your desired webpage\n            webView.loadUrl(videoUrl);\n       \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26107900,"reputation":76,"user_id":19802321,"display_name":"Shaikh Faizan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695104394,"creation_date":1695041508,"question_id":77127373,"body_markdown":"I want to play a embedded video of loom in my android application.\r\nI have tried VideoView but that doesn&#39;t work it says can&#39;t play this video any workaround for that.\r\nBelow is my code done in videoview\r\n```\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.WindowManager;\r\nimport android.widget.MediaController;\r\nimport android.widget.VideoView;\r\n\r\n\r\npublic class VideoPlayerActivity extends AppCompatActivity {\r\n    String videoUrl = &quot;YOUR_LOOM_LINK&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_video_player);\r\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n        VideoView videoView = findViewById(R.id.videoView);\r\n        Uri uri = Uri.parse(videoUrl);\r\n\r\n        // sets the resource from the\r\n        // videoUrl to the videoView\r\n        videoView.setVideoURI(uri);\r\n\r\n        // creating object of\r\n        // media controller class\r\n        MediaController mediaController = new MediaController(this);\r\n\r\n        // sets the anchor view\r\n        // anchor view for the videoView\r\n        mediaController.setAnchorView(videoView);\r\n\r\n        // sets the media player to the videoView\r\n        mediaController.setMediaPlayer(videoView);\r\n\r\n        // sets the media controller to the videoView\r\n        videoView.setMediaController(mediaController);\r\n\r\n        // starts the video\r\n        videoView.start();\r\n    }\r\n}\r\n```","title":"Ho to play loom embedded video in java in android","body":"<p>I want to play a embedded video of loom in my android application.\nI have tried VideoView but that doesn't work it says can't play this video any workaround for that.\nBelow is my code done in videoview</p>\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.WindowManager;\nimport android.widget.MediaController;\nimport android.widget.VideoView;\n\n\npublic class VideoPlayerActivity extends AppCompatActivity {\n    String videoUrl = &quot;YOUR_LOOM_LINK&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_video_player);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        VideoView videoView = findViewById(R.id.videoView);\n        Uri uri = Uri.parse(videoUrl);\n\n        // sets the resource from the\n        // videoUrl to the videoView\n        videoView.setVideoURI(uri);\n\n        // creating object of\n        // media controller class\n        MediaController mediaController = new MediaController(this);\n\n        // sets the anchor view\n        // anchor view for the videoView\n        mediaController.setAnchorView(videoView);\n\n        // sets the media player to the videoView\n        mediaController.setMediaPlayer(videoView);\n\n        // sets the media controller to the videoView\n        videoView.setMediaController(mediaController);\n\n        // starts the video\n        videoView.start();\n    }\n}\n</code></pre>\n"},{"tags":["java","odata","sap-fiori","cds"],"answers":[{"tags":[],"owner":{"account_id":3269319,"reputation":376,"user_id":2753020,"display_name":"wanderlandderek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695104304,"creation_date":1695104304,"answer_id":77132085,"question_id":77110209,"body_markdown":"please check out here https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert , I guess you need a deep insert here if I understand you correctly. Then you need composition rather than association.\r\n\r\n*Note that Associations and Compositions are handled differently in (deep) inserts and updates:\r\nCompositions  runtime deeply creates or updates entries in target entities\r\nAssociations  runtime fills in foreign keys to existing target entries*","title":"Unable to update the association field","body":"<p>please check out here <a href=\"https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert\" rel=\"nofollow noreferrer\">https://cap.cloud.sap/docs/guides/providing-services#%E2%80%93-deep-insert</a> , I guess you need a deep insert here if I understand you correctly. Then you need composition rather than association.</p>\n<p><em>Note that Associations and Compositions are handled differently in (deep) inserts and updates:\nCompositions  runtime deeply creates or updates entries in target entities\nAssociations  runtime fills in foreign keys to existing target entries</em></p>\n"}],"owner":{"account_id":29441653,"reputation":1,"user_id":22559673,"display_name":"Jhunulata Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695104304,"creation_date":1694760619,"question_id":77110209,"body_markdown":"Unable to update the association field:\r\n----------------------------------------\r\n\r\nCDS Entity 1:\r\n-----------\r\n entity PackagingIssues : cuid, managed {\r\n\r\n    PackagingIssueId  :  String;\r\n    issueDes          :  String(80);\r\n    postingDocument   :  PostingDocument;\r\n    }\r\n\r\nCDS Entity 2:\r\n------------\r\n\r\nentity PostingDocuments : cuid,managed {\r\n\r\n    PostingDocumentName  :  String;\r\n    packagingIssue      : Association to many PackagingIssues on \r\n    packagingIssue.postingDocument = $self;\r\n}\r\n\r\n\r\nI have above two entity, i am trying to modify &quot;packagingIssue&quot;, which is a Association of &quot;one-many&quot;.\r\n\r\n\r\n1)when trying **to add new PackagingIssue to the list** and running Update query, then getting  below error\r\n\r\n2023-09-14 17:36:32.155  INFO 24764 --- [nio-8080-exec-9] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 10 as cancelled: Invalid CQN: UPSERT entity &#39;com.sap.di.irp.packagingIssue.PackagingIssues&#39; via association &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; is not allowed. **The association does not cascade insert or update**. (service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n2)when trying to **remove existing object from list** and running Update query, then getting below error\r\n\r\n2023-09-13 17:57:09.198  INFO 23132 --- [io-8080-exec-10] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 44 as cancelled: Invalid CQN: UPDATE entity &#39;com.sap.di.irp.packagingIssue.PackagingIssues&#39; via association &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; is not allowed. **The association does not cascade update.** (service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n\r\n3)when trying **to make existing list null** and running Update query, then getting below error\r\n\r\nError:\r\non marked the ChangeSet 2 as cancelled: Invalid CQN: **Value for to-many associatio**n &#39;com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue&#39; **must not be null. **(service &#39;PersistenceService$Default&#39;, event &#39;UPDATE&#39;, entity &#39;com.sap.di.irp.postingDocument.PostingDocuments&#39;)\r\n\r\n\r\nPlease dont hesitate to share your thoughts.\r\n\r\n\r\n\r\nExpecting better solution to update association field","title":"Unable to update the association field","body":"<h2>Unable to update the association field:</h2>\n<h2>CDS Entity 1:</h2>\n<p>entity PackagingIssues : cuid, managed {</p>\n<pre><code>PackagingIssueId  :  String;\nissueDes          :  String(80);\npostingDocument   :  PostingDocument;\n}\n</code></pre>\n<h2>CDS Entity 2:</h2>\n<p>entity PostingDocuments : cuid,managed {</p>\n<pre><code>PostingDocumentName  :  String;\npackagingIssue      : Association to many PackagingIssues on \npackagingIssue.postingDocument = $self;\n</code></pre>\n<p>}</p>\n<p>I have above two entity, i am trying to modify &quot;packagingIssue&quot;, which is a Association of &quot;one-many&quot;.</p>\n<p>1)when trying <strong>to add new PackagingIssue to the list</strong> and running Update query, then getting  below error</p>\n<p>2023-09-14 17:36:32.155  INFO 24764 --- [nio-8080-exec-9] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 10 as cancelled: Invalid CQN: UPSERT entity 'com.sap.di.irp.packagingIssue.PackagingIssues' via association 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' is not allowed. <strong>The association does not cascade insert or update</strong>. (service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>2)when trying to <strong>remove existing object from list</strong> and running Update query, then getting below error</p>\n<p>2023-09-13 17:57:09.198  INFO 23132 --- [io-8080-exec-10] c.s.c.a.o.v4.processors.CdsProcessor     : Exception marked the ChangeSet 44 as cancelled: Invalid CQN: UPDATE entity 'com.sap.di.irp.packagingIssue.PackagingIssues' via association 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' is not allowed. <strong>The association does not cascade update.</strong> (service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>3)when trying <strong>to make existing list null</strong> and running Update query, then getting below error</p>\n<p>Error:\non marked the ChangeSet 2 as cancelled: Invalid CQN: <strong>Value for to-many associatio</strong>n 'com.sap.di.irp.postingDocument.PostingDocuments.packagingIssue' **must not be null. **(service 'PersistenceService$Default', event 'UPDATE', entity 'com.sap.di.irp.postingDocument.PostingDocuments')</p>\n<p>Please dont hesitate to share your thoughts.</p>\n<p>Expecting better solution to update association field</p>\n"},{"tags":["java","android","android-assets"],"comments":[{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":1,"creation_date":1559719965,"post_id":22906068,"comment_id":99504145,"body_markdown":"I found a way to do it refer to my answer [here](https://stackoverflow.com/a/56455963/2462531)","body":"I found a way to do it refer to my answer <a href=\"https://stackoverflow.com/a/56455963/2462531\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":1634874,"reputation":789,"user_id":1508641,"accept_rate":92,"display_name":"sivanesan1"},"score":6,"creation_date":1396856172,"post_id":22906111,"comment_id":34959160,"body_markdown":"java.io.FileNotFoundException: /file:/android_asset/raw/sample/logout.png","body":"java.io.FileNotFoundException: /file:/android_asset/raw/sample/logout.png"},{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":3,"creation_date":1404252438,"post_id":22906111,"comment_id":37964655,"body_markdown":"Does not return the actual file path.","body":"Does not return the actual file path."}],"tags":[],"owner":{"account_id":890754,"reputation":7857,"user_id":929075,"accept_rate":67,"display_name":"Ion Aalbers"},"comment_count":2,"down_vote_count":3,"up_vote_count":13,"is_accepted":false,"score":10,"last_activity_date":1396855834,"creation_date":1396855834,"answer_id":22906111,"question_id":22906068,"body_markdown":"Try:\r\n\r\n    file:///android_asset/raw/sample/logout.png\r\n\r\n\r\nIf you have a Context, you can use `context.getAssets().open(&quot;raw/sample/logout.png&quot;)` to open an `InputStream` on the file. ","title":"how to get file path of asset folder in android","body":"<p>Try:</p>\n\n<pre><code>file:///android_asset/raw/sample/logout.png\n</code></pre>\n\n<p>If you have a Context, you can use <code>context.getAssets().open(\"raw/sample/logout.png\")</code> to open an <code>InputStream</code> on the file. </p>\n"},{"comments":[{"owner":{"account_id":3122255,"reputation":455,"user_id":2641797,"accept_rate":22,"display_name":"Sanu"},"score":0,"creation_date":1396856362,"post_id":22906128,"comment_id":34959263,"body_markdown":"Use toString() to convert a Uri to a String. Use Uri.parse() to convert a String to a Uri.","body":"Use toString() to convert a Uri to a String. Use Uri.parse() to convert a String to a Uri."},{"owner":{"account_id":1634874,"reputation":789,"user_id":1508641,"accept_rate":92,"display_name":"sivanesan1"},"score":1,"creation_date":1396857294,"post_id":22906128,"comment_id":34959806,"body_markdown":"i use exactly same code of what you give but File not found exception only comes, Actually i pass the file path in a third party method and its only gives that error. is their any method avail to check the above code is working correct or not.","body":"i use exactly same code of what you give but File not found exception only comes, Actually i pass the file path in a third party method and its only gives that error. is their any method avail to check the above code is working correct or not."},{"owner":{"account_id":1339515,"reputation":23845,"user_id":1281501,"accept_rate":58,"display_name":"lostintranslation"},"score":2,"creation_date":1404252414,"post_id":22906128,"comment_id":37964647,"body_markdown":"Same problem you cannot get the absolute path to a file this way.","body":"Same problem you cannot get the absolute path to a file this way."},{"owner":{"account_id":5270565,"reputation":796,"user_id":4231538,"accept_rate":52,"display_name":"Matt"},"score":0,"creation_date":1492221526,"post_id":22906128,"comment_id":73901706,"body_markdown":"returns FileNotFoundException","body":"returns FileNotFoundException"}],"tags":[],"owner":{"account_id":3122255,"reputation":455,"user_id":2641797,"accept_rate":22,"display_name":"Sanu"},"comment_count":4,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1396856331,"creation_date":1396855891,"answer_id":22906128,"question_id":22906068,"body_markdown":"Assets and resources are accessible using file:///android_asset and file:///android_res.\r\n\r\n     Uri path = Uri.parse(&quot;file:///android_asset/raw/sample/logout.png&quot;);\r\n\r\n     String newPath = path.toString();\r\n\t\t","title":"how to get file path of asset folder in android","body":"<p>Assets and resources are accessible using file:///android_asset and file:///android_res.</p>\n\n<pre><code> Uri path = Uri.parse(\"file:///android_asset/raw/sample/logout.png\");\n\n String newPath = path.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6450469,"reputation":66,"user_id":4997536,"display_name":"Nazmul Alam Khan"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1464674159,"creation_date":1464674159,"answer_id":37537806,"question_id":22906068,"body_markdown":"You could put your mp3 files at : res/raw folder.        \r\n\r\n    MediaPlayer mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.myringtone);\r\n    mediaPlayer.start();","title":"how to get file path of asset folder in android","body":"<p>You could put your mp3 files at : res/raw folder.        </p>\n\n<pre><code>MediaPlayer mediaPlayer = MediaPlayer.create(getApplicationContext(), R.raw.myringtone);\nmediaPlayer.start();\n</code></pre>\n"}],"owner":{"account_id":1634874,"reputation":789,"user_id":1508641,"accept_rate":92,"display_name":"sivanesan1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87874,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":37537806,"answer_count":3,"score":14,"last_activity_date":1695102177,"creation_date":1396855727,"question_id":22906068,"body_markdown":"I have an Android application used to transfer the .png image from asset folder of Android application to my local server. I need to get the path of image in asset folder, pls refer my code below,\r\n\r\n    String stringPath = &quot;android.resource//&quot;+getPackageName()+&quot;/raw/sample/logout.png&quot;;\t\t\t\t\r\n    File f = new File(stringPath);\r\n\r\nIf I use the above code I got &quot;File not found exception&quot;. So how to take image path in asset folder?\r\n\r\n","title":"how to get file path of asset folder in android","body":"<p>I have an Android application used to transfer the .png image from asset folder of Android application to my local server. I need to get the path of image in asset folder, pls refer my code below,</p>\n\n<pre><code>String stringPath = \"android.resource//\"+getPackageName()+\"/raw/sample/logout.png\";             \nFile f = new File(stringPath);\n</code></pre>\n\n<p>If I use the above code I got \"File not found exception\". So how to take image path in asset folder?</p>\n"},{"tags":["java","maven","unit-testing","testing","hibernate-validator"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1692750287,"post_id":76956469,"comment_id":135666133,"body_markdown":"I would check to run your build with JDK 8...","body":"I would check to run your build with JDK 8..."},{"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"score":0,"creation_date":1692794315,"post_id":76956469,"comment_id":135672358,"body_markdown":"The POM requires JDK 11 but the README reads `You will also need a JDK 17+ and Maven 3 (&gt;= 3.3.1).`","body":"The POM requires JDK 11 but the README reads <code>You will also need a JDK 17+ and Maven 3 (&gt;= 3.3.1).</code>"}],"answers":[{"tags":[],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100993,"creation_date":1695100993,"answer_id":77131895,"question_id":76956469,"body_markdown":"Maven revolves around **goals** which are composable (eg.: `test` goals is made of `compile` goal, same is true for `install` and `test`, respectively).\r\n\r\nAFAIK, `install` goal will `test`, `compile`, `package` and `copy artifact to local repository`.\r\n\r\nIn order to avoid the latter side effect (polluting my local repository because it is shared across projects), I have been doing &lt;del&gt;`mvn clean test`&lt;/del&gt;... Until this morning:\r\n```shell\r\n# More tests passed with this\r\nmvn clean install\r\n```\r\n\r\n`hibernate-validator-distribution` then failed with:\r\n\r\n&gt; hibernate-validator-distribution: An error has occurred in Javadoc report generation: Unable to find javadoc command: The environment variable JAVA_HOME is not correctly set.\r\n\r\nI had `JAVA_HOME=&quot;...&quot;` in both my **~/.bashrc** and **~/.ondirrc** but the fix was:\r\n```sh\r\nexport JAVA_HOME=&quot;$JAVA_HOME&quot;\r\n```\r\n\r\n*NOTE TO SELF: I guess I don&#39;t know what I don&#39;t know.*","title":"How to run tests for OSS Hibernqte Validator on Linux","body":"<p>Maven revolves around <strong>goals</strong> which are composable (eg.: <code>test</code> goals is made of <code>compile</code> goal, same is true for <code>install</code> and <code>test</code>, respectively).</p>\n<p>AFAIK, <code>install</code> goal will <code>test</code>, <code>compile</code>, <code>package</code> and <code>copy artifact to local repository</code>.</p>\n<p>In order to avoid the latter side effect (polluting my local repository because it is shared across projects), I have been doing <del><code>mvn clean test</code></del>... Until this morning:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># More tests passed with this\nmvn clean install\n</code></pre>\n<p><code>hibernate-validator-distribution</code> then failed with:</p>\n<blockquote>\n<p>hibernate-validator-distribution: An error has occurred in Javadoc report generation: Unable to find javadoc command: The environment variable JAVA_HOME is not correctly set.</p>\n</blockquote>\n<p>I had <code>JAVA_HOME=&quot;...&quot;</code> in both my <strong>~/.bashrc</strong> and <strong>~/.ondirrc</strong> but the fix was:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_HOME=&quot;$JAVA_HOME&quot;\n</code></pre>\n<p><em>NOTE TO SELF: I guess I don't know what I don't know.</em></p>\n"}],"owner":{"account_id":4620550,"reputation":1723,"user_id":3748178,"accept_rate":22,"display_name":"Salathiel Genese"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695100993,"creation_date":1692733678,"question_id":76956469,"body_markdown":"I started fiddling around [Hibernate Validator](https://github.com/hibernate/hibernate-validator), OSS Project in order to fork it later. But I cannot run the tests locally. I followed the official documentation for [Contributing to Hibernate Validator](http://hibernate.org/validator/contribute/) which has a section for **Building from Source**.\r\n\r\n#### So why asking on SO instead?\r\n\r\nI&#39;ve been rumbling about this for a couple of months now and last weekend, a friend decided to look into it. Initially, it failed just as with on my PC. But he checked out the `8.0.1.Final` tag and it succeeded.\r\n\r\nSo late last night, I tried it and failed. It happens that:\r\n\r\n+ he is on Windows, using JDK 17 from Oracle vs. I&#39;m on Ubuntu 22.04 with Oracle JDK 17\r\n+ previously, I failed with Graal VM for JDK 19, OpenLogic&#39;s JDK 17\r\n+ he&#39;s on Maven `3.9.3` and I tried on `3.9.0` &amp; `3.9.4`\r\n\r\nSome module test passed with Maven `3.9.4` &amp; Oracle&#39;s JDK 17:\r\n```\r\nApache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\r\nMaven home: /home/salathiel/.local/bin/maven\r\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: /home/salathiel/.local/opt/jdk-17.0.8\r\nDefault locale: en_GB, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;6.2.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n#### Personal Reflections\r\n\r\nI do not think a Java project as Hibernate is made to be developed on Windows only, nor compiled with a specific JDK version/edition. I must be missing on something fundamental.\r\n\r\n#### Enough whining\r\n\r\nI&#39;m concerned with two weird exceptions:\r\n\r\n+ NoClassDefFound\r\n+ JavaSecurityException\r\n\r\nHere is the stack trace:\r\n```\r\n[INFO] Running TestSuite\r\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0, Time elapsed: 24.262 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] testUnknownProviderConfiguredInValidationXml(org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest)  Time elapsed: 0.037 s  &lt;&lt;&lt; FAILURE!\r\norg.testng.TestException: \r\n\r\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\r\n\tat org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest.testUnknownProviderConfiguredInValidationXml(BootstrapNonAvailableValidationProviderTest.java:58)\r\n```\r\n[...]\r\n```\r\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\r\n\tat org.hibernate.beanvalidation.tck.tests.xmlconfiguration.versioning.UnknownVersionInValidationXmlTest.testValidationXmlWithUnknownSchemaVersion(UnknownVersionInValidationXmlTest.java:43)\r\n```\r\n[...]\r\n```\r\n[INFO] \r\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n```","title":"How to run tests for OSS Hibernqte Validator on Linux","body":"<p>I started fiddling around <a href=\"https://github.com/hibernate/hibernate-validator\" rel=\"nofollow noreferrer\">Hibernate Validator</a>, OSS Project in order to fork it later. But I cannot run the tests locally. I followed the official documentation for <a href=\"http://hibernate.org/validator/contribute/\" rel=\"nofollow noreferrer\">Contributing to Hibernate Validator</a> which has a section for <strong>Building from Source</strong>.</p>\n<h4>So why asking on SO instead?</h4>\n<p>I've been rumbling about this for a couple of months now and last weekend, a friend decided to look into it. Initially, it failed just as with on my PC. But he checked out the <code>8.0.1.Final</code> tag and it succeeded.</p>\n<p>So late last night, I tried it and failed. It happens that:</p>\n<ul>\n<li>he is on Windows, using JDK 17 from Oracle vs. I'm on Ubuntu 22.04 with Oracle JDK 17</li>\n<li>previously, I failed with Graal VM for JDK 19, OpenLogic's JDK 17</li>\n<li>he's on Maven <code>3.9.3</code> and I tried on <code>3.9.0</code> &amp; <code>3.9.4</code></li>\n</ul>\n<p>Some module test passed with Maven <code>3.9.4</code> &amp; Oracle's JDK 17:</p>\n<pre><code>Apache Maven 3.9.4 (dfbb324ad4a7c8fb0bf182e6d91b0ae20e3d2dd9)\nMaven home: /home/salathiel/.local/bin/maven\nJava version: 17.0.8, vendor: Oracle Corporation, runtime: /home/salathiel/.local/opt/jdk-17.0.8\nDefault locale: en_GB, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;6.2.0-26-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<h4>Personal Reflections</h4>\n<p>I do not think a Java project as Hibernate is made to be developed on Windows only, nor compiled with a specific JDK version/edition. I must be missing on something fundamental.</p>\n<h4>Enough whining</h4>\n<p>I'm concerned with two weird exceptions:</p>\n<ul>\n<li>NoClassDefFound</li>\n<li>JavaSecurityException</li>\n</ul>\n<p>Here is the stack trace:</p>\n<pre><code>[INFO] Running TestSuite\n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0, Time elapsed: 24.262 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] testUnknownProviderConfiguredInValidationXml(org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest)  Time elapsed: 0.037 s  &lt;&lt;&lt; FAILURE!\norg.testng.TestException: \n\nExpected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\n    at org.hibernate.beanvalidation.tck.tests.bootstrap.customprovider.BootstrapNonAvailableValidationProviderTest.testUnknownProviderConfiguredInValidationXml(BootstrapNonAvailableValidationProviderTest.java:58)\n</code></pre>\n<p>[...]</p>\n<pre><code>Expected exception of type class jakarta.validation.ValidationException but got java.security.AccessControlException: access denied (&quot;java.lang.RuntimePermission&quot; &quot;setContextClassLoader&quot;)\n    at org.hibernate.beanvalidation.tck.tests.xmlconfiguration.versioning.UnknownVersionInValidationXmlTest.testValidationXmlWithUnknownSchemaVersion(UnknownVersionInValidationXmlTest.java:43)\n</code></pre>\n<p>[...]</p>\n<pre><code>[INFO] \n[ERROR] Tests run: 982, Failures: 963, Errors: 0, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":60226,"reputation":2455,"user_id":179962,"display_name":"Alex"},"score":8,"creation_date":1421867074,"post_id":28074776,"comment_id":44528838,"body_markdown":"I don&#39;t know if I&#39;d call that a hack, a core feature of Maven is to allow variable substitution","body":"I don&#39;t know if I&#39;d call that a hack, a core feature of Maven is to allow variable substitution"},{"owner":{"account_id":4767693,"reputation":1089,"user_id":3853394,"accept_rate":100,"display_name":"stef52"},"score":0,"creation_date":1422025942,"post_id":28074776,"comment_id":44599447,"body_markdown":"It was something I was trying to prevent but it does get the job done.","body":"It was something I was trying to prevent but it does get the job done."},{"owner":{"account_id":1191616,"reputation":5939,"user_id":1164246,"accept_rate":53,"display_name":"Daniel"},"score":0,"creation_date":1470256553,"post_id":28074776,"comment_id":64880166,"body_markdown":"About `&lt;username&gt;${internal.repo.username}&lt;/username&gt;`: do you mean adding it to `settings.xml` or `pom.xml`?","body":"About <code>&lt;username&gt;${internal.repo.username}&lt;&#47;username&gt;</code>: do you mean adding it to <code>settings.xml</code> or <code>pom.xml</code>?"},{"owner":{"account_id":1191616,"reputation":5939,"user_id":1164246,"accept_rate":53,"display_name":"Daniel"},"score":0,"creation_date":1470256594,"post_id":28074776,"comment_id":64880185,"body_markdown":"I think variable substitution is not possible for `settings.xml` so I think you are referring to `pom.xml`","body":"I think variable substitution is not possible for <code>settings.xml</code> so I think you are referring to <code>pom.xml</code>"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":1,"creation_date":1470257485,"post_id":28074776,"comment_id":64880653,"body_markdown":"I&#39;m talking about the `settings.xml`","body":"I&#39;m talking about the <code>settings.xml</code>"},{"owner":{"account_id":3505571,"reputation":989,"user_id":2931171,"display_name":"Magnus Reftel"},"score":0,"creation_date":1496217674,"post_id":28074776,"comment_id":75564919,"body_markdown":"Interpolation of properties is supported in settings.xml since Maven 3.0, according to https://maven.apache.org/settings.html#Quick_Overview","body":"Interpolation of properties is supported in settings.xml since Maven 3.0, according to <a href=\"https://maven.apache.org/settings.html#Quick_Overview\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html#Quick_Overview</a>"},{"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"score":7,"creation_date":1564681202,"post_id":28074776,"comment_id":101120637,"body_markdown":"I am building a project using bitbucket pipelines and a public Docker image. For various reasons it would be much easier to pass the user name and password via options to mvn, as described in the original post. Is there any way to do this?","body":"I am building a project using bitbucket pipelines and a public Docker image. For various reasons it would be much easier to pass the user name and password via options to mvn, as described in the original post. Is there any way to do this?"},{"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"score":0,"creation_date":1565964471,"post_id":28074776,"comment_id":101518677,"body_markdown":"@aloraine the sourcecode will confirm: no. You&#39;ll always need a `settings.xml`. You might want to write a maven-extension to change that.","body":"@aloraine the sourcecode will confirm: no. You&#39;ll always need a <code>settings.xml</code>. You might want to write a maven-extension to change that."}],"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"comment_count":8,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1421866830,"creation_date":1421866830,"answer_id":28074776,"question_id":28071697,"body_markdown":"The `settings.xml` is considered personal, so for that reason the username+password are stored in the (user-)`settings.xml`. So in general there&#39;s no reason to pass them as argument. (btw, passwords can be stored encrypted here) The `maven-deploy-plugin` has no option to pass them via commandline. However, I&#39;ve seen hacks like:\r\n\r\n    &lt;username&gt;${internal.repo.username}&lt;/username&gt;\r\n\r\nAnd now you can do `-Dinternal.repo.username=someUser`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>The <code>settings.xml</code> is considered personal, so for that reason the username+password are stored in the (user-)<code>settings.xml</code>. So in general there's no reason to pass them as argument. (btw, passwords can be stored encrypted here) The <code>maven-deploy-plugin</code> has no option to pass them via commandline. However, I've seen hacks like:</p>\n\n<pre><code>&lt;username&gt;${internal.repo.username}&lt;/username&gt;\n</code></pre>\n\n<p>And now you can do <code>-Dinternal.repo.username=someUser</code></p>\n"},{"comments":[{"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"score":1,"creation_date":1567544823,"post_id":55970125,"comment_id":101992390,"body_markdown":"Thanks! I&#39;m using bitbucket pipelines with a publicly available Docker file to provide build environment, so I want to avoid hardcoding the user name and password into the settings.xml file. The proposed solution above should work great.","body":"Thanks! I&#39;m using bitbucket pipelines with a publicly available Docker file to provide build environment, so I want to avoid hardcoding the user name and password into the settings.xml file. The proposed solution above should work great."},{"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"score":0,"creation_date":1568771821,"post_id":55970125,"comment_id":102376863,"body_markdown":"A followup: Can I also parameterize the repo id, e.g, &lt;id&gt;$id&lt;/id&gt; (inside settings.xml)?","body":"A followup: Can I also parameterize the repo id, e.g, &lt;id&gt;$id&lt;/id&gt; (inside settings.xml)?"},{"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"score":1,"creation_date":1568888271,"post_id":55970125,"comment_id":102421819,"body_markdown":"Answer is &quot;yes&quot; -- repository identifier can also be a parameter.","body":"Answer is &quot;yes&quot; -- repository identifier can also be a parameter."},{"owner":{"account_id":6106842,"reputation":167,"user_id":4764358,"display_name":"Radim G&#246;th"},"score":0,"creation_date":1596199497,"post_id":55970125,"comment_id":111743253,"body_markdown":"I&#39;ve created a convenient docker image for that.https://foldingstuff.tech/simple-maven-deploy-with-credentials-as-arguments/","body":"I&#39;ve created a convenient docker image for that.<a href=\"https://foldingstuff.tech/simple-maven-deploy-with-credentials-as-arguments/\" rel=\"nofollow noreferrer\">foldingstuff.tech/&hellip;</a>"},{"owner":{"account_id":517408,"reputation":195,"user_id":3181413,"display_name":"dmarrazzo"},"score":0,"creation_date":1610632209,"post_id":55970125,"comment_id":116197770,"body_markdown":"Great trick! Thank you. Can you change `install` with `deploy`?","body":"Great trick! Thank you. Can you change <code>install</code> with <code>deploy</code>?"},{"owner":{"account_id":4519270,"reputation":4773,"user_id":3673073,"display_name":"divine"},"score":0,"creation_date":1680600474,"post_id":55970125,"comment_id":133921735,"body_markdown":"receiving &#39;servers.server[0].id&#39; is missing - any idea on how to fix this?","body":"receiving &#39;servers.server[0].id&#39; is missing - any idea on how to fix this?"}],"tags":[],"owner":{"account_id":3433285,"reputation":4199,"user_id":2877029,"accept_rate":62,"display_name":"Viacheslav Shalamov"},"comment_count":6,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1595846768,"creation_date":1556887593,"answer_id":55970125,"question_id":28071697,"body_markdown":"I&#39;ll lay out here the full solution, but basically Robert Scholte&#39;s solution works brilliant.\r\n\r\nIn your `~/.m2/settings.xml` you should have the following\r\n\r\n```xml\r\n&lt;settings&gt;\r\n    &lt;servers&gt;\r\n        &lt;server&gt;\r\n            &lt;id&gt;${repo.id}&lt;/id&gt;\r\n            &lt;username&gt;${repo.login}&lt;/username&gt;\r\n            &lt;password&gt;${repo.pwd}&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n&lt;/settings&gt;  \r\n```\r\n\r\nand then you just \r\n\r\n`mvn  -Drepo.id=myRepo -Drepo.login=someUser -Drepo.pwd=somePassword clean install`\r\n\r\nYou can even use your environment variable (if you are doing that on the remote server/container, for example):\r\n\r\n`mvn -Drepo.id=$REPO_ID -Drepo.login=$REPO_LOGIN -Drepo.pwd=$REPO_PWD clean install`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>I'll lay out here the full solution, but basically Robert Scholte's solution works brilliant.</p>\n<p>In your <code>~/.m2/settings.xml</code> you should have the following</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;settings&gt;\n    &lt;servers&gt;\n        &lt;server&gt;\n            &lt;id&gt;${repo.id}&lt;/id&gt;\n            &lt;username&gt;${repo.login}&lt;/username&gt;\n            &lt;password&gt;${repo.pwd}&lt;/password&gt;\n        &lt;/server&gt;\n    &lt;/servers&gt;\n&lt;/settings&gt;  \n</code></pre>\n<p>and then you just</p>\n<p><code>mvn  -Drepo.id=myRepo -Drepo.login=someUser -Drepo.pwd=somePassword clean install</code></p>\n<p>You can even use your environment variable (if you are doing that on the remote server/container, for example):</p>\n<p><code>mvn -Drepo.id=$REPO_ID -Drepo.login=$REPO_LOGIN -Drepo.pwd=$REPO_PWD clean install</code></p>\n"},{"tags":[],"owner":{"account_id":10274925,"reputation":106,"user_id":7582177,"display_name":"aloraine"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1568888338,"creation_date":1568888338,"answer_id":58008821,"question_id":28071697,"body_markdown":"This also works:\r\n\r\n    &lt;server&gt;\r\n      &lt;id&gt;${repo.id}&lt;/id&gt;\r\n      &lt;username&gt;${repo.username}&lt;/username&gt;\r\n      &lt;password&gt;${repo.password}&lt;/password&gt;\r\n    &lt;/server&gt;\r\n\r\n","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>This also works:</p>\n\n<pre><code>&lt;server&gt;\n  &lt;id&gt;${repo.id}&lt;/id&gt;\n  &lt;username&gt;${repo.username}&lt;/username&gt;\n  &lt;password&gt;${repo.password}&lt;/password&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16452558,"reputation":1,"user_id":22590118,"display_name":"Ashish kumar jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100833,"creation_date":1695100833,"answer_id":77131884,"question_id":28071697,"body_markdown":"&gt; It is working fine for me, we can define username and password\r\n&gt; variable mane anything, we choose,  but we must use the `repositoryId`\r\n&gt; variable for the id in the settings.xml.\r\n\r\n***It has been tested with maven version &quot;Apache Maven 3.6.3 (Red Hat 3.6.3-13)&quot;***\r\n\r\nAdd this snippet to settings.xml :\r\n================================== \r\n\r\n    &lt;servers&gt;\r\n      &lt;server&gt;\r\n        &lt;id&gt;${repositoryId}&lt;/id&gt;\r\n        &lt;username&gt;${repo.login}&lt;/username&gt;\r\n        &lt;password&gt;${repo.pwd}&lt;/password&gt;\r\n      &lt;/server&gt;\r\n    &lt;/servers&gt;\r\n\r\nRun this snippet to upload a file to Nexus : \r\n============================================\r\n\r\n    mvn deploy:deploy-file -DrepositoryId=&lt;repoid&gt; -Drepo.login=&lt;username&gt; -Drepo.pwd=&lt;password&gt; -Durl=http://&lt;url of Nuxus&gt;:&lt;port&gt;/repository/&lt;repository space&gt; -Dfile=&lt;file location&gt; -DgroupId=&lt;Group Id&gt; -DartifactId=&lt;artfact id&gt;  -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt; -Dclassifier=&lt;classifier&gt; -X","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<blockquote>\n<p>It is working fine for me, we can define username and password\nvariable mane anything, we choose,  but we must use the <code>repositoryId</code>\nvariable for the id in the settings.xml.</p>\n</blockquote>\n<p><em><strong>It has been tested with maven version &quot;Apache Maven 3.6.3 (Red Hat 3.6.3-13)&quot;</strong></em></p>\n<h1>Add this snippet to settings.xml :</h1>\n<pre><code>&lt;servers&gt;\n  &lt;server&gt;\n    &lt;id&gt;${repositoryId}&lt;/id&gt;\n    &lt;username&gt;${repo.login}&lt;/username&gt;\n    &lt;password&gt;${repo.pwd}&lt;/password&gt;\n  &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n<h1>Run this snippet to upload a file to Nexus :</h1>\n<pre><code>mvn deploy:deploy-file -DrepositoryId=&lt;repoid&gt; -Drepo.login=&lt;username&gt; -Drepo.pwd=&lt;password&gt; -Durl=http://&lt;url of Nuxus&gt;:&lt;port&gt;/repository/&lt;repository space&gt; -Dfile=&lt;file location&gt; -DgroupId=&lt;Group Id&gt; -DartifactId=&lt;artfact id&gt;  -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt; -Dclassifier=&lt;classifier&gt; -X\n</code></pre>\n"}],"owner":{"account_id":4767693,"reputation":1089,"user_id":3853394,"accept_rate":100,"display_name":"stef52"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90676,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":28074776,"answer_count":4,"score":57,"last_activity_date":1695100833,"creation_date":1421856338,"question_id":28071697,"body_markdown":"This is the way it currently works, and it&#39;s the [Maven Deploy Plugin Usage](https://maven.apache.org/plugins/maven-deploy-plugin/usage.html)\r\n\r\npom.xml\r\n\r\n    [...]\r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;internal.repo&lt;/id&gt;\r\n          &lt;name&gt;MyCo Internal Repository&lt;/name&gt;\r\n          &lt;url&gt;Host to Company Repository&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    [...]\r\n\r\nsettings.xml\r\n\r\n    [...]\r\n        &lt;server&gt;\r\n          &lt;id&gt;internal.repo&lt;/id&gt;\r\n          &lt;username&gt;someUser&lt;/username&gt;\r\n          &lt;password&gt;somePassword&lt;/password&gt;\r\n        &lt;/server&gt;\r\n    [...]\r\n\r\nand what I&#39;m trying to achieve is finding a way in which the username and password are typed in at the command line. to achieve `mvn deploy -someUser -somePassword`","title":"Is it possible to pass a password in Maven Deploy in the command line?","body":"<p>This is the way it currently works, and it's the <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/usage.html\">Maven Deploy Plugin Usage</a></p>\n\n<p>pom.xml</p>\n\n<pre><code>[...]\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;internal.repo&lt;/id&gt;\n      &lt;name&gt;MyCo Internal Repository&lt;/name&gt;\n      &lt;url&gt;Host to Company Repository&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n[...]\n</code></pre>\n\n<p>settings.xml</p>\n\n<pre><code>[...]\n    &lt;server&gt;\n      &lt;id&gt;internal.repo&lt;/id&gt;\n      &lt;username&gt;someUser&lt;/username&gt;\n      &lt;password&gt;somePassword&lt;/password&gt;\n    &lt;/server&gt;\n[...]\n</code></pre>\n\n<p>and what I'm trying to achieve is finding a way in which the username and password are typed in at the command line. to achieve <code>mvn deploy -someUser -somePassword</code></p>\n"},{"tags":["java","design-patterns","visitor-pattern"],"comments":[{"owner":{"account_id":27725738,"reputation":179,"user_id":21165336,"display_name":"Xavier Z."},"score":0,"creation_date":1695101519,"post_id":6252372,"comment_id":135975270,"body_markdown":"I believe it&#39;s hard to demonstrate Visitor Pattern with several lines since it&#39;s meant for more complicated situation. I provided a high-levle understanding as below and hope it helps for the new to Visitor Pattern, it&#39;s not that hard.","body":"I believe it&#39;s hard to demonstrate Visitor Pattern with several lines since it&#39;s meant for more complicated situation. I provided a high-levle understanding as below and hope it helps for the new to Visitor Pattern, it&#39;s not that hard."}],"answers":[{"comments":[{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1307365694,"post_id":6252443,"comment_id":7291384,"body_markdown":"Actually it seems almost the same for me here. I used instanceof but i guess in real complex visitor patterns we&#39;d rather avoid using instanceof...","body":"Actually it seems almost the same for me here. I used instanceof but i guess in real complex visitor patterns we&#39;d rather avoid using instanceof..."},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1307367821,"post_id":6252443,"comment_id":7292016,"body_markdown":"Actually i used instanceof because i was lazy, but i could have done the same without any instanceof, in both visitor / standart way...","body":"Actually i used instanceof because i was lazy, but i could have done the same without any instanceof, in both visitor / standart way..."}],"tags":[],"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"comment_count":2,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1307367067,"creation_date":1307365541,"answer_id":6252443,"question_id":6252372,"body_markdown":"The visitor pattern is just [double dispatch][1].\r\n\r\nI&#39;m not sure I agree with your implementation of a visitor. I&#39;d implement something like this:\r\n\r\n    interface MammalVisitor {\r\n        void visit(Pirate pirate);\r\n        void visit(Human human);\r\n        void visit(Dog dog);\r\n    }\r\n\r\n    // Basic visitor provides no-op behaviour for everything.\r\n    abstract class MammalAdapter implements MammalVisitor {\r\n        void visit(Pirate pirate) {};\r\n        void visit(Human human) {};\r\n        void visit(Dog dog) {};\r\n    }\r\n\r\nAnd then the implementation would become cleaner:\r\n\r\n    // We only want to provide specific behaviour for pirates\r\n    class WoodLegCounterVisitor extends MammalAdaptor {\r\n        private int woodLegNumber = 0;\r\n        @Override\r\n        public void visit(Pirate pirate) {   \r\n            woodLegNumber += pirate.getWoodLegNumber();\r\n        }\r\n\r\n        public int getWoodLegNumber() { return woodLegNumber; }\r\n    }\r\n\r\nIn answer to your actual question, the main advantage of using the visitor is avoiding the need to do the &quot;instanceof&quot; checks.  It gives you the ability to separate out the logic for processing a hierarchy into a separate class.  It also gives you the ability to add new behaviour without changing the original classes.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Double_dispatch","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>The visitor pattern is just <a href=\"http://en.wikipedia.org/wiki/Double_dispatch\" rel=\"nofollow\">double dispatch</a>.</p>\n\n<p>I'm not sure I agree with your implementation of a visitor. I'd implement something like this:</p>\n\n<pre><code>interface MammalVisitor {\n    void visit(Pirate pirate);\n    void visit(Human human);\n    void visit(Dog dog);\n}\n\n// Basic visitor provides no-op behaviour for everything.\nabstract class MammalAdapter implements MammalVisitor {\n    void visit(Pirate pirate) {};\n    void visit(Human human) {};\n    void visit(Dog dog) {};\n}\n</code></pre>\n\n<p>And then the implementation would become cleaner:</p>\n\n<pre><code>// We only want to provide specific behaviour for pirates\nclass WoodLegCounterVisitor extends MammalAdaptor {\n    private int woodLegNumber = 0;\n    @Override\n    public void visit(Pirate pirate) {   \n        woodLegNumber += pirate.getWoodLegNumber();\n    }\n\n    public int getWoodLegNumber() { return woodLegNumber; }\n}\n</code></pre>\n\n<p>In answer to your actual question, the main advantage of using the visitor is avoiding the need to do the \"instanceof\" checks.  It gives you the ability to separate out the logic for processing a hierarchy into a separate class.  It also gives you the ability to add new behaviour without changing the original classes.</p>\n"},{"comments":[{"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"score":0,"creation_date":1307366148,"post_id":6252519,"comment_id":7291522,"body_markdown":"How would you have something that sums wooden legs and normal legs in your example?","body":"How would you have something that sums wooden legs and normal legs in your example?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307366375,"post_id":6252519,"comment_id":7291587,"body_markdown":"@Jeff Forster, Simple, since `Pirate` class has a `getWoodLegNumber()` method, the `WoodLegCounterVisitor` will only visit anything that is a Pirate.","body":"@Jeff Forster, Simple, since <code>Pirate</code> class has a <code>getWoodLegNumber()</code> method, the <code>WoodLegCounterVisitor</code> will only visit anything that is a Pirate."},{"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"score":1,"creation_date":1307366489,"post_id":6252519,"comment_id":7291621,"body_markdown":"What I was trying to get at was that your visitor implementation cannot have behaviour for both pirates and humans (without type casting) since you only have one visit method.  I was under the impression that getting rid of type casting was a good thing.","body":"What I was trying to get at was that your visitor implementation cannot have behaviour for both pirates and humans (without type casting) since you only have one visit method.  I was under the impression that getting rid of type casting was a good thing."},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307366776,"post_id":6252519,"comment_id":7291705,"body_markdown":"That is irrelevant as pirates has one leg (from the OP question). So, `LegCounterVisitor` caters for both humans and pirates (who are humans). No typecasting is needed in this regard. As for your case, your code will have many unimplemented method, which is a waste in my regards.","body":"That is irrelevant as pirates has one leg (from the OP question). So, <code>LegCounterVisitor</code> caters for both humans and pirates (who are humans). No typecasting is needed in this regard. As for your case, your code will have many unimplemented method, which is a waste in my regards."},{"owner":{"account_id":37701,"reputation":44030,"user_id":128645,"accept_rate":100,"display_name":"Jeff Foster"},"score":6,"creation_date":1307366980,"post_id":6252519,"comment_id":7291757,"body_markdown":"I&#39;m probably not getting my point across clearly.  Your visitor has a single visit method.  This is not good because in general you want different behaviour for different objects.  Perhaps you&#39;re just pointing out a way of shortening the code in this specific case, but in general having a single method for your visitor is not a good thing.  I do take your point about many unimplemented methods, that&#39;s why typically there is a &quot;VisitorAdapter&quot; class which provides null implementations (similar to the Swing functions)","body":"I&#39;m probably not getting my point across clearly.  Your visitor has a single visit method.  This is not good because in general you want different behaviour for different objects.  Perhaps you&#39;re just pointing out a way of shortening the code in this specific case, but in general having a single method for your visitor is not a good thing.  I do take your point about many unimplemented methods, that&#39;s why typically there is a &quot;VisitorAdapter&quot; class which provides null implementations (similar to the Swing functions)"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307368082,"post_id":6252519,"comment_id":7292125,"body_markdown":"I did understand your point. What I&#39;m try to say is that this example is a simple case visitor pattern that isn&#39;t necessary to incorporate different behaviours in a visitor as each object has its own visitor. One could use Abstract Factory for each mammal object to retrieve an algorithm for calculating legs.","body":"I did understand your point. What I&#39;m try to say is that this example is a simple case visitor pattern that isn&#39;t necessary to incorporate different behaviours in a visitor as each object has its own visitor. One could use Abstract Factory for each mammal object to retrieve an algorithm for calculating legs."},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1307368525,"post_id":6252519,"comment_id":7292241,"body_markdown":"I agree. Anyway i though this was strange, but with the code you give, i get a runtime exception: Exception in thread &quot;main&quot; java.lang.ClassCastException: Dog cannot be cast to Pirate\n\tat WoodLegCounterVisitor.visit(Main.java:1)\n\tat Dog.accept(Main.java:35)\n\tat Main.main(Main.java:76)","body":"I agree. Anyway i though this was strange, but with the code you give, i get a runtime exception: Exception in thread &quot;main&quot; java.lang.ClassCastException: Dog cannot be cast to Pirate \tat WoodLegCounterVisitor.visit(Main.java:1) \tat Dog.accept(Main.java:35) \tat Main.main(Main.java:76)"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307368606,"post_id":6252519,"comment_id":7292268,"body_markdown":"What type of `RuntimeException` are you getting?","body":"What type of <code>RuntimeException</code> are you getting?"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1307368824,"post_id":6252519,"comment_id":7292340,"body_markdown":"The problem with your code is that i can&#39;t iterate with the wood leg visitor over a list of Mammal since only the Pirate is visitable with it... Actually i was also surprized it compile successfully... I guess it has something to do with type erasure","body":"The problem with your code is that i can&#39;t iterate with the wood leg visitor over a list of Mammal since only the Pirate is visitable with it... Actually i was also surprized it compile successfully... I guess it has something to do with type erasure"},{"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"score":0,"creation_date":1307368982,"post_id":6252519,"comment_id":7292397,"body_markdown":"And what would be the type to use on accept method? accept(MamalVisitor&lt;Mammal&gt; visitor)?","body":"And what would be the type to use on accept method? accept(MamalVisitor&lt;Mammal&gt; visitor)?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1307378412,"post_id":6252519,"comment_id":7295301,"body_markdown":"@Sebastien Lorber, the reason why it compiled is because I set the Generics type `T` to extend `Mammal`, and no, for human, you can specify `accept(MammalVisitor&lt;Mammal&gt; visitor`), it will still be valid passing a `pirate` since a pirate is a human.","body":"@Sebastien Lorber, the reason why it compiled is because I set the Generics type <code>T</code> to extend <code>Mammal</code>, and no, for human, you can specify <code>accept(MammalVisitor&lt;Mammal&gt; visitor</code>), it will still be valid passing a <code>pirate</code> since a pirate is a human."},{"owner":{"account_id":1077413,"reputation":7308,"user_id":1075247,"accept_rate":92,"display_name":"AncientSwordRage"},"score":4,"creation_date":1342443096,"post_id":6252519,"comment_id":15200021,"body_markdown":"Down voted for the reason Jeff Forster mentioned in his last comment. I&#39;m just learning about Visitors and this is a confusing implementation of this pattern as it only has a single visit method.","body":"Down voted for the reason Jeff Forster mentioned in his last comment. I&#39;m just learning about Visitors and this is a confusing implementation of this pattern as it only has a single visit method."},{"owner":{"account_id":2126926,"reputation":3482,"user_id":1888810,"accept_rate":55,"display_name":"Shailesh Saxena"},"score":0,"creation_date":1381407511,"post_id":6252519,"comment_id":28572994,"body_markdown":"Whatever but it seems to be better.","body":"Whatever but it seems to be better."}],"tags":[],"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"comment_count":13,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1307366279,"creation_date":1307365967,"answer_id":6252519,"question_id":6252372,"body_markdown":"The purpose of the [Visitor Pattern][1] is to separate the object structure (in your case, `Mammal`) from the algorithm (in your case, the counter Leg counter algorithm).\r\n\r\nThe whole idea is that your object (mostly in java, JavaBeans) doesn&#39;t change its structure at all, and only a new [virtual function][2] is introduced to introduce a new algorithm.\r\n\r\nUnlike [Jeff Foster][3]&#39;s implementation, One can use Generics to make code easier. This brings specificity to your visitor, e.g.:\r\n\r\n    public interface MammalVisitor&lt;T extends Mammal&gt; {\r\n    \r\n    \tpublic void visit(T mammal);\r\n    }\r\n    \r\n    public class LegCounterVisitor implements MamalVisitor&lt;Human&gt; {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Human mammal) {   legNumber += mammal.getLegsNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n    \r\n    public class WoodLegCounterVisitor implements MamalVisitor&lt;Pirate&gt; {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Pirate mammal) {legNumber += mammal.getWoodLegNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: http://en.wikipedia.org/wiki/Virtual_function\r\n  [3]: https://stackoverflow.com/users/128645/jeff-foster\r\n","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>The purpose of the <a href=\"http://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor Pattern</a> is to separate the object structure (in your case, <code>Mammal</code>) from the algorithm (in your case, the counter Leg counter algorithm).</p>\n\n<p>The whole idea is that your object (mostly in java, JavaBeans) doesn't change its structure at all, and only a new <a href=\"http://en.wikipedia.org/wiki/Virtual_function\" rel=\"nofollow noreferrer\">virtual function</a> is introduced to introduce a new algorithm.</p>\n\n<p>Unlike <a href=\"https://stackoverflow.com/users/128645/jeff-foster\">Jeff Foster</a>'s implementation, One can use Generics to make code easier. This brings specificity to your visitor, e.g.:</p>\n\n<pre><code>public interface MammalVisitor&lt;T extends Mammal&gt; {\n\n    public void visit(T mammal);\n}\n\npublic class LegCounterVisitor implements MamalVisitor&lt;Human&gt; {\n    private int legNumber = 0;\n    @Override\n    public void visit(Human mammal) {   legNumber += mammal.getLegsNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\n\npublic class WoodLegCounterVisitor implements MamalVisitor&lt;Pirate&gt; {\n    private int legNumber = 0;\n    @Override\n    public void visit(Pirate mammal) {legNumber += mammal.getWoodLegNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":272843,"reputation":4000,"user_id":564145,"display_name":"Nicolas Bousquet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1586360916,"creation_date":1307368020,"answer_id":6252964,"question_id":6252372,"body_markdown":"[Visitor pattern][1] is a fancy switch case / pattern matching system to facilitate [graph traversal][2]. \r\n\r\nAs typical functional languages offer pattern matching and efficient ways to traverse graphs, interest is much more limited.\r\n\r\nEven in JAVA, with `instanceof` or using `enum`, a visitor is more of a fancy way to perform things than a generic solution as many algorithms will not fit well into it.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern\r\n  [2]: https://en.m.wikipedia.org/wiki/Graph_traversal","title":"Questions about the Visitor pattern (sample in Java)","body":"<p><a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor pattern</a> is a fancy switch case / pattern matching system to facilitate <a href=\"https://en.m.wikipedia.org/wiki/Graph_traversal\" rel=\"nofollow noreferrer\">graph traversal</a>. </p>\n\n<p>As typical functional languages offer pattern matching and efficient ways to traverse graphs, interest is much more limited.</p>\n\n<p>Even in JAVA, with <code>instanceof</code> or using <code>enum</code>, a visitor is more of a fancy way to perform things than a generic solution as many algorithms will not fit well into it.</p>\n"},{"tags":[],"owner":{"account_id":27725738,"reputation":179,"user_id":21165336,"display_name":"Xavier Z."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695100641,"creation_date":1695095302,"answer_id":77131610,"question_id":6252372,"body_markdown":"It seems all the answers above provided a detailed explanation at the data structure/algorithm level, however, a high-level/conceptual understanding is still lacking. And the lacking of conceptual understanding may lead to misunderstanding that Visitor Pattern is nothing more than a fancy style.\r\n\r\nIMHO, let&#39;s consider that all interactions among your domain entities could be reduced to one-to-one interactions. The Visitor Pattern is suitable for such a situation where **one entity maintains a stable type(s)**, while **another entity has multiple specializations and is dynamically expanding**. Under these circumstances, the stable entity can be modeled as the Element (or Visitable), and the dynamic one as the Visitor. \r\n\r\nFor a more detailed explanation regarding Double Dispatch, consider this assumption: there is an interaction between `Class A` and `Class B`, with `m` and `n` specializations, respectively. We must implement all `m*n` methods for each combination. Let&#39;s assume `m &lt; n`, so we&#39;ll denote `Class A` as `Element` and `Class B` as `Visitor`.\r\n\r\n- To begin with, we need to design a route that branches into `m*n` paths. The `Element.accept` method makes the first selection, while the `Visitor.visit` method makes the second.\r\n- It&#39;s clear that the `Element` should be more stable (meaning fewer in number), like it sits at a higher level in the decision tree.\r\n- In this 3-level tree, the top level represents the starting point, the second level corresponds to each `Element` specialization, and the third level represents multiple `Visitors` under each `Element` implementation. The leaves of the tree symbolize the methods for the corresponding `Element` and `Visitor`.\r\n- To add a new specialization to the `Element`, every `Visitor` must implement a new method across different code files, resulting in low cohesion. Conversely, adding a new `Visitor` only requires implementing all methods in a single file, leaving other files untouched, which is highly decoupled.\r\n\r\nI believe that out of these context, any delivery is hard to be judged as whether reasonable Visitor Pattern since any interaction could be implemented as `A.accept` and `B.visit`.\r\n\r\nA key distinction in the design of the code is that the visitor always knows the exact type of the visitable, but not the other way around.\r\n\r\nHope this helps","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>It seems all the answers above provided a detailed explanation at the data structure/algorithm level, however, a high-level/conceptual understanding is still lacking. And the lacking of conceptual understanding may lead to misunderstanding that Visitor Pattern is nothing more than a fancy style.</p>\n<p>IMHO, let's consider that all interactions among your domain entities could be reduced to one-to-one interactions. The Visitor Pattern is suitable for such a situation where <strong>one entity maintains a stable type(s)</strong>, while <strong>another entity has multiple specializations and is dynamically expanding</strong>. Under these circumstances, the stable entity can be modeled as the Element (or Visitable), and the dynamic one as the Visitor.</p>\n<p>For a more detailed explanation regarding Double Dispatch, consider this assumption: there is an interaction between <code>Class A</code> and <code>Class B</code>, with <code>m</code> and <code>n</code> specializations, respectively. We must implement all <code>m*n</code> methods for each combination. Let's assume <code>m &lt; n</code>, so we'll denote <code>Class A</code> as <code>Element</code> and <code>Class B</code> as <code>Visitor</code>.</p>\n<ul>\n<li>To begin with, we need to design a route that branches into <code>m*n</code> paths. The <code>Element.accept</code> method makes the first selection, while the <code>Visitor.visit</code> method makes the second.</li>\n<li>It's clear that the <code>Element</code> should be more stable (meaning fewer in number), like it sits at a higher level in the decision tree.</li>\n<li>In this 3-level tree, the top level represents the starting point, the second level corresponds to each <code>Element</code> specialization, and the third level represents multiple <code>Visitors</code> under each <code>Element</code> implementation. The leaves of the tree symbolize the methods for the corresponding <code>Element</code> and <code>Visitor</code>.</li>\n<li>To add a new specialization to the <code>Element</code>, every <code>Visitor</code> must implement a new method across different code files, resulting in low cohesion. Conversely, adding a new <code>Visitor</code> only requires implementing all methods in a single file, leaving other files untouched, which is highly decoupled.</li>\n</ul>\n<p>I believe that out of these context, any delivery is hard to be judged as whether reasonable Visitor Pattern since any interaction could be implemented as <code>A.accept</code> and <code>B.visit</code>.</p>\n<p>A key distinction in the design of the code is that the visitor always knows the exact type of the visitable, but not the other way around.</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":30319,"reputation":90360,"user_id":82609,"accept_rate":84,"display_name":"Sebastien Lorber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3819,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":6252964,"answer_count":4,"score":9,"last_activity_date":1695100641,"creation_date":1307365121,"question_id":6252372,"body_markdown":"I&#39;m just trying to understand the main benefits of using the Visitor pattern.\r\n\r\nHere&#39;s a sample Java implementation\r\n\r\n\r\n\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    // Interfaces\r\n    interface MamalVisitor {\r\n        void visit(Mammal mammal);\r\n    }\r\n    interface MammalVisitable {\r\n        public void accept(MamalVisitor visitor);\r\n    }\r\n    interface Mammal extends MammalVisitable {\r\n        public int getLegsNumber();\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    // Model\r\n    class Human implements Mammal {\r\n        @Override\r\n        public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\r\n        @Override\r\n        public int getLegsNumber() { return 2; }\r\n    }\r\n    //PIRATE HAS A WOOD LEG\r\n    class Pirate extends Human { \r\n        @Override\r\n        public int getLegsNumber() { return 1; }\r\n        public int getWoodLegNumber() { return 1; }\r\n    }\r\n    class Dog implements Mammal {\r\n        @Override\r\n        public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\r\n        @Override\r\n        public int getLegsNumber() { return 4; }\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    ///////////////////////////////////\r\n    class LegCounterVisitor implements MamalVisitor {\r\n        private int legNumber = 0;\r\n        @Override\r\n        public void visit(Mammal mammal) {   legNumber += mammal.getLegsNumber();   }\r\n        public int getLegNumber() { return legNumber; }\r\n    }\r\n    class WoodLegCounterVisitor implements MamalVisitor {\r\n        private int woodLegNumber = 0;\r\n        @Override\r\n        public void visit(Mammal mammal) {   \r\n            // perhaps bad but i&#39;m lazy\r\n            if ( mammal instanceof Pirate ) {\r\n                woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\r\n            }\r\n        }\r\n        public int getWoodLegNumber() { return woodLegNumber; }\r\n    }\r\n    ///////////////////////////////////\r\n    \r\n    \r\n    \r\n    ///////////////////////////////////\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            // Create a list with 9 mammal legs and 3 pirate woodlegs\r\n            List&lt;Mammal&gt; mammalList = Arrays.asList(\r\n                    new Pirate(),\r\n                    new Dog(),\r\n                    new Human(),\r\n                    new Pirate(),\r\n                    new Pirate()\r\n            );\r\n    \r\n            ///////////////////////////////////\r\n            // The visitor method\r\n            LegCounterVisitor legCounterVisitor = new LegCounterVisitor();\r\n            WoodLegCounterVisitor woodLegCounterVisitor = new WoodLegCounterVisitor();\r\n            for ( Mammal mammal : mammalList ) {\r\n                mammal.accept(legCounterVisitor);\r\n                mammal.accept(woodLegCounterVisitor);\r\n                // why not also using:\r\n                // legCounterVisitor.visit(mammal);\r\n                // woodLegCounterVisitor.visit(mammal);\r\n            }\r\n            System.out.println(&quot;Number of legs:&quot; + legCounterVisitor.getLegNumber());\r\n            System.out.println(&quot;Number of wood legs:&quot; + woodLegCounterVisitor.getWoodLegNumber());\r\n    \r\n            ///////////////////////////////////\r\n            // The standart method\r\n            int legNumber = 0;\r\n            int woodLegNumber = 0;\r\n            for ( Mammal mammal : mammalList ) {\r\n                legNumber += mammal.getLegsNumber();\r\n                // perhaps bad but i&#39;m lazy\r\n                if ( mammal instanceof Pirate ) {\r\n                    woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\r\n                }\r\n            }\r\n            System.out.println(&quot;Number of legs:&quot; + legNumber);\r\n            System.out.println(&quot;Number of wood legs:&quot; + woodLegNumber);\r\n        }\r\n    }\r\n    ///////////////////////////////////\r\n\r\n\r\n\r\n\r\nI just wonder what is the main advantage for this case to use such a pattern. We can also iterate over the collection and get almost the same thing, except we don&#39;t have to handle a new interface and add boilerplate code to the model...\r\n\r\nWith Apache Commons, or a functional language, the classic way seems to do some map/reduce operation (map to the leg numbers and reduce with addition) and it&#39;s quite easy...\r\n\r\n\r\n\r\nI also wonder why we use\r\n\r\n            mammal.accept(legCounterVisitor);\r\n            mammal.accept(woodLegCounterVisitor);\r\n\r\nand not \r\n\r\n            legCounterVisitor.visit(mammal);\r\n            woodLegCounterVisitor.visit(mammal);\r\n\r\nThe 2nd option seems to remove the accept(...) method on the model part.\r\n\r\n\r\n\r\n\r\nIn many samples i&#39;ve found, it seems that they don&#39;t use a common interface for model objects. I added it because like that i just have to add one visit(Mammal) method, instead of implementing one for each Mammal.\r\nIs it good to make all my objects implement Mammal? (i guess sometimes it&#39;s just not possible anyway). Is it still a Visitor pattern like that?\r\n\r\n\r\n\r\nSo my questions are:\r\n- do you see any advantage in my exemple for using visitors?\r\n- if not, can you provide some concrete usecases for visitors?\r\n- are visitors useful in functional programming languages\r\n\r\n\r\nThe only exemple that i found relevant for this pattern is the case of a pretty printer, where you keep in the visitor&#39;s state the offset to use during the visit of different nodes (for displaying an XML tree for exemple)\r\n","title":"Questions about the Visitor pattern (sample in Java)","body":"<p>I'm just trying to understand the main benefits of using the Visitor pattern.</p>\n\n<p>Here's a sample Java implementation</p>\n\n<pre><code>///////////////////////////////////\n// Interfaces\ninterface MamalVisitor {\n    void visit(Mammal mammal);\n}\ninterface MammalVisitable {\n    public void accept(MamalVisitor visitor);\n}\ninterface Mammal extends MammalVisitable {\n    public int getLegsNumber();\n}\n///////////////////////////////////\n\n\n///////////////////////////////////\n// Model\nclass Human implements Mammal {\n    @Override\n    public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\n    @Override\n    public int getLegsNumber() { return 2; }\n}\n//PIRATE HAS A WOOD LEG\nclass Pirate extends Human { \n    @Override\n    public int getLegsNumber() { return 1; }\n    public int getWoodLegNumber() { return 1; }\n}\nclass Dog implements Mammal {\n    @Override\n    public void accept(MamalVisitor visitor) {  visitor.visit(this);  }\n    @Override\n    public int getLegsNumber() { return 4; }\n}\n///////////////////////////////////\n\n\n///////////////////////////////////\nclass LegCounterVisitor implements MamalVisitor {\n    private int legNumber = 0;\n    @Override\n    public void visit(Mammal mammal) {   legNumber += mammal.getLegsNumber();   }\n    public int getLegNumber() { return legNumber; }\n}\nclass WoodLegCounterVisitor implements MamalVisitor {\n    private int woodLegNumber = 0;\n    @Override\n    public void visit(Mammal mammal) {   \n        // perhaps bad but i'm lazy\n        if ( mammal instanceof Pirate ) {\n            woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\n        }\n    }\n    public int getWoodLegNumber() { return woodLegNumber; }\n}\n///////////////////////////////////\n\n\n\n///////////////////////////////////\npublic class Main {\n    public static void main(String[] args) {\n        // Create a list with 9 mammal legs and 3 pirate woodlegs\n        List&lt;Mammal&gt; mammalList = Arrays.asList(\n                new Pirate(),\n                new Dog(),\n                new Human(),\n                new Pirate(),\n                new Pirate()\n        );\n\n        ///////////////////////////////////\n        // The visitor method\n        LegCounterVisitor legCounterVisitor = new LegCounterVisitor();\n        WoodLegCounterVisitor woodLegCounterVisitor = new WoodLegCounterVisitor();\n        for ( Mammal mammal : mammalList ) {\n            mammal.accept(legCounterVisitor);\n            mammal.accept(woodLegCounterVisitor);\n            // why not also using:\n            // legCounterVisitor.visit(mammal);\n            // woodLegCounterVisitor.visit(mammal);\n        }\n        System.out.println(\"Number of legs:\" + legCounterVisitor.getLegNumber());\n        System.out.println(\"Number of wood legs:\" + woodLegCounterVisitor.getWoodLegNumber());\n\n        ///////////////////////////////////\n        // The standart method\n        int legNumber = 0;\n        int woodLegNumber = 0;\n        for ( Mammal mammal : mammalList ) {\n            legNumber += mammal.getLegsNumber();\n            // perhaps bad but i'm lazy\n            if ( mammal instanceof Pirate ) {\n                woodLegNumber += ((Pirate) mammal).getWoodLegNumber();\n            }\n        }\n        System.out.println(\"Number of legs:\" + legNumber);\n        System.out.println(\"Number of wood legs:\" + woodLegNumber);\n    }\n}\n///////////////////////////////////\n</code></pre>\n\n<p>I just wonder what is the main advantage for this case to use such a pattern. We can also iterate over the collection and get almost the same thing, except we don't have to handle a new interface and add boilerplate code to the model...</p>\n\n<p>With Apache Commons, or a functional language, the classic way seems to do some map/reduce operation (map to the leg numbers and reduce with addition) and it's quite easy...</p>\n\n<p>I also wonder why we use</p>\n\n<pre><code>        mammal.accept(legCounterVisitor);\n        mammal.accept(woodLegCounterVisitor);\n</code></pre>\n\n<p>and not </p>\n\n<pre><code>        legCounterVisitor.visit(mammal);\n        woodLegCounterVisitor.visit(mammal);\n</code></pre>\n\n<p>The 2nd option seems to remove the accept(...) method on the model part.</p>\n\n<p>In many samples i've found, it seems that they don't use a common interface for model objects. I added it because like that i just have to add one visit(Mammal) method, instead of implementing one for each Mammal.\nIs it good to make all my objects implement Mammal? (i guess sometimes it's just not possible anyway). Is it still a Visitor pattern like that?</p>\n\n<p>So my questions are:\n- do you see any advantage in my exemple for using visitors?\n- if not, can you provide some concrete usecases for visitors?\n- are visitors useful in functional programming languages</p>\n\n<p>The only exemple that i found relevant for this pattern is the case of a pretty printer, where you keep in the visitor's state the offset to use during the visit of different nodes (for displaying an XML tree for exemple)</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4064626,"reputation":328,"user_id":4360617,"display_name":"JFC"},"score":0,"creation_date":1624715098,"post_id":61289461,"comment_id":120436440,"body_markdown":"You should clarify which build tool you&#39;re using.","body":"You should clarify which build tool you&#39;re using."}],"answers":[{"tags":[],"owner":{"account_id":18441269,"reputation":181,"user_id":13433846,"display_name":"godsim"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1588173184,"creation_date":1588173184,"answer_id":61505189,"question_id":61289461,"body_markdown":"are you using some third party library that brings in &lt;b&gt;org.codehaus.groovy&lt;/b&gt; dependencies? If yes, you can try and replace the required groovy dependencies with the most current releases yourself.\r\n\r\nIn my case it was the &lt;b&gt;org.liquibase:liquibase-groovy-dsl&lt;/b&gt;,\r\nso I did this:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n            &lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>are you using some third party library that brings in <b>org.codehaus.groovy</b> dependencies? If yes, you can try and replace the required groovy dependencies with the most current releases yourself.</p>\n\n<p>In my case it was the <b>org.liquibase:liquibase-groovy-dsl</b>,\nso I did this:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n        &lt;artifactId&gt;liquibase-groovy-dsl&lt;/artifactId&gt;\n        &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n                &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy-sql&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1756727,"reputation":625,"user_id":2040742,"accept_rate":58,"display_name":"Dave Vronay"},"score":4,"creation_date":1592857878,"post_id":61509462,"comment_id":110570559,"body_markdown":"Thanks so much, I tried many things trying to get React Native working on my machine.  This did the trick!","body":"Thanks so much, I tried many things trying to get React Native working on my machine.  This did the trick!"},{"owner":{"account_id":140854,"reputation":1593,"user_id":347455,"accept_rate":100,"display_name":"pennstatephil"},"score":2,"creation_date":1594753739,"post_id":61509462,"comment_id":111235693,"body_markdown":"To follow up on this, I&#39;m using maven and `brew` upgraded me to OpenJDK 14 recently, so I started getting this error. From this answer&#39;s link to the gradle issue, I found this groovy issue: https://issues.apache.org/jira/browse/GROOVY-9211 which has since been fixed in Groovy 2.5.10 -- so make sure you upgrade your groovy version to that one or newer. Solved the issue for me!","body":"To follow up on this, I&#39;m using maven and <code>brew</code> upgraded me to OpenJDK 14 recently, so I started getting this error. From this answer&#39;s link to the gradle issue, I found this groovy issue: <a href=\"https://issues.apache.org/jira/browse/GROOVY-9211\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/GROOVY-9211</a> which has since been fixed in Groovy 2.5.10 -- so make sure you upgrade your groovy version to that one or newer. Solved the issue for me!"},{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":0,"creation_date":1618326147,"post_id":61509462,"comment_id":118565009,"body_markdown":"And use gradle-7.0-bin.zip for Java **16**  --   &quot;As of Gradle 7.0, both running Gradle itself and building JVM projects with Java **16** is fully supported.&quot; https://docs.gradle.org/7.0/release-notes.html","body":"And use gradle-7.0-bin.zip for Java <b>16</b>  --   &quot;As of Gradle 7.0, both running Gradle itself and building JVM projects with Java <b>16</b> is fully supported.&quot; <a href=\"https://docs.gradle.org/7.0/release-notes.html\" rel=\"nofollow noreferrer\">docs.gradle.org/7.0/release-notes.html</a>"},{"owner":{"account_id":1385275,"reputation":462,"user_id":1317454,"display_name":"ALearner"},"score":1,"creation_date":1618383213,"post_id":61509462,"comment_id":118581470,"body_markdown":"Here are the highlights of Gradle 6.3 Release:\n 1) Java 14 support. \n 2) Improved error messages for unexpected failures.\n\nFor more details see https://docs.gradle.org/6.3/release-notes.html","body":"Here are the highlights of Gradle 6.3 Release:  1) Java 14 support.   2) Improved error messages for unexpected failures.  For more details see <a href=\"https://docs.gradle.org/6.3/release-notes.html\" rel=\"nofollow noreferrer\">docs.gradle.org/6.3/release-notes.html</a>"},{"owner":{"account_id":20282,"reputation":5556,"user_id":48310,"accept_rate":95,"display_name":"Chris Kimpton"},"score":1,"creation_date":1625050787,"post_id":61509462,"comment_id":120522704,"body_markdown":"For latest gradle release available, see here- https://gradle.org/install/","body":"For latest gradle release available, see here- <a href=\"https://gradle.org/install/\" rel=\"nofollow noreferrer\">gradle.org/install</a>"},{"owner":{"account_id":65607,"reputation":3616,"user_id":192961,"accept_rate":71,"display_name":"Koen"},"score":0,"creation_date":1675179512,"post_id":61509462,"comment_id":132870574,"body_markdown":"@pennstatephil Thanks. Upgrading from 2.5.9 to 2.5.10 fixed it for me.","body":"@pennstatephil Thanks. Upgrading from 2.5.9 to 2.5.10 fixed it for me."}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":6,"down_vote_count":0,"up_vote_count":189,"is_accepted":false,"score":189,"last_activity_date":1643511054,"creation_date":1588186326,"answer_id":61509462,"question_id":61289461,"body_markdown":"How do you run the application? It&#39;s probably because you use Gradle as the build system and JDK14 and the Gradle version is old.\r\nReference: https://github.com/gradle/gradle/issues/10248\r\n\r\nIf you use Gradle Wrapper then refer to `$PROJECT_ROOT/gradle/wrapper/gradle-wrapper.properties`. The property `distributionUrl` should be:\r\n`distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip`\r\n\r\nIf it&#39;s an older version then change it, run `./gradlew clean build` and try again.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>How do you run the application? It's probably because you use Gradle as the build system and JDK14 and the Gradle version is old.\nReference: <a href=\"https://github.com/gradle/gradle/issues/10248\" rel=\"noreferrer\">https://github.com/gradle/gradle/issues/10248</a></p>\n<p>If you use Gradle Wrapper then refer to <code>$PROJECT_ROOT/gradle/wrapper/gradle-wrapper.properties</code>. The property <code>distributionUrl</code> should be:\n<code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip</code></p>\n<p>If it's an older version then change it, run <code>./gradlew clean build</code> and try again.</p>\n"},{"tags":[],"owner":{"account_id":369372,"reputation":4604,"user_id":716720,"accept_rate":60,"display_name":"Sergey Shcherbakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1588853398,"creation_date":1588853398,"answer_id":61657462,"question_id":61289461,"body_markdown":"Check that your project is running with Java 14 even though it is prepared for Java 8.\r\n\r\nMy IntelliJ Idea was giving the same error when trying to execute a Gradle task which was running perfectly in command line with JDK 8. The ItelliJ Idea project default JDK was 14 though. ","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Check that your project is running with Java 14 even though it is prepared for Java 8.</p>\n\n<p>My IntelliJ Idea was giving the same error when trying to execute a Gradle task which was running perfectly in command line with JDK 8. The ItelliJ Idea project default JDK was 14 though. </p>\n"},{"tags":[],"owner":{"account_id":18600058,"reputation":41,"user_id":13555096,"display_name":"Kiryha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1589636886,"creation_date":1589636080,"answer_id":61837619,"question_id":61289461,"body_markdown":"I resolve this problem when integrated Facebook **7.19.2** and Google play Games **0.10.09**. \r\n\r\nIn my case JDK and SDK using (and other in `Edit/Preferences/External -&gt; Tools-Android`) default paths Unity:\r\n\r\nJDK\r\n```\r\nC:/ProgramFiles/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer/Tools\\OpenJDK\\Windows\r\n```\r\nSDK\r\n```\r\nC:/Program Files/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer\\SDK\r\n```\r\nIn Environmental Variables(System Proporites/Advanced) added next:\r\n\r\nFind(or click new variable under User Variables)\r\n\r\n- `JAVA_HOME` and add root JDK path.\r\n\r\n- `JAVA_BIN` and add path JDK/bin\r\n\r\n- `JAVA_LIB` and add path JDK/lib\r\n\r\nAlso, add these paths in System Variables to variable &quot;Path&quot;.\r\n\r\nDo not use SDK from default Unity and JDK from not Unity default\r\n\r\nThen Restart Unity(and better PC).\r\n\r\nThen in Editor Unity - `Assets/Play -&gt; Service -&gt; Resolve/Android -&gt; Resolver/Force -&gt; Resolve`\r\n\r\nAll Work fine.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I resolve this problem when integrated Facebook <strong>7.19.2</strong> and Google play Games <strong>0.10.09</strong>. </p>\n\n<p>In my case JDK and SDK using (and other in <code>Edit/Preferences/External -&gt; Tools-Android</code>) default paths Unity:</p>\n\n<p>JDK</p>\n\n<pre><code>C:/ProgramFiles/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer/Tools\\OpenJDK\\Windows\n</code></pre>\n\n<p>SDK</p>\n\n<pre><code>C:/Program Files/Unity/Hub/Editor/2019.2.12f1/Editor/Data/PlaybackEngines/AndroidPlayer\\SDK\n</code></pre>\n\n<p>In Environmental Variables(System Proporites/Advanced) added next:</p>\n\n<p>Find(or click new variable under User Variables)</p>\n\n<ul>\n<li><p><code>JAVA_HOME</code> and add root JDK path.</p></li>\n<li><p><code>JAVA_BIN</code> and add path JDK/bin</p></li>\n<li><p><code>JAVA_LIB</code> and add path JDK/lib</p></li>\n</ul>\n\n<p>Also, add these paths in System Variables to variable \"Path\".</p>\n\n<p>Do not use SDK from default Unity and JDK from not Unity default</p>\n\n<p>Then Restart Unity(and better PC).</p>\n\n<p>Then in Editor Unity - <code>Assets/Play -&gt; Service -&gt; Resolve/Android -&gt; Resolver/Force -&gt; Resolve</code></p>\n\n<p>All Work fine.</p>\n"},{"tags":[],"owner":{"account_id":8512301,"reputation":181,"user_id":6381983,"display_name":"BertKoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1591877768,"creation_date":1591877768,"answer_id":62324201,"question_id":61289461,"body_markdown":"Got the same issue on a Maven &amp; SpringBoot project, no Gradle whatever.\r\n\r\nThe dependency to org.codehaus.groovy is probably transitive through spring-cloud-contract-verifier. Run `mvn dependency:tree` to view the whole dependency tree.\r\n\r\nI got it fixed by upgrading the spring-cloud-contract-maven-plugin version to 2.2.3-RELEASE","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Got the same issue on a Maven &amp; SpringBoot project, no Gradle whatever.</p>\n\n<p>The dependency to org.codehaus.groovy is probably transitive through spring-cloud-contract-verifier. Run <code>mvn dependency:tree</code> to view the whole dependency tree.</p>\n\n<p>I got it fixed by upgrading the spring-cloud-contract-maven-plugin version to 2.2.3-RELEASE</p>\n"},{"comments":[{"owner":{"account_id":6688303,"reputation":2926,"user_id":5158636,"display_name":"tschumann"},"score":0,"creation_date":1701655069,"post_id":62706128,"comment_id":136799015,"body_markdown":"Making sure that the versions of Groovy and Java are compatible is probably the right answer - I was trying to run Groovy 2 with Java 21 and got this error - updating to Groovy 4 fixed the issue.","body":"Making sure that the versions of Groovy and Java are compatible is probably the right answer - I was trying to run Groovy 2 with Java 21 and got this error - updating to Groovy 4 fixed the issue."}],"tags":[],"owner":{"account_id":11052908,"reputation":1,"user_id":8116670,"display_name":"user8116670"},"comment_count":1,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1593730337,"creation_date":1593730337,"answer_id":62706128,"question_id":61289461,"body_markdown":"Move to JDK 11, it should work.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Move to JDK 11, it should work.</p>\n"},{"comments":[{"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"score":0,"creation_date":1614823633,"post_id":63389570,"comment_id":117505202,"body_markdown":"Reverting the JDK version that had accidentally been bumped up did the trick for me as well.","body":"Reverting the JDK version that had accidentally been bumped up did the trick for me as well."}],"tags":[],"owner":{"account_id":88165,"reputation":1499,"user_id":244051,"display_name":"Erik Finnman"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597301255,"creation_date":1597301255,"answer_id":63389570,"question_id":61289461,"body_markdown":"In my case the combination was IntelliJ 2020.2, Kotlin 1.3.72, Maven 3.6.1 and SpringBoot 2.2.1 application. No Gradle used at all in the project.\r\n\r\nSomehow IntelliJ had switched to use OpenJDK14 - when reverting back to OpenJDK11 everything started to work again.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>In my case the combination was IntelliJ 2020.2, Kotlin 1.3.72, Maven 3.6.1 and SpringBoot 2.2.1 application. No Gradle used at all in the project.</p>\n<p>Somehow IntelliJ had switched to use OpenJDK14 - when reverting back to OpenJDK11 everything started to work again.</p>\n"},{"tags":[],"owner":{"account_id":15458810,"reputation":1094,"user_id":11151992,"display_name":"arslan"},"comment_count":0,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1598531061,"creation_date":1597392680,"answer_id":63408978,"question_id":61289461,"body_markdown":"In the file `android/gradle/wrapper/gradle-wrapper.properties`, ensure that the `distributionUrl` is as follows:\r\n\r\n    distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n\r\nNote: If you installed jdk 14\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>In the file <code>android/gradle/wrapper/gradle-wrapper.properties</code>, ensure that the <code>distributionUrl</code> is as follows:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\n</code></pre>\n<p>Note: If you installed jdk 14</p>\n"},{"comments":[{"owner":{"account_id":8772129,"reputation":159,"user_id":6558550,"display_name":"Rahmat Nazali Salimi"},"score":0,"creation_date":1611288413,"post_id":63624584,"comment_id":116408478,"body_markdown":"This is definitely the scope for my problem. For me though, I just need to change the JRE from any of the one I have installed to simply &quot;Bundled&quot;. CMIIW but it seems that I have correctly install the project with `mvn clean install`, and then maybe Bundled means I just use my installed bundle instead of the installed JRE/JDK on my machine. But really CMIIW. This works for me.","body":"This is definitely the scope for my problem. For me though, I just need to change the JRE from any of the one I have installed to simply &quot;Bundled&quot;. CMIIW but it seems that I have correctly install the project with <code>mvn clean install</code>, and then maybe Bundled means I just use my installed bundle instead of the installed JRE/JDK on my machine. But really CMIIW. This works for me."}],"tags":[],"owner":{"account_id":139035,"reputation":861,"user_id":344348,"accept_rate":86,"display_name":"Jeeka"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1598565010,"creation_date":1598565010,"answer_id":63624584,"question_id":61289461,"body_markdown":"in my case, the JRE version used in the **Run Configuration** was different than the target JDK version in the pom.xml\r\n\r\n [![SpringBoot_Run_Config][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mU53b.png","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>in my case, the JRE version used in the <strong>Run Configuration</strong> was different than the target JDK version in the pom.xml</p>\n<p><a href=\"https://i.stack.imgur.com/mU53b.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mU53b.png\" alt=\"SpringBoot_Run_Config\" /></a></p>\n"},{"tags":[],"owner":{"account_id":12199802,"reputation":145,"user_id":8904347,"display_name":"Sandip Jadhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602834957,"creation_date":1602834957,"answer_id":64385105,"question_id":61289461,"body_markdown":"I solved this by selecting Installed JRE path in window =&gt; preferences =&gt; java =&gt; installed JRE =&gt; remve existing &amp; select from local directory.\r\n\r\nMake sure you have java_home variable set in environmental variable","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I solved this by selecting Installed JRE path in window =&gt; preferences =&gt; java =&gt; installed JRE =&gt; remve existing &amp; select from local directory.</p>\n<p>Make sure you have java_home variable set in environmental variable</p>\n"},{"tags":[],"owner":{"account_id":19420311,"reputation":827,"user_id":14202968,"display_name":"Mohammed alsheikh"},"comment_count":0,"down_vote_count":1,"up_vote_count":65,"is_accepted":false,"score":64,"last_activity_date":1635115168,"creation_date":1603699508,"answer_id":64533389,"question_id":61289461,"body_markdown":"I solved it by editing the  *gradle-wrapper.properties* file inside the *gradle* folder. (Not .gradle) :\r\n\r\nChange this line, from: \r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.2-all.zip\r\n```\r\nto:\r\n```\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\r\n```\r\nrebuild and it&#39;s ok.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I solved it by editing the  <em>gradle-wrapper.properties</em> file inside the <em>gradle</em> folder. (Not .gradle) :</p>\n<p>Change this line, from:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.2-all.zip\n</code></pre>\n<p>to:</p>\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-all.zip\n</code></pre>\n<p>rebuild and it's ok.</p>\n"},{"tags":[],"owner":{"account_id":2969131,"reputation":340,"user_id":2521628,"display_name":"Jan Cizmar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603762300,"creation_date":1603762300,"answer_id":64547173,"question_id":61289461,"body_markdown":"If you are looking for similar solution as @godsim shared, but for gradle liquabase plugin, then modify your configuration section in build.gradle to exclude liquabase&#39;s groovy dependency: \r\n```\r\nconfigurations {\r\n    ...\r\n    liquibaseRuntime.exclude group: &quot;org.codehaus.groovy&quot;\r\n}\r\n```\r\nand then manually add groovy in dependencies section:\r\n\r\n```\r\ndependencies {\r\n    ...\r\n    liquibaseRuntime(&#39;org.liquibase:liquibase-core:3.8.1&#39;)\r\n    liquibaseRuntime(&#39;org.codehaus.groovy:groovy-all:3.0.3&#39;)\r\n    liquibaseRuntime &#39;org.postgresql:postgresql&#39;\r\n    liquibaseRuntime(&#39;org.liquibase:liquibase-groovy-dsl:2.1.2&#39;)\r\n    liquibaseRuntime(&#39;org.liquibase.ext:liquibase-hibernate5:3.10.2&#39;)\r\n    liquibaseRuntime(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;)\r\n    liquibaseRuntime sourceSets.main.output\r\n    ...\r\n}\r\n```","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>If you are looking for similar solution as @godsim shared, but for gradle liquabase plugin, then modify your configuration section in build.gradle to exclude liquabase's groovy dependency:</p>\n<pre><code>configurations {\n    ...\n    liquibaseRuntime.exclude group: &quot;org.codehaus.groovy&quot;\n}\n</code></pre>\n<p>and then manually add groovy in dependencies section:</p>\n<pre><code>dependencies {\n    ...\n    liquibaseRuntime('org.liquibase:liquibase-core:3.8.1')\n    liquibaseRuntime('org.codehaus.groovy:groovy-all:3.0.3')\n    liquibaseRuntime 'org.postgresql:postgresql'\n    liquibaseRuntime('org.liquibase:liquibase-groovy-dsl:2.1.2')\n    liquibaseRuntime('org.liquibase.ext:liquibase-hibernate5:3.10.2')\n    liquibaseRuntime('org.springframework.boot:spring-boot-starter-data-jpa')\n    liquibaseRuntime sourceSets.main.output\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15271061,"reputation":442,"user_id":11018260,"display_name":"Gulshan Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605547691,"creation_date":1605547691,"answer_id":64862772,"question_id":61289461,"body_markdown":"This issue is solved for me only when I updated compileSdkVersion and targetSdkVersion to 30 with minSdkVersion 19","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>This issue is solved for me only when I updated compileSdkVersion and targetSdkVersion to 30 with minSdkVersion 19</p>\n"},{"tags":[],"owner":{"account_id":5285035,"reputation":71,"user_id":4219317,"display_name":"Alled Luviette"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611255036,"creation_date":1611255036,"answer_id":65833947,"question_id":61289461,"body_markdown":"Was getting the error when using old versions of `spotbugs-maven-plugin` plugin and the corresponding `spotbugs` maven dependency.\r\n\r\nFixed by upgrading both to `4.2.0`.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>Was getting the error when using old versions of <code>spotbugs-maven-plugin</code> plugin and the corresponding <code>spotbugs</code> maven dependency.</p>\n<p>Fixed by upgrading both to <code>4.2.0</code>.</p>\n"},{"comments":[{"owner":{"account_id":7019448,"reputation":5353,"user_id":5379496,"display_name":"Ovidiu Dolha"},"score":0,"creation_date":1621421878,"post_id":67546713,"comment_id":119489208,"body_markdown":"thanks so much! this saved me some time! I couldn&#39;t get it to work in a very specific context and - tried all solutions mentioned here, with various version combinations and was just about to break something","body":"thanks so much! this saved me some time! I couldn&#39;t get it to work in a very specific context and - tried all solutions mentioned here, with various version combinations and was just about to break something"}],"tags":[],"owner":{"account_id":8250527,"reputation":99,"user_id":6205341,"display_name":"Nilesh Suryawanshi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621081494,"creation_date":1621081494,"answer_id":67546713,"question_id":61289461,"body_markdown":"I fixed this by adding [Apache Groovy 2.4.7][1] in pom.xml\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.codehaus.groovy/groovy/2.4.7","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I fixed this by adding <a href=\"https://mvnrepository.com/artifact/org.codehaus.groovy/groovy/2.4.7\" rel=\"nofollow noreferrer\">Apache Groovy 2.4.7</a> in pom.xml</p>\n"},{"tags":[],"owner":{"account_id":13823398,"reputation":59,"user_id":9978312,"display_name":"azeem bhopal"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1622754021,"creation_date":1622717315,"answer_id":67820054,"question_id":61289461,"body_markdown":"For Maven users, Please follow the below steps to resolve this issue\r\n\r\n 1. You should place rest-assured before the JUnit dependency declaration in your pom.xml / build.gradle in order to make sure that the correct version of Hamcrest is used.\r\n 2. Add the following dependencies to your pom.xml   \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-json --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n    &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHope this will fix your issue. It works for me. Instruction mentioned at step#1 copies from Rest Assured official site. Thanks","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>For Maven users, Please follow the below steps to resolve this issue</p>\n<ol>\n<li>You should place rest-assured before the JUnit dependency declaration in your pom.xml / build.gradle in order to make sure that the correct version of Hamcrest is used.</li>\n<li>Add the following dependencies to your pom.xml</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-all&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy-json --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n    &lt;artifactId&gt;groovy-json&lt;/artifactId&gt;\n    &lt;version&gt;3.0.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Hope this will fix your issue. It works for me. Instruction mentioned at step#1 copies from Rest Assured official site. Thanks</p>\n"},{"comments":[{"owner":{"account_id":295281,"reputation":3060,"user_id":599614,"display_name":"sstn"},"score":1,"creation_date":1639997827,"post_id":68731443,"comment_id":124482199,"body_markdown":"This has nothing to do with Android. Also, tips like &quot;Run XYZ as Administrator&quot; are usually not helpful.","body":"This has nothing to do with Android. Also, tips like &quot;Run XYZ as Administrator&quot; are usually not helpful."}],"tags":[],"owner":{"account_id":1590067,"reputation":1066,"user_id":1473593,"display_name":"Anas Naguib"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1628617768,"creation_date":1628617768,"answer_id":68731443,"question_id":61289461,"body_markdown":"If you are on Windows operating system and using Android Studio, you should run Android Studio as Administrator.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>If you are on Windows operating system and using Android Studio, you should run Android Studio as Administrator.</p>\n"},{"tags":[],"owner":{"account_id":1604214,"reputation":4524,"user_id":1484621,"accept_rate":70,"display_name":"Yu Jiaao"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1630888863,"creation_date":1630888863,"answer_id":69068154,"question_id":61289461,"body_markdown":"in my maven Spring Boot project, I solve the problem by adding dependency:\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;groovy&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.8&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>in my maven Spring Boot project, I solve the problem by adding dependency:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.codehaus.groovy/groovy --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.groovy&lt;/groupId&gt;\n        &lt;artifactId&gt;groovy&lt;/artifactId&gt;\n        &lt;version&gt;3.0.8&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":3,"creation_date":1637124723,"post_id":69993558,"comment_id":123739374,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/69993558/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23185585,"reputation":11,"user_id":17282749,"display_name":"imad bouhafer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637094695,"creation_date":1637083452,"answer_id":69993558,"question_id":61289461,"body_markdown":"I simply changed the gradle version for the project to the newer version.\r\n\r\n[![a screenshot of the upgrade][1]][1]\r\n\r\nPS. I use kotlin\r\n\r\n  [1]: https://i.stack.imgur.com/k2NLA.png","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I simply changed the gradle version for the project to the newer version.</p>\n<p><a href=\"https://i.stack.imgur.com/k2NLA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k2NLA.png\" alt=\"a screenshot of the upgrade\" /></a></p>\n<p>PS. I use kotlin</p>\n"},{"tags":[],"owner":{"account_id":5715145,"reputation":81,"user_id":4515648,"display_name":"bigwig87"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1646371976,"creation_date":1646371976,"answer_id":71347007,"question_id":61289461,"body_markdown":"4 things in IntelliJ to check:\r\n\r\n - Your Project Structure -&gt; Project -&gt; SDK and Language level\r\n - Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle, look at Gradle JVM\r\n - Settings -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler\r\n - Your build.gradle, the Java { sourceCompatibility and targetCompatibility }\r\n\r\nMake them all agree on the JDK / language level and it should be fine","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>4 things in IntelliJ to check:</p>\n<ul>\n<li>Your Project Structure -&gt; Project -&gt; SDK and Language level</li>\n<li>Settings -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle, look at Gradle JVM</li>\n<li>Settings -&gt; Build,Execution,Deployment -&gt; Compiler -&gt; Java Compiler</li>\n<li>Your build.gradle, the Java { sourceCompatibility and targetCompatibility }</li>\n</ul>\n<p>Make them all agree on the JDK / language level and it should be fine</p>\n"},{"tags":[],"owner":{"account_id":13393269,"reputation":51,"user_id":9665037,"display_name":"jkwli"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1646806242,"creation_date":1646802061,"answer_id":71404522,"question_id":61289461,"body_markdown":"I have met a similar problem. But my error message is not exactly the same.\r\n\r\nI got some ideas from Tarmo and checking the gradle version, eclipse version and the JDK it use.\r\n\r\nMy error message is:\r\n\r\n```&gt;Could not open cp_init remapped class cache for 6a5krabdzij62jglcll542e66 (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts-remapped\\eclipsePlugin_exdepshtcjqu2w7kigtdndgoa\\6a5krabdzij62jglcll542e66\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\r\n&gt; Could not open cp_init generic class cache for initialization script &#39;D:\\xxx\\TestingEnv\\Dev1\\eclipse\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle&#39; (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\r\n   &gt; Could not initialize class org.codehaus.groovy.classgen.Verifier\r\n```\r\nI have using \r\nSpringToolSuite4\r\n**Version: 4.9.0.RELEASE Build Id: 202012132054** for development.\r\n\r\nI have 2 projects. Project A and Project B.\r\n\r\nProject A, works fine without gradle problem\r\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\r\nMy distributionUrl is:\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-4.8-bin.zip\r\n\r\nLater, I have another project B and the setting is:\r\n\r\nProject B:\r\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\r\nMy distributionUrl is:\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.2-bin.zip\r\n\r\nWhen I select &#39;refresh gradle&#39; in the IDE, Project B keeps failing build and output the error mentioned above.\r\n\r\nI have no clues on it until I found the answer from Tarmo.\r\n\r\nThings I have done:\r\n1. Try to change the distributionUrl=https\\://services.gradle.org/distributions/gradle-6.3-bin.zip\r\n-The error message changes to other. (Seems we are on the right way)\r\n2. Check the JDK version, which Eclipse using to start the itself.\r\n- Under menu bar &gt; Help &gt; About Spring Tool Suite 4 &gt; Installation Details &gt; press &#39;Configuration Tab &gt;\r\nsearching for a row start with -vm\r\n- It was originally pointing th OpenJDK, then I changed it to pointing to JDK 1.8 at my local machine. It failed to start since it is not supported the older version of JDK.\r\n3. I downloaded the older version of STS **sts-4.4.1.RELEASE**\r\n- Now, I import the project again, press &#39;refresh gradle&#39;, it works fine and the gradle task shows properly in the IDE.\r\n4. In the sts-4.4.1.RELEASE folder, adding an entry into SpringToolSuite4.ini to pointing to use JDK 1.8 at my local PC.\r\n```--vm\r\nC:/Program Files/Java/jdk1.8.0_301/bin/javaw.exe\r\n```\r\n-If not specify, it would use the openjdk to start with by default. It is a good practice to specify the version we use.\r\n\r\nAppendix\r\nSpringToolSuite4.ini\r\nhttps://wiki.eclipse.org/Eclipse.ini\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I have met a similar problem. But my error message is not exactly the same.</p>\n<p>I got some ideas from Tarmo and checking the gradle version, eclipse version and the JDK it use.</p>\n<p>My error message is:</p>\n<pre><code>&gt; Could not open cp_init generic class cache for initialization script 'D:\\xxx\\TestingEnv\\Dev1\\eclipse\\.metadata\\.plugins\\org.eclipse.buildship.core\\init.d\\eclipsePlugin.gradle' (C:\\Users\\xxx\\.gradle\\caches\\5.6\\scripts\\6a5krabdzij62jglcll542e66\\cp_init\\cp_init8a51e2ebf3f7f8302cfbbb80ea3d4b3d).\n   &gt; Could not initialize class org.codehaus.groovy.classgen.Verifier\n</code></pre>\n<p>I have using\nSpringToolSuite4\n<strong>Version: 4.9.0.RELEASE Build Id: 202012132054</strong> for development.</p>\n<p>I have 2 projects. Project A and Project B.</p>\n<p>Project A, works fine without gradle problem\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\nMy distributionUrl is:\ndistributionUrl=https://services.gradle.org/distributions/gradle-4.8-bin.zip</p>\n<p>Later, I have another project B and the setting is:</p>\n<p>Project B:\nUnder this project, gradle&gt; wrapper &gt; gradle-wrapper.propties\nMy distributionUrl is:\ndistributionUrl=https://services.gradle.org/distributions/gradle-5.6.2-bin.zip</p>\n<p>When I select 'refresh gradle' in the IDE, Project B keeps failing build and output the error mentioned above.</p>\n<p>I have no clues on it until I found the answer from Tarmo.</p>\n<p>Things I have done:</p>\n<ol>\n<li>Try to change the distributionUrl=https://services.gradle.org/distributions/gradle-6.3-bin.zip\n-The error message changes to other. (Seems we are on the right way)</li>\n<li>Check the JDK version, which Eclipse using to start the itself.</li>\n</ol>\n<ul>\n<li>Under menu bar &gt; Help &gt; About Spring Tool Suite 4 &gt; Installation Details &gt; press 'Configuration Tab &gt;\nsearching for a row start with -vm</li>\n<li>It was originally pointing th OpenJDK, then I changed it to pointing to JDK 1.8 at my local machine. It failed to start since it is not supported the older version of JDK.</li>\n</ul>\n<ol start=\"3\">\n<li>I downloaded the older version of STS <strong>sts-4.4.1.RELEASE</strong></li>\n</ol>\n<ul>\n<li>Now, I import the project again, press 'refresh gradle', it works fine and the gradle task shows properly in the IDE.</li>\n</ul>\n<ol start=\"4\">\n<li>In the sts-4.4.1.RELEASE folder, adding an entry into SpringToolSuite4.ini to pointing to use JDK 1.8 at my local PC.</li>\n</ol>\n<pre><code>C:/Program Files/Java/jdk1.8.0_301/bin/javaw.exe\n</code></pre>\n<p>-If not specify, it would use the openjdk to start with by default. It is a good practice to specify the version we use.</p>\n<p>Appendix\nSpringToolSuite4.ini\n<a href=\"https://wiki.eclipse.org/Eclipse.ini\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Eclipse.ini</a></p>\n"},{"comments":[{"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"score":0,"creation_date":1672697604,"post_id":72392692,"comment_id":132330524,"body_markdown":"JAVA_HOME is not typically required to compile the android project because the jdk is set for android lib","body":"JAVA_HOME is not typically required to compile the android project because the jdk is set for android lib"}],"tags":[],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653572086,"creation_date":1653572086,"answer_id":72392692,"question_id":61289461,"body_markdown":"It was coming for me in Idea, and got resolved after setting JAVA_HOME in .zshrc and .bash_profile, source both the files and restart the Idea.\r\n\r\n    export JAVA_HOME=&quot;&lt;Path to JDK just above bin &quot; # For e.g it was &quot;/opt/homebrew/opt/openjdk@11&quot; in my Mac machine could be /Contents/Home based on you have used homebrew or manually gunzipped","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>It was coming for me in Idea, and got resolved after setting JAVA_HOME in .zshrc and .bash_profile, source both the files and restart the Idea.</p>\n<pre><code>export JAVA_HOME=&quot;&lt;Path to JDK just above bin &quot; # For e.g it was &quot;/opt/homebrew/opt/openjdk@11&quot; in my Mac machine could be /Contents/Home based on you have used homebrew or manually gunzipped\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7523801,"reputation":96,"user_id":5714806,"display_name":"ddc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653981274,"creation_date":1653981274,"answer_id":72443586,"question_id":61289461,"body_markdown":"It can also happen because you forgot to indicate your Android SDK via local.properties in a freshly cloned Android Project.","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>It can also happen because you forgot to indicate your Android SDK via local.properties in a freshly cloned Android Project.</p>\n"},{"tags":[],"owner":{"account_id":952426,"reputation":1868,"user_id":978302,"accept_rate":60,"display_name":"RenatoIvancic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695100022,"creation_date":1695100022,"answer_id":77131844,"question_id":61289461,"body_markdown":"I had to work on a project with Gradle version 6.0.1. First I wanted to update the Gradle wrapper while then later I got other issues. So to stay with Gradle wrapper 6.0.1, I had to downgrade Java version from 17 to 8.\r\n\r\nIn **Eclipse** I had to override workspace settings in the Advanced section with setting explicitly Java home. Otherwise the project wouldn&#39;t load at all.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn **IntelliJ IDEA** the case was that project could open while it presented following error. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAgain I had to downgrade Java version to 8 from 17 in the Gradle build window:\r\n[![enter image description here][3]][3]\r\n\r\nFor a long shot it definitely makes sense to upgrade the project. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uSkjE.png\r\n  [2]: https://i.stack.imgur.com/Og2Ks.png\r\n  [3]: https://i.stack.imgur.com/cZh2b.jpg","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I had to work on a project with Gradle version 6.0.1. First I wanted to update the Gradle wrapper while then later I got other issues. So to stay with Gradle wrapper 6.0.1, I had to downgrade Java version from 17 to 8.</p>\n<p>In <strong>Eclipse</strong> I had to override workspace settings in the Advanced section with setting explicitly Java home. Otherwise the project wouldn't load at all.</p>\n<p><a href=\"https://i.stack.imgur.com/uSkjE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uSkjE.png\" alt=\"enter image description here\" /></a></p>\n<p>In <strong>IntelliJ IDEA</strong> the case was that project could open while it presented following error.</p>\n<p><a href=\"https://i.stack.imgur.com/Og2Ks.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Og2Ks.png\" alt=\"enter image description here\" /></a></p>\n<p>Again I had to downgrade Java version to 8 from 17 in the Gradle build window:\n<a href=\"https://i.stack.imgur.com/cZh2b.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cZh2b.jpg\" alt=\"enter image description here\" /></a></p>\n<p>For a long shot it definitely makes sense to upgrade the project.</p>\n"}],"owner":{"account_id":4099206,"reputation":2041,"user_id":3365200,"accept_rate":80,"display_name":"user3365200"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345942,"favorite_count":0,"down_vote_count":0,"up_vote_count":189,"answer_count":24,"score":189,"last_activity_date":1695100022,"creation_date":1587214529,"question_id":61289461,"body_markdown":"I am getting this exception  `\r\njava.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7  and java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache\r\n`) when i run the spring boot application\r\n\r\nI am using below tools\r\n\r\n***STS 3.9.10 release &lt;br/&gt;\r\nOpen JDK 14 64 bit &lt;br/&gt;\r\nSpring boot 2.2.5 &lt;br/&gt;***\r\n\r\nIt worked fine with oracle jdk but its failing to run with openjdk.  I am not using any groovy libs. This is maven based spring boot project.\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7","body":"<p>I am getting this exception  <code>java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.vmplugin.v7.Java7  and java.lang.NoClassDefFoundError: Could not initialize class org.codehaus.groovy.reflection.ReflectionCache</code>) when i run the spring boot application</p>\n<p>I am using below tools</p>\n<p><em><strong>STS 3.9.10 release <br/>\nOpen JDK 14 64 bit <br/>\nSpring boot 2.2.5 <br/></strong></em></p>\n<p>It worked fine with oracle jdk but its failing to run with openjdk.  I am not using any groovy libs. This is maven based spring boot project.</p>\n"},{"tags":["java","visual-studio-code","gradle","directory","build.gradle"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1695195303,"post_id":77131804,"comment_id":135989957,"body_markdown":"I think your gradle may be set wrong, please search how to use gradle in vscode. Or show more details about your problem.","body":"I think your gradle may be set wrong, please search how to use gradle in vscode. Or show more details about your problem."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695354322,"post_id":77131833,"comment_id":136016079,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77131833/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5060337,"reputation":12,"user_id":4062178,"display_name":"Beck-"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695099826,"creation_date":1695099826,"answer_id":77131833,"question_id":77131804,"body_markdown":"I would delete the build.gradle file, and initialize the project again with gradle with `gradle init`, try reloading the project.","title":"Gradle &#39;run&#39; Task Fails: &quot;Directory does not contain a Gradle build&quot;","body":"<p>I would delete the build.gradle file, and initialize the project again with gradle with <code>gradle init</code>, try reloading the project.</p>\n"}],"owner":{"account_id":29164012,"reputation":19,"user_id":22342047,"display_name":"Paris Vanuya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695099826,"creation_date":1695099116,"question_id":77131804,"body_markdown":"**Question:**\r\nI&#39;m facing an issue when trying to run my Gradle-based Java project using the gradle run command. I encounter the following error:\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nDirectory &#39;/path/to/project&#39; does not contain a Gradle build.\r\n\r\nA Gradle build should contain a &#39;settings.gradle&#39; or &#39;settings.gradle.kts&#39; file in its root directory. It may also contain a &#39;build.gradle&#39; or &#39;build.gradle.kts&#39; file.\r\n\r\nTo create a new Gradle build in this directory, run &#39;gradle init&#39;.\r\n\r\nFor more information about the &#39;init&#39; task, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/build_init_plugin.html).\r\n\r\nFor more details on creating a Gradle build, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/tutorial_using_tasks.html).\r\n\r\n * Try:\r\n&gt; Run `gradle init` to create a new Gradle build in this directory.\r\n&gt; Run with `--stacktrace` option to get the stack trace.\r\n&gt; Run with `--info` or `--debug` option to get more log output.\r\n&gt; Get more help at [Gradle Help](https://help.gradle.org).\r\n```\r\n\r\n**Problem Description:**\r\nI&#39;m trying to run a Java project using Gradle, and my project structure seems to be correct with a build.gradle file in the root directory. However, when I run gradle run, I encounter the error mentioned above.\r\n\r\n**Additional Information:**\r\n```\r\n/path/to/project/\r\n build.gradle\r\n src/\r\n    main/\r\n        java/\r\n            WizardTD/\r\n                build.gradle\r\n                 App.java\r\n```\r\n\r\n * Gradle Version: 8.3\r\n\r\n**Steps Taken:**\r\n1. Navigated to the project&#39;s root directory.\r\n2. Checked that a **&#39;build.gradle&#39;** file exists.\r\n3. Ran **&#39;gradle run&#39;**.\r\n\r\n**Expected Behavior:**\r\nThe gradle run task should execute the Java application located in Main.java.\r\n\r\n**Actual Behavior:**\r\nThe gradle run task fails with the error mentioned above.\r\n\r\nI would appreciate any insights or guidance on how to resolve this issue and successfully run my Java project using Gradle. Thank you!\r\n\r\n\r\n","title":"Gradle &#39;run&#39; Task Fails: &quot;Directory does not contain a Gradle build&quot;","body":"<p><strong>Question:</strong>\nI'm facing an issue when trying to run my Gradle-based Java project using the gradle run command. I encounter the following error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nDirectory '/path/to/project' does not contain a Gradle build.\n\nA Gradle build should contain a 'settings.gradle' or 'settings.gradle.kts' file in its root directory. It may also contain a 'build.gradle' or 'build.gradle.kts' file.\n\nTo create a new Gradle build in this directory, run 'gradle init'.\n\nFor more information about the 'init' task, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/build_init_plugin.html).\n\nFor more details on creating a Gradle build, please refer to [Gradle Documentation](https://docs.gradle.org/8.3/userguide/tutorial_using_tasks.html).\n\n * Try:\n&gt; Run `gradle init` to create a new Gradle build in this directory.\n&gt; Run with `--stacktrace` option to get the stack trace.\n&gt; Run with `--info` or `--debug` option to get more log output.\n&gt; Get more help at [Gradle Help](https://help.gradle.org).\n</code></pre>\n<p><strong>Problem Description:</strong>\nI'm trying to run a Java project using Gradle, and my project structure seems to be correct with a build.gradle file in the root directory. However, when I run gradle run, I encounter the error mentioned above.</p>\n<p><strong>Additional Information:</strong></p>\n<pre><code>/path/to/project/\n build.gradle\n src/\n    main/\n        java/\n            WizardTD/\n                build.gradle\n                 App.java\n</code></pre>\n<ul>\n<li>Gradle Version: 8.3</li>\n</ul>\n<p><strong>Steps Taken:</strong></p>\n<ol>\n<li>Navigated to the project's root directory.</li>\n<li>Checked that a <strong>'build.gradle'</strong> file exists.</li>\n<li>Ran <strong>'gradle run'</strong>.</li>\n</ol>\n<p><strong>Expected Behavior:</strong>\nThe gradle run task should execute the Java application located in Main.java.</p>\n<p><strong>Actual Behavior:</strong>\nThe gradle run task fails with the error mentioned above.</p>\n<p>I would appreciate any insights or guidance on how to resolve this issue and successfully run my Java project using Gradle. Thank you!</p>\n"},{"tags":["java","android","class","kotlin","reflection"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1605825841,"post_id":64921081,"comment_id":114779033,"body_markdown":"Do you need to get a method by String name? Otherwise, you can just use `::methodName`.","body":"Do you need to get a method by String name? Otherwise, you can just use <code>::methodName</code>."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":3,"creation_date":1605826149,"post_id":64921081,"comment_id":114779121,"body_markdown":"Otherwise, you can get a KCallable using `class.members.single { it.name == &quot;theFunctionName&quot; }`","body":"Otherwise, you can get a KCallable using <code>class.members.single { it.name == &quot;theFunctionName&quot; }</code>"},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605826258,"post_id":64921081,"comment_id":114779149,"body_markdown":"yes I need by name. Incidentally, the **::methodName** doesn&#39;t work when i tried the following:\n val str:String =&quot;dsasa&quot;\n    var kclass : KClass&lt;out String&gt; = str::class\n    str.toUpperCase()","body":"yes I need by name. Incidentally, the <b>::methodName</b> doesn&#39;t work when i tried the following:  val str:String =&quot;dsasa&quot;     var kclass : KClass&lt;out String&gt; = str::class     str.toUpperCase()"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1605826569,"post_id":64921081,"comment_id":114779257,"body_markdown":"I&#39;m not following exactly what you tried, probably because of comment formatting, but you could edit it into the question if you want to ask about it too.","body":"I&#39;m not following exactly what you tried, probably because of comment formatting, but you could edit it into the question if you want to ask about it too."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605829969,"post_id":64921081,"comment_id":114780118,"body_markdown":"@Tenfour04, I understand all! thank you! you should write an official answer so i can reward you :) You are the master of the lambda expression. Just two  small and important questions, 1. Does this syntax bound the instance to the function? 2.Does members collection includes methods of *companion* object?","body":"@Tenfour04, I understand all! thank you! you should write an official answer so i can reward you :) You are the master of the lambda expression. Just two  small and important questions, 1. Does this syntax bound the instance to the function? 2.Does members collection includes methods of <i>companion</i> object?"}],"answers":[{"comments":[{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605881375,"post_id":64922833,"comment_id":114795821,"body_markdown":"thanks a lot. Great explanation. Maybe you can explain why saying: *&quot;The above method doesn&#39;t require the Kotlin reflection library*&quot;. Why does the first example using reflection and the second one doesn&#39;t use?","body":"thanks a lot. Great explanation. Maybe you can explain why saying: <i>&quot;The above method doesn&#39;t require the Kotlin reflection library</i>&quot;. Why does the first example using reflection and the second one doesn&#39;t use?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1605890151,"post_id":64922833,"comment_id":114800036,"body_markdown":"The less commonly used reflection features are in that library for the sake of reducing the compiled size of Kotlin apps.","body":"The less commonly used reflection features are in that library for the sake of reducing the compiled size of Kotlin apps."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1605895197,"post_id":64922833,"comment_id":114802301,"body_markdown":"you are saying the &quot;above mehod&quot;, did you mean the &quot;above **methods**? because the **two** first examples looks the same  (apart of the bounding).. In addition the example  are like the examples in the **https://kotlinlang.org/docs/reference/reflection.html** link that is called &quot;Reflection&quot;. So why do you say it doesn&#39;t use reflection? Does it reflection without a library?","body":"you are saying the &quot;above mehod&quot;, did you mean the &quot;above <b>methods</b>? because the <b>two</b> first examples looks the same  (apart of the bounding).. In addition the example  are like the examples in the <b><a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/reflection.html</a></b> link that is called &quot;Reflection&quot;. So why do you say it doesn&#39;t use reflection? Does it reflection without a library?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1605895347,"post_id":64922833,"comment_id":114802366,"body_markdown":"Yes. `::` is always okay to use without the reflection library.","body":"Yes. <code>::</code> is always okay to use without the reflection library."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1606570271,"post_id":64922833,"comment_id":115002432,"body_markdown":"sorry for opening a question after more than a week.. But i have opened the KFunction source code and didn&#39;t find there any reference to *operator invoke*, so maybe you can tell me how does the *Function* Instance can be called with invoke (or with parentheses)?","body":"sorry for opening a question after more than a week.. But i have opened the KFunction source code and didn&#39;t find there any reference to <i>operator invoke</i>, so maybe you can tell me how does the <i>Function</i> Instance can be called with invoke (or with parentheses)?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1606570920,"post_id":64922833,"comment_id":115002626,"body_markdown":"Im on my phone so just going off memory. I dont think a function reference is the same thing as a KFunction instance. In Kotlin, functions are first class objects. KFunction is a reflection class that has data about some function, and you only can get a KFunction indirectly through a KClass, not by directly referencing a function with `::`.","body":"Im on my phone so just going off memory. I dont think a function reference is the same thing as a KFunction instance. In Kotlin, functions are first class objects. KFunction is a reflection class that has data about some function, and you only can get a KFunction indirectly through a KClass, not by directly referencing a function with <code>::</code>."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1606571556,"post_id":64922833,"comment_id":115002798,"body_markdown":",also from memory you knows everything :)  ... What do you mean when saying *&quot;first class object&quot;*? Does *function* has *invoke* method?","body":",also from memory you knows everything :)  ... What do you mean when saying <i>&quot;first class object&quot;</i>? Does <i>function</i> has <i>invoke</i> method?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1606592146,"post_id":64922833,"comment_id":115009225,"body_markdown":"I mean its just a part of the language, not treated like a class that needs an invoke function. Kind of the way primitives are in Java.","body":"I mean its just a part of the language, not treated like a class that needs an invoke function. Kind of the way primitives are in Java."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1606655675,"post_id":64922833,"comment_id":115020484,"body_markdown":"i have a problem :)  i have already have a *KClass* and i want to get a static (companion method) from the *KClass* instance. In the example you used an Instance (Test) and than wrote: **Test.Companion::class.members.single { it.name == &quot;foo&quot; }**  , but what can i do with a *KClass*, only going to java option and get a *Class* from the *KClass* and then using java method *getMethod*?","body":"i have a problem :)  i have already have a <i>KClass</i> and i want to get a static (companion method) from the <i>KClass</i> instance. In the example you used an Instance (Test) and than wrote: <b>Test.Companion::class.members.single { it.name == &quot;foo&quot; }</b>  , but what can i do with a <i>KClass</i>, only going to java option and get a <i>Class</i> from the <i>KClass</i> and then using java method <i>getMethod</i>?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1606656228,"post_id":64922833,"comment_id":115020642,"body_markdown":"You could do `someKClass.companionObject` to get the KClass of the companion, and `.companionObjectInstance` to get the actual companion object you will have to use as the receiver if you want to call the function.","body":"You could do <code>someKClass.companionObject</code> to get the KClass of the companion, and <code>.companionObjectInstance</code> to get the actual companion object you will have to use as the receiver if you want to call the function."},{"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"score":0,"creation_date":1606753556,"post_id":64922833,"comment_id":115050266,"body_markdown":"@ Tenfour04 *single* method gets only a lambda expression as a parameter, but if the method i&#39;m interested in is overloaded... How should I add the parameters?","body":"@ Tenfour04 <i>single</i> method gets only a lambda expression as a parameter, but if the method i&#39;m interested in is overloaded... How should I add the parameters?"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1606756604,"post_id":64922833,"comment_id":115051727,"body_markdown":"You can put anything you want in the `single` lambda to select what you want, for instance `.single { it.name == &quot;foo&quot; &amp;&amp; it.parameters.size == 2 }`","body":"You can put anything you want in the <code>single</code> lambda to select what you want, for instance <code>.single { it.name == &quot;foo&quot; &amp;&amp; it.parameters.size == 2 }</code>"}],"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":12,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1695098995,"creation_date":1605838727,"answer_id":64922833,"question_id":64921081,"body_markdown":"Supposing you have this class: \r\n```\r\nclass Test {\r\n    fun sayHello() = println(&quot;Hello world&quot;)\r\n\r\n    companion object {\r\n        fun foo() = println(&quot;foo&quot;)\r\n    }\r\n}\r\n```\r\n\r\nThis gives you a function instance you can call with `invoke()` (which is an operator function, so you can just use parentheses like with any other function. If you get the function using the class name like this, it is not bound to an instance. So you pass the instance as the first parameter when invoking. (If `sayHello()` had additional parameters, they would just go after the first parameter of Test.)\r\n\r\n```\r\nval sayHelloFunction = Test::sayHello\r\nval test = Test()\r\nsayHelloFunction(test) // same as calling test.sayHello()\r\n```\r\n\r\nYou can also get a function reference that&#39;s bound to an instance like this. It cannot be called on other instances of Test.\r\n\r\n```\r\nval test = Test()\r\nval sayHelloFunction = test::sayHello\r\nsayHelloFunction() // same as calling test.sayHello()\r\n```\r\n\r\nThe above method doesn&#39;t require the Kotlin reflection library.\r\n\r\nTo get a member by String name, there isn&#39;t a specific function like Java&#39;s `getMethod`, so you have to pick it out of the list of members, which are KCallable. KCallable doesn&#39;t have the `operator fun invoke`, so you have to use `call` to call it, or cast it to a specific function type (in this case it would be `(Test) -&gt; Unit`).\r\n\r\n```\r\nval sayHelloCallable = Test::class.members.single { it.name == &quot;sayHello&quot; }\r\nval test = Test()\r\nsayHelloCallable.call(test) // same as calling test.sayHello()\r\n```\r\n\r\nThis *does not* list the members of the companion object, as that is a different class. For that you would have to get the companion&#39;s class:\r\n\r\n    Test.Companion::class.members.single { it.name == &quot;foo&quot; }\r\n\r\nI don&#39;t know if there&#39;s a way to get an instance bound version by name.\r\n\r\nAs for why there&#39;s no convenient `getMethod` function for KClass, I can only guess that because Kotlin classes have so many different types of members (properties, functions, delegates, backing fields), that maybe they want to limit API bloat and feel that the inline filtering functions like `single` are adequate.","title":"How to get Methods from KClass in Kotlin","body":"<p>Supposing you have this class:</p>\n<pre><code>class Test {\n    fun sayHello() = println(&quot;Hello world&quot;)\n\n    companion object {\n        fun foo() = println(&quot;foo&quot;)\n    }\n}\n</code></pre>\n<p>This gives you a function instance you can call with <code>invoke()</code> (which is an operator function, so you can just use parentheses like with any other function. If you get the function using the class name like this, it is not bound to an instance. So you pass the instance as the first parameter when invoking. (If <code>sayHello()</code> had additional parameters, they would just go after the first parameter of Test.)</p>\n<pre><code>val sayHelloFunction = Test::sayHello\nval test = Test()\nsayHelloFunction(test) // same as calling test.sayHello()\n</code></pre>\n<p>You can also get a function reference that's bound to an instance like this. It cannot be called on other instances of Test.</p>\n<pre><code>val test = Test()\nval sayHelloFunction = test::sayHello\nsayHelloFunction() // same as calling test.sayHello()\n</code></pre>\n<p>The above method doesn't require the Kotlin reflection library.</p>\n<p>To get a member by String name, there isn't a specific function like Java's <code>getMethod</code>, so you have to pick it out of the list of members, which are KCallable. KCallable doesn't have the <code>operator fun invoke</code>, so you have to use <code>call</code> to call it, or cast it to a specific function type (in this case it would be <code>(Test) -&gt; Unit</code>).</p>\n<pre><code>val sayHelloCallable = Test::class.members.single { it.name == &quot;sayHello&quot; }\nval test = Test()\nsayHelloCallable.call(test) // same as calling test.sayHello()\n</code></pre>\n<p>This <em>does not</em> list the members of the companion object, as that is a different class. For that you would have to get the companion's class:</p>\n<pre><code>Test.Companion::class.members.single { it.name == &quot;foo&quot; }\n</code></pre>\n<p>I don't know if there's a way to get an instance bound version by name.</p>\n<p>As for why there's no convenient <code>getMethod</code> function for KClass, I can only guess that because Kotlin classes have so many different types of members (properties, functions, delegates, backing fields), that maybe they want to limit API bloat and feel that the inline filtering functions like <code>single</code> are adequate.</p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168060,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605862337,"creation_date":1605862337,"answer_id":64926409,"question_id":64921081,"body_markdown":"To get a `Class` from a `KClass`, you just call [`.java`][1] on it (and [`.kotlin`][2] to go the other way).\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\r\n  [2]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.lang.-class/kotlin.html","title":"How to get Methods from KClass in Kotlin","body":"<p>To get a <code>Class</code> from a <code>KClass</code>, you just call <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.html\" rel=\"nofollow noreferrer\"><code>.java</code></a> on it (and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/java.lang.-class/kotlin.html\" rel=\"nofollow noreferrer\"><code>.kotlin</code></a> to go the other way).</p>\n"}],"owner":{"account_id":7581977,"reputation":1361,"user_id":5752410,"display_name":"Eitanos30"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4090,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64922833,"answer_count":2,"score":2,"last_activity_date":1695098995,"creation_date":1605825488,"question_id":64921081,"body_markdown":"In java when i have a Class&lt;&gt; instance, i have the *getMethod* that return a Method and it is very easy to use.\r\nAs i can see Kotlin makes life harder because such a method doesn&#39;t exist. is there a nice way to get a specific method beside of turning the *KClass* to *Class* and then using it exactly as in Java?\r\n","title":"How to get Methods from KClass in Kotlin","body":"<p>In java when i have a Class&lt;&gt; instance, i have the <em>getMethod</em> that return a Method and it is very easy to use.\nAs i can see Kotlin makes life harder because such a method doesn't exist. is there a nice way to get a specific method beside of turning the <em>KClass</em> to <em>Class</em> and then using it exactly as in Java?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":19296215,"reputation":703,"user_id":14105130,"display_name":"YourHelper"},"score":0,"creation_date":1604849423,"post_id":64739769,"comment_id":114466249,"body_markdown":"Does this anser your question?https://stackoverflow.com/questions/16688655/check-if-a-object-is-a-instance-of-a-class-but-not-a-instance-of-its-subclass","body":"Does this anser your question?<a href=\"https://stackoverflow.com/questions/16688655/check-if-a-object-is-a-instance-of-a-class-but-not-a-instance-of-its-subclass\" title=\"check if a object is a instance of a class but not a instance of its subclass\">stackoverflow.com/questions/16688655/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1604855651,"post_id":64739769,"comment_id":114468088,"body_markdown":"You should separate your objects being serialized from the actual serializer classes, and they don&#39;t need to be called &quot;factories&quot;","body":"You should separate your objects being serialized from the actual serializer classes, and they don&#39;t need to be called &quot;factories&quot;"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1604855708,"post_id":64739769,"comment_id":114468102,"body_markdown":"Can you show me code example, please?","body":"Can you show me code example, please?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1604871965,"post_id":64739769,"comment_id":114472442,"body_markdown":"You already have it, but fix the naming `SaleRequestSerializer implements org.apache.kafka.common.serialization.Serializer`... My point is that your ProducerFactory, for example shouldn&#39;t be &quot;sending&quot; your serializer, so have a separate class `ProducerFactory&lt;String, SaleRequestFactory&gt;`","body":"You already have it, but fix the naming <code>SaleRequestSerializer implements org.apache.kafka.common.serialization.Serializer</code>... My point is that your ProducerFactory, for example shouldn&#39;t be &quot;sending&quot; your serializer, so have a separate class <code>ProducerFactory&lt;String, SaleRequestFactory&gt;</code>"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1604851277,"post_id":64739826,"comment_id":114466829,"body_markdown":"I updated the code. Now I get `Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer`","body":"I updated the code. Now I get <code>Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer</code>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1604854343,"post_id":64739826,"comment_id":114467727,"body_markdown":"&quot;In most cases, StringDeserializer is used.&quot; - This is false for custom objects without a toString implementation","body":"&quot;In most cases, StringDeserializer is used.&quot; - This is false for custom objects without a toString implementation"},{"owner":{"account_id":2761823,"reputation":637,"user_id":2378559,"display_name":"Igmar Palsenberg"},"score":0,"creation_date":1604856680,"post_id":64739826,"comment_id":114468402,"body_markdown":"You either need to use a deserialiser provided by the Kafka driver, or make your class implement org.apache.kafka.common.serialization.Deserializer.\n\nSee https://kafka.apache.org/21/javadoc/org/apache/kafka/common/serialization/Deserializer.html for the documentation around this interface.","body":"You either need to use a deserialiser provided by the Kafka driver, or make your class implement org.apache.kafka.common.serialization.Deserializer.  See <a href=\"https://kafka.apache.org/21/javadoc/org/apache/kafka/common/serialization/Deserializer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/21/javadoc/org/apache/kafka/common/&hellip;</a> for the documentation around this interface."}],"tags":[],"owner":{"account_id":2761823,"reputation":637,"user_id":2378559,"display_name":"Igmar Palsenberg"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604849511,"creation_date":1604849511,"answer_id":64739826,"question_id":64739769,"body_markdown":"KEY_DESERIALIZER_CLASS_CONFIG is a class which deserializes the network value into proper Java classes. The class you provided doesn&#39;t do that.\r\n\r\nIn most cases, StringDeserializer is used. Specify a proper deserializer to the factory properties.","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>KEY_DESERIALIZER_CLASS_CONFIG is a class which deserializes the network value into proper Java classes. The class you provided doesn't do that.</p>\n<p>In most cases, StringDeserializer is used. Specify a proper deserializer to the factory properties.</p>\n"},{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1605054538,"post_id":64777054,"comment_id":114534332,"body_markdown":"This is the solution. One additional question: Do I need to add flush like this: `ObjectOutputStream outputStream = new ObjectOutputStream(out);\n            outputStream.writeObject(data);\n            out.flush();\n            out.close();` in order to prevent memory leak?","body":"This is the solution. One additional question: Do I need to add flush like this: <code>ObjectOutputStream outputStream = new ObjectOutputStream(out);             outputStream.writeObject(data);             out.flush();             out.close();</code> in order to prevent memory leak?"}],"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605043923,"creation_date":1605043923,"answer_id":64777054,"question_id":64739769,"body_markdown":"You are using different type to cast the object than what it was serialize with. Not sure why you need to do that. You can update your deserialize to something like below.\r\n\r\n    public class SaleRequestFactoryDeserializer implements Serializable, Deserializer&lt;SaleRequestFactory&gt; {\r\n\r\n         @Override\r\n         public SaleRequestFactory deserialize(String topic, byte[] data) {\r\n          ...\r\n            saleRequestFactory = (SaleRequestFactory) in.readObject();\r\n\r\n        }\r\n    }\r\n\r\n&gt;     java.lang.ClassCastException: null\r\n\r\nThis also means your serialization didn&#39;t work as expected. Make sure you have valid payload before you try to cast.","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>You are using different type to cast the object than what it was serialize with. Not sure why you need to do that. You can update your deserialize to something like below.</p>\n<pre><code>public class SaleRequestFactoryDeserializer implements Serializable, Deserializer&lt;SaleRequestFactory&gt; {\n\n     @Override\n     public SaleRequestFactory deserialize(String topic, byte[] data) {\n      ...\n        saleRequestFactory = (SaleRequestFactory) in.readObject();\n\n    }\n}\n</code></pre>\n<blockquote>\n<pre><code>java.lang.ClassCastException: null\n</code></pre>\n</blockquote>\n<p>This also means your serialization didn't work as expected. Make sure you have valid payload before you try to cast.</p>\n"},{"tags":[],"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663254096,"creation_date":1663254096,"answer_id":73733430,"question_id":64739769,"body_markdown":"For those who are using application.properties for kafka configuration parameters, make sure it looks like it\r\n\r\n    spring.kafka.consumer.bootstrap-servers=localhost:8888\r\n    spring.kafka.consumer.group-id=message\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    spring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n    \r\n    spring.kafka.producer.bootstrap-servers=localhost:8888\r\n    spring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\r\n    spring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>For those who are using application.properties for kafka configuration parameters, make sure it looks like it</p>\n<pre><code>spring.kafka.consumer.bootstrap-servers=localhost:8888\nspring.kafka.consumer.group-id=message\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.consumer.value-deserializer=org.apache.kafka.common.serialization.StringDeserializer\n\nspring.kafka.producer.bootstrap-servers=localhost:8888\nspring.kafka.producer.key-serializer=org.apache.kafka.common.serialization.StringSerializer\nspring.kafka.producer.value-serializer=org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64777054,"answer_count":3,"score":2,"last_activity_date":1695098976,"creation_date":1604849113,"question_id":64739769,"body_markdown":"I want to implement Kafka producer which sends and receives Java Serialized Objects. I tried this:\r\n\r\n***Producer:***\r\n\r\n```java\r\n@Configuration\r\npublic class KafkaProducerConfig {\r\n\r\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\nprivate String bootstrapAddress;\r\n\r\n@Bean\r\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\r\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n}\r\n\r\n@Bean\r\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\r\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n    /*\r\n        Serialization configuration\r\n     */\r\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n```java\r\n@Autowired\r\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n\r\nprivate static String topic = &quot;tp-sale&quot;;\r\n\r\nprivate void perform(){\r\n\r\n    SaleRequestFactory obj = new SaleRequestFactory();\r\n    obj.setId(100);\r\n\r\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n}\r\n```\r\n\r\n***Consumer:***\r\n\r\n```java\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactory.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n// Receive Object\r\n\r\n```java\r\n@KafkaListener(topics = &quot;tp-sale&quot;)\r\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n\r\n\tSystem.out.println(tf.getId());\r\n\r\n\tSaleResponseFactory resObj = new SaleResponseFactory();\r\n\tresObj.setUnique_id(&quot;123123&quot;);\r\n\r\n\treturn resObj;\r\n}\r\n```\r\n\r\nWhen I deploy the Producer I get error during deployment:\r\n\r\n`Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer`\r\n\r\nCustom object \r\n\r\n    import org.apache.kafka.common.serialization.Serializer;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SaleRequestFactory implements Serializable, Serializer {\r\n    \r\n        private static final long serialVersionUID = 1744050117179344127L;\r\n        \r\n        private int id;\r\n    \r\n        @Override\r\n        public byte[] serialize(String s, Object o) {\r\n            return new byte[0];\r\n        }\r\n    }\r\n\r\n&lt;p&gt;\r\n\r\n\r\n```    java\r\nimport org.apache.kafka.common.serialization.Deserializer;\r\n    \r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable, Deserializer {\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n\r\n    @Override\r\n    public Object deserialize(String s, byte[] bytes) {\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\nDo you know how I can fix this issue?\r\n\r\n***EDIT:***  I tried this:\r\n\r\n***Producer:***\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n    \r\n    private static String topic = &quot;tp-sale&quot;;\r\n    \r\n    private void perform(){\r\n    \r\n        SaleRequestFactory obj = new SaleRequestFactory();\r\n        obj.setId(100);\r\n    \r\n        ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n    }\r\n\r\n***Consumer:***\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n// Receive Object\r\n\r\n        @KafkaListener(topics = &quot;tp-sale&quot;)\r\n    public SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n    \r\n    \tSystem.out.println(tf.getId());\r\n    \r\n    \tSaleResponseFactory resObj = new SaleResponseFactory();\r\n    \tresObj.setUnique_id(&quot;123123&quot;);\r\n    \r\n    \treturn resObj;\r\n    }\r\n\r\n\r\n***Custom objects*** \r\n    \r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder(toBuilder = true)\r\n    public class SaleRequestFactory implements Serializable{\r\n    \r\n        private static final long serialVersionUID = 1744050117179344127L;\r\n        \r\n        private int id;\r\n    }\r\n    \r\n    public class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\r\n    \r\n        @Override\r\n        public byte[] serialize(String topic, SaleRequestFactory data) {\r\n            // convert data to byte[]\r\n            ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            try\r\n            {\r\n                ObjectOutputStream outputStream = new ObjectOutputStream(out);\r\n                outputStream.writeObject(data);\r\n                out.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return out.toByteArray();\r\n        }\r\n    }\r\n\r\n\r\n    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n}\r\n\r\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\r\n\r\n    @Override\r\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\r\n        // convert data to SaleResponseFactory\r\n        SaleResponseFactory saleResponseFactory = null;\r\n        try\r\n        {\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\r\n            ObjectInputStream in = new ObjectInputStream(bis);\r\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\r\n            in.close();\r\n        }\r\n        catch (IOException | ClassNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        return saleResponseFactory;\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhen I try to send message I get error:\r\n\r\n```java\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.ClassCastException: null\r\n21:27:51.152 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG KafkaMessageListenerContainer$ListenerConsumer[debug:296] - Commit list: {}\r\n21:27:51.153 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR KafkaMessageListenerContainer$ListenerConsumer[error:149] - Consumer exception\r\njava.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n        at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:145)\r\n        at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:103)\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1265)\r\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1022)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.lang.Thread.run(Thread.java:835)\r\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\r\nCaused by: java.lang.ClassCastException: null\r\n```\r\n\r\n\r\nDo you know how I can fix this issue?\r\n\r\n***EDIT:***\r\nI managed to implement these improvements:\r\n\r\n***Producer:***\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n    \r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n    }\r\n\r\n\r\n```java\r\n@Bean\r\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\r\n}\r\n\r\n@Bean\r\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n    return new KafkaTemplate&lt;&gt;(producerFactory());\r\n}\r\n}\r\n```\r\n\r\n***Send object:***\r\n\r\n    @Autowired\r\n    private KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\r\n    \r\n    private static String topic = &quot;tp-sale&quot;;\r\n    \r\n    private void perform(){\r\n    \r\n        SaleRequestFactory obj = new SaleRequestFactory();\r\n        obj.setId(100);\r\n    \r\n        ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\r\n    }\r\n\r\n***Consumer:***\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\r\n    private String bootstrapAddress;\r\n\r\n    private String groupId = &quot;test&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n***Receive Object***\r\n\r\n```java\r\n@KafkaListener(topics = &quot;tp-sale&quot;)\r\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\r\n\r\n\tSystem.out.println(tf.getId());\r\n\r\n\tSaleResponseFactory resObj = new SaleResponseFactory();\r\n\tresObj.setUnique_id(&quot;123123&quot;);\r\n\r\n\treturn resObj;\r\n}\r\n```\r\n\r\n\r\n***Custom objects*** \r\n    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleRequestFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n    \r\n    private int id;\r\n}\r\n\r\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\r\n\r\n    @Override\r\n    public byte[] serialize(String topic, SaleRequestFactory data) {\r\n        // convert data to byte[]\r\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        try\r\n        {\r\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\r\n            outputStream.writeObject(data);\r\n            out.close();\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return out.toByteArray();\r\n    }\r\n}\r\n```\r\n\r\n\r\n    \r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder(toBuilder = true)\r\npublic class SaleResponseFactory implements Serializable{\r\n\r\n    private static final long serialVersionUID = 1744050117179344127L;\r\n\r\n    private String unique_id;\r\n}\r\n\r\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\r\n\r\n    @Override\r\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\r\n        // convert data to SaleResponseFactory\r\n        SaleResponseFactory saleResponseFactory = null;\r\n        try\r\n        {\r\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\r\n            ObjectInputStream in = new ObjectInputStream(bis);\r\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\r\n            in.close();\r\n        }\r\n        catch (IOException | ClassNotFoundException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n        return saleResponseFactory;\r\n    }\r\n}\r\n```\r\n\r\nWhen I send some message I get error: \r\n\r\n```java\r\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - Listener method returned result [org.factory.SaleResponseFactory@69c400ab] - generating response message for it\r\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - No replyTopic to handle the reply: org.factory.SaleResponseFactory@69c400ab\r\n```\r\n\r\nDo you know how I can solve this issue?","title":"KafkaException: class is not an instance of org.apache.kafka.common.serialization.Deserializer","body":"<p>I want to implement Kafka producer which sends and receives Java Serialized Objects. I tried this:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactory.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    /*\n        Serialization configuration\n     */\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactory.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>// Receive Object</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p>When I deploy the Producer I get error during deployment:</p>\n<p><code>Caused by: org.apache.kafka.common.KafkaException: class org.engine.plugin.transactions.factory.SaleResponseFactory is not an instance of org.apache.kafka.common.serialization.Deserializer</code></p>\n<p>Custom object</p>\n<pre><code>import org.apache.kafka.common.serialization.Serializer;\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable, Serializer {\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n\n    @Override\n    public byte[] serialize(String s, Object o) {\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.kafka.common.serialization.Deserializer;\n    \n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable, Deserializer {\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n\n    @Override\n    public Object deserialize(String s, byte[] bytes) {\n        return null;\n    }\n}\n\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p><em><strong>EDIT:</strong></em>  I tried this:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p>// Receive Object</p>\n<pre><code>    @KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p><em><strong>Custom objects</strong></em></p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n}\n\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\n\n    @Override\n    public byte[] serialize(String topic, SaleRequestFactory data) {\n        // convert data to byte[]\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try\n        {\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\n            outputStream.writeObject(data);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n}\n\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\n\n    @Override\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\n        // convert data to SaleResponseFactory\n        SaleResponseFactory saleResponseFactory = null;\n        try\n        {\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\n            ObjectInputStream in = new ObjectInputStream(bis);\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\n            in.close();\n        }\n        catch (IOException | ClassNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n        return saleResponseFactory;\n    }\n}\n</code></pre>\n<p>When I try to send message I get error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.ClassCastException: null\n21:27:51.152 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG KafkaMessageListenerContainer$ListenerConsumer[debug:296] - Commit list: {}\n21:27:51.153 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] ERROR KafkaMessageListenerContainer$ListenerConsumer[error:149] - Consumer exception\njava.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n        at org.springframework.kafka.listener.SeekUtils.seekOrRecover(SeekUtils.java:145)\n        at org.springframework.kafka.listener.SeekToCurrentErrorHandler.handle(SeekToCurrentErrorHandler.java:103)\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1265)\n        at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1022)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition tp-sale-0 at offset 0. If needed, please seek past the record to continue consumption.\nCaused by: java.lang.ClassCastException: null\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n<p><em><strong>EDIT:</strong></em>\nI managed to implement these improvements:</p>\n<p><em><strong>Producer:</strong></em></p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n@Value(value = &quot;${kafka.bootstrapAddress}&quot;)\nprivate String bootstrapAddress;\n\n@Bean\npublic ProducerFactory&lt;String, SaleRequestFactory&gt; saleRequestFactoryProducerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n    configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, SaleRequestFactorySerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n    configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(saleRequestFactoryProducerFactory());\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n}\n</code></pre>\n<p><em><strong>Send object:</strong></em></p>\n<pre><code>@Autowired\nprivate KafkaTemplate&lt;String, SaleRequestFactory&gt; saleRequestFactoryKafkaTemplate;\n\nprivate static String topic = &quot;tp-sale&quot;;\n\nprivate void perform(){\n\n    SaleRequestFactory obj = new SaleRequestFactory();\n    obj.setId(100);\n\n    ListenableFuture&lt;SendResult&lt;String, SaleRequestFactory&gt;&gt; send = saleRequestFactoryKafkaTemplate.send(topic, obj);\n}\n</code></pre>\n<p><em><strong>Consumer:</strong></em></p>\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(value = &quot;${kafka.bootstrapAddress}&quot;)\n    private String bootstrapAddress;\n\n    private String groupId = &quot;test&quot;;\n\n    @Bean\n    public ConsumerFactory&lt;String, SaleResponseFactory&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, groupId);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, SaleResponseFactoryDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, SaleResponseFactory&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n</code></pre>\n<p><em><strong>Receive Object</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;tp-sale&quot;)\npublic SaleResponseFactory transactionElavonAuthorizeProcess(@Payload SaleRequestFactory tf, @Headers MessageHeaders headers) throws Exception {\n\n    System.out.println(tf.getId());\n\n    SaleResponseFactory resObj = new SaleResponseFactory();\n    resObj.setUnique_id(&quot;123123&quot;);\n\n    return resObj;\n}\n</code></pre>\n<p><em><strong>Custom objects</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleRequestFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n    \n    private int id;\n}\n\npublic class SaleRequestFactorySerializer implements Serializable, Serializer&lt;SaleRequestFactory&gt; {\n\n    @Override\n    public byte[] serialize(String topic, SaleRequestFactory data) {\n        // convert data to byte[]\n        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        try\n        {\n            ObjectOutputStream outputStream = new ObjectOutputStream(out);\n            outputStream.writeObject(data);\n            out.close();\n        }\n        catch (IOException e)\n        {\n            e.printStackTrace();\n        }\n\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder(toBuilder = true)\npublic class SaleResponseFactory implements Serializable{\n\n    private static final long serialVersionUID = 1744050117179344127L;\n\n    private String unique_id;\n}\n\npublic class SaleResponseFactoryDeserializer implements Serializable, Deserializer&lt;SaleResponseFactory&gt; {\n\n    @Override\n    public SaleResponseFactory deserialize(String topic, byte[] data) {\n        // convert data to SaleResponseFactory\n        SaleResponseFactory saleResponseFactory = null;\n        try\n        {\n            ByteArrayInputStream bis = new ByteArrayInputStream(data);\n            ObjectInputStream in = new ObjectInputStream(bis);\n            saleResponseFactory = (SaleResponseFactory) in.readObject();\n            in.close();\n        }\n        catch (IOException | ClassNotFoundException e)\n        {\n            e.printStackTrace();\n        }\n        return saleResponseFactory;\n    }\n}\n</code></pre>\n<p>When I send some message I get error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - Listener method returned result [org.factory.SaleResponseFactory@69c400ab] - generating response message for it\n13:03:53.675 [org.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1] DEBUG RecordMessagingMessageListenerAdapter[debug:296] - No replyTopic to handle the reply: org.factory.SaleResponseFactory@69c400ab\n</code></pre>\n<p>Do you know how I can solve this issue?</p>\n"},{"tags":["java","sql","spring","oracle","mybatis"],"answers":[{"comments":[{"owner":{"account_id":375203,"reputation":609,"user_id":725888,"accept_rate":33,"display_name":"Kurt Shaw"},"score":0,"creation_date":1613621935,"post_id":66253165,"comment_id":117133386,"body_markdown":"Do you mean along.getId()?, the primary key will  be mapped to parameter object?","body":"Do you mean along.getId()?, the primary key will  be mapped to parameter object?"},{"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"score":0,"creation_date":1613626918,"post_id":66253165,"comment_id":117134411,"body_markdown":"The object mapped to the id of the &lt;selectKey keyProperty=&quot;id&quot;&gt; you used in your DAO","body":"The object mapped to the id of the &lt;selectKey keyProperty=&quot;id&quot;&gt; you used in your DAO"}],"tags":[],"owner":{"account_id":8317456,"reputation":1353,"user_id":6250244,"display_name":"0gam"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695098145,"creation_date":1613618681,"answer_id":66253165,"question_id":66252438,"body_markdown":"Your insert returns 1 on success and 0 on failure. If you want to use the primary key, use getId() of the object you used to insert.\r\n\r\nExample:\r\n\r\n    // 1 or 0 = success or failure\r\n    int result = activityLogDao.createActivityLog(alog);\r\n\r\n    // get Id, the &#39;alog&#39; object mapped to the id\r\n    Integer myId = alog.getId();\r\n\r\n","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>Your insert returns 1 on success and 0 on failure. If you want to use the primary key, use getId() of the object you used to insert.</p>\n<p>Example:</p>\n<pre><code>// 1 or 0 = success or failure\nint result = activityLogDao.createActivityLog(alog);\n\n// get Id, the 'alog' object mapped to the id\nInteger myId = alog.getId();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613836495,"creation_date":1613836495,"answer_id":66293589,"question_id":66252438,"body_markdown":"As `&lt;selectKey /&gt;` requires extra query, `useGeneratedKey` is preferred in general.  \r\nI&#39;ll show you how to use `useGeneratedKeys` for the following usages.\r\n\r\n1. Use `nextval` in insert statement\r\n2. Use `nextval` as the default value of a column\r\n3. Use `identity` column\r\n\r\nFor explanation, I&#39;ll use a separate table for each case.\r\n\r\n\r\n```sql\r\ncreate sequence test_seq increment by 1 start with 1;\r\n\r\ncreate table user1 (\r\n  id int,\r\n  name varchar(10)\r\n);\r\n\r\ncreate table user2 (\r\n  id int default test_seq.nextval,\r\n  name varchar(10)\r\n);\r\n\r\ncreate table user3 (\r\n  id int generated always as identity,\r\n  name varchar(10)\r\n);\r\n```\r\n\r\nInsert statement for usage 1 would look as follows.\r\n\r\n```java\r\n@Insert({\r\n  &quot;insert into user1 (id, name)&quot;,\r\n    &quot;values (test_seq.nextval, #{name})&quot;})\r\n@Options(useGeneratedKeys = true,\r\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\r\nvoid insert1(User user);\r\n```\r\n\r\nHere is an XML version just for the sake of completeness.\r\n\r\n```xml\r\n&lt;insert id=&quot;insert1&quot; useGeneratedKeys=&quot;true&quot;\r\n  keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\r\n  insert into user1 (id, name)\r\n    values (test_seq.nextval, #{name})\r\n&lt;/insert&gt;\r\n```\r\n\r\n\r\nInsert statements for usage 2 and 3 are essentially the same.  \r\nNote that `id` is omitted from the column list.\r\n\r\n\r\n```java\r\n@Insert({&quot;insert into user2 (name) values (#{name})&quot;})\r\n@Options(useGeneratedKeys = true,\r\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\r\nvoid insert2(User user);\r\n```\r\n\r\nHere is a demo project:  \r\nhttps://github.com/harawata/mybatis-issues/tree/master/so-66252438","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>As <code>&lt;selectKey /&gt;</code> requires extra query, <code>useGeneratedKey</code> is preferred in general.<br />\nI'll show you how to use <code>useGeneratedKeys</code> for the following usages.</p>\n<ol>\n<li>Use <code>nextval</code> in insert statement</li>\n<li>Use <code>nextval</code> as the default value of a column</li>\n<li>Use <code>identity</code> column</li>\n</ol>\n<p>For explanation, I'll use a separate table for each case.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create sequence test_seq increment by 1 start with 1;\n\ncreate table user1 (\n  id int,\n  name varchar(10)\n);\n\ncreate table user2 (\n  id int default test_seq.nextval,\n  name varchar(10)\n);\n\ncreate table user3 (\n  id int generated always as identity,\n  name varchar(10)\n);\n</code></pre>\n<p>Insert statement for usage 1 would look as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Insert({\n  &quot;insert into user1 (id, name)&quot;,\n    &quot;values (test_seq.nextval, #{name})&quot;})\n@Options(useGeneratedKeys = true,\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\nvoid insert1(User user);\n</code></pre>\n<p>Here is an XML version just for the sake of completeness.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;insert id=&quot;insert1&quot; useGeneratedKeys=&quot;true&quot;\n  keyProperty=&quot;id&quot; keyColumn=&quot;id&quot;&gt;\n  insert into user1 (id, name)\n    values (test_seq.nextval, #{name})\n&lt;/insert&gt;\n</code></pre>\n<p>Insert statements for usage 2 and 3 are essentially the same.<br />\nNote that <code>id</code> is omitted from the column list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Insert({&quot;insert into user2 (name) values (#{name})&quot;})\n@Options(useGeneratedKeys = true,\n  keyProperty = &quot;id&quot;, keyColumn = &quot;id&quot;)\nvoid insert2(User user);\n</code></pre>\n<p>Here is a demo project:<br />\n<a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-66252438\" rel=\"nofollow noreferrer\">https://github.com/harawata/mybatis-issues/tree/master/so-66252438</a></p>\n"}],"owner":{"account_id":375203,"reputation":609,"user_id":725888,"accept_rate":33,"display_name":"Kurt Shaw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66253165,"answer_count":2,"score":1,"last_activity_date":1695098145,"creation_date":1613612652,"question_id":66252438,"body_markdown":"Try to get the primary id after inserting a new row to oracle DB\r\n\r\n    &lt;insert id=&quot;createActivityLog&quot; parameterType=&quot;ActivityLog&quot; &gt;\r\n      &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;java.lang.Integer&quot; order=&quot;BEFORE&quot;&gt;\r\n          select ACTIVITY_LOG_SEQ.nextval as id from dual\r\n      &lt;/selectKey&gt;  \r\n      insert into ACTIVITY_LOG (\r\n             activity_log_id,\r\n             notes,\r\n             details            )\r\n      values (\r\n         #{id,jdbcType=NUMERIC},\r\n         #{notes,jdbcType=VARCHAR},\r\n         #{details,jdbcType=VARCHAR}\r\n      )\r\n   &lt;/insert&gt;\r\n\r\nHere is the java call \r\n\r\n    Integer myId=(Integer) activityLogDao.createActivityLog(alog);\r\n\r\nNew data/row can be inserted into DB with no issue with correct primary key/id. But myID is always returned as 1(supposed to be 8971). How can I get the correct value. Thanks in advcance.\r\n\r\n\r\nversion:\r\n \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"MyBatis oracle insert new row always return wrong primary id value","body":"<p>Try to get the primary id after inserting a new row to oracle DB</p>\n<pre><code>&lt;insert id=&quot;createActivityLog&quot; parameterType=&quot;ActivityLog&quot; &gt;\n  &lt;selectKey keyProperty=&quot;id&quot; resultType=&quot;java.lang.Integer&quot; order=&quot;BEFORE&quot;&gt;\n      select ACTIVITY_LOG_SEQ.nextval as id from dual\n  &lt;/selectKey&gt;  \n  insert into ACTIVITY_LOG (\n         activity_log_id,\n         notes,\n         details            )\n  values (\n     #{id,jdbcType=NUMERIC},\n     #{notes,jdbcType=VARCHAR},\n     #{details,jdbcType=VARCHAR}\n  )\n</code></pre>\n   \n<p>Here is the java call</p>\n<pre><code>Integer myId=(Integer) activityLogDao.createActivityLog(alog);\n</code></pre>\n<p>New data/row can be inserted into DB with no issue with correct primary key/id. But myID is always returned as 1(supposed to be 8971). How can I get the correct value. Thanks in advcance.</p>\n<p>version:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis&lt;/artifactId&gt;\n        &lt;version&gt;3.4.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mybatis&lt;/groupId&gt;\n        &lt;artifactId&gt;mybatis-spring&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1476604524,"post_id":40067898,"comment_id":67409681,"body_markdown":"Your range check seems wrong: your code will never give a solution like &quot;11:00&quot; or &quot;01:59&quot;","body":"Your range check seems wrong: your code will never give a solution like &quot;11:00&quot; or &quot;01:59&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7228601,"reputation":1553,"user_id":5516322,"display_name":"aviad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1476604977,"creation_date":1476604977,"answer_id":40068213,"question_id":40067898,"body_markdown":"You are skipping options by always choosing to take time[i].\r\nAlso, Why are you using for? \r\neither choose to take time[start] or not - two recursion calls:\r\n\r\n    public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\r\n        if (start == time.length &amp;&amp; num &gt; 0)\r\n            return;\r\n\r\n        if (num == 0){\r\n            if (hour &lt;= 12 &amp;&amp; minute &lt;= 59){\r\n                String x = &quot;&quot; + hour + &quot;:&quot;;\r\n                if (minute &lt; 10){x = x + &quot;0&quot;;}\r\n                x = x + minute;\r\n                result.add(x);\r\n            }\r\n        } else {\r\n            helper(result, time, num, start + 1, hour, minute);\r\n            int h, m;\r\n            if (start &gt;= 4){h = hour; m = minute + time[start];} else {h = hour + time[start]; m = minute;}\r\n            helper(result, time, num - 1, start + 1, h, m);\r\n        }\r\n    }","title":"Binary watch algorithm (Java)","body":"<p>You are skipping options by always choosing to take time[i].\nAlso, Why are you using for? \neither choose to take time[start] or not - two recursion calls:</p>\n\n<pre><code>public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\n    if (start == time.length &amp;&amp; num &gt; 0)\n        return;\n\n    if (num == 0){\n        if (hour &lt;= 12 &amp;&amp; minute &lt;= 59){\n            String x = \"\" + hour + \":\";\n            if (minute &lt; 10){x = x + \"0\";}\n            x = x + minute;\n            result.add(x);\n        }\n    } else {\n        helper(result, time, num, start + 1, hour, minute);\n        int h, m;\n        if (start &gt;= 4){h = hour; m = minute + time[start];} else {h = hour + time[start]; m = minute;}\n        helper(result, time, num - 1, start + 1, h, m);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29226848,"reputation":1,"user_id":22391347,"display_name":"Divith Raju"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695095850,"creation_date":1695095850,"answer_id":77131635,"question_id":40067898,"body_markdown":"    char** readBinaryWatch(int num, int* returnSize) {\r\n        char** times = malloc(sizeof(char*) * 512);\r\n        int count = 0;\r\n\r\n        for (int h = 0; h &lt; 12; h++) {\r\n            for (int m = 0; m &lt; 60; m++) {\r\n                int temp = (h &lt;&lt; 6) | m;\r\n\r\n                if (countOnes(temp) == num) {\r\n                   char* temp = malloc(sizeof(char) * 6);\r\n                   sprintf(temp, &quot;%d:%02d&quot;, h % 12, m % 60);\r\n                   times[count++] = temp;\r\n                }\r\n             }\r\n         }\r\n \r\n        *returnSize = count;\r\n        return times;\r\n    }\r\n\r\n    int countOnes(int n) {\r\n        int count = 0;\r\n\r\n        while (n) {\r\n            n = n &amp; (n - 1);\r\n            count++;\r\n        }\r\n\r\n        return count;\r\n    }\r\nTry this Code using C format at Leetcode you will pass..\r\n","title":"Binary watch algorithm (Java)","body":"<pre><code>char** readBinaryWatch(int num, int* returnSize) {\n    char** times = malloc(sizeof(char*) * 512);\n    int count = 0;\n\n    for (int h = 0; h &lt; 12; h++) {\n        for (int m = 0; m &lt; 60; m++) {\n            int temp = (h &lt;&lt; 6) | m;\n\n            if (countOnes(temp) == num) {\n               char* temp = malloc(sizeof(char) * 6);\n               sprintf(temp, &quot;%d:%02d&quot;, h % 12, m % 60);\n               times[count++] = temp;\n            }\n         }\n     }\n\n    *returnSize = count;\n    return times;\n}\n\nint countOnes(int n) {\n    int count = 0;\n\n    while (n) {\n        n = n &amp; (n - 1);\n        count++;\n    }\n\n    return count;\n}\n</code></pre>\n<p>Try this Code using C format at Leetcode you will pass..</p>\n"}],"owner":{"account_id":7472487,"reputation":1202,"user_id":5679985,"accept_rate":46,"display_name":"Human Cyborg Relations"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":40068213,"answer_count":2,"score":0,"last_activity_date":1695095850,"creation_date":1476602438,"question_id":40067898,"body_markdown":"I&#39;m trying to write an algorithm that returns all the possible values of time that a number of lights on a binary watch could represent. \r\n\r\nThe entire problem with detail can be found here: https://leetcode.com/problems/binary-watch/\r\n\r\n    public class Solution {\r\n    public List&lt;String&gt; readBinaryWatch(int num) {\r\n        List&lt;String&gt; result = new ArrayList&lt;String&gt;();\r\n        int[] time = new int[] {1, 2, 4, 8, 1, 2, 4, 8, 16, 32};\r\n        \r\n        helper(result, time, num, 0, 0, 0);\r\n        \r\n        return result;\r\n    }\r\n    \r\n    public void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\r\n        if (num == 0){\r\n            if (hour &lt; 11 &amp;&amp; minute &lt; 59){\r\n                String x = &quot;&quot; + hour + &quot;:&quot;;\r\n                if (minute &lt; 10){x = x + &quot;0&quot;;}\r\n                x = x + minute;\r\n                result.add(x);\r\n            }\r\n        } else {\r\n            for (int i = start; i &lt; time.length; i++){\r\n                int h, m;\r\n                if (i &gt;= 4){h = hour; m = minute + time[i];} else {h = hour + time[i]; m = minute;}\r\n                helper(result, time, num - 1, start + 1, h, m);\r\n            }\r\n        }\r\n        \r\n    }}\r\n\r\nMy solution seems to fail some of the test cases, and I just can&#39;t seem to figure out why. Suggestions?","title":"Binary watch algorithm (Java)","body":"<p>I'm trying to write an algorithm that returns all the possible values of time that a number of lights on a binary watch could represent. </p>\n\n<p>The entire problem with detail can be found here: <a href=\"https://leetcode.com/problems/binary-watch/\" rel=\"nofollow\">https://leetcode.com/problems/binary-watch/</a></p>\n\n<pre><code>public class Solution {\npublic List&lt;String&gt; readBinaryWatch(int num) {\n    List&lt;String&gt; result = new ArrayList&lt;String&gt;();\n    int[] time = new int[] {1, 2, 4, 8, 1, 2, 4, 8, 16, 32};\n\n    helper(result, time, num, 0, 0, 0);\n\n    return result;\n}\n\npublic void helper(List&lt;String&gt; result, int[] time, int num, int start, int hour, int minute){\n    if (num == 0){\n        if (hour &lt; 11 &amp;&amp; minute &lt; 59){\n            String x = \"\" + hour + \":\";\n            if (minute &lt; 10){x = x + \"0\";}\n            x = x + minute;\n            result.add(x);\n        }\n    } else {\n        for (int i = start; i &lt; time.length; i++){\n            int h, m;\n            if (i &gt;= 4){h = hour; m = minute + time[i];} else {h = hour + time[i]; m = minute;}\n            helper(result, time, num - 1, start + 1, h, m);\n        }\n    }\n\n}}\n</code></pre>\n\n<p>My solution seems to fail some of the test cases, and I just can't seem to figure out why. Suggestions?</p>\n"},{"tags":["java","dynamic-programming"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229824,"post_id":77131493,"comment_id":135997818,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":29478316,"reputation":1,"user_id":22589567,"display_name":"Mohideen Irfan"},"score":0,"creation_date":1695098250,"post_id":77131625,"comment_id":135974967,"body_markdown":"Thank you very much for answering but still i am getting wrong answer for some inputs like if there are 2 rows and 3 columns and adventurer pos is 0,1 gold pos is 0,2 but the monster pos is 1,0. here the answer should be 1 as the gold is present in the very next position of adventurer but it shows no possible solution and also i am still getting stack overflow exception for 5*4 matrix.","body":"Thank you very much for answering but still i am getting wrong answer for some inputs like if there are 2 rows and 3 columns and adventurer pos is 0,1 gold pos is 0,2 but the monster pos is 1,0. here the answer should be 1 as the gold is present in the very next position of adventurer but it shows no possible solution and also i am still getting stack overflow exception for 5*4 matrix."}],"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695095638,"creation_date":1695095638,"answer_id":77131625,"question_id":77131493,"body_markdown":"Your solution appears to be on the right track, but it is always important to keep an eye open for errors such as StackOverflow due to how you terminate the recursive calls inefficiently.\r\n\r\nI would first replace the Math.pow(10, 8) with Integer.MAX_VALUE for representing infinity.\r\n\r\n```\r\nif (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n    return Integer.MAX_VALUE;\r\n}\r\n```\r\n\r\nThen change the way you handle adventurer and monster movements by considering their positions separately.\r\n\r\n```\r\nint[] dx = {-1, 1, 0, 0};\r\nint[] dy = {0, 0, -1, 1};\r\nint minSteps = Integer.MAX_VALUE;\r\n\r\nfor (int i = 0; i &lt; 4; i++) {\r\n    int newA1 = a1 + dx[i];\r\n    int newA2 = a2 + dy[i];\r\n\r\n    int newM1 = m1;\r\n    int newM2 = m2;\r\n\r\n    if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\r\n        // If adventurer and monster collide, the monster doesnt move\r\n        newM1 = m1;\r\n        newM2 = m2;\r\n    } else {\r\n        // Monster tries to move closer to adventurer\r\n        int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\r\n        int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\r\n        newM1 = m1 + dxMonster;\r\n        newM2 = m2 + dyMonster;\r\n    }\r\n\r\n    int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\r\n    minSteps = Math.min(minSteps, steps);\r\n}\r\n```\r\n\r\nI would also modify the input indices to be 0-based since all arrays in Java follow this conventionally.\r\n\r\n```\r\nint result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\r\n```\r\n\r\nAfter adding all the stuff above with the rest together:\r\n```\r\nimport java.util.*;\r\n\r\npublic class DungeonSolver {\r\n    public static int findMinSteps(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][] dp) {\r\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n            return Integer.MAX_VALUE;\r\n        }\r\n\r\n        if (a1 == g1 &amp;&amp; a2 == g2) {\r\n            return 0;\r\n        }\r\n\r\n        if (a1 == m1 &amp;&amp; a2 == m2) {\r\n            return Integer.MAX_VALUE;\r\n        }\r\n\r\n        if (dp[a1][a2][m1][m2] != -1) {\r\n            return dp[a1][a2][m1][m2];\r\n        }\r\n\r\n        int[] dx = {-1, 1, 0, 0};\r\n        int[] dy = {0, 0, -1, 1};\r\n        int minSteps = Integer.MAX_VALUE;\r\n\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            int newA1 = a1 + dx[i];\r\n            int newA2 = a2 + dy[i];\r\n\r\n            int newM1 = m1;\r\n            int newM2 = m2;\r\n\r\n            if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\r\n                newM1 = m1;\r\n                newM2 = m2;\r\n            } else {\r\n                int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\r\n                int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\r\n                newM1 = m1 + dxMonster;\r\n                newM2 = m2 + dyMonster;\r\n            }\r\n\r\n            int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\r\n            minSteps = Math.min(minSteps, steps);\r\n        }\r\n\r\n        dp[a1][a2][m1][m2] = minSteps;\r\n        return minSteps;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int m, n, a1, a2, m1, m2, g1, g2;\r\n        System.out.println(&quot;Enter rows:&quot;);\r\n        m = scan.nextInt();\r\n        System.out.println(&quot;Enter Column&quot;);\r\n        n = scan.nextInt();\r\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\r\n        a1 = scan.nextInt();\r\n        a2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Monster Position&quot;);\r\n        m1 = scan.nextInt();\r\n        m2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Gold Position&quot;);\r\n        g1 = scan.nextInt();\r\n        g2 = scan.nextInt();\r\n        int[][][][] dp = new int[m][n][m][n];\r\n\r\n        for (int i = 0; i &lt; m; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    for (int l = 0; l &lt; n; l++) {\r\n                        dp[i][j][k][l] = -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\r\n\r\n        if (result == Integer.MAX_VALUE) {\r\n            System.out.println(&quot;No possible solution&quot;);\r\n        } else {\r\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\r\n        }\r\n    }\r\n}\r\n```","title":"dungeon problem using dp recursive approach","body":"<p>Your solution appears to be on the right track, but it is always important to keep an eye open for errors such as StackOverflow due to how you terminate the recursive calls inefficiently.</p>\n<p>I would first replace the Math.pow(10, 8) with Integer.MAX_VALUE for representing infinity.</p>\n<pre><code>if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n    return Integer.MAX_VALUE;\n}\n</code></pre>\n<p>Then change the way you handle adventurer and monster movements by considering their positions separately.</p>\n<pre><code>int[] dx = {-1, 1, 0, 0};\nint[] dy = {0, 0, -1, 1};\nint minSteps = Integer.MAX_VALUE;\n\nfor (int i = 0; i &lt; 4; i++) {\n    int newA1 = a1 + dx[i];\n    int newA2 = a2 + dy[i];\n\n    int newM1 = m1;\n    int newM2 = m2;\n\n    if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\n        // If adventurer and monster collide, the monster doesnt move\n        newM1 = m1;\n        newM2 = m2;\n    } else {\n        // Monster tries to move closer to adventurer\n        int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\n        int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\n        newM1 = m1 + dxMonster;\n        newM2 = m2 + dyMonster;\n    }\n\n    int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\n    minSteps = Math.min(minSteps, steps);\n}\n</code></pre>\n<p>I would also modify the input indices to be 0-based since all arrays in Java follow this conventionally.</p>\n<pre><code>int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\n</code></pre>\n<p>After adding all the stuff above with the rest together:</p>\n<pre><code>import java.util.*;\n\npublic class DungeonSolver {\n    public static int findMinSteps(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][] dp) {\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n            return Integer.MAX_VALUE;\n        }\n\n        if (a1 == g1 &amp;&amp; a2 == g2) {\n            return 0;\n        }\n\n        if (a1 == m1 &amp;&amp; a2 == m2) {\n            return Integer.MAX_VALUE;\n        }\n\n        if (dp[a1][a2][m1][m2] != -1) {\n            return dp[a1][a2][m1][m2];\n        }\n\n        int[] dx = {-1, 1, 0, 0};\n        int[] dy = {0, 0, -1, 1};\n        int minSteps = Integer.MAX_VALUE;\n\n        for (int i = 0; i &lt; 4; i++) {\n            int newA1 = a1 + dx[i];\n            int newA2 = a2 + dy[i];\n\n            int newM1 = m1;\n            int newM2 = m2;\n\n            if (newA1 == newM1 &amp;&amp; newA2 == newM2) {\n                newM1 = m1;\n                newM2 = m2;\n            } else {\n                int dxMonster = (a1 - m1) &gt; 0 ? 1 : (a1 - m1) &lt; 0 ? -1 : 0;\n                int dyMonster = (a2 - m2) &gt; 0 ? 1 : (a2 - m2) &lt; 0 ? -1 : 0;\n                newM1 = m1 + dxMonster;\n                newM2 = m2 + dyMonster;\n            }\n\n            int steps = 1 + findMinSteps(m, n, newA1, newA2, newM1, newM2, g1, g2, dp);\n            minSteps = Math.min(minSteps, steps);\n        }\n\n        dp[a1][a2][m1][m2] = minSteps;\n        return minSteps;\n    }\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int m, n, a1, a2, m1, m2, g1, g2;\n        System.out.println(&quot;Enter rows:&quot;);\n        m = scan.nextInt();\n        System.out.println(&quot;Enter Column&quot;);\n        n = scan.nextInt();\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\n        a1 = scan.nextInt();\n        a2 = scan.nextInt();\n        System.out.println(&quot;Enter Monster Position&quot;);\n        m1 = scan.nextInt();\n        m2 = scan.nextInt();\n        System.out.println(&quot;Enter Gold Position&quot;);\n        g1 = scan.nextInt();\n        g2 = scan.nextInt();\n        int[][][][] dp = new int[m][n][m][n];\n\n        for (int i = 0; i &lt; m; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                for (int k = 0; k &lt; m; k++) {\n                    for (int l = 0; l &lt; n; l++) {\n                        dp[i][j][k][l] = -1;\n                    }\n                }\n            }\n        }\n\n        int result = findMinSteps(m, n, a1 - 1, a2 - 1, m1 - 1, m2 - 1, g1 - 1, g2 - 1, dp);\n\n        if (result == Integer.MAX_VALUE) {\n            System.out.println(&quot;No possible solution&quot;);\n        } else {\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29478316,"reputation":1,"user_id":22589567,"display_name":"Mohideen Irfan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695095638,"creation_date":1695092894,"question_id":77131493,"body_markdown":"This is the Question...\r\nThe following problems revolve around an adventurer who enters a dungeon in search of Gold\r\n(Treasure). The objective for all the questions will be to find the quickest path to the Gold\r\nwithout bringing harm to the adventurer. In each question, we will edit or bring in new elements\r\nto the dungeon (an underground prison cell). Your task is to find the shortest path for the\r\nadventurer to get the Gold which can be located anywhere in the dungeon. (The location of the\r\nGold will be given in the input).\r\nIn each turn the adventurer (the person who goes to get the gold in the dungeon) can move\r\none step (right, left, up, down). A single cell can be occupied by both adventurer and Gold\r\n(i.e. any number of items can be available in a cell)\r\nA monster (M) will be introduced in the dungeon. The monster&#39;s aim is to prevent the adventurer\r\nfrom getting the gold. It will move in the best way possible to achieve this (i.e. if the monster can\r\nreach gold before the adventurer, then the monster can prevent the adventurer from getting\r\ngold). The monster will move only after the adventurer makes his move.\r\nNote:-\r\n1) The monster may or may not move every turn (every time the adventurer moves).\r\n2) Both the monster and the adventurer know each other&#39;s location.\r\nTask: To find the minimum no of moves, so that the adventurer can reach the gold without dying.\r\n\r\nSample Input 1:\r\nDimensions of the dungeon(Row x Column): 5 4\r\nPosition of adventurer: 4 1\r\nPosition of monster: 3 1\r\nPosition of gold: 2 3\r\nSample Output 1:\r\nNo possible solution\r\nSample Input 2:\r\nDimensions of the dungeon(Row x Column): 5 4\r\nPosition of adventurer: 5 1\r\nPosition of monster: 3 1\r\nPosition of gold: 4 3\r\nSample Output 2:\r\nMinimum number of steps: 3\r\n\r\n\r\n\r\n\r\nI tried dp  recursive approach but i don&#39;t know what went wrong? for some input i am getting stackoverflow error and for some input i am not getting correct output. Here&#39;s my code below in JAVA. \r\n\r\npackage sample;\r\n\r\n\r\n\r\n\r\n//Online Java Compiler\r\n\r\n//Use this editor to write, compile and run your Java code online\r\n    import java.util.*;\r\n\r\n    public class HelloWorld {\r\n    public static int findminstep(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][]       dp) {\r\n        if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (a1 == g1 &amp;&amp; a2 == g2) {\r\n            return 0;\r\n        }\r\n\r\n        if (a1 == m1 &amp;&amp; a2 == m2) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (m1 == g1 &amp;&amp; m2 == g2) {\r\n            return (int) Math.pow(10, 8);\r\n        }\r\n\r\n        if (dp[a1][a2][m1][m2] != -1) {\r\n            return dp[a1][a2][m1][m2];\r\n        }\r\n\r\n        int aa = 1 + findminstep(m, n, a1 - 1, a2, m1, m2, g1, g2, dp);\r\n        int ab = 1 + findminstep(m, n, a1, a2 + 1, m1, m2, g1, g2, dp);\r\n        int ac = 1 + findminstep(m, n, a1 + 1, a2, m1, m2, g1, g2, dp);\r\n        int ad = 1 + findminstep(m, n, a1, a2 - 1, m1, m2, g1, g2, dp);\r\n        int amin = Math.min(Math.min(aa, ab), Math.min(ac, ad));\r\n\r\n        int ma = 1 + findminstep(m, n, a1 - 1, a2, m1 - 1, m2, g1, g2, dp);\r\n        int mb = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 + 1, g1, g2, dp);\r\n        int mc = 1 + findminstep(m, n, a1 - 1, a2, m1 + 1, m2, g1, g2, dp);\r\n        int md = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int me = 1 + findminstep(m, n, a1, a2 + 1, m1 - 1, m2, g1, g2, dp);\r\n        int mf = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 + 1, g1, g2, dp);\r\n        int mg = 1 + findminstep(m, n, a1, a2 + 1, m1 + 1, m2, g1, g2, dp);\r\n        int mh = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int mi = 1 + findminstep(m, n, a1 + 1, a2, m1 - 1, m2, g1, g2, dp);\r\n        int mj = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 + 1, g1, g2, dp);\r\n        int mk = 1 + findminstep(m, n, a1 + 1, a2, m1 + 1, m2, g1, g2, dp);\r\n        int ml = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 - 1, g1, g2, dp);\r\n\r\n        int mm = 1 + findminstep(m, n, a1, a2 - 1, m1 - 1, m2, g1, g2, dp);\r\n        int mn = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 + 1, g1, g2, dp);\r\n        int mo = 1 + findminstep(m, n, a1, a2 - 1, m1 + 1, m2, g1, g2, dp);\r\n        int mp = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 - 1, g1, g2, dp);\r\n        int bmin1 = Math.min(Math.min(ma, mb), Math.min(mc, md));\r\n        int bmin2 = Math.min(Math.min(me, mf), Math.min(mg, mh));\r\n        int bmin3 = Math.min(Math.min(mi, mj), Math.min(mk, ml));\r\n        int bmin4 = Math.min(Math.min(mm, mn), Math.min(mo, mp));\r\n\r\n        int bmin = Math.min(Math.min(bmin1, bmin2), Math.min(bmin3, bmin4));\r\n\r\n        int res = Math.min(amin, bmin);\r\n        dp[a1][a2][m1][m2] = res;\r\n\r\n        return res;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        int m, n, a1, a2, m1, m2, g1, g2;\r\n        System.out.println(&quot;Enter rows:&quot;);\r\n        m = scan.nextInt();\r\n        System.out.println(&quot;Enter Column&quot;);\r\n        n = scan.nextInt();\r\n        System.out.println(&quot;Enter Adventurer Position:&quot;);\r\n        a1 = scan.nextInt();\r\n        a2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Monster Position&quot;);\r\n        m1 = scan.nextInt();\r\n        m2 = scan.nextInt();\r\n        System.out.println(&quot;Enter Gold Position&quot;);\r\n        g1 = scan.nextInt();\r\n        g2 = scan.nextInt();\r\n        int dp[][][][] = new int[m][n][m][n];\r\n\r\n        for (int i = 0; i &lt; m; i++) {\r\n            for (int j = 0; j &lt; n; j++) {\r\n                for (int k = 0; k &lt; m; k++) {\r\n                    for (int l = 0; l &lt; n; l++) {\r\n                        dp[i][j][k][l] = -1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        int result = findminstep(m, n, a1, a2, m1, m2, g1, g2, dp);\r\n\r\n        if (result == (int) Math.pow(10, 8)) {\r\n            System.out.println(&quot;No possible solution&quot;);\r\n        } else {\r\n            System.out.println(&quot;Minimum number of steps: &quot; + result);\r\n        }\r\n        }\r\n    }\r\n","title":"dungeon problem using dp recursive approach","body":"<p>This is the Question...\nThe following problems revolve around an adventurer who enters a dungeon in search of Gold\n(Treasure). The objective for all the questions will be to find the quickest path to the Gold\nwithout bringing harm to the adventurer. In each question, we will edit or bring in new elements\nto the dungeon (an underground prison cell). Your task is to find the shortest path for the\nadventurer to get the Gold which can be located anywhere in the dungeon. (The location of the\nGold will be given in the input).\nIn each turn the adventurer (the person who goes to get the gold in the dungeon) can move\none step (right, left, up, down). A single cell can be occupied by both adventurer and Gold\n(i.e. any number of items can be available in a cell)\nA monster (M) will be introduced in the dungeon. The monster's aim is to prevent the adventurer\nfrom getting the gold. It will move in the best way possible to achieve this (i.e. if the monster can\nreach gold before the adventurer, then the monster can prevent the adventurer from getting\ngold). The monster will move only after the adventurer makes his move.\nNote:-</p>\n<ol>\n<li>The monster may or may not move every turn (every time the adventurer moves).</li>\n<li>Both the monster and the adventurer know each other's location.\nTask: To find the minimum no of moves, so that the adventurer can reach the gold without dying.</li>\n</ol>\n<p>Sample Input 1:\nDimensions of the dungeon(Row x Column): 5 4\nPosition of adventurer: 4 1\nPosition of monster: 3 1\nPosition of gold: 2 3\nSample Output 1:\nNo possible solution\nSample Input 2:\nDimensions of the dungeon(Row x Column): 5 4\nPosition of adventurer: 5 1\nPosition of monster: 3 1\nPosition of gold: 4 3\nSample Output 2:\nMinimum number of steps: 3</p>\n<p>I tried dp  recursive approach but i don't know what went wrong? for some input i am getting stackoverflow error and for some input i am not getting correct output. Here's my code below in JAVA.</p>\n<p>package sample;</p>\n<p>//Online Java Compiler</p>\n<p>//Use this editor to write, compile and run your Java code online\nimport java.util.*;</p>\n<pre><code>public class HelloWorld {\npublic static int findminstep(int m, int n, int a1, int a2, int m1, int m2, int g1, int g2, int[][][][]       dp) {\n    if (a1 &lt; 0 || a2 &lt; 0 || m1 &lt; 0 || m2 &lt; 0 || a1 &gt;= m || m1 &gt;= m || a2 &gt;= n || m2 &gt;= n) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (a1 == g1 &amp;&amp; a2 == g2) {\n        return 0;\n    }\n\n    if (a1 == m1 &amp;&amp; a2 == m2) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (m1 == g1 &amp;&amp; m2 == g2) {\n        return (int) Math.pow(10, 8);\n    }\n\n    if (dp[a1][a2][m1][m2] != -1) {\n        return dp[a1][a2][m1][m2];\n    }\n\n    int aa = 1 + findminstep(m, n, a1 - 1, a2, m1, m2, g1, g2, dp);\n    int ab = 1 + findminstep(m, n, a1, a2 + 1, m1, m2, g1, g2, dp);\n    int ac = 1 + findminstep(m, n, a1 + 1, a2, m1, m2, g1, g2, dp);\n    int ad = 1 + findminstep(m, n, a1, a2 - 1, m1, m2, g1, g2, dp);\n    int amin = Math.min(Math.min(aa, ab), Math.min(ac, ad));\n\n    int ma = 1 + findminstep(m, n, a1 - 1, a2, m1 - 1, m2, g1, g2, dp);\n    int mb = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 + 1, g1, g2, dp);\n    int mc = 1 + findminstep(m, n, a1 - 1, a2, m1 + 1, m2, g1, g2, dp);\n    int md = 1 + findminstep(m, n, a1 - 1, a2, m1, m2 - 1, g1, g2, dp);\n\n    int me = 1 + findminstep(m, n, a1, a2 + 1, m1 - 1, m2, g1, g2, dp);\n    int mf = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 + 1, g1, g2, dp);\n    int mg = 1 + findminstep(m, n, a1, a2 + 1, m1 + 1, m2, g1, g2, dp);\n    int mh = 1 + findminstep(m, n, a1, a2 + 1, m1, m2 - 1, g1, g2, dp);\n\n    int mi = 1 + findminstep(m, n, a1 + 1, a2, m1 - 1, m2, g1, g2, dp);\n    int mj = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 + 1, g1, g2, dp);\n    int mk = 1 + findminstep(m, n, a1 + 1, a2, m1 + 1, m2, g1, g2, dp);\n    int ml = 1 + findminstep(m, n, a1 + 1, a2, m1, m2 - 1, g1, g2, dp);\n\n    int mm = 1 + findminstep(m, n, a1, a2 - 1, m1 - 1, m2, g1, g2, dp);\n    int mn = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 + 1, g1, g2, dp);\n    int mo = 1 + findminstep(m, n, a1, a2 - 1, m1 + 1, m2, g1, g2, dp);\n    int mp = 1 + findminstep(m, n, a1, a2 - 1, m1, m2 - 1, g1, g2, dp);\n    int bmin1 = Math.min(Math.min(ma, mb), Math.min(mc, md));\n    int bmin2 = Math.min(Math.min(me, mf), Math.min(mg, mh));\n    int bmin3 = Math.min(Math.min(mi, mj), Math.min(mk, ml));\n    int bmin4 = Math.min(Math.min(mm, mn), Math.min(mo, mp));\n\n    int bmin = Math.min(Math.min(bmin1, bmin2), Math.min(bmin3, bmin4));\n\n    int res = Math.min(amin, bmin);\n    dp[a1][a2][m1][m2] = res;\n\n    return res;\n}\n\npublic static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    int m, n, a1, a2, m1, m2, g1, g2;\n    System.out.println(&quot;Enter rows:&quot;);\n    m = scan.nextInt();\n    System.out.println(&quot;Enter Column&quot;);\n    n = scan.nextInt();\n    System.out.println(&quot;Enter Adventurer Position:&quot;);\n    a1 = scan.nextInt();\n    a2 = scan.nextInt();\n    System.out.println(&quot;Enter Monster Position&quot;);\n    m1 = scan.nextInt();\n    m2 = scan.nextInt();\n    System.out.println(&quot;Enter Gold Position&quot;);\n    g1 = scan.nextInt();\n    g2 = scan.nextInt();\n    int dp[][][][] = new int[m][n][m][n];\n\n    for (int i = 0; i &lt; m; i++) {\n        for (int j = 0; j &lt; n; j++) {\n            for (int k = 0; k &lt; m; k++) {\n                for (int l = 0; l &lt; n; l++) {\n                    dp[i][j][k][l] = -1;\n                }\n            }\n        }\n    }\n\n    int result = findminstep(m, n, a1, a2, m1, m2, g1, g2, dp);\n\n    if (result == (int) Math.pow(10, 8)) {\n        System.out.println(&quot;No possible solution&quot;);\n    } else {\n        System.out.println(&quot;Minimum number of steps: &quot; + result);\n    }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":3,"creation_date":1626355195,"post_id":68394574,"comment_id":120874853,"body_markdown":"I think GROUP is really the problem, as it&#39;s a reserved keyword of SQL. Try renaming it.","body":"I think GROUP is really the problem, as it&#39;s a reserved keyword of SQL. Try renaming it."},{"owner":{"account_id":17861275,"reputation":2089,"user_id":12974735,"display_name":"Sercan"},"score":1,"creation_date":1626355913,"post_id":68394574,"comment_id":120875229,"body_markdown":"Might be useful https://stackoverflow.com/questions/23446377/syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql as you have also syntax error due to table name `group`","body":"Might be useful <a href=\"https://stackoverflow.com/questions/23446377/syntax-error-due-to-using-a-reserved-word-as-a-table-or-column-name-in-mysql\" title=\"syntax error due to using a reserved word as a table or column name in mysql\">stackoverflow.com/questions/23446377/&hellip;</a> as you have also syntax error due to table name <code>group</code>"},{"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"score":1,"creation_date":1626356628,"post_id":68394574,"comment_id":120875622,"body_markdown":"changing the name of the class named group solved the problem. Thank you very much!! @williamxyz","body":"changing the name of the class named group solved the problem. Thank you very much!! @williamxyz"},{"owner":{"account_id":3660498,"reputation":740,"user_id":6291061,"display_name":"william xyz"},"score":0,"creation_date":1626357246,"post_id":68394574,"comment_id":120875936,"body_markdown":"@AmeenOumer nice :)","body":"@AmeenOumer nice :)"}],"answers":[{"tags":[],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695094813,"creation_date":1695094813,"answer_id":77131586,"question_id":68394574,"body_markdown":"Going to answer my own question to make it easy for anyone who runs into the same type of error. \r\nAs people in the comment suggested the error was because one of my classes was named ```group``` which is a reserved keyword in SQL and that was causing the error and was solved by changing the name of the class.","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement","body":"<p>Going to answer my own question to make it easy for anyone who runs into the same type of error.\nAs people in the comment suggested the error was because one of my classes was named <code>group</code> which is a reserved keyword in SQL and that was causing the error and was solved by changing the name of the class.</p>\n"}],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77131586,"answer_count":1,"score":2,"last_activity_date":1695094813,"creation_date":1626354981,"question_id":68394574,"body_markdown":"I was making a spring boot app, using hibernate and H2 database during development and am getting this error and I can&#39;t find a solution for it, below is the error log\r\n\r\n    00  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;DROP TABLE IF EXISTS GROUP[*] CASCADE &quot;; expected &quot;identifier&quot;; SQL statement:\r\n    drop table if exists group CASCADE  [42001-200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseDrop(Parser.java:2236) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parsePrepared(Parser.java:916) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \t... 35 common frames omitted\r\n    \r\n    2021-07-15 15:48:36.914  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\r\n    \r\n    org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\r\n    \tat com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE GROUP[*] (GROUP_ID INTEGER GENERATED BY DEFAULT AS IDENTITY, GROUP_NAME VARCHAR(255), SUB_CATEGORY_SUB_CATEGORY_ID INTEGER, PRIMARY KEY (GROUP_ID))&quot;; expected &quot;identifier&quot;; SQL statement:\r\n    create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id)) [42001-200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseCreateTable(Parser.java:8361) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parseCreate(Parser.java:6276) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parsePrepared(Parser.java:903) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\r\n    \tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\r\n    \tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\r\n    \t... 35 common frames omitted\r\n\r\nthere is more to the error log\r\n\r\nthe appliccation.properties is empty.\r\n\r\nthe gradle.build file looks as the below\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.4.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.project&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n    //    runtimeOnly &#39;mysql:mysql-connector-java&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    //    testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\nI have a class named group but not sure if the error log is referring to that, let me know if there is any other information required.\r\n","title":"org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement","body":"<p>I was making a spring boot app, using hibernate and H2 database during development and am getting this error and I can't find a solution for it, below is the error log</p>\n<pre><code>00  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;drop table if exists group CASCADE &quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:145) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\n    at com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;DROP TABLE IF EXISTS GROUP[*] CASCADE &quot;; expected &quot;identifier&quot;; SQL statement:\ndrop table if exists group CASCADE  [42001-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseDrop(Parser.java:2236) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:916) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 35 common frames omitted\n\n2021-07-15 15:48:36.914  WARN 8560 --- [           main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlString(SchemaCreatorImpl.java:439) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.applySqlStrings(SchemaCreatorImpl.java:423) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.createFromMetadata(SchemaCreatorImpl.java:314) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.performCreation(SchemaCreatorImpl.java:166) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:135) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.internal.SchemaCreatorImpl.doCreation(SchemaCreatorImpl.java:121) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:156) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:73) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:318) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:468) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1259) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1845) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1782) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:602) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.5.jar:5.3.5]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:769) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1313) ~[spring-boot-2.4.4.jar:2.4.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-2.4.4.jar:2.4.4]\n    at com.project.phinder.PhinderApplication.main(PhinderApplication.java:10) ~[main/:na]\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;CREATE TABLE GROUP[*] (GROUP_ID INTEGER GENERATED BY DEFAULT AS IDENTITY, GROUP_NAME VARCHAR(255), SUB_CATEGORY_SUB_CATEGORY_ID INTEGER, PRIMARY KEY (GROUP_ID))&quot;; expected &quot;identifier&quot;; SQL statement:\ncreate table group (group_id integer generated by default as identity, group_name varchar(255), sub_category_sub_category_id integer, primary key (group_id)) [42001-200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:453) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:429) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.message.DbException.getSyntaxError(DbException.java:243) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readColumnIdentifier(Parser.java:4976) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4925) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.readIdentifierWithSchema(Parser.java:4954) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseCreateTable(Parser.java:8361) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parseCreate(Parser.java:6276) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parsePrepared(Parser.java:903) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:843) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.parse(Parser.java:815) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.command.Parser.prepareCommand(Parser.java:738) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareLocal(Session.java:657) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.engine.Session.prepareCommand(Session.java:595) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1235) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:212) ~[h2-1.4.200.jar:1.4.200]\n    at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:201) ~[h2-1.4.200.jar:1.4.200]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95) ~[HikariCP-3.4.5.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-3.4.5.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.4.29.Final.jar:5.4.29.Final]\n    ... 35 common frames omitted\n</code></pre>\n<p>there is more to the error log</p>\n<p>the appliccation.properties is empty.</p>\n<p>the gradle.build file looks as the below</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.4.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.project'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n//    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n//    runtimeOnly 'mysql:mysql-connector-java'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n//    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have a class named group but not sure if the error log is referring to that, let me know if there is any other information required.</p>\n"},{"tags":["java","spring-boot","maven","jib"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1694623640,"post_id":77098989,"comment_id":135916708,"body_markdown":"Is there good reason why you are using an old version of the `jib-maven-plugin` plugin? https://central.sonatype.com/artifact/com.google.cloud.tools/jib-maven-plugin/versions also the maven-compiler-plugin is not up-to-date (https://maven.apache.org/plugins/) also the spring-boot-version could be upgraded to 3.0.9 ... also spring-cloud.version could be upgraded 2022.0.4...","body":"Is there good reason why you are using an old version of the <code>jib-maven-plugin</code> plugin? <a href=\"https://central.sonatype.com/artifact/com.google.cloud.tools/jib-maven-plugin/versions\" rel=\"nofollow noreferrer\">central.sonatype.com/artifact/com.google.cloud.tools/&hellip;</a> also the maven-compiler-plugin is not up-to-date (<a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>) also the spring-boot-version could be upgraded to 3.0.9 ... also spring-cloud.version could be upgraded 2022.0.4..."},{"owner":{"account_id":16826426,"reputation":564,"user_id":12165605,"display_name":"AG_1380"},"score":0,"creation_date":1694627870,"post_id":77098989,"comment_id":135917498,"body_markdown":"There we no specific reasons that I used these versions. I upgraded them but it didn&#39;t work neither. @khmarbaise","body":"There we no specific reasons that I used these versions. I upgraded them but it didn&#39;t work neither. @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695094518,"creation_date":1694977662,"answer_id":77123243,"question_id":77098989,"body_markdown":"Make `&lt;platforms&gt;` look like this.\r\n```xml\r\n    &lt;platforms&gt;\r\n      &lt;platform&gt;\r\n        &lt;architecture&gt;amd64&lt;/architecture&gt;\r\n        &lt;os&gt;linux&lt;/os&gt;\r\n      &lt;/platform&gt;\r\n      &lt;platform&gt;\r\n        &lt;architecture&gt;arm64&lt;/architecture&gt;\r\n        &lt;os&gt;linux&lt;/os&gt;\r\n      &lt;/platform&gt;\r\n    &lt;/platforms&gt;\r\n```","title":"Error while setting Google Jib: Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters","body":"<p>Make <code>&lt;platforms&gt;</code> look like this.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;platforms&gt;\n      &lt;platform&gt;\n        &lt;architecture&gt;amd64&lt;/architecture&gt;\n        &lt;os&gt;linux&lt;/os&gt;\n      &lt;/platform&gt;\n      &lt;platform&gt;\n        &lt;architecture&gt;arm64&lt;/architecture&gt;\n        &lt;os&gt;linux&lt;/os&gt;\n      &lt;/platform&gt;\n    &lt;/platforms&gt;\n</code></pre>\n"}],"owner":{"account_id":16826426,"reputation":564,"user_id":12165605,"display_name":"AG_1380"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77123243,"answer_count":1,"score":0,"last_activity_date":1695094518,"creation_date":1694623268,"question_id":77098989,"body_markdown":"I am using spring boot 3 with different micro-services. I am using micro-service architecture.\r\n\r\nI want to use google Jib to build docker images of each micro-service with maven. I don&#39;t know what exactly is the issue with my configuration. I get an error when I try to use `maven package` command within a micro-service with activated profile:\r\n\r\n`Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters`\r\n\r\nI think there is something wrong with maven plugin, but I couldn&#39;t find out what exactly I did wrong.\r\n\r\nHere is my main `pom.xml`:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.mycompany.learn&lt;/groupId&gt;\r\n    &lt;artifactId&gt;learnservices&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;learnservices&lt;/name&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;service1&lt;/module&gt;\r\n        &lt;module&gt;service2&lt;/module&gt;\r\n        &lt;module&gt;service3&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.boot.maven.plugin.version&gt;3.1.2&lt;/spring.boot.maven.plugin.version&gt;\r\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.5&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;from&gt;\r\n                            &lt;image&gt;openjdk:17&lt;/image&gt;\r\n                            &lt;platforms&gt;\r\n                                &lt;architecture&gt;amd64&lt;/architecture&gt;\r\n                                &lt;os&gt;linux&lt;/os&gt;\r\n                            &lt;/platforms&gt;\r\n                            &lt;platforms&gt;\r\n                                &lt;architecture&gt;arm64&lt;/architecture&gt;\r\n                                &lt;os&gt;linux&lt;/os&gt;\r\n                            &lt;/platforms&gt;\r\n                        &lt;/from&gt;\r\n                        &lt;to&gt;\r\n                            &lt;image&gt;path/to:docker-hub&lt;/image&gt;\r\n                        &lt;/to&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;build&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Error while setting Google Jib: Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters","body":"<p>I am using spring boot 3 with different micro-services. I am using micro-service architecture.</p>\n<p>I want to use google Jib to build docker images of each micro-service with maven. I don't know what exactly is the issue with my configuration. I get an error when I try to use <code>maven package</code> command within a micro-service with activated profile:</p>\n<p><code>Cannot find default setter in class com.google.cloud.tools.jib.maven.JibPluginConfiguration$PlatformParameters</code></p>\n<p>I think there is something wrong with maven plugin, but I couldn't find out what exactly I did wrong.</p>\n<p>Here is my main <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.mycompany.learn&lt;/groupId&gt;\n    &lt;artifactId&gt;learnservices&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;name&gt;learnservices&lt;/name&gt;\n    &lt;modules&gt;\n        &lt;module&gt;service1&lt;/module&gt;\n        &lt;module&gt;service2&lt;/module&gt;\n        &lt;module&gt;service3&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;spring.boot.maven.plugin.version&gt;3.1.2&lt;/spring.boot.maven.plugin.version&gt;\n        &lt;spring-cloud.version&gt;2022.0.1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.0.5&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${spring.boot.maven.plugin.version}&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n                    &lt;artifactId&gt;jib-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;from&gt;\n                            &lt;image&gt;openjdk:17&lt;/image&gt;\n                            &lt;platforms&gt;\n                                &lt;architecture&gt;amd64&lt;/architecture&gt;\n                                &lt;os&gt;linux&lt;/os&gt;\n                            &lt;/platforms&gt;\n                            &lt;platforms&gt;\n                                &lt;architecture&gt;arm64&lt;/architecture&gt;\n                                &lt;os&gt;linux&lt;/os&gt;\n                            &lt;/platforms&gt;\n                        &lt;/from&gt;\n                        &lt;to&gt;\n                            &lt;image&gt;path/to:docker-hub&lt;/image&gt;\n                        &lt;/to&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;build&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","elasticsearch","elasticsearch-7","elasticsearch-java-api"],"answers":[{"tags":[],"owner":{"account_id":2019912,"reputation":699,"user_id":1806341,"accept_rate":83,"display_name":"igor"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644491342,"creation_date":1644392898,"answer_id":71045705,"question_id":70988990,"body_markdown":"The only way I found so far is to put a conditional breakpoint in \r\nco/elastic/clients/transport/rest_client/RestClientTransport.java:215 from elasticsearch-java-7.16.2.jar and check the value of baos variable.","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>The only way I found so far is to put a conditional breakpoint in\nco/elastic/clients/transport/rest_client/RestClientTransport.java:215 from elasticsearch-java-7.16.2.jar and check the value of baos variable.</p>\n"},{"tags":[],"owner":{"account_id":41346,"reputation":1878,"user_id":120102,"accept_rate":80,"display_name":"Cameron"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1649371963,"creation_date":1649370016,"answer_id":71789564,"question_id":70988990,"body_markdown":"It looks like this feature will be directly supported in an upcoming version: https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952\r\n\r\nIn the meantime, there is a workaround given in the above discussion, but it does not quite work. Here is a snippet that works for me:\r\n\r\n    StringWriter writer = new StringWriter();\r\n    JsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\r\n    request.serialize(generator, new JacksonJsonpMapper());\r\n    generator.flush();\r\n    return writer.toString();","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>It looks like this feature will be directly supported in an upcoming version: <a href=\"https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952\" rel=\"nofollow noreferrer\">https://discuss.elastic.co/t/elaticsearch-java-client-output-dsl/300952</a></p>\n<p>In the meantime, there is a workaround given in the above discussion, but it does not quite work. Here is a snippet that works for me:</p>\n<pre><code>StringWriter writer = new StringWriter();\nJsonGenerator generator = JacksonJsonProvider.provider().createGenerator(writer);\nrequest.serialize(generator, new JacksonJsonpMapper());\ngenerator.flush();\nreturn writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4576038,"reputation":28,"user_id":3714452,"display_name":"Makz23"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654847921,"creation_date":1654847921,"answer_id":72570895,"question_id":70988990,"body_markdown":"As a temporary method waiting for pull request mentionned below, i just used\r\n\r\n    // TODO delete when https://github.com/elastic/elasticsearch-java/pull/213\r\n    public static String serializeToString(Query q) {\r\n        return q._get().toString();\r\n    }\r\nIt does not print anything pretty but it covers my use case of string comparison for tests.","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>As a temporary method waiting for pull request mentionned below, i just used</p>\n<pre><code>// TODO delete when https://github.com/elastic/elasticsearch-java/pull/213\npublic static String serializeToString(Query q) {\n    return q._get().toString();\n}\n</code></pre>\n<p>It does not print anything pretty but it covers my use case of string comparison for tests.</p>\n"},{"comments":[{"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"score":1,"creation_date":1688387580,"post_id":75873321,"comment_id":135063246,"body_markdown":"This is the only working solution for me.","body":"This is the only working solution for me."}],"tags":[],"owner":{"account_id":5744189,"reputation":766,"user_id":4535853,"accept_rate":60,"display_name":"Max"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680066291,"creation_date":1680066291,"answer_id":75873321,"question_id":70988990,"body_markdown":"In my case [@Cameron answer](https://stackoverflow.com/questions/70988990/how-to-get-the-json-representation-of-the-elasticsearch-query-request-that-was-b/75873321#71789564) didn&#39;t work, because returned only a part of the query. Besides it I also need to serialize the date.  \r\nSo I ended up with the next solution:\r\n\r\n    String extractQuery(SearchRequest searchRequest) {\r\n        // jsonpMapper can be extracted to static field\r\n\t\tJacksonJsonpMapper jsonpMapper = new JacksonJsonpMapper()\r\n\t\tjsonpMapper.objectMapper().registerModule(new JavaTimeModule())\r\n\t\tjsonpMapper.objectMapper().setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;))\r\n\r\n\t\tStringWriter writer = new StringWriter()\r\n\t\tJacksonJsonpGenerator generator = new JacksonJsonpGenerator(new JsonFactory().createGenerator(writer))\r\n\t\tsearchRequest.serialize(generator, jsonpMapper)\r\n\t\tgenerator.flush()\r\n\t\treturn writer.toString()\r\n\t}","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>In my case <a href=\"https://stackoverflow.com/questions/70988990/how-to-get-the-json-representation-of-the-elasticsearch-query-request-that-was-b/75873321#71789564\">@Cameron answer</a> didn't work, because returned only a part of the query. Besides it I also need to serialize the date.<br />\nSo I ended up with the next solution:</p>\n<pre><code>String extractQuery(SearchRequest searchRequest) {\n    // jsonpMapper can be extracted to static field\n    JacksonJsonpMapper jsonpMapper = new JacksonJsonpMapper()\n    jsonpMapper.objectMapper().registerModule(new JavaTimeModule())\n    jsonpMapper.objectMapper().setDateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;))\n\n    StringWriter writer = new StringWriter()\n    JacksonJsonpGenerator generator = new JacksonJsonpGenerator(new JsonFactory().createGenerator(writer))\n    searchRequest.serialize(generator, jsonpMapper)\n    generator.flush()\n    return writer.toString()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18418410,"reputation":1,"user_id":13416696,"display_name":"user13416696"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093948,"creation_date":1695093788,"answer_id":77131541,"question_id":70988990,"body_markdown":"```\r\n    public static String serializeToString(Query q) {\r\n        return JsonpUtils.toString(q);\r\n    }\r\n```\r\nAs shown above, one could use the co.elastic.clients.json.JsonpUtils\r\ntoString(JsonpSerializable value) method and pass your Query inorder to convert an Elastic Query to a string. This is supported on the newer versions of Elastic Java Client.\r\n\r\nJavaDocs: \r\nhttps://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<pre><code>    public static String serializeToString(Query q) {\n        return JsonpUtils.toString(q);\n    }\n</code></pre>\n<p>As shown above, one could use the co.elastic.clients.json.JsonpUtils\ntoString(JsonpSerializable value) method and pass your Query inorder to convert an Elastic Query to a string. This is supported on the newer versions of Elastic Java Client.</p>\n<p>JavaDocs:\n<a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html\" rel=\"nofollow noreferrer\">https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.10.1/co/elastic/clients/json/JsonpUtils.html</a></p>\n"}],"owner":{"account_id":2019912,"reputation":699,"user_id":1806341,"accept_rate":83,"display_name":"igor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71789564,"answer_count":5,"score":3,"last_activity_date":1695093948,"creation_date":1643989000,"question_id":70988990,"body_markdown":"A new Java API Client was released in the 7.16 version of ES and the Java Rest Client was deprecated. There was the ability to convert a query to JSON in the deprecated client. It was convenient for debugging/tuning/profiling of the query in Kibana.\r\n\r\nUnfortunately, I don&#39;t see any mention of this in the new client documentation. So my question is:\r\n\r\nIs it possible to get a JSON representation of the query that was constructed via the Java API Client? It can be either some utility class or log config of the client that prints outgoing requests.\r\n\r\n","title":"How to get the json representation of the ElasticSearch query/request that was built with Java API Client (7.16)?","body":"<p>A new Java API Client was released in the 7.16 version of ES and the Java Rest Client was deprecated. There was the ability to convert a query to JSON in the deprecated client. It was convenient for debugging/tuning/profiling of the query in Kibana.</p>\n<p>Unfortunately, I don't see any mention of this in the new client documentation. So my question is:</p>\n<p>Is it possible to get a JSON representation of the query that was constructed via the Java API Client? It can be either some utility class or log config of the client that prints outgoing requests.</p>\n"},{"tags":["java","tomcat","log4j","catalina"],"comments":[{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1695108817,"post_id":77131542,"comment_id":135976419,"body_markdown":"Have you tried the sollutions provided here: https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er","body":"Have you tried the sollutions provided here: <a href=\"https://stackoverflow.com/questions/28572783/no-log4j2-configuration-file-found-using-default-configuration-logging-only-er\" title=\"no log4j2 configuration file found using default configuration logging only er\">stackoverflow.com/questions/28572783/&hellip;</a>"},{"owner":{"account_id":18154315,"reputation":11,"user_id":13206552,"display_name":"Andika Eka"},"score":0,"creation_date":1695109789,"post_id":77131542,"comment_id":135976593,"body_markdown":"no it either didn&#39;t work not applicable towards what I&#39;m trying to do","body":"no it either didn&#39;t work not applicable towards what I&#39;m trying to do"}],"owner":{"account_id":18154315,"reputation":11,"user_id":13206552,"display_name":"Andika Eka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695093816,"creation_date":1695093816,"question_id":77131542,"body_markdown":"I need DEBUG in one file and INFO in a the catalina.out. here is my log4j properties\r\n\r\n\r\n```\r\nlog4j.rootLogger=  consoleAppenderInfo, fileAppenderInfo, fileAppenderDebug\r\n\r\nlog4j.appender.consoleAppenderInfo.Threshold=INFO\r\nlog4j.appender.consoleAppenderInfo=org.apache.log4j.ConsoleAppender\r\nlog4j.appender.consoleAppenderInfo.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.consoleAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\n\r\nlog4j.appender.fileAppenderInfo.Threshold=INFO\r\nlog4j.appender.fileAppenderInfo=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.fileAppenderInfo.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.fileAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\nlog4j.appender.fileAppenderInfo.File=/home/user/logs/info.app.log\r\n\r\nlog4j.appender.fileAppenderDebug.Threshold=DEBUG\r\nlog4j.appender.fileAppenderDebug=org.apache.log4j.RollingFileAppender\r\nlog4j.appender.fileAppenderDebug.layout=org.apache.log4j.PatternLayout\r\nlog4j.appender.fileAppenderDebug.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\r\nlog4j.appender.fileAppenderDebug.File=/home/user/logs/debug.app.log\r\n```\r\n\r\nwhile both output files get the correct log, catalina.out show this: \r\n\r\n`2023-09-19 11:09:25,276 http-apr-8080-exec-35 WARN No Loggers were configured, using default. Is the Loggers element missing?\r\n`\r\n\r\nit will go away if I set INFO on the root logger. however i cant have debug log with that.","title":"How to set threshold for console appender in log4j?","body":"<p>I need DEBUG in one file and INFO in a the catalina.out. here is my log4j properties</p>\n<pre><code>log4j.rootLogger=  consoleAppenderInfo, fileAppenderInfo, fileAppenderDebug\n\nlog4j.appender.consoleAppenderInfo.Threshold=INFO\nlog4j.appender.consoleAppenderInfo=org.apache.log4j.ConsoleAppender\nlog4j.appender.consoleAppenderInfo.layout=org.apache.log4j.PatternLayout\nlog4j.appender.consoleAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\n\nlog4j.appender.fileAppenderInfo.Threshold=INFO\nlog4j.appender.fileAppenderInfo=org.apache.log4j.RollingFileAppender\nlog4j.appender.fileAppenderInfo.layout=org.apache.log4j.PatternLayout\nlog4j.appender.fileAppenderInfo.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\nlog4j.appender.fileAppenderInfo.File=/home/user/logs/info.app.log\n\nlog4j.appender.fileAppenderDebug.Threshold=DEBUG\nlog4j.appender.fileAppenderDebug=org.apache.log4j.RollingFileAppender\nlog4j.appender.fileAppenderDebug.layout=org.apache.log4j.PatternLayout\nlog4j.appender.fileAppenderDebug.layout.ConversionPattern=[%t] %-5p %c %x - %m%n\nlog4j.appender.fileAppenderDebug.File=/home/user/logs/debug.app.log\n</code></pre>\n<p>while both output files get the correct log, catalina.out show this:</p>\n<p><code>2023-09-19 11:09:25,276 http-apr-8080-exec-35 WARN No Loggers were configured, using default. Is the Loggers element missing? </code></p>\n<p>it will go away if I set INFO on the root logger. however i cant have debug log with that.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695126662,"post_id":77131401,"comment_id":135979917,"body_markdown":"`know there can put the mp4 in raw file in project, then call mp4 from raw file, ` Interesting! You should tell @Bra Him: https://stackoverflow.com/questions/77119818/put-mp3-files-from-raw-folder-into-recyclerview?noredirect=1#comment135960017_77119818","body":"<code>know there can put the mp4 in raw file in project, then call mp4 from raw file, </code> Interesting! You should tell @Bra Him: <a href=\"https://stackoverflow.com/questions/77119818/put-mp3-files-from-raw-folder-into-recyclerview?noredirect=1#comment135960017_77119818\" title=\"put mp3 files from raw folder into recyclerview\">stackoverflow.com/questions/77119818/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":29478102,"reputation":1,"user_id":22589382,"display_name":"Shou Pu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695093787,"creation_date":1695093787,"answer_id":77131540,"question_id":77131401,"body_markdown":"I found the method, I will share the solution below for everyone\r\n\r\nThe method is use \r\n\r\n    getContentResolver().takePersistableUriPermission(uri,Intent.FLAG_GRANT_READ_URI_PERMISSION))\r\n\r\nThe full code likes this:\r\n\r\n    private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult( new ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\r\n        @Override\r\n        public void onActivityResult(Uri result) {\r\n            videoUri = result;\r\n            context.getContentResolver().takePersistableUriPermission(result,Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n        } })\r\n\r\nHope this can help other person who meets the same problem!\r\nThank you!\r\n\r\n","title":"Local mp4 in android device can&#39;t be played by uri before using registerForActivityResult to selected this local mp4","body":"<p>I found the method, I will share the solution below for everyone</p>\n<p>The method is use</p>\n<pre><code>getContentResolver().takePersistableUriPermission(uri,Intent.FLAG_GRANT_READ_URI_PERMISSION))\n</code></pre>\n<p>The full code likes this:</p>\n<pre><code>private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult( new ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\n    @Override\n    public void onActivityResult(Uri result) {\n        videoUri = result;\n        context.getContentResolver().takePersistableUriPermission(result,Intent.FLAG_GRANT_READ_URI_PERMISSION);\n    } })\n</code></pre>\n<p>Hope this can help other person who meets the same problem!\nThank you!</p>\n"}],"owner":{"account_id":29478102,"reputation":1,"user_id":22589382,"display_name":"Shou Pu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131540,"answer_count":1,"score":0,"last_activity_date":1695093787,"creation_date":1695091193,"question_id":77131401,"body_markdown":"I want to develope the app that can play the local mp4 store in android device by click the button.\r\n\r\nI know there can put the mp4 in raw file in project, then call mp4 from raw file, but I don&#39;t want using this method because the app size will become large, and I want let user can set which local mp4 they want to play by click mp4\r\n\r\nI let user can select mp4 by those code below\r\n\r\n\r\n```\r\nString action[] = {&quot;video/*&quot;};\r\nvideoFilePickerLauncher.launch(action);\r\n```\r\n\r\n```\r\nprivate final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult(\r\nnew ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\r\n    @Override\r\n    public void onActivityResult(Uri result) {\r\n        videoUri = result;\r\n    }\r\n})\r\n```\r\n\r\nI save the uri of selected mp4 by videoUri, and use it when I click button to play selected mp4, the code is like below\r\n\r\n```\r\nMediaItem mediaItem = MediaItem.fromUri(videoUri );\r\nexoPlayer.setMediaItem(mediaItem);\r\nexoPlayer.prepare();\r\nexoPlayer.play();\r\n```\r\n\r\nBut the problem I met is that I can&#39;t play this mp4 again by uri directly after I close app, and open this app again\r\n\r\nThe mp4 needs to be selected first by registerForActivityResult everytime, but this behavior is inconvenient.\r\n\r\n\r\nI have tried\r\n```\r\ncontext.grantUriPermission(&quot;com.XXX.XXX&quot;,uri,Intent.FLAG_GRANT_READ_URI_PERMISSION)\r\n```\r\nBut the permission will be denied, and show the exception like this:\r\n\r\n`java.lang.SecurityException: UID 10790 does not have permission to content://com.android.providers.media.documents/document/video%3A1000000431 [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs`\r\n\r\nAre there any method can play local mp4 in android device by uri directly without selecting them first?\r\n\r\nOr ares there any recommend can reach the same result?\r\n\r\nThank you!","title":"Local mp4 in android device can&#39;t be played by uri before using registerForActivityResult to selected this local mp4","body":"<p>I want to develope the app that can play the local mp4 store in android device by click the button.</p>\n<p>I know there can put the mp4 in raw file in project, then call mp4 from raw file, but I don't want using this method because the app size will become large, and I want let user can set which local mp4 they want to play by click mp4</p>\n<p>I let user can select mp4 by those code below</p>\n<pre><code>String action[] = {&quot;video/*&quot;};\nvideoFilePickerLauncher.launch(action);\n</code></pre>\n<pre><code>private final ActivityResultLauncher&lt;String[]&gt; videoFilePickerLauncher = registerForActivityResult(\nnew ActivityResultContracts.OpenDocument(), new ActivityResultCallback&lt;Uri&gt;() {\n    @Override\n    public void onActivityResult(Uri result) {\n        videoUri = result;\n    }\n})\n</code></pre>\n<p>I save the uri of selected mp4 by videoUri, and use it when I click button to play selected mp4, the code is like below</p>\n<pre><code>MediaItem mediaItem = MediaItem.fromUri(videoUri );\nexoPlayer.setMediaItem(mediaItem);\nexoPlayer.prepare();\nexoPlayer.play();\n</code></pre>\n<p>But the problem I met is that I can't play this mp4 again by uri directly after I close app, and open this app again</p>\n<p>The mp4 needs to be selected first by registerForActivityResult everytime, but this behavior is inconvenient.</p>\n<p>I have tried</p>\n<pre><code>context.grantUriPermission(&quot;com.XXX.XXX&quot;,uri,Intent.FLAG_GRANT_READ_URI_PERMISSION)\n</code></pre>\n<p>But the permission will be denied, and show the exception like this:</p>\n<p><code>java.lang.SecurityException: UID 10790 does not have permission to content://com.android.providers.media.documents/document/video%3A1000000431 [user 0]; you could obtain access using ACTION_OPEN_DOCUMENT or related APIs</code></p>\n<p>Are there any method can play local mp4 in android device by uri directly without selecting them first?</p>\n<p>Or ares there any recommend can reach the same result?</p>\n<p>Thank you!</p>\n"},{"tags":["java","javafx","exe"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695153255,"post_id":77131534,"comment_id":135985068,"body_markdown":"This is likely too complex and open-ended to be well-answered on StackOverflow.  You could look into technology such as [`jpackage`](https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A) or a commercial packaging and installation tool.  Recommendation of individual tools is outside of scope for StackOverflow.","body":"This is likely too complex and open-ended to be well-answered on StackOverflow.  You could look into technology such as <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> or a commercial packaging and installation tool.  Recommendation of individual tools is outside of scope for StackOverflow."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229439,"post_id":77131534,"comment_id":135997743,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"score":0,"creation_date":1695281270,"post_id":77131534,"comment_id":136004016,"body_markdown":"I want to know what methods or software can be used to include the MSSQL installation file in the process of converting Java into an exe. Additionally, during the installation process of the exe, MSSQL will be automatically triggered for installation.","body":"I want to know what methods or software can be used to include the MSSQL installation file in the process of converting Java into an exe. Additionally, during the installation process of the exe, MSSQL will be automatically triggered for installation."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1695337207,"post_id":77131534,"comment_id":136014700,"body_markdown":"&quot;I want to know what methods or software can be used to include the MSSQL installation file&quot; -&gt; I already provided info on that (you can use jpackage) - read the documentation on it that I linked.  It is not easy or trivial to use (especially given your requirements).  There are other tools, but [software recommendations are out of scope for StackOverflow](https://stackoverflow.com/help/on-topic).","body":"&quot;I want to know what methods or software can be used to include the MSSQL installation file&quot; -&gt; I already provided info on that (you can use jpackage) - read the documentation on it that I linked.  It is not easy or trivial to use (especially given your requirements).  There are other tools, but <a href=\"https://stackoverflow.com/help/on-topic\">software recommendations are out of scope for StackOverflow</a>."},{"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"score":0,"creation_date":1695344337,"post_id":77131534,"comment_id":136015309,"body_markdown":"Thank you @jewelsea for your reply. I have been researching how to achieve my goal through jpackage.","body":"Thank you @jewelsea for your reply. I have been researching how to achieve my goal through jpackage."}],"owner":{"account_id":1384866,"reputation":1,"user_id":1317113,"display_name":"user1317113"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695093620,"creation_date":1695093620,"question_id":77131534,"body_markdown":"Currently, in Intellij, it is possible to package JavaFX into an installation file through artifacts.\r\n\r\nHow can other installation files be included in the packaging process (such as the MSSQL installation file)?\r\n\r\nAnd through this installation file, other files can be installed during installation.\r\n\r\nCurrently, only packaging is done on Intellij, and there has been no attempt to package through other software.","title":"How to include other exe files when packaging JavaFX into an exe?","body":"<p>Currently, in Intellij, it is possible to package JavaFX into an installation file through artifacts.</p>\n<p>How can other installation files be included in the packaging process (such as the MSSQL installation file)?</p>\n<p>And through this installation file, other files can be installed during installation.</p>\n<p>Currently, only packaging is done on Intellij, and there has been no attempt to package through other software.</p>\n"},{"tags":["java","android","gradle","directory-structure"],"comments":[{"owner":{"account_id":6355611,"reputation":31437,"user_id":4933038,"display_name":"Eric Martinez"},"score":0,"creation_date":1433368187,"post_id":30631286,"comment_id":49328312,"body_markdown":"In my case, using Win 7, the default installation path is `C:\\Program files\\Java\\&quot;, see if it was installed in there.","body":"In my case, using Win 7, the default installation path is `C:\\Program files\\Java\\&quot;, see if it was installed in there."}],"answers":[{"comments":[{"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"score":0,"creation_date":1433368570,"post_id":30631386,"comment_id":49328482,"body_markdown":"Right but I don&#39;t know where the JDK is installed. JDK seven did not install in the same directory as JDK 6. Is there a way to find where JDK 7 installed? Because according to terminal and the java control panel, I have Java version 1.7.0_79, I just don&#39;t know where it is, because it isn&#39;t next to JDK 6.","body":"Right but I don&#39;t know where the JDK is installed. JDK seven did not install in the same directory as JDK 6. Is there a way to find where JDK 7 installed? Because according to terminal and the java control panel, I have Java version 1.7.0_79, I just don&#39;t know where it is, because it isn&#39;t next to JDK 6."},{"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"score":1,"creation_date":1433369021,"post_id":30631386,"comment_id":49328689,"body_markdown":"Ah. Sorry about that. That&#39;s not what you asked :) I&#39;ll see if I can find info on the install location. I don&#39;t remember offhand where 7 gets installed on Windows","body":"Ah. Sorry about that. That&#39;s not what you asked :) I&#39;ll see if I can find info on the install location. I don&#39;t remember offhand where 7 gets installed on Windows"},{"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"score":2,"creation_date":1433369101,"post_id":30631386,"comment_id":49328733,"body_markdown":"@ThePartyTurtle Are you on Windows, Mac, or Linux. Well, either way, [use this answer](http://stackoverflow.com/a/4681109/2448305) to get the location.","body":"@ThePartyTurtle Are you on Windows, Mac, or Linux. Well, either way, <a href=\"http://stackoverflow.com/a/4681109/2448305\">use this answer</a> to get the location."},{"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"score":0,"creation_date":1433371360,"post_id":30631386,"comment_id":49329640,"body_markdown":"Should&#39;ve specified! I&#39;m on a Mac. And yea it&#39;s interesting it didn&#39;t install it into the same directory. Also if my terminal and Java control panel are telling me I have 1.7.0_79, does that necessarily mean I have JDK 7?","body":"Should&#39;ve specified! I&#39;m on a Mac. And yea it&#39;s interesting it didn&#39;t install it into the same directory. Also if my terminal and Java control panel are telling me I have 1.7.0_79, does that necessarily mean I have JDK 7?"},{"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"score":0,"creation_date":1433371569,"post_id":30631386,"comment_id":49329751,"body_markdown":"I would say yea that means you have it. What do you get when you run which java in terminal?","body":"I would say yea that means you have it. What do you get when you run which java in terminal?"},{"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"score":0,"creation_date":1433521768,"post_id":30631386,"comment_id":49404949,"body_markdown":"When I run java -version, I get this:                                                            java version &quot;1.7.0_79&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_79-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)","body":"When I run java -version, I get this:                                                            java version &quot;1.7.0_79&quot; Java(TM) SE Runtime Environment (build 1.7.0_79-b15) Java HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)"},{"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"score":2,"creation_date":1433522329,"post_id":30631386,"comment_id":49405250,"body_markdown":"I&#39;ve added the command to the bottom of my answer that will get you your JDK location.","body":"I&#39;ve added the command to the bottom of my answer that will get you your JDK location."}],"tags":[],"owner":{"account_id":498784,"reputation":9541,"user_id":2448294,"accept_rate":73,"display_name":"Ben Kane"},"comment_count":7,"down_vote_count":1,"up_vote_count":243,"is_accepted":true,"score":242,"last_activity_date":1695093475,"creation_date":1433368129,"answer_id":30631386,"question_id":30631286,"body_markdown":"You can use &lt;kbd&gt;cmd&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; for Mac or &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; for Windows/Linux to pull up the Settings dialog. Then, go to &quot;Build, Execution, Deployment &gt; Build Tools &gt; Gradle&quot;. In there, you can set the JDK location.\r\n\r\n![Gradle Settings][1]\r\n\r\nTo get your JDK location, run `/usr/libexec/java_home -v 11` in terminal. Send 1.7 for Java 7, 1.8 for Java 8, or 11 for Java 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qHtVe.png","title":"How to specify the JDK version in Android Studio?","body":"<p>You can use <kbd>cmd</kbd> + <kbd>,</kbd> for Mac or <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> for Windows/Linux to pull up the Settings dialog. Then, go to &quot;Build, Execution, Deployment &gt; Build Tools &gt; Gradle&quot;. In there, you can set the JDK location.</p>\n<p><img src=\"https://i.stack.imgur.com/qHtVe.png\" alt=\"Gradle Settings\" /></p>\n<p>To get your JDK location, run <code>/usr/libexec/java_home -v 11</code> in terminal. Send 1.7 for Java 7, 1.8 for Java 8, or 11 for Java 11.</p>\n"},{"comments":[{"owner":{"account_id":6015349,"reputation":368,"user_id":4724407,"accept_rate":25,"display_name":"Alexey Simchenko"},"score":0,"creation_date":1638887845,"post_id":49425010,"comment_id":124203643,"body_markdown":"the best answer!","body":"the best answer!"},{"owner":{"account_id":3059985,"reputation":125,"user_id":2592864,"display_name":"blimpse"},"score":6,"creation_date":1643324275,"post_id":49425010,"comment_id":125316726,"body_markdown":"Why is this upvoted? This doesn&#39;t answer the question at all.","body":"Why is this upvoted? This doesn&#39;t answer the question at all."},{"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"score":4,"creation_date":1649298067,"post_id":49425010,"comment_id":126842267,"body_markdown":"This is wrong.  Android Studio has a setting for which JDK to use, and this is just one of the options, so this just tells you which version that copy is, not which version you&#39;re using.","body":"This is wrong.  Android Studio has a setting for which JDK to use, and this is just one of the options, so this just tells you which version that copy is, not which version you&#39;re using."},{"owner":{"account_id":2883028,"reputation":377,"user_id":2473449,"display_name":"Ehsan"},"score":0,"creation_date":1684186760,"post_id":49425010,"comment_id":134477950,"body_markdown":"I saw that there was a jre folder in programfiles\\java folder, so I deleted the jar folder in AndroidStudio folder :)) and your answer led me to the solution","body":"I saw that there was a jre folder in programfiles\\java folder, so I deleted the jar folder in AndroidStudio folder :)) and your answer led me to the solution"}],"tags":[],"owner":{"account_id":8179487,"reputation":1825,"user_id":6157185,"display_name":"Rishabh"},"comment_count":4,"down_vote_count":7,"up_vote_count":35,"is_accepted":false,"score":28,"last_activity_date":1625321135,"creation_date":1521711157,"answer_id":49425010,"question_id":30631286,"body_markdown":"For new Android Studio versions, go to C:\\Program Files\\Android\\Android Studio\\jre\\bin(or to location of Android Studio installed files) and open command window at this location and type in following command in command prompt:-\r\n\r\n    java -version","title":"How to specify the JDK version in Android Studio?","body":"<p>For new Android Studio versions, go to C:\\Program Files\\Android\\Android Studio\\jre\\bin(or to location of Android Studio installed files) and open command window at this location and type in following command in command prompt:-</p>\n<pre><code>java -version\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9700755,"reputation":405,"user_id":7195803,"display_name":"David"},"score":2,"creation_date":1587996247,"post_id":53548478,"comment_id":108721340,"body_markdown":"Also using a Mac but I always get &quot;No Java runtime present, requesting install.&quot;, even if I go the the specified folder.\nWhat worked is `export JAVA_HOME=/Applications/Android\\ Studio.app/Contents/jre/jdk/Contents/Home ` and then `java -version`","body":"Also using a Mac but I always get &quot;No Java runtime present, requesting install.&quot;, even if I go the the specified folder. What worked is <code>export JAVA_HOME=&#47;Applications&#47;Android\\ Studio.app&#47;Contents&#47;jre&#47;jdk&#47;Contents&#47;Home </code> and then <code>java -version</code>"}],"tags":[],"owner":{"account_id":3781543,"reputation":159,"user_id":3140868,"display_name":"Lorraine"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1543536912,"creation_date":1543530096,"answer_id":53548478,"question_id":30631286,"body_markdown":"On a Mac, you can use terminal to go to `/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home` (or wherever your Android SDK is installed) and enter the following in the command prompt:\r\n\r\n\r\n    ./java -version","title":"How to specify the JDK version in Android Studio?","body":"<p>On a Mac, you can use terminal to go to <code>/Applications/Android Studio.app/Contents/jre/jdk/Contents/Home</code> (or wherever your Android SDK is installed) and enter the following in the command prompt:</p>\n\n<pre><code>./java -version\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3629120,"reputation":7260,"user_id":3025856,"accept_rate":75,"display_name":"Jeremy Caney"},"score":3,"creation_date":1589080072,"post_id":61706625,"comment_id":109149117,"body_markdown":"There are already two answers that suggest this exact solution. Please be sure to review existing answers before contributing your own. If theyre correct, upvote them. Of your answer is meaningfully different, it may be worth editing it to explain why.","body":"There are already two answers that suggest this exact solution. Please be sure to review existing answers before contributing your own. If theyre correct, upvote them. Of your answer is meaningfully different, it may be worth editing it to explain why."},{"owner":{"account_id":73357,"reputation":17051,"user_id":211292,"accept_rate":67,"display_name":"ThomasW"},"score":10,"creation_date":1596004224,"post_id":61706625,"comment_id":111665703,"body_markdown":"This doesn&#39;t work. It gives you the version of java used by the system, not the one used by Android Studio.","body":"This doesn&#39;t work. It gives you the version of java used by the system, not the one used by Android Studio."}],"tags":[],"owner":{"account_id":4708131,"reputation":374,"user_id":3809570,"display_name":"Vishwa Pratap"},"comment_count":2,"down_vote_count":8,"up_vote_count":11,"is_accepted":false,"score":3,"last_activity_date":1589079615,"creation_date":1589079615,"answer_id":61706625,"question_id":30631286,"body_markdown":"This is old question but still my answer may help someone\r\n \r\nFor checking Java version in android studio version , \r\nsimply open Terminal of Android Studio and type\r\n\r\n    java -version \r\n\r\nThis will display java version installed in android studio","title":"How to specify the JDK version in Android Studio?","body":"<p>This is old question but still my answer may help someone</p>\n\n<p>For checking Java version in android studio version , \nsimply open Terminal of Android Studio and type</p>\n\n<pre><code>java -version \n</code></pre>\n\n<p>This will display java version installed in android studio</p>\n"},{"comments":[{"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"score":2,"creation_date":1649298187,"post_id":63429624,"comment_id":126842287,"body_markdown":"The version of Java running Android Studio isn&#39;t necessarily the same as the version being used by Gradle.","body":"The version of Java running Android Studio isn&#39;t necessarily the same as the version being used by Gradle."}],"tags":[],"owner":{"account_id":2321321,"reputation":2169,"user_id":2036983,"display_name":"Jonathan Rosenne"},"comment_count":1,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1597516821,"creation_date":1597516821,"answer_id":63429624,"question_id":30631286,"body_markdown":"In Android Studio 4.0.1, Help -&gt; About shows the details of the Java version used by the studio, in my case:\r\n\r\n    Android Studio 4.0.1\r\n    Build #AI-193.6911.18.40.6626763, built on June 25, 2020\r\n    Runtime version: 1.8.0_242-release-1644-b01 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n    GC: ParNew, ConcurrentMarkSweep\r\n    Memory: 1237M\r\n    Cores: 8\r\n    Registry: ide.new.welcome.screen.force=true\r\n    Non-Bundled Plugins: com.google.services.firebase","title":"How to specify the JDK version in Android Studio?","body":"<p>In Android Studio 4.0.1, Help -&gt; About shows the details of the Java version used by the studio, in my case:</p>\n<pre><code>Android Studio 4.0.1\nBuild #AI-193.6911.18.40.6626763, built on June 25, 2020\nRuntime version: 1.8.0_242-release-1644-b01 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\nGC: ParNew, ConcurrentMarkSweep\nMemory: 1237M\nCores: 8\nRegistry: ide.new.welcome.screen.force=true\nNon-Bundled Plugins: com.google.services.firebase\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2124341,"reputation":794,"user_id":1886914,"accept_rate":50,"display_name":"Kenny83"},"score":1,"creation_date":1629031160,"post_id":67414820,"comment_id":121573966,"body_markdown":"How do I change this globally for **all** projects created now and in the future in Arctic Fox?","body":"How do I change this globally for <b>all</b> projects created now and in the future in Arctic Fox?"},{"owner":{"account_id":15687593,"reputation":806,"user_id":11319773,"display_name":"Axes Grinds"},"score":9,"creation_date":1629438389,"post_id":67414820,"comment_id":121691576,"body_markdown":"I&#39;m not seeing Gradle JDK in Arctic Fox.","body":"I&#39;m not seeing Gradle JDK in Arctic Fox."},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":1,"creation_date":1643258012,"post_id":67414820,"comment_id":125293487,"body_markdown":"The top example is only the JDK for gradle, what about the JDK for the rest of the system used for building and compiling code?","body":"The top example is only the JDK for gradle, what about the JDK for the rest of the system used for building and compiling code?"},{"owner":{"account_id":7493432,"reputation":80,"user_id":5694410,"display_name":"userVadim"},"score":1,"creation_date":1674045874,"post_id":67414820,"comment_id":132630283,"body_markdown":"@AndrewS It seems like that this jdk version is used for everything in the progect","body":"@AndrewS It seems like that this jdk version is used for everything in the progect"},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":0,"creation_date":1674487497,"post_id":67414820,"comment_id":132718877,"body_markdown":"@userVadim, From my experience following this question, I am sure you are correct. I really with it was labeled and located as so. It causes unnecessary confusion.","body":"@userVadim, From my experience following this question, I am sure you are correct. I really with it was labeled and located as so. It causes unnecessary confusion."}],"tags":[],"owner":{"account_id":12656228,"reputation":1067,"user_id":9198676,"display_name":"Matthieu Esnault"},"comment_count":5,"down_vote_count":1,"up_vote_count":74,"is_accepted":false,"score":73,"last_activity_date":1640532239,"creation_date":1620291101,"answer_id":67414820,"question_id":30631286,"body_markdown":"Android Studio Arctic Fox (2020.3.1)\r\n------------------------------------\r\n\r\nIn Android Studio Arctic Fox (2020.3.1 Patch 4), the JDK Location setting is moved to:\r\n```\r\nFile &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK\r\n```\r\n\r\nUp to Android Studio 4.2\r\n------------------------\r\n\r\nYou can follow the answer from Ben Kane, the JDK Location setting is located in:\r\n```\r\nFile &gt; Project Structure &gt; SDK Location\r\n```","title":"How to specify the JDK version in Android Studio?","body":"<h2>Android Studio Arctic Fox (2020.3.1)</h2>\n<p>In Android Studio Arctic Fox (2020.3.1 Patch 4), the JDK Location setting is moved to:</p>\n<pre><code>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JDK\n</code></pre>\n<h2>Up to Android Studio 4.2</h2>\n<p>You can follow the answer from Ben Kane, the JDK Location setting is located in:</p>\n<pre><code>File &gt; Project Structure &gt; SDK Location\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624454856,"creation_date":1624454446,"answer_id":68100650,"question_id":30631286,"body_markdown":"[![Check the JDK you use in Android Studio][1]][1]\r\n\r\nThe `gradle sync` uses the following JDK location:\r\n\r\nIn Android Studio, `File` -&gt; `Project Structure`\r\n\r\nNavigate to the `SDK Location`.\r\n\r\n[![Android Studio 4.1.0 JDK Location][2]][2]\r\n\r\n\r\n    cd /Applications/Android\\ Studio\\ 4.1.0.app/Contents/jre/jdk/Contents/Home\r\n\r\n      Home ./bin/java --version\r\n    openjdk 11.0.8 2020-07-14\r\n    OpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\r\n    OpenJDK 64-Bit Server VM (build 11.0.8+10-b944.6916264, mixed mode)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jWRBD.png\r\n  [2]: https://i.stack.imgur.com/5r3wN.png","title":"How to specify the JDK version in Android Studio?","body":"<p><a href=\"https://i.stack.imgur.com/jWRBD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jWRBD.png\" alt=\"Check the JDK you use in Android Studio\" /></a></p>\n<p>The <code>gradle sync</code> uses the following JDK location:</p>\n<p>In Android Studio, <code>File</code> -&gt; <code>Project Structure</code></p>\n<p>Navigate to the <code>SDK Location</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/5r3wN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5r3wN.png\" alt=\"Android Studio 4.1.0 JDK Location\" /></a></p>\n<pre><code>cd /Applications/Android\\ Studio\\ 4.1.0.app/Contents/jre/jdk/Contents/Home\n\n  Home ./bin/java --version\nopenjdk 11.0.8 2020-07-14\nOpenJDK Runtime Environment (build 11.0.8+10-b944.6916264)\nOpenJDK 64-Bit Server VM (build 11.0.8+10-b944.6916264, mixed mode)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5937169,"reputation":522,"user_id":4669744,"accept_rate":36,"display_name":"omer"},"score":0,"creation_date":1637953469,"post_id":69372480,"comment_id":123968170,"body_markdown":"I tried EVERYTHING. Only This Worked! I am using studio version 4.1.2. Would see if upgrading Android Studio works.","body":"I tried EVERYTHING. Only This Worked! I am using studio version 4.1.2. Would see if upgrading Android Studio works."},{"owner":{"account_id":5937169,"reputation":522,"user_id":4669744,"accept_rate":36,"display_name":"omer"},"score":0,"creation_date":1637953700,"post_id":69372480,"comment_id":123968220,"body_markdown":"for ubunut 20.x, in you gradle.properties file \n`org.gradle.java.home=/usr/lib/jvm/default-java` or whereever you install jdk 11. (in ubuntu it defaults to above path.)","body":"for ubunut 20.x, in you gradle.properties file  <code>org.gradle.java.home=&#47;usr&#47;lib&#47;jvm&#47;default-java</code> or whereever you install jdk 11. (in ubuntu it defaults to above path.)"}],"tags":[],"owner":{"account_id":2300522,"reputation":21,"user_id":2020898,"display_name":"user2020898"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632902040,"creation_date":1632902040,"answer_id":69372480,"question_id":30631286,"body_markdown":"1. gradle.properties:org.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n2. ./gradlew assembleDebug -Dorg.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home\r\n","title":"How to specify the JDK version in Android Studio?","body":"<ol>\n<li>gradle.properties:org.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</li>\n<li>./gradlew assembleDebug -Dorg.gradle.java.home=/Applications/Android\\ Studio.app/Contents/jre/Contents/Home</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":934321,"reputation":2176,"user_id":963543,"accept_rate":69,"display_name":"Ata Iravani"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685524391,"creation_date":1685524391,"answer_id":76371904,"question_id":30631286,"body_markdown":"For the latest version (**2022.2.1 Patch 2**) at this time, The setting has been moved to gradle setting.\r\n\r\nSo just open the project structure through **File** &gt; **Project Structure**, Select **SDK Location** from left menu, click on **Gradle Settings**.\r\n\r\nHere select the Gradle JDK you want. I would suggest to select the **Android Studio Java Home** option.\r\n\r\n\r\n[![Android Studio Gradle Setting][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AHQz4.png\r\n\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>For the latest version (<strong>2022.2.1 Patch 2</strong>) at this time, The setting has been moved to gradle setting.</p>\n<p>So just open the project structure through <strong>File</strong> &gt; <strong>Project Structure</strong>, Select <strong>SDK Location</strong> from left menu, click on <strong>Gradle Settings</strong>.</p>\n<p>Here select the Gradle JDK you want. I would suggest to select the <strong>Android Studio Java Home</strong> option.</p>\n<p><a href=\"https://i.stack.imgur.com/AHQz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AHQz4.png\" alt=\"Android Studio Gradle Setting\" /></a></p>\n"},{"tags":[],"owner":{"account_id":4085133,"reputation":595,"user_id":3354594,"accept_rate":33,"display_name":"charitha amarasinghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692607019,"creation_date":1692607019,"answer_id":76943640,"question_id":30631286,"body_markdown":"to set the Java version from the android studio terminal write this command on the terminal (MAC)\r\n\r\n cammand -&gt;\r\n export JAVA_HOME=&#39;-- java home path (can get from Preferences-&gt; Build,Execution,Deployement -&gt; Gradle&#39;\r\n\r\n\r\nexample (set java 11)-&gt; \r\n\r\n    export JAVA_HOME=&#39;/Applications/jdk-11.0.16.1.jdk/Contents/Home&#39;\r\n\r\n\r\nthen you can check whether is it changed or not using `java -version` command\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>to set the Java version from the android studio terminal write this command on the terminal (MAC)</p>\n<p>cammand -&gt;\nexport JAVA_HOME='-- java home path (can get from Preferences-&gt; Build,Execution,Deployement -&gt; Gradle'</p>\n<p>example (set java 11)-&gt;</p>\n<pre><code>export JAVA_HOME='/Applications/jdk-11.0.16.1.jdk/Contents/Home'\n</code></pre>\n<p>then you can check whether is it changed or not using <code>java -version</code> command</p>\n"}],"owner":{"account_id":6236701,"reputation":2366,"user_id":4851777,"accept_rate":74,"display_name":"ThePartyTurtle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301032,"favorite_count":0,"down_vote_count":0,"up_vote_count":144,"accepted_answer_id":30631386,"answer_count":10,"score":144,"last_activity_date":1695093475,"creation_date":1433367758,"question_id":30631286,"body_markdown":"Android Studio is giving me a Gradle build error that looks like this:\r\n\r\n    Error:(3, 22) compileSdkVersion android-22 requires compiling with JDK 7\r\n\r\nNow it gives me these clickable prompts:\r\n\r\n    Download JDK 7\r\n    Select a JDK from the File System\r\n    Open build.gradle File\r\n\r\nAnd I have already downloaded and installed JDK 7. The problem is when I go to select it in the &quot;File System&quot; i can only find a directory named 1.6.0 JDK. Furthermore, the installation of JDK 7 skipped the bullet point where I would&#39;ve selected the install directory, so I&#39;m really not sure where it is. My java control panel says I have &quot;Java 7 Update 79&quot; so I&#39;m pretty sure I&#39;m close, I just need to tell android studio where it is. I also ran the `java -version` command in the terminal and it says my version is &quot;1.7.0_79&quot;.\r\n\r\nAny help would be appreciated!\r\n\r\n","title":"How to specify the JDK version in Android Studio?","body":"<p>Android Studio is giving me a Gradle build error that looks like this:</p>\n<pre><code>Error:(3, 22) compileSdkVersion android-22 requires compiling with JDK 7\n</code></pre>\n<p>Now it gives me these clickable prompts:</p>\n<pre><code>Download JDK 7\nSelect a JDK from the File System\nOpen build.gradle File\n</code></pre>\n<p>And I have already downloaded and installed JDK 7. The problem is when I go to select it in the &quot;File System&quot; i can only find a directory named 1.6.0 JDK. Furthermore, the installation of JDK 7 skipped the bullet point where I would've selected the install directory, so I'm really not sure where it is. My java control panel says I have &quot;Java 7 Update 79&quot; so I'm pretty sure I'm close, I just need to tell android studio where it is. I also ran the <code>java -version</code> command in the terminal and it says my version is &quot;1.7.0_79&quot;.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","android","namespaces","apache-poi"],"comments":[{"owner":{"account_id":3696546,"reputation":543,"user_id":3077735,"accept_rate":75,"display_name":"anestv"},"score":0,"creation_date":1644066693,"post_id":70955510,"comment_id":125509523,"body_markdown":"Does [this question help?](https://stackoverflow.com/questions/52992755/apache-poi-poi-ooxml4-0-0-throws-org-apache-poi-ooxml-poixmlexception)","body":"Does <a href=\"https://stackoverflow.com/questions/52992755/apache-poi-poi-ooxml4-0-0-throws-org-apache-poi-ooxml-poixmlexception\">this question help?</a>"}],"answers":[{"comments":[{"owner":{"account_id":1019341,"reputation":5527,"user_id":1030169,"display_name":"jmoerdyk"},"score":1,"creation_date":1659132176,"post_id":73171358,"comment_id":129228811,"body_markdown":"Please write your answer in English, as Stack Overflow is an [English-only site](//meta.stackoverflow.com/a/297680).","body":"Please write your answer in English, as Stack Overflow is an <a href=\"//meta.stackoverflow.com/a/297680\">English-only site</a>."}],"tags":[],"owner":{"account_id":25768826,"reputation":1,"user_id":19518054,"display_name":"Drex"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1659132730,"creation_date":1659132024,"answer_id":73171358,"question_id":70955510,"body_markdown":"download and integrate into your project\r\nhttps://github.com/centic9/poi-on-android/releases","title":"Error with xlsx file in android studio using Apache poi","body":"<p>download and integrate into your project\n<a href=\"https://github.com/centic9/poi-on-android/releases\" rel=\"nofollow noreferrer\">https://github.com/centic9/poi-on-android/releases</a></p>\n"},{"tags":[],"owner":{"account_id":23147757,"reputation":1,"user_id":17250276,"display_name":"Saurav Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093413,"creation_date":1694774645,"answer_id":77111704,"question_id":70955510,"body_markdown":"Make sure you are using latest version in module level Gradle.\r\n\r\n``` \r\ndependencies {\r\n  implementation &#39;org.apache.poi:poi:5.2.3&#39;&lt;br&gt;\r\n  implementation &#39;org.apache.poi:poi-ooxml:5.2.3&#39;\r\n}\r\n```\r\n\r\n","title":"Error with xlsx file in android studio using Apache poi","body":"<p>Make sure you are using latest version in module level Gradle.</p>\n<pre><code>dependencies {\n  implementation 'org.apache.poi:poi:5.2.3'&lt;br&gt;\n  implementation 'org.apache.poi:poi-ooxml:5.2.3'\n}\n</code></pre>\n"}],"owner":{"account_id":18506286,"reputation":21,"user_id":15572036,"display_name":"aDragon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1695093413,"creation_date":1643804341,"question_id":70955510,"body_markdown":"With what that error can be connected: ```org.apache.poi.ooxml.POIXMLException: error: The &#39;namespace-prefix&#39; feature is not supported while the &#39;namespaces&#39; feature is enabled.``` ?\r\n\r\nI&#39;m just trying to understand to how can I work with Excel file and that error stuck me so much.\r\nIn my Excel sheet I have one row and 2 columns, in the first column - some number, in the second - some text. \r\n\r\nMy MainActivity and implementation&#39;s code below.\r\n\r\nMainActivity: \r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity{\r\n    TextView TextView;\r\n    private static final String TAG = &quot;myLogs&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        TextView = findViewById(R.id.textView3);\r\n        TextView.setText(&quot;SomeText&quot;);\r\n\r\n        try {\r\n\r\n            AssetManager am=getAssets();\r\n            InputStream is=am.open(&quot;MyTest.xlsx&quot;);\r\n            XSSFWorkbook book = new XSSFWorkbook(is);\r\n            XSSFSheet mySheet = book.getSheet(&quot;0&quot;);\r\n            XSSFRow row = mySheet.getRow(0);\r\n\r\n            if(row.getCell(0).getCellType() == CellType.STRING){\r\n                String name = row.getCell(0).getStringCellValue();\r\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////name : &quot; + name);\r\n            }\r\n            if(row.getCell(0).getCellType() == CellType.NUMERIC){\r\n                double date = row.getCell(0).getNumericCellValue();\r\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////date : : &quot; + date);\r\n            }\r\n\r\n            book.close();\r\n            TextView.setText(&quot;SomeText after all&quot;);\r\n\r\n        } catch(Exception ex) {\r\n            Log.d(TAG, &quot;Loooooooooooooooooooooooooooooooooooooooooooooooooooooolg &quot;+String.valueOf(ex));\r\n            return;\r\n        }\r\n    }\r\n}\r\n```\r\nImplementation&#39;s:\r\n\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\nimplementation &#39;com.google.android.material:material:1.4.0&#39;\r\nimplementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\nimplementation files(&#39;libs\\\\commons-codec-1.15.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-compress-1.21.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-logging-1.2.jar&#39;)\r\nimplementation files(&#39;libs\\\\curvesapi-1.06.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-5.1.0.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-ooxml-5.1.0.jar&#39;)\r\n\r\nimplementation files(&#39;libs\\\\slf4j-api-1.7.32.jar&#39;)\r\nimplementation files(&#39;libs\\\\xmlbeans-5.0.2.jar&#39;)\r\nimplementation files(&#39;libs\\\\log4j-api-2.14.1.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-io-2.11.0.jar&#39;)\r\nimplementation files(&#39;libs\\\\commons-math3-3.6.1.jar&#39;)\r\nimplementation files(&#39;libs\\\\poi-ooxml-lite-5.1.0.jar&#39;)\r\n\r\ntestImplementation &#39;junit:junit:4.+&#39;\r\nandroidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\nandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n```","title":"Error with xlsx file in android studio using Apache poi","body":"<p>With what that error can be connected: <code>org.apache.poi.ooxml.POIXMLException: error: The 'namespace-prefix' feature is not supported while the 'namespaces' feature is enabled.</code> ?</p>\n<p>I'm just trying to understand to how can I work with Excel file and that error stuck me so much.\nIn my Excel sheet I have one row and 2 columns, in the first column - some number, in the second - some text.</p>\n<p>My MainActivity and implementation's code below.</p>\n<p>MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity{\n    TextView TextView;\n    private static final String TAG = &quot;myLogs&quot;;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        TextView = findViewById(R.id.textView3);\n        TextView.setText(&quot;SomeText&quot;);\n\n        try {\n\n            AssetManager am=getAssets();\n            InputStream is=am.open(&quot;MyTest.xlsx&quot;);\n            XSSFWorkbook book = new XSSFWorkbook(is);\n            XSSFSheet mySheet = book.getSheet(&quot;0&quot;);\n            XSSFRow row = mySheet.getRow(0);\n\n            if(row.getCell(0).getCellType() == CellType.STRING){\n                String name = row.getCell(0).getStringCellValue();\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////name : &quot; + name);\n            }\n            if(row.getCell(0).getCellType() == CellType.NUMERIC){\n                double date = row.getCell(0).getNumericCellValue();\n                Log.d(TAG,&quot;/////////////////////////////////////////////////////////////////////////////////////date : : &quot; + date);\n            }\n\n            book.close();\n            TextView.setText(&quot;SomeText after all&quot;);\n\n        } catch(Exception ex) {\n            Log.d(TAG, &quot;Loooooooooooooooooooooooooooooooooooooooooooooooooooooolg &quot;+String.valueOf(ex));\n            return;\n        }\n    }\n}\n</code></pre>\n<p>Implementation's:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.0'\nimplementation 'com.google.android.material:material:1.4.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.2'\nimplementation files('libs\\\\commons-codec-1.15.jar')\nimplementation files('libs\\\\commons-compress-1.21.jar')\nimplementation files('libs\\\\commons-logging-1.2.jar')\nimplementation files('libs\\\\curvesapi-1.06.jar')\nimplementation files('libs\\\\poi-5.1.0.jar')\nimplementation files('libs\\\\poi-ooxml-5.1.0.jar')\n\nimplementation files('libs\\\\slf4j-api-1.7.32.jar')\nimplementation files('libs\\\\xmlbeans-5.0.2.jar')\nimplementation files('libs\\\\log4j-api-2.14.1.jar')\nimplementation files('libs\\\\commons-io-2.11.0.jar')\nimplementation files('libs\\\\commons-math3-3.6.1.jar')\nimplementation files('libs\\\\poi-ooxml-lite-5.1.0.jar')\n\ntestImplementation 'junit:junit:4.+'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.3'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n"},{"tags":["java","type-conversion"],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093248,"creation_date":1695092810,"answer_id":77131489,"question_id":77131477,"body_markdown":"The `+` operator is overloaded for `String` and e.g, `int`, and it converts the `int` first to `Integer`, then to `String`, and finally concatenates the two strings.\r\n\r\nSee [the Java language specification](https://docs.oracle.com/javase/specs/jls/se6/html/expressions.html#15.18.1)\r\n\r\nAlso note that you can convert anything, including `Integer`, to `String` by calling the [toString][1] method inherited from `Object`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#toString()","title":"Type Conversion (int to string)","body":"<p>The <code>+</code> operator is overloaded for <code>String</code> and e.g, <code>int</code>, and it converts the <code>int</code> first to <code>Integer</code>, then to <code>String</code>, and finally concatenates the two strings.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se6/html/expressions.html#15.18.1\" rel=\"nofollow noreferrer\">the Java language specification</a></p>\n<p>Also note that you can convert anything, including <code>Integer</code>, to <code>String</code> by calling the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#toString()\" rel=\"nofollow noreferrer\">toString</a> method inherited from <code>Object</code>.</p>\n"},{"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695093284,"post_id":77131508,"comment_id":135974619,"body_markdown":"Heh, good catch about the 55 vs 5. Still, it is possible to convert int to String.","body":"Heh, good catch about the 55 vs 5. Still, it is possible to convert int to String."}],"tags":[],"owner":{"account_id":8985445,"reputation":21,"user_id":6699137,"display_name":"Dolores"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1695093164,"creation_date":1695093164,"answer_id":77131508,"question_id":77131477,"body_markdown":"It&#39;s not possible. There is a mismatch between your code and output.\r\n```\r\njshell&gt; int i = 5;\r\ni ==&gt; 5\r\n\r\njshell&gt; String str = &quot;&quot;;\r\nstr ==&gt; &quot;&quot;\r\n\r\njshell&gt; str = str + i;\r\nstr ==&gt; &quot;5&quot;\r\n```\r\n","title":"Type Conversion (int to string)","body":"<p>It's not possible. There is a mismatch between your code and output.</p>\n<pre><code>jshell&gt; int i = 5;\ni ==&gt; 5\n\njshell&gt; String str = &quot;&quot;;\nstr ==&gt; &quot;&quot;\n\njshell&gt; str = str + i;\nstr ==&gt; &quot;5&quot;\n</code></pre>\n"}],"owner":{"account_id":29478321,"reputation":1,"user_id":22589572,"display_name":"Karan Suthar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1695092858,"answer_count":2,"score":0,"last_activity_date":1695093248,"creation_date":1695092609,"question_id":77131477,"body_markdown":"We can&#39;t convert from int to string then how and why the given code is running without any issue? \r\n\r\n```java\r\nint i = 5;\r\nString str = &quot;&quot;;\r\nstr = str + i;\r\nSystem.out.println(str);\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n55\r\n```\r\n\r\nWhy I am getting output as 55 as we can&#39;t convert from int to string?","title":"Type Conversion (int to string)","body":"<p>We can't convert from int to string then how and why the given code is running without any issue?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int i = 5;\nString str = &quot;&quot;;\nstr = str + i;\nSystem.out.println(str);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>55\n</code></pre>\n<p>Why I am getting output as 55 as we can't convert from int to string?</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":2030,"reputation":50607,"user_id":2788,"accept_rate":69,"display_name":"Strelok"},"score":0,"creation_date":1667916074,"post_id":74361461,"comment_id":131278170,"body_markdown":"Youre not using your `myCredentialsProvider` variable. But if youre running on an EC2 instance, the recommended way is to give the instance role the required permissions and let the AWS SDK use it without having to create access keys.","body":"Youre not using your <code>myCredentialsProvider</code> variable. But if youre running on an EC2 instance, the recommended way is to give the instance role the required permissions and let the AWS SDK use it without having to create access keys."},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1667916327,"post_id":74361461,"comment_id":131278260,"body_markdown":"Does this answer your question? [Cannot authenticate into my Opensearch cluster](https://stackoverflow.com/questions/74346380/cannot-authenticate-into-my-opensearch-cluster)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74346380/cannot-authenticate-into-my-opensearch-cluster\">Cannot authenticate into my Opensearch cluster</a>"},{"owner":{"account_id":26790326,"reputation":11,"user_id":20383836,"display_name":"abc"},"score":0,"creation_date":1667917225,"post_id":74361461,"comment_id":131278602,"body_markdown":"Hi @Strelok I am using the AWS Opensearch service https://aws.amazon.com/what-is/opensearch/","body":"Hi @Strelok I am using the AWS Opensearch service <a href=\"https://aws.amazon.com/what-is/opensearch/\" rel=\"nofollow noreferrer\">aws.amazon.com/what-is/opensearch</a>"},{"owner":{"account_id":468928,"reputation":115,"user_id":875183,"display_name":"sachin"},"score":0,"creation_date":1676057990,"post_id":74361461,"comment_id":133068109,"body_markdown":"I am also facing the same issue any pointers to issue is of great help","body":"I am also facing the same issue any pointers to issue is of great help"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1695195028,"post_id":77128378,"comment_id":135989915,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77128378/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11265941,"reputation":1,"user_id":8262754,"display_name":"slemly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093235,"creation_date":1695049924,"answer_id":77128378,"question_id":74361461,"body_markdown":"This worked for me -\r\n\r\n\r\n```lang-java\r\n\r\n    @Bean\r\n    public OpenSearchClient myOpensearchClient(){\r\n        final BasicAwsCredentials credentials = new BasicAwsCredentials(accessKeyId, secretAccessKey);\r\n        final AwsCredentialsProvider provider = StaticCredentialsProvider\r\n            .create(credentials);\r\n\r\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n        OpenSearchTransport transport = new AwsSdk2Transport(\r\n            httpClient, \r\n            opensearchEndpoint, \r\n            Region.&lt;your_region&gt;, \r\n            AwsSdk2TransportOptions.builder()\r\n                .setCredentials(provider)\r\n                .build());\r\n        return new OpenSearchClient(transport);\r\n    }\r\n```\r\n","title":"Cannot authenticate into AWS Opensearch in Spring Boot","body":"<p>This worked for me -</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    @Bean\n    public OpenSearchClient myOpensearchClient(){\n        final BasicAwsCredentials credentials = new BasicAwsCredentials(accessKeyId, secretAccessKey);\n        final AwsCredentialsProvider provider = StaticCredentialsProvider\n            .create(credentials);\n\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        OpenSearchTransport transport = new AwsSdk2Transport(\n            httpClient, \n            opensearchEndpoint, \n            Region.&lt;your_region&gt;, \n            AwsSdk2TransportOptions.builder()\n                .setCredentials(provider)\n                .build());\n        return new OpenSearchClient(transport);\n    }\n</code></pre>\n"}],"owner":{"account_id":26790326,"reputation":11,"user_id":20383836,"display_name":"abc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1695093235,"creation_date":1667913752,"question_id":74361461,"body_markdown":"I am using Java, Spring, Spring boot and AWS Sdk to authenticate/login into my OpenSearch Cluster on AWS.\r\nHere is the article I&#39;m following in the AWS Docs:\r\nhttps://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\r\n\r\nI have my AWS credentials configured globally and I am basically trying to sign my requests with my credentials (accessKeyId, secretAccessKey), however, It&#39;s not recognizing that my credentials are configured.\r\n\r\n**Here is my configuration class:**\r\n\r\n    \r\n\t@Configuration\r\n\tpublic class PostsOpenSearchRestClientConfiguration {\r\n\t\tprivate String opensearchEndpoint = &quot;https://search-posts-a1b2c3d4e5f6g7.us-east-1.es.amazonaws.com&quot;;\r\n\t\tprivate int opensearchPort = 9200;\r\n\t\tprivate String scheme = &quot;https&quot;;\r\n\t\tprivate String region = &quot;us-east-1&quot;;\r\n\t\tprivate String myServiceName = &quot;es&quot;;\r\n\t\tprivate String opensearchClusterUsername = &quot;myUser&quot;;\r\n\t\tprivate String opensearchClusterPassword = &quot;myPass&quot;;\r\n\r\n\t\t\r\n\t\tprivate String accessKeyId = &quot;abcdefxxxxx&quot;;\r\n\t\tprivate String secretAccessKey = &quot;123xxxxxxxxxxx&quot;;\r\n\r\n\t\t@Bean\r\n\t\tpublic OpenSearchClient myOpensearchClient(){\r\n\t\t\tfinal BasicAWSCredentials myCredentialsProvider = new BasicAWSCredentials(accessKeyId, secretAccessKey);\r\n\t\t\tSdkHttpClient httpClient = ApacheHttpClient.builder().build();\r\n\t\t\tOpenSearchTransport transport = new AwsSdk2Transport(httpClient, opensearchEndpoint, Region.US_EAST_1, AwsSdk2TransportOptions.builder().build());\r\n\t\t\treturn new OpenSearchClient(transport);\r\n\t\t}\r\n\t}\r\n\r\n\r\n**Here is the error I&#39;m getting:**\r\n\r\n&gt; software.amazon.awssdk.core.exception.SdkClientException: \r\n**Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain**(credentialsProviders=[SystemPropertyCredentialsProvider(), \r\nEnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default), \r\nContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider(): \r\n**Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).**, WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE \r\nor the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(profileName=default): Expected an &#39;=&#39; sign defining a property on line 4, ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to \r\nload credentials from IMDS.]\r\n\r\n\r\nWhat am I doing wrong ?","title":"Cannot authenticate into AWS Opensearch in Spring Boot","body":"<p>I am using Java, Spring, Spring boot and AWS Sdk to authenticate/login into my OpenSearch Cluster on AWS.\nHere is the article I'm following in the AWS Docs:\n<a href=\"https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/opensearch-service/latest/developerguide/request-signing.html#request-signing-java</a></p>\n<p>I have my AWS credentials configured globally and I am basically trying to sign my requests with my credentials (accessKeyId, secretAccessKey), however, It's not recognizing that my credentials are configured.</p>\n<p><strong>Here is my configuration class:</strong></p>\n<pre><code>@Configuration\npublic class PostsOpenSearchRestClientConfiguration {\n    private String opensearchEndpoint = &quot;https://search-posts-a1b2c3d4e5f6g7.us-east-1.es.amazonaws.com&quot;;\n    private int opensearchPort = 9200;\n    private String scheme = &quot;https&quot;;\n    private String region = &quot;us-east-1&quot;;\n    private String myServiceName = &quot;es&quot;;\n    private String opensearchClusterUsername = &quot;myUser&quot;;\n    private String opensearchClusterPassword = &quot;myPass&quot;;\n\n    \n    private String accessKeyId = &quot;abcdefxxxxx&quot;;\n    private String secretAccessKey = &quot;123xxxxxxxxxxx&quot;;\n\n    @Bean\n    public OpenSearchClient myOpensearchClient(){\n        final BasicAWSCredentials myCredentialsProvider = new BasicAWSCredentials(accessKeyId, secretAccessKey);\n        SdkHttpClient httpClient = ApacheHttpClient.builder().build();\n        OpenSearchTransport transport = new AwsSdk2Transport(httpClient, opensearchEndpoint, Region.US_EAST_1, AwsSdk2TransportOptions.builder().build());\n        return new OpenSearchClient(transport);\n    }\n}\n</code></pre>\n<p><strong>Here is the error I'm getting:</strong></p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.SdkClientException:\n<strong>Unable to load credentials from any of the providers in the chain AwsCredentialsProviderChain</strong>(credentialsProviders=[SystemPropertyCredentialsProvider(),\nEnvironmentVariableCredentialsProvider(), WebIdentityTokenCredentialsProvider(), ProfileCredentialsProvider(profileName=default),\nContainerCredentialsProvider(), InstanceProfileCredentialsProvider()]) : [SystemPropertyCredentialsProvider():\n<strong>Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId)., EnvironmentVariableCredentialsProvider(): Unable to load credentials from system settings. Access key must be specified either via environment variable (AWS_ACCESS_KEY_ID) or system property (aws.accessKeyId).</strong>, WebIdentityTokenCredentialsProvider(): Either the environment variable AWS_WEB_IDENTITY_TOKEN_FILE\nor the javaproperty aws.webIdentityTokenFile must be set., ProfileCredentialsProvider(profileName=default): Expected an '=' sign defining a property on line 4, ContainerCredentialsProvider(): Cannot fetch credentials from container - neither AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI environment variables are set., InstanceProfileCredentialsProvider(): Failed to\nload credentials from IMDS.]</p>\n</blockquote>\n<p>What am I doing wrong ?</p>\n"},{"tags":["java","apache-spark","google-cloud-dataproc"],"answers":[{"tags":[],"owner":{"account_id":27069247,"reputation":71,"user_id":20620127,"display_name":"Arunkumar Chacko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695093229,"creation_date":1695093229,"answer_id":77131512,"question_id":77115390,"body_markdown":"Try copying the JAR to a GCS bucket and including that in the [--jar parameter](https://cloud.google.com/sdk/gcloud/reference/dataproc/jobs/submit/spark#--jars) when you submit the job. ","title":"submit spark job to dataproc","body":"<p>Try copying the JAR to a GCS bucket and including that in the <a href=\"https://cloud.google.com/sdk/gcloud/reference/dataproc/jobs/submit/spark#--jars\" rel=\"nofollow noreferrer\">--jar parameter</a> when you submit the job.</p>\n"}],"owner":{"account_id":16548308,"reputation":39,"user_id":11957294,"display_name":"Ahmed Hesham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1695093229,"creation_date":1694812549,"question_id":77115390,"body_markdown":"When I submit my shaded JAR to a local standalone cluster, it works fine. However, when I submit it to a Dataproc cluster, I encounter the error &quot;java.lang.NoClassDefFoundError&quot;, even though the class exists in the Maven dependency. \r\n\r\nWhy is this happening?","title":"submit spark job to dataproc","body":"<p>When I submit my shaded JAR to a local standalone cluster, it works fine. However, when I submit it to a Dataproc cluster, I encounter the error &quot;java.lang.NoClassDefFoundError&quot;, even though the class exists in the Maven dependency.</p>\n<p>Why is this happening?</p>\n"},{"tags":["java","ibm-cloud"],"answers":[{"tags":[],"owner":{"account_id":23361223,"reputation":7,"user_id":17433409,"display_name":"Texxsin"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1695090087,"creation_date":1695090087,"answer_id":77131351,"question_id":77131350,"body_markdown":"You can check the current Document limit by going into Admin Console&gt;System Info &gt; Tririga Web Files &gt; Look for the\r\n\r\nMAXIMUM_UPLOAD_FILE_SIZE_MEGABYTES entry.\r\n\r\n[![Document upload limit][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2Ehku.png\r\n\r\n\r\nIf no value is set the system will automatically restrict the max upload to the default value of 20 megabytes.\r\n\r\nThe limit is there to restrict unnecessary increases in the size of the database.","title":"What is the Document upload limit in a Tririga Environment ? And How can I check?","body":"<p>You can check the current Document limit by going into Admin Console&gt;System Info &gt; Tririga Web Files &gt; Look for the</p>\n<p>MAXIMUM_UPLOAD_FILE_SIZE_MEGABYTES entry.</p>\n<p><a href=\"https://i.stack.imgur.com/2Ehku.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Ehku.png\" alt=\"Document upload limit\" /></a></p>\n<p>If no value is set the system will automatically restrict the max upload to the default value of 20 megabytes.</p>\n<p>The limit is there to restrict unnecessary increases in the size of the database.</p>\n"}],"owner":{"account_id":23361223,"reputation":7,"user_id":17433409,"display_name":"Texxsin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1695090087,"creation_date":1695090087,"question_id":77131350,"body_markdown":"How many sizes of documents I can upload in each Tririga environment?\r\nHow can I check?","title":"What is the Document upload limit in a Tririga Environment ? And How can I check?","body":"<p>How many sizes of documents I can upload in each Tririga environment?\nHow can I check?</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1695109026,"post_id":77131301,"comment_id":135976455,"body_markdown":"I just asked this question because my entire application is in JMS, but to get persistentSize() you need to implement ClientMessage","body":"I just asked this question because my entire application is in JMS, but to get persistentSize() you need to implement ClientMessage"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1695129667,"post_id":77131301,"comment_id":135980536,"body_markdown":"I understand you want `persistentSize`, but it&#39;s not clear _why_ you want it. This should be essentially meaningless to a remote messaging client. It represents the size of the message on disk as encoded by ActiveMQ Artemis which is an implementation detail.","body":"I understand you want <code>persistentSize</code>, but it&#39;s not clear <i>why</i> you want it. This should be essentially meaningless to a remote messaging client. It represents the size of the message on disk as encoded by ActiveMQ Artemis which is an implementation detail."}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1695089164,"creation_date":1695089164,"answer_id":77131301,"question_id":77130137,"body_markdown":"ActiveMQ Artemis ships the &quot;core&quot; client which implements the [&quot;core&quot; API][1] - a full featured messaging API. Of course, it will require you to completely rewrite your application(s) which will nullify the main benefit you get from JMS - the ability to use different client and broker implementations with the same application code.\r\n\r\nA somewhat more reasonable approach would be to combine use of both the &quot;core&quot; and JMS APIs. This is easily possible because the core JMS client (i.e. the JMS client shipped with ActiveMQ Artemis) is actually implemented on top of the core client. For example, the implementation of JMS `Message` (i.e. `ActiveMQMessage`) has a method named `getCoreMessage` which will return the core API&#39;s [`ClientMessage`][2] which you can then use to get the core details you want. However, you&#39;ll still be sacrificing application portability even with this method.\r\n\r\nUltimately I wouldn&#39;t recommend either option. JMS provides ways to get the information your client really needs and even some implementation-specific details (e.g. via custom properties). It&#39;s not clear _why_ you would need specific details from the underlying implementation under normal circumstances.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/latest/core.html\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientMessage.html","title":"How to adapt JMS code to ActiveMQ Artemis code?","body":"<p>ActiveMQ Artemis ships the &quot;core&quot; client which implements the <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/core.html\" rel=\"nofollow noreferrer\">&quot;core&quot; API</a> - a full featured messaging API. Of course, it will require you to completely rewrite your application(s) which will nullify the main benefit you get from JMS - the ability to use different client and broker implementations with the same application code.</p>\n<p>A somewhat more reasonable approach would be to combine use of both the &quot;core&quot; and JMS APIs. This is easily possible because the core JMS client (i.e. the JMS client shipped with ActiveMQ Artemis) is actually implemented on top of the core client. For example, the implementation of JMS <code>Message</code> (i.e. <code>ActiveMQMessage</code>) has a method named <code>getCoreMessage</code> which will return the core API's <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/api/core/client/ClientMessage.html\" rel=\"nofollow noreferrer\"><code>ClientMessage</code></a> which you can then use to get the core details you want. However, you'll still be sacrificing application portability even with this method.</p>\n<p>Ultimately I wouldn't recommend either option. JMS provides ways to get the information your client really needs and even some implementation-specific details (e.g. via custom properties). It's not clear <em>why</em> you would need specific details from the underlying implementation under normal circumstances.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131301,"answer_count":1,"score":0,"last_activity_date":1695089164,"creation_date":1695067712,"question_id":77130137,"body_markdown":"I have code that simply reads a queue and receives JMS Message class objects. But this class does not have many getters, such as getPersistenSize and others. I found the answer to my question about obtaining such methods in a custom way, but asking this question makes me curious. Is it possible to rewrite my code as an object of the Message class ActiveMQ Artemis, and not Message JMS. I am also attaching a link to my previous question, which will suddenly give some hint to make it clearer what I mean in this matter.\r\nhttps://stackoverflow.com/questions/77099210/how-do-i-get-persistentsize-in-activemq-artemis-queue-via-jms/77099467?noredirect=1#comment135918820_77099467\r\n\r\nMy code:\r\n\r\n```\r\nconnectQueueBrowser();\r\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\r\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\r\nwhile (messageEnumeration.hasMoreElements()){\r\n   messages.add(messageEnumeration.nextElement());\r\n}\r\nSystem.out.println(messages.get(0).getBody(String.class));\r\n```\r\n","title":"How to adapt JMS code to ActiveMQ Artemis code?","body":"<p>I have code that simply reads a queue and receives JMS Message class objects. But this class does not have many getters, such as getPersistenSize and others. I found the answer to my question about obtaining such methods in a custom way, but asking this question makes me curious. Is it possible to rewrite my code as an object of the Message class ActiveMQ Artemis, and not Message JMS. I am also attaching a link to my previous question, which will suddenly give some hint to make it clearer what I mean in this matter.\n<a href=\"https://stackoverflow.com/questions/77099210/how-do-i-get-persistentsize-in-activemq-artemis-queue-via-jms/77099467?noredirect=1#comment135918820_77099467\">How do I get persistentSize in ActiveMQ Artemis queue via JMS?</a></p>\n<p>My code:</p>\n<pre><code>connectQueueBrowser();\nEnumeration&lt;Message&gt; messageEnumeration =  queueBrowser.getEnumeration();\nArrayList&lt;Message&gt; messages = new ArrayList&lt;&gt;();\nwhile (messageEnumeration.hasMoreElements()){\n   messages.add(messageEnumeration.nextElement());\n}\nSystem.out.println(messages.get(0).getBody(String.class));\n</code></pre>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695088477,"creation_date":1695088477,"answer_id":77131265,"question_id":77101619,"body_markdown":"I have since reverted quartz.jobStore.misfireThreshold.  reworked the job so that its manually triggered when there is an add/update operation.  Which enabled me to reconfigure the interval to be 2 minutes instead of 5 seconds.\r\nwith it configured this way we do see slight variations, so i guess it is working.....\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZndq.png\r\n  [2]: https://i.stack.imgur.com/u4WDR.png\r\n  [3]: https://i.stack.imgur.com/VvAke.png\r\n  [4]: https://i.stack.imgur.com/L1aTJ.png","title":"quartz cron expression trigger job not adhering to misfire policy","body":"<p>I have since reverted quartz.jobStore.misfireThreshold.  reworked the job so that its manually triggered when there is an add/update operation.  Which enabled me to reconfigure the interval to be 2 minutes instead of 5 seconds.\nwith it configured this way we do see slight variations, so i guess it is working.....</p>\n<p><a href=\"https://i.stack.imgur.com/MZndq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZndq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/u4WDR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u4WDR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VvAke.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VvAke.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/L1aTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L1aTJ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131265,"answer_count":1,"score":0,"last_activity_date":1695088477,"creation_date":1694662288,"question_id":77101619,"body_markdown":"In our our background library we create our triggers via factory methods\r\n    \t   \r\n\r\n     public Trigger buildTrigger(final JobDescription jobDescription) {\r\n            final JobDescription.TriggerType triggerType = jobDescription.getTriggerType();\r\n            if (triggerType == null) {\r\n                throw new IllegalArgumentException(&quot;trigger type can not be empty&quot;);\r\n            }\r\n            return switch (triggerType) {\r\n                case CRON -&gt; makeCronTrigger(jobDescription);\r\n                case ONCE -&gt; makeOnceTrigger(jobDescription);\r\n                case MULTIPLE_TIMES -&gt; makeMultipleTimesTrigger(jobDescription);\r\n                case LOOP -&gt; makeLoopTrigger(jobDescription);\r\n            };\r\n        }\r\n    private CronScheduleBuilder createCronSchedule(JobDescription jobDescription) {\r\n    \t\tCronScheduleBuilder cronSchedule = null;\r\n    \t\tMisfirePolicy misfirePolicy = jobDescription.getMisfirePolicy() != null ? jobDescription.getMisfirePolicy() : MisfirePolicy.None;\r\n    \t\tswitch (misfirePolicy) {\r\n    \t\t\tcase DoNothing:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionDoNothing();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase FireAndProceed:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionFireAndProceed();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase IgnoreMisfires:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionIgnoreMisfires();\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tcronSchedule = cronSchedule(jobDescription.getCronExpression());\r\n    \t\t}\r\n    \t\treturn cronSchedule;\r\n    \t}\r\n    \r\n    \tprivate Trigger makeCronTrigger(final JobDescription jobDescription) {\r\n    \t\tfinal TriggerBuilder&lt;CronTrigger&gt; cronTriggerTriggerBuilder = newTrigger()\r\n                    .withIdentity(jobDescription.getJobId())\r\n                    .withSchedule(createCronSchedule(jobDescription))\r\n                    .withPriority(getPriorityValue(jobDescription));\r\n            setIdentity(jobDescription, cronTriggerTriggerBuilder);\r\n            return cronTriggerTriggerBuilder.build();\r\n        }\r\n\r\nin our functional micro service we build our jobs that it will utilize the trigger\r\n\t\r\n\r\n    @Bean\r\n    \t@ConditionalOnProperty(prefix = &quot;tickets.background.job&quot;, name = &quot;deliver-tickets.enabled&quot;, havingValue = &quot;true&quot;)\r\n    \tJobDescription deliverTicketsJobDescription() {\r\n    \t\tfinal long now = metrics ? System.currentTimeMillis() : 0;\r\n    \t\tJobDescription jobDescription =  JobDescriptionBuilder.builder()\r\n    \t\t\t\t.triggerType(TriggerType.CRON)\r\n    \t\t\t\t.jobClass(DeliverTicketsJob.class)\r\n    \t\t\t\t.cronExpression(deliverTicketsCron) // 0/5 * * * * ?\r\n    \t\t\t\t.misfirePolicy(MisfirePolicy.FireAndProceed)\r\n    \t\t\t\t.jobGroupId(jobGroupId)\r\n    \t\t\t\t.jobId(&quot;deliverTickets&quot;)\r\n    \t\t\t\t.build();\r\n    \t\tif (metrics) {\r\n    \t\t\tLOGGER.debug(&quot;METRIC: deliverTicketsJobDescription ~ duration: &quot; + (System.currentTimeMillis() - now) + &quot;ms&quot;);\r\n    \t\t}\r\n    \t\treturn jobDescription;\r\n    \t}\r\n\r\nWe also set the misfireThreshold to 1 second\r\n\r\n    public class TicketApplication {\r\n    \tstatic {\r\n    \t\tSystem.setProperty(&quot;quartz.jobStore.misfireThreshold&quot;, &quot;1000&quot;);\r\n    \t}\r\n\r\nI have verified via looking at the qrtz_triggers table and seeing our job and the misfire_instruction column set.\r\n\r\nhowever from my point of view the behavior never changes in regards to handling misfires, it is always:\r\n\r\n 1. on startup, a job with misfires will fire off immediately and consecutively twice\r\n 2. after that it will be back on schedule, in this case firing every 5 seconds\r\n 3. i delay the job by 20 seconds, either via breakpoint or thread.sleep\r\n 4. after resuming from delay, the job will be executed multiple times consecutively until it catches up \r\n 5. at which point it goes back to being on schedule, every 5 seconds\r\n\r\nto me these steps illustrate the handling of the misfires.  the misfires from when it starts up (from the time it was down), and from when a job takes longer then the interval). The executing of the misfired jobs should be controlled via the  `MisfireHandlingInstruction` assigned, but like I said it has no effect on the outcome from the steps listed above and I tried them all.\r\n\r\n","title":"quartz cron expression trigger job not adhering to misfire policy","body":"<p>In our our background library we create our triggers via factory methods</p>\n<pre><code> public Trigger buildTrigger(final JobDescription jobDescription) {\n        final JobDescription.TriggerType triggerType = jobDescription.getTriggerType();\n        if (triggerType == null) {\n            throw new IllegalArgumentException(&quot;trigger type can not be empty&quot;);\n        }\n        return switch (triggerType) {\n            case CRON -&gt; makeCronTrigger(jobDescription);\n            case ONCE -&gt; makeOnceTrigger(jobDescription);\n            case MULTIPLE_TIMES -&gt; makeMultipleTimesTrigger(jobDescription);\n            case LOOP -&gt; makeLoopTrigger(jobDescription);\n        };\n    }\nprivate CronScheduleBuilder createCronSchedule(JobDescription jobDescription) {\n        CronScheduleBuilder cronSchedule = null;\n        MisfirePolicy misfirePolicy = jobDescription.getMisfirePolicy() != null ? jobDescription.getMisfirePolicy() : MisfirePolicy.None;\n        switch (misfirePolicy) {\n            case DoNothing:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionDoNothing();\n                break;\n            case FireAndProceed:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionFireAndProceed();\n                break;\n            case IgnoreMisfires:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression()).withMisfireHandlingInstructionIgnoreMisfires();\n                break;\n            default:\n                cronSchedule = cronSchedule(jobDescription.getCronExpression());\n        }\n        return cronSchedule;\n    }\n\n    private Trigger makeCronTrigger(final JobDescription jobDescription) {\n        final TriggerBuilder&lt;CronTrigger&gt; cronTriggerTriggerBuilder = newTrigger()\n                .withIdentity(jobDescription.getJobId())\n                .withSchedule(createCronSchedule(jobDescription))\n                .withPriority(getPriorityValue(jobDescription));\n        setIdentity(jobDescription, cronTriggerTriggerBuilder);\n        return cronTriggerTriggerBuilder.build();\n    }\n</code></pre>\n<p>in our functional micro service we build our jobs that it will utilize the trigger</p>\n<pre><code>@Bean\n    @ConditionalOnProperty(prefix = &quot;tickets.background.job&quot;, name = &quot;deliver-tickets.enabled&quot;, havingValue = &quot;true&quot;)\n    JobDescription deliverTicketsJobDescription() {\n        final long now = metrics ? System.currentTimeMillis() : 0;\n        JobDescription jobDescription =  JobDescriptionBuilder.builder()\n                .triggerType(TriggerType.CRON)\n                .jobClass(DeliverTicketsJob.class)\n                .cronExpression(deliverTicketsCron) // 0/5 * * * * ?\n                .misfirePolicy(MisfirePolicy.FireAndProceed)\n                .jobGroupId(jobGroupId)\n                .jobId(&quot;deliverTickets&quot;)\n                .build();\n        if (metrics) {\n            LOGGER.debug(&quot;METRIC: deliverTicketsJobDescription ~ duration: &quot; + (System.currentTimeMillis() - now) + &quot;ms&quot;);\n        }\n        return jobDescription;\n    }\n</code></pre>\n<p>We also set the misfireThreshold to 1 second</p>\n<pre><code>public class TicketApplication {\n    static {\n        System.setProperty(&quot;quartz.jobStore.misfireThreshold&quot;, &quot;1000&quot;);\n    }\n</code></pre>\n<p>I have verified via looking at the qrtz_triggers table and seeing our job and the misfire_instruction column set.</p>\n<p>however from my point of view the behavior never changes in regards to handling misfires, it is always:</p>\n<ol>\n<li>on startup, a job with misfires will fire off immediately and consecutively twice</li>\n<li>after that it will be back on schedule, in this case firing every 5 seconds</li>\n<li>i delay the job by 20 seconds, either via breakpoint or thread.sleep</li>\n<li>after resuming from delay, the job will be executed multiple times consecutively until it catches up</li>\n<li>at which point it goes back to being on schedule, every 5 seconds</li>\n</ol>\n<p>to me these steps illustrate the handling of the misfires.  the misfires from when it starts up (from the time it was down), and from when a job takes longer then the interval). The executing of the misfired jobs should be controlled via the  <code>MisfireHandlingInstruction</code> assigned, but like I said it has no effect on the outcome from the steps listed above and I tried them all.</p>\n"},{"tags":["java","static","initialization"],"comments":[{"owner":{"account_id":276592,"reputation":12340,"user_id":570118,"accept_rate":80,"display_name":"Wolfgang Kuehn"},"score":3,"creation_date":1356112811,"post_id":13994950,"comment_id":19316864,"body_markdown":"Called once when the class is loaded by the class loader. Not each time the class is instantiated.","body":"Called once when the class is loaded by the class loader. Not each time the class is instantiated."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":2,"creation_date":1356112963,"post_id":13994950,"comment_id":19316932,"body_markdown":"Please, take a look at the following chapters of the Official Java Tutorial (from Oracle): [Understanding Instance and Class Members](http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html) and [Initializing Fields](http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html). Come back if you still have any doubts.","body":"Please, take a look at the following chapters of the Official Java Tutorial (from Oracle): <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Understanding Instance and Class Members</a> and <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">Initializing Fields</a>. Come back if you still have any doubts."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356113444,"post_id":13994950,"comment_id":19317115,"body_markdown":"Just a non-sequitur question, if a class happens to have both `main` and a constructor, which one is invoked earlier when an instance of the class is created?","body":"Just a non-sequitur question, if a class happens to have both <code>main</code> and a constructor, which one is invoked earlier when an instance of the class is created?"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":1,"creation_date":1356114444,"post_id":13994950,"comment_id":19317545,"body_markdown":"Initialization code (Classloading time) -&gt; Main (Application entry point) -&gt; Constructors: Here&#39;s a [working example](http://ideone.com/QWB43H) to further illustrate the point.","body":"Initialization code (Classloading time) -&gt; Main (Application entry point) -&gt; Constructors: Here&#39;s a <a href=\"http://ideone.com/QWB43H\" rel=\"nofollow noreferrer\">working example</a> to further illustrate the point."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356115770,"post_id":13994950,"comment_id":19318027,"body_markdown":"For the example you provided, why isn&#39;t it falling into an infinite recursion? I mean, first time the class `Main` is invoked, the static block is executed all right. But since the `Main` class is itself again invoked inside the `main` method, they will create new instances of `Main`. While being instantiated, the static block won&#39;t execute, but their `main` methods will execute, creating two further instances, and so on.","body":"For the example you provided, why isn&#39;t it falling into an infinite recursion? I mean, first time the class <code>Main</code> is invoked, the static block is executed all right. But since the <code>Main</code> class is itself again invoked inside the <code>main</code> method, they will create new instances of <code>Main</code>. While being instantiated, the static block won&#39;t execute, but their <code>main</code> methods will execute, creating two further instances, and so on."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356118740,"post_id":13994950,"comment_id":19319144,"body_markdown":"@Cupidvogel - A class is loaded and initialized (including running any `static` blocks and static initializers) before any instances are created. (This might be triggered by an attempt to create an instance, but it&#39;s a separate process from instance creation.) When you later create instances of that class, the static blocks are not executed again (the same goes for static initializers). Thus there will be no recursion for a class with a `static` block and a `main` method.","body":"@Cupidvogel - A class is loaded and initialized (including running any <code>static</code> blocks and static initializers) before any instances are created. (This might be triggered by an attempt to create an instance, but it&#39;s a separate process from instance creation.) When you later create instances of that class, the static blocks are not executed again (the same goes for static initializers). Thus there will be no recursion for a class with a <code>static</code> block and a <code>main</code> method."},{"owner":{"account_id":101064,"reputation":12650,"user_id":272075,"accept_rate":100,"display_name":"Thorn G"},"score":1,"creation_date":1356118933,"post_id":13994950,"comment_id":19319232,"body_markdown":"@Cupidvogel The `main` method is not run every time an instance of a class is created. It is only run when either explicitly invoked (just like any other static method) or when the JVM begins the application.","body":"@Cupidvogel The <code>main</code> method is not run every time an instance of a class is created. It is only run when either explicitly invoked (just like any other static method) or when the JVM begins the application."},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1356119102,"post_id":13994950,"comment_id":19319308,"body_markdown":"Just creating an instance of a class with a main method will not invoke it. Remember that the main method is a `static` entry point that will be executed implicity by the JVM **once**. While you certainly can invoke the `main` method explicitly and even in a recursively fashion, it definitively sounds like a bad idea :).","body":"Just creating an instance of a class with a main method will not invoke it. Remember that the main method is a <code>static</code> entry point that will be executed implicity by the JVM <b>once</b>. While you certainly can invoke the <code>main</code> method explicitly and even in a recursively fashion, it definitively sounds like a bad idea :)."},{"owner":{"account_id":323460,"reputation":2036,"user_id":643483,"display_name":"Aaron Kurtzhals"},"score":0,"creation_date":1356119815,"post_id":13994950,"comment_id":19319622,"body_markdown":"Looks like a duplicate of http://stackoverflow.com/questions/2420389/static-initialization-blocks","body":"Looks like a duplicate of <a href=\"http://stackoverflow.com/questions/2420389/static-initialization-blocks\" title=\"static initialization blocks\">stackoverflow.com/questions/2420389/&hellip;</a>"},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356120342,"post_id":13994950,"comment_id":19319843,"body_markdown":"Can anybody please explain what is meant by &#39;loaded&#39;? How is it different from &#39;initialized&#39;?","body":"Can anybody please explain what is meant by &#39;loaded&#39;? How is it different from &#39;initialized&#39;?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356120950,"post_id":13994950,"comment_id":19320106,"body_markdown":"It&#39;s all spelled out in gory detail in [Chapter 5 of the Java Virtual Machine Specification](http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html). Roughly speaking, &quot;loading&quot; is reading the byte codes into memory while &quot;initialized&quot; means that the initialization code for the class is executed.","body":"It&#39;s all spelled out in gory detail in <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html\" rel=\"nofollow noreferrer\">Chapter 5 of the Java Virtual Machine Specification</a>. Roughly speaking, &quot;loading&quot; is reading the byte codes into memory while &quot;initialized&quot; means that the initialization code for the class is executed."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356121184,"post_id":13994950,"comment_id":19320185,"body_markdown":"I was going through the Chapter 12 at http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2, and couldn&#39;t decipher head or tail of it. Can you point me to a better resource that discusses it just as much at length, but much more lucidly, and if possible, with a number of examples?","body":"I was going through the Chapter 12 at <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>, and couldn&#39;t decipher head or tail of it. Can you point me to a better resource that discusses it just as much at length, but much more lucidly, and if possible, with a number of examples?"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356230347,"post_id":13994950,"comment_id":19341008,"body_markdown":"Google is your friend here. This is a complicated subject, so don&#39;t expect anything that&#39;s real easy to digest. [This introduction to the subject](http://www.artima.com/insidejvm/ed2/lifetype.html) might be what you are looking for.","body":"Google is your friend here. This is a complicated subject, so don&#39;t expect anything that&#39;s real easy to digest. <a href=\"http://www.artima.com/insidejvm/ed2/lifetype.html\" rel=\"nofollow noreferrer\">This introduction to the subject</a> might be what you are looking for."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356248520,"post_id":13994950,"comment_id":19343207,"body_markdown":"Yeah, it looks really complicated. Gonna take me quite some effort and time to digest it..","body":"Yeah, it looks really complicated. Gonna take me quite some effort and time to digest it.."}],"answers":[{"comments":[{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1356113242,"post_id":13994976,"comment_id":19317041,"body_markdown":"I wasn&#39;t the downvoter but I suspect the problem was that technically  you can initialise static variables in a constructor.","body":"I wasn&#39;t the downvoter but I suspect the problem was that technically  you can initialise static variables in a constructor."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1356113703,"post_id":13994976,"comment_id":19317232,"body_markdown":"I agree with you completely, it was just a theory about the reason of the downvote.","body":"I agree with you completely, it was just a theory about the reason of the downvote."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1356112712,"creation_date":1356112712,"answer_id":13994976,"question_id":13994950,"body_markdown":"You can&#39;t initialize static variables with a constructor -- or at least you probably _shouldn&#39;t_, and it won&#39;t be particularly useful.  \r\n\r\nEspecially when you&#39;re trying to initialize static constants that require significant logic to  generate, that really ought to happen in a static block, not a constructor.","title":"Necessity of static block in Java","body":"<p>You can't initialize static variables with a constructor -- or at least you probably <em>shouldn't</em>, and it won't be particularly useful.  </p>\n\n<p>Especially when you're trying to initialize static constants that require significant logic to  generate, that really ought to happen in a static block, not a constructor.</p>\n"},{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1356113342,"creation_date":1356112721,"answer_id":13994980,"question_id":13994950,"body_markdown":"The static initializer runs when the class is loaded even if you never create any objects of that type. \r\n\r\n * Not all classes are meant to be instantiated. The constructor might never be called. It might even be private.\r\n * You may wish to access static fields of the class before you run a constructor.\r\n * The static initializer only runs once when the class is loaded. The constructor is called for each object of that type you instantiate.","title":"Necessity of static block in Java","body":"<p>The static initializer runs when the class is loaded even if you never create any objects of that type. </p>\n\n<ul>\n<li>Not all classes are meant to be instantiated. The constructor might never be called. It might even be private.</li>\n<li>You may wish to access static fields of the class before you run a constructor.</li>\n<li>The static initializer only runs once when the class is loaded. The constructor is called for each object of that type you instantiate.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112721,"creation_date":1356112721,"answer_id":13994981,"question_id":13994950,"body_markdown":"They&#39;re two separate things. You use a constructor to initialize one instance of a class, the static initialization block initializes static members at the time that the class is loaded.","title":"Necessity of static block in Java","body":"<p>They're two separate things. You use a constructor to initialize one instance of a class, the static initialization block initializes static members at the time that the class is loaded.</p>\n"},{"comments":[{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":1,"creation_date":1356112910,"post_id":13994982,"comment_id":19316903,"body_markdown":"Please explain what you mean by &#39;load&#39;.","body":"Please explain what you mean by &#39;load&#39;."},{"owner":{"account_id":371565,"reputation":10918,"user_id":720161,"accept_rate":88,"display_name":"Subin Sebastian"},"score":0,"creation_date":1356113118,"post_id":13994982,"comment_id":19316990,"body_markdown":"Each class needs to be loaded to jvm via a classloader, It can happen when a object of the type of that class is requested in code or a static variable  is requested in code. For eg: int b= ClassA.staticMenber; staticMember is a static variable present in ClassA, which can be initilized in static block.","body":"Each class needs to be loaded to jvm via a classloader, It can happen when a object of the type of that class is requested in code or a static variable  is requested in code. For eg: int b= ClassA.staticMenber; staticMember is a static variable present in ClassA, which can be initilized in static block."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356113262,"post_id":13994982,"comment_id":19317050,"body_markdown":"So essentially you mean &#39;when a instance of that class is first created&#39; by &#39;loaded&#39;, right?","body":"So essentially you mean &#39;when a instance of that class is first created&#39; by &#39;loaded&#39;, right?"},{"owner":{"account_id":371565,"reputation":10918,"user_id":720161,"accept_rate":88,"display_name":"Subin Sebastian"},"score":0,"creation_date":1356113312,"post_id":13994982,"comment_id":19317065,"body_markdown":"please see the edit. it can be when instance created, or a static reference made.","body":"please see the edit. it can be when instance created, or a static reference made."},{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":1,"creation_date":1414508725,"post_id":13994982,"comment_id":41835108,"body_markdown":"+1 for ***We should not be initializing static members from constructor as they are part of class definition not object***","body":"+1 for <b><i>We should not be initializing static members from constructor as they are part of class definition not object</i></b>"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1508116660,"post_id":13994982,"comment_id":80468681,"body_markdown":"There are sometimes reasons to modify a `static` field in a constructor. This technique is used, for instance, to generate a unique id for each instance of a class: define, say, a `private static int nextID` field, initialized (statically) to 0, and then in the constructor assign `this.id = nextID++;`.","body":"There are sometimes reasons to modify a <code>static</code> field in a constructor. This technique is used, for instance, to generate a unique id for each instance of a class: define, say, a <code>private static int nextID</code> field, initialized (statically) to 0, and then in the constructor assign <code>this.id = nextID++;</code>."}],"tags":[],"owner":{"account_id":371565,"reputation":10918,"user_id":720161,"accept_rate":88,"display_name":"Subin Sebastian"},"comment_count":6,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1438338217,"creation_date":1356112732,"answer_id":13994982,"question_id":13994950,"body_markdown":"Constructor is invoked while creating an instance of the class.\r\n\r\nStatic block is invoked when a classloader loads this class definition, so that we can initialize static members of this class. \r\nWe should not be initializing static members from constructor as they are part of class definition not object \r\n","title":"Necessity of static block in Java","body":"<p>Constructor is invoked while creating an instance of the class.</p>\n\n<p>Static block is invoked when a classloader loads this class definition, so that we can initialize static members of this class. \nWe should not be initializing static members from constructor as they are part of class definition not object </p>\n"},{"tags":[],"owner":{"account_id":164849,"reputation":1375,"user_id":387880,"accept_rate":50,"display_name":"eppesuig"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112785,"creation_date":1356112785,"answer_id":13995003,"question_id":13994950,"body_markdown":"The static block is reqly useful when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.","title":"Necessity of static block in Java","body":"<p>The static block is reqly useful when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.</p>\n"},{"tags":[],"owner":{"account_id":1371019,"reputation":909,"user_id":1306221,"accept_rate":77,"display_name":"ved"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1356112980,"creation_date":1356112980,"answer_id":13995037,"question_id":13994950,"body_markdown":"static block does different thing than constructor . Basically there sre two different concepts.\r\n\r\nstatic block initializes when class load into memory , it means when JVM read u&#39;r byte code.\r\nInitialization can ne anything , it can be variable initialization or any thing else which should be shared by all objects of that class\r\n\r\nwhereas constructor initializes variable for that object only .","title":"Necessity of static block in Java","body":"<p>static block does different thing than constructor . Basically there sre two different concepts.</p>\n\n<p>static block initializes when class load into memory , it means when JVM read u'r byte code.\nInitialization can ne anything , it can be variable initialization or any thing else which should be shared by all objects of that class</p>\n\n<p>whereas constructor initializes variable for that object only .</p>\n"},{"comments":[{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":1,"creation_date":1356113335,"post_id":13995072,"comment_id":19317076,"body_markdown":"Why can&#39;t I just do it inside the constructor?","body":"Why can&#39;t I just do it inside the constructor?"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1356113414,"post_id":13995072,"comment_id":19317103,"body_markdown":"@Cupidvogel What if the class has no constructors? `java.lang.Math` only contains static methods and is never instantiated for example. (Although `Math` contains a constructor, but curiously that constructor is there to make sure no instances are created.)","body":"@Cupidvogel What if the class has no constructors? <code>java.lang.Math</code> only contains static methods and is never instantiated for example. (Although <code>Math</code> contains a constructor, but curiously that constructor is there to make sure no instances are created.)"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":2,"creation_date":1356113507,"post_id":13995072,"comment_id":19317149,"body_markdown":"Another typical usage of static initialisers is the loading of a native library for classes that have native methods, like this: `static { System.loadLibrary (&quot;foo&quot;); }`","body":"Another typical usage of static initialisers is the loading of a native library for classes that have native methods, like this: <code>static { System.loadLibrary (&quot;foo&quot;); }</code>"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1356113583,"post_id":13995072,"comment_id":19317176,"body_markdown":"@Cupidvogel - Since the variable is declared both `static` and `final` (so that it cannot be changed), the language will not allow you to do it in the constructor.","body":"@Cupidvogel - Since the variable is declared both <code>static</code> and <code>final</code> (so that it cannot be changed), the language will not allow you to do it in the constructor."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356113667,"post_id":13995072,"comment_id":19317215,"body_markdown":"What do you mean by **What if the class has no constructors?**? I want to know is there any particular case where a constructor can&#39;t do something the static block can do?","body":"What do you mean by <b>What if the class has no constructors?</b>? I want to know is there any particular case where a constructor can&#39;t do something the static block can do?"},{"owner":{"account_id":417021,"reputation":2395,"user_id":792779,"display_name":"John"},"score":1,"creation_date":1356113721,"post_id":13995072,"comment_id":19317240,"body_markdown":"@Cupidvogel, do you understand the concept of a class and instantiating it? If you put that code in the constructor then every time you created a new instance the same entry would be added the map again. You want this behavior to happen once on the class level, not for every instance.","body":"@Cupidvogel, do you understand the concept of a class and instantiating it? If you put that code in the constructor then every time you created a new instance the same entry would be added the map again. You want this behavior to happen once on the class level, not for every instance."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1356113859,"post_id":13995072,"comment_id":19317305,"body_markdown":"@Cupidvogel See Ted&#39;s comment: you can&#39;t initialise a `static final` field from a constructor. And that&#39;s a hard limit, your code will simply not compile. But you can easily have classes that have a single empty `private` constructor to prevent instantiation. Even if you put some code in it, it will never be called. (As it&#39;s `private`, no-one can see it.)","body":"@Cupidvogel See Ted&#39;s comment: you can&#39;t initialise a <code>static final</code> field from a constructor. And that&#39;s a hard limit, your code will simply not compile. But you can easily have classes that have a single empty <code>private</code> constructor to prevent instantiation. Even if you put some code in it, it will never be called. (As it&#39;s <code>private</code>, no-one can see it.)"},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":1,"creation_date":1356113954,"post_id":13995072,"comment_id":19317355,"body_markdown":"@Cupidvogel - I think what I posted is a case where a constructor can&#39;t do something the static block can do. (Note that this isn&#39;t a case where a constructor _should not_ be used; it&#39;s a case where a constructor **cannot** be used.)","body":"@Cupidvogel - I think what I posted is a case where a constructor can&#39;t do something the static block can do. (Note that this isn&#39;t a case where a constructor <i>should not</i> be used; it&#39;s a case where a constructor <b>cannot</b> be used.)"},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356113966,"post_id":13995072,"comment_id":19317364,"body_markdown":"Okay, I kind of got the point, but the example you provided is not correct I think, even if I add the same key to a hash 50 times, it has but only one key of that value..","body":"Okay, I kind of got the point, but the example you provided is not correct I think, even if I add the same key to a hash 50 times, it has but only one key of that value.."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356114014,"post_id":13995072,"comment_id":19317378,"body_markdown":"@Cupidvogel - In the last case, since the map itself is unmodifiable (to protect it from changes in other code), you cannot add to it (even the same value) in a constructor. You will get a run-time exception if you try.","body":"@Cupidvogel - In the last case, since the map itself is unmodifiable (to protect it from changes in other code), you cannot add to it (even the same value) in a constructor. You will get a run-time exception if you try."},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":0,"creation_date":1356114117,"post_id":13995072,"comment_id":19317423,"body_markdown":"Another, slightly more subtle problem with setting static fields from instance methods (e.g. constructors) is multi-threading. While it is guaranteed that all the static initialisers will run and their results will be visible to all threads, there&#39;s no such guarantee for constructors setting static fields.","body":"Another, slightly more subtle problem with setting static fields from instance methods (e.g. constructors) is multi-threading. While it is guaranteed that all the static initialisers will run and their results will be visible to all threads, there&#39;s no such guarantee for constructors setting static fields."},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356114253,"post_id":13995072,"comment_id":19317476,"body_markdown":"Oh ho, by final does it mean that after initialization it can never be modified (the term `final` implies that, btw, so forgive me my dumbness)?","body":"Oh ho, by final does it mean that after initialization it can never be modified (the term <code>final</code> implies that, btw, so forgive me my dumbness)?"},{"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"score":0,"creation_date":1356114318,"post_id":13995072,"comment_id":19317494,"body_markdown":"@biziclop, hold that, I haven&#39;t yet learnt about multithreading, but when i do, i will get back to you on your comment...","body":"@biziclop, hold that, I haven&#39;t yet learnt about multithreading, but when i do, i will get back to you on your comment..."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356114877,"post_id":13995072,"comment_id":19317695,"body_markdown":"@Cupidvogel - A `final` variable must be &quot;definitely assigned&quot; a value **exactly** once. If there is no assignment, or (as far as the compiler can tell) a chance that the assignment will not be executed or will be executed more than once, then it will generate an error. The method `Collections.unmodifiableMap` has nothing to do with `final`; it takes any `Map` and turns it into another `Map` that will generate an exception at run time for any attempt to add, modify, or delete any entry in the map. When using both `final` and unmodifiable, a `static` block is indispensable.","body":"@Cupidvogel - A <code>final</code> variable must be &quot;definitely assigned&quot; a value <b>exactly</b> once. If there is no assignment, or (as far as the compiler can tell) a chance that the assignment will not be executed or will be executed more than once, then it will generate an error. The method <code>Collections.unmodifiableMap</code> has nothing to do with <code>final</code>; it takes any <code>Map</code> and turns it into another <code>Map</code> that will generate an exception at run time for any attempt to add, modify, or delete any entry in the map. When using both <code>final</code> and unmodifiable, a <code>static</code> block is indispensable."}],"tags":[],"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"comment_count":14,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1659017835,"creation_date":1356113136,"answer_id":13995072,"question_id":13994950,"body_markdown":"I first want to highlight one thing thing from your question:\r\n\r\n&gt; the constructor does the same thing, do all the necessary stuff when a class is first initialized\r\n\r\nThis is incorrect. A constructor does all the initialization necessary when an *instance* of a class is created. No constructors execute when the class itself is first loaded into memory and initialized (unless an instance of the class happens to be created as part of the class initialization). This confusion (between initializing a class and initializing instances of the class) is probably why you are questioning the utility of `static` blocks.\r\n\r\nIf a class has static members that require complex initialization, a `static` block is the tool to use. Suppose you need a static map of some kind (the purpose is irrelevant here). You can declare it in-line like this:\r\n\r\n    public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\r\n\r\nHowever, if you want to populate it once, you can&#39;t do that with an in-line declaration. For that, you need a `static` block:\r\n\r\n    public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\r\n    static {\r\n        initials.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n    }\r\n\r\nIf you wanted to be even more protective, you can do this:\r\n\r\n    public static final Map&lt;String, String&gt; initials;\r\n    static {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\r\n        map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n        initials = Collections.unmodifiableMap(map);\r\n    }\r\n\r\nNote that you cannot initialize `initials` in-line as an unmodifiable map because then you couldn&#39;t populate it! You also cannot do this in a constructor because simply calling one of the modifying methods (`put`, etc.) will generate an exception.\r\n\r\nTo be fair, this is not a complete answer to your question. The `static` block could still be eliminated by using a private static function:\r\n\r\n    public static final Map&lt;String, String&gt; initials = makeInitials();\r\n\r\n    private static Map&lt;String, String&gt; makeInitials() {\r\n        Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\r\n        map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\r\n        // etc.\r\n        return Collections.unmodifiableMap(map);\r\n    }\r\n\r\nNote, though, that this is not replacing a `static` block with code in a constructor as you proposed! Also, this won&#39;t work if you need to initialize several `static` fields in an interrelated way.\r\n\r\nA case where a `static` block would be awkward to replace would be a &quot;coordinator&quot; class that needs to initialize several other classes exactly once, especially awkward if it involves dependency injection.\r\n\r\n    public class Coordinator {\r\n        static {\r\n            WorkerClass1.init();\r\n            WorkerClass2.init(WorkerClass1.someInitializedValue);\r\n            // etc.\r\n        }\r\n    }\r\n\r\nParticularly if you don&#39;t want to hard-wire any dependence into `WorkerClass2` on `WorkerClass1`, some sort of coordinator code like this is needed. This kind of stuff most definitely does not belong in a constructor.\r\n\r\nNote that there is also something called an _instance initializer block_. It is an anonymous block of code that is run when each instance is created. (The syntax is just like a `static` block, but without the `static` keyword.) It is particularly useful for anonymous classes, because they cannot have named constructors. Here&#39;s a real-world example. Since (unfathomably) `GZIPOutputStream` does not have a constructor or any api call with which you can specify a compression level, and the default compression level is none, you need to subclass `GZIPOutputStream` to get any compression. You can always write an explicit subclass, but it can be more convenient to write an anonymous class:\r\n\r\n    OutputStream os = . . .;\r\n    OutputStream gzos = new GZIPOutputStream(os) {\r\n        {\r\n            // def is an inherited, protected field that does the actual compression\r\n            def = new Deflator(9, true); // maximum compression, no ZLIB header\r\n        }\r\n    };","title":"Necessity of static block in Java","body":"<p>I first want to highlight one thing thing from your question:</p>\n<blockquote>\n<p>the constructor does the same thing, do all the necessary stuff when a class is first initialized</p>\n</blockquote>\n<p>This is incorrect. A constructor does all the initialization necessary when an <em>instance</em> of a class is created. No constructors execute when the class itself is first loaded into memory and initialized (unless an instance of the class happens to be created as part of the class initialization). This confusion (between initializing a class and initializing instances of the class) is probably why you are questioning the utility of <code>static</code> blocks.</p>\n<p>If a class has static members that require complex initialization, a <code>static</code> block is the tool to use. Suppose you need a static map of some kind (the purpose is irrelevant here). You can declare it in-line like this:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>However, if you want to populate it once, you can't do that with an in-line declaration. For that, you need a <code>static</code> block:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = new HashMap&lt;String, String&gt;();\nstatic {\n    initials.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n}\n</code></pre>\n<p>If you wanted to be even more protective, you can do this:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials;\nstatic {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\n    map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n    initials = Collections.unmodifiableMap(map);\n}\n</code></pre>\n<p>Note that you cannot initialize <code>initials</code> in-line as an unmodifiable map because then you couldn't populate it! You also cannot do this in a constructor because simply calling one of the modifying methods (<code>put</code>, etc.) will generate an exception.</p>\n<p>To be fair, this is not a complete answer to your question. The <code>static</code> block could still be eliminated by using a private static function:</p>\n<pre><code>public static final Map&lt;String, String&gt; initials = makeInitials();\n\nprivate static Map&lt;String, String&gt; makeInitials() {\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;()\n    map.put(&quot;AEN&quot;, &quot;Alfred E. Newman&quot;);\n    // etc.\n    return Collections.unmodifiableMap(map);\n}\n</code></pre>\n<p>Note, though, that this is not replacing a <code>static</code> block with code in a constructor as you proposed! Also, this won't work if you need to initialize several <code>static</code> fields in an interrelated way.</p>\n<p>A case where a <code>static</code> block would be awkward to replace would be a &quot;coordinator&quot; class that needs to initialize several other classes exactly once, especially awkward if it involves dependency injection.</p>\n<pre><code>public class Coordinator {\n    static {\n        WorkerClass1.init();\n        WorkerClass2.init(WorkerClass1.someInitializedValue);\n        // etc.\n    }\n}\n</code></pre>\n<p>Particularly if you don't want to hard-wire any dependence into <code>WorkerClass2</code> on <code>WorkerClass1</code>, some sort of coordinator code like this is needed. This kind of stuff most definitely does not belong in a constructor.</p>\n<p>Note that there is also something called an <em>instance initializer block</em>. It is an anonymous block of code that is run when each instance is created. (The syntax is just like a <code>static</code> block, but without the <code>static</code> keyword.) It is particularly useful for anonymous classes, because they cannot have named constructors. Here's a real-world example. Since (unfathomably) <code>GZIPOutputStream</code> does not have a constructor or any api call with which you can specify a compression level, and the default compression level is none, you need to subclass <code>GZIPOutputStream</code> to get any compression. You can always write an explicit subclass, but it can be more convenient to write an anonymous class:</p>\n<pre><code>OutputStream os = . . .;\nOutputStream gzos = new GZIPOutputStream(os) {\n    {\n        // def is an inherited, protected field that does the actual compression\n        def = new Deflator(9, true); // maximum compression, no ZLIB header\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1809227,"reputation":53,"user_id":1794965,"display_name":"Manish"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1356115141,"creation_date":1356115141,"answer_id":13995453,"question_id":13994950,"body_markdown":"The static block is useful when you want to initialize static fields. ","title":"Necessity of static block in Java","body":"<p>The static block is useful when you want to initialize static fields. </p>\n"},{"comments":[{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":2,"creation_date":1356118961,"post_id":13996192,"comment_id":19319250,"body_markdown":"You are misinterpreting what&#39;s going on. Static blocks _are_ run when the class is initialized. It&#39;s just that simply declaring a variable `MyClass x` does not require that the class be loaded or initialized. Java is smart enough to know that it can defer loading and initializing the class until something about it (other than it&#39;s name) is actually needed. (By the way, simply referencing a static field of the class will also cause the class to be initialized. You don&#39;t need to create an instance or call a method.)","body":"You are misinterpreting what&#39;s going on. Static blocks <i>are</i> run when the class is initialized. It&#39;s just that simply declaring a variable <code>MyClass x</code> does not require that the class be loaded or initialized. Java is smart enough to know that it can defer loading and initializing the class until something about it (other than it&#39;s name) is actually needed. (By the way, simply referencing a static field of the class will also cause the class to be initialized. You don&#39;t need to create an instance or call a method.)"},{"owner":{"account_id":1081114,"reputation":83392,"user_id":1078084,"accept_rate":81,"display_name":"Akavall"},"score":0,"creation_date":1356119515,"post_id":13996192,"comment_id":19319494,"body_markdown":"@Ted Hopp I edited my answer to reflect your point, which basically the gist of my answer now.","body":"@Ted Hopp I edited my answer to reflect your point, which basically the gist of my answer now."},{"owner":{"account_id":255665,"reputation":232836,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"score":0,"creation_date":1356119745,"post_id":13996192,"comment_id":19319590,"body_markdown":"Much improved. However, I don&#39;t see how this addresses OP&#39;s question.","body":"Much improved. However, I don&#39;t see how this addresses OP&#39;s question."},{"owner":{"account_id":1081114,"reputation":83392,"user_id":1078084,"accept_rate":81,"display_name":"Akavall"},"score":0,"creation_date":1356120273,"post_id":13996192,"comment_id":19319813,"body_markdown":"@Ted Hopp, the OP is basically asking about the difference between static initializer and constructor. OP&#39;s last question is &quot;is there anything that the static block accomplishes which a constructor can&#39;t&quot;. My answer illustrates that static initializer is run when instance of of `MyClass` is not created, while constructor is not. This is something that static initializer can do, and constructor cannot do.","body":"@Ted Hopp, the OP is basically asking about the difference between static initializer and constructor. OP&#39;s last question is &quot;is there anything that the static block accomplishes which a constructor can&#39;t&quot;. My answer illustrates that static initializer is run when instance of of <code>MyClass</code> is not created, while constructor is not. This is something that static initializer can do, and constructor cannot do."}],"tags":[],"owner":{"account_id":1081114,"reputation":83392,"user_id":1078084,"accept_rate":81,"display_name":"Akavall"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1356122379,"creation_date":1356118796,"answer_id":13996192,"question_id":13994950,"body_markdown":"Static initializer will run if we initialize a class, this does not require that we instantiate a class. But the constructor is run only when we make an instance of the class.\r\n\r\nFor example:\r\n\r\n    class MyClass\r\n    {\t\r\n    \tstatic\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am static initializer&quot;);\r\n    \t}\r\n    \tMyClass()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am constructor&quot;);\r\n    \t}\r\n    \t\r\n    \tstatic void staticMethod()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;I am static method&quot;);\r\n    \t}\r\n    }\r\n\r\nIf we run:\r\n\r\n    MyClass.staticMethod();\r\n\r\nOutput:\r\n\r\n    I am static initializer\r\n    I am static method\r\n\r\nWe never created an instance so the constructor is not called, but static initializer is called.\r\n\r\nIf we make an instance of a class, both static initilizer and the constructor run. No surprises.\r\n\r\n    MyClass x = new MyClass();\r\n\r\nOutput:\r\n\r\n    I am static initializer\r\n    I am constructor\r\n\r\nNote that if we run:\r\n\r\n    MyClass x;\r\n\r\nOutput: (empty)\r\n\r\nDeclaring variable `x` does not require `MyClass` to be initialized, so static initializer does not run.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Necessity of static block in Java","body":"<p>Static initializer will run if we initialize a class, this does not require that we instantiate a class. But the constructor is run only when we make an instance of the class.</p>\n\n<p>For example:</p>\n\n<pre><code>class MyClass\n{   \n    static\n    {\n        System.out.println(\"I am static initializer\");\n    }\n    MyClass()\n    {\n        System.out.println(\"I am constructor\");\n    }\n\n    static void staticMethod()\n    {\n        System.out.println(\"I am static method\");\n    }\n}\n</code></pre>\n\n<p>If we run:</p>\n\n<pre><code>MyClass.staticMethod();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I am static initializer\nI am static method\n</code></pre>\n\n<p>We never created an instance so the constructor is not called, but static initializer is called.</p>\n\n<p>If we make an instance of a class, both static initilizer and the constructor run. No surprises.</p>\n\n<pre><code>MyClass x = new MyClass();\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>I am static initializer\nI am constructor\n</code></pre>\n\n<p>Note that if we run:</p>\n\n<pre><code>MyClass x;\n</code></pre>\n\n<p>Output: (empty)</p>\n\n<p>Declaring variable <code>x</code> does not require <code>MyClass</code> to be initialized, so static initializer does not run.</p>\n"},{"tags":[],"owner":{"account_id":13018774,"reputation":21,"user_id":9408970,"display_name":"Aman Kassahun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519564900,"creation_date":1519564900,"answer_id":48973922,"question_id":13994950,"body_markdown":"\r\n\t\r\n\r\nThe static block is useful over constructors when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.\r\n","title":"Necessity of static block in Java","body":"<p>The static block is useful over constructors when you do have to do some action even if no instances is still created. As example, for initializing a static variable with non static value.</p>\n"},{"tags":[],"owner":{"account_id":4610588,"reputation":4137,"user_id":3738831,"accept_rate":50,"display_name":"Tadele Ayelegn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533504715,"creation_date":1533504715,"answer_id":51698410,"question_id":13994950,"body_markdown":"One way you can understand static block is; \r\nIt acts as a constructor. however, the difference between the two is \r\n**static block instantiates class or static variables  while constructor is used to instantiate object variables** \r\n\r\nConsider the following class \r\n\r\n    public class Part{\r\n    \r\n      String name;\r\n      static String producer;\r\n    \r\n      public Part(String name){\r\n          this.name = name;\r\n      }\r\n    \r\n      static {\r\n        producer = &quot;Boeing&quot;;\r\n      }\r\n    \r\n    }\r\n objects created from this class will have producer set to Boeing but their name is different depending on the argument passed. for instance \r\n\r\n    Part engine = new Part(&quot;JetEngine&quot;);\r\n    Part Wheel = new Part(&quot;JetWheel&quot;);\r\n\r\n\r\n","title":"Necessity of static block in Java","body":"<p>One way you can understand static block is; \nIt acts as a constructor. however, the difference between the two is \n<strong>static block instantiates class or static variables  while constructor is used to instantiate object variables</strong> </p>\n\n<p>Consider the following class </p>\n\n<pre><code>public class Part{\n\n  String name;\n  static String producer;\n\n  public Part(String name){\n      this.name = name;\n  }\n\n  static {\n    producer = \"Boeing\";\n  }\n\n}\n</code></pre>\n\n<p>objects created from this class will have producer set to Boeing but their name is different depending on the argument passed. for instance </p>\n\n<pre><code>Part engine = new Part(\"JetEngine\");\nPart Wheel = new Part(\"JetWheel\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13873903,"reputation":312,"user_id":11887107,"display_name":"Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662310859,"creation_date":1662310859,"answer_id":73601270,"question_id":13994950,"body_markdown":"Initializing static fields in the constructor is a big mistake. Yes, you can initialize static fields in the constructor. However, **the static fields will reset their value every time an object is created**.\r\n\r\n```java\r\npublic class StaticExample {\r\n    static int myStaticField;\r\n\r\n    public StaticExample(){\r\n    myStaticField = 10;\r\n  }\r\n}\r\n```\r\n```java\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n      StaticExample obj1 = new StaticExample();\r\n      StaticExample.myStaticField+= 80;\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n\r\n      // creating new object will reset the static field\r\n      StaticExample obj2 = new StaticExample();\r\n\r\n      // this will print 10\r\n      System.out.println(StaticExample.myStaticField);\r\n    }\r\n}\r\n```\r\nThis is unexpected and unaccepted behavior for a static field. If you now change the initialization step from a constructor to a static block, you will get the correct values.\r\n\r\n```java\r\npublic class StaticExample {\r\n    static int myStaticField;\r\n\r\n    static {\r\n      myStaticField = 10;\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Solution {\r\n    public static void main(String[] args) {\r\n      StaticExample obj1 = new StaticExample();\r\n      StaticExample.myStaticField+= 80;\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n\r\n      // creating new object will NOT reset the static field\r\n      StaticExample obj2 = new StaticExample();\r\n\r\n      // this will print 90\r\n      System.out.println(StaticExample.myStaticField);\r\n  }\r\n}\r\n```","title":"Necessity of static block in Java","body":"<p>Initializing static fields in the constructor is a big mistake. Yes, you can initialize static fields in the constructor. However, <strong>the static fields will reset their value every time an object is created</strong>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticExample {\n    static int myStaticField;\n\n    public StaticExample(){\n    myStaticField = 10;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static void main(String[] args) {\n      StaticExample obj1 = new StaticExample();\n      StaticExample.myStaticField+= 80;\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n\n      // creating new object will reset the static field\n      StaticExample obj2 = new StaticExample();\n\n      // this will print 10\n      System.out.println(StaticExample.myStaticField);\n    }\n}\n</code></pre>\n<p>This is unexpected and unaccepted behavior for a static field. If you now change the initialization step from a constructor to a static block, you will get the correct values.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StaticExample {\n    static int myStaticField;\n\n    static {\n      myStaticField = 10;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    public static void main(String[] args) {\n      StaticExample obj1 = new StaticExample();\n      StaticExample.myStaticField+= 80;\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n\n      // creating new object will NOT reset the static field\n      StaticExample obj2 = new StaticExample();\n\n      // this will print 90\n      System.out.println(StaticExample.myStaticField);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29114412,"reputation":19,"user_id":22303452,"display_name":"Aisu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695087638,"creation_date":1695087638,"answer_id":77131234,"question_id":13994950,"body_markdown":"If you&#39;d like to get a full understanding of the technical concept (in this scenario - the usage of static blocks in Java), you&#39;d probably need to find the reference to this concept in a real application. Let me attach here a [link][1] to the repo of Gomoku game implementation where static block is used in *&quot;Board.java&quot;* class **to initialize a static field** *&quot;Location&quot;*. \r\n\r\n    public class Board {\r\n    \r\n    \tpublic static final Iterable&lt;Location&gt; LOCATIONS;\r\n    \t\r\n        // set up LOCATIONS\r\n    \r\n\t    static {\r\n\t\t    ArrayList&lt;Location&gt; l = new ArrayList&lt;Location&gt;(NUM_ROWS * NUM_COLS);\r\n\t\t    for (int r = 0; r &lt; NUM_ROWS; r++)\r\n\t\t\t    for (int c = 0; c &lt; NUM_COLS; c++)\r\n\t\t\t\t    l.add(new Location(r,c));\r\n\t\t    LOCATIONS = l;\r\n\t    }\r\n    }\r\n\r\n  [1]: https://github.com/danieluibe/Gomoku-Game-Design/blob/master/model/Board.java#L40","title":"Necessity of static block in Java","body":"<p>If you'd like to get a full understanding of the technical concept (in this scenario - the usage of static blocks in Java), you'd probably need to find the reference to this concept in a real application. Let me attach here a <a href=\"https://github.com/danieluibe/Gomoku-Game-Design/blob/master/model/Board.java#L40\" rel=\"nofollow noreferrer\">link</a> to the repo of Gomoku game implementation where static block is used in <em>&quot;Board.java&quot;</em> class <strong>to initialize a static field</strong> <em>&quot;Location&quot;</em>.</p>\n<pre><code>public class Board {\n\n    public static final Iterable&lt;Location&gt; LOCATIONS;\n    \n    // set up LOCATIONS\n\n    static {\n        ArrayList&lt;Location&gt; l = new ArrayList&lt;Location&gt;(NUM_ROWS * NUM_COLS);\n        for (int r = 0; r &lt; NUM_ROWS; r++)\n            for (int c = 0; c &lt; NUM_COLS; c++)\n                l.add(new Location(r,c));\n        LOCATIONS = l;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1585470,"reputation":7053,"user_id":1469954,"accept_rate":81,"display_name":"NedStarkOfWinterfell"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33999,"favorite_count":0,"down_vote_count":1,"up_vote_count":61,"accepted_answer_id":13995072,"answer_count":13,"score":60,"last_activity_date":1695087638,"creation_date":1356112617,"question_id":13994950,"body_markdown":"I found that in Java, there is a feature called `static block`, which includes code that is executed when a class is first loaded (I don&#39;t understand what &#39;loaded&#39; means, does it mean initialized?). Is there any reason to do the initialization bit inside a static block and not in the constructor? I mean, even the constructor does the same thing, do all the necessary stuff when a class is first initialized. is there anything that the static block accomplishes which a constructor can&#39;t?","title":"Necessity of static block in Java","body":"<p>I found that in Java, there is a feature called <code>static block</code>, which includes code that is executed when a class is first loaded (I don't understand what 'loaded' means, does it mean initialized?). Is there any reason to do the initialization bit inside a static block and not in the constructor? I mean, even the constructor does the same thing, do all the necessary stuff when a class is first initialized. is there anything that the static block accomplishes which a constructor can't?</p>\n"},{"tags":["java","spring-boot","openapi"],"owner":{"account_id":1139472,"reputation":278,"user_id":1123777,"accept_rate":100,"display_name":"Wee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1695086591,"creation_date":1695086591,"question_id":77131185,"body_markdown":"I am using Spring Boot 3 and using OpenAPI by having this in the pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nUsing HttpExchange interface, as per https://www.baeldung.com/spring-6-http-interface, I have created the interface to call external APIs.\r\n\r\nHow can I make use of OpenAPI to generate a documentation of the external API with the HttpExchange interface?","title":"OpenAPI documentation for External API in Spring Boot 3 project","body":"<p>I am using Spring Boot 3 and using OpenAPI by having this in the pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using HttpExchange interface, as per <a href=\"https://www.baeldung.com/spring-6-http-interface\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-6-http-interface</a>, I have created the interface to call external APIs.</p>\n<p>How can I make use of OpenAPI to generate a documentation of the external API with the HttpExchange interface?</p>\n"},{"tags":["java","usb","i2c","serial-communication","ftdi"],"answers":[{"tags":[],"owner":{"account_id":3582271,"reputation":1321,"user_id":2990189,"accept_rate":77,"display_name":"DerStrom8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1695086334,"creation_date":1695086334,"answer_id":77131171,"question_id":77115340,"body_markdown":"I recently found a library that not only has all of the required Java files, but also includes examples and a variety of other resources. Documentation is quite good as well. It&#39;s &quot;Yet Another D2xx Library&quot;, or &quot;yad2xx&quot; for short. I definitely recommend it!\r\n\r\nhttps://github.com/aushacker/yad2xx/tree/master\r\n\r\nUsing the files in that repository I was able to get everything set up and running in my Eclipse environment, and was able to make function calls from my own program.","title":"Java Library for FTDI FT260 USB-I2C Bridge","body":"<p>I recently found a library that not only has all of the required Java files, but also includes examples and a variety of other resources. Documentation is quite good as well. It's &quot;Yet Another D2xx Library&quot;, or &quot;yad2xx&quot; for short. I definitely recommend it!</p>\n<p><a href=\"https://github.com/aushacker/yad2xx/tree/master\" rel=\"nofollow noreferrer\">https://github.com/aushacker/yad2xx/tree/master</a></p>\n<p>Using the files in that repository I was able to get everything set up and running in my Eclipse environment, and was able to make function calls from my own program.</p>\n"}],"owner":{"account_id":3582271,"reputation":1321,"user_id":2990189,"accept_rate":77,"display_name":"DerStrom8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77131171,"answer_count":1,"score":0,"last_activity_date":1695086334,"creation_date":1694811786,"question_id":77115340,"body_markdown":"I am attempting to communicate with some I2C-controlled IO expanders on a circuit board over a USB/I2C bus from my PC with the aid of the FTDI FT260Q USB to I2C bridge IC. Below are a couple of useful documents I was able to locate:\r\n\r\n- Datasheet: https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf\r\n\r\n- User Guide: https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf\r\n\r\nThe FTDI website mentions a Java implementation of the D2XX drivers, and provides the following links:\r\n\r\n- FTDI &quot;Other Platform Examples&quot;: https://ftdichip.com/software-examples/code-examples/other-platform-examples/\r\n\r\n- Third-party library &quot;FTD2XXJ&quot;: https://sourceforge.net/projects/ftd2xxj/\r\n\r\nNow comes my problem: I have no idea where to begin. I already have a Java project I am working on and have reached the point where I click a button inside a JFrame which is supposed to configure the IO expanders, but the event listener is empty. That is to say, now that the JButton can be pressed, I need it to send commands to configure the devices for the proper I/O settings. I have a general idea of how to format I2C commands, so what I am looking to do now is to somehow have my Java program connect to the COM port (enumerated when the circuit board is plugged in via a USB cable), and be able to send I2C commands from the PC to the USB side of the bridge chip, so that they can then be properly translated to the I2C bus on the other side of the bridge chip.\r\n\r\nI downloaded the FTD2xxj file from the SourceForge link I found on the FTDI website, but that is as far as I have gotten. I was unable to find any instructions for how to set up the library (are specific locations required for the different items in the downloaded ZIP file? Which ones do I need? How do I add them to my project? Is it the same as I would add another external JAR, by going to ***Project -&gt; Properties -&gt; Java Build Path -&gt; Libraries*** and adding them from there? Will this even work for the FT260?\r\n\r\nIt has been a long time since I last worked in Eclipse (or Java, for that matter), so I am having to re-learn as I go. Please pardon my ignorance.\r\n\r\nThe contents of the ZIP file downloaded form SourceForge can be seen in the screenshots below:\r\n\r\nTop level:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFeatures:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPlugins:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWeb:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nI would have tried the forum mentioned on SourceForge, except it does not appear to be well maintained, and the last activity seems to have been in 2013.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fH6jz.png\r\n  [2]: https://i.stack.imgur.com/ct5ER.png\r\n  [3]: https://i.stack.imgur.com/JXYJF.png\r\n  [4]: https://i.stack.imgur.com/wnT1O.png","title":"Java Library for FTDI FT260 USB-I2C Bridge","body":"<p>I am attempting to communicate with some I2C-controlled IO expanders on a circuit board over a USB/I2C bus from my PC with the aid of the FTDI FT260Q USB to I2C bridge IC. Below are a couple of useful documents I was able to locate:</p>\n<ul>\n<li><p>Datasheet: <a href=\"https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf\" rel=\"nofollow noreferrer\">https://www.ftdichip.com/Support/Documents/DataSheets/ICs/DS_FT260.pdf</a></p>\n</li>\n<li><p>User Guide: <a href=\"https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf\" rel=\"nofollow noreferrer\">https://ftdichip.com/wp-content/uploads/2020/08/AN_394_User_Guide_for_FT260.pdf</a></p>\n</li>\n</ul>\n<p>The FTDI website mentions a Java implementation of the D2XX drivers, and provides the following links:</p>\n<ul>\n<li><p>FTDI &quot;Other Platform Examples&quot;: <a href=\"https://ftdichip.com/software-examples/code-examples/other-platform-examples/\" rel=\"nofollow noreferrer\">https://ftdichip.com/software-examples/code-examples/other-platform-examples/</a></p>\n</li>\n<li><p>Third-party library &quot;FTD2XXJ&quot;: <a href=\"https://sourceforge.net/projects/ftd2xxj/\" rel=\"nofollow noreferrer\">https://sourceforge.net/projects/ftd2xxj/</a></p>\n</li>\n</ul>\n<p>Now comes my problem: I have no idea where to begin. I already have a Java project I am working on and have reached the point where I click a button inside a JFrame which is supposed to configure the IO expanders, but the event listener is empty. That is to say, now that the JButton can be pressed, I need it to send commands to configure the devices for the proper I/O settings. I have a general idea of how to format I2C commands, so what I am looking to do now is to somehow have my Java program connect to the COM port (enumerated when the circuit board is plugged in via a USB cable), and be able to send I2C commands from the PC to the USB side of the bridge chip, so that they can then be properly translated to the I2C bus on the other side of the bridge chip.</p>\n<p>I downloaded the FTD2xxj file from the SourceForge link I found on the FTDI website, but that is as far as I have gotten. I was unable to find any instructions for how to set up the library (are specific locations required for the different items in the downloaded ZIP file? Which ones do I need? How do I add them to my project? Is it the same as I would add another external JAR, by going to <em><strong>Project -&gt; Properties -&gt; Java Build Path -&gt; Libraries</strong></em> and adding them from there? Will this even work for the FT260?</p>\n<p>It has been a long time since I last worked in Eclipse (or Java, for that matter), so I am having to re-learn as I go. Please pardon my ignorance.</p>\n<p>The contents of the ZIP file downloaded form SourceForge can be seen in the screenshots below:</p>\n<p>Top level:</p>\n<p><a href=\"https://i.stack.imgur.com/fH6jz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fH6jz.png\" alt=\"enter image description here\" /></a></p>\n<p>Features:</p>\n<p><a href=\"https://i.stack.imgur.com/ct5ER.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ct5ER.png\" alt=\"enter image description here\" /></a></p>\n<p>Plugins:</p>\n<p><a href=\"https://i.stack.imgur.com/JXYJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXYJF.png\" alt=\"enter image description here\" /></a></p>\n<p>Web:</p>\n<p><a href=\"https://i.stack.imgur.com/wnT1O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wnT1O.png\" alt=\"enter image description here\" /></a></p>\n<p>I would have tried the forum mentioned on SourceForge, except it does not appear to be well maintained, and the last activity seems to have been in 2013.</p>\n"},{"tags":["java","spring-boot","jackson","webclient","spring-webclient"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1695072291,"post_id":77130365,"comment_id":135972779,"body_markdown":"What means &quot;it didn&#39;t work&quot;? What is the expected result?","body":"What means &quot;it didn&#39;t work&quot;? What is the expected result?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1695229390,"post_id":77130365,"comment_id":135997731,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695083947,"creation_date":1695083947,"answer_id":77131061,"question_id":77130365,"body_markdown":"To handle the polymorphic deserialization of *animalSpec* in your *AnimalData* class, you&#39;ll need to provide Jackson with additional information about the type of the subclass being used. This can be achieved using annotations or a custom deserializer.\r\n\r\n 1. Add Jackson Annotations: In your *Animal* class, add a ***@JsonTypeInfo*** annotation with ***use = JsonTypeInfo.Id.NAME*** and ***include = JsonTypeInfo.As.PROPERTY***. This will include a type identifier in the JSON for deserialization. (In this example, I&#39;m assuming that the type identifier in the JSON is named &quot;type&quot;. You can adjust the property attribute accordingly if it&#39;s named differently in your actual JSON.)\r\n\r\n        public class Animal {\r\n        // ... existing code ...\r\n    \r\n        @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n        protected String sound;\r\n    \r\n        // ... existing code ...}\r\n\r\n 2. Add Subtype Annotations: In each of your subclass (*Cat* and *Dog*), add a ***@JsonTypeName*** annotation with a unique name.\r\n\r\n        @JsonTypeName(&quot;dog&quot;) \r\n        public class Dog extends Animal{\r\n        // ... existing code ...}\r\n    \r\n\r\n 3. Deserialize with ObjectMapper: When you receive the JSON response and need to deserialize it, use an ***ObjectMapper*** with ***@JsonTypeInfo*** support:\r\n\r\n    ```\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    objectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\r\n    AnimalData animalData = objectMapper.readValue(jsonString, AnimalData.class);\r\n    ```\r\n\r\nThe ***enableDefaultTyping*** method is used to configure the ***ObjectMapper*** to include type information in the serialized JSON.\r\n","title":"Spring Boot WebClient Superclass Deserialization","body":"<p>To handle the polymorphic deserialization of <em>animalSpec</em> in your <em>AnimalData</em> class, you'll need to provide Jackson with additional information about the type of the subclass being used. This can be achieved using annotations or a custom deserializer.</p>\n<ol>\n<li><p>Add Jackson Annotations: In your <em>Animal</em> class, add a <em><strong>@JsonTypeInfo</strong></em> annotation with <em><strong>use = JsonTypeInfo.Id.NAME</strong></em> and <em><strong>include = JsonTypeInfo.As.PROPERTY</strong></em>. This will include a type identifier in the JSON for deserialization. (In this example, I'm assuming that the type identifier in the JSON is named &quot;type&quot;. You can adjust the property attribute accordingly if it's named differently in your actual JSON.)</p>\n<pre><code>public class Animal {\n// ... existing code ...\n\n@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\nprotected String sound;\n\n// ... existing code ...}\n</code></pre>\n</li>\n<li><p>Add Subtype Annotations: In each of your subclass (<em>Cat</em> and <em>Dog</em>), add a <em><strong>@JsonTypeName</strong></em> annotation with a unique name.</p>\n<pre><code>@JsonTypeName(&quot;dog&quot;) \npublic class Dog extends Animal{\n// ... existing code ...}\n</code></pre>\n</li>\n<li><p>Deserialize with ObjectMapper: When you receive the JSON response and need to deserialize it, use an <em><strong>ObjectMapper</strong></em> with <em><strong>@JsonTypeInfo</strong></em> support:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);\nAnimalData animalData = objectMapper.readValue(jsonString, AnimalData.class);\n</code></pre>\n</li>\n</ol>\n<p>The <em><strong>enableDefaultTyping</strong></em> method is used to configure the <em><strong>ObjectMapper</strong></em> to include type information in the serialized JSON.</p>\n"}],"owner":{"account_id":16549869,"reputation":1,"user_id":11958482,"display_name":"sys_omega"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695083947,"creation_date":1695070774,"question_id":77130365,"body_markdown":"I have a WebClient that gets from an API a response in which one of its fields is the superclass of many other subclasses. For example, lets say that I have a class\r\n\r\n```\r\npublic class Animal {\r\n  protected String sound;\r\n\r\n  public Animal() {\r\n  }\r\n\r\n  public String getSound() {\r\n    return sound;\r\n  }\r\n\r\n  public void setSound(String sound) {\r\n    this.sound = sound;\r\n  }\r\n}\r\n```\r\n\r\nand a couple of subclasses (please, this is just an example)\r\n\r\n\r\n```\r\npublic class Cat extends Animal {\r\n  private String catHouseNumber;\r\n\r\n  public Cat() {\r\n    this.sound = &quot;miau&quot;;\r\n  }\r\n\r\n  public String getCatHouseNumber() {\r\n    return catHouseNumber;\r\n  }\r\n\r\n  public void setCatHouseNumber(String catHouseNumber) {\r\n    this.catHouseNumber = catHouseNumber;\r\n  }\r\n}\r\n```\r\n\r\n```\r\npublic class Dog extends Animal {\r\n\r\n  private String dogDesc;\r\n\r\n  public Dog() {\r\n    this.sound = &quot;guau&quot;;\r\n  }\r\n\r\n  public String getDogDesc() {\r\n    return dogDesc;\r\n  }\r\n\r\n  public void setDogDesc(String dogDesc) {\r\n    this.dogDesc = dogDesc;\r\n  }\r\n}\r\n```\r\n\r\nThen, the response class looks like this\r\n\r\n```\r\npublic class AnimalData {\r\n  private int id;\r\n  private int age;\r\n  private int name;\r\n  private Animal animalSpec;\r\n\r\n  public AnimalData() {\r\n  }\r\n\r\n  public int getId() {\r\n    return id;\r\n  }\r\n\r\n  public void setId(int id) {\r\n    this.id = id;\r\n  }\r\n\r\n  public int getAge() {\r\n    return age;\r\n  }\r\n\r\n  public void setAge(int age) {\r\n    this.age = age;\r\n  }\r\n\r\n  public int getName() {\r\n    return name;\r\n  }\r\n\r\n  public void setName(int name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public Animal getAnimalSpec() {\r\n    return animalSpec;\r\n  }\r\n\r\n  public void setAnimalSpec(Animal animalSpec) {\r\n    this.animalSpec = animalSpec;\r\n  }\r\n}\r\n```\r\n\r\nWhen I make the call with webclient.get()... I need to deserialize &#39;animalSpec&#39;, in AnimalData class, to one of Dog or Cat\r\n\r\n\r\n\r\n\r\nI tried to customize an ObjectMapper but it didn&#39;t work","title":"Spring Boot WebClient Superclass Deserialization","body":"<p>I have a WebClient that gets from an API a response in which one of its fields is the superclass of many other subclasses. For example, lets say that I have a class</p>\n<pre><code>public class Animal {\n  protected String sound;\n\n  public Animal() {\n  }\n\n  public String getSound() {\n    return sound;\n  }\n\n  public void setSound(String sound) {\n    this.sound = sound;\n  }\n}\n</code></pre>\n<p>and a couple of subclasses (please, this is just an example)</p>\n<pre><code>public class Cat extends Animal {\n  private String catHouseNumber;\n\n  public Cat() {\n    this.sound = &quot;miau&quot;;\n  }\n\n  public String getCatHouseNumber() {\n    return catHouseNumber;\n  }\n\n  public void setCatHouseNumber(String catHouseNumber) {\n    this.catHouseNumber = catHouseNumber;\n  }\n}\n</code></pre>\n<pre><code>public class Dog extends Animal {\n\n  private String dogDesc;\n\n  public Dog() {\n    this.sound = &quot;guau&quot;;\n  }\n\n  public String getDogDesc() {\n    return dogDesc;\n  }\n\n  public void setDogDesc(String dogDesc) {\n    this.dogDesc = dogDesc;\n  }\n}\n</code></pre>\n<p>Then, the response class looks like this</p>\n<pre><code>public class AnimalData {\n  private int id;\n  private int age;\n  private int name;\n  private Animal animalSpec;\n\n  public AnimalData() {\n  }\n\n  public int getId() {\n    return id;\n  }\n\n  public void setId(int id) {\n    this.id = id;\n  }\n\n  public int getAge() {\n    return age;\n  }\n\n  public void setAge(int age) {\n    this.age = age;\n  }\n\n  public int getName() {\n    return name;\n  }\n\n  public void setName(int name) {\n    this.name = name;\n  }\n\n  public Animal getAnimalSpec() {\n    return animalSpec;\n  }\n\n  public void setAnimalSpec(Animal animalSpec) {\n    this.animalSpec = animalSpec;\n  }\n}\n</code></pre>\n<p>When I make the call with webclient.get()... I need to deserialize 'animalSpec', in AnimalData class, to one of Dog or Cat</p>\n<p>I tried to customize an ObjectMapper but it didn't work</p>\n"},{"tags":["java","maven","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":22264444,"reputation":1,"user_id":16495935,"display_name":"appmac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695082522,"creation_date":1695078813,"answer_id":77130837,"question_id":77130813,"body_markdown":"Instead of going through the hassle of editing many files, an &quot;update&quot; repository button seems to be available in the IDE. \r\n\r\n**File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories**\r\n\r\n[Update Repository (Maven)][1]\r\n\r\n\r\nThis fixed my problem, it redownloaded/reindexes packages.\r\n\r\nThanks StackOverflow!\r\n\r\n###################################################\r\n# # EDIT: The problem is back, in force! \r\nI don&#39;t understand why he can&#39;t resolve a &quot;Google&quot; import statement, this is weird. Must be because of folders I deleted. Guess I&#39;ll need to reimport everything?\r\n###################################################\r\n\r\n# # EDIT2: The problem is solved!\r\nI found out that while deleting and moving folders, I forgot to fix the folder path for the &quot;folder library&quot; added in the module.\r\n\r\nI found out that the libraries added to the modules, via windows folder/browse, doesn&#39;t automatically get remapped like some using the $PROJECT_Dir.\r\n\r\nThe &quot;now-readded&quot; libraries are resolving fine, even at runtime.\r\n\r\nFix: \r\n1. Open your problematic project.\r\n2. Open the &quot;Porject Structure&quot;\r\n3. Add a new library (see picture 1: [picture 1][2])\r\n4. Browse the &quot;now-fixed&quot; path\r\n5. Apply &amp; Reload Maven Project\r\n6. If needed, &quot;update&quot; the Maven repository in &quot;Settings&quot; in my upper post.\r\n\r\nHopefully this will fix your problem too, I added some tracks in my upper post if that still doesn&#39;t fix it for you.\r\n\r\nGood luck on your journey!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9qwkj.png\r\n  [2]: https://i.stack.imgur.com/8Ty6L.png","title":"IntelliJ: Java: Package does not exist (Maven)","body":"<p>Instead of going through the hassle of editing many files, an &quot;update&quot; repository button seems to be available in the IDE.</p>\n<p><strong>File &gt; Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven &gt; Repositories</strong></p>\n<p><a href=\"https://i.stack.imgur.com/9qwkj.png\" rel=\"nofollow noreferrer\">Update Repository (Maven)</a></p>\n<p>This fixed my problem, it redownloaded/reindexes packages.</p>\n<p>Thanks StackOverflow!</p>\n<p>###################################################</p>\n<h1># EDIT: The problem is back, in force!</h1>\n<p>I don't understand why he can't resolve a &quot;Google&quot; import statement, this is weird. Must be because of folders I deleted. Guess I'll need to reimport everything?\n###################################################</p>\n<h1># EDIT2: The problem is solved!</h1>\n<p>I found out that while deleting and moving folders, I forgot to fix the folder path for the &quot;folder library&quot; added in the module.</p>\n<p>I found out that the libraries added to the modules, via windows folder/browse, doesn't automatically get remapped like some using the $PROJECT_Dir.</p>\n<p>The &quot;now-readded&quot; libraries are resolving fine, even at runtime.</p>\n<p>Fix:</p>\n<ol>\n<li>Open your problematic project.</li>\n<li>Open the &quot;Porject Structure&quot;</li>\n<li>Add a new library (see picture 1: <a href=\"https://i.stack.imgur.com/8Ty6L.png\" rel=\"nofollow noreferrer\">picture 1</a>)</li>\n<li>Browse the &quot;now-fixed&quot; path</li>\n<li>Apply &amp; Reload Maven Project</li>\n<li>If needed, &quot;update&quot; the Maven repository in &quot;Settings&quot; in my upper post.</li>\n</ol>\n<p>Hopefully this will fix your problem too, I added some tracks in my upper post if that still doesn't fix it for you.</p>\n<p>Good luck on your journey!</p>\n"}],"owner":{"account_id":22264444,"reputation":1,"user_id":16495935,"display_name":"appmac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1695082522,"creation_date":1695078364,"question_id":77130813,"body_markdown":"I got this error several times, palying with the .m2 and .gradle directory files (too huge/deletion)\r\n\r\n[Error.jpeg](https://i.stack.imgur.com/AKHgz.png)\r\n\r\n\r\n\r\n\r\n\r\nAfter trying many solutions on the web error was still there... (invalidating caches, mvn clean/install, etc...)\r\n\r\nRefer to this guy thanking &quot;Andrey&quot;: https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200\r\n\r\n&quot;Andrey&quot; post: https://stackoverflow.com/questions/60990976/cant-compile-run-a-java-project-in-intellij?noredirect=1#comment108874882_60990976\r\n\r\n*if you follow the link chain and read carefully, you may need to play with the IDE/files (path.macros.xml) and repositories hard links in files... still wondering why it bugs out so much only for moving a couple folder for a so intelligent dev env.\r\n\r\nthanks for any help! (it also doesn&#39;t find packages in pure java projects (no mvn/gradle))","title":"IntelliJ: Java: Package does not exist (Maven)","body":"<p>I got this error several times, palying with the .m2 and .gradle directory files (too huge/deletion)</p>\n<p><a href=\"https://i.stack.imgur.com/AKHgz.png\" rel=\"nofollow noreferrer\">Error.jpeg</a></p>\n<p>After trying many solutions on the web error was still there... (invalidating caches, mvn clean/install, etc...)</p>\n<p>Refer to this guy thanking &quot;Andrey&quot;: <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200\" rel=\"nofollow noreferrer\">https://intellij-support.jetbrains.com/hc/en-us/community/posts/203365204/comments/360001626200</a></p>\n<p>&quot;Andrey&quot; post: <a href=\"https://stackoverflow.com/questions/60990976/cant-compile-run-a-java-project-in-intellij?noredirect=1#comment108874882_60990976\">Can&#39;t compile/run a java project in IntelliJ</a></p>\n<p>*if you follow the link chain and read carefully, you may need to play with the IDE/files (path.macros.xml) and repositories hard links in files... still wondering why it bugs out so much only for moving a couple folder for a so intelligent dev env.</p>\n<p>thanks for any help! (it also doesn't find packages in pure java projects (no mvn/gradle))</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9957,"page":177,"page_size":100}
