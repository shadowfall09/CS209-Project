{"items":[{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1678578843,"post_id":75710147,"comment_id":133561495,"body_markdown":"How the root of the FXML file is aligned in whatever contains it is determined by setting on the thing that contains it, not on settings on the thing itself. If it’s used directly as the root of the scene, it will be resized to fill the entire scene (no matter what it’s preferred, minimum, or maximum sizes are). So in this case it is already “in the middle of the window”, albeit in a trivial sense (there is no space around it). You are probably asking the wrong question here. Create and post a [mre] demonstrating the problem. Why are you using an `AnchorPane`?","body":"How the root of the FXML file is aligned in whatever contains it is determined by setting on the thing that contains it, not on settings on the thing itself. If it’s used directly as the root of the scene, it will be resized to fill the entire scene (no matter what it’s preferred, minimum, or maximum sizes are). So in this case it is already “in the middle of the window”, albeit in a trivial sense (there is no space around it). You are probably asking the wrong question here. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. Why are you using an <code>AnchorPane</code>?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1678579761,"post_id":75710147,"comment_id":133561580,"body_markdown":"`StackPane` is a convenient alternative, as it &quot;defaults to `Pos.CENTER`.&quot;","body":"<code>StackPane</code> is a convenient alternative, as it &quot;defaults to <code>Pos.CENTER</code>.&quot;"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1678579885,"post_id":75710147,"comment_id":133561600,"body_markdown":"In the middle of the window… by itself?  Nothing else is in that window?","body":"In the middle of the window… by itself?  Nothing else is in that window?"},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1678580151,"post_id":75710147,"comment_id":133561624,"body_markdown":"Thank you, i am using an anchorpane because i have several elements, for example, two pieces must always be at a certain corner and must not move, so two panels and that works best if i have an anchorpane before and then put the two panels at the two corners.","body":"Thank you, i am using an anchorpane because i have several elements, for example, two pieces must always be at a certain corner and must not move, so two panels and that works best if i have an anchorpane before and then put the two panels at the two corners."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1678580560,"post_id":75710147,"comment_id":133561652,"body_markdown":"But that contradicts what is in your picture. The black panel is not in a corner.","body":"But that contradicts what is in your picture. The black panel is not in a corner."},{"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"score":0,"creation_date":1678581155,"post_id":75710147,"comment_id":133561700,"body_markdown":"Yes, putting elements in the corner is not a problem for me either. That is possible. I just can&#39;t put one perfectly in the center as it should be demonstrated with the black bar. IF I put an element in the center and then resize the window, it is no longer in the center. The thing about the elements in the corners was related to your question about why I use an anchor panel. I use it because in addition to the element in the center, I also place elements in the corners.","body":"Yes, putting elements in the corner is not a problem for me either. That is possible. I just can&#39;t put one perfectly in the center as it should be demonstrated with the black bar. IF I put an element in the center and then resize the window, it is no longer in the center. The thing about the elements in the corners was related to your question about why I use an anchor panel. I use it because in addition to the element in the center, I also place elements in the corners."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678667724,"post_id":75710147,"comment_id":133572995,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678726322,"creation_date":1678726322,"answer_id":75724746,"question_id":75710147,"body_markdown":"Using AnchorPane is not recommended.  As you have discovered, setting exact locations and sizes does not work when the window’s size changes.\r\n\r\n[Layouts](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/package-summary.html) are designed to address this problem.  As trashgod pointed out, a [StackPane](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/StackPane.html) will center its contents by default.  [BorderPane](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html)s can be used to position nodes at the corners:\r\n\r\n    import javafx.application.Application;\r\n\r\n    import javafx.scene.Scene;\r\n\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.StackPane;\r\n\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.scene.paint.Color;\r\n\r\n    import javafx.stage.Stage;\r\n\r\n    public class CornersAndCenterDemo\r\n    extends Application {\r\n        @Override\r\n        public void start(Stage stage) {\r\n            Rectangle centerRect = createRectangle();\r\n\r\n            Rectangle topLeftRect = createRectangle();\r\n            Rectangle topRightRect = createRectangle();\r\n\r\n            Rectangle bottomLeftRect = createRectangle();\r\n            Rectangle bottomRightRect = createRectangle();\r\n\r\n            StackPane centerPane = new StackPane(centerRect);\r\n\r\n            BorderPane topPane = new BorderPane();\r\n            topPane.setLeft(topLeftRect);\r\n            topPane.setRight(topRightRect);\r\n\r\n            BorderPane bottomPane = new BorderPane();\r\n            bottomPane.setLeft(bottomLeftRect);\r\n            bottomPane.setRight(bottomRightRect);\r\n\r\n            BorderPane cornersAndCenter = new BorderPane();\r\n            cornersAndCenter.setCenter(centerPane);\r\n            cornersAndCenter.setTop(topPane);\r\n            cornersAndCenter.setBottom(bottomPane);\r\n\r\n            Scene scene = new Scene(cornersAndCenter, 800, 800);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Corners and Center&quot;);\r\n            stage.show();\r\n        }\r\n\r\n        private Rectangle createRectangle() {\r\n            Rectangle rect = new Rectangle(0, 0, 150, 150);\r\n            rect.setFill(Color.BLACK);\r\n            return rect;\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(CornersAndCenterDemo.class, args);\r\n        }\r\n    }\r\n\r\nIf you prefer to use SceneBuilder, the FXML would look something like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;?import javafx.scene.layout.BorderPane?&gt;\r\n    &lt;?import javafx.scene.layout.StackPane?&gt;\r\n    &lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n    &lt;BorderPane xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;CornersAndCenterController&quot;&gt;\r\n        &lt;center&gt;\r\n            &lt;StackPane&gt;\r\n                &lt;children&gt;\r\n                    &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\r\n                &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n        &lt;/center&gt;\r\n        &lt;top&gt;\r\n            &lt;BorderPane&gt;\r\n                &lt;left&gt;\r\n                    &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\r\n                &lt;/left&gt;\r\n                &lt;right&gt;\r\n                    &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\r\n                &lt;/right&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/top&gt;\r\n        &lt;bottom&gt;\r\n            &lt;BorderPane&gt;\r\n                &lt;left&gt;\r\n                    &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\r\n                &lt;/left&gt;\r\n                &lt;right&gt;\r\n                    &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\r\n                &lt;/right&gt;\r\n            &lt;/BorderPane&gt;\r\n        &lt;/bottom&gt;\r\n    &lt;/BorderPane&gt;\r\n\r\nAnd the code would just be:\r\n\r\n    import java.io.IOException;\r\n\r\n    import javafx.application.Application;\r\n\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.Region;\r\n\r\n    import javafx.stage.Stage;\r\n\r\n    import javafx.fxml.FXMLLoader;\r\n\r\n    public class CornersAndCenterController\r\n    extends Application {\r\n        @Override\r\n        public void start(Stage stage)\r\n        throws IOException {\r\n            Region cornersAndCenter = FXMLLoader.load(\r\n                CornersAndCenterController.class.getResource(\r\n                    &quot;CornersAndCenterDemo.fxml&quot;));\r\n\r\n            Scene scene = new Scene(cornersAndCenter, 800, 800);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Corners and Center&quot;);\r\n            stage.show();\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            launch(CornersAndCenterController.class, args);\r\n        }\r\n    }\r\n","title":"How to set the alignment of an panel","body":"<p>Using AnchorPane is not recommended.  As you have discovered, setting exact locations and sizes does not work when the window’s size changes.</p>\n<p><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/package-summary.html\" rel=\"nofollow noreferrer\">Layouts</a> are designed to address this problem.  As trashgod pointed out, a <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/StackPane.html\" rel=\"nofollow noreferrer\">StackPane</a> will center its contents by default.  <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/BorderPane.html\" rel=\"nofollow noreferrer\">BorderPane</a>s can be used to position nodes at the corners:</p>\n<pre><code>import javafx.application.Application;\n\nimport javafx.scene.Scene;\n\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.StackPane;\n\nimport javafx.scene.shape.Rectangle;\nimport javafx.scene.paint.Color;\n\nimport javafx.stage.Stage;\n\npublic class CornersAndCenterDemo\nextends Application {\n    @Override\n    public void start(Stage stage) {\n        Rectangle centerRect = createRectangle();\n\n        Rectangle topLeftRect = createRectangle();\n        Rectangle topRightRect = createRectangle();\n\n        Rectangle bottomLeftRect = createRectangle();\n        Rectangle bottomRightRect = createRectangle();\n\n        StackPane centerPane = new StackPane(centerRect);\n\n        BorderPane topPane = new BorderPane();\n        topPane.setLeft(topLeftRect);\n        topPane.setRight(topRightRect);\n\n        BorderPane bottomPane = new BorderPane();\n        bottomPane.setLeft(bottomLeftRect);\n        bottomPane.setRight(bottomRightRect);\n\n        BorderPane cornersAndCenter = new BorderPane();\n        cornersAndCenter.setCenter(centerPane);\n        cornersAndCenter.setTop(topPane);\n        cornersAndCenter.setBottom(bottomPane);\n\n        Scene scene = new Scene(cornersAndCenter, 800, 800);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Corners and Center&quot;);\n        stage.show();\n    }\n\n    private Rectangle createRectangle() {\n        Rectangle rect = new Rectangle(0, 0, 150, 150);\n        rect.setFill(Color.BLACK);\n        return rect;\n    }\n\n    public static void main(String[] args) {\n        launch(CornersAndCenterDemo.class, args);\n    }\n}\n</code></pre>\n<p>If you prefer to use SceneBuilder, the FXML would look something like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n&lt;BorderPane xmlns=&quot;http://javafx.com/javafx/8&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;CornersAndCenterController&quot;&gt;\n    &lt;center&gt;\n        &lt;StackPane&gt;\n            &lt;children&gt;\n                &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\n            &lt;/children&gt;\n        &lt;/StackPane&gt;\n    &lt;/center&gt;\n    &lt;top&gt;\n        &lt;BorderPane&gt;\n            &lt;left&gt;\n                &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\n            &lt;/left&gt;\n            &lt;right&gt;\n                &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\n            &lt;/right&gt;\n        &lt;/BorderPane&gt;\n    &lt;/top&gt;\n    &lt;bottom&gt;\n        &lt;BorderPane&gt;\n            &lt;left&gt;\n                &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\n            &lt;/left&gt;\n            &lt;right&gt;\n                &lt;Rectangle style=&quot;-fx-fill: black;&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;150&quot; height=&quot;150&quot;/&gt;\n            &lt;/right&gt;\n        &lt;/BorderPane&gt;\n    &lt;/bottom&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>And the code would just be:</p>\n<pre><code>import java.io.IOException;\n\nimport javafx.application.Application;\n\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Region;\n\nimport javafx.stage.Stage;\n\nimport javafx.fxml.FXMLLoader;\n\npublic class CornersAndCenterController\nextends Application {\n    @Override\n    public void start(Stage stage)\n    throws IOException {\n        Region cornersAndCenter = FXMLLoader.load(\n            CornersAndCenterController.class.getResource(\n                &quot;CornersAndCenterDemo.fxml&quot;));\n\n        Scene scene = new Scene(cornersAndCenter, 800, 800);\n        stage.setScene(scene);\n        stage.setTitle(&quot;Corners and Center&quot;);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(CornersAndCenterController.class, args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27900049,"reputation":1,"user_id":21304525,"display_name":"markusnether"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678726322,"creation_date":1678576381,"question_id":75710147,"body_markdown":"I have set a panel in SceneBuilder; this should always be in the middle of the window. How do I do this?\r\n\r\nI tried to set the anchor pane constraints, because my panel is in an anchor pane; but then the size of my panel changes, and I don&#39;t really want that.\r\n\r\n[Example what happens][1]\r\nFor example, the black panel does not stay in the center. But it&#39;s not even necessarily about the panel, if I use a rectangle instead of the panel, it doesn&#39;t stay positioned in the middle either, I need a square exactly in the middle for design reasons.\r\n\r\n  [1]: https://i.stack.imgur.com/UbGpB.png","title":"How to set the alignment of an panel","body":"<p>I have set a panel in SceneBuilder; this should always be in the middle of the window. How do I do this?</p>\n<p>I tried to set the anchor pane constraints, because my panel is in an anchor pane; but then the size of my panel changes, and I don't really want that.</p>\n<p><a href=\"https://i.stack.imgur.com/UbGpB.png\" rel=\"nofollow noreferrer\">Example what happens</a>\nFor example, the black panel does not stay in the center. But it's not even necessarily about the panel, if I use a rectangle instead of the panel, it doesn't stay positioned in the middle either, I need a square exactly in the middle for design reasons.</p>\n"},{"tags":["java","jpa","weblogic14c"],"owner":{"account_id":28007458,"reputation":1,"user_id":21390609,"display_name":"Sakthi Vel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678726017,"creation_date":1678725869,"question_id":75724680,"body_markdown":"\r\nWe are updating weblogic12c to weblogic14c, Here we are having one super class with common fields in common jar. It will be extended by sub classed from other jars. \r\n\r\n\r\n****Super Class**(common.jar)**\r\n\r\n    package com.common.entity;\r\n    imports;\r\n    \r\n    @MappedSuperclass\r\n    public class ConsumerBase {\r\n    \r\n      @Column(name=&quot;LAST_MODIFY_BY&quot;)\r\n      private String lastModifiedBy;\r\n    \r\n      // Getters/setters.\r\n    \r\n    }\r\n\r\n**Sub Class**(consumer.jar)\r\n\r\n    package com.consumer.entity\r\n    imports;\r\n    \r\n    @Entity\r\n    public class Consumer extends ConsumerBase {\r\n    \r\n    \r\n      @Id\r\n      private long id;\r\n    \r\n      @Column(name=&quot;CODE&quot;)\r\n      private String code;\r\n    \r\n      // Getters/setters.\r\n    \r\n    }\r\n\r\nSuper class is annotated with @MappedSuperClass &amp; Sub class is annotated with @Entity. Everything is working fine in weblogic 12c(Entity Manager find, persist, merge).\r\n\r\nDuring weblogic14c, Entity Manager find is not considering @MappedSuperClass fields which is placed in another jar. I have added the jars information in persistence.xml also. But @MappedSuperClass fields are treated as Transient fields. \r\n\r\nIf i placed @MappedSuperClass class in the same jar everything is fine. But system is not considering the other jar.\r\n\r\nI have tried Access Type annotations also, still facing the same problem. Java 8 is used for compilation. \r\n\r\n\r\n\r\n\r\n\r\n","title":"@MappedSuperClass is not working in Weblogic 14c","body":"<p>We are updating weblogic12c to weblogic14c, Here we are having one super class with common fields in common jar. It will be extended by sub classed from other jars.</p>\n<p><strong><strong>Super Class</strong>(common.jar)</strong></p>\n<pre><code>package com.common.entity;\nimports;\n\n@MappedSuperclass\npublic class ConsumerBase {\n\n  @Column(name=&quot;LAST_MODIFY_BY&quot;)\n  private String lastModifiedBy;\n\n  // Getters/setters.\n\n}\n</code></pre>\n<p><strong>Sub Class</strong>(consumer.jar)</p>\n<pre><code>package com.consumer.entity\nimports;\n\n@Entity\npublic class Consumer extends ConsumerBase {\n\n\n  @Id\n  private long id;\n\n  @Column(name=&quot;CODE&quot;)\n  private String code;\n\n  // Getters/setters.\n\n}\n</code></pre>\n<p>Super class is annotated with @MappedSuperClass &amp; Sub class is annotated with @Entity. Everything is working fine in weblogic 12c(Entity Manager find, persist, merge).</p>\n<p>During weblogic14c, Entity Manager find is not considering @MappedSuperClass fields which is placed in another jar. I have added the jars information in persistence.xml also. But @MappedSuperClass fields are treated as Transient fields.</p>\n<p>If i placed @MappedSuperClass class in the same jar everything is fine. But system is not considering the other jar.</p>\n<p>I have tried Access Type annotations also, still facing the same problem. Java 8 is used for compilation.</p>\n"},{"tags":["java","performance","prototype-pattern"],"answers":[{"comments":[{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":0,"creation_date":1268383803,"post_id":2427344,"comment_id":2415713,"body_markdown":"Thanks for the link, I knew there were something wrong with this design but I needed some &#39;academic&#39; proofs !","body":"Thanks for the link, I knew there were something wrong with this design but I needed some &#39;academic&#39; proofs !"},{"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"score":1,"creation_date":1277120347,"post_id":2427344,"comment_id":3161111,"body_markdown":"I just have to mitigate the answer: this is not valide for android dev: google best practice promotes the clone / pooling usage vs the object creation","body":"I just have to mitigate the answer: this is not valide for android dev: google best practice promotes the clone / pooling usage vs the object creation"},{"owner":{"account_id":589,"reputation":30827,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"score":1,"creation_date":1277223660,"post_id":2427344,"comment_id":3173272,"body_markdown":"Yes, Android is written with Java, but is not really Java, so that&#39;s technically correct. It&#39;s more accurate to say that object pooling is no longer necessary for Sun&#39;s HotSpot JVM (and others like it). Dalvik is it&#39;s own animal, and Object creation and GC can be expensive and painful on resource constrained devices, so always follow the best practices of your target platform/JVM. (Though, I wish this weren&#39;t the case, it is for now.)","body":"Yes, Android is written with Java, but is not really Java, so that&#39;s technically correct. It&#39;s more accurate to say that object pooling is no longer necessary for Sun&#39;s HotSpot JVM (and others like it). Dalvik is it&#39;s own animal, and Object creation and GC can be expensive and painful on resource constrained devices, so always follow the best practices of your target platform/JVM. (Though, I wish this weren&#39;t the case, it is for now.)"}],"tags":[],"owner":{"account_id":589,"reputation":30827,"user_id":758,"accept_rate":77,"display_name":"Mark Renouf"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1268330197,"creation_date":1268329814,"answer_id":2427344,"question_id":2427317,"body_markdown":"Absolutely, this type of practice is completely obsolete. The Java virtual machine has improved drastically since then. Object creation is extremely cheap. Another related practice, Object Pooling, is also obsolete because the cost of Object creation and cleanup is so much more efficient now. For some cases it might be useful ([Jon Skeet gives some good examples here][1]), but in no way should it be part of a base framework library such as this.\r\n\r\nI would suggest finding some new libraries and/or a new project to work on ;-)\r\n\r\nCheck out this class article [Java Urban Performance Legends][2] for some more insight.\r\n\r\n  [1]: https://stackoverflow.com/questions/680514/object-pooling/680526#680526\r\n  [2]: http://www.ibm.com/developerworks/java/library/j-jtp09275.html?ca=dgr-jw22JavaUrbanLegends ","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>Absolutely, this type of practice is completely obsolete. The Java virtual machine has improved drastically since then. Object creation is extremely cheap. Another related practice, Object Pooling, is also obsolete because the cost of Object creation and cleanup is so much more efficient now. For some cases it might be useful (<a href=\"https://stackoverflow.com/questions/680514/object-pooling/680526#680526\">Jon Skeet gives some good examples here</a>), but in no way should it be part of a base framework library such as this.</p>\n\n<p>I would suggest finding some new libraries and/or a new project to work on ;-)</p>\n\n<p>Check out this class article <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp09275.html?ca=dgr-jw22JavaUrbanLegends\" rel=\"nofollow noreferrer\">Java Urban Performance Legends</a> for some more insight.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268329884,"creation_date":1268329884,"answer_id":2427352,"question_id":2427317,"body_markdown":"No.\r\n\r\nOh, I need more characters for an answer. So let me expand and say that such micro-optimization is inappropriate unless there is a problem, and if there is, then you should be in a position to measure if it makes things better.","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>No.</p>\n\n<p>Oh, I need more characters for an answer. So let me expand and say that such micro-optimization is inappropriate unless there is a problem, and if there is, then you should be in a position to measure if it makes things better.</p>\n"},{"tags":[],"owner":{"account_id":83889,"reputation":26612,"user_id":234901,"accept_rate":97,"display_name":"Enno Shioji"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268330332,"creation_date":1268329944,"answer_id":2427359,"question_id":2427317,"body_markdown":"Gee. That&#39;s one of the worst idea I&#39;ve ever heard.  \r\n\r\nDon&#39;t do weird things. Even if you have measured and see some apparent improvement (well, zero chance of that in this case), think a long time before doing it.. Who knows it will be fixed in the next JVM. Then you are left with some weird piece of code that performs worse, is difficult to read, and some bugs because of that.  \r\n\r\nI mean, it&#39;s not like people developing the JVM are idiots! Use `new`!  \r\n\r\nI think you should get rid of that strange piece of code.\r\n","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>Gee. That's one of the worst idea I've ever heard.  </p>\n\n<p>Don't do weird things. Even if you have measured and see some apparent improvement (well, zero chance of that in this case), think a long time before doing it.. Who knows it will be fixed in the next JVM. Then you are left with some weird piece of code that performs worse, is difficult to read, and some bugs because of that.  </p>\n\n<p>I mean, it's not like people developing the JVM are idiots! Use <code>new</code>!  </p>\n\n<p>I think you should get rid of that strange piece of code.</p>\n"},{"tags":[],"owner":{"account_id":25109,"reputation":6880,"user_id":64301,"accept_rate":92,"display_name":"Tom Neyland"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1268331111,"creation_date":1268330731,"answer_id":2427445,"question_id":2427317,"body_markdown":"As others have said this is an antiquated practice. It is an outdated pattern that unfortunately with the newer JVMs will add more bloat to the code without giving a performance boost.\r\n\r\n\r\nI wish I still had the code so I could share, but a while back I did a simple performance test of this pattern vs using the &#39;new&#39; operator and I found that using the &#39;new&#39; operator was at worst at least as fast as this pattern, and at best faster and more efficient. There may be some edge case my test didn&#39;t cover where this could still be a valid approach, but in general I would say avoid this pattern.\r\n\r\nAnother note though, I would suggest you not worry about this too much if it is present in an existing code base. But also I wouldn&#39;t write new code to extend this pattern for more parts of your project, unless not doing so would hurt the clarity and consistency of your code base- at which point you should evaluate whether or not it would be smart in the long run to refactor this code out of your project. By &#39;smart&#39; I mean, would refactoring this code out of your project save time in the future on development and debugging &gt; the amount of time necessary to refactor this out.","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>As others have said this is an antiquated practice. It is an outdated pattern that unfortunately with the newer JVMs will add more bloat to the code without giving a performance boost.</p>\n\n<p>I wish I still had the code so I could share, but a while back I did a simple performance test of this pattern vs using the 'new' operator and I found that using the 'new' operator was at worst at least as fast as this pattern, and at best faster and more efficient. There may be some edge case my test didn't cover where this could still be a valid approach, but in general I would say avoid this pattern.</p>\n\n<p>Another note though, I would suggest you not worry about this too much if it is present in an existing code base. But also I wouldn't write new code to extend this pattern for more parts of your project, unless not doing so would hurt the clarity and consistency of your code base- at which point you should evaluate whether or not it would be smart in the long run to refactor this code out of your project. By 'smart' I mean, would refactoring this code out of your project save time in the future on development and debugging > the amount of time necessary to refactor this out.</p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678725939,"creation_date":1499932034,"answer_id":45074482,"question_id":2427317,"body_markdown":"I have created [simple benchmark][1] for class `Person`. I am using the latest OpenJDK 8:\r\n\r\n    public class Person {\r\n        private String name;\r\n        private int age;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\nAnd got the following results:\r\n\r\n    Benchmark             Mode  Cnt     Score       Error   Units\r\n\r\n    MyBenchmark.viaClone  avgt   10     10.041 &#177;    0.059   ns/op\r\n    MyBenchmark.viaNew    avgt   10      7.617 &#177;    0.113   ns/op\r\n\r\nThis simple benchmark demonstrates that instantiating a new object and setting corresponding properties from source object takes 25% less time than cloning it.\r\n\r\n\r\n  [1]: https://github.com/aaabramov/benchmark-it/blob/master/src/main/java/com/github/aaabramov/classes/CloneVsNewWithSetters.java","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>I have created <a href=\"https://github.com/aaabramov/benchmark-it/blob/master/src/main/java/com/github/aaabramov/classes/CloneVsNewWithSetters.java\" rel=\"nofollow noreferrer\">simple benchmark</a> for class <code>Person</code>. I am using the latest OpenJDK 8:</p>\n<pre><code>public class Person {\n    private String name;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n<p>And got the following results:</p>\n<pre><code>Benchmark             Mode  Cnt     Score       Error   Units\n\nMyBenchmark.viaClone  avgt   10     10.041 ±    0.059   ns/op\nMyBenchmark.viaNew    avgt   10      7.617 ±    0.113   ns/op\n</code></pre>\n<p>This simple benchmark demonstrates that instantiating a new object and setting corresponding properties from source object takes 25% less time than cloning it.</p>\n"},{"tags":[],"owner":{"account_id":12026001,"reputation":487,"user_id":8797928,"display_name":"Gmugra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508358443,"creation_date":1508358443,"answer_id":46818685,"question_id":2427317,"body_markdown":"My tests with DecimalFormat (OpenJDK 8/Windows/JMH 1.19) shows completely opposite image: \r\n\r\n    Benchmark               Mode  Cnt     Score     Error  Units\r\n    Format.everyTimeCreate  avgt   10  9326.967 &#177; 199.511  us/op\r\n    Format.useClone         avgt   10  5102.397 &#177;  72.993  us/op\r\n    Format.useGlobalWithTL  avgt   10  4605.604 &#177;  59.000  us/op\r\n\r\nLooks like it is not so simple to answer what is perform better.\r\n\r\n","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>My tests with DecimalFormat (OpenJDK 8/Windows/JMH 1.19) shows completely opposite image: </p>\n\n<pre><code>Benchmark               Mode  Cnt     Score     Error  Units\nFormat.everyTimeCreate  avgt   10  9326.967 ± 199.511  us/op\nFormat.useClone         avgt   10  5102.397 ±  72.993  us/op\nFormat.useGlobalWithTL  avgt   10  4605.604 ±  59.000  us/op\n</code></pre>\n\n<p>Looks like it is not so simple to answer what is perform better.</p>\n"}],"owner":{"account_id":81003,"reputation":5487,"user_id":228689,"accept_rate":84,"display_name":"Guillaume"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7200,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2427344,"answer_count":6,"score":9,"last_activity_date":1678725939,"creation_date":1268329603,"question_id":2427317,"body_markdown":"In my project there are some &#39;Prototype&#39; factories that create instances by cloning a final private instance.\r\n\r\nThe author of those factories says that this pattern provides better performance than calling &#39;new&#39; operator.\r\n\r\nUsing google to get some clues about that, I did not found anything relevant.\r\nHere is a small excerpt found in a [javdoc from an unknown project][1]\r\n\r\n&gt; Sadly, clone() is rather slower than\r\n&gt; calling new. However it is a lot\r\n&gt; faster than calling\r\n&gt; java.lang.Class.newInstance(), and\r\n&gt; somewhat faster than rolling our own\r\n&gt; &quot;cloner&quot; method.\r\n\r\nFor me it&#39;s looking like an old best practice of the java 1.1 time. \r\nDoes someone know more about this ? Is this a good practice to use that with &#39;modern&#39; jvm ?\r\n \r\n\r\n\r\n  [1]: http://cs.gmu.edu/~eclab/projects/ecj/docs/classdocs/ec/Prototype.html","title":"Java &#39;Prototype&#39; pattern - new vs clone vs class.newInstance","body":"<p>In my project there are some 'Prototype' factories that create instances by cloning a final private instance.</p>\n\n<p>The author of those factories says that this pattern provides better performance than calling 'new' operator.</p>\n\n<p>Using google to get some clues about that, I did not found anything relevant.\nHere is a small excerpt found in a <a href=\"http://cs.gmu.edu/~eclab/projects/ecj/docs/classdocs/ec/Prototype.html\" rel=\"noreferrer\">javdoc from an unknown project</a></p>\n\n<blockquote>\n  <p>Sadly, clone() is rather slower than\n  calling new. However it is a lot\n  faster than calling\n  java.lang.Class.newInstance(), and\n  somewhat faster than rolling our own\n  \"cloner\" method.</p>\n</blockquote>\n\n<p>For me it's looking like an old best practice of the java 1.1 time. \nDoes someone know more about this ? Is this a good practice to use that with 'modern' jvm ?</p>\n"},{"tags":["java","arrays","for-loop","split"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1678726108,"post_id":75724691,"comment_id":133585657,"body_markdown":"Arrays are 0-based in Java, basically. So if you create an array using `new String[3]` then the valid indexes are 0, 1 and 2. Your loops should be written as `for (int i = 0; i &lt; numWords; i++)` etc. (If you&#39;re trying to skip the first element, you still need to account for `words[numWords]` being invalid...)","body":"Arrays are 0-based in Java, basically. So if you create an array using <code>new String[3]</code> then the valid indexes are 0, 1 and 2. Your loops should be written as <code>for (int i = 0; i &lt; numWords; i++)</code> etc. (If you&#39;re trying to skip the first element, you still need to account for <code>words[numWords]</code> being invalid...)"},{"owner":{"account_id":26462151,"reputation":132,"user_id":20160920,"display_name":"Portal"},"score":1,"creation_date":1678726647,"post_id":75724691,"comment_id":133585822,"body_markdown":"you also can&#39;t go about getting the number of words like this. what does `num = inputString.charAt(0);` equal when the number in the input string is 10 or more? you&#39;re still only getting the first character, which would be 1. you might consider looking into `scanner.nextInt();`","body":"you also can&#39;t go about getting the number of words like this. what does <code>num = inputString.charAt(0);</code> equal when the number in the input string is 10 or more? you&#39;re still only getting the first character, which would be 1. you might consider looking into <code>scanner.nextInt();</code>"},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":0,"creation_date":1678734042,"post_id":75724691,"comment_id":133587801,"body_markdown":"Do you really need to parse the number at the beginning? Why not just go straight to the `.split()` and capture the resulting array? You can skip the first element (which is the number): `String[] words = inputString.split(&quot;\\\\s&quot;);` followed by `int[] occurrences = new int[words.length];`. Your outer for loop becomes: `for(int i=1; i&lt; words.length; i++) {`","body":"Do you really need to parse the number at the beginning? Why not just go straight to the <code>.split()</code> and capture the resulting array? You can skip the first element (which is the number): <code>String[] words = inputString.split(&quot;\\\\s&quot;);</code> followed by <code>int[] occurrences = new int[words.length];</code>. Your outer for loop becomes: <code>for(int i=1; i&lt; words.length; i++) {</code>"}],"owner":{"account_id":24596116,"reputation":3,"user_id":18499472,"display_name":"JUNKJACKZACK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678725927,"creation_date":1678725927,"question_id":75724691,"body_markdown":"I am currently in a Java course and have run into a simple issue. I have tried several things to resolve the issue but no luck. When I give the input:\r\n\r\n&quot;5 Hello world and goodbye world&quot;\r\n\r\nI have an output: \r\n\r\nHello - 1\r\nworld - 2\r\nand - 1\r\ngoodbye - 1\r\nworld - 2\r\n\r\nIt counts the occurrences of words but when I go more than 10 words it only displays the first word. I am guessing it is max size limit for the split() or an issue occurring in the for loops. I need it to capture all the words so I can display all the occurrences. \r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner; \r\n\r\npublic class LabProgram {\r\n   public static void main(String[] args) {\r\n      Scanner scnr = new Scanner(System.in);\r\n      String inputString = scnr.nextLine();\r\n      char num = inputString.charAt(0);\r\n      int numWords = num - &#39;0&#39;;\r\n      String[] words = new String[numWords];\r\n      int[] occurrences = new int[numWords+1];\r\n      words = inputString.split(&quot;\\\\s&quot;);\r\n      \r\n      for (int i=1; i&lt;= numWords; i++) {\r\n         for (int j=1; j&lt;= numWords; j++) {\r\n            if (words[i].equals(words[j])) {\r\n               occurrences[i] += 1;\r\n            }\r\n         }\r\n      }\r\n      for (int a=1; a&lt;=numWords; a++) {\r\n         System.out.println(words[a] + &quot; - &quot; + occurrences[a]);\r\n      }\r\n   }\r\n}\r\n\r\n```","title":"Array error when capturing more than 9 words from a string","body":"<p>I am currently in a Java course and have run into a simple issue. I have tried several things to resolve the issue but no luck. When I give the input:</p>\n<p>&quot;5 Hello world and goodbye world&quot;</p>\n<p>I have an output:</p>\n<p>Hello - 1\nworld - 2\nand - 1\ngoodbye - 1\nworld - 2</p>\n<p>It counts the occurrences of words but when I go more than 10 words it only displays the first word. I am guessing it is max size limit for the split() or an issue occurring in the for loops. I need it to capture all the words so I can display all the occurrences.</p>\n<pre><code>import java.util.Scanner; \n\npublic class LabProgram {\n   public static void main(String[] args) {\n      Scanner scnr = new Scanner(System.in);\n      String inputString = scnr.nextLine();\n      char num = inputString.charAt(0);\n      int numWords = num - '0';\n      String[] words = new String[numWords];\n      int[] occurrences = new int[numWords+1];\n      words = inputString.split(&quot;\\\\s&quot;);\n      \n      for (int i=1; i&lt;= numWords; i++) {\n         for (int j=1; j&lt;= numWords; j++) {\n            if (words[i].equals(words[j])) {\n               occurrences[i] += 1;\n            }\n         }\n      }\n      for (int a=1; a&lt;=numWords; a++) {\n         System.out.println(words[a] + &quot; - &quot; + occurrences[a]);\n      }\n   }\n}\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1678724124,"post_id":75724378,"comment_id":133585040,"body_markdown":"&quot;this is the code&quot; can you read it in the comment? Because I can&#39;t, and I doubt many others will be able to either. [Edit] your question and add the code there.","body":"&quot;this is the code&quot; can you read it in the comment? Because I can&#39;t, and I doubt many others will be able to either. <a href=\"https://stackoverflow.com/posts/75724378/edit\">Edit</a> your question and add the code there."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1678724217,"post_id":75724378,"comment_id":133585074,"body_markdown":"And from a really quick glance you defined a method inside your `main` method, which you can&#39;t do.","body":"And from a really quick glance you defined a method inside your <code>main</code> method, which you can&#39;t do."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1678724242,"post_id":75724378,"comment_id":133585081,"body_markdown":"Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page.","body":"Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1678724484,"post_id":75724378,"comment_id":133585157,"body_markdown":"I edited your question to add your code there since as new member of this site you may not be familiar with editing yet. But to get better experience here and better chances of getting proper answer consider reading our [help] to learn how to post proper questions. You may also be interested in [Community FAQ for all Stack Exchange sites](https://meta.stackexchange.com/q/7931) and \n[Community FAQ for Stack Overflow](https://meta.stackoverflow.com/q/251225)","body":"I edited your question to add your code there since as new member of this site you may not be familiar with editing yet. But to get better experience here and better chances of getting proper answer consider reading our <a href=\"https://stackoverflow.com/help\">help center</a> to learn how to post proper questions. You may also be interested in <a href=\"https://meta.stackexchange.com/q/7931\">Community FAQ for all Stack Exchange sites</a> and  <a href=\"https://meta.stackoverflow.com/q/251225\">Community FAQ for Stack Overflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678724998,"creation_date":1678724998,"answer_id":75724537,"question_id":75724378,"body_markdown":"1. You have one static method inside of another. This does not work.\r\n2. Using Scanner can throw a checked exception so you have to declare it in the method signature.\r\n\r\nTaking this into account, this at least compiles:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.util.Scanner;\r\n\r\npublic class Submission {\r\n  public static void main(String[] args) throws FileNotFoundException {\r\n    {\r\n      Scanner scanner = new Scanner(new File(&quot;tall.txt&quot;));\r\n      int[] tall = new int[100];\r\n      int i = 0;\r\n      while (scanner.hasNextInt()) {\r\n        tall[i++] = scanner.nextInt();\r\n      }\r\n    }\r\n  }\r\n} \r\n```","title":"can someone help me fix this issue with my code relating main methods and files","body":"<ol>\n<li>You have one static method inside of another. This does not work.</li>\n<li>Using Scanner can throw a checked exception so you have to declare it in the method signature.</li>\n</ol>\n<p>Taking this into account, this at least compiles:</p>\n<pre><code>import java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class Submission {\n  public static void main(String[] args) throws FileNotFoundException {\n    {\n      Scanner scanner = new Scanner(new File(&quot;tall.txt&quot;));\n      int[] tall = new int[100];\n      int i = 0;\n      while (scanner.hasNextInt()) {\n        tall[i++] = scanner.nextInt();\n      }\n    }\n  }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26940789,"reputation":33,"user_id":20511638,"display_name":"hammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678725808,"creation_date":1678725808,"answer_id":75724671,"question_id":75724378,"body_markdown":"We can&#39;t have a method inside a another method. Try this code\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(newFile(&quot;tall.txt&quot;));\r\n            int[] tall = new int[100];\r\n            int i = 0;\r\n            while (scanner.hasNextInt()) {\r\n                tall[i++] = scanner.nextInt();\r\n    }\r\n    }\r\n    }\r\n\r\n   \r\n          ","title":"can someone help me fix this issue with my code relating main methods and files","body":"<p>We can't have a method inside a another method. Try this code</p>\n<pre><code>import java.io.File;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n    Scanner scanner = new Scanner(newFile(&quot;tall.txt&quot;));\n        int[] tall = new int[100];\n        int i = 0;\n        while (scanner.hasNextInt()) {\n            tall[i++] = scanner.nextInt();\n}\n}\n}\n\n\n      \n</code></pre>\n"}],"owner":{"account_id":26315392,"reputation":1,"user_id":19978257,"display_name":"Deniz Gok"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1678725808,"creation_date":1678724043,"question_id":75724378,"body_markdown":"I am having trouble with my general java code to run. the main method and file is the error messages im receiving.\r\n\r\nI tried to change my code however it kept getting worse.\r\n\r\nMy current code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.util.Scanner;\r\n\r\npublic class Submission {\r\n    public static void main(String[] args) {\r\n        {\r\n            public static void name () {\r\n            Scanner scanner = new Scanner(new File(&quot;tall.txt&quot;));\r\n            int[] tall = new int[100];\r\n            int i = 0;\r\n            while (scanner.hasNextInt()) {\r\n                tall[i++] = scanner.nextInt();\r\n            }\r\n        }\r\n        }\r\n    }\r\n} \r\n```","title":"can someone help me fix this issue with my code relating main methods and files","body":"<p>I am having trouble with my general java code to run. the main method and file is the error messages im receiving.</p>\n<p>I tried to change my code however it kept getting worse.</p>\n<p>My current code:</p>\n<pre><code>import java.io.File;\nimport java.util.Scanner;\n\npublic class Submission {\n    public static void main(String[] args) {\n        {\n            public static void name () {\n            Scanner scanner = new Scanner(new File(&quot;tall.txt&quot;));\n            int[] tall = new int[100];\n            int i = 0;\n            while (scanner.hasNextInt()) {\n                tall[i++] = scanner.nextInt();\n            }\n        }\n        }\n    }\n} \n</code></pre>\n"},{"tags":["java","multithreading","thread-safety"],"comments":[{"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"score":1,"creation_date":1434550076,"post_id":30893299,"comment_id":49827224,"body_markdown":"correct me if i&#39;m wrong mate, you basically want all your threads to wait until one of them refreshes your token right?","body":"correct me if i&#39;m wrong mate, you basically want all your threads to wait until one of them refreshes your token right?"},{"owner":{"account_id":6366023,"reputation":231,"user_id":4939994,"accept_rate":67,"display_name":"Anupam"},"score":1,"creation_date":1434550591,"post_id":30893299,"comment_id":49827660,"body_markdown":"yes..that is exactly what i want... in case one of the threads does get a fresh token, I want that value to be updated for all threads, irrespective of where the individual thread execution is, it should not try ever to use the old token and fail and create the token again...","body":"yes..that is exactly what i want... in case one of the threads does get a fresh token, I want that value to be updated for all threads, irrespective of where the individual thread execution is, it should not try ever to use the old token and fail and create the token again..."}],"answers":[{"comments":[{"owner":{"account_id":6366023,"reputation":231,"user_id":4939994,"accept_rate":67,"display_name":"Anupam"},"score":0,"creation_date":1434550440,"post_id":30893685,"comment_id":49827518,"body_markdown":"Thanks a lot..this makes the design much better...I will try to make some more improvements on this.","body":"Thanks a lot..this makes the design much better...I will try to make some more improvements on this."}],"tags":[],"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434549199,"creation_date":1434549199,"answer_id":30893685,"question_id":30893299,"body_markdown":"You could use the following pattern, accessing the token only using its getter and calling `loadToken` when you receive the error response.\r\n\r\n    class TokenGenerator {\r\n        private String token = null;\r\n        public synchronized String getToken() {\r\n            if (token == null) {\r\n                loadToken();\r\n            }\r\n            return token;\r\n        }\r\n        public synchronized void loadToken() {\r\n            token = &quot;load here&quot;;\r\n        }           \r\n    }\r\n\r\nTo address your problem of pausing threads, you can just call `getToken()` whereever you want halt the `Thread` which will automatically block in case loading the token is currently active.\r\n\r\n\r\n\r\n    class Task implements Runnable{\r\n        private String name;\r\n        private TokenGenerator tokenGenerator;\r\n\r\n        public Task(String name, TokenGenerator tokenGenerator) {\r\n            this.name = name;\r\n            this.tokenGenerator = tokenGenerator;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            getResponse(tokenGenerator.getToken());\r\n        }\r\n\r\n        private void getResponse(String token) {\r\n            // Make http calls\r\n            // if token expire , call getToken again. Pause all the running threads , and\r\n            // update the token for all threads\r\n\r\n            tokenGenerator.loadToken();\r\n        }\r\n    }","title":"Sharing data between multiple java threads and get the updated value","body":"<p>You could use the following pattern, accessing the token only using its getter and calling <code>loadToken</code> when you receive the error response.</p>\n\n<pre><code>class TokenGenerator {\n    private String token = null;\n    public synchronized String getToken() {\n        if (token == null) {\n            loadToken();\n        }\n        return token;\n    }\n    public synchronized void loadToken() {\n        token = \"load here\";\n    }           \n}\n</code></pre>\n\n<p>To address your problem of pausing threads, you can just call <code>getToken()</code> whereever you want halt the <code>Thread</code> which will automatically block in case loading the token is currently active.</p>\n\n<pre><code>class Task implements Runnable{\n    private String name;\n    private TokenGenerator tokenGenerator;\n\n    public Task(String name, TokenGenerator tokenGenerator) {\n        this.name = name;\n        this.tokenGenerator = tokenGenerator;\n    }\n\n    @Override\n    public void run() {\n        getResponse(tokenGenerator.getToken());\n    }\n\n    private void getResponse(String token) {\n        // Make http calls\n        // if token expire , call getToken again. Pause all the running threads , and\n        // update the token for all threads\n\n        tokenGenerator.loadToken();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6366023,"reputation":231,"user_id":4939994,"accept_rate":67,"display_name":"Anupam"},"score":0,"creation_date":1434550808,"post_id":30894209,"comment_id":49827837,"body_markdown":"This is exactly the type of solution I was looking for , something which I cant think of easily..thank you very much...","body":"This is exactly the type of solution I was looking for , something which I cant think of easily..thank you very much..."},{"owner":{"account_id":6366023,"reputation":231,"user_id":4939994,"accept_rate":67,"display_name":"Anupam"},"score":0,"creation_date":1434556923,"post_id":30894209,"comment_id":49832448,"body_markdown":"Thank you very much sir...You have completely solved my problem... This is perfect for me..:)","body":"Thank you very much sir...You have completely solved my problem... This is perfect for me..:)"},{"owner":{"account_id":3345927,"reputation":382,"user_id":2811078,"display_name":"Chandan Gawri"},"score":1,"creation_date":1575553755,"post_id":30894209,"comment_id":104611301,"body_markdown":"How other threads will be acknowledged if thread which is doing refreshToken throws error, how they should be handled.","body":"How other threads will be acknowledged if thread which is doing refreshToken throws error, how they should be handled."}],"tags":[],"owner":{"account_id":2048321,"reputation":17928,"user_id":1827903,"accept_rate":84,"display_name":"Zim-Zam O&#39;Pootertoot"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1434561877,"creation_date":1434550507,"answer_id":30894209,"question_id":30893299,"body_markdown":"You can put the token in an [AtomicReference](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html) and use a [Semaphore](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html) to pause the threads:\r\n\r\n    public class TokenWrapper {\r\n      private final AtomicReference&lt;Token&gt; tokenRef = new AtomicReference&lt;&gt;(null);\r\n      private final Semaphore semaphore = new Semaphore(Integer.MAX_VALUE);\r\n\r\n      public TokenWrapper() {\r\n        Token newToken = // refresh token\r\n        tokenRef.set(newToken);\r\n      }\r\n\r\n      public Token getToken() {\r\n        Token token = null;\r\n        while((token = tokenRef.get()) == null) {\r\n          semaphore.acquire();\r\n        }\r\n        return token;\r\n      }\r\n\r\n      public Token refreshToken(Token oldToken) {\r\n        if(tokenRef.compareAndSet(oldToken, null)) {\r\n          semaphore.drainPermits();          \r\n          Token newToken = // refresh token\r\n          tokenRef.set(newToken);\r\n          semaphore.release(Integer.MAX_VALUE);\r\n          return newToken;\r\n        } else return getToken();\r\n      }\r\n    }\r\n\r\n    public class RESTService {\r\n      private static final TokenWrapper tokenWrapper = new TokenWrapper();\r\n\r\n      public void run() {\r\n        Token token = tokenWrapper.getToken();\r\n        Response response = // call service with token\r\n        if(response.getStatus == 401) {\r\n          tokenWrapper.refreshToken(token);\r\n        }\r\n      }\r\n    }\r\n\r\n`refreshToken()` uses an atomic `compareAndSet` on `tokenRef` to ensure that only one thread will refresh the token, and then calls `drainPermits()` on the `semaphore` to cause other threads to wait until the token is refreshed.  `getToken()` returns the token if it isn&#39;t `null`, else waits on the `semaphore` - this is done in a loop because it&#39;s possible that a thread will have to spin for a few cycles between `tokenRef` being set to `null` and `drainPermits()` being called on `semaphore`.\r\n\r\n***\r\n\r\nEdit: Modified the signature of `refreshToken(Token oldToken)` so that the old token is passed in rather than being read inside of the method - this is to prevent a situation where RESTService_A refreshes the token, RESTService_B gets a 401 with the old expired token, and then RESTService_B calls `refreshToken` after RESTService_A&#39;s call to `refreshToken` has completed, resulting in the token being refreshed twice.  With the new signature, RESTService_B will pass in the old expired token, and so the `compareAndSet` call will fail when the old token fails to match the new token, resulting in `refreshToken` only being called once.","title":"Sharing data between multiple java threads and get the updated value","body":"<p>You can put the token in an <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/atomic/AtomicReference.html\" rel=\"noreferrer\">AtomicReference</a> and use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"noreferrer\">Semaphore</a> to pause the threads:</p>\n\n<pre><code>public class TokenWrapper {\n  private final AtomicReference&lt;Token&gt; tokenRef = new AtomicReference&lt;&gt;(null);\n  private final Semaphore semaphore = new Semaphore(Integer.MAX_VALUE);\n\n  public TokenWrapper() {\n    Token newToken = // refresh token\n    tokenRef.set(newToken);\n  }\n\n  public Token getToken() {\n    Token token = null;\n    while((token = tokenRef.get()) == null) {\n      semaphore.acquire();\n    }\n    return token;\n  }\n\n  public Token refreshToken(Token oldToken) {\n    if(tokenRef.compareAndSet(oldToken, null)) {\n      semaphore.drainPermits();          \n      Token newToken = // refresh token\n      tokenRef.set(newToken);\n      semaphore.release(Integer.MAX_VALUE);\n      return newToken;\n    } else return getToken();\n  }\n}\n\npublic class RESTService {\n  private static final TokenWrapper tokenWrapper = new TokenWrapper();\n\n  public void run() {\n    Token token = tokenWrapper.getToken();\n    Response response = // call service with token\n    if(response.getStatus == 401) {\n      tokenWrapper.refreshToken(token);\n    }\n  }\n}\n</code></pre>\n\n<p><code>refreshToken()</code> uses an atomic <code>compareAndSet</code> on <code>tokenRef</code> to ensure that only one thread will refresh the token, and then calls <code>drainPermits()</code> on the <code>semaphore</code> to cause other threads to wait until the token is refreshed.  <code>getToken()</code> returns the token if it isn't <code>null</code>, else waits on the <code>semaphore</code> - this is done in a loop because it's possible that a thread will have to spin for a few cycles between <code>tokenRef</code> being set to <code>null</code> and <code>drainPermits()</code> being called on <code>semaphore</code>.</p>\n\n<hr>\n\n<p>Edit: Modified the signature of <code>refreshToken(Token oldToken)</code> so that the old token is passed in rather than being read inside of the method - this is to prevent a situation where RESTService_A refreshes the token, RESTService_B gets a 401 with the old expired token, and then RESTService_B calls <code>refreshToken</code> after RESTService_A's call to <code>refreshToken</code> has completed, resulting in the token being refreshed twice.  With the new signature, RESTService_B will pass in the old expired token, and so the <code>compareAndSet</code> call will fail when the old token fails to match the new token, resulting in <code>refreshToken</code> only being called once.</p>\n"},{"tags":[],"owner":{"account_id":1799577,"reputation":5303,"user_id":1638237,"accept_rate":59,"display_name":"nafas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434551731,"creation_date":1434551731,"answer_id":30894720,"question_id":30893299,"body_markdown":"Since you need to do two things(http calls and update token), you could try two way checker.\r\n\r\none to check if the token `is expired or not` and the other one is to check if any other thread is trying to `update the token`.\r\n\r\nto demonstrate the idea here is a small code( its abit dirty way of doing it so it might need some cleaning up)\r\n\r\n\r\n\r\n    ...\r\n    private string token\r\n    private volatile static isTokenExpired=false   //checking if the token is expired or not\r\n    private volatile static waitingForTokenRefresher=false;  //checking if we should wait for update.\r\n    \r\n    @Override\r\n    public void run(){\r\n      while(tokenisExpired){\r\n          //wait\r\n      }\r\n    \r\n      //http calls find out if token is good to go\r\n      //check if no one else uses the token:\r\n      if( token is actually expired){\r\n       if(!waitingForTokenRefresher){\r\n           isTokenExpired=true;\r\n           waitingForTokenRefresher=true;\r\n           //refresh token\r\n           waitingForTokenRefresher=false\r\n           isTokenExpired=false;\r\n       }\r\n      }\r\n       while(!waitingForTokenRefresher){\r\n         //wait...\r\n       }\r\n      \r\n    }\r\n","title":"Sharing data between multiple java threads and get the updated value","body":"<p>Since you need to do two things(http calls and update token), you could try two way checker.</p>\n\n<p>one to check if the token <code>is expired or not</code> and the other one is to check if any other thread is trying to <code>update the token</code>.</p>\n\n<p>to demonstrate the idea here is a small code( its abit dirty way of doing it so it might need some cleaning up)</p>\n\n<pre><code>...\nprivate string token\nprivate volatile static isTokenExpired=false   //checking if the token is expired or not\nprivate volatile static waitingForTokenRefresher=false;  //checking if we should wait for update.\n\n@Override\npublic void run(){\n  while(tokenisExpired){\n      //wait\n  }\n\n  //http calls find out if token is good to go\n  //check if no one else uses the token:\n  if( token is actually expired){\n   if(!waitingForTokenRefresher){\n       isTokenExpired=true;\n       waitingForTokenRefresher=true;\n       //refresh token\n       waitingForTokenRefresher=false\n       isTokenExpired=false;\n   }\n  }\n   while(!waitingForTokenRefresher){\n     //wait...\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6366023,"reputation":231,"user_id":4939994,"accept_rate":67,"display_name":"Anupam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2673,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30894209,"answer_count":3,"score":8,"last_activity_date":1678725451,"creation_date":1434548258,"question_id":30893299,"body_markdown":"I want to create a java application , where we want to make rest calls for multiple users , with the help of an access token. I am using 1 thread per user . The access token, that I am using , is valid for 1 hour.Once the token expires , I will get an 401 error , and have to update the token for all the threads , and continue. I am thinking of using a volatile variable which I have made static to update all the threads. My requirement , is , the moment I get to know in one of threads that the token has expired , I want all the threads to stop processing and wait till the new token is generated(this takes couple of seconds).Also once generated , the token should be updated automatically , without each thread failing due to expired token.\r\n\r\nBelow is a sample code that I have written :\r\n\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.ScheduledExecutorService;\r\n    import java.util.concurrent.TimeUnit;\r\n\r\n    public class Sample {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n        String[] myStrings = { &quot;User1&quot; , &quot;User2&quot; , &quot;User3&quot; };\r\n\t\t\r\n\t\tScheduledExecutorService scheduledExecutorService = Executors\r\n\t\t\t\t.newScheduledThreadPool(myStrings.length);\r\n\r\n\t\tTokenGenerator.getToken();\r\n\t\t\r\n\t\tfor(String str : myStrings){\r\n\t\t\tscheduledExecutorService.scheduleAtFixedRate(new Task(str), 0, 5, TimeUnit.SECONDS);\t\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n\r\n     class Task implements Runnable{\r\n\r\n    private String name;\r\n\t\r\n\tpublic Task(String name){\r\n\t\tthis.name = name;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t\r\n\t\tgetResponse(TokenGenerator.token);\r\n\t\t\r\n\t}\r\n\r\n\tprivate void getResponse(String token) {\r\n\t\t// Make http calls\r\n\t\t// if token expire , call getToken again. Pause all the running threads , and\r\n\t\t// update the token for all threads\r\n\t\t\r\n\t\tTokenGenerator.getToken();\r\n\t}\r\n\t\r\n     }\r\n\r\n     class TokenGenerator {\r\n\t\r\n\tpublic static volatile String token;\r\n\t\r\n\tpublic static void getToken() {\r\n\t\t\r\n\t\ttoken = &quot;new Token everytime&quot;;\r\n\t\t\r\n\t}\r\n\t\r\n     }\r\n\r\n\r\nIs there a better approach to this problem? The above code does not satisfies my use case, since once a thread starts generating a new token, all other threads are not being paused. Request to suggest some improvements..","title":"Sharing data between multiple java threads and get the updated value","body":"<p>I want to create a java application , where we want to make rest calls for multiple users , with the help of an access token. I am using 1 thread per user . The access token, that I am using , is valid for 1 hour.Once the token expires , I will get an 401 error , and have to update the token for all the threads , and continue. I am thinking of using a volatile variable which I have made static to update all the threads. My requirement , is , the moment I get to know in one of threads that the token has expired , I want all the threads to stop processing and wait till the new token is generated(this takes couple of seconds).Also once generated , the token should be updated automatically , without each thread failing due to expired token.</p>\n\n<p>Below is a sample code that I have written :</p>\n\n<pre><code>import java.util.concurrent.Executors;\nimport java.util.concurrent.ScheduledExecutorService;\nimport java.util.concurrent.TimeUnit;\n\npublic class Sample {\n\npublic static void main(String[] args) {\n\n    String[] myStrings = { \"User1\" , \"User2\" , \"User3\" };\n\n    ScheduledExecutorService scheduledExecutorService = Executors\n            .newScheduledThreadPool(myStrings.length);\n\n    TokenGenerator.getToken();\n\n    for(String str : myStrings){\n        scheduledExecutorService.scheduleAtFixedRate(new Task(str), 0, 5, TimeUnit.SECONDS);    \n    }\n}\n\n}\n\n class Task implements Runnable{\n\nprivate String name;\n\npublic Task(String name){\n    this.name = name;\n\n}\n\n\n@Override\npublic void run() {\n\n    getResponse(TokenGenerator.token);\n\n}\n\nprivate void getResponse(String token) {\n    // Make http calls\n    // if token expire , call getToken again. Pause all the running threads , and\n    // update the token for all threads\n\n    TokenGenerator.getToken();\n}\n\n }\n\n class TokenGenerator {\n\npublic static volatile String token;\n\npublic static void getToken() {\n\n    token = \"new Token everytime\";\n\n}\n\n }\n</code></pre>\n\n<p>Is there a better approach to this problem? The above code does not satisfies my use case, since once a thread starts generating a new token, all other threads are not being paused. Request to suggest some improvements..</p>\n"},{"tags":["java","jprofiler"],"comments":[{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1678729485,"post_id":75724598,"comment_id":133586631,"body_markdown":"How is the thread status selector set in the CPU views? By default it is set to &quot;Runnable&quot; which is not comparable to a wall clock time measurement. You would have to switch the thread status selector to &quot;All thread states&quot; for that purpose.","body":"How is the thread status selector set in the CPU views? By default it is set to &quot;Runnable&quot; which is not comparable to a wall clock time measurement. You would have to switch the thread status selector to &quot;All thread states&quot; for that purpose."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678730311,"post_id":75724598,"comment_id":133586834,"body_markdown":"You should avoid introducing additional overhead when measuring elapsed time. With `Instant.now()` and `Duration.between(…)` you are creating new objects but in the worst case, the classes `Instant` and `Duration` were not used before and you’re measuring the time to load them. Use `long start = System.nanoTime(); /* perform the actual action */ long end = System.nanoTime(); long durationInMillis = (end - start) /1_000_000;`","body":"You should avoid introducing additional overhead when measuring elapsed time. With <code>Instant.now()</code> and <code>Duration.between(…)</code> you are creating new objects but in the worst case, the classes <code>Instant</code> and <code>Duration</code> were not used before and you’re measuring the time to load them. Use <code>long start = System.nanoTime(); &#47;* perform the actual action *&#47; long end = System.nanoTime(); long durationInMillis = (end - start) &#47;1_000_000;</code>"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1678730957,"post_id":75724598,"comment_id":133587010,"body_markdown":"Oh this is awesome feedback, let me try updating it. Btw I found the &quot;all thread states&quot; view to be confusing and hard to find where my calls are being made, because of the complexities with spring boot. Is there a way to filter it? Or make it more readable?","body":"Oh this is awesome feedback, let me try updating it. Btw I found the &quot;all thread states&quot; view to be confusing and hard to find where my calls are being made, because of the complexities with spring boot. Is there a way to filter it? Or make it more readable?"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1678733654,"post_id":75724598,"comment_id":133587674,"body_markdown":"@IngoKegel can you help me understand how all states work? Because it&#39;s saying API takes 110s, when the actual API call is about 10s","body":"@IngoKegel can you help me understand how all states work? Because it&#39;s saying API takes 110s, when the actual API call is about 10s"},{"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"score":0,"creation_date":1678738026,"post_id":75724598,"comment_id":133588762,"body_markdown":"`Because it&#39;s saying API takes 110s, when the actual API call is about 10s` -&gt; Then you have multiple threads and the times are summed. Select a single thread instead. For more information on thread states, see https://www.ej-technologies.com/resources/jprofiler/help/doc/main/cpu.html","body":"<code>Because it&#39;s saying API takes 110s, when the actual API call is about 10s</code> -&gt; Then you have multiple threads and the times are summed. Select a single thread instead. For more information on thread states, see <a href=\"https://www.ej-technologies.com/resources/jprofiler/help/doc/main/cpu.html\" rel=\"nofollow noreferrer\">ej-technologies.com/resources/jprofiler/help/doc/main/cpu.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"score":0,"creation_date":1678744173,"post_id":75724598,"comment_id":133590080,"body_markdown":"@IngoKegel perfect thanks, let me read that!","body":"@IngoKegel perfect thanks, let me read that!"}],"owner":{"account_id":6771396,"reputation":441,"user_id":5214673,"accept_rate":40,"display_name":"Spider"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678725335,"creation_date":1678725335,"question_id":75724598,"body_markdown":"I am trying to figure out if this value is being cached and I&#39;m not understanding it. We&#39;re calling the same method twice and I&#39;m curious how much benefit there is to removing that, so I profiled it. This is what Jprofiler says\r\n\r\n    mainMethod() {\r\n      methodCalledTwice() -&gt; 151ms\r\n      method1()\r\n        methodCalledTwice() -&gt; 9ms\r\n    }\r\n\r\nBut when I tried logging it by adding ```Duration.between(start, finish)``` where start and finish are ```Instant.now()``` I get 163ms and 151ms\r\n\r\nCurious what&#39;s creating this discrepancy.\r\n","title":"Discrepancy between JProfiler and local logging","body":"<p>I am trying to figure out if this value is being cached and I'm not understanding it. We're calling the same method twice and I'm curious how much benefit there is to removing that, so I profiled it. This is what Jprofiler says</p>\n<pre><code>mainMethod() {\n  methodCalledTwice() -&gt; 151ms\n  method1()\n    methodCalledTwice() -&gt; 9ms\n}\n</code></pre>\n<p>But when I tried logging it by adding <code>Duration.between(start, finish)</code> where start and finish are <code>Instant.now()</code> I get 163ms and 151ms</p>\n<p>Curious what's creating this discrepancy.</p>\n"},{"tags":["java","json","xslt-3.0"],"comments":[{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678723435,"post_id":75724172,"comment_id":133584849,"body_markdown":"How about starting writing some XSLT 3? You have asked a couple of questions on that topic already but never show any attempt to solve your current problem with XSLT 3. Try to practice creating/manipulating XDM maps and arrays with XPath 3.1 and/or XSLT 3, don&#39;t expect us to write the code for you for any new requirement.","body":"How about starting writing some XSLT 3? You have asked a couple of questions on that topic already but never show any attempt to solve your current problem with XSLT 3. Try to practice creating/manipulating XDM maps and arrays with XPath 3.1 and/or XSLT 3, don&#39;t expect us to write the code for you for any new requirement."},{"owner":{"account_id":27920697,"reputation":15,"user_id":21320925,"display_name":"Ram Prasad"},"score":0,"creation_date":1678726616,"post_id":75724172,"comment_id":133585815,"body_markdown":"@MartinHonnen I understand  I tried but didn&#39;t get any solution. But I can assure you this is the last question on this topic. Please help me this time. Please give me any idea.","body":"@MartinHonnen I understand  I tried but didn&#39;t get any solution. But I can assure you this is the last question on this topic. Please help me this time. Please give me any idea."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1678736247,"post_id":75724172,"comment_id":133588310,"body_markdown":"You have seen examples using e.g. `map { &#39;resourceType&#39; : &#39;test&#39; }` with XPath 3.1 to construct a map and `&lt;xsl:map&gt;&lt;xsl:map-entry key=&quot;&#39;resourceType&#39;&quot; select=&quot;&#39;test&#39;&quot;/&gt;&lt;/xsl:map&gt;`.  So start working with the answers you have received, the documentation https://www.w3.org/TR/xslt-30/#element-map-entry and show us some part of how you tried to solve the latest question on your own, then explain which part failed with which error message.","body":"You have seen examples using e.g. <code>map { &#39;resourceType&#39; : &#39;test&#39; }</code> with XPath 3.1 to construct a map and <code>&lt;xsl:map&gt;&lt;xsl:map-entry key=&quot;&#39;resourceType&#39;&quot; select=&quot;&#39;test&#39;&quot;&#47;&gt;&lt;&#47;xsl:map&gt;</code>.  So start working with the answers you have received, the documentation <a href=\"https://www.w3.org/TR/xslt-30/#element-map-entry\" rel=\"nofollow noreferrer\">w3.org/TR/xslt-30/#element-map-entry</a> and show us some part of how you tried to solve the latest question on your own, then explain which part failed with which error message."}],"owner":{"account_id":27920697,"reputation":15,"user_id":21320925,"display_name":"Ram Prasad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678724823,"creation_date":1678722949,"question_id":75724172,"body_markdown":"I want to take input as the below Input Json and the requirement is after transformation the result should be below Output Json.\r\n\r\n**Input Json**\r\n```\r\n{\r\n   &quot;members&quot;: [\r\n      {\r\n         &quot;name&quot;: &quot;Molecule Man&quot;,\r\n         &quot;age&quot;: 29,\r\n         &quot;secretIdentity&quot;: &quot;Dan Jukes&quot;\r\n      }\r\n   ]\r\n}\r\n```\r\n\r\nI want to convert the above JSON to look like this:\r\n\r\n**Output Json**\r\n```\r\n{\r\n   &quot;resourceType&quot;: &quot;Test&quot;,\r\n   &quot;type&quot;: {\r\n      &quot;name&quot;: &quot;Member&quot;\r\n   },\r\n   &quot;displayName&quot;: &quot;Molecule Man&quot;,\r\n   &quot;attributes&quot;: {\r\n      &quot;test&quot;: [\r\n         {\r\n            &quot;value&quot;: &quot;29&quot;\r\n         }\r\n      ],\r\n      &quot;testing&quot;: [\r\n         {\r\n            &quot;value&quot;: &quot;Dan Jukes&quot;\r\n         }\r\n      ]\r\n   }\r\n}\r\n```\r\n\r\nI tried with transformation in which the output json is same as input json. I did it for fetching some values from the input json. But now the requirement is the input json will be converted into different json.","title":"How to transform Json to another Json by using Xslt and Java","body":"<p>I want to take input as the below Input Json and the requirement is after transformation the result should be below Output Json.</p>\n<p><strong>Input Json</strong></p>\n<pre><code>{\n   &quot;members&quot;: [\n      {\n         &quot;name&quot;: &quot;Molecule Man&quot;,\n         &quot;age&quot;: 29,\n         &quot;secretIdentity&quot;: &quot;Dan Jukes&quot;\n      }\n   ]\n}\n</code></pre>\n<p>I want to convert the above JSON to look like this:</p>\n<p><strong>Output Json</strong></p>\n<pre><code>{\n   &quot;resourceType&quot;: &quot;Test&quot;,\n   &quot;type&quot;: {\n      &quot;name&quot;: &quot;Member&quot;\n   },\n   &quot;displayName&quot;: &quot;Molecule Man&quot;,\n   &quot;attributes&quot;: {\n      &quot;test&quot;: [\n         {\n            &quot;value&quot;: &quot;29&quot;\n         }\n      ],\n      &quot;testing&quot;: [\n         {\n            &quot;value&quot;: &quot;Dan Jukes&quot;\n         }\n      ]\n   }\n}\n</code></pre>\n<p>I tried with transformation in which the output json is same as input json. I did it for fetching some values from the input json. But now the requirement is the input json will be converted into different json.</p>\n"},{"tags":["java","android","amazon-web-services","amazon-fire-tv"],"comments":[{"owner":{"account_id":501891,"reputation":8060,"user_id":1569675,"display_name":"Offbeatmammal"},"score":0,"creation_date":1422133805,"post_id":28123104,"comment_id":44633355,"body_markdown":"see answer below, curious what you&#39;re developing that will run on FireTV, but not on Stick?","body":"see answer below, curious what you&#39;re developing that will run on FireTV, but not on Stick?"}],"answers":[{"tags":[],"owner":{"account_id":501891,"reputation":8060,"user_id":1569675,"display_name":"Offbeatmammal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1422133746,"creation_date":1422133746,"answer_id":28130272,"question_id":28123104,"body_markdown":"You can check any device name specifically using:\r\n\r\n    boolean isFireTV = Build.MODEL.equalsIgnoreCase(&quot;AFTB&quot;);\r\n\r\n(see [this page][1] for FireTV model strings, and [this one][2] for Fire Tablets)\r\n\r\nI&#39;d also [check out this answer][3] for a more generic test to help you determine if your app is running on an Amazond device, or installed via the Amazon AppStore (eg on a Blackberry device)\r\n\r\n\r\n  [1]: https://developer.amazon.com/public/solutions/devices/fire-tv/docs/device-and-platform-specifications\r\n  [2]: https://developer.amazon.com/public/solutions/devices/fire-tablets/specifications/01-device-and-feature-specifications\r\n  [3]: https://stackoverflow.com/questions/19592927/is-it-possible-to-reliably-detect-at-runtime-which-store-installed-an-android-ap/19643816#19643816","title":"Android SDK, Check if device is Amazon-FireTV","body":"<p>You can check any device name specifically using:</p>\n\n<pre><code>boolean isFireTV = Build.MODEL.equalsIgnoreCase(\"AFTB\");\n</code></pre>\n\n<p>(see <a href=\"https://developer.amazon.com/public/solutions/devices/fire-tv/docs/device-and-platform-specifications\" rel=\"nofollow\">this page</a> for FireTV model strings, and <a href=\"https://developer.amazon.com/public/solutions/devices/fire-tablets/specifications/01-device-and-feature-specifications\" rel=\"nofollow\">this one</a> for Fire Tablets)</p>\n\n<p>I'd also <a href=\"https://stackoverflow.com/questions/19592927/is-it-possible-to-reliably-detect-at-runtime-which-store-installed-an-android-ap/19643816#19643816\">check out this answer</a> for a more generic test to help you determine if your app is running on an Amazond device, or installed via the Amazon AppStore (eg on a Blackberry device)</p>\n"},{"tags":[],"owner":{"account_id":2063417,"reputation":977,"user_id":1839484,"accept_rate":56,"display_name":"Ohiovr"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434328305,"creation_date":1434328305,"answer_id":30835959,"question_id":28123104,"body_markdown":"the following function:\r\n\r\n    public static boolean isTV() {\r\n        return android.os.Build.MODEL.contains(&quot;AFT&quot;);\r\n    }\r\n\r\nshould detect either firetv or fire tv stick\r\n\r\nsee\r\n\r\nhttps://developer.amazon.com/public/solutions/devices/fire-tv/docs/amazon-fire-tv-sdk-frequently-asked-questions\r\n\r\nfor details","title":"Android SDK, Check if device is Amazon-FireTV","body":"<p>the following function:</p>\n\n<pre><code>public static boolean isTV() {\n    return android.os.Build.MODEL.contains(\"AFT\");\n}\n</code></pre>\n\n<p>should detect either firetv or fire tv stick</p>\n\n<p>see</p>\n\n<p><a href=\"https://developer.amazon.com/public/solutions/devices/fire-tv/docs/amazon-fire-tv-sdk-frequently-asked-questions\" rel=\"nofollow\">https://developer.amazon.com/public/solutions/devices/fire-tv/docs/amazon-fire-tv-sdk-frequently-asked-questions</a></p>\n\n<p>for details</p>\n"}],"owner":{"account_id":4633217,"reputation":327,"user_id":3755104,"accept_rate":70,"display_name":"AntonioSanchez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28130272,"answer_count":2,"score":0,"last_activity_date":1678724647,"creation_date":1422082246,"question_id":28123104,"body_markdown":"I am trying to write a simple piece of code that will execute some other code if true. What I want to do is check if my app is running on the &#39;Amazon Fire-TV (BOX, not the Fire-TV stick)&#39; I think it would not be that hard to do but I am guessing it would be something like this?\r\n\r\n    String osName = android.getSystemOS();    \r\n\r\n    if(!osName.equals(&quot;AMAZON FIRE-TV&quot;)){\r\n            Toast.makeText(MainActivity.class, &quot;This app may not be compatible with your device..., Toast.LENGTH_LONG&quot;).show();\r\n       ...\r\n       \r\n    }\r\n","title":"Android SDK, Check if device is Amazon-FireTV","body":"<p>I am trying to write a simple piece of code that will execute some other code if true. What I want to do is check if my app is running on the 'Amazon Fire-TV (BOX, not the Fire-TV stick)' I think it would not be that hard to do but I am guessing it would be something like this?</p>\n\n<pre><code>String osName = android.getSystemOS();    \n\nif(!osName.equals(\"AMAZON FIRE-TV\")){\n        Toast.makeText(MainActivity.class, \"This app may not be compatible with your device..., Toast.LENGTH_LONG\").show();\n   ...\n\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678183144,"post_id":75660297,"comment_id":133479787,"body_markdown":"welcome and please check [the tour](https://stackoverflow.com/tour) and [how to ask](https://stackoverflow.com/help/how-to-ask) and [avoid asking question](https://stackoverflow.com/help/dont-ask)","body":"welcome and please check <a href=\"https://stackoverflow.com/tour\">the tour</a> and <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a> and <a href=\"https://stackoverflow.com/help/dont-ask\">avoid asking question</a>"},{"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1678183156,"post_id":75660297,"comment_id":133479794,"body_markdown":"we use English on the site","body":"we use English on the site"}],"owner":{"account_id":27582795,"reputation":1,"user_id":21051632,"display_name":"Bertrand Orou ganni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678724440,"creation_date":1678182390,"question_id":75660297,"body_markdown":"```\r\npackage Metier;\r\n\r\nimport java.sql.*;\r\nimport java.text.DecimalFormat;\r\nimport java.text.NumberFormat;\r\nimport java.util.*;\r\nimport DAO.*;\r\nimport net.sf.jasperreports.engine.JREmptyDataSource;\r\nimport net.sf.jasperreports.engine.JasperCompileManager;\r\nimport net.sf.jasperreports.engine.JasperExportManager;\r\nimport net.sf.jasperreports.engine.JasperFillManager;\r\nimport net.sf.jasperreports.engine.JasperPrint;\r\nimport net.sf.jasperreports.engine.JasperReport;\r\nimport net.sf.jasperreports.engine.design.JasperDesign;\r\nimport net.sf.jasperreports.engine.xml.JRXmlLoader;\r\npublic class MetierImpl implements IMetier {\r\n\t@Override\r\n\tpublic List consulterBalancee(int an) {\r\n\t\tArrayList&lt;PosteCompte&gt; pcp=new ArrayList&lt;&gt;();\r\n\t\tConnection conn=SingletonConnection.getConnection();\r\n\t\tString numCompte=null;\r\n\t\ttry {\r\n\t\t\tPreparedStatement ps = conn.prepareStatement\r\n\t\t\t\t\t(&quot;SELECT * FROM POSTE_COMPTE where UTILISABLE=1 &quot;);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\tPosteCompte pc;\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tpc=new PosteCompte();\r\n\t\t\t\tpc.setPosteComp(rs.getString(&quot;POSTE_COMP&quot;));\r\n\t\t\t\tpc.setIntitullePosteComp(rs.getString(&quot;INTITULLE_POSTE_COM&quot;));\r\n\t\t\t\tnumCompte=rs.getString(&quot;POSTE_COMP&quot;);\r\n\t\t\t\tPreparedStatement ps1 = conn.prepareStatement\r\n\t\t\t\t\t\t(&quot; SELECT SUM(CASE WHEN TYPE_OPERATION IN (&#39;Versement&#39;)  THEN MONTANT_OP ELSE 0 END) AS mouvDebit,  &quot;\r\n\t\t\t\t\t\t\t\t+ &quot;SUM(CASE WHEN TYPE_OPERATION IN (&#39;Retrait&#39;)  THEN MONTANT_OP ELSE 0 END) AS mouvCredit, &quot;\r\n\t\t\t\t\t\t\t\t+ &quot;NUM_COMP FROM OPERATION WHERE NUM_COMP like &#39;&quot;+&quot;%&quot;+numCompte+&quot;%&quot;+&quot;&#39;AND YEAR(DATE_OP)=? group by NUM_COMP&quot;);\r\n\t\t\t\tps1.setInt(1, an);\r\n\t\t\t\t\r\n\t\t\t\tResultSet rs1 = ps1.executeQuery();\r\n\t\t\t\tif (rs1.next() == true  ) {\r\n\t\t\t\t\tOperations op = new Operations();\r\n\t\t\t\t\t\r\n\t\t\t\t\top.setNumComp(rs1.getString(&quot;NUM_COMP&quot;));\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tint mouved = rs1.getInt(&quot;mouvDebit&quot;);\r\n\t\t\t\t\tint mouvec = rs1.getInt(&quot;mouvCredit&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\top.setMontantOp(mouved);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(mouvec&gt;=0)\r\n\t\t\t\t\t\top.setMontant(mouvec);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\top.setMontant(-mouvec);\r\n\t\t\t\t\t\r\n\t\t\t\t\tpc.setOperation(op);\r\n\t\t\t\t\t\r\n\t\t\t\t\tint  ann =  an-1;\r\n\t\t\t\t\tPreparedStatement ps2 = conn.prepareStatement\r\n\t\t\t\t\t\t\t(&quot; SELECT SUM(CASE WHEN TYPE_OPERATION IN (&#39;Versement&#39;) THEN MONTANT_OP ELSE 0 END) AS soldeDebit,  &quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;SUM(CASE WHEN TYPE_OPERATION IN (&#39;Retrait&#39;) THEN MONTANT_OP ELSE 0 END) AS soldeCredit, &quot;\r\n\t\t\t\t\t\t\t\t\t+ &quot;NUM_COMP FROM OPERATION WHERE NUM_COMP like &#39;&quot;+&quot;%&quot;+numCompte+&quot;%&quot;+&quot;&#39;AND YEAR(DATE_OP)=? group by NUM_COMP&quot;);\r\n\t\t\t\t\tps2.setInt(1, ann);\r\n\t\t\t\t\tResultSet rs2 = ps2.executeQuery();\r\n\t\t\t\t\tif (rs2.next()) {\r\n\t\t\t\t\t\tOperations so=new Operations();\r\n\t\t\t\t\t\tint solded = rs2.getInt(&quot;soldeDebit&quot;);\r\n\t\t\t\t\t\tint soldec = rs2.getInt(&quot;soldeCredit&quot;);\r\n\t\t\t\t\t\tso.setEntre(solded);\r\n\t\t\t\t\t\tif(soldec&gt;=0)\r\n\t\t\t\t\t\t\tso.setSortie(soldec);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tso.setSortie(-soldec);\r\n\t\t\t\t\t\tint solde = ((rs2.getInt(&quot;soldeDebit&quot;)+rs2.getInt(&quot;soldeCredit&quot;))+\r\n\t\t\t\t\t\t(rs1.getInt(&quot;mouvDebit&quot;)+rs1.getInt(&quot;mouvCredit&quot;))); \r\n\t\t\t\t\t\tso.setSolde(solde);\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\tpc.setOperation(so);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tpcp.add(pc);\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n}\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn pcp;\r\n\t}\r\n\r\n\r\n\r\n\t@Override\r\n\tpublic List consulterAnnee() {\r\n\t\tList annees = new ArrayList&lt;Annee&gt;();\r\n\t\tConnection conn=SingletonConnection.getConnection();\r\n\t\tAnnee ex = null;\r\n\t\tPreparedStatement ps;\r\n\t\ttry {\r\n\t\t\tps = conn.prepareStatement(&quot;SELECT year(date_op) as year  FROM OPERATION GROUP BY year order by year&quot;);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tex=new Annee();\r\n\t\t\t\tex.setAnnee(rs.getInt(&quot;year&quot;));\r\n\t\t\t\tannees.add(ex);\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn annees;\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void rapport(List&lt;PosteCompte&gt; poste_compte) {\r\n\t\t\r\n\t\t\r\n\t\tNumberFormat formatter = null;\r\n\t      \tformatter=java.text.NumberFormat.getInstance(java.util.Locale.FRENCH); \r\n\t  \r\n\t      \t//POUR AJOUTER LES SEPARATEUR ENTRE LES MILIERS\r\n\t        formatter = new DecimalFormat(&quot;##,###.## &quot;);\r\n\t        int a = 1;\r\n    \t\r\n    \tfor (PosteCompte pcp: poste_compte) {\r\n    \t\t\r\n    \t\t\r\n    \t\tString fileNameJrxml = &quot;C:/Users/Bertrand/Documents/Impession/caisse2.jrxml&quot;;\r\n\t        String fileNamePdf = &quot;E:/Jasper/Blank_A4_Paramv2.pdf&quot;;\r\n\t\t\tif ( pcp.getOperation().getSolde()&gt;=0 ) {\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t \r\n\t\t        try {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tString num = String.valueOf(a++) ;\r\n\t\t\t\t\t\r\n\t\t\t\t\tString compte = pcp.getPosteComp();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString intitule = pcp.getIntitullePosteComp();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString sod = String.valueOf( formatter.format(pcp.getOperation().getEntre())) ;\r\n\t\t\t\t\t\r\n\t\t\t\t\tString soc = String.valueOf(formatter.format(pcp.getOperation().getSortie()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString md = String.valueOf(formatter.format(pcp.getOperation().getMontantOp()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString mc = String.valueOf(formatter.format( pcp.getOperation().getMontant()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString scd = String.valueOf(formatter.format( pcp.getOperation().getSolde()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString scc = String.valueOf(0);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Loading the .JRMXML file ....&quot;);\r\n\t\t            JasperDesign jasperDesign = JRXmlLoader.load(fileNameJrxml);\r\n\t\t            System.out.println(&quot;Compiling the .JRMXML file to .JASPER file....&quot;);\r\n\t\t            JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n\t\t            \r\n\t\t            HashMap hm = new HashMap();\r\n\t\t            hm.put(&quot;num&quot;, num);\r\n\t\t            hm.put(&quot;compte&quot;, compte);\r\n\t\t            hm.put(&quot;intitule&quot;, intitule);\r\n\t\t            hm.put(&quot;sod&quot;, sod);\r\n\t\t            hm.put(&quot;soc&quot;, soc);\r\n\t\t            hm.put(&quot;md&quot;, md);\r\n\t\t            hm.put(&quot;mc&quot;, mc);\r\n\t\t            hm.put(&quot;scd&quot;, scd);\r\n\t\t            hm.put(&quot;scc&quot;, scc);\r\n\t\t            System.out.println(&quot;filling parameters to .JASPER file....&quot;);\r\n\t\t            JasperPrint jprint = (JasperPrint) JasperFillManager.fillReport(jasperReport, hm, new JREmptyDataSource());\r\n\t\t            System.out.println(&quot;exporting the JASPER file to PDF file....&quot;);\r\n\t\t            //JasperExportManager.exportReportToPdfFile(jprint, fileNamePdf);\r\n\t\t            System.out.println(&quot;Successfully completed the export&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t        } catch (Exception e) {\r\n\t\t            System.out.print(&quot;Exception:&quot; + e);\r\n\t\t        }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}else { \r\n\t\t\t\ttry {\r\n    \t\t\t\tString num = String.valueOf(a++) ;\r\n\t\t\t\t\t\r\n\t\t\t\t\tString compte = pcp.getPosteComp();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString intitule = pcp.getIntitullePosteComp();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString sod = String.valueOf( formatter.format(pcp.getOperation().getEntre())) ;\r\n\t\t\t\t\t\r\n\t\t\t\t\tString soc = String.valueOf(formatter.format(pcp.getOperation().getSortie()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString md = String.valueOf(formatter.format(pcp.getOperation().getMontantOp()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString mc = String.valueOf(formatter.format( pcp.getOperation().getMontant()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tString scd = String.valueOf(0);\r\n\t\t\t\t\t\r\n\t\t\t\t\tString scc = String.valueOf(formatter.format( -pcp.getOperation().getSolde()));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\r\n\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;Loading the .JRMXML file ....&quot;);\r\n\t\t            JasperDesign jasperDesign = JRXmlLoader.load(fileNameJrxml);\r\n\t\t            System.out.println(&quot;Compiling the .JRMXML file to .JASPER file....&quot;);\r\n\t\t            JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\r\n\t\t            \r\n\t\t            HashMap hm = new HashMap();\r\n\t\t            hm.put(&quot;num&quot;, num);\r\n\t\t            hm.put(&quot;compte&quot;, compte);\r\n\t\t            hm.put(&quot;intitule&quot;, intitule);\r\n\t\t            hm.put(&quot;sod&quot;, sod);\r\n\t\t            hm.put(&quot;soc&quot;, soc);\r\n\t\t            hm.put(&quot;md&quot;, md);\r\n\t\t            hm.put(&quot;mc&quot;, mc);\r\n\t\t            hm.put(&quot;scd&quot;, scd);\r\n\t\t            hm.put(&quot;scc&quot;, scc);\r\n\t\t            System.out.println(&quot;filling parameters to .JASPER file....&quot;);\r\n\t\t            JasperPrint jprint = (JasperPrint) JasperFillManager.fillReport(jasperReport, hm, new JREmptyDataSource());\r\n\t\t            System.out.println(&quot;exporting the JASPER file to PDF file....&quot;);\r\n\t\t            //JasperExportManager.exportReportToPdfFile(jprint, fileNamePdf);\r\n\t\t            System.out.println(&quot;Successfully completed the export&quot;);\r\n\t\t\t\t\t\r\n\t\t        } catch (Exception e) {\r\n\t\t            System.out.print(&quot;Exception:&quot; + e);\r\n\t\t        }\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\t\r\n}\r\n\r\n```\r\nThis is the part where I created my functions to do the research and produce the report with the file caisse2.jrxml\r\n```\r\npackage Utilisateur;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.FlowLayout;\r\nimport java.awt.GridLayout;\r\nimport java.awt.Toolkit;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.text.MessageFormat;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JComboBox;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTable;\r\nimport javax.swing.JTextField;\r\n\r\nimport DAO.Annee;\r\n\r\nimport Metier.MetierImpl;\r\nimport net.sf.jasperreports.engine.JRDataSource;\r\nimport net.sf.jasperreports.engine.JasperFillManager;\r\nimport net.sf.jasperreports.engine.JasperPrint;\r\nimport net.sf.jasperreports.engine.data.JRTableModelDataSource;\r\nimport net.sf.jasperreports.view.JasperViewer;\r\n\r\npublic class Balance extends JFrame {\r\n\tprivate JLabel jLabelAN = new JLabel(&quot;Entrer l&#39;ann&#233;e&quot;);\r\n\tprivate JComboBox jAnnee = new JComboBox();\r\n\tprivate JButton jButtonChercher = new JButton(&quot;Chercher&quot;);\r\n\tprivate JButton jButtonImprimer = new JButton(&quot;Imprimer&quot;);\r\n\tprivate JTable jTable = new JTable();\r\n\tprivate UtModel jTabModel;\r\n\r\n\tpublic Balance() {\r\n\r\n\t\tthis.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\t\tthis.setLayout(new BorderLayout());\r\n\t\tMetierImpl metier = new MetierImpl();\r\n\r\n\t\tList&lt;Annee&gt; ex = metier.consulterAnnee();\r\n\t\tfor (Annee a : ex) {\r\n\t\t\tthis.jAnnee.addItem(a.getAnnee());\r\n\t\t}\r\n\t\t// List anns = metier.consulterAnnee();\r\n\t\t// Annee anne = new Annee();\r\n\r\n\t\tJPanel jPanelN = new JPanel();\r\n\t\tjPanelN.setLayout(new FlowLayout());\r\n\t\tjPanelN.add(jLabelAN);\r\n\t\tjPanelN.add(jAnnee);\r\n\t\tjPanelN.add(jButtonChercher);\r\n\t\tjPanelN.add(jButtonImprimer);\r\n\t\tadd(jPanelN, BorderLayout.NORTH);\r\n\r\n\t\tJPanel jPanelC = new JPanel();\r\n\t\tjTabModel = new UtModel();\r\n\t\tjTable = new JTable(jTabModel);\r\n\t\tJScrollPane jScrollPane = new JScrollPane(jTable);\r\n\t\tjPanelC.setLayout(new GridLayout());\r\n\t\tjPanelC.add(jScrollPane);\r\n\t\tthis.add(jPanelC, BorderLayout.CENTER);\r\n\r\n\t\tthis.setSize(Toolkit.getDefaultToolkit().getScreenSize());\r\n\t\tthis.setVisible(true);\r\n\t\t\r\n\t\t\r\n\t\tjButtonChercher.addActionListener(new ActionListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\t\tint an = (int) jAnnee.getSelectedItem();\r\n\t\t\t\tList clients = metier.consulterBalancee(an);\r\n\t\t\t\tjTabModel.setData(clients);\r\n\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tjButtonImprimer.addActionListener(new ActionListener() {\r\n\r\n\t\t\t\r\n\t\t\t  @Override public void actionPerformed(ActionEvent e) {\r\n\t\t\t  \r\n\t\t\t\t  \tint an = (int) jAnnee.getSelectedItem();\r\n\t\t\t\t\tList clients = metier.consulterBalancee(an);\r\n\t\t\t\t \r\n\t\t\t\t\tmetier.rapport(clients);\r\n\t\t\t\t  \r\n\t\t\t\t  \r\n\t\t\t  }\r\n\t\t\t \r\n\t\t});\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew Balance();\r\n\t}\r\n}\r\n\r\n\r\n```\r\nThis is the part where I called the functions I created\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;caisse2&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;5e28c070-ccec-4436-853e-6a0ac5c8df1b&quot;&gt;\r\n\t&lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\r\n\t&lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\r\n\t&lt;style name=&quot;table&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table 1&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;style name=&quot;table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t&lt;box&gt;\r\n\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t&lt;/box&gt;\r\n\t&lt;/style&gt;\r\n\t&lt;subDataset name=&quot;Table Dataset 1&quot; uuid=&quot;cda93705-6dd8-4e63-8f7f-8fb64082e1c6&quot;/&gt;\r\n\t&lt;subDataset name=&quot;Table Dataset 2&quot; uuid=&quot;0987d8b3-73f0-4342-8a7e-695d59152e9d&quot;/&gt;\r\n\t&lt;parameter name=&quot;num&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;compte&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;intitule&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;sod&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;soc&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;md&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;mc&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;scd&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;parameter name=&quot;scc&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t&lt;background&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/background&gt;\r\n\t&lt;title&gt;\r\n\t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;rectangle radius=&quot;10&quot;&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;77&quot; y=&quot;0&quot; width=&quot;380&quot; height=&quot;79&quot; uuid=&quot;b87a1512-544c-4ca0-a980-321cd61638c0&quot;/&gt;\r\n\t\t\t&lt;/rectangle&gt;\r\n\t\t\t&lt;staticText&gt;\r\n\t\t\t\t&lt;reportElement x=&quot;156&quot; y=&quot;10&quot; width=&quot;222&quot; height=&quot;54&quot; uuid=&quot;d0523a6a-9317-43a0-aa84-7b9fef4af83e&quot;/&gt;\r\n\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;24&quot;/&gt;\r\n\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t&lt;text&gt;&lt;![CDATA[Balance G&#233;n&#233;rale]]&gt;&lt;/text&gt;\r\n\t\t\t&lt;/staticText&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/title&gt;\r\n\t&lt;pageHeader&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageHeader&gt;\r\n\t&lt;columnHeader&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnHeader&gt;\r\n\t&lt;detail&gt;\r\n\t\t&lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t&lt;reportElement key=&quot;table 1&quot; style=&quot;table 1&quot; x=&quot;108&quot; y=&quot;46&quot; width=&quot;810&quot; height=&quot;50&quot; uuid=&quot;cf911d9d-939a-42bb-82fb-89d0b7b1566a&quot;/&gt;\r\n\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t&lt;datasetRun subDataset=&quot;Table Dataset 2&quot; uuid=&quot;16f3e8b3-e3c9-415f-8076-4d8d1a43ecf0&quot;&gt;\r\n\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(1)]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;90&quot; uuid=&quot;ed445967-c936-4a76-ba06-91fa37876937&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;58debb2a-6cab-4947-8317-caed865263a4&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[N&#176;]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;20&quot; uuid=&quot;9395357e-16f2-430b-93ef-cdbd02583eb7&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{num}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;103&quot; uuid=&quot;12c88cea-f9d3-43a2-ab3a-03aa586c4c5c&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;103&quot; height=&quot;30&quot; uuid=&quot;bcff2f4d-85c3-4ccc-b9df-66e8640e9329&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Compte]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;103&quot; height=&quot;20&quot; uuid=&quot;6abfba7a-5501-4261-9b84-d92cfe51e53b&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{compte}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;335&quot; uuid=&quot;504ba10a-f3d8-41a6-8ab3-6d074853d09d&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;335&quot; height=&quot;30&quot; uuid=&quot;5d258a39-b4d4-46d6-a254-515d4aa9fbbd&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Intitul&#233;]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;335&quot; height=&quot;20&quot; uuid=&quot;049b1cbd-a6a6-49ab-a153-5cabf3ffad96&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{intitule}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;158&quot; uuid=&quot;ec2036e2-b4d2-40b5-895c-19af07d7b66e&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;158&quot; height=&quot;30&quot; uuid=&quot;73cf4a6f-056f-43c2-86e3-2742c95d608a&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Solde Ouveture D&#233;biteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;158&quot; height=&quot;20&quot; uuid=&quot;2fba3e31-bad8-4209-8f03-20197dddbb71&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{sod}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;155&quot; uuid=&quot;289ec212-2b28-48c9-9a0b-1d52b0d4c590&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;155&quot; height=&quot;30&quot; uuid=&quot;d32ba806-fc0a-4888-a942-2b6f40314de8&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Solde Ouveture Cr&#233;diteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;155&quot; height=&quot;20&quot; uuid=&quot;ffdda14a-2b02-4800-b949-ea53a951e063&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{soc}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;144&quot; uuid=&quot;3d6e08a8-e426-4981-b757-1d407ce0f940&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;144&quot; height=&quot;30&quot; uuid=&quot;f52e2a93-2a7e-449d-bbf9-546c9a1f5a68&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Mouvement D&#233;biteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;144&quot; height=&quot;20&quot; uuid=&quot;bc599aab-12b7-48be-9fad-4145fcce62ef&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{md}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;130&quot; uuid=&quot;7ccb60c7-5719-4900-a647-b1252d989d88&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;9a4c86de-a60c-4b04-a265-81984ece1dd9&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Mouvement Cr&#233;diteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;20&quot; uuid=&quot;9008fe73-21cb-4f09-90d5-31b6e7d25324&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{mc}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;159&quot; uuid=&quot;d95a47a7-6bcc-4595-8654-ee815e2526cb&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;159&quot; height=&quot;30&quot; uuid=&quot;5f491bd1-9b38-4643-9a08-a81081bae540&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Solde Cloture D&#233;biteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;159&quot; height=&quot;20&quot; uuid=&quot;4cef04f5-6e42-407b-9a30-fec8f5d4e92e&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{scd}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t&lt;jr:column width=&quot;148&quot; uuid=&quot;bc9e1c41-51cc-4aa3-adc9-2f97d682669b&quot;&gt;\r\n\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;148&quot; height=&quot;30&quot; uuid=&quot;267f9ee3-23be-4c8f-914f-911f308b68f4&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Solde Cloture Cr&#233;diteur]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t&lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;148&quot; height=&quot;20&quot; uuid=&quot;8fa5e518-c451-448a-995b-b3f5d9b2c6fc&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;/textElement&gt;\r\n\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{scc}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t&lt;/componentElement&gt;\r\n\t\t&lt;/band&gt;\r\n\t&lt;/detail&gt;\r\n\t&lt;columnFooter&gt;\r\n\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/columnFooter&gt;\r\n\t&lt;pageFooter&gt;\r\n\t\t&lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/pageFooter&gt;\r\n\t&lt;summary&gt;\r\n\t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n\t&lt;/summary&gt;\r\n&lt;/jasperReport&gt;\r\n\r\n```\r\nHere is file caisse2.jrxml\r\nIn this file I created an array with 9 parameters. these are the parameters that I will put at the level of my java code to be able to produce the report\r\n\r\n\r\n```\r\nLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : sccLoading the .JRMXML file ....\r\nCompiling the .JRMXML file to .JASPER file....\r\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \r\n\t 1. Parameter not found : num\r\n\t 2. Parameter not found : compte\r\n\t 3. Parameter not found : intitule\r\n\t 4. Parameter not found : sod\r\n\t 5. Parameter not found : soc\r\n\t 6. Parameter not found : md\r\n\t 7. Parameter not found : mc\r\n\t 8. Parameter not found : scd\r\n\t 9. Parameter not found : scc\r\n```\r\nHere is the error I get. I can&#39;t solve the problem\r\n\r\n","title":"I want to produce report with ireport and i want to use my array in java as data source","body":"<pre><code>package Metier;\n\nimport java.sql.*;\nimport java.text.DecimalFormat;\nimport java.text.NumberFormat;\nimport java.util.*;\nimport DAO.*;\nimport net.sf.jasperreports.engine.JREmptyDataSource;\nimport net.sf.jasperreports.engine.JasperCompileManager;\nimport net.sf.jasperreports.engine.JasperExportManager;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.JasperReport;\nimport net.sf.jasperreports.engine.design.JasperDesign;\nimport net.sf.jasperreports.engine.xml.JRXmlLoader;\npublic class MetierImpl implements IMetier {\n    @Override\n    public List consulterBalancee(int an) {\n        ArrayList&lt;PosteCompte&gt; pcp=new ArrayList&lt;&gt;();\n        Connection conn=SingletonConnection.getConnection();\n        String numCompte=null;\n        try {\n            PreparedStatement ps = conn.prepareStatement\n                    (&quot;SELECT * FROM POSTE_COMPTE where UTILISABLE=1 &quot;);\n            ResultSet rs = ps.executeQuery();\n            PosteCompte pc;\n            while (rs.next()) {\n                pc=new PosteCompte();\n                pc.setPosteComp(rs.getString(&quot;POSTE_COMP&quot;));\n                pc.setIntitullePosteComp(rs.getString(&quot;INTITULLE_POSTE_COM&quot;));\n                numCompte=rs.getString(&quot;POSTE_COMP&quot;);\n                PreparedStatement ps1 = conn.prepareStatement\n                        (&quot; SELECT SUM(CASE WHEN TYPE_OPERATION IN ('Versement')  THEN MONTANT_OP ELSE 0 END) AS mouvDebit,  &quot;\n                                + &quot;SUM(CASE WHEN TYPE_OPERATION IN ('Retrait')  THEN MONTANT_OP ELSE 0 END) AS mouvCredit, &quot;\n                                + &quot;NUM_COMP FROM OPERATION WHERE NUM_COMP like '&quot;+&quot;%&quot;+numCompte+&quot;%&quot;+&quot;'AND YEAR(DATE_OP)=? group by NUM_COMP&quot;);\n                ps1.setInt(1, an);\n                \n                ResultSet rs1 = ps1.executeQuery();\n                if (rs1.next() == true  ) {\n                    Operations op = new Operations();\n                    \n                    op.setNumComp(rs1.getString(&quot;NUM_COMP&quot;));\n                    \n                    \n                    int mouved = rs1.getInt(&quot;mouvDebit&quot;);\n                    int mouvec = rs1.getInt(&quot;mouvCredit&quot;);\n                    \n                    op.setMontantOp(mouved);\n                    \n                    if(mouvec&gt;=0)\n                        op.setMontant(mouvec);\n                    else\n                        op.setMontant(-mouvec);\n                    \n                    pc.setOperation(op);\n                    \n                    int  ann =  an-1;\n                    PreparedStatement ps2 = conn.prepareStatement\n                            (&quot; SELECT SUM(CASE WHEN TYPE_OPERATION IN ('Versement') THEN MONTANT_OP ELSE 0 END) AS soldeDebit,  &quot;\n                                    + &quot;SUM(CASE WHEN TYPE_OPERATION IN ('Retrait') THEN MONTANT_OP ELSE 0 END) AS soldeCredit, &quot;\n                                    + &quot;NUM_COMP FROM OPERATION WHERE NUM_COMP like '&quot;+&quot;%&quot;+numCompte+&quot;%&quot;+&quot;'AND YEAR(DATE_OP)=? group by NUM_COMP&quot;);\n                    ps2.setInt(1, ann);\n                    ResultSet rs2 = ps2.executeQuery();\n                    if (rs2.next()) {\n                        Operations so=new Operations();\n                        int solded = rs2.getInt(&quot;soldeDebit&quot;);\n                        int soldec = rs2.getInt(&quot;soldeCredit&quot;);\n                        so.setEntre(solded);\n                        if(soldec&gt;=0)\n                            so.setSortie(soldec);\n                        \n                        else\n                            so.setSortie(-soldec);\n                        int solde = ((rs2.getInt(&quot;soldeDebit&quot;)+rs2.getInt(&quot;soldeCredit&quot;))+\n                        (rs1.getInt(&quot;mouvDebit&quot;)+rs1.getInt(&quot;mouvCredit&quot;))); \n                        so.setSolde(solde);\n                         \n                        pc.setOperation(so);\n                        \n                    }\n                    \n                    pcp.add(pc);\n                    \n                }\n}\n        \n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return pcp;\n    }\n\n\n\n    @Override\n    public List consulterAnnee() {\n        List annees = new ArrayList&lt;Annee&gt;();\n        Connection conn=SingletonConnection.getConnection();\n        Annee ex = null;\n        PreparedStatement ps;\n        try {\n            ps = conn.prepareStatement(&quot;SELECT year(date_op) as year  FROM OPERATION GROUP BY year order by year&quot;);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                ex=new Annee();\n                ex.setAnnee(rs.getInt(&quot;year&quot;));\n                annees.add(ex);\n            }\n        } catch (SQLException e) {\n\n            e.printStackTrace();\n        }\n        return annees;\n        \n        \n    }\n\n    @Override\n    public void rapport(List&lt;PosteCompte&gt; poste_compte) {\n        \n        \n        NumberFormat formatter = null;\n            formatter=java.text.NumberFormat.getInstance(java.util.Locale.FRENCH); \n      \n            //POUR AJOUTER LES SEPARATEUR ENTRE LES MILIERS\n            formatter = new DecimalFormat(&quot;##,###.## &quot;);\n            int a = 1;\n        \n        for (PosteCompte pcp: poste_compte) {\n            \n            \n            String fileNameJrxml = &quot;C:/Users/Bertrand/Documents/Impession/caisse2.jrxml&quot;;\n            String fileNamePdf = &quot;E:/Jasper/Blank_A4_Paramv2.pdf&quot;;\n            if ( pcp.getOperation().getSolde()&gt;=0 ) {\n                \n                \n         \n                try {\n                        \n                    String num = String.valueOf(a++) ;\n                    \n                    String compte = pcp.getPosteComp();\n                    \n                    String intitule = pcp.getIntitullePosteComp();\n                    \n                    String sod = String.valueOf( formatter.format(pcp.getOperation().getEntre())) ;\n                    \n                    String soc = String.valueOf(formatter.format(pcp.getOperation().getSortie()));\n                    \n                    String md = String.valueOf(formatter.format(pcp.getOperation().getMontantOp()));\n                    \n                    String mc = String.valueOf(formatter.format( pcp.getOperation().getMontant()));\n                    \n                    String scd = String.valueOf(formatter.format( pcp.getOperation().getSolde()));\n                    \n                    String scc = String.valueOf(0);\n                    \n                    \n                    \n                    System.out.println(&quot;Loading the .JRMXML file ....&quot;);\n                    JasperDesign jasperDesign = JRXmlLoader.load(fileNameJrxml);\n                    System.out.println(&quot;Compiling the .JRMXML file to .JASPER file....&quot;);\n                    JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n                    \n                    HashMap hm = new HashMap();\n                    hm.put(&quot;num&quot;, num);\n                    hm.put(&quot;compte&quot;, compte);\n                    hm.put(&quot;intitule&quot;, intitule);\n                    hm.put(&quot;sod&quot;, sod);\n                    hm.put(&quot;soc&quot;, soc);\n                    hm.put(&quot;md&quot;, md);\n                    hm.put(&quot;mc&quot;, mc);\n                    hm.put(&quot;scd&quot;, scd);\n                    hm.put(&quot;scc&quot;, scc);\n                    System.out.println(&quot;filling parameters to .JASPER file....&quot;);\n                    JasperPrint jprint = (JasperPrint) JasperFillManager.fillReport(jasperReport, hm, new JREmptyDataSource());\n                    System.out.println(&quot;exporting the JASPER file to PDF file....&quot;);\n                    //JasperExportManager.exportReportToPdfFile(jprint, fileNamePdf);\n                    System.out.println(&quot;Successfully completed the export&quot;);\n                \n                    \n                } catch (Exception e) {\n                    System.out.print(&quot;Exception:&quot; + e);\n                }\n                        \n                \n            }else { \n                try {\n                    String num = String.valueOf(a++) ;\n                    \n                    String compte = pcp.getPosteComp();\n                    \n                    String intitule = pcp.getIntitullePosteComp();\n                    \n                    String sod = String.valueOf( formatter.format(pcp.getOperation().getEntre())) ;\n                    \n                    String soc = String.valueOf(formatter.format(pcp.getOperation().getSortie()));\n                    \n                    String md = String.valueOf(formatter.format(pcp.getOperation().getMontantOp()));\n                    \n                    String mc = String.valueOf(formatter.format( pcp.getOperation().getMontant()));\n                    \n                    String scd = String.valueOf(0);\n                    \n                    String scc = String.valueOf(formatter.format( -pcp.getOperation().getSolde()));\n                        \n                    \n\n                    \n                    \n                    System.out.println(&quot;Loading the .JRMXML file ....&quot;);\n                    JasperDesign jasperDesign = JRXmlLoader.load(fileNameJrxml);\n                    System.out.println(&quot;Compiling the .JRMXML file to .JASPER file....&quot;);\n                    JasperReport jasperReport = JasperCompileManager.compileReport(jasperDesign);\n                    \n                    HashMap hm = new HashMap();\n                    hm.put(&quot;num&quot;, num);\n                    hm.put(&quot;compte&quot;, compte);\n                    hm.put(&quot;intitule&quot;, intitule);\n                    hm.put(&quot;sod&quot;, sod);\n                    hm.put(&quot;soc&quot;, soc);\n                    hm.put(&quot;md&quot;, md);\n                    hm.put(&quot;mc&quot;, mc);\n                    hm.put(&quot;scd&quot;, scd);\n                    hm.put(&quot;scc&quot;, scc);\n                    System.out.println(&quot;filling parameters to .JASPER file....&quot;);\n                    JasperPrint jprint = (JasperPrint) JasperFillManager.fillReport(jasperReport, hm, new JREmptyDataSource());\n                    System.out.println(&quot;exporting the JASPER file to PDF file....&quot;);\n                    //JasperExportManager.exportReportToPdfFile(jprint, fileNamePdf);\n                    System.out.println(&quot;Successfully completed the export&quot;);\n                    \n                } catch (Exception e) {\n                    System.out.print(&quot;Exception:&quot; + e);\n                }\n            }\n            \n        }   \n        \n        \n        \n    }   \n}\n\n</code></pre>\n<p>This is the part where I created my functions to do the research and produce the report with the file caisse2.jrxml</p>\n<pre><code>package Utilisateur;\n\nimport java.awt.BorderLayout;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport java.awt.Toolkit;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.text.MessageFormat;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.swing.JButton;\nimport javax.swing.JComboBox;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTable;\nimport javax.swing.JTextField;\n\nimport DAO.Annee;\n\nimport Metier.MetierImpl;\nimport net.sf.jasperreports.engine.JRDataSource;\nimport net.sf.jasperreports.engine.JasperFillManager;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.engine.data.JRTableModelDataSource;\nimport net.sf.jasperreports.view.JasperViewer;\n\npublic class Balance extends JFrame {\n    private JLabel jLabelAN = new JLabel(&quot;Entrer l'année&quot;);\n    private JComboBox jAnnee = new JComboBox();\n    private JButton jButtonChercher = new JButton(&quot;Chercher&quot;);\n    private JButton jButtonImprimer = new JButton(&quot;Imprimer&quot;);\n    private JTable jTable = new JTable();\n    private UtModel jTabModel;\n\n    public Balance() {\n\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n        this.setLayout(new BorderLayout());\n        MetierImpl metier = new MetierImpl();\n\n        List&lt;Annee&gt; ex = metier.consulterAnnee();\n        for (Annee a : ex) {\n            this.jAnnee.addItem(a.getAnnee());\n        }\n        // List anns = metier.consulterAnnee();\n        // Annee anne = new Annee();\n\n        JPanel jPanelN = new JPanel();\n        jPanelN.setLayout(new FlowLayout());\n        jPanelN.add(jLabelAN);\n        jPanelN.add(jAnnee);\n        jPanelN.add(jButtonChercher);\n        jPanelN.add(jButtonImprimer);\n        add(jPanelN, BorderLayout.NORTH);\n\n        JPanel jPanelC = new JPanel();\n        jTabModel = new UtModel();\n        jTable = new JTable(jTabModel);\n        JScrollPane jScrollPane = new JScrollPane(jTable);\n        jPanelC.setLayout(new GridLayout());\n        jPanelC.add(jScrollPane);\n        this.add(jPanelC, BorderLayout.CENTER);\n\n        this.setSize(Toolkit.getDefaultToolkit().getScreenSize());\n        this.setVisible(true);\n        \n        \n        jButtonChercher.addActionListener(new ActionListener() {\n\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                int an = (int) jAnnee.getSelectedItem();\n                List clients = metier.consulterBalancee(an);\n                jTabModel.setData(clients);\n\n            }\n        });\n\n        jButtonImprimer.addActionListener(new ActionListener() {\n\n            \n              @Override public void actionPerformed(ActionEvent e) {\n              \n                    int an = (int) jAnnee.getSelectedItem();\n                    List clients = metier.consulterBalancee(an);\n                 \n                    metier.rapport(clients);\n                  \n                  \n              }\n             \n        });\n    }\n\n    public static void main(String[] args) {\n        new Balance();\n    }\n}\n\n\n</code></pre>\n<p>This is the part where I called the functions I created</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;caisse2&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;5e28c070-ccec-4436-853e-6a0ac5c8df1b&quot;&gt;\n    &lt;property name=&quot;ireport.zoom&quot; value=&quot;1.0&quot;/&gt;\n    &lt;property name=&quot;ireport.x&quot; value=&quot;0&quot;/&gt;\n    &lt;property name=&quot;ireport.y&quot; value=&quot;0&quot;/&gt;\n    &lt;style name=&quot;table&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table 1&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;1.0&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;style name=&quot;table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n        &lt;box&gt;\n            &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n        &lt;/box&gt;\n    &lt;/style&gt;\n    &lt;subDataset name=&quot;Table Dataset 1&quot; uuid=&quot;cda93705-6dd8-4e63-8f7f-8fb64082e1c6&quot;/&gt;\n    &lt;subDataset name=&quot;Table Dataset 2&quot; uuid=&quot;0987d8b3-73f0-4342-8a7e-695d59152e9d&quot;/&gt;\n    &lt;parameter name=&quot;num&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;compte&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;intitule&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;sod&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;soc&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;md&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;mc&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;scd&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;scc&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;rectangle radius=&quot;10&quot;&gt;\n                &lt;reportElement x=&quot;77&quot; y=&quot;0&quot; width=&quot;380&quot; height=&quot;79&quot; uuid=&quot;b87a1512-544c-4ca0-a980-321cd61638c0&quot;/&gt;\n            &lt;/rectangle&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;156&quot; y=&quot;10&quot; width=&quot;222&quot; height=&quot;54&quot; uuid=&quot;d0523a6a-9317-43a0-aa84-7b9fef4af83e&quot;/&gt;\n                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;24&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Balance Générale]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;pageHeader&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageHeader&gt;\n    &lt;columnHeader&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;componentElement&gt;\n                &lt;reportElement key=&quot;table 1&quot; style=&quot;table 1&quot; x=&quot;108&quot; y=&quot;46&quot; width=&quot;810&quot; height=&quot;50&quot; uuid=&quot;cf911d9d-939a-42bb-82fb-89d0b7b1566a&quot;/&gt;\n                &lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                    &lt;datasetRun subDataset=&quot;Table Dataset 2&quot; uuid=&quot;16f3e8b3-e3c9-415f-8076-4d8d1a43ecf0&quot;&gt;\n                        &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.JREmptyDataSource(1)]]&gt;&lt;/dataSourceExpression&gt;\n                    &lt;/datasetRun&gt;\n                    &lt;jr:column width=&quot;90&quot; uuid=&quot;ed445967-c936-4a76-ba06-91fa37876937&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;58debb2a-6cab-4947-8317-caed865263a4&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[N°]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;90&quot; height=&quot;20&quot; uuid=&quot;9395357e-16f2-430b-93ef-cdbd02583eb7&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{num}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;103&quot; uuid=&quot;12c88cea-f9d3-43a2-ab3a-03aa586c4c5c&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;103&quot; height=&quot;30&quot; uuid=&quot;bcff2f4d-85c3-4ccc-b9df-66e8640e9329&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Compte]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;103&quot; height=&quot;20&quot; uuid=&quot;6abfba7a-5501-4261-9b84-d92cfe51e53b&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{compte}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;335&quot; uuid=&quot;504ba10a-f3d8-41a6-8ab3-6d074853d09d&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;335&quot; height=&quot;30&quot; uuid=&quot;5d258a39-b4d4-46d6-a254-515d4aa9fbbd&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Intitulé]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;335&quot; height=&quot;20&quot; uuid=&quot;049b1cbd-a6a6-49ab-a153-5cabf3ffad96&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{intitule}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;158&quot; uuid=&quot;ec2036e2-b4d2-40b5-895c-19af07d7b66e&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;158&quot; height=&quot;30&quot; uuid=&quot;73cf4a6f-056f-43c2-86e3-2742c95d608a&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Solde Ouveture Débiteur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;158&quot; height=&quot;20&quot; uuid=&quot;2fba3e31-bad8-4209-8f03-20197dddbb71&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{sod}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;155&quot; uuid=&quot;289ec212-2b28-48c9-9a0b-1d52b0d4c590&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;155&quot; height=&quot;30&quot; uuid=&quot;d32ba806-fc0a-4888-a942-2b6f40314de8&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Solde Ouveture Créditeur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;155&quot; height=&quot;20&quot; uuid=&quot;ffdda14a-2b02-4800-b949-ea53a951e063&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{soc}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;144&quot; uuid=&quot;3d6e08a8-e426-4981-b757-1d407ce0f940&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;144&quot; height=&quot;30&quot; uuid=&quot;f52e2a93-2a7e-449d-bbf9-546c9a1f5a68&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Mouvement Débiteur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;144&quot; height=&quot;20&quot; uuid=&quot;bc599aab-12b7-48be-9fad-4145fcce62ef&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{md}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;130&quot; uuid=&quot;7ccb60c7-5719-4900-a647-b1252d989d88&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;9a4c86de-a60c-4b04-a265-81984ece1dd9&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Mouvement Créditeur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;20&quot; uuid=&quot;9008fe73-21cb-4f09-90d5-31b6e7d25324&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{mc}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;159&quot; uuid=&quot;d95a47a7-6bcc-4595-8654-ee815e2526cb&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;159&quot; height=&quot;30&quot; uuid=&quot;5f491bd1-9b38-4643-9a08-a81081bae540&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Solde Cloture Débiteur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;159&quot; height=&quot;20&quot; uuid=&quot;4cef04f5-6e42-407b-9a30-fec8f5d4e92e&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{scd}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                    &lt;jr:column width=&quot;148&quot; uuid=&quot;bc9e1c41-51cc-4aa3-adc9-2f97d682669b&quot;&gt;\n                        &lt;jr:tableHeader style=&quot;table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;staticText&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;148&quot; height=&quot;30&quot; uuid=&quot;267f9ee3-23be-4c8f-914f-911f308b68f4&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;text&gt;&lt;![CDATA[Solde Cloture Créditeur]]&gt;&lt;/text&gt;\n                            &lt;/staticText&gt;\n                        &lt;/jr:tableHeader&gt;\n                        &lt;jr:detailCell style=&quot;table 1_TD&quot; height=&quot;20&quot; rowSpan=&quot;1&quot;&gt;\n                            &lt;textField&gt;\n                                &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;148&quot; height=&quot;20&quot; uuid=&quot;8fa5e518-c451-448a-995b-b3f5d9b2c6fc&quot;/&gt;\n                                &lt;textElement textAlignment=&quot;Center&quot; verticalAlignment=&quot;Middle&quot;&gt;\n                                    &lt;font fontName=&quot;Times New Roman&quot; size=&quot;14&quot;/&gt;\n                                &lt;/textElement&gt;\n                                &lt;textFieldExpression&gt;&lt;![CDATA[$P{scc}]]&gt;&lt;/textFieldExpression&gt;\n                            &lt;/textField&gt;\n                        &lt;/jr:detailCell&gt;\n                    &lt;/jr:column&gt;\n                &lt;/jr:table&gt;\n            &lt;/componentElement&gt;\n        &lt;/band&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=&quot;54&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n\n</code></pre>\n<p>Here is file caisse2.jrxml\nIn this file I created an array with 9 parameters. these are the parameters that I will put at the level of my java code to be able to produce the report</p>\n<pre><code>Loading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : sccLoading the .JRMXML file ....\nCompiling the .JRMXML file to .JASPER file....\nException:net.sf.jasperreports.engine.design.JRValidationException: Report design not valid : \n     1. Parameter not found : num\n     2. Parameter not found : compte\n     3. Parameter not found : intitule\n     4. Parameter not found : sod\n     5. Parameter not found : soc\n     6. Parameter not found : md\n     7. Parameter not found : mc\n     8. Parameter not found : scd\n     9. Parameter not found : scc\n</code></pre>\n<p>Here is the error I get. I can't solve the problem</p>\n"},{"tags":["java","android","flutter","gradle"],"comments":[{"owner":{"account_id":15203705,"reputation":914,"user_id":10970871,"display_name":"Milan Surelia"},"score":0,"creation_date":1678710050,"post_id":75720179,"comment_id":133580390,"body_markdown":"33\n\n\nMake sure you are using the right password to open the keystore. I was having this error and turns out I was still using the password from the example code in trusted.load()","body":"33   Make sure you are using the right password to open the keystore. I was having this error and turns out I was still using the password from the example code in trusted.load()"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1678712018,"post_id":75720179,"comment_id":133581010,"body_markdown":"You are using a keystore created with a newer version of keytool (or some other method like openssl) with an older version of java that doesn&#39;t understand the MAC. (Older versions of Java only support the SHA1 variant.) Did you, perhaps, create the keystore using Java 17 and running gradle under Java 8 or 11?","body":"You are using a keystore created with a newer version of keytool (or some other method like openssl) with an older version of java that doesn&#39;t understand the MAC. (Older versions of Java only support the SHA1 variant.) Did you, perhaps, create the keystore using Java 17 and running gradle under Java 8 or 11?"},{"owner":{"account_id":18876562,"reputation":225,"user_id":13769950,"display_name":"Taoufik"},"score":0,"creation_date":1678731330,"post_id":75720179,"comment_id":133587090,"body_markdown":"@RichardHeap Thank you for your input you might be right. The java version on my Mac is 18.0.2.1. So how to know the java version of my gradle and how to update it to solve this issue. I am using android studio","body":"@RichardHeap Thank you for your input you might be right. The java version on my Mac is 18.0.2.1. So how to know the java version of my gradle and how to update it to solve this issue. I am using android studio"},{"owner":{"account_id":18876562,"reputation":225,"user_id":13769950,"display_name":"Taoufik"},"score":0,"creation_date":1678731545,"post_id":75720179,"comment_id":133587138,"body_markdown":"@MilanSurelia Thank you for your input, but as for the password I double-checked several and there&#39;s no mistake about it.","body":"@MilanSurelia Thank you for your input, but as for the password I double-checked several and there&#39;s no mistake about it."},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1678736156,"post_id":75720179,"comment_id":133588294,"body_markdown":"Type in the Mac equivalent of `&quot;\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe&quot; -version` and/or use the `keytool` that&#39;s in that same bin folder instead of the v18 one.","body":"Type in the Mac equivalent of <code>&quot;\\Program Files\\Android\\Android Studio\\jre\\bin\\java.exe&quot; -version</code> and/or use the <code>keytool</code> that&#39;s in that same bin folder instead of the v18 one."}],"owner":{"account_id":18876562,"reputation":225,"user_id":13769950,"display_name":"Taoufik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678724216,"creation_date":1678700587,"question_id":75720179,"body_markdown":"For 3 days I couldn&#39;t solve this issue, I went through several stackoverflow approach and apply the solutions. I change the keystore password, used the full path of the keystore instead od **../** build a **new project** but still, I was unable to create the **app bundle**.\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:signReleaseBundle&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\r\n   &gt; Failed to read key upload from store &quot;/Users/username/Desktop/project/android/app/upload-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 50s\r\nRunning Gradle task &#39;bundleRelease&#39;...                            113.0s\r\nGradle task bundleRelease failed with exit code 1\r\n```","title":"Failed to read key upload from store","body":"<p>For 3 days I couldn't solve this issue, I went through several stackoverflow approach and apply the solutions. I change the keystore password, used the full path of the keystore instead od <strong>../</strong> build a <strong>new project</strong> but still, I was unable to create the <strong>app bundle</strong>.</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:signReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.FinalizeBundleTask$BundleToolRunnable\n   &gt; Failed to read key upload from store &quot;/Users/username/Desktop/project/android/app/upload-keystore.jks&quot;: Integrity check failed: java.security.NoSuchAlgorithmException: Algorithm HmacPBESHA256 not available\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 50s\nRunning Gradle task 'bundleRelease'...                            113.0s\nGradle task bundleRelease failed with exit code 1\n</code></pre>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":2,"creation_date":1494851743,"post_id":43976443,"comment_id":74988379,"body_markdown":"TBH having two different JSON Parsers in a single project sounds like an hassle and you should check if you can&#39;t provide all components of your project with a single parser library, rather than switching back and forth between the two APIs.","body":"TBH having two different JSON Parsers in a single project sounds like an hassle and you should check if you can&#39;t provide all components of your project with a single parser library, rather than switching back and forth between the two APIs."}],"answers":[{"tags":[],"owner":{"account_id":2375630,"reputation":30614,"user_id":2815219,"display_name":"Raman Sahasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1494842936,"creation_date":1494842245,"answer_id":43976502,"question_id":43976443,"body_markdown":"get JSON string again from `JsonObject` and parse it in `JSONObject`\r\n\r\n\tJsonObject gson = new JsonParser().parse(&quot;{\\&quot;id\\&quot;:\\&quot;value\\&quot;}&quot;).getAsJsonObject();\r\n\r\n\tJSONObject jo2 = new JSONObject(gson.toString());","title":"Convert a gson.JsonObject to JSONObject","body":"<p>get JSON string again from <code>JsonObject</code> and parse it in <code>JSONObject</code></p>\n\n<pre><code>JsonObject gson = new JsonParser().parse(\"{\\\"id\\\":\\\"value\\\"}\").getAsJsonObject();\n\nJSONObject jo2 = new JSONObject(gson.toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1714121,"reputation":2962,"user_id":1571589,"display_name":"Mike Adamenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1494842894,"creation_date":1494842399,"answer_id":43976557,"question_id":43976443,"body_markdown":"    new org.json.JSONObject(gson.toJson(gson.JsonObject));","title":"Convert a gson.JsonObject to JSONObject","body":"<pre><code>new org.json.JSONObject(gson.toJson(gson.JsonObject));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344474,"reputation":87,"user_id":1038060,"display_name":"ferreirabraga"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678724171,"creation_date":1678724171,"answer_id":75724400,"question_id":43976443,"body_markdown":"\r\nConsider **json** below as a **JSONObject**.\r\n\r\nJsonObject gson = JsonParser.parseString( **json**.toString() ),getAsJsonObject();","title":"Convert a gson.JsonObject to JSONObject","body":"<p>Consider <strong>json</strong> below as a <strong>JSONObject</strong>.</p>\n<p>JsonObject gson = JsonParser.parseString( <strong>json</strong>.toString() ),getAsJsonObject();</p>\n"}],"owner":{"account_id":6807484,"reputation":1484,"user_id":5238800,"accept_rate":61,"display_name":"nik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25493,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":43976502,"answer_count":3,"score":26,"last_activity_date":1678724171,"creation_date":1494842087,"question_id":43976443,"body_markdown":"I have a `gson.JsonObject` object. What is the easiest way to create a `org.json.JSONObject` object from it?","title":"Convert a gson.JsonObject to JSONObject","body":"<p>I have a <code>gson.JsonObject</code> object. What is the easiest way to create a <code>org.json.JSONObject</code> object from it?</p>\n"},{"tags":["java","class","web-scraping","get","jsoup"],"answers":[{"comments":[{"owner":{"account_id":6570050,"reputation":55,"user_id":5078419,"accept_rate":40,"display_name":"Alex Golding"},"score":0,"creation_date":1436278483,"post_id":31270596,"comment_id":50536503,"body_markdown":"Thank you for the quick answer and clear explanation :)","body":"Thank you for the quick answer and clear explanation :)"}],"tags":[],"owner":{"account_id":3020924,"reputation":2803,"user_id":3283598,"display_name":"Stuart Caie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1436277844,"creation_date":1436277322,"answer_id":31270596,"question_id":31270556,"body_markdown":"One way would be `doc.select(&quot;span.s-price&quot;)`, another would be `doc.getElementsByClass(&quot;s-price&quot;)`.\r\n\r\nYour code doesn&#39;t work because [`getElementsByClass`](http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#getElementsByClass%28java.lang.String%29) expects a *single* class name, and returns all elements which have that class. You&#39;ve supplied several class names, the function can&#39;t cope with that and finds nothing.\r\n\r\nThe `span` element you&#39;re looking for has several classes applied to it: `a-size-base`, `a-color-price`, `s-price` and `a-text-bold`. You can look for any one of these classes, and it&#39;s also possible to match elements which have all four classes by building a CSS selector like `doc.select(&quot;.a-size-base.a-color-price.s-price.a-text-bold&quot;)`.\r\n\r\nHowever, you probably want as simple a selector as possible, because Amazon are free to change their CSS styles at any time and can easily break your scraper.\r\n\r\nThe simpler the scraper is, the more resilient it is to breakage. You might want to look for prices through semantics rather than rendered style, e.g. `doc.getElementsContainingOwnText(&quot;CDN$&quot;)` would select elements containing the literal text &quot;CDN$&quot;.","title":"JSoup get all elements based on class","body":"<p>One way would be <code>doc.select(\"span.s-price\")</code>, another would be <code>doc.getElementsByClass(\"s-price\")</code>.</p>\n\n<p>Your code doesn't work because <a href=\"http://jsoup.org/apidocs/org/jsoup/nodes/Element.html#getElementsByClass%28java.lang.String%29\" rel=\"nofollow\"><code>getElementsByClass</code></a> expects a <em>single</em> class name, and returns all elements which have that class. You've supplied several class names, the function can't cope with that and finds nothing.</p>\n\n<p>The <code>span</code> element you're looking for has several classes applied to it: <code>a-size-base</code>, <code>a-color-price</code>, <code>s-price</code> and <code>a-text-bold</code>. You can look for any one of these classes, and it's also possible to match elements which have all four classes by building a CSS selector like <code>doc.select(\".a-size-base.a-color-price.s-price.a-text-bold\")</code>.</p>\n\n<p>However, you probably want as simple a selector as possible, because Amazon are free to change their CSS styles at any time and can easily break your scraper.</p>\n\n<p>The simpler the scraper is, the more resilient it is to breakage. You might want to look for prices through semantics rather than rendered style, e.g. <code>doc.getElementsContainingOwnText(\"CDN$\")</code> would select elements containing the literal text \"CDN$\".</p>\n"}],"owner":{"account_id":6570050,"reputation":55,"user_id":5078419,"accept_rate":40,"display_name":"Alex Golding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31270596,"answer_count":1,"score":1,"last_activity_date":1678724039,"creation_date":1436277242,"question_id":31270556,"body_markdown":"I am writing a web scraper using JSoup to take prices from the first page of search results on Amazon. For example, you search &quot;hammer&quot; on amazon, the first page of search results comes up, my scraper takes all the prices for each search result and shows them. However, I can&#39;t figure out why nothing is printed when I run my program. The HTML for the price figure of an item on Amazon.ca is:\r\n\r\n    &lt;a class=&quot;a-link-normal a-text-normal&quot; href=&quot;http://www.amazon.ca/Stanley-51-624-Fiberglass-Hammer-20-Ounce/dp/B000VSSG2K/ref=sr_1_1?ie=UTF8&amp;amp;qid=1436274467&amp;amp;sr=8-1&amp;amp;keywords=hammer&quot;&gt;&lt;span class=&quot;a-size-base a-color-price s-price a-text-bold&quot;&gt;CDN$ 17.52&lt;/span&gt;&lt;/a&gt;\r\n\r\nI run my code as follows:\r\n\r\n    Elements prices = doc.getElementsByClass(&quot;a-size-base a-color-price s-price a-text-bold&quot;);\r\n    System.out.println(&quot;Prices: &quot; + prices);\r\n\r\nWhat is returned:\r\n\r\n    Prices: \r\n\r\nHow do I get the price value &quot;CDN$ 17.52&quot; in this case?","title":"JSoup get all elements based on class","body":"<p>I am writing a web scraper using JSoup to take prices from the first page of search results on Amazon. For example, you search \"hammer\" on amazon, the first page of search results comes up, my scraper takes all the prices for each search result and shows them. However, I can't figure out why nothing is printed when I run my program. The HTML for the price figure of an item on Amazon.ca is:</p>\n\n<pre><code>&lt;a class=\"a-link-normal a-text-normal\" href=\"http://www.amazon.ca/Stanley-51-624-Fiberglass-Hammer-20-Ounce/dp/B000VSSG2K/ref=sr_1_1?ie=UTF8&amp;amp;qid=1436274467&amp;amp;sr=8-1&amp;amp;keywords=hammer\"&gt;&lt;span class=\"a-size-base a-color-price s-price a-text-bold\"&gt;CDN$ 17.52&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n\n<p>I run my code as follows:</p>\n\n<pre><code>Elements prices = doc.getElementsByClass(\"a-size-base a-color-price s-price a-text-bold\");\nSystem.out.println(\"Prices: \" + prices);\n</code></pre>\n\n<p>What is returned:</p>\n\n<pre><code>Prices: \n</code></pre>\n\n<p>How do I get the price value \"CDN$ 17.52\" in this case?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678770473,"post_id":75724280,"comment_id":133593454,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28007269,"reputation":3,"user_id":21390454,"display_name":"Leonard Alphonso"},"score":0,"creation_date":1679313692,"post_id":75724280,"comment_id":133693499,"body_markdown":"thank you for your replay. but i somehow managed to do it.","body":"thank you for your replay. but i somehow managed to do it."}],"owner":{"account_id":28007269,"reputation":3,"user_id":21390454,"display_name":"Leonard Alphonso"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678723729,"creation_date":1678723533,"question_id":75724280,"body_markdown":"I want to create a button in my android application that when it&#39;s clicked should open the zoom app that is installed on the phone and join a particular meeting that I have created. can someone help me with this?\r\n\r\nI&#39;m new to this so I have very little idea of how to do this","title":"integrating a join zoom button in my android application","body":"<p>I want to create a button in my android application that when it's clicked should open the zoom app that is installed on the phone and join a particular meeting that I have created. can someone help me with this?</p>\n<p>I'm new to this so I have very little idea of how to do this</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1678643323,"post_id":75715096,"comment_id":133569208,"body_markdown":"Sure, just take out of the Optional and write normal `if`s.","body":"Sure, just take out of the Optional and write normal <code>if</code>s."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":0,"creation_date":1678643495,"post_id":75715096,"comment_id":133569248,"body_markdown":"Any chance with Optonal? @shmosel","body":"Any chance with Optonal? @shmosel"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678644103,"post_id":75715096,"comment_id":133569378,"body_markdown":"You could throw the exception in `filter` but then it&#39;s not really a filter.","body":"You could throw the exception in <code>filter</code> but then it&#39;s not really a filter."}],"answers":[{"tags":[],"owner":{"account_id":22752615,"reputation":21,"user_id":16912570,"display_name":"Nicolas Pellerin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678723428,"creation_date":1678723428,"answer_id":75724257,"question_id":75715096,"body_markdown":"At first, in your code, I see that the part where you throw the exception is missing a parenthesis at the end.\r\n\r\n```return Arrays.stream(Fruit.forValues()).filter(item -&gt;               item.getFruit().equals(fruit)).findFirst().filter(item -&gt; categories.contain(item.getCategory(category)).orElseThrow(() -&gt; new IlleagalArgumentException(&quot;Fruit only allowed with category +  &quot; item.getCategory());```\r\n\r\nAlso, why do you use a parameter in ```item.getCategory(category) ``` if your method doesn&#39;t have one. \r\nFor your question, modifying this would make this code work, but you can also use try and catch as an alternative.","title":"Inserting value from filter in Exception value","body":"<p>At first, in your code, I see that the part where you throw the exception is missing a parenthesis at the end.</p>\n<p><code>return Arrays.stream(Fruit.forValues()).filter(item -&gt;               item.getFruit().equals(fruit)).findFirst().filter(item -&gt; categories.contain(item.getCategory(category)).orElseThrow(() -&gt; new IlleagalArgumentException(&quot;Fruit only allowed with category +  &quot; item.getCategory());</code></p>\n<p>Also, why do you use a parameter in <code>item.getCategory(category) </code> if your method doesn't have one.\nFor your question, modifying this would make this code work, but you can also use try and catch as an alternative.</p>\n"}],"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678723428,"creation_date":1678642827,"question_id":75715096,"body_markdown":"I have an enum Fruit containing fruit, category.\r\n\r\n\r\n```\r\npublic enum Fruit {\r\n\r\n\tMANGO(&quot;mango&quot;, &quot;A&quot;), APPLE(&quot;apple&quot;, &quot;A&quot;), CHERRY(&quot;cherry&quot;, &quot;B&quot;), BERRY(&quot;berry&quot;, &quot;B&quot;);\r\n\r\n\tprivate String fruit;\r\n\tprivate String category;\r\n\r\n\tprivate Fruit(String fruit, String category) {\r\n\t\tthis.fruit = fruit;\r\n\t\tthis.category = category;\r\n\t}\r\n\r\n\tpublic String getFruit() {\r\n\t\treturn fruit;\r\n\t}\r\n\r\n\tpublic String getCategory() {\r\n\t\treturn category;\r\n\t}\r\n\r\n\tpublic static Fruit forValue(final String fruit, final List&lt;String&gt; categories){\r\n             return Arrays.stream(Fruit.forValues()).filter(item -&gt;               item.getFruit().equals(fruit)).findFirst().filter(item -&gt; categories.contain(item.getCategory(category)).orElseThrow(() -&gt; new IlleagalArgumentException(&quot;Fruit only allowed with category +  &quot; item.getCategory());\r\n}\r\n}\r\n```\r\n\r\n\r\nLet&#39;s say I want to run this -\r\n\r\n``` \r\n   List&lt;String&gt; categories = new ArrayList&lt;&gt;();\r\n   categories.add(&quot;A&quot;);\r\n   categories.add(&quot;Z&quot;);\r\n\r\n   Fruit.forValue(&quot;berry&quot;);\r\n\r\n```\r\n\r\nIn this case, I want to throw exception - Fruit only allowed with category B \r\n(because category for berry is B) \r\n\r\n\r\nBut this - item.getCategory() - will not run.. So, Is there any way to output the category like this\r\n\r\n\r\nExpecting output - Fruit only allowed with category B ","title":"Inserting value from filter in Exception value","body":"<p>I have an enum Fruit containing fruit, category.</p>\n<pre><code>public enum Fruit {\n\n    MANGO(&quot;mango&quot;, &quot;A&quot;), APPLE(&quot;apple&quot;, &quot;A&quot;), CHERRY(&quot;cherry&quot;, &quot;B&quot;), BERRY(&quot;berry&quot;, &quot;B&quot;);\n\n    private String fruit;\n    private String category;\n\n    private Fruit(String fruit, String category) {\n        this.fruit = fruit;\n        this.category = category;\n    }\n\n    public String getFruit() {\n        return fruit;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public static Fruit forValue(final String fruit, final List&lt;String&gt; categories){\n             return Arrays.stream(Fruit.forValues()).filter(item -&gt;               item.getFruit().equals(fruit)).findFirst().filter(item -&gt; categories.contain(item.getCategory(category)).orElseThrow(() -&gt; new IlleagalArgumentException(&quot;Fruit only allowed with category +  &quot; item.getCategory());\n}\n}\n</code></pre>\n<p>Let's say I want to run this -</p>\n<pre><code>   List&lt;String&gt; categories = new ArrayList&lt;&gt;();\n   categories.add(&quot;A&quot;);\n   categories.add(&quot;Z&quot;);\n\n   Fruit.forValue(&quot;berry&quot;);\n\n</code></pre>\n<p>In this case, I want to throw exception - Fruit only allowed with category B\n(because category for berry is B)</p>\n<p>But this - item.getCategory() - will not run.. So, Is there any way to output the category like this</p>\n<p>Expecting output - Fruit only allowed with category B</p>\n"},{"tags":["java","rest","documentum","multipartfile","documentum-dfc"],"comments":[{"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"score":0,"creation_date":1678723564,"post_id":75721694,"comment_id":133584885,"body_markdown":"If you can read streaming from S3, you don&#39;t need to send multiple requests at all. Can&#39;t help you further because I don&#39;t know the APIs involved.","body":"If you can read streaming from S3, you don&#39;t need to send multiple requests at all. Can&#39;t help you further because I don&#39;t know the APIs involved."}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678723421,"creation_date":1678709444,"question_id":75721694,"body_markdown":"In my `Java` `Spring Boot` application, I first download files from an `S3 Bucket`.\r\n\r\nA REST client is then used to upload these files to `Documentum` by calling `Documentum REST`.\r\n\r\nMy API method for uploading a document is pasted below:\r\n\r\n```\r\npublic RestObject createDocument(Linkable parent, RestObject objectToCreate, Object content,\r\n                                 String contentMediaType, String... params) {\r\n    return post(parent.getHref(DOCUMENTS), new JsonObject(objectToCreate), content, contentMediaType,\r\n            JsonObject.class, params);\r\n}\r\n```\r\n\r\nThe arguments to this method are as follows:\r\n\r\n- parent: a link to the cabinet where the file is to be stored\r\n- objectToCreate: a list of metadata values to be stored with the file\r\n- content: the complete byte array contents of the file\r\n- contentMediaType: the MIME type of the file\r\n- params: a few name-value pairs to set additional properties\r\n\r\nThis works fine for small files, but when I attempt to upload files of over 1GB, for example, this leads to `OutOfMemory` exceptions due to the entire byte array being held in memory.\r\n\r\nI have attempted to pass the S3 Object `InputStream` to the API, but that results in this error:\r\n\r\n```\r\nCould not write request: no suitable HttpMessageConverter found for request type [com.amazonaws.services.s3.internal.S3AbortableInputStream]\r\n```\r\n\r\nSo I am now wondering if it is possible to read the content in chunks from the `S3AbortableInputStream` in the Java code and send multiple requests to `Documentum REST`, achieving the file upload in multi-parts rather than sending the entire content in one request.\r\n\r\nI would be very grateful for any advice or examples where something similar has been done. Many thanks for reading my post.","title":"Is it possible to upload content to Documentum in multi-parts?","body":"<p>In my <code>Java</code> <code>Spring Boot</code> application, I first download files from an <code>S3 Bucket</code>.</p>\n<p>A REST client is then used to upload these files to <code>Documentum</code> by calling <code>Documentum REST</code>.</p>\n<p>My API method for uploading a document is pasted below:</p>\n<pre><code>public RestObject createDocument(Linkable parent, RestObject objectToCreate, Object content,\n                                 String contentMediaType, String... params) {\n    return post(parent.getHref(DOCUMENTS), new JsonObject(objectToCreate), content, contentMediaType,\n            JsonObject.class, params);\n}\n</code></pre>\n<p>The arguments to this method are as follows:</p>\n<ul>\n<li>parent: a link to the cabinet where the file is to be stored</li>\n<li>objectToCreate: a list of metadata values to be stored with the file</li>\n<li>content: the complete byte array contents of the file</li>\n<li>contentMediaType: the MIME type of the file</li>\n<li>params: a few name-value pairs to set additional properties</li>\n</ul>\n<p>This works fine for small files, but when I attempt to upload files of over 1GB, for example, this leads to <code>OutOfMemory</code> exceptions due to the entire byte array being held in memory.</p>\n<p>I have attempted to pass the S3 Object <code>InputStream</code> to the API, but that results in this error:</p>\n<pre><code>Could not write request: no suitable HttpMessageConverter found for request type [com.amazonaws.services.s3.internal.S3AbortableInputStream]\n</code></pre>\n<p>So I am now wondering if it is possible to read the content in chunks from the <code>S3AbortableInputStream</code> in the Java code and send multiple requests to <code>Documentum REST</code>, achieving the file upload in multi-parts rather than sending the entire content in one request.</p>\n<p>I would be very grateful for any advice or examples where something similar has been done. Many thanks for reading my post.</p>\n"},{"tags":["java","spring","scope","singleton","prototype-scope"],"answers":[{"comments":[{"owner":{"account_id":2209421,"reputation":1369,"user_id":1951754,"accept_rate":36,"display_name":"GD_Java"},"score":16,"creation_date":1514211266,"post_id":21969071,"comment_id":82908179,"body_markdown":"So which type of beans should be created as prototype?","body":"So which type of beans should be created as prototype?"},{"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"score":4,"creation_date":1514289954,"post_id":21969071,"comment_id":82925457,"body_markdown":"Only those that you want to have fresh instance every time. Honestly, I would not use prototype in 99% of cases.","body":"Only those that you want to have fresh instance every time. Honestly, I would not use prototype in 99% of cases."},{"owner":{"account_id":4641422,"reputation":1287,"user_id":3761154,"display_name":"R&#233;da Housni Alaoui"},"score":5,"creation_date":1534842110,"post_id":21969071,"comment_id":90839692,"body_markdown":"A good practice is to pass dependencies through the constructor.\nTherefore, you should never use scope prototype.\nInstead, you should use new or a singleton factory.","body":"A good practice is to pass dependencies through the constructor. Therefore, you should never use scope prototype. Instead, you should use new or a singleton factory."},{"owner":{"account_id":8295956,"reputation":169,"user_id":6236211,"accept_rate":20,"display_name":"Saurabh Oza"},"score":0,"creation_date":1543460020,"post_id":21969071,"comment_id":93930534,"body_markdown":"Still its not clear on, when to use prototype ? May b a real time example would help here","body":"Still its not clear on, when to use prototype ? May b a real time example would help here"},{"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"score":1,"creation_date":1543488190,"post_id":21969071,"comment_id":93941751,"body_markdown":"Basically, imagine situation that you want to have every time new object when you access bean Prototype bean. Your bean is going to be instantiated every time you want to access it like you use `new User()` in simple POJO.","body":"Basically, imagine situation that you want to have every time new object when you access bean Prototype bean. Your bean is going to be instantiated every time you want to access it like you use <code>new User()</code> in simple POJO."},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":51,"creation_date":1565886302,"post_id":21969071,"comment_id":101493929,"body_markdown":"How does this answer have upvotes? It doesn&#39;t specify when to use prototype scope at all. It just diverts away from the question by saying why DAO is not typically configured as a prototype which doesn&#39;t answer the question one bit.","body":"How does this answer have upvotes? It doesn&#39;t specify when to use prototype scope at all. It just diverts away from the question by saying why DAO is not typically configured as a prototype which doesn&#39;t answer the question one bit."},{"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"score":1,"creation_date":1566212678,"post_id":21969071,"comment_id":101572627,"body_markdown":"It does it. I gave basic facts about prototype vs singleton scope and example where not to use it. Pretty old thing but still valid.","body":"It does it. I gave basic facts about prototype vs singleton scope and example where not to use it. Pretty old thing but still valid."},{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":3,"creation_date":1569516225,"post_id":21969071,"comment_id":102631231,"body_markdown":"The portion after &quot;Example&quot; is copied and pasted without attribution from [Section 3.5.2 The prototype scope](https://docs.spring.io/spring/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype) of Spring documentation.  It also omits the image which was actually the example.","body":"The portion after &quot;Example&quot; is copied and pasted without attribution from <a href=\"https://docs.spring.io/spring/docs/3.0.0.M4/reference/html/ch03s05.html#beans-factory-scopes-prototype\" rel=\"nofollow noreferrer\">Section 3.5.2 The prototype scope</a> of Spring documentation.  It also omits the image which was actually the example."}],"tags":[],"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"comment_count":8,"down_vote_count":12,"up_vote_count":29,"is_accepted":true,"score":17,"last_activity_date":1627571515,"creation_date":1393163455,"answer_id":21969071,"question_id":21969044,"body_markdown":"To be clear simple definitions:\r\n\r\n- Prototype scope = A new object is created each time it is injected/looked up. It will use new `SomeBean()` each time.\r\n\r\n- Singleton scope = The same object is returned each time it is injected/looked up. Here it will instantiate one instance of `SomeBean` and then return it each time.\r\n\r\nPrototype bean is created at the time of usage. So when you would like to have stateful beans there is a strong need sometimes to have prototypes scope or when you don&#39;t want to cache any values in beans. Prototype bean can be associated with one session or some call.\r\n\r\nExample: \r\n\r\nA data access object (DAO) is not typically configured as a prototype, because a typical DAO does not hold any conversational state; it was just easier for this author to reuse the core of the singleton diagram.","title":"When to use Spring prototype scope?","body":"<p>To be clear simple definitions:</p>\n<ul>\n<li><p>Prototype scope = A new object is created each time it is injected/looked up. It will use new <code>SomeBean()</code> each time.</p>\n</li>\n<li><p>Singleton scope = The same object is returned each time it is injected/looked up. Here it will instantiate one instance of <code>SomeBean</code> and then return it each time.</p>\n</li>\n</ul>\n<p>Prototype bean is created at the time of usage. So when you would like to have stateful beans there is a strong need sometimes to have prototypes scope or when you don't want to cache any values in beans. Prototype bean can be associated with one session or some call.</p>\n<p>Example:</p>\n<p>A data access object (DAO) is not typically configured as a prototype, because a typical DAO does not hold any conversational state; it was just easier for this author to reuse the core of the singleton diagram.</p>\n"},{"comments":[{"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"score":15,"creation_date":1536515997,"post_id":46496785,"comment_id":91442373,"body_markdown":"To improve performance of a real-time system, the code should be designed to minimize the frequency of object instantiation during transactions.  Prototypes are intended to be instantiated each time they are requested from the Spring framework.  This behavior of prototypes can degrade real-time performance.  The commentator is correct that, to improve performance, configuration data should be accessed from memory, but be careful using prototypes to implement that design requirement. Instead, consider defining a group of Singletons of the same type, each created at startup with different state.","body":"To improve performance of a real-time system, the code should be designed to minimize the frequency of object instantiation during transactions.  Prototypes are intended to be instantiated each time they are requested from the Spring framework.  This behavior of prototypes can degrade real-time performance.  The commentator is correct that, to improve performance, configuration data should be accessed from memory, but be careful using prototypes to implement that design requirement. Instead, consider defining a group of Singletons of the same type, each created at startup with different state."},{"owner":{"account_id":4539223,"reputation":1311,"user_id":3687575,"accept_rate":78,"display_name":"Lucas Pires"},"score":0,"creation_date":1536595472,"post_id":46496785,"comment_id":91470877,"body_markdown":"Hi @MarkNorman could you please share an example how can I came up with this solution &quot;Instead, consider defining a group of Singletons of the same type, each created at startup with a different state&quot; \n\nSounds very interesting your idea,\n\nThank you very much for sharing your feedback.","body":"Hi @MarkNorman could you please share an example how can I came up with this solution &quot;Instead, consider defining a group of Singletons of the same type, each created at startup with a different state&quot;   Sounds very interesting your idea,  Thank you very much for sharing your feedback."},{"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"score":2,"creation_date":1536603609,"post_id":46496785,"comment_id":91474567,"body_markdown":"You will find an example here: https://www.baeldung.com/spring-data-jpa-multiple-databases.  Take note that there are two configuration beans of type `LocalContainerEntityManagerFactoryBean`, one named `userEntityManager` and another named `productEntityManager`.","body":"You will find an example here: <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-multiple-databases</a>.  Take note that there are two configuration beans of type <code>LocalContainerEntityManagerFactoryBean</code>, one named <code>userEntityManager</code> and another named <code>productEntityManager</code>."}],"tags":[],"owner":{"account_id":4539223,"reputation":1311,"user_id":3687575,"accept_rate":78,"display_name":"Lucas Pires"},"comment_count":3,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1539785508,"creation_date":1506718495,"answer_id":46496785,"question_id":21969044,"body_markdown":"There are some interesting use cases by using scope **prototype** you will build a better and reliable application design/architecture, for example, a real-time system.\r\n\r\nImagine that you must build a real-time system for vehicle tracking, and you will have 2.000.000 cars sharing information every 5 seconds,\r\nIn the server side, you will work with two or more distinct group of configurations, one for Cars and another one for Trucks. \r\n\r\nBased on this simple example, if you design your application to work with distinct configuration groups in memory through the prototype pattern you will achieve a better performance.\r\n\r\nSo, in this case, whenever the server receives a new message from a Truck, for example, the server will get the instance of the configuration in memory from a hashmap of instances of **VehicleGrupConfiguration** and then apply the configuration behavior that this message must have, e.g: like time-out, retry... and etc.\r\n\r\nI would like to highlight that there are many ways to implement this situation, but this example shows that a prototype pattern is very powerful in matters of performance and design patterns.\r\n\r\n\r\n \r\n\r\n","title":"When to use Spring prototype scope?","body":"<p>There are some interesting use cases by using scope <strong>prototype</strong> you will build a better and reliable application design/architecture, for example, a real-time system.</p>\n\n<p>Imagine that you must build a real-time system for vehicle tracking, and you will have 2.000.000 cars sharing information every 5 seconds,\nIn the server side, you will work with two or more distinct group of configurations, one for Cars and another one for Trucks. </p>\n\n<p>Based on this simple example, if you design your application to work with distinct configuration groups in memory through the prototype pattern you will achieve a better performance.</p>\n\n<p>So, in this case, whenever the server receives a new message from a Truck, for example, the server will get the instance of the configuration in memory from a hashmap of instances of <strong>VehicleGrupConfiguration</strong> and then apply the configuration behavior that this message must have, e.g: like time-out, retry... and etc.</p>\n\n<p>I would like to highlight that there are many ways to implement this situation, but this example shows that a prototype pattern is very powerful in matters of performance and design patterns.</p>\n"},{"comments":[{"owner":{"account_id":4441374,"reputation":425,"user_id":3615847,"display_name":"Ana Sustic"},"score":0,"creation_date":1630921935,"post_id":57541105,"comment_id":122077935,"body_markdown":"hi @tkruse I would like to understand what do you mean when you write &quot;when the dependencies used for creation and initialization of the instance should be kept outside the code that needs a new instance&quot;. I have a similar example where I use a new instead of a bean because I need a new instance of the class every time it is called and it has to hold state for each session. My use case is very similar to this one https://stackoverflow.com/questions/69026436/spring-controller-business-logic and I am unsure of the use of prototypes.","body":"hi @tkruse I would like to understand what do you mean when you write &quot;when the dependencies used for creation and initialization of the instance should be kept outside the code that needs a new instance&quot;. I have a similar example where I use a new instead of a bean because I need a new instance of the class every time it is called and it has to hold state for each session. My use case is very similar to this one <a href=\"https://stackoverflow.com/questions/69026436/spring-controller-business-logic\" title=\"spring controller business logic\">stackoverflow.com/questions/69026436/&hellip;</a> and I am unsure of the use of prototypes."},{"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"score":1,"creation_date":1630922577,"post_id":57541105,"comment_id":122078163,"body_markdown":"I tried giving more examples, does that help?","body":"I tried giving more examples, does that help?"}],"tags":[],"owner":{"account_id":2078462,"reputation":10342,"user_id":2986984,"accept_rate":80,"display_name":"tkruse"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1630922567,"creation_date":1566093084,"answer_id":57541105,"question_id":21969044,"body_markdown":"As the documentation says, creating a bean Foo with prototype scope is same as calling:\r\n\r\n```\r\nFoo foo = new Foo(dependency1, dependency2, ...);\r\nfoo.initialize(dependency7, dependency8...);\r\n```\r\n\r\nThe only good reason to use a prototype scope bean instead of `new` that is when the dependencies used for creation and initialization of the instance should be kept outside the code that needs a new instance. \r\n\r\nAs an example:\r\n\r\n```\r\n// need to explicitly mention dependencies here\r\npublic void createdWithNew(Dependency dependency1, Dependency dependency2) {\r\n  Foo foo = new Foo(dependency1, dependency2, ...);\r\n  foo.doSomething();\r\n}\r\n\r\n// Dependencies managed in class Foo by Spring\r\npublic void createdWithSpring(Foo foo) {\r\n  foo.doSomething();\r\n}\r\n\r\n```\r\n\r\nAn example is if you wanted to write persistence code similar to EJB2 Java Entity beans, such as\r\n```\r\nPerson p = ...\r\np.setName(&quot;John Doe&quot;);\r\np.save(); // write to DB\r\n```\r\n\r\nInstead of using the JPA way\r\n```\r\nPerson p = new Person();\r\np.setName(&quot;John Doe&quot;);\r\npersonService.save(p); // write to DB\r\n```\r\n\r\nIn the entity bean code style, the person instance needs to know how it should be persisted, so it needs to be injected with persistence details that the code writing a person should not be aware about.\r\n\r\nAnother example:\r\nIf you want to use the non-threadsafe SimpleDateFormat Java class in many places of your application, with a format pattern from a configuration file(maybe using different formats depending on other conditions). Instead of creating a new format instance in all those places loading also the formatting string from a file (or spring property), you could use the prototype scope to get a fresh instance every time, with the details of setting the common format being in one place.","title":"When to use Spring prototype scope?","body":"<p>As the documentation says, creating a bean Foo with prototype scope is same as calling:</p>\n<pre><code>Foo foo = new Foo(dependency1, dependency2, ...);\nfoo.initialize(dependency7, dependency8...);\n</code></pre>\n<p>The only good reason to use a prototype scope bean instead of <code>new</code> that is when the dependencies used for creation and initialization of the instance should be kept outside the code that needs a new instance.</p>\n<p>As an example:</p>\n<pre><code>// need to explicitly mention dependencies here\npublic void createdWithNew(Dependency dependency1, Dependency dependency2) {\n  Foo foo = new Foo(dependency1, dependency2, ...);\n  foo.doSomething();\n}\n\n// Dependencies managed in class Foo by Spring\npublic void createdWithSpring(Foo foo) {\n  foo.doSomething();\n}\n\n</code></pre>\n<p>An example is if you wanted to write persistence code similar to EJB2 Java Entity beans, such as</p>\n<pre><code>Person p = ...\np.setName(&quot;John Doe&quot;);\np.save(); // write to DB\n</code></pre>\n<p>Instead of using the JPA way</p>\n<pre><code>Person p = new Person();\np.setName(&quot;John Doe&quot;);\npersonService.save(p); // write to DB\n</code></pre>\n<p>In the entity bean code style, the person instance needs to know how it should be persisted, so it needs to be injected with persistence details that the code writing a person should not be aware about.</p>\n<p>Another example:\nIf you want to use the non-threadsafe SimpleDateFormat Java class in many places of your application, with a format pattern from a configuration file(maybe using different formats depending on other conditions). Instead of creating a new format instance in all those places loading also the formatting string from a file (or spring property), you could use the prototype scope to get a fresh instance every time, with the details of setting the common format being in one place.</p>\n"},{"tags":[],"owner":{"account_id":10770245,"reputation":79,"user_id":9295584,"display_name":"Abhijeet Gite"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1678723366,"creation_date":1678723366,"answer_id":75724248,"question_id":21969044,"body_markdown":"Prototype scoped beans are useful for services that have longer running or resource-intensive operations and do not need to maintain state across multiple method calls. Creating a new instance of the bean for each method call ensures that resources are not shared across multiple requests and that each request is handled independently of others. This can help avoid potential concurrency issues and improve performance.\r\n\r\nOn the other hand, singleton scoped beans are useful for services that have short and quick operations or for services that need to maintain state across multiple method calls. By using a single instance of the bean, the state can be maintained across method calls and the overhead of creating a new instance for each method call can be avoided.\r\n\r\nIn general, it&#39;s important to choose the appropriate bean scope based on the specific needs of the service. If a service requires shared state across multiple method calls or needs to be lightweight and efficient, singleton scope is usually the better choice. However, if a service is long-running or resource-intensive, or needs to be isolated across multiple requests, prototype scope is usually the better choice.\r\n\r\nExample:\r\n\r\nLet&#39;s say you have an application that generates reports based on user inputs. Each report requires different sets of data and takes a long time to generate. You want to avoid generating the report multiple times if the user wants to see the same report again.\r\n\r\nIn this case, you can use a prototype-scoped bean to generate each report. When the user requests a report, you create a new instance of the report generator, generate the report, and return the report to the user. This way, if the user requests the same report again, a new instance of the report generator will be created, ensuring that the report is generated fresh and not reused.\r\n\r\n\r\nIf we use a prototype bean scope for a PDFGenerator bean, a new instance of the bean will be created every time a request is made to generate a PDF file. This is useful because PDF generation can be a resource-intensive operation that takes time, and we don&#39;t want to tie up our resources by generating multiple PDF files at the same time using the same instance of the bean. Each request for a PDF file will be handled by a separate instance of the PDFGenerator bean, so the resources won&#39;t be shared across multiple requests.\r\n\r\nIf we were to use a singleton bean scope for the PDFGenerator bean, there would only be one instance of the bean created at application startup. This means that if multiple users were trying to generate PDF files at the same time, they would be using the same instance of the PDFGenerator bean to do so. This could potentially lead to resource contention, as multiple users are competing for the same resource. Additionally, if one user&#39;s PDF generation process takes a long time to complete, it could cause other users&#39; requests to be delayed.\r\n\r\nIn this scenario, using a prototype bean scope is the better choice, as it ensures that each request for a PDF file is handled independently of others and that resources are not shared across multiple requests. By creating a new instance of the PDFGenerator bean for each request, we avoid potential concurrency issues and improve performance.\r\n","title":"When to use Spring prototype scope?","body":"<p>Prototype scoped beans are useful for services that have longer running or resource-intensive operations and do not need to maintain state across multiple method calls. Creating a new instance of the bean for each method call ensures that resources are not shared across multiple requests and that each request is handled independently of others. This can help avoid potential concurrency issues and improve performance.</p>\n<p>On the other hand, singleton scoped beans are useful for services that have short and quick operations or for services that need to maintain state across multiple method calls. By using a single instance of the bean, the state can be maintained across method calls and the overhead of creating a new instance for each method call can be avoided.</p>\n<p>In general, it's important to choose the appropriate bean scope based on the specific needs of the service. If a service requires shared state across multiple method calls or needs to be lightweight and efficient, singleton scope is usually the better choice. However, if a service is long-running or resource-intensive, or needs to be isolated across multiple requests, prototype scope is usually the better choice.</p>\n<p>Example:</p>\n<p>Let's say you have an application that generates reports based on user inputs. Each report requires different sets of data and takes a long time to generate. You want to avoid generating the report multiple times if the user wants to see the same report again.</p>\n<p>In this case, you can use a prototype-scoped bean to generate each report. When the user requests a report, you create a new instance of the report generator, generate the report, and return the report to the user. This way, if the user requests the same report again, a new instance of the report generator will be created, ensuring that the report is generated fresh and not reused.</p>\n<p>If we use a prototype bean scope for a PDFGenerator bean, a new instance of the bean will be created every time a request is made to generate a PDF file. This is useful because PDF generation can be a resource-intensive operation that takes time, and we don't want to tie up our resources by generating multiple PDF files at the same time using the same instance of the bean. Each request for a PDF file will be handled by a separate instance of the PDFGenerator bean, so the resources won't be shared across multiple requests.</p>\n<p>If we were to use a singleton bean scope for the PDFGenerator bean, there would only be one instance of the bean created at application startup. This means that if multiple users were trying to generate PDF files at the same time, they would be using the same instance of the PDFGenerator bean to do so. This could potentially lead to resource contention, as multiple users are competing for the same resource. Additionally, if one user's PDF generation process takes a long time to complete, it could cause other users' requests to be delayed.</p>\n<p>In this scenario, using a prototype bean scope is the better choice, as it ensures that each request for a PDF file is handled independently of others and that resources are not shared across multiple requests. By creating a new instance of the PDFGenerator bean for each request, we avoid potential concurrency issues and improve performance.</p>\n"}],"owner":{"account_id":4069862,"reputation":619,"user_id":3343398,"accept_rate":62,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51652,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":21969071,"answer_count":4,"score":54,"last_activity_date":1678723366,"creation_date":1393163284,"question_id":21969044,"body_markdown":"I want to know when should I exactly use the `prototype` scope in Spring? I have understood that `singleton` returns the same object instance if the bean is requested for. \r\n\r\nThen why should we consider `prototype`?\r\n\r\nExplanations with examples would help a lot to understand the need for it.","title":"When to use Spring prototype scope?","body":"<p>I want to know when should I exactly use the <code>prototype</code> scope in Spring? I have understood that <code>singleton</code> returns the same object instance if the bean is requested for.</p>\n<p>Then why should we consider <code>prototype</code>?</p>\n<p>Explanations with examples would help a lot to understand the need for it.</p>\n"},{"tags":["java","asynchronous","single-threaded"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1678723416,"post_id":75724185,"comment_id":133584845,"body_markdown":"Are you sure it does? Or does it simply swallow the OOM and never report it?","body":"Are you sure it does? Or does it simply swallow the OOM and never report it?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678726010,"post_id":75724185,"comment_id":133585631,"body_markdown":"Creating a new `ExecutorService` for every job, is not better than creating a new `Thread` manually. You are even creating an executor service when not necessary (when `oExport.isPresent()` returns `false`) and not calling `shutdown()` in that case. Besides that, it’s not clear to me, whether you are creating one Excel file with 130,000 rows or 130,000 Excel files out of a database with 130,000 rows. Neither makes much sense to me.","body":"Creating a new <code>ExecutorService</code> for every job, is not better than creating a new <code>Thread</code> manually. You are even creating an executor service when not necessary (when <code>oExport.isPresent()</code> returns <code>false</code>) and not calling <code>shutdown()</code> in that case. Besides that, it’s not clear to me, whether you are creating one Excel file with 130,000 rows or 130,000 Excel files out of a database with 130,000 rows. Neither makes much sense to me."},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1678806841,"post_id":75724185,"comment_id":133602742,"body_markdown":"@Holger, I&#39;m creating one Excel file with 1M rows, the program has an OOM issue after writing around 130,000 rows. That&#39;s why I specifically added an ExecutorService.","body":"@Holger, I&#39;m creating one Excel file with 1M rows, the program has an OOM issue after writing around 130,000 rows. That&#39;s why I specifically added an ExecutorService."},{"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"score":0,"creation_date":1678807102,"post_id":75724185,"comment_id":133602847,"body_markdown":"@RealSkeptic, I also thought it wouldn&#39;t work, so I tested it a couple of times and always received the same results. The exporting can proceed successfully with the ExecutorService and has an OOM issue if I removed the ExecutorService.","body":"@RealSkeptic, I also thought it wouldn&#39;t work, so I tested it a couple of times and always received the same results. The exporting can proceed successfully with the ExecutorService and has an OOM issue if I removed the ExecutorService."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678810335,"post_id":75724185,"comment_id":133603868,"body_markdown":"Maybe, the only effect is that the execution of `exportFunc()` is deferred until the `exportData` method returned and the garbage collector may reclaim memory. If I understand you correctly, the string referenced by `json` contains the entire data for the 130,000+ rows while `exportPayload` contains the same data in converted form. Then, things get blurry as you are calling something that looks like a static method (`TenantContext.setTenant(…)`, even twice) and a method taking no parameters (`exportFunc()`). But it seems like the json string is not needed at this point and freeing it may help.","body":"Maybe, the only effect is that the execution of <code>exportFunc()</code> is deferred until the <code>exportData</code> method returned and the garbage collector may reclaim memory. If I understand you correctly, the string referenced by <code>json</code> contains the entire data for the 130,000+ rows while <code>exportPayload</code> contains the same data in converted form. Then, things get blurry as you are calling something that looks like a static method (<code>TenantContext.setTenant(…)</code>, even twice) and a method taking no parameters (<code>exportFunc()</code>). But it seems like the json string is not needed at this point and freeing it may help."}],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678723014,"creation_date":1678723014,"question_id":75724185,"body_markdown":"I have a memory-intensive exporting function that needs to retrieve over 1M data from the MongoDB and write it to an Excel file. This export method is already triggered  asynchronously by using AWS SNS/SQS. However, it always encounters an OOM issue without using the SingleThreadPool. \r\n\r\n    @Transactional\r\n    @SqsListener(&quot;${sqs-example}&quot;)\r\n    public void exportData(String json) throws IOException {\r\n        LOGGER.info(&quot;Export: {}&quot;, json);\r\n        ExportPayload exportPayload = objectMapper.readValue(json, ExportPayload.class);\r\n        try {\r\n            TenantContext.setTenant(exportPayload.getTenant());\r\n            exportService.export(exportPayload.getExportId(), exportPayload.getTenant());\r\n        } finally {\r\n            TenantContext.clear();\r\n        }\r\n    }\r\n\r\nThe `exportFunc` function is the one that writes the retrieved MongoDB data to an excel file. Without the singleThreadExectuer, it will have an OOM issue after around 130,000 rows. But if writing it as below, it could handle over 1M rows easily.\r\n\r\n```\r\npublic void export(String exportId, Long tenantId) {\r\n        ExecutorService es = Executors.newSingleThreadExecutor();\r\n        if (oExport.isPresent()) {\r\n            try {\r\n                es.submit(() -&gt; {\r\n                    try {\r\n                        TenantContext.setTenant(tenantId);\r\n                        exportFunc();\r\n                    } finally {\r\n                        TenantContext.clear();\r\n                    }\r\n                });\r\n            } finally {\r\n                es.shutdown();\r\n            }\r\n\r\n        } else {\r\n            LOGGER.error(&quot;No export found by id: {}&quot;, exportId);\r\n        }\r\n    }\r\n```\r\n\r\nIn my opinion, the export will be triggered when the program receives a message, and it&#39;s already running in a separate thread, why does the `singleThreadExecutor` can solve the OOM issue in this case?","title":"Is it necessary to create a Java singleThreadPool when the method is already handled in an async way?","body":"<p>I have a memory-intensive exporting function that needs to retrieve over 1M data from the MongoDB and write it to an Excel file. This export method is already triggered  asynchronously by using AWS SNS/SQS. However, it always encounters an OOM issue without using the SingleThreadPool.</p>\n<pre><code>@Transactional\n@SqsListener(&quot;${sqs-example}&quot;)\npublic void exportData(String json) throws IOException {\n    LOGGER.info(&quot;Export: {}&quot;, json);\n    ExportPayload exportPayload = objectMapper.readValue(json, ExportPayload.class);\n    try {\n        TenantContext.setTenant(exportPayload.getTenant());\n        exportService.export(exportPayload.getExportId(), exportPayload.getTenant());\n    } finally {\n        TenantContext.clear();\n    }\n}\n</code></pre>\n<p>The <code>exportFunc</code> function is the one that writes the retrieved MongoDB data to an excel file. Without the singleThreadExectuer, it will have an OOM issue after around 130,000 rows. But if writing it as below, it could handle over 1M rows easily.</p>\n<pre><code>public void export(String exportId, Long tenantId) {\n        ExecutorService es = Executors.newSingleThreadExecutor();\n        if (oExport.isPresent()) {\n            try {\n                es.submit(() -&gt; {\n                    try {\n                        TenantContext.setTenant(tenantId);\n                        exportFunc();\n                    } finally {\n                        TenantContext.clear();\n                    }\n                });\n            } finally {\n                es.shutdown();\n            }\n\n        } else {\n            LOGGER.error(&quot;No export found by id: {}&quot;, exportId);\n        }\n    }\n</code></pre>\n<p>In my opinion, the export will be triggered when the program receives a message, and it's already running in a separate thread, why does the <code>singleThreadExecutor</code> can solve the OOM issue in this case?</p>\n"},{"tags":["java","html","excel","embed"],"answers":[{"tags":[],"owner":{"display_name":"user5279336"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440847134,"creation_date":1440847134,"answer_id":32285432,"question_id":32284179,"body_markdown":"I kind of found the answer. It&#39;s a bit of a workaround though.\r\n\r\nUsing the plugin from this answer:https://stackoverflow.com/a/25182446/5279336 in Chrome, I can use &#39;object&#39; to link to any Amazon product page (or multiple ones), like this:\r\n\r\n        &lt;div&gt;\r\n    &lt;object data=&quot;http://www.amazon.com/gp/product/B0082SWC30?Version=1&amp;entries=0&quot; width=&quot;600&quot; height=&quot;500&quot;&gt; \r\n    &lt;embed src=&quot;http://www.amazon.com/gp/product/B0082SWC30?Version=1&amp;entries=0&quot; width=&quot;600&quot; height=&quot;500&quot;&gt; &lt;/embed&gt;\r\n    &lt;/object&gt;\r\n    &lt;/div&gt;\r\n\r\nThen I can just list all the products that I want to appear on the page, open the html file from my desktop and check all my ranks in all countries. It&#39;d be nice if I could pull out the specific data I wanted and view in a table for a one glance look, but I&#39;m not sure that&#39;s possible using &#39;object&#39;. Still, it&#39;s faster than waiting for Excel to load it all up.","title":"Embed external website data from another site (e.g. Amazon)","body":"<p>I kind of found the answer. It's a bit of a workaround though.</p>\n\n<p>Using the plugin from this answer:<a href=\"https://stackoverflow.com/a/25182446/5279336\">https://stackoverflow.com/a/25182446/5279336</a> in Chrome, I can use 'object' to link to any Amazon product page (or multiple ones), like this:</p>\n\n<pre><code>    &lt;div&gt;\n&lt;object data=\"http://www.amazon.com/gp/product/B0082SWC30?Version=1&amp;entries=0\" width=\"600\" height=\"500\"&gt; \n&lt;embed src=\"http://www.amazon.com/gp/product/B0082SWC30?Version=1&amp;entries=0\" width=\"600\" height=\"500\"&gt; &lt;/embed&gt;\n&lt;/object&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then I can just list all the products that I want to appear on the page, open the html file from my desktop and check all my ranks in all countries. It'd be nice if I could pull out the specific data I wanted and view in a table for a one glance look, but I'm not sure that's possible using 'object'. Still, it's faster than waiting for Excel to load it all up.</p>\n"}],"owner":{"display_name":"user5279336"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678722981,"creation_date":1440837445,"question_id":32284179,"body_markdown":"I&#39;m trying to gather all the sales ranks worldwide for a single product on Amazon. Since Amazon don&#39;t list this information, the only way to get it is to visit every single product on every single international website, which is time-consuming.\r\n\r\nSo I&#39;m trying to pull some data from an Amazon product page to display it on my website. I figure if I can gather all the data in real-time somewhere, it will be instantly accessible. \r\n\r\nHowever, I can&#39;t seem to get iframes, embed or object to work. I basically want to pull the sales rank (ID = SalesRank) from a page like this: \r\n\r\n&gt; http://www.amazon.com/gp/product/B0082SWC30?*Version*=1&amp;*entries*=0\r\n\r\nand display it on my site. The idea is that it will be real-time, and I can just look at my site to view the ranks I want to see. (Also the URL shouldn&#39;t harm/spam the Amazon algorithm because of the appended code at the end)\r\n\r\nThis is what I think is the controlling ID for it:\r\n\r\n    &lt;li id=&quot;SalesRank&quot;&gt;\r\n\r\nIs there a way to gather this data in an HTML page somehow, so it updates automatically to match the Amazon version?\r\n\r\nFor example, my page will display:\r\n\r\n&gt; Book Title: Great Expectations | Country: United States | Current\r\n&gt; Sales Rank: (result here)\r\n&gt; \r\n&gt; Book Title: Great Expectations | Country: United Kingdom | Current\r\n&gt; Sales Rank: (result here)\r\n&gt; \r\n&gt; Book Title: Great Expectations | Country: Germany | Current Sales\r\n&gt; Rank: (result here)\r\n&gt; \r\n&gt; Book Title: Great Expectations | Country: Netherlands | Current Sales\r\n&gt; Rank: (result here)\r\n\r\nEtc...\r\n\r\nSo I&#39;d pull the sales ranks up for the following URLs:\r\n\r\namazon.com/gp/product/B0082SWC30?*Version*=1&amp;*entries*=0\r\n\r\namazon.co.uk/gp/product/B0082SWC30?*Version*=1&amp;*entries*=0\r\n\r\namazon.de/gp/product/B0082SWC30?*Version*=1&amp;*entries*=0\r\n\r\namazon.nl/gp/product/B0082SWC30?*Version*=1&amp;*entries*=0\r\n\r\nI&#39;ve managed to get it into Excel, using the **From Web** function and this array to pull out the data I want:\r\n\r\n    {=MID(INDEX(&#39;BookUS&#39;!$A:$A,MATCH(FALSE,ISERROR(SEARCH(&quot;Best Sellers Rank&quot;,&#39;BookUS&#39;!$A:$A)),0)),28,6)*1}\r\n\r\nBut I&#39;m thinking that the refesh button in Excel is going to explode if I do it in 13 countries on 20 books. I was hoping that pulling it into a web page would be faster and easier, but I can&#39;t figure out what code I should use to do it.\r\n\r\niframe seems to be blocked by Amazon, Embed brings up a firefox plugin error and object just displays a blank screen in all the attempts I&#39;ve made.","title":"Embed external website data from another site (e.g. Amazon)","body":"<p>I'm trying to gather all the sales ranks worldwide for a single product on Amazon. Since Amazon don't list this information, the only way to get it is to visit every single product on every single international website, which is time-consuming.</p>\n\n<p>So I'm trying to pull some data from an Amazon product page to display it on my website. I figure if I can gather all the data in real-time somewhere, it will be instantly accessible. </p>\n\n<p>However, I can't seem to get iframes, embed or object to work. I basically want to pull the sales rank (ID = SalesRank) from a page like this: </p>\n\n<blockquote>\n  <p><a href=\"https://rads.stackoverflow.com/amzn/click/com/B0082SWC30\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">http://www.amazon.com/gp/product/B0082SWC30</a>?<em>Version</em>=1&amp;<em>entries</em>=0</p>\n</blockquote>\n\n<p>and display it on my site. The idea is that it will be real-time, and I can just look at my site to view the ranks I want to see. (Also the URL shouldn't harm/spam the Amazon algorithm because of the appended code at the end)</p>\n\n<p>This is what I think is the controlling ID for it:</p>\n\n<pre><code>&lt;li id=\"SalesRank\"&gt;\n</code></pre>\n\n<p>Is there a way to gather this data in an HTML page somehow, so it updates automatically to match the Amazon version?</p>\n\n<p>For example, my page will display:</p>\n\n<blockquote>\n  <p>Book Title: Great Expectations | Country: United States | Current\n  Sales Rank: (result here)</p>\n  \n  <p>Book Title: Great Expectations | Country: United Kingdom | Current\n  Sales Rank: (result here)</p>\n  \n  <p>Book Title: Great Expectations | Country: Germany | Current Sales\n  Rank: (result here)</p>\n  \n  <p>Book Title: Great Expectations | Country: Netherlands | Current Sales\n  Rank: (result here)</p>\n</blockquote>\n\n<p>Etc...</p>\n\n<p>So I'd pull the sales ranks up for the following URLs:</p>\n\n<p>amazon.com/gp/product/B0082SWC30?<em>Version</em>=1&amp;<em>entries</em>=0</p>\n\n<p>amazon.co.uk/gp/product/B0082SWC30?<em>Version</em>=1&amp;<em>entries</em>=0</p>\n\n<p>amazon.de/gp/product/B0082SWC30?<em>Version</em>=1&amp;<em>entries</em>=0</p>\n\n<p>amazon.nl/gp/product/B0082SWC30?<em>Version</em>=1&amp;<em>entries</em>=0</p>\n\n<p>I've managed to get it into Excel, using the <strong>From Web</strong> function and this array to pull out the data I want:</p>\n\n<pre><code>{=MID(INDEX('BookUS'!$A:$A,MATCH(FALSE,ISERROR(SEARCH(\"Best Sellers Rank\",'BookUS'!$A:$A)),0)),28,6)*1}\n</code></pre>\n\n<p>But I'm thinking that the refesh button in Excel is going to explode if I do it in 13 countries on 20 books. I was hoping that pulling it into a web page would be faster and easier, but I can't figure out what code I should use to do it.</p>\n\n<p>iframe seems to be blocked by Amazon, Embed brings up a firefox plugin error and object just displays a blank screen in all the attempts I've made.</p>\n"},{"tags":["java","performance","arraylist","benchmarking","jmh"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678714946,"post_id":75722633,"comment_id":133581938,"body_markdown":"Have you tried `return IntStream.range(0, size).boxed().collect(Collectors.toList());`? And are you sure this is the critical path of your project? Because I doubt it.","body":"Have you tried <code>return IntStream.range(0, size).boxed().collect(Collectors.toList());</code>? And are you sure this is the critical path of your project? Because I doubt it."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1678714948,"post_id":75722633,"comment_id":133581940,"body_markdown":"&quot;Matching capacity is performing much worse&quot; – but is it? Only for size=300 it seems to be a bit slower than &quot;Oversized capacity&quot;, for all other sizes it has the highest throughput. I&#39;d add GC metrics to the profile, to see how many bytes are allocated per benchmark.","body":"&quot;Matching capacity is performing much worse&quot; – but is it? Only for size=300 it seems to be a bit slower than &quot;Oversized capacity&quot;, for all other sizes it has the highest throughput. I&#39;d add GC metrics to the profile, to see how many bytes are allocated per benchmark."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":1,"creation_date":1678715177,"post_id":75722633,"comment_id":133582024,"body_markdown":"@knittl oh lord, yes you are absolutely right. I forgot I switched from time to throughput :&#39;) thanks","body":"@knittl oh lord, yes you are absolutely right. I forgot I switched from time to throughput :&#39;) thanks"},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678715527,"post_id":75722633,"comment_id":133582150,"body_markdown":"@ElliottFrisch no I have not, and I am 99% sure it will perform the worst, have been successfully replacing Stream-one-liners with &quot;uglier&quot; loops for performance gain a couple of times in this project.","body":"@ElliottFrisch no I have not, and I am 99% sure it will perform the worst, have been successfully replacing Stream-one-liners with &quot;uglier&quot; loops for performance gain a couple of times in this project."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1678716091,"post_id":75722633,"comment_id":133582356,"body_markdown":"@N4ppeL Are you sure about performance gains? Because yes, the first resolution of the `invokedynamic` instruction takes a slow path; but subsequent calls should be optimized. Also, what version of the JVM are you testing here? Because I bet that matters more than these micro-optimizations.","body":"@N4ppeL Are you sure about performance gains? Because yes, the first resolution of the <code>invokedynamic</code> instruction takes a slow path; but subsequent calls should be optimized. Also, what version of the JVM are you testing here? Because I bet that matters more than these micro-optimizations."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1678716714,"post_id":75722633,"comment_id":133582585,"body_markdown":"Your edit to the question seems to have removed the part the title was about, but you haven&#39;t changed the title.  So as it stands now, the title makes no sense for the question you&#39;re asking.","body":"Your edit to the question seems to have removed the part the title was about, but you haven&#39;t changed the title.  So as it stands now, the title makes no sense for the question you&#39;re asking."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678716762,"post_id":75722633,"comment_id":133582600,"body_markdown":"@ElliottFrisch Yes I measured quite thoroughly and execution time improved almost 10% for just ONE replacement of streams vs loop. 10% is quite noticeable for an average case runtime of 8 minutes. You know, just to prove a point I added your solution and ran it with `size=3000` and got `44872.716 �  7326.157  ops/s` :)","body":"@ElliottFrisch Yes I measured quite thoroughly and execution time improved almost 10% for just ONE replacement of streams vs loop. 10% is quite noticeable for an average case runtime of 8 minutes. You know, just to prove a point I added your solution and ran it with <code>size=3000</code> and got <code>44872.716 �  7326.157  ops&#47;s</code> :)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678721326,"post_id":75722633,"comment_id":133584198,"body_markdown":"Regarding your latest edit: when you want to set the value at index `s` of array `elementData` and `s` is equal to `elementData.length`, then you&#39;d be trying to access the index *after* the last element and get an `ArrayIndexOutOfBoundsException`.","body":"Regarding your latest edit: when you want to set the value at index <code>s</code> of array <code>elementData</code> and <code>s</code> is equal to <code>elementData.length</code>, then you&#39;d be trying to access the index <i>after</i> the last element and get an <code>ArrayIndexOutOfBoundsException</code>."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678721373,"post_id":75722633,"comment_id":133584210,"body_markdown":"Generally speaking: if you think you found a glaringly obvious off-by-one error in a heavily used and tested class like `ArrayList` then chances are that you didn&#39;t.","body":"Generally speaking: if you think you found a glaringly obvious off-by-one error in a heavily used and tested class like <code>ArrayList</code> then chances are that you didn&#39;t."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678721545,"post_id":75722633,"comment_id":133584264,"body_markdown":"@JoachimSauer the thing is, `elementData.length` should never be &lt;= s in that code, should it? Initializing the list with `initialCapacity` directly sets `elementData = new Object[initialCapacity]`","body":"@JoachimSauer the thing is, <code>elementData.length</code> should never be &lt;= s in that code, should it? Initializing the list with <code>initialCapacity</code> directly sets <code>elementData = new Object[initialCapacity]</code>"},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678721640,"post_id":75722633,"comment_id":133584298,"body_markdown":"I don&#39;t think I found an error, at this point I am just curious how this works :)","body":"I don&#39;t think I found an error, at this point I am just curious how this works :)"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678721968,"post_id":75722633,"comment_id":133584403,"body_markdown":"`grow()` might be called due to *some other* use of `ArrayList` *anyhwere* in the tons of Java code that runs before control ever even reaches your `main` method. But your `main` method will not cause `grow()` to be called on `list`.","body":"<code>grow()</code> might be called due to <i>some other</i> use of <code>ArrayList</code> <i>anyhwere</i> in the tons of Java code that runs before control ever even reaches your <code>main</code> method. But your <code>main</code> method will not cause <code>grow()</code> to be called on <code>list</code>."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678722347,"post_id":75722633,"comment_id":133584530,"body_markdown":"@JoachimSauer no, not really, at least if I can trust my profiler. It says: `ProfilerTest.main(String[])` calls `j.u.ArrayList.add(Object)` calls `j.u.ArrayList.add(Object, Object[], int)` calls `j.u.ArrayList.grow()`, calls `j.u.ArrayList.grow(int)` and uses between 7 and 15% time of `main`s time. My current guess would be something like branch prediction... which is kinda hard to prove / disprove","body":"@JoachimSauer no, not really, at least if I can trust my profiler. It says: <code>ProfilerTest.main(String[])</code> calls <code>j.u.ArrayList.add(Object)</code> calls <code>j.u.ArrayList.add(Object, Object[], int)</code> calls <code>j.u.ArrayList.grow()</code>, calls <code>j.u.ArrayList.grow(int)</code> and uses between 7 and 15% time of <code>main</code>s time. My current guess would be something like branch prediction... which is kinda hard to prove / disprove"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678723033,"post_id":75722633,"comment_id":133584719,"body_markdown":"@N4ppeL: put blundly: I don&#39;t trust that your profiler actually tells you what you think it tells you. See my answer for why.","body":"@N4ppeL: put blundly: I don&#39;t trust that your profiler actually tells you what you think it tells you. See my answer for why."}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678722304,"post_id":75724029,"comment_id":133584517,"body_markdown":"Random aside: IDEA (and probably other IDEs as well) have the neat ability to selectively enable breakpoints only after hitting another specified breakpoint (and if the other breakpoint isn&#39;t set up to trigger the debugger you can automagically ignore one breakpoint until some specified point in your code).","body":"Random aside: IDEA (and probably other IDEs as well) have the neat ability to selectively enable breakpoints only after hitting another specified breakpoint (and if the other breakpoint isn&#39;t set up to trigger the debugger you can automagically ignore one breakpoint until some specified point in your code)."},{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678722612,"post_id":75724029,"comment_id":133584610,"body_markdown":"I believe the IDEA profiler wouldn&#39;t tell me the method was called by my own code if it actually wasn&#39;t. See my latest comment below the question where I mention the profilers stack trace.","body":"I believe the IDEA profiler wouldn&#39;t tell me the method was called by my own code if it actually wasn&#39;t. See my latest comment below the question where I mention the profilers stack trace."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1678722855,"post_id":75724029,"comment_id":133584671,"body_markdown":"@N4ppeL: I&#39;m almost certain that you are overestimating the fidelity/resolution that your profiler (and/or your specific settings for it) provide you.","body":"@N4ppeL: I&#39;m almost certain that you are overestimating the fidelity/resolution that your profiler (and/or your specific settings for it) provide you."}],"tags":[],"owner":{"account_id":69443,"reputation":85343,"user_id":202009,"accept_rate":79,"display_name":"Andy Thomas"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678722035,"creation_date":1678722035,"answer_id":75724029,"question_id":75722633,"body_markdown":"It doesn&#39;t. The method `ArrayList.grow(int)` is called when needed.\r\n\r\nHowever, your code isn&#39;t the only use of ArrayList. Before your main method is run, class loaders run. As part of their implementation, they&#39;re using ArrayList.\r\n\r\nYou can see this happening in a debugger. Set a breakpoint on the first statement in your main() method. When it&#39;s hit, then set a breakpoint in `ArrayList.grow(int)`. That breakpoint won&#39;t be hit for your code. \r\n\r\n","title":"Why does ArrayList.add() call ArrayList.grow() without exceeding ArrayList.size()?","body":"<p>It doesn't. The method <code>ArrayList.grow(int)</code> is called when needed.</p>\n<p>However, your code isn't the only use of ArrayList. Before your main method is run, class loaders run. As part of their implementation, they're using ArrayList.</p>\n<p>You can see this happening in a debugger. Set a breakpoint on the first statement in your main() method. When it's hit, then set a breakpoint in <code>ArrayList.grow(int)</code>. That breakpoint won't be hit for your code.</p>\n"},{"comments":[{"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"score":0,"creation_date":1678723741,"post_id":75724178,"comment_id":133584928,"body_markdown":"nice one, I like this. It doesn&#39;t explain why the profiler measures it, but it shows it&#39;s not executed... making it more likely that perhaps the profiler measures code loaded but not executed, due to branch prediction.","body":"nice one, I like this. It doesn&#39;t explain why the profiler measures it, but it shows it&#39;s not executed... making it more likely that perhaps the profiler measures code loaded but not executed, due to branch prediction."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1678724026,"post_id":75724178,"comment_id":133585004,"body_markdown":"I think &quot;branch prediction&quot; is a red herring here. AFAIK that should never be visible in the profiler (outside of slower-than-expected times for some method, perhaps). I suggest you post a **new** question about why you see that method there with all the necessary details (such as which profiler and which settings you are using)","body":"I think &quot;branch prediction&quot; is a red herring here. AFAIK that should never be visible in the profiler (outside of slower-than-expected times for some method, perhaps). I suggest you post a <b>new</b> question about why you see that method there with all the necessary details (such as which profiler and which settings you are using)"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678722972,"creation_date":1678722972,"answer_id":75724178,"question_id":75722633,"body_markdown":"The code in your sample **does not** cause the internal `elementArray` to be resized for the `ArrayList`s referenced by `list`. To demonstrate that, I&#39;ve used nasty reflection tricks to look into `list`:\r\n\r\n    private static final int LOOPS = 1_000_000;\r\n    private static final int LIST_SIZE = 10;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Field elementData = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\r\n        elementData.setAccessible(true);\r\n        for (int i = 0; i &lt; LOOPS; i++) {\r\n            var list = new ArrayList&lt;Integer&gt;(LIST_SIZE);\r\n            var initialLength = ((Object[]) elementData.get(list)).length;\r\n            for (int j = 0; j &lt; LIST_SIZE; j++) {\r\n                list.add(j);\r\n            }\r\n            var endLength = ((Object[]) elementData.get(list)).length;\r\n\r\n            if (initialLength != endLength) {\r\n                throw new Exception(&quot;array was resized!&quot;);\r\n            }\r\n            if (list.size() != LIST_SIZE) {\r\n                throw new Exception(&quot;Unexpected list size!&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nThis needs to be run with `--add-opens=java.base/java.util=ALL-UNNAMED` on recent JDKs, since it&#39;s doing ugly stuff that no production code should do.\r\n\r\nWhat it does however is demonstrate that the `elementData` of the `list`has the same size before and after adding objects to it.","title":"Why does ArrayList.add() call ArrayList.grow() without exceeding ArrayList.size()?","body":"<p>The code in your sample <strong>does not</strong> cause the internal <code>elementArray</code> to be resized for the <code>ArrayList</code>s referenced by <code>list</code>. To demonstrate that, I've used nasty reflection tricks to look into <code>list</code>:</p>\n<pre><code>private static final int LOOPS = 1_000_000;\nprivate static final int LIST_SIZE = 10;\n\npublic static void main(String[] args) throws Exception {\n    Field elementData = ArrayList.class.getDeclaredField(&quot;elementData&quot;);\n    elementData.setAccessible(true);\n    for (int i = 0; i &lt; LOOPS; i++) {\n        var list = new ArrayList&lt;Integer&gt;(LIST_SIZE);\n        var initialLength = ((Object[]) elementData.get(list)).length;\n        for (int j = 0; j &lt; LIST_SIZE; j++) {\n            list.add(j);\n        }\n        var endLength = ((Object[]) elementData.get(list)).length;\n\n        if (initialLength != endLength) {\n            throw new Exception(&quot;array was resized!&quot;);\n        }\n        if (list.size() != LIST_SIZE) {\n            throw new Exception(&quot;Unexpected list size!&quot;);\n        }\n    }\n}\n</code></pre>\n<p>This needs to be run with <code>--add-opens=java.base/java.util=ALL-UNNAMED</code> on recent JDKs, since it's doing ugly stuff that no production code should do.</p>\n<p>What it does however is demonstrate that the <code>elementData</code> of the <code>list</code>has the same size before and after adding objects to it.</p>\n"}],"owner":{"account_id":684610,"reputation":1771,"user_id":540725,"display_name":"N4ppeL"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75724178,"answer_count":2,"score":0,"last_activity_date":1678722972,"creation_date":1678714635,"question_id":75722633,"body_markdown":"EDIT2: rephrasing the question due to more details.\r\n\r\nThis got me curious. Profiling this code:\r\n```java\r\npublic class ProfilerTest {\r\n    private static int loops = 1_000_000_000;\r\n    private static int listSize = 10;\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; loops; i++) {\r\n            var list = new ArrayList&lt;Integer&gt;(listSize);\r\n            for (int j = 0; j &lt; listSize; j++) {\r\n                list.add(j);\r\n            }\r\n            assert list.size() == listSize;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nProfiler says `grow()` gets called by `add(Object)`. Looking at the source, my JDKs implementation of `ArrayList.add(Object)` calls this helper:\r\n```java\r\nprivate void add(E e, Object[] elementData, int s) {\r\n    if (s == elementData.length)\r\n        elementData = grow();\r\n    elementData[s] = e;\r\n    size = s + 1;\r\n}\r\n```\r\nwhich should only call `grow()` when *exceeding* the size (`s`).\r\n\r\nEven when I increase the `initialCapacity` to `2*listSize`, `grow()` gets called. What am I missing here?\r\n\r\n---\r\noriginal question:\r\n---\r\n\r\nI have found through profiling, that one of my methods is sometimes calling `ArrayList.grow()`. The thing is, the method should not call `grow()` at all since I know the desired size. Modifications to the size can happen in other methods though.\r\n\r\nSurprised by this, I did a little benchmark. &lt;s&gt;The results seem strange to me. Not only is `MatchingCapacity` performing much worse, its variability is also much higher, at least for small sizes, which, in my use case are the most common.&lt;/s&gt;\r\n\r\nThe questions I have:\r\n- Is it really possible java calls `grow()` when you fill an ArrayList to its exact amount, or might that just be due to profiler inaccuracies (i.e. subroutine calls `grow()` but sometimes ends up getting measured in parent caller?)\r\n- &lt;s&gt;why is `initialCapacity` slower in the benchmark, is it somehow breaking java compiler optimizations?&lt;/s&gt;\r\n\r\nunfortunately I am getting an error when trying to profile the JMH benchmark for more insights..\r\n\r\nEDIT: as was pointed out in the comments I was reading the numbers all wrong, assuming I was looking at time instead of throughput, so the remaining question is about the profiler.\r\n\r\n```java\r\n@State(Scope.Benchmark)\r\n@BenchmarkMode(Mode.Throughput)\r\n@Warmup(iterations = 1, time = 3)\r\n@Measurement(iterations = 3, time = 3)\r\n@Fork(value=2)\r\npublic class PerformanceTest {\r\n    private int size = 30;\r\n\r\n    @Benchmark\r\n    public ArrayList&lt;Integer&gt; MatchingCapacity() {\r\n        var list = new ArrayList&lt;Integer&gt;(size);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            list.add(i);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    @Benchmark\r\n    public ArrayList&lt;Integer&gt; MismatchingCapacity() {\r\n        var list = new ArrayList&lt;Integer&gt;(size-1);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            list.add(i);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    @Benchmark\r\n    public ArrayList&lt;Integer&gt; OversizedCapacity() {\r\n        var list = new ArrayList&lt;Integer&gt;(size + size/2);\r\n        for (int i = 0; i &lt; size; i++) {\r\n            list.add(i);\r\n        }\r\n        return list;\r\n    }\r\n\r\n    @Benchmark\r\n    public ArrayList&lt;Integer&gt; DefaultCapacity() {\r\n        var list = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; size; i++) {\r\n            list.add(i);\r\n        }\r\n        return list;\r\n    }\r\n}\r\n```\r\n```\r\n# JMH version: 1.35\r\n# VM version: JDK 17.0.3.1, Java HotSpot(TM) 64-Bit Server VM, 17.0.3.1+2-LTS-6\r\n\r\nsize=3\r\nPerformanceTest.DefaultCapacity      thrpt    6  37681589.763 � 10696982.725  ops/s\r\nPerformanceTest.MatchingCapacity     thrpt    6  54285199.864 � 20674575.714  ops/s\r\nPerformanceTest.MismatchingCapacity  thrpt    6  21430358.674 � 11202223.852  ops/s\r\nPerformanceTest.OversizedCapacity    thrpt    6  50519838.911 � 19575866.550  ops/s\r\n\r\nsize=30\r\nPerformanceTest.DefaultCapacity      thrpt    6  4253362.573 �  120027.530  ops/s\r\nPerformanceTest.MatchingCapacity     thrpt    6  8071248.285 � 5138133.875  ops/s\r\nPerformanceTest.MismatchingCapacity  thrpt    6  5108706.433 �  562235.033  ops/s\r\nPerformanceTest.OversizedCapacity    thrpt    6  6867041.239 � 5561825.025  ops/s\r\n\r\nsize=300\r\nPerformanceTest.DefaultCapacity      thrpt    6  466885.040 � 486083.752  ops/s\r\nPerformanceTest.MatchingCapacity     thrpt    6  693234.753 � 268499.890  ops/s\r\nPerformanceTest.MismatchingCapacity  thrpt    6  644182.306 � 324785.510  ops/s\r\nPerformanceTest.OversizedCapacity    thrpt    6  773775.315 �  26808.161  ops/s\r\n\r\nsize=3000\r\nPerformanceTest.DefaultCapacity      thrpt    6  58673.411 � 23803.125  ops/s\r\nPerformanceTest.MatchingCapacity     thrpt    6  64863.127 � 33194.262  ops/s\r\nPerformanceTest.MismatchingCapacity  thrpt    6  58921.951 � 21346.733  ops/s\r\nPerformanceTest.OversizedCapacity    thrpt    6  62658.432 � 32061.866  ops/s\r\n```","title":"Why does ArrayList.add() call ArrayList.grow() without exceeding ArrayList.size()?","body":"<p>EDIT2: rephrasing the question due to more details.</p>\n<p>This got me curious. Profiling this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ProfilerTest {\n    private static int loops = 1_000_000_000;\n    private static int listSize = 10;\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; loops; i++) {\n            var list = new ArrayList&lt;Integer&gt;(listSize);\n            for (int j = 0; j &lt; listSize; j++) {\n                list.add(j);\n            }\n            assert list.size() == listSize;\n        }\n    }\n}\n</code></pre>\n<p>Profiler says <code>grow()</code> gets called by <code>add(Object)</code>. Looking at the source, my JDKs implementation of <code>ArrayList.add(Object)</code> calls this helper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void add(E e, Object[] elementData, int s) {\n    if (s == elementData.length)\n        elementData = grow();\n    elementData[s] = e;\n    size = s + 1;\n}\n</code></pre>\n<p>which should only call <code>grow()</code> when <em>exceeding</em> the size (<code>s</code>).</p>\n<p>Even when I increase the <code>initialCapacity</code> to <code>2*listSize</code>, <code>grow()</code> gets called. What am I missing here?</p>\n<hr />\n<h2>original question:</h2>\n<p>I have found through profiling, that one of my methods is sometimes calling <code>ArrayList.grow()</code>. The thing is, the method should not call <code>grow()</code> at all since I know the desired size. Modifications to the size can happen in other methods though.</p>\n<p>Surprised by this, I did a little benchmark. <s>The results seem strange to me. Not only is <code>MatchingCapacity</code> performing much worse, its variability is also much higher, at least for small sizes, which, in my use case are the most common.</s></p>\n<p>The questions I have:</p>\n<ul>\n<li>Is it really possible java calls <code>grow()</code> when you fill an ArrayList to its exact amount, or might that just be due to profiler inaccuracies (i.e. subroutine calls <code>grow()</code> but sometimes ends up getting measured in parent caller?)</li>\n<li><s>why is <code>initialCapacity</code> slower in the benchmark, is it somehow breaking java compiler optimizations?</s></li>\n</ul>\n<p>unfortunately I am getting an error when trying to profile the JMH benchmark for more insights..</p>\n<p>EDIT: as was pointed out in the comments I was reading the numbers all wrong, assuming I was looking at time instead of throughput, so the remaining question is about the profiler.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@State(Scope.Benchmark)\n@BenchmarkMode(Mode.Throughput)\n@Warmup(iterations = 1, time = 3)\n@Measurement(iterations = 3, time = 3)\n@Fork(value=2)\npublic class PerformanceTest {\n    private int size = 30;\n\n    @Benchmark\n    public ArrayList&lt;Integer&gt; MatchingCapacity() {\n        var list = new ArrayList&lt;Integer&gt;(size);\n        for (int i = 0; i &lt; size; i++) {\n            list.add(i);\n        }\n        return list;\n    }\n\n    @Benchmark\n    public ArrayList&lt;Integer&gt; MismatchingCapacity() {\n        var list = new ArrayList&lt;Integer&gt;(size-1);\n        for (int i = 0; i &lt; size; i++) {\n            list.add(i);\n        }\n        return list;\n    }\n\n    @Benchmark\n    public ArrayList&lt;Integer&gt; OversizedCapacity() {\n        var list = new ArrayList&lt;Integer&gt;(size + size/2);\n        for (int i = 0; i &lt; size; i++) {\n            list.add(i);\n        }\n        return list;\n    }\n\n    @Benchmark\n    public ArrayList&lt;Integer&gt; DefaultCapacity() {\n        var list = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; size; i++) {\n            list.add(i);\n        }\n        return list;\n    }\n}\n</code></pre>\n<pre><code># JMH version: 1.35\n# VM version: JDK 17.0.3.1, Java HotSpot(TM) 64-Bit Server VM, 17.0.3.1+2-LTS-6\n\nsize=3\nPerformanceTest.DefaultCapacity      thrpt    6  37681589.763 � 10696982.725  ops/s\nPerformanceTest.MatchingCapacity     thrpt    6  54285199.864 � 20674575.714  ops/s\nPerformanceTest.MismatchingCapacity  thrpt    6  21430358.674 � 11202223.852  ops/s\nPerformanceTest.OversizedCapacity    thrpt    6  50519838.911 � 19575866.550  ops/s\n\nsize=30\nPerformanceTest.DefaultCapacity      thrpt    6  4253362.573 �  120027.530  ops/s\nPerformanceTest.MatchingCapacity     thrpt    6  8071248.285 � 5138133.875  ops/s\nPerformanceTest.MismatchingCapacity  thrpt    6  5108706.433 �  562235.033  ops/s\nPerformanceTest.OversizedCapacity    thrpt    6  6867041.239 � 5561825.025  ops/s\n\nsize=300\nPerformanceTest.DefaultCapacity      thrpt    6  466885.040 � 486083.752  ops/s\nPerformanceTest.MatchingCapacity     thrpt    6  693234.753 � 268499.890  ops/s\nPerformanceTest.MismatchingCapacity  thrpt    6  644182.306 � 324785.510  ops/s\nPerformanceTest.OversizedCapacity    thrpt    6  773775.315 �  26808.161  ops/s\n\nsize=3000\nPerformanceTest.DefaultCapacity      thrpt    6  58673.411 � 23803.125  ops/s\nPerformanceTest.MatchingCapacity     thrpt    6  64863.127 � 33194.262  ops/s\nPerformanceTest.MismatchingCapacity  thrpt    6  58921.951 � 21346.733  ops/s\nPerformanceTest.OversizedCapacity    thrpt    6  62658.432 � 32061.866  ops/s\n</code></pre>\n"},{"tags":["java","openapi","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"score":0,"creation_date":1678749225,"post_id":75724153,"comment_id":133590962,"body_markdown":"@tbatch Is there a way we can have same date format for body and url parameter ? like yyyy-mm-dd","body":"@tbatch Is there a way we can have same date format for body and url parameter ? like yyyy-mm-dd"},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1678801671,"post_id":75724153,"comment_id":133600993,"body_markdown":"Can you please share your generated code?  Both the parameter and the field should lookhave an annotation on them that sets the date time format.  They should both be  `@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)`.  When you say it uses the default date conversion, are you saying it does this on serialization or deserialization, or both.  Is your ObjectMapper configured?  Have you registered the `JavaTimeModule` with it?  It appears that none of your problems have to do with the `openapi-generator` and have everything to do with your implementaiton of Jackson.","body":"Can you please share your generated code?  Both the parameter and the field should lookhave an annotation on them that sets the date time format.  They should both be  <code>@DateTimeFormat(iso = DateTimeFormat.ISO.DATE)</code>.  When you say it uses the default date conversion, are you saying it does this on serialization or deserialization, or both.  Is your ObjectMapper configured?  Have you registered the <code>JavaTimeModule</code> with it?  It appears that none of your problems have to do with the <code>openapi-generator</code> and have everything to do with your implementaiton of Jackson."}],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678722849,"creation_date":1678722849,"question_id":75724153,"body_markdown":"I am generating server code with spring boot. I am facing issue with date in path vs date in body. \r\n\r\nIf I use java8 config, my body dates are converted using jackson which uses yyyy-mm-dd\r\n\r\nBut if I put date in path parameter it uses default date conversion which expects date in dd/mm/yyyy format. It is very confusing for consumer. \r\n\r\nAs part of request body \r\n\r\n        myDate:\r\n          type: string\r\n          format: date\r\n          description: &#39;my date&#39;\r\n          example: &#39;2018-02-05&#39;\r\n\r\nAs part of path param \r\n\r\n        - in: path\r\n          name: my_date\r\n          description: &quot;my date&quot;\r\n          example: &#39;2018-02-05&#39;\r\n          required: true\r\n          schema:\r\n            type: string\r\n            format: date\r\n\r\n\r\nas part of path parameter,  Here is debugging screenshot. LocalLisedDateTime[![enter image description here][1]][1]\r\n\r\n[![Debugging screenshots][2]][2]\r\n\r\n  [1]: https://i.stack.imgur.com/dAkf6.png\r\n  [2]: https://i.stack.imgur.com/MGyo4.png\r\n\r\nmaven goal \r\n\r\n                        &lt;configuration&gt;\r\n                            &lt;typeMappings&gt;\r\n                                &lt;typeMapping&gt;Double=java.math.BigDecimal&lt;/typeMapping&gt;\r\n                            &lt;/typeMappings&gt;\r\n                            &lt;apiPackage&gt;package.api&lt;/apiPackage&gt;\r\n                            &lt;modelPackage&gt;package.model&lt;/modelPackage&gt;\r\n                            &lt;invokerPackage&gt;package.internal&lt;/invokerPackage&gt;\r\n                            &lt;inputSpec&gt;\r\n                                ${basedir}/src/main/resources/spec/thespec.yaml\r\n                            &lt;/inputSpec&gt;\r\n                            &lt;language&gt;spring&lt;/language&gt;\r\n                            &lt;withXml&gt;true&lt;/withXml&gt;\r\n                            &lt;output&gt;${project.build.directory}/generated-sources/swagger&lt;/output&gt;\r\n                            &lt;generateApiTests&gt;true&lt;/generateApiTests&gt;\r\n                            &lt;ignoreFileOverride&gt;${project.basedir}/.swagger-codegen-ignore&lt;/ignoreFileOverride&gt;\r\n                            &lt;configOptions&gt;\r\n                                &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                                &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                                &lt;withXml&gt;true&lt;/withXml&gt;\r\n                                &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\r\n                                &lt;!--swaggerDocketConfig&gt;true&lt;/swaggerDocketConfig--&gt;\r\n                                &lt;serializableModel&gt;true&lt;/serializableModel&gt;\r\n                                &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\r\n                                &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\r\n                                &lt;notNullJacksonAnnotation&gt;true&lt;/notNullJacksonAnnotation&gt;\r\n                            &lt;/configOptions&gt;\r\n                        &lt;/configuration&gt;\r\n","title":"date parameter as part of path uses default date conversion for open API codegen","body":"<p>I am generating server code with spring boot. I am facing issue with date in path vs date in body.</p>\n<p>If I use java8 config, my body dates are converted using jackson which uses yyyy-mm-dd</p>\n<p>But if I put date in path parameter it uses default date conversion which expects date in dd/mm/yyyy format. It is very confusing for consumer.</p>\n<p>As part of request body</p>\n<pre><code>    myDate:\n      type: string\n      format: date\n      description: 'my date'\n      example: '2018-02-05'\n</code></pre>\n<p>As part of path param</p>\n<pre><code>    - in: path\n      name: my_date\n      description: &quot;my date&quot;\n      example: '2018-02-05'\n      required: true\n      schema:\n        type: string\n        format: date\n</code></pre>\n<p>as part of path parameter,  Here is debugging screenshot. LocalLisedDateTime<a href=\"https://i.stack.imgur.com/dAkf6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dAkf6.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/MGyo4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MGyo4.png\" alt=\"Debugging screenshots\" /></a></p>\n<p>maven goal</p>\n<pre><code>                    &lt;configuration&gt;\n                        &lt;typeMappings&gt;\n                            &lt;typeMapping&gt;Double=java.math.BigDecimal&lt;/typeMapping&gt;\n                        &lt;/typeMappings&gt;\n                        &lt;apiPackage&gt;package.api&lt;/apiPackage&gt;\n                        &lt;modelPackage&gt;package.model&lt;/modelPackage&gt;\n                        &lt;invokerPackage&gt;package.internal&lt;/invokerPackage&gt;\n                        &lt;inputSpec&gt;\n                            ${basedir}/src/main/resources/spec/thespec.yaml\n                        &lt;/inputSpec&gt;\n                        &lt;language&gt;spring&lt;/language&gt;\n                        &lt;withXml&gt;true&lt;/withXml&gt;\n                        &lt;output&gt;${project.build.directory}/generated-sources/swagger&lt;/output&gt;\n                        &lt;generateApiTests&gt;true&lt;/generateApiTests&gt;\n                        &lt;ignoreFileOverride&gt;${project.basedir}/.swagger-codegen-ignore&lt;/ignoreFileOverride&gt;\n                        &lt;configOptions&gt;\n                            &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                            &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                            &lt;withXml&gt;true&lt;/withXml&gt;\n                            &lt;interfaceOnly&gt;true&lt;/interfaceOnly&gt;\n                            &lt;!--swaggerDocketConfig&gt;true&lt;/swaggerDocketConfig--&gt;\n                            &lt;serializableModel&gt;true&lt;/serializableModel&gt;\n                            &lt;delegatePattern&gt;true&lt;/delegatePattern&gt;\n                            &lt;bigDecimalAsString&gt;true&lt;/bigDecimalAsString&gt;\n                            &lt;notNullJacksonAnnotation&gt;true&lt;/notNullJacksonAnnotation&gt;\n                        &lt;/configOptions&gt;\n                    &lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","multithreading","java-8","java-11"],"comments":[{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1546961385,"post_id":54084915,"comment_id":95022193,"body_markdown":"Are you sure your testing conditions are exactly the same besides the JDK version? I see different max heap and the app name seems different from your 2 profiling snapshots","body":"Are you sure your testing conditions are exactly the same besides the JDK version? I see different max heap and the app name seems different from your 2 profiling snapshots"},{"owner":{"account_id":3113275,"reputation":1594,"user_id":2634612,"accept_rate":78,"display_name":"Mahadeva"},"score":0,"creation_date":1546961551,"post_id":54084915,"comment_id":95022281,"body_markdown":"Yes same code is being checked in jdk11. IntelliJ configuration were changed to test this code","body":"Yes same code is being checked in jdk11. IntelliJ configuration were changed to test this code"},{"owner":{"account_id":5145435,"reputation":4720,"user_id":4121573,"accept_rate":100,"display_name":"Adonis"},"score":0,"creation_date":1546961606,"post_id":54084915,"comment_id":95022308,"body_markdown":"What about all the other settings? Same hardware, same params given to the VM? Same GC? ...etc","body":"What about all the other settings? Same hardware, same params given to the VM? Same GC? ...etc"}],"answers":[{"comments":[{"owner":{"account_id":3113275,"reputation":1594,"user_id":2634612,"accept_rate":78,"display_name":"Mahadeva"},"score":0,"creation_date":1546920865,"post_id":54085134,"comment_id":95003323,"body_markdown":"Stephen, The problem is that I have no control over `poolRunner` method. Assume this comes from some library, which internally uses ForkJoinPool, but I will have loop over this method.","body":"Stephen, The problem is that I have no control over <code>poolRunner</code> method. Assume this comes from some library, which internally uses ForkJoinPool, but I will have loop over this method."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1546921076,"post_id":54085134,"comment_id":95003377,"body_markdown":"Sorry, but there is no solution under those circumstances.   If that is the problem, them you need to **change** the problem if you want a solution.","body":"Sorry, but there is no solution under those circumstances.   If that is the problem, them you need to <b>change</b> the problem if you want a solution."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1546925827,"post_id":54085134,"comment_id":95004468,"body_markdown":"I don&#39;t know.  But I don&#39;t think it matters if you do things the right way.","body":"I don&#39;t know.  But I don&#39;t think it matters if you do things the right way."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1546962830,"post_id":54085134,"comment_id":95023079,"body_markdown":"The code is not only creating a huge number of pools, it forgets to call `shutdown()` on each pool after its use, so nothing in the specification guarantees that the worker threads will terminate at all. So for a 16 core machine, it could create 32000 never dying threads, all within the specification.","body":"The code is not only creating a huge number of pools, it forgets to call <code>shutdown()</code> on each pool after its use, so nothing in the specification guarantees that the worker threads will terminate at all. So for a 16 core machine, it could create 32000 never dying threads, all within the specification."},{"owner":{"account_id":1416522,"reputation":91364,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1546998843,"post_id":54085134,"comment_id":95037351,"body_markdown":"There was a reason we didn&#39;t enable parallel streams to run in a specified pool, but instead always run in the common pool - to prevent exactly the sort of shoot-yourself-in-the-foot that the author has taken extreme measure to arrange here.  The author of `poolRunner()` thought they were being clever by &quot;outsmarting&quot; the runtime, and cutting and pasting &quot;workaround&quot; code from stack overflow that they didn&#39;t understand.  This code is terminally broken; your only option is to not call it.","body":"There was a reason we didn&#39;t enable parallel streams to run in a specified pool, but instead always run in the common pool - to prevent exactly the sort of shoot-yourself-in-the-foot that the author has taken extreme measure to arrange here.  The author of <code>poolRunner()</code> thought they were being clever by &quot;outsmarting&quot; the runtime, and cutting and pasting &quot;workaround&quot; code from stack overflow that they didn&#39;t understand.  This code is terminally broken; your only option is to not call it."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546921000,"creation_date":1546920781,"answer_id":54085134,"question_id":54084915,"body_markdown":"You are doing this incorrectly.  \r\n\r\n&gt; In above code, I am creating a `ForkJoinPool` and submitting some tasks to it. \r\n\r\nActually, you are creating 2000 `ForkJoinPool` instances...\r\n\r\nInstead of doing that, you should create a single `ForkJoinPool` with an amount of parallelism (i.e. number of threads) that is appropriate to the task at hand.\r\n\r\nCreating a huge number (i.e. thousands) of threads is a really bad idea.  Even if you can do it without triggering an OOME, you will be consuming a lot of stack and heap memory and placing a lot of load on the scheduler and the garbage collector ... for no real benefit.","title":"ForkJoinPool performance Java 8 vs 11","body":"<p>You are doing this incorrectly.  </p>\n\n<blockquote>\n  <p>In above code, I am creating a <code>ForkJoinPool</code> and submitting some tasks to it. </p>\n</blockquote>\n\n<p>Actually, you are creating 2000 <code>ForkJoinPool</code> instances...</p>\n\n<p>Instead of doing that, you should create a single <code>ForkJoinPool</code> with an amount of parallelism (i.e. number of threads) that is appropriate to the task at hand.</p>\n\n<p>Creating a huge number (i.e. thousands) of threads is a really bad idea.  Even if you can do it without triggering an OOME, you will be consuming a lot of stack and heap memory and placing a lot of load on the scheduler and the garbage collector ... for no real benefit.</p>\n"},{"comments":[{"owner":{"account_id":3113275,"reputation":1594,"user_id":2634612,"accept_rate":78,"display_name":"Mahadeva"},"score":0,"creation_date":1547326405,"post_id":54097002,"comment_id":95157314,"body_markdown":"Holger, thanks for this answer. I see calling `shutdown()` explicitly on pool does improves performance, but the change is not under my control. Looks like this changes needs to be done by library authors.","body":"Holger, thanks for this answer. I see calling <code>shutdown()</code> explicitly on pool does improves performance, but the change is not under my control. Looks like this changes needs to be done by library authors."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1678722797,"creation_date":1546969220,"answer_id":54097002,"question_id":54084915,"body_markdown":"Your code is creating a huge amount of `ForkJoinPool` instances and is never calling `shutdown()` on any pool after its use. Since in case of Java&#160;8, nothing in the specification guarantees that the worker threads will terminate, this code could even end up with 2000 (⟨*number of pools*⟩) times ⟨*number of cores*⟩ threads.\r\n\r\nIn practice, the observed behavior stems from an [undocumented *idle timeout*] of two seconds. Note that according to the comment, the consequence of an elapsed timeout is an attempt *to shrink the number of workers* which is different to just terminating. So if *n* thread experience the timeout, not all *n* threads terminate but the number of threads gets reduced by one and the remaining threads may wait again. Further, the phrase “initial timeout value” already hints at it, the actual timeout gets incremented each time it happens. So it takes &lt;code&gt;*n* * (*n* + 1)&lt;/code&gt; seconds for *n* idle worker thread to terminate due to this (undocumented) timeout.\r\n\r\nStarting with Java&#160;9, there is a configurable *keepAliveTime* which can be specified in a [new constructor] of `ForkJoinPool`, which also documents the default value:\r\n\r\n&gt; &lt;dl&gt;&lt;dt&gt;&lt;code&gt;keepAliveTime&lt;/code&gt;&lt;/dt&gt;&lt;dd&gt;the elapsed time since last use before a thread is terminated (and then later replaced if needed). For the default value, use &lt;code&gt;60, TimeUnit.SECONDS&lt;/code&gt;.&lt;/dd&gt;&lt;/dl&gt;\r\n\r\nThis documentation may mislead into thinking that now all worker thread may terminate together when being idle for *keepAliveTime*, but in fact, there’s still a behavior of only shrinking the pool by one at a time, though now, the time is not increasing. So now, it takes up to &lt;code&gt;60 * *n*&lt;/code&gt; seconds for *n* idle worker thread to terminate. Since the previous behavior was unspecified, it’s not even an incompatibility.\r\n\r\nIt must be emphasized that even with the same timeout behavior, the resulting maximum number of threads could change, as when a newer JVM with better code optimizations reduces the execution time of the actual operations (without artificial insertions of `Thread.sleep(…)`) it would create new threads faster while the termination still is bound to wall-clock time.\r\n\r\n---\r\n\r\nThe takeaway is that you should never rely on the automatic worker thread termination when you know that a thread pool is not needed anymore. Instead, you should call `shutdown()` when you are done.\r\n\r\n---\r\n\r\nYou may verify the behavior with the following code:\r\n\r\n    int threadNumber = 8;\r\n    ForkJoinPool pool = new ForkJoinPool(threadNumber);\r\n    // force the creation of all worker threads\r\n    pool.invokeAll(Collections.nCopies(threadNumber*2, () -&gt; {\r\n        Thread.sleep(500);\r\n        return &quot;&quot;;\r\n    }));\r\n    int oldNum = pool.getPoolSize();\r\n    System.out.println(oldNum+&quot; threads; waiting for dying threads&quot;);\r\n    long t0 = System.nanoTime();\r\n    while(oldNum &gt; 0) {\r\n        while(pool.getPoolSize()==oldNum)\r\n            LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(200));\r\n        long t1 = System.nanoTime();\r\n        oldNum = pool.getPoolSize();\r\n        System.out.println(threadNumber-oldNum+&quot; threads terminated after &quot;\r\n            +TimeUnit.NANOSECONDS.toSeconds(t1 - t0)+&quot;s&quot;);\r\n    }\r\n\r\n####Java&#160;8:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    8 threads; waiting for dying threads\r\n    1 threads terminated after 2s\r\n    2 threads terminated after 6s\r\n    3 threads terminated after 12s\r\n    4 threads terminated after 20s\r\n    5 threads terminated after 30s\r\n    6 threads terminated after 42s\r\n    7 threads terminated after 56s\r\n    8 threads terminated after 72s\r\n\r\n####Java&#160;11:\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    8 threads; waiting for dying threads\r\n    1 threads terminated after 60s\r\n    2 threads terminated after 120s\r\n    3 threads terminated after 180s\r\n    4 threads terminated after 240s\r\n    5 threads terminated after 300s\r\n    6 threads terminated after 360s\r\n    7 threads terminated after 420s\r\n&lt;sup&gt;Never finished, apparently, at least one last worker thread stays alive&lt;/sup&gt;\r\n\r\n\r\n[undocumented *idle timeout*]: https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ForkJoinPool.java#l1143\r\n\r\n[new constructor]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#%3Cinit%3E(int,java.util.concurrent.ForkJoinPool.ForkJoinWorkerThreadFactory,java.lang.Thread.UncaughtExceptionHandler,boolean,int,int,int,java.util.function.Predicate,long,java.util.concurrent.TimeUnit)","title":"ForkJoinPool performance Java 8 vs 11","body":"<p>Your code is creating a huge amount of <code>ForkJoinPool</code> instances and is never calling <code>shutdown()</code> on any pool after its use. Since in case of Java 8, nothing in the specification guarantees that the worker threads will terminate, this code could even end up with 2000 (⟨<em>number of pools</em>⟩) times ⟨<em>number of cores</em>⟩ threads.</p>\n<p>In practice, the observed behavior stems from an <a href=\"https://hg.openjdk.org/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/concurrent/ForkJoinPool.java#l1143\" rel=\"nofollow noreferrer\">undocumented <em>idle timeout</em></a> of two seconds. Note that according to the comment, the consequence of an elapsed timeout is an attempt <em>to shrink the number of workers</em> which is different to just terminating. So if <em>n</em> thread experience the timeout, not all <em>n</em> threads terminate but the number of threads gets reduced by one and the remaining threads may wait again. Further, the phrase “initial timeout value” already hints at it, the actual timeout gets incremented each time it happens. So it takes <code><em>n</em> * (<em>n</em> + 1)</code> seconds for <em>n</em> idle worker thread to terminate due to this (undocumented) timeout.</p>\n<p>Starting with Java 9, there is a configurable <em>keepAliveTime</em> which can be specified in a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#%3Cinit%3E(int,java.util.concurrent.ForkJoinPool.ForkJoinWorkerThreadFactory,java.lang.Thread.UncaughtExceptionHandler,boolean,int,int,int,java.util.function.Predicate,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\">new constructor</a> of <code>ForkJoinPool</code>, which also documents the default value:</p>\n<blockquote>\n<dl><dt><code>keepAliveTime</code></dt><dd>the elapsed time since last use before a thread is terminated (and then later replaced if needed). For the default value, use <code>60, TimeUnit.SECONDS</code>.</dd></dl>\n</blockquote>\n<p>This documentation may mislead into thinking that now all worker thread may terminate together when being idle for <em>keepAliveTime</em>, but in fact, there’s still a behavior of only shrinking the pool by one at a time, though now, the time is not increasing. So now, it takes up to <code>60 * <em>n</em></code> seconds for <em>n</em> idle worker thread to terminate. Since the previous behavior was unspecified, it’s not even an incompatibility.</p>\n<p>It must be emphasized that even with the same timeout behavior, the resulting maximum number of threads could change, as when a newer JVM with better code optimizations reduces the execution time of the actual operations (without artificial insertions of <code>Thread.sleep(…)</code>) it would create new threads faster while the termination still is bound to wall-clock time.</p>\n<hr />\n<p>The takeaway is that you should never rely on the automatic worker thread termination when you know that a thread pool is not needed anymore. Instead, you should call <code>shutdown()</code> when you are done.</p>\n<hr />\n<p>You may verify the behavior with the following code:</p>\n<pre><code>int threadNumber = 8;\nForkJoinPool pool = new ForkJoinPool(threadNumber);\n// force the creation of all worker threads\npool.invokeAll(Collections.nCopies(threadNumber*2, () -&gt; {\n    Thread.sleep(500);\n    return &quot;&quot;;\n}));\nint oldNum = pool.getPoolSize();\nSystem.out.println(oldNum+&quot; threads; waiting for dying threads&quot;);\nlong t0 = System.nanoTime();\nwhile(oldNum &gt; 0) {\n    while(pool.getPoolSize()==oldNum)\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(200));\n    long t1 = System.nanoTime();\n    oldNum = pool.getPoolSize();\n    System.out.println(threadNumber-oldNum+&quot; threads terminated after &quot;\n        +TimeUnit.NANOSECONDS.toSeconds(t1 - t0)+&quot;s&quot;);\n}\n</code></pre>\n<p>####Java 8:</p>\n<pre class=\"lang-none prettyprint-override\"><code>8 threads; waiting for dying threads\n1 threads terminated after 2s\n2 threads terminated after 6s\n3 threads terminated after 12s\n4 threads terminated after 20s\n5 threads terminated after 30s\n6 threads terminated after 42s\n7 threads terminated after 56s\n8 threads terminated after 72s\n</code></pre>\n<p>####Java 11:</p>\n<pre class=\"lang-none prettyprint-override\"><code>8 threads; waiting for dying threads\n1 threads terminated after 60s\n2 threads terminated after 120s\n3 threads terminated after 180s\n4 threads terminated after 240s\n5 threads terminated after 300s\n6 threads terminated after 360s\n7 threads terminated after 420s\n</code></pre>\n<p><sup>Never finished, apparently, at least one last worker thread stays alive</sup></p>\n"}],"owner":{"account_id":3113275,"reputation":1594,"user_id":2634612,"accept_rate":78,"display_name":"Mahadeva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5541,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1678722797,"creation_date":1546918876,"question_id":54084915,"body_markdown":"Consider the following piece of code:\r\n\r\n    package com.sarvagya;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ForkJoinPool;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Streamer {\r\n        private static final int LOOP_COUNT  = 2000;\r\n        public static void main(String[] args){\r\n            try{\r\n                for(int i = 0; i &lt; LOOP_COUNT; ++i){\r\n                    poolRunner();\r\n                    System.out.println(&quot;done loop &quot; + i);\r\n                    try{\r\n                        Thread.sleep(50L);\r\n                    }\r\n                    catch (Exception e){\r\n                        System.out.println(e);\r\n                    }\r\n                }\r\n            }\r\n            catch (ExecutionException | InterruptedException e){\r\n                System.out.println(e);\r\n            }\r\n    \r\n            // Add a delay outside the loop to make sure all daemon threads are cleared before main exits.\r\n            try{\r\n                Thread.sleep(10 * 60 * 1000L);\r\n            }\r\n            catch (Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * poolRunner method.\r\n         * Assume I don&#39;t have any control over this method e.g. done by some library.\r\n         * @throws InterruptedException\r\n         * @throws ExecutionException\r\n         */\r\n        private static void poolRunner() throws InterruptedException, ExecutionException {\r\n            ForkJoinPool pool = new ForkJoinPool();\r\n            pool.submit(() -&gt;{\r\n                List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7,8,9,10, 11,12,14,15,16);\r\n                List&lt;Integer&gt; collect = numbers.stream()\r\n                        .parallel()\r\n                        .filter(xx -&gt; xx &gt; 5)\r\n                        .collect(Collectors.toList());\r\n                System.out.println(collect);\r\n            }).get();\r\n        }\r\n    }\r\n\r\nIn above code,`poolRunner` method is creating a `ForkJoinPool` and submitting some tasks to it. When using Java 8 and keeping LOOP_COUNT as 2000, we could see max threads created was about 3600 as seen below\r\n[![Profiling info][1]][1]\r\nfig: Profiling\r\n\r\n [![Max Threads in JDK 8][2]][2] \r\nfig: Threads info.\r\n\r\nAll these threads goes down to almost 10 after some period of time. However, in OpenJDK 11 keeping same LOOP_COUNT is going to produce following error:\r\n\r\n    [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\r\n    [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\r\n    [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\r\n    Exception in thread &quot;ForkJoinPool-509-worker-5&quot; java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n    \tat java.base/java.lang.Thread.start0(Native Method)\r\n    \tat java.base/java.lang.Thread.start(Thread.java:803)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.createWorker(ForkJoinPool.java:1329)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.tryAddWorker(ForkJoinPool.java:1352)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.signalWork(ForkJoinPool.java:1476)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.deregisterWorker(ForkJoinPool.java:1458)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:187)\r\n\r\n\r\nIt reaches max thread limit very soon. Keeping LOOP_COUNT to 500, works fine, however, these threads are cleared very very slowly and reaches plateau of about 500 threads. See the images below:\r\n\r\n[![Thread info in OpenJDK 11][3]][3]\r\nfig: Thread info in OpenJDK 11\r\n\r\n[![Profile Info][4]][4]\r\nfig: Profiling in OpenJDK 11\r\n\r\nThreads were **PARKED** in JDK 8, but **WAIT** in JDK 11. Number of daemon threads should be reduced in Java 11 as well , however, it is slow and doesn&#39;t work as expected. Moreover, assume I don&#39;t have control over `poolRunner` method. Consider this method is provided by some external library.\r\n\r\nIs this issue with OpenJDK 11 or am doing something wrong in code. Thanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l3Jho.png\r\n  [2]: https://i.stack.imgur.com/jpomr.png\r\n  [3]: https://i.stack.imgur.com/gvUU9.png\r\n  [4]: https://i.stack.imgur.com/dNB1r.png","title":"ForkJoinPool performance Java 8 vs 11","body":"<p>Consider the following piece of code:</p>\n\n<pre><code>package com.sarvagya;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.stream.Collectors;\n\npublic class Streamer {\n    private static final int LOOP_COUNT  = 2000;\n    public static void main(String[] args){\n        try{\n            for(int i = 0; i &lt; LOOP_COUNT; ++i){\n                poolRunner();\n                System.out.println(\"done loop \" + i);\n                try{\n                    Thread.sleep(50L);\n                }\n                catch (Exception e){\n                    System.out.println(e);\n                }\n            }\n        }\n        catch (ExecutionException | InterruptedException e){\n            System.out.println(e);\n        }\n\n        // Add a delay outside the loop to make sure all daemon threads are cleared before main exits.\n        try{\n            Thread.sleep(10 * 60 * 1000L);\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n    }\n\n    /**\n     * poolRunner method.\n     * Assume I don't have any control over this method e.g. done by some library.\n     * @throws InterruptedException\n     * @throws ExecutionException\n     */\n    private static void poolRunner() throws InterruptedException, ExecutionException {\n        ForkJoinPool pool = new ForkJoinPool();\n        pool.submit(() -&gt;{\n            List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7,8,9,10, 11,12,14,15,16);\n            List&lt;Integer&gt; collect = numbers.stream()\n                    .parallel()\n                    .filter(xx -&gt; xx &gt; 5)\n                    .collect(Collectors.toList());\n            System.out.println(collect);\n        }).get();\n    }\n}\n</code></pre>\n\n<p>In above code,<code>poolRunner</code> method is creating a <code>ForkJoinPool</code> and submitting some tasks to it. When using Java 8 and keeping LOOP_COUNT as 2000, we could see max threads created was about 3600 as seen below\n<a href=\"https://i.stack.imgur.com/l3Jho.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l3Jho.png\" alt=\"Profiling info\"></a>\nfig: Profiling</p>\n\n<p><a href=\"https://i.stack.imgur.com/jpomr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jpomr.png\" alt=\"Max Threads in JDK 8\"></a> \nfig: Threads info.</p>\n\n<p>All these threads goes down to almost 10 after some period of time. However, in OpenJDK 11 keeping same LOOP_COUNT is going to produce following error:</p>\n\n<pre><code>[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\nException in thread \"ForkJoinPool-509-worker-5\" java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n    at java.base/java.lang.Thread.start0(Native Method)\n    at java.base/java.lang.Thread.start(Thread.java:803)\n    at java.base/java.util.concurrent.ForkJoinPool.createWorker(ForkJoinPool.java:1329)\n    at java.base/java.util.concurrent.ForkJoinPool.tryAddWorker(ForkJoinPool.java:1352)\n    at java.base/java.util.concurrent.ForkJoinPool.signalWork(ForkJoinPool.java:1476)\n    at java.base/java.util.concurrent.ForkJoinPool.deregisterWorker(ForkJoinPool.java:1458)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:187)\n</code></pre>\n\n<p>It reaches max thread limit very soon. Keeping LOOP_COUNT to 500, works fine, however, these threads are cleared very very slowly and reaches plateau of about 500 threads. See the images below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gvUU9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvUU9.png\" alt=\"Thread info in OpenJDK 11\"></a>\nfig: Thread info in OpenJDK 11</p>\n\n<p><a href=\"https://i.stack.imgur.com/dNB1r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dNB1r.png\" alt=\"Profile Info\"></a>\nfig: Profiling in OpenJDK 11</p>\n\n<p>Threads were <strong>PARKED</strong> in JDK 8, but <strong>WAIT</strong> in JDK 11. Number of daemon threads should be reduced in Java 11 as well , however, it is slow and doesn't work as expected. Moreover, assume I don't have control over <code>poolRunner</code> method. Consider this method is provided by some external library.</p>\n\n<p>Is this issue with OpenJDK 11 or am doing something wrong in code. Thanks.</p>\n"},{"tags":["java","css","javafx-8","javafx-11"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":1,"creation_date":1678736550,"post_id":75724055,"comment_id":133588386,"body_markdown":"A menu item is composed of several components, one of which is the label. Take a look at [modena.css](https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css); search for &quot;.menu-item&quot;. You&#39;ll have to override those css rules to achieve your desired results (i.e., redefine things like .menu-item &gt; .label in your app&#39;s css file).","body":"A menu item is composed of several components, one of which is the label. Take a look at <a href=\"https://github.com/openjdk/jfx/blob/master/modules/javafx.controls/src/main/resources/com/sun/javafx/scene/control/skin/modena/modena.css\" rel=\"nofollow noreferrer\">modena.css</a>; search for &quot;.menu-item&quot;. You&#39;ll have to override those css rules to achieve your desired results (i.e., redefine things like .menu-item &gt; .label in your app&#39;s css file)."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1679953112,"post_id":75724055,"comment_id":133810430,"body_markdown":"[This](https://stackoverflow.com/questions/34682448/javafx-css-font-color-in-menuitem) or [this](https://forums.oracle.com/ords/apexds/post/using-custom-fonts-on-menubar-menu-and-or-menuitem-3447) may help.","body":"<a href=\"https://stackoverflow.com/questions/34682448/javafx-css-font-color-in-menuitem\">This</a> or <a href=\"https://forums.oracle.com/ords/apexds/post/using-custom-fonts-on-menubar-menu-and-or-menuitem-3447\" rel=\"nofollow noreferrer\">this</a> may help."}],"owner":{"account_id":27931759,"reputation":1,"user_id":21329606,"display_name":"Mysterio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678722200,"creation_date":1678722200,"question_id":75724055,"body_markdown":"I have been trying to change the font of the menu, but no luck. I do not want the background to be white, but the font. This is my code: Can someone please help me?\r\n\r\n```\r\n// Add the menu items to the menu\r\n        Menu menu = new Menu(&quot;Menu&quot;);\r\n        menu.getItems().addAll(rulesItem, oddsItem, exitItem);\r\n        menu.setStyle(&quot;-fx-font-size: 18; -fx-text-fill: white;&quot;);\r\n```\r\n\r\n\r\n\r\nI tried -fx-text-fill, but it doesn&#39;t work. I also tried setTextFill, but that doesn&#39;t work as well.","title":"Menu Font in Javafx","body":"<p>I have been trying to change the font of the menu, but no luck. I do not want the background to be white, but the font. This is my code: Can someone please help me?</p>\n<pre><code>// Add the menu items to the menu\n        Menu menu = new Menu(&quot;Menu&quot;);\n        menu.getItems().addAll(rulesItem, oddsItem, exitItem);\n        menu.setStyle(&quot;-fx-font-size: 18; -fx-text-fill: white;&quot;);\n</code></pre>\n<p>I tried -fx-text-fill, but it doesn't work. I also tried setTextFill, but that doesn't work as well.</p>\n"},{"tags":["java","file","touch"],"comments":[{"owner":{"account_id":367746,"reputation":24129,"user_id":714112,"accept_rate":80,"display_name":"Sridhar Sarnobat"},"score":0,"creation_date":1495345063,"post_id":1406473,"comment_id":75208526,"body_markdown":"Someone should submit this as an enhancement request to unix4j: https://github.com/tools4j/unix4j","body":"Someone should submit this as an enhancement request to unix4j: <a href=\"https://github.com/tools4j/unix4j\" rel=\"nofollow noreferrer\">github.com/tools4j/unix4j</a>"},{"owner":{"account_id":10554252,"reputation":331,"user_id":7775986,"display_name":"Lealo"},"score":0,"creation_date":1506626966,"post_id":1406473,"comment_id":79909013,"body_markdown":"I do not understand the the relation between the title and the question here?","body":"I do not understand the the relation between the title and the question here?"},{"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"score":0,"creation_date":1531168268,"post_id":1406473,"comment_id":89486078,"body_markdown":"@Lealo see [Unix touch command](https://en.wikipedia.org/wiki/Touch_(Unix))","body":"@Lealo see <a href=\"https://en.wikipedia.org/wiki/Touch_(Unix)\" rel=\"nofollow noreferrer\">Unix touch command</a>"},{"owner":{"account_id":86049,"reputation":7044,"user_id":239558,"accept_rate":72,"display_name":"user239558"},"score":0,"creation_date":1531383778,"post_id":1406473,"comment_id":89578109,"body_markdown":"The title is confusing, as is the accepted answer.  Touch *creates* a file if it does not exist.  The title should be changed.","body":"The title is confusing, as is the accepted answer.  Touch <i>creates</i> a file if it does not exist.  The title should be changed."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1296002005,"creation_date":1252601951,"answer_id":1406489,"question_id":1406473,"body_markdown":"I know [Apache Ant][1] has a [Task][2] which does just that.  \r\nSee the [source code of Touch][3] (which can show you how they do it)\r\n\r\nThey use [`FILE_UTILS.setFileLastModified(file, modTime);`][4], which uses [`ResourceUtils.setLastModified(new FileResource(file), time);`][5], which uses a [`org.apache.tools.ant.types.resources.Touchable`][6], implemented by [`org.apache.tools.ant.types.resources.FileResource`][7]...  \r\n\r\nBasically, it is a call to `File.setLastModified(modTime)`.\r\n\r\n\r\n  [1]: http://ant.apache.org/\r\n  [2]: http://ant.apache.org/manual/Tasks/touch.html\r\n  [3]: http://www.koders.com/java/fid0D95C993B2C23BECC5EB56E309FB35714823DDBF.aspx\r\n  [4]: http://www.docjar.com/html/api/org/apache/tools/ant/util/FileUtils.java.html\r\n  [5]: http://docjar.com/html/api/org/apache/tools/ant/util/ResourceUtils.java.html\r\n  [6]: http://www.docjar.com/html/api/org/apache/tools/ant/types/resources/Touchable.java.html\r\n  [7]: http://www.docjar.com/html/api/org/apache/tools/ant/types/resources/FileResource.java.html","title":"Simulate touch command with Java","body":"<p>I know <a href=\"http://ant.apache.org/\" rel=\"noreferrer\">Apache Ant</a> has a <a href=\"http://ant.apache.org/manual/Tasks/touch.html\" rel=\"noreferrer\">Task</a> which does just that.<br>\nSee the <a href=\"http://www.koders.com/java/fid0D95C993B2C23BECC5EB56E309FB35714823DDBF.aspx\" rel=\"noreferrer\">source code of Touch</a> (which can show you how they do it)</p>\n\n<p>They use <a href=\"http://www.docjar.com/html/api/org/apache/tools/ant/util/FileUtils.java.html\" rel=\"noreferrer\"><code>FILE_UTILS.setFileLastModified(file, modTime);</code></a>, which uses <a href=\"http://docjar.com/html/api/org/apache/tools/ant/util/ResourceUtils.java.html\" rel=\"noreferrer\"><code>ResourceUtils.setLastModified(new FileResource(file), time);</code></a>, which uses a <a href=\"http://www.docjar.com/html/api/org/apache/tools/ant/types/resources/Touchable.java.html\" rel=\"noreferrer\"><code>org.apache.tools.ant.types.resources.Touchable</code></a>, implemented by <a href=\"http://www.docjar.com/html/api/org/apache/tools/ant/types/resources/FileResource.java.html\" rel=\"noreferrer\"><code>org.apache.tools.ant.types.resources.FileResource</code></a>...  </p>\n\n<p>Basically, it is a call to <code>File.setLastModified(modTime)</code>.</p>\n"},{"comments":[{"owner":{"account_id":539739,"reputation":39728,"user_id":907695,"accept_rate":71,"display_name":"Pointer Null"},"score":3,"creation_date":1450547869,"post_id":1406532,"comment_id":56489196,"body_markdown":"Except that there is known Android bug, and File.setLastModified doesn&#39;t do anything on most Android devices.","body":"Except that there is known Android bug, and File.setLastModified doesn&#39;t do anything on most Android devices."},{"owner":{"account_id":71901,"reputation":13205,"user_id":207791,"accept_rate":74,"display_name":"Victor Sergienko"},"score":14,"creation_date":1470607092,"post_id":1406532,"comment_id":65004642,"body_markdown":"And except shell `touch` creates the file, and this doesn&#39;t.","body":"And except shell <code>touch</code> creates the file, and this doesn&#39;t."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":2,"down_vote_count":3,"up_vote_count":53,"is_accepted":true,"score":50,"last_activity_date":1409645964,"creation_date":1252602422,"answer_id":1406532,"question_id":1406473,"body_markdown":"The File class has a [setLastModified][1] method. That is what ANT does.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#setLastModified%28long%29","title":"Simulate touch command with Java","body":"<p>The File class has a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#setLastModified%28long%29\" rel=\"noreferrer\">setLastModified</a> method. That is what ANT does.</p>\n"},{"comments":[{"owner":{"account_id":19910,"reputation":5729,"user_id":47078,"accept_rate":70,"display_name":"Harvey"},"score":10,"creation_date":1440097485,"post_id":15721565,"comment_id":52144109,"body_markdown":"Why not `file.createNewFile()` instead of `new FileOutputStream(file).close()`?","body":"Why not <code>file.createNewFile()</code> instead of <code>new FileOutputStream(file).close()</code>?"}],"tags":[],"owner":{"account_id":908040,"reputation":2157,"user_id":942536,"display_name":"Zach-M"},"comment_count":1,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1364665770,"creation_date":1364665770,"answer_id":15721565,"question_id":1406473,"body_markdown":"Here&#39;s a simple snippet:\r\n\r\n\r\n    void touch(File file, long timestamp)\r\n    {\r\n    \ttry\r\n    \t{\r\n    \t\tif (!file.exists())\r\n    \t\t\tnew FileOutputStream(file).close();\r\n    \t\tfile.setLastModified(timestamp);\r\n    \t}\r\n    \tcatch (IOException e)\r\n    \t{\r\n    \t}\r\n    }\r\n\r\n","title":"Simulate touch command with Java","body":"<p>Here's a simple snippet:</p>\n\n<pre><code>void touch(File file, long timestamp)\n{\n    try\n    {\n        if (!file.exists())\n            new FileOutputStream(file).close();\n        file.setLastModified(timestamp);\n    }\n    catch (IOException e)\n    {\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9348686,"reputation":764,"user_id":6944068,"accept_rate":100,"display_name":"toolforger"},"score":0,"creation_date":1523969058,"post_id":17840038,"comment_id":86772550,"body_markdown":"There is a race condition between the file.exists and file.setLastModified calls. I.e. this code gets it backwards: FIRST you go ahead and try, THEN you do the post-mortem diagnostics.","body":"There is a race condition between the file.exists and file.setLastModified calls. I.e. this code gets it backwards: FIRST you go ahead and try, THEN you do the post-mortem diagnostics."}],"tags":[],"owner":{"account_id":1100428,"reputation":5101,"user_id":1092951,"accept_rate":75,"display_name":"Raekye"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374684147,"creation_date":1374684147,"answer_id":17840038,"question_id":1406473,"body_markdown":"This question only mentions updating the timestamp, but I thought I&#39;d put this in here anyways. I was looking for touch like in Unix which will also create a file if it doesn&#39;t exist.\r\n\r\nFor anyone using Apache Commons, there&#39;s [`FileUtils.touch(File file)`](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#touch(java.io.File)) that does just that.\r\n\r\nHere&#39;s the [source][1] from (inlined `openInputStream(File f)`):\r\n\r\n    public static void touch(final File file) throws IOException {\r\n    \tif (file.exists()) {\r\n    \t\tif (file.isDirectory()) {\r\n    \t\t\tthrow new IOException(&quot;File &#39;&quot; + file + &quot;&#39; exists but is a directory&quot;);\r\n    \t\t}\r\n    \t\tif (file.canWrite() == false) {\r\n    \t\t\tthrow new IOException(&quot;File &#39;&quot; + file + &quot;&#39; cannot be written to&quot;);\r\n    \t\t}\r\n    \t} else {\r\n    \t\tfinal File parent = file.getParentFile();\r\n    \t\tif (parent != null) {\r\n    \t\t\tif (!parent.mkdirs() &amp;&amp; !parent.isDirectory()) {\r\n    \t\t\t\tthrow new IOException(&quot;Directory &#39;&quot; + parent + &quot;&#39; could not be created&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfinal OutputStream out = new FileOutputStream(file);\r\n    \t\tIOUtils.closeQuietly(out);\r\n    \t}\r\n    \tfinal boolean success = file.setLastModified(System.currentTimeMillis());\r\n    \tif (!success) {\r\n    \t\tthrow new IOException(&quot;Unable to set the last modification time for &quot; + file);\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://svn.apache.org/viewvc/commons/proper/io/trunk/src/main/java/org/apache/commons/io/FileUtils.java?view=markup","title":"Simulate touch command with Java","body":"<p>This question only mentions updating the timestamp, but I thought I'd put this in here anyways. I was looking for touch like in Unix which will also create a file if it doesn't exist.</p>\n\n<p>For anyone using Apache Commons, there's <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html#touch%28java.io.File%29\" rel=\"noreferrer\"><code>FileUtils.touch(File file)</code></a> that does just that.</p>\n\n<p>Here's the <a href=\"http://svn.apache.org/viewvc/commons/proper/io/trunk/src/main/java/org/apache/commons/io/FileUtils.java?view=markup\" rel=\"noreferrer\">source</a> from (inlined <code>openInputStream(File f)</code>):</p>\n\n<pre><code>public static void touch(final File file) throws IOException {\n    if (file.exists()) {\n        if (file.isDirectory()) {\n            throw new IOException(\"File '\" + file + \"' exists but is a directory\");\n        }\n        if (file.canWrite() == false) {\n            throw new IOException(\"File '\" + file + \"' cannot be written to\");\n        }\n    } else {\n        final File parent = file.getParentFile();\n        if (parent != null) {\n            if (!parent.mkdirs() &amp;&amp; !parent.isDirectory()) {\n                throw new IOException(\"Directory '\" + parent + \"' could not be created\");\n            }\n        }\n        final OutputStream out = new FileOutputStream(file);\n        IOUtils.closeQuietly(out);\n    }\n    final boolean success = file.setLastModified(System.currentTimeMillis());\n    if (!success) {\n        throw new IOException(\"Unable to set the last modification time for \" + file);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1727919,"reputation":5374,"user_id":1582182,"accept_rate":90,"display_name":"Mmmh mmh"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1409670144,"creation_date":1409670144,"answer_id":25626531,"question_id":1406473,"body_markdown":"My 2 cents, based on [@Joe.M answer][1]\r\n\r\n\tpublic static void touch(File file) throws IOException{\r\n\t    long timestamp = System.currentTimeMillis();\r\n        touch(file, timestamp);\r\n\t}\r\n\r\n\tpublic static void touch(File file, long timestamp) throws IOException{\r\n        if (!file.exists()) {\r\n           new FileOutputStream(file).close();\r\n        }\r\n\t    \r\n        file.setLastModified(timestamp);\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15721565/1582182","title":"Simulate touch command with Java","body":"<p>My 2 cents, based on <a href=\"https://stackoverflow.com/a/15721565/1582182\">@Joe.M answer</a></p>\n\n<pre><code>public static void touch(File file) throws IOException{\n    long timestamp = System.currentTimeMillis();\n    touch(file, timestamp);\n}\n\npublic static void touch(File file, long timestamp) throws IOException{\n    if (!file.exists()) {\n       new FileOutputStream(file).close();\n    }\n\n    file.setLastModified(timestamp);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1450092919,"creation_date":1450092919,"answer_id":34266038,"question_id":1406473,"body_markdown":"If you are already using [Guava][1]:\r\n\r\n`com.google.common.io.Files.touch(file)`\r\n\r\n\r\n  [1]: https://github.com/google/guava","title":"Simulate touch command with Java","body":"<p>If you are already using <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a>:</p>\n\n<p><code>com.google.common.io.Files.touch(file)</code></p>\n"},{"comments":[{"owner":{"account_id":1437036,"reputation":2679,"user_id":1358179,"display_name":"Martin"},"score":0,"creation_date":1678711269,"post_id":44373947,"comment_id":133580786,"body_markdown":"`Files.createFile(Path)` also checks for existence of the file. This check and the creation are an atomic operation. I think it’s better to always use `Files.createFile(Path)` and use `Files.setLastModifiedTime` if a `java.nio.file.FileAlreadyExistsException` is thrown. Or use `Path.toFile().createNewFile()` which also does the check and creation in an atomic operation, but uses a `boolean` return code instead of an exception to indicate if the file already existed.","body":"<code>Files.createFile(Path)</code> also checks for existence of the file. This check and the creation are an atomic operation. I think it’s better to always use <code>Files.createFile(Path)</code> and use <code>Files.setLastModifiedTime</code> if a <code>java.nio.file.FileAlreadyExistsException</code> is thrown. Or use <code>Path.toFile().createNewFile()</code> which also does the check and creation in an atomic operation, but uses a <code>boolean</code> return code instead of an exception to indicate if the file already existed."},{"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"score":0,"creation_date":1678724308,"post_id":44373947,"comment_id":133585102,"body_markdown":"@Martin Good point. I have updated the answer to be atomic. It still might fail if (somehow) the file is deleted between the `try` and `catch` though.","body":"@Martin Good point. I have updated the answer to be atomic. It still might fail if (somehow) the file is deleted between the <code>try</code> and <code>catch</code> though."}],"tags":[],"owner":{"account_id":1307328,"reputation":34488,"user_id":1256041,"accept_rate":80,"display_name":"sdgfsdh"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1678721786,"creation_date":1496681998,"answer_id":44373947,"question_id":1406473,"body_markdown":"Since `File` is [a bad abstraction][1], it is better to use `Files` and `Path`: \r\n\r\n    public static void touch(final Path path) throws IOException {\r\n        Objects.requireNonNull(path, &quot;path is null&quot;);\r\n        try {\r\n            Files.createFile(path);\r\n        } catch (FileAlreadyExistsException e) {\r\n            Files.setLastModifiedTime(path, FileTime.from(Instant.now()));\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/43211970/filesystem-independent-file-and-path-in-java","title":"Simulate touch command with Java","body":"<p>Since <code>File</code> is <a href=\"https://stackoverflow.com/questions/43211970/filesystem-independent-file-and-path-in-java\">a bad abstraction</a>, it is better to use <code>Files</code> and <code>Path</code>:</p>\n<pre><code>public static void touch(final Path path) throws IOException {\n    Objects.requireNonNull(path, &quot;path is null&quot;);\n    try {\n        Files.createFile(path);\n    } catch (FileAlreadyExistsException e) {\n        Files.setLastModifiedTime(path, FileTime.from(Instant.now()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43941,"favorite_count":0,"down_vote_count":1,"up_vote_count":63,"accepted_answer_id":1406532,"answer_count":7,"score":62,"last_activity_date":1678721786,"creation_date":1252601771,"question_id":1406473,"body_markdown":"I want to change modification timestamp of a binary file. What is the best way for doing this?\r\n\r\nWould opening and closing the file be a good option? (I require a solution where the modification of the timestamp will be changed on every platform and JVM).\r\n","title":"Simulate touch command with Java","body":"<p>I want to change modification timestamp of a binary file. What is the best way for doing this?</p>\n\n<p>Would opening and closing the file be a good option? (I require a solution where the modification of the timestamp will be changed on every platform and JVM).</p>\n"},{"tags":["java","mysql","spring-boot","spring-mvc","jdbc"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1678728571,"post_id":75723920,"comment_id":133586380,"body_markdown":"Use `JdbcUserDetailsManager`. Add the mysql connector dependency to pom, configure the `DataSource` manually and `return new JdbcUserDetailsManager(ConfiguredDataSource);`. Or just add the specific properties to application.properties (the dependency is still a must) ([spring guide](https://spring.io/guides/gs/accessing-data-mysql/), but there are many more, just google it) and spring will take care of everything, no need to declare the bean manually.","body":"Use <code>JdbcUserDetailsManager</code>. Add the mysql connector dependency to pom, configure the <code>DataSource</code> manually and <code>return new JdbcUserDetailsManager(ConfiguredDataSource);</code>. Or just add the specific properties to application.properties (the dependency is still a must) (<a href=\"https://spring.io/guides/gs/accessing-data-mysql/\" rel=\"nofollow noreferrer\">spring guide</a>, but there are many more, just google it) and spring will take care of everything, no need to declare the bean manually."},{"owner":{"account_id":20970524,"reputation":23,"user_id":15407797,"display_name":"blueweimer"},"score":0,"creation_date":1678732320,"post_id":75723920,"comment_id":133587314,"body_markdown":"@Chaosfire, do you mean like this? ```@Bean\n    public UserDetailsService user(){\n        return new JdbcUserDetailsManager(dataSource);\n    }```","body":"@Chaosfire, do you mean like this? <code>@Bean     public UserDetailsService user(){         return new JdbcUserDetailsManager(dataSource);     }</code>"},{"owner":{"account_id":20970524,"reputation":23,"user_id":15407797,"display_name":"blueweimer"},"score":0,"creation_date":1678732686,"post_id":75723920,"comment_id":133587408,"body_markdown":"@Chaosfire, I now receive this error in the console: &quot;auth.ts:17          POST http://localhost:8080/token 401\nlogin @ auth.ts:17\n(anonymous) @ pinia.mjs:1362\nstore.&lt;computed&gt; @ pinia.mjs:915\nonSubmit @ LoginForm.vue:15\n(anonymous) @ runtime-dom.esm-bundler.js:1483\ncallWithErrorHandling @ runtime-core.esm-bundler.js:173\ncallWithAsyncErrorHandling @ runtime-core.esm-bundler.js:182\ninvoker @ runtime-dom.esm-bundler.js:345\nauth.ts:34 Uncaught (in promise) Error: Invalid Credentials!\n    at Proxy.login (auth.ts:34:23)&quot;","body":"@Chaosfire, I now receive this error in the console: &quot;auth.ts:17          POST <a href=\"http://localhost:8080/token\" rel=\"nofollow noreferrer\">localhost:8080/token</a> 401 login @ auth.ts:17 (anonymous) @ pinia.mjs:1362 store.&lt;computed&gt; @ pinia.mjs:915 onSubmit @ LoginForm.vue:15 (anonymous) @ runtime-dom.esm-bundler.js:1483 callWithErrorHandling @ runtime-core.esm-bundler.js:173 callWithAsyncErrorHandling @ runtime-core.esm-bundler.js:182 invoker @ runtime-dom.esm-bundler.js:345 auth.ts:34 Uncaught (in promise) Error: Invalid Credentials!     at Proxy.login (auth.ts:34:23)&quot;"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1678734337,"post_id":75723920,"comment_id":133587874,"body_markdown":"You should edit question to add what you tried and the error, if there is error on the backend side, add it as well. This error is from the frontend, i see js and ts, i can&#39;t say how it is related to your change. The only random guess i can make is, did you add the user in the database?","body":"You should edit question to add what you tried and the error, if there is error on the backend side, add it as well. This error is from the frontend, i see js and ts, i can&#39;t say how it is related to your change. The only random guess i can make is, did you add the user in the database?"}],"owner":{"account_id":20970524,"reputation":23,"user_id":15407797,"display_name":"blueweimer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678721473,"creation_date":1678721473,"question_id":75723920,"body_markdown":"I have found many answers to this question using an embedded database, but I cannot find a solution to converting InMemoryUserDetailsManager to specifically a MySQL database. Does anyone know how to do this?\r\n\r\nI&#39;ve attached the classes I think are specifically related to this issue, and I only have the backend code here. \r\n\r\nSecurityConviguration.java:\r\n\r\n```\r\n\r\nimport com.nimbusds.jose.jwk.JWK;\r\nimport com.nimbusds.jose.jwk.JWKSet;\r\nimport com.nimbusds.jose.jwk.RSAKey;\r\nimport com.nimbusds.jose.jwk.source.ImmutableJWKSet;\r\nimport com.nimbusds.jose.jwk.source.JWKSource;\r\nimport com.nimbusds.jose.proc.SecurityContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\r\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.ProviderManager;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.authentication.configurers.userdetails.DaoAuthenticationConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\r\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.NimbusJwtEncoder;\r\nimport org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationEntryPoint;\r\nimport org.springframework.security.oauth2.server.resource.web.access.BearerTokenAccessDeniedHandler;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.provisioning.JdbcUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.web.cors.CorsConfiguration;\r\nimport org.springframework.web.cors.CorsConfigurationSource;\r\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    private final RsaKeyProperties rsaKeys;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    public SecurityConfiguration(RsaKeyProperties rsaKeys) {\r\n        this.rsaKeys = rsaKeys;\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authManager(UserDetailsService userDetailsService){\r\n        var authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        return new ProviderManager(authProvider);\r\n    }\r\n\r\n    //This is an in memory database, which adds users below.\r\n    //TODO: Connect to MySQL in order to add an Add User page.\r\n    @Bean\r\n    public UserDetailsService user(){\r\n        return new InMemoryUserDetailsManager(\r\n                User.withUsername(&quot;user&quot;)\r\n                        .password(&quot;{noop}password&quot;)\r\n                        .authorities(&quot;read&quot;)\r\n                        .build()\r\n        );\r\n    }\r\n\r\n    //Configures server to authenticate user\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        return http\r\n                .cors(Customizer.withDefaults())//Configure cors security\r\n                .csrf(csrf -&gt; csrf.disable()) //disable cross-site request forgery\r\n                .authorizeHttpRequests( auth -&gt; auth\r\n                        .mvcMatchers(&quot;/token&quot;).permitAll()//Authenticate using &quot;controller/AuthController&quot;\r\n                        .anyRequest().authenticated() //authorize all requests from spring\r\n                )\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))//disable session\r\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt) //Configure with token from front end to backend.\r\n                .exceptionHandling((ex) -&gt; ex\r\n                        .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\r\n                        .accessDeniedHandler(new BearerTokenAccessDeniedHandler())\r\n\r\n                )\r\n                .build();\r\n    }\r\n\r\n    //Decodes Encrypted Token to access user profile\r\n    @Bean\r\n    JwtDecoder jwtDecoder(){\r\n        return NimbusJwtDecoder.withPublicKey(rsaKeys.publicKey()).build();\r\n    }\r\n\r\n    //Encodes profile information into token\r\n    @Bean\r\n    JwtEncoder jwtEncoder(){\r\n        JWK jwk = new RSAKey.Builder(rsaKeys.publicKey()).privateKey(rsaKeys.privateKey()).build();\r\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\r\n        return new NimbusJwtEncoder(jwks);\r\n    }\r\n\r\n    //Connects to Front End\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource(){\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:5173&quot;));\r\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\r\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Content-Type&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\nRSAKeyProperties.java:\r\n```\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\n\r\nimport java.security.interfaces.RSAPrivateKey;\r\nimport java.security.interfaces.RSAPublicKey;\r\n\r\n@ConfigurationProperties(prefix = &quot;rsa&quot;)\r\n\r\npublic record RsaKeyProperties(RSAPublicKey publicKey, RSAPrivateKey privateKey) {\r\n\r\n\r\n}\r\n```\r\n\r\nAuthController.java:\r\n```\r\nimport com.example.Commerce_Bank_Back_End.model.LoginRequest;\r\nimport com.example.Commerce_Bank_Back_End.service.TokenService;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController \r\npublic class AuthController {\r\n\r\n    public static final Logger LOG = LoggerFactory.getLogger(AuthController.class);\r\n    private final TokenService tokenService;\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    public AuthController(TokenService tokenService, AuthenticationManager authenticationManager) {\r\n        this.tokenService = tokenService;\r\n        this.authenticationManager = authenticationManager;\r\n    }\r\n\r\n    //Authenticate using Postman, then generate token to be stored to the header.\r\n    //************************************************************************\r\n\r\n    @PostMapping(&quot;/token&quot;)\r\n    public String token(@RequestBody LoginRequest userLogin){\r\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userLogin.username(), userLogin.password()));\r\n        return tokenService.generateToken(authentication);\r\n    }\r\n}\r\n```\r\n\r\n\r\nTokenService.java:\r\n```\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\r\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.time.Instant;\r\nimport java.time.temporal.ChronoUnit;\r\nimport java.util.stream.Collectors;\r\n\r\n@Service\r\npublic class TokenService {\r\n\r\n    private final JwtEncoder encoder;\r\n\r\n    public TokenService(JwtEncoder encoder) {\r\n        this.encoder = encoder;\r\n    }\r\n\r\n\r\n    //Generate Token for Logged in Session\r\n    //************************************************************************\r\n\r\n    public String generateToken(Authentication authentication){\r\n        Instant now = Instant.now();\r\n        String scope = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.joining(&quot; &quot;));\r\n        JwtClaimsSet claims = JwtClaimsSet.builder()\r\n                .issuer(&quot;self&quot;)\r\n                .issuedAt(now)\r\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\r\n                .subject(authentication.getName())\r\n                .claim(&quot;scope&quot;, scope)\r\n                .build();\r\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\r\n    }\r\n}\r\n```","title":"How do I convert InMemoryUserDetailsManager to use a MySQL database","body":"<p>I have found many answers to this question using an embedded database, but I cannot find a solution to converting InMemoryUserDetailsManager to specifically a MySQL database. Does anyone know how to do this?</p>\n<p>I've attached the classes I think are specifically related to this issue, and I only have the backend code here.</p>\n<p>SecurityConviguration.java:</p>\n<pre><code>\nimport com.nimbusds.jose.jwk.JWK;\nimport com.nimbusds.jose.jwk.JWKSet;\nimport com.nimbusds.jose.jwk.RSAKey;\nimport com.nimbusds.jose.jwk.source.ImmutableJWKSet;\nimport com.nimbusds.jose.jwk.source.JWKSource;\nimport com.nimbusds.jose.proc.SecurityContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseBuilder;\nimport org.springframework.jdbc.datasource.embedded.EmbeddedDatabaseType;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.ProviderManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.configurers.userdetails.DaoAuthenticationConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.oauth2.server.resource.OAuth2ResourceServerConfigurer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\nimport org.springframework.security.oauth2.jwt.NimbusJwtDecoder;\nimport org.springframework.security.oauth2.jwt.NimbusJwtEncoder;\nimport org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationEntryPoint;\nimport org.springframework.security.oauth2.server.resource.web.access.BearerTokenAccessDeniedHandler;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.provisioning.JdbcUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.CorsConfigurationSource;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\n\nimport javax.sql.DataSource;\nimport java.util.List;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    private final RsaKeyProperties rsaKeys;\n\n    @Autowired\n    private DataSource dataSource;\n\n    public SecurityConfiguration(RsaKeyProperties rsaKeys) {\n        this.rsaKeys = rsaKeys;\n    }\n\n    @Bean\n    public AuthenticationManager authManager(UserDetailsService userDetailsService){\n        var authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        return new ProviderManager(authProvider);\n    }\n\n    //This is an in memory database, which adds users below.\n    //TODO: Connect to MySQL in order to add an Add User page.\n    @Bean\n    public UserDetailsService user(){\n        return new InMemoryUserDetailsManager(\n                User.withUsername(&quot;user&quot;)\n                        .password(&quot;{noop}password&quot;)\n                        .authorities(&quot;read&quot;)\n                        .build()\n        );\n    }\n\n    //Configures server to authenticate user\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        return http\n                .cors(Customizer.withDefaults())//Configure cors security\n                .csrf(csrf -&gt; csrf.disable()) //disable cross-site request forgery\n                .authorizeHttpRequests( auth -&gt; auth\n                        .mvcMatchers(&quot;/token&quot;).permitAll()//Authenticate using &quot;controller/AuthController&quot;\n                        .anyRequest().authenticated() //authorize all requests from spring\n                )\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))//disable session\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt) //Configure with token from front end to backend.\n                .exceptionHandling((ex) -&gt; ex\n                        .authenticationEntryPoint(new BearerTokenAuthenticationEntryPoint())\n                        .accessDeniedHandler(new BearerTokenAccessDeniedHandler())\n\n                )\n                .build();\n    }\n\n    //Decodes Encrypted Token to access user profile\n    @Bean\n    JwtDecoder jwtDecoder(){\n        return NimbusJwtDecoder.withPublicKey(rsaKeys.publicKey()).build();\n    }\n\n    //Encodes profile information into token\n    @Bean\n    JwtEncoder jwtEncoder(){\n        JWK jwk = new RSAKey.Builder(rsaKeys.publicKey()).privateKey(rsaKeys.privateKey()).build();\n        JWKSource&lt;SecurityContext&gt; jwks = new ImmutableJWKSet&lt;&gt;(new JWKSet(jwk));\n        return new NimbusJwtEncoder(jwks);\n    }\n\n    //Connects to Front End\n    @Bean\n    CorsConfigurationSource corsConfigurationSource(){\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:5173&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;, &quot;Content-Type&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n\n\n}\n</code></pre>\n<p>RSAKeyProperties.java:</p>\n<pre><code>import org.springframework.boot.context.properties.ConfigurationProperties;\n\nimport java.security.interfaces.RSAPrivateKey;\nimport java.security.interfaces.RSAPublicKey;\n\n@ConfigurationProperties(prefix = &quot;rsa&quot;)\n\npublic record RsaKeyProperties(RSAPublicKey publicKey, RSAPrivateKey privateKey) {\n\n\n}\n</code></pre>\n<p>AuthController.java:</p>\n<pre><code>import com.example.Commerce_Bank_Back_End.model.LoginRequest;\nimport com.example.Commerce_Bank_Back_End.service.TokenService;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController \npublic class AuthController {\n\n    public static final Logger LOG = LoggerFactory.getLogger(AuthController.class);\n    private final TokenService tokenService;\n    private final AuthenticationManager authenticationManager;\n\n    public AuthController(TokenService tokenService, AuthenticationManager authenticationManager) {\n        this.tokenService = tokenService;\n        this.authenticationManager = authenticationManager;\n    }\n\n    //Authenticate using Postman, then generate token to be stored to the header.\n    //************************************************************************\n\n    @PostMapping(&quot;/token&quot;)\n    public String token(@RequestBody LoginRequest userLogin){\n        Authentication authentication = authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(userLogin.username(), userLogin.password()));\n        return tokenService.generateToken(authentication);\n    }\n}\n</code></pre>\n<p>TokenService.java:</p>\n<pre><code>import org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.oauth2.jwt.JwtClaimsSet;\nimport org.springframework.security.oauth2.jwt.JwtEncoder;\nimport org.springframework.security.oauth2.jwt.JwtEncoderParameters;\nimport org.springframework.stereotype.Service;\n\nimport java.time.Instant;\nimport java.time.temporal.ChronoUnit;\nimport java.util.stream.Collectors;\n\n@Service\npublic class TokenService {\n\n    private final JwtEncoder encoder;\n\n    public TokenService(JwtEncoder encoder) {\n        this.encoder = encoder;\n    }\n\n\n    //Generate Token for Logged in Session\n    //************************************************************************\n\n    public String generateToken(Authentication authentication){\n        Instant now = Instant.now();\n        String scope = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.joining(&quot; &quot;));\n        JwtClaimsSet claims = JwtClaimsSet.builder()\n                .issuer(&quot;self&quot;)\n                .issuedAt(now)\n                .expiresAt(now.plus(1, ChronoUnit.HOURS))\n                .subject(authentication.getName())\n                .claim(&quot;scope&quot;, scope)\n                .build();\n        return this.encoder.encode(JwtEncoderParameters.from(claims)).getTokenValue();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","google-signin","googlesigninaccount"],"answers":[{"comments":[{"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"score":0,"creation_date":1614958478,"post_id":49450870,"comment_id":117552410,"body_markdown":"I don&#39;t understand step 9. What do I do with the signingReport output ?","body":"I don&#39;t understand step 9. What do I do with the signingReport output ?"},{"owner":{"account_id":6707272,"reputation":169,"user_id":5171726,"display_name":"Hoang Viet Nguyen"},"score":7,"creation_date":1624333677,"post_id":49450870,"comment_id":120323336,"body_markdown":"If you use Play App Signing, make sure to use SHA1 from its certificate, not your debug or release keystore","body":"If you use Play App Signing, make sure to use SHA1 from its certificate, not your debug or release keystore"},{"owner":{"account_id":288366,"reputation":2489,"user_id":588742,"accept_rate":62,"display_name":"Prasad De Zoysa"},"score":0,"creation_date":1683099487,"post_id":49450870,"comment_id":134312823,"body_markdown":"Google should add a note where they accept &quot;SHA-1 certificate fingerprint&quot;. The current tip to use `keytool` is not valid anymore. For those still looking, go to Play Console &gt; Setup &gt; App Integrity &gt; App Signing. There you will find the SHA-1 certificate fingerprint.","body":"Google should add a note where they accept &quot;SHA-1 certificate fingerprint&quot;. The current tip to use <code>keytool</code> is not valid anymore. For those still looking, go to Play Console &gt; Setup &gt; App Integrity &gt; App Signing. There you will find the SHA-1 certificate fingerprint."},{"owner":{"account_id":15247028,"reputation":95,"user_id":11001623,"display_name":"felix"},"score":2,"creation_date":1683299817,"post_id":49450870,"comment_id":134350576,"body_markdown":"@PrasadDeZoysa I still get error code 10 after I added another Android OAuth client to the cloud console with the correct app package name and the SHA1-fingerprint from Google play console.\nThe sign in is working when running a debug build and even a release build (signed with our keystore) on a device/emulator. But when uploading an aab to Google Play internal test, I get this error 10.\nDo you have any idea what else could be wrong? Thanks in advance!","body":"@PrasadDeZoysa I still get error code 10 after I added another Android OAuth client to the cloud console with the correct app package name and the SHA1-fingerprint from Google play console. The sign in is working when running a debug build and even a release build (signed with our keystore) on a device/emulator. But when uploading an aab to Google Play internal test, I get this error 10. Do you have any idea what else could be wrong? Thanks in advance!"},{"owner":{"account_id":15247028,"reputation":95,"user_id":11001623,"display_name":"felix"},"score":0,"creation_date":1683319439,"post_id":49450870,"comment_id":134354509,"body_markdown":"never mind, I just found out that there is a separate SHA-fingerprint section for internal testing Google Play Console, so I had to add another OAuth client ID in cloud console, now it is working","body":"never mind, I just found out that there is a separate SHA-fingerprint section for internal testing Google Play Console, so I had to add another OAuth client ID in cloud console, now it is working"}],"tags":[],"owner":{"account_id":8810425,"reputation":6701,"user_id":6583644,"display_name":"Patrick R"},"comment_count":5,"down_vote_count":1,"up_vote_count":76,"is_accepted":true,"score":75,"last_activity_date":1521812020,"creation_date":1521812020,"answer_id":49450870,"question_id":49450140,"body_markdown":"This error might happen if you are not using same project at **console.developers.google** and **console.firebase.google.com**. If project is same at both console make sure you have add your **SHA1** Key properly. Get **SHA1** from Android studio.\r\n\r\n1. Open Android Studio\r\n2. Open your Project\r\n3. Click on Gradle (From Right Side Panel, you will see Gradle Bar)\r\n4. Click on Refresh (Click on Refresh from Gradle Bar, you will see List Gradle scripts of your Project)\r\n5. Click on Your Project (Your Project Name form List (root))\r\n6. Click on Tasks\r\n7. Click on Android\r\n8. Double Click on signingReport (You will get SHA1 and MD5 in Run Bar(Sometimes it will be in Gradle Console))\r\n9. Select app module from module selection dropdown to run or debug your application   You also need to get google-services.json from firebase console and put into your project.","title":"Google SignIn API Exception 10","body":"<p>This error might happen if you are not using same project at <strong>console.developers.google</strong> and <strong>console.firebase.google.com</strong>. If project is same at both console make sure you have add your <strong>SHA1</strong> Key properly. Get <strong>SHA1</strong> from Android studio.</p>\n\n<ol>\n<li>Open Android Studio</li>\n<li>Open your Project</li>\n<li>Click on Gradle (From Right Side Panel, you will see Gradle Bar)</li>\n<li>Click on Refresh (Click on Refresh from Gradle Bar, you will see List Gradle scripts of your Project)</li>\n<li>Click on Your Project (Your Project Name form List (root))</li>\n<li>Click on Tasks</li>\n<li>Click on Android</li>\n<li>Double Click on signingReport (You will get SHA1 and MD5 in Run Bar(Sometimes it will be in Gradle Console))</li>\n<li>Select app module from module selection dropdown to run or debug your application   You also need to get google-services.json from firebase console and put into your project.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11785653,"reputation":143,"user_id":8623507,"display_name":"Alyosha_Karamazov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526439611,"creation_date":1526439611,"answer_id":50361850,"question_id":49450140,"body_markdown":"I would like to add Supplemental Information as to Why @Patrick R answer (above works/marked as correct). To execute your project/practice, Google Console needs to ID your app via SHA-1 key when its distributed on Google Play Market, **However**, when your are simply experimenting with Login confirmation and Proof Of Concept, then it associates the debug SHA-1 key (your app automatically generates this) for this exact purpose, keeping your testing and production changes modular. ","title":"Google SignIn API Exception 10","body":"<p>I would like to add Supplemental Information as to Why @Patrick R answer (above works/marked as correct). To execute your project/practice, Google Console needs to ID your app via SHA-1 key when its distributed on Google Play Market, <strong>However</strong>, when your are simply experimenting with Login confirmation and Proof Of Concept, then it associates the debug SHA-1 key (your app automatically generates this) for this exact purpose, keeping your testing and production changes modular. </p>\n"},{"comments":[{"owner":{"account_id":4055620,"reputation":155,"user_id":3333761,"display_name":"papo"},"score":1,"creation_date":1603863031,"post_id":59295225,"comment_id":114167686,"body_markdown":"thx man i solved this problem, i send cliendID but android and must be clientID web application","body":"thx man i solved this problem, i send cliendID but android and must be clientID web application"},{"owner":{"account_id":3306592,"reputation":8375,"user_id":2781218,"accept_rate":73,"display_name":"AXE"},"score":0,"creation_date":1624531624,"post_id":59295225,"comment_id":120387196,"body_markdown":"That&#39;s what solved it for me! I thought only the web key was being used as that&#39;s what you send in the request. And couldn&#39;t figure out why it was working on my environment and not on my colleague&#39;s!","body":"That&#39;s what solved it for me! I thought only the web key was being used as that&#39;s what you send in the request. And couldn&#39;t figure out why it was working on my environment and not on my colleague&#39;s!"},{"owner":{"account_id":6404158,"reputation":1382,"user_id":4965949,"display_name":"Mahmoud Mabrok"},"score":0,"creation_date":1625157019,"post_id":59295225,"comment_id":120559287,"body_markdown":"I was using wrong id instead of \n`your_web_app_client_id`","body":"I was using wrong id instead of  <code>your_web_app_client_id</code>"}],"tags":[],"owner":{"account_id":11965487,"reputation":833,"user_id":8755319,"display_name":"Shyam Swaroop"},"comment_count":3,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1576104080,"creation_date":1576104080,"answer_id":59295225,"question_id":49450140,"body_markdown":"I landed into the same problem and wasted hours. On digging deeper into OAuth and OpenId, I figured out the reason. We are doing a conceptual error here.\r\n\r\n&lt;b&gt;For android or any other platform (except web), you need to create at least two types of client id in the same project of google API console. These Client ID types are:&lt;/b&gt;\r\n\r\n&lt;ol&gt;\r\n&lt;li&gt; Web Application&lt;/li&gt;\r\n&lt;li&gt; Android\r\n&lt;/ol&gt;\r\n\r\nYou can create them in any order. While creating Android type Client Id, you need to give package name and SHA1. While creating Web Application Id, you just need to give a name.\r\n\r\nYou don&#39;t need to do anything with any of these id&#39;s further until you want to verify the user at your backend. In other words, if you want your backend server to ask google server about this user&#39;s information, then only you would need Web Application Id. The conceptual flow is as follows:\r\n\r\n&lt;ol&gt;\r\n&lt;li&gt; First send Web Application Client Id from Android App to Google Sign-in Server as an additional option using requestIdToken(your_web_app_client_id).&lt;/li&gt;\r\n&lt;li&gt; You will get back a token in Android app upon user&#39;s sign in.&lt;/li&gt;\r\n&lt;li&gt; Send this token to your backend.&lt;/li&gt;\r\n&lt;li&gt; Now your backend can exchange this token with Google Servers to get user&#39;s information&lt;/li&gt;\r\n&lt;/ol&gt;\r\n\r\nSend this Web Appplication Client Id from Android App to backend server.\r\n\r\nUse this Web Application Id if you want to verify user at your backend.\r\n\r\n","title":"Google SignIn API Exception 10","body":"<p>I landed into the same problem and wasted hours. On digging deeper into OAuth and OpenId, I figured out the reason. We are doing a conceptual error here.</p>\n\n<p><b>For android or any other platform (except web), you need to create at least two types of client id in the same project of google API console. These Client ID types are:</b></p>\n\n<ol>\n<li> Web Application</li>\n<li> Android\n</ol>\n\n<p>You can create them in any order. While creating Android type Client Id, you need to give package name and SHA1. While creating Web Application Id, you just need to give a name.</p>\n\n<p>You don't need to do anything with any of these id's further until you want to verify the user at your backend. In other words, if you want your backend server to ask google server about this user's information, then only you would need Web Application Id. The conceptual flow is as follows:</p>\n\n<ol>\n<li> First send Web Application Client Id from Android App to Google Sign-in Server as an additional option using requestIdToken(your_web_app_client_id).</li>\n<li> You will get back a token in Android app upon user's sign in.</li>\n<li> Send this token to your backend.</li>\n<li> Now your backend can exchange this token with Google Servers to get user's information</li>\n</ol>\n\n<p>Send this Web Appplication Client Id from Android App to backend server.</p>\n\n<p>Use this Web Application Id if you want to verify user at your backend.</p>\n"},{"tags":[],"owner":{"account_id":1457820,"reputation":1251,"user_id":1372973,"display_name":"Heroselohim"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594736713,"creation_date":1594736088,"answer_id":62897220,"question_id":49450140,"body_markdown":"Another source of this error is adding **applicationIdSuffix** to your **Build Variants (Flavors)** in the gradle file. If you had everything working and suddenly when adding flavors the Google Sign In broke, check this configuration variable.\r\n\r\nThe **applicationIdSuffix** parameter might require a unique certificate for each suffix. I simply removed it because I didn&#39;t need to deploy different products or releases yet. Also, you can set the same configuration for each flavor programmatically.\r\n\r\nConfigure certificates build types: https://stackoverflow.com/questions/45166152/force-to-use-same-certificate-to-sign-different-buildtypes-that-are-configured\r\n","title":"Google SignIn API Exception 10","body":"<p>Another source of this error is adding <strong>applicationIdSuffix</strong> to your <strong>Build Variants (Flavors)</strong> in the gradle file. If you had everything working and suddenly when adding flavors the Google Sign In broke, check this configuration variable.</p>\n<p>The <strong>applicationIdSuffix</strong> parameter might require a unique certificate for each suffix. I simply removed it because I didn't need to deploy different products or releases yet. Also, you can set the same configuration for each flavor programmatically.</p>\n<p>Configure certificates build types: <a href=\"https://stackoverflow.com/questions/45166152/force-to-use-same-certificate-to-sign-different-buildtypes-that-are-configured\">Force to use same certificate to sign different &quot;buildTypes&quot; that are configured for a particular &quot;productFlavor&quot;?</a></p>\n"},{"tags":[],"owner":{"account_id":110558,"reputation":10111,"user_id":292502,"accept_rate":83,"display_name":"Csaba Toth"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651252131,"creation_date":1595045297,"answer_id":62964525,"question_id":49450140,"body_markdown":"This solution assumes that the root cause of your problem is that you are debugging and in that case the fingerprints of the app are different than the final production builds. To over come that:\r\n\r\nAdd your `debug.keystore`&#39;s SHA1 and SHA256 fingerprint to your Firebase project with these steps:\r\n1. Obtain the debug.keystore&#39;s fingerprints: Linux/Mac - `keytool -list -v\r\n-alias androiddebugkey -keystore ~/.android/debug.keystore`, Windows - `keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore`\r\n2. Add these fingerprint&#39;s to your Firebases project&#39;s Android app section: https://support.google.com/firebase/answer/9137403?hl=en\r\n","title":"Google SignIn API Exception 10","body":"<p>This solution assumes that the root cause of your problem is that you are debugging and in that case the fingerprints of the app are different than the final production builds. To over come that:</p>\n<p>Add your <code>debug.keystore</code>'s SHA1 and SHA256 fingerprint to your Firebase project with these steps:</p>\n<ol>\n<li>Obtain the debug.keystore's fingerprints: Linux/Mac - <code>keytool -list -v -alias androiddebugkey -keystore ~/.android/debug.keystore</code>, Windows - <code>keytool -list -v -alias androiddebugkey -keystore %USERPROFILE%\\.android\\debug.keystore</code></li>\n<li>Add these fingerprint's to your Firebases project's Android app section: <a href=\"https://support.google.com/firebase/answer/9137403?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/firebase/answer/9137403?hl=en</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5106261,"reputation":12717,"user_id":4094260,"accept_rate":77,"display_name":"Nongthonbam Tonthoi"},"score":1,"creation_date":1603717501,"post_id":63130605,"comment_id":114115517,"body_markdown":"This was my exact problem. I was going crazy thinking what the hell was wrong.","body":"This was my exact problem. I was going crazy thinking what the hell was wrong."},{"owner":{"account_id":14072435,"reputation":438,"user_id":10165620,"display_name":"axita.savani"},"score":1,"creation_date":1639656706,"post_id":63130605,"comment_id":124407545,"body_markdown":"@NongthonbamTonthoi Hi, Where should i check for another certificate.","body":"@NongthonbamTonthoi Hi, Where should i check for another certificate."}],"tags":[],"owner":{"account_id":6814250,"reputation":1483,"user_id":5243472,"display_name":"Vladyslav Ulianytskyi"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1619688557,"creation_date":1595927045,"answer_id":63130605,"question_id":49450140,"body_markdown":"Option: then keep in mind that google also signs the app with the another certificate. So, you need to add the 2nd fingerprints as well.\r\nOtherwise, you will receive this error.","title":"Google SignIn API Exception 10","body":"<p>Option: then keep in mind that google also signs the app with the another certificate. So, you need to add the 2nd fingerprints as well.\nOtherwise, you will receive this error.</p>\n"},{"comments":[{"owner":{"account_id":18981447,"reputation":908,"user_id":13852758,"display_name":"Gulab Sagevadiya"},"score":0,"creation_date":1601818577,"post_id":63305788,"comment_id":113517677,"body_markdown":"i have added all this but still i get this error i have added in firebase also","body":"i have added all this but still i get this error i have added in firebase also"},{"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"score":0,"creation_date":1601907294,"post_id":63305788,"comment_id":113544062,"body_markdown":"Did you update your google-services.json after adding SHA 1 to firebase?","body":"Did you update your google-services.json after adding SHA 1 to firebase?"}],"tags":[],"owner":{"account_id":18712697,"reputation":564,"user_id":13642440,"display_name":"Jan Rozenbajgier"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1596840175,"creation_date":1596817650,"answer_id":63305788,"question_id":49450140,"body_markdown":"Try adding `.requestIdToken(getString(R.string.default_web_client_id))`.\r\n\r\n\t\tGoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n\t\t\t\t.requestIdToken(getString(R.string.default_web_client_id)) //add this line\r\n\t\t\t\t.requestEmail()\r\n\t\t\t\t.build();\t\t\t\t","title":"Google SignIn API Exception 10","body":"<p>Try adding <code>.requestIdToken(getString(R.string.default_web_client_id))</code>.</p>\n<pre><code>    GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n            .requestIdToken(getString(R.string.default_web_client_id)) //add this line\n            .requestEmail()\n            .build();               \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4543766,"reputation":91,"user_id":3690921,"display_name":"Eduard"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604671424,"creation_date":1604671424,"answer_id":64716055,"question_id":49450140,"body_markdown":"I&#39;ve found another source of the problem. \r\n\r\nIn my case the keys were alright, but **applicationId** field in **build.gradle** script differed from app&#39;s package name.\r\n\r\nSmall research showed that **applicationId** field value takes some kind of &quot;precedence&quot; before app&#39;s package name conserning Google autentication.\r\n\r\nAfter commenting **applicationId** line in **build.gradle**, app autenticates itself in Google by package name.","title":"Google SignIn API Exception 10","body":"<p>I've found another source of the problem.</p>\n<p>In my case the keys were alright, but <strong>applicationId</strong> field in <strong>build.gradle</strong> script differed from app's package name.</p>\n<p>Small research showed that <strong>applicationId</strong> field value takes some kind of &quot;precedence&quot; before app's package name conserning Google autentication.</p>\n<p>After commenting <strong>applicationId</strong> line in <strong>build.gradle</strong>, app autenticates itself in Google by package name.</p>\n"},{"comments":[{"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"score":1,"creation_date":1618564029,"post_id":64827366,"comment_id":118644572,"body_markdown":"Have you tried this in production? It works with debug, but when publishing to app store using release apk, it gives the error again","body":"Have you tried this in production? It works with debug, but when publishing to app store using release apk, it gives the error again"},{"owner":{"account_id":1717176,"reputation":12511,"user_id":1574004,"accept_rate":78,"display_name":"hugo der hungrige"},"score":1,"creation_date":1618570291,"post_id":64827366,"comment_id":118647137,"body_markdown":"@DIRTYDAVE As far as I know, this should work. You can check the code here: https://github.com/johannesjo/super-productivity-android/blob/master/app/src/play/java/com/superproductivity/superproductivity/Google.java \nand download the app here: \nhttps://github.com/johannesjo/super-productivity/releases","body":"@DIRTYDAVE As far as I know, this should work. You can check the code here: <a href=\"https://github.com/johannesjo/super-productivity-android/blob/master/app/src/play/java/com/superproductivity/superproductivity/Google.java\" rel=\"nofollow noreferrer\">github.com/johannesjo/super-productivity-android/blob/master&zwnj;&#8203;/&hellip;</a>  and download the app here:  <a href=\"https://github.com/johannesjo/super-productivity/releases\" rel=\"nofollow noreferrer\">github.com/johannesjo/super-productivity/releases</a>"},{"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"score":1,"creation_date":1619352576,"post_id":64827366,"comment_id":118874108,"body_markdown":"Thanks hugo, using the web application one is working for me in production. Google makes it so confusing I may have looked through 20+ questions on this GoogleSignIn issue...","body":"Thanks hugo, using the web application one is working for me in production. Google makes it so confusing I may have looked through 20+ questions on this GoogleSignIn issue..."},{"owner":{"account_id":8453796,"reputation":2770,"user_id":6341793,"display_name":"shubham choudhary"},"score":0,"creation_date":1698295607,"post_id":64827366,"comment_id":136387663,"body_markdown":"It gives error when you upload bundle to app store. Where to add sh1 generated by play store?","body":"It gives error when you upload bundle to app store. Where to add sh1 generated by play store?"}],"tags":[],"owner":{"account_id":1717176,"reputation":12511,"user_id":1574004,"accept_rate":78,"display_name":"hugo der hungrige"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1661707126,"creation_date":1605297996,"answer_id":64827366,"question_id":49450140,"body_markdown":"The answer for me was that you actually need to combine the two main answers given here: \r\n\r\n 1. Make sure that you created Google OAuth client ids for Android (one for Debug and one for release) and then assure that they have assigned the right SHA1 as described in the accepted answer.\r\n 2. Then you also need to create an **OAuth client ID for Web** and use that one for the actual SignIn:\r\n\r\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n            .requestIdToken(WEB_CLIENT_ID)\r\n            .requestEmail()\r\n            .build();               \r\n\r\n","title":"Google SignIn API Exception 10","body":"<p>The answer for me was that you actually need to combine the two main answers given here:</p>\n<ol>\n<li><p>Make sure that you created Google OAuth client ids for Android (one for Debug and one for release) and then assure that they have assigned the right SHA1 as described in the accepted answer.</p>\n</li>\n<li><p>Then you also need to create an <strong>OAuth client ID for Web</strong> and use that one for the actual SignIn:</p>\n<pre><code>GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n    .requestIdToken(WEB_CLIENT_ID)\n    .requestEmail()\n    .build();               \n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12592661,"reputation":2175,"user_id":9158688,"display_name":"Md. Shofiulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1647307408,"creation_date":1605895197,"answer_id":64934523,"question_id":49450140,"body_markdown":"I fixed this problem by this way\r\n\r\n     GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                    .requestIdToken(getString(R.string.AUTH_ID))\r\n                    .requestEmail()\r\n                    .build();\r\nwhere my AUTH_ID is [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JE8G2.png","title":"Google SignIn API Exception 10","body":"<p>I fixed this problem by this way</p>\n<pre><code> GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestIdToken(getString(R.string.AUTH_ID))\n                .requestEmail()\n                .build();\n</code></pre>\n<p>where my AUTH_ID is <a href=\"https://i.stack.imgur.com/JE8G2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JE8G2.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":4438528,"reputation":2896,"user_id":3613702,"accept_rate":14,"display_name":"Code Name Jack"},"score":1,"creation_date":1644264683,"post_id":66470725,"comment_id":125554971,"body_markdown":"It works. very weird thing from google though.","body":"It works. very weird thing from google though."},{"owner":{"account_id":18090820,"reputation":483,"user_id":13150380,"display_name":"BlueBeret"},"score":0,"creation_date":1686545788,"post_id":66470725,"comment_id":134807632,"body_markdown":"this shoudl come on top","body":"this shoudl come on top"}],"tags":[],"owner":{"account_id":2508871,"reputation":258,"user_id":2181808,"display_name":"Bhushan Shirsath"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661707115,"creation_date":1614844501,"answer_id":66470725,"question_id":49450140,"body_markdown":"This Problem can be solved by using **WebApplication ID** and **android Client ID**\r\n\r\nWhen ever you configure the project to generate id for android app , it generates 2 types of ids 1 Android 2 WebApplication , \r\n\r\nWe need to **use 2nd one (web oAuth id)** and not the 1st one , it will be resolving your issue ","title":"Google SignIn API Exception 10","body":"<p>This Problem can be solved by using <strong>WebApplication ID</strong> and <strong>android Client ID</strong></p>\n<p>When ever you configure the project to generate id for android app , it generates 2 types of ids 1 Android 2 WebApplication ,</p>\n<p>We need to <strong>use 2nd one (web oAuth id)</strong> and not the 1st one , it will be resolving your issue</p>\n"},{"comments":[{"owner":{"account_id":439213,"reputation":257,"user_id":828004,"display_name":"padlanau"},"score":0,"creation_date":1617009200,"post_id":66621082,"comment_id":118170837,"body_markdown":"Thanks @Syed Umair. This solution works for me","body":"Thanks @Syed Umair. This solution works for me"}],"tags":[],"owner":{"account_id":4964163,"reputation":1490,"user_id":3994118,"display_name":"Syed Umair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615696092,"creation_date":1615696092,"answer_id":66621082,"question_id":49450140,"body_markdown":"Had same issue. *Code 10 in signed apk*. I put all the four keys from Google Play Console (Setup -&gt; App integrity -&gt; Play App Signing) to Firebase project and pasted new ```Google-services.json``` in app folder in Android Studio and then after generating Signed Apk, Google sign in worked.","title":"Google SignIn API Exception 10","body":"<p>Had same issue. <em>Code 10 in signed apk</em>. I put all the four keys from Google Play Console (Setup -&gt; App integrity -&gt; Play App Signing) to Firebase project and pasted new <code>Google-services.json</code> in app folder in Android Studio and then after generating Signed Apk, Google sign in worked.</p>\n"},{"tags":[],"owner":{"account_id":385701,"reputation":1215,"user_id":743013,"display_name":"hoot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620292703,"creation_date":1620292703,"answer_id":67415255,"question_id":49450140,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1x2yi.png\r\n\r\nI paste the release keystore sha1 to google console, but forget add debug config !!","title":"Google SignIn API Exception 10","body":"<p><a href=\"https://i.stack.imgur.com/1x2yi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1x2yi.png\" alt=\"enter image description here\" /></a></p>\n<p>I paste the release keystore sha1 to google console, but forget add debug config !!</p>\n"},{"tags":[],"owner":{"account_id":18471732,"reputation":23,"user_id":13456440,"display_name":"Viktor Ukrainian"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661707078,"creation_date":1634839180,"answer_id":69666737,"question_id":49450140,"body_markdown":"Make sure you use **Web Client ID** from https://console.cloud.google.com and **not Android client**. \r\nEven if it is mentioned Web application in Type column: \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vshV1.png","title":"Google SignIn API Exception 10","body":"<p>Make sure you use <strong>Web Client ID</strong> from <a href=\"https://console.cloud.google.com\" rel=\"nofollow noreferrer\">https://console.cloud.google.com</a> and <strong>not Android client</strong>.\nEven if it is mentioned Web application in Type column:\n<a href=\"https://i.stack.imgur.com/vshV1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":2984810,"reputation":85,"user_id":2533922,"display_name":"user2533922"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635996508,"creation_date":1635996508,"answer_id":69834235,"question_id":49450140,"body_markdown":"\r\natleast on the debug version, i didnt send any token and it worked...\r\nie,no &#39;requestIdToken&#39; in GoogleSigninOptions.build()\r\n\r\nIt may not work in Release...will try ..","title":"Google SignIn API Exception 10","body":"<p>atleast on the debug version, i didnt send any token and it worked...\nie,no 'requestIdToken' in GoogleSigninOptions.build()</p>\n<p>It may not work in Release...will try ..</p>\n"},{"comments":[{"owner":{"account_id":10551217,"reputation":112,"user_id":7773867,"accept_rate":50,"display_name":"Ahmed"},"score":0,"creation_date":1655409493,"post_id":72650665,"comment_id":128332067,"body_markdown":"of-course you have to complete setup project in google console","body":"of-course you have to complete setup project in google console"}],"tags":[],"owner":{"account_id":9720883,"reputation":173,"user_id":7209673,"display_name":"Gabriel Trifa"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655405665,"creation_date":1655405665,"answer_id":72650665,"question_id":49450140,"body_markdown":"I had the same issue and non of the answers above worked for me:\r\n\r\nIf you get error code 10 that means for sure that you have a SHA problem. My solution was to go to the Firebase project, Settings Overview (top left cornet) -&gt; Click on the Settings icon -&gt; Project Settings. There, General tab will be first selected and you have to scroll down to SDK setup and configuration, select the Android app and make sure you enter the same SHA1/256 key that you&#39;ve entered on the Google Cloud Platform when you&#39;ve configured your OAuth consent screen and the credentials.\r\n\r\nHope this helps you too. Cheers!","title":"Google SignIn API Exception 10","body":"<p>I had the same issue and non of the answers above worked for me:</p>\n<p>If you get error code 10 that means for sure that you have a SHA problem. My solution was to go to the Firebase project, Settings Overview (top left cornet) -&gt; Click on the Settings icon -&gt; Project Settings. There, General tab will be first selected and you have to scroll down to SDK setup and configuration, select the Android app and make sure you enter the same SHA1/256 key that you've entered on the Google Cloud Platform when you've configured your OAuth consent screen and the credentials.</p>\n<p>Hope this helps you too. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":13350268,"reputation":667,"user_id":9635680,"display_name":"Squall Huang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669888357,"creation_date":1669888357,"answer_id":74639929,"question_id":49450140,"body_markdown":"Press &quot;Sync Project with Gradle files.&quot;","title":"Google SignIn API Exception 10","body":"<p>Press &quot;Sync Project with Gradle files.&quot;</p>\n"},{"tags":[],"owner":{"account_id":7816438,"reputation":1341,"user_id":5910991,"display_name":"Cameron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678721261,"creation_date":1678721261,"answer_id":75723876,"question_id":49450140,"body_markdown":"In my case, the `package` parameter was missing from my `AndroidManifest.xml`, causing the SHA-1 to be generated incorrectly.  Once adding the correct package, regenerating the SHA-1, and adding it to Firebase, things are working as expected.","title":"Google SignIn API Exception 10","body":"<p>In my case, the <code>package</code> parameter was missing from my <code>AndroidManifest.xml</code>, causing the SHA-1 to be generated incorrectly.  Once adding the correct package, regenerating the SHA-1, and adding it to Firebase, things are working as expected.</p>\n"}],"owner":{"account_id":13208110,"reputation":673,"user_id":9539205,"display_name":"max podgorny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68889,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":49450870,"answer_count":18,"score":60,"last_activity_date":1678721261,"creation_date":1521809628,"question_id":49450140,"body_markdown":"Approaching to the final stage of the authentification, but something is going wrong in `handleSignInResult` method. It returns Exception code 10 (Developer error) in logs. Google provides comprehensive description: \r\n\r\n&gt; The application is misconfigured. This error is not recoverable and will be treated as fatal. The developer is an idiot...\r\n\r\nWhat should I do to handle this (get an account) and finally retrive values from account?  \r\nThank you in advance for your help!!!\r\n\r\n \r\nMainActivity:\r\n\r\n    package ru.podgorny.carcall;\r\n    \r\n    import ...\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n            SignInButton signInButton;\r\n            public static final int RC_SIGN_IN = 07;\r\n            public static final String TAG = &quot;MainActivity&quot;;\r\n            TextView tw1;\r\n            TextView tw2;\r\n    \r\n    \r\n            GoogleSignInOptions gso;\r\n            GoogleSignInClient mGSC;\r\n    \r\n    \r\n            @Override\r\n            protected void onCreate (Bundle savedInstanceState){\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            Log.d(TAG, &quot;Activity Works&quot;);\r\n            findViews();\r\n    \r\n                gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                        .requestEmail()\r\n                        //.requestProfile()\r\n                        .build();\r\n    \r\n                mGSC = GoogleSignIn.getClient(this, gso); //smth with mGSC variable....\r\n    \r\n                 View.OnClickListener onClickListener = new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        onClick2(v);\r\n                    }\r\n                };\r\n                 signInButton.setOnClickListener(onClickListener);\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        private void findViews() {\r\n                Log.d (TAG, &quot;findViews started&quot;);\r\n            signInButton = findViewById(R.id.idButtonGoogle);\r\n    \r\n            tw1 = findViewById(R.id.textView1);\r\n            tw1 = findViewById(R.id.textView2);\r\n    \r\n            Log.d(TAG, &quot;Views finded&quot;);\r\n    \r\n    \r\n        }\r\n    \r\n        public void onClick2(View view) {\r\n                Log.d(TAG, &quot;onClick started&quot;);\r\n            switch (view.getId()) {\r\n                case R.id.idButtonGoogle:\r\n                    signIn();\r\n                    break;\r\n            }\r\n            Log.d(TAG, &quot;OnClick Started&quot;);\r\n        }\r\n    \r\n        public void signIn() {\r\n    \r\n            Intent signInIntent = mGSC.getSignInIntent();\r\n            startActivityForResult(signInIntent, RC_SIGN_IN);\r\n            Log.d(TAG, &quot;startActivityForResult works&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            Log.d(TAG, &quot;OnActivityResult started&quot;);\r\n            // Result returned from launching the Intent from GoogleSignInClient.getSignInIntent(...);\r\n            if (requestCode == RC_SIGN_IN) {\r\n                // The Task returned from this call is always completed, no need to attach\r\n                // a listener.\r\n                Log.d(TAG, &quot;TASK started&quot;);\r\n                Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                handleSignInResult(task);\r\n                Log.d(TAG, &quot;OnActivityResult returned&quot;);\r\n            }\r\n        }\r\n    \r\n        private void handleSignInResult(Task&lt;GoogleSignInAccount&gt; completedTask) {\r\n            try {\r\n                GoogleSignInAccount account = completedTask.getResult(ApiException.class);//ERROR -- Code 10\r\n                Log.d(TAG, &quot;Account received&quot;);\r\n    \r\n    \r\n                updateUI(account);\r\n                Log.d(TAG, &quot;updateUI Launched&quot;);\r\n            } catch (ApiException e) {\r\n    \r\n                Log.w(TAG, &quot;signInResult:failed code=&quot; + e.getStatusCode());\r\n                updateUI(null);\r\n            }\r\n        }\r\n    \r\n        private void updateUI(GoogleSignInAccount account) {\r\n                if (account!=null) {\r\n                    tw1.setText(&quot;OK&quot;);\r\n                    tw2.setText(&quot;Name: &quot; + account.getGivenName() + &quot;, Family name: &quot; + account.getFamilyName() + &quot;, Email: &quot; + account.getEmail() /*+ &quot; image: &quot; +\r\n                            account.getPhotoUrl()*/);\r\n                }else {\r\n                    tw1.setText(&quot;SMTH wrong&quot;);\r\n                }\r\n    \r\n            }\r\n       \r\n    }\r\n\r\n","title":"Google SignIn API Exception 10","body":"<p>Approaching to the final stage of the authentification, but something is going wrong in <code>handleSignInResult</code> method. It returns Exception code 10 (Developer error) in logs. Google provides comprehensive description: </p>\n\n<blockquote>\n  <p>The application is misconfigured. This error is not recoverable and will be treated as fatal. The developer is an idiot...</p>\n</blockquote>\n\n<p>What should I do to handle this (get an account) and finally retrive values from account?<br>\nThank you in advance for your help!!!</p>\n\n<p>MainActivity:</p>\n\n<pre><code>package ru.podgorny.carcall;\n\nimport ...\n\npublic class MainActivity extends AppCompatActivity {\n\n        SignInButton signInButton;\n        public static final int RC_SIGN_IN = 07;\n        public static final String TAG = \"MainActivity\";\n        TextView tw1;\n        TextView tw2;\n\n\n        GoogleSignInOptions gso;\n        GoogleSignInClient mGSC;\n\n\n        @Override\n        protected void onCreate (Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Log.d(TAG, \"Activity Works\");\n        findViews();\n\n            gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                    .requestEmail()\n                    //.requestProfile()\n                    .build();\n\n            mGSC = GoogleSignIn.getClient(this, gso); //smth with mGSC variable....\n\n             View.OnClickListener onClickListener = new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    onClick2(v);\n                }\n            };\n             signInButton.setOnClickListener(onClickListener);\n\n\n\n\n    }\n\n    private void findViews() {\n            Log.d (TAG, \"findViews started\");\n        signInButton = findViewById(R.id.idButtonGoogle);\n\n        tw1 = findViewById(R.id.textView1);\n        tw1 = findViewById(R.id.textView2);\n\n        Log.d(TAG, \"Views finded\");\n\n\n    }\n\n    public void onClick2(View view) {\n            Log.d(TAG, \"onClick started\");\n        switch (view.getId()) {\n            case R.id.idButtonGoogle:\n                signIn();\n                break;\n        }\n        Log.d(TAG, \"OnClick Started\");\n    }\n\n    public void signIn() {\n\n        Intent signInIntent = mGSC.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n        Log.d(TAG, \"startActivityForResult works\");\n\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        Log.d(TAG, \"OnActivityResult started\");\n        // Result returned from launching the Intent from GoogleSignInClient.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            // The Task returned from this call is always completed, no need to attach\n            // a listener.\n            Log.d(TAG, \"TASK started\");\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            handleSignInResult(task);\n            Log.d(TAG, \"OnActivityResult returned\");\n        }\n    }\n\n    private void handleSignInResult(Task&lt;GoogleSignInAccount&gt; completedTask) {\n        try {\n            GoogleSignInAccount account = completedTask.getResult(ApiException.class);//ERROR -- Code 10\n            Log.d(TAG, \"Account received\");\n\n\n            updateUI(account);\n            Log.d(TAG, \"updateUI Launched\");\n        } catch (ApiException e) {\n\n            Log.w(TAG, \"signInResult:failed code=\" + e.getStatusCode());\n            updateUI(null);\n        }\n    }\n\n    private void updateUI(GoogleSignInAccount account) {\n            if (account!=null) {\n                tw1.setText(\"OK\");\n                tw2.setText(\"Name: \" + account.getGivenName() + \", Family name: \" + account.getFamilyName() + \", Email: \" + account.getEmail() /*+ \" image: \" +\n                        account.getPhotoUrl()*/);\n            }else {\n                tw1.setText(\"SMTH wrong\");\n            }\n\n        }\n\n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","hibernate-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678721118,"post_id":75723829,"comment_id":133584118,"body_markdown":"That is hibernate or jpa and not related to Spring. Using AUTO is always discouraged.","body":"That is hibernate or jpa and not related to Spring. Using AUTO is always discouraged."},{"owner":{"account_id":15137596,"reputation":1,"user_id":11839052,"display_name":"elfman"},"score":0,"creation_date":1678722846,"post_id":75723829,"comment_id":133584670,"body_markdown":"Thanks for the tip. Will put my focus on hibernate.","body":"Thanks for the tip. Will put my focus on hibernate."},{"owner":{"account_id":15137596,"reputation":1,"user_id":11839052,"display_name":"elfman"},"score":0,"creation_date":1678736694,"post_id":75723829,"comment_id":133588417,"body_markdown":"It appears the issue is resolved although I have more validation to complete.  I removed  a hibernate-entitymanager and hibernate-jpa in the pom replacing them with just hibernate-core version 5.6.15.Final . After doing so I starting getting an error about a mismatch in the configured increment size (not actually declared as the default is 50) and the db sequence (size of 1).  After adding allocationSize = 1 to the SequenceGenerator annotation the issue appears to be resolved.  THANKS !","body":"It appears the issue is resolved although I have more validation to complete.  I removed  a hibernate-entitymanager and hibernate-jpa in the pom replacing them with just hibernate-core version 5.6.15.Final . After doing so I starting getting an error about a mismatch in the configured increment size (not actually declared as the default is 50) and the db sequence (size of 1).  After adding allocationSize = 1 to the SequenceGenerator annotation the issue appears to be resolved.  THANKS !"}],"owner":{"account_id":15137596,"reputation":1,"user_id":11839052,"display_name":"elfman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678720980,"creation_date":1678720980,"question_id":75723829,"body_markdown":"I&#39;m upgrading from Spring 4.3.23.RELEASE to Spring 5.3.20 and running into issues with the save and flush of the record due to that Spring is not using the correct next available key value from the Oracle SEQUENCE that is configured in the Java domain object.  Seems it is picking some arbitrary key value that was already used in the Oracle table instead of the next value in the Oracle SEQUENCE object. I&#39;m guessing there is some incompatibility possibly between the spring-data-jpa (2.6.5) and the hibernate-jpa-2.1-api (version 1.0.0-Final) that is causing the execution to misbehave.   \r\n\r\n\r\n\r\n\r\nI tried switching the generation strategy from &#39;AUTO&#39; to &#39;SEQUENCE&#39; and making the domain class pk attribute type from long to Long which made matters worse. ","title":"Spring data jpa with hibernate is failing on PK (primary key) violation during save and flush execution","body":"<p>I'm upgrading from Spring 4.3.23.RELEASE to Spring 5.3.20 and running into issues with the save and flush of the record due to that Spring is not using the correct next available key value from the Oracle SEQUENCE that is configured in the Java domain object.  Seems it is picking some arbitrary key value that was already used in the Oracle table instead of the next value in the Oracle SEQUENCE object. I'm guessing there is some incompatibility possibly between the spring-data-jpa (2.6.5) and the hibernate-jpa-2.1-api (version 1.0.0-Final) that is causing the execution to misbehave.</p>\n<p>I tried switching the generation strategy from 'AUTO' to 'SEQUENCE' and making the domain class pk attribute type from long to Long which made matters worse.</p>\n"},{"tags":["java","sql","string","specifier"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1678718212,"post_id":75723306,"comment_id":133583108,"body_markdown":"`%s` is a formatting placeholder for a string.","body":"<code>%s</code> is a formatting placeholder for a string."},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1678719365,"post_id":75723306,"comment_id":133583495,"body_markdown":"See the documentation of [`String.format(...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)) which refers to the documentation about [format strings](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax).","body":"See the documentation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#format(java.lang.String,java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>String.format(...)</code></a> which refers to the documentation about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">format strings</a>."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1678719374,"post_id":75723306,"comment_id":133583499,"body_markdown":"When in doubt, read the javadoc: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax","body":"When in doubt, read the javadoc: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1678722069,"post_id":75723306,"comment_id":133584434,"body_markdown":"terrible code.... using two format strings as posted is good to confuse any developer (+ `%s`  used for literals)","body":"terrible code.... using two format strings as posted is good to confuse any developer (+ <code>%s</code>  used for literals)"}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1678724336,"post_id":75723560,"comment_id":133585109,"body_markdown":"Obligatory comment about using string formatting to build SQL: https://xkcd.com/327/","body":"Obligatory comment about using string formatting to build SQL: <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">xkcd.com/327</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1678726386,"post_id":75723560,"comment_id":133585751,"body_markdown":"Of course, just writing all those fragments into a single string or using the good old `+` operator would not only make it obvious what’s going on, it would also keep all the compile-time constants constant, instead of performing unnecessary runtime operations.","body":"Of course, just writing all those fragments into a single string or using the good old <code>+</code> operator would not only make it obvious what’s going on, it would also keep all the compile-time constants constant, instead of performing unnecessary runtime operations."}],"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678719471,"creation_date":1678719471,"answer_id":75723560,"question_id":75723306,"body_markdown":"By itself `%s(%s)` is simply two string placeholder one after the other, with the second being surrounded by parentheses that have no syntactic meaning as far as `format` is concerned.\r\n\r\nWhat this piece of code does is simply substituting the content of `tabName` for the first `%s` and the result of\r\n\r\n    String.format(&quot;%s,%s,%s,%s,%s,%s,%s&quot;,\r\n                        &quot;id int primary key auto_increment&quot;,\r\n                        &quot;surname varchar(50)&quot;,\r\n                        &quot;name varchar(50)&quot;,\r\n                        &quot;age int(3)&quot;,\r\n                        &quot;course int(1)&quot;,\r\n                        &quot;group varchar(50)&quot;,\r\n                        &quot;stateFunded int(1)&quot;)\r\n\r\nfor the second one, hence creating something along the lines of \r\n\r\n    create table if not exists tabName(\r\n        id int primary key auto_increment,\r\n        surname varchar(50),\r\n        name varchar(50),\r\n        age int(3),\r\n        course int(1),\r\n        group varchar(50),\r\n        stateFunded int(1)\r\n    )\r\n\r\nfor whatever value `tabName` has.","title":"What does %s(%s) specifier do?","body":"<p>By itself <code>%s(%s)</code> is simply two string placeholder one after the other, with the second being surrounded by parentheses that have no syntactic meaning as far as <code>format</code> is concerned.</p>\n<p>What this piece of code does is simply substituting the content of <code>tabName</code> for the first <code>%s</code> and the result of</p>\n<pre><code>String.format(&quot;%s,%s,%s,%s,%s,%s,%s&quot;,\n                    &quot;id int primary key auto_increment&quot;,\n                    &quot;surname varchar(50)&quot;,\n                    &quot;name varchar(50)&quot;,\n                    &quot;age int(3)&quot;,\n                    &quot;course int(1)&quot;,\n                    &quot;group varchar(50)&quot;,\n                    &quot;stateFunded int(1)&quot;)\n</code></pre>\n<p>for the second one, hence creating something along the lines of</p>\n<pre><code>create table if not exists tabName(\n    id int primary key auto_increment,\n    surname varchar(50),\n    name varchar(50),\n    age int(3),\n    course int(1),\n    group varchar(50),\n    stateFunded int(1)\n)\n</code></pre>\n<p>for whatever value <code>tabName</code> has.</p>\n"}],"owner":{"account_id":27872594,"reputation":1,"user_id":21282756,"display_name":"Nikita28"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75723560,"answer_count":1,"score":-1,"last_activity_date":1678719471,"creation_date":1678718175,"question_id":75723306,"body_markdown":"I have a function that writes a sql query\r\n\r\nI can&#39;t figure out what does the expression %s(%s) do in this function\r\n\r\n    public void createTable(String tabName) throws SQLException {\r\n        String sql = &quot;create table if not exists %s(%s)&quot;;\r\n        sql = String.format(sql,\r\n                            tabName,\r\n                            String.format(&quot;%s,%s,%s,%s,%s,%s,%s&quot;,\r\n                            &quot;id int primary key auto_increment&quot;,\r\n                            &quot;surname varchar(50)&quot;,\r\n                            &quot;name varchar(50)&quot;,\r\n                            &quot;age int(3)&quot;,\r\n                            &quot;course int(1)&quot;,\r\n                            &quot;group varchar(50)&quot;,\r\n                            &quot;stateFunded int(1)&quot;\r\n                    ));\r\n        stat.execute(sql);\r\n        System.out.println(sql);\r\n    }\r\n\r\n\r\n\r\nI&#39;ve tried to search, but there is no information about it in Google.","title":"What does %s(%s) specifier do?","body":"<p>I have a function that writes a sql query</p>\n<p>I can't figure out what does the expression %s(%s) do in this function</p>\n<pre><code>public void createTable(String tabName) throws SQLException {\n    String sql = &quot;create table if not exists %s(%s)&quot;;\n    sql = String.format(sql,\n                        tabName,\n                        String.format(&quot;%s,%s,%s,%s,%s,%s,%s&quot;,\n                        &quot;id int primary key auto_increment&quot;,\n                        &quot;surname varchar(50)&quot;,\n                        &quot;name varchar(50)&quot;,\n                        &quot;age int(3)&quot;,\n                        &quot;course int(1)&quot;,\n                        &quot;group varchar(50)&quot;,\n                        &quot;stateFunded int(1)&quot;\n                ));\n    stat.execute(sql);\n    System.out.println(sql);\n}\n</code></pre>\n<p>I've tried to search, but there is no information about it in Google.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":0,"creation_date":1678710796,"post_id":75721875,"comment_id":133580635,"body_markdown":"are you using the correct driver for PostgreSQL?","body":"are you using the correct driver for PostgreSQL?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678710847,"post_id":75721875,"comment_id":133580649,"body_markdown":"This seems like something weird is going on with Spring trying to proxy your `ResultSet` for some reason. Can you show us how you call that method? (Ideally all the way down to how you create/get that `ResultSet`)? *Are you* using Spring at all in your program?","body":"This seems like something weird is going on with Spring trying to proxy your <code>ResultSet</code> for some reason. Can you show us how you call that method? (Ideally all the way down to how you create/get that <code>ResultSet</code>)? <i>Are you</i> using Spring at all in your program?"},{"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"score":0,"creation_date":1678711835,"post_id":75721875,"comment_id":133580957,"body_markdown":"@JoachimSauer Added my Database properties details in the question.","body":"@JoachimSauer Added my Database properties details in the question."},{"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"score":0,"creation_date":1678711844,"post_id":75721875,"comment_id":133580961,"body_markdown":"@Reimeus Added my Database properties details in the question.","body":"@Reimeus Added my Database properties details in the question."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1678712011,"post_id":75721875,"comment_id":133581008,"body_markdown":"That&#39;s ... not what I asked for ... I asked for the code that *calls* this method.","body":"That&#39;s ... not what I asked for ... I asked for the code that <i>calls</i> this method."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1678712344,"post_id":75721875,"comment_id":133581110,"body_markdown":"Please add your dependencies. Feels like you are using some ancient version of the postgres driver. Also please add the **full stacktrace** and not just a snippet.","body":"Please add your dependencies. Feels like you are using some ancient version of the postgres driver. Also please add the <b>full stacktrace</b> and not just a snippet."},{"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"score":0,"creation_date":1678712356,"post_id":75721875,"comment_id":133581116,"body_markdown":"@JoachimSauer added the remaining information","body":"@JoachimSauer added the remaining information"},{"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"score":0,"creation_date":1678713136,"post_id":75721875,"comment_id":133581354,"body_markdown":"@M.Deinum Added additional details","body":"@M.Deinum Added additional details"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1678714153,"post_id":75721875,"comment_id":133581702,"body_markdown":"Why are you returning `ResultSet` from a repository method. It will be interpreted as a projection and not as a `ResultSet`. If you need direct access tot the resultset use the `JdbcTemplate` but not as a return type from a Spring Data repository method. Or use a proper projection and return a list of that projection.","body":"Why are you returning <code>ResultSet</code> from a repository method. It will be interpreted as a projection and not as a <code>ResultSet</code>. If you need direct access tot the resultset use the <code>JdbcTemplate</code> but not as a return type from a Spring Data repository method. Or use a proper projection and return a list of that projection."},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1678715154,"post_id":75721875,"comment_id":133582014,"body_markdown":"Refer: https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next() Check if you are receiving a ResultSet that has been closed or the underlying connection has been closed.","body":"Refer: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/sql/ResultSet.html#next()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/sql/&hellip;</a> Check if you are receiving a ResultSet that has been closed or the underlying connection has been closed."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1678715773,"post_id":75721875,"comment_id":133582245,"body_markdown":"Can you please add the definition of the &#39;@Entity&#39; myProfileRequestModel?","body":"Can you please add the definition of the &#39;@Entity&#39; myProfileRequestModel?"}],"answers":[{"comments":[{"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"score":1,"creation_date":1678795254,"post_id":75723556,"comment_id":133599026,"body_markdown":"Thanks I changed the response type to Model and it worked.","body":"Thanks I changed the response type to Model and it worked."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678719460,"creation_date":1678719460,"answer_id":75723556,"question_id":75721875,"body_markdown":"You can&#39;t return a `ResultSet` back from a `CrudRepository&lt;myProfileRequestModel,Integer&gt;`.\r\n\r\nChange your repo defn to the following:\r\n\r\n    public interface myRequestRepository extends CrudRepository&lt;myProfileRequestModel,Integer&gt; {\r\n    \t    \r\n    \t    @Query(value=&quot;select token,date,id from dev_check.token_table\\r\\n&quot;\r\n    \t            + &quot;lr where lr.id =:id ORDER BY lr.creationdate DESC limit 1&quot;,nativeQuery = true)\r\n    \t    Optional&lt;myProfileRequestModel&gt; findtoken(@Param(&quot;id&quot;)int id);\r\n    }\r\n\r\nAnd access the token as follows:\r\n\r\n\t\t\tOptional&lt;myProfileRequestModel&gt; tokenDetailsOptional = myRequestRepository.findtoken(id);\r\n\t\t\tif(tokenDetailsOptional.isPresent()) {\r\n\t\t\t\tmyProfileRequestModel myProfileRequestModel = tokenDetailsOptional.get();\r\n\t\t\t\tString token = myProfileRequestModel.token;\r\n\t\t\t\tTimestamp date = myProfileRequestModel.date;\r\n\t\t\t}\r\n\r\nI am assuming that myProfileRequestModel looks like this:\r\n\r\n    @Entity\r\n    public class myProfileRequestModel {\r\n    \t\r\n    \t@Id\r\n    \tint id;\r\n    \t\r\n    \tTimestamp date;\r\n    \t\r\n    \tString token;\r\n    \t\r\n    \r\n    }\r\n\r\n\r\n","title":"Java ResultSet Issue","body":"<p>You can't return a <code>ResultSet</code> back from a <code>CrudRepository&lt;myProfileRequestModel,Integer&gt;</code>.</p>\n<p>Change your repo defn to the following:</p>\n<pre><code>public interface myRequestRepository extends CrudRepository&lt;myProfileRequestModel,Integer&gt; {\n        \n        @Query(value=&quot;select token,date,id from dev_check.token_table\\r\\n&quot;\n                + &quot;lr where lr.id =:id ORDER BY lr.creationdate DESC limit 1&quot;,nativeQuery = true)\n        Optional&lt;myProfileRequestModel&gt; findtoken(@Param(&quot;id&quot;)int id);\n}\n</code></pre>\n<p>And access the token as follows:</p>\n<pre><code>        Optional&lt;myProfileRequestModel&gt; tokenDetailsOptional = myRequestRepository.findtoken(id);\n        if(tokenDetailsOptional.isPresent()) {\n            myProfileRequestModel myProfileRequestModel = tokenDetailsOptional.get();\n            String token = myProfileRequestModel.token;\n            Timestamp date = myProfileRequestModel.date;\n        }\n</code></pre>\n<p>I am assuming that myProfileRequestModel looks like this:</p>\n<pre><code>@Entity\npublic class myProfileRequestModel {\n    \n    @Id\n    int id;\n    \n    Timestamp date;\n    \n    String token;\n    \n\n}\n</code></pre>\n"}],"owner":{"account_id":8396062,"reputation":595,"user_id":6303083,"accept_rate":50,"display_name":"Salman Shaikh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75723556,"answer_count":1,"score":0,"last_activity_date":1678719460,"creation_date":1678710538,"question_id":75721875,"body_markdown":"Please refer to the following code, I am just trying to query the DB and get the ResultSet and traverse it:\r\n\r\n    public boolean tokenValidation(ResultSet tokenDetails) {\r\n    \r\n            try {\r\n    \r\n                logger.error(&quot;INFO&quot; + &quot;|&quot; + new SimpleDateFormat(&quot;ddMMyyyy&quot;).format(new Date()) + &quot;|&quot; +\r\n                    new SimpleDateFormat(&quot;HHmm&quot;).format(new Date()) + &quot;|&quot; + &quot;Service &quot; + &quot;|&quot; +\r\n                    &quot;tokenValidation&quot; + &quot;|&quot; + &quot;Validation Token&quot;);\r\n    \r\n                long MILLIS_PER_DAY = 24 * 60 * 60 * 1000 L;\r\n                String apiToken = null;\r\n                Timestamp apiTokenTime = null;\r\n                Timestamp currentTime = Timestamp.from(Instant.now());\r\n    \r\n    \r\n                if (tokenDetails != null) {\r\n                    System.out.println(&quot;-----------------------------------Not Null&quot;);\r\n                }\r\n    \r\n    \r\n                System.out.println(tokenDetails.getClass().toString());\r\n                System.out.println(tokenDetails.getClass());\r\n                while (tokenDetails.next()) {\r\n                    System.out.println(&quot;111111111111111111111111111111111111111111111111111&quot;);\r\n                    apiToken = tokenDetails.getString(&quot;token&quot;);\r\n                    logger.info(apiToken);\r\n                    apiTokenTime = tokenDetails.getTimestamp(&quot;date&quot;);\r\n                    System.out.println(&quot;0000000000000000000000000000000000000000000000000000&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                System.out.println(&quot;exception&quot;);\r\n    \r\n            }\r\n\r\nBut I am facing the following exception, which I never encountered before:\r\n\r\n    java.lang.IllegalArgumentException: Invoked method public abstract boolean java.sql.ResultSet.next() throws java.sql.SQLException is no accessor method\r\n\r\nI tried to print ResultSet Object class, but I received the following response:\r\n\r\n    class com.sun.proxy.$Proxy197\r\n    class com.sun.proxy.$Proxy197\r\n\r\nI am not sure if the response is correct for ResultSet Class.\r\n\r\nI can see the logs till `-----------------------------------Not Null`, then the `getClass()` lines.\r\nThe program is throwing exception at `.next()`.\r\n\r\nIt will be great if someone can help me to understand the issue.\r\n\r\nNote: It is a postgres database\r\n\r\nDatabase Properties:\r\n\r\n    #jdbc Connection\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.datasource.url=\r\n    \r\n    spring.datasource.username=\r\n    spring.datasource.password=\r\n    spring.jpa.properties.hibernate.default_schema=\r\n    spring.jpa.database = POSTGRESQL \r\n    spring.jpa.hibernate.ddl-auto = none \r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect \r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n    \r\n    logging.level.org.hibernate=INFO\r\n    \r\n    spring.jpa.show-sql=true\r\n    \r\n    #### Hikari connection pool properties #####\r\n    spring.datasource.type = com.zaxxer.hikari.HikariDataSource\r\n    spring.datasource.hikari.minimum-idle=3\r\n    spring.datasource.hikari.maximum-pool-size=7\r\n    \r\n    spring.mvc.pathmatch.matching-strategy=ant-path-matcher\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n\r\n\r\n\r\nI am calling the `tokenValidation` function in the following code/section:\r\n\r\n    public String token() {\r\n    //id = 1234\r\n    ResultSet tokenDetails = myRequestRepository.findtoken(id);\r\n    \t\t\r\n    boolean result = tokenValidation(tokenDetails);\r\n    \r\n    //my other operations\r\n    }\r\n\r\nRepository code:\r\n\r\n    public interface myRequestRepository extends CrudRepository&lt;myProfileRequestModel,Integer&gt; {\r\n    \t\r\n    \t@Query(value=&quot;select token,date,id from dev_check.token_table\\r\\n&quot;\r\n    \t\t\t+ &quot;lr where lr.id =:id ORDER BY lr.creationdate DESC limit 1&quot;,nativeQuery = true)\r\n    \tResultSet findtoken(@Param(&quot;id&quot;)int id);\r\n\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;demo.token&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;token_check&lt;/artifactId&gt;\r\n    \t&lt;version&gt;token_check&lt;/version&gt;\r\n    \t&lt;name&gt;token_check&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20160810&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.vault/spring-vault-core --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \r\n    \r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;version&gt;${gson.version}&lt;/version&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \r\n    \t\t\t&lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;version&gt;0.18.0&lt;/version&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \r\n    \t\t\t&lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n    \r\n    \t\t\t&lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;version&gt;3.16.0&lt;/version&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;version&gt;2.3.1&lt;/version&gt;\r\n    \r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nStacktrace:\r\n\r\n    java.lang.IllegalArgumentException: Invoked method public abstract boolean java.sql.ResultSet.next() throws java.sql.SQLException is no accessor method\r\n            at org.springframework.data.projection.Accessor.&lt;init&gt;(Accessor.java:51)\r\n            at org.springframework.data.projection.MapAccessingMethodInterceptor.invoke(MapAccessingMethodInterceptor.java:60)\r\n            at org.springframework.data.projection.ProjectingMethodInterceptor.invoke(ProjectingMethodInterceptor.java:77)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.projection.ProxyProjectionFactory$TargetAwareMethodInterceptor.invoke(ProxyProjectionFactory.java:253)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\r\n            at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n            at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n            at com.sun.proxy.$Proxy197.next(Unknown Source)\r\n            at job.well.my.service.myService.tokenValidation(myService.java:4076)\r\n            at job.well.my.service.myService.companyProfileService(myService.java:786)\r\n            at job.well.my.controller.myController.companyProfile(myController.java:185)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n            at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n            at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n            at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n            at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n            at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\r\n            at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\r\n            at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n            at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n            at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n            at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\r\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n            at java.base/java.lang.Thread.run(Thread.java:829)\r\n    exception\r\n\r\n","title":"Java ResultSet Issue","body":"<p>Please refer to the following code, I am just trying to query the DB and get the ResultSet and traverse it:</p>\n<pre><code>public boolean tokenValidation(ResultSet tokenDetails) {\n\n        try {\n\n            logger.error(&quot;INFO&quot; + &quot;|&quot; + new SimpleDateFormat(&quot;ddMMyyyy&quot;).format(new Date()) + &quot;|&quot; +\n                new SimpleDateFormat(&quot;HHmm&quot;).format(new Date()) + &quot;|&quot; + &quot;Service &quot; + &quot;|&quot; +\n                &quot;tokenValidation&quot; + &quot;|&quot; + &quot;Validation Token&quot;);\n\n            long MILLIS_PER_DAY = 24 * 60 * 60 * 1000 L;\n            String apiToken = null;\n            Timestamp apiTokenTime = null;\n            Timestamp currentTime = Timestamp.from(Instant.now());\n\n\n            if (tokenDetails != null) {\n                System.out.println(&quot;-----------------------------------Not Null&quot;);\n            }\n\n\n            System.out.println(tokenDetails.getClass().toString());\n            System.out.println(tokenDetails.getClass());\n            while (tokenDetails.next()) {\n                System.out.println(&quot;111111111111111111111111111111111111111111111111111&quot;);\n                apiToken = tokenDetails.getString(&quot;token&quot;);\n                logger.info(apiToken);\n                apiTokenTime = tokenDetails.getTimestamp(&quot;date&quot;);\n                System.out.println(&quot;0000000000000000000000000000000000000000000000000000&quot;);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            System.out.println(&quot;exception&quot;);\n\n        }\n</code></pre>\n<p>But I am facing the following exception, which I never encountered before:</p>\n<pre><code>java.lang.IllegalArgumentException: Invoked method public abstract boolean java.sql.ResultSet.next() throws java.sql.SQLException is no accessor method\n</code></pre>\n<p>I tried to print ResultSet Object class, but I received the following response:</p>\n<pre><code>class com.sun.proxy.$Proxy197\nclass com.sun.proxy.$Proxy197\n</code></pre>\n<p>I am not sure if the response is correct for ResultSet Class.</p>\n<p>I can see the logs till <code>-----------------------------------Not Null</code>, then the <code>getClass()</code> lines.\nThe program is throwing exception at <code>.next()</code>.</p>\n<p>It will be great if someone can help me to understand the issue.</p>\n<p>Note: It is a postgres database</p>\n<p>Database Properties:</p>\n<pre><code>#jdbc Connection\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.datasource.url=\n\nspring.datasource.username=\nspring.datasource.password=\nspring.jpa.properties.hibernate.default_schema=\nspring.jpa.database = POSTGRESQL \nspring.jpa.hibernate.ddl-auto = none \nspring.jpa.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect \nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n\nlogging.level.org.hibernate=INFO\n\nspring.jpa.show-sql=true\n\n#### Hikari connection pool properties #####\nspring.datasource.type = com.zaxxer.hikari.HikariDataSource\nspring.datasource.hikari.minimum-idle=3\nspring.datasource.hikari.maximum-pool-size=7\n\nspring.mvc.pathmatch.matching-strategy=ant-path-matcher\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n</code></pre>\n<p>I am calling the <code>tokenValidation</code> function in the following code/section:</p>\n<pre><code>public String token() {\n//id = 1234\nResultSet tokenDetails = myRequestRepository.findtoken(id);\n        \nboolean result = tokenValidation(tokenDetails);\n\n//my other operations\n}\n</code></pre>\n<p>Repository code:</p>\n<pre><code>public interface myRequestRepository extends CrudRepository&lt;myProfileRequestModel,Integer&gt; {\n    \n    @Query(value=&quot;select token,date,id from dev_check.token_table\\r\\n&quot;\n            + &quot;lr where lr.id =:id ORDER BY lr.creationdate DESC limit 1&quot;,nativeQuery = true)\n    ResultSet findtoken(@Param(&quot;id&quot;)int id);\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;demo.token&lt;/groupId&gt;\n    &lt;artifactId&gt;token_check&lt;/artifactId&gt;\n    &lt;version&gt;token_check&lt;/version&gt;\n    &lt;name&gt;token_check&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n            &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n            &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.vault/spring-vault-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.vault&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-vault-core&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.9.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n\n            &lt;version&gt;${gson.version}&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n\n            &lt;artifactId&gt;jwks-rsa&lt;/artifactId&gt;\n\n            &lt;version&gt;0.18.0&lt;/version&gt;\n\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n\n            &lt;version&gt;3.16.0&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n\n            &lt;version&gt;2.3.1&lt;/version&gt;\n\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.mail/mail --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Stacktrace:</p>\n<pre><code>java.lang.IllegalArgumentException: Invoked method public abstract boolean java.sql.ResultSet.next() throws java.sql.SQLException is no accessor method\n        at org.springframework.data.projection.Accessor.&lt;init&gt;(Accessor.java:51)\n        at org.springframework.data.projection.MapAccessingMethodInterceptor.invoke(MapAccessingMethodInterceptor.java:60)\n        at org.springframework.data.projection.ProjectingMethodInterceptor.invoke(ProjectingMethodInterceptor.java:77)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.ProxyProjectionFactory$TargetAwareMethodInterceptor.invoke(ProxyProjectionFactory.java:253)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n        at com.sun.proxy.$Proxy197.next(Unknown Source)\n        at job.well.my.service.myService.tokenValidation(myService.java:4076)\n        at job.well.my.service.myService.companyProfileService(myService.java:786)\n        at job.well.my.controller.myController.companyProfile(myController.java:185)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\nexception\n</code></pre>\n"},{"tags":["java","spring","jpa","repository","pageable"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1678719035,"post_id":75723371,"comment_id":133583393,"body_markdown":"You cannot as that is not how paging works. They are apparently the same objects/types else you couldn&#39;t return them. Write a single query (or repository) that retrieves all in one pass instead of multiple passes, then apply paging to that single query.","body":"You cannot as that is not how paging works. They are apparently the same objects/types else you couldn&#39;t return them. Write a single query (or repository) that retrieves all in one pass instead of multiple passes, then apply paging to that single query."},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1678746132,"post_id":75723371,"comment_id":133590427,"body_markdown":"`PageRequest` does not allow offsets with finer granularity than one page. You will need to use a different implementation of `Pageable`. I am not seeing one jump out that will work for you, so you may end up having to implement a custom `Pageable`","body":"<code>PageRequest</code> does not allow offsets with finer granularity than one page. You will need to use a different implementation of <code>Pageable</code>. I am not seeing one jump out that will work for you, so you may end up having to implement a custom <code>Pageable</code>"}],"owner":{"account_id":24755947,"reputation":11,"user_id":18640878,"display_name":"Saron Ciupe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678718622,"creation_date":1678718534,"question_id":75723371,"body_markdown":"How can I use Spring Data JPA to find results in two repositories using Pageable? \r\nConsider that we have 2 repositories: the first repository has 5 rows matching a certain condition. The second repository has 12 rows matching the condition. Sending a request for page 0 with size 10 should retrieve the 5 rows from the same repository and 5 rows from the second repository. Sending a request for page 1 with size 10 should retrieve the remaining 7 rows from the second repository.\r\nThe Page result must return the correct number of total rows, and, if possible, the results from different pages should not overlap.\r\n\r\nThis is what I&#39;ve tried:\r\n\r\n        \r\n```\r\nPage&lt;Order&gt; orders = firstRepository.findByCondition(page)\r\n        .map(mapper::entityToPojo);\r\nif (orders.getNumberOfElements() &gt;= page.getPageSize())\r\n    return orders;\r\n\r\nPageRequest pageRequest = PageRequest.of(page.getPageNumber(), page.getPageSize() - orders.getNumberOfElements());\r\n\r\nPage&lt;Order&gt; otherOrders = secondRepository.findByCondition(pageRequest)\r\n        .map(mapper::otherEntityToPojo);\r\nList&lt;Order&gt; combinedOrders = Stream.of(orders.getContent(), otherOrders.getContent())\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\nreturn new PageImpl&lt;&gt;(combinedOrders, page, orders.getTotalElements() + otherOrders.getTotalElements());\r\n\r\n\r\n```\r\n\r\nIt works fine for the first page, but for the second page and so one, since it queries for page with index 1, it retrieves only 2 results from the second repository, considering that the other 10 were fetched on page with index 0.\r\n\r\nI tried other combinations also, but this is the closest one to the truth. Thank you in advance.","title":"How to use Spring Data Pageable to query two repositories","body":"<p>How can I use Spring Data JPA to find results in two repositories using Pageable?\nConsider that we have 2 repositories: the first repository has 5 rows matching a certain condition. The second repository has 12 rows matching the condition. Sending a request for page 0 with size 10 should retrieve the 5 rows from the same repository and 5 rows from the second repository. Sending a request for page 1 with size 10 should retrieve the remaining 7 rows from the second repository.\nThe Page result must return the correct number of total rows, and, if possible, the results from different pages should not overlap.</p>\n<p>This is what I've tried:</p>\n<pre><code>Page&lt;Order&gt; orders = firstRepository.findByCondition(page)\n        .map(mapper::entityToPojo);\nif (orders.getNumberOfElements() &gt;= page.getPageSize())\n    return orders;\n\nPageRequest pageRequest = PageRequest.of(page.getPageNumber(), page.getPageSize() - orders.getNumberOfElements());\n\nPage&lt;Order&gt; otherOrders = secondRepository.findByCondition(pageRequest)\n        .map(mapper::otherEntityToPojo);\nList&lt;Order&gt; combinedOrders = Stream.of(orders.getContent(), otherOrders.getContent())\n        .flatMap(List::stream)\n        .collect(Collectors.toList());\nreturn new PageImpl&lt;&gt;(combinedOrders, page, orders.getTotalElements() + otherOrders.getTotalElements());\n\n\n</code></pre>\n<p>It works fine for the first page, but for the second page and so one, since it queries for page with index 1, it retrieves only 2 results from the second repository, considering that the other 10 were fetched on page with index 0.</p>\n<p>I tried other combinations also, but this is the closest one to the truth. Thank you in advance.</p>\n"},{"tags":["java","eclipse","selenium-webdriver","selenium-chromedriver","selenium-ide"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1678690177,"post_id":75718696,"comment_id":133575369,"body_markdown":"and next time post text based error and code, not an image","body":"and next time post text based error and code, not an image"},{"owner":{"account_id":28003315,"reputation":11,"user_id":21387131,"display_name":"ASHUTOS SAHOO"},"score":0,"creation_date":1678704375,"post_id":75718696,"comment_id":133578813,"body_markdown":"Sure, Rolandas-Ulevicius, could you please help me on the issue","body":"Sure, Rolandas-Ulevicius, could you please help me on the issue"}],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1678702959,"post_id":75719343,"comment_id":133578371,"body_markdown":"Hint: we do not COPY answer content here. Instead, we tell people that there is already an existing answer to solves their problem. And note: when you write answers, make sure to get the formatting and indenting right, instead of just copy/pasting some other peoples code.","body":"Hint: we do not COPY answer content here. Instead, we tell people that there is already an existing answer to solves their problem. And note: when you write answers, make sure to get the formatting and indenting right, instead of just copy/pasting some other peoples code."},{"owner":{"account_id":28003315,"reputation":11,"user_id":21387131,"display_name":"ASHUTOS SAHOO"},"score":0,"creation_date":1678704318,"post_id":75719343,"comment_id":133578798,"body_markdown":"@Bhairu, Why we need to instantiate chromeoptions any reason for that.","body":"@Bhairu, Why we need to instantiate chromeoptions any reason for that."},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1678705917,"post_id":75719343,"comment_id":133579270,"body_markdown":"@Ashutosh        Chromeoption is typically used for a headless run. Still, here the case is, the new chrome version 111 is not compatible with the latest selenium version even for 4.8, so for the time being this is the alternative soln.","body":"@Ashutosh        Chromeoption is typically used for a headless run. Still, here the case is, the new chrome version 111 is not compatible with the latest selenium version even for 4.8, so for the time being this is the alternative soln."}],"tags":[],"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678718515,"creation_date":1678694980,"answer_id":75719343,"question_id":75718696,"body_markdown":"Please try with the solution below.\r\n    \r\n    ChromeOptions opt = new ChromeOptions();\r\n    opt.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    // Launching the browser\r\n    driver=new ChromeDriver(opt);\r\n\r\nTypically, `ChromeOptions` used for a headless run. However, the new chrome version 111 is not compatible with the latest Selenium version even for 4.8, so for the time being this is an alternative solution.","title":"I am getting error while launching chrome browser using selenium java-io-ioexception-invalid-status-code-403-text-forbidden","body":"<p>Please try with the solution below.</p>\n<pre><code>ChromeOptions opt = new ChromeOptions();\nopt.addArguments(&quot;--remote-allow-origins=*&quot;);\n// Launching the browser\ndriver=new ChromeDriver(opt);\n</code></pre>\n<p>Typically, <code>ChromeOptions</code> used for a headless run. However, the new chrome version 111 is not compatible with the latest Selenium version even for 4.8, so for the time being this is an alternative solution.</p>\n"}],"owner":{"account_id":28003315,"reputation":11,"user_id":21387131,"display_name":"ASHUTOS SAHOO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3020,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678702897,"answer_count":1,"score":0,"last_activity_date":1678718515,"creation_date":1678689712,"question_id":75718696,"body_markdown":"[enter image description here](https://i.stack.imgur.com/njbm9.jpg)\r\n\r\nI have tried to launch chromedriver using selenium after instantiating driver.\r\n\r\nI am using chrome browser version 111.0.5563.41.","title":"I am getting error while launching chrome browser using selenium java-io-ioexception-invalid-status-code-403-text-forbidden","body":"<p><a href=\"https://i.stack.imgur.com/njbm9.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have tried to launch chromedriver using selenium after instantiating driver.</p>\n<p>I am using chrome browser version 111.0.5563.41.</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1493711830,"post_id":43732881,"comment_id":74508756,"body_markdown":"what about **Map&lt;String, List&lt;String&gt;&gt;**???","body":"what about <b>Map&lt;String, List&lt;String&gt;&gt;</b>???"},{"owner":{"account_id":10455457,"reputation":2830,"user_id":7707749,"accept_rate":86,"display_name":"King Reload"},"score":1,"creation_date":1493712702,"post_id":43732881,"comment_id":74509211,"body_markdown":"Possible duplicate of [HashMap: One Key, multiple Values](http://stackoverflow.com/questions/8229473/hashmap-one-key-multiple-values)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/8229473/hashmap-one-key-multiple-values\">HashMap: One Key, multiple Values</a>"}],"answers":[{"comments":[{"owner":{"account_id":8219663,"reputation":3028,"user_id":6184684,"display_name":"danbanica"},"score":0,"creation_date":1493717108,"post_id":43732912,"comment_id":74511531,"body_markdown":"it&#39;s interesting that despite being first, this answer didn&#39;t receive that many up-votes so far. I guess it&#39;s the &quot;although&quot; part, which basically claims &quot;instead of using a hash-map, you can create a class to store the key + value pair&quot; (the value being a list is actually irrelevant in that idea), and this would open a separate discussion.","body":"it&#39;s interesting that despite being first, this answer didn&#39;t receive that many up-votes so far. I guess it&#39;s the &quot;although&quot; part, which basically claims &quot;instead of using a hash-map, you can create a class to store the key + value pair&quot; (the value being a list is actually irrelevant in that idea), and this would open a separate discussion."}],"tags":[],"owner":{"account_id":4862517,"reputation":1544,"user_id":3921725,"display_name":"Alex Roig"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1493711952,"creation_date":1493711922,"answer_id":43732912,"question_id":43732881,"body_markdown":"You can create this structure:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n\r\nAlthough, it&#39;d be more efficient if you know the structure to create an object with the inner lists.","title":"Hashmap with multiple keys and values?","body":"<p>You can create this structure:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n</code></pre>\n\n<p>Although, it'd be more efficient if you know the structure to create an object with the inner lists.</p>\n"},{"comments":[{"owner":{"account_id":6517933,"reputation":3311,"user_id":5250973,"display_name":"Jay Dangar"},"score":0,"creation_date":1540657913,"post_id":43732949,"comment_id":92949994,"body_markdown":"This is a nice answer, Thanks.","body":"This is a nice answer, Thanks."}],"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1493712064,"creation_date":1493712064,"answer_id":43732949,"question_id":43732881,"body_markdown":"What you need is a `Map&lt;String, List&lt;String&gt;&gt;`\r\n\r\nexample:\r\n\r\n\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; myMap = new HashMap&lt;&gt;();\r\n      \r\n    myMap.put(&quot;Location&quot;, Arrays.asList(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;));\r\n    myMap.put(&quot;Name&quot;, Arrays.asList(&quot;b&quot;, &quot;mar&quot;, &quot;ama&quot;));\r\n    myMap.put(&quot;Org&quot;, Arrays.asList(&quot;ma&quot;, &quot;par&quot;, &quot;wil&quot;));\r\n\r\n    System.out.println(myMap);\r\n\r\noutput:\r\n\r\n&gt; {Org=[ma, par, wil], Location=[a, b, c], Name=[b, mar, ama]}","title":"Hashmap with multiple keys and values?","body":"<p>What you need is a <code>Map&lt;String, List&lt;String&gt;&gt;</code></p>\n\n<p>example:</p>\n\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; myMap = new HashMap&lt;&gt;();\n\nmyMap.put(\"Location\", Arrays.asList(\"a\", \"b\", \"c\"));\nmyMap.put(\"Name\", Arrays.asList(\"b\", \"mar\", \"ama\"));\nmyMap.put(\"Org\", Arrays.asList(\"ma\", \"par\", \"wil\"));\n\nSystem.out.println(myMap);\n</code></pre>\n\n<p>output:</p>\n\n<blockquote>\n  <p>{Org=[ma, par, wil], Location=[a, b, c], Name=[b, mar, ama]}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4829160,"reputation":159,"user_id":6994979,"display_name":"Adam D."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678718381,"creation_date":1678718381,"answer_id":75723340,"question_id":43732881,"body_markdown":"You can use a modified Hashmap that contains ArrayList&#39;s for keys and values. See my implementation: \r\nhttps://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMap.java\r\n\r\nIn the implementation above you can do things like search all or specific key indexes for a value and/or return all or a specific value index.\r\n\r\nAlso see this example just download and compile both with javac in the same directory. https://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMapExample.java\r\n\r\nRun it like: \r\n\r\n    $&gt;javac KeyArrayHashMap.java; javac KeyArrayHashMapExample.java; java KeyArrayHashMapExample 45\r\n    Searching all keys for all values: key 45, found value [first value for 45, second value for 45, third value for 45].\r\n    Searching 2nd key for all values: key 45, found value (*** key not found ***).\r\n    Searching 3rd keys for 1st value: key 45, found value (*** key not found ***).\r\n    Searching 1st val for all keys: key 45, found value [45, 145, 245].\r\n    Searching 2nd val for 3rd key: key 45, found value 245.","title":"Hashmap with multiple keys and values?","body":"<p>You can use a modified Hashmap that contains ArrayList's for keys and values. See my implementation:\n<a href=\"https://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMap.java\" rel=\"nofollow noreferrer\">https://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMap.java</a></p>\n<p>In the implementation above you can do things like search all or specific key indexes for a value and/or return all or a specific value index.</p>\n<p>Also see this example just download and compile both with javac in the same directory. <a href=\"https://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMapExample.java\" rel=\"nofollow noreferrer\">https://github.com/AdamDanischewski/Java-Playground/blob/main/KeyArrayHashMapExample.java</a></p>\n<p>Run it like:</p>\n<pre><code>$&gt;javac KeyArrayHashMap.java; javac KeyArrayHashMapExample.java; java KeyArrayHashMapExample 45\nSearching all keys for all values: key 45, found value [first value for 45, second value for 45, third value for 45].\nSearching 2nd key for all values: key 45, found value (*** key not found ***).\nSearching 3rd keys for 1st value: key 45, found value (*** key not found ***).\nSearching 1st val for all keys: key 45, found value [45, 145, 245].\nSearching 2nd val for 3rd key: key 45, found value 245.\n</code></pre>\n"}],"owner":{"account_id":924056,"reputation":852,"user_id":955192,"accept_rate":35,"display_name":"serendipity"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1678718381,"creation_date":1493711786,"question_id":43732881,"body_markdown":"I want to create a HashMap that looks like this:\r\n\r\n    {LOCATION =[China,Sydney, New York,...], NAME = [Bob Smith, Martha Stewart, Amanda Holmes,....], ORGANIZATION = [Matrix Inc, Paragon Pharmaceuticals, Wills Corp.,...]}\r\n\r\nI have more than 1 key with multiple values. Whats the best way to do this?","title":"Hashmap with multiple keys and values?","body":"<p>I want to create a HashMap that looks like this:</p>\n\n<pre><code>{LOCATION =[China,Sydney, New York,...], NAME = [Bob Smith, Martha Stewart, Amanda Holmes,....], ORGANIZATION = [Matrix Inc, Paragon Pharmaceuticals, Wills Corp.,...]}\n</code></pre>\n\n<p>I have more than 1 key with multiple values. Whats the best way to do this?</p>\n"},{"tags":["java","regex","unicode"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1678699098,"post_id":75719871,"comment_id":133577291,"body_markdown":"Do you want to match any word chars inside the brackets? Add `(?U)` then - `replaceAll(&quot;(?U)\\\\[\\\\w*]&quot;, &quot;&quot;)`","body":"Do you want to match any word chars inside the brackets? Add <code>(?U)</code> then - <code>replaceAll(&quot;(?U)\\\\[\\\\w*]&quot;, &quot;&quot;)</code>"},{"owner":{"account_id":5653919,"reputation":3555,"user_id":4473648,"accept_rate":88,"display_name":"Tushar"},"score":0,"creation_date":1678711874,"post_id":75719871,"comment_id":133580970,"body_markdown":"How about using `replaceAll(&quot;\\\\[.+?\\\\]&quot;, &quot;&quot;);`\nPlease let me know, if it works","body":"How about using <code>replaceAll(&quot;\\\\[.+?\\\\]&quot;, &quot;&quot;);</code> Please let me know, if it works"},{"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"score":0,"creation_date":1678732151,"post_id":75719871,"comment_id":133587276,"body_markdown":"@WiktorStribiżew This approach worked well, but why is the `(?U)` character required? Doesn&#39;t the matcher assume unicode by default?","body":"@WiktorStribiżew This approach worked well, but why is the <code>(?U)</code> character required? Doesn&#39;t the matcher assume unicode by default?"},{"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"score":1,"creation_date":1678732188,"post_id":75719871,"comment_id":133587285,"body_markdown":"@Tushar This also worked very well ^^ I didn&#39;t think to just invert it similar to typical logical thinking. Thanks!","body":"@Tushar This also worked very well ^^ I didn&#39;t think to just invert it similar to typical logical thinking. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"score":0,"creation_date":1678732286,"post_id":75723234,"comment_id":133587309,"body_markdown":"Would the `replaceAll(&quot;\\\\[[\\u3000-\\u30ff]+\\\\]&quot;, &quot;&quot;)` also match Kanji characters (Japanese uses hiragana for marking the conjugations, Katakana for borrowed words, and Kanji for the main work itself: 食べる (To eat something) = 食 (Kanji), べる (Hiragana)","body":"Would the <code>replaceAll(&quot;\\\\[[\\u3000-\\u30ff]+\\\\]&quot;, &quot;&quot;)</code> also match Kanji characters (Japanese uses hiragana for marking the conjugations, Katakana for borrowed words, and Kanji for the main work itself: 食べる (To eat something) = 食 (Kanji), べる (Hiragana)"},{"owner":{"account_id":1237735,"reputation":1982,"user_id":1200984,"accept_rate":50,"display_name":"phil"},"score":0,"creation_date":1678741783,"post_id":75723234,"comment_id":133589623,"body_markdown":"@SarahSzabo CJK unified ideographs are at range 4e00-9faf, so `replaceAll(&quot;\\\\[[\\u3000-\\u30ff\\u4e00-\\u9faf]+\\\\]&quot;, &quot;&quot;)`. See [Unicode Character Table](https://unicode.org/charts/PDF/U4E00.pdf).","body":"@SarahSzabo CJK unified ideographs are at range 4e00-9faf, so <code>replaceAll(&quot;\\\\[[\\u3000-\\u30ff\\u4e00-\\u9faf]+\\\\]&quot;, &quot;&quot;)</code>. See <a href=\"https://unicode.org/charts/PDF/U4E00.pdf\" rel=\"nofollow noreferrer\">Unicode Character Table</a>."}],"tags":[],"owner":{"account_id":1237735,"reputation":1982,"user_id":1200984,"accept_rate":50,"display_name":"phil"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1678718222,"creation_date":1678717815,"answer_id":75723234,"question_id":75719871,"body_markdown":"You attempt was very close. Use `replaceAll(&quot;\\\\[[^\\\\]]+\\\\]&quot;, &quot;&quot;)`. This looks for an opening square brace, then any character which is not a closing square brace one or more times until it finds a closing square brace.\r\n\r\nOr, if you want to limit what&#39;s between the square braces to Hiragana, Katakana and punctuation then: `replaceAll(&quot;\\\\[[\\u3000-\\u30ff]+\\\\]&quot;, &quot;&quot;)`.","title":"Find and Replace Japanese Text Between Brackets?","body":"<p>You attempt was very close. Use <code>replaceAll(&quot;\\\\[[^\\\\]]+\\\\]&quot;, &quot;&quot;)</code>. This looks for an opening square brace, then any character which is not a closing square brace one or more times until it finds a closing square brace.</p>\n<p>Or, if you want to limit what's between the square braces to Hiragana, Katakana and punctuation then: <code>replaceAll(&quot;\\\\[[\\u3000-\\u30ff]+\\\\]&quot;, &quot;&quot;)</code>.</p>\n"}],"owner":{"account_id":2348787,"reputation":10425,"user_id":2058221,"accept_rate":92,"display_name":"Sarah Szabo"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1678733485,"accepted_answer_id":75723234,"answer_count":1,"score":0,"last_activity_date":1678718222,"creation_date":1678698804,"question_id":75719871,"body_markdown":"I&#39;m trying to find and replace all the text between several lines of Japanese text similar to:\r\n\r\n    雨[あめ]も 降[ふ]るし 強[つよ]い 風[かぜ]が 吹[ふ]くし、ひどい 天気[てんき]ですね。\r\n    It rains and strong wind blows, the weather is rough.\r\n    \r\n    今日[きょう] 降[ふ]らなさそうですね。\r\n    It seems like it will not rain today. (Probably said while looking at the sky.)\r\n    \r\n    分[わ]からない 単語[たんご]がいっぱいなので、 難[むずか]しそうです。\r\n    It seems difficult because there are many words I do not know.\r\n    \r\n    明日[あした] 新[あたら]しいレストランに 行[い]ってみますか？\r\n    Will you try and go to the new restaurant tomorrow?\r\n\r\nAnd make it without the text in the brackets:\r\n\r\n雨も 降るし 強い 風が 吹くし、ひどい 天気ですね。\r\nIt rains and strong wind blows, the weather is rough\r\n...\r\n\r\nNormally I would use a `replaceAll()` from the string method with a `replaceAll(&quot;\\\\[\\\\w*\\\\]&quot;, &quot;&quot;)`, but this does not work here. Additionally, there is a combination of Kanji and hiragana, so I&#39;m really lost as to how to use any type of system including Unicode character expansion given the multiple character sets.\r\n\r\nAccording to this post (https://stackoverflow.com/a/10810002/2058221), `\\\\w` should be aware of text characters in any language, so I&#39;m not sure why it won&#39;t work in this application.","title":"Find and Replace Japanese Text Between Brackets?","body":"<p>I'm trying to find and replace all the text between several lines of Japanese text similar to:</p>\n<pre><code>雨[あめ]も 降[ふ]るし 強[つよ]い 風[かぜ]が 吹[ふ]くし、ひどい 天気[てんき]ですね。\nIt rains and strong wind blows, the weather is rough.\n\n今日[きょう] 降[ふ]らなさそうですね。\nIt seems like it will not rain today. (Probably said while looking at the sky.)\n\n分[わ]からない 単語[たんご]がいっぱいなので、 難[むずか]しそうです。\nIt seems difficult because there are many words I do not know.\n\n明日[あした] 新[あたら]しいレストランに 行[い]ってみますか？\nWill you try and go to the new restaurant tomorrow?\n</code></pre>\n<p>And make it without the text in the brackets:</p>\n<p>雨も 降るし 強い 風が 吹くし、ひどい 天気ですね。\nIt rains and strong wind blows, the weather is rough\n...</p>\n<p>Normally I would use a <code>replaceAll()</code> from the string method with a <code>replaceAll(&quot;\\\\[\\\\w*\\\\]&quot;, &quot;&quot;)</code>, but this does not work here. Additionally, there is a combination of Kanji and hiragana, so I'm really lost as to how to use any type of system including Unicode character expansion given the multiple character sets.</p>\n<p>According to this post (<a href=\"https://stackoverflow.com/a/10810002/2058221\">https://stackoverflow.com/a/10810002/2058221</a>), <code>\\\\w</code> should be aware of text characters in any language, so I'm not sure why it won't work in this application.</p>\n"},{"tags":["java","bufferedreader","bufferedwriter"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1678719214,"post_id":75721511,"comment_id":133583438,"body_markdown":"Generally, you read the entire file into an application model at the beginning of your application and write the entire file from your application model at the end of your application.","body":"Generally, you read the entire file into an application model at the beginning of your application and write the entire file from your application model at the end of your application."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678719745,"post_id":75721511,"comment_id":133583631,"body_markdown":"Text files don&#39;t allow random access and insertions like this: You can only overwrite characters 1-to-1 (technically since variable-width-encodings like UTF-8 exists you can&#39;t even do that reliably). Basically most direct access that you want doesn&#39;t work for pure text files.","body":"Text files don&#39;t allow random access and insertions like this: You can only overwrite characters 1-to-1 (technically since variable-width-encodings like UTF-8 exists you can&#39;t even do that reliably). Basically most direct access that you want doesn&#39;t work for pure text files."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678719817,"post_id":75721511,"comment_id":133583656,"body_markdown":"The simplest solution would be to have 1 file per mode instead of one shared one. Then you can simply overwrite that modes file each time.","body":"The simplest solution would be to have 1 file per mode instead of one shared one. Then you can simply overwrite that modes file each time."}],"owner":{"account_id":28005202,"reputation":1,"user_id":21388728,"display_name":"Cedric"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678718113,"creation_date":1678708291,"question_id":75721511,"body_markdown":"I want to save a highscore in a database, but if an sql-exeption is thrown I want to temporary save the data in a file. The game has diffent modes and for each there is a highscore. I would like to have a savefile like this:\r\n\r\n    2\r\n    Bob\r\n    4\r\n    Luca\r\n    6\r\n    Celina\r\n    9\r\n    Bob\r\n\r\nLine 1 is the score for gamemode 1 and in line 2 there is the name of the player. Line 3 and 4 for gamemode 2 and so on.\r\n\r\n\r\nI have this Java Code:\r\n\r\n \r\n```\r\npublic static void saveHighscoreToDatabase(int spielModus, String nameHighscoretraeger, int score){\r\n        try {\r\n            Connection connection = DriverManager.getConnection(url, user, password);\r\n            String sql = null;\r\n            if (spielModus == 1){\r\n                sql = &quot;INSERT INTO HighscoreLeicht (`Name`, `Score`) VALUES (?,?)&quot;;\r\n            }else if (spielModus == 2){\r\n                sql = &quot;INSERT INTO HighscoreMittel (`Name`, `Score`) VALUES (?,?)&quot;;\r\n            }else if (spielModus == 3){\r\n                sql = &quot;INSERT INTO HighscoreSchwer (`Name`, `Score`) VALUES (?,?)&quot;;\r\n            }else if (spielModus == 4){\r\n                sql = &quot;INSERT INTO HighscoreModus (`Name`, `Score`) VALUES (?,?)&quot;;\r\n            }\r\n            PreparedStatement statement = connection.prepareStatement(sql);\r\n            statement.setString(1,nameHighscoretraeger);\r\n            statement.setInt(2, score);\r\n            statement.execute();\r\n            connection.close();\r\n        } catch (SQLException e) {\r\n            try {\r\n                BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;....SaveFile.txt&quot;,true));\r\n                if (spielModus == 1){\r\n                    bw.write(String.valueOf(score));\r\n                    bw.newLine();\r\n                    bw.write(nameHighscoretraeger);\r\n                    bw.close();\r\n                }else if (spielModus == 2){\r\n                    bw.newLine();\r\n                    bw.newLine();\r\n                    bw.write(String.valueOf(score));\r\n                    bw.newLine();\r\n                    bw.write(nameHighscoretraeger);\r\n                    bw.close();\r\n                }else if (spielModus == 3){\r\n\r\n                }else if (spielModus == 4){\r\n\r\n                }\r\n            }catch (Exception e2){\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n        }\r\n```\r\nThe problem is, that the data of line 1 and 2 for example gets deleted if I want to save the data for line 3 and 4.\r\n\r\nI tried using &quot;newLine()&quot; to skip the lines I&#39;m already using, but then the data from those lines gets deleted. For example if I want to save the score 4 with the name Luca (line 3 and 4) the score of the gamemode 1 (2 and Bob, line 1 and 2) gets deletetd.\r\n\r\n    &lt;blank&gt;  \r\n    &lt;blank&gt;   \r\n    4\r\n    Luca","title":"Can I write only in certain lines in a file with BufferdWriter without overwrite others?","body":"<p>I want to save a highscore in a database, but if an sql-exeption is thrown I want to temporary save the data in a file. The game has diffent modes and for each there is a highscore. I would like to have a savefile like this:</p>\n<pre><code>2\nBob\n4\nLuca\n6\nCelina\n9\nBob\n</code></pre>\n<p>Line 1 is the score for gamemode 1 and in line 2 there is the name of the player. Line 3 and 4 for gamemode 2 and so on.</p>\n<p>I have this Java Code:</p>\n<pre><code>public static void saveHighscoreToDatabase(int spielModus, String nameHighscoretraeger, int score){\n        try {\n            Connection connection = DriverManager.getConnection(url, user, password);\n            String sql = null;\n            if (spielModus == 1){\n                sql = &quot;INSERT INTO HighscoreLeicht (`Name`, `Score`) VALUES (?,?)&quot;;\n            }else if (spielModus == 2){\n                sql = &quot;INSERT INTO HighscoreMittel (`Name`, `Score`) VALUES (?,?)&quot;;\n            }else if (spielModus == 3){\n                sql = &quot;INSERT INTO HighscoreSchwer (`Name`, `Score`) VALUES (?,?)&quot;;\n            }else if (spielModus == 4){\n                sql = &quot;INSERT INTO HighscoreModus (`Name`, `Score`) VALUES (?,?)&quot;;\n            }\n            PreparedStatement statement = connection.prepareStatement(sql);\n            statement.setString(1,nameHighscoretraeger);\n            statement.setInt(2, score);\n            statement.execute();\n            connection.close();\n        } catch (SQLException e) {\n            try {\n                BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;....SaveFile.txt&quot;,true));\n                if (spielModus == 1){\n                    bw.write(String.valueOf(score));\n                    bw.newLine();\n                    bw.write(nameHighscoretraeger);\n                    bw.close();\n                }else if (spielModus == 2){\n                    bw.newLine();\n                    bw.newLine();\n                    bw.write(String.valueOf(score));\n                    bw.newLine();\n                    bw.write(nameHighscoretraeger);\n                    bw.close();\n                }else if (spielModus == 3){\n\n                }else if (spielModus == 4){\n\n                }\n            }catch (Exception e2){\n                System.out.println(&quot;Error&quot;);\n            }\n        }\n</code></pre>\n<p>The problem is, that the data of line 1 and 2 for example gets deleted if I want to save the data for line 3 and 4.</p>\n<p>I tried using &quot;newLine()&quot; to skip the lines I'm already using, but then the data from those lines gets deleted. For example if I want to save the score 4 with the name Luca (line 3 and 4) the score of the gamemode 1 (2 and Bob, line 1 and 2) gets deletetd.</p>\n<pre><code>&lt;blank&gt;  \n&lt;blank&gt;   \n4\nLuca\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1678716181,"post_id":75722449,"comment_id":133582387,"body_markdown":"&quot;but it may cause to much result.&quot; It&#39;s unclear what results you *don&#39;t* want?","body":"&quot;but it may cause to much result.&quot; It&#39;s unclear what results you <i>don&#39;t</i> want?"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1678716990,"post_id":75722449,"comment_id":133582687,"body_markdown":"updated my description:  I just want the type declaration with actual generic parameter like `SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();` but not all usages","body":"updated my description:  I just want the type declaration with actual generic parameter like <code>SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();</code> but not all usages"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1678717116,"post_id":75722449,"comment_id":133582742,"body_markdown":"Ah so you don&#39;t want to find e.g. `SomeEvent&lt;Double&gt;` or `SomeEvent&lt;Integer&gt;`. Is that right?","body":"Ah so you don&#39;t want to find e.g. <code>SomeEvent&lt;Double&gt;</code> or <code>SomeEvent&lt;Integer&gt;</code>. Is that right?"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1678717240,"post_id":75722449,"comment_id":133582783,"body_markdown":"I want them, since `SomeEvent&lt;String&gt; a` it has actual generic parameter for `SomeEvent`","body":"I want them, since <code>SomeEvent&lt;String&gt; a</code> it has actual generic parameter for <code>SomeEvent</code>"},{"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"score":0,"creation_date":1678717374,"post_id":75722449,"comment_id":133582823,"body_markdown":"I just want the type declaration with actual generic parameter like `SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();` but not usages like `event instanceof SomeEvent`","body":"I just want the type declaration with actual generic parameter like <code>SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();</code> but not usages like <code>event instanceof SomeEvent</code>"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678718090,"creation_date":1678718090,"answer_id":75723293,"question_id":75722449,"body_markdown":"Looks like [Structure Search][1] can help here. It can be accessed in Edit -&gt; Find -&gt; Search Structurally.\r\n\r\nYou can create a search template like this:\r\n\r\n    SomeEvent&lt;$Type$&gt;\r\n\r\nIf you want, you can add a count filter to `$Type$`, with a minimum of 0. This will also find places where you call the constructor without specifying type arguments, like `new SomeEvent&lt;&gt;()`, in addition to things like `SomeEvent&lt;String&gt; event;`.\r\n\r\nIf you don&#39;t want to find usages where `$Type$` is a type parameter, you can add a Reference=Classes filter too.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/tutorial-work-with-structural-search-and-replace.html\r\n  [2]: https://i.stack.imgur.com/72fIc.png","title":"How to find all actual type declaration of Java generic parameter in intellij idea?","body":"<p>Looks like <a href=\"https://www.jetbrains.com/help/idea/tutorial-work-with-structural-search-and-replace.html\" rel=\"nofollow noreferrer\">Structure Search</a> can help here. It can be accessed in Edit -&gt; Find -&gt; Search Structurally.</p>\n<p>You can create a search template like this:</p>\n<pre><code>SomeEvent&lt;$Type$&gt;\n</code></pre>\n<p>If you want, you can add a count filter to <code>$Type$</code>, with a minimum of 0. This will also find places where you call the constructor without specifying type arguments, like <code>new SomeEvent&lt;&gt;()</code>, in addition to things like <code>SomeEvent&lt;String&gt; event;</code>.</p>\n<p>If you don't want to find usages where <code>$Type$</code> is a type parameter, you can add a Reference=Classes filter too.</p>\n<p><a href=\"https://i.stack.imgur.com/72fIc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72fIc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":10894378,"reputation":737,"user_id":8008906,"display_name":"djy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75723293,"answer_count":1,"score":1,"last_activity_date":1678718090,"creation_date":1678713733,"question_id":75722449,"body_markdown":"```\r\npublic class SomeEvent&lt;T extends Serializable&gt; {\r\n    T value;\r\n}\r\n\r\nclass A {\r\n    int x = 1;\r\n    SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;(); // 1\r\n    SomeEvent y = new SomeEvent();\r\n    SomeEvent&lt;Long&gt; b = new SomeEvent&lt;&gt;(); // 2\r\n}\r\n```\r\n\r\nIn this case, I want ide highlight \r\n\r\n`SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();` \r\n\r\nand \r\n\r\n`SomeEvent&lt;Long&gt; b = new SomeEvent&lt;&gt;();`.\r\n\r\n Because actually generic params for `T` are explicitly declared as `String` and `Long` there.\r\n\r\n\r\nWhat I actually want to find out are `String` `Long` in this case.\r\n\r\n## update: \r\npress `Ctrl + B` (declarations or usages) on `SomeEvent` makes some sense, but it may cause to much result (because I just want the type  declaration with actual generic parameter like `SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();` but not all usages).","title":"How to find all actual type declaration of Java generic parameter in intellij idea?","body":"<pre><code>public class SomeEvent&lt;T extends Serializable&gt; {\n    T value;\n}\n\nclass A {\n    int x = 1;\n    SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;(); // 1\n    SomeEvent y = new SomeEvent();\n    SomeEvent&lt;Long&gt; b = new SomeEvent&lt;&gt;(); // 2\n}\n</code></pre>\n<p>In this case, I want ide highlight</p>\n<p><code>SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();</code></p>\n<p>and</p>\n<p><code>SomeEvent&lt;Long&gt; b = new SomeEvent&lt;&gt;();</code>.</p>\n<p>Because actually generic params for <code>T</code> are explicitly declared as <code>String</code> and <code>Long</code> there.</p>\n<p>What I actually want to find out are <code>String</code> <code>Long</code> in this case.</p>\n<h2>update:</h2>\n<p>press <code>Ctrl + B</code> (declarations or usages) on <code>SomeEvent</code> makes some sense, but it may cause to much result (because I just want the type  declaration with actual generic parameter like <code>SomeEvent&lt;String&gt; a = new SomeEvent&lt;&gt;();</code> but not all usages).</p>\n"},{"tags":["java","hibernate","rest","jpa","entitymanager"],"comments":[{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1471350749,"post_id":38974925,"comment_id":65303155,"body_markdown":"Are you sure that your update the `images` field  ?","body":"Are you sure that your update the <code>images</code> field  ?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1471351141,"post_id":38974925,"comment_id":65303375,"body_markdown":"Yes, the changes are visible if I query directly from the DB.","body":"Yes, the changes are visible if I query directly from the DB."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":0,"creation_date":1471351199,"post_id":38974925,"comment_id":65303409,"body_markdown":"so you use a cache somewhere. do you use a level 2 cache with Hibernate ? Or any cache mechanisms in your application ?","body":"so you use a cache somewhere. do you use a level 2 cache with Hibernate ? Or any cache mechanisms in your application ?"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1471351353,"post_id":38974925,"comment_id":65303517,"body_markdown":"My Hibernate properties contain: \t\tproperties.put(&quot;hibernate.cache.use.query_cache&quot;, &quot;false&quot;);\nproperties.put(&quot;hibernate.cache.use_second_level_cache&quot;, &quot;false&quot;); Also I expect that entityManager.refresh(e); should get the newest data.","body":"My Hibernate properties contain: \t\tproperties.put(&quot;hibernate.cache.use.query_cache&quot;, &quot;false&quot;); properties.put(&quot;hibernate.cache.use_second_level_cache&quot;, &quot;false&quot;); Also I expect that entityManager.refresh(e); should get the newest data."},{"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":1,"creation_date":1471351488,"post_id":38974925,"comment_id":65303616,"body_markdown":"Indeed, it should. Do you use the same session for the two calls ?\nif it is the same, the problem is there. You can check it with an session. evict() of the object","body":"Indeed, it should. Do you use the same session for the two calls ? if it is the same, the problem is there. You can check it with an session. evict() of the object"},{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1471354403,"post_id":38974925,"comment_id":65305758,"body_markdown":"I use EntityManager instead of Session, it is reused for the two calls. It is provided from ThreadLocal&lt;EntityManager&gt;. I know that it may be problem but guessed that entityManager.refresh(e) will solve the issue. Now I get No row with the given identifier exists: [com.example.Image#484] when I try to entityManager.refresh(item) .","body":"I use EntityManager instead of Session, it is reused for the two calls. It is provided from ThreadLocal&lt;EntityManager&gt;. I know that it may be problem but guessed that entityManager.refresh(e) will solve the issue. Now I get No row with the given identifier exists: [com.example.Image#484] when I try to entityManager.refresh(item) ."}],"answers":[{"comments":[{"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"score":0,"creation_date":1471357332,"post_id":38976831,"comment_id":65307764,"body_markdown":"entityManager.clear(); before injecting it to DAO solves the problem.","body":"entityManager.clear(); before injecting it to DAO solves the problem."}],"tags":[],"owner":{"account_id":100270,"reputation":127154,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471355990,"creation_date":1471355670,"answer_id":38976831,"question_id":38974925,"body_markdown":"Your way of caching your `entityManagers` is correct since in the `request` scope but it has side-effects as you can notice. &lt;br&gt; \r\nYou use the level one cache of Hibernate.&lt;br&gt;\r\nWhy don&#39;t use a distinct `entityManager` instance by transaction ?&lt;br&gt;\r\nIt should not be expensive to instantiate a EntityManager by user request. \r\n\r\n\r\nIf you want to cache the entityManager, `entityManager.refres‌​h(e)` seems not enough since it doesn&#39;t seem to clear the level one cache. So, if you want to clear the first level cache, you should try to clear the `persistenceContext`. No guarantee but you can try : `entityManager.clear()` \r\n\r\nPersonally, I prefer the solution using a unique `entityManager` instance by transaction. It&#39;s cheap and a clear design.","title":"Hibernate does not refresh entity childs completely","body":"<p>Your way of caching your <code>entityManagers</code> is correct since in the <code>request</code> scope but it has side-effects as you can notice. <br> \nYou use the level one cache of Hibernate.<br>\nWhy don't use a distinct <code>entityManager</code> instance by transaction ?<br>\nIt should not be expensive to instantiate a EntityManager by user request. </p>\n\n<p>If you want to cache the entityManager, <code>entityManager.refres‌​h(e)</code> seems not enough since it doesn't seem to clear the level one cache. So, if you want to clear the first level cache, you should try to clear the <code>persistenceContext</code>. No guarantee but you can try : <code>entityManager.clear()</code> </p>\n\n<p>Personally, I prefer the solution using a unique <code>entityManager</code> instance by transaction. It's cheap and a clear design.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678718046,"creation_date":1678718046,"answer_id":75723288,"question_id":38974925,"body_markdown":"1st/2nd level cache of Hibernate has nothing to do with visibility when there are simultaneous changes to DB. You need to look at isolation levels, `REPEATABLE_READ` is most common and should be source of your problems.\r\n\r\nYou could &quot;lock&quot; entity to prevent modifications:\r\n\r\n    @PersistenceContext\r\n    private EntityManager em;\r\n\r\n    @Transactional\r\n    @Test\r\n    public void lock() {\r\n        final Session session = em.unwrap(Session.class);\r\n        final Book book = session.get(Book.class, 1L, LockMode.PESSIMISTIC_WRITE);\r\n    }\r\n\r\n\r\nDepending on DB / Hibernate adapter it might resulted in `SELECT .... FOR UPDATE`.","title":"Hibernate does not refresh entity childs completely","body":"<p>1st/2nd level cache of Hibernate has nothing to do with visibility when there are simultaneous changes to DB. You need to look at isolation levels, <code>REPEATABLE_READ</code> is most common and should be source of your problems.</p>\n<p>You could &quot;lock&quot; entity to prevent modifications:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager em;\n\n@Transactional\n@Test\npublic void lock() {\n    final Session session = em.unwrap(Session.class);\n    final Book book = session.get(Book.class, 1L, LockMode.PESSIMISTIC_WRITE);\n}\n</code></pre>\n<p>Depending on DB / Hibernate adapter it might resulted in <code>SELECT .... FOR UPDATE</code>.</p>\n"}],"owner":{"account_id":7893242,"reputation":8350,"user_id":5962766,"accept_rate":87,"display_name":"Justinas Jakavonis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3582,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38976831,"answer_count":2,"score":3,"last_activity_date":1678718046,"creation_date":1471350324,"question_id":38974925,"body_markdown":"I use Hibernate 5.1.0.Final. My `GenericDAO` class main methods:\r\n\r\n\tpublic T save(T entity) {\r\n\t\tentityManager.getTransaction().begin();\r\n\t\tentityManager.persist(entity);\r\n\t\tentityManager.getTransaction().commit();\r\n\t}\r\n\r\n\tpublic T find(Long entityId) {\r\n\t\tT e = (T) entityManager.find(type, entityId);\r\n\t\tentityManager.refresh(e);\r\n\t\treturn e;\r\n\t}\r\n\r\nI have `Item` entity which contains `List&lt;Image&gt; images`.\r\n\r\n\r\n\t@Entity\r\n\t@Table(name=&quot;item&quot;)\r\n\tpublic class Item extends GenericEntity {\r\n\t\r\n\t\t@Column(name=&quot;title&quot;)\r\n\t\tString title;\r\n\t\r\n\t\t@OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;item&quot;, cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n\t\t@NotFound(action = NotFoundAction.IGNORE)\r\n\t\tList&lt;Image&gt; images;\r\n\t\r\n\t\t@Version\r\n\t\t@Temporal(TemporalType.TIMESTAMP)\r\n\t\t@Column(name=&quot;version&quot;)\r\n\t\tDate version;\r\n\t\r\n\t}\r\n\r\n\r\n    @Entity \r\n    @Table(name=&quot;image&quot;)\r\n    public class Image extends GenericEntity {\r\n\t\r\n        @ManyToOne\r\n        @JoinColumn(name=&quot;item&quot;)\r\n        Item item;\r\n    \r\n        @Column(name=&quot;image_name&quot;)\r\n        String imageName;\r\n    \r\n    }\r\n\r\nFirst, I load `Item` with `genericDAO.find(id)` method - it contains up-to-date list of images. Then I load `Item` with the same ID in another REST method which removes old images and adds new ones, changes title. Later, if try to reload `Item` with `genericDAO.find(id)` in the first REST method, I get outdated images - they aren&#39;t selected again while `Item` title is retrieved correctly.\r\n\r\nHow to get completely refreshed entity with its childs from a database?\r\n\r\n\r\n\r\n","title":"Hibernate does not refresh entity childs completely","body":"<p>I use Hibernate 5.1.0.Final. My <code>GenericDAO</code> class main methods:</p>\n\n<pre><code>public T save(T entity) {\n    entityManager.getTransaction().begin();\n    entityManager.persist(entity);\n    entityManager.getTransaction().commit();\n}\n\npublic T find(Long entityId) {\n    T e = (T) entityManager.find(type, entityId);\n    entityManager.refresh(e);\n    return e;\n}\n</code></pre>\n\n<p>I have <code>Item</code> entity which contains <code>List&lt;Image&gt; images</code>.</p>\n\n<pre><code>@Entity\n@Table(name=\"item\")\npublic class Item extends GenericEntity {\n\n    @Column(name=\"title\")\n    String title;\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = \"item\", cascade = {CascadeType.ALL}, orphanRemoval = true)\n    @NotFound(action = NotFoundAction.IGNORE)\n    List&lt;Image&gt; images;\n\n    @Version\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name=\"version\")\n    Date version;\n\n}\n\n\n@Entity \n@Table(name=\"image\")\npublic class Image extends GenericEntity {\n\n    @ManyToOne\n    @JoinColumn(name=\"item\")\n    Item item;\n\n    @Column(name=\"image_name\")\n    String imageName;\n\n}\n</code></pre>\n\n<p>First, I load <code>Item</code> with <code>genericDAO.find(id)</code> method - it contains up-to-date list of images. Then I load <code>Item</code> with the same ID in another REST method which removes old images and adds new ones, changes title. Later, if try to reload <code>Item</code> with <code>genericDAO.find(id)</code> in the first REST method, I get outdated images - they aren't selected again while <code>Item</code> title is retrieved correctly.</p>\n\n<p>How to get completely refreshed entity with its childs from a database?</p>\n"},{"tags":["java","spring","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":529477,"reputation":1533,"user_id":1234412,"display_name":"BSB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678717311,"creation_date":1678717311,"answer_id":75723132,"question_id":75618289,"body_markdown":"If you have multiple fields marked with `@Indexed`, for example, `field1` and `field2` you can create queries like `findByField1AndField2`, for example. Spring Data Redis keeps a set for each index, so in the case of the `AND` predicate, it uses Redis&#39; `SINTER` command. See what kind of queries are possible here: \r\n\r\nhttps://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis.repositories.queries\r\n\r\nThere is also Redis OM Spring which uses a real search engine and allows more complex queries and aggregations. See https://github.com/redis/redis-om-spring","title":"Composite indexes in Spring Data Redis","body":"<p>If you have multiple fields marked with <code>@Indexed</code>, for example, <code>field1</code> and <code>field2</code> you can create queries like <code>findByField1AndField2</code>, for example. Spring Data Redis keeps a set for each index, so in the case of the <code>AND</code> predicate, it uses Redis' <code>SINTER</code> command. See what kind of queries are possible here:</p>\n<p><a href=\"https://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis.repositories.queries\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/redis/docs/current/reference/html/#redis.repositories.queries</a></p>\n<p>There is also Redis OM Spring which uses a real search engine and allows more complex queries and aggregations. See <a href=\"https://github.com/redis/redis-om-spring\" rel=\"nofollow noreferrer\">https://github.com/redis/redis-om-spring</a></p>\n"}],"owner":{"account_id":27920061,"reputation":1,"user_id":21320434,"display_name":"Randymarsh199"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678717311,"creation_date":1677774674,"question_id":75618289,"body_markdown":"I&#39;m using spring data Redis, I&#39;m adding functionality to the project to query Redis hash object with multiple fields. I just created secondary indices on those fields using @Indexed annotation from spring data Redis core.\r\nMy question is, is there a way to configure my Redis hash object so that I use multi column indexes? Similar to spring data mongo @CompoundIndex.\r\n\r\n\r\n\r\nI can see there&#39;s a org.springframework.data.redis.core.convert.CompositeIndexResolver.java, but Im not sure if there is a way to configure compound indexes from java using spring data Redis.","title":"Composite indexes in Spring Data Redis","body":"<p>I'm using spring data Redis, I'm adding functionality to the project to query Redis hash object with multiple fields. I just created secondary indices on those fields using @Indexed annotation from spring data Redis core.\nMy question is, is there a way to configure my Redis hash object so that I use multi column indexes? Similar to spring data mongo @CompoundIndex.</p>\n<p>I can see there's a org.springframework.data.redis.core.convert.CompositeIndexResolver.java, but Im not sure if there is a way to configure compound indexes from java using spring data Redis.</p>\n"},{"tags":["java","spring-boot","maps"],"answers":[{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678717054,"creation_date":1678454495,"answer_id":75696673,"question_id":75696589,"body_markdown":"```\r\nMap&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\nmyMap.put(&quot;Brian&quot;, &quot;some&quot;);\r\nSystem.out.println(myMap); // {Brian=some}\r\nmyMap.computeIfPresent(&quot;Brian&quot;, (key, value) -&gt; &quot;Hello&quot;); // key is &quot;Brian&quot;, value is &quot;some&quot;, new value will be &quot;Hello&quot;\r\nSystem.out.println(myMap); // {Brian=Hello}\r\n```\r\n\r\nremappingFunction is a BinaryFunction (which can be short-written with lambda), accepting found map entry key and its value. And expecting you to tell the program, how to compute new value.","title":"How do I replace value of Map if the key is present?","body":"<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\nmyMap.put(&quot;Brian&quot;, &quot;some&quot;);\nSystem.out.println(myMap); // {Brian=some}\nmyMap.computeIfPresent(&quot;Brian&quot;, (key, value) -&gt; &quot;Hello&quot;); // key is &quot;Brian&quot;, value is &quot;some&quot;, new value will be &quot;Hello&quot;\nSystem.out.println(myMap); // {Brian=Hello}\n</code></pre>\n<p>remappingFunction is a BinaryFunction (which can be short-written with lambda), accepting found map entry key and its value. And expecting you to tell the program, how to compute new value.</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678454537,"creation_date":1678454537,"answer_id":75696677,"question_id":75696589,"body_markdown":"Provide a function, whose result is the value you want and does not take into account the provided parameters:\r\n```\r\nmyMap.computeIfPresent(&quot;Brian&quot;, (k, v) -&gt; &quot;Hello&quot;);\r\n```","title":"How do I replace value of Map if the key is present?","body":"<p>Provide a function, whose result is the value you want and does not take into account the provided parameters:</p>\n<pre><code>myMap.computeIfPresent(&quot;Brian&quot;, (k, v) -&gt; &quot;Hello&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5359307,"reputation":51,"user_id":4271110,"display_name":"enyavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678454698,"creation_date":1678454698,"answer_id":75696701,"question_id":75696589,"body_markdown":"You are passing a String as second parameter and it needs to be a BiFunction, try this:\r\n\r\n```\r\nmyMap.computeIfPresent(&quot;Brian&quot;,(key,value)-&gt;&quot;Hello&quot;);\r\n```","title":"How do I replace value of Map if the key is present?","body":"<p>You are passing a String as second parameter and it needs to be a BiFunction, try this:</p>\n<pre><code>myMap.computeIfPresent(&quot;Brian&quot;,(key,value)-&gt;&quot;Hello&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1678454929,"creation_date":1678454929,"answer_id":75696744,"question_id":75696589,"body_markdown":"You can simply use [**Map::replace**][1]:\r\n\r\n    myMap.replace(&quot;Brain&quot;, &quot;Hello&quot;);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replace-K-V-","title":"How do I replace value of Map if the key is present?","body":"<p>You can simply use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#replace-K-V-\" rel=\"noreferrer\"><strong>Map::replace</strong></a>:</p>\n<pre><code>myMap.replace(&quot;Brain&quot;, &quot;Hello&quot;);\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75696673,"answer_count":4,"score":0,"last_activity_date":1678717054,"creation_date":1678454040,"question_id":75696589,"body_markdown":"I have this map:\r\n\r\n    Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\r\n\r\nI&#39;m trying to check if this map has a key called &quot;Brian&quot;. If - and only if - it does, I want to replace the value with &quot;Hello&quot;.\r\n\r\nIf I understand correctly the `computeIfPresent` method does exactly that, but it expects a **remappingFunction** as the second parameter, and I just want to put in a simple value. \r\n\r\nI&#39;ve tried this:\r\n\r\n    myMap.computeIfPresent(&quot;Brian&quot;, &quot;Hello&quot;);\r\n\r\nHow do I do this?\r\n\r\n","title":"How do I replace value of Map if the key is present?","body":"<p>I have this map:</p>\n<pre><code>Map&lt;String, String&gt; myMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>I'm trying to check if this map has a key called &quot;Brian&quot;. If - and only if - it does, I want to replace the value with &quot;Hello&quot;.</p>\n<p>If I understand correctly the <code>computeIfPresent</code> method does exactly that, but it expects a <strong>remappingFunction</strong> as the second parameter, and I just want to put in a simple value.</p>\n<p>I've tried this:</p>\n<pre><code>myMap.computeIfPresent(&quot;Brian&quot;, &quot;Hello&quot;);\n</code></pre>\n<p>How do I do this?</p>\n"},{"tags":["java","wildfly","infinispan"],"comments":[{"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"score":0,"creation_date":1678774135,"post_id":75723048,"comment_id":133593902,"body_markdown":"I change it from `ejb` to `web` and the error goes away. i.e. `cache-container=&quot;web&quot;` and `cache-container name=&quot;ejb&quot;`.","body":"I change it from <code>ejb</code> to <code>web</code> and the error goes away. i.e. <code>cache-container=&quot;web&quot;</code> and <code>cache-container name=&quot;ejb&quot;</code>."}],"owner":{"account_id":8776074,"reputation":8345,"user_id":6561309,"accept_rate":42,"display_name":"Richard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678716811,"creation_date":1678716811,"question_id":75723048,"body_markdown":"I am using Wildfly 25 which comes with Infinispan caching. \r\n\r\nI have set up the following:\r\n\r\n**web.xml**\r\n\r\n\t&lt;!-- cluster-aware --&gt;\r\n\t&lt;distributable/&gt;\r\n\r\n**distributable-web.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\r\n        &lt;infinispan-session-management cache-container=&quot;ejb&quot; cache=&quot;corpapp-session-cache&quot; granularity=&quot;ATTRIBUTE&quot;&gt;\r\n            &lt;primary-owner-affinity/&gt;\r\n        &lt;/infinispan-session-management&gt;\r\n    &lt;/distributable-web&gt;\r\n\r\n**standalone-ha.xml**\r\n\r\n        &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:/jdbc/sessioncache&quot; pool-name=&quot;SessionCacheDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\r\n          &lt;connection-url&gt;jdbc:postgresql://localhost:5432/sessioncache&lt;/connection-url&gt;\r\n          &lt;driver&gt;postgresql&lt;/driver&gt;\r\n                    ...\r\n\r\nThis datasource works, because it is creating the tables in the database.\r\n\r\n      &lt;cache-container name=&quot;ejb&quot; module=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\r\n        &lt;transport/&gt;\r\n        &lt;distributed-cache name=&quot;corpapp-session-cache&quot;&gt;\r\n          &lt;jdbc-store data-source=&quot;SessionCacheDS&quot; dialect=&quot;POSTGRES&quot; passivation=&quot;true&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;&gt;\r\n            &lt;table prefix=&quot;ispn_entry&quot;&gt;\r\n              &lt;id-column name=&quot;ID&quot; type=&quot;VARCHAR(255)&quot;/&gt;\r\n              &lt;data-column name=&quot;DATA&quot; type=&quot;BYTEA&quot;/&gt;\r\n              &lt;timestamp-column name=&quot;TS&quot; type=&quot;BIGINT&quot;/&gt;\r\n              &lt;segment-column name=&quot;S&quot; type=&quot;INT&quot;/&gt;\r\n            &lt;/table&gt;\r\n          &lt;/jdbc-store&gt;\r\n        &lt;/distributed-cache&gt;\r\n\r\nWildFly Management console:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Error**\r\n\r\nHowever, I get the following error:\r\n\r\n&gt; ERROR [org.jboss.as.controller.management-operation] (Controller Boot\r\n&gt; Thread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address:\r\n&gt; ([(&quot;deployment&quot; =&gt; &quot;corporateEAR-3.10.ear&quot;)]) - failure description: {\r\n&gt;     &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\r\n&gt;         &quot;org.wildfly.clustering.cache.group.ejb.default-server&quot;,\r\n&gt;         &quot;org.wildfly.clustering.cache.registry.ejb.default-server&quot;\r\n&gt;     ],\r\n&gt;     &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.clustering.web.route-locator.\\&quot;corporateEAR-3.10.ear.corporateInterface-3.10.war\\&quot;\r\n&gt; is missing [org.wildfly.clustering.cache.registry.ejb.default-server,\r\n&gt; org.wildfly.clustering.cache.group.ejb.default-server]&quot;] }\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n&gt;     org.wildfly.clustering.cache.group.ejb.default-server\r\n&gt;     org.wildfly.clustering.cache.registry.ejb.default-server\r\n\r\n  [1]: https://i.stack.imgur.com/LpoSM.png\r\n  [2]: https://i.stack.imgur.com/TkzjV.png","title":"Infinispan - WFLYCTL0412: Required services that are not installed","body":"<p>I am using Wildfly 25 which comes with Infinispan caching.</p>\n<p>I have set up the following:</p>\n<p><strong>web.xml</strong></p>\n<pre><code>&lt;!-- cluster-aware --&gt;\n&lt;distributable/&gt;\n</code></pre>\n<p><strong>distributable-web.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;distributable-web xmlns=&quot;urn:jboss:distributable-web:2.0&quot;&gt;\n    &lt;infinispan-session-management cache-container=&quot;ejb&quot; cache=&quot;corpapp-session-cache&quot; granularity=&quot;ATTRIBUTE&quot;&gt;\n        &lt;primary-owner-affinity/&gt;\n    &lt;/infinispan-session-management&gt;\n&lt;/distributable-web&gt;\n</code></pre>\n<p><strong>standalone-ha.xml</strong></p>\n<pre><code>    &lt;datasource jta=&quot;true&quot; jndi-name=&quot;java:/jdbc/sessioncache&quot; pool-name=&quot;SessionCacheDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; use-ccm=&quot;true&quot;&gt;\n      &lt;connection-url&gt;jdbc:postgresql://localhost:5432/sessioncache&lt;/connection-url&gt;\n      &lt;driver&gt;postgresql&lt;/driver&gt;\n                ...\n</code></pre>\n<p>This datasource works, because it is creating the tables in the database.</p>\n<pre><code>  &lt;cache-container name=&quot;ejb&quot; module=&quot;org.wildfly.clustering.web.infinispan&quot;&gt;\n    &lt;transport/&gt;\n    &lt;distributed-cache name=&quot;corpapp-session-cache&quot;&gt;\n      &lt;jdbc-store data-source=&quot;SessionCacheDS&quot; dialect=&quot;POSTGRES&quot; passivation=&quot;true&quot; preload=&quot;false&quot; purge=&quot;false&quot; shared=&quot;false&quot;&gt;\n        &lt;table prefix=&quot;ispn_entry&quot;&gt;\n          &lt;id-column name=&quot;ID&quot; type=&quot;VARCHAR(255)&quot;/&gt;\n          &lt;data-column name=&quot;DATA&quot; type=&quot;BYTEA&quot;/&gt;\n          &lt;timestamp-column name=&quot;TS&quot; type=&quot;BIGINT&quot;/&gt;\n          &lt;segment-column name=&quot;S&quot; type=&quot;INT&quot;/&gt;\n        &lt;/table&gt;\n      &lt;/jdbc-store&gt;\n    &lt;/distributed-cache&gt;\n</code></pre>\n<p>WildFly Management console:</p>\n<p><a href=\"https://i.stack.imgur.com/LpoSM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LpoSM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Error</strong></p>\n<p>However, I get the following error:</p>\n<blockquote>\n<p>ERROR [org.jboss.as.controller.management-operation] (Controller Boot\nThread) WFLYCTL0013: Operation (&quot;deploy&quot;) failed - address:\n([(&quot;deployment&quot; =&gt; &quot;corporateEAR-3.10.ear&quot;)]) - failure description: {\n&quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [\n&quot;org.wildfly.clustering.cache.group.ejb.default-server&quot;,\n&quot;org.wildfly.clustering.cache.registry.ejb.default-server&quot;\n],\n&quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;org.wildfly.clustering.web.route-locator.&quot;corporateEAR-3.10.ear.corporateInterface-3.10.war&quot;\nis missing [org.wildfly.clustering.cache.registry.ejb.default-server,\norg.wildfly.clustering.cache.group.ejb.default-server]&quot;] }</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/TkzjV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TkzjV.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<pre><code>org.wildfly.clustering.cache.group.ejb.default-server\norg.wildfly.clustering.cache.registry.ejb.default-server\n</code></pre>\n</blockquote>\n"},{"tags":["java","flutter","google-play","android-sqlite","crashlytics-android"],"comments":[{"owner":{"account_id":3817995,"reputation":4725,"user_id":3166846,"display_name":"Dan Harms"},"score":0,"creation_date":1649174021,"post_id":71687023,"comment_id":126806721,"body_markdown":"Please provide your code for where you are instantiating and accessing your db so there is a better chance of helping you solve this.","body":"Please provide your code for where you are instantiating and accessing your db so there is a better chance of helping you solve this."},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649226721,"post_id":71687023,"comment_id":126818998,"body_markdown":"@DanHarms unfortunately I didn&#39;t written any db code, only cached_network_image-&gt; flutter_cache_manager-&gt; sqflite package uses sqlite, I have searched in their repository for similar issue, but didn&#39;t find anything","body":"@DanHarms unfortunately I didn&#39;t written any db code, only cached_network_image-&gt; flutter_cache_manager-&gt; sqflite package uses sqlite, I have searched in their repository for similar issue, but didn&#39;t find anything"},{"owner":{"account_id":17431415,"reputation":1073,"user_id":12635334,"display_name":"Sarthak Raval"},"score":0,"creation_date":1649320096,"post_id":71687023,"comment_id":126847150,"body_markdown":"I&#39;m not sure but try  Downgrade back the Android Gradle Plugin in your build.gradle file to 3.6.2","body":"I&#39;m not sure but try  Downgrade back the Android Gradle Plugin in your build.gradle file to 3.6.2"},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649340718,"post_id":71687023,"comment_id":126855365,"body_markdown":"@SarthakRaval, unfortunately I can&#39;t downgrade it because of flutter firebase messaging, which requires higher kotlin and gradle version, at first 1.3.0 version of app it worked well and it had same gradle files as now.","body":"@SarthakRaval, unfortunately I can&#39;t downgrade it because of flutter firebase messaging, which requires higher kotlin and gradle version, at first 1.3.0 version of app it worked well and it had same gradle files as now."}],"answers":[{"comments":[{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649226912,"post_id":71754837,"comment_id":126819052,"body_markdown":"Thanks for answer, I haven&#39;t used sqlite by myself, cached_network_image-&gt; flutter_cache_manager-&gt; sqflite package uses sqlite, I have searched similar issue in their repo but haven&#39;t found anything. Yes it works in debug mode without any problem, but in production some devices catching crashes","body":"Thanks for answer, I haven&#39;t used sqlite by myself, cached_network_image-&gt; flutter_cache_manager-&gt; sqflite package uses sqlite, I have searched similar issue in their repo but haven&#39;t found anything. Yes it works in debug mode without any problem, but in production some devices catching crashes"},{"owner":{"account_id":18001686,"reputation":165,"user_id":13083515,"display_name":"Olek"},"score":0,"creation_date":1649247140,"post_id":71754837,"comment_id":126826519,"body_markdown":"@MerdanDev Could you provide code on how you use cached network image?","body":"@MerdanDev Could you provide code on how you use cached network image?"},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649340779,"post_id":71754837,"comment_id":126855391,"body_markdown":"I provided it in edit of my question &#128070;","body":"I provided it in edit of my question 👆"},{"owner":{"account_id":18001686,"reputation":165,"user_id":13083515,"display_name":"Olek"},"score":0,"creation_date":1649342422,"post_id":71754837,"comment_id":126856117,"body_markdown":"@MerdanDev Do you try to update the image in this widget?","body":"@MerdanDev Do you try to update the image in this widget?"},{"owner":{"account_id":18001686,"reputation":165,"user_id":13083515,"display_name":"Olek"},"score":1,"creation_date":1649343639,"post_id":71754837,"comment_id":126856651,"body_markdown":"By the way which version of Java are you using?","body":"By the way which version of Java are you using?"},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649431018,"post_id":71754837,"comment_id":126881537,"body_markdown":"About &quot;do you try to update the image&quot; - I don&#39;t think so, because image url is unique and permanent.","body":"About &quot;do you try to update the image&quot; - I don&#39;t think so, because image url is unique and permanent."},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1649431190,"post_id":71754837,"comment_id":126881613,"body_markdown":"About &quot;which version of Java are you using&quot; - In the android/app/build.gradle file compile option was set JavaVersion.VERSION_1_8, if you are not about I&#39;m not sure about java version.","body":"About &quot;which version of Java are you using&quot; - In the android/app/build.gradle file compile option was set JavaVersion.VERSION_1_8, if you are not about I&#39;m not sure about java version."},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":0,"creation_date":1678717683,"post_id":71754837,"comment_id":133582936,"body_markdown":"yes it was java version problem, I have forgetten this question. Before changing my os it was around 8.X version java on computer after changing os there wasn&#39;t any jave, maybe android studio used oldest version of java for it. After installing latest version of jave this problem gone. Thank you bro. I am so sorry for late answer","body":"yes it was java version problem, I have forgetten this question. Before changing my os it was around 8.X version java on computer after changing os there wasn&#39;t any jave, maybe android studio used oldest version of java for it. After installing latest version of jave this problem gone. Thank you bro. I am so sorry for late answer"}],"tags":[],"owner":{"account_id":18001686,"reputation":165,"user_id":13083515,"display_name":"Olek"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649174102,"creation_date":1649173798,"answer_id":71754837,"question_id":71687023,"body_markdown":"I&#39;m not sure, but it seems like you want to access or write smth to the database when it is already locked. Probably, you should have `isOpen` method to check whether DB is open. \r\n - Also, you might review your DB initialization.\r\n - Maybe provide some code from your DB class to help you more with it.\r\n - Or if somewhere you try to close your DB, try to remove this code if is not needed.","title":"Flutter app gets crash after update: java.lang.IllegalAccessError, how to avoid this problem?","body":"<p>I'm not sure, but it seems like you want to access or write smth to the database when it is already locked. Probably, you should have <code>isOpen</code> method to check whether DB is open.</p>\n<ul>\n<li>Also, you might review your DB initialization.</li>\n<li>Maybe provide some code from your DB class to help you more with it.</li>\n<li>Or if somewhere you try to close your DB, try to remove this code if is not needed.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22789266,"reputation":301,"user_id":16943869,"display_name":"Saheed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649564911,"creation_date":1649564911,"answer_id":71813753,"question_id":71687023,"body_markdown":"Here&#39;s what I think and maybe the quickest way to resolve this:\r\nTry to remove your android folder, make sure you keep it somewhere safe so you can access it later. After removing the current android file, run `flutter create .` in your root which would produce a new fresh android folder. Finally, edit your new android folder using the details from the previous one.","title":"Flutter app gets crash after update: java.lang.IllegalAccessError, how to avoid this problem?","body":"<p>Here's what I think and maybe the quickest way to resolve this:\nTry to remove your android folder, make sure you keep it somewhere safe so you can access it later. After removing the current android file, run <code>flutter create .</code> in your root which would produce a new fresh android folder. Finally, edit your new android folder using the details from the previous one.</p>\n"},{"comments":[{"owner":{"account_id":24168783,"reputation":657,"user_id":18131146,"display_name":"mondayrris"},"score":0,"creation_date":1649702332,"post_id":71832647,"comment_id":126938383,"body_markdown":"if this solution does not work, try editing the `pubspec.yaml` `sqflite: ^2.0.1` to `sqflite: `.","body":"if this solution does not work, try editing the <code>pubspec.yaml</code> <code>sqflite: ^2.0.1</code> to <code>sqflite: </code>."},{"owner":{"account_id":18001686,"reputation":165,"user_id":13083515,"display_name":"Olek"},"score":0,"creation_date":1649765141,"post_id":71832647,"comment_id":126954253,"body_markdown":"@MerdanDev Yeah, this solution about changing the version of sqflite sounds good, try it. Even if you don&#39;t use it directly, just override the version","body":"@MerdanDev Yeah, this solution about changing the version of sqflite sounds good, try it. Even if you don&#39;t use it directly, just override the version"},{"owner":{"account_id":24168783,"reputation":657,"user_id":18131146,"display_name":"mondayrris"},"score":0,"creation_date":1649891684,"post_id":71832647,"comment_id":126993301,"body_markdown":"@MerdanDev Can you overcome this obstacles? If you want we can discuss here as I have several flutter app built and live. I just hope I can give a helping hand.","body":"@MerdanDev Can you overcome this obstacles? If you want we can discuss here as I have several flutter app built and live. I just hope I can give a helping hand."},{"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"score":1,"creation_date":1678717263,"post_id":71832647,"comment_id":133582789,"body_markdown":"@mondayrris I have already solved this problem. Most of case can be related to gradle version or if in native development it can be related to code. In my case it was all about local java version, that was it. I changed my os on my laptop and local java was gone, After new os there was&#39;nt any local java, I think android studio by default uses oldest version of java. Why I haven&#39;t answered yet? I don&#39;t want to look like asking and answering for myself for points.","body":"@mondayrris I have already solved this problem. Most of case can be related to gradle version or if in native development it can be related to code. In my case it was all about local java version, that was it. I changed my os on my laptop and local java was gone, After new os there was&#39;nt any local java, I think android studio by default uses oldest version of java. Why I haven&#39;t answered yet? I don&#39;t want to look like asking and answering for myself for points."}],"tags":[],"owner":{"account_id":24168783,"reputation":657,"user_id":18131146,"display_name":"mondayrris"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649701868,"creation_date":1649701868,"answer_id":71832647,"question_id":71687023,"body_markdown":"I eliminate time costly options first. Since the error log outputted is likely to relate `AndroidX`, try refactor your project as AndroidX.\r\n\r\nStep in Android Studio: \r\n - backup your project\r\n - `flutter clean`\r\n - `flutter pub cache clean`\r\n - right click project module &gt; Refactor &gt; Migrate to Android X\r\n - `flutter pub get`, note about any errors\r\n\r\nThis solution may not work well if some of flutter packages are not compatible with AndroidX.","title":"Flutter app gets crash after update: java.lang.IllegalAccessError, how to avoid this problem?","body":"<p>I eliminate time costly options first. Since the error log outputted is likely to relate <code>AndroidX</code>, try refactor your project as AndroidX.</p>\n<p>Step in Android Studio:</p>\n<ul>\n<li>backup your project</li>\n<li><code>flutter clean</code></li>\n<li><code>flutter pub cache clean</code></li>\n<li>right click project module &gt; Refactor &gt; Migrate to Android X</li>\n<li><code>flutter pub get</code>, note about any errors</li>\n</ul>\n<p>This solution may not work well if some of flutter packages are not compatible with AndroidX.</p>\n"},{"tags":[],"owner":{"account_id":6473818,"reputation":644,"user_id":5013103,"accept_rate":12,"display_name":"alp_the_developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661260218,"creation_date":1661260218,"answer_id":73459347,"question_id":71687023,"body_markdown":"Quick solution:\r\n\r\nI was facing this error too, I solved it by adding the &quot;public&quot; keyword to MainActivity.java","title":"Flutter app gets crash after update: java.lang.IllegalAccessError, how to avoid this problem?","body":"<p>Quick solution:</p>\n<p>I was facing this error too, I solved it by adding the &quot;public&quot; keyword to MainActivity.java</p>\n"}],"owner":{"account_id":19303081,"reputation":381,"user_id":14110537,"display_name":"MerdanDev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2418,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1678716694,"creation_date":1648702300,"question_id":71687023,"body_markdown":"## Flutter app crashes after update in play store\r\n\r\nI had massive amount of crash at google play console with this type of error: java.lang.IllegalAccessError\r\n\r\nAbout 20% of user had this crash when updated app at play store:\r\n\r\n```\r\njava.lang.IllegalAccessError: \r\n  at androidx.room.v.e (Unknown Source:15)\r\n  at d.h.a.k.e.onUpgrade (:2)\r\n  at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked (SQLiteOpenHelper.java:354) // line number is different in some crashes\r\n  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase (SQLiteOpenHelper.java:250)\r\n  at d.h.a.k.e.c (Unknown Source:4)\r\n  at d.h.a.k.f.N (Unknown Source:4)\r\n  at androidx.room.s.k (Unknown Source:2)\r\n  at androidx.room.s.b (Unknown Source)\r\n  at androidx.work.impl.D.j.b (Unknown Source:9)\r\n  at androidx.work.impl.background.systemjob.b.i (Unknown Source:20)\r\n  at androidx.work.impl.utils.f.a (:1)\r\n  at androidx.work.impl.utils.f.run (Unknown Source:31)\r\n  at androidx.work.impl.utils.k.run (Unknown Source:2)\r\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\r\n  at java.lang.Thread.run (Thread.java:784)\r\n```\r\n\r\n### History of this trouble ⌚-\\&gt;\r\n\r\nI&#39;m having trouble with production app, which has been working for a while in flutter old version without null safety(before).\r\nI have migrate app into null safety version of flutter, and added android 12 compatibility. After that I have added it into release at play store. That was app version 1.3.0 and there wasn&#39;t any massive case of crash (released at Feb 21, 2022 6:21 PM Rollout halted on Mar 17, 2022 8:20 PM, zero case of mentioned crash).\r\nIn that version of app I had this types of dependencies:\r\n\r\n```\r\n  auto_orientation: ^2.2.0\r\n  cached_network_image: ^3.2.0\r\n  connectivity: ^3.0.6\r\n  dio: ^4.0.4\r\n  dio_http_cache: ^0.3.0\r\n  dotted_line: ^3.1.0\r\n  path_provider: ^2.0.8\r\n  firebase_analytics: ^9.0.5\r\n  firebase_messaging: ^11.2.5\r\n  flutter_html: ^2.2.1\r\n  google_mobile_ads: ^1.0.1\r\n  video_player: ^2.2.15\r\n  hive: ^2.0.5\r\n  hive_flutter: ^1.1.0\r\n  photo_view: ^0.13.0\r\n  provider: ^6.0.2\r\n  pull_to_refresh: ^2.0.0\r\n  scrollable_positioned_list: ^0.2.3\r\n  share: ^2.0.4\r\n  shared_preferences: ^2.0.11\r\n  shimmer: ^2.0.0\r\n  sqflite: ^2.0.1\r\n  url_launcher: ^6.0.17\r\n```\r\n\r\nAfter that I made some changes in design pattern and state managment in my app. My app was working without any kind of error in debug mode, I have tested it in couple of devices. There wasn&#39;t any crash and rolled out my app at play store with version name 2.0.0, (released at Mar 17, 2022 8:20 PM Replaced on Mar 19, 2022 9:39 PM, 13.7K case of before mentioned crash till today, started rollout at 40% and I haven&#39;t thought it was big problem, after one day increased into 100%) in which I had this types of dependencies:\r\n\r\n```\r\n  auto_orientation: ^2.2.0\r\n  cached_network_image: ^3.2.0\r\n  chewie: &quot;&gt;=1.1.0 &lt;1.1.1&quot;\r\n  connectivity_plus: ^2.2.1\r\n  equatable: ^2.0.3\r\n  dio: ^4.0.4\r\n  dio_cache_interceptor: ^3.2.6\r\n  dio_cache_interceptor_hive_store: ^3.1.1\r\n  ferry: ^0.10.4\r\n  firebase_analytics: ^9.0.5\r\n  firebase_messaging: ^11.2.5\r\n  flutter_html: ^2.2.1\r\n  provider: ^6.0.2\r\n  google_mobile_ads: ^1.0.1\r\n  hive: ^2.0.5\r\n  path_provider: ^2.0.9\r\n  photo_view: ^0.13.0\r\n  pull_to_refresh: ^2.0.0\r\n  scrollable_positioned_list: ^0.2.3\r\n  share_plus: ^3.0.5\r\n  shared_preferences: ^2.0.13\r\n  shimmer: ^2.0.0\r\n  url_launcher: ^6.0.20\r\n```\r\n\r\nAfter that I had panic and halted that release. And I have released into productuion previous release with version name 1.3.1, because it hasn&#39;t this type of crash.\r\nUnfortunatly this version of app had plenty amount of same crash type(released at Mar 19, 2022 9:39 PM Replaced on Mar 25, 2022 3:01 PM, rollout at 100% because avoid previous crash but it was useless).\r\nSome kind of cleaned app storage or reinstalling helped in most of phones. After that I thought if I clean app directories and cache date from app side, it won&#39;t crash and released 2.0.1 version(App is getting crash in most of users) but it wasn&#39;t succesfull.\r\n\r\n### flutter doctor\r\n\r\n```\r\nDoctor summary (to see all details, run flutter doctor -v):\r\n[√] Flutter (Channel stable, 2.10.3, on Microsoft Windows [Version 10.0.22000.493], locale en-US)\r\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\r\n[√] Chrome - develop for the web\r\n[X] Visual Studio - develop for Windows\r\n    X Visual Studio not installed; this is necessary for Windows development.\r\n      Download at https://visualstudio.microsoft.com/downloads/.\r\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components       \r\n[√] Android Studio (version 4.1)\r\n[√] VS Code (version 1.65.2)\r\n[√] Connected device (3 available)\r\n[√] HTTP Host Availability\r\n```\r\n\r\n#### This app ha about 25K users, in summary it had 55,347 same crash occurrences and more than 6500 useres impacted with mentioned crash &#128547;.\r\n\r\n#### I&#39;m thankfull for any help, suggestions or advises &#128591;.\r\n\r\n#### What do I expect from app:\r\n\r\n1. App without this kind of crash in production (if I had this type of crash in debug mode it was way better)\r\n2. Any kind of solution to avoid this crash.\r\n3. What was wrong with it.\r\n\r\nBefore I had send issue into play console devs and they mailed me couple of links about java error documentation and about crashes but I haven&#39;t found any kind of solution there are and in the entire of internet.\r\n\r\n## Edit after 6:39 07-04-2022\r\n\r\nFor more detail about my android/build.gradle for now(version 2.0.x):\r\n```\r\nbuildscript {\r\n    ext.kotlin_version = &#39;1.5.10&#39;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:4.1.0&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.2&#39;\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\nrootProject.buildDir = &#39;../build&#39;\r\nsubprojects {\r\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n}\r\nsubprojects {\r\n    project.evaluationDependsOn(&#39;:app&#39;)\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nMy andorid/app/build.gradle file:\r\n```\r\ndef localProperties = new Properties()\r\ndef localPropertiesFile = rootProject.file(&#39;local.properties&#39;)\r\nif (localPropertiesFile.exists()) {\r\n    localPropertiesFile.withReader(&#39;UTF-8&#39;) { reader -&gt;\r\n        localProperties.load(reader)\r\n    }\r\n}\r\n\r\ndef flutterRoot = localProperties.getProperty(&#39;flutter.sdk&#39;)\r\nif (flutterRoot == null) {\r\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\r\n}\r\n\r\ndef flutterVersionCode = localProperties.getProperty(&#39;flutter.versionCode&#39;)\r\nif (flutterVersionCode == null) {\r\n    flutterVersionCode = &#39;2&#39;\r\n}\r\n\r\ndef flutterVersionName = localProperties.getProperty(&#39;flutter.versionName&#39;)\r\nif (flutterVersionName == null) {\r\n    flutterVersionName = &#39;1.0.0&#39;\r\n}\r\n\r\ndef keystoreProperties = new Properties()\r\ndef keystorePropertiesFile = rootProject.file(&#39;key.properties&#39;)\r\nif (keystorePropertiesFile.exists()) {\r\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\r\n}\r\n\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;kotlin-android&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\r\n\r\nandroid {\r\n    compileSdkVersion flutter.compileSdkVersion\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n\r\n    sourceSets {\r\n        main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.&lt;company_name&gt;.&lt;app_name&gt;&quot;\r\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\r\n        minSdkVersion 19\r\n        targetSdkVersion flutter.targetSdkVersion\r\n        versionCode flutterVersionCode.toInteger()\r\n        versionName flutterVersionName\r\n        multiDexEnabled true\r\n    }\r\n\r\n    signingConfigs {\r\n       release {\r\n           keyAlias keystoreProperties[&#39;keyAlias&#39;]\r\n           keyPassword keystoreProperties[&#39;keyPassword&#39;]\r\n           storeFile keystoreProperties[&#39;storeFile&#39;] ? file(keystoreProperties[&#39;storeFile&#39;]) : null\r\n           storePassword keystoreProperties[&#39;storePassword&#39;]\r\n       }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            // TODO: Add your own signing config for the release build.\r\n            // Signing with the debug keys for now, so `flutter run --release` works.\r\n            signingConfig signingConfigs.release\r\n        }\r\n    }\r\n}\r\n\r\nflutter {\r\n    source &#39;../..&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n    implementation &#39;com.android.support:multidex:2.0.1&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:29.0.4&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    // implementation &#39;com.google.android.gms:play-services-ads:20.5.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n}\r\n```\r\n\r\nFor previous version of app(1.3.0) had same file but hasn&#39;t had any similar crash.\r\n\r\nAnd for how I use cached_network_image in my code:\r\n```dart\r\nCachedNetworkImage(\r\n  imageUrl: widget.post.imageUrl,\r\n  width: double.infinity,\r\n  fit: BoxFit.cover,\r\n  placeholder: (url, ctx) =&gt; const BigImageShimmer(),\r\n  errorWidget: (context, url, error) =&gt; Image.asset(\r\n    &#39;assets/images/error_image.png&#39;,\r\n    fit: BoxFit.cover,\r\n    color:\r\n        Theme.of(context).textTheme.bodyText1?.color,\r\n  ),\r\n),\r\n```\r\n","title":"Flutter app gets crash after update: java.lang.IllegalAccessError, how to avoid this problem?","body":"<h2>Flutter app crashes after update in play store</h2>\n<p>I had massive amount of crash at google play console with this type of error: java.lang.IllegalAccessError</p>\n<p>About 20% of user had this crash when updated app at play store:</p>\n<pre><code>java.lang.IllegalAccessError: \n  at androidx.room.v.e (Unknown Source:15)\n  at d.h.a.k.e.onUpgrade (:2)\n  at android.database.sqlite.SQLiteOpenHelper.getDatabaseLocked (SQLiteOpenHelper.java:354) // line number is different in some crashes\n  at android.database.sqlite.SQLiteOpenHelper.getWritableDatabase (SQLiteOpenHelper.java:250)\n  at d.h.a.k.e.c (Unknown Source:4)\n  at d.h.a.k.f.N (Unknown Source:4)\n  at androidx.room.s.k (Unknown Source:2)\n  at androidx.room.s.b (Unknown Source)\n  at androidx.work.impl.D.j.b (Unknown Source:9)\n  at androidx.work.impl.background.systemjob.b.i (Unknown Source:20)\n  at androidx.work.impl.utils.f.a (:1)\n  at androidx.work.impl.utils.f.run (Unknown Source:31)\n  at androidx.work.impl.utils.k.run (Unknown Source:2)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker (ThreadPoolExecutor.java:1162)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run (ThreadPoolExecutor.java:636)\n  at java.lang.Thread.run (Thread.java:784)\n</code></pre>\n<h3>History of this trouble ⌚-&gt;</h3>\n<p>I'm having trouble with production app, which has been working for a while in flutter old version without null safety(before).\nI have migrate app into null safety version of flutter, and added android 12 compatibility. After that I have added it into release at play store. That was app version 1.3.0 and there wasn't any massive case of crash (released at Feb 21, 2022 6:21 PM Rollout halted on Mar 17, 2022 8:20 PM, zero case of mentioned crash).\nIn that version of app I had this types of dependencies:</p>\n<pre><code>  auto_orientation: ^2.2.0\n  cached_network_image: ^3.2.0\n  connectivity: ^3.0.6\n  dio: ^4.0.4\n  dio_http_cache: ^0.3.0\n  dotted_line: ^3.1.0\n  path_provider: ^2.0.8\n  firebase_analytics: ^9.0.5\n  firebase_messaging: ^11.2.5\n  flutter_html: ^2.2.1\n  google_mobile_ads: ^1.0.1\n  video_player: ^2.2.15\n  hive: ^2.0.5\n  hive_flutter: ^1.1.0\n  photo_view: ^0.13.0\n  provider: ^6.0.2\n  pull_to_refresh: ^2.0.0\n  scrollable_positioned_list: ^0.2.3\n  share: ^2.0.4\n  shared_preferences: ^2.0.11\n  shimmer: ^2.0.0\n  sqflite: ^2.0.1\n  url_launcher: ^6.0.17\n</code></pre>\n<p>After that I made some changes in design pattern and state managment in my app. My app was working without any kind of error in debug mode, I have tested it in couple of devices. There wasn't any crash and rolled out my app at play store with version name 2.0.0, (released at Mar 17, 2022 8:20 PM Replaced on Mar 19, 2022 9:39 PM, 13.7K case of before mentioned crash till today, started rollout at 40% and I haven't thought it was big problem, after one day increased into 100%) in which I had this types of dependencies:</p>\n<pre><code>  auto_orientation: ^2.2.0\n  cached_network_image: ^3.2.0\n  chewie: &quot;&gt;=1.1.0 &lt;1.1.1&quot;\n  connectivity_plus: ^2.2.1\n  equatable: ^2.0.3\n  dio: ^4.0.4\n  dio_cache_interceptor: ^3.2.6\n  dio_cache_interceptor_hive_store: ^3.1.1\n  ferry: ^0.10.4\n  firebase_analytics: ^9.0.5\n  firebase_messaging: ^11.2.5\n  flutter_html: ^2.2.1\n  provider: ^6.0.2\n  google_mobile_ads: ^1.0.1\n  hive: ^2.0.5\n  path_provider: ^2.0.9\n  photo_view: ^0.13.0\n  pull_to_refresh: ^2.0.0\n  scrollable_positioned_list: ^0.2.3\n  share_plus: ^3.0.5\n  shared_preferences: ^2.0.13\n  shimmer: ^2.0.0\n  url_launcher: ^6.0.20\n</code></pre>\n<p>After that I had panic and halted that release. And I have released into productuion previous release with version name 1.3.1, because it hasn't this type of crash.\nUnfortunatly this version of app had plenty amount of same crash type(released at Mar 19, 2022 9:39 PM Replaced on Mar 25, 2022 3:01 PM, rollout at 100% because avoid previous crash but it was useless).\nSome kind of cleaned app storage or reinstalling helped in most of phones. After that I thought if I clean app directories and cache date from app side, it won't crash and released 2.0.1 version(App is getting crash in most of users) but it wasn't succesfull.</p>\n<h3>flutter doctor</h3>\n<pre><code>Doctor summary (to see all details, run flutter doctor -v):\n[√] Flutter (Channel stable, 2.10.3, on Microsoft Windows [Version 10.0.22000.493], locale en-US)\n[√] Android toolchain - develop for Android devices (Android SDK version 31.0.0)\n[√] Chrome - develop for the web\n[X] Visual Studio - develop for Windows\n    X Visual Studio not installed; this is necessary for Windows development.\n      Download at https://visualstudio.microsoft.com/downloads/.\n      Please install the &quot;Desktop development with C++&quot; workload, including all of its default components       \n[√] Android Studio (version 4.1)\n[√] VS Code (version 1.65.2)\n[√] Connected device (3 available)\n[√] HTTP Host Availability\n</code></pre>\n<h4>This app ha about 25K users, in summary it had 55,347 same crash occurrences and more than 6500 useres impacted with mentioned crash 😣.</h4>\n<h4>I'm thankfull for any help, suggestions or advises 🙏.</h4>\n<h4>What do I expect from app:</h4>\n<ol>\n<li>App without this kind of crash in production (if I had this type of crash in debug mode it was way better)</li>\n<li>Any kind of solution to avoid this crash.</li>\n<li>What was wrong with it.</li>\n</ol>\n<p>Before I had send issue into play console devs and they mailed me couple of links about java error documentation and about crashes but I haven't found any kind of solution there are and in the entire of internet.</p>\n<h2>Edit after 6:39 07-04-2022</h2>\n<p>For more detail about my android/build.gradle for now(version 2.0.x):</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.5.10'\n    repositories {\n        google()\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.1.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>My andorid/app/build.gradle file:</p>\n<pre><code>def localProperties = new Properties()\ndef localPropertiesFile = rootProject.file('local.properties')\nif (localPropertiesFile.exists()) {\n    localPropertiesFile.withReader('UTF-8') { reader -&gt;\n        localProperties.load(reader)\n    }\n}\n\ndef flutterRoot = localProperties.getProperty('flutter.sdk')\nif (flutterRoot == null) {\n    throw new GradleException(&quot;Flutter SDK not found. Define location with flutter.sdk in the local.properties file.&quot;)\n}\n\ndef flutterVersionCode = localProperties.getProperty('flutter.versionCode')\nif (flutterVersionCode == null) {\n    flutterVersionCode = '2'\n}\n\ndef flutterVersionName = localProperties.getProperty('flutter.versionName')\nif (flutterVersionName == null) {\n    flutterVersionName = '1.0.0'\n}\n\ndef keystoreProperties = new Properties()\ndef keystorePropertiesFile = rootProject.file('key.properties')\nif (keystorePropertiesFile.exists()) {\n    keystoreProperties.load(new FileInputStream(keystorePropertiesFile))\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'com.google.gms.google-services'\napply from: &quot;$flutterRoot/packages/flutter_tools/gradle/flutter.gradle&quot;\n\nandroid {\n    compileSdkVersion flutter.compileSdkVersion\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    defaultConfig {\n        applicationId &quot;com.&lt;company_name&gt;.&lt;app_name&gt;&quot;\n        // TODO: Specify your own unique Application ID (https://developer.android.com/studio/build/application-id.html).\n        minSdkVersion 19\n        targetSdkVersion flutter.targetSdkVersion\n        versionCode flutterVersionCode.toInteger()\n        versionName flutterVersionName\n        multiDexEnabled true\n    }\n\n    signingConfigs {\n       release {\n           keyAlias keystoreProperties['keyAlias']\n           keyPassword keystoreProperties['keyPassword']\n           storeFile keystoreProperties['storeFile'] ? file(keystoreProperties['storeFile']) : null\n           storePassword keystoreProperties['storePassword']\n       }\n    }\n\n    buildTypes {\n        release {\n            // TODO: Add your own signing config for the release build.\n            // Signing with the debug keys for now, so `flutter run --release` works.\n            signingConfig signingConfigs.release\n        }\n    }\n}\n\nflutter {\n    source '../..'\n}\n\ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n    implementation 'com.android.support:multidex:2.0.1'\n    implementation platform('com.google.firebase:firebase-bom:29.0.4')\n    implementation 'com.google.firebase:firebase-analytics'\n    // implementation 'com.google.android.gms:play-services-ads:20.5.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n}\n</code></pre>\n<p>For previous version of app(1.3.0) had same file but hasn't had any similar crash.</p>\n<p>And for how I use cached_network_image in my code:</p>\n<pre class=\"lang-dart prettyprint-override\"><code>CachedNetworkImage(\n  imageUrl: widget.post.imageUrl,\n  width: double.infinity,\n  fit: BoxFit.cover,\n  placeholder: (url, ctx) =&gt; const BigImageShimmer(),\n  errorWidget: (context, url, error) =&gt; Image.asset(\n    'assets/images/error_image.png',\n    fit: BoxFit.cover,\n    color:\n        Theme.of(context).textTheme.bodyText1?.color,\n  ),\n),\n</code></pre>\n"},{"tags":["java","api","rest","testing","integration-testing"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1632380833,"post_id":69295162,"comment_id":122477054,"body_markdown":"You can&#39;t, what you can measure is actuall java classes which are your restendpoint implementations, if you want to see a similar report, user a standard name for your Rest endpoint classes","body":"You can&#39;t, what you can measure is actuall java classes which are your restendpoint implementations, if you want to see a similar report, user a standard name for your Rest endpoint classes"}],"answers":[{"tags":[],"owner":{"account_id":1604466,"reputation":3059,"user_id":1484823,"display_name":"Guillaume Berche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678716420,"creation_date":1678716420,"answer_id":75722986,"question_id":69295162,"body_markdown":"https://support.smartbear.com/readyapi/docs/testing/coverage/rest.html proprietary api testing tool seems to provide support for measuring rest api test coverage","title":"Test coverage for the REST API endpoints?","body":"<p><a href=\"https://support.smartbear.com/readyapi/docs/testing/coverage/rest.html\" rel=\"nofollow noreferrer\">https://support.smartbear.com/readyapi/docs/testing/coverage/rest.html</a> proprietary api testing tool seems to provide support for measuring rest api test coverage</p>\n"}],"owner":{"account_id":10301322,"reputation":73,"user_id":7599983,"display_name":"Mr. Sanches"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":561,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1678716420,"creation_date":1632379679,"question_id":69295162,"body_markdown":"My project - Java web service, spring boot, maven.\r\n\r\nI am starting the spring application context and running the integration tests against REST API endpoints. And I want to see the report with integration test coverage, like this:\r\n\r\n**List of endpoints (4):**\r\n\r\n 1. api/status  ---&gt;&gt;&gt; not covered\r\n    \r\n 2. api/users  ---&gt;&gt;&gt; not covered\r\n    \r\n 3. api/countries  ---&gt;&gt;&gt; covered\r\n    \r\n 4. api/offices  ---&gt;&gt;&gt; covered\r\n\r\nSo, I would like to see the **list of all endpoints** I have in my web service and whether each endpoint is covered by Integration test.\r\n\r\nFor unit tests I am using JaCoCo but it gives me only code coverage which is not exactly what I am looking for. \r\n\r\nAny suggestions ?","title":"Test coverage for the REST API endpoints?","body":"<p>My project - Java web service, spring boot, maven.</p>\n<p>I am starting the spring application context and running the integration tests against REST API endpoints. And I want to see the report with integration test coverage, like this:</p>\n<p><strong>List of endpoints (4):</strong></p>\n<ol>\n<li><p>api/status  ---&gt;&gt;&gt; not covered</p>\n</li>\n<li><p>api/users  ---&gt;&gt;&gt; not covered</p>\n</li>\n<li><p>api/countries  ---&gt;&gt;&gt; covered</p>\n</li>\n<li><p>api/offices  ---&gt;&gt;&gt; covered</p>\n</li>\n</ol>\n<p>So, I would like to see the <strong>list of all endpoints</strong> I have in my web service and whether each endpoint is covered by Integration test.</p>\n<p>For unit tests I am using JaCoCo but it gives me only code coverage which is not exactly what I am looking for.</p>\n<p>Any suggestions ?</p>\n"},{"tags":["java","proguard"],"answers":[{"tags":[],"owner":{"account_id":23130518,"reputation":54,"user_id":17235603,"display_name":"Voidstack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678716024,"creation_date":1678716024,"answer_id":75722921,"question_id":63443285,"body_markdown":"in your .pom try add :\r\n\r\n    &lt;lib&gt;${java.home}/lib/jrt-fs.jar&lt;/lib&gt;\r\n","title":"Proguard error log :: the configuration refers to the unknown class &#39;java.lang.String&#39;","body":"<p>in your .pom try add :</p>\n<pre><code>&lt;lib&gt;${java.home}/lib/jrt-fs.jar&lt;/lib&gt;\n</code></pre>\n"}],"owner":{"account_id":19301109,"reputation":31,"user_id":14108978,"display_name":"dreamoeju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678716024,"creation_date":1597625432,"question_id":63443285,"body_markdown":"First sorry for my poor english.\r\nI used proguard gui version 7.0 for obfuscating my jar made in jdk 14.\r\nI think that proguard occurs errors as a result to referenced jrt-fs.jar instead of rt.jar.\r\nFrom jdk9, there can&#39;t find rt.jar, so added jrt-fs.jar as reference library.\r\n\r\n\r\nAnyone could help me to solve this problem?\r\n\r\nProguard error logs\r\n--------------------\r\n\r\n    Note: the configuration refers to the unknown class &#39;java.lang.String&#39;\r\n    Note: the configuration refers to the unknown class &#39;java.lang.String&#39;\r\n    Note: the configuration refers to the unknown class &#39;java.sql.Driver&#39;\r\n    ....\r\n\r\nProguard configuration\r\n--------------------\r\n\r\n    -injars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\extensions\\Queen\\QServerMainExtension.jar&#39;\r\n    -outjars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\extensions\\Queen\\QServerMainExtension_small.jar&#39;\r\n    \r\n    -libraryjars &#39;C:\\Program Files\\Java\\jdk-14.0.2\\lib\\jrt-fs.jar&#39;\r\n    -libraryjars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\sfs2x-core.jar&#39;\r\n    -libraryjars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\sfs2x.jar&#39;\r\n    -libraryjars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\slf4j-api-1.7.5.jar&#39;\r\n    -libraryjars &#39;C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\slf4j-log4j12-1.7.5.jar&#39;\r\n    \r\n    ...","title":"Proguard error log :: the configuration refers to the unknown class &#39;java.lang.String&#39;","body":"<p>First sorry for my poor english.\nI used proguard gui version 7.0 for obfuscating my jar made in jdk 14.\nI think that proguard occurs errors as a result to referenced jrt-fs.jar instead of rt.jar.\nFrom jdk9, there can't find rt.jar, so added jrt-fs.jar as reference library.</p>\n<p>Anyone could help me to solve this problem?</p>\n<h2>Proguard error logs</h2>\n<pre><code>Note: the configuration refers to the unknown class 'java.lang.String'\nNote: the configuration refers to the unknown class 'java.lang.String'\nNote: the configuration refers to the unknown class 'java.sql.Driver'\n....\n</code></pre>\n<h2>Proguard configuration</h2>\n<pre><code>-injars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\extensions\\Queen\\QServerMainExtension.jar'\n-outjars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\extensions\\Queen\\QServerMainExtension_small.jar'\n\n-libraryjars 'C:\\Program Files\\Java\\jdk-14.0.2\\lib\\jrt-fs.jar'\n-libraryjars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\sfs2x-core.jar'\n-libraryjars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\sfs2x.jar'\n-libraryjars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\slf4j-api-1.7.5.jar'\n-libraryjars 'C:\\Users\\common\\SmartFoxServer_2X\\SFS2X\\lib\\slf4j-log4j12-1.7.5.jar'\n\n...\n</code></pre>\n"},{"tags":["java","gradle","junit","reporting","printstacktrace"],"comments":[{"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"score":0,"creation_date":1678747939,"post_id":75722907,"comment_id":133590727,"body_markdown":"Please provide a [minimal, reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal, reproducible example</a>"}],"owner":{"account_id":1357932,"reputation":21,"user_id":1295944,"display_name":"user1295944"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678715972,"creation_date":1678715972,"question_id":75722907,"body_markdown":"I have a report that was created with the JUnit platform and at the end of it I see the stack trace i want to know please how to remove it and see only the errors\r\ni&#39;m using Java and Gradle\r\nthanks\r\n\r\nI tried to create a new Error Object without the cause ","title":"Remove stack trace from junit report","body":"<p>I have a report that was created with the JUnit platform and at the end of it I see the stack trace i want to know please how to remove it and see only the errors\ni'm using Java and Gradle\nthanks</p>\n<p>I tried to create a new Error Object without the cause</p>\n"},{"tags":["java","menu","jframe"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1678716157,"post_id":75722890,"comment_id":133582379,"body_markdown":"`MyHandler` looks to be a non-static inner class of your GUI class. It then calls `setVisible(false);`, which is _not_ a method of `ActionListener` nor `MyHandler` nor the `JButton` that it was called for. Instead, it&#39;s a method of the enclosing class, and you are hiding the overall frame. Typically, you would have a consistent `JFrame` that never disappears, and you would instead set a `JPanel` at the root of the frame. If you want to change panels, then you can simply swap out the active panel for the frame.","body":"<code>MyHandler</code> looks to be a non-static inner class of your GUI class. It then calls <code>setVisible(false);</code>, which is <i>not</i> a method of <code>ActionListener</code> nor <code>MyHandler</code> nor the <code>JButton</code> that it was called for. Instead, it&#39;s a method of the enclosing class, and you are hiding the overall frame. Typically, you would have a consistent <code>JFrame</code> that never disappears, and you would instead set a <code>JPanel</code> at the root of the frame. If you want to change panels, then you can simply swap out the active panel for the frame."}],"owner":{"display_name":"user12540531"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678715853,"creation_date":1678715853,"question_id":75722890,"body_markdown":"I wish to create a Menu Form using java, however linking Frames seems to be an issue. Upon clicking a button, the form disappears and nothing appears in it&#39;s place. Here is the code for the forms I wish to link.\r\n\r\npublic class MenuFrame extends JFrame {\r\n\t\r\n\tJButton b0, b1, b2, b3;\r\n\tJLabel l1;\r\n\tMyHandler h = new MyHandler();\r\n\t\r\n\r\n\tpublic MenuFrame() {\r\n\t\t//frame title\r\n\t\tsuper (&quot;Sustainopoly - Main Menu&quot;);\r\n\t\t//Frame Size\r\n\t\tsetSize(500,500);\r\n\t\t\r\n\t\tsetLocationRelativeTo(null);\r\n\t\t//panel to contain the buttons\r\n\t\t\r\n\t\tContainer c = getContentPane();\r\n\t\tc.setBackground(Color.blue);\r\n\t\tc.setLayout(new GridLayout(5,5));\r\n\t\t\r\n\t\t\r\n\t\tl1 = new JLabel(&quot;Sustainopoly&quot;, SwingConstants.CENTER);\r\n\t\tl1.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\r\n\t\tc.add(l1);\r\n\t\t\r\n\t\tb0 = new JButton(&quot;Start New Game&quot;);\r\n\t\t//CODE TO BRING USER TO FORM\r\n\t\tc.add(b0);\r\n\t\tb0.addActionListener(h);\r\n\t\t\r\n\t\tb1 = new JButton(&quot;How to Play&quot;);\r\n\t\t//CODE TO BRING USER TO FORM\r\n\t\tc.add(b1);\r\n\t\tb1.addActionListener(h);\r\n\t\t\r\n\t\tb2 = new JButton(&quot;Learn More&quot;);\r\n\t\t//CODE TO BRING USER TO FORM\r\n\t\tc.add(b2);\r\n\t\tb2.addActionListener(h);\r\n\t\t\r\n\t\tb3 = new JButton(&quot;Exit Game&quot;);\r\n\t\t//CODE TO BRING USER TO FORM\r\n\t\tc.add(b3);\r\n\t\tb3.addActionListener(h);\r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n\tpublic class MyHandler implements ActionListener\r\n\t{\r\n\t\tpublic void actionPerformed(ActionEvent e) \r\n\t\t{\r\n\t\t\tObject ob = e.getSource();\r\n\t\t\t\r\n\t\t\tif(ob == b0) {\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\tNoOfPlayers noOfPlayers = new NoOfPlayers();\r\n\t\t\t\t//NoOfPlayers nOfPlayers = new NoOfPlayers();\r\n\t\t\t}\r\n\t\t\tif(ob == b1) {\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\tHowToPlay howToPlay = new HowToPlay();\r\n\t\t\t\t//CODE TO BRING USER TO HOW TO PLAY FORM\r\n\t\t\t}\r\n\t\t\tif(ob == b2) {\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\tLearnMore learnMore = new LearnMore();\r\n\t\t\t\t//CODE TO BRING USER TO LEARN MORE FORM\r\n\t\t\t}\r\n\t\t\tif(ob == b3) {\r\n\t\t\t\t//CODE TO BRING USER TO EXIT GAME FORM\r\n\t\t\t\tdispose();\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n\r\n\r\nFurthermore, here is the code in the Frame I wish to link:\r\n\r\npublic class NoOfPlayersFrame extends JFrame {\r\n\t\r\n\tJLabel l1;\r\n\tJButton b1, b2, b3, b4, b5, b6, b7;\r\n\t\r\n\tContainer c = getContentPane();\r\n\t\r\n\tMyHandler h = new MyHandler();\r\n\r\n\tpublic NoOfPlayersFrame() {\r\n\t\tb1 = new JButton(&quot;Two Players&quot;);\r\n\t\tc.add(b1);\r\n\t\tb1.addActionListener(h);\r\n\t\t\r\n\t\tb2 = new JButton(&quot;Three Players&quot;);\r\n\t\tc.add(b2);\r\n\t\tb2.addActionListener(h);\r\n\t\t\r\n\t\tb3 = new JButton(&quot;Four Players&quot;);\r\n\t\tc.add(b3);\r\n\t\tb3.addActionListener(h);\r\n\t\t\r\n\t\tb4 = new JButton(&quot;Five Players&quot;);\r\n\t\tc.add(b4);\r\n\t\tb4.addActionListener(h);\r\n\t\t\r\n\t\tb5 = new JButton(&quot;Six Players&quot;);\r\n\t\tc.add(b5);\r\n\t\tb5.addActionListener(h);\r\n\t\t\r\n\t\tb6 = new JButton(&quot;Seven Players&quot;);\r\n\t\tc.add(b6);\r\n\t\tb6.addActionListener(h);\r\n\t\t\r\n\t\tb7 = new JButton(&quot;Eight Players&quot;);\r\n\t\tc.add(b7);\r\n\t\tb7.addActionListener(h);\r\n\t\t\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetVisible(true);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic class MyHandler implements ActionListener\r\n\t{\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tObject ob = e.getSource();\r\n\t\t\t\r\n\t\t\tif(ob == b1) {\r\n\t\t\t\tsetVisible(false);\r\n\t\t\t\t//\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\nI&#39;m not very experienced in coding so any help would be appreciated\r\nthanks\r\n\r\n","title":"How to create a menu form in java","body":"<p>I wish to create a Menu Form using java, however linking Frames seems to be an issue. Upon clicking a button, the form disappears and nothing appears in it's place. Here is the code for the forms I wish to link.</p>\n<p>public class MenuFrame extends JFrame {</p>\n<pre><code>JButton b0, b1, b2, b3;\nJLabel l1;\nMyHandler h = new MyHandler();\n\n\npublic MenuFrame() {\n    //frame title\n    super (&quot;Sustainopoly - Main Menu&quot;);\n    //Frame Size\n    setSize(500,500);\n    \n    setLocationRelativeTo(null);\n    //panel to contain the buttons\n    \n    Container c = getContentPane();\n    c.setBackground(Color.blue);\n    c.setLayout(new GridLayout(5,5));\n    \n    \n    l1 = new JLabel(&quot;Sustainopoly&quot;, SwingConstants.CENTER);\n    l1.setFont(new Font(&quot;Calibri&quot;, Font.BOLD, 20));\n    c.add(l1);\n    \n    b0 = new JButton(&quot;Start New Game&quot;);\n    //CODE TO BRING USER TO FORM\n    c.add(b0);\n    b0.addActionListener(h);\n    \n    b1 = new JButton(&quot;How to Play&quot;);\n    //CODE TO BRING USER TO FORM\n    c.add(b1);\n    b1.addActionListener(h);\n    \n    b2 = new JButton(&quot;Learn More&quot;);\n    //CODE TO BRING USER TO FORM\n    c.add(b2);\n    b2.addActionListener(h);\n    \n    b3 = new JButton(&quot;Exit Game&quot;);\n    //CODE TO BRING USER TO FORM\n    c.add(b3);\n    b3.addActionListener(h);\n    \n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n}\n\npublic class MyHandler implements ActionListener\n{\n    public void actionPerformed(ActionEvent e) \n    {\n        Object ob = e.getSource();\n        \n        if(ob == b0) {\n            setVisible(false);\n            NoOfPlayers noOfPlayers = new NoOfPlayers();\n            //NoOfPlayers nOfPlayers = new NoOfPlayers();\n        }\n        if(ob == b1) {\n            setVisible(false);\n            HowToPlay howToPlay = new HowToPlay();\n            //CODE TO BRING USER TO HOW TO PLAY FORM\n        }\n        if(ob == b2) {\n            setVisible(false);\n            LearnMore learnMore = new LearnMore();\n            //CODE TO BRING USER TO LEARN MORE FORM\n        }\n        if(ob == b3) {\n            //CODE TO BRING USER TO EXIT GAME FORM\n            dispose();\n        }\n    }\n\n}\n</code></pre>\n<p>Furthermore, here is the code in the Frame I wish to link:</p>\n<p>public class NoOfPlayersFrame extends JFrame {</p>\n<pre><code>JLabel l1;\nJButton b1, b2, b3, b4, b5, b6, b7;\n\nContainer c = getContentPane();\n\nMyHandler h = new MyHandler();\n\npublic NoOfPlayersFrame() {\n    b1 = new JButton(&quot;Two Players&quot;);\n    c.add(b1);\n    b1.addActionListener(h);\n    \n    b2 = new JButton(&quot;Three Players&quot;);\n    c.add(b2);\n    b2.addActionListener(h);\n    \n    b3 = new JButton(&quot;Four Players&quot;);\n    c.add(b3);\n    b3.addActionListener(h);\n    \n    b4 = new JButton(&quot;Five Players&quot;);\n    c.add(b4);\n    b4.addActionListener(h);\n    \n    b5 = new JButton(&quot;Six Players&quot;);\n    c.add(b5);\n    b5.addActionListener(h);\n    \n    b6 = new JButton(&quot;Seven Players&quot;);\n    c.add(b6);\n    b6.addActionListener(h);\n    \n    b7 = new JButton(&quot;Eight Players&quot;);\n    c.add(b7);\n    b7.addActionListener(h);\n    \n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n    \n}\n\npublic class MyHandler implements ActionListener\n{\n    public void actionPerformed(ActionEvent e) {\n        Object ob = e.getSource();\n        \n        if(ob == b1) {\n            setVisible(false);\n            //\n        }\n    }\n\n}\n</code></pre>\n<p>I'm not very experienced in coding so any help would be appreciated\nthanks</p>\n"},{"tags":["java","math","caching","statistics"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1678670539,"post_id":75717262,"comment_id":133573301,"body_markdown":"If you are using mysql there is a stdev function available.","body":"If you are using mysql there is a stdev function available."},{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1678671845,"post_id":75717262,"comment_id":133573453,"body_markdown":"@ScaryWombat Well, unfortunately this operation won&#39;t happen directly on the DB records. There is a lot of selection/filtering that happens on the fetched data","body":"@ScaryWombat Well, unfortunately this operation won&#39;t happen directly on the DB records. There is a lot of selection/filtering that happens on the fetched data"}],"answers":[{"comments":[{"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"score":0,"creation_date":1678702850,"post_id":75718071,"comment_id":133578339,"body_markdown":"Can you let me know how you arrived at this formula? I just tried it with sample data and it gave me incorrect standard deviation.","body":"Can you let me know how you arrived at this formula? I just tried it with sample data and it gave me incorrect standard deviation."},{"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"score":0,"creation_date":1678715213,"post_id":75718071,"comment_id":133582039,"body_markdown":"Here is the derivation of the formula. https://www.sciencebuddies.org/science-fair-projects/science-fair/variance-and-standard-deviation. Please take a look. I think I provided the right formula","body":"Here is the derivation of the formula. <a href=\"https://www.sciencebuddies.org/science-fair-projects/science-fair/variance-and-standard-deviation\" rel=\"nofollow noreferrer\">sciencebuddies.org/science-fair-projects/science-fair/&hellip;</a>. Please take a look. I think I provided the right formula"}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678715282,"creation_date":1678681901,"answer_id":75718071,"question_id":75717262,"body_markdown":"You could work on a derived formula for standard deviation \r\n\r\n\r\nConsider \r\n\r\n    sum_x = sum of all xi\r\n    sum_x_square = sum of all xi^2\r\n    x = Mean of xi\r\n\r\nThe Standard deviation can be written as\r\n\r\n    stdev = sqrt((sum_x_square / n) - (x * x)) \r\n\r\n\r\nso you can cache the running sum of xi and sum of xi^2 and work only on the incremental data.\r\n\r\n\r\n**Derivation of the formula**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Resource**\r\n\r\nhttps://www.sciencebuddies.org/science-fair-projects/science-fair/variance-and-standard-deviation\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BNtpG.png","title":"What data can I cache here to avoid recurring DB calls?","body":"<p>You could work on a derived formula for standard deviation</p>\n<p>Consider</p>\n<pre><code>sum_x = sum of all xi\nsum_x_square = sum of all xi^2\nx = Mean of xi\n</code></pre>\n<p>The Standard deviation can be written as</p>\n<pre><code>stdev = sqrt((sum_x_square / n) - (x * x)) \n</code></pre>\n<p>so you can cache the running sum of xi and sum of xi^2 and work only on the incremental data.</p>\n<p><strong>Derivation of the formula</strong></p>\n<p><a href=\"https://i.stack.imgur.com/BNtpG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BNtpG.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Resource</strong></p>\n<p><a href=\"https://www.sciencebuddies.org/science-fair-projects/science-fair/variance-and-standard-deviation\" rel=\"nofollow noreferrer\">https://www.sciencebuddies.org/science-fair-projects/science-fair/variance-and-standard-deviation</a></p>\n"}],"owner":{"account_id":25610091,"reputation":3,"user_id":19383664,"display_name":"mysteryFruit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678715282,"creation_date":1678668596,"question_id":75717262,"body_markdown":"So my requirement is that I will be pulling currency rate data of 1000 days from today for calculating spread in BPS for each day and average and standard deviation of the spreads for that period. This process must happen on every business day. Since there are multiple currencies (say 200), we&#39;ll have to get 200 * 1000 = 200k records on regular basis. \r\nTo avoid this, I thought of pulling the 1000 records for each currency one time, calculate avg and cache the average value. Then use the formula mentioned here https://math.stackexchange.com/a/1567342 to calculate new averages by deleting the oldest and adding new record.\r\n\r\nSubract value :\r\n```\r\naverage = ((average * nbValues) - value) / (nbValues - 1);\r\n```\r\nAdd value :\r\n\r\n```\r\naverage = average + ((value - average) / nbValues);\r\n```\r\n\r\nNow the problem is with calculating standard deviation using the below formula:\r\n\r\n```\r\nS = [(Sum of (xi – x)^2)/n-1]^1/2\r\n\r\nwhere\r\n\r\nn = number of data points\r\nxi = values of the data\r\nx = Mean\r\n```\r\nThis requires each one of the values xi for calculating standard deviation. How can I approach to design a solution in an efficient manner for this problem?\r\n\r\n\r\nAs mentioned above, new averages can be calculated using cached avg values that works fine. \r\nHowever, not sure on how to approach for calculating std deviation without making DB calls to retrieve all thousand days records on daily basis and not caching huge amounts of data.","title":"What data can I cache here to avoid recurring DB calls?","body":"<p>So my requirement is that I will be pulling currency rate data of 1000 days from today for calculating spread in BPS for each day and average and standard deviation of the spreads for that period. This process must happen on every business day. Since there are multiple currencies (say 200), we'll have to get 200 * 1000 = 200k records on regular basis.\nTo avoid this, I thought of pulling the 1000 records for each currency one time, calculate avg and cache the average value. Then use the formula mentioned here <a href=\"https://math.stackexchange.com/a/1567342\">https://math.stackexchange.com/a/1567342</a> to calculate new averages by deleting the oldest and adding new record.</p>\n<p>Subract value :</p>\n<pre><code>average = ((average * nbValues) - value) / (nbValues - 1);\n</code></pre>\n<p>Add value :</p>\n<pre><code>average = average + ((value - average) / nbValues);\n</code></pre>\n<p>Now the problem is with calculating standard deviation using the below formula:</p>\n<pre><code>S = [(Sum of (xi – x)^2)/n-1]^1/2\n\nwhere\n\nn = number of data points\nxi = values of the data\nx = Mean\n</code></pre>\n<p>This requires each one of the values xi for calculating standard deviation. How can I approach to design a solution in an efficient manner for this problem?</p>\n<p>As mentioned above, new averages can be calculated using cached avg values that works fine.\nHowever, not sure on how to approach for calculating std deviation without making DB calls to retrieve all thousand days records on daily basis and not caching huge amounts of data.</p>\n"},{"tags":["java","spring","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678714954,"creation_date":1678714954,"answer_id":75722704,"question_id":75722397,"body_markdown":"there shouldn&#39;t be any difference performance-wise. you can use something like this to simulate some delay:\r\n\r\n    private Mono&lt;String&gt; waitAndReturn(long wait, String response) {\r\n    \treturn Mono.fromFuture(CompletableFuture.supplyAsync(() -&gt; {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep(wait);\r\n    \t\t\treturn response;\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}));\r\n    }\r\n\r\nand then play with it locally: \r\n\r\n    @Test\r\n    @SneakyThrows\r\n    void test3() {\r\n    \tMono&lt;String&gt; mono1 = waitAndReturn(1000L, &quot;foo&quot;);\r\n    \tMono&lt;String&gt; mono2 = waitAndReturn(2000L, &quot;bar&quot;);\r\n    \tMono&lt;String&gt; mono3 = waitAndReturn(3000L, &quot;buzz&quot;);\r\n    \r\n    \tlog.info(&quot;Mono.zip starts here&quot;);\r\n    \tMono.zip(mono1, mono2, mono3)\r\n    \t\t\t.map(t -&gt; t.getT1() + t.getT2() + t.getT3())\r\n    \t\t\t.subscribe(r -&gt; log.info(&quot;Mono.zip ends here. &quot; + r));\r\n    \r\n    \tlog.info(&quot;Mono.flatMap starts here&quot;);\r\n    \tmono1.flatMap(\r\n    \t\tres1 -&gt; mono2.flatMap(\r\n    \t\t\tres2 -&gt; mono3.map(\r\n    \t\t\t\tres3 -&gt; res1 + res2 + res3\r\n    \t\t\t)\r\n    \t\t)\r\n    \t).subscribe(r -&gt; log.info(&quot;Mono.flatMap ends here. &quot; + r));\r\n    \r\n    \r\n    \tThread.sleep(10000l);\r\n    }\r\n\r\n  ","title":"Reactor Mono zip+map vs flatMap/Map","body":"<p>there shouldn't be any difference performance-wise. you can use something like this to simulate some delay:</p>\n<pre><code>private Mono&lt;String&gt; waitAndReturn(long wait, String response) {\n    return Mono.fromFuture(CompletableFuture.supplyAsync(() -&gt; {\n        try {\n            Thread.sleep(wait);\n            return response;\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }));\n}\n</code></pre>\n<p>and then play with it locally:</p>\n<pre><code>@Test\n@SneakyThrows\nvoid test3() {\n    Mono&lt;String&gt; mono1 = waitAndReturn(1000L, &quot;foo&quot;);\n    Mono&lt;String&gt; mono2 = waitAndReturn(2000L, &quot;bar&quot;);\n    Mono&lt;String&gt; mono3 = waitAndReturn(3000L, &quot;buzz&quot;);\n\n    log.info(&quot;Mono.zip starts here&quot;);\n    Mono.zip(mono1, mono2, mono3)\n            .map(t -&gt; t.getT1() + t.getT2() + t.getT3())\n            .subscribe(r -&gt; log.info(&quot;Mono.zip ends here. &quot; + r));\n\n    log.info(&quot;Mono.flatMap starts here&quot;);\n    mono1.flatMap(\n        res1 -&gt; mono2.flatMap(\n            res2 -&gt; mono3.map(\n                res3 -&gt; res1 + res2 + res3\n            )\n        )\n    ).subscribe(r -&gt; log.info(&quot;Mono.flatMap ends here. &quot; + r));\n\n\n    Thread.sleep(10000l);\n}\n</code></pre>\n"}],"owner":{"account_id":981983,"reputation":1898,"user_id":1001490,"accept_rate":80,"display_name":"wrm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75722704,"answer_count":1,"score":0,"last_activity_date":1678714954,"creation_date":1678713485,"question_id":75722397,"body_markdown":"when calling three different services and waiting for the response in parallel, such as this:\r\n\r\n    Mono&lt;A&gt; mono1 = service1.call().scheduleOn(Schedulers.parallel());\r\n    Mono&lt;B&gt; mono2 = service2.call().scheduleOn(Schedulers.parallel());\r\n    Mono&lt;C&gt; mono3 = service3.call().scheduleOn(Schedulers.parallel());\r\n\r\ni can now do this to wait for all results:\r\n\r\n    Mono.zip(mono1, mono2, mono3).map(t -&gt; {\r\n      A res1 = t.getT1();\r\n      B res2 = t.getT2();\r\n      C res3 = t.getT3(); \r\n      ...\r\n    })\r\n\r\nor i can do this:\r\n\r\n    mono1.flatMap(res1 -&gt; mono2.flatMap( res2 -&gt; mono3.map( res3 -&gt; {\r\n      ...\r\n    }\r\n\r\nfor Flux, this is a difference, i think, but whats the difference in THIS scenario (except being a bit more convoluted)\r\n","title":"Reactor Mono zip+map vs flatMap/Map","body":"<p>when calling three different services and waiting for the response in parallel, such as this:</p>\n<pre><code>Mono&lt;A&gt; mono1 = service1.call().scheduleOn(Schedulers.parallel());\nMono&lt;B&gt; mono2 = service2.call().scheduleOn(Schedulers.parallel());\nMono&lt;C&gt; mono3 = service3.call().scheduleOn(Schedulers.parallel());\n</code></pre>\n<p>i can now do this to wait for all results:</p>\n<pre><code>Mono.zip(mono1, mono2, mono3).map(t -&gt; {\n  A res1 = t.getT1();\n  B res2 = t.getT2();\n  C res3 = t.getT3(); \n  ...\n})\n</code></pre>\n<p>or i can do this:</p>\n<pre><code>mono1.flatMap(res1 -&gt; mono2.flatMap( res2 -&gt; mono3.map( res3 -&gt; {\n  ...\n}\n</code></pre>\n<p>for Flux, this is a difference, i think, but whats the difference in THIS scenario (except being a bit more convoluted)</p>\n"},{"tags":["java","spring","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1678714566,"post_id":75720828,"comment_id":133581825,"body_markdown":"Why does it matter to you? The parentheses are mostly cosmetic in this case...","body":"Why does it matter to you? The parentheses are mostly cosmetic in this case..."},{"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"score":0,"creation_date":1678758127,"post_id":75720828,"comment_id":133592014,"body_markdown":"you right!! was just curious. thanks for your answering. jooq is very smart application. i love jooq develop team.","body":"you right!! was just curious. thanks for your answering. jooq is very smart application. i love jooq develop team."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678714798,"creation_date":1678714798,"answer_id":75722660,"question_id":75720828,"body_markdown":"## Why did you get the parentheses:\r\n\r\nWhen you use plain SQL templates of a certain type, like `Condition`, jOOQ will always wrap them in parentheses to make sure the template doesn&#39;t get broken by operator precedence rules. Imagine e.g.\r\n\r\n```java\r\nal.NAME.eq(&quot;x&quot;).and(  condition(&quot;something or something_else&quot;)  )\r\n```\r\n\r\nAs you can see, the plain SQL template is passed to the `and()` method, so the expectation is that its contents should have a higher precedence than the `AND` operator. In this case, you want the outcome to be:\r\n\r\n```sql\r\nname = &#39;x&#39; and (  something or something_else  )\r\n```\r\n\r\nNot this (where `and` now has higher precedence than `or`):\r\n\r\n```sql\r\nname = &#39;x&#39; and something or something_else\r\n```\r\n\r\nThe assumption being that these parentheses sometimes being unnecessary being only a cosmetic problem, like in your case.\r\n\r\n## How to work around this\r\n\r\nIf you really don&#39;t like the parentheses around the predicate, you could work around it e.g. by writing this:\r\n\r\n```java\r\ninline(&quot;address&quot;).eq(field(&quot;decode({0}, {1})&quot;, String.class, address, escape)\r\n```\r\n\r\nThe same parenthesising logic isn&#39;t implemented for `Field` templates at the same location.","title":"how use JOOQ plain SQL templating?","body":"<h2>Why did you get the parentheses:</h2>\n<p>When you use plain SQL templates of a certain type, like <code>Condition</code>, jOOQ will always wrap them in parentheses to make sure the template doesn't get broken by operator precedence rules. Imagine e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>al.NAME.eq(&quot;x&quot;).and(  condition(&quot;something or something_else&quot;)  )\n</code></pre>\n<p>As you can see, the plain SQL template is passed to the <code>and()</code> method, so the expectation is that its contents should have a higher precedence than the <code>AND</code> operator. In this case, you want the outcome to be:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>name = 'x' and (  something or something_else  )\n</code></pre>\n<p>Not this (where <code>and</code> now has higher precedence than <code>or</code>):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>name = 'x' and something or something_else\n</code></pre>\n<p>The assumption being that these parentheses sometimes being unnecessary being only a cosmetic problem, like in your case.</p>\n<h2>How to work around this</h2>\n<p>If you really don't like the parentheses around the predicate, you could work around it e.g. by writing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>inline(&quot;address&quot;).eq(field(&quot;decode({0}, {1})&quot;, String.class, address, escape)\n</code></pre>\n<p>The same parenthesising logic isn't implemented for <code>Field</code> templates at the same location.</p>\n"}],"owner":{"account_id":18061143,"reputation":41,"user_id":13128245,"display_name":"JoneNa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678714798,"creation_date":1678704359,"question_id":75720828,"body_markdown":"postgres query : \r\n\r\n    select * from message t  where &quot;address&quot; = decode(&#39;0x159159159526212521&#39;,&#39;escape&#39;)\r\n\r\n\r\ndevelop code :\r\n\r\n    Field&lt;String&gt; address = val(&quot;0x159159159526212521&quot;);\r\n    Field&lt;String&gt; escape = val(&quot;escape&quot;);\r\n\r\n    rdbmsJooqContext.select(\r\n                al.NAME.as(&quot;name&quot;),\r\n                al.ADDRESS.as(&quot;address&quot;)\r\n        ).from(al)\r\n                .where(\r\n                        condition(&quot; &#39;address&#39; = decode({0}, {1})&quot;, address, escape)\r\n                ).fetchInto(AddressLabelResult.class);\r\n\r\njooq query result:\r\n\r\n    where ( &#39;address&#39; = decode(&#39;0x159159159526212521&#39;, &#39;escape&#39;))\r\n\r\n\r\ni want to jooq query result:\r\n\r\n    where &#39;address&#39; = decode(&#39;0x159159159526212521&#39;, &#39;escape&#39;)\r\n\r\n\r\nhow delete &quot;where sql&quot; &#39;(&#39; and &#39;)&#39; ??\r\n\r\n","title":"how use JOOQ plain SQL templating?","body":"<p>postgres query :</p>\n<pre><code>select * from message t  where &quot;address&quot; = decode('0x159159159526212521','escape')\n</code></pre>\n<p>develop code :</p>\n<pre><code>Field&lt;String&gt; address = val(&quot;0x159159159526212521&quot;);\nField&lt;String&gt; escape = val(&quot;escape&quot;);\n\nrdbmsJooqContext.select(\n            al.NAME.as(&quot;name&quot;),\n            al.ADDRESS.as(&quot;address&quot;)\n    ).from(al)\n            .where(\n                    condition(&quot; 'address' = decode({0}, {1})&quot;, address, escape)\n            ).fetchInto(AddressLabelResult.class);\n</code></pre>\n<p>jooq query result:</p>\n<pre><code>where ( 'address' = decode('0x159159159526212521', 'escape'))\n</code></pre>\n<p>i want to jooq query result:</p>\n<pre><code>where 'address' = decode('0x159159159526212521', 'escape')\n</code></pre>\n<p>how delete &quot;where sql&quot; '(' and ')' ??</p>\n"},{"tags":["java","spring","mongodb","spring-boot","http"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1679082322,"post_id":75722626,"comment_id":133663586,"body_markdown":"can you https://stackoverflow.com/help/minimal-reproducible-example ?","body":"can you <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a> ?"}],"owner":{"account_id":26021209,"reputation":11,"user_id":19728893,"display_name":"Sergio Camilo Espinosa Botero"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678714606,"creation_date":1678714606,"question_id":75722626,"body_markdown":"I am building an application with Spring Boot and MongoDB. I have the following classes:\r\n \r\n    @Data\r\n    @Document\r\n    public class Folder{\r\n        @Id\r\n        private String id;\r\n        private String name;\r\n        private double size;\r\n        private ArrayList&lt;Folder&gt; folders;\r\n        private ArrayList&lt;File&gt; files;\r\n    \r\n        public Folder(ArrayList&lt;Folder&gt; folders, ArrayList&lt;File&gt; files, String name) {\r\n            this.folders = folders;\r\n            this.files = files;\r\n            this.size = 0;\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n    @Data\r\n    @Document\r\n    public class File{\r\n        @Id\r\n        private String id;\r\n        private String type;\r\n        private String name;\r\n        private double size;\r\n        private Binary fileData;\r\n    \r\n        /*\r\n        public File(String type, String name, double size) {\r\n            this.type = type;\r\n            this.name = name;\r\n            this.size = size;\r\n        }*/\r\n    \r\n    \r\n        public File(MultipartFile file) throws IOException {\r\n            this.type = file.getContentType();\r\n            this.name = file.getOriginalFilename();\r\n            this.size = file.getSize();\r\n            //this.file = new Binary(BsonBinarySubType.BINARY, file.getBytes());\r\n        }\r\n    }\r\n\r\nI have the service and controller for folder the following way:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/folder&quot;)\r\n    @AllArgsConstructor\r\n    public class FolderController {\r\n    \r\n        private final FolderService folderService;\r\n    \r\n    \r\n        @RequestMapping(value = &quot;/newFile&quot;, method = RequestMethod.PUT)\r\n        //@RequestParam(&quot;newFile&quot;) MultipartFile newFile\r\n        public String newFile(String diskName, String route,@RequestParam(&quot;newFile&quot;) MultipartFile newFile) throws IOException {\r\n            System.out.println(newFile);\r\n            folderService.newFile(diskName, route, newFile);\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    @AllArgsConstructor\r\n    @Service\r\n    public class FolderService {\r\n        //@Autowired\r\n        private final DiskRepository diskRepository;\r\n        //private final MongoTemplate mongoTemplate;\r\n        private final MongoOperations mongoOperations;\r\n    \r\n        public String newFile(String diskName, String route, MultipartFile file) throws IOException{\r\n            File newFile = new File(file);\r\n            newFile.setFileData(new Binary(BsonBinarySubType.BINARY,file.getBytes()));\r\n            System.out.println(newFile);\r\n            //fileRepository.insert(newFile);\r\n    \r\n            ArrayList&lt;String&gt; foldersList = new ArrayList&lt;&gt;(Arrays.asList(route.split(&quot;/&quot;)));\r\n    \r\n            Disk disk = diskRepository.findDiskByNamed(diskName);\r\n            System.out.println(&quot;Hello world&quot;);\r\n            Folder folder1 = disk.folderByName(foldersList.get(0));\r\n    \r\n            for(int i = 1; i&lt; foldersList.size(); i++){\r\n                folder1 = folder1.folderByName(foldersList.get(i));\r\n            }\r\n    \r\n            if(!folder1.getFileNames().contains(newFile.getName())){\r\n    \r\n                folder1.addToFiles(newFile);\r\n                //folderRepository.save(folder1);\r\n                mongoOperations.save(disk);\r\n            }else{\r\n                throw new IllegalStateException(&quot;There&#39;s already a file with this name here&quot;);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nWhen a insert a first file via Postman it works, but when I try to insert a second file or do another request, I get the following exception:\r\n\r\n    ERROR 32460 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.mapping.MappingException: No property file found on entity class com.fileExplorer.swarch_proy_fileExplorer.File to bind constructor parameter to] with root cause\r\n    \r\n    org.springframework.data.mapping.MappingException: No property file found on entity class com.fileExplorer.swarch_proy_fileExplorer.File to bind constructor parameter to\r\n\r\nWhat can be happening here?","title":"org.springframework.data.mapping.MappingException: No property file found on entity class using Spring and MongoDB","body":"<p>I am building an application with Spring Boot and MongoDB. I have the following classes:</p>\n<pre><code>@Data\n@Document\npublic class Folder{\n    @Id\n    private String id;\n    private String name;\n    private double size;\n    private ArrayList&lt;Folder&gt; folders;\n    private ArrayList&lt;File&gt; files;\n\n    public Folder(ArrayList&lt;Folder&gt; folders, ArrayList&lt;File&gt; files, String name) {\n        this.folders = folders;\n        this.files = files;\n        this.size = 0;\n        this.name = name;\n    }\n}\n\n@Data\n@Document\npublic class File{\n    @Id\n    private String id;\n    private String type;\n    private String name;\n    private double size;\n    private Binary fileData;\n\n    /*\n    public File(String type, String name, double size) {\n        this.type = type;\n        this.name = name;\n        this.size = size;\n    }*/\n\n\n    public File(MultipartFile file) throws IOException {\n        this.type = file.getContentType();\n        this.name = file.getOriginalFilename();\n        this.size = file.getSize();\n        //this.file = new Binary(BsonBinarySubType.BINARY, file.getBytes());\n    }\n}\n</code></pre>\n<p>I have the service and controller for folder the following way:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/folder&quot;)\n@AllArgsConstructor\npublic class FolderController {\n\n    private final FolderService folderService;\n\n\n    @RequestMapping(value = &quot;/newFile&quot;, method = RequestMethod.PUT)\n    //@RequestParam(&quot;newFile&quot;) MultipartFile newFile\n    public String newFile(String diskName, String route,@RequestParam(&quot;newFile&quot;) MultipartFile newFile) throws IOException {\n        System.out.println(newFile);\n        folderService.newFile(diskName, route, newFile);\n        return &quot;&quot;;\n    }\n}\n\n@AllArgsConstructor\n@Service\npublic class FolderService {\n    //@Autowired\n    private final DiskRepository diskRepository;\n    //private final MongoTemplate mongoTemplate;\n    private final MongoOperations mongoOperations;\n\n    public String newFile(String diskName, String route, MultipartFile file) throws IOException{\n        File newFile = new File(file);\n        newFile.setFileData(new Binary(BsonBinarySubType.BINARY,file.getBytes()));\n        System.out.println(newFile);\n        //fileRepository.insert(newFile);\n\n        ArrayList&lt;String&gt; foldersList = new ArrayList&lt;&gt;(Arrays.asList(route.split(&quot;/&quot;)));\n\n        Disk disk = diskRepository.findDiskByNamed(diskName);\n        System.out.println(&quot;Hello world&quot;);\n        Folder folder1 = disk.folderByName(foldersList.get(0));\n\n        for(int i = 1; i&lt; foldersList.size(); i++){\n            folder1 = folder1.folderByName(foldersList.get(i));\n        }\n\n        if(!folder1.getFileNames().contains(newFile.getName())){\n\n            folder1.addToFiles(newFile);\n            //folderRepository.save(folder1);\n            mongoOperations.save(disk);\n        }else{\n            throw new IllegalStateException(&quot;There's already a file with this name here&quot;);\n        }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>When a insert a first file via Postman it works, but when I try to insert a second file or do another request, I get the following exception:</p>\n<pre><code>ERROR 32460 --- [nio-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.data.mapping.MappingException: No property file found on entity class com.fileExplorer.swarch_proy_fileExplorer.File to bind constructor parameter to] with root cause\n\norg.springframework.data.mapping.MappingException: No property file found on entity class com.fileExplorer.swarch_proy_fileExplorer.File to bind constructor parameter to\n</code></pre>\n<p>What can be happening here?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678553744,"post_id":75704670,"comment_id":133556645,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26597524,"reputation":1,"user_id":20219626,"display_name":"Padre Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678714591,"creation_date":1678714531,"answer_id":75722609,"question_id":75704670,"body_markdown":"Looking at your screenshot, Your Element is present at the first instance out of other 5 elements, You can change your Xpath as below to click the first occurrence of that element\r\n\r\n    (//label[@class=&#39;k-checkbox-label k-no-text&#39;])[1]\r\n\r\nNote that I have closed your Xpath with open and close brackets, and given the integer &#39;1&#39; inside square brackets, which means the driver will find the first occurrence of that element.\r\n","title":"Element is not interactable due to dynamic id using selenium with java","body":"<p>Looking at your screenshot, Your Element is present at the first instance out of other 5 elements, You can change your Xpath as below to click the first occurrence of that element</p>\n<pre><code>(//label[@class='k-checkbox-label k-no-text'])[1]\n</code></pre>\n<p>Note that I have closed your Xpath with open and close brackets, and given the integer '1' inside square brackets, which means the driver will find the first occurrence of that element.</p>\n"}],"owner":{"account_id":27989873,"reputation":1,"user_id":21375958,"display_name":"Mukund"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678714591,"creation_date":1678534902,"question_id":75704670,"body_markdown":"I am new in selenium. I am facing problem while selecting checkbox but my script returns `org.openqa.selenium.ElementNotInteractableException: element not interactable: element has zero size` I only have 1 class attribute in HTML to identify the checkbox element. \r\n\r\nI tried using XPath - `//label[@class=&#39;k-checkbox-label k-no-text&#39;]` but 5 checkbox elements are found. I am able to find the checkbox element when I hover my mouse on :: before\r\n\r\nBelow is the details:\r\n\r\n[![HTML][1]][1]\r\n\r\n```\r\nSLF4J: No SLF4J providers were found.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 3377\r\nOnly local connections are allowed.\r\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\nChromeDriver was started successfully.\r\n[1678533192.649][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\r\n[1678533192.656][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\r\nMar 11, 2023 4:43:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\nWARNING: Unable to find an exact match for CDP version 111, so returning the closest version found: 110\r\nException in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable: element has zero size\r\n  (Session info: chrome=111.0.5563.64)\r\nBuild info: version: &#39;4.8.1&#39;, revision: &#39;8ebccac989&#39;\r\nSystem info: os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.6&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [4b1fabc44ae8e1e79c8e00d32813d494, clickElement {id=15a5a2eb-1f11-4702-8a33-d3d83624cd1f}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.64, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\MKUCHE~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:51423}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:51423/devtoo..., se:cdpVersion: 111.0.5563.64, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\r\nElement: [[ChromeDriver: chrome on WINDOWS (4b1fabc44ae8e1e79c8e00d32813d494)] -&gt; xpath: //label[@class=&#39;k-checkbox-label k-no-text&#39;][position()=1]]\r\nSession ID: 4b1fabc44ae8e1e79c8e00d32813d494\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\r\n\tat org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\r\n\tat Demo.TestPage.main(TestPage.java:57)\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/vY558.png","title":"Element is not interactable due to dynamic id using selenium with java","body":"<p>I am new in selenium. I am facing problem while selecting checkbox but my script returns <code>org.openqa.selenium.ElementNotInteractableException: element not interactable: element has zero size</code> I only have 1 class attribute in HTML to identify the checkbox element.</p>\n<p>I tried using XPath - <code>//label[@class='k-checkbox-label k-no-text']</code> but 5 checkbox elements are found. I am able to find the checkbox element when I hover my mouse on :: before</p>\n<p>Below is the details:</p>\n<p><a href=\"https://i.stack.imgur.com/vY558.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vY558.png\" alt=\"HTML\" /></a></p>\n<pre><code>SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nStarting ChromeDriver 110.0.5481.77 (65ed616c6e8ee3fe0ad64fe83796c020644d42af-refs/branch-heads/5481@{#839}) on port 3377\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n[1678533192.649][WARNING]: This version of ChromeDriver has not been tested with Chrome version 111.\n[1678533192.656][WARNING]: virtual void DevToolsClientImpl::AddListener(DevToolsEventListener *) subscribing a listener to the already connected DevToolsClient. Connection notification will not arrive.\nMar 11, 2023 4:43:12 PM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 111, so returning the closest version found: 110\nException in thread &quot;main&quot; org.openqa.selenium.ElementNotInteractableException: element not interactable: element has zero size\n  (Session info: chrome=111.0.5563.64)\nBuild info: version: '4.8.1', revision: '8ebccac989'\nSystem info: os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.6'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [4b1fabc44ae8e1e79c8e00d32813d494, clickElement {id=15a5a2eb-1f11-4702-8a33-d3d83624cd1f}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 111.0.5563.64, chrome: {chromedriverVersion: 110.0.5481.77 (65ed616c6e8e..., userDataDir: C:\\Users\\MKUCHE~1\\AppData\\L...}, goog:chromeOptions: {debuggerAddress: localhost:51423}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: WINDOWS, proxy: Proxy(), se:cdp: ws://localhost:51423/devtoo..., se:cdpVersion: 111.0.5563.64, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:virtualAuthenticators: true}\nElement: [[ChromeDriver: chrome on WINDOWS (4b1fabc44ae8e1e79c8e00d32813d494)] -&gt; xpath: //label[@class='k-checkbox-label k-no-text'][position()=1]]\nSession ID: 4b1fabc44ae8e1e79c8e00d32813d494\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:184)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:257)\n    at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:78)\n    at Demo.TestPage.main(TestPage.java:57)\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678714486,"creation_date":1678714486,"question_id":75722598,"body_markdown":"We are having muliple test classes in our codebase that are annotated with `@Tag(&quot;integration-test)`\r\n\r\nWe want to execute these test classes as quick as possible, so we don&#39;t want Maven to build/compile/download anything. Maven really should only execute the methods inside those classes, nothing more.\r\n\r\nAt the moment we are using `mvn test -P integration-test` but this builds a whole lot of stuff. Unfortunately, I couldn&#39;t prevent this using `maven.skip.compile` and other related arguments..\r\n\r\nDo you have any ideas?","title":"Maven: Execute Test Classes with @Tag without building","body":"<p>We are having muliple test classes in our codebase that are annotated with <code>@Tag(&quot;integration-test)</code></p>\n<p>We want to execute these test classes as quick as possible, so we don't want Maven to build/compile/download anything. Maven really should only execute the methods inside those classes, nothing more.</p>\n<p>At the moment we are using <code>mvn test -P integration-test</code> but this builds a whole lot of stuff. Unfortunately, I couldn't prevent this using <code>maven.skip.compile</code> and other related arguments..</p>\n<p>Do you have any ideas?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678714479,"creation_date":1678714479,"answer_id":75722596,"question_id":75583900,"body_markdown":"I&#39;ll assume your 2D array is already filled with attendance values \r\nYou need to create 3 temp variables\r\n\r\n    {\r\n           int room= 0;\r\n           int movie= 0;\r\n           int largestAttendace= Main.attendants[room][movie];\r\n        \r\n            for (int i = 0; i &lt; 15; i++) {\r\n                    for (int j = 0; j &lt; 7; j++) {\r\n                       if (Main.attendants[i][j] &gt; largestAttendace) {\r\n                          largestAttendace = Main.attendants[i][j]\r\n                          room = i; //save row\r\n                          movie = j; // save col\r\n                        }\r\n                        \r\n                    }\r\n                }\r\n        \r\n        System.out.println( &quot;The largest attendace is &quot; + largestAttendace  + &quot; room is &quot; + room + &quot; for movie &quot; + movie);\r\n    }","title":"How to find the largest value among 15 values ​that correspond to the total sum of 15 rows in Java?","body":"<p>I'll assume your 2D array is already filled with attendance values\nYou need to create 3 temp variables</p>\n<pre><code>{\n       int room= 0;\n       int movie= 0;\n       int largestAttendace= Main.attendants[room][movie];\n    \n        for (int i = 0; i &lt; 15; i++) {\n                for (int j = 0; j &lt; 7; j++) {\n                   if (Main.attendants[i][j] &gt; largestAttendace) {\n                      largestAttendace = Main.attendants[i][j]\n                      room = i; //save row\n                      movie = j; // save col\n                    }\n                    \n                }\n            }\n    \n    System.out.println( &quot;The largest attendace is &quot; + largestAttendace  + &quot; room is &quot; + room + &quot; for movie &quot; + movie);\n}\n</code></pre>\n"}],"owner":{"account_id":27784599,"reputation":3,"user_id":21212325,"display_name":"Santiago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":1,"score":-6,"last_activity_date":1678714479,"creation_date":1677520161,"question_id":75583900,"body_markdown":"I have a 15x7 matrix, in which I store the number of attendees who have seen the 15 movies in each of the 7 rooms, I need to know which is the most viewed movie and for that I add the total number of attendees for each movie, however, I don&#39;t know how to find the largest value among the 15 total sums.\r\nI have the following code. I appreciate if you could help me\r\n```java\r\nprivate void PeliculaMasVistaButtonActionPerformed(java.awt.event.ActionEvent evt) {\r\n    Main window = new Main();\r\n\r\n    //Add rows to know the total number of attendees per movie\r\n    int sumRows;\r\n    for (int i = 0; i &lt; 15; i++) {\r\n        sumRows = 0;\r\n        for (int j = 0; j &lt; 7; j++) {\r\n            sumRows += Main.attendants[i][j];\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to find the largest value among 15 values ​that correspond to the total sum of 15 rows in Java?","body":"<p>I have a 15x7 matrix, in which I store the number of attendees who have seen the 15 movies in each of the 7 rooms, I need to know which is the most viewed movie and for that I add the total number of attendees for each movie, however, I don't know how to find the largest value among the 15 total sums.\nI have the following code. I appreciate if you could help me</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void PeliculaMasVistaButtonActionPerformed(java.awt.event.ActionEvent evt) {\n    Main window = new Main();\n\n    //Add rows to know the total number of attendees per movie\n    int sumRows;\n    for (int i = 0; i &lt; 15; i++) {\n        sumRows = 0;\n        for (int j = 0; j &lt; 7; j++) {\n            sumRows += Main.attendants[i][j];\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","maven","swagger-codegen"],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678714322,"creation_date":1678714322,"question_id":75722554,"body_markdown":"I have one big API from a provider. I use only 3 operations (end points) out for more than 50. \r\n\r\nIs there a way to generate client based only on tags ? since if i generate all, it adds unnecessary classes (req/reposnse objects etc.) to my classpath. \r\n\r\nI use maven to generate the same. \r\n","title":"How can I generate client code based on tags?","body":"<p>I have one big API from a provider. I use only 3 operations (end points) out for more than 50.</p>\n<p>Is there a way to generate client based only on tags ? since if i generate all, it adds unnecessary classes (req/reposnse objects etc.) to my classpath.</p>\n<p>I use maven to generate the same.</p>\n"},{"tags":["java","rx-java","reactive-programming","rx-java2"],"answers":[{"tags":[],"owner":{"account_id":2368363,"reputation":92154,"user_id":2073595,"display_name":"dano"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1678714029,"creation_date":1678714029,"answer_id":75722504,"question_id":75722079,"body_markdown":"When you call an `Observable` operator, it returns a new `Observable` - it does not mutate the original. So your code would need to look like this:\r\n\r\n    public Observable&lt;Void&gt; performValidation(SomeObject obj) {\r\n            Observable&lt;Void&gt; result = Observable.just(null);\r\n    \r\n            if (obj.getId() != null) {\r\n                result = result.mergeWith(Observable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\r\n            }\r\n    \r\n            if (obj.getName() != null) {\r\n                result = result.mergeWith(Observable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\r\n            }\r\n    \r\n            return result;\r\n        }\r\n\r\nHowever, I also think this code would not work, because returning an Observable with a `null` value in it isn&#39;t actually supported; calling `Observable.just(null)` will throw a `NullPointerException` in RxJava2+. Here&#39;s the actual implementation in RxJava2:\r\n\r\n    public static &lt;T&gt; Observable&lt;T&gt; just(T item) {\r\n        ObjectHelper.requireNonNull(item, &quot;item is null&quot;);\r\n        return RxJavaPlugins.onAssembly(new ObservableJust(item));\r\n    }\r\n\r\n\r\n You&#39;d need to use a dummy value instead, or even better, have this method return `Completable`. `Completable` is intended to be used in cases where there is no value to be emitted from an Rx chain, meaning it simply succeeds or fails. Also note that this method doesn&#39;t really need to use RxJava at all, it can just be plain Java and throw an Exception directly. You would just call it in a `doOnNext` operator in your `Observable` chain.\r\n\r\nYour code is also not styled as idiomatic RxJava - it is an anti-pattern to assign an `Observable` to a local variable repeatedly the way you do. This is closer to the &quot;proper&quot; way, if you were to implement this method to return a `Completable`:\r\n\r\n    public Completable performValidation(SomeObject obj) {\r\n        return Observable.just(obj)\r\n            .flatMapCompletable(obj -&gt; {\r\n                if (obj.getId() != null) {\r\n                    return Completable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\r\n                }\r\n    \r\n                if (obj.getName() != null) {\r\n                    return Completable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\r\n                }\r\n                return Completable.complete();\r\n            });\r\n    }","title":"RxJava - Conditional merging operations and asserting exception","body":"<p>When you call an <code>Observable</code> operator, it returns a new <code>Observable</code> - it does not mutate the original. So your code would need to look like this:</p>\n<pre><code>public Observable&lt;Void&gt; performValidation(SomeObject obj) {\n        Observable&lt;Void&gt; result = Observable.just(null);\n\n        if (obj.getId() != null) {\n            result = result.mergeWith(Observable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\n        }\n\n        if (obj.getName() != null) {\n            result = result.mergeWith(Observable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\n        }\n\n        return result;\n    }\n</code></pre>\n<p>However, I also think this code would not work, because returning an Observable with a <code>null</code> value in it isn't actually supported; calling <code>Observable.just(null)</code> will throw a <code>NullPointerException</code> in RxJava2+. Here's the actual implementation in RxJava2:</p>\n<pre><code>public static &lt;T&gt; Observable&lt;T&gt; just(T item) {\n    ObjectHelper.requireNonNull(item, &quot;item is null&quot;);\n    return RxJavaPlugins.onAssembly(new ObservableJust(item));\n}\n</code></pre>\n<p>You'd need to use a dummy value instead, or even better, have this method return <code>Completable</code>. <code>Completable</code> is intended to be used in cases where there is no value to be emitted from an Rx chain, meaning it simply succeeds or fails. Also note that this method doesn't really need to use RxJava at all, it can just be plain Java and throw an Exception directly. You would just call it in a <code>doOnNext</code> operator in your <code>Observable</code> chain.</p>\n<p>Your code is also not styled as idiomatic RxJava - it is an anti-pattern to assign an <code>Observable</code> to a local variable repeatedly the way you do. This is closer to the &quot;proper&quot; way, if you were to implement this method to return a <code>Completable</code>:</p>\n<pre><code>public Completable performValidation(SomeObject obj) {\n    return Observable.just(obj)\n        .flatMapCompletable(obj -&gt; {\n            if (obj.getId() != null) {\n                return Completable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\n            }\n\n            if (obj.getName() != null) {\n                return Completable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\n            }\n            return Completable.complete();\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":6740288,"reputation":2238,"user_id":5193747,"accept_rate":47,"display_name":"Kamil W"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75722504,"answer_count":1,"score":0,"last_activity_date":1678714029,"creation_date":1678711824,"question_id":75722079,"body_markdown":"I&#39;m having one method which performs multiple conditional validations. I&#39;d merge all validation into stream and assert if any exception occured.\r\n\r\n```java\r\npublic Observable&lt;Void&gt; performValidation(SomeObject obj) {\r\n        Observable&lt;Void&gt; result = Observable.just(null);\r\n\r\n        if (obj.getId() != null) {\r\n            result.mergeWith(Observable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\r\n        }\r\n\r\n        if (obj.getName() != null) {\r\n            result.mergeWith(Observable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\r\n        }\r\n\r\n        return result;\r\n    }\r\n```\r\n\r\nLater I peform assertion (let&#39;s assume that in someObj id is not null and name is null):\r\n```java\r\nperformValidation(someObj)\r\n                .test()\r\n                .awaitTerminalEvent()\r\n                .assertNoValues()\r\n                .assertError(RuntimeException.class)\r\n```\r\nAnd code fails with this exception:  \r\n`java.lang.AssertionError: No errors (1 completion)`\r\n\r\nIt looks like first validation, didn&#39;t merge with `result` object. What did I missed?","title":"RxJava - Conditional merging operations and asserting exception","body":"<p>I'm having one method which performs multiple conditional validations. I'd merge all validation into stream and assert if any exception occured.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Observable&lt;Void&gt; performValidation(SomeObject obj) {\n        Observable&lt;Void&gt; result = Observable.just(null);\n\n        if (obj.getId() != null) {\n            result.mergeWith(Observable.error(new RuntimeException(&quot;Validation 1 Fails&quot;)));\n        }\n\n        if (obj.getName() != null) {\n            result.mergeWith(Observable.error(new IllegalArgumentException(&quot;Validation 2 Fails&quot;)));\n        }\n\n        return result;\n    }\n</code></pre>\n<p>Later I peform assertion (let's assume that in someObj id is not null and name is null):</p>\n<pre class=\"lang-java prettyprint-override\"><code>performValidation(someObj)\n                .test()\n                .awaitTerminalEvent()\n                .assertNoValues()\n                .assertError(RuntimeException.class)\n</code></pre>\n<p>And code fails with this exception:<br />\n<code>java.lang.AssertionError: No errors (1 completion)</code></p>\n<p>It looks like first validation, didn't merge with <code>result</code> object. What did I missed?</p>\n"},{"tags":["java","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678713757,"post_id":75722373,"comment_id":133581559,"body_markdown":"Does that contain the hostname? If so, which hostname is it? The one used in the latest/current request?","body":"Does that contain the hostname? If so, which hostname is it? The one used in the latest/current request?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1678713901,"post_id":75722373,"comment_id":133581600,"body_markdown":"@f1sh Yes, it contains the hostname and it&#39;s obtained from the current request. Docs: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/support/ServletUriComponentsBuilder.html#fromContextPath(jakarta.servlet.http.HttpServletRequest)","body":"@f1sh Yes, it contains the hostname and it&#39;s obtained from the current request. Docs: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/support/ServletUriComponentsBuilder.html#fromContextPath(jakarta.servlet.http.HttpServletRequest)\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":4497597,"reputation":181,"user_id":3657024,"display_name":"rpajaziti"},"score":0,"creation_date":1686144066,"post_id":75722373,"comment_id":134758671,"body_markdown":"How does this not have a single vote at all. This was the solution for me 100%. \nPort, http/https, hostname all were solved. It also contains the app context. Thanks","body":"How does this not have a single vote at all. This was the solution for me 100%.  Port, http/https, hostname all were solved. It also contains the app context. Thanks"},{"owner":{"account_id":899108,"reputation":1915,"user_id":935715,"display_name":"Steve Mitchell"},"score":0,"creation_date":1694397910,"post_id":75722373,"comment_id":135881271,"body_markdown":"Doesn&#39;t work if you&#39;re not handling a request.","body":"Doesn&#39;t work if you&#39;re not handling a request."}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678713318,"creation_date":1678713318,"answer_id":75722373,"question_id":75722327,"body_markdown":"You can use `ServletUriComponentsBuilder`.\r\n\r\n```java\r\nimport org.springframework.web.servlet.support.ServletUriComponentsBuilder;\r\n// ...\r\nString homeURL = ServletUriComponentsBuilder.fromCurrentContextPath().toUriString();\r\n```","title":"How to get host url in spring boot controller?","body":"<p>You can use <code>ServletUriComponentsBuilder</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.servlet.support.ServletUriComponentsBuilder;\n// ...\nString homeURL = ServletUriComponentsBuilder.fromCurrentContextPath().toUriString();\n</code></pre>\n"}],"owner":{"account_id":7908530,"reputation":29,"user_id":5973244,"display_name":"jayaraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75722373,"answer_count":1,"score":2,"last_activity_date":1678713318,"creation_date":1678713085,"question_id":75722327,"body_markdown":"I want to generate dynamic URL for my home page, how to get host URL in spring boot app.\r\n\r\nget Host url \r\n exp: https://localhost:8080/\r\n","title":"How to get host url in spring boot controller?","body":"<p>I want to generate dynamic URL for my home page, how to get host URL in spring boot app.</p>\n<p>get Host url\nexp: https://localhost:8080/</p>\n"},{"tags":["java","apache-kafka","spring-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678456802,"post_id":75696720,"comment_id":133541065,"body_markdown":"You could try joining a third stream with the output topic of two others","body":"You could try joining a third stream with the output topic of two others"},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1678457773,"post_id":75696720,"comment_id":133541349,"body_markdown":"I&#39;ve updated the question with the problem I found","body":"I&#39;ve updated the question with the problem I found"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678460586,"post_id":75696720,"comment_id":133542253,"body_markdown":"How are you &quot;publishing&quot; data? Kafka producers don&#39;t immediately send unless you call flush function","body":"How are you &quot;publishing&quot; data? Kafka producers don&#39;t immediately send unless you call flush function"},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1678461230,"post_id":75696720,"comment_id":133542452,"body_markdown":"I&#39;m using the CLI: `./kafka-console-producer.sh --bootstrap-server localhost:9092 --property &quot;parse.key=true&quot; --property &quot;key.separator=:&quot; --topic x`. When I write in the three topics, the merge is immediate. If I publish in just one, or two, nothing happens until more messages have been published in the three topics.","body":"I&#39;m using the CLI: <code>.&#47;kafka-console-producer.sh --bootstrap-server localhost:9092 --property &quot;parse.key=true&quot; --property &quot;key.separator=:&quot; --topic x</code>. When I write in the three topics, the merge is immediate. If I publish in just one, or two, nothing happens until more messages have been published in the three topics."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1678544661,"post_id":75696720,"comment_id":133555076,"body_markdown":"There&#39;s a `--sync` flag for the console producer. As mentioned, records aren&#39;t immediately flushed by a producer unless you explicitly do it","body":"There&#39;s a <code>--sync</code> flag for the console producer. As mentioned, records aren&#39;t immediately flushed by a producer unless you explicitly do it"},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1678566342,"post_id":75696720,"comment_id":133559921,"body_markdown":"@OneCricketeer I appreciate your suggestion, however that doesn&#39;t seem to be the cause. Records were actually being sent to the topics but, for some reason, the full processing of the window is not performed until new out-of-the-window records arrive. I&#39;m gonna provide a Github sample for anyone interested in this.","body":"@OneCricketeer I appreciate your suggestion, however that doesn&#39;t seem to be the cause. Records were actually being sent to the topics but, for some reason, the full processing of the window is not performed until new out-of-the-window records arrive. I&#39;m gonna provide a Github sample for anyone interested in this."},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1678567089,"post_id":75696720,"comment_id":133560040,"body_markdown":"Sample added: https://github.com/codependent/kstream-multijoin","body":"Sample added: <a href=\"https://github.com/codependent/kstream-multijoin\" rel=\"nofollow noreferrer\">github.com/codependent/kstream-multijoin</a>"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678712688,"creation_date":1678454789,"question_id":75696720,"body_markdown":"Sample reproducing this problem: https://github.com/codependent/kstream-multijoin\r\n\r\nI have three topics and a KStream application reading from them.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nx, y, and z will get messages and I want to process them using a window in the KStream app.\r\n\r\nThe point is, in the same window sometimes I&#39;ll get messages from only one topic, two topics, or event the three of them at the same time:\r\n\r\n```\r\nWindow 1 ---&gt; merged(z)\r\nWindow 2 ---&gt; merged(x + z)\r\nWindow 3 ---&gt; merged(x + y + z)\r\nWindow 4 ---&gt; merged(x)\r\n...\r\n```\r\n\r\nCan you join more than two topics (KStreams) at the same time in a window?\r\n\r\nDoes it support the processing shown in the window above?\r\n\r\n**UPDATE:**\r\nSo far I tried this:\r\n\r\n```\r\n    public KStream&lt;String, String&gt; joinedKStream(StreamsBuilder kStreamBuilder) {\r\n        KStream&lt;String, String&gt; streamX = kStreamBuilder.stream(&quot;x&quot;);\r\n        KStream&lt;String, String&gt; streamY = kStreamBuilder.stream(&quot;y&quot;);\r\n        KStream&lt;String, String&gt; streamZ = kStreamBuilder.stream(&quot;z&quot;);\r\n\r\n        KStream&lt;String, String&gt; stream = streamX\r\n                .leftJoin(streamY, (s, s2) -&gt; {\r\n                    logger.info(&quot;Join x + y: {}-{}&quot;, s, s2);\r\n                    return s + s2;\r\n                }, JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofSeconds(20)))\r\n                .leftJoin(streamZ, (s, s2) -&gt; {\r\n                    logger.info(&quot;Join xy + z: {}-{}&quot;, s, s2);\r\n                    return s + s2;\r\n                }, JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofSeconds(20)));\r\n        stream.to(&quot;merged&quot;);\r\n        return stream;\r\n    }\r\n```\r\n\r\nIf I only publish one message &quot;msg&quot; in topic z I was expecting a message consisting of nullnullmsg. However it doesn&#39;t seem to merge when the only input is z.\r\n\r\nIt seems there needs to be a message in topic x for the join to work but I need to join in a window from any topic.\r\n\r\n**UPDATE 2**\r\n\r\nLogically I needed an outerJoin:\r\n\r\n```\r\n    @Bean\r\n    public KStream&lt;String, String&gt; joinedKStream(StreamsBuilder kStreamBuilder) {\r\n        KStream&lt;String, String&gt; streamX = kStreamBuilder.stream(&quot;x&quot;);\r\n        streamX.peek((k, v) -&gt; logger.info(&quot;x - key {} - value {}&quot;, k, v));\r\n        KStream&lt;String, String&gt; streamY = kStreamBuilder.stream(&quot;y&quot;);\r\n        streamY.peek((k, v) -&gt; logger.info(&quot;y - key {} - value {}&quot;, k, v));\r\n        KStream&lt;String, String&gt; streamZ = kStreamBuilder.stream(&quot;z&quot;);\r\n        streamZ.peek((k, v) -&gt; logger.info(&quot;z - key {} - value {}&quot;, k, v));\r\n\r\n        //JoinWindows joinWindow = JoinWindows.of(Duration.ofSeconds(5)).grace(Duration.ofSeconds(1));\r\n        JoinWindows joinWindow = JoinWindows.ofTimeDifferenceAndGrace(Duration.ofSeconds(5), Duration.ofSeconds(10));\r\n\r\n        KStream&lt;String, String&gt; stream = streamX\r\n                .outerJoin(streamY, (k, s, s2) -&gt; {\r\n                    logger.info(&quot;Join x + y: key {} - values {}-{}&quot;, k, s, s2);\r\n                    return s + s2;\r\n                }, joinWindow)\r\n                .outerJoin(streamZ, (k, s, s2) -&gt; {\r\n                    logger.info(&quot;Join xy + z: key {} - values {}-{}&quot;, k, s, s2);\r\n                    return s + s2;\r\n                }, joinWindow);\r\n        stream.foreach((key, value) -&gt; logger.info(&quot;Merged key {} - value {}&quot;, key, value));\r\n        stream.to(&quot;merged&quot;);\r\n        return stream;\r\n```\r\n\r\nBUT there&#39;s still a problem:\r\n\r\nI send &quot;hey&quot; to topic y and &quot;you!&quot; to topic z. A long time passes and nothing shows up in the merged topic.\r\n\r\nAt some point, after some more messages have been published, the join is performed and `nullheyyo!` shows up in the merged topic. Why this delay? \r\n\r\nWhat&#39;s more if no knew messages are published in any topic, the previous ones are not joined. I expected that after the window period has finished, the merges would be automatically flushed.\r\n\r\nHere&#39;s an example of what&#39;s going on:\r\n\r\n - I publish 1:1 to topic x\r\n - The xKStream logs: `x - key 1 - value 1`\r\n - After the duration of the window + the grace period (15 secs) no join happens.\r\n - I publish 2:2 to topic x \r\n - Logs:\r\n\r\n```\r\nx - key 2 - value 2\r\nJoin x + y: key 1 - values 1-null\r\n```\r\n\r\n - As you can see, there&#39;s nothing about the second join yet.\r\n - Finally when I publish another record 3:3 to x:\r\n```\r\nx - key 3 - value 3\r\nJoin x + y: key 2 - values 2-null\r\nJoin xy + z: key 1 - values 1null-null\r\nMerged key 1 - value 1nullnull\r\n```\r\n\r\nFinally we get the merged log, and the joined record is flushed to the merged topic.\r\n\r\n???\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qJGJD.png","title":"Why incomplete results from an outerJoin sliding window of KStreams is not flushed until new unrelated records arrive later?","body":"<p>Sample reproducing this problem: <a href=\"https://github.com/codependent/kstream-multijoin\" rel=\"nofollow noreferrer\">https://github.com/codependent/kstream-multijoin</a></p>\n<p>I have three topics and a KStream application reading from them.</p>\n<p><a href=\"https://i.stack.imgur.com/qJGJD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qJGJD.png\" alt=\"enter image description here\" /></a></p>\n<p>x, y, and z will get messages and I want to process them using a window in the KStream app.</p>\n<p>The point is, in the same window sometimes I'll get messages from only one topic, two topics, or event the three of them at the same time:</p>\n<pre><code>Window 1 ---&gt; merged(z)\nWindow 2 ---&gt; merged(x + z)\nWindow 3 ---&gt; merged(x + y + z)\nWindow 4 ---&gt; merged(x)\n...\n</code></pre>\n<p>Can you join more than two topics (KStreams) at the same time in a window?</p>\n<p>Does it support the processing shown in the window above?</p>\n<p><strong>UPDATE:</strong>\nSo far I tried this:</p>\n<pre><code>    public KStream&lt;String, String&gt; joinedKStream(StreamsBuilder kStreamBuilder) {\n        KStream&lt;String, String&gt; streamX = kStreamBuilder.stream(&quot;x&quot;);\n        KStream&lt;String, String&gt; streamY = kStreamBuilder.stream(&quot;y&quot;);\n        KStream&lt;String, String&gt; streamZ = kStreamBuilder.stream(&quot;z&quot;);\n\n        KStream&lt;String, String&gt; stream = streamX\n                .leftJoin(streamY, (s, s2) -&gt; {\n                    logger.info(&quot;Join x + y: {}-{}&quot;, s, s2);\n                    return s + s2;\n                }, JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofSeconds(20)))\n                .leftJoin(streamZ, (s, s2) -&gt; {\n                    logger.info(&quot;Join xy + z: {}-{}&quot;, s, s2);\n                    return s + s2;\n                }, JoinWindows.ofTimeDifferenceWithNoGrace(Duration.ofSeconds(20)));\n        stream.to(&quot;merged&quot;);\n        return stream;\n    }\n</code></pre>\n<p>If I only publish one message &quot;msg&quot; in topic z I was expecting a message consisting of nullnullmsg. However it doesn't seem to merge when the only input is z.</p>\n<p>It seems there needs to be a message in topic x for the join to work but I need to join in a window from any topic.</p>\n<p><strong>UPDATE 2</strong></p>\n<p>Logically I needed an outerJoin:</p>\n<pre><code>    @Bean\n    public KStream&lt;String, String&gt; joinedKStream(StreamsBuilder kStreamBuilder) {\n        KStream&lt;String, String&gt; streamX = kStreamBuilder.stream(&quot;x&quot;);\n        streamX.peek((k, v) -&gt; logger.info(&quot;x - key {} - value {}&quot;, k, v));\n        KStream&lt;String, String&gt; streamY = kStreamBuilder.stream(&quot;y&quot;);\n        streamY.peek((k, v) -&gt; logger.info(&quot;y - key {} - value {}&quot;, k, v));\n        KStream&lt;String, String&gt; streamZ = kStreamBuilder.stream(&quot;z&quot;);\n        streamZ.peek((k, v) -&gt; logger.info(&quot;z - key {} - value {}&quot;, k, v));\n\n        //JoinWindows joinWindow = JoinWindows.of(Duration.ofSeconds(5)).grace(Duration.ofSeconds(1));\n        JoinWindows joinWindow = JoinWindows.ofTimeDifferenceAndGrace(Duration.ofSeconds(5), Duration.ofSeconds(10));\n\n        KStream&lt;String, String&gt; stream = streamX\n                .outerJoin(streamY, (k, s, s2) -&gt; {\n                    logger.info(&quot;Join x + y: key {} - values {}-{}&quot;, k, s, s2);\n                    return s + s2;\n                }, joinWindow)\n                .outerJoin(streamZ, (k, s, s2) -&gt; {\n                    logger.info(&quot;Join xy + z: key {} - values {}-{}&quot;, k, s, s2);\n                    return s + s2;\n                }, joinWindow);\n        stream.foreach((key, value) -&gt; logger.info(&quot;Merged key {} - value {}&quot;, key, value));\n        stream.to(&quot;merged&quot;);\n        return stream;\n</code></pre>\n<p>BUT there's still a problem:</p>\n<p>I send &quot;hey&quot; to topic y and &quot;you!&quot; to topic z. A long time passes and nothing shows up in the merged topic.</p>\n<p>At some point, after some more messages have been published, the join is performed and <code>nullheyyo!</code> shows up in the merged topic. Why this delay?</p>\n<p>What's more if no knew messages are published in any topic, the previous ones are not joined. I expected that after the window period has finished, the merges would be automatically flushed.</p>\n<p>Here's an example of what's going on:</p>\n<ul>\n<li>I publish 1:1 to topic x</li>\n<li>The xKStream logs: <code>x - key 1 - value 1</code></li>\n<li>After the duration of the window + the grace period (15 secs) no join happens.</li>\n<li>I publish 2:2 to topic x</li>\n<li>Logs:</li>\n</ul>\n<pre><code>x - key 2 - value 2\nJoin x + y: key 1 - values 1-null\n</code></pre>\n<ul>\n<li>As you can see, there's nothing about the second join yet.</li>\n<li>Finally when I publish another record 3:3 to x:</li>\n</ul>\n<pre><code>x - key 3 - value 3\nJoin x + y: key 2 - values 2-null\nJoin xy + z: key 1 - values 1null-null\nMerged key 1 - value 1nullnull\n</code></pre>\n<p>Finally we get the merged log, and the joined record is flushed to the merged topic.</p>\n<p>???</p>\n"},{"tags":["java","maven","settings"],"comments":[{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1474375006,"post_id":39594137,"comment_id":66497194,"body_markdown":"the section option may work with the `-s` or `-gs` [options](http://books.sonatype.com/mvnref-book/reference/running-sect-options.html) to point at a specific settings file, in conjunction with the [`.mvn/maven.config`](https://maven.apache.org/docs/3.3.1/release-notes.html) file to not to repeat them at each and every command, but still IDEs would need to be configured accordingly also. There is no ideal solution imho. Being pragmatic, a newsletter+wiki would probably work fine.","body":"the section option may work with the <code>-s</code> or <code>-gs</code> <a href=\"http://books.sonatype.com/mvnref-book/reference/running-sect-options.html\" rel=\"nofollow noreferrer\">options</a> to point at a specific settings file, in conjunction with the <a href=\"https://maven.apache.org/docs/3.3.1/release-notes.html\" rel=\"nofollow noreferrer\"><code>.mvn&#47;maven.config</code></a> file to not to repeat them at each and every command, but still IDEs would need to be configured accordingly also. There is no ideal solution imho. Being pragmatic, a newsletter+wiki would probably work fine."}],"answers":[{"tags":[],"owner":{"account_id":239851,"reputation":1760,"user_id":509723,"accept_rate":82,"display_name":"ike3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474377753,"creation_date":1474377203,"answer_id":39595112,"question_id":39594137,"body_markdown":"You could create a symlink to some network share containing your settings.xml.\r\n\r\nFor example, in Windows:\r\n\r\n    mklink C:\\Users\\username\\.m2\\settings.xml \\\\server\\share\\settings.xml\r\n\r\nThis needs to be done one time on all developer machines.\r\nThen maven and all other IDEs should treat this file as local.\r\n\r\nP.S. Newsletter and wiki could be better approach though. Some devs may still need to modify their settings.xml sometimes for a special project or so. It is better to leave them in control of their dev environment.","title":"Distribution of settings.xml for Maven","body":"<p>You could create a symlink to some network share containing your settings.xml.</p>\n\n<p>For example, in Windows:</p>\n\n<pre><code>mklink C:\\Users\\username\\.m2\\settings.xml \\\\server\\share\\settings.xml\n</code></pre>\n\n<p>This needs to be done one time on all developer machines.\nThen maven and all other IDEs should treat this file as local.</p>\n\n<p>P.S. Newsletter and wiki could be better approach though. Some devs may still need to modify their settings.xml sometimes for a special project or so. It is better to leave them in control of their dev environment.</p>\n"}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678712683,"creation_date":1474374577,"question_id":39594137,"body_markdown":"Every developer in our company needs a settings.xml file for using Maven. This settings.xml file is completely equal for each developer (we do not have any passwords etc. in it). Occasionally, it will be edited by the build manager.\r\n\r\nWhat is an easy way to distribute new versions of settings.xml?\r\n\r\nTheoretically, I can think of three possibilities:\r\n\r\n1. Write a newsletter and tell everyone to copy the new settings.xml from a central source.\r\n\r\n2. Put the settings.xml on a network drive and tell Maven to grab it from the globally valid path (how?)\r\n\r\n3. Use the Nexus mechanism of settings.xml templates. I understood that the user can grab a new version by using a Maven goal (so again, writing a newsletter &quot;Please update!&quot;) but I am not sure whether it can be run in batch mode inside (each) build process.\r\n\r\nWhich approach is the most practical one?","title":"Distribution of settings.xml for Maven","body":"<p>Every developer in our company needs a settings.xml file for using Maven. This settings.xml file is completely equal for each developer (we do not have any passwords etc. in it). Occasionally, it will be edited by the build manager.</p>\n\n<p>What is an easy way to distribute new versions of settings.xml?</p>\n\n<p>Theoretically, I can think of three possibilities:</p>\n\n<ol>\n<li><p>Write a newsletter and tell everyone to copy the new settings.xml from a central source.</p></li>\n<li><p>Put the settings.xml on a network drive and tell Maven to grab it from the globally valid path (how?)</p></li>\n<li><p>Use the Nexus mechanism of settings.xml templates. I understood that the user can grab a new version by using a Maven goal (so again, writing a newsletter \"Please update!\") but I am not sure whether it can be run in batch mode inside (each) build process.</p></li>\n</ol>\n\n<p>Which approach is the most practical one?</p>\n"},{"tags":["java","docusignapi","war"],"comments":[{"owner":{"account_id":3941825,"reputation":12917,"user_id":3255871,"display_name":"Inbar Gazit"},"score":0,"creation_date":1678477334,"post_id":75694681,"comment_id":133546622,"body_markdown":"What is the name of the war file you created?","body":"What is the name of the war file you created?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678558658,"post_id":75694681,"comment_id":133558196,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27862690,"reputation":11,"user_id":21274859,"display_name":"LMi"},"score":0,"creation_date":1678695010,"post_id":75694681,"comment_id":133576304,"body_markdown":"Name of the war file:\ncode-examples-java-1.0-SNAPSHOT","body":"Name of the war file: code-examples-java-1.0-SNAPSHOT"}],"owner":{"account_id":27862690,"reputation":11,"user_id":21274859,"display_name":"LMi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678712619,"creation_date":1678442488,"question_id":75694681,"body_markdown":"i created a war file for code-examples-java in STS (spring tool site), and when i try to run it, it shows this:\r\n\r\n&gt; HTTP Status 404 – Not Found Type Status Report\r\n&gt; \r\n&gt; Message The requested resource [/code-examples-java-1.0-SNAPSHOT/] is\r\n&gt; not available\r\n&gt; \r\n&gt; Description The origin server did not find a current representation\r\n&gt; for the target resource or is not willing to disclose that one\r\n&gt; exists.\r\n\r\ni did not change anything i just get it from github and exported as a war file.\r\nin the IDE it works everything fine, but not in the tomcat.\r\n\r\nin the log files it does not appear any error.\r\n\r\nName of the war file is: code-examples-java-1.0-SNAPSHOT\r\n\r\ni use Tomcat 9.0.48  and java version 11\r\n\r\n","title":"docusign war file not running","body":"<p>i created a war file for code-examples-java in STS (spring tool site), and when i try to run it, it shows this:</p>\n<blockquote>\n<p>HTTP Status 404 – Not Found Type Status Report</p>\n<p>Message The requested resource [/code-examples-java-1.0-SNAPSHOT/] is\nnot available</p>\n<p>Description The origin server did not find a current representation\nfor the target resource or is not willing to disclose that one\nexists.</p>\n</blockquote>\n<p>i did not change anything i just get it from github and exported as a war file.\nin the IDE it works everything fine, but not in the tomcat.</p>\n<p>in the log files it does not appear any error.</p>\n<p>Name of the war file is: code-examples-java-1.0-SNAPSHOT</p>\n<p>i use Tomcat 9.0.48  and java version 11</p>\n"},{"tags":["java","xml","xml-serialization"],"answers":[{"comments":[{"owner":{"account_id":113208,"reputation":206,"user_id":298272,"accept_rate":100,"display_name":"Andy"},"score":0,"creation_date":1270653539,"post_id":2593307,"comment_id":2601445,"body_markdown":"there are public getters and setters. I just stripped them out to save size and cause I thought they didnt matter for the output. my bad.","body":"there are public getters and setters. I just stripped them out to save size and cause I thought they didnt matter for the output. my bad."}],"tags":[],"owner":{"account_id":110220,"reputation":37362,"user_id":291741,"accept_rate":87,"display_name":"Chris Lercher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1270650825,"creation_date":1270650825,"answer_id":2593307,"question_id":2593211,"body_markdown":"XMLEncoder works on public getters and setters: http://www.exampledepot.com/egs/java.beans/WriteXml.html\r\n\r\nI wonder, why the other properties (like author) are in the file at all (?) Try adding public `getQuestions()` and `setQuestions()` methods.","title":"Exporting to XML, including embedded classes","body":"<p>XMLEncoder works on public getters and setters: <a href=\"http://www.exampledepot.com/egs/java.beans/WriteXml.html\" rel=\"nofollow noreferrer\">http://www.exampledepot.com/egs/java.beans/WriteXml.html</a></p>\n\n<p>I wonder, why the other properties (like author) are in the file at all (?) Try adding public <code>getQuestions()</code> and <code>setQuestions()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":35821,"reputation":15653,"user_id":101762,"accept_rate":87,"display_name":"Persimmonium"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1678619579,"creation_date":1270651380,"answer_id":2593376,"question_id":2593211,"body_markdown":"[Xstream][1] deals with this much better, from their description:\r\n\r\n- Requires no modifications to objects. \r\n- Serializes internal fields, including private and final. \r\n- Supports non-public and inner classes. \r\n- Classes are not required to have default constructor.\r\n\r\n\r\n  [1]: https://x-stream.github.io/","title":"Exporting to XML, including embedded classes","body":"<p><a href=\"https://x-stream.github.io/\" rel=\"nofollow noreferrer\">Xstream</a> deals with this much better, from their description:</p>\n<ul>\n<li>Requires no modifications to objects.</li>\n<li>Serializes internal fields, including private and final.</li>\n<li>Supports non-public and inner classes.</li>\n<li>Classes are not required to have default constructor.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678712201,"creation_date":1678712201,"answer_id":75722153,"question_id":2593211,"body_markdown":"[Jackson][1] is a competent library that started as a **JSON** library/parser but now has support for **XML** as well as [Smile][2], [(Java) Properties][3], [YAML][4], CSV, CBOR, TOML, Avro, Protobuf and more.  \r\n\r\nFor XML, you could use it like this:  \r\n\r\n    /**\r\n     * A method to write all the questions in xml format to a file.\r\n     * @return                 a boolean;\r\n     *                         true if successful,\r\n     *                         false if not successful\r\n     */\r\n    private static boolean writeQuestionsToXml() {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        String absolutePath = getQuestionsAbsolutePath();\r\n\r\n        try {\r\n            xmlMapper.writeValue(new File(absolutePath), questions);\r\n    //        System.out.println(new XMLMapper().writeValueAsString(questions));\r\n            return true;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * A method to get the absolute path to the questions file.\r\n     * E.g.: &quot;D:\\Project\\questions.xml&quot;\r\n     * @return                 a string with the absolute path to the questions file\r\n     */\r\n    private static String getQuestionsAbsolutePath () {\r\n        return &quot;&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;\\\\&quot; + &quot;questions.xml&quot;\r\n    }\r\n\r\nSome useful links:  \r\n[How to Marshal and Unmarshal XML with Jackson][5]  \r\n[Libraries - IntelliJ&#160;IDEA Documentation][6]\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: https://en.wikipedia.org/wiki/Smile_(data_interchange_format)\r\n  [3]: https://en.wikipedia.org/wiki/.properties\r\n  [4]: https://en.wikipedia.org/wiki/YAML\r\n  [5]: https://howtodoinjava.com/jackson/jackson-xml-conversions/\r\n  [6]: https://www.jetbrains.com/help/idea/library.html","title":"Exporting to XML, including embedded classes","body":"<p><a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a> is a competent library that started as a <strong>JSON</strong> library/parser but now has support for <strong>XML</strong> as well as <a href=\"https://en.wikipedia.org/wiki/Smile_(data_interchange_format)\" rel=\"nofollow noreferrer\">Smile</a>, <a href=\"https://en.wikipedia.org/wiki/.properties\" rel=\"nofollow noreferrer\">(Java) Properties</a>, <a href=\"https://en.wikipedia.org/wiki/YAML\" rel=\"nofollow noreferrer\">YAML</a>, CSV, CBOR, TOML, Avro, Protobuf and more.</p>\n<p>For XML, you could use it like this:</p>\n<pre><code>/**\n * A method to write all the questions in xml format to a file.\n * @return                 a boolean;\n *                         true if successful,\n *                         false if not successful\n */\nprivate static boolean writeQuestionsToXml() {\n    XmlMapper xmlMapper = new XmlMapper();\n    String absolutePath = getQuestionsAbsolutePath();\n\n    try {\n        xmlMapper.writeValue(new File(absolutePath), questions);\n//        System.out.println(new XMLMapper().writeValueAsString(questions));\n        return true;\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n\n/**\n * A method to get the absolute path to the questions file.\n * E.g.: &quot;D:\\Project\\questions.xml&quot;\n * @return                 a string with the absolute path to the questions file\n */\nprivate static String getQuestionsAbsolutePath () {\n    return &quot;&quot; + System.getProperty(&quot;user.dir&quot;) + &quot;\\\\&quot; + &quot;questions.xml&quot;\n}\n</code></pre>\n<p>Some useful links:<br />\n<a href=\"https://howtodoinjava.com/jackson/jackson-xml-conversions/\" rel=\"nofollow noreferrer\">How to Marshal and Unmarshal XML with Jackson</a><br />\n<a href=\"https://www.jetbrains.com/help/idea/library.html\" rel=\"nofollow noreferrer\">Libraries - IntelliJ IDEA Documentation</a></p>\n"}],"owner":{"account_id":113208,"reputation":206,"user_id":298272,"accept_rate":100,"display_name":"Andy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2196,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2593376,"answer_count":3,"score":5,"last_activity_date":1678712201,"creation_date":1270650083,"question_id":2593211,"body_markdown":"I have an object *config* which has some properties. I can export this ok, however, it also has an ArrayList which relates to embedded classes which I can&#39;t get to appear when I export to XML. Any pointers would be helpful.\r\n\r\n**Export Method**\r\n\r\n    public String exportXML(config conf, String path) {\r\n        String success = &quot;&quot;;\r\n        try {\r\n            FileOutputStream fstream = new FileOutputStream(path);\r\n            try {\r\n                XMLEncoder ostream = new XMLEncoder(fstream);\r\n                try {\r\n                    ostream.writeObject(conf);\r\n                    ostream.flush();\r\n                } finally {\r\n                    ostream.close();\r\n                }\r\n            } finally {\r\n                fstream.close();\r\n            }\r\n        } catch (Exception ex) {\r\n            success = ex.getLocalizedMessage();\r\n        }\r\n        return success;\r\n    }\r\n\r\n\r\n**Config Class** *(some detail stripped to keep size down)*\r\n\r\n    public class config {\r\n\r\n    protected String author = &quot;&quot;;\r\n    protected String website = &quot;&quot;;\r\n    private ArrayList questions = new ArrayList();\r\n\r\n    public config(){\r\n    }\r\n\r\n    public void addQuestion(String name) {\r\n        questions.add(new question(questions.size(), name));\r\n    }\r\n\r\n    public void removeQuestion(int id) {\r\n        questions.remove(id);\r\n        for (int c = 0; c &lt;= questions.size(); c++) {\r\n            question q = (question) (questions.get(id));\r\n            q.setId(c);\r\n        }\r\n        questions.trimToSize();\r\n    }\r\n\r\n    public config.question getQuestion(int id){\r\n        return (question)questions.get(id);\r\n    }\r\n    \r\n\r\n    /**\r\n     * There can be multiple questions per config.\r\n     * Questions store all the information regarding what questions are\r\n     * asked of the user, including images, descriptions, and answers.\r\n     */\r\n    public class question {\r\n\r\n        protected int id;\r\n        protected String title;\r\n\t\tprotected ArrayList answers;\r\n\t\t\r\n        public question(int id, String title) {\r\n            this.id = id;\r\n            this.title = title;\r\n        }\r\n\t\t\r\n\t\tpublic int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void addAnswer(String name) {\r\n            answers.add(new answer(answers.size(), name));\r\n        }\r\n\r\n        public void removeAnswer(int id) {\r\n            answers.remove(id);\r\n            for (int c = 0; c &lt;= answers.size(); c++) {\r\n                answer a = (answer) (answers.get(id));\r\n                a.setId(c);\r\n            }\r\n            answers.trimToSize();\r\n        }\r\n\r\n        public config.question.answer getAnswer(int id){\r\n            return (answer)answers.get(id);\r\n        }\r\n\r\n        public class answer {\r\n\r\n            protected int id;\r\n            protected String title;\r\n\t\t\t\r\n\t\t\tpublic answer(int id, String title) {\r\n                this.id = id;\r\n                this.title = title;\r\n            }\r\n\t\t\t\r\n\t\t\tpublic int getId() {\r\n                return id;\r\n            }\r\n\r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n**Resultant XML File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n    &lt;java version=&quot;1.6.0_18&quot; class=&quot;java.beans.XMLDecoder&quot;&gt; \r\n     &lt;object class=&quot;libConfig.config&quot;&gt; \r\n      &lt;void property=&quot;appName&quot;&gt; \r\n       &lt;string&gt;xxx&lt;/string&gt; \r\n      &lt;/void&gt; \r\n      &lt;void property=&quot;author&quot;&gt; \r\n       &lt;string&gt;Andy&lt;/string&gt; \r\n      &lt;/void&gt; \r\n      &lt;void property=&quot;website&quot;&gt; \r\n       &lt;string&gt;www.example.com/dsx.xml&lt;/string&gt; \r\n      &lt;/void&gt; \r\n     &lt;/object&gt; \r\n    &lt;/java&gt; \r\n","title":"Exporting to XML, including embedded classes","body":"<p>I have an object <em>config</em> which has some properties. I can export this ok, however, it also has an ArrayList which relates to embedded classes which I can't get to appear when I export to XML. Any pointers would be helpful.</p>\n\n<p><strong>Export Method</strong></p>\n\n<pre><code>public String exportXML(config conf, String path) {\n    String success = \"\";\n    try {\n        FileOutputStream fstream = new FileOutputStream(path);\n        try {\n            XMLEncoder ostream = new XMLEncoder(fstream);\n            try {\n                ostream.writeObject(conf);\n                ostream.flush();\n            } finally {\n                ostream.close();\n            }\n        } finally {\n            fstream.close();\n        }\n    } catch (Exception ex) {\n        success = ex.getLocalizedMessage();\n    }\n    return success;\n}\n</code></pre>\n\n<p><strong>Config Class</strong> <em>(some detail stripped to keep size down)</em></p>\n\n<pre><code>public class config {\n\nprotected String author = \"\";\nprotected String website = \"\";\nprivate ArrayList questions = new ArrayList();\n\npublic config(){\n}\n\npublic void addQuestion(String name) {\n    questions.add(new question(questions.size(), name));\n}\n\npublic void removeQuestion(int id) {\n    questions.remove(id);\n    for (int c = 0; c &lt;= questions.size(); c++) {\n        question q = (question) (questions.get(id));\n        q.setId(c);\n    }\n    questions.trimToSize();\n}\n\npublic config.question getQuestion(int id){\n    return (question)questions.get(id);\n}\n\n\n/**\n * There can be multiple questions per config.\n * Questions store all the information regarding what questions are\n * asked of the user, including images, descriptions, and answers.\n */\npublic class question {\n\n    protected int id;\n    protected String title;\n    protected ArrayList answers;\n\n    public question(int id, String title) {\n        this.id = id;\n        this.title = title;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public void addAnswer(String name) {\n        answers.add(new answer(answers.size(), name));\n    }\n\n    public void removeAnswer(int id) {\n        answers.remove(id);\n        for (int c = 0; c &lt;= answers.size(); c++) {\n            answer a = (answer) (answers.get(id));\n            a.setId(c);\n        }\n        answers.trimToSize();\n    }\n\n    public config.question.answer getAnswer(int id){\n        return (answer)answers.get(id);\n    }\n\n    public class answer {\n\n        protected int id;\n        protected String title;\n\n        public answer(int id, String title) {\n            this.id = id;\n            this.title = title;\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Resultant XML File</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n&lt;java version=\"1.6.0_18\" class=\"java.beans.XMLDecoder\"&gt; \n &lt;object class=\"libConfig.config\"&gt; \n  &lt;void property=\"appName\"&gt; \n   &lt;string&gt;xxx&lt;/string&gt; \n  &lt;/void&gt; \n  &lt;void property=\"author\"&gt; \n   &lt;string&gt;Andy&lt;/string&gt; \n  &lt;/void&gt; \n  &lt;void property=\"website\"&gt; \n   &lt;string&gt;www.example.com/dsx.xml&lt;/string&gt; \n  &lt;/void&gt; \n &lt;/object&gt; \n&lt;/java&gt; \n</code></pre>\n"},{"tags":["java","spring","hibernate","exception","spring-transactions"],"comments":[{"owner":{"account_id":2159241,"reputation":4206,"user_id":1913790,"display_name":"Manuel Quinones"},"score":0,"creation_date":1367938104,"post_id":16421508,"comment_id":23547801,"body_markdown":"So far everything looks fine and it should be rolling back the transaction.  Is there a possibility that the transaction could be starting higher up the call stack.  Maybe if you add the spring config where you configure the transactions it would help.","body":"So far everything looks fine and it should be rolling back the transaction.  Is there a possibility that the transaction could be starting higher up the call stack.  Maybe if you add the spring config where you configure the transactions it would help."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1367938209,"post_id":16421508,"comment_id":23547881,"body_markdown":"I don&#39;t believe your `MyService` class is getting proxied at all. The rollback you are seeing is coming from the db, not from the transaction.","body":"I don&#39;t believe your <code>MyService</code> class is getting proxied at all. The rollback you are seeing is coming from the db, not from the transaction."},{"owner":{"account_id":274902,"reputation":1209,"user_id":567420,"display_name":"fpmoles"},"score":0,"creation_date":1367939723,"post_id":16421508,"comment_id":23548976,"body_markdown":"Please post your configuration and your call stack with method signatures/annotations so we can better evaluate the situation.","body":"Please post your configuration and your call stack with method signatures/annotations so we can better evaluate the situation."},{"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"score":0,"creation_date":1367992000,"post_id":16421508,"comment_id":23568028,"body_markdown":"@Moles-JWS i have added the configuration and other dependencies,please check the update","body":"@Moles-JWS i have added the configuration and other dependencies,please check the update"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1367995424,"post_id":16421508,"comment_id":23569263,"body_markdown":"What method are you calling from the outside of the service? addCustomer() doesn&#39;t do anything other than throwing an exception. Do you call addState(), in reality?","body":"What method are you calling from the outside of the service? addCustomer() doesn&#39;t do anything other than throwing an exception. Do you call addState(), in reality?"},{"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"score":0,"creation_date":1367995830,"post_id":16421508,"comment_id":23569427,"body_markdown":"@JBNizet yes, I am calling addState() from a main method ,please check the update part.","body":"@JBNizet yes, I am calling addState() from a main method ,please check the update part."},{"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"score":0,"creation_date":1367996048,"post_id":16421508,"comment_id":23569527,"body_markdown":"if there is an IntegrityConstraintsException of mysql then transaction is successfully rollback but when i throw an Exception of type Exception then transaction is not getting rollbacked","body":"if there is an IntegrityConstraintsException of mysql then transaction is successfully rollback but when i throw an Exception of type Exception then transaction is not getting rollbacked"}],"answers":[{"comments":[{"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"score":0,"creation_date":1367999108,"post_id":16434476,"comment_id":23570944,"body_markdown":"thanks jb , It was my fault...it was a silly mistake and cant be acceptable.","body":"thanks jb , It was my fault...it was a silly mistake and cant be acceptable."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1367996118,"creation_date":1367996118,"answer_id":16434476,"question_id":16421508,"body_markdown":"Your transaction is not rollbacked because there is no exception thrown: the `addState()` method that you call catches the exception:\r\n\r\n    public void addState() {\r\n        try {\r\n            State state=new State();\r\n            state.setStateName(&quot;Delhi&quot;);\r\n            stateDao.create(state);\r\n            addCity();\r\n            addCustomer();\r\n        }\r\n        catch(Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nSo the transactional Spring proxy doesn&#39;t see any exception thrown and doesn&#39;t rollback the transaction.\r\n\r\nIt works for exceptions thrown from the DAO because the DAO is itself transactional, so its own transactional proxy detects the exception being thrown by the DAO and marks the transaction for rollback. The exception is then propagated to the service and caught by your code, but the transaction is already marked for rollback at this point.","title":"How to rollback Spring Transaction when an Exception is thrown","body":"<p>Your transaction is not rollbacked because there is no exception thrown: the <code>addState()</code> method that you call catches the exception:</p>\n\n<pre><code>public void addState() {\n    try {\n        State state=new State();\n        state.setStateName(\"Delhi\");\n        stateDao.create(state);\n        addCity();\n        addCustomer();\n    }\n    catch(Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>So the transactional Spring proxy doesn't see any exception thrown and doesn't rollback the transaction.</p>\n\n<p>It works for exceptions thrown from the DAO because the DAO is itself transactional, so its own transactional proxy detects the exception being thrown by the DAO and marks the transaction for rollback. The exception is then propagated to the service and caught by your code, but the transaction is already marked for rollback at this point.</p>\n"},{"tags":[],"owner":{"account_id":448055,"reputation":1447,"user_id":842056,"accept_rate":62,"display_name":"Sachin Gorade"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1367996247,"creation_date":1367996247,"answer_id":16434497,"question_id":16421508,"body_markdown":"Your transaction is not getting rolled back because you are not letting Exception to reach to Spring framework, you are catching the exception in your code itself.\r\nSo instead of \r\n\r\n    public void addState() \r\n    {\r\n            try\r\n            {\r\n            State state=new State();\r\n            state.setStateName(&quot;Delhi&quot;);\r\n            stateDao.create(state);\r\n            addCity();\r\n            addCustomer();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n    \r\n                e.printStackTrace();\r\n            }\r\n    }\r\n\r\nuse\r\n\r\n    public void addState() \r\n    {\r\n            State state=new State();\r\n            state.setStateName(&quot;Delhi&quot;);\r\n            stateDao.create(state);\r\n            addCity();\r\n            addCustomer();\r\n    }","title":"How to rollback Spring Transaction when an Exception is thrown","body":"<p>Your transaction is not getting rolled back because you are not letting Exception to reach to Spring framework, you are catching the exception in your code itself.\nSo instead of </p>\n\n<pre><code>public void addState() \n{\n        try\n        {\n        State state=new State();\n        state.setStateName(\"Delhi\");\n        stateDao.create(state);\n        addCity();\n        addCustomer();\n        }\n        catch(Exception e)\n        {\n\n            e.printStackTrace();\n        }\n}\n</code></pre>\n\n<p>use</p>\n\n<pre><code>public void addState() \n{\n        State state=new State();\n        state.setStateName(\"Delhi\");\n        stateDao.create(state);\n        addCity();\n        addCustomer();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7551216,"reputation":21,"user_id":5732559,"display_name":"user2929"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467380993,"creation_date":1467380993,"answer_id":38147164,"question_id":16421508,"body_markdown":"The transaction has not been rolled back, because you are catching the exception yourself, by writing catch block..\r\n\r\nThis can be done in normal cases, but in spring transaction, if you do so, how does spring transaction manager knows the exception is happening.. thats why it is not getting rolled back.","title":"How to rollback Spring Transaction when an Exception is thrown","body":"<p>The transaction has not been rolled back, because you are catching the exception yourself, by writing catch block..</p>\n\n<p>This can be done in normal cases, but in spring transaction, if you do so, how does spring transaction manager knows the exception is happening.. thats why it is not getting rolled back.</p>\n"},{"tags":[],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508120941,"creation_date":1508120941,"answer_id":46762132,"question_id":16421508,"body_markdown":"You can find answers to most questions in Spring API doc. \r\n`@Transactional` has a field `Class&lt;? extends Throwable&gt;[] rollbackFor()`:\r\n\r\n&gt; By default, a transaction will be rolling back on `RuntimeException` and\r\n&gt; `Error` but not on checked exceptions (business exceptions).See `org.springframework.transaction.interceptor.DefaultTransactionAttribute.rollbackOn(Throwable)` for a detailed explanation.\r\n\r\nMeaning that, for the following cases, no matter how the caller deal with exceptions, only the first `RunTimeException` case would call roleback by default.\r\n\r\n    // Only this case would roll back by default\r\n    @Override\r\n    @Transactional\r\n    public void testRollbackRuntimeException() {\r\n        // jpa operation.\r\n        throw new RuntimeException(&quot;test exception&quot;);\r\n    }\r\n    \r\n    // never roll back, because its caught.\r\n    @Override\r\n    @Transactional\r\n    public void testRollbackRuntimeExceptionCaught() {\r\n        try {\r\n            throw new RuntimeException(&quot;test exception&quot;);\r\n        } catch(Exception e) {}\r\n    }\r\n    \r\n    // @Transactional(rollbackFor = Exception.class) would also rollback. but by default no\r\n    @Override\r\n    @Transactional\r\n    public void  testRollBackWithExceptionCaught() throws Exception {\r\n        throw new Exception(&quot;test exception&quot;);\r\n    }\r\n    \r\n    // never roll back because the checked exception is caught.\r\n    @Override\r\n    @Transactional\r\n    public void  testRollBackWithExceptionCaught() {\r\n        try {\r\n            throw new Exception(&quot;test exception&quot;);\r\n        } catch (Exception e) {}\r\n    }\r\nAnd mostly you may want to roll back for checked exceptions undistinguishedly, using\r\n`@Transactional(rollbackFor = Exception.class) `","title":"How to rollback Spring Transaction when an Exception is thrown","body":"<p>You can find answers to most questions in Spring API doc. \n<code>@Transactional</code> has a field <code>Class&lt;? extends Throwable&gt;[] rollbackFor()</code>:</p>\n\n<blockquote>\n  <p>By default, a transaction will be rolling back on <code>RuntimeException</code> and\n  <code>Error</code> but not on checked exceptions (business exceptions).See <code>org.springframework.transaction.interceptor.DefaultTransactionAttribute.rollbackOn(Throwable)</code> for a detailed explanation.</p>\n</blockquote>\n\n<p>Meaning that, for the following cases, no matter how the caller deal with exceptions, only the first <code>RunTimeException</code> case would call roleback by default.</p>\n\n<pre><code>// Only this case would roll back by default\n@Override\n@Transactional\npublic void testRollbackRuntimeException() {\n    // jpa operation.\n    throw new RuntimeException(\"test exception\");\n}\n\n// never roll back, because its caught.\n@Override\n@Transactional\npublic void testRollbackRuntimeExceptionCaught() {\n    try {\n        throw new RuntimeException(\"test exception\");\n    } catch(Exception e) {}\n}\n\n// @Transactional(rollbackFor = Exception.class) would also rollback. but by default no\n@Override\n@Transactional\npublic void  testRollBackWithExceptionCaught() throws Exception {\n    throw new Exception(\"test exception\");\n}\n\n// never roll back because the checked exception is caught.\n@Override\n@Transactional\npublic void  testRollBackWithExceptionCaught() {\n    try {\n        throw new Exception(\"test exception\");\n    } catch (Exception e) {}\n}\n</code></pre>\n\n<p>And mostly you may want to roll back for checked exceptions undistinguishedly, using\n<code>@Transactional(rollbackFor = Exception.class)</code></p>\n"}],"owner":{"account_id":1939917,"reputation":2340,"user_id":1746344,"accept_rate":64,"display_name":"arvin_codeHunk"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41016,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":16434476,"answer_count":4,"score":6,"last_activity_date":1678711827,"creation_date":1367936626,"question_id":16421508,"body_markdown":"I am using spring 3.0.5 and hibernate 3.6. In my project there is a scenario where i have to rollback transaction of any exception in thrown or error occurs.  This the sample code, Everything works fine  except transaction is not getting rolled back when I throw an Exception but if any exception is thrown such as **mysql.IntegrityConstraintException**   then transaction gets rolled back, why this is not happening in my case?  \r\n \r\n**applicationContext.xml**\r\n\r\n        &lt;bean id=&quot;propertyConfigurer&quot;\r\n              class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n            &lt;property name=&quot;location&quot; value=&quot;classpath:database.properties&quot;/&gt;\r\n        &lt;/bean&gt;\r\n          &lt;bean id=&quot;myDataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n    \t\t    &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n    \t\t    &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n    \t\t    &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n    \t\t    &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\r\n    \r\n    \t\t&lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n     &lt;property name=&quot;dataSource&quot; ref=&quot;myDataSource&quot; /&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.alw.imps&quot;/&gt;\r\n        &lt;property name=&quot;configLocation&quot;&gt;    \r\n            &lt;value&gt;\r\n                classpath:hibernate.cfg.xml\r\n            &lt;/value&gt;\r\n         &lt;/property&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;stateDao&quot; class=&quot;com.alw.imps.dao.StateDaoImpl&quot;&gt;\r\n    \t &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n            &lt;bean id=&quot;stateService&quot; class=&quot;com.alw.imps.services.StateService&quot;&gt;\r\n    \t   &lt;property name=&quot;stateDao&quot; ref=&quot;stateDao&quot;&gt;&lt;/property&gt;\r\n    \t   &lt;property name=&quot;cityDao&quot; ref=&quot;cityDao&quot;&gt;&lt;/property&gt;\r\n    \t   &lt;property name=&quot;customerDao&quot; ref=&quot;customerDao&quot;&gt;&lt;/property&gt;\r\n    \t   &lt;/bean&gt;  \r\n    \t   \r\n    \t    &lt;bean id=&quot;customerDao&quot; class=&quot;com.alw.imps.dao.CustomerDaoImpl&quot;&gt;\r\n    \t    &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\r\n    \t   &lt;/bean&gt; \r\n    \t   \r\n    \t   \t    &lt;bean id=&quot;cityDao&quot; class=&quot;com.alw.imps.dao.CityDaoImpl&quot;&gt;\r\n    \t   \t      &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;&gt;&lt;/property&gt;\r\n    \t        &lt;/bean&gt;  \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;  /&gt;\r\n    \r\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt; \t   \r\n    \r\n    &lt;tx:advice id = &quot;txAdvice&quot; transaction-manager=&quot;transactionManager&quot;&gt;\r\n    &lt;tx:attributes&gt;\r\n    &lt;tx:method name=&quot;*&quot; propagation=&quot;REQUIRED&quot; /&gt;\r\n    &lt;/tx:attributes&gt;\r\n    &lt;/tx:advice&gt;\r\n\r\n**Service class StateService**\r\n\r\n    @Transactional(rollbackFor={Exception.class})\r\n    public class StateService {\r\n    \r\n      private StateDaoImpl stateDao;\r\n      private CityDao cityDao;\r\n      private CustomerDao customerDao;\r\n      \r\n      public void setCustomerDao(CustomerDao customerDao) {\r\n        this.customerDao = customerDao;\r\n      }\r\n    \r\n      public void setStateDao(StateDaoImpl stateDao) {\r\n        this.stateDao = stateDao;\r\n      }\r\n    \r\n      public CityDao getCityDao() {\r\n        return cityDao;\r\n      }\r\n    \r\n      public void setCityDao(CityDao cityDao) {\r\n        this.cityDao = cityDao;\r\n      }\r\n    \r\n      public void addState() {\r\n        try {\r\n          State state=new State();\r\n          state.setStateName(&quot;Delhi&quot;);\r\n          stateDao.create(state);\r\n          addCity();\r\n          addCustomer();\r\n        } catch(Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n      \r\n      public void addCity() throws Exception {\r\n        City city=new City();\r\n        city.setCiytName(&quot;Delhi&quot;);\r\n        city.setStateId(1);\r\n        cityDao.create(city);\r\n      }\r\n      \r\n      public void addCustomer() throws Exception {\r\n        throw new java.lang.Exception();\r\n      }\r\n\r\n**DAO**\r\n\r\n    public class StateDaoImpl extends GenericDaoImpl&lt;State, Integer&gt; implements StateDao {\r\n    }\r\n\r\n**GenericDaoImpl**\r\n\r\n    public class GenericDaoImpl&lt;T,PK extends Serializable&gt; implements GenericDao&lt;T,PK&gt; {\r\n      public SessionFactory sessionFactory;\r\n      public void setSessionFactory(SessionFactory sessionFactory) {\r\n        this.sessionFactory = sessionFactory;\r\n      }\r\n    \r\n      public Session getSession() {\r\n        return sessionFactory.getCurrentSession();\r\n      }\r\n     \r\n      public PK create(T o) {\r\n        Session ss= getSession();\r\n        ss.save(o);\r\n        return null;\r\n      }\r\n\r\n\r\n**hibernate.cfg**\r\n\r\n    &lt;hibernate-configuration&gt;\r\n      &lt;session-factory&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n        &lt;property name=&quot;defaultAutoCommit&quot;&gt;false&lt;/property&gt;\r\n        &lt;mapping class=&quot;com.alw.imps.pojo.State&quot;/&gt;\r\n        &lt;mapping class=&quot;com.alw.imps.pojo.City&quot;/&gt; \r\n      &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nSo as I said my problem is transaction is not getting rollback when i throw an exception of type **Exception** from method **addCustomer()**","title":"How to rollback Spring Transaction when an Exception is thrown","body":"<p>I am using spring 3.0.5 and hibernate 3.6. In my project there is a scenario where i have to rollback transaction of any exception in thrown or error occurs.  This the sample code, Everything works fine  except transaction is not getting rolled back when I throw an Exception but if any exception is thrown such as <strong>mysql.IntegrityConstraintException</strong>   then transaction gets rolled back, why this is not happening in my case?  </p>\n\n<p><strong>applicationContext.xml</strong></p>\n\n<pre><code>    &lt;bean id=\"propertyConfigurer\"\n          class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"location\" value=\"classpath:database.properties\"/&gt;\n    &lt;/bean&gt;\n      &lt;bean id=\"myDataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n            &lt;property name=\"url\" value=\"${jdbc.url}\" /&gt;\n            &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n            &lt;property name=\"password\" value=\"${jdbc.password}\" /&gt;\n\n        &lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n &lt;property name=\"dataSource\" ref=\"myDataSource\" /&gt;\n    &lt;property name=\"packagesToScan\" value=\"com.alw.imps\"/&gt;\n    &lt;property name=\"configLocation\"&gt;    \n        &lt;value&gt;\n            classpath:hibernate.cfg.xml\n        &lt;/value&gt;\n     &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"stateDao\" class=\"com.alw.imps.dao.StateDaoImpl\"&gt;\n     &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"&gt;&lt;/property&gt;\n    &lt;/bean&gt;\n\n\n        &lt;bean id=\"stateService\" class=\"com.alw.imps.services.StateService\"&gt;\n       &lt;property name=\"stateDao\" ref=\"stateDao\"&gt;&lt;/property&gt;\n       &lt;property name=\"cityDao\" ref=\"cityDao\"&gt;&lt;/property&gt;\n       &lt;property name=\"customerDao\" ref=\"customerDao\"&gt;&lt;/property&gt;\n       &lt;/bean&gt;  \n\n        &lt;bean id=\"customerDao\" class=\"com.alw.imps.dao.CustomerDaoImpl\"&gt;\n        &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"&gt;&lt;/property&gt;\n       &lt;/bean&gt; \n\n            &lt;bean id=\"cityDao\" class=\"com.alw.imps.dao.CityDaoImpl\"&gt;\n              &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"&gt;&lt;/property&gt;\n            &lt;/bean&gt;  \n\n\n\n\n\n&lt;tx:annotation-driven transaction-manager=\"transactionManager\"  /&gt;\n\n&lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;        \n\n&lt;tx:advice id = \"txAdvice\" transaction-manager=\"transactionManager\"&gt;\n&lt;tx:attributes&gt;\n&lt;tx:method name=\"*\" propagation=\"REQUIRED\" /&gt;\n&lt;/tx:attributes&gt;\n&lt;/tx:advice&gt;\n</code></pre>\n\n<p><strong>Service class StateService</strong></p>\n\n<pre><code>@Transactional(rollbackFor={Exception.class})\npublic class StateService {\n\n  private StateDaoImpl stateDao;\n  private CityDao cityDao;\n  private CustomerDao customerDao;\n\n  public void setCustomerDao(CustomerDao customerDao) {\n    this.customerDao = customerDao;\n  }\n\n  public void setStateDao(StateDaoImpl stateDao) {\n    this.stateDao = stateDao;\n  }\n\n  public CityDao getCityDao() {\n    return cityDao;\n  }\n\n  public void setCityDao(CityDao cityDao) {\n    this.cityDao = cityDao;\n  }\n\n  public void addState() {\n    try {\n      State state=new State();\n      state.setStateName(\"Delhi\");\n      stateDao.create(state);\n      addCity();\n      addCustomer();\n    } catch(Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  public void addCity() throws Exception {\n    City city=new City();\n    city.setCiytName(\"Delhi\");\n    city.setStateId(1);\n    cityDao.create(city);\n  }\n\n  public void addCustomer() throws Exception {\n    throw new java.lang.Exception();\n  }\n</code></pre>\n\n<p><strong>DAO</strong></p>\n\n<pre><code>public class StateDaoImpl extends GenericDaoImpl&lt;State, Integer&gt; implements StateDao {\n}\n</code></pre>\n\n<p><strong>GenericDaoImpl</strong></p>\n\n<pre><code>public class GenericDaoImpl&lt;T,PK extends Serializable&gt; implements GenericDao&lt;T,PK&gt; {\n  public SessionFactory sessionFactory;\n  public void setSessionFactory(SessionFactory sessionFactory) {\n    this.sessionFactory = sessionFactory;\n  }\n\n  public Session getSession() {\n    return sessionFactory.getCurrentSession();\n  }\n\n  public PK create(T o) {\n    Session ss= getSession();\n    ss.save(o);\n    return null;\n  }\n</code></pre>\n\n<p><strong>hibernate.cfg</strong></p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n  &lt;session-factory&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n    &lt;property name=\"defaultAutoCommit\"&gt;false&lt;/property&gt;\n    &lt;mapping class=\"com.alw.imps.pojo.State\"/&gt;\n    &lt;mapping class=\"com.alw.imps.pojo.City\"/&gt; \n  &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>So as I said my problem is transaction is not getting rollback when i throw an exception of type <strong>Exception</strong> from method <strong>addCustomer()</strong></p>\n"},{"tags":["javascript","java","selenium-webdriver","autosuggest"],"comments":[{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1558736042,"post_id":56274695,"comment_id":99212285,"body_markdown":"Welcome to Stack Overflow! Please avoid using third party services to show images. If you need to add images, add them to the post by either clicking the image button while editing, or copying the image and clicking CTRL+V, or in any other way pasting it) directly into the post. Third party image services [can break at any time](https://meta.stackoverflow.com/q/354950/6296561), and either leave a dead link, or the URLs can be used for malicious purposes.","body":"Welcome to Stack Overflow! Please avoid using third party services to show images. If you need to add images, add them to the post by either clicking the image button while editing, or copying the image and clicking CTRL+V, or in any other way pasting it) directly into the post. Third party image services <a href=\"https://meta.stackoverflow.com/q/354950/6296561\">can break at any time</a>, and either leave a dead link, or the URLs can be used for malicious purposes."}],"answers":[{"comments":[{"owner":{"account_id":15996494,"reputation":65,"user_id":11544293,"display_name":"Alex"},"score":0,"creation_date":1558615419,"post_id":56274991,"comment_id":99165405,"body_markdown":"I have almost the same question about &quot;quantity&quot; when I try to buy something. Should I make new topic or I can ask here ?","body":"I have almost the same question about &quot;quantity&quot; when I try to buy something. Should I make new topic or I can ask here ?"},{"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"score":0,"creation_date":1558615690,"post_id":56274991,"comment_id":99165590,"body_markdown":"@Alex : That should be different question.This is the solution of a particular problem and can be use by future reader.If you asked multiple questions on a single post OP might confuse to see this answer.Thanks.","body":"@Alex : That should be different question.This is the solution of a particular problem and can be use by future reader.If you asked multiple questions on a single post OP might confuse to see this answer.Thanks."}],"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1558613662,"creation_date":1558613662,"answer_id":56274991,"question_id":56274695,"body_markdown":"Use `WebdriverWait` to handle dynamic element and use the following `xpath`\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    WebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@data-keyword=&#39;turbotax&#39;]&quot;)));\r\n    element.click()","title":"How to &quot;click&quot; on certain proposal from autosuggestion on Amazon using Selenium?","body":"<p>Use <code>WebdriverWait</code> to handle dynamic element and use the following <code>xpath</code></p>\n\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nWebElement element = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(\"//div[@data-keyword='turbotax']\")));\nelement.click()\n</code></pre>\n"}],"owner":{"account_id":15996494,"reputation":65,"user_id":11544293,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":56274991,"answer_count":1,"score":3,"last_activity_date":1678711733,"creation_date":1558612517,"question_id":56274695,"body_markdown":"I am trying to automate auto complete suggestions on amazon.com. But unlike google search options, xpath of suggestions is always changing. The code I posted doesn&#39;t work every time because sometimes the xpath/id/cssselector of the desired suggestion is changing (@id=\\&quot;issDiv8\\&quot;] sometimes it is &quot;issDiv4&quot; or &quot;issDiv6&quot; and so on.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    WebElement searchTextField = driver.findElement(By.id(&quot;twotabsearchtextbox&quot;));\r\n\r\n    searchTextField.sendKeys(&quot;turbo&quot;);\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n\r\n    wait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(&quot;//*[@id=\\&quot;issDiv8\\&quot;]&quot;)));\r\n    List&lt;WebElement&gt; autoSuggest = driver.findElements(By.xpath(&quot;//*[@id=\\&quot;issDiv8\\&quot;]&quot;));\r\n\r\n\r\n    System.out.println(&quot;Auto Suggest List ::&quot; + autoSuggest.size());\r\n    for (int i = 0; i &lt; autoSuggest.size(); i++) {\r\n        System.out.println(autoSuggest.get(i).getText());\r\n        if (autoSuggest.get(i).getText().equals(&quot;turbotax&quot;)) {\r\n            autoSuggest.get(i).click();\r\n            System.out.println(&quot;Success&quot;);\r\n\r\n            break;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/50pup.png","title":"How to &quot;click&quot; on certain proposal from autosuggestion on Amazon using Selenium?","body":"<p>I am trying to automate auto complete suggestions on amazon.com. But unlike google search options, xpath of suggestions is always changing. The code I posted doesn't work every time because sometimes the xpath/id/cssselector of the desired suggestion is changing (@id=\\\"issDiv8\\\"] sometimes it is \"issDiv4\" or \"issDiv6\" and so on.</p>\n\n<p><a href=\"https://i.stack.imgur.com/50pup.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/50pup.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>WebElement searchTextField = driver.findElement(By.id(\"twotabsearchtextbox\"));\n\nsearchTextField.sendKeys(\"turbo\");\n\nWebDriverWait wait = new WebDriverWait(driver, 20);\n\nwait.until(ExpectedConditions.visibilityOfAllElementsLocatedBy(By.xpath(\"//*[@id=\\\"issDiv8\\\"]\")));\nList&lt;WebElement&gt; autoSuggest = driver.findElements(By.xpath(\"//*[@id=\\\"issDiv8\\\"]\"));\n\n\nSystem.out.println(\"Auto Suggest List ::\" + autoSuggest.size());\nfor (int i = 0; i &lt; autoSuggest.size(); i++) {\n    System.out.println(autoSuggest.get(i).getText());\n    if (autoSuggest.get(i).getText().equals(\"turbotax\")) {\n        autoSuggest.get(i).click();\n        System.out.println(\"Success\");\n\n        break;\n</code></pre>\n"},{"tags":["java","kotlin","sorting","comparator","comparable"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1678349446,"post_id":75681844,"comment_id":133515912,"body_markdown":"https://stackoverflow.com/questions/59402219/how-to-sort-an-array-of-object-in-kotlin-with-custom-order","body":"<a href=\"https://stackoverflow.com/questions/59402219/how-to-sort-an-array-of-object-in-kotlin-with-custom-order\" title=\"how to sort an array of object in kotlin with custom order\">stackoverflow.com/questions/59402219/&hellip;</a>"},{"owner":{"account_id":2988235,"reputation":45,"user_id":2536456,"display_name":"AndroidDev"},"score":0,"creation_date":1678351846,"post_id":75681844,"comment_id":133516507,"body_markdown":"shmosel and u-ways your answer match for a single class. but I have a sub class too.","body":"shmosel and u-ways your answer match for a single class. but I have a sub class too."}],"answers":[{"tags":[],"owner":{"account_id":16852728,"reputation":1,"user_id":21335093,"display_name":"Vlad Lavrovsky"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1678350604,"creation_date":1678350604,"answer_id":75682066,"question_id":75681844,"body_markdown":"you need to implement Comparable in class User like so\r\n\r\n    \tclass User\r\n\timplements Comparable{\r\n\t\tString name;\r\n\t\tAddress address;\r\n\t\tString group;\r\n\t\tInteger groupRank = Integer.valueOf(7);\r\n\t\tInteger addressRank = Integer.valueOf(7);\r\n\t\tpublic User(String name, Address address, String group)\r\n\t\t{\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.address = address;\r\n\t\t\tthis.group = group;\r\n\t\t\tif (group.equals(&quot;Maths&quot;))groupRank = 1;\r\n\t\t\tif (group.equals(&quot;Science&quot;))groupRank = 2;\r\n\t\t\tif (group.equals(&quot;English&quot;))groupRank = 3;\r\n\r\n\t\t\t// this should be moved into the Address class\r\n\t\t\tif (address.city.equals(&quot;Sydney&quot;))addressRank = 1;\r\n\t\t\tif (address.city.equals(&quot;Adelaide&quot;))addressRank = 2;\r\n\t\t\tif (address.city.equals(&quot;Melbourne&quot;))addressRank = 3;\r\n\t\t}\r\n\r\n\t\tpublic int compareTo(Object o) {\r\n\t\t\t// do something if o is not User\r\n\t\t\tUser other = (User) o;\r\n\t\t\tint groupCompare = this.groupRank.compareTo(other.groupRank);\r\n\t\t\t\r\n\t\t\t// Address class should implement Comparable and have its own compreTo \r\n\t\t\tif (groupCompare != 0)return groupCompare;\r\n\t\t\telse return this.addressRank.compareTo(other.addressRank);\r\n\t\t}\r\n\t}\r\n\tclass Address{\r\n\t\tString city;\r\n\t\tString street;\r\n\t}\r\n","title":"How to order a list of objects as per custom order guidelines?","body":"<p>you need to implement Comparable in class User like so</p>\n<pre><code>    class User\nimplements Comparable{\n    String name;\n    Address address;\n    String group;\n    Integer groupRank = Integer.valueOf(7);\n    Integer addressRank = Integer.valueOf(7);\n    public User(String name, Address address, String group)\n    {\n        this.name = name;\n        this.address = address;\n        this.group = group;\n        if (group.equals(&quot;Maths&quot;))groupRank = 1;\n        if (group.equals(&quot;Science&quot;))groupRank = 2;\n        if (group.equals(&quot;English&quot;))groupRank = 3;\n\n        // this should be moved into the Address class\n        if (address.city.equals(&quot;Sydney&quot;))addressRank = 1;\n        if (address.city.equals(&quot;Adelaide&quot;))addressRank = 2;\n        if (address.city.equals(&quot;Melbourne&quot;))addressRank = 3;\n    }\n\n    public int compareTo(Object o) {\n        // do something if o is not User\n        User other = (User) o;\n        int groupCompare = this.groupRank.compareTo(other.groupRank);\n        \n        // Address class should implement Comparable and have its own compreTo \n        if (groupCompare != 0)return groupCompare;\n        else return this.addressRank.compareTo(other.addressRank);\n    }\n}\nclass Address{\n    String city;\n    String street;\n}\n</code></pre>\n"}],"owner":{"account_id":2988235,"reputation":45,"user_id":2536456,"display_name":"AndroidDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678365238,"answer_count":1,"score":0,"last_activity_date":1678711404,"creation_date":1678348942,"question_id":75681844,"body_markdown":"    data class User(\r\n    \tval name: String,\r\n    \tval address: Address,\r\n    \tval group: String\r\n    )\r\n    \r\n    data class Address(\r\n    \tval street: String,\r\n    \tval city: String\r\n    )\r\n\r\nI have a list of users. I need to order this list by custom order as per guidelines in Kotlin (or Java).\r\n\r\n1. First order by `group` as below group order. (It&#39;s not alphabetical order)\r\n    - Maths\r\n\t- Science\r\n\t- English\r\n\t- other all values in the bottom without order\r\n\r\n2. Then order by `city` as below city order. (It&#39;s not in alphabetical order)\r\n\t- Sydney\r\n\t- Adelaide\r\n\t- Melbourne\r\n\t- other all values in the bottom without order\r\n\t\r\n3. Then order by `street` in reverse alphabetical order\t\r\n\r\n4. Then order by `name` in alphabetical order\r\n\r\nHow can I write Comparator or custom method to order list as per above guidelines?\r\n`Address` class can move into `User` class if needed.","title":"How to order a list of objects as per custom order guidelines?","body":"<pre><code>data class User(\n    val name: String,\n    val address: Address,\n    val group: String\n)\n\ndata class Address(\n    val street: String,\n    val city: String\n)\n</code></pre>\n<p>I have a list of users. I need to order this list by custom order as per guidelines in Kotlin (or Java).</p>\n<ol>\n<li><p>First order by <code>group</code> as below group order. (It's not alphabetical order)</p>\n<ul>\n<li>Maths</li>\n<li>Science</li>\n<li>English</li>\n<li>other all values in the bottom without order</li>\n</ul>\n</li>\n<li><p>Then order by <code>city</code> as below city order. (It's not in alphabetical order)</p>\n<ul>\n<li>Sydney</li>\n<li>Adelaide</li>\n<li>Melbourne</li>\n<li>other all values in the bottom without order</li>\n</ul>\n</li>\n<li><p>Then order by <code>street</code> in reverse alphabetical order</p>\n</li>\n<li><p>Then order by <code>name</code> in alphabetical order</p>\n</li>\n</ol>\n<p>How can I write Comparator or custom method to order list as per above guidelines?\n<code>Address</code> class can move into <code>User</code> class if needed.</p>\n"},{"tags":["java","spring-boot","spring-cloud-stream","spring-cloud-function"],"comments":[{"owner":{"account_id":28005305,"reputation":1,"user_id":21388819,"display_name":"nikhil bajaj"},"score":0,"creation_date":1678710722,"post_id":75721418,"comment_id":133580607,"body_markdown":"Hi Oleg Zhurakousky , can you please provide some input?","body":"Hi Oleg Zhurakousky , can you please provide some input?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1678782384,"post_id":75721418,"comment_id":133595573,"body_markdown":"I am not sure what you are asking. Supplier creates the data, so you can create anything you want and if inside such supplier (`Supplier&lt;Message&lt;?&gt;&gt;`) you are making Http request, then you can copy any http headers into produced message headers.","body":"I am not sure what you are asking. Supplier creates the data, so you can create anything you want and if inside such supplier (<code>Supplier&lt;Message&lt;?&gt;&gt;</code>) you are making Http request, then you can copy any http headers into produced message headers."},{"owner":{"account_id":28005305,"reputation":1,"user_id":21388819,"display_name":"nikhil bajaj"},"score":0,"creation_date":1679289787,"post_id":75721418,"comment_id":133688232,"body_markdown":"What i meant was in case of Function&lt;Message&lt;?&gt;,Output&gt;, we can get the headers in the message and that we can use inside the Function block but can we do similar kind in case of Supplier as supplier doesn&#39;t take any input and only returns a result?","body":"What i meant was in case of Function&lt;Message&lt;?&gt;,Output&gt;, we can get the headers in the message and that we can use inside the Function block but can we do similar kind in case of Supplier as supplier doesn&#39;t take any input and only returns a result?"},{"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"score":0,"creation_date":1679323807,"post_id":75721418,"comment_id":133696667,"body_markdown":"I am not following. You just said it yourself `supplier doesn&#39;t take any input`, so where would you expect the headers to come from?","body":"I am not following. You just said it yourself <code>supplier doesn&#39;t take any input</code>, so where would you expect the headers to come from?"}],"owner":{"account_id":28005305,"reputation":1,"user_id":21388819,"display_name":"nikhil bajaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678710665,"creation_date":1678707768,"question_id":75721418,"body_markdown":"Like using Message&lt;&gt; we get the headers in Function&lt;&gt;, Is it possible to get Headers inside Supplier&lt;&gt; in spring cloud function?\r\n","title":"Headers in GET request using Supplier&lt;&gt; in spring cloud function","body":"<p>Like using Message&lt;&gt; we get the headers in Function&lt;&gt;, Is it possible to get Headers inside Supplier&lt;&gt; in spring cloud function?</p>\n"},{"tags":["java","exception","apache-camel","publish-subscribe"],"owner":{"account_id":8812852,"reputation":21,"user_id":6585331,"display_name":"Sedat G&#246;&#231;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678710414,"creation_date":1678709828,"question_id":75721770,"body_markdown":"I developed a Camel project for poll data from Google Pubsub topic. This is my Pubsub Route.\r\n\r\n```\r\nfrom(&quot;google-pubsub:xProjectx:xTopicx?maxMessagesPerPoll=20&amp;concurrentConsumers=10&amp;ackMode=AUTO&quot;)\r\n\t\t\t.doTry()\r\n\t\t\t\t.to(&quot;direct:someRoute&quot;)\r\n\t\t\t.endDoTry()\r\n\t\t\t.doCatch(Exception.class)\r\n\t\t\t\t.to(&quot;direct:errorHandle&quot;)\r\n\t\t\t.end();\r\n```\r\n\r\nSometimes I am getting this error from Pubsub and I can&#39;t handle this error.\r\n\r\nError details:\r\n\r\n`com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 40.786965000s. [closed=[], open=[[buffered_nanos=362483400, remote_addr=pubsub.googleapis.com/216.58.212.10:443]]] \tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:94) ~[gax-2.18.1.jar!/:2.18.1] \tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:41) ~[gax-2.18.1.jar!/:2.18.1] \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:86) ~[gax-grpc-2.18.1.jar!/:2.18.1] \tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66) ~[gax-grpc-2.18.1.jar!/:2.18.1] \tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97) ~[gax-grpc-2.18.1.jar!/:2.18.1] \tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:67) ~[api-common-2.2.0.jar!/:na] \tat com.google.common.util.concurrent.Futures$4.run(Futures.java:1123) ~[guava-20.0.jar!/:na] \tat com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:435) ~[guava-20.0.jar!/:na] \tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:900) ~[guava-20.0.jar!/:na] \tat com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:811) ~[guava-20.0.jar!/:na] \tat com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:675) ~[guava-20.0.jar!/:na] \tat io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:572) ~[grpc-stub-1.46.0.jar!/:1.46.0] \tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:542) ~[grpc-stub-1.46.0.jar!/:1.46.0] \tat io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[grpc-api-1.46.0.jar!/:1.46.0] \tat io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[grpc-api-1.46.0.jar!/:1.46.0] \tat io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[grpc-api-1.46.0.jar!/:1.46.0] \tat com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:535) ~[gax-grpc-2.18.1.jar!/:2.18.1] \tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.46.0.jar!/:1.46.0] \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na] \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na] \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na] \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na] \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na] \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na] Caused by: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 40.786965000s. [closed=[], open=[[buffered_nanos=362483400, remote_addr=pubsub.googleapis.com/216.58.212.10:443]]] \tat io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.46.0.jar!/:1.46.0] \t... 17 common frames omitted`\r\n\r\nI tried \\*\\*bridgeErrorHandler\\*\\* and \\*\\*exceptionHandler\\*\\* parameters but not worked. Also I tried onException code block but I can&#39;t handle errors.\r\n\r\nDo you have a suggestion to handle this error?\r\n\r\nThank you all!","title":"How can I handle error when polling data from Google Pubsub in Apache Camel","body":"<p>I developed a Camel project for poll data from Google Pubsub topic. This is my Pubsub Route.</p>\n<pre><code>from(&quot;google-pubsub:xProjectx:xTopicx?maxMessagesPerPoll=20&amp;concurrentConsumers=10&amp;ackMode=AUTO&quot;)\n            .doTry()\n                .to(&quot;direct:someRoute&quot;)\n            .endDoTry()\n            .doCatch(Exception.class)\n                .to(&quot;direct:errorHandle&quot;)\n            .end();\n</code></pre>\n<p>Sometimes I am getting this error from Pubsub and I can't handle this error.</p>\n<p>Error details:</p>\n<p><code>com.google.api.gax.rpc.DeadlineExceededException: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 40.786965000s. [closed=[], open=[[buffered_nanos=362483400, remote_addr=pubsub.googleapis.com/216.58.212.10:443]]]    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:94) ~[gax-2.18.1.jar!/:2.18.1]   at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:41) ~[gax-2.18.1.jar!/:2.18.1]   at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:86) ~[gax-grpc-2.18.1.jar!/:2.18.1]  at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:66) ~[gax-grpc-2.18.1.jar!/:2.18.1]  at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97) ~[gax-grpc-2.18.1.jar!/:2.18.1]   at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:67) ~[api-common-2.2.0.jar!/:na]  at com.google.common.util.concurrent.Futures$4.run(Futures.java:1123) ~[guava-20.0.jar!/:na]    at com.google.common.util.concurrent.MoreExecutors$DirectExecutor.execute(MoreExecutors.java:435) ~[guava-20.0.jar!/:na]    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:900) ~[guava-20.0.jar!/:na]     at com.google.common.util.concurrent.AbstractFuture.complete(AbstractFuture.java:811) ~[guava-20.0.jar!/:na]    at com.google.common.util.concurrent.AbstractFuture.setException(AbstractFuture.java:675) ~[guava-20.0.jar!/:na]    at io.grpc.stub.ClientCalls$GrpcFuture.setException(ClientCalls.java:572) ~[grpc-stub-1.46.0.jar!/:1.46.0]  at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:542) ~[grpc-stub-1.46.0.jar!/:1.46.0]  at io.grpc.PartialForwardingClientCallListener.onClose(PartialForwardingClientCallListener.java:39) ~[grpc-api-1.46.0.jar!/:1.46.0]     at io.grpc.ForwardingClientCallListener.onClose(ForwardingClientCallListener.java:23) ~[grpc-api-1.46.0.jar!/:1.46.0]   at io.grpc.ForwardingClientCallListener$SimpleForwardingClientCallListener.onClose(ForwardingClientCallListener.java:40) ~[grpc-api-1.46.0.jar!/:1.46.0]    at com.google.api.gax.grpc.ChannelPool$ReleasingClientCall$1.onClose(ChannelPool.java:535) ~[gax-grpc-2.18.1.jar!/:2.18.1]  at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:562) ~[grpc-core-1.46.0.jar!/:1.46.0]  at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70) ~[grpc-core-1.46.0.jar!/:1.46.0]  at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:743) ~[grpc-core-1.46.0.jar!/:1.46.0]     at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:722) ~[grpc-core-1.46.0.jar!/:1.46.0]    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37) ~[grpc-core-1.46.0.jar!/:1.46.0]   at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:133) ~[grpc-core-1.46.0.jar!/:1.46.0]  at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]   at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]  at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304) ~[na:na]    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]   at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]   at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na] Caused by: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: deadline exceeded after 40.786965000s. [closed=[], open=[[buffered_nanos=362483400, remote_addr=pubsub.googleapis.com/216.58.212.10:443]]]    at io.grpc.Status.asRuntimeException(Status.java:535) ~[grpc-api-1.46.0.jar!/:1.46.0]   ... 17 common frames omitted</code></p>\n<p>I tried **bridgeErrorHandler** and **exceptionHandler** parameters but not worked. Also I tried onException code block but I can't handle errors.</p>\n<p>Do you have a suggestion to handle this error?</p>\n<p>Thank you all!</p>\n"},{"tags":["java","algorithm","backtracking"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1678710529,"post_id":75721852,"comment_id":133580532,"body_markdown":"[Why is &quot;Can someone help me?&quot; not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"<a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is &quot;Can someone help me?&quot; not an actual question?</a>"}],"owner":{"account_id":28005532,"reputation":11,"user_id":21389003,"display_name":"laura james"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678710395,"creation_date":1678710395,"question_id":75721852,"body_markdown":"I hava a table like this:[description here](https://i.stack.imgur.com/i2uO9.png)\r\ni hava to write a java code to take a table like that as input and print the solved table.\r\nsolved table must contain a hamiltonian path which starts at 1 position and ends at maximum value(the max value is always given at first ).the only solution i can imagine is back tracking algorithm but i can&#39;t  wirte it.\r\ncan anybody help me with this? \r\n\r\n      public static void main(String[] args) {\r\n        int n;\r\n        List&lt;Integer&gt; w=new ArrayList&lt;&gt;();\r\n        Scanner scan=new Scanner(System.in);\r\n        n=scan.nextInt();\r\n        int [][] s=new int[2*n-1][2*n-1];\r\n        int [][] v=new int[2*n-1][2*n-1];\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            s[i]=new int[i+n];\r\n                    for(int j=0;j&lt;i+n;j++)\r\n                    {\r\n                        s[i][j]=scan.nextInt();\r\n                        if(s[i][j]&gt;0)\r\n                        {\r\n                            w.add(s[i][j]);\r\n                            v[i][j]=1;\r\n                        }\r\n                        else if(s[i][j]==-1)\r\n                            v[i][j]=1;\r\n                        else if(s[i][j]==0)\r\n                            v[i][j]==0;\r\n\r\n                    }\r\n        }\r\n        for(int i=n;i&lt;2*n-1;i++)\r\n        {\r\n            s[i]=new int[2*n-2-i%n];\r\n            for(int j=0;j&lt;2*n-i%n-2;j++)\r\n            {\r\n                s[i][j]=scan.nextInt();\r\n                if(s[i][j]&gt;0)\r\n                    w.add(s[i][j]);\r\n            }\r\n        }\r\n        w.sort(naturalOrder());\r\n    }\r\n\r\nso far i just could take a table as an input","title":"solving a beehive hidato with backtracking algorithm java","body":"<p>I hava a table like this:<a href=\"https://i.stack.imgur.com/i2uO9.png\" rel=\"nofollow noreferrer\">description here</a>\ni hava to write a java code to take a table like that as input and print the solved table.\nsolved table must contain a hamiltonian path which starts at 1 position and ends at maximum value(the max value is always given at first ).the only solution i can imagine is back tracking algorithm but i can't  wirte it.\ncan anybody help me with this?</p>\n<pre><code>  public static void main(String[] args) {\n    int n;\n    List&lt;Integer&gt; w=new ArrayList&lt;&gt;();\n    Scanner scan=new Scanner(System.in);\n    n=scan.nextInt();\n    int [][] s=new int[2*n-1][2*n-1];\n    int [][] v=new int[2*n-1][2*n-1];\n    for(int i=0;i&lt;n;i++)\n    {\n        s[i]=new int[i+n];\n                for(int j=0;j&lt;i+n;j++)\n                {\n                    s[i][j]=scan.nextInt();\n                    if(s[i][j]&gt;0)\n                    {\n                        w.add(s[i][j]);\n                        v[i][j]=1;\n                    }\n                    else if(s[i][j]==-1)\n                        v[i][j]=1;\n                    else if(s[i][j]==0)\n                        v[i][j]==0;\n\n                }\n    }\n    for(int i=n;i&lt;2*n-1;i++)\n    {\n        s[i]=new int[2*n-2-i%n];\n        for(int j=0;j&lt;2*n-i%n-2;j++)\n        {\n            s[i][j]=scan.nextInt();\n            if(s[i][j]&gt;0)\n                w.add(s[i][j]);\n        }\n    }\n    w.sort(naturalOrder());\n}\n</code></pre>\n<p>so far i just could take a table as an input</p>\n"},{"tags":["java","spring","hibernate","jpa","dozer"],"comments":[{"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"score":1,"creation_date":1400396009,"post_id":23719237,"comment_id":36455274,"body_markdown":"You can use resultTransformer which can convert from alias to bean (DTO) properties. Take look at http://stackoverflow.com/questions/19628759/java-hibernate-criteria-setresulttransformertransformers-aliastobeanstudentm","body":"You can use resultTransformer which can convert from alias to bean (DTO) properties. Take look at <a href=\"http://stackoverflow.com/questions/19628759/java-hibernate-criteria-setresulttransformertransformers-aliastobeanstudentm\" title=\"java hibernate criteria setresulttransformertransformers aliastobeanstudentm\">stackoverflow.com/questions/19628759/&hellip;</a>"},{"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"score":0,"creation_date":1400396848,"post_id":23719237,"comment_id":36455427,"body_markdown":"@Shailendra: it works. Thank. Please make your comment as the answer :)","body":"@Shailendra: it works. Thank. Please make your comment as the answer :)"},{"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"score":0,"creation_date":1400398255,"post_id":23719237,"comment_id":36455726,"body_markdown":"glad it helped ! I have added this as an answer !","body":"glad it helped ! I have added this as an answer !"}],"answers":[{"tags":[],"owner":{"account_id":1550597,"reputation":8924,"user_id":1443084,"display_name":"Shailendra"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1400398228,"creation_date":1400398228,"answer_id":23719578,"question_id":23719237,"body_markdown":"You can use [ResultTransformer][1] which can convert from alias to bean (DTO) properties. For usage you can refer to the Hibernate docs [here][2] at section 13.1.5\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/transform/ResultTransformer.html\r\n  [2]: http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html_single/","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>You can use <a href=\"http://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/transform/ResultTransformer.html\" rel=\"noreferrer\">ResultTransformer</a> which can convert from alias to bean (DTO) properties. For usage you can refer to the Hibernate docs <a href=\"http://docs.jboss.org/hibernate/orm/4.1/devguide/en-US/html_single/\" rel=\"noreferrer\">here</a> at section 13.1.5</p>\n"},{"tags":[],"owner":{"account_id":4204119,"reputation":825,"user_id":3443508,"display_name":"Sumit Sundriyal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458143662,"creation_date":1457563618,"answer_id":35904222,"question_id":23719237,"body_markdown":"Following is the complete example of how addresses are group together based on street name using Projection.\r\n\r\n    Criteria criteria = getCurrentSession().createCriteria(Address.class);\r\n    // adding condition\r\n    criteria.add(Restrictions.eq(&quot;zip&quot;, &quot;12345&quot;));\r\n    // adding projection\r\n    criteria.setProjection(Projections.projectionList()\r\n    .add(Projections.groupProperty(&quot;streetName&quot;), &quot;streetName&quot;)\r\n    .add(Projections.count(&quot;apartment&quot;), &quot;count&quot;));\r\n    // set transformer\r\n    criteria.setResultTransformer(new AliasToBeanResultTransformer(SomeDTO.class));\r\n    \r\n    List&lt;SomeDTO&gt; someDTOs = criteria.list();\r\n\r\n&gt; someDTOs list will contain number of result group by streetName. Each SomeDTO object contain street name and number of apartment in that street.\r\n\r\nSomeDTO.java\r\n\r\n    public class SomeDTO{\r\n\r\n    private String streetName;\r\n    private Long count;\r\n\r\n    public void setStreetName(String streetName){\r\n        this.streetName=streetName;\r\n    }\r\n    public String getStreetName(){\r\n        return this.streetName;\r\n    }\r\n    public Long getCount() {\r\n        return count;\r\n    }\r\n    public void setCount(Long count) {\r\n        this.count = count;\r\n    }\r\n    }","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>Following is the complete example of how addresses are group together based on street name using Projection.</p>\n\n<pre><code>Criteria criteria = getCurrentSession().createCriteria(Address.class);\n// adding condition\ncriteria.add(Restrictions.eq(\"zip\", \"12345\"));\n// adding projection\ncriteria.setProjection(Projections.projectionList()\n.add(Projections.groupProperty(\"streetName\"), \"streetName\")\n.add(Projections.count(\"apartment\"), \"count\"));\n// set transformer\ncriteria.setResultTransformer(new AliasToBeanResultTransformer(SomeDTO.class));\n\nList&lt;SomeDTO&gt; someDTOs = criteria.list();\n</code></pre>\n\n<blockquote>\n  <p>someDTOs list will contain number of result group by streetName. Each SomeDTO object contain street name and number of apartment in that street.</p>\n</blockquote>\n\n<p>SomeDTO.java</p>\n\n<pre><code>public class SomeDTO{\n\nprivate String streetName;\nprivate Long count;\n\npublic void setStreetName(String streetName){\n    this.streetName=streetName;\n}\npublic String getStreetName(){\n    return this.streetName;\n}\npublic Long getCount() {\n    return count;\n}\npublic void setCount(Long count) {\n    this.count = count;\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1517903544,"post_id":45934668,"comment_id":84272206,"body_markdown":"how can I use DTO projections using a ConstructorResult for Composite Object ?","body":"how can I use DTO projections using a ConstructorResult for Composite Object ?"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1517908985,"post_id":45934668,"comment_id":84275246,"body_markdown":"thanks for the article, I&#39;m following the same, but my DTO is complex, lets say `PostDTO` has list of `PostCommentDTO` as a field, In this case how can I Map  result to constructor ?","body":"thanks for the article, I&#39;m following the same, but my DTO is complex, lets say <code>PostDTO</code> has list of <code>PostCommentDTO</code> as a field, In this case how can I Map  result to constructor ?"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1517911216,"post_id":45934668,"comment_id":84276862,"body_markdown":"thanks for the example, but recursion is not my case, I&#39;m finding it as hard to understand your query... (⌣̩̩́_⌣̩̩̀)","body":"thanks for the example, but recursion is not my case, I&#39;m finding it as hard to understand your query... (⌣̩̩́_⌣̩̩̀)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1517911509,"post_id":45934668,"comment_id":84277057,"body_markdown":"You can ignore the query and focus on the `ResultTransformer` which builds a hierarchy of DTOs.","body":"You can ignore the query and focus on the <code>ResultTransformer</code> which builds a hierarchy of DTOs."},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1518087489,"post_id":45934668,"comment_id":84364723,"body_markdown":"sorry to bother you sir, but I&#39;m stuck while returning result of `ResultTransformer`, for eg. I have 6 `Post`s, and total 12 `PostComment`s , I&#39;m getting result as 12 `Post`s, with associated `PostComment`","body":"sorry to bother you sir, but I&#39;m stuck while returning result of <code>ResultTransformer</code>, for eg. I have 6 <code>Post</code>s, and total 12 <code>PostComment</code>s , I&#39;m getting result as 12 <code>Post</code>s, with associated <code>PostComment</code>"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1518089516,"post_id":45934668,"comment_id":84366025,"body_markdown":"Now working solved with the help of, `transformList` method","body":"Now working solved with the help of, <code>transformList</code> method"},{"owner":{"account_id":4180238,"reputation":1666,"user_id":3425489,"accept_rate":58,"display_name":"Shantaram Tupe"},"score":0,"creation_date":1518616503,"post_id":45934668,"comment_id":84579455,"body_markdown":"sir how to deal with returning single `Post` with all its `PostComment`s ?","body":"sir how to deal with returning single <code>Post</code> with all its <code>PostComment</code>s ?"},{"owner":{"account_id":2774008,"reputation":18025,"user_id":2387977,"accept_rate":69,"display_name":"Dherik"},"score":0,"creation_date":1526483219,"post_id":45934668,"comment_id":87764930,"body_markdown":"`setResultTransformer` does not exists on the last example, neither the `NativeQuery.class`","body":"<code>setResultTransformer</code> does not exists on the last example, neither the <code>NativeQuery.class</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1526488723,"post_id":45934668,"comment_id":87768250,"body_markdown":"[Yes it does](https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/NativeQuery.html). It&#39;s inherited from [`org.hibernate.query.NativeQuery`](https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/Query.html#setResultTransformer-org.hibernate.transform.ResultTransformer-) base class.","body":"<a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/NativeQuery.html\" rel=\"nofollow noreferrer\">Yes it does</a>. It&#39;s inherited from <a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/query/Query.html#setResultTransformer-org.hibernate.transform.ResultTransformer-\" rel=\"nofollow noreferrer\"><code>org.hibernate.query.NativeQuery</code></a> base class."},{"owner":{"account_id":921660,"reputation":7769,"user_id":953263,"accept_rate":58,"display_name":"Joe"},"score":0,"creation_date":1531329444,"post_id":45934668,"comment_id":89559813,"body_markdown":"would it be possible to create NamedNativeQuery and SqlResultSetMapping without any Entity or is required?","body":"would it be possible to create NamedNativeQuery and SqlResultSetMapping without any Entity or is required?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1531330399,"post_id":45934668,"comment_id":89560297,"body_markdown":"The @Target annotation says TYPE, so you need to add it to an Entity or MappedSuperclass.","body":"The @Target annotation says TYPE, so you need to add it to an Entity or MappedSuperclass."},{"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"score":0,"creation_date":1541566827,"post_id":45934668,"comment_id":93257358,"body_markdown":"How can I use &quot;DTO projections using a Constructor Expressionand and JPQL&quot;\nwhen I have field-collection. For instance Set&lt;Title&gt; titles and relation One-to-Many between Post and Titles","body":"How can I use &quot;DTO projections using a Constructor Expressionand and JPQL&quot; when I have field-collection. For instance Set&lt;Title&gt; titles and relation One-to-Many between Post and Titles"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":12,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1678710283,"creation_date":1503996810,"answer_id":45934668,"question_id":23719237,"body_markdown":"You have so many options for mapping your projection to a DTO result set:\r\n\r\nDTO projections using Tuple and JPQL\r\n------------------------------------\r\n\r\n\tList&lt;Tuple&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t    p.id as id,\r\n\t\t    p.title as title\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, Tuple.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of(2016, 1, 1, 0, 0, 0)\r\n\t\t\t.toInstant(ZoneOffset.UTC )))\r\n\t.getResultList();\r\n\r\n\tassertFalse(postDTOs.isEmpty());\r\n\t \r\n\tTuple postDTO = postDTOs.get(0);\r\n\tassertEquals( \r\n\t\t1L, \r\n\t\tpostDTO.get(&quot;id&quot;) \r\n\t);\r\n\r\nDTO projections using a Constructor Expression and JPQL\r\n----------------------------------------------------------\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect new com.vladmihalcea.book.hpjp.hibernate.query.dto.projection.jpa.PostDTO(\r\n\t\t    p.id,\r\n\t\t    p.title\r\n\t\t)\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, PostDTO.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\n&gt; You can also omit the DTO package name from the JPA constructor expression, and reference the DTO by its simple Java class name (e.g., [`PostDTO`]( https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/)). \r\n&gt; \r\n&gt;     List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n&gt;         select new PostDTO(\r\n&gt;             p.id,\r\n&gt;             p.title\r\n&gt;         )\r\n&gt;         from Post p\r\n&gt;         where p.createdOn &gt; :fromTimestamp\r\n          &quot;&quot;&quot;, PostDTO.class)\r\n&gt;     .setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n&gt;     \tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n&gt;     \t\t.toInstant( ZoneOffset.UTC ) ))\r\n&gt;     .getResultList();\r\n&gt;\r\n\r\nDTO projections using Tuple and native SQL queries\r\n--------------------------------------------------\r\n\r\nThis one is available from Hibernate 5.2.11 so yet one more reason to upgrade.\r\n\r\n\tList&lt;Tuple&gt; postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n\t\tSELECT\r\n\t\t       p.id AS id,\r\n\t\t       p.title AS title\r\n\t\tFROM Post p\r\n\t\tWHERE p.created_on &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;, Tuple.class)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\nDTO projections using a ConstructorResult\r\n-----------------------------------------\r\n\r\nIf we use the same `PostDTO` class type introduced previously, we have to provide the following `@SqlResultSetMapping`:\r\n\r\n\t@NamedNativeQuery(\r\n\t\tname = &quot;PostDTO&quot;,\r\n\t\tquery = &quot;&quot;&quot;\r\n\t\t\tSELECT\r\n\t\t\t       p.id AS id,\r\n\t\t\t       p.title AS title\r\n\t\t\tFROM Post p\r\n\t\t\tWHERE p.created_on &gt; :fromTimestamp\r\n\t\t\t&quot;&quot;&quot;,\r\n\t\tresultSetMapping = &quot;PostDTO&quot;\r\n\t)\r\n\t@SqlResultSetMapping(\r\n\t\tname = &quot;PostDTO&quot;,\r\n\t\tclasses = @ConstructorResult(\r\n\t\t\ttargetClass = PostDTO.class,\r\n\t\t\tcolumns = {\r\n\t\t\t\t@ColumnResult(name = &quot;id&quot;),\r\n\t\t\t\t@ColumnResult(name = &quot;title&quot;)\r\n\t\t\t}\r\n\t\t)\r\n\t)\r\n\r\nNow, the SQL projection named native query is executed as follows:\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createNamedQuery(&quot;PostDTO&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\r\n\t\t\t.toInstant( ZoneOffset.UTC ) ))\r\n\t.getResultList();\r\n\r\nDTO projections using ResultTransformer and JPQL\r\n------------------------------------------------\r\n\r\nThis time, your DTO requires to have the setters for the properties you need Hibernate to populate from the underlying JDBC `ResultSet`.\r\n\r\nThe DTO projection looks as follows:\r\n\r\n\tList&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t       p.id as id,\r\n\t\t       p.title as title\r\n\t\tfrom Post p\r\n\t\twhere p.createdOn &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\r\n\t.unwrap( org.hibernate.query.Query.class )\r\n\t.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\r\n\t.getResultList();\r\n\r\nDTO projections using ResultTransformer and a Native SQL query\r\n--------------------------------------------------------------\r\n\r\n\tList postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\r\n\t\tselect\r\n\t\t       p.id as \\&quot;id\\&quot;,\r\n\t\t       p.title as \\&quot;title\\&quot;\r\n\t\tfrom Post p\r\n\t\twhere p.created_on &gt; :fromTimestamp\r\n\t\t&quot;&quot;&quot;)\r\n\t.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\r\n\t\tLocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\r\n\t.unwrap( org.hibernate.query.NativeQuery.class )\r\n\t.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\r\n\t.getResultList();\r\n","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>You have so many options for mapping your projection to a DTO result set:</p>\n<h2>DTO projections using Tuple and JPQL</h2>\n<pre><code>List&lt;Tuple&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select\n        p.id as id,\n        p.title as title\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;, Tuple.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of(2016, 1, 1, 0, 0, 0)\n        .toInstant(ZoneOffset.UTC )))\n.getResultList();\n\nassertFalse(postDTOs.isEmpty());\n \nTuple postDTO = postDTOs.get(0);\nassertEquals( \n    1L, \n    postDTO.get(&quot;id&quot;) \n);\n</code></pre>\n<h2>DTO projections using a Constructor Expression and JPQL</h2>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select new com.vladmihalcea.book.hpjp.hibernate.query.dto.projection.jpa.PostDTO(\n        p.id,\n        p.title\n    )\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;, PostDTO.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<blockquote>\n<p>You can also omit the DTO package name from the JPA constructor expression, and reference the DTO by its simple Java class name (e.g., <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"noreferrer\"><code>PostDTO</code></a>).</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select new PostDTO(\n        p.id,\n        p.title\n    )\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n</code></pre>\n</blockquote>\n<pre><code>      &quot;&quot;&quot;, PostDTO.class)\n</code></pre>\n<blockquote>\n<pre><code>.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n  LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n      .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n</blockquote>\n<h2>DTO projections using Tuple and native SQL queries</h2>\n<p>This one is available from Hibernate 5.2.11 so yet one more reason to upgrade.</p>\n<pre><code>List&lt;Tuple&gt; postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\n    SELECT\n           p.id AS id,\n           p.title AS title\n    FROM Post p\n    WHERE p.created_on &gt; :fromTimestamp\n    &quot;&quot;&quot;, Tuple.class)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<h2>DTO projections using a ConstructorResult</h2>\n<p>If we use the same <code>PostDTO</code> class type introduced previously, we have to provide the following <code>@SqlResultSetMapping</code>:</p>\n<pre><code>@NamedNativeQuery(\n    name = &quot;PostDTO&quot;,\n    query = &quot;&quot;&quot;\n        SELECT\n               p.id AS id,\n               p.title AS title\n        FROM Post p\n        WHERE p.created_on &gt; :fromTimestamp\n        &quot;&quot;&quot;,\n    resultSetMapping = &quot;PostDTO&quot;\n)\n@SqlResultSetMapping(\n    name = &quot;PostDTO&quot;,\n    classes = @ConstructorResult(\n        targetClass = PostDTO.class,\n        columns = {\n            @ColumnResult(name = &quot;id&quot;),\n            @ColumnResult(name = &quot;title&quot;)\n        }\n    )\n)\n</code></pre>\n<p>Now, the SQL projection named native query is executed as follows:</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createNamedQuery(&quot;PostDTO&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 )\n        .toInstant( ZoneOffset.UTC ) ))\n.getResultList();\n</code></pre>\n<h2>DTO projections using ResultTransformer and JPQL</h2>\n<p>This time, your DTO requires to have the setters for the properties you need Hibernate to populate from the underlying JDBC <code>ResultSet</code>.</p>\n<p>The DTO projection looks as follows:</p>\n<pre><code>List&lt;PostDTO&gt; postDTOs = entityManager.createQuery(&quot;&quot;&quot;\n    select\n           p.id as id,\n           p.title as title\n    from Post p\n    where p.createdOn &gt; :fromTimestamp\n    &quot;&quot;&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\n.unwrap( org.hibernate.query.Query.class )\n.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\n.getResultList();\n</code></pre>\n<h2>DTO projections using ResultTransformer and a Native SQL query</h2>\n<pre><code>List postDTOs = entityManager.createNativeQuery(&quot;&quot;&quot;\n    select\n           p.id as \\&quot;id\\&quot;,\n           p.title as \\&quot;title\\&quot;\n    from Post p\n    where p.created_on &gt; :fromTimestamp\n    &quot;&quot;&quot;)\n.setParameter( &quot;fromTimestamp&quot;, Timestamp.from(\n    LocalDateTime.of( 2016, 1, 1, 0, 0, 0 ).toInstant( ZoneOffset.UTC ) ))\n.unwrap( org.hibernate.query.NativeQuery.class )\n.setResultTransformer( Transformers.aliasToBean( PostDTO.class ) )\n.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543485348,"creation_date":1543485348,"answer_id":53536214,"question_id":23719237,"body_markdown":"That&#39;s exactly the use case for which [Blaze-Persistence Entity Views][1] has been created for!\r\n\r\nYour DTO looks like\r\n\r\n    @EntityView(Category.class)\r\n    interface DQCategoryDTO  {\r\n      String getTitle();\r\n      @Mapping(&quot;SIZE(sentences)&quot;)\r\n      int getCount();\r\n    }\r\n\r\nand if you use Spring Data, you can use it in a repository like\r\n\r\n    interface CategoryRepository extends Repository&lt;Category, Long&gt; {\r\n      List&lt;DQCategoryDTO&gt; findAll(Pageable pageable);\r\n    }\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>That's exactly the use case for which <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a> has been created for!</p>\n\n<p>Your DTO looks like</p>\n\n<pre><code>@EntityView(Category.class)\ninterface DQCategoryDTO  {\n  String getTitle();\n  @Mapping(\"SIZE(sentences)\")\n  int getCount();\n}\n</code></pre>\n\n<p>and if you use Spring Data, you can use it in a repository like</p>\n\n<pre><code>interface CategoryRepository extends Repository&lt;Category, Long&gt; {\n  List&lt;DQCategoryDTO&gt; findAll(Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":114177,"reputation":9845,"user_id":300359,"accept_rate":64,"display_name":"Thai Tran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56682,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":23719578,"answer_count":4,"score":27,"last_activity_date":1678710283,"creation_date":1400394831,"question_id":23719237,"body_markdown":"In my DAO layer, I have a Find function like this\r\n\r\n    public List&lt;?&gt; findCategoryWithSentenceNumber(int offset, int maxRec) {\r\n      Criteria crit = getSession().createCriteria(Category.class, &quot;cate&quot;);\r\n        crit.createAlias(&quot;cate.sentences&quot;, &quot;sent&quot;);\r\n      \t\r\n        crit.setProjection(Projections.projectionList().\r\n        add(Projections.property(&quot;title&quot;), &quot;title&quot;).\r\n        add(Projections.count(&quot;sent.id&quot;), &quot;numberOfSentence&quot;).\r\n        add(Projections.groupProperty(&quot;title&quot;))\r\n      );\r\n      \t\r\n      crit.setFirstResult(offset);\r\n      crit.setMaxResults(maxRec);\r\n      \t\r\n      return crit.list();\r\n    }\r\n\r\nSo, in order to read the data, I have to use a Loop (with `Iterator`) \r\n\r\n    List&lt;?&gt; result = categoryDAO.findCategoryWithSentenceNumber(0, 10);\r\n    // List&lt;DQCategoryDTO&gt; dtoList = new ArrayList&lt;&gt;(); \r\n          \t\r\n    for (Iterator&lt;?&gt; it = result.iterator(); it.hasNext(); ) {\r\n      Object[] myResult = (Object[]) it.next();\r\n              \r\n      String  title = (String) myResult[0];\r\n      Long count = (Long) myResult[1];\r\n              \r\n\r\n      assertEquals(&quot;test&quot;, title); \r\n      assertEquals(1, count.intValue()); \r\n      \r\n      // dQCategoryDTO = new DQCategoryDTO();\r\n      // dQCategoryDTO.setTitle(title);\r\n      // dQCategoryDTO.setNumberOfSentence(count);\r\n      // dtoList.add(dQCategoryDTO);\r\n\r\n    }\r\n\r\nMy question is: is there any api, framework to easily convert the `List&lt;?&gt; result` in to a list of `DTO` object (say, DQCategoryDTO) without using any loop, iterator and calling setter/getter to fill the value? ","title":"Mapping JPA or Hibernate projection query to DTO (Data Transfer Object)","body":"<p>In my DAO layer, I have a Find function like this</p>\n\n<pre><code>public List&lt;?&gt; findCategoryWithSentenceNumber(int offset, int maxRec) {\n  Criteria crit = getSession().createCriteria(Category.class, \"cate\");\n    crit.createAlias(\"cate.sentences\", \"sent\");\n\n    crit.setProjection(Projections.projectionList().\n    add(Projections.property(\"title\"), \"title\").\n    add(Projections.count(\"sent.id\"), \"numberOfSentence\").\n    add(Projections.groupProperty(\"title\"))\n  );\n\n  crit.setFirstResult(offset);\n  crit.setMaxResults(maxRec);\n\n  return crit.list();\n}\n</code></pre>\n\n<p>So, in order to read the data, I have to use a Loop (with <code>Iterator</code>) </p>\n\n<pre><code>List&lt;?&gt; result = categoryDAO.findCategoryWithSentenceNumber(0, 10);\n// List&lt;DQCategoryDTO&gt; dtoList = new ArrayList&lt;&gt;(); \n\nfor (Iterator&lt;?&gt; it = result.iterator(); it.hasNext(); ) {\n  Object[] myResult = (Object[]) it.next();\n\n  String  title = (String) myResult[0];\n  Long count = (Long) myResult[1];\n\n\n  assertEquals(\"test\", title); \n  assertEquals(1, count.intValue()); \n\n  // dQCategoryDTO = new DQCategoryDTO();\n  // dQCategoryDTO.setTitle(title);\n  // dQCategoryDTO.setNumberOfSentence(count);\n  // dtoList.add(dQCategoryDTO);\n\n}\n</code></pre>\n\n<p>My question is: is there any api, framework to easily convert the <code>List&lt;?&gt; result</code> in to a list of <code>DTO</code> object (say, DQCategoryDTO) without using any loop, iterator and calling setter/getter to fill the value? </p>\n"},{"tags":["java","xml","user-interface"],"comments":[{"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"score":0,"creation_date":1676492552,"post_id":75465060,"comment_id":133150071,"body_markdown":"the code might be a little weird because i used chatGPT for it as i don&#39;t know general java","body":"the code might be a little weird because i used chatGPT for it as i don&#39;t know general java"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676496937,"post_id":75465060,"comment_id":133151179,"body_markdown":"Not sure what you are asking. You hard-coded a file-path. Instead you want to present to the user a file-picker dialog in Swing?","body":"Not sure what you are asking. You hard-coded a file-path. Instead you want to present to the user a file-picker dialog in Swing?"},{"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"score":0,"creation_date":1676536446,"post_id":75465060,"comment_id":133157519,"body_markdown":"yes i just want a way of letting the user define the path, it doesn&#39;t have to be in a gui as long as the path isn&#39;t hard-coded","body":"yes i just want a way of letting the user define the path, it doesn&#39;t have to be in a gui as long as the path isn&#39;t hard-coded"}],"answers":[{"comments":[{"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"score":0,"creation_date":1678709540,"post_id":75721709,"comment_id":133580243,"body_markdown":"I added a file chooser to your code instead of a hard-coded file path! hopefully this will help you to resolve your problem!","body":"I added a file chooser to your code instead of a hard-coded file path! hopefully this will help you to resolve your problem!"}],"tags":[],"owner":{"account_id":27635017,"reputation":43,"user_id":21093121,"display_name":"ARNR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678709508,"creation_date":1678709508,"answer_id":75721709,"question_id":75465060,"body_markdown":"            import org.w3c.dom.Document;\r\n            import org.w3c.dom.Element;\r\n            \r\n            import javax.swing.*;\r\n            import javax.swing.filechooser.FileNameExtensionFilter;\r\n            import javax.xml.parsers.DocumentBuilder;\r\n            import javax.xml.parsers.DocumentBuilderFactory;\r\n            import javax.xml.transform.OutputKeys;\r\n            import javax.xml.transform.Transformer;\r\n            import javax.xml.transform.TransformerFactory;\r\n            import javax.xml.transform.dom.DOMSource;\r\n            import javax.xml.transform.stream.StreamResult;\r\n            import java.awt.*;\r\n            import java.io.File;\r\n            \r\n            public class XMLFileReader {\r\n            \r\n                    public void buildGui() {\r\n                        JPanel contentPanel = new JPanel();\r\n                        try {\r\n                            // Open file chooser dialog\r\n                            JFileChooser fileChooser = new JFileChooser();\r\n                            fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\r\n                            //File filter\r\n                            FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;XML files&quot;, &quot;xml&quot;);\r\n                            fileChooser.setFileFilter(filter);\r\n            \r\n            \r\n                            int result = fileChooser.showOpenDialog(contentPanel);\r\n                            if (result != JFileChooser.APPROVE_OPTION) {\r\n                                JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry&quot;);\r\n                                return;\r\n                            }\r\n                            File selectedFile = fileChooser.getSelectedFile();\r\n            \r\n                            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                            DocumentBuilder db = dbf.newDocumentBuilder();\r\n                            Document doc = db.parse(selectedFile);\r\n                            Element root = doc.getDocumentElement();\r\n            \r\n            \r\n                            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n                            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\r\n                            heightPanel.add(new JTextField(10));\r\n            \r\n                            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n                            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\r\n                            widthPanel.add(new JTextField(10));\r\n            \r\n                            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n                            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\r\n            \r\n                            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\r\n                            setSizeButton.addActionListener(e -&gt; transformResult (heightPanel, widthPanel, root, doc, selectedFile, frame, contentPanel));\r\n                            buttonPanel.add(setSizeButton);\r\n                            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n                            contentPanel.add(heightPanel);\r\n                            contentPanel.add(widthPanel);\r\n                            contentPanel.add(buttonPanel);\r\n            \r\n                            frame.setContentPane(contentPanel);\r\n                            frame.setMinimumSize(new Dimension(400, 200));\r\n                            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                            frame.pack();\r\n                            frame.setVisible(true);\r\n                        } catch (Exception ex) {\r\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\r\n                        }\r\n                    }\r\n            \r\n                    private void transformResult(JPanel heightPanel, JPanel widthPanel, Element root, Document doc, File selectedFile, JFrame frame, JPanel contentPanel) {\r\n            \r\n                        try {\r\n                            System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\r\n                            float height = Float.parseFloat(root.getAttribute(&quot;height&quot;)) + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\r\n                            float width = Float.parseFloat(root.getAttribute(&quot;width&quot;)) + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\r\n                            System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\r\n                            root.setAttribute(&quot;height&quot;, String.valueOf(height));\r\n                            System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\r\n            \r\n                            System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\r\n                            root.setAttribute(&quot;width&quot;, String.valueOf(width));\r\n                            System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\r\n            \r\n            \r\n                            TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                            Transformer transformer = transformerFactory.newTransformer();\r\n                            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                            DOMSource source = new DOMSource(doc);\r\n                            StreamResult result2 = new StreamResult(selectedFile);\r\n                            transformer.transform(source, result2);\r\n                            JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\r\n            \r\n                        } catch (Exception ex) {\r\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\r\n                        }\r\n            \r\n                    }\r\n            }","title":"Letting the user define a file path for an XML file to be edited","body":"<pre><code>        import org.w3c.dom.Document;\n        import org.w3c.dom.Element;\n        \n        import javax.swing.*;\n        import javax.swing.filechooser.FileNameExtensionFilter;\n        import javax.xml.parsers.DocumentBuilder;\n        import javax.xml.parsers.DocumentBuilderFactory;\n        import javax.xml.transform.OutputKeys;\n        import javax.xml.transform.Transformer;\n        import javax.xml.transform.TransformerFactory;\n        import javax.xml.transform.dom.DOMSource;\n        import javax.xml.transform.stream.StreamResult;\n        import java.awt.*;\n        import java.io.File;\n        \n        public class XMLFileReader {\n        \n                public void buildGui() {\n                    JPanel contentPanel = new JPanel();\n                    try {\n                        // Open file chooser dialog\n                        JFileChooser fileChooser = new JFileChooser();\n                        fileChooser.setCurrentDirectory(new File(System.getProperty(&quot;user.home&quot;)));\n                        //File filter\n                        FileNameExtensionFilter filter = new FileNameExtensionFilter(&quot;XML files&quot;, &quot;xml&quot;);\n                        fileChooser.setFileFilter(filter);\n        \n        \n                        int result = fileChooser.showOpenDialog(contentPanel);\n                        if (result != JFileChooser.APPROVE_OPTION) {\n                            JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry&quot;);\n                            return;\n                        }\n                        File selectedFile = fileChooser.getSelectedFile();\n        \n                        DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n                        DocumentBuilder db = dbf.newDocumentBuilder();\n                        Document doc = db.parse(selectedFile);\n                        Element root = doc.getDocumentElement();\n        \n        \n                        JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n                        heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\n                        heightPanel.add(new JTextField(10));\n        \n                        JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n                        widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\n                        widthPanel.add(new JTextField(10));\n        \n                        JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n                        JButton setSizeButton = new JButton(&quot;Set Size&quot;);\n        \n                        JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\n                        setSizeButton.addActionListener(e -&gt; transformResult (heightPanel, widthPanel, root, doc, selectedFile, frame, contentPanel));\n                        buttonPanel.add(setSizeButton);\n                        contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n                        contentPanel.add(heightPanel);\n                        contentPanel.add(widthPanel);\n                        contentPanel.add(buttonPanel);\n        \n                        frame.setContentPane(contentPanel);\n                        frame.setMinimumSize(new Dimension(400, 200));\n                        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                        frame.pack();\n                        frame.setVisible(true);\n                    } catch (Exception ex) {\n                        JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\n                    }\n                }\n        \n                private void transformResult(JPanel heightPanel, JPanel widthPanel, Element root, Document doc, File selectedFile, JFrame frame, JPanel contentPanel) {\n        \n                    try {\n                        System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\n                        float height = Float.parseFloat(root.getAttribute(&quot;height&quot;)) + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\n                        float width = Float.parseFloat(root.getAttribute(&quot;width&quot;)) + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\n                        System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\n                        root.setAttribute(&quot;height&quot;, String.valueOf(height));\n                        System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\n        \n                        System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\n                        root.setAttribute(&quot;width&quot;, String.valueOf(width));\n                        System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\n        \n        \n                        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n                        Transformer transformer = transformerFactory.newTransformer();\n                        transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                        DOMSource source = new DOMSource(doc);\n                        StreamResult result2 = new StreamResult(selectedFile);\n                        transformer.transform(source, result2);\n                        JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\n        \n                    } catch (Exception ex) {\n                        JOptionPane.showMessageDialog(contentPanel, &quot;Something is went wrong, sorry :&quot; + ex.getMessage());\n                    }\n        \n                }\n        }\n</code></pre>\n"}],"owner":{"account_id":24915840,"reputation":3,"user_id":18784796,"display_name":"Remag Minecraft"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75721709,"answer_count":1,"score":-2,"last_activity_date":1678709508,"creation_date":1676492266,"question_id":75465060,"body_markdown":"recently i&#39;ve been converting a python script i made to edit XML files that are used as levels in a game, to java and i&#39;ve found a problem.\r\ni want to let the user set the path for the XML file to edit as there are many that they may want to edit but the way my code works i can&#39;t figure out how to do that\r\n\r\ni have put my full code below\r\n\r\n```java\r\nimport javax.swing.*;\r\nimport javax.xml.parsers.DocumentBuilder;\r\nimport javax.xml.parsers.DocumentBuilderFactory;\r\nimport javax.xml.transform.OutputKeys;\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\n\r\npublic class mapEdit {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            String filePath = &quot;B:/SteamLibrary/steamapps/common/Tasty Planet/assets/levels/bacteria.xml&quot;;\r\n            File file = new File(filePath);\r\n\r\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n            DocumentBuilder db = dbf.newDocumentBuilder();\r\n            Document doc = db.parse(file);\r\n            Element root = doc.getDocumentElement();\r\n\r\n            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\r\n\r\n            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\r\n            heightPanel.add(new JTextField(10));\r\n\r\n            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\r\n            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\r\n            widthPanel.add(new JTextField(10));\r\n\r\n            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\r\n            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\r\n\r\n\r\n            setSizeButton.addActionListener(e -&gt; {\r\n                System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\r\n                float height = Float.parseFloat(root.getAttribute(&quot;height&quot;))\r\n                        + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\r\n                float width = Float.parseFloat(root.getAttribute(&quot;width&quot;))\r\n                        + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\r\n                System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\r\n                root.setAttribute(&quot;height&quot;, String.valueOf(height));\r\n                System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\r\n\r\n                System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\r\n                root.setAttribute(&quot;width&quot;, String.valueOf(width));\r\n                System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\r\n\r\n                try {\r\n                    TransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n                    Transformer transformer = transformerFactory.newTransformer();\r\n                    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n                    DOMSource source = new DOMSource(doc);\r\n                    StreamResult result = new StreamResult(file);\r\n                    transformer.transform(source, result);\r\n                    JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\r\n                } catch (Exception ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            buttonPanel.add(setSizeButton);\r\n\r\n            JPanel contentPanel = new JPanel();\r\n            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\r\n            contentPanel.add(heightPanel);\r\n            contentPanel.add(widthPanel);\r\n            contentPanel.add(buttonPanel);\r\n\r\n            frame.setContentPane(contentPanel);\r\n            frame.setMinimumSize(new Dimension(400, 200));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.pack();\r\n            frame.setVisible(true);\r\n\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\ni have tried adding a button and text input to the GUI and using that to set the `filePath` variable but that didn&#39;t work ","title":"Letting the user define a file path for an XML file to be edited","body":"<p>recently i've been converting a python script i made to edit XML files that are used as levels in a game, to java and i've found a problem.\ni want to let the user set the path for the XML file to edit as there are many that they may want to edit but the way my code works i can't figure out how to do that</p>\n<p>i have put my full code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.awt.*;\nimport java.io.File;\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n\npublic class mapEdit {\n\n    public static void main(String[] args) {\n        try {\n            String filePath = &quot;B:/SteamLibrary/steamapps/common/Tasty Planet/assets/levels/bacteria.xml&quot;;\n            File file = new File(filePath);\n\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            Document doc = db.parse(file);\n            Element root = doc.getDocumentElement();\n\n            JFrame frame = new JFrame(&quot;Map Size Editor&quot;);\n\n            JPanel heightPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n            heightPanel.add(new JLabel(&quot;Rows of tiles to add (height)&quot;));\n            heightPanel.add(new JTextField(10));\n\n            JPanel widthPanel = new JPanel(new FlowLayout(FlowLayout.LEFT));\n            widthPanel.add(new JLabel(&quot;Rows of tiles to add (width)&quot;));\n            widthPanel.add(new JTextField(10));\n\n            JPanel buttonPanel = new JPanel(new FlowLayout(FlowLayout.CENTER));\n            JButton setSizeButton = new JButton(&quot;Set Size&quot;);\n\n\n            setSizeButton.addActionListener(e -&gt; {\n                System.out.println(&quot;you entered &quot; + ((JTextField) heightPanel.getComponent(1)).getText());\n                float height = Float.parseFloat(root.getAttribute(&quot;height&quot;))\n                        + (Integer.parseInt(((JTextField) heightPanel.getComponent(1)).getText()) * 256);\n                float width = Float.parseFloat(root.getAttribute(&quot;width&quot;))\n                        + (Integer.parseInt(((JTextField) widthPanel.getComponent(1)).getText()) * 256);\n                System.out.println(&quot;height was: &quot; + root.getAttribute(&quot;height&quot;));\n                root.setAttribute(&quot;height&quot;, String.valueOf(height));\n                System.out.println(&quot;height is: &quot; + root.getAttribute(&quot;height&quot;));\n\n                System.out.println(&quot;width was: &quot; + root.getAttribute(&quot;width&quot;));\n                root.setAttribute(&quot;width&quot;, String.valueOf(width));\n                System.out.println(&quot;width is: &quot; + root.getAttribute(&quot;width&quot;));\n\n                try {\n                    TransformerFactory transformerFactory = TransformerFactory.newInstance();\n                    Transformer transformer = transformerFactory.newTransformer();\n                    transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n                    DOMSource source = new DOMSource(doc);\n                    StreamResult result = new StreamResult(file);\n                    transformer.transform(source, result);\n                    JOptionPane.showMessageDialog(frame, &quot;Changes were successful.&quot;);\n                } catch (Exception ex) {\n                    ex.printStackTrace();\n                }\n            });\n            buttonPanel.add(setSizeButton);\n\n            JPanel contentPanel = new JPanel();\n            contentPanel.setLayout(new BoxLayout(contentPanel, BoxLayout.Y_AXIS));\n            contentPanel.add(heightPanel);\n            contentPanel.add(widthPanel);\n            contentPanel.add(buttonPanel);\n\n            frame.setContentPane(contentPanel);\n            frame.setMinimumSize(new Dimension(400, 200));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.pack();\n            frame.setVisible(true);\n\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>i have tried adding a button and text input to the GUI and using that to set the <code>filePath</code> variable but that didn't work</p>\n"},{"tags":["java","jboss","java-17"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678712352,"post_id":75720126,"comment_id":133581113,"body_markdown":"As best as I can see when JBoss EAP 6.1 was released in 2013 Java 8 didn&#39;t even exist, let alone 9, 11 or 17. Java 9 introduced a *major* change to class loading (with the module system) and later released further restricted legacy options. Since EAP is a application server and application servers tend to do &quot;funny things with classloading&quot; it&#39;s in the class of applications most likely to not be compatible with newer Java versions without major changes. My strong suspicion: there&#39;s no way in heck that you&#39;re going to run that ancient EAP version on Java 17.","body":"As best as I can see when JBoss EAP 6.1 was released in 2013 Java 8 didn&#39;t even exist, let alone 9, 11 or 17. Java 9 introduced a <i>major</i> change to class loading (with the module system) and later released further restricted legacy options. Since EAP is a application server and application servers tend to do &quot;funny things with classloading&quot; it&#39;s in the class of applications most likely to not be compatible with newer Java versions without major changes. My strong suspicion: there&#39;s no way in heck that you&#39;re going to run that ancient EAP version on Java 17."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1678713220,"post_id":75720126,"comment_id":133581377,"body_markdown":"Also: [this page](https://access.redhat.com/articles/111663) (and [the same for EAP 7](https://access.redhat.com/articles/2026253)).","body":"Also: <a href=\"https://access.redhat.com/articles/111663\" rel=\"nofollow noreferrer\">this page</a> (and <a href=\"https://access.redhat.com/articles/2026253\" rel=\"nofollow noreferrer\">the same for EAP 7</a>)."}],"answers":[{"tags":[],"owner":{"account_id":1491171,"reputation":3291,"user_id":1398228,"display_name":"ehsavoie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678709075,"creation_date":1678709075,"answer_id":75721640,"question_id":75720126,"body_markdown":"Given that this is a really old EAP version that came from before Java 9 you&#39;d need to change the scripts a lot to be able to run it on a newer Java version","title":"Java 17 on jboss EAP 6.1","body":"<p>Given that this is a really old EAP version that came from before Java 9 you'd need to change the scripts a lot to be able to run it on a newer Java version</p>\n"}],"owner":{"account_id":28004451,"reputation":1,"user_id":21388098,"display_name":"Simone Traversi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678709075,"creation_date":1678700208,"question_id":75720126,"body_markdown":"I&#39;m trying to start my jboss EAP 6.1 installation with Java 17, but I receive this error:\r\n```none\r\n===============================================================================\r\n\r\n  JBoss Bootstrap Environment\r\n\r\n  JBOSS_HOME: C:\\Sviluppo\\jboss-eap-6.1_prova17\r\n\r\n  JAVA: C:\\Program Files\\Java\\jdk-17.0.5\\bin\\java\r\n\r\n  JAVA_OPTS: -XX:+TieredCompilation -XX:+UseCompressedOops -Dprogram.name=standalone.bat  -Dexo.jcr.session.tracking.active=false -Xms512m -Xmx2g --add-opens java.xml/com.sun.org.apache.xerces.internal.jaxp=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Duser.language=en -Duser.region=US -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dgatein.assets.version=4.0.7 -Djava.util.Arrays.useLegacyMergeSort=true -Dorg.jboss.resolver.warning=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.server.default.config=standalone-exo.xml -Dorg.jboss.as.logging.per-deployment=false\r\n\r\n===============================================================================\r\n\r\nException in thread &quot;main&quot; javax.xml.stream.FactoryConfigurationError: Provider __redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:201)\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:148)\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:261)\r\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:223)\r\n        at java.xml/javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:166)\r\n        at org.jboss.modules.ModuleXmlParser.&lt;clinit&gt;(ModuleXmlParser.java:278)\r\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:144)\r\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:138)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\r\n        at org.jboss.modules.LocalModuleFinder.findModule(LocalModuleFinder.java:138)\r\n        at org.jboss.modules.ModuleLoader.findModule(ModuleLoader.java:389)\r\n        at org.jboss.modules.ModuleLoader.loadModuleLocal(ModuleLoader.java:293)\r\n        at org.jboss.modules.ModuleLoader.preloadModule(ModuleLoader.java:240)\r\n        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:222)\r\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:76)\r\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:70)\r\n        at __redirected.__DocumentBuilderFactory.changeDefaultFactory(__DocumentBuilderFactory.java:77)\r\n        at __redirected.__JAXPRedirected.changeAll(__JAXPRedirected.java:43)\r\n        at org.jboss.modules.Main.main(Main.java:334)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:190)\r\n        ... 18 more\r\nCaused by: java.lang.IllegalAccessError: class __redirected.__XMLInputFactory cannot access class com.sun.xml.internal.stream.XMLInputFactoryImpl (in module java.xml) because module java.xml does not export com.sun.xml.internal.stream to unnamed module @5d22bbb7\r\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n        at __redirected.__XMLInputFactory.&lt;init&gt;(__XMLInputFactory.java:112)\r\n        ... 24 more\r\n```\r\n\r\nI&#39;ve tried to use this solution, but it doesn&#39;t work:\r\nhttps://stackoverflow.com/questions/70129530/is-it-possible-to-run-wildfly-10-on-new-jdk17\r\n","title":"Java 17 on jboss EAP 6.1","body":"<p>I'm trying to start my jboss EAP 6.1 installation with Java 17, but I receive this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>===============================================================================\n\n  JBoss Bootstrap Environment\n\n  JBOSS_HOME: C:\\Sviluppo\\jboss-eap-6.1_prova17\n\n  JAVA: C:\\Program Files\\Java\\jdk-17.0.5\\bin\\java\n\n  JAVA_OPTS: -XX:+TieredCompilation -XX:+UseCompressedOops -Dprogram.name=standalone.bat  -Dexo.jcr.session.tracking.active=false -Xms512m -Xmx2g --add-opens java.xml/com.sun.org.apache.xerces.internal.jaxp=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.security=ALL-UNNAMED -Dsun.rmi.dgc.client.gcInterval=3600000 -Dsun.rmi.dgc.server.gcInterval=3600000 -Duser.language=en -Duser.region=US -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -Dgatein.assets.version=4.0.7 -Djava.util.Arrays.useLegacyMergeSort=true -Dorg.jboss.resolver.warning=true -Djboss.modules.system.pkgs=org.jboss.byteman -Djboss.server.default.config=standalone-exo.xml -Dorg.jboss.as.logging.per-deployment=false\n\n===============================================================================\n\nException in thread &quot;main&quot; javax.xml.stream.FactoryConfigurationError: Provider __redirected.__XMLInputFactory could not be instantiated: java.lang.reflect.InvocationTargetException\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:201)\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:148)\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:261)\n        at java.xml/javax.xml.stream.FactoryFinder.find(FactoryFinder.java:223)\n        at java.xml/javax.xml.stream.XMLInputFactory.newInstance(XMLInputFactory.java:166)\n        at org.jboss.modules.ModuleXmlParser.&lt;clinit&gt;(ModuleXmlParser.java:278)\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:144)\n        at org.jboss.modules.LocalModuleFinder$1.run(LocalModuleFinder.java:138)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:569)\n        at org.jboss.modules.LocalModuleFinder.findModule(LocalModuleFinder.java:138)\n        at org.jboss.modules.ModuleLoader.findModule(ModuleLoader.java:389)\n        at org.jboss.modules.ModuleLoader.loadModuleLocal(ModuleLoader.java:293)\n        at org.jboss.modules.ModuleLoader.preloadModule(ModuleLoader.java:240)\n        at org.jboss.modules.ModuleLoader.loadModule(ModuleLoader.java:222)\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:76)\n        at __redirected.__RedirectedUtils.loadProvider(__RedirectedUtils.java:70)\n        at __redirected.__DocumentBuilderFactory.changeDefaultFactory(__DocumentBuilderFactory.java:77)\n        at __redirected.__JAXPRedirected.changeAll(__JAXPRedirected.java:43)\n        at org.jboss.modules.Main.main(Main.java:334)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at java.xml/javax.xml.stream.FactoryFinder.newInstance(FactoryFinder.java:190)\n        ... 18 more\nCaused by: java.lang.IllegalAccessError: class __redirected.__XMLInputFactory cannot access class com.sun.xml.internal.stream.XMLInputFactoryImpl (in module java.xml) because module java.xml does not export com.sun.xml.internal.stream to unnamed module @5d22bbb7\n        at java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n        at java.base/java.lang.reflect.AccessibleObject.checkAccess(AccessibleObject.java:674)\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:489)\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n        at __redirected.__XMLInputFactory.&lt;init&gt;(__XMLInputFactory.java:112)\n        ... 24 more\n</code></pre>\n<p>I've tried to use this solution, but it doesn't work:\n<a href=\"https://stackoverflow.com/questions/70129530/is-it-possible-to-run-wildfly-10-on-new-jdk17\">Is it possible to run Wildfly 10 on new jdk17</a></p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","junit"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1514997901,"post_id":48078044,"comment_id":83137460,"body_markdown":"Try to mock `@MockBean private UserController userController;` instead of `@MockBean private UserService userService;`","body":"Try to mock <code>@MockBean private UserController userController;</code> instead of <code>@MockBean private UserService userService;</code>"},{"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"score":0,"creation_date":1514998479,"post_id":48078044,"comment_id":83137790,"body_markdown":"@Patrick thanks for your response, but how does that solve my problem? UserController is the class I&#39;m trying to test.","body":"@Patrick thanks for your response, but how does that solve my problem? UserController is the class I&#39;m trying to test."},{"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"score":2,"creation_date":1514999932,"post_id":48078044,"comment_id":83138561,"body_markdown":"But if I&#39;m mocking the class I want to test I&#39;m not testing my class &#39; functionality. The point is to test the functionality of my web layer and therefore I need to mock my service, see here: https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4","body":"But if I&#39;m mocking the class I want to test I&#39;m not testing my class &#39; functionality. The point is to test the functionality of my web layer and therefore I need to mock my service, see here: <a href=\"https://spring.io/blog/2016/08/30/custom-test-slice-with-spring-boot-1-4\" rel=\"nofollow noreferrer\">spring.io/blog/2016/08/30/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1515311620,"creation_date":1515077813,"answer_id":48097887,"question_id":48078044,"body_markdown":"I found the reason I was having this problem.\r\nFrom spring docs `@SpringBootApplication`:\r\n&gt; Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.\r\n\r\nHowever, this is the full declaration of the `@SpringBootApplication` annotation:\r\n\r\n    @Target(value=TYPE)\r\n    @Retention(value=RUNTIME)\r\n    @Documented\r\n    @Inherited\r\n    @SpringBootConfiguration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\r\n    public @interface SpringBootApplication\r\n\r\nWhen I added the `@ComponentScan` annotation directly in my application class I did not specify the default excludedFilters and that is why the behavior was different. After adding the excludeFilter I was able to solve my issue.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I found the reason I was having this problem.\nFrom spring docs <code>@SpringBootApplication</code>:</p>\n\n<blockquote>\n  <p>Indicates a configuration class that declares one or more @Bean methods and also triggers auto-configuration and component scanning. This is a convenience annotation that is equivalent to declaring @Configuration, @EnableAutoConfiguration and @ComponentScan.</p>\n</blockquote>\n\n<p>However, this is the full declaration of the <code>@SpringBootApplication</code> annotation:</p>\n\n<pre><code>@Target(value=TYPE)\n@Retention(value=RUNTIME)\n@Documented\n@Inherited\n@SpringBootConfiguration\n@EnableAutoConfiguration\n@ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\npublic @interface SpringBootApplication\n</code></pre>\n\n<p>When I added the <code>@ComponentScan</code> annotation directly in my application class I did not specify the default excludedFilters and that is why the behavior was different. After adding the excludeFilter I was able to solve my issue.</p>\n"},{"comments":[{"owner":{"account_id":4608322,"reputation":6547,"user_id":3737177,"accept_rate":33,"display_name":"Thomas"},"score":3,"creation_date":1550244298,"post_id":53394808,"comment_id":96210313,"body_markdown":"Just tried this, but without the @WebMvcTest annotation I have problems with my SpringSecurity as I am using mockMvc.perform(get(path).with(user(TestConstants.USER_WRAPPER))).andReturn().getModelAndView().getModel(). Now the pages that need authentication fail the test.","body":"Just tried this, but without the @WebMvcTest annotation I have problems with my SpringSecurity as I am using mockMvc.perform(get(path).with(user(TestConstants.USER_WRAPP&zwnj;&#8203;ER))).andReturn().ge&zwnj;&#8203;tModelAndView().getM&zwnj;&#8203;odel(). Now the pages that need authentication fail the test."}],"tags":[],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1542722802,"creation_date":1542722802,"answer_id":53394808,"question_id":48078044,"body_markdown":"I could only solve it by using `@AutoConfigureMockMvc` in combination with `@SpringBootTest` instead of `@WebMvcTest`\r\n\r\n       @RunWith(SpringRunner.class)\r\n       @ComponentScan(basePackages = {&quot;com.mypackage&quot;})\r\n       @SpringBootTest\r\n       @AutoConfigureMockMvc\r\n       public class MyClass{}\r\n\r\nSomehow every other combination with `@WebMvcTest` I&#180;ve tried did result in the same error","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I could only solve it by using <code>@AutoConfigureMockMvc</code> in combination with <code>@SpringBootTest</code> instead of <code>@WebMvcTest</code></p>\n\n<pre><code>   @RunWith(SpringRunner.class)\n   @ComponentScan(basePackages = {\"com.mypackage\"})\n   @SpringBootTest\n   @AutoConfigureMockMvc\n   public class MyClass{}\n</code></pre>\n\n<p>Somehow every other combination with <code>@WebMvcTest</code> I´ve tried did result in the same error</p>\n"},{"tags":[],"owner":{"account_id":25808885,"reputation":1,"user_id":20035141,"display_name":"Шон Мелтон"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668014173,"creation_date":1668014173,"answer_id":74378849,"question_id":48078044,"body_markdown":"Solution that worked for me. After the @WebMvcTestannotation, you need to add the name of the class under test in brackets.\r\n*For example: @WebMvcTest(FacultyController.class)*\r\n\r\n    @WebMvcTest(FacultyController.class)\r\n    class FacultyControllerTests {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    @MockBean\r\n    private FacultyRepository facultyRepository;\r\n\r\n    @SpyBean\r\n    private FacultyService facultyService;\r\n\r\n    @InjectMocks\r\n    private FacultyController facultyController;\r\n    \r\n    @Test\r\n    void testFaculty() throws Exception {\r\n    }\r\n    \r\n    }","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>Solution that worked for me. After the @WebMvcTestannotation, you need to add the name of the class under test in brackets.\n<em>For example: @WebMvcTest(FacultyController.class)</em></p>\n<pre><code>@WebMvcTest(FacultyController.class)\nclass FacultyControllerTests {\n\n@Autowired\nprivate MockMvc mockMvc;\n@MockBean\nprivate FacultyRepository facultyRepository;\n\n@SpyBean\nprivate FacultyService facultyService;\n\n@InjectMocks\nprivate FacultyController facultyController;\n\n@Test\nvoid testFaculty() throws Exception {\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27450446,"reputation":1,"user_id":20942771,"display_name":"xiangcheng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672988198,"creation_date":1672988198,"answer_id":75027868,"question_id":48078044,"body_markdown":"**How to solve**\r\n\r\nJust need to put all of the classes you missed in @WebMvcTest. \r\n\r\n**example**\r\n\r\nFor example, an error msg said &quot;&#39;UserDao&#39; that could not be found&quot;. You just need to put UserDao.class in @WebMvcTest. \r\neg. @WebMvcTest({the class you want to test.class, UserDao.class})\r\n\r\n**another method**\r\n\r\nOf course, you can also use @ComponentScan to scan all of the classes that you need as well.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p><strong>How to solve</strong></p>\n<p>Just need to put all of the classes you missed in @WebMvcTest.</p>\n<p><strong>example</strong></p>\n<p>For example, an error msg said &quot;'UserDao' that could not be found&quot;. You just need to put UserDao.class in @WebMvcTest.\neg. @WebMvcTest({the class you want to test.class, UserDao.class})</p>\n<p><strong>another method</strong></p>\n<p>Of course, you can also use @ComponentScan to scan all of the classes that you need as well.</p>\n"},{"tags":[],"owner":{"account_id":22908132,"reputation":31,"user_id":17045864,"display_name":"Adarsh Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678709041,"creation_date":1678709041,"answer_id":75721633,"question_id":48078044,"body_markdown":"    @SpringBootTest(classes = {ClassToTest.class})\r\n    @ExtendWith(SpringExtension.class)\r\n    @AutoConfigureMockMvc\r\nCombination of these annotations worked for me.\r\n\r\nI was facing this same issue while controller mock mvc testing in spring boot, JUnit5, Mockito. \r\n","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<pre><code>@SpringBootTest(classes = {ClassToTest.class})\n@ExtendWith(SpringExtension.class)\n@AutoConfigureMockMvc\n</code></pre>\n<p>Combination of these annotations worked for me.</p>\n<p>I was facing this same issue while controller mock mvc testing in spring boot, JUnit5, Mockito.</p>\n"}],"owner":{"account_id":5721512,"reputation":531,"user_id":5758587,"accept_rate":67,"display_name":"dabadie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20021,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":48097887,"answer_count":5,"score":16,"last_activity_date":1678709041,"creation_date":1514984881,"question_id":48078044,"body_markdown":"I&#39;m having trouble getting my tests annotated with `@WebMvcTest` to work. I have also configured spring-cloud-config-server and spring-cloud-starter, and all Test classes with this annotation seem to fail. I have the following controller test:\r\n\r\n**Code:**\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(controllers = UserController.class)\r\n    @ActiveProfiles({&quot;dev&quot;, &quot;native&quot;})\r\n    public class UserControllerTest {\r\n\r\n        @MockBean\r\n        private UserService userService;\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n        @Autowired\r\n        private ObjectMapper objectMapper;\r\n\r\n        @Test\r\n        public void changePassword() throws Exception {\r\n            given(userService.changePassword(any(), any(), any())).willReturn(true);\r\n            MvcResult result = mockMvc.perform(post(/user/changePassword)\r\n                    .param(&quot;old&quot;, &quot;Pa$$W0rd&quot;)\r\n                    .param(&quot;new, &quot;NewPa$$W0rd&quot;))\r\n                    .andExpect(status().isOk()).andReturn();\r\n            assertThat(result).isNotNull();\r\n        assertThat(result.getResponse().getContentAsString()).isEqualTo(&quot;true&quot;);\r\n        }\r\n    }\r\n\r\n**The relevant controller:**\r\n\r\n    @RestController\r\n    @RequestMapping(/user)\r\n    @Log4j2\r\n    public class UserController {\r\n    \r\n        private UserService userService;\r\n    \r\n        public UserController(UserService userService) {\r\n            this.userService = userService;\r\n        }\r\n    \r\n        @Timed\r\n        @PostMapping(value = /changePassword)\r\n        public ResponseEntity changePassword(@RequestParam(&quot;old&quot;) String oldPassword,\r\n                                             @RequestParam(&quot;new&quot;) String newPassword) throws Exception {\r\n            String username = SecurityUtil.getCurrentLogin();\r\n            Boolean result = userService.changePassword(username, oldPassword, newPassword);\r\n            return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nIt is worth mentioning that as a result of my spring-cloud configurations I also had to update the META-INF/spring.factories file and update my main ServerApplication class with the following annotations:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @SpringBootConfiguration\r\n    @ComponentScan(excludeFilters = {@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=AppPropertiesConfiguration.class)})\r\n    @ServletComponentScan\r\n    @EnableConfigServer\r\n    @EnableRetry\r\n    @Log4j2\r\n    public class ServerApplication {\r\n    ...\r\n    ...\r\n    }\r\n\r\n**After running my tests I get the following error:**\r\n\r\n        java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportAdapterController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\adapter\\controller\\reports\\ReportAdapterController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;uploadReportController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\r\n    \t... 25 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;uploadReportController&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 43 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;reportService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 57 more\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;managerService&#39; defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 71 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;userRepository&#39;: Cannot create inner bean &#39;(inner bean)#35cbeb54&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n    \t... 85 more\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#35cbeb54&#39;: Cannot resolve reference to bean &#39;entityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299)\r\n    \t... 99 more\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;entityManagerFactory&#39; available\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:687)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1207)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:284)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\r\n    \t... 107 more\r\n\r\n**Conclusion:**\r\nAfter a lot of searching I came to the conclusion that it probably has to be something with the fact that `@WebMvcTest` has problems with classes configured as `@Configuration` or `@EnableConfig` server but everything I have tried hasn&#39;t helped me solve this issue.","title":"@WebMvcTest fails with java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I'm having trouble getting my tests annotated with <code>@WebMvcTest</code> to work. I have also configured spring-cloud-config-server and spring-cloud-starter, and all Test classes with this annotation seem to fail. I have the following controller test:</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(controllers = UserController.class)\n@ActiveProfiles({\"dev\", \"native\"})\npublic class UserControllerTest {\n\n    @MockBean\n    private UserService userService;\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @Test\n    public void changePassword() throws Exception {\n        given(userService.changePassword(any(), any(), any())).willReturn(true);\n        MvcResult result = mockMvc.perform(post(/user/changePassword)\n                .param(\"old\", \"Pa$$W0rd\")\n                .param(\"new, \"NewPa$$W0rd\"))\n                .andExpect(status().isOk()).andReturn();\n        assertThat(result).isNotNull();\n    assertThat(result.getResponse().getContentAsString()).isEqualTo(\"true\");\n    }\n}\n</code></pre>\n\n<p><strong>The relevant controller:</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(/user)\n@Log4j2\npublic class UserController {\n\n    private UserService userService;\n\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @Timed\n    @PostMapping(value = /changePassword)\n    public ResponseEntity changePassword(@RequestParam(\"old\") String oldPassword,\n                                         @RequestParam(\"new\") String newPassword) throws Exception {\n        String username = SecurityUtil.getCurrentLogin();\n        Boolean result = userService.changePassword(username, oldPassword, newPassword);\n        return new ResponseEntity&lt;&gt;(result, HttpStatus.OK);\n    }\n}\n</code></pre>\n\n<p>It is worth mentioning that as a result of my spring-cloud configurations I also had to update the META-INF/spring.factories file and update my main ServerApplication class with the following annotations:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@SpringBootConfiguration\n@ComponentScan(excludeFilters = {@ComponentScan.Filter(type= FilterType.ASSIGNABLE_TYPE, value=AppPropertiesConfiguration.class)})\n@ServletComponentScan\n@EnableConfigServer\n@EnableRetry\n@Log4j2\npublic class ServerApplication {\n...\n...\n}\n</code></pre>\n\n<p><strong>After running my tests I get the following error:</strong></p>\n\n<pre><code>    java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:44)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportAdapterController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\adapter\\controller\\reports\\ReportAdapterController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'uploadReportController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:543)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)\n    ... 25 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'uploadReportController' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\web\\controller\\reports\\UploadReportController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 43 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reportService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\reports\\ReportService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 57 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'managerService' defined in file [D:\\git\\server.management-server\\out\\production\\classes\\com\\emprepapp\\server\\service\\managers\\ManagerService.class]: Unsatisfied dependency expressed through constructor parameter 3; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:749)\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:189)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1193)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1095)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 71 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userRepository': Cannot create inner bean '(inner bean)#35cbeb54' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:313)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:129)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1531)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1276)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1138)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:835)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    ... 85 more\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#35cbeb54': Cannot resolve reference to bean 'entityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:359)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:108)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:634)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:448)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1173)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1067)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:513)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:299)\n    ... 99 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'entityManagerFactory' available\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:687)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1207)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:284)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:275)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:351)\n    ... 107 more\n</code></pre>\n\n<p><strong>Conclusion:</strong>\nAfter a lot of searching I came to the conclusion that it probably has to be something with the fact that <code>@WebMvcTest</code> has problems with classes configured as <code>@Configuration</code> or <code>@EnableConfig</code> server but everything I have tried hasn't helped me solve this issue.</p>\n"},{"tags":["java","jackson","classloader","anonymous-class"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1678709238,"post_id":75721627,"comment_id":133580157,"body_markdown":"Unless you have thousands of these, it won&#39;t make big difference. But why are you creating several anonymous classes if you can just create a `class TypeReferenceImpl&lt;T&gt; extends TypeReference&lt;T&gt;` and then use that everywhere? Or is there a need for multiple subclasses?","body":"Unless you have thousands of these, it won&#39;t make big difference. But why are you creating several anonymous classes if you can just create a <code>class TypeReferenceImpl&lt;T&gt; extends TypeReference&lt;T&gt;</code> and then use that everywhere? Or is there a need for multiple subclasses?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1678780348,"post_id":75721627,"comment_id":133595108,"body_markdown":"@f1sh that’s obviously a type token intended to capture the generic type. Hence, it must be a reifiable type to fulfill the purpose. A `TypeReferenceImpl&lt;T&gt;` does not work. A shared `class MyDtoTypeReference extends TypeReference&lt;MyDto&gt;` on the other hand, would do.","body":"@f1sh that’s obviously a type token intended to capture the generic type. Hence, it must be a reifiable type to fulfill the purpose. A <code>TypeReferenceImpl&lt;T&gt;</code> does not work. A shared <code>class MyDtoTypeReference extends TypeReference&lt;MyDto&gt;</code> on the other hand, would do."}],"owner":{"account_id":17860522,"reputation":1,"user_id":12974146,"display_name":"Andrii Yampolskyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708995,"creation_date":1678708995,"question_id":75721627,"body_markdown":"I&#39;m working on a project where we have to deal with a number of JSON entities and an SDK to make calls for that JSONs. To map JSON to DTO we use the Jackson library and TypeReference class.\r\n\r\nLet&#39;s say there is a Repository do deal with a certain type of JSONs and there are methods that use `new TypeReference` under that hood. \r\n\r\n\r\n```\r\nclass Repository {\r\n   a() {\r\n      new TypeReference&lt;MyDto&gt; {}\r\n   }\r\n\r\n   b() {\r\n      new TypeReference&lt;MyDto&gt; {}\r\n   }\r\n\r\n}\r\n```\r\n\r\nIt would create next classes after build:\r\n```\r\nRepository$1.class\r\nRepository$2.class\r\n```\r\n\r\n\r\n\r\nBasically, I have 2 global questions :\r\n1) Would the number of declarations of the same TypeReference affect somehow my project? Because there would be generated .class files for each declaration. Would it affect a classloader? \r\n\r\n2) Would you suggest any best practices to deal with TypeReference? Should I put them into a dedicated util class? Should it be a singleton instance of TypeReference or it doesn&#39;t make any sense to have it as a singleton?\r\n\r\nMove to util class to prevent over-creating of .class files.","title":"Number of the same anonymous class(TypeReference) declarations","body":"<p>I'm working on a project where we have to deal with a number of JSON entities and an SDK to make calls for that JSONs. To map JSON to DTO we use the Jackson library and TypeReference class.</p>\n<p>Let's say there is a Repository do deal with a certain type of JSONs and there are methods that use <code>new TypeReference</code> under that hood.</p>\n<pre><code>class Repository {\n   a() {\n      new TypeReference&lt;MyDto&gt; {}\n   }\n\n   b() {\n      new TypeReference&lt;MyDto&gt; {}\n   }\n\n}\n</code></pre>\n<p>It would create next classes after build:</p>\n<pre><code>Repository$1.class\nRepository$2.class\n</code></pre>\n<p>Basically, I have 2 global questions :</p>\n<ol>\n<li><p>Would the number of declarations of the same TypeReference affect somehow my project? Because there would be generated .class files for each declaration. Would it affect a classloader?</p>\n</li>\n<li><p>Would you suggest any best practices to deal with TypeReference? Should I put them into a dedicated util class? Should it be a singleton instance of TypeReference or it doesn't make any sense to have it as a singleton?</p>\n</li>\n</ol>\n<p>Move to util class to prevent over-creating of .class files.</p>\n"},{"tags":["java","collections"],"answers":[{"comments":[{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":1,"creation_date":1299254584,"post_id":5196130,"comment_id":5840461,"body_markdown":"Not for downvoting. It isn&#39;t perfect solution. In other Virtual Machine,  `addAll` can be implemented without `add()`. Tomorrow, new method for adding can be (hm..) added.","body":"Not for downvoting. It isn&#39;t perfect solution. In other Virtual Machine,  <code>addAll</code> can be implemented without <code>add()</code>. Tomorrow, new method for adding can be (hm..) added."},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"score":1,"creation_date":1299260790,"post_id":5196130,"comment_id":5842018,"body_markdown":"You should not return `false` here: *Returns false if this collection does not permit duplicates and already contains the specified element.* Throw an exception instead.","body":"You should not return <code>false</code> here: <i>Returns false if this collection does not permit duplicates and already contains the specified element.</i> Throw an exception instead."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1299263785,"post_id":5196130,"comment_id":5842654,"body_markdown":"@Stas Kurilin: but then couldn&#39;t *addAll* also re overridden?","body":"@Stas Kurilin: but then couldn&#39;t <i>addAll</i> also re overridden?"},{"owner":{"account_id":81920,"reputation":15634,"user_id":230717,"accept_rate":95,"display_name":"Stan Kurilin"},"score":0,"creation_date":1299264539,"post_id":5196130,"comment_id":5842840,"body_markdown":"@SyntaxT3rr0r, Please clarify your question, I didn&#39;t get it :( Of course in such solutions methods like add/addAll (or even class) should be marked as `final`.","body":"@SyntaxT3rr0r, Please clarify your question, I didn&#39;t get it :( Of course in such solutions methods like add/addAll (or even class) should be marked as <code>final</code>."}],"tags":[],"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1299265535,"creation_date":1299254228,"answer_id":5196130,"question_id":5196113,"body_markdown":"Not with the `java.util` collections classes, but with any particular collection you could extend it, and override the `.add()` or `.put()` to your own ends.  Something like this would work for a List:\r\n\r\n    public final boolean add(E e) {\r\n        if (this.size() == MAX_SIZE){\r\n            throw new IllegalStateException(&quot;List is already at maximum size of &quot; + MAX_SIZE);\r\n        }\r\n        super.add(e);\r\n    }\r\n\r\n  JavaDoc says [`IllegalStateExeption` is correct][1] &quot;if the element cannot be added at this time due to insertion restrictions&quot;.\r\n\r\n*Edit:*  As *Stas Kurilin* points out below, you&#39;d have to be careful to override all the methods which could add something to the collection though, such as `.addAll()`.\r\n\r\n*Edit 2:* As *Paŭlo Ebermann* points out below, the correct response when an element is not added is to throw an exception.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Collection.html#add(E) ","title":"Any way to set max size of a collection?","body":"<p>Not with the <code>java.util</code> collections classes, but with any particular collection you could extend it, and override the <code>.add()</code> or <code>.put()</code> to your own ends.  Something like this would work for a List:</p>\n\n<pre><code>public final boolean add(E e) {\n    if (this.size() == MAX_SIZE){\n        throw new IllegalStateException(\"List is already at maximum size of \" + MAX_SIZE);\n    }\n    super.add(e);\n}\n</code></pre>\n\n<p>JavaDoc says <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Collection.html#add%28E%29\" rel=\"nofollow\"><code>IllegalStateExeption</code> is correct</a> \"if the element cannot be added at this time due to insertion restrictions\".</p>\n\n<p><em>Edit:</em>  As <em>Stas Kurilin</em> points out below, you'd have to be careful to override all the methods which could add something to the collection though, such as <code>.addAll()</code>.</p>\n\n<p><em>Edit 2:</em> As <em>Paŭlo Ebermann</em> points out below, the correct response when an element is not added is to throw an exception.</p>\n"},{"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299254231,"creation_date":1299254231,"answer_id":5196133,"question_id":5196113,"body_markdown":"you can set the initial capacity of some collections.  I dont *think* you can set the max size.\r\n\r\nYou can build that logic into your domain classes (business logic) to enforce max size. Or you could create a subclass....","title":"Any way to set max size of a collection?","body":"<p>you can set the initial capacity of some collections.  I dont <em>think</em> you can set the max size.</p>\n\n<p>You can build that logic into your domain classes (business logic) to enforce max size. Or you could create a subclass....</p>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":2,"creation_date":1493655057,"post_id":5196175,"comment_id":74488169,"body_markdown":"Why implement your own collection?  What&#39;s wrong with **LinkedBlockingQueue** or **ArrayBlockingQueue**","body":"Why implement your own collection?  What&#39;s wrong with <b>LinkedBlockingQueue</b> or <b>ArrayBlockingQueue</b>"}],"tags":[],"owner":{"account_id":242394,"reputation":4585,"user_id":513872,"accept_rate":70,"display_name":"Mike Yockey"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1299254433,"creation_date":1299254433,"answer_id":5196175,"question_id":5196113,"body_markdown":"You would have to implement your own Collection. Furthermore, Your notion of max size isn&#39;t completely defined. For instance, do you wish to prevent new items from being added? Drop off the oldest item? The newest item? Max size is an attribute, not a behavior. You need to define the behavior part if you were to implement this.","title":"Any way to set max size of a collection?","body":"<p>You would have to implement your own Collection. Furthermore, Your notion of max size isn't completely defined. For instance, do you wish to prevent new items from being added? Drop off the oldest item? The newest item? Max size is an attribute, not a behavior. You need to define the behavior part if you were to implement this.</p>\n"},{"tags":[],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1299254458,"creation_date":1299254458,"answer_id":5196181,"question_id":5196113,"body_markdown":"Most general-purpose collections in the standard library DO NOT have a hard capacity - just a minimum initial allocation. The only exception I Can think off the top of my head is `LinkedBlockingQueue`. Other libraries have other bounded collections, like an `LRUCache`.\r\n\r\nIt should be fairly straightforward to create your own wrapper, if that is useful to you.\r\n\r\n","title":"Any way to set max size of a collection?","body":"<p>Most general-purpose collections in the standard library DO NOT have a hard capacity - just a minimum initial allocation. The only exception I Can think off the top of my head is <code>LinkedBlockingQueue</code>. Other libraries have other bounded collections, like an <code>LRUCache</code>.</p>\n\n<p>It should be fairly straightforward to create your own wrapper, if that is useful to you.</p>\n"},{"tags":[],"owner":{"account_id":39930,"reputation":25721,"user_id":115432,"display_name":"Kathy Van Stone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1299254482,"creation_date":1299254482,"answer_id":5196187,"question_id":5196113,"body_markdown":"If you mean &quot;is there a method on the Collection interface (or standard implementations of it) where you can set the size the answer is no. Can you write (or extend) a class to have a maximum size than you certainly can.","title":"Any way to set max size of a collection?","body":"<p>If you mean \"is there a method on the Collection interface (or standard implementations of it) where you can set the size the answer is no. Can you write (or extend) a class to have a maximum size than you certainly can.</p>\n"},{"comments":[{"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"score":0,"creation_date":1299254988,"post_id":5196214,"comment_id":5840558,"body_markdown":"Cool.  Only for lists though?","body":"Cool.  Only for lists though?"},{"owner":{"account_id":99449,"reputation":9368,"user_id":268619,"accept_rate":86,"display_name":"Matthew Gilliard"},"score":0,"creation_date":1299257803,"post_id":5196214,"comment_id":5841282,"body_markdown":"Nice.  Never used guava but I&#39;ll look into it.","body":"Nice.  Never used guava but I&#39;ll look into it."},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1588050209,"post_id":5196214,"comment_id":108742796,"body_markdown":"How about this answer instead ? https://stackoverflow.com/a/33403310/6648326","body":"How about this answer instead ? <a href=\"https://stackoverflow.com/a/33403310/6648326\">stackoverflow.com/a/33403310/6648326</a>"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1588094029,"post_id":5196214,"comment_id":108766088,"body_markdown":"@MasterJoe2 at first glance, it seems a good idea, yes. Read [Effective Java](https://www.amazon.com/Effective-Java-Joshua-Bloch/dp/0134685997), Item 18: &quot;Favor composition over inheritance&quot; to understand the pitfalls of an inheritance based approach.","body":"@MasterJoe2 at first glance, it seems a good idea, yes. Read <a href=\"https://rads.stackoverflow.com/amzn/click/com/0134685997\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">Effective Java</a>, Item 18: &quot;Favor composition over inheritance&quot; to understand the pitfalls of an inheritance based approach."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":4,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1299258712,"creation_date":1299254582,"answer_id":5196214,"question_id":5196113,"body_markdown":"You can do this:\r\n\r\n    List&lt;X&gt; list = Arrays.asList(new X[desiredSize]);\r\n    // where X is any Object type (including arrays and enums,\r\n    // but excluding primitives)\r\n\r\nThe resulting list is modifiable, but not resizable (i.e. [`add(e)`][1] and [`remove(e)`][2] don&#39;t work, but [`set(index, e)`][3] does).\r\n\r\n**Reference:**\r\n\r\n - [`Arrays.asList(T ...)`][4]\r\n\r\n\r\n----------\r\n\r\nOr: using [Guava][5], here&#39;s a static method that decorates an existing List with a maximum size\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; setMaxSize(\r\n        final List&lt;T&gt; input, final int maxSize){\r\n\r\n        return new ForwardingList&lt;T&gt;(){\r\n\r\n            @Override\r\n            public boolean addAll(Collection&lt;? extends T&gt; collection){\r\n                return standardAddAll(collection);\r\n            }\r\n            \r\n            @Override\r\n            public boolean addAll(int index, Collection&lt;? extends T&gt; elements){\r\n                return standardAddAll(index, elements);\r\n            }\r\n            \r\n            public boolean add(T e) {\r\n                checkMaxSize();\r\n                return delegate().add(e);\r\n            }\r\n            \r\n            @Override\r\n            public void add(final int index, final T e){\r\n                checkMaxSize();\r\n                delegate().add(index, e);\r\n            }\r\n\r\n            private void checkMaxSize(){\r\n                if(size() &gt;= maxSize){\r\n                    throw new UnsupportedOperationException(&quot;Maximum Size &quot;\r\n                        + maxSize + &quot; reached&quot;);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            protected List&lt;T&gt; delegate(){\r\n                return input;\r\n            }\r\n        };\r\n    }\r\n\r\nSince ForwardingXxx classes exist for all standard collection types, you can write yourself similar decorators for other collections as well.\r\n\r\nObviously this will only work if your client code uses the decorated collection. If you change the underlying collection you are screwed (just like the Collections.unmodifiableXXX methods)\r\n\r\n**Reference:**\r\n\r\n - [`ForwardingList`][6]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#remove%28E%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/util/List.html#set%28int%2C%20E%29\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\r\n  [5]: http://guava-libraries.googlecode.com/\r\n  [6]: http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/ForwardingList.html","title":"Any way to set max size of a collection?","body":"<p>You can do this:</p>\n\n<pre><code>List&lt;X&gt; list = Arrays.asList(new X[desiredSize]);\n// where X is any Object type (including arrays and enums,\n// but excluding primitives)\n</code></pre>\n\n<p>The resulting list is modifiable, but not resizable (i.e. <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#add%28E%29\" rel=\"noreferrer\"><code>add(e)</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#remove%28E%29\" rel=\"noreferrer\"><code>remove(e)</code></a> don't work, but <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/List.html#set%28int%2C%20E%29\" rel=\"noreferrer\"><code>set(index, e)</code></a> does).</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"noreferrer\"><code>Arrays.asList(T ...)</code></a></li>\n</ul>\n\n<hr>\n\n<p>Or: using <a href=\"http://guava-libraries.googlecode.com/\" rel=\"noreferrer\">Guava</a>, here's a static method that decorates an existing List with a maximum size</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; setMaxSize(\n    final List&lt;T&gt; input, final int maxSize){\n\n    return new ForwardingList&lt;T&gt;(){\n\n        @Override\n        public boolean addAll(Collection&lt;? extends T&gt; collection){\n            return standardAddAll(collection);\n        }\n\n        @Override\n        public boolean addAll(int index, Collection&lt;? extends T&gt; elements){\n            return standardAddAll(index, elements);\n        }\n\n        public boolean add(T e) {\n            checkMaxSize();\n            return delegate().add(e);\n        }\n\n        @Override\n        public void add(final int index, final T e){\n            checkMaxSize();\n            delegate().add(index, e);\n        }\n\n        private void checkMaxSize(){\n            if(size() &gt;= maxSize){\n                throw new UnsupportedOperationException(\"Maximum Size \"\n                    + maxSize + \" reached\");\n            }\n        }\n\n        @Override\n        protected List&lt;T&gt; delegate(){\n            return input;\n        }\n    };\n}\n</code></pre>\n\n<p>Since ForwardingXxx classes exist for all standard collection types, you can write yourself similar decorators for other collections as well.</p>\n\n<p>Obviously this will only work if your client code uses the decorated collection. If you change the underlying collection you are screwed (just like the Collections.unmodifiableXXX methods)</p>\n\n<p><strong>Reference:</strong></p>\n\n<ul>\n<li><a href=\"http://guava-libraries.googlecode.com/svn/tags/release08/javadoc/com/google/common/collect/ForwardingList.html\" rel=\"noreferrer\"><code>ForwardingList</code></a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1499940153,"creation_date":1299256208,"answer_id":5196549,"question_id":5196113,"body_markdown":"`ArrayBlockingQueue` and `LinkedBlockingQueue` both support a maximum size. `LinkedHashMap` supports eviction of the oldest or least-recently-used items when reaching a maximum size. \r\n\r\nWhat do you want it to do when the maximum size is reached?","title":"Any way to set max size of a collection?","body":"<p><code>ArrayBlockingQueue</code> and <code>LinkedBlockingQueue</code> both support a maximum size. <code>LinkedHashMap</code> supports eviction of the oldest or least-recently-used items when reaching a maximum size. </p>\n\n<p>What do you want it to do when the maximum size is reached?</p>\n"},{"comments":[{"owner":{"account_id":1227017,"reputation":10724,"user_id":1192381,"accept_rate":83,"display_name":"J.A.I.L."},"score":0,"creation_date":1352487843,"post_id":7726747,"comment_id":18160637,"body_markdown":"It trims an existing `Collection`. The OP asks for limiting the maximun size.","body":"It trims an existing <code>Collection</code>. The OP asks for limiting the maximun size."}],"tags":[],"owner":{"account_id":772416,"reputation":111,"user_id":808081,"display_name":"Wahid"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1318339527,"creation_date":1318339527,"answer_id":7726747,"question_id":5196113,"body_markdown":"**Maybe** I had a comparable case, as I wanted to &quot;resize&quot; a collection of objects, which I retrieved through two steps: \n\n- First step retrieved Collection of N determined items through sql query (ROWNUM did the job).\n\n- Second step validating the result collection to get finally another collection with undetermined size (may be &lt; or = the size of all sql-retrieved elements).\n\nSo in turn to get again a collection of exactly N determined objects from this &quot;CollectionOfValidatedObjects&quot;, I did the following:\n\n&gt;     public Collection&lt;Object&gt; determineSomeElements(int maxSize){    \n&gt; \n&gt; \n&gt;          Collection&lt;Object&gt; returnValues = new ArrayList&lt;Object&gt;();\n&gt; \n&gt;           // the initial collection with all retrieved validated elements\n&gt;          Collection&lt;Object&gt; myValidatedCollection = getValidatedCollection();\n&gt;\n&gt;          Iterator&lt;Object&gt; it = myValidatedCollection.iterator();\n&gt; \n&gt;          \n&gt;          // iterate and add a condition with the passed size\n&gt;          while(it.hasNext() &amp;&amp; returnValues.size() &lt; maxSize) {\n&gt;\n&gt;                returnValues.add(it.next); }    \n&gt;\n&gt;          }\n&gt;  }","title":"Any way to set max size of a collection?","body":"<p><strong>Maybe</strong> I had a comparable case, as I wanted to &quot;resize&quot; a collection of objects, which I retrieved through two steps:</p>\n<ul>\n<li><p>First step retrieved Collection of N determined items through sql query (ROWNUM did the job).</p>\n</li>\n<li><p>Second step validating the result collection to get finally another collection with undetermined size (may be &lt; or = the size of all sql-retrieved elements).</p>\n</li>\n</ul>\n<p>So in turn to get again a collection of exactly N determined objects from this &quot;CollectionOfValidatedObjects&quot;, I did the following:</p>\n<blockquote>\n<pre><code>public Collection&lt;Object&gt; determineSomeElements(int maxSize){    \n\n\n     Collection&lt;Object&gt; returnValues = new ArrayList&lt;Object&gt;();\n\n      // the initial collection with all retrieved validated elements\n     Collection&lt;Object&gt; myValidatedCollection = getValidatedCollection();\n\n     Iterator&lt;Object&gt; it = myValidatedCollection.iterator();\n\n     \n     // iterate and add a condition with the passed size\n     while(it.hasNext() &amp;&amp; returnValues.size() &lt; maxSize) {\n\n           returnValues.add(it.next); }    \n\n     }\n</code></pre>\n<p>}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446074517,"creation_date":1446074517,"answer_id":33403310,"question_id":5196113,"body_markdown":"Super easy to create your own class that extends the Collection. I just did this for my own situation, extending HashSet:\r\n\r\n    import java.util.HashSet;\r\n       \r\n    public class LimitedHashSet&lt;E&gt; extends HashSet&lt;E&gt; {\r\n        private static final long serialVersionUID = -23456691722L;\r\n        private final int limit;\r\n           \r\n        public LimitedHashSet(int limit) {\r\n            this.limit = limit;\r\n        }\r\n           \r\n        @Override\r\n        public boolean add(E object) {\r\n            if (this.size() &gt; limit) return false;\r\n            return super.add(object);\r\n        }\r\n       \r\n    } ","title":"Any way to set max size of a collection?","body":"<p>Super easy to create your own class that extends the Collection. I just did this for my own situation, extending HashSet:</p>\n\n<pre><code>import java.util.HashSet;\n\npublic class LimitedHashSet&lt;E&gt; extends HashSet&lt;E&gt; {\n    private static final long serialVersionUID = -23456691722L;\n    private final int limit;\n\n    public LimitedHashSet(int limit) {\n        this.limit = limit;\n    }\n\n    @Override\n    public boolean add(E object) {\n        if (this.size() &gt; limit) return false;\n        return super.add(object);\n    }\n\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482978724,"creation_date":1482978724,"answer_id":41372378,"question_id":5196113,"body_markdown":"Here is my own code for an ArrayList with a maximum size, build from Matthew Gilliard&#39;s answer. It overrides all three constructors from ArrayList&lt;E&gt;, and also overrides `.AddAll()`.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    \r\n    public class MaxedArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\r\n        final int MAXSIZE;\r\n    \r\n        public MaxedArrayList(int initialCapacity, final int MAXSIZE) {\r\n            super(initialCapacity);\r\n            this.MAXSIZE = MAXSIZE;\r\n        }\r\n    \r\n        public MaxedArrayList(final int MAXSIZE) {\r\n            super();\r\n            this.MAXSIZE = MAXSIZE;\r\n        }\r\n    \r\n        public MaxedArrayList(Collection&lt;? extends E&gt; c, final int MAXSIZE) {\r\n            super(c);\r\n            this.MAXSIZE = MAXSIZE;\r\n            sizeCheck();\r\n        }\r\n    \r\n        private boolean sizeCheck() {\r\n            //returns true if operation is legal.\r\n            return (size() &lt;= MAXSIZE);\r\n        }\r\n    \r\n        private boolean sizeCheck(int deltaElements) {\r\n            if (deltaElements &lt; 0) throw new IllegalArgumentException();\r\n            //returns true if operation is legal.\r\n            return (size() + deltaElements &lt;= MAXSIZE);\r\n        }\r\n    \r\n        @Override\r\n        public void add(int index, E element) throws IllegalStateException {\r\n            if (!sizeCheck()) throw throwException();\r\n            super.add(index, element);\r\n        }\r\n    \r\n        @Override\r\n        public boolean addAll(Collection&lt;? extends E&gt; c) throws IllegalStateException {\r\n            if (!sizeCheck(c.size())) throw throwException();\r\n            return (super.addAll(c));\r\n        }\r\n    \r\n        private IllegalStateException throwException() {\r\n            return new IllegalStateException(&quot;Request is over MaxArrayList max size. Elements not added.&quot;);\r\n        }\r\n    }","title":"Any way to set max size of a collection?","body":"<p>Here is my own code for an ArrayList with a maximum size, build from Matthew Gilliard's answer. It overrides all three constructors from ArrayList, and also overrides <code>.AddAll()</code>.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collection;\n\npublic class MaxedArrayList&lt;E&gt; extends ArrayList&lt;E&gt; {\n    final int MAXSIZE;\n\n    public MaxedArrayList(int initialCapacity, final int MAXSIZE) {\n        super(initialCapacity);\n        this.MAXSIZE = MAXSIZE;\n    }\n\n    public MaxedArrayList(final int MAXSIZE) {\n        super();\n        this.MAXSIZE = MAXSIZE;\n    }\n\n    public MaxedArrayList(Collection&lt;? extends E&gt; c, final int MAXSIZE) {\n        super(c);\n        this.MAXSIZE = MAXSIZE;\n        sizeCheck();\n    }\n\n    private boolean sizeCheck() {\n        //returns true if operation is legal.\n        return (size() &lt;= MAXSIZE);\n    }\n\n    private boolean sizeCheck(int deltaElements) {\n        if (deltaElements &lt; 0) throw new IllegalArgumentException();\n        //returns true if operation is legal.\n        return (size() + deltaElements &lt;= MAXSIZE);\n    }\n\n    @Override\n    public void add(int index, E element) throws IllegalStateException {\n        if (!sizeCheck()) throw throwException();\n        super.add(index, element);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends E&gt; c) throws IllegalStateException {\n        if (!sizeCheck(c.size())) throw throwException();\n        return (super.addAll(c));\n    }\n\n    private IllegalStateException throwException() {\n        return new IllegalStateException(\"Request is over MaxArrayList max size. Elements not added.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":35077,"reputation":28118,"user_id":99256,"accept_rate":89,"display_name":"MartyIX"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499941106,"creation_date":1499941106,"answer_id":45077775,"question_id":5196113,"body_markdown":"If you don&#39;t mind an external library, you can Guava&#39;s [EvictingQueue&lt;E&gt;][1].\r\n\r\n[Example][2] by `srigalamilitan`:\r\n\r\n    Queue&lt;String&gt; evictingQueue= EvictingQueue.create(10);\r\n    String message=&quot;This Is Evicting Queue &quot;;\r\n\r\n    for (int i = 1; i &lt;= 15; i++) {\r\n        evictingQueue.add(message + i);\r\n        System.out.println(&quot;EvictingQueue size: &quot; + evictingQueue.size());\r\n    }\r\n    \r\n    System.out.println(&quot;Poll Queue Evicting&quot;);\r\n    while(!evictingQueue.isEmpty()){\r\n        println(evictingQueue.poll());\r\n    }\r\n\r\nprints:\r\n\r\n    This Is Evicting Queue 6\r\n    This Is Evicting Queue 7\r\n    This Is Evicting Queue 8\r\n    This Is Evicting Queue 9\r\n    This Is Evicting Queue 10\r\n    This Is Evicting Queue 11\r\n    This Is Evicting Queue 12\r\n    This Is Evicting Queue 13\r\n    This Is Evicting Queue 14\r\n    This Is Evicting Queue 15\r\n\r\n\r\n  [1]: https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/EvictingQueue.html\r\n  [2]: http://putracode.com/example-evictingqueue-google-guava/","title":"Any way to set max size of a collection?","body":"<p>If you don't mind an external library, you can Guava's <a href=\"https://google.github.io/guava/releases/22.0/api/docs/com/google/common/collect/EvictingQueue.html\" rel=\"nofollow noreferrer\">EvictingQueue</a>.</p>\n\n<p><a href=\"http://putracode.com/example-evictingqueue-google-guava/\" rel=\"nofollow noreferrer\">Example</a> by <code>srigalamilitan</code>:</p>\n\n<pre><code>Queue&lt;String&gt; evictingQueue= EvictingQueue.create(10);\nString message=\"This Is Evicting Queue \";\n\nfor (int i = 1; i &lt;= 15; i++) {\n    evictingQueue.add(message + i);\n    System.out.println(\"EvictingQueue size: \" + evictingQueue.size());\n}\n\nSystem.out.println(\"Poll Queue Evicting\");\nwhile(!evictingQueue.isEmpty()){\n    println(evictingQueue.poll());\n}\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>This Is Evicting Queue 6\nThis Is Evicting Queue 7\nThis Is Evicting Queue 8\nThis Is Evicting Queue 9\nThis Is Evicting Queue 10\nThis Is Evicting Queue 11\nThis Is Evicting Queue 12\nThis Is Evicting Queue 13\nThis Is Evicting Queue 14\nThis Is Evicting Queue 15\n</code></pre>\n"}],"owner":{"account_id":141485,"reputation":7515,"user_id":739927,"accept_rate":88,"display_name":"Jarek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58423,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":5196214,"answer_count":11,"score":28,"last_activity_date":1678708847,"creation_date":1299254137,"question_id":5196113,"body_markdown":"Is there any way to set a maximum size of a [Collection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html) in Java?","title":"Any way to set max size of a collection?","body":"<p>Is there any way to set a maximum size of a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">Collection</a> in Java?</p>\n"},{"tags":["java","sqlite","mybatis","sqlitejdbc"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":2,"creation_date":1618258597,"post_id":67063043,"comment_id":118543590,"body_markdown":"You may need to commit the session by calling `session.commit();` before closing it.","body":"You may need to commit the session by calling <code>session.commit();</code> before closing it."},{"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"score":0,"creation_date":1618264701,"post_id":67063043,"comment_id":118545542,"body_markdown":"@ave great! that was it!","body":"@ave great! that was it!"}],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708723,"creation_date":1618248738,"question_id":67063043,"body_markdown":"I am trying to create a new database and new table using Mybatis and SQLite. I found from previous answers ([1][1], [2][2], [3][3]) that Mybatis does support using CREATE and ALTER statements, by marking them as &quot;UPDATE&quot; within Mybatis mapper syntax. However, those questions/answers were using Mapper XML whereas I&#39;m using annotations, and also none were using SQLite.\r\n\r\nSQLite creates a new database as soon as you open a new connection to it, so it doesn&#39;t matter if the DB exists before or not. A new database is created with a size of zero bytes, which is fine (SQLite treats a 0 byte file as an empty database). But after the table creation I would expect the database size to be non-zero as it stores the table structure for that table. After running my code which I think should create the table (I&#39;m checking my syntax against [this answer][4]), the database size still reads as 0 bytes, which says to me that the table has not actually been created. What am I doing wrong?\r\n\r\nMy Java code to test this scenario:\r\n\r\n```java\r\npublic class Example {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString userHomePath = System.getProperty(&quot;user.home&quot;);\r\n\t\tFile exampleDb = new File(userHomePath, &quot;example.sqlite3&quot;);\r\n\t\tString jdbcConnectionString = &quot;jdbc:sqlite:&quot; + exampleDb.getAbsolutePath();\r\n\t\tDataSource dataSource = new PooledDataSource(&quot;org.sqlite.JDBC&quot;, jdbcConnectionString, null, null);\r\n\t\tEnvironment environment = new Environment(&quot;Main&quot;, new JdbcTransactionFactory(), dataSource);\r\n\t\tConfiguration configuration = new Configuration(environment);\r\n\t\tconfiguration.addMapper(GenericMapper.class);\r\n\t\tSqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\r\n\t\tSqlSessionFactory sessionFactory = builder.build(configuration);\r\n\t\ttry (SqlSession session = sessionFactory.openSession()) {\r\n\t\t\tGenericMapper genericMapper = session.getMapper(GenericMapper.class);\r\n\t\t\tgenericMapper.createExampleTableIfMissing();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy mapper:\r\n\r\n```java\r\npublic interface GenericMapper {\r\n\t@Update(&quot;CREATE TABLE IF NOT EXISTS extbl (id INTEGER PRIMARY KEY AUTOINCREMENT)&quot;)\r\n\tvoid createExampleTableIfMissing();\r\n}\r\n```\r\n\r\nChecking the file after this code has run:\r\n\r\n```none\r\nC:\\Users\\me&gt;dir example.sqlite3\r\n Volume in drive C is Windows\r\n Volume Serial Number is D4DE-B46A\r\n\r\n Directory of C:\\Users\\me\r\n\r\n12/04/2021  18:14                 0 example.sqlite3\r\n               1 File(s)              0 bytes\r\n               0 Dir(s)  27,326,779,392 bytes free\r\n\r\nC:\\Users\\me&gt;\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/46355690/is-it-possible-to-use-mybatis-to-issue-ddl\r\n  [2]: https://stackoverflow.com/questions/18786560/does-mybatis-support-ddl/18849402#18849402\r\n  [3]: https://stackoverflow.com/questions/32270897/creating-a-table-programmatically-using-mybatis-and-mysql\r\n  [4]: https://stackoverflow.com/a/4098026/191761","title":"How can I create a table using Mybatis and SQLite?","body":"<p>I am trying to create a new database and new table using Mybatis and SQLite. I found from previous answers (<a href=\"https://stackoverflow.com/questions/46355690/is-it-possible-to-use-mybatis-to-issue-ddl\">1</a>, <a href=\"https://stackoverflow.com/questions/18786560/does-mybatis-support-ddl/18849402#18849402\">2</a>, <a href=\"https://stackoverflow.com/questions/32270897/creating-a-table-programmatically-using-mybatis-and-mysql\">3</a>) that Mybatis does support using CREATE and ALTER statements, by marking them as &quot;UPDATE&quot; within Mybatis mapper syntax. However, those questions/answers were using Mapper XML whereas I'm using annotations, and also none were using SQLite.</p>\n<p>SQLite creates a new database as soon as you open a new connection to it, so it doesn't matter if the DB exists before or not. A new database is created with a size of zero bytes, which is fine (SQLite treats a 0 byte file as an empty database). But after the table creation I would expect the database size to be non-zero as it stores the table structure for that table. After running my code which I think should create the table (I'm checking my syntax against <a href=\"https://stackoverflow.com/a/4098026/191761\">this answer</a>), the database size still reads as 0 bytes, which says to me that the table has not actually been created. What am I doing wrong?</p>\n<p>My Java code to test this scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Example {\n\n    public static void main(String[] args) {\n        String userHomePath = System.getProperty(&quot;user.home&quot;);\n        File exampleDb = new File(userHomePath, &quot;example.sqlite3&quot;);\n        String jdbcConnectionString = &quot;jdbc:sqlite:&quot; + exampleDb.getAbsolutePath();\n        DataSource dataSource = new PooledDataSource(&quot;org.sqlite.JDBC&quot;, jdbcConnectionString, null, null);\n        Environment environment = new Environment(&quot;Main&quot;, new JdbcTransactionFactory(), dataSource);\n        Configuration configuration = new Configuration(environment);\n        configuration.addMapper(GenericMapper.class);\n        SqlSessionFactoryBuilder builder = new SqlSessionFactoryBuilder();\n        SqlSessionFactory sessionFactory = builder.build(configuration);\n        try (SqlSession session = sessionFactory.openSession()) {\n            GenericMapper genericMapper = session.getMapper(GenericMapper.class);\n            genericMapper.createExampleTableIfMissing();\n        }\n    }\n\n}\n</code></pre>\n<p>My mapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface GenericMapper {\n    @Update(&quot;CREATE TABLE IF NOT EXISTS extbl (id INTEGER PRIMARY KEY AUTOINCREMENT)&quot;)\n    void createExampleTableIfMissing();\n}\n</code></pre>\n<p>Checking the file after this code has run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Users\\me&gt;dir example.sqlite3\n Volume in drive C is Windows\n Volume Serial Number is D4DE-B46A\n\n Directory of C:\\Users\\me\n\n12/04/2021  18:14                 0 example.sqlite3\n               1 File(s)              0 bytes\n               0 Dir(s)  27,326,779,392 bytes free\n\nC:\\Users\\me&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":10908524,"reputation":108,"user_id":8018614,"display_name":"Badhusha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678708716,"creation_date":1678708716,"question_id":75721576,"body_markdown":"I have 2 entities with OneToMany and ManyToOne association as shown below.\r\nAnd I do have separate DTOs for both entities and used ModelMapper to map those dtos to entities and vice-versa.\r\n\r\n**Employee.java**\r\n\r\n     pubic class Employee{\r\n\r\n      @Id\r\n      private String Id;\r\n\r\n      @OneToMany(mappedBy=&quot;employee&quot;,cascade = CascadeType.ALL,orphanRemoval = true,)\r\n      private List&lt;Phone&gt; phones;\r\n\r\n     }\r\n\r\n\r\n**Phone.java**\r\n\r\n    pubic class Phone {\r\n\r\n     @Id\r\n     private String Id;\r\n\r\n     @ManyToOne\r\n     @JoinColumn(name=&quot;employee&quot;)\r\n     private Employee employee; \r\n\r\n    }\r\n\r\n\r\n**EmployeeService.java**\r\n\r\n    public class EmployeeService {\r\n\r\n     @Autowired\r\n     private ModelMapper modelMapper;\r\n\r\n     @Autowired\r\n     private EmployeeRepo emprepo;\r\n\r\n     public void addEmployee(EmployeeDto employeedto){\r\n      Employee emp = modelMapper.map(employeedto,Employee.class);\r\n      emprepo.save(emp);\r\n      \r\n     }\r\n\r\n    }\r\n\r\nThe invocation of **addEmployee** is saving the employee details in the Employee Table correct, but the Phone Table is having null value for all the fields except the primarykey column. \r\n\r\nPlease correct me what I am doing wrong.","title":"Spring Data JPA : OneToMany association saves null values","body":"<p>I have 2 entities with OneToMany and ManyToOne association as shown below.\nAnd I do have separate DTOs for both entities and used ModelMapper to map those dtos to entities and vice-versa.</p>\n<p><strong>Employee.java</strong></p>\n<pre><code> pubic class Employee{\n\n  @Id\n  private String Id;\n\n  @OneToMany(mappedBy=&quot;employee&quot;,cascade = CascadeType.ALL,orphanRemoval = true,)\n  private List&lt;Phone&gt; phones;\n\n }\n</code></pre>\n<p><strong>Phone.java</strong></p>\n<pre><code>pubic class Phone {\n\n @Id\n private String Id;\n\n @ManyToOne\n @JoinColumn(name=&quot;employee&quot;)\n private Employee employee; \n\n}\n</code></pre>\n<p><strong>EmployeeService.java</strong></p>\n<pre><code>public class EmployeeService {\n\n @Autowired\n private ModelMapper modelMapper;\n\n @Autowired\n private EmployeeRepo emprepo;\n\n public void addEmployee(EmployeeDto employeedto){\n  Employee emp = modelMapper.map(employeedto,Employee.class);\n  emprepo.save(emp);\n  \n }\n\n}\n</code></pre>\n<p>The invocation of <strong>addEmployee</strong> is saving the employee details in the Employee Table correct, but the Phone Table is having null value for all the fields except the primarykey column.</p>\n<p>Please correct me what I am doing wrong.</p>\n"},{"tags":["java","quarkus","quarkus-rest-client"],"comments":[{"owner":{"account_id":258666,"reputation":455,"user_id":3305708,"display_name":"Luisao"},"score":0,"creation_date":1615188572,"post_id":66525085,"comment_id":117603962,"body_markdown":"Do you need to remove /myapp/ path?","body":"Do you need to remove /myapp/ path?"},{"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"score":0,"creation_date":1615188684,"post_id":66525085,"comment_id":117604009,"body_markdown":"no, /myapp is my base url/ context path it should be there, but I need /rest URL for all rest request in common.","body":"no, /myapp is my base url/ context path it should be there, but I need /rest URL for all rest request in common."}],"answers":[{"tags":[],"owner":{"account_id":9628035,"reputation":830,"user_id":7147006,"accept_rate":100,"display_name":"KevKosDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615237239,"creation_date":1615237239,"answer_id":66537132,"question_id":66525085,"body_markdown":"Try to annotate your resource classes with `@Path(&quot;/&quot;)` and set `quarkus.resteasy.path=/rest`.\r\nThis should result in your described behaviour.\r\n\r\n`quarkus.rest.path` can be removed.","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>Try to annotate your resource classes with <code>@Path(&quot;/&quot;)</code> and set <code>quarkus.resteasy.path=/rest</code>.\nThis should result in your described behaviour.</p>\n<p><code>quarkus.rest.path</code> can be removed.</p>\n"},{"tags":[],"owner":{"account_id":19383629,"reputation":118,"user_id":14174293,"display_name":"jwwallin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678708484,"creation_date":1678708484,"answer_id":75721542,"question_id":66525085,"body_markdown":"This question is very old, but in case someone stumbles on this, according to [this post on the Quarkus blog](https://quarkus.io/blog/path-resolution-in-quarkus/) the following should produce the required result:\r\n```properties\r\nquarkus.resteasy.path=rest/*\r\nquarkus.http.root-path=/myapp\r\n```","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>This question is very old, but in case someone stumbles on this, according to <a href=\"https://quarkus.io/blog/path-resolution-in-quarkus/\" rel=\"nofollow noreferrer\">this post on the Quarkus blog</a> the following should produce the required result:</p>\n<pre><code>quarkus.resteasy.path=rest/*\nquarkus.http.root-path=/myapp\n</code></pre>\n"}],"owner":{"account_id":4224410,"reputation":638,"user_id":3458271,"display_name":"user3458271"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678708484,"creation_date":1615183988,"question_id":66525085,"body_markdown":"I am working on Quarkus application and what I want to do is to set the global path from application.properties file for all rest rest, my application is working but while calling rest request it is giving not found 404.\r\n\r\n    @ApplicationScoped\r\n    public class ABC {\r\n          @POST\r\n\t      @javax.ws.rs.Path(&quot;/callit&quot;)\r\n\t      public Uni&lt;Response&gt; deleteNoti()\r\n\t\t  {\r\n               //whatever logic\r\n           }\r\n    }\r\n\r\n     @ApplicationScoped\r\n    public class PAR {\r\n          @POST\r\n\t      @javax.ws.rs.Path(&quot;/callitPar&quot;)\r\n\t      public Uni&lt;Response&gt; addNoti()\r\n\t\t  {\r\n               //whatever logic\r\n           }\r\n    }\r\n\r\n\r\nAnd in application.properties file I am configuring below properties:\r\n\r\n    quarkus.resteasy.path=/rest/*\r\n    quarkus.rest.path=/rest/*\r\n    quarkus.http.root-path=/myapp\r\n\r\nbut when I am calling rest request from front-end it is not working, my rest request should be as below:\r\n\r\n    http://localhost:8080/myapp/rest/callit\r\n    http://localhost:8080/myapp/rest/callitPar\r\n\r\nWhat I want is every rest request should start with &quot;/rest/*&quot; and my application base URL should be &quot;/myapp&quot;, Let me know how can we achieve it?\r\n\r\n","title":"How to set base url and common rest URL from property file in Quarkus?","body":"<p>I am working on Quarkus application and what I want to do is to set the global path from application.properties file for all rest rest, my application is working but while calling rest request it is giving not found 404.</p>\n<pre><code>@ApplicationScoped\npublic class ABC {\n      @POST\n      @javax.ws.rs.Path(&quot;/callit&quot;)\n      public Uni&lt;Response&gt; deleteNoti()\n      {\n           //whatever logic\n       }\n}\n\n @ApplicationScoped\npublic class PAR {\n      @POST\n      @javax.ws.rs.Path(&quot;/callitPar&quot;)\n      public Uni&lt;Response&gt; addNoti()\n      {\n           //whatever logic\n       }\n}\n</code></pre>\n<p>And in application.properties file I am configuring below properties:</p>\n<pre><code>quarkus.resteasy.path=/rest/*\nquarkus.rest.path=/rest/*\nquarkus.http.root-path=/myapp\n</code></pre>\n<p>but when I am calling rest request from front-end it is not working, my rest request should be as below:</p>\n<pre><code>http://localhost:8080/myapp/rest/callit\nhttp://localhost:8080/myapp/rest/callitPar\n</code></pre>\n<p>What I want is every rest request should start with &quot;/rest/*&quot; and my application base URL should be &quot;/myapp&quot;, Let me know how can we achieve it?</p>\n"},{"tags":["java","intellij-idea","keyboard-shortcuts"],"answers":[{"comments":[{"owner":{"account_id":4107477,"reputation":2096,"user_id":5411628,"accept_rate":33,"display_name":"nadavgam"},"score":0,"creation_date":1462697426,"post_id":37097952,"comment_id":61738827,"body_markdown":"because i just want a quick reminder of several methods and to go over couple of them fast, with ctrl+click method I need to do a lot of jumping back and forth which isnt ideal at all ...","body":"because i just want a quick reminder of several methods and to go over couple of them fast, with ctrl+click method I need to do a lot of jumping back and forth which isnt ideal at all ..."},{"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"score":1,"creation_date":1462701161,"post_id":37097952,"comment_id":61739717,"body_markdown":"You can Ctrl Click then if you do Ctrl Alt Left Arrow you jump back","body":"You can Ctrl Click then if you do Ctrl Alt Left Arrow you jump back"}],"tags":[],"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462701231,"creation_date":1462697189,"answer_id":37097952,"question_id":37097919,"body_markdown":"Not to my knowledge, \r\n\r\nWhy would you just want to see the code in a popup? The signature yes, if you hover over the method it will show you the parameter types but if you are looking at body code then Ctrl-Click to jump to the code. Then you can CTRL-ALT Left Arrow to return to the original location\r\n","title":"showing in popup window method implementation in intellij","body":"<p>Not to my knowledge, </p>\n\n<p>Why would you just want to see the code in a popup? The signature yes, if you hover over the method it will show you the parameter types but if you are looking at body code then Ctrl-Click to jump to the code. Then you can CTRL-ALT Left Arrow to return to the original location</p>\n"},{"comments":[{"owner":{"account_id":4107477,"reputation":2096,"user_id":5411628,"accept_rate":33,"display_name":"nadavgam"},"score":0,"creation_date":1462697900,"post_id":37097969,"comment_id":61738955,"body_markdown":"for me its just jumping to the source file ... u see it in a **popup window** ?","body":"for me its just jumping to the source file ... u see it in a <b>popup window</b> ?"},{"owner":{"account_id":3385580,"reputation":1940,"user_id":2841607,"accept_rate":43,"display_name":"minitauros"},"score":1,"creation_date":1640174279,"post_id":37097969,"comment_id":124531925,"body_markdown":"This is what I was looking for. CMD + Y for me, on Mac.","body":"This is what I was looking for. CMD + Y for me, on Mac."}],"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1678708293,"creation_date":1462697339,"answer_id":37097969,"question_id":37097919,"body_markdown":"The feature is called **Quick Definition Lookup** (*Main menu* &gt; *View* &gt; *Tool Windows* in the keymap settings). The default combination is &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;I&lt;/kbd&gt; (or &lt;kbd&gt;⌘&lt;/kbd&gt;+&lt;kbd&gt;Y&lt;/kbd&gt; for Mac).\r\n\r\n[![Preferences -&gt; Keymap window][1]][1]\r\n\r\nIt appears like\r\n\r\n[![Preview of the popup][2]][2]\r\n\r\nAny editing actions in the popup window lead to jumping into the file where the code is defined.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u031E.png\r\n  [2]: https://i.stack.imgur.com/ahU57.png","title":"showing in popup window method implementation in intellij","body":"<p>The feature is called <strong>Quick Definition Lookup</strong> (<em>Main menu</em> &gt; <em>View</em> &gt; <em>Tool Windows</em> in the keymap settings). The default combination is <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>I</kbd> (or <kbd>⌘</kbd>+<kbd>Y</kbd> for Mac).</p>\n<p><a href=\"https://i.stack.imgur.com/u031E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u031E.png\" alt=\"Preferences -&gt; Keymap window\" /></a></p>\n<p>It appears like</p>\n<p><a href=\"https://i.stack.imgur.com/ahU57.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ahU57.png\" alt=\"Preview of the popup\" /></a></p>\n<p>Any editing actions in the popup window lead to jumping into the file where the code is defined.</p>\n"}],"owner":{"account_id":4107477,"reputation":2096,"user_id":5411628,"accept_rate":33,"display_name":"nadavgam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4513,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":37097969,"answer_count":2,"score":19,"last_activity_date":1678708293,"creation_date":1462696982,"question_id":37097919,"body_markdown":"I&#39;m using **Intellij 2016.1** and I was wondering if there&#39;s a shortcut to see the method body in a popup window , instead of **jumping** to source code like &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Left Mouse Button&lt;/kbd&gt; does .\r\n","title":"showing in popup window method implementation in intellij","body":"<p>I'm using <strong>Intellij 2016.1</strong> and I was wondering if there's a shortcut to see the method body in a popup window , instead of <strong>jumping</strong> to source code like <kbd>Ctrl</kbd> + <kbd>Left Mouse Button</kbd> does .</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1678708709,"post_id":75721499,"comment_id":133580006,"body_markdown":"The `com.sun` prefix and the `.internal.` package name fragement strongly suggest that this is an internally shaded copy of slf4j that is used somewhere for internal purposes. If your IDE keeps suggesting it, I suggest you put the whole `com.sun.org.slf4j` subtree as an exclusion from suggestions. You probably don&#39;t find any documentation for it because it&#39;s not meant to be used by anyone other than the piece of software that produced it.","body":"The <code>com.sun</code> prefix and the <code>.internal.</code> package name fragement strongly suggest that this is an internally shaded copy of slf4j that is used somewhere for internal purposes. If your IDE keeps suggesting it, I suggest you put the whole <code>com.sun.org.slf4j</code> subtree as an exclusion from suggestions. You probably don&#39;t find any documentation for it because it&#39;s not meant to be used by anyone other than the piece of software that produced it."}],"owner":{"account_id":3764278,"reputation":1175,"user_id":3128213,"display_name":"George Lords of Castle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678708211,"creation_date":1678708211,"question_id":75721499,"body_markdown":"Making some tries with slf4j, my IDE automatically imports com.sun.org.slf4j.internal.Logger, but in the only documentation I am able to find in the Internet is about org.slf4j.Logger.\r\nAll the tries I have done work with org.slf4j.Logger, so I am asking what is the difference between the 2 and what should be the correct one to use.\r\nThanks","title":"what is the differenct between org.slf4j.Logger and com.sun.org.slf4j.internal.Logger?","body":"<p>Making some tries with slf4j, my IDE automatically imports com.sun.org.slf4j.internal.Logger, but in the only documentation I am able to find in the Internet is about org.slf4j.Logger.\nAll the tries I have done work with org.slf4j.Logger, so I am asking what is the difference between the 2 and what should be the correct one to use.\nThanks</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":1396828,"reputation":471,"user_id":1326437,"accept_rate":75,"display_name":"GournaySylvain"},"score":1,"creation_date":1472821119,"post_id":38154541,"comment_id":65919628,"body_markdown":"is there a way to not specify &quot;employees&quot; in ``employees[&amp;1]`` (like reusing the matching key)?","body":"is there a way to not specify &quot;employees&quot; in <code>employees[&amp;1]</code> (like reusing the matching key)?"},{"owner":{"account_id":2993263,"reputation":4536,"user_id":2540376,"display_name":"Milo S"},"score":6,"creation_date":1472910583,"post_id":38154541,"comment_id":65947861,"body_markdown":"Yep    &quot;f_name&quot;: &quot;&amp;2[&amp;1].firstName&quot;","body":"Yep    &quot;f_name&quot;: &quot;&amp;2[&amp;1].firstName&quot;"}],"tags":[],"owner":{"account_id":2993263,"reputation":4536,"user_id":2540376,"display_name":"Milo S"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1651220622,"creation_date":1467411819,"answer_id":38154541,"question_id":37865871,"body_markdown":"This spec does what you want\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;employees&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;f_name&quot;: &quot;employees[&amp;1].firstName&quot;,\r\n          &quot;l_name&quot;: &quot;employees[&amp;1].lastName&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe key thing is you need to use a **`&quot;*&quot;`** to loop thru all the elements of the **`employees`** array, then when you recurse / match down to **`f_name`** and **`l_name`**, you need to reference the index array using **`[&amp;1]`**, which means look up the tree two levels, zero then one, and use that as an index array in the output.\r\n\r\n","title":"How do I transform an array using Jolt?","body":"<p>This spec does what you want</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;employees&quot;: {\n        &quot;*&quot;: {\n          &quot;f_name&quot;: &quot;employees[&amp;1].firstName&quot;,\n          &quot;l_name&quot;: &quot;employees[&amp;1].lastName&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The key thing is you need to use a <strong><code>&quot;*&quot;</code></strong> to loop thru all the elements of the <strong><code>employees</code></strong> array, then when you recurse / match down to <strong><code>f_name</code></strong> and <strong><code>l_name</code></strong>, you need to reference the index array using <strong><code>[&amp;1]</code></strong>, which means look up the tree two levels, zero then one, and use that as an index array in the output.</p>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678708141,"creation_date":1678708141,"answer_id":75721485,"question_id":37865871,"body_markdown":"One option would be generating new keys by copying the existing ones through use of a **modify** transformation, and the get rid of the originals by using **remove** transformation spec such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;employees&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;firstName&quot;: &quot;@1,f_name&quot;,\r\n          &quot;lastName&quot;: &quot;@1,l_name&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;remove&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*_name&quot;: &quot;&quot; // common key identifier\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe ***demo*** on the site http://jolt-demo.appspot.com/ is \r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sOBMi.jpg","title":"How do I transform an array using Jolt?","body":"<p>One option would be generating new keys by copying the existing ones through use of a <strong>modify</strong> transformation, and the get rid of the originals by using <strong>remove</strong> transformation spec such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;employees&quot;: {\n        &quot;*&quot;: {\n          &quot;firstName&quot;: &quot;@1,f_name&quot;,\n          &quot;lastName&quot;: &quot;@1,l_name&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;remove&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*_name&quot;: &quot;&quot; // common key identifier\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the <em><strong>demo</strong></em> on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/sOBMi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sOBMi.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":356150,"reputation":1634,"user_id":695486,"accept_rate":66,"display_name":"wxkevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18772,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":38154541,"answer_count":2,"score":12,"last_activity_date":1678708141,"creation_date":1466098503,"question_id":37865871,"body_markdown":"I am getting a null value for my transformed object when trying to convert something like this:\r\n```json\r\n{   \r\n  &quot;employees&quot;: [\r\n    { &quot;f_name&quot; : &quot;tom&quot;, &quot;l_name&quot; : &quot;smith&quot; },\r\n    { &quot;f_name&quot; : &quot;don&quot;, &quot;l_name&quot; : &quot;jones&quot; }\r\n  ]\r\n}\r\n```\r\nto this:\r\n```json\r\n{\r\n  &quot;employees&quot;: [\r\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; },\r\n    { &quot;firstName&quot; : &quot;don&quot;, &quot;lastName&quot; : &quot;jones&quot; }\r\n  ]\r\n}\r\n```\r\n   \r\nThis is the spec I am using:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot; : &quot;shift&quot;,\r\n    &quot;spec&quot; : {\r\n      &quot;employees&quot; : {\r\n        &quot;f_name&quot; : &quot;firstName&quot;,\r\n        &quot;l_name&quot; : &quot;lastName&quot;\r\n      }\r\n   }\r\n ]\r\n```\r\nThis is the code I am using:\r\n\r\n    List&lt;Object&gt; chainrSpecJSON = JsonUtils.classpathToList(&quot;path/spec.json&quot;);\r\n    Chainr chainr = Chainr.fromSpec(chainrSpecJSON);\r\n    Object inputJSON = JsonUtils.classpathToObject(&quot;path/input.json&quot;);\r\n\r\n    Object transformed = chainr.transform(inputJSON);\r\n    System.out.println(transformed);\r\n\r\n  \r\nI was able to successfully transform the following input with the same spec and code as above:\r\n```json\r\n{   \r\n  &quot;employees&quot;: \r\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; }\r\n}\r\n```\r\nSo what do I need to do to transform an array of employee objects?\r\n\r\n\r\n","title":"How do I transform an array using Jolt?","body":"<p>I am getting a null value for my transformed object when trying to convert something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{   \n  &quot;employees&quot;: [\n    { &quot;f_name&quot; : &quot;tom&quot;, &quot;l_name&quot; : &quot;smith&quot; },\n    { &quot;f_name&quot; : &quot;don&quot;, &quot;l_name&quot; : &quot;jones&quot; }\n  ]\n}\n</code></pre>\n<p>to this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;employees&quot;: [\n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; },\n    { &quot;firstName&quot; : &quot;don&quot;, &quot;lastName&quot; : &quot;jones&quot; }\n  ]\n}\n</code></pre>\n<p>This is the spec I am using:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot; : &quot;shift&quot;,\n    &quot;spec&quot; : {\n      &quot;employees&quot; : {\n        &quot;f_name&quot; : &quot;firstName&quot;,\n        &quot;l_name&quot; : &quot;lastName&quot;\n      }\n   }\n ]\n</code></pre>\n<p>This is the code I am using:</p>\n<pre><code>List&lt;Object&gt; chainrSpecJSON = JsonUtils.classpathToList(&quot;path/spec.json&quot;);\nChainr chainr = Chainr.fromSpec(chainrSpecJSON);\nObject inputJSON = JsonUtils.classpathToObject(&quot;path/input.json&quot;);\n\nObject transformed = chainr.transform(inputJSON);\nSystem.out.println(transformed);\n</code></pre>\n<p>I was able to successfully transform the following input with the same spec and code as above:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{   \n  &quot;employees&quot;: \n    { &quot;firstName&quot; : &quot;tom&quot;, &quot;lastName&quot; : &quot;smith&quot; }\n}\n</code></pre>\n<p>So what do I need to do to transform an array of employee objects?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1626060,"reputation":852,"user_id":1501605,"accept_rate":100,"display_name":"Halacs"},"score":2,"creation_date":1678637346,"post_id":75714424,"comment_id":133568105,"body_markdown":"Are you sure you have only one instance of WelcomeController ? BTW, stage should be private as well instead of public and if you need to reach it outside of your WelcomeController class then create a proper method.","body":"Are you sure you have only one instance of WelcomeController ? BTW, stage should be private as well instead of public and if you need to reach it outside of your WelcomeController class then create a proper method."},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678637612,"post_id":75714424,"comment_id":133568163,"body_markdown":"Oh, the stage property was initally private - i had no intention of making it public from the start, but i think it is part of what i had changed unknowingly while trying to figure out the cause of the NullPointerException","body":"Oh, the stage property was initally private - i had no intention of making it public from the start, but i think it is part of what i had changed unknowingly while trying to figure out the cause of the NullPointerException"},{"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"score":0,"creation_date":1678637830,"post_id":75714424,"comment_id":133568196,"body_markdown":"If your code throws a `NullPointerException`, you should take a close look at the message. Since Java 14 Oracle enhanced the NPE to show more detailed information about the cause. If this does not help, you should definitely add the NPE to your question.","body":"If your code throws a <code>NullPointerException</code>, you should take a close look at the message. Since Java 14 Oracle enhanced the NPE to show more detailed information about the cause. If this does not help, you should definitely add the NPE to your question."},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678637845,"post_id":75714424,"comment_id":133568200,"body_markdown":"Also, i was able to call the two switch methods without issues, but the quit_frame() would throw the NullPointerException","body":"Also, i was able to call the two switch methods without issues, but the quit_frame() would throw the NullPointerException"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678638229,"post_id":75714424,"comment_id":133568259,"body_markdown":"Please create and post a [mre]. Since you have multiple FXML files, you would need to post all the FXML files as well as all the controllers: so please make the smallest example that shows the problem before posting it here.","body":"Please create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Since you have multiple FXML files, you would need to post all the FXML files as well as all the controllers: so please make the smallest example that shows the problem before posting it here."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1678638384,"post_id":75714424,"comment_id":133568283,"body_markdown":"That said, what is wrong with injecting the root node from the FXML, and then just doing `root.getScene().getWindow().hide()`?","body":"That said, what is wrong with injecting the root node from the FXML, and then just doing <code>root.getScene().getWindow().hide()</code>?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678639285,"post_id":75714424,"comment_id":133568417,"body_markdown":"when writing the [mcve] please fix the java naming violations (no underscores)","body":"when writing the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please fix the java naming violations (no underscores)"},{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678640718,"post_id":75714424,"comment_id":133568682,"body_markdown":"my question has been updated to include a minimal reproducible example - which include just 4 files - the main, controller and the 2 fxml views","body":"my question has been updated to include a minimal reproducible example - which include just 4 files - the main, controller and the 2 fxml views"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1678641102,"post_id":75714424,"comment_id":133568757,"body_markdown":"good - but you forgot to fix the naming violation","body":"good - but you forgot to fix the naming violation"}],"answers":[{"comments":[{"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"score":0,"creation_date":1678696268,"post_id":75715019,"comment_id":133576579,"body_markdown":"This is the error i am getting when i re-wrote my code as you directed above:\n\n```Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Scene.setRoot(javafx.scene.Parent)&quot; because the return value of &quot;javafx.scene.Parent.getScene()&quot; is null\n\tat com.ajaxict.edhub/com.ajaxict.edhub.RegisterController.switchToWelcome(RegisterController.java:22)\n```  \n\nit is obviously complaining about the root which has not being initialised but we are attempting to call .getScene().setRoot() upon it","body":"This is the error i am getting when i re-wrote my code as you directed above:  <code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.Scene.setRoot(javafx.scene.Parent)&quot; because the return value of &quot;javafx.scene.Parent.getScene()&quot; is null \tat com.ajaxict.edhub&#47;com.ajaxict.edhub.RegisterController.switc&zwnj;&#8203;hToWelcome(RegisterC&zwnj;&#8203;ontroller.java:22) </code>    it is obviously complaining about the root which has not being initialised but we are attempting to call .getScene().setRoot() upon it"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1678708061,"post_id":75715019,"comment_id":133579824,"body_markdown":"@Yusuf That should not be possible; make sure you are trying the latest version (I had some typos in the original).","body":"@Yusuf That should not be possible; make sure you are trying the latest version (I had some typos in the original)."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678708054,"creation_date":1678642091,"answer_id":75715019,"question_id":75714424,"body_markdown":"The instance variable `stage` is only initialized in each controller when you call either `switchToWelcome` or `switchToRegister`. But in both cases, you then immediately replace the current view with one loaded from an FXML file, which will create a new controller. The `stage` variable will not have been initialized in that new controller instance. Consequently, any time `quitApp()` is invoked, `stage` is null on the instance on which it is invoked.\r\n\r\nIt is a bad idea to use the same controller class for controllers created for different FXML files, because it leads directly to the kind of confusion that is causing this error. Each FXML file should have its own controller class.\r\n\r\nTo get a reference to the current window, it&#39;s much cleaner to just get it from a node displayed in that window, which can be injected into the controller in the usual way. \r\n\r\nSo for example you can do\r\n\r\n    @FXML\r\n    private Parent root ;\r\n\r\nand then\r\n\r\n    @FXML\r\n    private void quitApp() {\r\n        root.getScene().getWindow().hide();\r\n    }\r\n\r\nwhich will close the current window. If you literally want to close the entire application (not just close the current window, which may or may not exit the application), you can of course do `Platform.exit()` instead.\r\n\r\nHere is a version of your application using this approach.\r\n\r\nNote the addition of the `fx:id` to the root elements of the FMXL.\r\n\r\nWelcomeView.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;txtPword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n          &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nWelcomeController.java:\r\n\r\n    package com.ajaxict.edhub;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class WelcomeController {\r\n    \r\n        @FXML\r\n        private Parent root;\r\n    \r\n    \r\n        public void switchToWelcome() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n        public void switchToRegister() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n    \r\n        public void quitApp() {\r\n            this.root.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\n(I don&#39;t really understand why your &quot;Welcome&quot; screen has &quot;switch to welcome&quot; functionality, but I left it in.)\r\n\r\nregisterView.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.ComboBox?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.PasswordField?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.RegisterController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n          &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;TextField fx:id=&quot;txtEmail2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;17.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n          &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nRegisterController.java:\r\n\r\n    package com.ajaxict.edhub;\r\n    \r\n    import javafx.event.ActionEvent;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class RegisterController {\r\n    \r\n        @FXML\r\n        private Parent root;\r\n    \r\n    \r\n        public void switchToWelcome() throws IOException {\r\n            Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n            this.root.getScene().setRoot(newRoot);\r\n        }\r\n    \r\n        \r\n    \r\n    \r\n        public void quitApp () {\r\n            this.root.getScene().getWindow().hide();\r\n        }\r\n    \r\n    }\r\n\r\nYou can obviously remove the duplicated code in the controllers by using delegation or inheritance.","title":"Unexpected NullPointerException()","body":"<p>The instance variable <code>stage</code> is only initialized in each controller when you call either <code>switchToWelcome</code> or <code>switchToRegister</code>. But in both cases, you then immediately replace the current view with one loaded from an FXML file, which will create a new controller. The <code>stage</code> variable will not have been initialized in that new controller instance. Consequently, any time <code>quitApp()</code> is invoked, <code>stage</code> is null on the instance on which it is invoked.</p>\n<p>It is a bad idea to use the same controller class for controllers created for different FXML files, because it leads directly to the kind of confusion that is causing this error. Each FXML file should have its own controller class.</p>\n<p>To get a reference to the current window, it's much cleaner to just get it from a node displayed in that window, which can be injected into the controller in the usual way.</p>\n<p>So for example you can do</p>\n<pre><code>@FXML\nprivate Parent root ;\n</code></pre>\n<p>and then</p>\n<pre><code>@FXML\nprivate void quitApp() {\n    root.getScene().getWindow().hide();\n}\n</code></pre>\n<p>which will close the current window. If you literally want to close the entire application (not just close the current window, which may or may not exit the application), you can of course do <code>Platform.exit()</code> instead.</p>\n<p>Here is a version of your application using this approach.</p>\n<p>Note the addition of the <code>fx:id</code> to the root elements of the FMXL.</p>\n<p>WelcomeView.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txtPword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>WelcomeController.java:</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    @FXML\n    private Parent root;\n\n\n    public void switchToWelcome() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n    public void switchToRegister() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n\n    public void quitApp() {\n        this.root.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>(I don't really understand why your &quot;Welcome&quot; screen has &quot;switch to welcome&quot; functionality, but I left it in.)</p>\n<p>registerView.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane fx:id=&quot;root&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.RegisterController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txtEmail&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btnLogin&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btnRegister&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btnQuit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quitApp&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txtEmail1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField fx:id=&quot;txtEmail2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>RegisterController.java:</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class RegisterController {\n\n    @FXML\n    private Parent root;\n\n\n    public void switchToWelcome() throws IOException {\n        Parent newRoot = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        this.root.getScene().setRoot(newRoot);\n    }\n\n    \n\n\n    public void quitApp () {\n        this.root.getScene().getWindow().hide();\n    }\n\n}\n</code></pre>\n<p>You can obviously remove the duplicated code in the controllers by using delegation or inheritance.</p>\n"}],"owner":{"account_id":13631121,"reputation":9,"user_id":9833168,"display_name":"Yusuf"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1678708054,"creation_date":1678637049,"question_id":75714424,"body_markdown":"just getting familiar with java - i am confused a bit here, i had a simple controller with the following code \r\n\r\n\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeController {\r\n\r\n    public Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n    public void switchToWelcome(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;welcome_view.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public void switchToRegister(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;register_view.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Register&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void quit_frame (ActionEvent event) {\r\n    // stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n      stage.close(); \r\n    }\r\n\r\n}\r\n```\r\n\r\nFrom the code above i believe the stage property is initialised whenever i call the switchToWelcome() or switchToRegister() method - so that if i later call the quit_frame() method there won&#39;t be any issue since this stage property is very accessible through out this class. but i still get a NullPointerException each time i try to call the quit_frame() method\r\n\r\ni added the now commented line in the quit_frame() method is re-initialise the stage before calling close() method upon it and things work fine. but i feel i don&#39;t need this line, since the stage is already initialised with the switchToRegister() i called initially.\r\n\r\nHere is the last parts of the bulk error message\r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null\r\n\tat com.ajaxict.edhub/com.ajaxict.edhub.WelcomeController.quit_app(WelcomeController.java:45)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\n\r\ni tried to re-initialise the stage property again within the quit_frame() method, and it works but i don&#39;t think will be the best idea\r\n\r\n------------------------   --------------------------  --------\r\n\r\n\r\n\r\nA Reproducible Example below: WelcomeMain.java\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeMain extends Application {\r\n\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(WelcomeMain.class.getResource(&quot;welcomeView.fxml&quot;));\r\n    //  Scene scene = new Scene(fxmlLoader.load(), 320, 240);\r\n        Scene scene = new Scene(fxmlLoader.load());\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nmy welcomeView.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;txt_pword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nmy registerView.fxml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.PasswordField?&gt;\r\n&lt;?import javafx.scene.control.TextField?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n\r\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\r\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;TextField fx:id=&quot;txt_email1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;TextField fx:id=&quot;txt_email2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;17.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n\r\nmy welcomeController.java\r\n```\r\npackage com.ajaxict.edhub;\r\n\r\nimport javafx.event.ActionEvent;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.stage.Stage;\r\nimport java.io.IOException;\r\n\r\npublic class WelcomeController {\r\n\r\n    public Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n\r\n\r\n    public void switchToWelcome(ActionEvent event) throws IOException {\r\n        root = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public void switchToRegister(ActionEvent event) throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setTitle(&quot;EdHub - Register&quot;);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    public void quit_app (ActionEvent event) {\r\n//   stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        this.stage.close();\r\n    }\r\n\r\n}\r\n```","title":"Unexpected NullPointerException()","body":"<p>just getting familiar with java - i am confused a bit here, i had a simple controller with the following code</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    public Stage stage;\n    private Scene scene;\n    private Parent root;\n\n    public void switchToWelcome(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;welcome_view.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void switchToRegister(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;register_view.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Register&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n\n    public void quit_frame (ActionEvent event) {\n    // stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n      stage.close(); \n    }\n\n}\n</code></pre>\n<p>From the code above i believe the stage property is initialised whenever i call the switchToWelcome() or switchToRegister() method - so that if i later call the quit_frame() method there won't be any issue since this stage property is very accessible through out this class. but i still get a NullPointerException each time i try to call the quit_frame() method</p>\n<p>i added the now commented line in the quit_frame() method is re-initialise the stage before calling close() method upon it and things work fine. but i feel i don't need this line, since the stage is already initialised with the switchToRegister() i called initially.</p>\n<p>Here is the last parts of the bulk error message</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;javafx.stage.Stage.close()&quot; because &quot;this.stage&quot; is null\nat com.ajaxict.edhub/com.ajaxict.edhub.WelcomeController.quit_app(WelcomeController.java:45)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n... 53 more\n</code></pre>\n<p>i tried to re-initialise the stage property again within the quit_frame() method, and it works but i don't think will be the best idea</p>\n<hr />\n<p>A Reproducible Example below: WelcomeMain.java</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeMain extends Application {\n\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(WelcomeMain.class.getResource(&quot;welcomeView.fxml&quot;));\n    //  Scene scene = new Scene(fxmlLoader.load(), 320, 240);\n        Scene scene = new Scene(fxmlLoader.load());\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>my welcomeView.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;309.0&quot; prefWidth=&quot;543.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;241.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txt_pword&quot; layoutX=&quot;241.0&quot; layoutY=&quot;192.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;426.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;147.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;45.0&quot; layoutY=&quot;182.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;23.0&quot; layoutY=&quot;22.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;138.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToRegister&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;45.0&quot; layoutY=&quot;258.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>my registerView.fxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.PasswordField?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;487.0&quot; prefWidth=&quot;564.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.ajaxict.edhub.WelcomeController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;txt_email&quot; layoutX=&quot;248.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_login&quot; layoutX=&quot;142.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#switchToWelcome&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Log In&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;205.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Lastname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label layoutX=&quot;50.0&quot; layoutY=&quot;338.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Password&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Label alignment=&quot;CENTER&quot; layoutX=&quot;33.0&quot; layoutY=&quot;19.0&quot; prefHeight=&quot;43.0&quot; prefWidth=&quot;499.0&quot; text=&quot;EdHub &quot;&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Monotype Corsiva&quot; size=&quot;52.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;btn_register&quot; layoutX=&quot;433.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Register&quot; /&gt;\n      &lt;Button fx:id=&quot;btn_quit&quot; layoutX=&quot;50.0&quot; layoutY=&quot;420.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#quit_app&quot; prefHeight=&quot;27.0&quot; prefWidth=&quot;78.0&quot; text=&quot;Quit&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;292.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;109.0&quot; text=&quot;Gender&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;ComboBox layoutX=&quot;247.0&quot; layoutY=&quot;297.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;txt_email1&quot; layoutX=&quot;248.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;52.0&quot; layoutY=&quot;250.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Email Address&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;TextField fx:id=&quot;txt_email2&quot; layoutX=&quot;251.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n      &lt;Label layoutX=&quot;55.0&quot; layoutY=&quot;160.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;141.0&quot; text=&quot;Firstname&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;17.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;PasswordField layoutX=&quot;245.0&quot; layoutY=&quot;343.0&quot; prefHeight=&quot;35.0&quot; prefWidth=&quot;263.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>my welcomeController.java</p>\n<pre><code>package com.ajaxict.edhub;\n\nimport javafx.event.ActionEvent;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Node;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class WelcomeController {\n\n    public Stage stage;\n    private Scene scene;\n    private Parent root;\n\n\n    public void switchToWelcome(ActionEvent event) throws IOException {\n        root = FXMLLoader.load(getClass().getResource(&quot;welcomeView.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Welcome&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void switchToRegister(ActionEvent event) throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;registerView.fxml&quot;));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setTitle(&quot;EdHub - Register&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n\n    public void quit_app (ActionEvent event) {\n//   stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        this.stage.close();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678704592,"post_id":75720841,"comment_id":133578886,"body_markdown":"I don&#39;t think you can use this in Android.","body":"I don&#39;t think you can use this in Android."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1678704677,"post_id":75720841,"comment_id":133578915,"body_markdown":"If I&#39;m right (but to be clear, I don&#39;t write Android programs, so I could be wrong), the solution is don&#39;t write a private method in an interface.","body":"If I&#39;m right (but to be clear, I don&#39;t write Android programs, so I could be wrong), the solution is don&#39;t write a private method in an interface."},{"owner":{"account_id":5055881,"reputation":3266,"user_id":15055605,"display_name":"YaMiN"},"score":0,"creation_date":1678707457,"post_id":75720841,"comment_id":133579656,"body_markdown":"Update your JDK to 11, currently, JDK 11 is suggested by google for Android Development.","body":"Update your JDK to 11, currently, JDK 11 is suggested by google for Android Development."}],"answers":[{"tags":[],"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678706687,"creation_date":1678706687,"answer_id":75721235,"question_id":75720841,"body_markdown":"For more than 25 years everything was done without private interface methods. So maybe instead of \r\n\r\n    public abstract interface GNewsEndpoints {\r\n\r\nYou want\r\n\r\n    public abstract class GNewsEndpoints {\r\n\r\nThat&#39;s how it has always been done. If you are sure you want to use interface private methods (which is a quite new Java feature) you can change this in app/build.gradle (X is the Java version):\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_X\r\n    targetCompatibility JavaVersion.VERSION_1_X\r\n\r\nto:\r\n\r\n    sourceCompatibility JavaVersion.VERSION_1_9\r\n    targetCompatibility JavaVersion.VERSION_1_9\r\n\r\nUnfortunately I cannot say if you need to set `minSdk` to a minimum version supporting Java 9. It might happen that your app crashes if you try to use Java 9 features on old Android devices.\r\n\r\nYou can even use `VERSION_1_10` to get Java 10 features.","title":"Android studio error: use -source 9 or higher to enable private interface methods","body":"<p>For more than 25 years everything was done without private interface methods. So maybe instead of</p>\n<pre><code>public abstract interface GNewsEndpoints {\n</code></pre>\n<p>You want</p>\n<pre><code>public abstract class GNewsEndpoints {\n</code></pre>\n<p>That's how it has always been done. If you are sure you want to use interface private methods (which is a quite new Java feature) you can change this in app/build.gradle (X is the Java version):</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_X\ntargetCompatibility JavaVersion.VERSION_1_X\n</code></pre>\n<p>to:</p>\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_9\ntargetCompatibility JavaVersion.VERSION_1_9\n</code></pre>\n<p>Unfortunately I cannot say if you need to set <code>minSdk</code> to a minimum version supporting Java 9. It might happen that your app crashes if you try to use Java 9 features on old Android devices.</p>\n<p>You can even use <code>VERSION_1_10</code> to get Java 10 features.</p>\n"}],"owner":{"account_id":1767835,"reputation":351,"user_id":1710073,"accept_rate":93,"display_name":"user1613245"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75721235,"answer_count":1,"score":0,"last_activity_date":1678707655,"creation_date":1678704450,"question_id":75720841,"body_markdown":"I have this code in Android Studio for one of my app:\r\n\r\n    public abstract interface GNewsEndpoints {\r\n        \r\n        private default java.lang.String getGNewsToken() {\r\n            return null;\r\n        }\r\n        \r\n    }\r\n\r\nI am using Android Studio in MAC OS\r\n\r\nI get this error when building the project:\r\n\r\n    error: private interface methods are not supported in -source 8\r\n        private default java.lang.String getGNewsToken() {\r\n                                                      ^\r\n      (use -source 9 or higher to enable private interface methods)\r\n\r\nCan anyone please suggest what needs to be done in order to fix it?\r\n","title":"Android studio error: use -source 9 or higher to enable private interface methods","body":"<p>I have this code in Android Studio for one of my app:</p>\n<pre><code>public abstract interface GNewsEndpoints {\n    \n    private default java.lang.String getGNewsToken() {\n        return null;\n    }\n    \n}\n</code></pre>\n<p>I am using Android Studio in MAC OS</p>\n<p>I get this error when building the project:</p>\n<pre><code>error: private interface methods are not supported in -source 8\n    private default java.lang.String getGNewsToken() {\n                                                  ^\n  (use -source 9 or higher to enable private interface methods)\n</code></pre>\n<p>Can anyone please suggest what needs to be done in order to fix it?</p>\n"},{"tags":["java","spring","mailjet"],"owner":{"account_id":28004857,"reputation":1,"user_id":21388432,"display_name":"Kakou Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678707508,"creation_date":1678704269,"question_id":75720808,"body_markdown":"I&#39;m using mailJetAPI v4.1.0\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;com.mailjet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mailjet-client&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n```\r\nMailjetClient client;\r\n        MailjetRequest request;\r\n        MailjetResponse response;\r\n        client = new MailjetClient(&quot;API_PUBLIC&quot;, &quot;API_SECRET&quot;, new ClientOptions(&quot;v3.1&quot;));\r\n        request = new MailjetRequest(Emailv31.resource)\r\n            .property(Emailv31.MESSAGES, new JSONArray()\r\n                .put(new JSONObject()\r\n                    .put(Emailv31.Message.FROM, new JSONObject()\r\n                        .put(&quot;Email&quot;, &quot;sender@gmail.com&quot;)\r\n                        .put(&quot;Name&quot;, &quot;Mailjet Pilot&quot;))\r\n                    .put(Emailv31.Message.TO, new JSONArray()\r\n                        .put(new JSONObject()\r\n                            .put(&quot;Email&quot;, &quot;receiver@gmail.com&quot;)\r\n                            .put(&quot;Name&quot;, &quot;passenger 1&quot;)))\r\n                    .put(Emailv31.Message.SUBJECT, &quot;Your email flight plan!&quot;)\r\n                    .put(Emailv31.Message.TEXTPART, &quot;Dear passenger 1, welcome to Mailjet! May the delivery force be with you!&quot;)\r\n                    .put(Emailv31.Message.HTMLPART, &quot;&lt;h3&gt;Dear passenger 1, welcome to &lt;a href=\\&quot;https://www.mailjet.com/\\&quot;&gt;Mailjet&lt;/a&gt;!&lt;/h3&gt;&lt;br /&gt;May the delivery force be with you!&quot;)));\r\n        response = client.post(request);\r\n```\r\n\r\nin the response, it returns the messageId that is used to identify the message in mailJet, not the one sent to recipient.                                                                                                                        And thank you!\r\n\r\nWhat the response returns :\r\n\r\n```\r\n&quot;MessageID&quot;:1152921521282767905\r\n```\r\n\r\nWhat I&#39;m expecting is this :\r\n\r\n```\r\n28c0Zc44.BAAAA-HEI1gAAAAAAAAAAAV62_8AAAAAp70AAAAAACHIeQBkYuwH@mailjet.com\r\n```","title":"Is there a way to retrieve the messageId sent by the mail provider to the recepient using mailJet API","body":"<p>I'm using mailJetAPI v4.1.0</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.mailjet&lt;/groupId&gt;\n            &lt;artifactId&gt;mailjet-client&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>MailjetClient client;\n        MailjetRequest request;\n        MailjetResponse response;\n        client = new MailjetClient(&quot;API_PUBLIC&quot;, &quot;API_SECRET&quot;, new ClientOptions(&quot;v3.1&quot;));\n        request = new MailjetRequest(Emailv31.resource)\n            .property(Emailv31.MESSAGES, new JSONArray()\n                .put(new JSONObject()\n                    .put(Emailv31.Message.FROM, new JSONObject()\n                        .put(&quot;Email&quot;, &quot;sender@gmail.com&quot;)\n                        .put(&quot;Name&quot;, &quot;Mailjet Pilot&quot;))\n                    .put(Emailv31.Message.TO, new JSONArray()\n                        .put(new JSONObject()\n                            .put(&quot;Email&quot;, &quot;receiver@gmail.com&quot;)\n                            .put(&quot;Name&quot;, &quot;passenger 1&quot;)))\n                    .put(Emailv31.Message.SUBJECT, &quot;Your email flight plan!&quot;)\n                    .put(Emailv31.Message.TEXTPART, &quot;Dear passenger 1, welcome to Mailjet! May the delivery force be with you!&quot;)\n                    .put(Emailv31.Message.HTMLPART, &quot;&lt;h3&gt;Dear passenger 1, welcome to &lt;a href=\\&quot;https://www.mailjet.com/\\&quot;&gt;Mailjet&lt;/a&gt;!&lt;/h3&gt;&lt;br /&gt;May the delivery force be with you!&quot;)));\n        response = client.post(request);\n</code></pre>\n<p>in the response, it returns the messageId that is used to identify the message in mailJet, not the one sent to recipient.                                                                                                                        And thank you!</p>\n<p>What the response returns :</p>\n<pre><code>&quot;MessageID&quot;:1152921521282767905\n</code></pre>\n<p>What I'm expecting is this :</p>\n<pre><code>28c0Zc44.BAAAA-HEI1gAAAAAAAAAAAV62_8AAAAAp70AAAAAACHIeQBkYuwH@mailjet.com\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678531430,"post_id":75703576,"comment_id":133553097,"body_markdown":"please enable spring security `DEBUG` logs and post them here so that we actually see what is going on.","body":"please enable spring security <code>DEBUG</code> logs and post them here so that we actually see what is going on."},{"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"score":0,"creation_date":1678707211,"post_id":75703576,"comment_id":133579602,"body_markdown":"@Toerktumlare sorry for being late to reply. I enabled debug and edited my question.","body":"@Toerktumlare sorry for being late to reply. I enabled debug and edited my question."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1678711853,"post_id":75703576,"comment_id":133580964,"body_markdown":"This is not the spring security debug logs, please look up on how to enable spring security debug logs. Also a large portion of the logs are missing, the startup logs etc.","body":"This is not the spring security debug logs, please look up on how to enable spring security debug logs. Also a large portion of the logs are missing, the startup logs etc."},{"owner":{"account_id":11147381,"reputation":61,"user_id":8181663,"display_name":"Hasanka Sapumal"},"score":0,"creation_date":1682449174,"post_id":75703576,"comment_id":134216761,"body_markdown":"@Rohit facing the same issue here. were you able to solve this by your own?","body":"@Rohit facing the same issue here. were you able to solve this by your own?"},{"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"score":0,"creation_date":1682550247,"post_id":75703576,"comment_id":134235733,"body_markdown":"@HasankaSapumal play with request matcher for a while and you would get idea what’s wrong. And don’t forget to allow access to your JavaScript, css, html or jsp resources.","body":"@HasankaSapumal play with request matcher for a while and you would get idea what’s wrong. And don’t forget to allow access to your JavaScript, css, html or jsp resources."},{"owner":{"account_id":11147381,"reputation":61,"user_id":8181663,"display_name":"Hasanka Sapumal"},"score":1,"creation_date":1682577171,"post_id":75703576,"comment_id":134238429,"body_markdown":"@rohith turned out spring 6 security needs .dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll() to be added in our config","body":"@rohith turned out spring 6 security needs .dispatcherTypeMatchers(DispatcherType.FORWARD).permitAll() to be added in our config"}],"owner":{"account_id":8884847,"reputation":69,"user_id":6633429,"accept_rate":29,"display_name":"Rohit"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":284,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1678707137,"creation_date":1678521669,"question_id":75703576,"body_markdown":"I just began to learn spring security without using spring boot. I am trying to render my own custom login page. Controller method with requestmapping &quot;/login&quot; has been called several times but spring is not rendering login.jsp page.\r\n\r\nThis is my root configuration classes : \r\n\r\n```\r\n@Configuration\r\n@PropertySource(&quot;classpath:application.properties&quot;)\r\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\r\n@Import(SecurityConfiguration.class)\r\npublic class AppConfig {\r\n\t\r\n\t@Autowired\r\n\tprivate Environment environment;\r\n\t\r\n\t@Bean\r\n\tpublic DataSource getDataSource() {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n\t\tdataSource.setDriverClassName(environment.getProperty(&quot;jdbc.driverClassName&quot;));\r\n\t\tdataSource.setUrl(environment.getProperty(&quot;jdbc.url&quot;));\r\n\t\tdataSource.setUsername(environment.getProperty(&quot;jdbc.username&quot;));\r\n\t\tdataSource.setPassword(environment.getProperty(&quot;jdbc.password&quot;));\r\n\t\treturn dataSource;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic LocalContainerEntityManagerFactoryBean entityManagerFactory() {\r\n\t\t\r\n\t\tLocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\r\n\t\tentityManagerFactory.setDataSource(getDataSource());\r\n\t\tentityManagerFactory.setPackagesToScan(&quot;com.example.model&quot;);\r\n\t\t\r\n\t\tJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n\t\tentityManagerFactory.setJpaVendorAdapter(vendorAdapter);\r\n\t\tentityManagerFactory.setJpaProperties(additionalProperties());\r\n\t\t\r\n\t\treturn entityManagerFactory;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PlatformTransactionManager getTransactionManager() {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager();\r\n\t\ttransactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\r\n\t\treturn transactionManager;\r\n\t}\r\n\t\r\n\tpublic Properties additionalProperties() {\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\r\n\t\tproperties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\r\n\t\tproperties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\r\n\t\treturn properties;\r\n\t}\r\n\r\n\t@Bean(name = &quot;mvcHandlerMappingIntrospector&quot;) \r\n\tpublic HandlerMappingIntrospector mvcHandlerMappingIntrospector() { \r\n\t\treturn new HandlerMappingIntrospector(); \r\n\t}\r\n}\r\n```\r\nThis one is dispatcher context configuration class :\r\n\r\n```\r\n@Configuration\r\n@EnableWebMvc\r\n@ComponentScan(basePackages = { &quot;com.example.controller&quot;})\r\npublic class DispatcherServletConfig {\r\n\t\r\n\t@Bean\r\n\tpublic ViewResolver viewResolver() {\r\n\t\tInternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\r\n\t\tviewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n\t\tviewResolver.setSuffix(&quot;.jsp&quot;);\r\n\t\treturn viewResolver;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnd here is my security configuration class :\r\n\r\n```\r\n@EnableWebSecurity\r\n@ComponentScan(&quot;com.example.service&quot;)\r\npublic class SecurityConfiguration{\r\n\t\r\n\t@Resource\r\n\tprivate UserDetailsService userDetailsService;\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService);\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n\t\tAuthenticationManagerBuilder builder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\t\tbuilder.authenticationProvider(authenticationProvider());\r\n\t\treturn builder.build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.authorizeHttpRequests()\r\n\t\t\t.requestMatchers(&quot;/&quot;).authenticated()\r\n\t\t\t.and()\r\n\t\t\t.formLogin()\r\n\t\t\t.loginPage(&quot;/login&quot;)\r\n\t\t\t.permitAll();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n\r\n```\r\nWebApplicationInitializer is :\r\n\r\n```\r\npublic class MyWebAppInitializer implements WebApplicationInitializer {\r\n  \r\n  \r\n  @Override \r\n  public void onStartup(ServletContext container) throws ServletException {\r\n  \r\n\t  //Declaring root context \r\n\t  AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\r\n\t  rootContext.register(AppConfig.class);\r\n\t  \r\n\t  //Manage the life cycle of root application context \r\n\t  container.addListener(new ContextLoaderListener(rootContext));\r\n\t  \r\n\t  //Creating dispatcher servlet&#39;s application context\r\n\t  AnnotationConfigWebApplicationContext dispatcherContext = new AnnotationConfigWebApplicationContext();\r\n\t  dispatcherContext.register(DispatcherServletConfig.class);\r\n\t  \r\n\t  \r\n\t  //Register and Map dispatcher servlet \r\n\t  ServletRegistration.Dynamic\r\n\t  dispatcherServlet = container.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(dispatcherContext)); \r\n\t  dispatcherServlet.addMapping(&quot;/&quot;);\r\n\t  dispatcherServlet.setLoadOnStartup(1);\r\n\t  \r\n\t  \r\n  }\r\n  \r\n}\r\n\r\n```\r\nand controller class is :\r\n```\r\n@Controller\r\npublic class LoginController {\r\n\t\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic String indexPage() {\r\n\t\treturn &quot;index&quot;;\r\n\t}\r\n\t\r\n\t@GetMapping(&quot;/login&quot;)\r\n\tpublic String login() {\r\n\t\tSystem.out.println(&quot;have been called&quot;);\r\n\t\treturn &quot;login&quot;;\r\n\t}\r\n}\r\n```\r\nWhile trying to access the url i got the following error on browser\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZJz5g.png\r\n\r\nI enabled the security debug and result is as follows (printed out more than 20 times on console). \r\n\r\n```\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-03-13T20:24:01.020+09:00  INFO 13976 --- [nio-8080-exec-5] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/login&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@4ff9b4c7\r\n\r\nservletPath:/login\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nsec-fetch-site: none\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\naccept-encoding: gzip, deflate, br\r\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n\r\n\r\n************************************************************\r\n\r\n\r\n2023-03-13T20:24:01.029+09:00  INFO 13976 --- [nio-8080-exec-6] Spring Security Debugger                 : \r\n\r\n************************************************************\r\n\r\nRequest received for GET &#39;/login&#39;:\r\n\r\norg.apache.catalina.connector.RequestFacade@388d5e7e\r\n\r\nservletPath:/login\r\npathInfo:null\r\nheaders: \r\nhost: localhost:8080\r\nconnection: keep-alive\r\ncache-control: max-age=0\r\nupgrade-insecure-requests: 1\r\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\r\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\r\nsec-fetch-site: none\r\nsec-fetch-mode: navigate\r\nsec-fetch-user: ?1\r\nsec-fetch-dest: document\r\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\r\nsec-ch-ua-mobile: ?0\r\nsec-ch-ua-platform: &quot;Windows&quot;\r\naccept-encoding: gzip, deflate, br\r\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\r\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\r\n\r\n\r\nSecurity filter chain: [\r\n  DisableEncodeUrlFilter\r\n  WebAsyncManagerIntegrationFilter\r\n  SecurityContextHolderFilter\r\n  HeaderWriterFilter\r\n  LogoutFilter\r\n  UsernamePasswordAuthenticationFilter\r\n  RequestCacheAwareFilter\r\n  SecurityContextHolderAwareRequestFilter\r\n  AnonymousAuthenticationFilter\r\n  ExceptionTranslationFilter\r\n  AuthorizationFilter\r\n]\r\n```","title":"Spring security is not rendering custom login page","body":"<p>I just began to learn spring security without using spring boot. I am trying to render my own custom login page. Controller method with requestmapping &quot;/login&quot; has been called several times but spring is not rendering login.jsp page.</p>\n<p>This is my root configuration classes :</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:application.properties&quot;)\n@EnableJpaRepositories(&quot;com.example.repository&quot;)\n@Import(SecurityConfiguration.class)\npublic class AppConfig {\n    \n    @Autowired\n    private Environment environment;\n    \n    @Bean\n    public DataSource getDataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(environment.getProperty(&quot;jdbc.driverClassName&quot;));\n        dataSource.setUrl(environment.getProperty(&quot;jdbc.url&quot;));\n        dataSource.setUsername(environment.getProperty(&quot;jdbc.username&quot;));\n        dataSource.setPassword(environment.getProperty(&quot;jdbc.password&quot;));\n        return dataSource;\n    }\n    \n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory() {\n        \n        LocalContainerEntityManagerFactoryBean entityManagerFactory = new LocalContainerEntityManagerFactoryBean();\n        entityManagerFactory.setDataSource(getDataSource());\n        entityManagerFactory.setPackagesToScan(&quot;com.example.model&quot;);\n        \n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        entityManagerFactory.setJpaVendorAdapter(vendorAdapter);\n        entityManagerFactory.setJpaProperties(additionalProperties());\n        \n        return entityManagerFactory;\n    }\n    \n    @Bean\n    public PlatformTransactionManager getTransactionManager() {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory().getObject());\n        return transactionManager;\n    }\n    \n    public Properties additionalProperties() {\n        Properties properties = new Properties();\n        properties.setProperty(&quot;hibernate.hbm2ddl.auto&quot;, &quot;update&quot;);\n        properties.setProperty(&quot;hibernate.dialect&quot;, &quot;org.hibernate.dialect.MySQL8Dialect&quot;);\n        properties.setProperty(&quot;hibernate.show_sql&quot;, &quot;true&quot;);\n        return properties;\n    }\n\n    @Bean(name = &quot;mvcHandlerMappingIntrospector&quot;) \n    public HandlerMappingIntrospector mvcHandlerMappingIntrospector() { \n        return new HandlerMappingIntrospector(); \n    }\n}\n</code></pre>\n<p>This one is dispatcher context configuration class :</p>\n<pre><code>@Configuration\n@EnableWebMvc\n@ComponentScan(basePackages = { &quot;com.example.controller&quot;})\npublic class DispatcherServletConfig {\n    \n    @Bean\n    public ViewResolver viewResolver() {\n        InternalResourceViewResolver viewResolver = new InternalResourceViewResolver();\n        viewResolver.setPrefix(&quot;/WEB-INF/view/&quot;);\n        viewResolver.setSuffix(&quot;.jsp&quot;);\n        return viewResolver;\n    }\n\n}\n</code></pre>\n<p>And here is my security configuration class :</p>\n<pre><code>@EnableWebSecurity\n@ComponentScan(&quot;com.example.service&quot;)\npublic class SecurityConfiguration{\n    \n    @Resource\n    private UserDetailsService userDetailsService;\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService);\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder builder = http.getSharedObject(AuthenticationManagerBuilder.class);\n        builder.authenticationProvider(authenticationProvider());\n        return builder.build();\n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests()\n            .requestMatchers(&quot;/&quot;).authenticated()\n            .and()\n            .formLogin()\n            .loginPage(&quot;/login&quot;)\n            .permitAll();\n\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>WebApplicationInitializer is :</p>\n<pre><code>public class MyWebAppInitializer implements WebApplicationInitializer {\n  \n  \n  @Override \n  public void onStartup(ServletContext container) throws ServletException {\n  \n      //Declaring root context \n      AnnotationConfigWebApplicationContext rootContext = new AnnotationConfigWebApplicationContext();\n      rootContext.register(AppConfig.class);\n      \n      //Manage the life cycle of root application context \n      container.addListener(new ContextLoaderListener(rootContext));\n      \n      //Creating dispatcher servlet's application context\n      AnnotationConfigWebApplicationContext dispatcherContext = new AnnotationConfigWebApplicationContext();\n      dispatcherContext.register(DispatcherServletConfig.class);\n      \n      \n      //Register and Map dispatcher servlet \n      ServletRegistration.Dynamic\n      dispatcherServlet = container.addServlet(&quot;dispatcher&quot;, new DispatcherServlet(dispatcherContext)); \n      dispatcherServlet.addMapping(&quot;/&quot;);\n      dispatcherServlet.setLoadOnStartup(1);\n      \n      \n  }\n  \n}\n\n</code></pre>\n<p>and controller class is :</p>\n<pre><code>@Controller\npublic class LoginController {\n    \n    @GetMapping(&quot;/&quot;)\n    public String indexPage() {\n        return &quot;index&quot;;\n    }\n    \n    @GetMapping(&quot;/login&quot;)\n    public String login() {\n        System.out.println(&quot;have been called&quot;);\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>While trying to access the url i got the following error on browser\n<a href=\"https://i.stack.imgur.com/ZJz5g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJz5g.png\" alt=\"enter image description here\" /></a></p>\n<p>I enabled the security debug and result is as follows (printed out more than 20 times on console).</p>\n<pre><code>cookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-03-13T20:24:01.020+09:00  INFO 13976 --- [nio-8080-exec-5] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/login':\n\norg.apache.catalina.connector.RequestFacade@4ff9b4c7\n\nservletPath:/login\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nsec-fetch-site: none\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\naccept-encoding: gzip, deflate, br\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n\n\n************************************************************\n\n\n2023-03-13T20:24:01.029+09:00  INFO 13976 --- [nio-8080-exec-6] Spring Security Debugger                 : \n\n************************************************************\n\nRequest received for GET '/login':\n\norg.apache.catalina.connector.RequestFacade@388d5e7e\n\nservletPath:/login\npathInfo:null\nheaders: \nhost: localhost:8080\nconnection: keep-alive\ncache-control: max-age=0\nupgrade-insecure-requests: 1\nuser-agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36 Edg/110.0.1587.69\naccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7\nsec-fetch-site: none\nsec-fetch-mode: navigate\nsec-fetch-user: ?1\nsec-fetch-dest: document\nsec-ch-ua: &quot;Chromium&quot;;v=&quot;110&quot;, &quot;Not A(Brand&quot;;v=&quot;24&quot;, &quot;Microsoft Edge&quot;;v=&quot;110&quot;\nsec-ch-ua-mobile: ?0\nsec-ch-ua-platform: &quot;Windows&quot;\naccept-encoding: gzip, deflate, br\naccept-language: ja,en;q=0.9,en-GB;q=0.8,en-US;q=0.7\ncookie: JSESSIONID=9B485D0205797A978E6A25A54DBBAC88\n\n\nSecurity filter chain: [\n  DisableEncodeUrlFilter\n  WebAsyncManagerIntegrationFilter\n  SecurityContextHolderFilter\n  HeaderWriterFilter\n  LogoutFilter\n  UsernamePasswordAuthenticationFilter\n  RequestCacheAwareFilter\n  SecurityContextHolderAwareRequestFilter\n  AnonymousAuthenticationFilter\n  ExceptionTranslationFilter\n  AuthorizationFilter\n]\n</code></pre>\n"},{"tags":["java","autoboxing"],"owner":{"account_id":28005232,"reputation":9,"user_id":21388756,"display_name":"Elias El hachem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1678707193,"answer_count":0,"score":0,"last_activity_date":1678706938,"creation_date":1678706938,"question_id":75721282,"body_markdown":"```\r\nByte b = 10; // Valid\r\nLong l = 10; // Invalid\r\n```\r\n\r\n\r\nWhy is it valid in first case but invalid in second case?\r\n\r\nBest regards","title":"Wrapper classes autoboxing assignments","body":"<pre><code>Byte b = 10; // Valid\nLong l = 10; // Invalid\n</code></pre>\n<p>Why is it valid in first case but invalid in second case?</p>\n<p>Best regards</p>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":16237389,"reputation":5,"user_id":11724567,"display_name":"VADE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678706882,"creation_date":1678705251,"question_id":75720982,"body_markdown":"i keep getting this error only whilst trying to store the `Map` from `ItemDegradationManager` in a seperate table, using JPA. I have checked everywhere and there aren&#39;t two sessions open.\r\n\r\nI have another Collection of type List&lt;&gt; which does perfectly fine, this is however a instance member of &#39;Player&#39; itself.\r\n\r\n&gt; org.hibernate.HibernateException: Illegal attempt to associate a\r\n&gt; collection with two open sessions: Collection : &lt;unknown&gt;\r\n\r\n```\r\n@jakarta.persistence.Entity\r\n@Table(name = &quot;players&quot;)\r\npublic class Player extends Agent {\r\n    @Embedded\r\n    @Column(name = &quot;degradable_items&quot;)\r\n    private final ItemDegradationManager itemDegradationManager = new ItemDegradationManager(this);\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\npublic class ItemDegradationManager {\r\n\r\n    private static final boolean ENABLED = true;\r\n\r\n    @Transient\r\n    private Player player;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;degradation_levels&quot;, joinColumns = @JoinColumn(name = &quot;player_id&quot;))\r\n    @MapKeyColumn(name = &quot;item_id&quot;)\r\n    @Column(name = &quot;degradation_level&quot;)\r\n    @LazyCollection(LazyCollectionOption.EXTRA)\r\n    private Map&lt;Integer, Integer&gt; degradationLevels = new HashMap&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n public static void hibernateSaving(Player player) {\r\n\r\n        Configuration configuration = new Configuration().configure(new File(&quot;src/main/resources/hibernate.cfg.xml&quot;));\r\n\r\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\r\n        Session session = sessionFactory.openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n\r\n        if(session.contains(player)) {\r\n            session.merge(player);\r\n        } else {\r\n            session.persist(player);\r\n        }\r\n\r\n\r\n        transaction.commit();\r\n        session.flush();\r\n        session.close();\r\n    }\r\n```","title":"org.hibernate.HibernateException: Illegal attempt to associate a collection with two open sessions: Collection : &lt;unknown&gt;, with one open session","body":"<p>i keep getting this error only whilst trying to store the <code>Map</code> from <code>ItemDegradationManager</code> in a seperate table, using JPA. I have checked everywhere and there aren't two sessions open.</p>\n<p>I have another Collection of type List&lt;&gt; which does perfectly fine, this is however a instance member of 'Player' itself.</p>\n<blockquote>\n<p>org.hibernate.HibernateException: Illegal attempt to associate a\ncollection with two open sessions: Collection : </p>\n</blockquote>\n<pre><code>@jakarta.persistence.Entity\n@Table(name = &quot;players&quot;)\npublic class Player extends Agent {\n    @Embedded\n    @Column(name = &quot;degradable_items&quot;)\n    private final ItemDegradationManager itemDegradationManager = new ItemDegradationManager(this);\n}\n</code></pre>\n<pre><code>@Embeddable\npublic class ItemDegradationManager {\n\n    private static final boolean ENABLED = true;\n\n    @Transient\n    private Player player;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;degradation_levels&quot;, joinColumns = @JoinColumn(name = &quot;player_id&quot;))\n    @MapKeyColumn(name = &quot;item_id&quot;)\n    @Column(name = &quot;degradation_level&quot;)\n    @LazyCollection(LazyCollectionOption.EXTRA)\n    private Map&lt;Integer, Integer&gt; degradationLevels = new HashMap&lt;&gt;();\n}\n</code></pre>\n<pre><code> public static void hibernateSaving(Player player) {\n\n        Configuration configuration = new Configuration().configure(new File(&quot;src/main/resources/hibernate.cfg.xml&quot;));\n\n        SessionFactory sessionFactory = configuration.buildSessionFactory();\n        Session session = sessionFactory.openSession();\n        Transaction transaction = session.beginTransaction();\n\n        if(session.contains(player)) {\n            session.merge(player);\n        } else {\n            session.persist(player);\n        }\n\n\n        transaction.commit();\n        session.flush();\n        session.close();\n    }\n</code></pre>\n"},{"tags":["java","maven","pdf","netbeans","icepdf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678566300,"post_id":75707679,"comment_id":133559916,"body_markdown":"&quot;_Once I clean and build it and move the application to a folder on my drive, I get this error_&quot; - Does that JAR file contain the dependent classes for ICE PDF (a &quot;fat&quot; JAR)? If not then you have to ensure those dependent JARs are on the classpath when you run your app - otherwise you will get this `NoClassDefFoundError` problem. Just running `java -cp YourApp.jar com.rasweeny.recipes.Recipes` is not sufficient.","body":"&quot;<i>Once I clean and build it and move the application to a folder on my drive, I get this error</i>&quot; - Does that JAR file contain the dependent classes for ICE PDF (a &quot;fat&quot; JAR)? If not then you have to ensure those dependent JARs are on the classpath when you run your app - otherwise you will get this <code>NoClassDefFoundError</code> problem. Just running <code>java -cp YourApp.jar com.rasweeny.recipes.Recipes</code> is not sufficient."},{"owner":{"account_id":197560,"reputation":171,"user_id":441711,"display_name":"pcorless"},"score":0,"creation_date":1678676289,"post_id":75707679,"comment_id":133573903,"body_markdown":"As mentioned above you&#39;ll need the core, viewer and font jars on your classpath.  Might also recommend the encryption and the image handling jars for a better experience with the library.","body":"As mentioned above you&#39;ll need the core, viewer and font jars on your classpath.  Might also recommend the encryption and the image handling jars for a better experience with the library."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678706819,"post_id":75707679,"comment_id":133579504,"body_markdown":"I have added the full output.","body":"I have added the full output."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678706924,"post_id":75707679,"comment_id":133579534,"body_markdown":"I am opening a pdf to view and print. I am not editing anything.","body":"I am opening a pdf to view and print. I am not editing anything."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678711065,"post_id":75707679,"comment_id":133580724,"body_markdown":"What do you mean by &quot;_launch it from my hard drive_&quot;? Can you clarify?","body":"What do you mean by &quot;<i>launch it from my hard drive</i>&quot;? Can you clarify?"},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678722580,"post_id":75707679,"comment_id":133584597,"body_markdown":"In the terminal  : java -jar Recipes-1.0-SNAPSHOT.jar","body":"In the terminal  : java -jar Recipes-1.0-SNAPSHOT.jar"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678723107,"post_id":75707679,"comment_id":133584740,"body_markdown":"That brings us back to my first comment. You have to tell Java where those other JARs are, by placing them on the Java classpath (assuming the Recipes JAR is not a &quot;fat&quot; JAR). One way: create a new `lib` directory in the same location where the Recipes JAR is. Add the other JAR files into that directory and then tell Java about it: `java -cp Recipes-1.0-SNAPSHOT.jar:lib/* com.rasweeny.recipes.Recipes`.","body":"That brings us back to my first comment. You have to tell Java where those other JARs are, by placing them on the Java classpath (assuming the Recipes JAR is not a &quot;fat&quot; JAR). One way: create a new <code>lib</code> directory in the same location where the Recipes JAR is. Add the other JAR files into that directory and then tell Java about it: <code>java -cp Recipes-1.0-SNAPSHOT.jar:lib&#47;* com.rasweeny.recipes.Recipes</code>."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1678723109,"post_id":75707679,"comment_id":133584741,"body_markdown":"Or, run the application [using Maven](https://stackoverflow.com/q/15869784/12567365).","body":"Or, run the application <a href=\"https://stackoverflow.com/q/15869784/12567365\">using Maven</a>."},{"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"score":0,"creation_date":1678736135,"post_id":75707679,"comment_id":133588286,"body_markdown":"Thank you James. It is the first time using Maven. I usually use Ant. I didn&#39;t realize it is so involved. Looks like I have some reading to do.","body":"Thank you James. It is the first time using Maven. I usually use Ant. I didn&#39;t realize it is so involved. Looks like I have some reading to do."}],"owner":{"account_id":9669088,"reputation":11,"user_id":7174683,"display_name":"rasweeny"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678706787,"creation_date":1678556931,"question_id":75707679,"body_markdown":"Here is my pomfile.xml:\r\n\r\n\r\n&gt; &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project\r\n&gt; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n&gt; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n&gt; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n&gt; http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;     &lt;groupId&gt;com.rasweeny&lt;/groupId&gt;\r\n&gt;     &lt;artifactId&gt;Recipes&lt;/artifactId&gt;\r\n&gt;     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&gt;     &lt;packaging&gt;jar&lt;/packaging&gt;\r\n&gt;     \r\n&gt;     &lt;properties&gt;\r\n&gt;         &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n&gt;         &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n&gt;         &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n&gt;         &lt;exec.mainClass&gt;com.rasweeny.recipes.Recipes&lt;/exec.mainClass&gt;\r\n&gt;     &lt;/properties&gt;\r\n&gt;  \r\n&gt;     &lt;dependencies&gt;\r\n&gt;  \r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;icepdf-core&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;7.0.1&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;icepdf-viewer&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;7.0.1&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;     &lt;/dependencies&gt;\r\n&gt;     \r\n&gt;     &lt;reporting&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n&gt;                 &lt;configuration&gt;\r\n&gt;                     &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\r\n&gt;                 &lt;/configuration&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt;\r\n&gt;     &lt;/reporting&gt;\r\n&gt;     \r\n&gt;     &lt;build&gt;  \r\n&gt;  \r\n&gt;         &lt;plugins&gt;  \r\n&gt;             &lt;plugin&gt;  \r\n&gt;                 &lt;!-- Build an executable JAR --&gt;  \r\n&gt;                 &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n&gt;                 &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \r\n&gt;                 &lt;version&gt;3.1.0&lt;/version&gt;  \r\n&gt;                 &lt;configuration&gt;  \r\n&gt;                     &lt;archive&gt;  \r\n&gt;                         &lt;manifest&gt;  \r\n&gt;                             &lt;mainClass&gt;com.rasweeny.recipes.Launcher&lt;/mainClass&gt;  \r\n&gt;                         &lt;/manifest&gt;  \r\n&gt;                     &lt;/archive&gt;  \r\n&gt;                 &lt;/configuration&gt;  \r\n&gt;             &lt;/plugin&gt;  \r\n&gt;         &lt;/plugins&gt;  \r\n&gt;         \r\n&gt;         &lt;resources&gt;\r\n&gt;             &lt;resource&gt;\r\n&gt;                 &lt;directory&gt;[Users/rasweeny/jarfiles/icepdf-7.0.1/]&lt;/directory&gt;\r\n&gt;                 &lt;includes&gt;\r\n&gt;                     &lt;include&gt;[icepdf-core-7.0.1.jar]&lt;/include&gt;\r\n&gt;                     &lt;include&gt;[icepdf-viewer-7.0.1.jar]&lt;/include&gt;\r\n&gt;                     &lt;include&gt;[fontbox-2.0.27.jar]&lt;/include&gt;\r\n&gt; \r\n&gt;                     &lt;include&gt;[resource file #n]&lt;/include&gt;\r\n&gt;                 &lt;/includes&gt;\r\n&gt;             &lt;/resource&gt;\r\n&gt; \r\n&gt;         &lt;/resources&gt;\r\n&gt;     &lt;/build&gt;  \r\n&gt;      &lt;/project&gt;\r\n\r\nThe imports :\r\n\r\n&gt;   import org.icepdf.ri.common.ComponentKeyBinding; import\r\n&gt;   org.icepdf.ri.common.SwingController; import\r\n&gt;   org.icepdf.ri.common.SwingViewBuilder;\r\n\r\nHere is my code :\r\n\r\n\r\n&gt;      if (exten.equals(&quot;pdf&quot;)) {\r\n&gt;       String filePath = file;\r\n&gt;       SwingController controller = new SwingController();\r\n&gt;       SwingViewBuilder factory = new SwingViewBuilder(controller);\r\n&gt;       SPanel viewerComponentPanel = (SPanel) factory.buildViewerPanel();\r\n&gt;       ComponentKeyBinding.install(controller, viewerComponentPanel);\r\n&gt; \r\n&gt;       controller.getDocumentViewController().setAnnotationCallback(\r\n&gt;               new org.icepdf.ri.common.MyAnnotationCallback(\r\n&gt;                       controller.getDocumentViewController()));\r\n&gt; \r\n&gt;       // Create a JFrame to display the panel in\r\n&gt;       JFrame window = new JFrame(fileName);\r\n&gt;       Dimension pdfSize = new Dimension(640,800);\r\n&gt;       window.setMinimumSize(pdfSize);\r\n&gt;       window.setMaximumSize(pdfSize);\r\n&gt;       window.setPreferredSize(pdfSize);\r\n&gt;       window.add(viewerComponentPanel);\r\n&gt;       window.pack();\r\n&gt;       window.setLocation((Toolkit.getDefaultToolkit().getScreenSize().width)\r\n&gt; / 2 - 600 / 2,\r\n&gt;             (Toolkit.getDefaultToolkit().getScreenSize().height) / 2 - 800 / 2);\r\n&gt;       window.setVisible(true);\r\n&gt; \r\n&gt;      controller.openDocument(filePath);\r\n\r\n\r\nIf I run it in netbeans everything works fine. Once I clean and build it and move the application to a folder on my drive. I get this error.\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/icepdf/ri/common/views/Controller \tat\r\n&gt; com.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142) \tat\r\n&gt; java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n&gt; \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721) \tat\r\n&gt; java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715) \r\n&gt; .....\r\n\r\n\r\nLine 142 is : window.pack();\r\nI have added icepdf as a dependency to the app in the local repository.\r\n\r\nI am using Mac OSX 10.15.7 Catalina, JDK 17, Netbeans 16, and Maven 4.0.0.\r\n\r\nWhat am I missing?\r\nThanks,\r\nRich\r\n\r\nSorry here is the full output:\r\n\r\n&gt; Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\r\n&gt; org/icepdf/ri/common/views/Controller \tat\r\n&gt; com.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142) \tat\r\n&gt; java.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\r\n&gt; \tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721) \tat\r\n&gt; java.desktop/java.awt.EventQueue$4.run(EventQueue.java:715) \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n&gt; \tat\r\n&gt; java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n&gt; \tat\r\n&gt; java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n&gt; Caused by: java.lang.ClassNotFoundException:\r\n&gt; org.icepdf.ri.common.views.Controller \tat\r\n&gt; java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n&gt; \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n&gt; \t... 14 more rasweeny:recipes rasweeny$\r\n\r\n\r\nLike I said it works fine launching from Netbeans but I get this error when trying to launch it from my hardd rive.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Icepdf to view pdf files from an application. After clean and build it does not see imported files","body":"<p>Here is my pomfile.xml:</p>\n<blockquote>\n xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n<a href=\"http://maven.apache.org/xsd/maven-4.0.0.xsd%22%3E\" rel=\"nofollow noreferrer\">http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</a>\n4.0.0\ncom.rasweeny\nRecipes\n1.0-SNAPSHOT\njar</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;exec.mainClass&gt;com.rasweeny.recipes.Recipes&lt;/exec.mainClass&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\n        &lt;artifactId&gt;icepdf-core&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.pcorless.icepdf&lt;/groupId&gt;\n        &lt;artifactId&gt;icepdf-viewer&lt;/artifactId&gt;\n        &lt;version&gt;7.0.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;reporting&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;configLocation&gt;config/sun_checks.xml&lt;/configLocation&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/reporting&gt;\n\n&lt;build&gt;  \n\n    &lt;plugins&gt;  \n        &lt;plugin&gt;  \n            &lt;!-- Build an executable JAR --&gt;  \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \n            &lt;version&gt;3.1.0&lt;/version&gt;  \n            &lt;configuration&gt;  \n                &lt;archive&gt;  \n                    &lt;manifest&gt;  \n                        &lt;mainClass&gt;com.rasweeny.recipes.Launcher&lt;/mainClass&gt;  \n                    &lt;/manifest&gt;  \n                &lt;/archive&gt;  \n            &lt;/configuration&gt;  \n        &lt;/plugin&gt;  \n    &lt;/plugins&gt;  \n    \n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;[Users/rasweeny/jarfiles/icepdf-7.0.1/]&lt;/directory&gt;\n            &lt;includes&gt;\n                &lt;include&gt;[icepdf-core-7.0.1.jar]&lt;/include&gt;\n                &lt;include&gt;[icepdf-viewer-7.0.1.jar]&lt;/include&gt;\n                &lt;include&gt;[fontbox-2.0.27.jar]&lt;/include&gt;\n\n                &lt;include&gt;[resource file #n]&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/resource&gt;\n\n    &lt;/resources&gt;\n&lt;/build&gt;  \n &lt;/project&gt;\n</code></pre>\n</blockquote>\n<p>The imports :</p>\n<blockquote>\n<p>import org.icepdf.ri.common.ComponentKeyBinding; import\norg.icepdf.ri.common.SwingController; import\norg.icepdf.ri.common.SwingViewBuilder;</p>\n</blockquote>\n<p>Here is my code :</p>\n<blockquote>\n<pre><code> if (exten.equals(&quot;pdf&quot;)) {\n  String filePath = file;\n  SwingController controller = new SwingController();\n  SwingViewBuilder factory = new SwingViewBuilder(controller);\n  SPanel viewerComponentPanel = (SPanel) factory.buildViewerPanel();\n  ComponentKeyBinding.install(controller, viewerComponentPanel);\n\n  controller.getDocumentViewController().setAnnotationCallback(\n          new org.icepdf.ri.common.MyAnnotationCallback(\n                  controller.getDocumentViewController()));\n\n  // Create a JFrame to display the panel in\n  JFrame window = new JFrame(fileName);\n  Dimension pdfSize = new Dimension(640,800);\n  window.setMinimumSize(pdfSize);\n  window.setMaximumSize(pdfSize);\n  window.setPreferredSize(pdfSize);\n  window.add(viewerComponentPanel);\n  window.pack();\n  window.setLocation((Toolkit.getDefaultToolkit().getScreenSize().width)\n</code></pre>\n<p>/ 2 - 600 / 2,\n(Toolkit.getDefaultToolkit().getScreenSize().height) / 2 - 800 / 2);\nwindow.setVisible(true);</p>\n<pre><code> controller.openDocument(filePath);\n</code></pre>\n</blockquote>\n<p>If I run it in netbeans everything works fine. Once I clean and build it and move the application to a folder on my drive. I get this error.</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\norg/icepdf/ri/common/views/Controller     at\ncom.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142)  at\njava.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\nat\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)  at\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)\n.....</p>\n</blockquote>\n<p>Line 142 is : window.pack();\nI have added icepdf as a dependency to the app in the local repository.</p>\n<p>I am using Mac OSX 10.15.7 Catalina, JDK 17, Netbeans 16, and Maven 4.0.0.</p>\n<p>What am I missing?\nThanks,\nRich</p>\n<p>Sorry here is the full output:</p>\n<blockquote>\n<p>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoClassDefFoundError:\norg/icepdf/ri/common/views/Controller     at\ncom.rasweeny.recipes.Recipes.lambda$setupGUI$0(Recipes.java:142)  at\njava.desktop/java.awt.event.InvocationEvent.dispatch(InvocationEvent.java:316)\nat\njava.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:770)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:721)  at\njava.desktop/java.awt.EventQueue$4.run(EventQueue.java:715)   at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:391)\nat\njava.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)\nat\njava.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:740)\nat\njava.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat\njava.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat\njava.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\nCaused by: java.lang.ClassNotFoundException:\norg.icepdf.ri.common.views.Controller     at\njava.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\nat\njava.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n... 14 more rasweeny:recipes rasweeny$</p>\n</blockquote>\n<p>Like I said it works fine launching from Netbeans but I get this error when trying to launch it from my hardd rive.</p>\n"},{"tags":["java","regex","spring"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1661961942,"post_id":73557888,"comment_id":129897658,"body_markdown":"What do you mean &quot;generate this or that&quot;. Do you randomly want to generate both formats? If not, pick one and fake only that. I&#39;m not clear on what your problem actually is. Please isolate the code that isn&#39;t working and provide an [MCVE] and an explanation of what your code is doing wrong and what you&#39;d like it to do.","body":"What do you mean &quot;generate this or that&quot;. Do you randomly want to generate both formats? If not, pick one and fake only that. I&#39;m not clear on what your problem actually is. Please isolate the code that isn&#39;t working and provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and an explanation of what your code is doing wrong and what you&#39;d like it to do."},{"owner":{"display_name":"user6850907"},"score":0,"creation_date":1661962526,"post_id":73557888,"comment_id":129897875,"body_markdown":"I want to generate for example in this code a phone number following 0022378953023.","body":"I want to generate for example in this code a phone number following 0022378953023."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1662045766,"post_id":73557888,"comment_id":129920560,"body_markdown":"The problem (from a quick glance at the `Faker` source code) appears to be that it generates the phone numbers in the format `###-###-####` (or others), such that you are retrieving strings with the dashes included. If you are simply trying to generate the number without slashes, there&#39;s no need at all for the `Faker` library - you can simply use random number generation to generate a number between `0` and `99999999`, using `String#format` to ensure leading zeroes are included for your output.","body":"The problem (from a quick glance at the <code>Faker</code> source code) appears to be that it generates the phone numbers in the format <code>###-###-####</code> (or others), such that you are retrieving strings with the dashes included. If you are simply trying to generate the number without slashes, there&#39;s no need at all for the <code>Faker</code> library - you can simply use random number generation to generate a number between <code>0</code> and <code>99999999</code>, using <code>String#format</code> to ensure leading zeroes are included for your output."}],"answers":[{"tags":[],"owner":{"account_id":26096448,"reputation":13,"user_id":19792519,"display_name":"TecBiio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664779455,"creation_date":1664779336,"answer_id":73931927,"question_id":73557888,"body_markdown":"The regEx you can use to check the match is :\r\n```^00223[0-9]{8}$|^\\+223[0-9]{8}$|^[0-9]{8}$```\r\n\r\nWith this regEx, you have 3 alternatives matches :\r\n- ```^00223[0-9]{8}$```\r\n- ```^\\+223[0-9]{8}$```\r\n- ```^[0-9]{8}$```  \r\n  \r\n```^``` is used to check that you had the next pattern (00223 or +223) at the beginning of the number  \r\n```\\``` is used to not interpret the next character (the ```+```)   \r\n```[0-9]``` is used to check any digit  \r\n```{8}``` is used to check that there are exactly 8 times the previous pattern (```[0-9]```, so 8 digits)  \r\n```$``` is used to check that you have no characters after the previous pattern (nothing after the 8th digit)  \r\nAnd ```|``` is used to have multiple alternatives","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<p>The regEx you can use to check the match is :\n<code>^00223[0-9]{8}$|^\\+223[0-9]{8}$|^[0-9]{8}$</code></p>\n<p>With this regEx, you have 3 alternatives matches :</p>\n<ul>\n<li><code>^00223[0-9]{8}$</code></li>\n<li><code>^\\+223[0-9]{8}$</code></li>\n<li><code>^[0-9]{8}$</code></li>\n</ul>\n<p><code>^</code> is used to check that you had the next pattern (00223 or +223) at the beginning of the number<br />\n<code>\\</code> is used to not interpret the next character (the <code>+</code>)<br />\n<code>[0-9]</code> is used to check any digit<br />\n<code>{8}</code> is used to check that there are exactly 8 times the previous pattern (<code>[0-9]</code>, so 8 digits)<br />\n<code>$</code> is used to check that you have no characters after the previous pattern (nothing after the 8th digit)<br />\nAnd <code>|</code> is used to have multiple alternatives</p>\n"},{"tags":[],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706284,"creation_date":1678706284,"answer_id":75721166,"question_id":73557888,"body_markdown":"```java\r\nString phoneNumberExpected = faker.numerify(&quot;89#########&quot;);\r\n```\r\n","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<pre class=\"lang-java prettyprint-override\"><code>String phoneNumberExpected = faker.numerify(&quot;89#########&quot;);\n</code></pre>\n"}],"owner":{"display_name":"user6850907"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1678706284,"creation_date":1661957888,"question_id":73557888,"body_markdown":" I want to use the Faker java library to generate phone numbers with 00223 or +223 followed by eight digits.The current behavior is that the format of the generated phone number does not match the regexes (^(\\+223|00223)(\\d){8}$)|(^\\d{8}$) and would like generate for example 0022378953023 or +22378953023 or 78953023.\r\n    \r\nThis the method I invoke to generate a random phone number: \r\n    \r\n        private final Faker faker = new Faker(Locale.FRANCE);\r\n        private PhoneNumber randomPhoneNumber() {\r\n    \r\n    \t\treturn new PhoneNumber(&quot;00223&quot;+faker.phoneNumber().phoneNumber().substring(0, 8));\r\n    \t}\r\n    \r\nThe phone Number class is: \r\n    \r\n        public class PhoneNumber {\r\n    \r\n    \t@NotBlank\r\n    \tprivate String phoneNumber;\r\n    \r\n    \tprivate static final Pattern VALIDATION_PATTERN = Pattern.compile(&quot;(^(\\+223|00223)(\\d){8}$)|(^\\d{8}$)&quot;);\r\n    \r\n    \tpublic PhoneNumber(String phString) {\r\n    \t\tAssert.hasText(phString, &quot;PhoneNumber cannot be blank.&quot;);\r\n    \t\tAssert.isTrue(VALIDATION_PATTERN.asPredicate().test(phString), &quot;PhoneNumber does not have proper format.&quot;);\r\n    \t\tthis.phoneNumber = phString;\r\n    \t}\r\n    \r\n    \tpublic String asString() {\r\n    \r\n    \t\treturn phoneNumber;\r\n    \t}\r\n    \r\n    }\r\n    \r\n   Thanks very much in advance.","title":"How to generate a phone number with eight digits and country code 00223 or +223 with java Faker Library?","body":"<p>I want to use the Faker java library to generate phone numbers with 00223 or +223 followed by eight digits.The current behavior is that the format of the generated phone number does not match the regexes (^(+223|00223)(\\d){8}$)|(^\\d{8}$) and would like generate for example 0022378953023 or +22378953023 or 78953023.</p>\n<p>This the method I invoke to generate a random phone number:</p>\n<pre><code>    private final Faker faker = new Faker(Locale.FRANCE);\n    private PhoneNumber randomPhoneNumber() {\n\n        return new PhoneNumber(&quot;00223&quot;+faker.phoneNumber().phoneNumber().substring(0, 8));\n    }\n</code></pre>\n<p>The phone Number class is:</p>\n<pre><code>    public class PhoneNumber {\n\n    @NotBlank\n    private String phoneNumber;\n\n    private static final Pattern VALIDATION_PATTERN = Pattern.compile(&quot;(^(\\+223|00223)(\\d){8}$)|(^\\d{8}$)&quot;);\n\n    public PhoneNumber(String phString) {\n        Assert.hasText(phString, &quot;PhoneNumber cannot be blank.&quot;);\n        Assert.isTrue(VALIDATION_PATTERN.asPredicate().test(phString), &quot;PhoneNumber does not have proper format.&quot;);\n        this.phoneNumber = phString;\n    }\n\n    public String asString() {\n\n        return phoneNumber;\n    }\n\n}\n</code></pre>\n<p>Thanks very much in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1678701704,"post_id":75720045,"comment_id":133578005,"body_markdown":"You didn&#39;t state the problem you&#39;re facing. Reading from a file and substring operations are trivial matters, and there are thousands of tutorials for both. What have you tried so far?","body":"You didn&#39;t state the problem you&#39;re facing. Reading from a file and substring operations are trivial matters, and there are thousands of tutorials for both. What have you tried so far?"}],"answers":[{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1678701880,"post_id":75720312,"comment_id":133578058,"body_markdown":"There&#39;s no need to read the whole file at once, line-by-line would work just fine for OP.","body":"There&#39;s no need to read the whole file at once, line-by-line would work just fine for OP."},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1678702394,"post_id":75720312,"comment_id":133578198,"body_markdown":"do you have some code samples on how to iterate each line , do i have do split the rows using &#39;\\n&#39;  ?? how to do that","body":"do you have some code samples on how to iterate each line , do i have do split the rows using &#39;\\n&#39;  ?? how to do that"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1678702447,"post_id":75720312,"comment_id":133578214,"body_markdown":"@AbhijitSarkar , how could i read the file line by line then change the old values with the new ones from DB ?","body":"@AbhijitSarkar , how could i read the file line by line then change the old values with the new ones from DB ?"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678704295,"post_id":75720312,"comment_id":133578792,"body_markdown":"@AbhijitSarkar this is true, but it might not be reasonable to read and edit the same file at the same time. That&#39;s why I suggested to read the whole file at once. Of course on could write to a different file and at the end delete the old file and replace it with then new one. Different ways, same end result, each with it&#39;s pros and cons. As for how to read a file in Java line by line: https://stackoverflow.com/questions/5868369/how-can-i-read-a-large-text-file-line-by-line-using-java","body":"@AbhijitSarkar this is true, but it might not be reasonable to read and edit the same file at the same time. That&#39;s why I suggested to read the whole file at once. Of course on could write to a different file and at the end delete the old file and replace it with then new one. Different ways, same end result, each with it&#39;s pros and cons. As for how to read a file in Java line by line: <a href=\"https://stackoverflow.com/questions/5868369/how-can-i-read-a-large-text-file-line-by-line-using-java\" title=\"how can i read a large text file line by line using java\">stackoverflow.com/questions/5868369/&hellip;</a>"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1678705505,"post_id":75720312,"comment_id":133579137,"body_markdown":"@Tarmo,  i have updated my question but could not continue your suggestion , could you help to make it work as expected please ?","body":"@Tarmo,  i have updated my question but could not continue your suggestion , could you help to make it work as expected please ?"},{"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"score":0,"creation_date":1678706083,"post_id":75720312,"comment_id":133579314,"body_markdown":"i&#39;m getting the old Values see my code in question , how could i proceed to to do the rest of the staff","body":"i&#39;m getting the old Values see my code in question , how could i proceed to to do the rest of the staff"},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1678706208,"post_id":75720312,"comment_id":133579345,"body_markdown":"Replace a part of a string like this https://stackoverflow.com/questions/16702357/how-to-replace-a-substring-of-a-string and write back to a file like this https://stackoverflow.com/questions/2885173/how-do-i-create-a-file-and-write-to-it","body":"Replace a part of a string like this <a href=\"https://stackoverflow.com/questions/16702357/how-to-replace-a-substring-of-a-string\" title=\"how to replace a substring of a string\">stackoverflow.com/questions/16702357/&hellip;</a> and write back to a file like this <a href=\"https://stackoverflow.com/questions/2885173/how-do-i-create-a-file-and-write-to-it\" title=\"how do i create a file and write to it\">stackoverflow.com/questions/2885173/&hellip;</a>"}],"tags":[],"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678701369,"creation_date":1678701369,"answer_id":75720312,"question_id":75720045,"body_markdown":"Read the file in to list of strings.\r\nFor each row (entry in the list of strings) check if this row (the string) is to be changed. If it is then replace the old value in this string with new value with `String.replace(oldValue, newValue)`.\r\nRewrite the whole file based on your now modified list of strings.\r\n\r\nThis assumes that the file is small enough to be read into memory and that no two processes or threads accesses the file at the same time. Otherwise you will have race conditions and you would have to implement some kind of locking.","title":"Replace a specific field (in a specific postion) by a value from DB","body":"<p>Read the file in to list of strings.\nFor each row (entry in the list of strings) check if this row (the string) is to be changed. If it is then replace the old value in this string with new value with <code>String.replace(oldValue, newValue)</code>.\nRewrite the whole file based on your now modified list of strings.</p>\n<p>This assumes that the file is small enough to be read into memory and that no two processes or threads accesses the file at the same time. Otherwise you will have race conditions and you would have to implement some kind of locking.</p>\n"}],"owner":{"account_id":27188766,"reputation":67,"user_id":20722878,"display_name":"Java BEE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1678706029,"creation_date":1678699783,"question_id":75720045,"body_markdown":"Here is my use case , \r\nI&#39;m reading m`y input file`  `file.in` as an `object` then converting it as a `String`\r\n\r\n    0000001HL26110650059147    TEST- TEST                                                                                                               \r\n    0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \r\n    0000003HL34120FON20221221783529BLE50000395     13626142                                                                         \r\n    0000004HL34120FON20221221783529BLE50000395     13626143                                                                         \r\n   \r\nHere is my positions  (0-7 : it&#39;s a `sequence` ) , (11-14 : it&#39;s my `section`)   and the important one is (47-67 :  it&#39;s the `Oldvalue` that i want to change in one condition if `section` is `equals` to `120`)       \r\n\r\nFor that ,i have to take the  `Oldvalue` from postion `47-67` and check in database using simple query \r\n\r\n    select NewValue from myTable where Oldvalue = &#39;Oldvalue&#39;\r\n\r\n\r\nThen put the `NewValue `   in the place of the  `Oldvalue`    in my `String`\r\n\r\nSo my `output` would be : \r\n\r\n\r\n    0000001HL26110650059147    TEST- TEST                                                                                                               \r\n    0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \r\n    0000003HL34120FON20221221783529BLE50000395     NewValue1  \r\n    0000004HL34120FON20221221783529BLE50000395     NewValue2 \r\nNote that the other `sections` will remain `unchanged` just the section equals `120` and there is multiple lines where   section equals `120`\r\n\r\nAny idea how to do this please     \r\n\r\nHere is my attemp but could not continue to find solution , \r\n\r\n     try {\r\n            File file = new File(&quot;C:/Users/20230309.in&quot;);\r\n            Scanner scanner = new Scanner(file);\r\n            List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n            while (scanner.hasNextLine()) {\r\n                String line = scanner.nextLine();\r\n                lines.add(line);\r\n            }\r\n            scanner.close();\r\n            System.out.println(lines);\r\n               \r\n    for (String element : lines) {\r\n\r\n\r\n     if (element.length()&gt;11 &amp;&amp; &quot;120&quot;.equals(element.trim().substring(11, 14))) \r\n    {\r\n     String oldValue = element.substring(47, 67);  \r\n\r\n    }\r\n    }       \r\n        \r\n        } catch (FileNotFoundException e) {\r\n            System.out.println(&quot;File not found.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        \r\n  \r\n\r\n       ","title":"Replace a specific field (in a specific postion) by a value from DB","body":"<p>Here is my use case ,\nI'm reading m<code>y input file</code>  <code>file.in</code> as an <code>object</code> then converting it as a <code>String</code></p>\n<pre><code>0000001HL26110650059147    TEST- TEST                                                                                                               \n0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \n0000003HL34120FON20221221783529BLE50000395     13626142                                                                         \n0000004HL34120FON20221221783529BLE50000395     13626143                                                                         \n</code></pre>\n<p>Here is my positions  (0-7 : it's a <code>sequence</code> ) , (11-14 : it's my <code>section</code>)   and the important one is (47-67 :  it's the <code>Oldvalue</code> that i want to change in one condition if <code>section</code> is <code>equals</code> to <code>120</code>)</p>\n<p>For that ,i have to take the  <code>Oldvalue</code> from postion <code>47-67</code> and check in database using simple query</p>\n<pre><code>select NewValue from myTable where Oldvalue = 'Oldvalue'\n</code></pre>\n<p>Then put the <code>NewValue </code>   in the place of the  <code>Oldvalue</code>    in my <code>String</code></p>\n<p>So my <code>output</code> would be :</p>\n<pre><code>0000001HL26110650059147    TEST- TEST                                                                                                               \n0000002HL34110FON202212217835294783529                       20221221123000                 650059147                                                                                                                                \n0000003HL34120FON20221221783529BLE50000395     NewValue1  \n0000004HL34120FON20221221783529BLE50000395     NewValue2 \n</code></pre>\n<p>Note that the other <code>sections</code> will remain <code>unchanged</code> just the section equals <code>120</code> and there is multiple lines where   section equals <code>120</code></p>\n<p>Any idea how to do this please</p>\n<p>Here is my attemp but could not continue to find solution ,</p>\n<pre><code> try {\n        File file = new File(&quot;C:/Users/20230309.in&quot;);\n        Scanner scanner = new Scanner(file);\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n        while (scanner.hasNextLine()) {\n            String line = scanner.nextLine();\n            lines.add(line);\n        }\n        scanner.close();\n        System.out.println(lines);\n           \nfor (String element : lines) {\n\n\n if (element.length()&gt;11 &amp;&amp; &quot;120&quot;.equals(element.trim().substring(11, 14))) \n{\n String oldValue = element.substring(47, 67);  \n\n}\n}       \n    \n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File not found.&quot;);\n        e.printStackTrace();\n    }\n    \n\n\n   \n</code></pre>\n"},{"tags":["java","sql","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":10308421,"reputation":21,"user_id":7604974,"display_name":"Mahmoud alfayoumi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678706009,"creation_date":1678706009,"answer_id":75721117,"question_id":75263501,"body_markdown":"It seems you need to build a filter method to take the values input and then construct them as SQL select statement in a dynamic way\r\nsuppose that the values that comes from user input is a Map object like this:\r\n\r\n        Map&lt;String, String&gt; searchTerms = new HashMap&lt;&gt;();\r\n        searchTerms.put(&quot;IDS&quot;, &quot;101G&quot;);\r\n        searchTerms.put(&quot;IDS&quot;, &quot;14F&quot;);\r\n        searchTerms.put(&quot;IDS&quot;, &quot;701G&quot;);\r\nThen you can generate the SQL query using buildSelectQuery method bellow:  \r\n \r\n    public String buildSelectQuery(Map&lt;String, String&gt; searchTerms, String tableName) {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;SELECT * FROM &quot;).append(tableName).append(&quot; WHERE &quot;);\r\n\r\n        for (Map.Entry&lt;String, String&gt; entry : searchTerms.entrySet()) {\r\n            String column = entry.getKey();\r\n            String value = entry.getValue();\r\n            sb.append(column).append(&quot; LIKE &#39;%&quot;).append(value).append(&quot;%&#39; AND &quot;);\r\n        }\r\n\r\n        sb.delete(sb.length() - 5, sb.length()); // Remove the trailing &quot; AND &quot;\r\n\r\n        return sb.toString();\r\n    }\r\nFinally, you can generate the SQL select query by calling the mentioned method:\r\n\r\n        MyQueryBuilder qb = new MyQueryBuilder();\r\n        String query = qb.buildSelectQuery(searchTerms, &quot;test.new_table&quot;);\r\n\r\n        System.out.println(query);\r\n\r\n ","title":"JdbcTemplate Reading a table with a list of filter values (with AND and LIKE )and returning a list of string","body":"<p>It seems you need to build a filter method to take the values input and then construct them as SQL select statement in a dynamic way\nsuppose that the values that comes from user input is a Map object like this:</p>\n<pre><code>    Map&lt;String, String&gt; searchTerms = new HashMap&lt;&gt;();\n    searchTerms.put(&quot;IDS&quot;, &quot;101G&quot;);\n    searchTerms.put(&quot;IDS&quot;, &quot;14F&quot;);\n    searchTerms.put(&quot;IDS&quot;, &quot;701G&quot;);\n</code></pre>\n<p>Then you can generate the SQL query using buildSelectQuery method bellow:</p>\n<pre><code>public String buildSelectQuery(Map&lt;String, String&gt; searchTerms, String tableName) {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;SELECT * FROM &quot;).append(tableName).append(&quot; WHERE &quot;);\n\n    for (Map.Entry&lt;String, String&gt; entry : searchTerms.entrySet()) {\n        String column = entry.getKey();\n        String value = entry.getValue();\n        sb.append(column).append(&quot; LIKE '%&quot;).append(value).append(&quot;%' AND &quot;);\n    }\n\n    sb.delete(sb.length() - 5, sb.length()); // Remove the trailing &quot; AND &quot;\n\n    return sb.toString();\n}\n</code></pre>\n<p>Finally, you can generate the SQL select query by calling the mentioned method:</p>\n<pre><code>    MyQueryBuilder qb = new MyQueryBuilder();\n    String query = qb.buildSelectQuery(searchTerms, &quot;test.new_table&quot;);\n\n    System.out.println(query);\n</code></pre>\n"}],"owner":{"account_id":17575474,"reputation":19,"user_id":12750330,"display_name":"ju09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678706009,"creation_date":1674854663,"question_id":75263501,"body_markdown":"How should I go about creating a Java method that can perform this operation?\r\n\r\n``` SQL\r\n\r\n\t\tSELECT * FROM test.new_table\r\n\t\tWHERE IDS LIKE &quot;%101G%&quot;\r\n\t\tAND IDS LIKE &quot;%14F%&quot;\r\n        AND IDS LIKE &quot;%701G%&quot;\r\n```\r\n\r\nI realized that my current code is OR operation rather than AND\r\n\r\n``` java\t\r\npublic List&lt;String&gt; readFileNamesBy(String tableName, String categoryName, List&lt;String&gt; filterValues) {\r\n\t\tString sql = &quot;select * from &quot; + tableName + &quot; where &quot;+ categoryName + &quot; like ?&quot;;\r\n\t\tJdbcTemplate jt = new JdbcTemplate(dataSource);\r\n\r\n\r\n\t\tfinal List&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\r\n\t\tfor (String filterValue : filterValues){\r\n\t\t\tjt.query(sql,\r\n\t\t\t\t\tnew Object[] { filterValue },\r\n\t\t\t\t\tnew RowCallbackHandler() {\r\n\t\t\t\t\t\tpublic void processRow(ResultSet rs) throws SQLException {\r\n\t\t\t\t\t\t\tfileNames.add(rs.getString(&quot;FILE_NAME&quot;));\r\n\t\t\t\t\t\t}});\r\n\t\t}\r\n\t\treturn fileNames;\r\n\t}\r\n\r\n```\r\n\r\nNote that ```List &lt;String&gt; filterValues``` could vary in length... so that&#39;s why I decided to go with a for loop here.\r\n\r\nBtw Idk if it matters but I&#39;m using Java 8 (since that&#39;s what this whole program is written) and I can&#39;t really do anything about it..\r\n\r\nAnd here is my implementation of the method (fyi)\r\n\r\n```java\r\n        List &lt;String&gt; filterValues = Arrays.asList(&quot;%101G%&quot;, &quot;%14F%&quot;);\r\n        List &lt;String&gt; hi = dbUtil.readFileNamesBy(&quot;test.new_table&quot;,&quot;IDS&quot;, filterValues);\r\n```","title":"JdbcTemplate Reading a table with a list of filter values (with AND and LIKE )and returning a list of string","body":"<p>How should I go about creating a Java method that can perform this operation?</p>\n<pre><code>\n        SELECT * FROM test.new_table\n        WHERE IDS LIKE &quot;%101G%&quot;\n        AND IDS LIKE &quot;%14F%&quot;\n        AND IDS LIKE &quot;%701G%&quot;\n</code></pre>\n<p>I realized that my current code is OR operation rather than AND</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;String&gt; readFileNamesBy(String tableName, String categoryName, List&lt;String&gt; filterValues) {\n        String sql = &quot;select * from &quot; + tableName + &quot; where &quot;+ categoryName + &quot; like ?&quot;;\n        JdbcTemplate jt = new JdbcTemplate(dataSource);\n\n\n        final List&lt;String&gt; fileNames = new ArrayList&lt;String&gt;();\n        for (String filterValue : filterValues){\n            jt.query(sql,\n                    new Object[] { filterValue },\n                    new RowCallbackHandler() {\n                        public void processRow(ResultSet rs) throws SQLException {\n                            fileNames.add(rs.getString(&quot;FILE_NAME&quot;));\n                        }});\n        }\n        return fileNames;\n    }\n\n</code></pre>\n<p>Note that <code>List &lt;String&gt; filterValues</code> could vary in length... so that's why I decided to go with a for loop here.</p>\n<p>Btw Idk if it matters but I'm using Java 8 (since that's what this whole program is written) and I can't really do anything about it..</p>\n<p>And here is my implementation of the method (fyi)</p>\n<pre class=\"lang-java prettyprint-override\"><code>        List &lt;String&gt; filterValues = Arrays.asList(&quot;%101G%&quot;, &quot;%14F%&quot;);\n        List &lt;String&gt; hi = dbUtil.readFileNamesBy(&quot;test.new_table&quot;,&quot;IDS&quot;, filterValues);\n</code></pre>\n"},{"tags":["java","java-stream","java-17"],"answers":[{"comments":[{"owner":{"account_id":12170165,"reputation":3,"user_id":8885122,"display_name":"hubert"},"score":2,"creation_date":1678689188,"post_id":75716639,"comment_id":133575227,"body_markdown":"Thank you! And sorry, my original question didn&#39;t provide a testable piece of code and it forced you to generate the list of cards yourself. Even if it&#39;s to late I updated my question and made my code fully testable and, of course, you solution still works. Thank you!","body":"Thank you! And sorry, my original question didn&#39;t provide a testable piece of code and it forced you to generate the list of cards yourself. Even if it&#39;s to late I updated my question and made my code fully testable and, of course, you solution still works. Thank you!"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1678711753,"post_id":75716639,"comment_id":133580931,"body_markdown":"@hubert BTW. something that might be of use to you is [Collections.shuffle](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List))","body":"@hubert BTW. something that might be of use to you is <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)\" rel=\"nofollow noreferrer\">Collections.shuffle</a>"},{"owner":{"account_id":12170165,"reputation":3,"user_id":8885122,"display_name":"hubert"},"score":0,"creation_date":1678732017,"post_id":75716639,"comment_id":133587240,"body_markdown":"Thank you for the tip. I&#39;m already using it. I considered for 2 seconds generating a randomly shuffled deck of cards the functional way with Java but I quickly gave up, exhausted I was after painfully producing the cartesian product between Suit and Value to get the unshuffled deck of cards.","body":"Thank you for the tip. I&#39;m already using it. I considered for 2 seconds generating a randomly shuffled deck of cards the functional way with Java but I quickly gave up, exhausted I was after painfully producing the cartesian product between Suit and Value to get the unshuffled deck of cards."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1678705966,"creation_date":1678658459,"answer_id":75716639,"question_id":75716563,"body_markdown":"Here is one way. I am using a record to simulate cards as as simple integer.\r\n\r\n- First stream the number of players via `IntStream`.\r\n- then create a `subList` taking the proper number of cards for each player.\r\n- the above is `mapped` to place each new &quot;hand&quot; on the stream.\r\n- then return each `hand` in list of lists.\r\n```\r\nrecord Card(int a) {\r\n}\r\n\r\nInteger numberOfPlayers = 3;\r\nInteger numberOfCardsPerPlayer = 5;\r\nList&lt;Card&gt; cards = IntStream.range(0, numberOfPlayer*numberOfCardsPerPlayer).mapToObj(i -&gt; new Card(i))\r\n        .toList();\r\n\r\n List&lt;List&lt;Card&gt;&gt; hands = IntStream.range(0, numberOfPlayers)\r\n                .&lt;List&lt;Card&gt;&gt;mapToObj(player -&gt; new ArrayList&lt;&gt;(\r\n                        cards.subList(player * numberOfCardsPerPlayer,\r\n                                (player + 1) * numberOfCardsPerPlayer)))\r\n                .toList();\r\n\r\nhands.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n[Card[a=0], Card[a=1], Card[a=2], Card[a=3], Card[a=4]]\r\n[Card[a=5], Card[a=6], Card[a=7], Card[a=8], Card[a=9]]\r\n[Card[a=10], Card[a=11], Card[a=12], Card[a=13], Card[a=14]]\r\n```\r\nThe reason I add the `subList` as an argument to `ArrayList` is because a subList provided a view of the original list.  So if you alter a subList, you change the original list.   Creating a new `ArrayList` makes the `sublist` independent.","title":"Java 8 Split a stream into multiple streams of the same size (deck of cards)","body":"<p>Here is one way. I am using a record to simulate cards as as simple integer.</p>\n<ul>\n<li>First stream the number of players via <code>IntStream</code>.</li>\n<li>then create a <code>subList</code> taking the proper number of cards for each player.</li>\n<li>the above is <code>mapped</code> to place each new &quot;hand&quot; on the stream.</li>\n<li>then return each <code>hand</code> in list of lists.</li>\n</ul>\n<pre><code>record Card(int a) {\n}\n\nInteger numberOfPlayers = 3;\nInteger numberOfCardsPerPlayer = 5;\nList&lt;Card&gt; cards = IntStream.range(0, numberOfPlayer*numberOfCardsPerPlayer).mapToObj(i -&gt; new Card(i))\n        .toList();\n\n List&lt;List&lt;Card&gt;&gt; hands = IntStream.range(0, numberOfPlayers)\n                .&lt;List&lt;Card&gt;&gt;mapToObj(player -&gt; new ArrayList&lt;&gt;(\n                        cards.subList(player * numberOfCardsPerPlayer,\n                                (player + 1) * numberOfCardsPerPlayer)))\n                .toList();\n\nhands.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>[Card[a=0], Card[a=1], Card[a=2], Card[a=3], Card[a=4]]\n[Card[a=5], Card[a=6], Card[a=7], Card[a=8], Card[a=9]]\n[Card[a=10], Card[a=11], Card[a=12], Card[a=13], Card[a=14]]\n</code></pre>\n<p>The reason I add the <code>subList</code> as an argument to <code>ArrayList</code> is because a subList provided a view of the original list.  So if you alter a subList, you change the original list.   Creating a new <code>ArrayList</code> makes the <code>sublist</code> independent.</p>\n"}],"owner":{"account_id":12170165,"reputation":3,"user_id":8885122,"display_name":"hubert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75716639,"answer_count":1,"score":0,"last_activity_date":1678705966,"creation_date":1678657488,"question_id":75716563,"body_markdown":"I&#39;m using JavaSE-17\r\n\r\nA - I have 3 things :\r\n\r\n(1) A list of n cards, say:\r\n\r\n```\r\nList&lt;Card&gt; cards;                      // where Card is a Record\r\nInterger numberOfCards = cards.size(); // Usually cards.size() == 52\r\n```\r\n\r\n(2) A number of players, say: \r\n\r\n```\r\nInteger numberOfPlayers;\r\n```\r\n\r\n(3) A number of cards to deal to each player, say:\r\n\r\n```\r\nInteger numberOfCardsPerPlayer;\r\n```\r\n\r\nAssuming :\r\n- Each player receive the same number of card (`numberOfCardsPerPlayer`).\r\n- `numberOfCardsPerPlayer * numberOfPlayers &lt;= numberOfCards`\r\n\r\nB - I want to get a list containing `numberOfPlayers` lists of cards where each list of cards contains exactly `numberOfCardsPerPlayer` cards.\r\n\r\nFor example, if I have a deck of 52 cards, 3 players and 5 cards per player, I should get a list of 3 lists of cards with each list of cards contains 5 cards.\r\n\r\nC - Question\r\n\r\nIs there a way of doing it without the `AtomicInteger` and without calling `stream` two times? (and without using loops or external librairies).\r\n\r\n\r\nD - The code below works but feels strange (using `AtomicInteger` feels like cheating because I try to avoid mutability and I&#39;m not sure calling `stream` two times is good practice)\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class DeckOfCards {\r\n\tpublic enum Suit {CLUB, DIAMOND, HEART, SPADE}\r\n\tpublic enum Value {TWO, THREE, FOUR, FIVE, SIX, SEVEN}\r\n\r\n\tpublic record Card(Suit suit,  Value value) {}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tInteger numberOfPlayers = 3;\r\n\t\tInteger numberOfCardsPerPlayer = 2;\r\n\t\tList&lt;Card&gt; cards = new ArrayList&lt;Card&gt;(\r\n\t\t\t\tArrays.asList(new Card(Suit.CLUB, Value.TWO),\r\n\t\t\t\t\t\tnew Card(Suit.DIAMOND, Value.SIX),\r\n\t\t\t\t\t\tnew Card(Suit.HEART, Value.FOUR),\r\n\t\t\t\t\t\tnew Card(Suit.SPADE, Value.SEVEN),\r\n\t\t\t\t\t\tnew Card(Suit.HEART, Value.FIVE),\r\n\t\t\t\t\t\tnew Card(Suit.CLUB, Value.FOUR),\r\n\t\t\t\t\t\tnew Card(Suit.SPADE, Value.THREE)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t);\r\n\r\n\t\tAtomicInteger counter = new AtomicInteger();\r\n\t\tList&lt;List&lt;Card&gt;&gt; result = \r\n\t\t\t\tcards.stream()\r\n\t\t\t\t.limit(numberOfCardsPerPlayer * numberOfPlayers)\r\n\t\t\t\t.collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / numberOfCardsPerPlayer))\r\n\t\t\t\t.values()\r\n\t\t\t\t.stream()\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\tSystem.out.println(result);\r\n\t\t// Prints :\r\n\t\t// [\r\n\t\t//   [Card[suit=CLUB, value=TWO], Card[suit=DIAMOND, value=SIX]]\r\n\t\t// , [Card[suit=HEART, value=FOUR], Card[suit=SPADE, value=SEVEN]]\r\n\t\t// , [Card[suit=HEART, value=FIVE], Card[suit=CLUB, value=FOUR]]\r\n\t\t// ]\r\n\r\n\t}\r\n}\r\n```","title":"Java 8 Split a stream into multiple streams of the same size (deck of cards)","body":"<p>I'm using JavaSE-17</p>\n<p>A - I have 3 things :</p>\n<p>(1) A list of n cards, say:</p>\n<pre><code>List&lt;Card&gt; cards;                      // where Card is a Record\nInterger numberOfCards = cards.size(); // Usually cards.size() == 52\n</code></pre>\n<p>(2) A number of players, say:</p>\n<pre><code>Integer numberOfPlayers;\n</code></pre>\n<p>(3) A number of cards to deal to each player, say:</p>\n<pre><code>Integer numberOfCardsPerPlayer;\n</code></pre>\n<p>Assuming :</p>\n<ul>\n<li>Each player receive the same number of card (<code>numberOfCardsPerPlayer</code>).</li>\n<li><code>numberOfCardsPerPlayer * numberOfPlayers &lt;= numberOfCards</code></li>\n</ul>\n<p>B - I want to get a list containing <code>numberOfPlayers</code> lists of cards where each list of cards contains exactly <code>numberOfCardsPerPlayer</code> cards.</p>\n<p>For example, if I have a deck of 52 cards, 3 players and 5 cards per player, I should get a list of 3 lists of cards with each list of cards contains 5 cards.</p>\n<p>C - Question</p>\n<p>Is there a way of doing it without the <code>AtomicInteger</code> and without calling <code>stream</code> two times? (and without using loops or external librairies).</p>\n<p>D - The code below works but feels strange (using <code>AtomicInteger</code> feels like cheating because I try to avoid mutability and I'm not sure calling <code>stream</code> two times is good practice)</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport java.util.stream.Collectors;\n\npublic class DeckOfCards {\n    public enum Suit {CLUB, DIAMOND, HEART, SPADE}\n    public enum Value {TWO, THREE, FOUR, FIVE, SIX, SEVEN}\n\n    public record Card(Suit suit,  Value value) {}\n\n    public static void main(String[] args) {\n        Integer numberOfPlayers = 3;\n        Integer numberOfCardsPerPlayer = 2;\n        List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;(\n                Arrays.asList(new Card(Suit.CLUB, Value.TWO),\n                        new Card(Suit.DIAMOND, Value.SIX),\n                        new Card(Suit.HEART, Value.FOUR),\n                        new Card(Suit.SPADE, Value.SEVEN),\n                        new Card(Suit.HEART, Value.FIVE),\n                        new Card(Suit.CLUB, Value.FOUR),\n                        new Card(Suit.SPADE, Value.THREE)\n                        )\n                );\n\n        AtomicInteger counter = new AtomicInteger();\n        List&lt;List&lt;Card&gt;&gt; result = \n                cards.stream()\n                .limit(numberOfCardsPerPlayer * numberOfPlayers)\n                .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / numberOfCardsPerPlayer))\n                .values()\n                .stream()\n                .collect(Collectors.toList());\n        \n        System.out.println(result);\n        // Prints :\n        // [\n        //   [Card[suit=CLUB, value=TWO], Card[suit=DIAMOND, value=SIX]]\n        // , [Card[suit=HEART, value=FOUR], Card[suit=SPADE, value=SEVEN]]\n        // , [Card[suit=HEART, value=FIVE], Card[suit=CLUB, value=FOUR]]\n        // ]\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jdbc","jdbctemplate"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1678361064,"post_id":75682816,"comment_id":133519145,"body_markdown":"does this help? https://stackoverflow.com/questions/51739841/how-to-disable-spring-hibernate-hazelcast-joint-cache","body":"does this help? <a href=\"https://stackoverflow.com/questions/51739841/how-to-disable-spring-hibernate-hazelcast-joint-cache\" title=\"how to disable spring hibernate hazelcast joint cache\">stackoverflow.com/questions/51739841/&hellip;</a>"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1678363382,"post_id":75682816,"comment_id":133519774,"body_markdown":"@JAsgarov no. I don&#39;t use second level cache. As I know it is disable by default. But thank you!","body":"@JAsgarov no. I don&#39;t use second level cache. As I know it is disable by default. But thank you!"},{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":1,"creation_date":1678364133,"post_id":75682816,"comment_id":133520010,"body_markdown":"will this help? https://stackoverflow.com/questions/7933617/getting-old-data-with-jpa","body":"will this help? <a href=\"https://stackoverflow.com/questions/7933617/getting-old-data-with-jpa\" title=\"getting old data with jpa\">stackoverflow.com/questions/7933617/getting-old-data-with-jp&zwnj;&#8203;a</a>"},{"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"score":1,"creation_date":1678368253,"post_id":75682816,"comment_id":133521299,"body_markdown":"Could you try clearing the entityManager before calling findById to see what happens: entityManager.clear();","body":"Could you try clearing the entityManager before calling findById to see what happens: entityManager.clear();"},{"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"score":0,"creation_date":1678372431,"post_id":75682816,"comment_id":133522675,"body_markdown":"@JavaLearner1, Meac Bannout thank you! Now it&#39;s work. But could you give me a complete explanation? As I understand Hibernate has first level cache or PersistenceContext which save all entities in one session. I had it in one state, then another micoservice changes the row in DB, but I still got the the same entity. \nentityManager.clear() - clear this context and everything is fine. But as I understand in my case: Spring JDBC works with DB directly?\nAnd as I use Spring data through CrudRepository I needed to add &quot;EntityManager entityManager&quot;. Is it a good way? Or I can use some annotation?","body":"@JavaLearner1, Meac Bannout thank you! Now it&#39;s work. But could you give me a complete explanation? As I understand Hibernate has first level cache or PersistenceContext which save all entities in one session. I had it in one state, then another micoservice changes the row in DB, but I still got the the same entity.  entityManager.clear() - clear this context and everything is fine. But as I understand in my case: Spring JDBC works with DB directly? And as I use Spring data through CrudRepository I needed to add &quot;EntityManager entityManager&quot;. Is it a good way? Or I can use some annotation?"}],"answers":[{"tags":[],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678705310,"creation_date":1678705310,"answer_id":75720992,"question_id":75682816,"body_markdown":"As guys in comments said: I need to write:\r\n\r\n    entityManager.clear()","title":"Spring data and spring JDBC return a different value","body":"<p>As guys in comments said: I need to write:</p>\n<pre><code>entityManager.clear()\n</code></pre>\n"}],"owner":{"account_id":20962427,"reputation":25,"user_id":15401560,"display_name":"Vitaliy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1678705310,"creation_date":1678355072,"question_id":75682816,"body_markdown":"everyone! I have a problem. I use Spring Data in my project with some microservices.\r\nOne of them changes a row in DB. Then in my microservice I check that row. The main problem is that findById() method of Spring Data return old, not changed value. \r\nI put a breakpoin, my eyes see one value in DB, but repository give me another one.\r\nAfter some experiments I decided to try to write this query throught Spring JBDC. And now - everything is okay. \r\nThis is Spring Data query:\r\n\r\n    Optional&lt;MessageLog&gt; byId = messageLogRepository.findById(id);\r\n\r\nThis is Spring JDBC: \r\n\r\n    public MessageLog findByIdJdbc(String id) {\r\n        SqlParameterSource sqlParameterSource = new MapSqlParameterSource(&quot;id&quot;, id);\r\n        String findByIdSQL = &quot;SELECT * from MESSAGESLOG where ID = :id&quot;;\r\n        return namedParameterJdbcTemplate.queryForObject(findByIdSQL, sqlParameterSource, rowMapper);\r\n        }\r\n\r\nCould you, please, give me an explanation or an article? I think that the problem can be in cache. But did not find an answer.","title":"Spring data and spring JDBC return a different value","body":"<p>everyone! I have a problem. I use Spring Data in my project with some microservices.\nOne of them changes a row in DB. Then in my microservice I check that row. The main problem is that findById() method of Spring Data return old, not changed value.\nI put a breakpoin, my eyes see one value in DB, but repository give me another one.\nAfter some experiments I decided to try to write this query throught Spring JBDC. And now - everything is okay.\nThis is Spring Data query:</p>\n<pre><code>Optional&lt;MessageLog&gt; byId = messageLogRepository.findById(id);\n</code></pre>\n<p>This is Spring JDBC:</p>\n<pre><code>public MessageLog findByIdJdbc(String id) {\n    SqlParameterSource sqlParameterSource = new MapSqlParameterSource(&quot;id&quot;, id);\n    String findByIdSQL = &quot;SELECT * from MESSAGESLOG where ID = :id&quot;;\n    return namedParameterJdbcTemplate.queryForObject(findByIdSQL, sqlParameterSource, rowMapper);\n    }\n</code></pre>\n<p>Could you, please, give me an explanation or an article? I think that the problem can be in cache. But did not find an answer.</p>\n"},{"tags":["java","apache-kafka","jakarta-ee","jboss"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1678756880,"post_id":75720973,"comment_id":133591870,"body_markdown":"Does this help http://www.mastertheboss.com/jboss-frameworks/apache-kafka/getting-started-with-apache-kafka-and-wildfly/?","body":"Does this help <a href=\"http://www.mastertheboss.com/jboss-frameworks/apache-kafka/getting-started-with-apache-kafka-and-wildfly/\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-frameworks/apache-kafka/&hellip;</a>?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1679072409,"post_id":75720973,"comment_id":133661284,"body_markdown":"Take a look at [Quarkus](https://quarkus.io)","body":"Take a look at <a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">Quarkus</a>"}],"owner":{"account_id":1854123,"reputation":79,"user_id":1680071,"display_name":"EbrahimFarahmand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678705168,"creation_date":1678705168,"question_id":75720973,"body_markdown":"I want to use Kafka service with Jakarta ee technology and Jboss/Wildfly server application to manage large volume of messages. Can anyone suggest a sample code for this? Or a document that explains this in detail","title":"Sample Kafka code in J2ee and Jboss/Wildfly Application Server","body":"<p>I want to use Kafka service with Jakarta ee technology and Jboss/Wildfly server application to manage large volume of messages. Can anyone suggest a sample code for this? Or a document that explains this in detail</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678694897,"post_id":75718758,"comment_id":133576287,"body_markdown":"what is the @RequestMapping of the controller? how does the request you are sending look like? is there any error in logs?","body":"what is the @RequestMapping of the controller? how does the request you are sending look like? is there any error in logs?"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1678697442,"post_id":75718758,"comment_id":133576848,"body_markdown":"Here is sample request sent : {  \n   &quot;searchString&quot;:&quot;some search str&quot;,\n   &quot;type&quot; : &quot;VALUE5&quot;,\n   &quot;description&quot;: &quot;some description&quot; \n}   , The problematic field is TYPE . Did not found errors in log .","body":"Here is sample request sent : {      &quot;searchString&quot;:&quot;some search str&quot;,    &quot;type&quot; : &quot;VALUE5&quot;,    &quot;description&quot;: &quot;some description&quot;  }   , The problematic field is TYPE . Did not found errors in log ."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1678697891,"post_id":75718758,"comment_id":133576960,"body_markdown":"can you update the question and share the whole `MyRequestDTO` and `BaseDTO` ? probably it is a json deserializing issue","body":"can you update the question and share the whole <code>MyRequestDTO</code> and <code>BaseDTO</code> ? probably it is a json deserializing issue"},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1678698546,"post_id":75718758,"comment_id":133577149,"body_markdown":"May be helpful: [https://stackoverflow.com/a/64576320/10231374](https://stackoverflow.com/a/64576320/10231374)","body":"May be helpful: <a href=\"https://stackoverflow.com/a/64576320/10231374\">https://stackoverflow.com/a/64576320/10231374</a>"},{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1678698904,"post_id":75718758,"comment_id":133577229,"body_markdown":"EmanuelTrandafir , birca123 - Thanks - I succeeded to catch the exception - it is HttpMessageNotReadableException with &quot;JSON parse error..&quot;.","body":"EmanuelTrandafir , birca123 - Thanks - I succeeded to catch the exception - it is HttpMessageNotReadableException with &quot;JSON parse error..&quot;."}],"answers":[{"comments":[{"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"score":0,"creation_date":1678743955,"post_id":75720916,"comment_id":133590040,"body_markdown":"Thanks - added overridden handler for HttpMessageNotReadableException","body":"Thanks - added overridden handler for HttpMessageNotReadableException"},{"owner":{"account_id":27808952,"reputation":111,"user_id":21336006,"display_name":"Tonny Liu"},"score":0,"creation_date":1678793228,"post_id":75720916,"comment_id":133598498,"body_markdown":"Ok, I&#39;m glad my answer is useful. If you think my answer is useful, can you give me some Reputation?","body":"Ok, I&#39;m glad my answer is useful. If you think my answer is useful, can you give me some Reputation?"}],"tags":[],"owner":{"account_id":27808952,"reputation":111,"user_id":21336006,"display_name":"Tonny Liu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678704844,"creation_date":1678704844,"answer_id":75720916,"question_id":75718758,"body_markdown":"This may be a parameter parsing error: JSON parse error.\r\n\r\nfixed:\r\n\r\n    @ExceptionHandler({HttpMessageNotReadableException.class})","title":"Spring : Exception handler does not catch exception for wrong enum value","body":"<p>This may be a parameter parsing error: JSON parse error.</p>\n<p>fixed:</p>\n<pre><code>@ExceptionHandler({HttpMessageNotReadableException.class})\n</code></pre>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":579,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678704844,"creation_date":1678690286,"question_id":75718758,"body_markdown":"When calling myPOstMethod of RESTful app , I got error &quot;400 bad request&quot; with no response body\r\n\r\nThe method definition is \r\n\r\n    @PostMapping()\r\n    public MyResponseDTO myPostMethod(\r\n                @Parameter(description = &quot;Paramdescription&quot;)\r\n                @PathVariable String tokenParam,\r\n                @RequestBody MyRequestDTO requestBody\r\n        ) \r\n    \t{\t\r\n            //fill response ...\r\n    \t\treturn new MyResponseDTO(datafilled);\r\n        } \r\n\r\nMyRequestDTO has field definied as following \r\n\r\n    public class MyRequestDTO extends BaseDTO {\r\n    \r\n        ......\r\n    \r\n        @Override\r\n        public ExpType getExpType() {\r\n            return super.getExpType();\r\n        }\r\n        \r\n    }\r\n    \r\n    public enum ExpType {\r\n        VALUE1,\r\n        VALUE2,\r\n        VALUE3\r\n    }\r\n\r\nThe error occurs when request value which is NOT contain in the Enum (for example VALUE5 ) \r\n\r\nI am using \r\n\r\n    @ControllerAdvice\r\n    public class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler \r\n\r\nAs proposed [here][1] I am using GlobalControllerExceptionHandler annotated with @ControllerAdvice\r\n\r\nWith method to catch all exceptions defined as following \r\n\r\n    @ExceptionHandler(Exception.class)\r\n    @ResponseBody\r\n    ResponseEntity&lt;Object&gt; handleGeneralException(HttpServletRequest request, Exception ex) {\r\n    \t.....\r\n    } \r\n\r\nBut seems that this method does not called\r\n\r\nWhat should be correct handler definition for such case ? \r\nThanks in advance \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/41292788/spring-rest-handling-empty-request-body-400-bad-request?rq=1","title":"Spring : Exception handler does not catch exception for wrong enum value","body":"<p>When calling myPOstMethod of RESTful app , I got error &quot;400 bad request&quot; with no response body</p>\n<p>The method definition is</p>\n<pre><code>@PostMapping()\npublic MyResponseDTO myPostMethod(\n            @Parameter(description = &quot;Paramdescription&quot;)\n            @PathVariable String tokenParam,\n            @RequestBody MyRequestDTO requestBody\n    ) \n    {   \n        //fill response ...\n        return new MyResponseDTO(datafilled);\n    } \n</code></pre>\n<p>MyRequestDTO has field definied as following</p>\n<pre><code>public class MyRequestDTO extends BaseDTO {\n\n    ......\n\n    @Override\n    public ExpType getExpType() {\n        return super.getExpType();\n    }\n    \n}\n\npublic enum ExpType {\n    VALUE1,\n    VALUE2,\n    VALUE3\n}\n</code></pre>\n<p>The error occurs when request value which is NOT contain in the Enum (for example VALUE5 )</p>\n<p>I am using</p>\n<pre><code>@ControllerAdvice\npublic class GlobalControllerExceptionHandler extends ResponseEntityExceptionHandler \n</code></pre>\n<p>As proposed <a href=\"https://stackoverflow.com/questions/41292788/spring-rest-handling-empty-request-body-400-bad-request?rq=1\">here</a> I am using GlobalControllerExceptionHandler annotated with @ControllerAdvice</p>\n<p>With method to catch all exceptions defined as following</p>\n<pre><code>@ExceptionHandler(Exception.class)\n@ResponseBody\nResponseEntity&lt;Object&gt; handleGeneralException(HttpServletRequest request, Exception ex) {\n    .....\n} \n</code></pre>\n<p>But seems that this method does not called</p>\n<p>What should be correct handler definition for such case ?\nThanks in advance</p>\n"},{"tags":["java","griddb"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1678706840,"post_id":75720885,"comment_id":133579516,"body_markdown":"I’m not familiar with griddb, so here’s my general 2c thoughts.  All the griddb classes (including RowKey) will be in their jar file - have you downloaded that ?   Also using javac would mean you’re having to download that and its dependencies - have you tried maven (as described https://griddb.net/en/blog/using-maven-to-develop-griddb-applications/ ) ?","body":"I’m not familiar with griddb, so here’s my general 2c thoughts.  All the griddb classes (including RowKey) will be in their jar file - have you downloaded that ?   Also using javac would mean you’re having to download that and its dependencies - have you tried maven (as described <a href=\"https://griddb.net/en/blog/using-maven-to-develop-griddb-applications/\" rel=\"nofollow noreferrer\">griddb.net/en/blog/using-maven-to-develop-griddb-application&zwnj;&#8203;s</a> ) ?"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1678714657,"post_id":75720885,"comment_id":133581848,"body_markdown":"Check your CLASSPATH, if you have included required Jar files, from command-lie you could also use the -cp option.","body":"Check your CLASSPATH, if you have included required Jar files, from command-lie you could also use the -cp option."}],"owner":{"account_id":27489496,"reputation":31,"user_id":20975146,"display_name":"JillT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678704667,"creation_date":1678704667,"question_id":75720885,"body_markdown":"I&#39;m trying to write a test Java program to access data in GridDB, similar to the example in the GridDB documentation here: https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java.\r\n\r\nBefore putting any actual action into the program, I tried to compile it to make sure the compilation will work. At this stage, my code looks like this:\r\n```\r\nimport com.toshiba.mwcloud.gs.Collection;\r\nimport com.toshiba.mwcloud.gs.GSException;\r\nimport com.toshiba.mwcloud.gs.GridStore;\r\nimport com.toshiba.mwcloud.gs.GridStoreFactory;\r\nimport com.toshiba.mwcloud.gs.Query;\r\nimport com.toshiba.mwcloud.gs.RowKey;\r\nimport com.toshiba.mwcloud.gs.RowSet;\r\nimport java.util.*;\r\npublic class GriddbTest\r\n{\r\nstatic class test1\r\n{\r\n@Rowkey String account;\r\nString name;\r\nString address;\r\n}\r\npublic static void main (String[] args)\r\n{\r\nProperties props = new Properties();\r\nprops.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\r\nprops.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\r\nprops.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\r\nprops.setProperty(&quot;user&quot;, &quot;admin&quot;);\r\nprops.setProperty(&quot;password&quot;, &quot;admin&quot;);\r\nGridStore store = GridStoreFactory.getInstance().getGridStore(props);\r\n}\r\n}\r\n```\r\nI included the @RowKey directive as per the sample program. However, when I compile it, I get the following error:\r\n\r\n\r\n```\r\ngsadm@Ubuntu:~$ javac GriddbTest.java\r\nGriddbTest.java:13: error: cannot find symbol\r\n@Rowkey String account;\r\n ^\r\n  symbol:   class Rowkey\r\n  location: class test1\r\n1 error\r\n\r\n```\r\n\r\n\r\nSo it&#39;s not recognizing the @Rowkey directive.\r\n\r\nIs there something I need to have first set up in my environment in order for this directive to work?\r\n\r\nThanks a lot\r\n\r\nI&#39;ve tried going through the documentation to see if I have missed out any steps when installing and setting up environment variables, but can&#39;t find anything relevant ","title":"Compiler error when using Java with GridDB","body":"<p>I'm trying to write a test Java program to access data in GridDB, similar to the example in the GridDB documentation here: <a href=\"https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java\" rel=\"nofollow noreferrer\">https://docs.griddb.net/latest/gettingstarted/java/#simulate-iot-data-with-java</a>.</p>\n<p>Before putting any actual action into the program, I tried to compile it to make sure the compilation will work. At this stage, my code looks like this:</p>\n<pre><code>import com.toshiba.mwcloud.gs.Collection;\nimport com.toshiba.mwcloud.gs.GSException;\nimport com.toshiba.mwcloud.gs.GridStore;\nimport com.toshiba.mwcloud.gs.GridStoreFactory;\nimport com.toshiba.mwcloud.gs.Query;\nimport com.toshiba.mwcloud.gs.RowKey;\nimport com.toshiba.mwcloud.gs.RowSet;\nimport java.util.*;\npublic class GriddbTest\n{\nstatic class test1\n{\n@Rowkey String account;\nString name;\nString address;\n}\npublic static void main (String[] args)\n{\nProperties props = new Properties();\nprops.setProperty(&quot;notificationAddress&quot;, &quot;239.0.0.1&quot;);\nprops.setProperty(&quot;notificationPort&quot;, &quot;31999&quot;);\nprops.setProperty(&quot;clusterName&quot;, &quot;defaultCluster&quot;);\nprops.setProperty(&quot;user&quot;, &quot;admin&quot;);\nprops.setProperty(&quot;password&quot;, &quot;admin&quot;);\nGridStore store = GridStoreFactory.getInstance().getGridStore(props);\n}\n}\n</code></pre>\n<p>I included the @RowKey directive as per the sample program. However, when I compile it, I get the following error:</p>\n<pre><code>gsadm@Ubuntu:~$ javac GriddbTest.java\nGriddbTest.java:13: error: cannot find symbol\n@Rowkey String account;\n ^\n  symbol:   class Rowkey\n  location: class test1\n1 error\n\n</code></pre>\n<p>So it's not recognizing the @Rowkey directive.</p>\n<p>Is there something I need to have first set up in my environment in order for this directive to work?</p>\n<p>Thanks a lot</p>\n<p>I've tried going through the documentation to see if I have missed out any steps when installing and setting up environment variables, but can't find anything relevant</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1609952139,"creation_date":1540310555,"answer_id":52953405,"question_id":52953145,"body_markdown":"You have to use a query that is defined via a combination of `orderBy()` and `limit()`, as follows:\r\n\r\n    CollectionReference collectionRef = db.collection(&quot;collection&quot;);\r\n    Query query = collectionRef.orderBy(&quot;amount&quot;, descending: true).limit(1);\r\n\r\nSee the docs here https://firebase.google.com/docs/firestore/query-data/queries and here https://firebase.google.com/docs/firestore/query-data/order-limit-data","title":"Maximum value from Firebase Firestore collection","body":"<p>You have to use a query that is defined via a combination of <code>orderBy()</code> and <code>limit()</code>, as follows:</p>\n<pre><code>CollectionReference collectionRef = db.collection(&quot;collection&quot;);\nQuery query = collectionRef.orderBy(&quot;amount&quot;, descending: true).limit(1);\n</code></pre>\n<p>See the docs here <a href=\"https://firebase.google.com/docs/firestore/query-data/queries\" rel=\"noreferrer\">https://firebase.google.com/docs/firestore/query-data/queries</a> and here <a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data\" rel=\"noreferrer\">https://firebase.google.com/docs/firestore/query-data/order-limit-data</a></p>\n"},{"tags":[],"owner":{"account_id":10928209,"reputation":51,"user_id":8032275,"display_name":"excitedWithin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608251783,"creation_date":1608251783,"answer_id":65350282,"question_id":52953145,"body_markdown":"In Kotlin, you can do it like this:\r\n\r\n    db.collection(&quot;collection&quot;)\r\n       .orderBy(&quot;amount&quot;, Direction.DESCENDING).limit(1)\r\n       .get()\r\n       .addOnSuccessListener { documents -&gt;\r\n               //your code, print the highest amount   \r\n       }                \r\n       .addOnFailureListener { exception -&gt;\r\n               Toast.makeText(this, exception.toString(), Toast.LENGTH_LONG).show()\r\n               Log.i(&quot;YourActivity&quot;,exception.toString())\r\n        }\r\n\r\nThen, run your project and trigger the above call to the database. You will see a toast with a firebase exception message. Go to your Logcat, filter it with YourActivity class name, and you will see there a link to Firebase, in order to confirm this new index that you are creating. Wait for it&#39;s building a few minutes, and when it&#39;s status is enabled, run your project again. \r\n","title":"Maximum value from Firebase Firestore collection","body":"<p>In Kotlin, you can do it like this:</p>\n<pre><code>db.collection(&quot;collection&quot;)\n   .orderBy(&quot;amount&quot;, Direction.DESCENDING).limit(1)\n   .get()\n   .addOnSuccessListener { documents -&gt;\n           //your code, print the highest amount   \n   }                \n   .addOnFailureListener { exception -&gt;\n           Toast.makeText(this, exception.toString(), Toast.LENGTH_LONG).show()\n           Log.i(&quot;YourActivity&quot;,exception.toString())\n    }\n</code></pre>\n<p>Then, run your project and trigger the above call to the database. You will see a toast with a firebase exception message. Go to your Logcat, filter it with YourActivity class name, and you will see there a link to Firebase, in order to confirm this new index that you are creating. Wait for it's building a few minutes, and when it's status is enabled, run your project again.</p>\n"},{"comments":[{"owner":{"account_id":1158262,"reputation":2692,"user_id":1138311,"display_name":"KimKulling"},"score":0,"creation_date":1635404137,"post_id":69747933,"comment_id":123289597,"body_markdown":"Could you add some more information, please? What do you want to archive, for instance!","body":"Could you add some more information, please? What do you want to archive, for instance!"},{"owner":{"account_id":9110911,"reputation":105,"user_id":6779695,"display_name":"Sunday David"},"score":0,"creation_date":1635426294,"post_id":69747933,"comment_id":123298969,"body_markdown":"To get the row data of the max value in the amount column","body":"To get the row data of the max value in the amount column"}],"tags":[],"owner":{"account_id":9110911,"reputation":105,"user_id":6779695,"display_name":"Sunday David"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635426227,"creation_date":1635391674,"answer_id":69747933,"question_id":52953145,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    const maxRef = await db.collection(&#39;collection&#39;).orderBy(&#39;amount&#39;, &#39;desc&#39;).limit(1).get();\r\nconst dataRef = maxRef.docs? maxRef.docs[0] : null;\r\nconsole.log(dataRef.data())\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [reference][1]\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data","title":"Maximum value from Firebase Firestore collection","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const maxRef = await db.collection('collection').orderBy('amount', 'desc').limit(1).get();\nconst dataRef = maxRef.docs? maxRef.docs[0] : null;\nconsole.log(dataRef.data())</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://firebase.google.com/docs/firestore/query-data/order-limit-data#order_and_limit_data\" rel=\"nofollow noreferrer\">reference</a></p>\n"}],"owner":{"account_id":5795277,"reputation":443,"user_id":4571266,"display_name":"Etornam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11102,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":52953405,"answer_count":3,"score":12,"last_activity_date":1678704246,"creation_date":1540309759,"question_id":52953145,"body_markdown":"    collection\r\n            *\r\n            Random_Id1\r\n                    *amount:100\r\n                    *name:John\r\n            Random_Id2\r\n                    *amount:150\r\n                    *name:Matt\r\n            Random_Id3\r\n                    *amount:65\r\n                    *name:Alice\r\n\r\nI have  a firestore collection that has different documents under it. these documents have data within them(name,age,amount, etc.). is there a way i can return the highest or Maximum **amount** in the collection? I&#39;m implementing this in java(android).\r\n**In the case of the above structure, the Maximum will be 150**.\r\nThank you in advance\r\n\r\n","title":"Maximum value from Firebase Firestore collection","body":"<pre><code>collection\n        *\n        Random_Id1\n                *amount:100\n                *name:John\n        Random_Id2\n                *amount:150\n                *name:Matt\n        Random_Id3\n                *amount:65\n                *name:Alice\n</code></pre>\n\n<p>I have  a firestore collection that has different documents under it. these documents have data within them(name,age,amount, etc.). is there a way i can return the highest or Maximum <strong>amount</strong> in the collection? I'm implementing this in java(android).\n<strong>In the case of the above structure, the Maximum will be 150</strong>.\nThank you in advance</p>\n"},{"tags":["java","active-directory","kerberos","windows-7-x64","windows-server-2012"],"comments":[{"owner":{"account_id":7465244,"reputation":804,"user_id":5675083,"accept_rate":67,"display_name":"FlyingSheep"},"score":0,"creation_date":1582722633,"post_id":42998255,"comment_id":106874456,"body_markdown":"I see a type: should not aes256-cts-hmac-shal-96 be aes256-cts-hmac-sha1-96?","body":"I see a type: should not aes256-cts-hmac-shal-96 be aes256-cts-hmac-sha1-96?"}],"answers":[{"comments":[{"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"score":1,"creation_date":1490427390,"post_id":43009903,"comment_id":73116519,"body_markdown":"Thanx 4 replying @T-Heron. Tried your suggestion but still getting the same exception. I also checked if the **JCE** jars are being used or not by running the following code :-","body":"Thanx 4 replying @T-Heron. Tried your suggestion but still getting the same exception. I also checked if the <b>JCE</b> jars are being used or not by running the following code :-"},{"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"score":1,"creation_date":1490427510,"post_id":43009903,"comment_id":73116546,"body_markdown":"`import javax.crypto.Cipher;\n\npublic class CheckForJCE {\n\tpublic static void main(String[] args) throws Exception {\n\t\tint maxrc5 = Cipher.getMaxAllowedKeyLength(&quot;RC5&quot;);\n\t\tint maxaes = Cipher.getMaxAllowedKeyLength(&quot;AES&quot;);\n\t\tSystem.out.println(&quot;max RC5 = &quot; + maxrc5);\n\t\tSystem.out.println(&quot;max AES = &quot; + maxaes);\n\t\t//System.exit((maxaes &lt; 256) ? 1 : 0);\n\t\tSystem.out.println((maxaes &lt; 256) ? &quot;JCE Not Available&quot; : &quot;JCE Available&quot;);\n\t}\n}`","body":"<code>import javax.crypto.Cipher;  public class CheckForJCE { \tpublic static void main(String[] args) throws Exception { \t\tint maxrc5 = Cipher.getMaxAllowedKeyLength(&quot;RC5&quot;); \t\tint maxaes = Cipher.getMaxAllowedKeyLength(&quot;AES&quot;); \t\tSystem.out.println(&quot;max RC5 = &quot; + maxrc5); \t\tSystem.out.println(&quot;max AES = &quot; + maxaes); \t\t&#47;&#47;System.exit((maxaes &lt; 256) ? 1 : 0); \t\tSystem.out.println((maxaes &lt; 256) ? &quot;JCE Not Available&quot; : &quot;JCE Available&quot;); \t} }</code>"},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1490442501,"post_id":43009903,"comment_id":73120438,"body_markdown":"I liked the way you checked if the JCE jars were being used with that code snippet.  That said, I just added an edit to the answer, which hopefully should resolve the problem.","body":"I liked the way you checked if the JCE jars were being used with that code snippet.  That said, I just added an edit to the answer, which hopefully should resolve the problem."},{"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"score":0,"creation_date":1490466053,"post_id":43009903,"comment_id":73128340,"body_markdown":") From the beginning the &quot;This account supports Kerberos AES 256 bit encryption&quot; checkbox was checked on the **Account** tab of the AD user account **devtcadmin** i.e., as soon as I had created the **tomcat_ad.keytab** file on the AD machine. \n\nHeeding your 2nd suggestion I commented out the lines in the **C:\\Windows\\krb5.ini** file (in the Windows 7 machine) as pointed out by you and voila, some of the `kinit` commands worked without any exception. But the `kinit` command in the debug mode threw a new exception. I have added an **EDIT 1** with further details in the above query.","body":") From the beginning the &quot;This account supports Kerberos AES 256 bit encryption&quot; checkbox was checked on the <b>Account</b> tab of the AD user account <b>devtcadmin</b> i.e., as soon as I had created the <b>tomcat_ad.keytab</b> file on the AD machine.   Heeding your 2nd suggestion I commented out the lines in the <b>C:\\Windows\\krb5.ini</b> file (in the Windows 7 machine) as pointed out by you and voila, some of the <code>kinit</code> commands worked without any exception. But the <code>kinit</code> command in the debug mode threw a new exception. I have added an <b>EDIT 1</b> with further details in the above query."},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1490466942,"post_id":43009903,"comment_id":73128620,"body_markdown":"That&#39;s not really an exception - your output shows it&#39;s working now and the debug output you&#39;re seeing is basically saying it doesn&#39;t have keys for the other encryption types b/c in your ktpass creation command you chose to only utilize encryption type AES256-SHA1 --&gt;  */crypto AES256-SHA1*.  Your output clearly shows you are pulling a Kerberos ticket successfully now.  You are good to go.","body":"That&#39;s not really an exception - your output shows it&#39;s working now and the debug output you&#39;re seeing is basically saying it doesn&#39;t have keys for the other encryption types b/c in your ktpass creation command you chose to only utilize encryption type AES256-SHA1 --&gt;  <i>/crypto AES256-SHA1</i>.  Your output clearly shows you are pulling a Kerberos ticket successfully now.  You are good to go."},{"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"score":0,"creation_date":1490510702,"post_id":43009903,"comment_id":73138285,"body_markdown":"THeron can you throw some light on why the `kinit` command worked after commenting the (above mentioned) lines in the **krb5.ini** file? And regarding the `kinit` command in the debug mode, its log says `Using builtin default etypes for default_tkt_enctypes` `default etypes for default_tkt_enctypes: 18 17 16 23.` few lines just before the pseudo-exception (as you said) and `AES256-SHA1` is of type 18 that is set in the `ktpass` command. Also, eventually the command does not output the expected `New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin` at the end. Any idea why?","body":"THeron can you throw some light on why the <code>kinit</code> command worked after commenting the (above mentioned) lines in the <b>krb5.ini</b> file? And regarding the <code>kinit</code> command in the debug mode, its log says <code>Using builtin default etypes for default_tkt_enctypes</code> <code>default etypes for default_tkt_enctypes: 18 17 16 23.</code> few lines just before the pseudo-exception (as you said) and <code>AES256-SHA1</code> is of type 18 that is set in the <code>ktpass</code> command. Also, eventually the command does not output the expected <code>New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin</code> at the end. Any idea why?"},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1490535629,"post_id":43009903,"comment_id":73144626,"body_markdown":"I am interested in reproducing this in order to give you a more definitive answer.  Will take a couple of days though.  I have a lot of practice in creating keytabs and troubleshooting when they are not working, but never analyzed it at a debug level before.  The psuedo-exception thrown will have something to do with the fact that encryption types 17, 16, and 23 are not in the keytab, whereas only 18 (AES256-SHA1) is.","body":"I am interested in reproducing this in order to give you a more definitive answer.  Will take a couple of days though.  I have a lot of practice in creating keytabs and troubleshooting when they are not working, but never analyzed it at a debug level before.  The psuedo-exception thrown will have something to do with the fact that encryption types 17, 16, and 23 are not in the keytab, whereas only 18 (AES256-SHA1) is."},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1490623464,"post_id":43009903,"comment_id":73181419,"body_markdown":"I&#39;ve gone down this path before of answering new questions in the Comments section and not even getting any credit for answers.  I&#39;m going to have to decide if I am going to spend my time and research capital on answering that b/c while I have heard of that, I don&#39;t know it solidly off the top of my head.","body":"I&#39;ve gone down this path before of answering new questions in the Comments section and not even getting any credit for answers.  I&#39;m going to have to decide if I am going to spend my time and research capital on answering that b/c while I have heard of that, I don&#39;t know it solidly off the top of my head."},{"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"score":0,"creation_date":1490631284,"post_id":43009903,"comment_id":73187110,"body_markdown":"Got your concern. NP. Thanx THeron. As per your convenience.","body":"Got your concern. NP. Thanx THeron. As per your convenience."},{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":0,"creation_date":1490649736,"post_id":43009903,"comment_id":73197745,"body_markdown":"Added the two additional questions you raised to my project list:  Attach debug to kinit command and answer more defintively about psuedo-exception and the one about tgtsessionkey from the Registry.","body":"Added the two additional questions you raised to my project list:  Attach debug to kinit command and answer more defintively about psuedo-exception and the one about tgtsessionkey from the Registry."}],"tags":[],"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"comment_count":10,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1490442458,"creation_date":1490393149,"answer_id":43009903,"question_id":42998255,"body_markdown":"I&#39;ve seen this before.  Try this.  Copy the keytab into the C:\\Program Files\\Java\\jdk1.8.0_121\\bin directory and try again with the simpler command shown below from within that directory.  You don&#39;t need to append the Kerberos realm to the SPN since you have the realm defined already in krb5.conf, so I removed it.  &lt;br&gt;\r\n \r\n\r\n    kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\r\n\r\nIf it still doesn&#39;t work, be sure you really do have the unlimited strength JCE jar files inside the &lt;JAVA Home&gt;\\lib\\security directory.  Although you said you did, a Java JRE upgrade can overwrite them.\r\n\r\nEDIT:  On the *Account tab* of the AD user account ***devtcadmin***, ensure the box &quot;*This account supports Kerberos AES 256 bit encryption*&quot; is checked.  \r\n\r\nIf it still doesn&#39;t work, then on the Windows 7 machine, in C:\\Windows\\krb5.conf, comment out the four below lines as shown.  They are not required, as Kerberos is going to use the highest possible encrytpion types anyway, and in Windows 7/2008 and above, TCP is used by default so you do not need to set the UDP preference limit.\r\n\r\n    #default_tkt_enctypes=aes256-cts-hmac-shal-96\r\n    #default_tgs_enctypes=aes256-cts-hmac-shal-96\r\n    #permitted_enctypes=aes256-cts-hmac-shal-96\r\n    #udp_preference_limit=1\r\n\r\nTake a quick glance at my TechNet article for further reference on this: [Kerberos Keytabs – Explained][1] \r\n\r\n\r\n  [1]: https://social.technet.microsoft.com/wiki/contents/articles/36470.kerberos-keytabs-explained.aspx","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I've seen this before.  Try this.  Copy the keytab into the C:\\Program Files\\Java\\jdk1.8.0_121\\bin directory and try again with the simpler command shown below from within that directory.  You don't need to append the Kerberos realm to the SPN since you have the realm defined already in krb5.conf, so I removed it.  <br></p>\n\n<pre><code>kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\n</code></pre>\n\n<p>If it still doesn't work, be sure you really do have the unlimited strength JCE jar files inside the \\lib\\security directory.  Although you said you did, a Java JRE upgrade can overwrite them.</p>\n\n<p>EDIT:  On the <em>Account tab</em> of the AD user account <strong><em>devtcadmin</em></strong>, ensure the box \"<em>This account supports Kerberos AES 256 bit encryption</em>\" is checked.  </p>\n\n<p>If it still doesn't work, then on the Windows 7 machine, in C:\\Windows\\krb5.conf, comment out the four below lines as shown.  They are not required, as Kerberos is going to use the highest possible encrytpion types anyway, and in Windows 7/2008 and above, TCP is used by default so you do not need to set the UDP preference limit.</p>\n\n<pre><code>#default_tkt_enctypes=aes256-cts-hmac-shal-96\n#default_tgs_enctypes=aes256-cts-hmac-shal-96\n#permitted_enctypes=aes256-cts-hmac-shal-96\n#udp_preference_limit=1\n</code></pre>\n\n<p>Take a quick glance at my TechNet article for further reference on this: <a href=\"https://social.technet.microsoft.com/wiki/contents/articles/36470.kerberos-keytabs-explained.aspx\" rel=\"noreferrer\">Kerberos Keytabs – Explained</a> </p>\n"},{"comments":[{"owner":{"account_id":9493865,"reputation":5415,"user_id":7057680,"display_name":"T-Heron"},"score":2,"creation_date":1513447161,"post_id":46877600,"comment_id":82661257,"body_markdown":"Good detail on that.  In my experience, be aware that weak crypto usually gets flagged in security audits though.","body":"Good detail on that.  In my experience, be aware that weak crypto usually gets flagged in security audits though."},{"owner":{"account_id":8950025,"reputation":124,"user_id":6676334,"display_name":"Gerhard Poul"},"score":0,"creation_date":1513552678,"post_id":46877600,"comment_id":82685538,"body_markdown":"@T-Heron definitely, but the name of the directive allow_weak_crypto is appropriately chosen, so it should be easy to detect and in case of a security audit I would hope it is flagged for the server side first, which means we could just remove the directive on the client side then.","body":"@T-Heron definitely, but the name of the directive allow_weak_crypto is appropriately chosen, so it should be easy to detect and in case of a security audit I would hope it is flagged for the server side first, which means we could just remove the directive on the client side then."}],"tags":[],"owner":{"account_id":8950025,"reputation":124,"user_id":6676334,"display_name":"Gerhard Poul"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508696265,"creation_date":1508696265,"answer_id":46877600,"question_id":42998255,"body_markdown":"I saw a similar issue when trying to use the JDK&#39;s Kerberos support from a Windows Server 2012R2 as a client with a Linux server that was still using a &#39;legacy&#39; keytab. The error I was seeing was:\r\n\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n\r\nTo fix this interoperability issue I looked at the OpenJDK source and found a setting in EType.java called `allow_weak_crypto`:\r\n\r\n[![OpenJDK9 EType.java][1]][1]\r\n\r\nAdding this setting to my krb5.conf solved the issue for me:\r\n\r\n    [libdefaults]\r\n           allow_weak_crypto = true\r\n\r\n  [1]: https://i.stack.imgur.com/CgDZC.png","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I saw a similar issue when trying to use the JDK's Kerberos support from a Windows Server 2012R2 as a client with a Linux server that was still using a 'legacy' keytab. The error I was seeing was:</p>\n\n<pre><code>KrbException: no supported default etypes for default_tkt_enctypes\n</code></pre>\n\n<p>To fix this interoperability issue I looked at the OpenJDK source and found a setting in EType.java called <code>allow_weak_crypto</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CgDZC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CgDZC.png\" alt=\"OpenJDK9 EType.java\"></a></p>\n\n<p>Adding this setting to my krb5.conf solved the issue for me:</p>\n\n<pre><code>[libdefaults]\n       allow_weak_crypto = true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19943605,"reputation":1,"user_id":14614835,"display_name":"Geoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605034863,"creation_date":1605034863,"answer_id":64775116,"question_id":42998255,"body_markdown":"This is an old post, but it looks like one issue is the use of &#39;l&#39; versus &#39;1&#39; in the encryption types -- i.e. instead of &quot;aes256-cts-hmac-shal-96&quot; should have &quot;aes256-cts-hmac-sha1-96&quot;","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>This is an old post, but it looks like one issue is the use of 'l' versus '1' in the encryption types -- i.e. instead of &quot;aes256-cts-hmac-shal-96&quot; should have &quot;aes256-cts-hmac-sha1-96&quot;</p>\n"},{"tags":[],"owner":{"account_id":13161401,"reputation":333,"user_id":9506781,"display_name":"Oskarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703981,"creation_date":1678703981,"answer_id":75720757,"question_id":42998255,"body_markdown":"I suggest you update the list of supported algorithms in **krb5.ini** file:\r\n\r\n    default_tgs_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\r\n    default_tkt_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\r\n\r\n ","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>I suggest you update the list of supported algorithms in <strong>krb5.ini</strong> file:</p>\n<pre><code>default_tgs_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\ndefault_tkt_enctypes = aes256-cts aes128-cts arcfour-hmac-md5 des-cbc-md5 des-cbc-crc\n</code></pre>\n"}],"owner":{"account_id":1275152,"reputation":599,"user_id":1230580,"accept_rate":35,"display_name":"Shiva"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17585,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43009903,"answer_count":4,"score":7,"last_activity_date":1678703981,"creation_date":1490354571,"question_id":42998255,"body_markdown":"Following are my environment details:-\r\n\r\n**KDC Server** : Windows Server 2012\r\n\r\n**Target machine** : Windows 7\r\n\r\n**JDK Version** : Oracle 1.8.0_121 (64 bit)\r\n\r\nI&#39;m getting the following exception on running the Java&#39;s **kinit** command the on Windows 7 machine :-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Exception: krb_error 0 no supported default etypes for default_tkt_enctypes No error\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n            at sun.security.krb5.Config.defaultEtype(Config.java:844)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nCommand output in debug mode:-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomca\r\n    t_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n    Principal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Kinit using keytab\r\n    &gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\r\n    Java config name: null\r\n    LSA: Found Ticket\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found PrincipalName\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found EncryptionKey\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found TicketFlags\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found KerberosTime\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found String\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue constructor\r\n    LSA: Found Ticket constructor\r\n    LSA: Found PrincipalName constructor\r\n    LSA: Found EncryptionKey constructor\r\n    LSA: Found TicketFlags constructor\r\n    LSA: Found KerberosTime constructor\r\n    LSA: Finished OnLoad processing\r\n    Native config name: C:\\Windows\\krb5.ini\r\n    Loaded from native config\r\n    &gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Creating KrbAsReq\r\n    &gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\r\n    \r\n            dev26/192.168.1.229\r\n    IPv4 address\r\n    \r\n            dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\r\n    IPv6 address\r\n    &gt;&gt;&gt; KdcAccessibility: reset\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\r\n    &gt;&gt;&gt; KeyTabInputStream, readName(): dev26.devdevelopment.com\r\n    &gt;&gt;&gt; KeyTab: load() entry length: 99; type: 18\r\n    Looking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Added key: 18version: 3\r\n    Exception: krb_error 0 no supported default etypes for default_tkt_enctypes No error\r\n    KrbException: no supported default etypes for default_tkt_enctypes\r\n            at sun.security.krb5.Config.defaultEtype(Config.java:844)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nFollowing is the output of the **ktpass** command on the KDC server (Windows Server 2012) to generate the `tomcat_ad.keytab` file :-\r\n\r\n    C:\\Users\\Administrator&gt;ktpass /out C:\\tomcat_ad.keytab /mapuser devtcadmin@DEVDEVELOPMENT.COM /princ HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM /pass ****** /crypto AES256-SHA1 ptype KRB5_NT_PRINCIPAL\r\n    \tTargeting domain controller: dev.devdevelopment.com\r\n    \tUsing legacy password setting method\r\n    \tSuccessfully mapped HTTP/dev26.devdevelopment.com to devtcadmin.\r\n    \tKey created.\r\n    \tOutput keytab to C:\\tomcat_ad.keytab:\r\n    \tKeytab version: 0x502\r\n    \tkeysize 99 HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM ptype 1 (KRB5_NT_PRINCIPAL) vno 3 etype 0x12 (AES256-SHA1) keylength 32 (0xf20788d7c6f99c385fc91b53c7d9ef55591d314e5340ca1fb9acac1b178c8861)\r\n\r\nFollowing is the content of the **krb5.ini** file that is at **C:\\Windows** in Windows 7 machine :-\r\n\r\n    [libdefaults]\r\n    default_realm=DEVDEVELOPMENT.COM\r\n    default_keytab_name=“C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot;\r\n    default_tkt_enctypes=aes256-cts-hmac-shal-96\r\n    default_tgs_enctypes=aes256-cts-hmac-shal-96\r\n    permitted_enctypes=aes256-cts-hmac-shal-96\r\n    udp_preference_limit=1\r\n    forwardable=true\r\n    \r\n    [realms]\r\n    DEVDEVELOPMENT.COM={\r\n    \tkdc=dev.devdevelopment.com:88\r\n    }\r\n    \r\n    [domain_realm]\r\n    devdevelopment.com=DEVDEVELOPMENT.COM\r\n    .devdevelopment.com=DEVDEVELOPMENT.COM\r\n\r\nFollowing is the output of Java&#39;s **ktab** command on Windows 7 machine :-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;ktab -l -e -t -k &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot;\r\n    Keytab name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\r\n    KVNO Timestamp      Principal\r\n    ---- -------------- ---------------------------------------------------------------------------------------\r\n       3 1/1/70 5:30 AM HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM (18:AES256 CTS mode with HMAC SHA1-96)\r\n\r\nI have also updated the **JCE** jar files under **C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security** and **C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security** folders.\r\n\r\nWhat should be done to overcome this exception?\r\n\r\n**EDIT 1** (continued from my 3rd comment) :-\r\n\r\nFollowing is the output of the first **knit** command with the **tomcat_ad.keytab** file in the **C:\\Program Files\\Java\\jre1.8.0_121\\bin** folder:-\r\n\r\n    C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\r\n    New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n\r\nAnd, following is the output of the **kinit** command with the **tomcat_ad.keytab** file in the **C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab** folder and after appending the **C:\\Program Files\\Java\\jdk1.8.0_121\\bin;** in the `path` environment variable:-\r\n\r\n    C:\\Users\\devtcadmin&gt;kinit -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    New ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n\r\nBUT the **kinit** command in the debug mode this time gives out the following exception :-\r\n\r\n    C:\\Users\\devtcadmin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t &quot;C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab&quot; HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\r\n    Principal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Kinit using keytab\r\n    &gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\r\n    Java config name: null\r\n    LSA: Found Ticket\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found PrincipalName\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found EncryptionKey\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found TicketFlags\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found KerberosTime\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found String\r\n    LSA: Made NewWeakGlobalRef\r\n    LSA: Found DerValue constructor\r\n    LSA: Found Ticket constructor\r\n    LSA: Found PrincipalName constructor\r\n    LSA: Found EncryptionKey constructor\r\n    LSA: Found TicketFlags constructor\r\n    LSA: Found KerberosTime constructor\r\n    LSA: Finished OnLoad processing\r\n    Native config name: C:\\Windows\\krb5.ini\r\n    Loaded from native config\r\n    &gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\r\n    &gt;&gt;&gt; Creating KrbAsReq\r\n    &gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\r\n    \r\n            dev26/192.168.1.229\r\n    IPv4 address\r\n    \r\n            dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\r\n    IPv6 address\r\n    &gt;&gt;&gt; KdcAccessibility: reset\r\n    Looking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\r\n    Using builtin default etypes for default_tkt_enctypes\r\n    default etypes for default_tkt_enctypes: 18 17 16 23.\r\n    Exception: krb_error 0 Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:  No error\r\n    KrbException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:\r\n            at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:280)\r\n            at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\r\n            at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\r\n            at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\r\n            at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\r\n            at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\r\n\r\nWhy do the above commands work after commenting those lines in the **C:\\Windows\\krb5.ini** file? And why the **kinit** command in the debug mode output the above exception?","title":"Why is JDK1.8.0u121 unable to find the kerberos default_tkt_enctypes types? (KrbException: no supported default etypes for default_tkt_enctypes)","body":"<p>Following are my environment details:-</p>\n\n<p><strong>KDC Server</strong> : Windows Server 2012</p>\n\n<p><strong>Target machine</strong> : Windows 7</p>\n\n<p><strong>JDK Version</strong> : Oracle 1.8.0_121 (64 bit)</p>\n\n<p>I'm getting the following exception on running the Java's <strong>kinit</strong> command the on Windows 7 machine :-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nException: krb_error 0 no supported default etypes for default_tkt_enctypes No error\nKrbException: no supported default etypes for default_tkt_enctypes\n        at sun.security.krb5.Config.defaultEtype(Config.java:844)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Command output in debug mode:-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomca\nt_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\nPrincipal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Kinit using keytab\n&gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\nJava config name: null\nLSA: Found Ticket\nLSA: Made NewWeakGlobalRef\nLSA: Found PrincipalName\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue\nLSA: Made NewWeakGlobalRef\nLSA: Found EncryptionKey\nLSA: Made NewWeakGlobalRef\nLSA: Found TicketFlags\nLSA: Made NewWeakGlobalRef\nLSA: Found KerberosTime\nLSA: Made NewWeakGlobalRef\nLSA: Found String\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue constructor\nLSA: Found Ticket constructor\nLSA: Found PrincipalName constructor\nLSA: Found EncryptionKey constructor\nLSA: Found TicketFlags constructor\nLSA: Found KerberosTime constructor\nLSA: Finished OnLoad processing\nNative config name: C:\\Windows\\krb5.ini\nLoaded from native config\n&gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Creating KrbAsReq\n&gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\n\n        dev26/192.168.1.229\nIPv4 address\n\n        dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\nIPv6 address\n&gt;&gt;&gt; KdcAccessibility: reset\n&gt;&gt;&gt; KeyTabInputStream, readName(): DEVDEVELOPMENT.COM\n&gt;&gt;&gt; KeyTabInputStream, readName(): HTTP\n&gt;&gt;&gt; KeyTabInputStream, readName(): dev26.devdevelopment.com\n&gt;&gt;&gt; KeyTab: load() entry length: 99; type: 18\nLooking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nAdded key: 18version: 3\nException: krb_error 0 no supported default etypes for default_tkt_enctypes No error\nKrbException: no supported default etypes for default_tkt_enctypes\n        at sun.security.krb5.Config.defaultEtype(Config.java:844)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:249)\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:262)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Following is the output of the <strong>ktpass</strong> command on the KDC server (Windows Server 2012) to generate the <code>tomcat_ad.keytab</code> file :-</p>\n\n<pre><code>C:\\Users\\Administrator&gt;ktpass /out C:\\tomcat_ad.keytab /mapuser devtcadmin@DEVDEVELOPMENT.COM /princ HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM /pass ****** /crypto AES256-SHA1 ptype KRB5_NT_PRINCIPAL\n    Targeting domain controller: dev.devdevelopment.com\n    Using legacy password setting method\n    Successfully mapped HTTP/dev26.devdevelopment.com to devtcadmin.\n    Key created.\n    Output keytab to C:\\tomcat_ad.keytab:\n    Keytab version: 0x502\n    keysize 99 HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM ptype 1 (KRB5_NT_PRINCIPAL) vno 3 etype 0x12 (AES256-SHA1) keylength 32 (0xf20788d7c6f99c385fc91b53c7d9ef55591d314e5340ca1fb9acac1b178c8861)\n</code></pre>\n\n<p>Following is the content of the <strong>krb5.ini</strong> file that is at <strong>C:\\Windows</strong> in Windows 7 machine :-</p>\n\n<pre><code>[libdefaults]\ndefault_realm=DEVDEVELOPMENT.COM\ndefault_keytab_name=“C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\"\ndefault_tkt_enctypes=aes256-cts-hmac-shal-96\ndefault_tgs_enctypes=aes256-cts-hmac-shal-96\npermitted_enctypes=aes256-cts-hmac-shal-96\nudp_preference_limit=1\nforwardable=true\n\n[realms]\nDEVDEVELOPMENT.COM={\n    kdc=dev.devdevelopment.com:88\n}\n\n[domain_realm]\ndevdevelopment.com=DEVDEVELOPMENT.COM\n.devdevelopment.com=DEVDEVELOPMENT.COM\n</code></pre>\n\n<p>Following is the output of Java's <strong>ktab</strong> command on Windows 7 machine :-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;ktab -l -e -t -k \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\"\nKeytab name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\nKVNO Timestamp      Principal\n---- -------------- ---------------------------------------------------------------------------------------\n   3 1/1/70 5:30 AM HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM (18:AES256 CTS mode with HMAC SHA1-96)\n</code></pre>\n\n<p>I have also updated the <strong>JCE</strong> jar files under <strong>C:\\Program Files\\Java\\jre1.8.0_121\\lib\\security</strong> and <strong>C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\security</strong> folders.</p>\n\n<p>What should be done to overcome this exception?</p>\n\n<p><strong>EDIT 1</strong> (continued from my 3rd comment) :-</p>\n\n<p>Following is the output of the first <strong>knit</strong> command with the <strong>tomcat_ad.keytab</strong> file in the <strong>C:\\Program Files\\Java\\jre1.8.0_121\\bin</strong> folder:-</p>\n\n<pre><code>C:\\Program Files\\Java\\jdk1.8.0_121\\bin&gt;kinit -k -t tomcat_ad.keytab HTTP/dev26.devdevelopment.com\nNew ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\n</code></pre>\n\n<p>And, following is the output of the <strong>kinit</strong> command with the <strong>tomcat_ad.keytab</strong> file in the <strong>C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab</strong> folder and after appending the <strong>C:\\Program Files\\Java\\jdk1.8.0_121\\bin;</strong> in the <code>path</code> environment variable:-</p>\n\n<pre><code>C:\\Users\\devtcadmin&gt;kinit -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.0\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nNew ticket is stored in cache file C:\\Users\\devtcadmin\\krb5cc_devtcadmin\n</code></pre>\n\n<p>BUT the <strong>kinit</strong> command in the debug mode this time gives out the following exception :-</p>\n\n<pre><code>C:\\Users\\devtcadmin&gt;kinit -J-Dsun.security.krb5.debug=true -k -t \"C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\" HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt;KinitOptions cache name is C:\\Users\\devtcadmin\\krb5cc_devtcadmin\nPrincipal is HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Kinit using keytab\n&gt;&gt;&gt; Kinit keytab file name: C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\conf\\tomcat_ad.keytab\nJava config name: null\nLSA: Found Ticket\nLSA: Made NewWeakGlobalRef\nLSA: Found PrincipalName\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue\nLSA: Made NewWeakGlobalRef\nLSA: Found EncryptionKey\nLSA: Made NewWeakGlobalRef\nLSA: Found TicketFlags\nLSA: Made NewWeakGlobalRef\nLSA: Found KerberosTime\nLSA: Made NewWeakGlobalRef\nLSA: Found String\nLSA: Made NewWeakGlobalRef\nLSA: Found DerValue constructor\nLSA: Found Ticket constructor\nLSA: Found PrincipalName constructor\nLSA: Found EncryptionKey constructor\nLSA: Found TicketFlags constructor\nLSA: Found KerberosTime constructor\nLSA: Finished OnLoad processing\nNative config name: C:\\Windows\\krb5.ini\nLoaded from native config\n&gt;&gt;&gt; Kinit realm name is DEVDEVELOPMENT.COM\n&gt;&gt;&gt; Creating KrbAsReq\n&gt;&gt;&gt; KrbKdcReq local addresses for dev26 are:\n\n        dev26/192.168.1.229\nIPv4 address\n\n        dev26/fe80:0:0:0:78ae:388f:4f63:3717%11\nIPv6 address\n&gt;&gt;&gt; KdcAccessibility: reset\nLooking for keys for: HTTP/dev26.devdevelopment.com@DEVDEVELOPMENT.COM\nUsing builtin default etypes for default_tkt_enctypes\ndefault etypes for default_tkt_enctypes: 18 17 16 23.\nException: krb_error 0 Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:  No error\nKrbException: Do not have keys of types listed in default_tkt_enctypes available; only have keys of following type:\n        at sun.security.krb5.internal.crypto.EType.getDefaults(EType.java:280)\n        at sun.security.krb5.KrbAsReqBuilder.build(KrbAsReqBuilder.java:261)\n        at sun.security.krb5.KrbAsReqBuilder.send(KrbAsReqBuilder.java:315)\n        at sun.security.krb5.KrbAsReqBuilder.action(KrbAsReqBuilder.java:361)\n        at sun.security.krb5.internal.tools.Kinit.&lt;init&gt;(Kinit.java:219)\n        at sun.security.krb5.internal.tools.Kinit.main(Kinit.java:113)\n</code></pre>\n\n<p>Why do the above commands work after commenting those lines in the <strong>C:\\Windows\\krb5.ini</strong> file? And why the <strong>kinit</strong> command in the debug mode output the above exception?</p>\n"},{"tags":["javascript","java"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1678703453,"post_id":75720641,"comment_id":133578540,"body_markdown":"Perhaps remove the space after function `YamlToJson = function(name)`","body":"Perhaps remove the space after function <code>YamlToJson = function(name)</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1678703456,"post_id":75720641,"comment_id":133578541,"body_markdown":"this seems to be an issue with your javascript syntax, I don&#39;t see a direct relation to java","body":"this seems to be an issue with your javascript syntax, I don&#39;t see a direct relation to java"},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1678703537,"post_id":75720641,"comment_id":133578560,"body_markdown":"@Stultuske more likely a problem with the ScriptEngineManager parser so yes JAVA","body":"@Stultuske more likely a problem with the ScriptEngineManager parser so yes JAVA"},{"owner":{"account_id":9249213,"reputation":22744,"user_id":6870228,"display_name":"Keith"},"score":2,"creation_date":1678703692,"post_id":75720641,"comment_id":133578608,"body_markdown":"`var fs = require(&#39;fs&#39;),`  looks like your trying to run `node.js` code, does ScriptEngineManager (nashorn) support this?","body":"<code>var fs = require(&#39;fs&#39;),</code>  looks like your trying to run <code>node.js</code> code, does ScriptEngineManager (nashorn) support this?"},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1678703786,"post_id":75720641,"comment_id":133578633,"body_markdown":"Usually Java evaluates JavaScripts in a browser sandbox, thus has no access to the file system by default. I think the problem is there, try removing any dependency to `fs`, then try convert your code to ES5, and see if in a way or another you get an output","body":"Usually Java evaluates JavaScripts in a browser sandbox, thus has no access to the file system by default. I think the problem is there, try removing any dependency to <code>fs</code>, then try convert your code to ES5, and see if in a way or another you get an output"},{"owner":{"account_id":15022689,"reputation":525,"user_id":10843655,"display_name":"novarx"},"score":0,"creation_date":1678719682,"post_id":75720641,"comment_id":133583601,"body_markdown":"Maybe an line-ending issue?","body":"Maybe an line-ending issue?"},{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1678723038,"post_id":75720641,"comment_id":133584721,"body_markdown":"Maybe it&#39;s caused by the arrow function","body":"Maybe it&#39;s caused by the arrow function"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1678703971,"creation_date":1678703311,"question_id":75720641,"body_markdown":"I am triying to call java script functon from java code but i am getting error as \r\n\r\n    Expected : but found .\r\n          fs.writeFileSync(\r\n            ^ in &lt;eval&gt; at line number 24 at column number 9\r\n\r\n**Java script function**\r\n\r\n    var YamlToJson = function (name) {\r\n    var fs = require(&#39;fs&#39;),\r\n    \t  Converter = require(&#39;openapi-to-postmanv2&#39;),\r\n    \t  openapiData = fs.readFileSync(&#39;./output.json&#39;, { encoding: &#39;UTF8&#39; })\r\n    \tConverter.convert(\r\n    \t  { type: &#39;json&#39;, data: openapiData },\r\n    \t  {},\r\n    \t  (err, conversionResult) =&gt; \r\n    \t  {\r\n    \t    if (!conversionResult.result) {\r\n    \t      console.log(&#39;Could not convert&#39;, conversionResult.reason)\r\n    \t    } else {\r\n    \t      fs.writeFileSync(\r\n    \t        &#39;outputfile1.json&#39;,\r\n    \t        JSON.stringify(conversionResult.output[0].data),\r\n    \t      )\r\n    \t      console.log(&#39;The collection object is: &#39;, conversionResult.output[0].data)\r\n    \t    }\r\n    \t  },\r\n    \t)\r\n    }\r\n\r\n\r\n**Java Code**\r\n\r\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n    \t\ttry {\r\n    \t\t  engine.eval(new FileReader(&quot;D:/CodeFactory/TestCases/GenerateTetsCases/src/main/java/com/GenerateTetsCases/GenerateTetsCases/YamlToJson.js&quot;));\r\n    \t\t  Invocable invocable = (Invocable) engine;\r\n    \t\t  Object result;\r\n    \t\t   invocable.invokeFunction(&quot;myFunction&quot;, &quot;value&quot;);\r\n    \t\t \r\n    \t\t  } catch (FileNotFoundException | NoSuchMethodException | ScriptException e) {\r\n    \t\t    e.printStackTrace();\r\n    \t}\r\n","title":"Expected : but found . while calling JavaScript function from java","body":"<p>I am triying to call java script functon from java code but i am getting error as</p>\n<pre><code>Expected : but found .\n      fs.writeFileSync(\n        ^ in &lt;eval&gt; at line number 24 at column number 9\n</code></pre>\n<p><strong>Java script function</strong></p>\n<pre><code>var YamlToJson = function (name) {\nvar fs = require('fs'),\n      Converter = require('openapi-to-postmanv2'),\n      openapiData = fs.readFileSync('./output.json', { encoding: 'UTF8' })\n    Converter.convert(\n      { type: 'json', data: openapiData },\n      {},\n      (err, conversionResult) =&gt; \n      {\n        if (!conversionResult.result) {\n          console.log('Could not convert', conversionResult.reason)\n        } else {\n          fs.writeFileSync(\n            'outputfile1.json',\n            JSON.stringify(conversionResult.output[0].data),\n          )\n          console.log('The collection object is: ', conversionResult.output[0].data)\n        }\n      },\n    )\n}\n</code></pre>\n<p><strong>Java Code</strong></p>\n<pre><code>ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\n        try {\n          engine.eval(new FileReader(&quot;D:/CodeFactory/TestCases/GenerateTetsCases/src/main/java/com/GenerateTetsCases/GenerateTetsCases/YamlToJson.js&quot;));\n          Invocable invocable = (Invocable) engine;\n          Object result;\n           invocable.invokeFunction(&quot;myFunction&quot;, &quot;value&quot;);\n         \n          } catch (FileNotFoundException | NoSuchMethodException | ScriptException e) {\n            e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","android","xml"],"owner":{"account_id":28004878,"reputation":1,"user_id":21388453,"display_name":"Rocco Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678703730,"creation_date":1678703730,"question_id":75720706,"body_markdown":"```\r\n try {\r\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\r\n            factory.setNamespaceAware(true);\r\n            XmlPullParser xpp = factory.newPullParser();\r\n            \r\n\r\n            xpp.setInput( new StringReader( xmlResponse ) ); // pass input whatever xml you have\r\n            int eventType = xpp.nextToken();\r\n            String tag = &quot;&quot;;\r\n            while (eventType != XmlPullParser.END_DOCUMENT) {\r\n                if(eventType == XmlPullParser.START_DOCUMENT) {\r\n                    Log.d(TAG,&quot;Start document&quot;);\r\n                } else if(eventType == XmlPullParser.START_TAG) {\r\n//                    Log.d(TAG,&quot;Start tag &quot;+xpp.getName());\r\n                    tag = xpp.getName();\r\n                } else if(eventType == XmlPullParser.END_TAG) {\r\n//\r\n                } else if(eventType == XmlPullParser.TEXT) {\r\n                    switch (tag) {\r\n                        case &quot;AnswerStatus&quot;:\r\n                            Log.d(TAG, &quot;parseXml: &quot;+xpp.getText());\r\n                            response.answerStatus = xpp.getText();\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    Log.d(TAG,&quot;Text &quot;+xpp.getText()); // here you get the text from xml\r\n                }\r\n                eventType = xpp.next();\r\n            }\r\n            Log.d(TAG,&quot;End document&quot;);\r\n//            generateQRCode(value);\r\n\r\n        } catch (XmlPullParserException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nI am trying to save the value of element &lt;AnswerStatus&gt;OK&lt;/AnswerStatus&gt; to my object response. However, the text event is being triggered twice and at the end when I check the response.answerStatus I always get \\n. How to get rid of the \\n? thanks\r\n\r\n\r\nI&#39;ve been searching for days. I am expecting the value OK to be stored in the response.answerStatus.","title":"XMLPullparser return end-of-line in element text event","body":"<pre><code> try {\n            XmlPullParserFactory factory = XmlPullParserFactory.newInstance();\n            factory.setNamespaceAware(true);\n            XmlPullParser xpp = factory.newPullParser();\n            \n\n            xpp.setInput( new StringReader( xmlResponse ) ); // pass input whatever xml you have\n            int eventType = xpp.nextToken();\n            String tag = &quot;&quot;;\n            while (eventType != XmlPullParser.END_DOCUMENT) {\n                if(eventType == XmlPullParser.START_DOCUMENT) {\n                    Log.d(TAG,&quot;Start document&quot;);\n                } else if(eventType == XmlPullParser.START_TAG) {\n//                    Log.d(TAG,&quot;Start tag &quot;+xpp.getName());\n                    tag = xpp.getName();\n                } else if(eventType == XmlPullParser.END_TAG) {\n//\n                } else if(eventType == XmlPullParser.TEXT) {\n                    switch (tag) {\n                        case &quot;AnswerStatus&quot;:\n                            Log.d(TAG, &quot;parseXml: &quot;+xpp.getText());\n                            response.answerStatus = xpp.getText();\n                            break;\n                        default:\n                            break;\n                    }\n                    Log.d(TAG,&quot;Text &quot;+xpp.getText()); // here you get the text from xml\n                }\n                eventType = xpp.next();\n            }\n            Log.d(TAG,&quot;End document&quot;);\n//            generateQRCode(value);\n\n        } catch (XmlPullParserException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I am trying to save the value of element OK to my object response. However, the text event is being triggered twice and at the end when I check the response.answerStatus I always get \\n. How to get rid of the \\n? thanks</p>\n<p>I've been searching for days. I am expecting the value OK to be stored in the response.answerStatus.</p>\n"},{"tags":["java","bash","maven","terminal"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677384177,"post_id":75569911,"comment_id":133326132,"body_markdown":"(1) In Ubuntu, the configuration file I usually modify is `~/.bashrc` (2)  What operating system do you use? (3) Have you considered using SDKMAN? After installing SDKMAN, you can install JDK, Maven, Gradle through SDKMAN.","body":"(1) In Ubuntu, the configuration file I usually modify is <code>~&#47;.bashrc</code> (2)  What operating system do you use? (3) Have you considered using SDKMAN? After installing SDKMAN, you can install JDK, Maven, Gradle through SDKMAN."},{"owner":{"account_id":15102016,"reputation":311,"user_id":10898724,"display_name":"Dan_Maff"},"score":4,"creation_date":1677385079,"post_id":75569911,"comment_id":133326189,"body_markdown":"Did you change your macOS default shell to `bash`? It normally uses zsh as far as I know.\nIf you didn&#39;t change to bash, you should configure zsh instead.","body":"Did you change your macOS default shell to <code>bash</code>? It normally uses zsh as far as I know. If you didn&#39;t change to bash, you should configure zsh instead."}],"answers":[{"tags":[],"owner":{"account_id":903826,"reputation":646,"user_id":939217,"display_name":"Mostafa Nazari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703423,"creation_date":1678703423,"answer_id":75720660,"question_id":75569911,"body_markdown":"according to [this][1], you can add a permanent path to `$PATH` using this command (on MacOS):\r\n\r\n    sudo -s &#39;echo &quot;/Users/Bohan/apache-maven-3.9.0&quot; &gt; /etc/paths.d/mvn&#39;\r\n\r\nand according [this][2], you can set any environment variable globally using this command:\r\n\r\n    sudo launchctl setenv M2_HOME &quot;/Users/Bohan/apache-maven-3.9.0&quot;\r\n\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22465332/setting-path-environment-variable-in-osx-permanently\r\n  [2]: https://developer.apple.com/forums/thread/672650","title":"Terminal not using newest bash_profile configuration","body":"<p>according to <a href=\"https://stackoverflow.com/questions/22465332/setting-path-environment-variable-in-osx-permanently\">this</a>, you can add a permanent path to <code>$PATH</code> using this command (on MacOS):</p>\n<pre><code>sudo -s 'echo &quot;/Users/Bohan/apache-maven-3.9.0&quot; &gt; /etc/paths.d/mvn'\n</code></pre>\n<p>and according <a href=\"https://developer.apple.com/forums/thread/672650\" rel=\"nofollow noreferrer\">this</a>, you can set any environment variable globally using this command:</p>\n<pre><code>sudo launchctl setenv M2_HOME &quot;/Users/Bohan/apache-maven-3.9.0&quot;\n</code></pre>\n"}],"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1678703423,"creation_date":1677383501,"question_id":75569911,"body_markdown":"I was trying to set up the `mvn` command, I downloaded maven on the official Apache website and wrote `export M2_HOME=&quot;/Users/Bohan/apache-maven-3.9.0&quot; PATH=&quot;${M2_HOME}/bin:${PATH}&quot; export PATH` in the bash_profile. Then I tried command `mvn -version` to see if it works, it doesn&#39;t and shows `Command not found &#39;mvn&#39;`. I searched and it says i need to type `source .bash_profile` to update the commands, then it works. Then I found out I have to type `source .bash_profile` every time I use a maven command.\r\n\r\nI was expecting that once I configure the bash_profile and update the commands, it will work afterwards. It doesn&#39;t in fact I need to update the commands every time I use it. I tried restarting my computer. Closing terminal and reopening it which both didn&#39;t work. Same thing resulted, I need to update the commands every time. All answers were appreciated.\r\n\r\nEdit: I was using MacOS, and i am not using Ubuntu(I will look into Ubuntu and SDKMAN.)\r\n\r\nEdit 2: Thanks to Dan_Maff for pointing out I should change my bash_profile to bash. It was fixed but I&#39;m curious why does it work?\r\n\r\nEdit 3: Now I&#39;m using it in IntelliJ Idea and it seems like the same problem... ","title":"Terminal not using newest bash_profile configuration","body":"<p>I was trying to set up the <code>mvn</code> command, I downloaded maven on the official Apache website and wrote <code>export M2_HOME=&quot;/Users/Bohan/apache-maven-3.9.0&quot; PATH=&quot;${M2_HOME}/bin:${PATH}&quot; export PATH</code> in the bash_profile. Then I tried command <code>mvn -version</code> to see if it works, it doesn't and shows <code>Command not found 'mvn'</code>. I searched and it says i need to type <code>source .bash_profile</code> to update the commands, then it works. Then I found out I have to type <code>source .bash_profile</code> every time I use a maven command.</p>\n<p>I was expecting that once I configure the bash_profile and update the commands, it will work afterwards. It doesn't in fact I need to update the commands every time I use it. I tried restarting my computer. Closing terminal and reopening it which both didn't work. Same thing resulted, I need to update the commands every time. All answers were appreciated.</p>\n<p>Edit: I was using MacOS, and i am not using Ubuntu(I will look into Ubuntu and SDKMAN.)</p>\n<p>Edit 2: Thanks to Dan_Maff for pointing out I should change my bash_profile to bash. It was fixed but I'm curious why does it work?</p>\n<p>Edit 3: Now I'm using it in IntelliJ Idea and it seems like the same problem...</p>\n"},{"tags":["java","android","web-services","soap","android-ksoap2"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1678527890,"post_id":75651265,"comment_id":133552636,"body_markdown":"There is an extra space in `oasis- 200401`.","body":"There is an extra space in <code>oasis- 200401</code>."}],"answers":[{"comments":[{"owner":{"account_id":1955199,"reputation":5250,"user_id":1758335,"accept_rate":77,"display_name":"coder"},"score":0,"creation_date":1678702505,"post_id":75714109,"comment_id":133578235,"body_markdown":"Would you please clarify how to use this: getHeaderElement() as it&#39;s not a built in method","body":"Would you please clarify how to use this: getHeaderElement() as it&#39;s not a built in method"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1678703550,"post_id":75714109,"comment_id":133578564,"body_markdown":"@coder In fact, if the problem has to do with the use of HTTP authentication, you can get rid of this code fragment, I updated the answer with that information. Just in case, the `getHeaderElement` method is the one provided by the OP in the question. Note the whitespace error indicated by Olivier in his comment  in `oasis- 200401`.","body":"@coder In fact, if the problem has to do with the use of HTTP authentication, you can get rid of this code fragment, I updated the answer with that information. Just in case, the <code>getHeaderElement</code> method is the one provided by the OP in the question. Note the whitespace error indicated by Olivier in his comment  in <code>oasis- 200401</code>."},{"owner":{"account_id":1955199,"reputation":5250,"user_id":1758335,"accept_rate":77,"display_name":"coder"},"score":0,"creation_date":1678792227,"post_id":75714109,"comment_id":133598270,"body_markdown":"Tried the above code exactly, still giving the exact error.","body":"Tried the above code exactly, still giving the exact error."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":1,"creation_date":1678833328,"post_id":75714109,"comment_id":133609710,"body_markdown":"Thank you for the feedback @coder. I am sorry to hear that the problem is still there. I think that without further knowledge of the actual error is very difficult to say what is going on. I am not sure if it will help or work but, please, try configuring [`debug=true`](http://kobjects.org/ksoap2/doc/api/org/ksoap2/transport/Transport.html#debug) in your transport, and analyze the obtained `responseDump` searching for the error explanation. I am not sure if `bodyIn` could be of help as well. I hope it helps.","body":"Thank you for the feedback @coder. I am sorry to hear that the problem is still there. I think that without further knowledge of the actual error is very difficult to say what is going on. I am not sure if it will help or work but, please, try configuring <a href=\"http://kobjects.org/ksoap2/doc/api/org/ksoap2/transport/Transport.html#debug\" rel=\"nofollow noreferrer\"><code>debug=true</code></a> in your transport, and analyze the obtained <code>responseDump</code> searching for the error explanation. I am not sure if <code>bodyIn</code> could be of help as well. I hope it helps."},{"owner":{"account_id":530185,"reputation":101,"user_id":1109383,"display_name":"robocik"},"score":0,"creation_date":1684696433,"post_id":75714109,"comment_id":134551052,"body_markdown":"Creating a correct SOAP request code is fairly difficult and error prone task. In the past I used https://easywsdl.com/ to generate stubs to communicate with SOAP webservice from my Android app. It worked like a charm.","body":"Creating a correct SOAP request code is fairly difficult and error prone task. In the past I used <a href=\"https://easywsdl.com/\" rel=\"nofollow noreferrer\">easywsdl.com</a> to generate stubs to communicate with SOAP webservice from my Android app. It worked like a charm."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1684705125,"post_id":75714109,"comment_id":134551942,"body_markdown":"Thank you very much @robocik. Yes, I agree with you, if possible, it is preferable to use the stubs generated by a third party system or library/plugin, think in CXF, for instance.","body":"Thank you very much @robocik. Yes, I agree with you, if possible, it is preferable to use the stubs generated by a third party system or library/plugin, think in CXF, for instance."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678703420,"creation_date":1678633988,"answer_id":75714109,"question_id":75651265,"body_markdown":"You can authenticate a Web Service call in two ways:\r\n\r\n - On one hand, you can authenticate your Web Service call at the message level, as in your code, including the necessary WS-Security related headers.\r\n - On the other, a Web Service call can be authenticated at the transport level, normally using the HTTP/S transport protocol and `Authorization` headers.\r\n\r\nBoth authentication mechanisms are in fact complementary, and the use of one of another depends on the Web Service provider.\r\n\r\nIn my opinion, the provider of your Web Service expects authentication at the transport level at least and, when you send the SOAP request without the necessary headers, it is returning a `401` HTML page, which is causing the error you are describing:\r\n\r\n```\r\nexpected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\r\n```\r\n\r\nAccording to [this related SO question](https://stackoverflow.com/questions/5177939/basic-http-authentication-using-ksoap-for-android), you can provide the necessary headers with something like this:\r\n\r\n```java\r\nSoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n// add header to envelope: probably you can get rid of it\r\n// when using HTTP transport authentication\r\n// envelope.headerOut = getHeaderElement();\r\n\r\nSystem.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\r\n\r\nenvelope.dotNet = false;\r\nenvelope.bodyOut = request;\r\nenvelope.setOutputSoapObject(request);\r\nHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\nSystem.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\r\n\r\nandroidHttpTransport.debug = true;\r\n\r\n// Note the inclusion of the required headers\r\nList&lt;HeaderProperty&gt; headerList = new ArrayList&lt;HeaderProperty&gt;();\r\nheaderList.add(new HeaderProperty(\r\n        &quot;Authorization&quot;,\r\n        &quot;Basic &quot; + org.kobjects.base64.Base64.encode((USER_NAME + &quot;:&quot; + PASSWORD).getBytes())\r\n        // Or, using android.util.Base64\r\n        // &quot;Basic &quot; + Base64.encodeToString((USER_NAME + &quot;:&quot; + PASSWORD).getBytes(), Base64.DEFAULT)\r\n));\r\n\r\nandroidHttpTransport.call(SOAP_ACTION, envelope, headerList);\r\n\r\nSoapPrimitive response = (SoapPrimitive)envelope.getResponse();\r\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\nresponseMsg = String.valueOf(response);\r\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n```","title":"SOAP webservice call with header not working","body":"<p>You can authenticate a Web Service call in two ways:</p>\n<ul>\n<li>On one hand, you can authenticate your Web Service call at the message level, as in your code, including the necessary WS-Security related headers.</li>\n<li>On the other, a Web Service call can be authenticated at the transport level, normally using the HTTP/S transport protocol and <code>Authorization</code> headers.</li>\n</ul>\n<p>Both authentication mechanisms are in fact complementary, and the use of one of another depends on the Web Service provider.</p>\n<p>In my opinion, the provider of your Web Service expects authentication at the transport level at least and, when you send the SOAP request without the necessary headers, it is returning a <code>401</code> HTML page, which is causing the error you are describing:</p>\n<pre><code>expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/5177939/basic-http-authentication-using-ksoap-for-android\">this related SO question</a>, you can provide the necessary headers with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n// add header to envelope: probably you can get rid of it\n// when using HTTP transport authentication\n// envelope.headerOut = getHeaderElement();\n\nSystem.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\n\nenvelope.dotNet = false;\nenvelope.bodyOut = request;\nenvelope.setOutputSoapObject(request);\nHttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\nSystem.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\n\nandroidHttpTransport.debug = true;\n\n// Note the inclusion of the required headers\nList&lt;HeaderProperty&gt; headerList = new ArrayList&lt;HeaderProperty&gt;();\nheaderList.add(new HeaderProperty(\n        &quot;Authorization&quot;,\n        &quot;Basic &quot; + org.kobjects.base64.Base64.encode((USER_NAME + &quot;:&quot; + PASSWORD).getBytes())\n        // Or, using android.util.Base64\n        // &quot;Basic &quot; + Base64.encodeToString((USER_NAME + &quot;:&quot; + PASSWORD).getBytes(), Base64.DEFAULT)\n));\n\nandroidHttpTransport.call(SOAP_ACTION, envelope, headerList);\n\nSoapPrimitive response = (SoapPrimitive)envelope.getResponse();\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\nresponseMsg = String.valueOf(response);\nSystem.out.println(&quot;ResponseMessage&quot; +  response.toString());\n</code></pre>\n"}],"owner":{"account_id":21332522,"reputation":41,"user_id":15704156,"display_name":"M.Jamous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1678703420,"creation_date":1678108182,"question_id":75651265,"body_markdown":"I&#39;m trying to call a SOAP webservice with credentials username and password, but it&#39;s giving an error, I tried in different ways but it&#39;s the same output, it&#39;s giving this error:\r\n\r\n//error\r\n\r\n```\r\nexpected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\r\n```\r\n\r\nNo response is returned.\r\n\r\n//variables\r\n\r\n    private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\r\n    private static final String METHOD_NAME = &quot;method&quot;;\r\n    private static final String SOAP_ACTION = NAMESPACE + METHOD_NAME;\r\n    private static final String URL = &quot;https://example.com/and/service.asmx&quot;;\r\n    private static final String USER_NAME = &quot;username&quot;;\r\n    private static final String PASSWORD = &quot;password&quot;;\r\n\r\n```\r\n//calling web service\r\n```\r\n\r\n```\r\n SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n PropertyInfo deviceIdPI = new PropertyInfo();\r\n        deviceIdPI.setName(&quot;device_id&quot;);\r\n        deviceIdPI.setValue(deviceId);\r\n        deviceIdPI.setType(String.class);\r\n        request.addProperty(deviceIdPI);\r\n```\r\n\r\n```\r\n  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\r\n        // add header to envelope\r\n        envelope.headerOut = getHeaderElement();\r\n\r\n        System.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\r\n\r\n        envelope.dotNet = false;\r\n        envelope.bodyOut = request;\r\n        envelope.setOutputSoapObject(request);\r\n        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\r\n        System.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\r\n\r\n        androidHttpTransport.debug = true;\r\n        androidHttpTransport.call(SOAP_ACTION, envelope);\r\n\r\n        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();\r\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n        responseMsg = String.valueOf(response);\r\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\r\n```\r\n\r\n```\r\n public static Element[] getHeaderElement() {\r\n        // create header\r\n        Element[] header = new Element[1];\r\n        header[0] = new Element().createElement(&quot;http://docs.oasis-open.org/wss/2004/01/oasis- 200401-wss-wssecurity-secext-1.0.xsd&quot;,&quot;Security&quot;);\r\n        header[0].setAttribute(null, &quot;mustUnderstand&quot;,&quot;1&quot;);\r\n\r\n        //username\r\n        Element username = new Element().createElement(null, USER_NAME);\r\n        username.addChild(Node.IGNORABLE_WHITESPACE,&quot;CBROWN&quot;);\r\n        header[0].addChild(Node.ELEMENT, username);\r\n\r\n        //password\r\n        Element pass = new Element().createElement(null,PASSWORD);\r\n        pass.setAttribute(null, &quot;Type&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\r\n//        pass.addChild(Node.TEXT, PASSWORD);\r\n        username.addChild(Node.ELEMENT, pass);\r\n\r\n        return header;\r\n    }\r\n}\r\n```","title":"SOAP webservice call with header not working","body":"<p>I'm trying to call a SOAP webservice with credentials username and password, but it's giving an error, I tried in different ways but it's the same output, it's giving this error:</p>\n<p>//error</p>\n<pre><code>expected: START_TAG {http://schemas.xmlsoap.org/soap/envelope/}Envelope (position:START_TAG &lt;html&gt;@2:44 in java.io.InputStreamReader@54570a0)\n</code></pre>\n<p>No response is returned.</p>\n<p>//variables</p>\n<pre><code>private static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\nprivate static final String METHOD_NAME = &quot;method&quot;;\nprivate static final String SOAP_ACTION = NAMESPACE + METHOD_NAME;\nprivate static final String URL = &quot;https://example.com/and/service.asmx&quot;;\nprivate static final String USER_NAME = &quot;username&quot;;\nprivate static final String PASSWORD = &quot;password&quot;;\n</code></pre>\n<pre><code>//calling web service\n</code></pre>\n<pre><code> SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n PropertyInfo deviceIdPI = new PropertyInfo();\n        deviceIdPI.setName(&quot;device_id&quot;);\n        deviceIdPI.setValue(deviceId);\n        deviceIdPI.setType(String.class);\n        request.addProperty(deviceIdPI);\n</code></pre>\n<pre><code>  SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n\n        // add header to envelope\n        envelope.headerOut = getHeaderElement();\n\n        System.out.println(&quot;HeaderValue &quot; + Arrays.toString(envelope.headerOut));\n\n        envelope.dotNet = false;\n        envelope.bodyOut = request;\n        envelope.setOutputSoapObject(request);\n        HttpTransportSE androidHttpTransport = new HttpTransportSE(URL);\n        System.out.println(&quot;BodyOut &quot; + envelope.bodyOut.toString());\n\n        androidHttpTransport.debug = true;\n        androidHttpTransport.call(SOAP_ACTION, envelope);\n\n        SoapPrimitive response = (SoapPrimitive)envelope.getResponse();\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\n        responseMsg = String.valueOf(response);\n        System.out.println(&quot;ResponseMessage&quot; +  response.toString());\n</code></pre>\n<pre><code> public static Element[] getHeaderElement() {\n        // create header\n        Element[] header = new Element[1];\n        header[0] = new Element().createElement(&quot;http://docs.oasis-open.org/wss/2004/01/oasis- 200401-wss-wssecurity-secext-1.0.xsd&quot;,&quot;Security&quot;);\n        header[0].setAttribute(null, &quot;mustUnderstand&quot;,&quot;1&quot;);\n\n        //username\n        Element username = new Element().createElement(null, USER_NAME);\n        username.addChild(Node.IGNORABLE_WHITESPACE,&quot;CBROWN&quot;);\n        header[0].addChild(Node.ELEMENT, username);\n\n        //password\n        Element pass = new Element().createElement(null,PASSWORD);\n        pass.setAttribute(null, &quot;Type&quot;, &quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText&quot;);\n//        pass.addChild(Node.TEXT, PASSWORD);\n        username.addChild(Node.ELEMENT, pass);\n\n        return header;\n    }\n}\n</code></pre>\n"},{"tags":["java","protocol-buffers"],"answers":[{"comments":[{"owner":{"account_id":2133381,"reputation":277,"user_id":1893668,"accept_rate":73,"display_name":"AnthonyC"},"score":0,"creation_date":1515659135,"post_id":48202516,"comment_id":83386037,"body_markdown":"This is interesting but let say if i expect this field to look like\n[ {&quot;somekey&quot; : &quot;someVal&quot;}, {&quot;someKey2&quot;: &quot;Otherval&quot;} ]? this HazMap will add a map in between","body":"This is interesting but let say if i expect this field to look like [ {&quot;somekey&quot; : &quot;someVal&quot;}, {&quot;someKey2&quot;: &quot;Otherval&quot;} ]? this HazMap will add a map in between"},{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":0,"creation_date":1515661507,"post_id":48202516,"comment_id":83387275,"body_markdown":"@Anthony oh, I see! Yeah, it will add an extra layer : `{&quot;map&quot;:{...}}` - can&#39;t fix that","body":"@Anthony oh, I see! Yeah, it will add an extra layer : <code>{&quot;map&quot;:{...}}</code> - can&#39;t fix that"},{"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"score":1,"creation_date":1515661595,"post_id":48202516,"comment_id":83387334,"body_markdown":"@Anthony ultimately if you want full control of the json: use a json serializer library, not a protobuf library that happens to be able to also talk json as a second tongue","body":"@Anthony ultimately if you want full control of the json: use a json serializer library, not a protobuf library that happens to be able to also talk json as a second tongue"}],"tags":[],"owner":{"account_id":11975,"reputation":1033912,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1515658709,"creation_date":1515658709,"answer_id":48202516,"question_id":48201347,"body_markdown":"Essentially, `map&lt;...&gt;` is identical to:\r\n\r\n    repeated TypedPair ...\r\n\r\nwith\r\n\r\n    message TypedPair {\r\n        KeyType key = 1;\r\n        ValueType value = 2;\r\n    }\r\n\r\nSo `repeated map&lt;...&gt;` would be `repeated repeated TypedPair` which doesn&#39;t make sense.\r\n\r\nInstead, define a type that *has* a map, and use that:\r\n\r\n    message HazMap {\r\n        map&lt;...&gt; map = 1;\r\n    }\r\n    ...\r\n    repeated HazMap maps = 1;\r\n\r\nCould this be implicit? Perhaps - but it isn&#39;t right now.","title":"Protobuf3 why repeated map is not allowed?","body":"<p>Essentially, <code>map&lt;...&gt;</code> is identical to:</p>\n\n<pre><code>repeated TypedPair ...\n</code></pre>\n\n<p>with</p>\n\n<pre><code>message TypedPair {\n    KeyType key = 1;\n    ValueType value = 2;\n}\n</code></pre>\n\n<p>So <code>repeated map&lt;...&gt;</code> would be <code>repeated repeated TypedPair</code> which doesn't make sense.</p>\n\n<p>Instead, define a type that <em>has</em> a map, and use that:</p>\n\n<pre><code>message HazMap {\n    map&lt;...&gt; map = 1;\n}\n...\nrepeated HazMap maps = 1;\n</code></pre>\n\n<p>Could this be implicit? Perhaps - but it isn't right now.</p>\n"},{"tags":[],"owner":{"account_id":19619673,"reputation":11,"user_id":14360404,"display_name":"郭永强"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678703002,"creation_date":1678703002,"answer_id":75720585,"question_id":48201347,"body_markdown":"you can use `google.protobuf.ListValue`.\r\n\r\n    import &quot;google/protobuf/struct.proto&quot; // important\r\n\r\n    message Example {\r\n      google.protobuf.ListValue map_list = 1 [json_name=&quot;map_list&quot;];\r\n    }\r\nin golang, you can initialize by this way.\r\n\r\n    structpb &quot;google.golang.org/protobuf/types/known/structpb&quot;\r\n    \r\n    newStruct, _ := structpb.NewStruct(map[string]interface{}{\r\n\t\t&quot;key1&quot;: &quot;value1&quot;,\r\n\t\t&quot;key2&quot;: &quot;value2&quot;,\r\n\t})\r\n    newStruct2, _ := structpb.NewStruct(map[string]interface{}{\r\n\t\t&quot;key3&quot;: &quot;value3&quot;,\r\n\t\t&quot;key4&quot;: &quot;value4&quot;,\r\n\t})\r\n    ...\r\n    MapList: &amp;structpb.ListValue{\r\n\t\t\tValues: []*structpb.Value{\r\n\t\t\t\tstructpb.NewStructValue(newStruct),\r\n\t\t\t\tstructpb.NewStructValue(newStruct2),\r\n\t\t\t},\r\n\t\t},\r\n    ...\r\n\r\njson like this\r\n\r\n    &quot;map_list&quot;: [\r\n        {\r\n            &quot;key1&quot;: &quot;value1&quot;,\r\n            &quot;key2&quot;: &quot;value2&quot;\r\n        },\r\n        {\r\n            &quot;key3&quot;: &quot;value3&quot;,\r\n            &quot;key4&quot;: &quot;value4&quot;\r\n        }\r\n    ],\r\n\r\n[see here for detail][1]\r\n\r\n  [1]: https://github.com/ethresearch/sharding-p2p-poc/pull/37","title":"Protobuf3 why repeated map is not allowed?","body":"<p>you can use <code>google.protobuf.ListValue</code>.</p>\n<pre><code>import &quot;google/protobuf/struct.proto&quot; // important\n\nmessage Example {\n  google.protobuf.ListValue map_list = 1 [json_name=&quot;map_list&quot;];\n}\n</code></pre>\n<p>in golang, you can initialize by this way.</p>\n<pre><code>structpb &quot;google.golang.org/protobuf/types/known/structpb&quot;\n\nnewStruct, _ := structpb.NewStruct(map[string]interface{}{\n    &quot;key1&quot;: &quot;value1&quot;,\n    &quot;key2&quot;: &quot;value2&quot;,\n})\nnewStruct2, _ := structpb.NewStruct(map[string]interface{}{\n    &quot;key3&quot;: &quot;value3&quot;,\n    &quot;key4&quot;: &quot;value4&quot;,\n})\n...\nMapList: &amp;structpb.ListValue{\n        Values: []*structpb.Value{\n            structpb.NewStructValue(newStruct),\n            structpb.NewStructValue(newStruct2),\n        },\n    },\n...\n</code></pre>\n<p>json like this</p>\n<pre><code>&quot;map_list&quot;: [\n    {\n        &quot;key1&quot;: &quot;value1&quot;,\n        &quot;key2&quot;: &quot;value2&quot;\n    },\n    {\n        &quot;key3&quot;: &quot;value3&quot;,\n        &quot;key4&quot;: &quot;value4&quot;\n    }\n],\n</code></pre>\n<p><a href=\"https://github.com/ethresearch/sharding-p2p-poc/pull/37\" rel=\"nofollow noreferrer\">see here for detail</a></p>\n"}],"owner":{"account_id":2133381,"reputation":277,"user_id":1893668,"accept_rate":73,"display_name":"AnthonyC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3877,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48202516,"answer_count":2,"score":3,"last_activity_date":1678703002,"creation_date":1515653737,"question_id":48201347,"body_markdown":"I am using Protobuf3 and I need to create a list of map.\r\nI thought I can use `repeated map&lt;string, string&gt;` but seems like I cannot.\r\n\r\nWhat should I use instead?\r\n\r\nthanks","title":"Protobuf3 why repeated map is not allowed?","body":"<p>I am using Protobuf3 and I need to create a list of map.\nI thought I can use <code>repeated map&lt;string, string&gt;</code> but seems like I cannot.</p>\n\n<p>What should I use instead?</p>\n\n<p>thanks</p>\n"},{"tags":["java","spring-boot","configuration","annotations"],"comments":[{"owner":{"account_id":180181,"reputation":76390,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"score":4,"creation_date":1562052893,"post_id":56847376,"comment_id":100245662,"body_markdown":"The `@Size` annotation is just an annotation. If you use a valdiator that makes use of these kind of annotations, then the annotation has an effect; otherwise nothing happens. Are you using a validator? If so, show the code. If not, that&#39;s the reason nothing happens.","body":"The <code>@Size</code> annotation is just an annotation. If you use a valdiator that makes use of these kind of annotations, then the annotation has an effect; otherwise nothing happens. Are you using a validator? If so, show the code. If not, that&#39;s the reason nothing happens."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1562053635,"post_id":56847376,"comment_id":100246026,"body_markdown":"Even if validation works, it does not what you think. The [`@Size` annotation](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/package-summary.html) is for constraining the size of character sequences and collections. For constraining numbers, you should use `@Min` and `@Max`.","body":"Even if validation works, it does not what you think. The <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/package-summary.html\" rel=\"nofollow noreferrer\"><code>@Size</code> annotation</a> is for constraining the size of character sequences and collections. For constraining numbers, you should use <code>@Min</code> and <code>@Max</code>."},{"owner":{"account_id":15819504,"reputation":149,"user_id":11414182,"display_name":"Vahe Karapetyan"},"score":0,"creation_date":1562054236,"post_id":56847376,"comment_id":100246311,"body_markdown":"Initially it was `@Max`, that didn&#39;t work as well.","body":"Initially it was <code>@Max</code>, that didn&#39;t work as well."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1562055112,"post_id":56847376,"comment_id":100246719,"body_markdown":"You should add `@Valid` or `@Validated` to your `@RequestBody` annotated method argument. If you don&#39;t then validation will not be triggered.","body":"You should add <code>@Valid</code> or <code>@Validated</code> to your <code>@RequestBody</code> annotated method argument. If you don&#39;t then validation will not be triggered."}],"answers":[{"comments":[{"owner":{"account_id":15819504,"reputation":149,"user_id":11414182,"display_name":"Vahe Karapetyan"},"score":0,"creation_date":1562056012,"post_id":56847924,"comment_id":100247181,"body_markdown":"It still doesn&#39;t return an error with these.\nTried with both `@Valid` and `@Validated`.","body":"It still doesn&#39;t return an error with these. Tried with both <code>@Valid</code> and <code>@Validated</code>."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1562056108,"post_id":56847924,"comment_id":100247233,"body_markdown":"@VaheKarapetyan I actually tested this myself, this should work, the code I used can be found in [this Gist](https://gist.github.com/g00glen00b/23c66572021542c6b16b5dbabe16ad1c), in addition of the request and the error I get. What request body are you sending?","body":"@VaheKarapetyan I actually tested this myself, this should work, the code I used can be found in <a href=\"https://gist.github.com/g00glen00b/23c66572021542c6b16b5dbabe16ad1c\" rel=\"nofollow noreferrer\">this Gist</a>, in addition of the request and the error I get. What request body are you sending?"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":3,"creation_date":1562056582,"post_id":56847924,"comment_id":100247496,"body_markdown":"@VaheKarapetyan Additionally, provide a list of dependencies you use. The validation processor bean is only created if a proper implementation of the validation API is on the classpath. By default, if you use **spring-boot-starter-web**, you should have the **hibernate-validator** on your classpath.","body":"@VaheKarapetyan Additionally, provide a list of dependencies you use. The validation processor bean is only created if a proper implementation of the validation API is on the classpath. By default, if you use <b>spring-boot-starter-web</b>, you should have the <b>hibernate-validator</b> on your classpath."},{"owner":{"account_id":13786274,"reputation":358,"user_id":9950085,"display_name":"Falcon"},"score":4,"creation_date":1628241892,"post_id":56847924,"comment_id":121373553,"body_markdown":"In this case I had to add the following starter to provide validators configuration: &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;","body":"In this case I had to add the following starter to provide validators configuration: &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;"}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650573771,"creation_date":1562054614,"answer_id":56847924,"question_id":56847376,"body_markdown":"As mentioned in the comments, you should be using `@Max(9000)` as `@Size` should only be used for arrays, Strings, collections and maps.\r\n\r\n\r\n```java\r\npublic class Configuration {\r\n    @Max(9000)\r\n    private Integer maxIterations;\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nAdditionally, you should use the `@Valid` annotation within your controller so that the bean validator knows that there are constraints within the `Configuration` class, for example:\r\n\r\n```java\r\n@PostMapping\r\n@ResponseStatus(HttpStatus.CREATED)\r\npublic String doSomething(@Valid @RequestBody Configuration configuration) {\r\n    // ...\r\n}\r\n```\r\n\r\nThis only works if you have a proper implementation of the **Java Validation API** on your classpath. This can be done by adding the following dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore Spring boot 2.3, this was automatically included within the `spring-boot-starter-web` dependency, but now you have to manually include the dependency.","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>As mentioned in the comments, you should be using <code>@Max(9000)</code> as <code>@Size</code> should only be used for arrays, Strings, collections and maps.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Configuration {\n    @Max(9000)\n    private Integer maxIterations;\n\n    // ...\n}\n</code></pre>\n<p>Additionally, you should use the <code>@Valid</code> annotation within your controller so that the bean validator knows that there are constraints within the <code>Configuration</code> class, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\n@ResponseStatus(HttpStatus.CREATED)\npublic String doSomething(@Valid @RequestBody Configuration configuration) {\n    // ...\n}\n</code></pre>\n<p>This only works if you have a proper implementation of the <strong>Java Validation API</strong> on your classpath. This can be done by adding the following dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<p>Before Spring boot 2.3, this was automatically included within the <code>spring-boot-starter-web</code> dependency, but now you have to manually include the dependency.</p>\n"},{"tags":[],"owner":{"account_id":3186446,"reputation":472,"user_id":4527472,"accept_rate":0,"display_name":"BHARAT GUPTA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678702800,"creation_date":1678702800,"answer_id":75720554,"question_id":56847376,"body_markdown":"Below dependency works for me: \r\n\r\n    \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nEarlier i was using below dependency which causing some unkown issues for validations     \t\t\r\n\r\n     &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>Below dependency works for me:</p>\n<pre><code>        &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Earlier i was using below dependency which causing some unkown issues for validations</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15819504,"reputation":149,"user_id":11414182,"display_name":"Vahe Karapetyan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10170,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":2,"score":5,"last_activity_date":1678702800,"creation_date":1562052485,"question_id":56847376,"body_markdown":"I have a Spring Boot Controller with an endpoint that accepts the following Configuration class (as json). The class has the param `maxIterations` and has a `@Size` annotation set to `9000`.\r\n\r\n    ...\r\n    import javax.validation.constraints.Max;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    public class Configuration {\r\n        // Max iterations\r\n        @Size(max = 9000)\r\n        private Integer maxIterations;\r\n    \r\n        ...\r\n    }\r\n\r\nThe problem is that when making the `POST` call to that endpoint with the following `json` it does not return an error or warning stating the the `maxIterations` parameter is higher than `9000`.\r\n\r\n    {\r\n      &quot;maxIterations&quot;: 15000\r\n    }\r\n\r\n\r\nThis is my controller:\r\n\r\n    @PostMapping()\r\n    @ResponseStatus(HttpStatus.CREATED)\r\n    public String doSomething(@RequestBody Configuration configuration) {\r\n        ...\r\n    }\r\n\r\n\r\nWhat can be the issue?","title":"@Size annotation doesn&#39;t seem to work for my class","body":"<p>I have a Spring Boot Controller with an endpoint that accepts the following Configuration class (as json). The class has the param <code>maxIterations</code> and has a <code>@Size</code> annotation set to <code>9000</code>.</p>\n\n<pre><code>...\nimport javax.validation.constraints.Max;\nimport javax.validation.constraints.Size;\n\npublic class Configuration {\n    // Max iterations\n    @Size(max = 9000)\n    private Integer maxIterations;\n\n    ...\n}\n</code></pre>\n\n<p>The problem is that when making the <code>POST</code> call to that endpoint with the following <code>json</code> it does not return an error or warning stating the the <code>maxIterations</code> parameter is higher than <code>9000</code>.</p>\n\n<pre><code>{\n  \"maxIterations\": 15000\n}\n</code></pre>\n\n<p>This is my controller:</p>\n\n<pre><code>@PostMapping()\n@ResponseStatus(HttpStatus.CREATED)\npublic String doSomething(@RequestBody Configuration configuration) {\n    ...\n}\n</code></pre>\n\n<p>What can be the issue?</p>\n"},{"tags":["java","spring-boot","soap","cxf","policies"],"owner":{"account_id":1567539,"reputation":161,"user_id":1455990,"display_name":"thomre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1678702774,"creation_date":1678702097,"question_id":75720426,"body_markdown":"I need to write a mock-implementation for a third party product that offers a Soap-Webservice.\r\n\r\nThe WSDL-file is provided and I can&#39;t change it. It contains various policies, including WS-addressing- and WS-security-policies.\r\nThe client for this service is implemented by another team. I have access to the client source code but not the third party service source code.\r\nThe client, the third party service and my implementation all use the same WSDL-file: https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip\r\n\r\nBoth other developers (client and third party service) say they use Apache CXF and did not add any configuration/customization/implementation regarding Soap-Headers. I traced the response of the third party product and all required headers are present.\r\n \r\nI use cxf-spring-boot-starter-jaxws and cxf-codegen-plugin.\r\n \r\nThe CXF documentation states:\r\n&quot;In CXF 2.2, if the cxf-rt-ws-policy and cxf-rt-ws-security modules are available on the classpath, the WS-SecurityPolicy stuff is automatically enabled. Since the entire security runtime is policy driven, the only requirement is that the policy engine and security policies be available.&quot;\r\nhttps://cxf.apache.org/docs/ws-securitypolicy.html\r\n \r\nI added both cxf-rt-ws-security and cxf-rt-ws-policy as direct maven dependencies to make sure they are available.\r\n \r\nMy code neither sends the required signature confirmation nor the WS-addressing headers in the response.\r\nI tried the following combinations without luck:\r\n- CXF 3.5.5, Spring Boot 2.6.4, Java 11\r\n- CXF 4.0.0, Spring Boot 3.0.3, Java 17\r\n \r\nI can mitigate the WS-addressing error by manually adding the header, but that does not work for the signature confirmation and should not be necessary.\r\n \r\nThe client errors are:\r\n\r\n- for the missing addressing header:\r\n&gt; javax.xml.ws.soap.SOAPFaultException: A required header representing a\r\n&gt; Message Addressing Property is not present\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n\r\n- for the missing wsse-header:\r\n&gt; javax.xml.ws.soap.SOAPFaultException: These policy alternatives can\r\n&gt; not be satisfied:\r\n&gt;             {http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}Wss11:\r\n&gt; Signature Confirmation policy validation failed\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n&gt;                         at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\r\n&gt; ~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\r\n\r\n \r\nSo the client enforces the policies but my server implementation does not automatically provide the required headers as described in the documentation and as seems to be working in the third party implementation. \r\n\r\nWhat am I missing?","title":"Apache CXF service not adding required headers specified by existing policies in WSDL-file","body":"<p>I need to write a mock-implementation for a third party product that offers a Soap-Webservice.</p>\n<p>The WSDL-file is provided and I can't change it. It contains various policies, including WS-addressing- and WS-security-policies.\nThe client for this service is implemented by another team. I have access to the client source code but not the third party service source code.\nThe client, the third party service and my implementation all use the same WSDL-file: <a href=\"https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip\" rel=\"nofollow noreferrer\">https://www.xoev.de/sixcms/media.php/13/XTA2Version3.zip</a></p>\n<p>Both other developers (client and third party service) say they use Apache CXF and did not add any configuration/customization/implementation regarding Soap-Headers. I traced the response of the third party product and all required headers are present.</p>\n<p>I use cxf-spring-boot-starter-jaxws and cxf-codegen-plugin.</p>\n<p>The CXF documentation states:\n&quot;In CXF 2.2, if the cxf-rt-ws-policy and cxf-rt-ws-security modules are available on the classpath, the WS-SecurityPolicy stuff is automatically enabled. Since the entire security runtime is policy driven, the only requirement is that the policy engine and security policies be available.&quot;\n<a href=\"https://cxf.apache.org/docs/ws-securitypolicy.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/ws-securitypolicy.html</a></p>\n<p>I added both cxf-rt-ws-security and cxf-rt-ws-policy as direct maven dependencies to make sure they are available.</p>\n<p>My code neither sends the required signature confirmation nor the WS-addressing headers in the response.\nI tried the following combinations without luck:</p>\n<ul>\n<li>CXF 3.5.5, Spring Boot 2.6.4, Java 11</li>\n<li>CXF 4.0.0, Spring Boot 3.0.3, Java 17</li>\n</ul>\n<p>I can mitigate the WS-addressing error by manually adding the header, but that does not work for the signature confirmation and should not be necessary.</p>\n<p>The client errors are:</p>\n<ul>\n<li>for the missing addressing header:</li>\n</ul>\n<blockquote>\n<p>javax.xml.ws.soap.SOAPFaultException: A required header representing a\nMessage Addressing Property is not present\nat org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\nat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]</p>\n</blockquote>\n<ul>\n<li>for the missing wsse-header:</li>\n</ul>\n<blockquote>\n<p>javax.xml.ws.soap.SOAPFaultException: These policy alternatives can\nnot be satisfied:\n{http://docs.oasis-open.org/ws-sx/ws-securitypolicy/200702}Wss11:\nSignature Confirmation policy validation failed\nat org.apache.cxf.jaxws.JaxWsClientProxy.mapException(JaxWsClientProxy.java:195)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]\nat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:145)\n~[cxf-rt-frontend-jaxws-3.5.5.jar:3.5.5]</p>\n</blockquote>\n<p>So the client enforces the policies but my server implementation does not automatically provide the required headers as described in the documentation and as seems to be working in the third party implementation.</p>\n<p>What am I missing?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9645,"page":580,"page_size":100}
