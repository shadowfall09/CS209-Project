{"items":[{"tags":["java","android","google-maps"],"answers":[{"comments":[{"owner":{"account_id":900422,"reputation":1540,"user_id":936715,"accept_rate":68,"display_name":"curlyreggie"},"score":0,"creation_date":1336780629,"post_id":10559925,"comment_id":13668506,"body_markdown":"Isn&#39;t there a way to cast any object to close it directly?","body":"Isn&#39;t there a way to cast any object to close it directly?"},{"owner":{"account_id":470495,"reputation":13061,"user_id":877732,"display_name":"Changwei Yao"},"score":0,"creation_date":1336780749,"post_id":10559925,"comment_id":13668530,"body_markdown":"if other Class has the refrence of this Activity. it can.  But other Activity or Service Can not.","body":"if other Class has the refrence of this Activity. it can.  But other Activity or Service Can not."},{"owner":{"account_id":900422,"reputation":1540,"user_id":936715,"accept_rate":68,"display_name":"curlyreggie"},"score":0,"creation_date":1336781117,"post_id":10559925,"comment_id":13668575,"body_markdown":"Thanks for that help. I&#39;ve reframed the question so that it is more clearer now. Will your code still work in that?","body":"Thanks for that help. I&#39;ve reframed the question so that it is more clearer now. Will your code still work in that?"},{"owner":{"account_id":449854,"reputation":83113,"user_id":844882,"accept_rate":100,"display_name":"Alex Lockwood"},"score":0,"creation_date":1336790459,"post_id":10559925,"comment_id":13669566,"body_markdown":"Not sure why you would want to do this though... the system should take care of this for you. You should also check to see that `myContext` is not equal to null, in the case that the `Activity` has been destroyed already.","body":"Not sure why you would want to do this though... the system should take care of this for you. You should also check to see that <code>myContext</code> is not equal to null, in the case that the <code>Activity</code> has been destroyed already."},{"owner":{"account_id":5971152,"reputation":353,"user_id":4693438,"accept_rate":78,"display_name":"Kenny Dabiri"},"score":0,"creation_date":1593466800,"post_id":10559925,"comment_id":110786982,"body_markdown":"This line -&gt; ((Activity)myContext).finish(); is what i have been looking for. Thanks","body":"This line -&gt; ((Activity)myContext).finish(); is what i have been looking for. Thanks"}],"tags":[],"owner":{"account_id":470495,"reputation":13061,"user_id":877732,"display_name":"Changwei Yao"},"comment_count":5,"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1336781900,"creation_date":1336780472,"answer_id":10559925,"question_id":10559904,"body_markdown":"    public class classA{\r\n\t\tpublic classA(Context context){\r\n\t\t\tthis.myContext = context;\r\n\t\t}\r\n\t\t\r\n\t\tvoid callMethod(){\r\n\t\t\tif(isFileValid){\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\t((Activity)myContext).finish();\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Closing an activity from another class","body":"<pre><code>public class classA{\n    public classA(Context context){\n        this.myContext = context;\n    }\n\n    void callMethod(){\n        if(isFileValid){\n\n        }else{\n            ((Activity)myContext).finish();\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5324353,"reputation":2705,"user_id":4246792,"display_name":"Emtiaz Zahid"},"score":5,"creation_date":1542509385,"post_id":53357258,"comment_id":93592419,"body_markdown":"please add an example for better understanding. thanks","body":"please add an example for better understanding. thanks"}],"tags":[],"owner":{"account_id":14773259,"reputation":11,"user_id":10669028,"display_name":"Ray"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542561849,"creation_date":1542506419,"answer_id":53357258,"question_id":10559904,"body_markdown":"What I usually do is to use a receiver within my activity and then trigger a broadcast from **class B**.\r\n **Class A** gets the broadcast and its **onReceive** handles the work. Say **finish();**","title":"Closing an activity from another class","body":"<p>What I usually do is to use a receiver within my activity and then trigger a broadcast from <strong>class B</strong>.\n <strong>Class A</strong> gets the broadcast and its <strong>onReceive</strong> handles the work. Say <strong>finish();</strong></p>\n"},{"comments":[{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":1,"creation_date":1665426504,"post_id":66687324,"comment_id":130693069,"body_markdown":"Using Kotlin code, the important part is: `(context as MyActivity).finish()`","body":"Using Kotlin code, the important part is: <code>(context as MyActivity).finish()</code>"}],"tags":[],"owner":{"account_id":6132888,"reputation":307,"user_id":4782561,"display_name":"Ajay Vishwakarma"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665426655,"creation_date":1616056142,"answer_id":66687324,"question_id":10559904,"body_markdown":"This is how you can call the Activity&#39;s finish method from another class in Kotlin code.  \r\nIt is working perfectly.  \r\n\r\n    class DialogHelper(applicationContext: Context) {\r\n       \r\n     private var context = applicationContext\r\n    \r\n        fun showDialog() {\r\n            var dialog: Dialog? = null\r\n            val builder = Dialog.Builder(context)\r\n                .content(R.string.your_string)\r\n                .positiveButton(R.string.str_ok, listener = {\r\n                    (context as Activity).finish()\r\n                    dialog?.hide()\r\n                })\r\n            dialog = builder.create()\r\n            dialog.setCanceledOnTouchOutside(false)\r\n            dialog.show()\r\n        }\r\n    }","title":"Closing an activity from another class","body":"<p>This is how you can call the Activity's finish method from another class in Kotlin code.<br />\nIt is working perfectly.</p>\n<pre><code>class DialogHelper(applicationContext: Context) {\n   \n private var context = applicationContext\n\n    fun showDialog() {\n        var dialog: Dialog? = null\n        val builder = Dialog.Builder(context)\n            .content(R.string.your_string)\n            .positiveButton(R.string.str_ok, listener = {\n                (context as Activity).finish()\n                dialog?.hide()\n            })\n        dialog = builder.create()\n        dialog.setCanceledOnTouchOutside(false)\n        dialog.show()\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10287148,"reputation":4095,"user_id":7590031,"display_name":"Ayoub Boumzebra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693411440,"creation_date":1693411440,"answer_id":77009730,"question_id":10559904,"body_markdown":"this may be help u....\r\n\r\nadd this line where you want to finsh current activity\r\nJava\r\n\r\n**`((Activity)getContext()).finish();`**","title":"Closing an activity from another class","body":"<p>this may be help u....</p>\n<p>add this line where you want to finsh current activity\nJava</p>\n<p><strong><code>((Activity)getContext()).finish();</code></strong></p>\n"}],"owner":{"account_id":900422,"reputation":1540,"user_id":936715,"accept_rate":68,"display_name":"curlyreggie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18760,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":10559925,"answer_count":4,"score":11,"last_activity_date":1693411440,"creation_date":1336780235,"question_id":10559904,"body_markdown":"I have a question in Android during creating my google-maps application.\r\n\r\nI&#39;ve one activity as below\r\n\r\n    public class MapCallActivity extends MapActivity {\r\n        classA class = new classA(this);\r\n        classA.callMethod();\r\n    }\r\n\r\nThe `classA` is defined as below:\r\n\r\n     public class classA{\r\n       public classA(Context context){\r\n       this.myContext = context;\r\n     }\r\n\r\n       void callMethod(){\r\n          if (isFileValid) {\r\n\t        &lt;do_something...&gt;;\r\n          } else {\r\n            &lt;call_the_activity&#39;s finish() method&gt;;\r\n          }\r\n       }\r\n     }   \r\n        \r\n\r\nIs there a way that I can do `&lt;call_the_activity&#39;s finish() method&gt;` so that the `MapCallActivity` closes?\r\n\r\nAny help is appreciated!","title":"Closing an activity from another class","body":"<p>I have a question in Android during creating my google-maps application.</p>\n\n<p>I've one activity as below</p>\n\n<pre><code>public class MapCallActivity extends MapActivity {\n    classA class = new classA(this);\n    classA.callMethod();\n}\n</code></pre>\n\n<p>The <code>classA</code> is defined as below:</p>\n\n<pre><code> public class classA{\n   public classA(Context context){\n   this.myContext = context;\n }\n\n   void callMethod(){\n      if (isFileValid) {\n        &lt;do_something...&gt;;\n      } else {\n        &lt;call_the_activity's finish() method&gt;;\n      }\n   }\n }   \n</code></pre>\n\n<p>Is there a way that I can do <code>&lt;call_the_activity's finish() method&gt;</code> so that the <code>MapCallActivity</code> closes?</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"score":0,"creation_date":1692955834,"post_id":76975879,"comment_id":135698161,"body_markdown":"If doc1 has words: [&quot;A&quot;, &quot;B&quot;, &quot;A&quot;] and doc2 has words: [&quot;A&quot;], and I serach for &quot;A&quot;, the result I want is: 3.","body":"If doc1 has words: [&quot;A&quot;, &quot;B&quot;, &quot;A&quot;] and doc2 has words: [&quot;A&quot;], and I serach for &quot;A&quot;, the result I want is: 3."},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":1,"creation_date":1692962547,"post_id":76975879,"comment_id":135699499,"body_markdown":"Unfortunately, Elasticsearch does not provide a built-in feature to count the total occurrences of a specific word across all documents. You might need to use a custom script or an external tool to achieve this.","body":"Unfortunately, Elasticsearch does not provide a built-in feature to count the total occurrences of a specific word across all documents. You might need to use a custom script or an external tool to achieve this."},{"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"score":0,"creation_date":1692964996,"post_id":76975879,"comment_id":135700065,"body_markdown":"really?? To me it seems a common request.","body":"really?? To me it seems a common request."},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":0,"creation_date":1692968437,"post_id":76975879,"comment_id":135700848,"body_markdown":"yes for real... :)","body":"yes for real... :)"},{"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"score":0,"creation_date":1692982693,"post_id":76975879,"comment_id":135704232,"body_markdown":"What concrete solution do you suggest?","body":"What concrete solution do you suggest?"},{"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"score":0,"creation_date":1693220636,"post_id":76975879,"comment_id":135726943,"body_markdown":"Ask chatGPT to write a custom Python script to provide the count of the total occurrences of a specific word across all documents.","body":"Ask chatGPT to write a custom Python script to provide the count of the total occurrences of a specific word across all documents."}],"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692955275,"creation_date":1692955275,"answer_id":76975879,"question_id":76975761,"body_markdown":"You can enable the [fielddata][1] to achieve the result you want.\r\n\r\n&gt; !Note: Loading field data in memory can consume significant memory.!\r\n\r\n\tPUT test_content/_doc/1\r\n\t{\r\n\t  &quot;content&quot;: &quot;first test&quot;\r\n\t}\r\n\t\r\n\tPUT test_content/_doc/2\r\n\t{\r\n\t  &quot;content&quot;: &quot;second test&quot;\r\n\t}\r\n\t\r\n\tGET test_content/_search\r\n\t{\r\n\t  &quot;size&quot;: 0,\r\n\t  &quot;aggs&quot;: {\r\n\t    &quot;NAME&quot;: {\r\n\t      &quot;terms&quot;: {\r\n\t        &quot;field&quot;: &quot;content&quot;,\r\n\t        &quot;size&quot;: 1000000\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\t\r\n\tGET test_content/_mapping\r\n\tPUT test_content/_mapping\r\n\t{\r\n\t  &quot;properties&quot;: {\r\n\t    &quot;content&quot;: {\r\n\t      &quot;type&quot;: &quot;text&quot;,\r\n\t      &quot;fielddata&quot;: true,\r\n\t      &quot;fields&quot;: {\r\n\t        &quot;keyword&quot;: {\r\n\t          &quot;type&quot;: &quot;keyword&quot;,\r\n\t          &quot;ignore_above&quot;: 256\r\n\t        }\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n**When you run this you will get the following error:**\r\n&gt; illegal_argument_exception Fielddata is disabled on [] in []. Text\r\n&gt; fields are not optimised for operations that require per-document\r\n&gt; field data like aggregations and sorting, so these operations are\r\n&gt; disabled by default. Please use a keyword field instead.\r\n&gt; Alternatively, set fielddata=true on [content] in order to load field\r\n&gt; data by uninverting the inverted index. Note that this can use\r\n&gt; significant memory.\r\n\r\nIf it&#39;s a one-time or rare operation you can enable it.\r\n\r\n### Note that the result you see below is the document count that contains the relevant word. For example, there are 2 words containing the word &quot;test&quot;. This means that even if the word &quot;test&quot; occurs more than once in the same document, it will be counted as one.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#fielddata-mapping-param\r\n  [2]: https://i.stack.imgur.com/KyCHu.png","title":"Count total occurences with ElasticSearch","body":"<p>You can enable the <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/text.html#fielddata-mapping-param\" rel=\"nofollow noreferrer\">fielddata</a> to achieve the result you want.</p>\n<blockquote class=\"spoiler\">\n<p>Note: Loading field data in memory can consume significant memory.!</p>\n</blockquote>\n<pre><code>PUT test_content/_doc/1\n{\n  &quot;content&quot;: &quot;first test&quot;\n}\n\nPUT test_content/_doc/2\n{\n  &quot;content&quot;: &quot;second test&quot;\n}\n\nGET test_content/_search\n{\n  &quot;size&quot;: 0,\n  &quot;aggs&quot;: {\n    &quot;NAME&quot;: {\n      &quot;terms&quot;: {\n        &quot;field&quot;: &quot;content&quot;,\n        &quot;size&quot;: 1000000\n      }\n    }\n  }\n}\n\nGET test_content/_mapping\nPUT test_content/_mapping\n{\n  &quot;properties&quot;: {\n    &quot;content&quot;: {\n      &quot;type&quot;: &quot;text&quot;,\n      &quot;fielddata&quot;: true,\n      &quot;fields&quot;: {\n        &quot;keyword&quot;: {\n          &quot;type&quot;: &quot;keyword&quot;,\n          &quot;ignore_above&quot;: 256\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><strong>When you run this you will get the following error:</strong></p>\n<blockquote>\n<p>illegal_argument_exception Fielddata is disabled on [] in []. Text\nfields are not optimised for operations that require per-document\nfield data like aggregations and sorting, so these operations are\ndisabled by default. Please use a keyword field instead.\nAlternatively, set fielddata=true on [content] in order to load field\ndata by uninverting the inverted index. Note that this can use\nsignificant memory.</p>\n</blockquote>\n<p>If it's a one-time or rare operation you can enable it.</p>\n<h3>Note that the result you see below is the document count that contains the relevant word. For example, there are 2 words containing the word &quot;test&quot;. This means that even if the word &quot;test&quot; occurs more than once in the same document, it will be counted as one.</h3>\n<p><a href=\"https://i.stack.imgur.com/KyCHu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KyCHu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693410962,"creation_date":1693410962,"answer_id":77009664,"question_id":76975761,"body_markdown":"I solved in this way:\r\n```\r\n   BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n        boolQueryBuilder.must(\r\n                QueryBuilders.wrapperQuery(QueryUtils.toQuery(template.getKeyword(), &quot;words.data&quot;))\r\n        );\r\n\r\n        FilterAggregationBuilder filterAgg = AggregationBuilders.filter(&quot;filter_aggr&quot;, boolQueryBuilder);\r\n        NestedAggregationBuilder nestedAgg = AggregationBuilders.nested(&quot;nested_aggr&quot;, &quot;words&quot;).subAggregation(filterAgg);\r\n\r\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n        searchSourceBuilder.query(\r\n                QueryBuilders.matchAllQuery()\r\n        );\r\n        searchSourceBuilder.aggregation(nestedAgg);\r\n        searchSourceBuilder.size(0);\r\n        SearchRequest searchRequest = new SearchRequest();\r\n        searchRequest.source(searchSourceBuilder);\r\n        org.elasticsearch.action.search.SearchResponse s = clientConfig.elasticsearchClient().search(searchRequest, RequestOptions.DEFAULT);\r\n        return ((ParsedFilter)((ParsedNested)(s.getAggregations().get(&quot;nested_aggr&quot;))).getAggregations().get(&quot;filter_aggr&quot;)).getDocCount();\r\n```    ","title":"Count total occurences with ElasticSearch","body":"<p>I solved in this way:</p>\n<pre><code>   BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n        boolQueryBuilder.must(\n                QueryBuilders.wrapperQuery(QueryUtils.toQuery(template.getKeyword(), &quot;words.data&quot;))\n        );\n\n        FilterAggregationBuilder filterAgg = AggregationBuilders.filter(&quot;filter_aggr&quot;, boolQueryBuilder);\n        NestedAggregationBuilder nestedAgg = AggregationBuilders.nested(&quot;nested_aggr&quot;, &quot;words&quot;).subAggregation(filterAgg);\n\n        SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n        searchSourceBuilder.query(\n                QueryBuilders.matchAllQuery()\n        );\n        searchSourceBuilder.aggregation(nestedAgg);\n        searchSourceBuilder.size(0);\n        SearchRequest searchRequest = new SearchRequest();\n        searchRequest.source(searchSourceBuilder);\n        org.elasticsearch.action.search.SearchResponse s = clientConfig.elasticsearchClient().search(searchRequest, RequestOptions.DEFAULT);\n        return ((ParsedFilter)((ParsedNested)(s.getAggregations().get(&quot;nested_aggr&quot;))).getAggregations().get(&quot;filter_aggr&quot;)).getDocCount();\n</code></pre>\n"}],"owner":{"account_id":1605363,"reputation":11,"user_id":1485565,"display_name":"user1485565"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693410962,"creation_date":1692954322,"question_id":76975761,"body_markdown":"My request seems trivial: &quot;retrieve the total number of occurences of one specific word in the field &quot;words&quot; of all the document.\r\n\r\nThe index is simple. I put only the main structure:\r\n\r\n```\r\n@Document(indexName = &quot;documents&quot;)\r\npublic class Document{\r\n@Field(type = FieldType.Nested, fielddata = true, name = &quot;words&quot;)\r\nprivate List&lt;Word&gt; words;\r\n}\r\n\r\npublic class Word{\r\n    @Field(type = FieldType.Text, fielddata = true)\r\n    @NotBlank private String data;\r\n\r\n    //...other fields\r\n}\r\n```\r\n\r\nI&#39;m using the Elasticseatch API for Java.\r\n\r\nThe only solution I found is to iterate over the returned list of SearchHit, and sum the totalHits of each item.\r\n\r\nBut this solution is too exprensive.","title":"Count total occurences with ElasticSearch","body":"<p>My request seems trivial: &quot;retrieve the total number of occurences of one specific word in the field &quot;words&quot; of all the document.</p>\n<p>The index is simple. I put only the main structure:</p>\n<pre><code>@Document(indexName = &quot;documents&quot;)\npublic class Document{\n@Field(type = FieldType.Nested, fielddata = true, name = &quot;words&quot;)\nprivate List&lt;Word&gt; words;\n}\n\npublic class Word{\n    @Field(type = FieldType.Text, fielddata = true)\n    @NotBlank private String data;\n\n    //...other fields\n}\n</code></pre>\n<p>I'm using the Elasticseatch API for Java.</p>\n<p>The only solution I found is to iterate over the returned list of SearchHit, and sum the totalHits of each item.</p>\n<p>But this solution is too exprensive.</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":5,"creation_date":1693124701,"post_id":76986248,"comment_id":135716611,"body_markdown":"Hex is just a notation in source code. The number itself is just a number, there is nothing special about it that makes it a &quot;hex number&quot;. You can convert it to a string just like any other number.","body":"Hex is just a notation in source code. The number itself is just a number, there is nothing special about it that makes it a &quot;hex number&quot;. You can convert it to a string just like any other number."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693125421,"post_id":76986248,"comment_id":135716682,"body_markdown":"Did you check out the api docs for `java.lang.Long`? Also, the &#39;zero method&#39; `&quot;&quot; + v`  will do it","body":"Did you check out the api docs for <code>java.lang.Long</code>? Also, the &#39;zero method&#39; <code>&quot;&quot; + v</code>  will do it"},{"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"score":0,"creation_date":1693126889,"post_id":76986248,"comment_id":135716828,"body_markdown":"I tried to convert and still dont understand how 0x000104001L becomes “1064961“. When I convert long to string it gives me a completely different number @Jesper","body":"I tried to convert and still dont understand how 0x000104001L becomes “1064961“. When I convert long to string it gives me a completely different number @Jesper"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1693165462,"post_id":76986248,"comment_id":135720863,"body_markdown":"@Sonyagold, _&quot;... When I convert long to string it gives me a completely different number ...&quot;_, use the _[Long#toHexString](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#toHexString(long))_ method; `Long.toHexString(0x000104001L)`.  Or, if you additionally want the _0x_ prefix, and leading zeros, you can use _[String#formatted](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...))_, `&quot;0x%09x&quot;.formatted(value)`.","body":"@Sonyagold, <i>&quot;... When I convert long to string it gives me a completely different number ...&quot;</i>, use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Long.html#toHexString(long)\" rel=\"nofollow noreferrer\">Long#toHexString</a></i> method; <code>Long.toHexString(0x000104001L)</code>.  Or, if you additionally want the <i>0x</i> prefix, and leading zeros, you can use <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#formatted(java.lang.Object...)\" rel=\"nofollow noreferrer\">String#formatted</a></i>, <code>&quot;0x%09x&quot;.formatted(value)</code>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693131614,"creation_date":1693129740,"answer_id":76986520,"question_id":76986248,"body_markdown":"In 0x000104001L, the `0x` represents that this number has been written in hexadecimal notation. The `L` at the end represents that it is a `long` number. Similarly, if you see a number beginning with a `0`, it has been assigned to a variable in the octal notation. **For normal display, Java uses decimal notation.** That is why you see these numbers in decimal notation on your console.\r\n\r\n**Demo:**\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            long x = 0x000104001L;\r\n            System.out.println(x);\r\n    \r\n            long y = 01245;\r\n            System.out.println(y);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    1064961\r\n    677\r\n\r\nI hope you already know how to [convert a number from hexadecimal to a decimal notation](https://byjus.com/maths/hex-to-decimal/). So, (104001)&lt;sub&gt;16&lt;/sub&gt; = (1 * 16&lt;sup&gt;5&lt;/sup&gt; + 0 * 16&lt;sup&gt;4&lt;/sup&gt; + 4 * 16&lt;sup&gt;3&lt;/sup&gt; + 0 * 16&lt;sup&gt;2&lt;/sup&gt; + 0 * 16&lt;sup&gt;1&lt;/sup&gt; + 1 * 16&lt;sup&gt;0&lt;/sup&gt;)&lt;sub&gt;10&lt;/sub&gt; = (1048576 + 0 + 16384 + 0 + 0 + 1)&lt;sub&gt;10&lt;/sub&gt; = (1064961)&lt;sub&gt;10&lt;/sub&gt;.","title":"Convert hex long to string in Java","body":"<p>In 0x000104001L, the <code>0x</code> represents that this number has been written in hexadecimal notation. The <code>L</code> at the end represents that it is a <code>long</code> number. Similarly, if you see a number beginning with a <code>0</code>, it has been assigned to a variable in the octal notation. <strong>For normal display, Java uses decimal notation.</strong> That is why you see these numbers in decimal notation on your console.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>class Main {\n    public static void main(String[] args) {\n        long x = 0x000104001L;\n        System.out.println(x);\n\n        long y = 01245;\n        System.out.println(y);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1064961\n677\n</code></pre>\n<p>I hope you already know how to <a href=\"https://byjus.com/maths/hex-to-decimal/\" rel=\"nofollow noreferrer\">convert a number from hexadecimal to a decimal notation</a>. So, (104001)<sub>16</sub> = (1 * 16<sup>5</sup> + 0 * 16<sup>4</sup> + 4 * 16<sup>3</sup> + 0 * 16<sup>2</sup> + 0 * 16<sup>1</sup> + 1 * 16<sup>0</sup>)<sub>10</sub> = (1048576 + 0 + 16384 + 0 + 0 + 1)<sub>10</sub> = (1064961)<sub>10</sub>.</p>\n"},{"tags":[],"owner":{"account_id":23573790,"reputation":1,"user_id":17613678,"display_name":"codewriter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693133914,"creation_date":1693133914,"answer_id":76986771,"question_id":76986248,"body_markdown":"This is an answer in Java:\r\n\r\n    public static void main(String[] args) {\r\n        String s = Long.toString(0x000104001L, 10);\r\n        System.out.println(s);\r\n    }\r\n\r\n","title":"Convert hex long to string in Java","body":"<p>This is an answer in Java:</p>\n<pre><code>public static void main(String[] args) {\n    String s = Long.toString(0x000104001L, 10);\n    System.out.println(s);\n}\n</code></pre>\n"}],"owner":{"account_id":16340177,"reputation":87,"user_id":11801256,"display_name":"Sonya  gold"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":2,"score":-1,"last_activity_date":1693410535,"creation_date":1693124519,"question_id":76986248,"body_markdown":"I would like to know how to convert a hex long number to string l.\r\nFor example:\r\n0x000104001L\r\nHow does it convert to “1064961”?\r\n","title":"Convert hex long to string in Java","body":"<p>I would like to know how to convert a hex long number to string l.\nFor example:\n0x000104001L\nHow does it convert to “1064961”?</p>\n"},{"tags":["java","android","android-layout"],"comments":[{"owner":{"account_id":8707520,"reputation":1674,"user_id":6514945,"display_name":"sanjeev"},"score":0,"creation_date":1574239742,"post_id":58950104,"comment_id":104156677,"body_markdown":"Why are there two maps? Also, have you tried giving a background color to the layout containing the buttons.","body":"Why are there two maps? Also, have you tried giving a background color to the layout containing the buttons."},{"owner":{"account_id":15131160,"reputation":76,"user_id":10919009,"display_name":"MaciejB"},"score":0,"creation_date":1574240626,"post_id":58950104,"comment_id":104157215,"body_markdown":"I didn&#39;t check the second, I was thinking I deleted it. Yes, I have tried this option with background color but it also doesn&#39;t work.","body":"I didn&#39;t check the second, I was thinking I deleted it. Yes, I have tried this option with background color but it also doesn&#39;t work."},{"owner":{"account_id":7143598,"reputation":991,"user_id":5460223,"display_name":"karthik vishnu kumar"},"score":0,"creation_date":1574242222,"post_id":58950104,"comment_id":104158170,"body_markdown":"Don&#39;t use fill_parent or match_parent as height for your map, if you do so, it will occupy the entire screen height. Since you are using LinearLayout you can use weightSum and add layout_weights to your button and map","body":"Don&#39;t use fill_parent or match_parent as height for your map, if you do so, it will occupy the entire screen height. Since you are using LinearLayout you can use weightSum and add layout_weights to your button and map"}],"answers":[{"tags":[],"owner":{"account_id":12978452,"reputation":117,"user_id":9381727,"display_name":"Ibrahem Hamdy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693410342,"creation_date":1574244876,"answer_id":58951799,"question_id":58950104,"body_markdown":"There are two problem maps in the map sizes. You can edit them....... \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;LinearLayout \r\n    \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:gravity=&quot;center&quot; \r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/buttonLogReg&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_gravity=&quot;top&quot;\r\n            android:layout_weight=&quot;10&quot;\r\n            android:text=&quot;@string/log_amp_reg&quot; /&gt;\r\n    \r\n        &lt;org.osmdroid.views.MapView\r\n            android:id=&quot;@+id/map&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;100dp&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; &gt;\r\n        &lt;/org.osmdroid.views.MapView&gt;\r\n    \r\n      \r\n    &lt;/LinearLayout&gt;","title":"Problem with locating button on map (on same activity) in Android","body":"<p>There are two problem maps in the map sizes. You can edit them.......</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;LinearLayout \n\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:gravity=&quot;center&quot; \n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/buttonLogReg&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_gravity=&quot;top&quot;\n        android:layout_weight=&quot;10&quot;\n        android:text=&quot;@string/log_amp_reg&quot; /&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=&quot;@+id/map&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;100dp&quot;\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\n    &lt;/org.osmdroid.views.MapView&gt;\n\n  \n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":15131160,"reputation":76,"user_id":10919009,"display_name":"MaciejB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693410342,"creation_date":1574239588,"question_id":58950104,"body_markdown":"I&#39;m writing an application in Android where background is a map and I want to put on this background some buttons like &quot;Search&quot;, &quot;Login&quot;.\r\nI have created xml like below:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;fill_parent&quot;\r\n    android:layout_height=&quot;fill_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/buttonLogReg&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;30dp&quot;\r\n        android:layout_gravity=&quot;top&quot;\r\n        android:layout_weight=&quot;10&quot;\r\n        android:baselineAligned=&quot;false&quot;\r\n        android:text=&quot;@string/log_amp_reg&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\n    &lt;org.osmdroid.views.MapView\r\n        android:id=&quot;@+id/map&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;fill_parent&quot;\r\n        tools:ignore=&quot;MissingConstraints&quot; &gt;\r\n\r\n    &lt;/org.osmdroid.views.MapView&gt;\r\n\r\n    &lt;org.osmdroid.views.MapView\r\n        android:id=&quot;@+id/mapview&quot;\r\n        tilesource=&quot;Mapnik&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nand also Java code like:\r\n```\r\npublic class MainActivity extends Activity {\r\n\r\n    MapView map = null;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Context ctx = getApplicationContext();\r\n        Configuration.getInstance().load(ctx, PreferenceManager.getDefaultSharedPreferences(ctx));\r\n        setContentView(R.layout.activity_main);\r\n        map = (MapView)findViewById(R.id.map);\r\n        map.setTileSource(TileSourceFactory.MAPNIK);\r\n        map.setBuiltInZoomControls(true);\r\n        map.setMultiTouchControls(true);\r\n\r\n        IMapController mapController = map.getController();\r\n        mapController.setZoom(12.5);\r\n        GeoPoint startPoint = new GeoPoint(49.20, 19.94);\r\n        mapController.setCenter(startPoint);\r\n\r\n        Button logreg = findViewById(R.id.buttonLogReg);\r\n        logreg.setOnClickListener(onClickListener);\r\n    }\r\n    public void onResume(){\r\n        super.onResume();\r\n        map.onResume();\r\n    }\r\n    public void onPause(){\r\n        super.onPause();\r\n        map.onPause();\r\n    }\r\n\r\n    private View.OnClickListener onClickListener = new View.OnClickListener(){\r\n        @Override\r\n        public void onClick(View view) {\r\n            Intent intent = new Intent(getApplicationContext(), LoginRegister.class);\r\n            startActivity(intent);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\nSo my question is: \r\nWhy I can&#39;t see the button on android screen, I see only moveable map?\r\nAnybody could help me with this issue?","title":"Problem with locating button on map (on same activity) in Android","body":"<p>I'm writing an application in Android where background is a map and I want to put on this background some buttons like \"Search\", \"Login\".\nI have created xml like below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"fill_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;Button\n        android:id=\"@+id/buttonLogReg\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"30dp\"\n        android:layout_gravity=\"top\"\n        android:layout_weight=\"10\"\n        android:baselineAligned=\"false\"\n        android:text=\"@string/log_amp_reg\"\n        android:visibility=\"visible\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"1.0\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintVertical_bias=\"0.0\" /&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=\"@+id/map\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"fill_parent\"\n        tools:ignore=\"MissingConstraints\" &gt;\n\n    &lt;/org.osmdroid.views.MapView&gt;\n\n    &lt;org.osmdroid.views.MapView\n        android:id=\"@+id/mapview\"\n        tilesource=\"Mapnik\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>and also Java code like:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\n    MapView map = null;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Context ctx = getApplicationContext();\n        Configuration.getInstance().load(ctx, PreferenceManager.getDefaultSharedPreferences(ctx));\n        setContentView(R.layout.activity_main);\n        map = (MapView)findViewById(R.id.map);\n        map.setTileSource(TileSourceFactory.MAPNIK);\n        map.setBuiltInZoomControls(true);\n        map.setMultiTouchControls(true);\n\n        IMapController mapController = map.getController();\n        mapController.setZoom(12.5);\n        GeoPoint startPoint = new GeoPoint(49.20, 19.94);\n        mapController.setCenter(startPoint);\n\n        Button logreg = findViewById(R.id.buttonLogReg);\n        logreg.setOnClickListener(onClickListener);\n    }\n    public void onResume(){\n        super.onResume();\n        map.onResume();\n    }\n    public void onPause(){\n        super.onPause();\n        map.onPause();\n    }\n\n    private View.OnClickListener onClickListener = new View.OnClickListener(){\n        @Override\n        public void onClick(View view) {\n            Intent intent = new Intent(getApplicationContext(), LoginRegister.class);\n            startActivity(intent);\n        }\n    };\n}\n</code></pre>\n\n<p>So my question is: \nWhy I can't see the button on android screen, I see only moveable map?\nAnybody could help me with this issue?</p>\n"},{"tags":["java","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1693409970,"post_id":77009525,"comment_id":135757933,"body_markdown":"(mind you hibernate&#39;s queries are technically not just SQL, but the ideas do largely transfer). In particular from that linked question: &quot;The IS comparison is only for null comparisons.&quot;","body":"(mind you hibernate&#39;s queries are technically not just SQL, but the ideas do largely transfer). In particular from that linked question: &quot;The IS comparison is only for null comparisons.&quot;"},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1693410290,"post_id":77009525,"comment_id":135758025,"body_markdown":"Thank you for the link, I wasn&#39;t able to find it, I get the idea","body":"Thank you for the link, I wasn&#39;t able to find it, I get the idea"}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693410308,"answer_count":0,"score":0,"last_activity_date":1693410001,"creation_date":1693409869,"question_id":77009525,"body_markdown":"I have a request in Hibernate that was working just fine in an older version of hibernate but after upgrading to a more recent one I have an error \r\n\r\n&gt; org.hibernate.query.SemanticException: A query exception occurred [SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE]\\\r\n&gt; line 1:65 no viable alternative at input &#39;SELECTcount(c)FROMClientcWHEREc.tmp_batchISTRUE&#39;\r\n\r\n```java\r\npublic Long getClientCount() {\r\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE&quot;, Long.class)\r\n        .getResultList()\r\n        .get(0);\r\n}\r\n```\r\n\r\nAfter testing a few things, I&#39;ve got a solution for this problem that replace the `IS TRUE` by `= TRUE` and now it works fine again:\r\n```java\r\npublic Long getClientCount() {\r\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch = TRUE&quot;, Long.class)\r\n        .getResultList()\r\n        .get(0);\r\n}\r\n```\r\n\r\nBut I&#39;m unable to understand what&#39;s the difference between the two that make the first one to version fall in error, can someone explain the difference here ? \r\n\r\nFor reference, I&#39;m adding the `Client` class here :\r\n```java\r\n@Entity\r\n@Table(name = &quot;CLIENTS&quot;)\r\n@IdClass(ClientId.class)\r\npublic class Client {\r\n    @Id\r\n    @Column(name = &quot;TMP_BATCH&quot;)\r\n    private boolean tmp_batch;\r\n\r\n    ...\r\n\r\n    public boolean isTmp_batch() { return this.tmp_batch; }\r\n    public boolean setTmp_batch(boolean tmp_batch) { this.tmp_batch = tmp_batch; }\r\n\r\n    ...\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Hibernate IS TRUE vs = TRUE","body":"<p>I have a request in Hibernate that was working just fine in an older version of hibernate but after upgrading to a more recent one I have an error</p>\n<blockquote>\n<p>org.hibernate.query.SemanticException: A query exception occurred [SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE]<br />\nline 1:65 no viable alternative at input 'SELECTcount(c)FROMClientcWHEREc.tmp_batchISTRUE'</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public Long getClientCount() {\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch IS TRUE&quot;, Long.class)\n        .getResultList()\n        .get(0);\n}\n</code></pre>\n<p>After testing a few things, I've got a solution for this problem that replace the <code>IS TRUE</code> by <code>= TRUE</code> and now it works fine again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Long getClientCount() {\n    return getEntityManager().createQuery(&quot;SELECT count(c) FROM Client c WHERE c.tmp_batch = TRUE&quot;, Long.class)\n        .getResultList()\n        .get(0);\n}\n</code></pre>\n<p>But I'm unable to understand what's the difference between the two that make the first one to version fall in error, can someone explain the difference here ?</p>\n<p>For reference, I'm adding the <code>Client</code> class here :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;CLIENTS&quot;)\n@IdClass(ClientId.class)\npublic class Client {\n    @Id\n    @Column(name = &quot;TMP_BATCH&quot;)\n    private boolean tmp_batch;\n\n    ...\n\n    public boolean isTmp_batch() { return this.tmp_batch; }\n    public boolean setTmp_batch(boolean tmp_batch) { this.tmp_batch = tmp_batch; }\n\n    ...\n\n}\n\n\n\n</code></pre>\n"},{"tags":["java","swing","netbeans","jtable"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1693409199,"post_id":77009283,"comment_id":135757784,"body_markdown":"Post an [mre] demonstrating your problem. Your basic approach seems correct in that you are attempting to override the &quot;isCellEdiable&quot; method. However, we don&#39;t have access to your database so we can&#39;t test the code. The MRE should have hard coded data in the table. One row with data so the checkbox is enabled and the other row with data so the check box is disabled. Note there is no need for a custom renderer or editor. Just override the &quot;getColumnClass&quot; method to return Boolean.class for the column with the check box.  See: https://stackoverflow.com/a/1539602/131872 for a simple MRE.","body":"Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating your problem. Your basic approach seems correct in that you are attempting to override the &quot;isCellEdiable&quot; method. However, we don&#39;t have access to your database so we can&#39;t test the code. The MRE should have hard coded data in the table. One row with data so the checkbox is enabled and the other row with data so the check box is disabled. Note there is no need for a custom renderer or editor. Just override the &quot;getColumnClass&quot; method to return Boolean.class for the column with the check box.  See: <a href=\"https://stackoverflow.com/a/1539602/131872\">stackoverflow.com/a/1539602/131872</a> for a simple MRE."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1693409442,"post_id":77009283,"comment_id":135757828,"body_markdown":"There is also no need to explicitly set the cell renderers when you override the getColumnClass() method.","body":"There is also no need to explicitly set the cell renderers when you override the getColumnClass() method."}],"owner":{"account_id":11962628,"reputation":1,"user_id":8753271,"display_name":"Chris J."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693409463,"creation_date":1693408105,"question_id":77009283,"body_markdown":"I am new to Java, so please forgive my ignorance. I am trying to create a jTable that will disable a checkbox based on the value of another cell. When I run this code either nothing displays or the table&#39;s cells only display when clicked on. A nudge in the right direction would help a lot. Thank you.\r\n\r\n\r\n```\r\npublic class Enrollment extends javax.swing.JDialog {\r\n   //public static String empState = &quot;&quot;;\r\n   //public static String empEffDate = &quot;&quot;;\r\n    /**\r\n     * Creates new form Enrollment\r\n     */\r\n \r\n    \r\n    \r\n    public Enrollment(java.awt.Frame parent, boolean modal) {\r\n        super(parent, modal);\r\n        initComponents();\r\n        \r\n        DefaultTableModel model;\r\n        //load table\r\n        String empSSN = JContacts.getCurrentSSN();\r\n        \r\n        \r\n        String sqlStmt = &quot;Select * from enrollment.empprodchoices left join &quot;\r\n                + &quot;enrollment.plannames on plannames.prodidcode = empprodchoices.prodidcode&quot;\r\n                + &quot; where empSSN= &#39;&quot; + empSSN + &quot;&#39;&quot;;\r\n        \r\n        System.out.println(sqlStmt);\r\n        ResultSet rs = DBConn.getRS(sqlStmt);\r\n        model = (DefaultTableModel) jTable1.getModel();\r\n      initUI();\r\n      \r\n       \r\n        \r\n        \r\n        try {\r\n            while (rs.next()) {\r\n                String[] rowData = new String[9];\r\n                rowData[0] = rs.getString(&quot;productname&quot;);\r\n                rowData[1] = rs.getString(&quot;options&quot;);\r\n                rowData[2] = rs.getString(&quot;coveragelevel&quot;);\r\n                rowData[3] = rs.getString(&quot;aftertaxcost&quot;); //money check value\r\n                rowData[4] = rs.getString(&quot;CoverageDate&quot;);\r\n                rowData[5] = rs.getString(&quot;DeductionDate&quot;);\r\n                rowData[8] = rs.getString(&quot;prodidcode&quot;);\r\n                \r\n                model.addRow((Object[]) rowData);\r\n                //jTable1.repaint();\r\n              }\r\n           //instance table model\r\n//jTable1.revalidate();\r\n//jTable1.repaint();\r\n//jTable1.updateUI();\r\n          \r\n        } catch (SQLException ex) {\r\n            Logger.getLogger(Enrollment.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        // initUI();\r\n         \r\n    }\r\nprivate void initUI() {\r\n    \r\n    // Assuming jTable1 has already been initialized and populated\r\n        // Modify the table model to control editability\r\n       DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\r\n        \r\n        // Get column identifiers from existing model\r\n        Vector&lt;String&gt; columnIdentifiers = new Vector&lt;&gt;();\r\n        for (int i = 0; i &lt; model.getColumnCount(); i++) {\r\n            columnIdentifiers.add(model.getColumnName(i));\r\n        }\r\n\r\n        jTable1.setModel(new DefaultTableModel(model.getDataVector(), columnIdentifiers) {\r\n            @Override\r\n            public boolean isCellEditable(int row, int column) {\r\n                if (column == 8) return false;\r\n                return !(column == 7 &amp;&amp; getValueAt(row, 8).equals(&quot;DEN&quot;));\r\n            }\r\n        });\r\n\r\n        // Set custom renderer and editor for jTable1&#39;s checkbox column (column 7)\r\n        jTable1.getColumnModel().getColumn(7).setCellRenderer(new CheckboxRenderer());\r\n        jTable1.getColumnModel().getColumn(7).setCellEditor(new CheckboxEditor(new JCheckBox()));\r\n    // Explicitly set default renderers for all columns\r\n    for (int i = 0; i &lt; jTable1.getColumnCount(); i++) {\r\n        if (i != 7) {\r\n            jTable1.getColumnModel().getColumn(i).setCellRenderer(jTable1.getDefaultRenderer(jTable1.getColumnClass(i)));\r\n        }\r\n    }\r\n        // Assuming you have other components/layout code here\r\n        // ...\r\n        jTable1.revalidate();\r\n        jTable1.repaint();\r\n        pack();\r\n        //jTable1.updateUI();\r\n    }\r\n\r\n static class CheckboxRenderer extends JCheckBox implements TableCellRenderer {\r\n    @Override\r\n    public Component getTableCellRendererComponent(JTable table, Object value, \r\n                                                   boolean isSelected, boolean hasFocus, \r\n                                                   int row, int column) {\r\n        // Set colors based on selection state\r\n        if (isSelected) {\r\n            this.setBackground(table.getSelectionBackground());\r\n            this.setForeground(table.getSelectionForeground());\r\n        } else {\r\n            this.setBackground(table.getBackground());\r\n            this.setForeground(table.getForeground());\r\n        }\r\n\r\n        // Your existing logic to enable or disable the checkbox based on column 8&#39;s value\r\n        if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\r\n            this.setEnabled(false);\r\n        } else {\r\n            this.setEnabled(true);\r\n        }\r\n\r\n        // Set the checkbox&#39;s selected state based on the cell&#39;s value\r\n        this.setSelected((Boolean) value);\r\n\r\n        return this;\r\n    }\r\n}\r\n\r\n    \r\n    static class CheckboxEditor extends DefaultCellEditor {\r\n        public CheckboxEditor(JCheckBox checkBox) {\r\n            super(checkBox);\r\n        }\r\n\r\n        @Override\r\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\r\n            JCheckBox checkbox = (JCheckBox) super.getTableCellEditorComponent(table, value, isSelected, row, column);\r\n            if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\r\n                checkbox.setEnabled(false);\r\n            } else {\r\n                checkbox.setEnabled(true);\r\n            }\r\n            checkbox.setSelected((Boolean) value);\r\n            return checkbox;\r\n        }\r\n    \r\n\r\n\r\n    \r\n    \r\n    \r\n}\r\n\r\n```\r\n\r\n\r\nI wanted this to display the populated jTable with column 7 enabled/disabled based on the string value in column 8. I used the GUI Builder in Netbeans to construct the jTable1 table initially.\r\n\r\n","title":"jTable only shows cells when clicked on (with custom renderer)","body":"<p>I am new to Java, so please forgive my ignorance. I am trying to create a jTable that will disable a checkbox based on the value of another cell. When I run this code either nothing displays or the table's cells only display when clicked on. A nudge in the right direction would help a lot. Thank you.</p>\n<pre><code>public class Enrollment extends javax.swing.JDialog {\n   //public static String empState = &quot;&quot;;\n   //public static String empEffDate = &quot;&quot;;\n    /**\n     * Creates new form Enrollment\n     */\n \n    \n    \n    public Enrollment(java.awt.Frame parent, boolean modal) {\n        super(parent, modal);\n        initComponents();\n        \n        DefaultTableModel model;\n        //load table\n        String empSSN = JContacts.getCurrentSSN();\n        \n        \n        String sqlStmt = &quot;Select * from enrollment.empprodchoices left join &quot;\n                + &quot;enrollment.plannames on plannames.prodidcode = empprodchoices.prodidcode&quot;\n                + &quot; where empSSN= '&quot; + empSSN + &quot;'&quot;;\n        \n        System.out.println(sqlStmt);\n        ResultSet rs = DBConn.getRS(sqlStmt);\n        model = (DefaultTableModel) jTable1.getModel();\n      initUI();\n      \n       \n        \n        \n        try {\n            while (rs.next()) {\n                String[] rowData = new String[9];\n                rowData[0] = rs.getString(&quot;productname&quot;);\n                rowData[1] = rs.getString(&quot;options&quot;);\n                rowData[2] = rs.getString(&quot;coveragelevel&quot;);\n                rowData[3] = rs.getString(&quot;aftertaxcost&quot;); //money check value\n                rowData[4] = rs.getString(&quot;CoverageDate&quot;);\n                rowData[5] = rs.getString(&quot;DeductionDate&quot;);\n                rowData[8] = rs.getString(&quot;prodidcode&quot;);\n                \n                model.addRow((Object[]) rowData);\n                //jTable1.repaint();\n              }\n           //instance table model\n//jTable1.revalidate();\n//jTable1.repaint();\n//jTable1.updateUI();\n          \n        } catch (SQLException ex) {\n            Logger.getLogger(Enrollment.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        // initUI();\n         \n    }\nprivate void initUI() {\n    \n    // Assuming jTable1 has already been initialized and populated\n        // Modify the table model to control editability\n       DefaultTableModel model = (DefaultTableModel) jTable1.getModel();\n        \n        // Get column identifiers from existing model\n        Vector&lt;String&gt; columnIdentifiers = new Vector&lt;&gt;();\n        for (int i = 0; i &lt; model.getColumnCount(); i++) {\n            columnIdentifiers.add(model.getColumnName(i));\n        }\n\n        jTable1.setModel(new DefaultTableModel(model.getDataVector(), columnIdentifiers) {\n            @Override\n            public boolean isCellEditable(int row, int column) {\n                if (column == 8) return false;\n                return !(column == 7 &amp;&amp; getValueAt(row, 8).equals(&quot;DEN&quot;));\n            }\n        });\n\n        // Set custom renderer and editor for jTable1's checkbox column (column 7)\n        jTable1.getColumnModel().getColumn(7).setCellRenderer(new CheckboxRenderer());\n        jTable1.getColumnModel().getColumn(7).setCellEditor(new CheckboxEditor(new JCheckBox()));\n    // Explicitly set default renderers for all columns\n    for (int i = 0; i &lt; jTable1.getColumnCount(); i++) {\n        if (i != 7) {\n            jTable1.getColumnModel().getColumn(i).setCellRenderer(jTable1.getDefaultRenderer(jTable1.getColumnClass(i)));\n        }\n    }\n        // Assuming you have other components/layout code here\n        // ...\n        jTable1.revalidate();\n        jTable1.repaint();\n        pack();\n        //jTable1.updateUI();\n    }\n\n static class CheckboxRenderer extends JCheckBox implements TableCellRenderer {\n    @Override\n    public Component getTableCellRendererComponent(JTable table, Object value, \n                                                   boolean isSelected, boolean hasFocus, \n                                                   int row, int column) {\n        // Set colors based on selection state\n        if (isSelected) {\n            this.setBackground(table.getSelectionBackground());\n            this.setForeground(table.getSelectionForeground());\n        } else {\n            this.setBackground(table.getBackground());\n            this.setForeground(table.getForeground());\n        }\n\n        // Your existing logic to enable or disable the checkbox based on column 8's value\n        if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\n            this.setEnabled(false);\n        } else {\n            this.setEnabled(true);\n        }\n\n        // Set the checkbox's selected state based on the cell's value\n        this.setSelected((Boolean) value);\n\n        return this;\n    }\n}\n\n    \n    static class CheckboxEditor extends DefaultCellEditor {\n        public CheckboxEditor(JCheckBox checkBox) {\n            super(checkBox);\n        }\n\n        @Override\n        public Component getTableCellEditorComponent(JTable table, Object value, boolean isSelected, int row, int column) {\n            JCheckBox checkbox = (JCheckBox) super.getTableCellEditorComponent(table, value, isSelected, row, column);\n            if (table.getValueAt(row, 8).equals(&quot;DEN&quot;)) {\n                checkbox.setEnabled(false);\n            } else {\n                checkbox.setEnabled(true);\n            }\n            checkbox.setSelected((Boolean) value);\n            return checkbox;\n        }\n    \n\n\n    \n    \n    \n}\n\n</code></pre>\n<p>I wanted this to display the populated jTable with column 7 enabled/disabled based on the string value in column 8. I used the GUI Builder in Netbeans to construct the jTable1 table initially.</p>\n"},{"tags":["java","validation","number-formatting"],"comments":[{"owner":{"display_name":"user497849"},"score":0,"creation_date":1323266131,"post_id":8416354,"comment_id":10396288,"body_markdown":"how about converting it to a string and then loop over the string and allow only characters &quot;0&quot;..&quot;9&quot;? or just go for getIntegerInstance();","body":"how about converting it to a string and then loop over the string and allow only characters &quot;0&quot;..&quot;9&quot;? or just go for getIntegerInstance();"},{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":0,"creation_date":1323266458,"post_id":8416354,"comment_id":10396396,"body_markdown":"@DorinDuminica: `getIntegerInstance()` gives the same result.","body":"@DorinDuminica: <code>getIntegerInstance()</code> gives the same result."},{"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"score":1,"creation_date":1323267014,"post_id":8416354,"comment_id":10396598,"body_markdown":"why not use `Integer.parseInt(String)`","body":"why not use <code>Integer.parseInt(String)</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1530701393,"post_id":8416354,"comment_id":89326314,"body_markdown":"This question is unclear.  You do not state precisely what formats should be allowed ... or whether you want to accept &quot;locale sensitive&quot; integer formats.","body":"This question is unclear.  You do not state precisely what formats should be allowed ... or whether you want to accept &quot;locale sensitive&quot; integer formats."}],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1323266035,"creation_date":1323266035,"answer_id":8416415,"question_id":8416354,"body_markdown":"There are many ways to do that:\r\n\r\n- regex - check if it `matches(&quot;\\\\d+&quot;)`\r\n- with `javax.validation` - [`@Digits(fraction=0, integer=5)`][1]\r\n- apache commons `IntegerValidator`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Digits.html","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>There are many ways to do that:</p>\n\n<ul>\n<li>regex - check if it <code>matches(\"\\\\d+\")</code></li>\n<li>with <code>javax.validation</code> - <a href=\"http://docs.oracle.com/javaee/6/api/javax/validation/constraints/Digits.html\" rel=\"nofollow\"><code>@Digits(fraction=0, integer=5)</code></a></li>\n<li>apache commons <code>IntegerValidator</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":1,"creation_date":1323268810,"post_id":8416423,"comment_id":10397234,"body_markdown":"`DecimalFormat` has the same problem with this. Or do you have an example?","body":"<code>DecimalFormat</code> has the same problem with this. Or do you have an example?"}],"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323266073,"creation_date":1323266073,"answer_id":8416423,"question_id":8416354,"body_markdown":"Use DecimalFormat with a format pattern string.","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Use DecimalFormat with a format pattern string.</p>\n"},{"comments":[{"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"score":1,"creation_date":1323268864,"post_id":8416436,"comment_id":10397252,"body_markdown":"This gives the same evil result.","body":"This gives the same evil result."}],"tags":[],"owner":{"account_id":925893,"reputation":917,"user_id":956691,"display_name":"Thomas Johan Eggum"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323266131,"creation_date":1323266131,"answer_id":8416436,"question_id":8416354,"body_markdown":"Take a look at DecimalFormat that is a subclass of NumberFormat http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html \r\n\r\n  DecimalFormat myFormatter = new DecimalFormat(&quot;###.###&quot;);","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Take a look at DecimalFormat that is a subclass of NumberFormat <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow\">http://docs.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html</a> </p>\n\n<p>DecimalFormat myFormatter = new DecimalFormat(\"###.###\");</p>\n"},{"tags":[],"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323266198,"creation_date":1323266198,"answer_id":8416455,"question_id":8416354,"body_markdown":"`Integer.parseInt(String)` will throw a NumberFormatException on all of your examples.  I&#39;m not sure if that&#39;s what you&#39;re looking for, but it&#39;s definitely &quot;more strict.&quot;","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p><code>Integer.parseInt(String)</code> will throw a NumberFormatException on all of your examples.  I'm not sure if that's what you're looking for, but it's definitely \"more strict.\"</p>\n"},{"comments":[{"owner":{"account_id":1854518,"reputation":771,"user_id":1680403,"display_name":"Rainer"},"score":0,"creation_date":1478507682,"post_id":9317073,"comment_id":68166545,"body_markdown":"Thank you - this is the only realy solving answer! The other do not consider local (like decimal delimiter). Just wondering why the hell this is not (at least configureable) in the default implementation :(","body":"Thank you - this is the only realy solving answer! The other do not consider local (like decimal delimiter). Just wondering why the hell this is not (at least configureable) in the default implementation :("}],"tags":[],"owner":{"account_id":267204,"reputation":466,"user_id":555228,"display_name":"napu"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1693408211,"creation_date":1329417458,"answer_id":9317073,"question_id":8416354,"body_markdown":"Maybe this helps:\r\n\r\n&gt; The NumberFormat classes that come with the JDK don&#39;t allow for strict number parsing. This has been filed as an enhancement here: https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200 where a workaround is listed.\r\n&gt;\r\n&gt; &gt;   &quot;Use a ParsePosition to get the index after parsing. If ParsePostion.getIndex() != string.length(), then parse() didn&#39;t consume the entire string.&quot; \r\n&gt;\r\n&gt; Actually, you can also add a check to make sure the error index is -1. Values other than -1 mean that there was an error. Trimming the value before parsing is also a good idea. The end product might look something like this:\r\n\r\n\r\n\r\n    String value = &quot;number_to_be_parsed&quot;.trim();\r\n    NumberFormat formatter = NumberFormat.getNumberInstance();\r\n    ParsePosition pos = new ParsePosition(0);\r\n    Number parsed = formatter.parse(value, pos);\r\n    if (pos.getIndex() != value.length() || pos.getErrorIndex() != -1) {\r\n        throw new RuntimeException(&quot;my error description&quot;);\r\n    }\r\n\r\n(Thanks to [Strict number parsing at mynetgear.net][1])\r\n\r\n\r\n  [1]: https://web.archive.org/web/20081005102148/http://shrubbery.mynetgear.net/wiki/Strict_number_parsing","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>Maybe this helps:</p>\n<blockquote>\n<p>The NumberFormat classes that come with the JDK don't allow for strict number parsing. This has been filed as an enhancement here: <a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6431200</a> where a workaround is listed.</p>\n<blockquote>\n<p>&quot;Use a ParsePosition to get the index after parsing. If ParsePostion.getIndex() != string.length(), then parse() didn't consume the entire string.&quot;</p>\n</blockquote>\n<p>Actually, you can also add a check to make sure the error index is -1. Values other than -1 mean that there was an error. Trimming the value before parsing is also a good idea. The end product might look something like this:</p>\n</blockquote>\n<pre><code>String value = &quot;number_to_be_parsed&quot;.trim();\nNumberFormat formatter = NumberFormat.getNumberInstance();\nParsePosition pos = new ParsePosition(0);\nNumber parsed = formatter.parse(value, pos);\nif (pos.getIndex() != value.length() || pos.getErrorIndex() != -1) {\n    throw new RuntimeException(&quot;my error description&quot;);\n}\n</code></pre>\n<p>(Thanks to <a href=\"https://web.archive.org/web/20081005102148/http://shrubbery.mynetgear.net/wiki/Strict_number_parsing\" rel=\"nofollow noreferrer\">Strict number parsing at mynetgear.net</a>)</p>\n"},{"tags":[],"owner":{"account_id":6933964,"reputation":1,"user_id":5322576,"display_name":"Matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441910413,"creation_date":1441910413,"answer_id":32509397,"question_id":8416354,"body_markdown":"I wouldn&#39;t use java&#39;s number format routine, especially with the locale settings if you worry about validation.\r\n\r\n        Locale numberLocale = new Locale(“es”,”ES&quot;);\r\n        NumberFormat nf = NumberFormat.getInstance(numberLocale);\r\n        ParsePosition pos = new ParsePosition(0);\r\n        Number test = nf.parse(&quot;0.2&quot;, pos);\r\n\r\nYou would expect there to be an issue here, but no..  test is equal to 2 and pos has an index of 3 and error index of -1.","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I wouldn't use java's number format routine, especially with the locale settings if you worry about validation.</p>\n\n<pre><code>    Locale numberLocale = new Locale(“es”,”ES\");\n    NumberFormat nf = NumberFormat.getInstance(numberLocale);\n    ParsePosition pos = new ParsePosition(0);\n    Number test = nf.parse(\"0.2\", pos);\n</code></pre>\n\n<p>You would expect there to be an issue here, but no..  test is equal to 2 and pos has an index of 3 and error index of -1.</p>\n"},{"tags":[],"owner":{"account_id":44321,"reputation":9248,"user_id":130028,"accept_rate":79,"display_name":"marcolopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460893349,"creation_date":1460893349,"answer_id":36676030,"question_id":8416354,"body_markdown":"I gave up on writing my own validation class, and went with [**NEBULA WIDGETS** *FormattedText*][1]\r\n\r\nIt was written over the SWT widget API, but you can easily adapt the [NumberFormatter class][2]\r\n\r\n\r\n  [1]: https://eclipse.org/nebula/widgets/formattedtext/formattedtext.php\r\n  [2]: https://github.com/eclipse/nebula/blob/master/widgets/formattedtext/org.eclipse.nebula.widgets.formattedtext/src/org/eclipse/nebula/widgets/formattedtext/NumberFormatter.java","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I gave up on writing my own validation class, and went with <a href=\"https://eclipse.org/nebula/widgets/formattedtext/formattedtext.php\" rel=\"nofollow\"><strong>NEBULA WIDGETS</strong> <em>FormattedText</em></a></p>\n\n<p>It was written over the SWT widget API, but you can easily adapt the <a href=\"https://github.com/eclipse/nebula/blob/master/widgets/formattedtext/org.eclipse.nebula.widgets.formattedtext/src/org/eclipse/nebula/widgets/formattedtext/NumberFormatter.java\" rel=\"nofollow\">NumberFormatter class</a></p>\n"}],"owner":{"account_id":74184,"reputation":122906,"user_id":213269,"accept_rate":98,"display_name":"Jonas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4877,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":9317073,"answer_count":7,"score":12,"last_activity_date":1693408211,"creation_date":1323265767,"question_id":8416354,"body_markdown":"I&#39;m validating user input from a form.\r\n\r\nI parse the input with [`NumberFormat`][1], but it is evil and allow almost anything. Is there any way to parse number more strict?\r\n\r\nE.g. I would like to not allow these three inputs, for an integer, but `Numberformat` allow all of them:\r\n\r\n\tNumberFormat nf = NumberFormat.getNumberInstance();\r\n\tnf.setParseIntegerOnly(true);\r\n\r\n\tNumber numberA = nf.parse(&quot;99.731&quot;);\t// 99 (not what the user expect)\r\n\tNumber numberB = nf.parse(&quot;99s.231&quot;);\t// 99 (invalid)\r\n\tNumber numberC = nf.parse(&quot;9g9&quot;);\t\t// 9  (invalid)\r\n\r\n\tSystem.out.println(numberA.toString());\r\n\tSystem.out.println(numberB.toString());\r\n\tSystem.out.println(numberC.toString());\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html","title":"How to parse numbers more strict than what NumberFormat does in Java?","body":"<p>I'm validating user input from a form.</p>\n\n<p>I parse the input with <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a>, but it is evil and allow almost anything. Is there any way to parse number more strict?</p>\n\n<p>E.g. I would like to not allow these three inputs, for an integer, but <code>Numberformat</code> allow all of them:</p>\n\n<pre><code>NumberFormat nf = NumberFormat.getNumberInstance();\nnf.setParseIntegerOnly(true);\n\nNumber numberA = nf.parse(\"99.731\");    // 99 (not what the user expect)\nNumber numberB = nf.parse(\"99s.231\");   // 99 (invalid)\nNumber numberC = nf.parse(\"9g9\");       // 9  (invalid)\n\nSystem.out.println(numberA.toString());\nSystem.out.println(numberB.toString());\nSystem.out.println(numberC.toString());\n</code></pre>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"display_name":"user22470287"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693408019,"creation_date":1693408019,"answer_id":77009271,"question_id":77006898,"body_markdown":"The problem is not related to reordering slides at all but to the content of the `XMLSlideShow`. A small scale test revealed that adding a `XSLFTextRun` into the document without setting the content in the newly returned instance reproduced the error message reliably. \r\n\r\nA random discovery of https://stackoverflow.com/a/41859313/22470287 led to the solution of the problem, which is not only restricted to `XSLFTable` :\r\n\r\n    XMLSlideShow presentation = new XMLSlideShow(stream);\r\n    XSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\r\n    XSLFTextParagraph paragraph = textbox.addNewTextParagraph();\r\n    XSLFTextRun textrun = paragraph.addNewTextRun();\r\n    textrun.setText(&quot;foo&quot;);\r\n\r\nworks perfectly, whereas\r\n\r\n    XMLSlideShow presentation = new XMLSlideShow(stream);\r\n    XSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\r\n    XSLFTextParagraph paragraph = textbox.addNewTextParagraph();\r\n    XSLFTextRun textrun = paragraph.addNewTextRun();\r\n    //textrun.setText(&quot;foo&quot;);\r\n\r\ndoes produce the error at opening of the file. \r\n","title":"Apache POI 5.0.0 produces a corrupted .pptx-slideshow","body":"<p>The problem is not related to reordering slides at all but to the content of the <code>XMLSlideShow</code>. A small scale test revealed that adding a <code>XSLFTextRun</code> into the document without setting the content in the newly returned instance reproduced the error message reliably.</p>\n<p>A random discovery of <a href=\"https://stackoverflow.com/a/41859313/22470287\">https://stackoverflow.com/a/41859313/22470287</a> led to the solution of the problem, which is not only restricted to <code>XSLFTable</code> :</p>\n<pre><code>XMLSlideShow presentation = new XMLSlideShow(stream);\nXSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\nXSLFTextParagraph paragraph = textbox.addNewTextParagraph();\nXSLFTextRun textrun = paragraph.addNewTextRun();\ntextrun.setText(&quot;foo&quot;);\n</code></pre>\n<p>works perfectly, whereas</p>\n<pre><code>XMLSlideShow presentation = new XMLSlideShow(stream);\nXSLFTextBox textbox = presentation.getSlides().get(0).createTextBox();\nXSLFTextParagraph paragraph = textbox.addNewTextParagraph();\nXSLFTextRun textrun = paragraph.addNewTextRun();\n//textrun.setText(&quot;foo&quot;);\n</code></pre>\n<p>does produce the error at opening of the file.</p>\n"}],"owner":{"display_name":"user22470287"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009271,"answer_count":1,"score":0,"last_activity_date":1693408019,"creation_date":1693389289,"question_id":77006898,"body_markdown":"I am using Apaches POI library version 5.0.0 to create documentation directly into PowerPoint slideshows (.pptx) from within a Java 17 desktop application.\r\n\r\nI use a prepared slideshow in .pptx which include a title page, some slides with to-be-filled tables (as that POI version apparently has trouble creating those from source code) and a contact slide. This template (`XMLSlideShow presentation`) is dynamically filled with\r\n\r\n```\r\nXSLFSlide slide = presentation.createSlide(...);\r\n```\r\n\r\nbased on user input parameters, including generous usage of\r\n\r\n```\r\npresentation.setSlideOrder(slide, slidenumber);\r\n```\r\n\r\nto adjust their positioning according to my needs, mainly before or after said table-slides. Generally `slidenumber` is basically just the index of the last added slide plus 1, but for ordering before or after table-slides I put them between already existing slides. According to https://poi.apache.org/components/slideshow/xslf-cookbook.html (sub heading &quot;Re-order slides&quot;), this is - to my understanding - how it should be used (..?). To my understanding it shifts the other slides, similar to an `ArrayList` for example.\r\n\r\nWhen I open said slideshow with PowerPoint 2019 it gives me the &quot;file is corrupted&quot;-message and prompting me to allow it to repair it. This works and the slideshow apparently remains unchanged. Various free/open source slideshow viewers/editors open the file without problem.\r\n\r\n----------\r\n\r\nWhen inspecting the file closer (rename to zip, open to check on the directories and files), it became apparent that the actual content was exactly the same (to the byte) but in the slides directory the slide-xml-files were renamed. The visual order of the slides before/after repair in the file are the same, but the internal ordering apparently changed.\r\n\r\nTo check whether I messed something up in manually setting the slide order I simply tried checking\r\n\r\n```\r\n  for (XSLFSlide slide : presentation.getSlides()) {\r\n       System.out.println(slide.getSlideNumber());\r\n  }\r\n```\r\n\r\nat the end just before writing but there (probably as expected) the slide numbers are in ascending order.\r\n\r\nI also tried using POI 5.2.3 as it is almost 2.5 years newer and I thought it might be a bug, but with that version I couldn&#39;t even open my template-pptx.\r\n\r\nI am also using POI 5.0.0 to again create documention in a pptx with a template file, but in that workflow there&#39;s no manual setting of the slide order. This results in non-corrupted slideshow-files, which is why I am putting my focus currently on the slide ordering/numbering.\r\n\r\nDid someone have a similar problem and/or is there a way to validate the XMLSlideShow before writing?","title":"Apache POI 5.0.0 produces a corrupted .pptx-slideshow","body":"<p>I am using Apaches POI library version 5.0.0 to create documentation directly into PowerPoint slideshows (.pptx) from within a Java 17 desktop application.</p>\n<p>I use a prepared slideshow in .pptx which include a title page, some slides with to-be-filled tables (as that POI version apparently has trouble creating those from source code) and a contact slide. This template (<code>XMLSlideShow presentation</code>) is dynamically filled with</p>\n<pre><code>XSLFSlide slide = presentation.createSlide(...);\n</code></pre>\n<p>based on user input parameters, including generous usage of</p>\n<pre><code>presentation.setSlideOrder(slide, slidenumber);\n</code></pre>\n<p>to adjust their positioning according to my needs, mainly before or after said table-slides. Generally <code>slidenumber</code> is basically just the index of the last added slide plus 1, but for ordering before or after table-slides I put them between already existing slides. According to <a href=\"https://poi.apache.org/components/slideshow/xslf-cookbook.html\" rel=\"nofollow noreferrer\">https://poi.apache.org/components/slideshow/xslf-cookbook.html</a> (sub heading &quot;Re-order slides&quot;), this is - to my understanding - how it should be used (..?). To my understanding it shifts the other slides, similar to an <code>ArrayList</code> for example.</p>\n<p>When I open said slideshow with PowerPoint 2019 it gives me the &quot;file is corrupted&quot;-message and prompting me to allow it to repair it. This works and the slideshow apparently remains unchanged. Various free/open source slideshow viewers/editors open the file without problem.</p>\n<hr />\n<p>When inspecting the file closer (rename to zip, open to check on the directories and files), it became apparent that the actual content was exactly the same (to the byte) but in the slides directory the slide-xml-files were renamed. The visual order of the slides before/after repair in the file are the same, but the internal ordering apparently changed.</p>\n<p>To check whether I messed something up in manually setting the slide order I simply tried checking</p>\n<pre><code>  for (XSLFSlide slide : presentation.getSlides()) {\n       System.out.println(slide.getSlideNumber());\n  }\n</code></pre>\n<p>at the end just before writing but there (probably as expected) the slide numbers are in ascending order.</p>\n<p>I also tried using POI 5.2.3 as it is almost 2.5 years newer and I thought it might be a bug, but with that version I couldn't even open my template-pptx.</p>\n<p>I am also using POI 5.0.0 to again create documention in a pptx with a template file, but in that workflow there's no manual setting of the slide order. This results in non-corrupted slideshow-files, which is why I am putting my focus currently on the slide ordering/numbering.</p>\n<p>Did someone have a similar problem and/or is there a way to validate the XMLSlideShow before writing?</p>\n"},{"tags":["java","tomcat","port","vps","ubuntu-20.04"],"owner":{"account_id":24239614,"reputation":1,"user_id":22468722,"display_name":"Ismael Rosas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693407833,"creation_date":1693407833,"question_id":77009257,"body_markdown":"First at all thanks for your time.\r\n\r\nI would like to solve some doubts that I have in relation to a vps under Ubuntu22.04.\r\n\r\nI already installed everything related to TOMCAT.\r\n\r\nmy duads are:\r\n\r\nonce the java API is served in tomcat, could I access it from any notebook and wifi network? I would not be achieving that\r\n\r\nIf in my external browser I write ip:8080 should I be able to access the tomcat of my vps?\r\n\r\nI looked everywhere but I still can&#39;t figure out how to access my vps tomcat from external.\r\n\r\nWhat configurations do you recommend my external computer is under the ubuntu operating system?\r\n\r\nI already tried to disable the ubuntu firewall.\r\n\r\nadd address=&quot;0.0.0.0&quot;\r\n\r\nI made changes to catalina e files","title":"questions about tomcat access vps from external wifi and machine","body":"<p>First at all thanks for your time.</p>\n<p>I would like to solve some doubts that I have in relation to a vps under Ubuntu22.04.</p>\n<p>I already installed everything related to TOMCAT.</p>\n<p>my duads are:</p>\n<p>once the java API is served in tomcat, could I access it from any notebook and wifi network? I would not be achieving that</p>\n<p>If in my external browser I write ip:8080 should I be able to access the tomcat of my vps?</p>\n<p>I looked everywhere but I still can't figure out how to access my vps tomcat from external.</p>\n<p>What configurations do you recommend my external computer is under the ubuntu operating system?</p>\n<p>I already tried to disable the ubuntu firewall.</p>\n<p>add address=&quot;0.0.0.0&quot;</p>\n<p>I made changes to catalina e files</p>\n"},{"tags":["java","maven","testing","testng","pom.xml"],"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1693642027,"post_id":77009238,"comment_id":135790015,"body_markdown":"Can you please edit your question and add a sample project that can be used to reproduce the problem? That would be easy to figure out what is going wrong.","body":"Can you please edit your question and add a sample project that can be used to reproduce the problem? That would be easy to figure out what is going wrong."}],"owner":{"account_id":5974242,"reputation":34,"user_id":5763811,"display_name":"WorstCoderInEU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693407769,"creation_date":1693407769,"question_id":77009238,"body_markdown":"Currently trying to run a set of tests defined under a group/suite\r\n\r\nCurrently using mvn to run my tests so added the following\r\npom.xml\r\n```\r\n&lt;plugin&gt;\r\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0-M5&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;suiteXmlFiles&gt;\r\n\t\t\t\t\t\t&lt;suiteXmlFile&gt;C:\\path_to_suite_file_here\\testing_api_suite.xml&lt;/suiteXmlFile&gt;\r\n\t\t\t\t\t&lt;/suiteXmlFiles&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand \r\ntesting_api_suite/xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE suite STSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;Suite&quot;&gt;\r\n    &lt;test name=&quot;Test&quot;&gt;\r\n        &lt;classes&gt;\r\n            &lt;class name=&quot;uk.api.DataServiceTest&quot;/&gt;\r\n            &lt;class name=&quot;uk.api.ItemServiceTest&quot;/&gt;\r\n        &lt;/classes&gt;\r\n    &lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\nDataServiceTest as one example file\r\n```\r\n@Test(groups = &quot;api&quot;)\r\npublic class DataServiceTest extends TestCase {\r\n\tprivate DataServiceImpl dataService;\r\n\tprivate DataDao mockDataDao;\r\n```\r\n\r\nHowever, when I run mvn test -Dgroups=api or mvn test it seems to not run anything? \r\nAny ideas? Can provide more detail on anything just let me know\r\nThanks in advance\r\n\r\n","title":"Using TestNg to run a &quot;Suite&quot; of tests in Maven, Java?","body":"<p>Currently trying to run a set of tests defined under a group/suite</p>\n<p>Currently using mvn to run my tests so added the following\npom.xml</p>\n<pre><code>&lt;plugin&gt;\n             &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteXmlFile&gt;C:\\path_to_suite_file_here\\testing_api_suite.xml&lt;/suiteXmlFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and\ntesting_api_suite/xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE suite STSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Suite&quot;&gt;\n    &lt;test name=&quot;Test&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;uk.api.DataServiceTest&quot;/&gt;\n            &lt;class name=&quot;uk.api.ItemServiceTest&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>DataServiceTest as one example file</p>\n<pre><code>@Test(groups = &quot;api&quot;)\npublic class DataServiceTest extends TestCase {\n    private DataServiceImpl dataService;\n    private DataDao mockDataDao;\n</code></pre>\n<p>However, when I run mvn test -Dgroups=api or mvn test it seems to not run anything?\nAny ideas? Can provide more detail on anything just let me know\nThanks in advance</p>\n"},{"tags":["java","maven","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1581450356,"post_id":60176088,"comment_id":106435697,"body_markdown":"I don&#39;t know how it works, but I would speculate that the Kotlin compiler is mostly there to facilitate the building of the project and assembling the project. Since there isn&#39;t actually any Kotlin in your project, it likely just hands the task over to the project JDK. I don&#39;t think you need to worry about performance in this case. If you think the project might have been miss-classified as a Kotlin project, this link might help you: https://stackoverflow.com/questions/53497454/intellij-idea-ultimate-2018-3-thinks-my-java-9-project-is-a-kotlin-project","body":"I don&#39;t know how it works, but I would speculate that the Kotlin compiler is mostly there to facilitate the building of the project and assembling the project. Since there isn&#39;t actually any Kotlin in your project, it likely just hands the task over to the project JDK. I don&#39;t think you need to worry about performance in this case. If you think the project might have been miss-classified as a Kotlin project, this link might help you: <a href=\"https://stackoverflow.com/questions/53497454/intellij-idea-ultimate-2018-3-thinks-my-java-9-project-is-a-kotlin-project\" title=\"intellij idea ultimate 2018 3 thinks my java 9 project is a kotlin project\">stackoverflow.com/questions/53497454/&hellip;</a>"},{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":1,"creation_date":1581674988,"post_id":60176088,"comment_id":106523976,"body_markdown":"This is a problem with IDEA builder. I created an issue https://youtrack.jetbrains.com/issue/KT-36705. A workaround is to disable the Kotlin IDEA plugin.","body":"This is a problem with IDEA builder. I created an issue <a href=\"https://youtrack.jetbrains.com/issue/KT-36705\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-36705</a>. A workaround is to disable the Kotlin IDEA plugin."},{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":0,"creation_date":1599207288,"post_id":60176088,"comment_id":112708306,"body_markdown":"Can someone make @AlexeyBelkov post an answer please?","body":"Can someone make @AlexeyBelkov post an answer please?"},{"owner":{"account_id":969586,"reputation":2499,"user_id":992380,"display_name":"Alexey Belkov"},"score":0,"creation_date":1599225375,"post_id":60176088,"comment_id":112716558,"body_markdown":"@HansWurst By the way, I forgot to ask you. Does it help to enable &quot;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | Delegate IDE build/run actions to Maven&quot;? This should circumvent the built-in IDEA builder, so Kotlin compiler may not be activated. If this doesn&#39;t help, I have no other ideas.","body":"@HansWurst By the way, I forgot to ask you. Does it help to enable &quot;File | Settings | Build, Execution, Deployment | Build Tools | Maven | Runner | Delegate IDE build/run actions to Maven&quot;? This should circumvent the built-in IDEA builder, so Kotlin compiler may not be activated. If this doesn&#39;t help, I have no other ideas."},{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":1,"creation_date":1599815354,"post_id":60176088,"comment_id":112897212,"body_markdown":"That might help but leads to other problems. On top of my head I remember not being able to execute single test methods then by right clicking on them.","body":"That might help but leads to other problems. On top of my head I remember not being able to execute single test methods then by right clicking on them."}],"answers":[{"comments":[{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":0,"creation_date":1581455895,"post_id":60176264,"comment_id":106437950,"body_markdown":"I thought this fixed the problem but after removing the Kotlin SDK I still get the Kotlin compiler output in the background processes bar","body":"I thought this fixed the problem but after removing the Kotlin SDK I still get the Kotlin compiler output in the background processes bar"},{"owner":{"account_id":1056956,"reputation":5781,"user_id":1059446,"accept_rate":89,"display_name":"Aleksandr Kravets"},"score":0,"creation_date":1590418489,"post_id":60176264,"comment_id":109665118,"body_markdown":"I never had Kotlin configured in my project and never downloaded SDK. Still I see IDEA connecting to daemon on every build.","body":"I never had Kotlin configured in my project and never downloaded SDK. Still I see IDEA connecting to daemon on every build."}],"tags":[],"owner":{"account_id":2994486,"reputation":9111,"user_id":2541276,"accept_rate":55,"display_name":"user51"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1581450162,"creation_date":1581450162,"answer_id":60176264,"question_id":60176088,"body_markdown":"Intellij provides 2 different settings. Project wise setting and global settings.\r\n\r\nYou can see the project specific settings by &quot;right click the project&quot; and select &quot;Open Module Settings&quot; as Below - \r\n\r\n[![Module Settings][1]][1]\r\n\r\nThis will open `Project Settings` window. You can select kotlin and remove there in the below screen.\r\n\r\n[![Project Settings][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0uYa9.png\r\n  [2]: https://i.stack.imgur.com/eZxco.png","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>Intellij provides 2 different settings. Project wise setting and global settings.</p>\n\n<p>You can see the project specific settings by \"right click the project\" and select \"Open Module Settings\" as Below - </p>\n\n<p><a href=\"https://i.stack.imgur.com/0uYa9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0uYa9.png\" alt=\"Module Settings\"></a></p>\n\n<p>This will open <code>Project Settings</code> window. You can select kotlin and remove there in the below screen.</p>\n\n<p><a href=\"https://i.stack.imgur.com/eZxco.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZxco.png\" alt=\"Project Settings\"></a></p>\n"},{"comments":[{"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"score":0,"creation_date":1581455843,"post_id":60177380,"comment_id":106437932,"body_markdown":"Thank you but I don&#39;t have that plugin in my maven pom.xml","body":"Thank you but I don&#39;t have that plugin in my maven pom.xml"},{"owner":{"account_id":11085589,"reputation":632,"user_id":8139410,"display_name":"Pemassi"},"score":1,"creation_date":1581456156,"post_id":60177380,"comment_id":106438064,"body_markdown":"Would you like to update your `pom.xml` to your question?","body":"Would you like to update your <code>pom.xml</code> to your question?"}],"tags":[],"owner":{"account_id":11085589,"reputation":632,"user_id":8139410,"display_name":"Pemassi"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581455223,"creation_date":1581455223,"answer_id":60177380,"question_id":60176088,"body_markdown":"If you are using `Maven` for build manager, you might be using `Koltin` plugin to build the project.\r\n\r\nThe plugin name is `org.jetbrains.kotlin:kotlin-maven-plugin`.\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;compilerPlugins&gt;\r\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n          &lt;/compilerPlugins&gt;\r\n          &lt;args&gt;\r\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n          &lt;/args&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\n\r\nYou just need to delete it!","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>If you are using <code>Maven</code> for build manager, you might be using <code>Koltin</code> plugin to build the project.</p>\n\n<p>The plugin name is <code>org.jetbrains.kotlin:kotlin-maven-plugin</code>.</p>\n\n<pre><code>&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;compilerPlugins&gt;\n            &lt;plugin&gt;jpa&lt;/plugin&gt;\n          &lt;/compilerPlugins&gt;\n          &lt;args&gt;\n            &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n          &lt;/args&gt;\n        &lt;/configuration&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n\n<p>You just need to delete it!</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604842399,"creation_date":1604842399,"answer_id":64738654,"question_id":60176088,"body_markdown":"I tried to disable the plugin of Kotlin, and restart IDEA, and it is solved, even I continue using Gradle. Community 2019.3.\r\n","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>I tried to disable the plugin of Kotlin, and restart IDEA, and it is solved, even I continue using Gradle. Community 2019.3.</p>\n"}],"owner":{"account_id":5441246,"reputation":386,"user_id":4329276,"display_name":"Hans Wurst"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13382,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1693407625,"creation_date":1581449388,"question_id":60176088,"body_markdown":"I have a Java only multi module Maven project in IntelliJ IDEA and I can see IDEA calling a Kotlin compiler whenever I rebuild a module or choose to run all tests. This is shown in the background processes bar. It sometimes shows `Kotlin: connecting to daemon` as well which seems to take quite some time.\r\nIs there a way to tell IDEA to ignore Kotlin completely for a certain project? I guess the build times could speed up a little bit that way. I know I can disable the Kotlin plugin but that&#39;s not what I want as it would be disabled for all projects.","title":"How to disable Kotlin compiler in IntelliJ IDEA for Maven Java projects?","body":"<p>I have a Java only multi module Maven project in IntelliJ IDEA and I can see IDEA calling a Kotlin compiler whenever I rebuild a module or choose to run all tests. This is shown in the background processes bar. It sometimes shows <code>Kotlin: connecting to daemon</code> as well which seems to take quite some time.\nIs there a way to tell IDEA to ignore Kotlin completely for a certain project? I guess the build times could speed up a little bit that way. I know I can disable the Kotlin plugin but that's not what I want as it would be disabled for all projects.</p>\n"},{"tags":["java","refactoring","checkstyle","code-cleanup","maven-checkstyle-plugin"],"answers":[{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693407307,"creation_date":1693407307,"answer_id":77009171,"question_id":76916433,"body_markdown":"There is no such check at this time (8/2023). A request was made at https://github.com/checkstyle/checkstyle/issues/12596 which is still looking for approval and implementation.","title":"Checkstyle for unused member variables?","body":"<p>There is no such check at this time (8/2023). A request was made at <a href=\"https://github.com/checkstyle/checkstyle/issues/12596\" rel=\"nofollow noreferrer\">https://github.com/checkstyle/checkstyle/issues/12596</a> which is still looking for approval and implementation.</p>\n"}],"owner":{"account_id":15335231,"reputation":3,"user_id":11063796,"display_name":"Nidhi Kri 4-Yr BTech Metallurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77009171,"answer_count":1,"score":0,"last_activity_date":1693407307,"creation_date":1692213045,"question_id":76916433,"body_markdown":"Need the checkstyle configuration for unused member variables.\r\n\r\nThere exists a checkstyle like below, but&#39;s just for local variables.\r\n\r\n```&lt;module name=&quot;UnusedParameterCheck&quot;/&gt;```\r\n\r\n( Needed a similar check for member variables ) e.g.\r\n```\r\nclass MyService {\r\n    private String foo;\r\n    private String unusedBar; // violation, should fail    \r\n    public String getFoo() {         \r\n        return foo;     \r\n    } \r\n}\r\n```\r\nI am using the latest version of checkstyle\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.3.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;id&gt;checkstyle&lt;/id&gt;\r\n\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\r\n\t\t\t\t&lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\r\n\t\t\t\t&lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\r\n\t\t\t\t&lt;sourceDirectories&gt;\r\n\t\t\t\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t\t\t&lt;/sourceDirectories&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nWas not able to get a proper solution online!\r\n\r\nPlease help!\r\n\r\nTried searching online but did not find the solution!","title":"Checkstyle for unused member variables?","body":"<p>Need the checkstyle configuration for unused member variables.</p>\n<p>There exists a checkstyle like below, but's just for local variables.</p>\n<p><code>&lt;module name=&quot;UnusedParameterCheck&quot;/&gt;</code></p>\n<p>( Needed a similar check for member variables ) e.g.</p>\n<pre><code>class MyService {\n    private String foo;\n    private String unusedBar; // violation, should fail    \n    public String getFoo() {         \n        return foo;     \n    } \n}\n</code></pre>\n<p>I am using the latest version of checkstyle</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;checkstyle&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;failOnViolation&gt;true&lt;/failOnViolation&gt;\n                &lt;configLocation&gt;checkstyle.xml&lt;/configLocation&gt;\n                &lt;consoleOutput&gt;true&lt;/consoleOutput&gt;\n                &lt;sourceDirectories&gt;\n                    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n                &lt;/sourceDirectories&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Was not able to get a proper solution online!</p>\n<p>Please help!</p>\n<p>Tried searching online but did not find the solution!</p>\n"},{"tags":["java","docker","google-chrome","selenium-webdriver","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"score":0,"creation_date":1694565586,"post_id":77009142,"comment_id":135907117,"body_markdown":"Yes, that was one of the things I was missing. I had to install the dependencies via:\n```\nRUN yum install -y libX11 libXcomposite libXcursor libXdamage libXext libXi libXtst cups-libs libXScrnSaver libXrandr alsa-lib pango atk at-spi2-atk gtk3\n```","body":"Yes, that was one of the things I was missing. I had to install the dependencies via: ``` RUN yum install -y libX11 libXcomposite libXcursor libXdamage libXext libXi libXtst cups-libs libXScrnSaver libXrandr alsa-lib pango atk at-spi2-atk gtk3 ```"}],"tags":[],"owner":{"account_id":13264832,"reputation":21,"user_id":13088443,"display_name":"Jan Kliszcz"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693407118,"creation_date":1693407118,"answer_id":77009142,"question_id":76952961,"body_markdown":"Error messages suggest that there may have been some problems when launching the browser itself.\r\n\r\nAccording to [Puppeteer troubleshooting for Chromium][1] you need to make sure that you&#39;ve installed all the dependencies for Chromium engine.\r\n\r\nThis was the case for my image for running ASP.NET apps. **After adding a step in Dockerfile for installing all necessary dependencies from the list**, I could launch Chrome for Testing using Selenium with no issues\r\n\r\n  [1]: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#chrome-doesnt-launch-on-linux","title":"Chrome for Testing Unable to Start in Docker Container","body":"<p>Error messages suggest that there may have been some problems when launching the browser itself.</p>\n<p>According to <a href=\"https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md#chrome-doesnt-launch-on-linux\" rel=\"nofollow noreferrer\">Puppeteer troubleshooting for Chromium</a> you need to make sure that you've installed all the dependencies for Chromium engine.</p>\n<p>This was the case for my image for running ASP.NET apps. <strong>After adding a step in Dockerfile for installing all necessary dependencies from the list</strong>, I could launch Chrome for Testing using Selenium with no issues</p>\n"}],"owner":{"account_id":9452167,"reputation":1629,"user_id":7028588,"accept_rate":0,"display_name":"HeronAlgoSearch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693407118,"creation_date":1692704606,"question_id":76952961,"body_markdown":"I have the following Docker file that I am trying to get working with Chrome and ChromeDriver.\r\n\r\n```\r\nRUN microdnf install -y unzip\r\nARG CHROME_VERSION=116.0.5845.96\r\nRUN curl -s -o  /tmp/chrome-linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_VERSION/linux64/chrome-linux64.zip \\\r\n    &amp;&amp; unzip /tmp/chrome-linux64.zip -d /opt \\\r\n    &amp;&amp; ln -s /opt/chrome-linux64/chrome /usr/local/bin/chrome \\\r\n    &amp;&amp; rm /tmp/chrome-linux64.zip\r\n\r\n## ChromeDriver\r\n\r\nARG CHROME_DRIVER_VERSION=116.0.5845.96\r\nRUN curl -s -o /tmp/chromedriver_linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_DRIVER_VERSION/linux64/chromedriver-linux64.zip \\\r\n\t&amp;&amp; unzip /tmp/chromedriver_linux64.zip -d /opt/selenium \\\r\n\t&amp;&amp; rm /tmp/chromedriver_linux64.zip \\\r\n\t&amp;&amp; mv /opt/selenium/chromedriver-linux64/chromedriver /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION  \\\r\n\t&amp;&amp; chmod 755 /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION \\\r\n\t&amp;&amp; ln -s /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION /usr/bin/chromedriver\r\n\r\nENV CHROMEDRIVER_PORT 4444\r\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\r\nENV CHROMEDRIVER_URL_BASE &#39;&#39;\r\nEXPOSE 4444\r\n\r\nEXPOSE 8080\r\nEXPOSE 5005\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\n# For Testing\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nMy java code is:\r\n```\r\nChromeDriverService service = new ChromeDriverService.Builder()\r\n                .withVerbose(false)\r\n                .withSilent(true)\r\n                .build();\r\n        try {\r\n            java.util.logging.Logger.getLogger(&quot;org.openqa.selenium&quot;).setLevel(Level.WARNING);\r\n//            service.sendOutputTo(new FileOutputStream(&quot;/dev/null&quot;));\r\n            service.sendOutputTo(OutputStream.nullOutputStream());\r\n        } catch (Exception e) {\r\n            LOGGER.error(&quot;Unable to suppress output&quot;);\r\n        }\r\n        return new ChromeDriver(service, getChromeOptions(useFastStrategy));\r\n\r\nprivate ChromeOptions getChromeOptions(boolean useFastStrategy) {\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n\r\n\r\n        chromeOptions.addArguments(String.format(&quot;user-agent=%s&quot;, USER_AGENT));\r\n        chromeOptions.addArguments(&quot;--log-level=OFF&quot;);\r\n        chromeOptions.addArguments(&quot;--headless=new&quot;);\r\n        List&lt;String&gt; arguments = new LinkedList&lt;&gt;();\r\n        arguments.add(&quot;--disable-extensions&quot;);\r\n        // disable-infobars no longer works, see the following link for a potential answer:\r\n        // https://stackoverflow.com/questions/57298901/unable-to-hide-chrome-is-being-controlled-by-automated-software-infobar-within\r\n        // also see\r\n        // https://qaautomation.expert/2022/04/01/how-to-disable-infobar-warning-for-chrome-tests-in-selenium/ . Perhaps\r\n        // comment out &#39;arguments.add(&quot;disable-infobars&quot;);&#39; in the future or try\r\n        // chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Arrays.asList(&quot;enable-automation&quot;)); // &lt;- maybe try this\r\n        // instead of &#39;arguments.add(&quot;disable-infobars&quot;);&#39;\r\n        arguments.add(&quot;disable-infobars&quot;); // try enabling this to try and save some cpu\r\n        arguments.add(&quot;--headless&quot;);\r\n        arguments.add(&quot;--disable-gpu&quot;);\r\n        arguments.add(&quot;--no-sandbox&quot;);\r\n        arguments.add(&quot;--incognito&quot;);\r\n        arguments.add(&quot;--disable-application-cache&quot;);\r\n        arguments.add(&quot;--disable-dev-shm-usage&quot;);\r\n\r\n        chromeOptions.addArguments(arguments);\r\n        return chromeOptions;\r\n    }\r\n\r\n```\r\n\r\nBut I am getting an error:\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;22e9e505804a&#39;, ip: &#39;172.17.0.2&#39;\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\r\n...\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n...\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;22e9e505804a&#39;, ip: &#39;172.17.0.2&#39;\r\n...\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.11.0&#39;, revision: &#39;040bc5406b&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.15.49-linuxkit&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\r\n\t... 112 common frames omitted\r\n\r\n```\r\n\r\nDoes anyone know how to get this working for a &#39;Chrome for Testing&#39; with a docker container? Do I have to set some flags, or is my approach incorrect?","title":"Chrome for Testing Unable to Start in Docker Container","body":"<p>I have the following Docker file that I am trying to get working with Chrome and ChromeDriver.</p>\n<pre><code>RUN microdnf install -y unzip\nARG CHROME_VERSION=116.0.5845.96\nRUN curl -s -o  /tmp/chrome-linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_VERSION/linux64/chrome-linux64.zip \\\n    &amp;&amp; unzip /tmp/chrome-linux64.zip -d /opt \\\n    &amp;&amp; ln -s /opt/chrome-linux64/chrome /usr/local/bin/chrome \\\n    &amp;&amp; rm /tmp/chrome-linux64.zip\n\n## ChromeDriver\n\nARG CHROME_DRIVER_VERSION=116.0.5845.96\nRUN curl -s -o /tmp/chromedriver_linux64.zip https://edgedl.me.gvt1.com/edgedl/chrome/chrome-for-testing/$CHROME_DRIVER_VERSION/linux64/chromedriver-linux64.zip \\\n    &amp;&amp; unzip /tmp/chromedriver_linux64.zip -d /opt/selenium \\\n    &amp;&amp; rm /tmp/chromedriver_linux64.zip \\\n    &amp;&amp; mv /opt/selenium/chromedriver-linux64/chromedriver /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION  \\\n    &amp;&amp; chmod 755 /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION \\\n    &amp;&amp; ln -s /opt/selenium/chromedriver-$CHROME_DRIVER_VERSION /usr/bin/chromedriver\n\nENV CHROMEDRIVER_PORT 4444\nENV CHROMEDRIVER_WHITELISTED_IPS &quot;127.0.0.1&quot;\nENV CHROMEDRIVER_URL_BASE ''\nEXPOSE 4444\n\nEXPOSE 8080\nEXPOSE 5005\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\n# For Testing\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;, &quot;-Xmx600m&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>My java code is:</p>\n<pre><code>ChromeDriverService service = new ChromeDriverService.Builder()\n                .withVerbose(false)\n                .withSilent(true)\n                .build();\n        try {\n            java.util.logging.Logger.getLogger(&quot;org.openqa.selenium&quot;).setLevel(Level.WARNING);\n//            service.sendOutputTo(new FileOutputStream(&quot;/dev/null&quot;));\n            service.sendOutputTo(OutputStream.nullOutputStream());\n        } catch (Exception e) {\n            LOGGER.error(&quot;Unable to suppress output&quot;);\n        }\n        return new ChromeDriver(service, getChromeOptions(useFastStrategy));\n\nprivate ChromeOptions getChromeOptions(boolean useFastStrategy) {\n        ChromeOptions chromeOptions = new ChromeOptions();\n\n\n        chromeOptions.addArguments(String.format(&quot;user-agent=%s&quot;, USER_AGENT));\n        chromeOptions.addArguments(&quot;--log-level=OFF&quot;);\n        chromeOptions.addArguments(&quot;--headless=new&quot;);\n        List&lt;String&gt; arguments = new LinkedList&lt;&gt;();\n        arguments.add(&quot;--disable-extensions&quot;);\n        // disable-infobars no longer works, see the following link for a potential answer:\n        // https://stackoverflow.com/questions/57298901/unable-to-hide-chrome-is-being-controlled-by-automated-software-infobar-within\n        // also see\n        // https://qaautomation.expert/2022/04/01/how-to-disable-infobar-warning-for-chrome-tests-in-selenium/ . Perhaps\n        // comment out 'arguments.add(&quot;disable-infobars&quot;);' in the future or try\n        // chromeOptions.setExperimentalOption(&quot;excludeSwitches&quot;, Arrays.asList(&quot;enable-automation&quot;)); // &lt;- maybe try this\n        // instead of 'arguments.add(&quot;disable-infobars&quot;);'\n        arguments.add(&quot;disable-infobars&quot;); // try enabling this to try and save some cpu\n        arguments.add(&quot;--headless&quot;);\n        arguments.add(&quot;--disable-gpu&quot;);\n        arguments.add(&quot;--no-sandbox&quot;);\n        arguments.add(&quot;--incognito&quot;);\n        arguments.add(&quot;--disable-application-cache&quot;);\n        arguments.add(&quot;--disable-dev-shm-usage&quot;);\n\n        chromeOptions.addArguments(arguments);\n        return chromeOptions;\n    }\n\n</code></pre>\n<p>But I am getting an error:</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '22e9e505804a', ip: '172.17.0.2'\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:536)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:232)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:159)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:88)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:83)\n...\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '17.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n...\nCaused by: org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: '22e9e505804a', ip: '172.17.0.2'\n...\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.11.0', revision: '040bc5406b'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.15.49-linuxkit', java.version: '17.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:237)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:119)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:518)\n    ... 112 common frames omitted\n\n</code></pre>\n<p>Does anyone know how to get this working for a 'Chrome for Testing' with a docker container? Do I have to set some flags, or is my approach incorrect?</p>\n"},{"tags":["java","ssh","sftp","jsch"],"answers":[{"comments":[{"owner":{"account_id":937730,"reputation":1823,"user_id":966347,"accept_rate":96,"display_name":"NovusMobile"},"score":2,"creation_date":1339134823,"post_id":7978443,"comment_id":14281020,"body_markdown":"thanx fo the answer..\nIf I am downloading file of 100MB at that time my bytes value is : 32755 like,,.so would you explain me why I am getting this value..","body":"thanx fo the answer.. If I am downloading file of 100MB at that time my bytes value is : 32755 like,,.so would you explain me why I am getting this value.."},{"owner":{"account_id":210729,"reputation":1155,"user_id":462512,"display_name":"ymnk"},"score":0,"creation_date":1394331144,"post_id":7978443,"comment_id":33841970,"body_markdown":"You can get the size of the total transferred data by cumulating that given value.","body":"You can get the size of the total transferred data by cumulating that given value."}],"tags":[],"owner":{"account_id":453984,"reputation":142640,"user_id":851273,"display_name":"Jon Lin"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1693406810,"creation_date":1320227760,"answer_id":7978443,"question_id":7977844,"body_markdown":"There are overloads of the `get`/`put` methods in the [`com.jcraft.jsch.ChannelSftp`][1] that you use to pass in a callback. Look at the \r\n\r\n    void get(java.lang.String src, java.lang.String dst, SftpProgressMonitor monitor) \r\n\r\n method and [`com.jcraft.jsch.SftpProgressMonitor`][2] interface. At the bottom of this [Example Code][3] (it&#39;s kind of messy), you&#39;ll find an implementation of `SftpProgressMonitor` that uses its callback methods `count(long)` and `end()` to manipulate a [`javax.swing.ProgressMonitor`][4].\r\n\r\n`count(long)` gets called periodically when there&#39;s some bytes that have been transferred, and `end()` gets called when the transfer has ended. So a really simple implementation of `SftpProgressMonitor` could be:\r\n\r\n    public class SystemOutProgressMonitor implements SftpProgressMonitor\r\n    {\r\n        public SystemOutProgressMonitor() {;}\r\n\r\n        public void init(int op, java.lang.String src, java.lang.String dest, long max) \r\n        {\r\n            System.out.println(&quot;STARTING: &quot; + op + &quot; &quot; + src + &quot; -&gt; &quot; + dest + &quot; total: &quot; + max);\r\n        }\r\n\r\n        public boolean count(long bytes)\r\n        {\r\n            for(int x=0; x &lt; bytes; x++) {\r\n                System.out.print(&quot;#&quot;);\r\n            }\r\n            return(true);\r\n        }\r\n\r\n        public void end()\r\n        {\r\n            System.out.println(&quot;\\nFINISHED!&quot;);\r\n        }\r\n    }\r\n\r\nI&#39;d then create an instance of that and pass it to `get()`\r\n\r\n    sftpChannel.get(sourcePath, destPath, new SystemOutProgressMonitor());\r\n\r\n\r\n  [1]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\r\n  [2]: https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpProgressMonitor.html\r\n  [3]: http://www.jcraft.com/jsch/examples/Sftp.java\r\n  [4]: http://download.oracle.com/javase/6/docs/api/javax/swing/ProgressMonitor.html","title":"JSch SFTP upload/download progress","body":"<p>There are overloads of the <code>get</code>/<code>put</code> methods in the <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/ChannelSftp.html\" rel=\"nofollow noreferrer\"><code>com.jcraft.jsch.ChannelSftp</code></a> that you use to pass in a callback. Look at the</p>\n<pre><code>void get(java.lang.String src, java.lang.String dst, SftpProgressMonitor monitor) \n</code></pre>\n<p>method and <a href=\"https://epaul.github.io/jsch-documentation/javadoc/com/jcraft/jsch/SftpProgressMonitor.html\" rel=\"nofollow noreferrer\"><code>com.jcraft.jsch.SftpProgressMonitor</code></a> interface. At the bottom of this <a href=\"http://www.jcraft.com/jsch/examples/Sftp.java\" rel=\"nofollow noreferrer\">Example Code</a> (it's kind of messy), you'll find an implementation of <code>SftpProgressMonitor</code> that uses its callback methods <code>count(long)</code> and <code>end()</code> to manipulate a <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/ProgressMonitor.html\" rel=\"nofollow noreferrer\"><code>javax.swing.ProgressMonitor</code></a>.</p>\n<p><code>count(long)</code> gets called periodically when there's some bytes that have been transferred, and <code>end()</code> gets called when the transfer has ended. So a really simple implementation of <code>SftpProgressMonitor</code> could be:</p>\n<pre><code>public class SystemOutProgressMonitor implements SftpProgressMonitor\n{\n    public SystemOutProgressMonitor() {;}\n\n    public void init(int op, java.lang.String src, java.lang.String dest, long max) \n    {\n        System.out.println(&quot;STARTING: &quot; + op + &quot; &quot; + src + &quot; -&gt; &quot; + dest + &quot; total: &quot; + max);\n    }\n\n    public boolean count(long bytes)\n    {\n        for(int x=0; x &lt; bytes; x++) {\n            System.out.print(&quot;#&quot;);\n        }\n        return(true);\n    }\n\n    public void end()\n    {\n        System.out.println(&quot;\\nFINISHED!&quot;);\n    }\n}\n</code></pre>\n<p>I'd then create an instance of that and pass it to <code>get()</code></p>\n<pre><code>sftpChannel.get(sourcePath, destPath, new SystemOutProgressMonitor());\n</code></pre>\n"}],"owner":{"account_id":371837,"reputation":2017,"user_id":720587,"accept_rate":62,"display_name":"World"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21670,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":7978443,"answer_count":1,"score":15,"last_activity_date":1693406810,"creation_date":1320224780,"question_id":7977844,"body_markdown":"I am new to JSch and Java. I managed to get some code and understand it somehow, but I am stuck on one point. The following code downloads file from SSH/SFTP server, but I am in need of the progress meter that shows percentage of file copied. How can I do it?\r\n\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.SftpProgressMonitor; \r\n    public class SFTPExample {\r\n        public static void main(String args[]) throws Exception {\r\n            String user = &quot;root&quot;;\r\n            String password = &quot;password&quot;;\r\n            String host = &quot;192.168.0.5&quot;;\r\n            int port = 22;\r\n            String knownHostsFilename = &quot;/home/world/.ssh/known_hosts&quot;;        \r\n            String sourcePath = &quot;/media/nfs/genotype.txt&quot;;\r\n            String destPath = &quot;genotype.txt&quot;;        \r\n            JSch jsch = new JSch();\r\n            jsch.setKnownHosts(knownHostsFilename);\r\n            Session session = jsch.getSession(user, host, port);\r\n            session.setPassword(password);\r\n            session.connect(); \r\n            ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\r\n            sftpChannel.connect();\r\n                \r\n            System.out.println(&quot;Downloading test file&quot;);\r\n            sftpChannel.get(sourcePath, destPath);            \r\n            \r\n            sftpChannel.exit();\r\n            session.disconnect();\r\n        }\r\n    }","title":"JSch SFTP upload/download progress","body":"<p>I am new to JSch and Java. I managed to get some code and understand it somehow, but I am stuck on one point. The following code downloads file from SSH/SFTP server, but I am in need of the progress meter that shows percentage of file copied. How can I do it?</p>\n<pre><code>import com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpProgressMonitor; \npublic class SFTPExample {\n    public static void main(String args[]) throws Exception {\n        String user = &quot;root&quot;;\n        String password = &quot;password&quot;;\n        String host = &quot;192.168.0.5&quot;;\n        int port = 22;\n        String knownHostsFilename = &quot;/home/world/.ssh/known_hosts&quot;;        \n        String sourcePath = &quot;/media/nfs/genotype.txt&quot;;\n        String destPath = &quot;genotype.txt&quot;;        \n        JSch jsch = new JSch();\n        jsch.setKnownHosts(knownHostsFilename);\n        Session session = jsch.getSession(user, host, port);\n        session.setPassword(password);\n        session.connect(); \n        ChannelSftp sftpChannel = (ChannelSftp) session.openChannel(&quot;sftp&quot;);\n        sftpChannel.connect();\n            \n        System.out.println(&quot;Downloading test file&quot;);\n        sftpChannel.get(sourcePath, destPath);            \n        \n        sftpChannel.exit();\n        session.disconnect();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-webflux","reactive-programming","project-reactor","stepverifier"],"owner":{"account_id":18026911,"reputation":531,"user_id":13102609,"display_name":"orderlyfashion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693406520,"creation_date":1693316978,"question_id":77000816,"body_markdown":"I&#39;ve implemented a queuer in Spring WebFlux as I asked about here: https://stackoverflow.com/questions/76869993/queuing-up-requests-in-spring-webflux\r\n\r\nTL;DR is that it queues up incoming requests to an external API, and then batches them after waiting for X requests or Y seconds.\r\nAfter the implementation was working I started adding unit tests. So what I would like to test is that if my API receives one request it will queue it up for up to Y seconds, and if it then receives X - 1 more requests, it will then dispatch the requests.\r\n\r\nIf I curl my API using the same approach it works as expected and I&#39;m seeing the following in the logs:\r\n\r\n```\r\ncurl &quot;localhost:8080/batch?orderIds=1&quot;\r\ncurl &quot;localhost:8080/batch?orderIds=2,3,4,5&quot;\r\n```\r\n\r\n```\r\n123456789101112132023-08-13T12:56:42.875+02:00 com.testreactor.BatcherService : Received request for orders with ids: [1]\r\n2023-08-13T12:56:42.886 com.testreactor.BatcherService : Queuing up request for order id 1\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Received request for orders with ids: [2, 3, 4, 5]\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 2\r\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 3\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 4\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 5\r\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Dispatching queue\r\n2023-08-13T12:56:44.897 com.testreactor.BatcherService : Order with id 1 received\r\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 2 received\r\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 3 received\r\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 4 received\r\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 5 received\r\n```\r\n\r\nThe unit test I&#39;ve implemented looks like this:\r\n\r\n```java\r\n@Test\r\npublic void testOnePlusFour() {\r\n    var order1 = new Order(1L, UUID.randomUUID());\r\n    var order2 = new Order(2L, UUID.randomUUID());\r\n    var order3 = new Order(3L, UUID.randomUUID());\r\n    var order4 = new Order(4L, UUID.randomUUID());\r\n    var order5 = new Order(5L, UUID.randomUUID());\r\n    var oneFirstOrder = List.of(order1);\r\n    var fourAdditionalOrders = List.of(order2, order3, order4, order5);\r\n    var allOrders = Stream.concat(oneFirstOrder.stream(), fourAdditionalOrders.stream()).toList();\r\n \r\n    when(orderApi.getOrders(eq(allOrders.stream().map(Order::id).toList())))\r\n            .thenReturn(Flux.fromStream(allOrders.stream()));\r\n \r\n    var batcherService = new AtomicReference&lt;BatcherService&gt;();\r\n \r\n    StepVerifier.withVirtualTime(() -&gt; {\r\n                var bs = new BatcherService(orderApi);\r\n                batcherService.set(bs);\r\n                return bs.getOrders(oneFirstOrder.stream().map(Order::id).toList());\r\n            })\r\n            .expectSubscription()\r\n            .expectNoEvent(Duration.ofSeconds(4))\r\n            .then(() -&gt; batcherService.get().getOrders(fourAdditionalOrders.stream().map(Order::id).toList()))\r\n            .expectNext(allOrders)\r\n            .expectComplete()\r\n            .verify();\r\n}\r\n```\r\n\r\nWhat happens is that it&#39;s just queued and never dispatched (no more logs after this, the test is still running):\r\n\r\n```\r\n13:04:16.443 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [1]\r\n13:04:16.473 [main] INFO com.testreactor.BatcherService -- Queuing up request for order id 1\r\n13:04:16.481 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [2, 3, 4, 5]\r\n```\r\n\r\nHow can I implement the unit test utilizing StepVerifier to verify that the first order is indeed queued for up to five seconds before the queue is filled?\r\n\r\nLastly, for reference, is the implementation of BatcherService and associated data classes:\r\n\r\n```java\r\npublic record Order(Long id, UUID storeId) {\r\n}\r\n \r\npublic record QueueItem&lt;T, R&gt;(T id, Sinks.One&lt;R&gt; sink) {\r\n}\r\n \r\n@Service\r\npublic class BatcherService {\r\n \r\n    private static final Logger LOG = LoggerFactory.getLogger(BatcherService.class);\r\n    private final Sinks.Many&lt;QueueItem&lt;Long, Order&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer();\r\n    private final ConcurrentMap&lt;Long, Mono&lt;Order&gt;&gt; queuedItems = new ConcurrentHashMap&lt;&gt;();\r\n \r\n    public BatcherService(OrderApi orderApi) {\r\n        queue.asFlux()\r\n                .bufferTimeout(5, Duration.ofSeconds(5))\r\n                .flatMap(queueItems -&gt; {\r\n                    LOG.info(&quot;Dispatching queue&quot;);\r\n                    var orderIds = queueItems.stream().map(QueueItem::id).toList();\r\n \r\n                    return orderApi.getOrders(orderIds)\r\n                            .doOnNext(order -&gt; {\r\n                                LOG.info(&quot;Order with id {} received&quot;, order.id());\r\n                                queueItems.stream()\r\n                                        .filter(queueItem -&gt; queueItem.id().equals(order.id()))\r\n                                        .findFirst()\r\n                                        .ifPresent(queueItem -&gt; queueItem.sink().tryEmitValue(order));\r\n                            })\r\n                            .then();\r\n                })\r\n                .subscribe();\r\n    }\r\n \r\n    public Mono&lt;List&lt;Order&gt;&gt; getOrders(List&lt;Long&gt; orderIds)  {\r\n        LOG.info(&quot;Received request for orders with ids: {}&quot;, orderIds);\r\n        return Flux.fromIterable(orderIds)\r\n                .flatMapSequential(this::getOrder)\r\n                .collectList();\r\n    }\r\n \r\n    private Mono&lt;Order&gt; getOrder(Long orderId) {\r\n        var existingQueuedRequest = queuedItems.get(orderId);\r\n \r\n        if (existingQueuedRequest == null) {\r\n            LOG.info(&quot;Queuing up request for order id {}&quot;, orderId);\r\n            existingQueuedRequest = enqueueRequest(orderId);\r\n            queuedItems.put(orderId, existingQueuedRequest);\r\n        }\r\n        else {\r\n            LOG.info(&quot;Order {} already found in the queue&quot;, orderId);\r\n        }\r\n \r\n        return existingQueuedRequest;\r\n    }\r\n \r\n    private Mono&lt;Order&gt; enqueueRequest(Long orderId) {\r\n        Sinks.One&lt;Order&gt; sink = Sinks.one();\r\n        queue.tryEmitNext(new QueueItem&lt;&gt;(orderId, sink));\r\n        return sink.asMono();\r\n    }\r\n}\r\n```","title":"Reactor StepVerifier with expectNoEvent / then","body":"<p>I've implemented a queuer in Spring WebFlux as I asked about here: <a href=\"https://stackoverflow.com/questions/76869993/queuing-up-requests-in-spring-webflux\">Queuing up requests in Spring WebFlux</a></p>\n<p>TL;DR is that it queues up incoming requests to an external API, and then batches them after waiting for X requests or Y seconds.\nAfter the implementation was working I started adding unit tests. So what I would like to test is that if my API receives one request it will queue it up for up to Y seconds, and if it then receives X - 1 more requests, it will then dispatch the requests.</p>\n<p>If I curl my API using the same approach it works as expected and I'm seeing the following in the logs:</p>\n<pre><code>curl &quot;localhost:8080/batch?orderIds=1&quot;\ncurl &quot;localhost:8080/batch?orderIds=2,3,4,5&quot;\n</code></pre>\n<pre><code>123456789101112132023-08-13T12:56:42.875+02:00 com.testreactor.BatcherService : Received request for orders with ids: [1]\n2023-08-13T12:56:42.886 com.testreactor.BatcherService : Queuing up request for order id 1\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Received request for orders with ids: [2, 3, 4, 5]\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 2\n2023-08-13T12:56:44.894 com.testreactor.BatcherService : Queuing up request for order id 3\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 4\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Queuing up request for order id 5\n2023-08-13T12:56:44.895 com.testreactor.BatcherService : Dispatching queue\n2023-08-13T12:56:44.897 com.testreactor.BatcherService : Order with id 1 received\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 2 received\n2023-08-13T12:56:44.934 com.testreactor.BatcherService : Order with id 3 received\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 4 received\n2023-08-13T12:56:44.935 com.testreactor.BatcherService : Order with id 5 received\n</code></pre>\n<p>The unit test I've implemented looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void testOnePlusFour() {\n    var order1 = new Order(1L, UUID.randomUUID());\n    var order2 = new Order(2L, UUID.randomUUID());\n    var order3 = new Order(3L, UUID.randomUUID());\n    var order4 = new Order(4L, UUID.randomUUID());\n    var order5 = new Order(5L, UUID.randomUUID());\n    var oneFirstOrder = List.of(order1);\n    var fourAdditionalOrders = List.of(order2, order3, order4, order5);\n    var allOrders = Stream.concat(oneFirstOrder.stream(), fourAdditionalOrders.stream()).toList();\n \n    when(orderApi.getOrders(eq(allOrders.stream().map(Order::id).toList())))\n            .thenReturn(Flux.fromStream(allOrders.stream()));\n \n    var batcherService = new AtomicReference&lt;BatcherService&gt;();\n \n    StepVerifier.withVirtualTime(() -&gt; {\n                var bs = new BatcherService(orderApi);\n                batcherService.set(bs);\n                return bs.getOrders(oneFirstOrder.stream().map(Order::id).toList());\n            })\n            .expectSubscription()\n            .expectNoEvent(Duration.ofSeconds(4))\n            .then(() -&gt; batcherService.get().getOrders(fourAdditionalOrders.stream().map(Order::id).toList()))\n            .expectNext(allOrders)\n            .expectComplete()\n            .verify();\n}\n</code></pre>\n<p>What happens is that it's just queued and never dispatched (no more logs after this, the test is still running):</p>\n<pre><code>13:04:16.443 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [1]\n13:04:16.473 [main] INFO com.testreactor.BatcherService -- Queuing up request for order id 1\n13:04:16.481 [main] INFO com.testreactor.BatcherService -- Received request for orders with ids: [2, 3, 4, 5]\n</code></pre>\n<p>How can I implement the unit test utilizing StepVerifier to verify that the first order is indeed queued for up to five seconds before the queue is filled?</p>\n<p>Lastly, for reference, is the implementation of BatcherService and associated data classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Order(Long id, UUID storeId) {\n}\n \npublic record QueueItem&lt;T, R&gt;(T id, Sinks.One&lt;R&gt; sink) {\n}\n \n@Service\npublic class BatcherService {\n \n    private static final Logger LOG = LoggerFactory.getLogger(BatcherService.class);\n    private final Sinks.Many&lt;QueueItem&lt;Long, Order&gt;&gt; queue = Sinks.many().multicast().onBackpressureBuffer();\n    private final ConcurrentMap&lt;Long, Mono&lt;Order&gt;&gt; queuedItems = new ConcurrentHashMap&lt;&gt;();\n \n    public BatcherService(OrderApi orderApi) {\n        queue.asFlux()\n                .bufferTimeout(5, Duration.ofSeconds(5))\n                .flatMap(queueItems -&gt; {\n                    LOG.info(&quot;Dispatching queue&quot;);\n                    var orderIds = queueItems.stream().map(QueueItem::id).toList();\n \n                    return orderApi.getOrders(orderIds)\n                            .doOnNext(order -&gt; {\n                                LOG.info(&quot;Order with id {} received&quot;, order.id());\n                                queueItems.stream()\n                                        .filter(queueItem -&gt; queueItem.id().equals(order.id()))\n                                        .findFirst()\n                                        .ifPresent(queueItem -&gt; queueItem.sink().tryEmitValue(order));\n                            })\n                            .then();\n                })\n                .subscribe();\n    }\n \n    public Mono&lt;List&lt;Order&gt;&gt; getOrders(List&lt;Long&gt; orderIds)  {\n        LOG.info(&quot;Received request for orders with ids: {}&quot;, orderIds);\n        return Flux.fromIterable(orderIds)\n                .flatMapSequential(this::getOrder)\n                .collectList();\n    }\n \n    private Mono&lt;Order&gt; getOrder(Long orderId) {\n        var existingQueuedRequest = queuedItems.get(orderId);\n \n        if (existingQueuedRequest == null) {\n            LOG.info(&quot;Queuing up request for order id {}&quot;, orderId);\n            existingQueuedRequest = enqueueRequest(orderId);\n            queuedItems.put(orderId, existingQueuedRequest);\n        }\n        else {\n            LOG.info(&quot;Order {} already found in the queue&quot;, orderId);\n        }\n \n        return existingQueuedRequest;\n    }\n \n    private Mono&lt;Order&gt; enqueueRequest(Long orderId) {\n        Sinks.One&lt;Order&gt; sink = Sinks.one();\n        queue.tryEmitNext(new QueueItem&lt;&gt;(orderId, sink));\n        return sink.asMono();\n    }\n}\n</code></pre>\n"},{"tags":["java","database","solr","nosql","document-based"],"owner":{"account_id":8286703,"reputation":1,"user_id":6231516,"display_name":"Alexander Tsukanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693406373,"creation_date":1693406072,"question_id":77009007,"body_markdown":"I&#39;m working with Solr and facing a challenge related to sorting parent documents based on values from associated child documents.\r\n\r\n**Scenario**:\r\n\r\n1. I have two types of documents: `products` (as parent documents) and `reviews` (as child documents). (They are located at different cores)\r\n2. Each `product` has a unique `product_id`.\r\n3. Each `review` references a product via a `product_id` field.\r\n4. I want to retrieve and sort products based on some aggregate value from their reviews (e.g., average review score).\r\n\r\nFrom my understanding, Solr doesn&#39;t support a direct method to sort parent documents by aggregated values of child documents, like a traditional SQL JOIN with GROUP BY and ORDER BY would.\r\n\r\n**Question**:\r\n\r\n1. What is the recommended approach to achieve this sorting in Solr? \r\n2. Are there any workarounds or third-party extensions that could assist in this?\r\n\r\nI&#39;ve considered denormalizing the data and incorporating the average review score directly into the product document at index time, but I wonder if there&#39;s a more dynamic approach that doesn&#39;t require re-indexing products when new reviews are added.\r\n\r\nAny guidance would be greatly appreciated!\r\n\r\nJust FYI I use `{!join from=product_id to=id}*:*` syntax to receive the result set.","title":"How to Sort Parent Documents on Values from Child Documents in SOLR?","body":"<p>I'm working with Solr and facing a challenge related to sorting parent documents based on values from associated child documents.</p>\n<p><strong>Scenario</strong>:</p>\n<ol>\n<li>I have two types of documents: <code>products</code> (as parent documents) and <code>reviews</code> (as child documents). (They are located at different cores)</li>\n<li>Each <code>product</code> has a unique <code>product_id</code>.</li>\n<li>Each <code>review</code> references a product via a <code>product_id</code> field.</li>\n<li>I want to retrieve and sort products based on some aggregate value from their reviews (e.g., average review score).</li>\n</ol>\n<p>From my understanding, Solr doesn't support a direct method to sort parent documents by aggregated values of child documents, like a traditional SQL JOIN with GROUP BY and ORDER BY would.</p>\n<p><strong>Question</strong>:</p>\n<ol>\n<li>What is the recommended approach to achieve this sorting in Solr?</li>\n<li>Are there any workarounds or third-party extensions that could assist in this?</li>\n</ol>\n<p>I've considered denormalizing the data and incorporating the average review score directly into the product document at index time, but I wonder if there's a more dynamic approach that doesn't require re-indexing products when new reviews are added.</p>\n<p>Any guidance would be greatly appreciated!</p>\n<p>Just FYI I use <code>{!join from=product_id to=id}*:*</code> syntax to receive the result set.</p>\n"},{"tags":["java","maven","jenkins","nullpointerexception","automated-tests"],"comments":[{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693406057,"post_id":77008989,"comment_id":135757021,"body_markdown":"Hi!  There doesn&#39;t appear to be enough information to figure out why `TC01_verifyRegistrationFromCheckoutPage` would be throwing a `NullPointerException` on line 197.  At a minimum, we&#39;d need to see the code under test, including that line of code..","body":"Hi!  There doesn&#39;t appear to be enough information to figure out why <code>TC01_verifyRegistrationFromCheckoutPage</code> would be throwing a <code>NullPointerException</code> on line 197.  At a minimum, we&#39;d need to see the code under test, including that line of code.."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693406211,"post_id":77008989,"comment_id":135757069,"body_markdown":"Also: do you get the same `NullPointerException` when you run the Maven project on your local machine?","body":"Also: do you get the same <code>NullPointerException</code> when you run the Maven project on your local machine?"},{"owner":{"account_id":25968156,"reputation":103,"user_id":19683820,"display_name":"Nitin k"},"score":0,"creation_date":1693467429,"post_id":77008989,"comment_id":135765545,"body_markdown":"It does work on local @M.Justin","body":"It does work on local @M.Justin"},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1693494558,"post_id":77008989,"comment_id":135771425,"body_markdown":"OK, thanks.  The fact remains, however, that we can&#39;t really help without seeing the failing portion of the test, including line (`TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)`)","body":"OK, thanks.  The fact remains, however, that we can&#39;t really help without seeing the failing portion of the test, including line (<code>TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistration&zwnj;&#8203;FromCheckoutPage(CoD&zwnj;&#8203;_Regression_Test_Sui&zwnj;&#8203;te.java:197)</code>)"}],"owner":{"account_id":25968156,"reputation":103,"user_id":19683820,"display_name":"Nitin k"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1693408470,"answer_count":0,"score":0,"last_activity_date":1693406122,"creation_date":1693405843,"question_id":77008989,"body_markdown":"I am trying to run maven test cases from Jenkins but its throwing `NullPointerException`.\r\n\r\n```lang-none\r\n[ERROR] Tests run: 6, Failures: 6, Errors: 0, Skipped: 0, Time elapsed: 9.662 s &lt;&lt;&lt; FAILURE! - in TestSuite\r\n[ERROR] TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage  Time elapsed: 0.031 s  &lt;&lt;&lt; FAILURE!\r\njava.lang.NullPointerException\r\n\tat TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\r\n\tat org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\r\n\tat org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\r\n\tat org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:806)\r\n\tat org.testng.TestRunner.run(TestRunner.java:601)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:330)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n\tat org.testng.TestNG.run(TestNG.java:1067)\r\n\tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:308)\r\n\tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:71)\r\n\tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:113)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\r\n```\r\n\r\nI did try to resolve it but no luck.\r\n\r\nThe test are reading from pom.xml which is getting fetched from github repo","title":"NullPointerException while running Maven tests from Jenkins","body":"<p>I am trying to run maven test cases from Jenkins but its throwing <code>NullPointerException</code>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Tests run: 6, Failures: 6, Errors: 0, Skipped: 0, Time elapsed: 9.662 s &lt;&lt;&lt; FAILURE! - in TestSuite\n[ERROR] TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage  Time elapsed: 0.031 s  &lt;&lt;&lt; FAILURE!\njava.lang.NullPointerException\n    at TestSuite.CoD_Regression_Test_Suite.TC01_verifyRegistrationFromCheckoutPage(CoD_Regression_Test_Suite.java:197)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:139)\n    at org.testng.internal.invokers.TestInvoker.invokeMethod(TestInvoker.java:677)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethod(TestInvoker.java:221)\n    at org.testng.internal.invokers.MethodRunner.runInSequence(MethodRunner.java:50)\n    at org.testng.internal.invokers.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:962)\n    at org.testng.internal.invokers.TestInvoker.invokeTestMethods(TestInvoker.java:194)\n    at org.testng.internal.invokers.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:148)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.testng.TestRunner.privateRun(TestRunner.java:806)\n    at org.testng.TestRunner.run(TestRunner.java:601)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:433)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:427)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:387)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:330)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\n    at org.testng.TestNG.runSuites(TestNG.java:1099)\n    at org.testng.TestNG.run(TestNG.java:1067)\n    at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:308)\n    at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:71)\n    at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:113)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)\n</code></pre>\n<p>I did try to resolve it but no luck.</p>\n<p>The test are reading from pom.xml which is getting fetched from github repo</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1520533714,"post_id":26507581,"comment_id":85365579,"body_markdown":"I think the downvotes for this answer are unfair. It is lacking in some context, but it is otherwise entirely correct. This is necessary because the default `FetchType` for `@OneToMany` is Lazy. Changing the `FetchType` to eager causes the child object to be included in the object graph before the session is closed, thus curing the problem (performance hit acknowledged).","body":"I think the downvotes for this answer are unfair. It is lacking in some context, but it is otherwise entirely correct. This is necessary because the default <code>FetchType</code> for <code>@OneToMany</code> is Lazy. Changing the <code>FetchType</code> to eager causes the child object to be included in the object graph before the session is closed, thus curing the problem (performance hit acknowledged)."},{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":8,"creation_date":1524001217,"post_id":26507581,"comment_id":86791827,"body_markdown":"he wants to make lazy loading work so he can load when necessary, he does not want to use eager fetch.","body":"he wants to make lazy loading work so he can load when necessary, he does not want to use eager fetch."}],"tags":[],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":2,"down_vote_count":10,"up_vote_count":8,"is_accepted":false,"score":-2,"last_activity_date":1413981709,"creation_date":1413981298,"answer_id":26507581,"question_id":26507446,"body_markdown":"Change\r\n\r\n    @OneToMany(mappedBy = &quot;creator&quot;)\r\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\r\nto\r\n\r\n    @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;creator&quot;)\r\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\r\nOr use Hibernate.initialize inside your service, which has the same effect.\r\n\r\n","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Change</p>\n\n<pre><code>@OneToMany(mappedBy = \"creator\")\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@OneToMany(fetch = FetchType.EAGER, mappedBy = \"creator\")\nprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>Or use Hibernate.initialize inside your service, which has the same effect.</p>\n"},{"comments":[{"owner":{"account_id":1884636,"reputation":784,"user_id":1704104,"display_name":"Bruno Negr&#227;o Zica"},"score":10,"creation_date":1524001077,"post_id":26507694,"comment_id":86791776,"body_markdown":"But he does not use Hibernate directly, he uses &quot;repository.findAll();&quot;. When that method returns the session is already gone and the lazyinitializationexception is thrown. \n\nI&#39;m having this problem right now and I don&#39;t know how to fix it. I don&#39;t want to use eager, I want to make lazy loading work with the repository methods.","body":"But he does not use Hibernate directly, he uses &quot;repository.findAll();&quot;. When that method returns the session is already gone and the lazyinitializationexception is thrown.   I&#39;m having this problem right now and I don&#39;t know how to fix it. I don&#39;t want to use eager, I want to make lazy loading work with the repository methods."},{"owner":{"account_id":4147765,"reputation":709,"user_id":3401008,"display_name":"dyslexit"},"score":2,"creation_date":1594624599,"post_id":26507694,"comment_id":111178802,"body_markdown":"@BrunoNegr&#227;oZica did you ever figure out how to solve this? I&#39;m going through the same issue right now.","body":"@BrunoNegr&#227;oZica did you ever figure out how to solve this? I&#39;m going through the same issue right now."}],"tags":[],"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1413984286,"creation_date":1413981671,"answer_id":26507694,"question_id":26507446,"body_markdown":"You have 2 options.\r\n\r\n**Option 1 :** As mentioned by BetaRide, use the `EAGER` fetching strategy\r\n\r\n**Option 2 :** After getting the `user` from database using hibernate, add the below line in of code to load the collection elements:\r\n\r\n    Hibernate.initialize(user.getCreatedJobs())\r\n\r\nThis tells hibernate to initialize the collection elements\r\n","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>You have 2 options.</p>\n\n<p><strong>Option 1 :</strong> As mentioned by BetaRide, use the <code>EAGER</code> fetching strategy</p>\n\n<p><strong>Option 2 :</strong> After getting the <code>user</code> from database using hibernate, add the below line in of code to load the collection elements:</p>\n\n<pre><code>Hibernate.initialize(user.getCreatedJobs())\n</code></pre>\n\n<p>This tells hibernate to initialize the collection elements</p>\n"},{"comments":[{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":2,"creation_date":1413983317,"post_id":26507758,"comment_id":41646812,"body_markdown":"So every interaction with the databse has to be done in a transactional context and a transactional context ensures that a session is available? Is it possible to associate a session with the current thread so that the session is always available?","body":"So every interaction with the databse has to be done in a transactional context and a transactional context ensures that a session is available? Is it possible to associate a session with the current thread so that the session is always available?"},{"owner":{"account_id":2357612,"reputation":15503,"user_id":2065083,"accept_rate":67,"display_name":"Chaitanya"},"score":2,"creation_date":1413984408,"post_id":26507758,"comment_id":41647406,"body_markdown":"@feuerball, what do you mean by `to associate a session with the current thread`? Internally hibernate uses the session object to get the database connection and once the transaction is completed then the session is also closed along with the DB connection. So even if you try to hold the session outside the transaction context then it is of no use.","body":"@feuerball, what do you mean by <code>to associate a session with the current thread</code>? Internally hibernate uses the session object to get the database connection and once the transaction is completed then the session is also closed along with the DB connection. So even if you try to hold the session outside the transaction context then it is of no use."},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":3,"creation_date":1413984913,"post_id":26507758,"comment_id":41647736,"body_markdown":"@feuerball You can put `@Transactional` on other levels, instead of service classes, but service layer is the natural place for them. Service methods encapsulate business operations, which should be committed to database as a whole, or rolled back as a whole. Any other &quot;associating session to the current thread&quot;, IMHO, while probably possible, is a misuse of this framework and can lead to breaking boundaries between application layers.","body":"@feuerball You can put <code>@Transactional</code> on other levels, instead of service classes, but service layer is the natural place for them. Service methods encapsulate business operations, which should be committed to database as a whole, or rolled back as a whole. Any other &quot;associating session to the current thread&quot;, IMHO, while probably possible, is a misuse of this framework and can lead to breaking boundaries between application layers."},{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":2,"creation_date":1414045956,"post_id":26507758,"comment_id":41673478,"body_markdown":"Thanks for clarifying this. But imagine I have a webapp where a user can log in write some posts. When the user logged in succesfully, some information about him is associated with the http session. Now assume that there is a page where all his posts are listed. The posts were not needed before so his `posts` collection is empty and accessing it would again result in an exception. Would I instead have to call a service method like `getPostsByUser(User user)`? Wouldn&#39;t lazy loading be completely useless then?","body":"Thanks for clarifying this. But imagine I have a webapp where a user can log in write some posts. When the user logged in succesfully, some information about him is associated with the http session. Now assume that there is a page where all his posts are listed. The posts were not needed before so his <code>posts</code> collection is empty and accessing it would again result in an exception. Would I instead have to call a service method like <code>getPostsByUser(User user)</code>? Wouldn&#39;t lazy loading be completely useless then?"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":2,"creation_date":1414051863,"post_id":26507758,"comment_id":41675673,"body_markdown":"If there is a high probability that you will need user&#39;s posts, then it makes sense to fetch them eagerly when you fetch the user. But then you can have a problem with stale data, posts created in the meantime won&#39;t be visible (even if fetching them lazily would work, you still wouldn&#39;t get the latest posts after the initial getter call). That&#39;s why I think a service call is a better option. I agree that lazy loading isn&#39;t exactly useful in this use case, but there are many others where it is.","body":"If there is a high probability that you will need user&#39;s posts, then it makes sense to fetch them eagerly when you fetch the user. But then you can have a problem with stale data, posts created in the meantime won&#39;t be visible (even if fetching them lazily would work, you still wouldn&#39;t get the latest posts after the initial getter call). That&#39;s why I think a service call is a better option. I agree that lazy loading isn&#39;t exactly useful in this use case, but there are many others where it is."},{"owner":{"account_id":8825988,"reputation":61,"user_id":6594226,"display_name":"Andreea"},"score":0,"creation_date":1635366445,"post_id":26507758,"comment_id":123282068,"body_markdown":"@PredragMaric  So basically the JpaRepository creates the HibernateSession but ,for example, findById method it gets the User but it closes after it and cannot retrieve the proxy objects that are lazily initializated , am I correct?","body":"@PredragMaric  So basically the JpaRepository creates the HibernateSession but ,for example, findById method it gets the User but it closes after it and cannot retrieve the proxy objects that are lazily initializated , am I correct?"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":1,"creation_date":1635419942,"post_id":26507758,"comment_id":123296212,"body_markdown":"@Andreea Yes, you need to be aware of what is your transaction&#39;s scope. While inside of  a `@Transactional` method you can still fetch lazy relations, but once outside of the transaction scope it is no longer possible.","body":"@Andreea Yes, you need to be aware of what is your transaction&#39;s scope. While inside of  a <code>@Transactional</code> method you can still fetch lazy relations, but once outside of the transaction scope it is no longer possible."}],"tags":[],"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"comment_count":7,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1413981877,"creation_date":1413981877,"answer_id":26507758,"question_id":26507446,"body_markdown":"Basically, you need to fetch the lazy data while you are inside of a transaction. If your service classes are `@Transactional`, then everything should be ok while you are in them. Once you get out of the service class, if you try to `get` the lazy collection, you will get that exception, which is in your `main()` method, line `System.out.println(random.getCreatedJobs());`.\r\n\r\nNow, it comes down to what your service methods need to return. If `userService.getRandomUser()` is expected to return a user with jobs initialized so you can manipulate them, then it&#39;s that method&#39;s responsibility to fetch it. The simplest way to do it with Hibernate is by calling `Hibernate.initialize(user.getCreatedJobs())`.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Basically, you need to fetch the lazy data while you are inside of a transaction. If your service classes are <code>@Transactional</code>, then everything should be ok while you are in them. Once you get out of the service class, if you try to <code>get</code> the lazy collection, you will get that exception, which is in your <code>main()</code> method, line <code>System.out.println(random.getCreatedJobs());</code>.</p>\n\n<p>Now, it comes down to what your service methods need to return. If <code>userService.getRandomUser()</code> is expected to return a user with jobs initialized so you can manipulate them, then it's that method's responsibility to fetch it. The simplest way to do it with Hibernate is by calling <code>Hibernate.initialize(user.getCreatedJobs())</code>.</p>\n"},{"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1477471170,"creation_date":1477049980,"answer_id":40175755,"question_id":26507446,"body_markdown":"Consider using **JPA 2.1**, with **Entity graphs**: \r\n\r\nLazy loading was often an issue with JPA 2.0. You had to define at the entity FetchType.LAZY or FetchType.EAGER and make sure the relation gets initialized within the transaction.\r\n\r\nThis could be done by:\r\n\r\n* using a specific query that reads the entity \r\n* or by accessing the relation within business code (additional query for each relation).\r\n\r\nBoth approaches are far from perfect, **JPA 2.1 entity graphs are a better solution for it**:\r\n\r\n* http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/\r\n* http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Consider using <strong>JPA 2.1</strong>, with <strong>Entity graphs</strong>: </p>\n\n<p>Lazy loading was often an issue with JPA 2.0. You had to define at the entity FetchType.LAZY or FetchType.EAGER and make sure the relation gets initialized within the transaction.</p>\n\n<p>This could be done by:</p>\n\n<ul>\n<li>using a specific query that reads the entity </li>\n<li>or by accessing the relation within business code (additional query for each relation).</li>\n</ul>\n\n<p>Both approaches are far from perfect, <strong>JPA 2.1 entity graphs are a better solution for it</strong>:</p>\n\n<ul>\n<li><a href=\"http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/\" rel=\"noreferrer\">http://www.thoughts-on-java.org/jpa-21-entity-graph-part-1-named-entity/</a></li>\n<li><a href=\"http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/\" rel=\"noreferrer\">http://www.thoughts-on-java.org/jpa-21-entity-graph-part-2-define/</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1520534502,"post_id":40260061,"comment_id":85366023,"body_markdown":"`readOnly` is not a valid attribute for `javax.transaction.Transactional`. When I try to use it my IDE underlines it in read and tells me that this is not valid.","body":"<code>readOnly</code> is not a valid attribute for <code>javax.transaction.Transactional</code>. When I try to use it my IDE underlines it in read and tells me that this is not valid."},{"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"score":0,"creation_date":1588781575,"post_id":40260061,"comment_id":109033260,"body_markdown":"@8bitjunkie, I believe it&#39;s org.springframework.transaction.annotation.Transactional that is used in this example.","body":"@8bitjunkie, I believe it&#39;s org.springframework.transaction.annotation.Transactional that is used in this example."}],"tags":[],"owner":{"account_id":1220308,"reputation":2681,"user_id":1187067,"accept_rate":67,"display_name":"Pleymor"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1477478388,"creation_date":1477478388,"answer_id":40260061,"question_id":26507446,"body_markdown":"For those who have not the possibility to use JPA 2.1 but want to keep the possibility to return a entity in their controller (and not a String/JsonNode/byte[]/void with write in response): \r\n\r\nthere is still the possibility to build a DTO in the transaction, that will be returned by the controller.\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(value = FooController.API, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    class FooController{\r\n    \r\n        static final String API = &quot;/api/foo&quot;;\r\n    \r\n        private final FooService fooService;\r\n    \r\n        @Autowired\r\n        FooController(FooService fooService) {\r\n            this.fooService= fooService;\r\n        }\r\n    \r\n        @RequestMapping(method = GET)\r\n        @Transactional(readOnly = true)\r\n        public FooResponseDto getFoo() {\r\n            Foo foo = fooService.get();\r\n            return new FooResponseDto(foo);\r\n        }\r\n    }","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>For those who have not the possibility to use JPA 2.1 but want to keep the possibility to return a entity in their controller (and not a String/JsonNode/byte[]/void with write in response): </p>\n\n<p>there is still the possibility to build a DTO in the transaction, that will be returned by the controller.</p>\n\n<pre><code>@RestController\n@RequestMapping(value = FooController.API, produces = MediaType.APPLICATION_JSON_VALUE)\nclass FooController{\n\n    static final String API = \"/api/foo\";\n\n    private final FooService fooService;\n\n    @Autowired\n    FooController(FooService fooService) {\n        this.fooService= fooService;\n    }\n\n    @RequestMapping(method = GET)\n    @Transactional(readOnly = true)\n    public FooResponseDto getFoo() {\n        Foo foo = fooService.get();\n        return new FooResponseDto(foo);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":997311,"reputation":319,"user_id":1023906,"display_name":"oak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543850283,"creation_date":1543850283,"answer_id":53596631,"question_id":26507446,"body_markdown":"You should enable Spring transaction manager by adding `@EnableTransactionManagement` annotation to your context configuration class. \r\n\r\nSince both services have `@Transactional` annotation and default `value` property of it is `TxType.Required`, current transaction will be shared among the services, provided that transaction manager is on. Thus a session should be available, and you won&#39;t be getting `LazyInitializationException`.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>You should enable Spring transaction manager by adding <code>@EnableTransactionManagement</code> annotation to your context configuration class. </p>\n\n<p>Since both services have <code>@Transactional</code> annotation and default <code>value</code> property of it is <code>TxType.Required</code>, current transaction will be shared among the services, provided that transaction manager is on. Thus a session should be available, and you won't be getting <code>LazyInitializationException</code>.</p>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405991,"creation_date":1693405991,"answer_id":77008999,"question_id":26507446,"body_markdown":"Found a great article (by Vlad Mihalcea) regarding the best way to handle the `LazyInitializationException`:\r\n\r\nhttps://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\r\n\r\n**Summary**\r\n\r\n&gt; `LazyInitializationException` is a code smell because it might hide the fact that entities are used instead of [DTO projections][1]. Sometimes, fetching entities is the right choice, in which case, a `JOIN FETCH` directive is the simplest and the best way to initialize the LAZY Hibernate proxies.\r\n\r\n\r\n  [1]: https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>Found a great article (by Vlad Mihalcea) regarding the best way to handle the <code>LazyInitializationException</code>:</p>\n<p><a href=\"https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-handle-the-lazyinitializationexception/</a></p>\n<p><strong>Summary</strong></p>\n<blockquote>\n<p><code>LazyInitializationException</code> is a code smell because it might hide the fact that entities are used instead of <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-projection-query-to-a-dto-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">DTO projections</a>. Sometimes, fetching entities is the right choice, in which case, a <code>JOIN FETCH</code> directive is the simplest and the best way to initialize the LAZY Hibernate proxies.</p>\n</blockquote>\n"}],"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42907,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":7,"score":28,"last_activity_date":1693405991,"creation_date":1413980897,"question_id":26507446,"body_markdown":"I have two classes that have a one-to-many relation. When I try to access the lazily loaded collection I get the `LazyInitializationException`.\r\nI have been searching the web for a while and now I know that I get the exception because the session that was used to load the class which holds the collection is closed.\r\nHowever, I did not find a solution (or at least I did not understand them). Basically I have these classes:\r\n\r\n**User**\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;user&quot;)\r\n\tpublic class User {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate long id;\r\n\t\r\n\t\t@OneToMany(mappedBy = &quot;creator&quot;)\r\n\t\tprivate Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\r\n\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(final long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic Set&lt;Job&gt; getCreatedJobs() {\r\n\t\t\treturn createdJobs;\r\n\t\t}\r\n\t\r\n\t\tpublic void setCreatedJobs(final Set&lt;Job&gt; createdJobs) {\r\n\t\t\tthis.createdJobs = createdJobs;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**UserRepository**\r\n\r\n\tpublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\r\n\r\n**UserService**\r\n\r\n\t@Service\r\n\t@Transactional\r\n\tpublic class UserService {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate UserRepository repository;\r\n\t\r\n\t\tboolean usersAvailable = false;\r\n\t\r\n\t\tpublic void addSomeUsers() {\r\n\t\t\tfor (int i = 1; i &lt; 101; i++) {\r\n\t\t\t\tfinal User user = new User();\r\n\t\r\n\t\t\t\trepository.save(user);\r\n\t\t\t}\r\n\t\r\n\t\t\tusersAvailable = true;\r\n\t\t}\r\n\t\r\n\t\tpublic User getRandomUser() {\r\n\t\t\tfinal Random rand = new Random();\r\n\t\r\n\t\t\tif (!usersAvailable) {\r\n\t\t\t\taddSomeUsers();\r\n\t\t\t}\r\n\t\r\n\t\t\treturn repository.findOne(rand.nextInt(100) + 1L);\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;User&gt; getAllUsers() {\r\n\t\t\treturn repository.findAll();\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**Job**\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;job&quot;)\r\n\t@Inheritance\r\n\t@DiscriminatorColumn(name = &quot;job_type&quot;, discriminatorType = DiscriminatorType.STRING)\r\n\tpublic abstract class Job {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\t@Column(name = &quot;id&quot;)\r\n\t\tprivate long id;\r\n\t\r\n\t\t@ManyToOne\r\n\t\t@JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n\t\tprivate User creator;\r\n\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\r\n\t\tpublic void setId(final long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\r\n\t\tpublic User getCreator() {\r\n\t\t\treturn creator;\r\n\t\t}\r\n\t\r\n\t\tpublic void setCreator(final User creator) {\r\n\t\t\tthis.creator = creator;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**JobRepository**\r\n\r\n\tpublic interface JobRepository extends JpaRepository&lt;Job, Long&gt; {}\r\n\r\n**JobService**\r\n\r\n\t@Service\r\n\t@Transactional\r\n\tpublic class JobService {\r\n\t\r\n\t\t@Autowired\r\n\t\tprivate JobRepository repository;\r\n\t\r\n\t\tpublic void addJob(final Job job) {\r\n\t\t\trepository.save(job);\r\n\t\t}\r\n\t\r\n\t\tpublic List&lt;Job&gt; getJobs() {\r\n\t\t\treturn repository.findAll();\r\n\t\t}\r\n\t\r\n\t\tpublic void addJobsForUsers(final List&lt;User&gt; users) {\r\n\t\t\tfinal Random rand = new Random();\r\n\t\r\n\t\t\tfor (final User user : users) {\r\n\t\t\t\tfor (int i = 0; i &lt; 20; i++) {\r\n\t\t\t\t\tswitch (rand.nextInt(2)) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\taddJob(new HelloWorldJob(user));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\taddJob(new GoodbyeWorldJob(user));\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t}\r\n\r\n**App**\r\n\r\n\t@Configuration\r\n\t@EnableAutoConfiguration\r\n\t@ComponentScan\r\n\tpublic class App {\r\n\t\r\n\t\tpublic static void main(final String[] args) {\r\n\t\t\tfinal ConfigurableApplicationContext context = SpringApplication.run(App.class);\r\n\t\t\tfinal UserService userService = context.getBean(UserService.class);\r\n\t\t\tfinal JobService jobService = context.getBean(JobService.class);\r\n\t\r\n\t\t\tuserService.addSomeUsers();\t\t\t\t\t\t\t\t\t// Generates some users and stores them in the db\r\n\t\t\tjobService.addJobsForUsers(userService.getAllUsers());\t\t// Generates some jobs for the users\r\n\t\r\n\t\t\tfinal User random = userService.getRandomUser();\t\t\t// Picks a random user\r\n\t\r\n\t\t\tSystem.out.println(random.getCreatedJobs());\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI have often read that the session has to be bound to the current thread, but I don&#39;t know how to do this with Spring&#39;s annotation based configurations.\r\nCan someone point me out how to do that?\r\n\r\nP.S. I want to use lazy loading, thus eager loading is no option.","title":"How to resolve LazyInitializationException in Spring Data JPA?","body":"<p>I have two classes that have a one-to-many relation. When I try to access the lazily loaded collection I get the <code>LazyInitializationException</code>.\nI have been searching the web for a while and now I know that I get the exception because the session that was used to load the class which holds the collection is closed.\nHowever, I did not find a solution (or at least I did not understand them). Basically I have these classes:</p>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @OneToMany(mappedBy = &quot;creator&quot;)\n    private Set&lt;Job&gt; createdJobs = new HashSet&lt;&gt;();\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    public Set&lt;Job&gt; getCreatedJobs() {\n        return createdJobs;\n    }\n\n    public void setCreatedJobs(final Set&lt;Job&gt; createdJobs) {\n        this.createdJobs = createdJobs;\n    }\n\n}\n</code></pre>\n<p><strong>UserRepository</strong></p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre><code>@Service\n@Transactional\npublic class UserService {\n\n    @Autowired\n    private UserRepository repository;\n\n    boolean usersAvailable = false;\n\n    public void addSomeUsers() {\n        for (int i = 1; i &lt; 101; i++) {\n            final User user = new User();\n\n            repository.save(user);\n        }\n\n        usersAvailable = true;\n    }\n\n    public User getRandomUser() {\n        final Random rand = new Random();\n\n        if (!usersAvailable) {\n            addSomeUsers();\n        }\n\n        return repository.findOne(rand.nextInt(100) + 1L);\n    }\n\n    public List&lt;User&gt; getAllUsers() {\n        return repository.findAll();\n    }\n\n}\n</code></pre>\n<p><strong>Job</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;job&quot;)\n@Inheritance\n@DiscriminatorColumn(name = &quot;job_type&quot;, discriminatorType = DiscriminatorType.STRING)\npublic abstract class Job {\n\n    @Id\n    @GeneratedValue\n    @Column(name = &quot;id&quot;)\n    private long id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User creator;\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(final long id) {\n        this.id = id;\n    }\n\n    public User getCreator() {\n        return creator;\n    }\n\n    public void setCreator(final User creator) {\n        this.creator = creator;\n    }\n\n}\n</code></pre>\n<p><strong>JobRepository</strong></p>\n<pre><code>public interface JobRepository extends JpaRepository&lt;Job, Long&gt; {}\n</code></pre>\n<p><strong>JobService</strong></p>\n<pre><code>@Service\n@Transactional\npublic class JobService {\n\n    @Autowired\n    private JobRepository repository;\n\n    public void addJob(final Job job) {\n        repository.save(job);\n    }\n\n    public List&lt;Job&gt; getJobs() {\n        return repository.findAll();\n    }\n\n    public void addJobsForUsers(final List&lt;User&gt; users) {\n        final Random rand = new Random();\n\n        for (final User user : users) {\n            for (int i = 0; i &lt; 20; i++) {\n                switch (rand.nextInt(2)) {\n                case 0:\n                    addJob(new HelloWorldJob(user));\n                    break;\n                default:\n                    addJob(new GoodbyeWorldJob(user));\n                    break;\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p><strong>App</strong></p>\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\npublic class App {\n\n    public static void main(final String[] args) {\n        final ConfigurableApplicationContext context = SpringApplication.run(App.class);\n        final UserService userService = context.getBean(UserService.class);\n        final JobService jobService = context.getBean(JobService.class);\n\n        userService.addSomeUsers();                                 // Generates some users and stores them in the db\n        jobService.addJobsForUsers(userService.getAllUsers());      // Generates some jobs for the users\n\n        final User random = userService.getRandomUser();            // Picks a random user\n\n        System.out.println(random.getCreatedJobs());\n    }\n\n}\n</code></pre>\n<p>I have often read that the session has to be bound to the current thread, but I don't know how to do this with Spring's annotation based configurations.\nCan someone point me out how to do that?</p>\n<p>P.S. I want to use lazy loading, thus eager loading is no option.</p>\n"},{"tags":["python","java","pyinstaller","aspose-cells","jpype"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693402929,"post_id":77008362,"comment_id":135756218,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1693503102,"post_id":77008362,"comment_id":135773253,"body_markdown":"Could you please see the document (https://docs.aspose.com/cells/python-java/pyinstaller-python/) on how you can distribute Python applications that uses Aspose.Cells for via PyInstaller.","body":"Could you please see the document (<a href=\"https://docs.aspose.com/cells/python-java/pyinstaller-python/\" rel=\"nofollow noreferrer\">docs.aspose.com/cells/python-java/pyinstaller-python</a>) on how you can distribute Python applications that uses Aspose.Cells for via PyInstaller."}],"owner":{"account_id":29200016,"reputation":3,"user_id":22370346,"display_name":"macikeci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693405388,"creation_date":1693400994,"question_id":77008362,"body_markdown":"I&#39;m working sap automatization(I use anaconda) and at the end of my code I use Jpype and aspose to make my excel read only password protected file.\r\n```\r\nimport jpype\r\nimport asposecells\r\njpype.startJVM()\r\nfrom asposecells.api import Workbook\r\n\r\ntimestamp = datetime.now().strftime(&quot;%Y%m%d%H%M&quot;)\r\n\r\nworkbook = Workbook(&quot;G:\\\\t.xlsx&quot;)\r\n\r\nworkbook.getSettings().getWriteProtection().setPassword(&quot;1234&quot;)\r\n\r\nworkbook.getSettings().getWriteProtection().setAuthor(&quot;asd&quot;);\r\n\r\nworkbook.save(&quot;G:/p_out &quot; + timestamp + &quot;.xlsx&quot;)\r\n\r\njpype.shutdownJVM()\r\n```\r\n\r\n I would like to create a exe file and did it also but this part of code the app shutdown with this error:\r\n```\r\nTraceback (most recent call last):\r\nFile &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod Exception: Java Exception\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last): File &quot;jpype\\imports.py&quot;, line 195, in find_spec\r\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.aspose\r\nThe above exception was the direct cause of the following exception:\r\nTraceback (most recent call last):\r\nFile &quot;example.py&quot;, line 270, in &lt;module&gt;\r\nFile &quot;PyInstaller\\loader\\pyimod02_importers.py&quot;, line 385, in exec_module\r\nFile &quot;asposecells\\api.py&quot;, line 10, in &lt;module&gt;\r\nFile &quot;jpype\\imports.py&quot;, line 203, in find_spec\r\nImportError: Failed to import &#39;com.aspose&#39;\r\n[18204] Failed to execute script &#39;example&#39; due to unhandled exception!\r\n```\r\n\r\nI put .jar files into the folder, and supplement the .spec file.\r\n\r\n\r\nI&#39;m beginner in coding,\r\nthanks all help\r\n","title":"failed to execute script with Jpype","body":"<p>I'm working sap automatization(I use anaconda) and at the end of my code I use Jpype and aspose to make my excel read only password protected file.</p>\n<pre><code>import jpype\nimport asposecells\njpype.startJVM()\nfrom asposecells.api import Workbook\n\ntimestamp = datetime.now().strftime(&quot;%Y%m%d%H%M&quot;)\n\nworkbook = Workbook(&quot;G:\\\\t.xlsx&quot;)\n\nworkbook.getSettings().getWriteProtection().setPassword(&quot;1234&quot;)\n\nworkbook.getSettings().getWriteProtection().setAuthor(&quot;asd&quot;);\n\nworkbook.save(&quot;G:/p_out &quot; + timestamp + &quot;.xlsx&quot;)\n\njpype.shutdownJVM()\n</code></pre>\n<p>I would like to create a exe file and did it also but this part of code the app shutdown with this error:</p>\n<pre><code>Traceback (most recent call last):\nFile &quot;org.jpype.JPypeContext.java&quot;, line -1, in org.jpype.JPypeContext.callMethod Exception: Java Exception\nThe above exception was the direct cause of the following exception:\nTraceback (most recent call last): File &quot;jpype\\imports.py&quot;, line 195, in find_spec\njava.lang.java.lang.ClassNotFoundException: java.lang.ClassNotFoundException: com.aspose\nThe above exception was the direct cause of the following exception:\nTraceback (most recent call last):\nFile &quot;example.py&quot;, line 270, in &lt;module&gt;\nFile &quot;PyInstaller\\loader\\pyimod02_importers.py&quot;, line 385, in exec_module\nFile &quot;asposecells\\api.py&quot;, line 10, in &lt;module&gt;\nFile &quot;jpype\\imports.py&quot;, line 203, in find_spec\nImportError: Failed to import 'com.aspose'\n[18204] Failed to execute script 'example' due to unhandled exception!\n</code></pre>\n<p>I put .jar files into the folder, and supplement the .spec file.</p>\n<p>I'm beginner in coding,\nthanks all help</p>\n"},{"tags":["java","escaping","backslash","ascii-art"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1333816061,"post_id":10056183,"comment_id":12868483,"body_markdown":"&quot;\\\\&quot; is the only way to go.  If you *really* don&#39;t want the double- backquotes, you can always 1) create a static String[] array with each line of text, 2) substitute some &quot;acceptable&quot; marker character for your slash, 3) println() the array in a loop, and 4) String.replace() the marker character with &quot;\\\\&quot;.","body":"&quot;\\\\&quot; is the only way to go.  If you <i>really</i> don&#39;t want the double- backquotes, you can always 1) create a static String[] array with each line of text, 2) substitute some &quot;acceptable&quot; marker character for your slash, 3) println() the array in a loop, and 4) String.replace() the marker character with &quot;\\\\&quot;."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333816056,"creation_date":1333816056,"answer_id":10056204,"question_id":10056183,"body_markdown":"No, Java doesn&#39;t have anything like the &quot;verbatim string literals&quot; of C#. If you want to do ASCII art, consider putting it into a text file instead and loading that from the code.","title":"Ignore escape sequences in ASCII art","body":"<p>No, Java doesn't have anything like the \"verbatim string literals\" of C#. If you want to do ASCII art, consider putting it into a text file instead and loading that from the code.</p>\n"},{"tags":[],"owner":{"account_id":1190922,"reputation":503,"user_id":1163724,"accept_rate":50,"display_name":"viliam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333816128,"creation_date":1333816128,"answer_id":10056215,"question_id":10056183,"body_markdown":"read that &quot;image&quot; from file, that file can be in your jar library :)","title":"Ignore escape sequences in ASCII art","body":"<p>read that \"image\" from file, that file can be in your jar library :)</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333816145,"creation_date":1333816145,"answer_id":10056218,"question_id":10056183,"body_markdown":"Sorry, dude.  No such animal exists.","title":"Ignore escape sequences in ASCII art","body":"<p>Sorry, dude.  No such animal exists.</p>\n"},{"tags":[],"owner":{"account_id":2141181,"reputation":29,"user_id":1899772,"display_name":"Joe"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1355371558,"creation_date":1355371558,"answer_id":13852766,"question_id":10056183,"body_markdown":"Hate to gravedig this thread, but for anyone else out there looking for this..\r\nTry using unicode!\r\n\r\nFor example:\r\n\\u0092 = &quot;\\&quot;","title":"Ignore escape sequences in ASCII art","body":"<p>Hate to gravedig this thread, but for anyone else out there looking for this..\nTry using unicode!</p>\n\n<p>For example:\n\\u0092 = \"\\\"</p>\n"}],"owner":{"account_id":1387675,"reputation":840,"user_id":1319304,"accept_rate":40,"display_name":"trichner"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10858,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":10056204,"answer_count":4,"score":8,"last_activity_date":1693405301,"creation_date":1333815887,"question_id":10056183,"body_markdown":"For my command-line-interfaces it&#39;s often nice to have a little ASCII art in the beginning, but those often contain many backslashes.\r\n\r\nFor example:\r\n```java\r\nSystem.out.println(&quot;  _____ _______       _____ _  __ &quot;);\r\nSystem.out.println(&quot; / ____|__   __|/\\   / ____| |/ / &quot;);\r\nSystem.out.println(&quot;| (___    | |  /  \\ | |    | &#39; /  &quot;);\r\nSystem.out.println(&quot; \\___ \\   | | / /\\ \\| |    |  &lt;   &quot;);\r\nSystem.out.println(&quot; ____) |  | |/ ____ \\ |____| . \\  &quot;);\r\nSystem.out.println(&quot;|_____/   |_/_/    \\_\\_____|_|\\_\\ &quot;);\r\n```\r\nBut since every `\\` needs to be a `\\\\` this often looks very ugly in code and it&#39;s very hard to find/fix an error in the &#39;font&#39;. Is there a way to tell Java NOT to use escape sequences?\r\n","title":"Ignore escape sequences in ASCII art","body":"<p>For my command-line-interfaces it's often nice to have a little ASCII art in the beginning, but those often contain many backslashes.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;  _____ _______       _____ _  __ &quot;);\nSystem.out.println(&quot; / ____|__   __|/\\   / ____| |/ / &quot;);\nSystem.out.println(&quot;| (___    | |  /  \\ | |    | ' /  &quot;);\nSystem.out.println(&quot; \\___ \\   | | / /\\ \\| |    |  &lt;   &quot;);\nSystem.out.println(&quot; ____) |  | |/ ____ \\ |____| . \\  &quot;);\nSystem.out.println(&quot;|_____/   |_/_/    \\_\\_____|_|\\_\\ &quot;);\n</code></pre>\n<p>But since every <code>\\</code> needs to be a <code>\\\\</code> this often looks very ugly in code and it's very hard to find/fix an error in the 'font'. Is there a way to tell Java NOT to use escape sequences?</p>\n"},{"tags":["java","web-services","rest","jersey","java-ee-6"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":2,"creation_date":1463148307,"post_id":37204930,"comment_id":61955358,"body_markdown":"Jersey 2 and Jersey 1 use different ContainerRequestFilters. Jersey 2 uses a standard JAX-RS interface, while Jersey 1 uses an implementation specific one. They have different packing and slightly different contract. You need to make sure you are using the correct one for the version of Jersey you are using","body":"Jersey 2 and Jersey 1 use different ContainerRequestFilters. Jersey 2 uses a standard JAX-RS interface, while Jersey 1 uses an implementation specific one. They have different packing and slightly different contract. You need to make sure you are using the correct one for the version of Jersey you are using"}],"answers":[{"tags":[],"owner":{"account_id":13541084,"reputation":81,"user_id":9768744,"display_name":"O. Trouv&#233;"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1538490806,"creation_date":1525943436,"answer_id":50269323,"question_id":37204930,"body_markdown":"This has been reported as an issue in Jersey. See Jersey issue [#3700][1].\r\n\r\nWith Jersey 2.26 the warning message is triggered if you register an instantiated resource object directly on a `ResourceConfig`. However, the warning is intentional. \r\n\r\nYou can register a class instead of an instance. Or you can configure the resource via an [`AbstractBinder`][2] and a [`Feature`][3].\r\n\r\nIf the warning actually originates from a third-party library registering a *resource* instance on a `ResourceConfig`, you can work around it by suppressing log messages from the `org.glassfish.jersey.internal.inject.Providers` logger as recommended in the [Jersey ticket][1].\r\n\r\n\r\n  [1]: https://github.com/eclipse-ee4j/jersey/issues/3700\r\n  [2]: http://javaarm.com/file/glassfish/jersey/doc/userguide/Jersey-2.26-User-Guide.htm#d0e17032\r\n  [3]: https://stackoverflow.com/a/29275727/9768744","title":"Rest Filter: registered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime","body":"<p>This has been reported as an issue in Jersey. See Jersey issue <a href=\"https://github.com/eclipse-ee4j/jersey/issues/3700\" rel=\"noreferrer\">#3700</a>.</p>\n\n<p>With Jersey 2.26 the warning message is triggered if you register an instantiated resource object directly on a <code>ResourceConfig</code>. However, the warning is intentional. </p>\n\n<p>You can register a class instead of an instance. Or you can configure the resource via an <a href=\"http://javaarm.com/file/glassfish/jersey/doc/userguide/Jersey-2.26-User-Guide.htm#d0e17032\" rel=\"noreferrer\"><code>AbstractBinder</code></a> and a <a href=\"https://stackoverflow.com/a/29275727/9768744\"><code>Feature</code></a>.</p>\n\n<p>If the warning actually originates from a third-party library registering a <em>resource</em> instance on a <code>ResourceConfig</code>, you can work around it by suppressing log messages from the <code>org.glassfish.jersey.internal.inject.Providers</code> logger as recommended in the <a href=\"https://github.com/eclipse-ee4j/jersey/issues/3700\" rel=\"noreferrer\">Jersey ticket</a>.</p>\n"}],"owner":{"account_id":8098621,"reputation":151,"user_id":6102303,"display_name":"PRIYANK SINHA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22321,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":1,"score":15,"last_activity_date":1693405234,"creation_date":1463127913,"question_id":37204930,"body_markdown":"I am getting an error:\r\n\r\n&gt; A provider com.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter\r\nregistered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime.\r\nDue to constraint configuration problems the provider \r\ncom.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter will be ignored.\r\n\r\nNote:\r\n\r\n1. This UniversalSessionManagerFilter filter is in an external jar file which is in the server classpath \r\n2. I am using `@Provider` annotation on the filter and `@Priority` annotation to define priority \r\n3. This is a rest server filter  ","title":"Rest Filter: registered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime","body":"<p>I am getting an error:</p>\n<blockquote>\n<p>A provider com.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter\nregistered in SERVER runtime does not implement any provider interfaces applicable in the SERVER runtime.\nDue to constraint configuration problems the provider\ncom.xyx.in.astra.aqr.security.application.requestFilter.UniversalSessionManagerFilter will be ignored.</p>\n</blockquote>\n<p>Note:</p>\n<ol>\n<li>This UniversalSessionManagerFilter filter is in an external jar file which is in the server classpath</li>\n<li>I am using <code>@Provider</code> annotation on the filter and <code>@Priority</code> annotation to define priority</li>\n<li>This is a rest server filter</li>\n</ol>\n"},{"tags":["java","visual-studio-code","java-8"],"answers":[{"tags":[],"owner":{"account_id":23435211,"reputation":31,"user_id":17493401,"display_name":"Victor Dalosto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664738725,"creation_date":1664738725,"answer_id":73928718,"question_id":73920611,"body_markdown":"Solved the issue by deleting the folder: Users\\victor\\AppData\\Roaming\\Code\\User\r\n\r\nAfter initializing VSCODE again the problem was fixed.","title":"Problem with VSCODE + Java configurations","body":"<p>Solved the issue by deleting the folder: Users\\victor\\AppData\\Roaming\\Code\\User</p>\n<p>After initializing VSCODE again the problem was fixed.</p>\n"},{"tags":[],"owner":{"account_id":3319392,"reputation":11,"user_id":2790936,"display_name":"Footleg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405090,"creation_date":1693405090,"answer_id":77008890,"question_id":73920611,"body_markdown":"I have been struggling with a similar problem where my workspace never initialised the Java project. It turned out to be a corrupted workspace, which was stored under AppData\\Roaming\\Code\\User\\workspaceStorage\r\n\r\nI deleted all the folders under there (which loses the information on which files were open in the workspaces). This cleared the issue. If you can tell from the datetime of the folders under this location which one is the workspace that stopped working, you can just delete that one.","title":"Problem with VSCODE + Java configurations","body":"<p>I have been struggling with a similar problem where my workspace never initialised the Java project. It turned out to be a corrupted workspace, which was stored under AppData\\Roaming\\Code\\User\\workspaceStorage</p>\n<p>I deleted all the folders under there (which loses the information on which files were open in the workspaces). This cleared the issue. If you can tell from the datetime of the folders under this location which one is the workspace that stopped working, you can just delete that one.</p>\n"}],"owner":{"account_id":23435211,"reputation":31,"user_id":17493401,"display_name":"Victor Dalosto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1693405090,"creation_date":1664647184,"question_id":73920611,"body_markdown":"Im having a issue with Visual studio code in using some of the Java features.\r\n\r\nFor example, i can&#39;t use some of its feature:\r\n(i) &quot;Java: Clean Java Language Server Workspace&quot;\r\n(ii) In &quot;Java: Create java project&quot;, after configuring the project, it doesn&#39;t pop anymore a windows suggesting changing folder;\r\n\r\n(iii) If i adjust something in the pom.xml, like the &lt;java-version&gt; from the default 1.8 to the current 18 installed, even if a reload the vscode, it displays the following message:\r\n&quot;Build path specifies execution environment JavaSE-1.8. There are no JREs installed in the workspace that are strictly compatible with this environment. &quot;\r\n&quot;The compiler compliance specified is 1.8 but a JRE 18 is used&quot;\r\nBefore, if i used the clean java language workspace, the project used to solve this issue.\r\n\r\nI Can&#39;t seem to make this work.\r\nI think it has to do with some adjustment that i made in the settings.json:\r\n\r\n  \r\n    &quot;settingsSync.ignoredSettings&quot;: [],\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n    &quot;spring-boot.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n    &quot;java.maven.downloadSources&quot;: true,\r\n    &quot;java.eclipse.downloadSources&quot;: true,\r\n    &quot;java.debug.settings.hotCodeReplace&quot;: &quot;auto&quot;,\r\n    &quot;java.debug.settings.console&quot;: &quot;externalTerminal&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [{\r\n          &quot;name&quot;: &quot;JavaSE-18&quot;,\r\n          &quot;path&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\r\n          &quot;default&quot;:  true\r\n      }],\r\n\r\nI appreciate any help.","title":"Problem with VSCODE + Java configurations","body":"<p>Im having a issue with Visual studio code in using some of the Java features.</p>\n<p>For example, i can't use some of its feature:\n(i) &quot;Java: Clean Java Language Server Workspace&quot;\n(ii) In &quot;Java: Create java project&quot;, after configuring the project, it doesn't pop anymore a windows suggesting changing folder;</p>\n<p>(iii) If i adjust something in the pom.xml, like the  from the default 1.8 to the current 18 installed, even if a reload the vscode, it displays the following message:\n&quot;Build path specifies execution environment JavaSE-1.8. There are no JREs installed in the workspace that are strictly compatible with this environment. &quot;\n&quot;The compiler compliance specified is 1.8 but a JRE 18 is used&quot;\nBefore, if i used the clean java language workspace, the project used to solve this issue.</p>\n<p>I Can't seem to make this work.\nI think it has to do with some adjustment that i made in the settings.json:</p>\n<pre><code>&quot;settingsSync.ignoredSettings&quot;: [],\n&quot;java.jdt.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n&quot;spring-boot.ls.java.home&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n&quot;java.maven.downloadSources&quot;: true,\n&quot;java.eclipse.downloadSources&quot;: true,\n&quot;java.debug.settings.hotCodeReplace&quot;: &quot;auto&quot;,\n&quot;java.debug.settings.console&quot;: &quot;externalTerminal&quot;,\n&quot;java.configuration.runtimes&quot;: [{\n      &quot;name&quot;: &quot;JavaSE-18&quot;,\n      &quot;path&quot;: &quot;C:/Java/jdk-18.0.2.1&quot;,\n      &quot;default&quot;:  true\n  }],\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","intellij-idea","annotations","jetbrains-ide","notnull"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1536134442,"creation_date":1536134442,"answer_id":52180071,"question_id":52179888,"body_markdown":"&gt; When you compile your project, the IDE adds assertions to all methods and parameters annotated with the @NotNull annotation. The assertions will fail if null is passed in code where @NotNull is expected. You can disable this option and configure the list of annotations in the **Settings/Preferences dialog Ctrl+Alt+S. Go to Build, Execution, Deployment | Compiler**. \r\n\r\nhttps://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\r\n\r\nMaybe this would to the trick.","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<blockquote>\n  <p>When you compile your project, the IDE adds assertions to all methods and parameters annotated with the @NotNull annotation. The assertions will fail if null is passed in code where @NotNull is expected. You can disable this option and configure the list of annotations in the <strong>Settings/Preferences dialog Ctrl+Alt+S. Go to Build, Execution, Deployment | Compiler</strong>. </p>\n</blockquote>\n\n<p><a href=\"https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html\" rel=\"noreferrer\">https://www.jetbrains.com/help/idea/nullable-and-notnull-annotations.html</a></p>\n\n<p>Maybe this would to the trick.</p>\n"},{"tags":[],"owner":{"account_id":65930,"reputation":4225,"user_id":193705,"accept_rate":81,"display_name":"Peter Wippermann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693405007,"creation_date":1693405007,"answer_id":77008879,"question_id":52179888,"body_markdown":"In addition to maio290 &#39;s answer, it&#39;s important you change the &quot;annotiation used for code generation&quot; setting: [![screenshot of configure nullability/nonnull annotatioons dialog][1]][1]\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nEPCV.png","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<p>In addition to maio290 's answer, it's important you change the &quot;annotiation used for code generation&quot; setting: <a href=\"https://i.stack.imgur.com/nEPCV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nEPCV.png\" alt=\"screenshot of configure nullability/nonnull annotatioons dialog\" /></a></p>\n"}],"owner":{"account_id":10568784,"reputation":482,"user_id":7786254,"accept_rate":80,"display_name":"Anton Kolosok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3801,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52180071,"answer_count":2,"score":5,"last_activity_date":1693405007,"creation_date":1536133897,"question_id":52179888,"body_markdown":"I was setuping my project when saw this on @NotNull annotation in my DTOs\r\n\r\n    Not &#39;javax.validation.constraints.NotNull&#39; but &#39;org.jetbrains.annotations.NotNull&#39; would be used for code generation\r\n\r\nI have import javax.validation.constraints.NotNull;\r\n\r\nBut still see this warning. \r\n\r\nWhy IDEA dont want to use javax NotNull and what should I do to force it? ","title":"IDEA doesnt want to use NotNull from javax, but instead use org.jetbrains","body":"<p>I was setuping my project when saw this on @NotNull annotation in my DTOs</p>\n\n<pre><code>Not 'javax.validation.constraints.NotNull' but 'org.jetbrains.annotations.NotNull' would be used for code generation\n</code></pre>\n\n<p>I have import javax.validation.constraints.NotNull;</p>\n\n<p>But still see this warning. </p>\n\n<p>Why IDEA dont want to use javax NotNull and what should I do to force it? </p>\n"},{"tags":["java","kotlin","javafx","url-fragment"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1693408441,"post_id":77004965,"comment_id":135757598,"body_markdown":"Note regarding your update: That information seems more like an answer, and as such should be in an answer instead of your question (you are allowed to post answers to your own question).","body":"Note regarding your update: That information seems more like an answer, and as such should be in an answer instead of your question (you are allowed to post answers to your own question)."}],"answers":[{"comments":[{"owner":{"account_id":13680439,"reputation":73,"user_id":9870924,"display_name":"Awk11"},"score":1,"creation_date":1693403073,"post_id":77005236,"comment_id":135756254,"body_markdown":"Thanks for the detailed links and explanations. Came up with a &quot;good enough&quot; solution thanks to your post (updating original to include it). It&#39;s crazy to me that this is specifically blocked but I guess microsoft has their reasons. Interesting that it turns out to be a deeper issue and not to do with Java itself","body":"Thanks for the detailed links and explanations. Came up with a &quot;good enough&quot; solution thanks to your post (updating original to include it). It&#39;s crazy to me that this is specifically blocked but I guess microsoft has their reasons. Interesting that it turns out to be a deeper issue and not to do with Java itself"},{"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"score":0,"creation_date":1693441004,"post_id":77005236,"comment_id":135762968,"body_markdown":"Thanks for providing the solution :) I didn&#39;t noticed that.","body":"Thanks for providing the solution :) I didn&#39;t noticed that."}],"tags":[],"owner":{"account_id":7717111,"reputation":8774,"user_id":5844477,"display_name":"Sai Dandem"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693376751,"creation_date":1693374375,"answer_id":77005236,"question_id":77004965,"body_markdown":"When you check the source code of the HostServices, it is actually just a plain java code using `Runtime.exec`, something like this (for windows):\r\n\r\n    Runtime.getRuntime().exec(new String[] {\r\n                            &quot;rundll32&quot;,\r\n                            &quot;url.dll,FileProtocolHandler&quot;,\r\n                            uri\r\n                        });\r\n\r\nPretty much it is quite evident that there is nothing with JavaFX to play a role here.\r\n\r\nSo when trying to look for alternate ways using plain Java:\r\n\r\n    Desktop desktop = Desktop.getDesktop();\r\n    try {\r\n        desktop.browse(new URI(url));\r\n    } catch (IOException ex) {\r\n        throw new RuntimeException(ex);\r\n    } catch (URISyntaxException ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n\r\nThis works well when opening the file(without id). But when appended with id, it displays the below error::\r\n\r\n    Caused by: java.io.IOException: Failed to open &lt;your filepath&gt;. Error message: The system cannot find the file specified.\r\n    \r\n    \tat java.desktop/sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115)\r\n    \tat java.desktop/sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101)\r\n    \tat java.desktop/java.awt.Desktop.browse(Desktop.java:533)\r\n\r\n\r\nFrom the above exception, it is quite evident that the execution is going till the native code and returned with the error message. Which in turn concludes that the api or native code or execution (or whatever it is), is looking for a file path which has `#` in it. And as it cannot find one, error is thrown.\r\n\r\nSo I conclude that, currently there is no support to open fragment of html from a local file using standard java API. \r\n\r\n@Others, feel free to correct me if my analysis is wrong :)\r\n\r\n**UPDATE 1:**\r\n\r\nAfter going through this [link](https://lolbas-project.github.io/lolbas/Libraries/Url/), looks like we need to prepend with `file:///` to the path if we are using url.dll and FileProtocolHandler.\r\n\r\nSo changing the code to below actually opened the browser.\r\n\r\n    String url=&quot;file:///C:/folder/test.html#section&quot;;\r\n    getHostServices().showDocument(uri);\r\n\r\n\r\n But unfortunately the focus to specific portion is still not working. Atleast I will consider this as a win, rather than not showing up anything ;)\r\n\r\n**UPDATE 2:**\r\n\r\nOk, looks like I got something for the behavior in Update 1. Refer to the these links [link1](https://stackoverflow.com/questions/32553974/c-shellexecute-a-url-with-the-hash-sign) and [link2](https://stackoverflow.com/questions/26305322/shellexecute-fails-for-local-html-or-file-urls).\r\n\r\n\r\n&gt; After some back-and-forth with Microsoft&#39;s MSDN team, they reviewed\r\n&gt; the source code to the ShellExecute() call and it was determined that\r\n&gt; yes, when processing File:/// based URLs in ShellExecute(), the\r\n&gt; ShellExecute() call will strip off the # and any data it finds after\r\n&gt; the # before launching the default browser and sending in the HTML\r\n&gt; page to open. MS&#39;s stance is that they do this deliberately to prevent\r\n&gt; injections into the function.","title":"Javafx getHostServices().showDocument not working when url includes fragments for local files","body":"<p>When you check the source code of the HostServices, it is actually just a plain java code using <code>Runtime.exec</code>, something like this (for windows):</p>\n<pre><code>Runtime.getRuntime().exec(new String[] {\n                        &quot;rundll32&quot;,\n                        &quot;url.dll,FileProtocolHandler&quot;,\n                        uri\n                    });\n</code></pre>\n<p>Pretty much it is quite evident that there is nothing with JavaFX to play a role here.</p>\n<p>So when trying to look for alternate ways using plain Java:</p>\n<pre><code>Desktop desktop = Desktop.getDesktop();\ntry {\n    desktop.browse(new URI(url));\n} catch (IOException ex) {\n    throw new RuntimeException(ex);\n} catch (URISyntaxException ex) {\n    throw new RuntimeException(ex);\n}\n</code></pre>\n<p>This works well when opening the file(without id). But when appended with id, it displays the below error::</p>\n<pre><code>Caused by: java.io.IOException: Failed to open &lt;your filepath&gt;. Error message: The system cannot find the file specified.\n\n    at java.desktop/sun.awt.windows.WDesktopPeer.ShellExecute(WDesktopPeer.java:115)\n    at java.desktop/sun.awt.windows.WDesktopPeer.browse(WDesktopPeer.java:101)\n    at java.desktop/java.awt.Desktop.browse(Desktop.java:533)\n</code></pre>\n<p>From the above exception, it is quite evident that the execution is going till the native code and returned with the error message. Which in turn concludes that the api or native code or execution (or whatever it is), is looking for a file path which has <code>#</code> in it. And as it cannot find one, error is thrown.</p>\n<p>So I conclude that, currently there is no support to open fragment of html from a local file using standard java API.</p>\n<p>@Others, feel free to correct me if my analysis is wrong :)</p>\n<p><strong>UPDATE 1:</strong></p>\n<p>After going through this <a href=\"https://lolbas-project.github.io/lolbas/Libraries/Url/\" rel=\"noreferrer\">link</a>, looks like we need to prepend with <code>file:///</code> to the path if we are using url.dll and FileProtocolHandler.</p>\n<p>So changing the code to below actually opened the browser.</p>\n<pre><code>String url=&quot;file:///C:/folder/test.html#section&quot;;\ngetHostServices().showDocument(uri);\n</code></pre>\n<p>But unfortunately the focus to specific portion is still not working. Atleast I will consider this as a win, rather than not showing up anything ;)</p>\n<p><strong>UPDATE 2:</strong></p>\n<p>Ok, looks like I got something for the behavior in Update 1. Refer to the these links <a href=\"https://stackoverflow.com/questions/32553974/c-shellexecute-a-url-with-the-hash-sign\">link1</a> and <a href=\"https://stackoverflow.com/questions/26305322/shellexecute-fails-for-local-html-or-file-urls\">link2</a>.</p>\n<blockquote>\n<p>After some back-and-forth with Microsoft's MSDN team, they reviewed\nthe source code to the ShellExecute() call and it was determined that\nyes, when processing File:/// based URLs in ShellExecute(), the\nShellExecute() call will strip off the # and any data it finds after\nthe # before launching the default browser and sending in the HTML\npage to open. MS's stance is that they do this deliberately to prevent\ninjections into the function.</p>\n</blockquote>\n"}],"owner":{"account_id":13680439,"reputation":73,"user_id":9870924,"display_name":"Awk11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":77005236,"answer_count":1,"score":3,"last_activity_date":1693404279,"creation_date":1693369178,"question_id":77004965,"body_markdown":"\r\nIm working on a javafx app and a requirement is that on clicking a hyperlink, it opens the given url in the browser. I have this working with the following\r\n\r\n```\r\nurl = &quot;files/file.html&quot;;\r\ngetHostServices().showDocument(url);\r\n```\r\nHowever, when the url includes an id to auto focus a specific portion of the page, the browser never launches. There&#39;s no errors, and nothing seems to be logged indicating anything went wrong, the browser just never opens. Having trouble finding anyone else who&#39;s run into this problem or any potential solutions.\r\n\r\ntldr; How do I get the below to actually work and open in a browser?\r\n\r\n```\r\nString url = &quot;files/file.html#section&quot;;\r\ngetHostServices().showDocument(url);\r\n```\r\n\r\nAlso, this is only an issue with local files it seems. Opening https sites this way works fine\r\n\r\n**UPDATE:** \r\nSo thanks to Sai&#39;s great post, it sounds like the official conclusion is that it&#39;s a deeper issue than Java, and simply blocked for security reasons relating to data injection. Won&#39;t pretend to understand, but I found a solution based on [this link][1] (again shared by Sai below) and more specifically [this link shared in that answer][2], and wanted to include it for any future confused people. I also updated the title to be more specific to the problem.\r\n\r\nSo basically, the only true way around it that gets all the functionality is to create a temporary file that then gets opened, automatically redirects to the proper file with the fragment, and then delete it. Basic code is as follows:\r\n\r\n    public static void openWebPage(String url) {\r\n        String tmpPath = &quot;path/to/.tmp/temp.html&quot;;\r\n        File tempFile = File(tmpPath);\r\n        if (!tempFile.exists()) {\r\n            tempFile.mkdirs();\r\n        } else {\r\n            tempFile.delete();\r\n        }\r\n        tempFile.createNewFile();\r\n        FileWriter tempFileWriter = FileWriter(tmpPath);\r\n        tempFileWriter.write(&quot;&lt;html&gt;&lt;meta http-equiv=Refresh content=\\&quot;0; url=$url\\&quot;&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        tempFileWriter.close();\r\n        Main.getStaticHostServices().showDocument(tmpPath);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50144702/9870924\r\n  [2]: https://forums.madcapsoftware.com/viewtopic.php?f=9&amp;t=28376#p130613","title":"Javafx getHostServices().showDocument not working when url includes fragments for local files","body":"<p>Im working on a javafx app and a requirement is that on clicking a hyperlink, it opens the given url in the browser. I have this working with the following</p>\n<pre><code>url = &quot;files/file.html&quot;;\ngetHostServices().showDocument(url);\n</code></pre>\n<p>However, when the url includes an id to auto focus a specific portion of the page, the browser never launches. There's no errors, and nothing seems to be logged indicating anything went wrong, the browser just never opens. Having trouble finding anyone else who's run into this problem or any potential solutions.</p>\n<p>tldr; How do I get the below to actually work and open in a browser?</p>\n<pre><code>String url = &quot;files/file.html#section&quot;;\ngetHostServices().showDocument(url);\n</code></pre>\n<p>Also, this is only an issue with local files it seems. Opening https sites this way works fine</p>\n<p><strong>UPDATE:</strong>\nSo thanks to Sai's great post, it sounds like the official conclusion is that it's a deeper issue than Java, and simply blocked for security reasons relating to data injection. Won't pretend to understand, but I found a solution based on <a href=\"https://stackoverflow.com/a/50144702/9870924\">this link</a> (again shared by Sai below) and more specifically <a href=\"https://forums.madcapsoftware.com/viewtopic.php?f=9&amp;t=28376#p130613\" rel=\"nofollow noreferrer\">this link shared in that answer</a>, and wanted to include it for any future confused people. I also updated the title to be more specific to the problem.</p>\n<p>So basically, the only true way around it that gets all the functionality is to create a temporary file that then gets opened, automatically redirects to the proper file with the fragment, and then delete it. Basic code is as follows:</p>\n<pre><code>public static void openWebPage(String url) {\n    String tmpPath = &quot;path/to/.tmp/temp.html&quot;;\n    File tempFile = File(tmpPath);\n    if (!tempFile.exists()) {\n        tempFile.mkdirs();\n    } else {\n        tempFile.delete();\n    }\n    tempFile.createNewFile();\n    FileWriter tempFileWriter = FileWriter(tmpPath);\n    tempFileWriter.write(&quot;&lt;html&gt;&lt;meta http-equiv=Refresh content=\\&quot;0; url=$url\\&quot;&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;);\n    tempFileWriter.close();\n    Main.getStaticHostServices().showDocument(tmpPath);\n}\n</code></pre>\n"},{"tags":["java","kotlin","junit5","parameterized-unit-test"],"comments":[{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":6,"creation_date":1505240700,"post_id":46182118,"comment_id":79329012,"body_markdown":"Sounds like you may be looking for https://github.com/junit-team/junit5/issues/878","body":"Sounds like you may be looking for <a href=\"https://github.com/junit-team/junit5/issues/878\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/878</a>"},{"owner":{"account_id":11645556,"reputation":915,"user_id":8528561,"display_name":"IS1_SO"},"score":0,"creation_date":1505243232,"post_id":46182118,"comment_id":79330228,"body_markdown":"@mkobit Exactly. Are there any alternatives for that?","body":"@mkobit Exactly. Are there any alternatives for that?"},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":0,"creation_date":1505315321,"post_id":46182118,"comment_id":79364795,"body_markdown":"There may be a workaround, it would be useful to sample code about what you would like to accomplish.","body":"There may be a workaround, it would be useful to sample code about what you would like to accomplish."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1580671980,"post_id":46182118,"comment_id":106164781,"body_markdown":"Similar popular question: https://stackoverflow.com/questions/46897134/how-to-implement-junit-4-parameterized-tests-in-junit-5","body":"Similar popular question: <a href=\"https://stackoverflow.com/questions/46897134/how-to-implement-junit-4-parameterized-tests-in-junit-5\" title=\"how to implement junit 4 parameterized tests in junit 5\">stackoverflow.com/questions/46897134/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":13,"creation_date":1614946640,"post_id":56822593,"comment_id":117547163,"body_markdown":"Seems to be a serious lack in Junit 5.  We have `Nested` now to test entire flows with short to the point test methods, but no way to initialize those flows with different parameters.","body":"Seems to be a serious lack in Junit 5.  We have <code>Nested</code> now to test entire flows with short to the point test methods, but no way to initialize those flows with different parameters."},{"owner":{"account_id":148782,"reputation":23519,"user_id":360811,"accept_rate":55,"display_name":"shabunc"},"score":8,"creation_date":1624438889,"post_id":56822593,"comment_id":120356875,"body_markdown":"This is an awesome summary of what can be done but this doesn&#39;t stress enough the sad fact (and the actual answer to the question) that there&#39;s no way to parametrize class creation in Junit 5 (and was possible in Junit 4.","body":"This is an awesome summary of what can be done but this doesn&#39;t stress enough the sad fact (and the actual answer to the question) that there&#39;s no way to parametrize class creation in Junit 5 (and was possible in Junit 4."}],"tags":[],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":2,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1636827986,"creation_date":1561872115,"answer_id":56822593,"question_id":46182118,"body_markdown":"Short answer\\\r\nthere&#39;s no way to parametrize *class creation* with **JUnit 5** following the style of **JUnit 4**.\r\n\r\nFortunately, the very intention of separation test logic and test input data (parameters) can be implemented differently. \r\n\r\n---\r\n\r\n**JUnit 5** has its own approach for making parameterized tests, and, of course, it is different from **JUnit 4**. The new approach does not allow to use parameterized fixtures at the class level, i.e. through its every test method.\r\nSo every parameterized test method should be explicitly annotated with a *link to parameters*.\r\n\r\n**JUnit 5** provides a plenty of parameter source types, that could be found in [documentation][1] and [guides][2]\r\n\r\nIn your case, the simplest way to migrate from `@Parameters` of **Junit 4** is using `@MethodSource` or `@ArgumentsSource` of `org.junit.jupiter.params.provider.*`.\r\n\r\n**JUnit 4**:\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class MyTestWithJunit4 {\r\n        @Parameters\r\n        public static Collection&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {     \r\n                   { 0, 0, 0 },\r\n                   { 1, 2, 3 }, \r\n                   { 5, 3, 8 } \r\n          });\r\n        }\r\n    \r\n        int first;\r\n        int second;\r\n        int sum;\r\n    \r\n        public MyTestWithJunit4(int first, int second, int sum) {\r\n          this.first = first;\r\n          this.second = second;\r\n          this.sum = sum;\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n          assertEquals(sum, first + second));\r\n        }\r\n    }\r\n\r\n\r\n**JUnit 5 (with `@MethodSource`)**:\r\n\r\n    class MyTestWithJunit5 {\r\n\r\n      @DisplayName(&quot;Test with @MethodSource&quot;)\r\n      @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\r\n      @MethodSource(&quot;localParameters&quot;)\r\n      void test(int first, int second, int sum) {\r\n        assertEquals(sum, first + second);\r\n      }\r\n    \r\n      static Stream&lt;Arguments&gt; localParameters() {\r\n        return Stream.of(\r\n            Arguments.of(0, 0, 0),\r\n            Arguments.of(1, 2, 3),\r\n            Arguments.of(5, 3, 8)\r\n        );\r\n      }\r\n    }\r\n    \r\n**JUnit 5 (with `@ArgumentsSource`)**:\r\n    \r\n    class MyTestWithJunit5 {\r\n      @DisplayName(&quot;Test with @ArgumentsSource&quot;)\r\n      @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\r\n      @ArgumentsSource(Params.class)\r\n      void test(int first, int second, int sum) {\r\n        assertEquals(sum, first + second);\r\n      }\r\n    \r\n      static class Params implements ArgumentsProvider {\r\n        @Override\r\n        public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\r\n          return Stream.of(\r\n              Arguments.of(0, 0, 0),\r\n              Arguments.of(1, 2, 3),\r\n              Arguments.of(5, 3, 8)\r\n          );\r\n        }\r\n      }\r\n    }\r\n    \r\n    \r\nConsider that a method in `@MethodSource` and a class in `@ArgumentsSource` could be described anywhere, not only inside the same class where the test methods are located. Also `@MethodSource` allows to provide multiple source methods, since its `value` is a `String[]`.\r\n\r\n**Some remarks and comparison**\r\n\r\nIn **JUnit 4** we could only have a single factory method providing parameters, and the tests were supposed to be built around those parameters.\r\nOn the contrary, **JUnit 5** gives more abstraction and flexibility in binding parameters and decouples test logic from its parameters, which are secondary.\r\nThat allows building tests independently from parameter sources, and easily change them when needed.\r\n\r\n\r\n**Dependency requirement**\r\n\r\nParameterized tests feature is not included in the core `junit-jupiter-engine`,\r\nbut is located in a separate dependency [`junit-jupiter-params`][3].\r\n\r\n\r\n  [1]: http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\r\n  [2]: https://nirajsonawane.github.io/2018/12/30/Junit-5-Write-Powerful-Unit-Test-Cases-Using-Parameterized-Tests\r\n  [3]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\r\n\r\n\r\n\r\n","title":"JUnit5 parameterized tests at class level","body":"<p>Short answer<br />\nthere's no way to parametrize <em>class creation</em> with <strong>JUnit 5</strong> following the style of <strong>JUnit 4</strong>.</p>\n<p>Fortunately, the very intention of separation test logic and test input data (parameters) can be implemented differently.</p>\n<hr />\n<p><strong>JUnit 5</strong> has its own approach for making parameterized tests, and, of course, it is different from <strong>JUnit 4</strong>. The new approach does not allow to use parameterized fixtures at the class level, i.e. through its every test method.\nSo every parameterized test method should be explicitly annotated with a <em>link to parameters</em>.</p>\n<p><strong>JUnit 5</strong> provides a plenty of parameter source types, that could be found in <a href=\"http://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"noreferrer\">documentation</a> and <a href=\"https://nirajsonawane.github.io/2018/12/30/Junit-5-Write-Powerful-Unit-Test-Cases-Using-Parameterized-Tests\" rel=\"noreferrer\">guides</a></p>\n<p>In your case, the simplest way to migrate from <code>@Parameters</code> of <strong>Junit 4</strong> is using <code>@MethodSource</code> or <code>@ArgumentsSource</code> of <code>org.junit.jupiter.params.provider.*</code>.</p>\n<p><strong>JUnit 4</strong>:</p>\n<pre><code>@RunWith(Parameterized.class)\npublic class MyTestWithJunit4 {\n    @Parameters\n    public static Collection&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {     \n               { 0, 0, 0 },\n               { 1, 2, 3 }, \n               { 5, 3, 8 } \n      });\n    }\n\n    int first;\n    int second;\n    int sum;\n\n    public MyTestWithJunit4(int first, int second, int sum) {\n      this.first = first;\n      this.second = second;\n      this.sum = sum;\n    }\n\n    @Test\n    public void test() {\n      assertEquals(sum, first + second));\n    }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@MethodSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n\n  @DisplayName(&quot;Test with @MethodSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @MethodSource(&quot;localParameters&quot;)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static Stream&lt;Arguments&gt; localParameters() {\n    return Stream.of(\n        Arguments.of(0, 0, 0),\n        Arguments.of(1, 2, 3),\n        Arguments.of(5, 3, 8)\n    );\n  }\n}\n</code></pre>\n<p><strong>JUnit 5 (with <code>@ArgumentsSource</code>)</strong>:</p>\n<pre><code>class MyTestWithJunit5 {\n  @DisplayName(&quot;Test with @ArgumentsSource&quot;)\n  @ParameterizedTest(name = &quot;{index}: ({0} + {1}) =&gt; {2})&quot;)\n  @ArgumentsSource(Params.class)\n  void test(int first, int second, int sum) {\n    assertEquals(sum, first + second);\n  }\n\n  static class Params implements ArgumentsProvider {\n    @Override\n    public Stream&lt;? extends Arguments&gt; provideArguments(ExtensionContext context) {\n      return Stream.of(\n          Arguments.of(0, 0, 0),\n          Arguments.of(1, 2, 3),\n          Arguments.of(5, 3, 8)\n      );\n    }\n  }\n}\n</code></pre>\n<p>Consider that a method in <code>@MethodSource</code> and a class in <code>@ArgumentsSource</code> could be described anywhere, not only inside the same class where the test methods are located. Also <code>@MethodSource</code> allows to provide multiple source methods, since its <code>value</code> is a <code>String[]</code>.</p>\n<p><strong>Some remarks and comparison</strong></p>\n<p>In <strong>JUnit 4</strong> we could only have a single factory method providing parameters, and the tests were supposed to be built around those parameters.\nOn the contrary, <strong>JUnit 5</strong> gives more abstraction and flexibility in binding parameters and decouples test logic from its parameters, which are secondary.\nThat allows building tests independently from parameter sources, and easily change them when needed.</p>\n<p><strong>Dependency requirement</strong></p>\n<p>Parameterized tests feature is not included in the core <code>junit-jupiter-engine</code>,\nbut is located in a separate dependency <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"noreferrer\"><code>junit-jupiter-params</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":50566,"reputation":9545,"user_id":150884,"accept_rate":83,"display_name":"hertzsprung"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1656406487,"creation_date":1656406487,"answer_id":72783483,"question_id":46182118,"body_markdown":"Create a meta annotation that specifies the parameterisation, and apply it to the test methods:\r\n```java\r\npublic class MyTest {\r\n    @ParameterizedTest(name = &quot;{0}&quot;)\r\n    @MethodSource(&quot;allImplementations&quot;)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    private @interface TestAllImplementations {\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; allImplementations() {\r\n        return Stream.of(\r\n             Arguments.of(&quot;Serial&quot;, new SerialWidget()),\r\n             Arguments.of(&quot;Concurrent&quot;, new ConcurrentWidget())\r\n        );\r\n    }\r\n\r\n    @TestAllImplementations\r\n    void myFirstTest(String name, Widget implementation) {\r\n        /* ... */\r\n    }\r\n\r\n    @TestAllImplementations\r\n    void mySecondTest(String name, Widget implementation) {\r\n        /* ... */\r\n    }\r\n}\r\n```\r\n","title":"JUnit5 parameterized tests at class level","body":"<p>Create a meta annotation that specifies the parameterisation, and apply it to the test methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTest {\n    @ParameterizedTest(name = &quot;{0}&quot;)\n    @MethodSource(&quot;allImplementations&quot;)\n    @Retention(RetentionPolicy.RUNTIME)\n    private @interface TestAllImplementations {\n    }\n\n    static Stream&lt;Arguments&gt; allImplementations() {\n        return Stream.of(\n             Arguments.of(&quot;Serial&quot;, new SerialWidget()),\n             Arguments.of(&quot;Concurrent&quot;, new ConcurrentWidget())\n        );\n    }\n\n    @TestAllImplementations\n    void myFirstTest(String name, Widget implementation) {\n        /* ... */\n    }\n\n    @TestAllImplementations\n    void mySecondTest(String name, Widget implementation) {\n        /* ... */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17043276,"reputation":1,"user_id":12330632,"display_name":"Super Meow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682627328,"creation_date":1682627328,"answer_id":76124400,"question_id":46182118,"body_markdown":"    @ParameterizedTest()\r\n    @MethodSource(&quot;dataProvider&quot;)\r\n    void testWithDataProvider(String str, List&lt;JSONObject&gt; list) {\r\n        System.out.println();\r\n\r\n    }\r\n\r\n    static Stream&lt;Arguments&gt; dataProvider() {\r\n        String json = &quot;&quot;&quot;\r\n                {\r\n                    &quot;test&quot;:1 \r\n                }\r\n                        &quot;&quot;&quot;;\r\n        return Stream.of(\r\n                arguments(&quot;abc&quot;, Arrays.asList(new JSONObject(json))),\r\n                arguments(&quot;lemon&quot;, Arrays.asList(new JSONObject(json)))\r\n        );\r\n\r\nI bypassed this complexity in this way","title":"JUnit5 parameterized tests at class level","body":"<pre><code>@ParameterizedTest()\n@MethodSource(&quot;dataProvider&quot;)\nvoid testWithDataProvider(String str, List&lt;JSONObject&gt; list) {\n    System.out.println();\n\n}\n\nstatic Stream&lt;Arguments&gt; dataProvider() {\n    String json = &quot;&quot;&quot;\n            {\n                &quot;test&quot;:1 \n            }\n                    &quot;&quot;&quot;;\n    return Stream.of(\n            arguments(&quot;abc&quot;, Arrays.asList(new JSONObject(json))),\n            arguments(&quot;lemon&quot;, Arrays.asList(new JSONObject(json)))\n    );\n</code></pre>\n<p>I bypassed this complexity in this way</p>\n"},{"comments":[{"owner":{"account_id":4442498,"reputation":1202,"user_id":3616714,"accept_rate":78,"display_name":"domin"},"score":0,"creation_date":1695811758,"post_id":77008774,"comment_id":136073264,"body_markdown":"Amazing! This saved my day! Thank you! :)","body":"Amazing! This saved my day! Thank you! :)"},{"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"score":0,"creation_date":1698679819,"post_id":77008774,"comment_id":136432696,"body_markdown":"@domin feel free to upvote :)","body":"@domin feel free to upvote :)"}],"tags":[],"owner":{"account_id":160773,"reputation":4709,"user_id":381083,"accept_rate":60,"display_name":"AmanicA"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693404241,"creation_date":1693404241,"answer_id":77008774,"question_id":46182118,"body_markdown":"The best solution I could find was to make the old test abstract.\r\nThen create a new class that has nested tests for each variation eg.\r\n\r\n    public class NewParametricTest {\r\n      @Nested\r\n      public class NewParametricTestVariation1Test\r\n        extends AbstractOriginalToBeParameticizedTest {\r\n        public NewParametricTestVariation1Test() {\r\n          super(&quot;Some parameter&quot;, 1);\r\n        }\r\n      }\r\n    \r\n      // add others here\r\n    }","title":"JUnit5 parameterized tests at class level","body":"<p>The best solution I could find was to make the old test abstract.\nThen create a new class that has nested tests for each variation eg.</p>\n<pre><code>public class NewParametricTest {\n  @Nested\n  public class NewParametricTestVariation1Test\n    extends AbstractOriginalToBeParameticizedTest {\n    public NewParametricTestVariation1Test() {\n      super(&quot;Some parameter&quot;, 1);\n    }\n  }\n\n  // add others here\n}\n</code></pre>\n"}],"owner":{"account_id":11645556,"reputation":915,"user_id":8528561,"display_name":"IS1_SO"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16869,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":4,"score":55,"last_activity_date":1693404241,"creation_date":1505236402,"question_id":46182118,"body_markdown":"Is it possible to use JUnit5&#39;s parameterized new features to run test classes to receive test parameters instead of doing it at method level?\r\n\r\nWith JUnit 4 a runner such as `@RunWith(Parameterized::class)` plus inheritance could be used to pass an array of parameters to subclasses, but I am not sure if it is possible to achieve something equivalent but using the new JUnit 5 api.","title":"JUnit5 parameterized tests at class level","body":"<p>Is it possible to use JUnit5's parameterized new features to run test classes to receive test parameters instead of doing it at method level?</p>\n\n<p>With JUnit 4 a runner such as <code>@RunWith(Parameterized::class)</code> plus inheritance could be used to pass an array of parameters to subclasses, but I am not sure if it is possible to achieve something equivalent but using the new JUnit 5 api.</p>\n"},{"tags":["java","keycloak"],"owner":{"account_id":29330280,"reputation":1,"user_id":22471890,"display_name":"Talindras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693403806,"creation_date":1693403806,"question_id":77008714,"body_markdown":"I&#39;m working on migrating out of an old database store. We&#39;ve created a user storage SPI that allows us to use the old system to validate credentials. This currently works. We validate the credentials in our custom CredentialInputValidator.isValid function. What we want to do is, the login to the old system is valid, we want to create a local user account matching the user and attach credentials.\r\n\r\nThe way this should work, as I understand it, is:\r\n\r\n    \r\n```\r\nLogin -&gt;\r\n        -&gt; Hits Custom User Storage SPI\r\n        -&gt; On Success\r\n            -&gt; Create local user account if not exists\r\n            -&gt; Attach new password credentials\r\n        -&gt; Is Logged In\r\n    Log Out\r\n    Log In -&gt;\r\n        -&gt; Checks Keycloak Local Users\r\n            -&gt; User Storage SPI is never checked, because the local account was previously created.\r\n        -&gt; UN/PW check\r\n            -&gt; (failure happens here)\r\n        -&gt; Is Logged In\r\n```\r\n\r\nThis is how it SHOULD work. Unfortunately, no matter what I try, it never lets me log in the second time (nor does it ever attempt to hit the User Storage SPI again, because the local account exists). I can see that the user and credentials were created in the realm under users; I can see the user and credential rows in public.user\\_entity and public.credential tables.\r\n\r\nNo matter what I try, I can never log in to the local account.\r\n\r\nBelow is my isValid function. Can anyone help me figure out what I&#39;m doing wrong?\r\n```\r\n\r\n        @Override\r\n        public boolean isValid(RealmModel realm, UserModel user, CredentialInput input) {\r\n            UserCredentialModel cred = (UserCredentialModel)input;\r\n            String password = cred.getValue();\r\n    \r\n            // Login to the legacy system.\r\n            String loginOutput = loginCMD(user.getUsername(), password, xForwardedFor);\r\n    \r\n            // Falures return a simple string &quot;false&quot;\r\n            Boolean valid = !loginOutput.equals(&quot;false&quot;);\r\n    \r\n            if (!valid) {\r\n                return valid;\r\n            }\r\n    \r\n            // Store the user back to Keycloak.\r\n            UserModel local = UserStoragePrivateUtil.userLocalStorage(session).getUserByUsername(realm, user.getUsername());\r\n    \r\n            if (local != null) {\r\n                return valid;\r\n            }\r\n    \r\n            local = UserStoragePrivateUtil.userLocalStorage(session).addUser(realm, user.getUsername());\r\n            local.setFirstName(&quot;firstName&quot;);\r\n            local.setLastName(&quot;lastName&quot;);\r\n            local.setEmail(user.getUsername());\r\n            local.setEnabled(true);\r\n            local.setUsername(user.getUsername());\r\n    \r\n            Pbkdf2PasswordHashProvider encoder = new Pbkdf2PasswordHashProvider(\r\n                Pbkdf2Sha512PasswordHashProviderFactory.ID,\r\n                Pbkdf2Sha512PasswordHashProviderFactory.PBKDF2_ALGORITHM,\r\n                Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS,\r\n                256 // Tried setting this to 512, as well, no dice.\r\n            );\r\n    \r\n            PasswordCredentialModel pcm = encoder.encodedCredential(password, Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS);\r\n    \r\n            Date date = new Date();\r\n            pcm.setCreatedDate(date.getTime());\r\n            pcm.setUserLabel(&quot;user-spi migration&quot;);\r\n    \r\n            if (!local.credentialManager().isConfiguredFor(input.getType())) {\r\n                try {\r\n                    local.credentialManager().createStoredCredential(pcm);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            return valid;\r\n        }\r\n```\r\n\r\n\r\n\r\nI tried creating a local user with a credential, and logging in using that account. The account and credential get created, but login always fails with \r\n&gt; DEBUG [org.keycloak.credential.PasswordCredentialProvider] (executor-thread-1) Failed password validation for user [redacted]","title":"Keycloak User SPI Migration Strategy Import - Failing at importing credentials","body":"<p>I'm working on migrating out of an old database store. We've created a user storage SPI that allows us to use the old system to validate credentials. This currently works. We validate the credentials in our custom CredentialInputValidator.isValid function. What we want to do is, the login to the old system is valid, we want to create a local user account matching the user and attach credentials.</p>\n<p>The way this should work, as I understand it, is:</p>\n<pre><code>Login -&gt;\n        -&gt; Hits Custom User Storage SPI\n        -&gt; On Success\n            -&gt; Create local user account if not exists\n            -&gt; Attach new password credentials\n        -&gt; Is Logged In\n    Log Out\n    Log In -&gt;\n        -&gt; Checks Keycloak Local Users\n            -&gt; User Storage SPI is never checked, because the local account was previously created.\n        -&gt; UN/PW check\n            -&gt; (failure happens here)\n        -&gt; Is Logged In\n</code></pre>\n<p>This is how it SHOULD work. Unfortunately, no matter what I try, it never lets me log in the second time (nor does it ever attempt to hit the User Storage SPI again, because the local account exists). I can see that the user and credentials were created in the realm under users; I can see the user and credential rows in public.user_entity and public.credential tables.</p>\n<p>No matter what I try, I can never log in to the local account.</p>\n<p>Below is my isValid function. Can anyone help me figure out what I'm doing wrong?</p>\n<pre><code>\n        @Override\n        public boolean isValid(RealmModel realm, UserModel user, CredentialInput input) {\n            UserCredentialModel cred = (UserCredentialModel)input;\n            String password = cred.getValue();\n    \n            // Login to the legacy system.\n            String loginOutput = loginCMD(user.getUsername(), password, xForwardedFor);\n    \n            // Falures return a simple string &quot;false&quot;\n            Boolean valid = !loginOutput.equals(&quot;false&quot;);\n    \n            if (!valid) {\n                return valid;\n            }\n    \n            // Store the user back to Keycloak.\n            UserModel local = UserStoragePrivateUtil.userLocalStorage(session).getUserByUsername(realm, user.getUsername());\n    \n            if (local != null) {\n                return valid;\n            }\n    \n            local = UserStoragePrivateUtil.userLocalStorage(session).addUser(realm, user.getUsername());\n            local.setFirstName(&quot;firstName&quot;);\n            local.setLastName(&quot;lastName&quot;);\n            local.setEmail(user.getUsername());\n            local.setEnabled(true);\n            local.setUsername(user.getUsername());\n    \n            Pbkdf2PasswordHashProvider encoder = new Pbkdf2PasswordHashProvider(\n                Pbkdf2Sha512PasswordHashProviderFactory.ID,\n                Pbkdf2Sha512PasswordHashProviderFactory.PBKDF2_ALGORITHM,\n                Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS,\n                256 // Tried setting this to 512, as well, no dice.\n            );\n    \n            PasswordCredentialModel pcm = encoder.encodedCredential(password, Pbkdf2Sha512PasswordHashProviderFactory.DEFAULT_ITERATIONS);\n    \n            Date date = new Date();\n            pcm.setCreatedDate(date.getTime());\n            pcm.setUserLabel(&quot;user-spi migration&quot;);\n    \n            if (!local.credentialManager().isConfiguredFor(input.getType())) {\n                try {\n                    local.credentialManager().createStoredCredential(pcm);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n    \n            return valid;\n        }\n</code></pre>\n<p>I tried creating a local user with a credential, and logging in using that account. The account and credential get created, but login always fails with</p>\n<blockquote>\n<p>DEBUG [org.keycloak.credential.PasswordCredentialProvider] (executor-thread-1) Failed password validation for user [redacted]</p>\n</blockquote>\n"},{"tags":["java","maven","liquibase","checkstyle"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1693465424,"post_id":77008670,"comment_id":135765138,"body_markdown":"what should that checkstyle check actually?","body":"what should that checkstyle check actually?"},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1694180379,"post_id":77008670,"comment_id":135861465,"body_markdown":"I have put an example here - liquibase that uses changeset file which is in XML format. File contains fields that I want to check togather with other checks from checkstyle which operate on JAVA files. What is not clear for you here?","body":"I have put an example here - liquibase that uses changeset file which is in XML format. File contains fields that I want to check togather with other checks from checkstyle which operate on JAVA files. What is not clear for you here?"}],"answers":[{"tags":[],"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693403764,"creation_date":1693403764,"answer_id":77008707,"question_id":77008670,"body_markdown":"I don&#39;t know what `liquibase` is.\r\n\r\nPossible, yes, but you will need to build out the new parser and checks that will go against the new file type. Its not a simple, easy process. Without the parser, you will have to rely on regexp or string based matching which can be very flawed.\r\n\r\nI myself tried to start things like this at https://github.com/rnveach/checkstyle-extras/ for my work but things changed for me and I don&#39;t really have the energy to build this out myself.","title":"How to write a custom checkstyle check to verify content of XML file?","body":"<p>I don't know what <code>liquibase</code> is.</p>\n<p>Possible, yes, but you will need to build out the new parser and checks that will go against the new file type. Its not a simple, easy process. Without the parser, you will have to rely on regexp or string based matching which can be very flawed.</p>\n<p>I myself tried to start things like this at <a href=\"https://github.com/rnveach/checkstyle-extras/\" rel=\"nofollow noreferrer\">https://github.com/rnveach/checkstyle-extras/</a> for my work but things changed for me and I don't really have the energy to build this out myself.</p>\n"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":77008707,"answer_count":1,"score":-2,"last_activity_date":1693403764,"creation_date":1693403386,"question_id":77008670,"body_markdown":"I&#39;m wondering is it posssible to write a custom checkstyle check that checks a file other then java source? For instance from src/main/resources? fiels like a liquibase changeset (it is a XML file)?\r\n\r\n**I do not have liquibase PRO licence to write my own liquidbase check and run it.*\r\n\r\n ","title":"How to write a custom checkstyle check to verify content of XML file?","body":"<p>I'm wondering is it posssible to write a custom checkstyle check that checks a file other then java source? For instance from src/main/resources? fiels like a liquibase changeset (it is a XML file)?</p>\n<p>*<em>I do not have liquibase PRO licence to write my own liquidbase check and run it.</em></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3540948,"reputation":5877,"user_id":2958086,"display_name":"Compass"},"score":0,"creation_date":1497981760,"post_id":44660071,"comment_id":76305410,"body_markdown":"Have you changed the module settings? Make sure it&#39;s not including an old jar.","body":"Have you changed the module settings? Make sure it&#39;s not including an old jar."},{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1497981784,"post_id":44660071,"comment_id":76305424,"body_markdown":"try deleting build folder(s) manually.","body":"try deleting build folder(s) manually."},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1497981824,"post_id":44660071,"comment_id":76305454,"body_markdown":"How can I do that? @Compass","body":"How can I do that? @Compass"},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1497981909,"post_id":44660071,"comment_id":76305522,"body_markdown":"I tried deleting all the .class files in the bin directory but that didn&#39;t work either. It&#39;s still picking up old class files. @NabinBhandari","body":"I tried deleting all the .class files in the bin directory but that didn&#39;t work either. It&#39;s still picking up old class files. @NabinBhandari"},{"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"score":0,"creation_date":1497982040,"post_id":44660071,"comment_id":76305596,"body_markdown":"Make sure they are cleaned properly. There is no way of deleted files being recovered and used automatically. \nLast Resort: Create new project or reinstall intelliJ","body":"Make sure they are cleaned properly. There is no way of deleted files being recovered and used automatically.  Last Resort: Create new project or reinstall intelliJ"},{"owner":{"account_id":5091817,"reputation":360,"user_id":4084636,"accept_rate":100,"display_name":"Adrian M."},"score":0,"creation_date":1498003921,"post_id":44660071,"comment_id":76315204,"body_markdown":"Are you using a development framework, for example Maven, or is all handcrafted?","body":"Are you using a development framework, for example Maven, or is all handcrafted?"},{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1498050150,"post_id":44660071,"comment_id":76337847,"body_markdown":"No, I am not using any development framework. @AdrianM.","body":"No, I am not using any development framework. @AdrianM."},{"owner":{"account_id":4548641,"reputation":600,"user_id":3772987,"display_name":"Grisotto"},"score":0,"creation_date":1562772712,"post_id":44660071,"comment_id":100484339,"body_markdown":"I just deleted `build` and `out` folders.","body":"I just deleted <code>build</code> and <code>out</code> folders."}],"answers":[{"comments":[{"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"score":0,"creation_date":1498051657,"post_id":44664873,"comment_id":76339122,"body_markdown":"I just imported the project to eclipse. It gave the the same problem as IntelliJ but I fiddled with some settings and it started working again. It is now working in IntelliJ as well. Not sure what caused the problem and what solved it either. @Rowan","body":"I just imported the project to eclipse. It gave the the same problem as IntelliJ but I fiddled with some settings and it started working again. It is now working in IntelliJ as well. Not sure what caused the problem and what solved it either. @Rowan"}],"tags":[],"owner":{"account_id":6511114,"reputation":59,"user_id":6797477,"display_name":"Rowan"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1498003729,"creation_date":1498003729,"answer_id":44664873,"question_id":44660071,"body_markdown":"I&#39;ve had the same issue and I haven&#39;t been able to consistently make it go away, however, here&#39;s some things I&#39;ve tried that could help:\r\n\r\n - delete .class files\r\n - invalidate caches and restart\r\n - check settings: sdk and source path imports of IDEA code might affect it\r\n - delete and reinstall intellij\r\n\r\nOr do what I&#39;ve ultimately done, which is to create a new project and avoid spending 5 hours tinkering with IntelliJ to get it to run my code properly.","title":"IntelliJ is running old class files","body":"<p>I've had the same issue and I haven't been able to consistently make it go away, however, here's some things I've tried that could help:</p>\n\n<ul>\n<li>delete .class files</li>\n<li>invalidate caches and restart</li>\n<li>check settings: sdk and source path imports of IDEA code might affect it</li>\n<li>delete and reinstall intellij</li>\n</ul>\n\n<p>Or do what I've ultimately done, which is to create a new project and avoid spending 5 hours tinkering with IntelliJ to get it to run my code properly.</p>\n"},{"comments":[{"owner":{"account_id":3486962,"reputation":882,"user_id":2917629,"accept_rate":21,"display_name":"user2917629"},"score":0,"creation_date":1688169839,"post_id":57877374,"comment_id":135042741,"body_markdown":"Thank you for posting, i realized this is a good place to see what .class files are in the project.","body":"Thank you for posting, i realized this is a good place to see what .class files are in the project."}],"tags":[],"owner":{"account_id":8810810,"reputation":21,"user_id":6583934,"display_name":"Mehdi Pourrostam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568145088,"creation_date":1568145088,"answer_id":57877374,"question_id":44660071,"body_markdown":"I had such a problem in IntelliJ by a maven enabled project.\r\nRunning maven clean phase and ... , but no effect,  \r\nany change to classes had no effect in deployed project. \r\nfinally I found the problem. \r\nclasses was hidden in this path: \r\n{Project Path}\\src\\main\\webapp\\WEB-INF\\classes{my packages}\r\nby removing this, problems has gone. \r\n\r\nHope it was useful. ","title":"IntelliJ is running old class files","body":"<p>I had such a problem in IntelliJ by a maven enabled project.\nRunning maven clean phase and ... , but no effect,<br>\nany change to classes had no effect in deployed project. \nfinally I found the problem. \nclasses was hidden in this path: \n{Project Path}\\src\\main\\webapp\\WEB-INF\\classes{my packages}\nby removing this, problems has gone. </p>\n\n<p>Hope it was useful. </p>\n"},{"tags":[],"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589831450,"creation_date":1589831450,"answer_id":61877857,"question_id":44660071,"body_markdown":"In my case it was the maven issue within Intellij settings. When I used bundled version it gave the error it should have. I don&#39;t know why giving actual path won&#39;t work but Bundled Version will work.","title":"IntelliJ is running old class files","body":"<p>In my case it was the maven issue within Intellij settings. When I used bundled version it gave the error it should have. I don't know why giving actual path won't work but Bundled Version will work.</p>\n"},{"tags":[],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604940153,"creation_date":1604940153,"answer_id":64755645,"question_id":44660071,"body_markdown":"Follow these steps to let IntelliJ &quot;forget&quot; all old internal files:\r\n\r\n 1. Close the running IntelliJ instance.\r\n 2. Delete the `.idea` directory of your project.\r\n 3. Open the project like a new project.\r\n\r\nAfter that you have a fresh IntelliJ project that probably needs some configuration (as usual).","title":"IntelliJ is running old class files","body":"<p>Follow these steps to let IntelliJ &quot;forget&quot; all old internal files:</p>\n<ol>\n<li>Close the running IntelliJ instance.</li>\n<li>Delete the <code>.idea</code> directory of your project.</li>\n<li>Open the project like a new project.</li>\n</ol>\n<p>After that you have a fresh IntelliJ project that probably needs some configuration (as usual).</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630583293,"creation_date":1630583293,"answer_id":69029698,"question_id":44660071,"body_markdown":"In the context of [Java Parser](https://github.com/javaparser/javaparser), I needed to run `mvn clean install -DskipTests` after each change on the command line. Then, class changes were available in IntelliJ. No other way helped here.","title":"IntelliJ is running old class files","body":"<p>In the context of <a href=\"https://github.com/javaparser/javaparser\" rel=\"nofollow noreferrer\">Java Parser</a>, I needed to run <code>mvn clean install -DskipTests</code> after each change on the command line. Then, class changes were available in IntelliJ. No other way helped here.</p>\n"},{"tags":[],"owner":{"account_id":4682052,"reputation":1016,"user_id":3790512,"accept_rate":64,"display_name":"ThCollignon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693403681,"creation_date":1693403681,"answer_id":77008696,"question_id":44660071,"body_markdown":"`mvn clean` fixed it for me.\r\n\r\nIn my case I ran all tests in a package and a deleted test class was included in the test. After `mvn clean` the deleted class doesn&#39;t appear any more.","title":"IntelliJ is running old class files","body":"<p><code>mvn clean</code> fixed it for me.</p>\n<p>In my case I ran all tests in a package and a deleted test class was included in the test. After <code>mvn clean</code> the deleted class doesn't appear any more.</p>\n"}],"owner":{"account_id":5723640,"reputation":823,"user_id":4521319,"accept_rate":53,"display_name":"Hemanth Annavarapu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8300,"favorite_count":0,"down_vote_count":1,"up_vote_count":15,"answer_count":6,"score":14,"last_activity_date":1693403681,"creation_date":1497981679,"question_id":44660071,"body_markdown":"I am using Intellij for my project development(Java). Strangely, whenever I try to run the project making some new changes to it, Intellij is always running old class files which were complied for a older version of my project. I tried recompiling, rebuilding, tried invalidate caches and restart, removed the project and opened it again but nothing seems to work. Not able to figure out the reason and now I am clueless what to do.\r\n\r\nAny help would be appreciated. Thank you.","title":"IntelliJ is running old class files","body":"<p>I am using Intellij for my project development(Java). Strangely, whenever I try to run the project making some new changes to it, Intellij is always running old class files which were complied for a older version of my project. I tried recompiling, rebuilding, tried invalidate caches and restart, removed the project and opened it again but nothing seems to work. Not able to figure out the reason and now I am clueless what to do.</p>\n\n<p>Any help would be appreciated. Thank you.</p>\n"},{"tags":["java","unit-testing","concurrency","completable-future"],"answers":[{"comments":[{"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"score":0,"creation_date":1693366281,"post_id":77004797,"comment_id":135749743,"body_markdown":"Thank you for this info, I know what spy can do, but the main point is I want to verify the method in async, how to combine spy to achieve that","body":"Thank you for this info, I know what spy can do, but the main point is I want to verify the method in async, how to combine spy to achieve that"},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1693368050,"post_id":77004797,"comment_id":135749856,"body_markdown":"understood. just update my answer for that","body":"understood. just update my answer for that"},{"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"score":0,"creation_date":1693370198,"post_id":77004797,"comment_id":135750011,"body_markdown":"Thank you, your update has all the details that I needed, 5 stars","body":"Thank you, your update has all the details that I needed, 5 stars"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1693397214,"post_id":77004797,"comment_id":135754819,"body_markdown":"Since you are constructing a new `String` via `StringBuilder`, it will never be the same (object) as the already existing thread name (string object). You have to use `isNotEqualTo` to check the string content. But why do you compare thread names instead of the actual thread reference at all? Use `AtomicReference&lt;Thread&gt;` instead  of `StringBuilder` and do `reference.set(Thread.currentThread())` inside the operation and `assertThat(reference.get()).isNotSameAs(Thread.currentThread());` in the final test.","body":"Since you are constructing a new <code>String</code> via <code>StringBuilder</code>, it will never be the same (object) as the already existing thread name (string object). You have to use <code>isNotEqualTo</code> to check the string content. But why do you compare thread names instead of the actual thread reference at all? Use <code>AtomicReference&lt;Thread&gt;</code> instead  of <code>StringBuilder</code> and do <code>reference.set(Thread.currentThread())</code> inside the operation and <code>assertThat(reference.get()).isNotSameAs(Thread.currentThread&zwnj;&#8203;());</code> in the final test."},{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":0,"creation_date":1693402763,"post_id":77004797,"comment_id":135756183,"body_markdown":"@Holger, thanks for the code review . i very much agree what you said . Your suggestion is very useful. let me update the codes","body":"@Holger, thanks for the code review . i very much agree what you said . Your suggestion is very useful. let me update the codes"}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693402993,"creation_date":1693365700,"answer_id":77004797,"question_id":77004658,"body_markdown":"Yes. You can spy the `ClassA` instance you want to test. The nice thing of a spy is that it allows you to test the real thing but at the same time can also let you to verify if certain of its method are really executed or not. \r\n\r\nAnother nice thing is that it allow you to add some codes that will be executed before actually executing the real method by using `doAnswer()`. So you can make use of it to capture the thread name that is used to execute methodB for verification later , and also setup a `CountDownLatch` such that the main thread will wait for the aysnc. thread to finish before proceeding. \r\n\r\n\r\nSo something likes as below after combining all of these :  \r\n\r\n``` java\r\n@Test\r\nvoid test(){\r\n    ClassA sut = new ClassA(xxx);\r\n    sut = spy(sut);\r\n\r\n    CountDownLatch latch = new CountDownLatch(1);\r\n    AtomicReference&lt;Thread&gt; asyncThreadRef = new AtomicReference();\r\n\r\n     doAnswer(ans -&gt; {\r\n            try {\r\n               asyncThreadRef.set(Thread.currentThread());\r\n                return ans.callRealMethod();\r\n            } finally {\r\n                latch.countDown();\r\n            }\r\n     }).when(sut).methodB(eq(aaa), eq(bbb));\r\n    \r\n    sut.methodA(aaa,bbb);\r\n    latch.await(500, TimeUnit.MILLISECONDS);\r\n\r\n    verify(sut, times(1)).methodB(aaa, bbb);\r\n    assertThat(asyncThreadRef.get()).isNotSameAs(Thread.currentThread());   \r\n}\r\n```","title":"Unittest verify async method Java","body":"<p>Yes. You can spy the <code>ClassA</code> instance you want to test. The nice thing of a spy is that it allows you to test the real thing but at the same time can also let you to verify if certain of its method are really executed or not.</p>\n<p>Another nice thing is that it allow you to add some codes that will be executed before actually executing the real method by using <code>doAnswer()</code>. So you can make use of it to capture the thread name that is used to execute methodB for verification later , and also setup a <code>CountDownLatch</code> such that the main thread will wait for the aysnc. thread to finish before proceeding.</p>\n<p>So something likes as below after combining all of these :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid test(){\n    ClassA sut = new ClassA(xxx);\n    sut = spy(sut);\n\n    CountDownLatch latch = new CountDownLatch(1);\n    AtomicReference&lt;Thread&gt; asyncThreadRef = new AtomicReference();\n\n     doAnswer(ans -&gt; {\n            try {\n               asyncThreadRef.set(Thread.currentThread());\n                return ans.callRealMethod();\n            } finally {\n                latch.countDown();\n            }\n     }).when(sut).methodB(eq(aaa), eq(bbb));\n    \n    sut.methodA(aaa,bbb);\n    latch.await(500, TimeUnit.MILLISECONDS);\n\n    verify(sut, times(1)).methodB(aaa, bbb);\n    assertThat(asyncThreadRef.get()).isNotSameAs(Thread.currentThread());   \n}\n</code></pre>\n"}],"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77004797,"answer_count":1,"score":0,"last_activity_date":1693402993,"creation_date":1693362949,"question_id":77004658,"body_markdown":"I want to verify that when run methodA, my code run through methodB asynchronously (1 time) like below\r\n\r\n```\r\npublic class ClassA {\r\n\r\n    @Inject\r\n    @Named(&quot;executor&quot;)\r\n    ExecutionContextExecutor eventHandlerExecutor;\r\n\r\n    public Object methodA (Object x, Object y) {\r\n        ...\r\n        CompletableFuture.runAsync(() -&gt; methodB(i, j), eventHandlerExecutor);\r\n        ...\r\n    }\r\n\r\n    public void methodB (Object n, Object m) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nHow should I write a unit test for this?\r\n\r\n```\r\nclassA.methodA(x, y);\r\n\r\n// can spying classA help to verify it?\r\nverify(classA, times(1)).methodB(any(), any());\r\n```\r\n","title":"Unittest verify async method Java","body":"<p>I want to verify that when run methodA, my code run through methodB asynchronously (1 time) like below</p>\n<pre><code>public class ClassA {\n\n    @Inject\n    @Named(&quot;executor&quot;)\n    ExecutionContextExecutor eventHandlerExecutor;\n\n    public Object methodA (Object x, Object y) {\n        ...\n        CompletableFuture.runAsync(() -&gt; methodB(i, j), eventHandlerExecutor);\n        ...\n    }\n\n    public void methodB (Object n, Object m) {\n        ...\n    }\n}\n</code></pre>\n<p>How should I write a unit test for this?</p>\n<pre><code>classA.methodA(x, y);\n\n// can spying classA help to verify it?\nverify(classA, times(1)).methodB(any(), any());\n</code></pre>\n"},{"tags":["java","html","css","pdf","flying-saucer"],"comments":[{"owner":{"account_id":13743867,"reputation":75,"user_id":9918191,"display_name":"zaro"},"score":1,"creation_date":1693407751,"post_id":77008614,"comment_id":135757433,"body_markdown":"I think the problem was that the original HTML code wasn&#39;t creating an A4 Page but just a smaller container with the information, that&#39;s why it appears that way. I changed the code to make the page as big as A4 and it works well now; it still has a little of this greyish thing in the bottom but its not a big deal.","body":"I think the problem was that the original HTML code wasn&#39;t creating an A4 Page but just a smaller container with the information, that&#39;s why it appears that way. I changed the code to make the page as big as A4 and it works well now; it still has a little of this greyish thing in the bottom but its not a big deal."}],"owner":{"account_id":13743867,"reputation":75,"user_id":9918191,"display_name":"zaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693402896,"creation_date":1693402896,"question_id":77008614,"body_markdown":"I am using Flying Saucer library to convert `.html` file to `.pdf` file, but the created `.pdf` doesn&#39;t fill the whole page and creates weird gaps. I tried using `@page { size: A4}` in the HTML code but it didn&#39;t work. What could be the problem? Here&#39;s the images of the `.pdf` file:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ONoAP.png","title":"How to set pdf size using Flying Saucer library?","body":"<p>I am using Flying Saucer library to convert <code>.html</code> file to <code>.pdf</code> file, but the created <code>.pdf</code> doesn't fill the whole page and creates weird gaps. I tried using <code>@page { size: A4}</code> in the HTML code but it didn't work. What could be the problem? Here's the images of the <code>.pdf</code> file:</p>\n<p><a href=\"https://i.stack.imgur.com/ONoAP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ONoAP.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693399886,"post_id":77008193,"comment_id":135755473,"body_markdown":"[this.setLayout(null);](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing)\n*// an ugly fix because swing is so broken* It isn&#39;t broken. What *is* broken is *your code* as you are ignoring Swing&#39;s threading model","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">this.setLayout(null);</a> <i>// an ugly fix because swing is so broken</i> It isn&#39;t broken. What <i>is</i> broken is <i>your code</i> as you are ignoring Swing&#39;s threading model"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1693401713,"post_id":77008193,"comment_id":135755908,"body_markdown":"You should be overriding `paintComponent()` and not `paint()` for `JPanel `, don&#39;t subcalss `JFrame` , and you should be doing most of your computations outside of the EDT as possible, to name a few problems out of many.  Check out the [Java Tutorials](https://docs.oracle.com/javase/tutorial/index.html) and [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html)","body":"You should be overriding <code>paintComponent()</code> and not <code>paint()</code> for <code>JPanel </code>, don&#39;t subcalss <code>JFrame</code> , and you should be doing most of your computations outside of the EDT as possible, to name a few problems out of many.  Check out the <a href=\"https://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1693402133,"post_id":77008193,"comment_id":135756029,"body_markdown":"1) Components should be added to the frame BEFORE the frame is made visible. 2) the updateOnSize() method is not needed. Use a proper layout manager and the size of components will automatically be resized based on the rules of the layout manager. 3) *an ugly fix because swing is so broken* - it is your code that is broken because of your lack of understanding how Swing works. Read the tutorials for examples showing a better way to structure your code and create the frame.","body":"1) Components should be added to the frame BEFORE the frame is made visible. 2) the updateOnSize() method is not needed. Use a proper layout manager and the size of components will automatically be resized based on the rules of the layout manager. 3) <i>an ugly fix because swing is so broken</i> - it is your code that is broken because of your lack of understanding how Swing works. Read the tutorials for examples showing a better way to structure your code and create the frame."},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1693403111,"post_id":77008193,"comment_id":135756263,"body_markdown":"Move this.setVisible(true); at the end. This will make the frame visible after the required components have been added to it and you will see it without any click or resize.","body":"Move this.setVisible(true); at the end. This will make the frame visible after the required components have been added to it and you will see it without any click or resize."}],"answers":[{"tags":[],"owner":{"account_id":29330050,"reputation":76,"user_id":22471702,"display_name":"user22471702"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1693402552,"creation_date":1693401439,"answer_id":77008420,"question_id":77008193,"body_markdown":"Override `paintComponent()` instead of `paint()`!\r\n\r\nBasically the drawing of the images is being done at the wrong order: the button is being painted first, that is, the image are being draw over the button.\r\n\r\nThe `paint()` method calls `paintComponent`, `paintBorder`, and `paintChildren` - drawing the *background* is better done in `paintComponent` so the component children are draw *over* the background.\r\n\r\n-----\r\n\r\nNote: it is also recommended to use a `LayoutManager`, that is, do not do `setLayout(null)`!\r\n\r\nAlso have a look at the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) tutorial.\r\n\r\n","title":"Why does JPanel not show its components until manually updated?","body":"<p>Override <code>paintComponent()</code> instead of <code>paint()</code>!</p>\n<p>Basically the drawing of the images is being done at the wrong order: the button is being painted first, that is, the image are being draw over the button.</p>\n<p>The <code>paint()</code> method calls <code>paintComponent</code>, <code>paintBorder</code>, and <code>paintChildren</code> - drawing the <em>background</em> is better done in <code>paintComponent</code> so the component children are draw <em>over</em> the background.</p>\n<hr />\n<p>Note: it is also recommended to use a <code>LayoutManager</code>, that is, do not do <code>setLayout(null)</code>!</p>\n<p>Also have a look at the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> tutorial.</p>\n"}],"owner":{"account_id":26641224,"reputation":19,"user_id":20256870,"display_name":"glowiak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1693402552,"creation_date":1693399687,"question_id":77008193,"body_markdown":"I see Java Swing components like JFrame or JPanel having such weird property, that they don&#39;t display their components, unless they are activated by, for example clicking them.\r\n\r\nAnd while in case of JFrame it can be solved simply by using the .pack() function, in case of JPanel it is literally hell.\r\n\r\nI have tried .updateUI(), .validate(), .repaint() and even setting it firstly to wrong size to then resize. Nothing works.\r\n\r\nPanel class:\r\n```\r\npackage com.glowiak.xup.ui;\r\n\r\nimport javax.swing.JPanel;\r\n\r\nimport javax.imageio.ImageIO;\r\n\r\nimport java.io.IOException;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JTextField;\r\nimport javax.swing.JButton;\r\n\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.ActionEvent;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class XupLoginPanel extends JPanel\r\n{\r\n\tprotected Image[] images;\r\n\tprotected JTextField tf_username;\r\n\tprotected JButton b_login;\r\n\t\r\n\tpublic XupLoginPanel()\r\n\t{\r\n\t\tthis.setPreferredSize(new Dimension(16 * 50, 16 * 30));\r\n\t\tthis.setLayout(null);\r\n\t\t\r\n\t\tthis.loadImages();\r\n\t\tthis.initComponents();\r\n\t\tthis.updateOnResize();\r\n\t}\r\n\tprivate final void loadImages()\r\n\t{\r\n\t\tthis.images = new Image[5];\r\n\t\t\r\n\t\ttry {\r\n\t\t\tthis.images[0] = ImageIO.read(this.getClass().getResource(&quot;/dirt.png&quot;));\r\n\t\t\tthis.images[0] = this.images[0].getScaledInstance(32, 32, Image.SCALE_DEFAULT);\r\n\t\t\t\r\n\t\t\tthis.images[1] = ImageIO.read(this.getClass().getResource(&quot;/logo.png&quot;));\r\n\t\t\tthis.images[1] = this.images[1].getScaledInstance(512, 512, Image.SCALE_DEFAULT);\r\n\t\t\t\r\n\t\t\tthis.images[2] = ImageIO.read(this.getClass().getResource(&quot;/favicon.png&quot;));\r\n\t\t} catch (IOException ioe)\r\n\t\t{\r\n\t\t\tioe.printStackTrace();\r\n\t\t\tSystem.exit(1);\r\n\t\t}\r\n\t}\r\n\tprivate final void initComponents()\r\n\t{\r\n\t\tthis.tf_username = new JTextField();\r\n\t\tthis.b_login = new JButton(&quot;Play&quot;);\r\n\t\t\r\n\t\tthis.add(this.tf_username);\r\n\t\tthis.add(this.b_login);\r\n\t}\r\n\tprotected final void updateOnResize()\r\n\t{\r\n\t\tthis.tf_username.setBounds(this.getWidth() / 2 - 60, 160, 120, 25);\r\n\t\tthis.b_login.setBounds(this.getWidth() / 2 - 60, 210, 120, 35);\r\n\t}\r\n\tpublic void paint(Graphics g)\r\n\t{\r\n\t\tsuper.paint(g);\r\n\t\t\r\n\t\tint tx = (int)(this.getWidth() / 32) + 2;\r\n\t\tint ty = (int)(this.getHeight() / 32) + 2;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; tx; i++)\r\n\t\t{\r\n\t\t\tfor (int j = 0; j &lt; ty; j++)\r\n\t\t\t{\r\n\t\t\t\tg.drawImage(this.images[0], i * 32, j * 32, null);\r\n\t\t\t}\r\n\t\t}\r\n\t\tg.drawImage(this.images[1], this.getWidth() / 2 - 256, 25, null);\r\n\t\t\r\n\t\tg.setColor(Color.lightGray);\r\n\t\ttx = this.getWidth() / 2 - 80;\r\n\t\tty = 130;\r\n\t\tint w = (this.getWidth() / 2 + 80) - tx;\r\n\t\tint h = 150;\r\n\t\tg.fillRect(tx, ty, w, h);\r\n\t\t\r\n\t\tg.setColor(Color.black);\r\n\t\tg.drawString(&quot;Username:&quot;, tx + 45, ty + 20);\r\n\t}\r\n}\r\n```\r\nwindow class:\r\n```\r\npackage com.glowiak.xup.ui;\r\n\r\nimport javax.swing.JFrame;\r\n\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\nimport com.glowiak.xup.launcher.Launcher;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class XupWindow extends JFrame\r\n{\r\n\tprotected XupLoginPanel p_login;\r\n\t\r\n\tpublic Launcher launcher;\r\n\t\r\n\tpublic XupWindow()\r\n\t{\r\n\t\tsuper(&quot;Minecraft Launcher&quot;);\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setVisible(true);\r\n\t\t//this.setResizable(false);\r\n\t\t\r\n\t\tthis.launcher = new Launcher();\r\n\t\t\r\n\t\tthis.p_login = new XupLoginPanel();\r\n\t\t\r\n\t\tthis.setIconImage(this.p_login.images[2]);\r\n\t\t\r\n\t\tthis.addComponentListener(new ComponentAdapter()\r\n\t\t{\r\n\t\t\tpublic void componentResized(ComponentEvent e)\r\n\t\t\t{\r\n\t\t\t\tp_login.updateOnResize();\r\n\t\t\t\tp_login.validate();\r\n\t\t\t\tp_login.updateUI();\r\n\t\t\t\tp_login.repaint();\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tthis.add(this.p_login);\r\n\t\t\r\n\t\tthis.pack();\r\n\t\t\r\n\t\t// an ugly fix because swing is so broken\r\n\t\ttry { Thread.sleep(2); } catch (Exception e) {}\r\n\t\tthis.setSize(16 * 50, 16 * 30);\r\n\t\ttry { Thread.sleep(2); } catch (Exception e) {}\r\n\t\tthis.p_login.validate();\r\n\t\tthis.p_login.updateUI();\r\n\t\tthis.p_login.repaint();\r\n\t}\r\n}\r\n```\r\n\r\nThanks in advance.","title":"Why does JPanel not show its components until manually updated?","body":"<p>I see Java Swing components like JFrame or JPanel having such weird property, that they don't display their components, unless they are activated by, for example clicking them.</p>\n<p>And while in case of JFrame it can be solved simply by using the .pack() function, in case of JPanel it is literally hell.</p>\n<p>I have tried .updateUI(), .validate(), .repaint() and even setting it firstly to wrong size to then resize. Nothing works.</p>\n<p>Panel class:</p>\n<pre><code>package com.glowiak.xup.ui;\n\nimport javax.swing.JPanel;\n\nimport javax.imageio.ImageIO;\n\nimport java.io.IOException;\n\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.Color;\n\nimport javax.swing.JTextField;\nimport javax.swing.JButton;\n\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class XupLoginPanel extends JPanel\n{\n    protected Image[] images;\n    protected JTextField tf_username;\n    protected JButton b_login;\n    \n    public XupLoginPanel()\n    {\n        this.setPreferredSize(new Dimension(16 * 50, 16 * 30));\n        this.setLayout(null);\n        \n        this.loadImages();\n        this.initComponents();\n        this.updateOnResize();\n    }\n    private final void loadImages()\n    {\n        this.images = new Image[5];\n        \n        try {\n            this.images[0] = ImageIO.read(this.getClass().getResource(&quot;/dirt.png&quot;));\n            this.images[0] = this.images[0].getScaledInstance(32, 32, Image.SCALE_DEFAULT);\n            \n            this.images[1] = ImageIO.read(this.getClass().getResource(&quot;/logo.png&quot;));\n            this.images[1] = this.images[1].getScaledInstance(512, 512, Image.SCALE_DEFAULT);\n            \n            this.images[2] = ImageIO.read(this.getClass().getResource(&quot;/favicon.png&quot;));\n        } catch (IOException ioe)\n        {\n            ioe.printStackTrace();\n            System.exit(1);\n        }\n    }\n    private final void initComponents()\n    {\n        this.tf_username = new JTextField();\n        this.b_login = new JButton(&quot;Play&quot;);\n        \n        this.add(this.tf_username);\n        this.add(this.b_login);\n    }\n    protected final void updateOnResize()\n    {\n        this.tf_username.setBounds(this.getWidth() / 2 - 60, 160, 120, 25);\n        this.b_login.setBounds(this.getWidth() / 2 - 60, 210, 120, 35);\n    }\n    public void paint(Graphics g)\n    {\n        super.paint(g);\n        \n        int tx = (int)(this.getWidth() / 32) + 2;\n        int ty = (int)(this.getHeight() / 32) + 2;\n        \n        for (int i = 0; i &lt; tx; i++)\n        {\n            for (int j = 0; j &lt; ty; j++)\n            {\n                g.drawImage(this.images[0], i * 32, j * 32, null);\n            }\n        }\n        g.drawImage(this.images[1], this.getWidth() / 2 - 256, 25, null);\n        \n        g.setColor(Color.lightGray);\n        tx = this.getWidth() / 2 - 80;\n        ty = 130;\n        int w = (this.getWidth() / 2 + 80) - tx;\n        int h = 150;\n        g.fillRect(tx, ty, w, h);\n        \n        g.setColor(Color.black);\n        g.drawString(&quot;Username:&quot;, tx + 45, ty + 20);\n    }\n}\n</code></pre>\n<p>window class:</p>\n<pre><code>package com.glowiak.xup.ui;\n\nimport javax.swing.JFrame;\n\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport com.glowiak.xup.launcher.Launcher;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class XupWindow extends JFrame\n{\n    protected XupLoginPanel p_login;\n    \n    public Launcher launcher;\n    \n    public XupWindow()\n    {\n        super(&quot;Minecraft Launcher&quot;);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setVisible(true);\n        //this.setResizable(false);\n        \n        this.launcher = new Launcher();\n        \n        this.p_login = new XupLoginPanel();\n        \n        this.setIconImage(this.p_login.images[2]);\n        \n        this.addComponentListener(new ComponentAdapter()\n        {\n            public void componentResized(ComponentEvent e)\n            {\n                p_login.updateOnResize();\n                p_login.validate();\n                p_login.updateUI();\n                p_login.repaint();\n            }\n        });\n        \n        this.add(this.p_login);\n        \n        this.pack();\n        \n        // an ugly fix because swing is so broken\n        try { Thread.sleep(2); } catch (Exception e) {}\n        this.setSize(16 * 50, 16 * 30);\n        try { Thread.sleep(2); } catch (Exception e) {}\n        this.p_login.validate();\n        this.p_login.updateUI();\n        this.p_login.repaint();\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","macos","info.plist"],"answers":[{"comments":[{"owner":{"account_id":29328817,"reputation":19,"user_id":22470725,"display_name":"Jonas"},"score":0,"creation_date":1693741318,"post_id":77008553,"comment_id":135797890,"body_markdown":"Thank you for this! I was not aware of JPackage, as I have been stuck with Java 8. I have now changed our pipeline so that I extract the application files from the .app created by Advanced Installer, and then packed once more with JPackage with a custom runtime image. It will do for now, and in the next iteration of the app we will drop Advanced Installer completely.","body":"Thank you for this! I was not aware of JPackage, as I have been stuck with Java 8. I have now changed our pipeline so that I extract the application files from the .app created by Advanced Installer, and then packed once more with JPackage with a custom runtime image. It will do for now, and in the next iteration of the app we will drop Advanced Installer completely."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693402503,"creation_date":1693402503,"answer_id":77008553,"question_id":77007289,"body_markdown":"It was never the application that read Info.plist - it was the launcher. You replaced it with a different implementation, and this different implementation seems to not read the information.\r\n\r\nBut why do you need to read that information at all? It cannot be anything that was unknown at build time, so if your application needs it you can either read Info.plist in Java or inject something in your jar directy.\r\n\r\nYou might also want to consider switching to the standard packager for Java applications, [JPackage][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A","title":"Why does my Java app not read keys from Info.plist","body":"<p>It was never the application that read Info.plist - it was the launcher. You replaced it with a different implementation, and this different implementation seems to not read the information.</p>\n<p>But why do you need to read that information at all? It cannot be anything that was unknown at build time, so if your application needs it you can either read Info.plist in Java or inject something in your jar directy.</p>\n<p>You might also want to consider switching to the standard packager for Java applications, <a href=\"https://docs.oracle.com/en/java/javase/19/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\">JPackage</a>.</p>\n"}],"owner":{"account_id":29328817,"reputation":19,"user_id":22470725,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":77008553,"answer_count":1,"score":0,"last_activity_date":1693402503,"creation_date":1693392454,"question_id":77007289,"body_markdown":"My company has a Java application with bundled Java that we distribute to customers, both Windows and macOS users. Our setup uses Advanced Installer that creates both the msi file for Windows and the app package for macOS. We have not notarized the macOS app previously, just signed it, but now one of our customers requires notarization. Unfortuntely, the signing process that is required for notarization, breaks the app launcher file provided by Advanced Installer (this is a known problem, and they do not currently have a fix). So I have replaced it with JavaMacLauncher (https://github.com/OpenIndex/JavaMacLauncher). And now the app is correctly notarized.\r\n\r\nBut my problem is that the app no longer seem to read information from Info.plist after startup. Earlier we had to add the key NSRequiresAquaSystemAppearance with the value YES to prevent it from using dark mode, but this key is no longer respected. Additionally the LSMinimumSystemVersion key also seems to be ignored.\r\n\r\nJavaMacLauncher is started based on the key CFBundleExecutable in Info.plist. It also fetches the Java options used when starting the app. So the file is read before startup.\r\n\r\nSo I&#39;m wondering if I need to add some additional values to the startup script before the Java command is executed. Or if I&#39;m missing an option in the Java command itself, maybe from where the app is launched? Do I need to refer to the bundle identifier from the startup script?\r\n\r\nThe content of my app launcher is this:\r\n```\r\nexec /Applications/MyApp.app/Contents/PlugIns/temurin-8.jdk/Contents/Home/bin/java \\\r\n    -Xms32m \\\r\n    -Xmx512m \\\r\n    -Xdock:name=&quot;My App&quot; \\\r\n    -Xdock:icon=&quot;/Applications/MyApp.app/Contents/Resources/myappicon.icns&quot; \\\r\n    -XstartOnFirstThread \\\r\n    -Dinstalled.directory=&quot;/Applications/MyApp.app/Contents/Java&quot; \\\r\n    -Dprogram.version=1.2.3 \\\r\n    -Dteamdev.licence.info=true \\\r\n    -d64 \\\r\n    -Xdebug \\\r\n    -classpath &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar;/Applications/MyApp.app/Contents/Java/lib&quot; \\\r\n    -jar &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar&quot;\r\n```\r\n    \r\nThe app launcher is located in /Applications/MyApp.app/Contents/MacOS.The bundled Java is under ../Contents/PlugIns and the Java files are under ../Contents/Java.\r\n    \r\nI get the same result if I try other AppLaunchers, and also when I start the application from the terminal with the above command.\r\n    \r\nIf anyone could give me some pointers, it would be greatly appreciated.","title":"Why does my Java app not read keys from Info.plist","body":"<p>My company has a Java application with bundled Java that we distribute to customers, both Windows and macOS users. Our setup uses Advanced Installer that creates both the msi file for Windows and the app package for macOS. We have not notarized the macOS app previously, just signed it, but now one of our customers requires notarization. Unfortuntely, the signing process that is required for notarization, breaks the app launcher file provided by Advanced Installer (this is a known problem, and they do not currently have a fix). So I have replaced it with JavaMacLauncher (<a href=\"https://github.com/OpenIndex/JavaMacLauncher\" rel=\"nofollow noreferrer\">https://github.com/OpenIndex/JavaMacLauncher</a>). And now the app is correctly notarized.</p>\n<p>But my problem is that the app no longer seem to read information from Info.plist after startup. Earlier we had to add the key NSRequiresAquaSystemAppearance with the value YES to prevent it from using dark mode, but this key is no longer respected. Additionally the LSMinimumSystemVersion key also seems to be ignored.</p>\n<p>JavaMacLauncher is started based on the key CFBundleExecutable in Info.plist. It also fetches the Java options used when starting the app. So the file is read before startup.</p>\n<p>So I'm wondering if I need to add some additional values to the startup script before the Java command is executed. Or if I'm missing an option in the Java command itself, maybe from where the app is launched? Do I need to refer to the bundle identifier from the startup script?</p>\n<p>The content of my app launcher is this:</p>\n<pre><code>exec /Applications/MyApp.app/Contents/PlugIns/temurin-8.jdk/Contents/Home/bin/java \\\n    -Xms32m \\\n    -Xmx512m \\\n    -Xdock:name=&quot;My App&quot; \\\n    -Xdock:icon=&quot;/Applications/MyApp.app/Contents/Resources/myappicon.icns&quot; \\\n    -XstartOnFirstThread \\\n    -Dinstalled.directory=&quot;/Applications/MyApp.app/Contents/Java&quot; \\\n    -Dprogram.version=1.2.3 \\\n    -Dteamdev.licence.info=true \\\n    -d64 \\\n    -Xdebug \\\n    -classpath &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar;/Applications/MyApp.app/Contents/Java/lib&quot; \\\n    -jar &quot;/Applications/MyApp.app/Contents/Java/MyApp.jar&quot;\n</code></pre>\n<p>The app launcher is located in /Applications/MyApp.app/Contents/MacOS.The bundled Java is under ../Contents/PlugIns and the Java files are under ../Contents/Java.</p>\n<p>I get the same result if I try other AppLaunchers, and also when I start the application from the terminal with the above command.</p>\n<p>If anyone could give me some pointers, it would be greatly appreciated.</p>\n"},{"tags":["java","android","macos","visual-studio","xamarin"],"comments":[{"owner":{"account_id":10528629,"reputation":58529,"user_id":7758804,"display_name":"Trenton McKinney"},"score":3,"creation_date":1693061896,"post_id":76935856,"comment_id":135711674,"body_markdown":"The OP stated https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12 Solved this issue. The question will be marked as a duplicate when the bounty expires.","body":"The OP stated <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\" title=\"android studio error manifest merger failed apps targeting android 12\">stackoverflow.com/questions/67412084/&hellip;</a> Solved this issue. The question will be marked as a duplicate when the bounty expires."},{"owner":{"account_id":10528629,"reputation":58529,"user_id":7758804,"display_name":"Trenton McKinney"},"score":0,"creation_date":1693575496,"post_id":76935856,"comment_id":135783166,"body_markdown":"Does this answer your question? [Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;](https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67412084/android-studio-error-manifest-merger-failed-apps-targeting-android-12\">Android Studio error: &quot;Manifest merger failed: Apps targeting Android 12&quot;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5955271,"reputation":39,"user_id":4682140,"display_name":"Larry Feldman"},"score":0,"creation_date":1692532807,"post_id":76938632,"comment_id":135633540,"body_markdown":"Thanks for your answer! When you write &quot;Java 11.0&quot;, is that the same thing as Java SDK 11.0?  If so, the error message specifically says I need Java SDK 11.0 or above.","body":"Thanks for your answer! When you write &quot;Java 11.0&quot;, is that the same thing as Java SDK 11.0?  If so, the error message specifically says I need Java SDK 11.0 or above."},{"owner":{"account_id":26226041,"reputation":2600,"user_id":19902734,"display_name":"Jianwei Sun - MSFT"},"score":0,"creation_date":1692778185,"post_id":76938632,"comment_id":135669185,"body_markdown":"*When you write &quot;Java 11.0&quot;, is that the same thing as Java SDK 11.0?* Yes.","body":"<i>When you write &quot;Java 11.0&quot;, is that the same thing as Java SDK 11.0?</i> Yes."}],"tags":[],"owner":{"account_id":26934379,"reputation":1,"user_id":20506234,"display_name":"Dewmith Mihisara"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1692521132,"creation_date":1692521132,"answer_id":76938632,"question_id":76935856,"body_markdown":"First, you need to verify which version of Java you have installed on your system.If you&#39;re indeed using Java 11.0, you should install an earlier version of Java that is compatible with the Android Designer. Historically, Android development has been most compatible with Java 8.\r\n\r\nAfter installing the compatible version of Java, you may need to configure your system to use that version. This might involve updating the JAVA_HOME environment variable to point to the directory where the compatible Java version is installed.\r\n\r\nMake sure that your Visual Studio for Mac is up to date. Sometimes, newer updates include fixes for compatibility issues.\r\n\r\nCheck your Xamarin.Android project settings within Visual Studio for Mac to ensure that it&#39;s using the correct Java version. You might need to specify the path to the compatible Java SDK in your project settings.\r\n\r\nIf there are any project files or configuration files where you can specify the Java SDK version, review them to ensure that the correct version is being used.","title":"How to fix Xamarin Error in Visual Studio for Mac 8.10.25 (build 2) &quot;Java SDK 11.0 or above is required when using $(TargetFrameworkVersion)v12.0","body":"<p>First, you need to verify which version of Java you have installed on your system.If you're indeed using Java 11.0, you should install an earlier version of Java that is compatible with the Android Designer. Historically, Android development has been most compatible with Java 8.</p>\n<p>After installing the compatible version of Java, you may need to configure your system to use that version. This might involve updating the JAVA_HOME environment variable to point to the directory where the compatible Java version is installed.</p>\n<p>Make sure that your Visual Studio for Mac is up to date. Sometimes, newer updates include fixes for compatibility issues.</p>\n<p>Check your Xamarin.Android project settings within Visual Studio for Mac to ensure that it's using the correct Java version. You might need to specify the path to the compatible Java SDK in your project settings.</p>\n<p>If there are any project files or configuration files where you can specify the Java SDK version, review them to ensure that the correct version is being used.</p>\n"}],"owner":{"account_id":5955271,"reputation":39,"user_id":4682140,"display_name":"Larry Feldman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1693402336,"creation_date":1692459217,"question_id":76935856,"body_markdown":"I&#39;m getting this error in VS for Mac 8.10.25 (build 2):\r\n\r\n&gt; /Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Legacy.targets(252,5): error XA0031: Note: the Android Designer is incompatible with Java SDK 11.0: https://aka.ms/vs2019-and-jdk-11\r\n\r\nI&#39;ve seen some answers on Stack Overflow for Visual Studio for PC, but I haven&#39;t been able to understand and/or apply the answers for my Mac hardware and software.\r\n","title":"How to fix Xamarin Error in Visual Studio for Mac 8.10.25 (build 2) &quot;Java SDK 11.0 or above is required when using $(TargetFrameworkVersion)v12.0","body":"<p>I'm getting this error in VS for Mac 8.10.25 (build 2):</p>\n<blockquote>\n<p>/Library/Frameworks/Mono.framework/External/xbuild/Xamarin/Android/Xamarin.Android.Legacy.targets(252,5): error XA0031: Note: the Android Designer is incompatible with Java SDK 11.0: <a href=\"https://aka.ms/vs2019-and-jdk-11\" rel=\"nofollow noreferrer\">https://aka.ms/vs2019-and-jdk-11</a></p>\n</blockquote>\n<p>I've seen some answers on Stack Overflow for Visual Studio for PC, but I haven't been able to understand and/or apply the answers for my Mac hardware and software.</p>\n"},{"tags":["java","linux","jar"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1693168495,"post_id":76988639,"comment_id":135721108,"body_markdown":"A jar is literally a zip file with a manifest. Your `jar tf` shows the desired classes were jarred with the desired structure. **What** are you asking? Why the command doesn&#39;t work like you thought it should from the documentation? Why are you even using jar manually? You should be using a build tool. And it should do the packaging.","body":"A jar is literally a zip file with a manifest. Your <code>jar tf</code> shows the desired classes were jarred with the desired structure. <b>What</b> are you asking? Why the command doesn&#39;t work like you thought it should from the documentation? Why are you even using jar manually? You should be using a build tool. And it should do the packaging."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1693170771,"post_id":76988639,"comment_id":135721322,"body_markdown":"@ElliottFrisch I&#39;m asking why the *first* file should be relative to the directory specified by `-C` when all others should be absolute or relative to current directory (which leads to *&quot;why the inconsistency between `man` and `--help`&quot;*).","body":"@ElliottFrisch I&#39;m asking why the <i>first</i> file should be relative to the directory specified by <code>-C</code> when all others should be absolute or relative to current directory (which leads to <i>&quot;why the inconsistency between <code>man</code> and <code>--help</code>&quot;</i>)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693171123,"post_id":76988639,"comment_id":135721356,"body_markdown":"The [documentation](https://docs.oracle.com/en/java/javase/18/docs/specs/man/jar.html) isn’t very clear on how multiple `-C` options work, and in fact I see a mistake in that documentation.  It does seem to faintly imply that all files after a -C *dir* should be relative to *dir*.","body":"The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/specs/man/jar.html\" rel=\"nofollow noreferrer\">documentation</a> isn’t very clear on how multiple <code>-C</code> options work, and in fact I see a mistake in that documentation.  It does seem to faintly imply that all files after a -C <i>dir</i> should be relative to <i>dir</i>."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1693171374,"post_id":76988639,"comment_id":135721383,"body_markdown":"@VGR indeed, the documentation is misleading on that point, but that&#39;s how I would expect it to work. And tbh I wasn&#39;t sure whether multiple `-C` would work, I tried my luck... ;)","body":"@VGR indeed, the documentation is misleading on that point, but that&#39;s how I would expect it to work. And tbh I wasn&#39;t sure whether multiple <code>-C</code> would work, I tried my luck... ;)"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1693171527,"post_id":76988639,"comment_id":135721402,"body_markdown":"On the other hand, `jar --help` describes the `-C` option with “Change to the specified directory and include the following file”.  The word ‘file’ is singular.  I have might have questioned whether that’s a careful decision or merely a bit of carelessness, but your observation seems to suggest the former.","body":"On the other hand, <code>jar --help</code> describes the <code>-C</code> option with “Change to the specified directory and include the following file”.  The word ‘file’ is singular.  I have might have questioned whether that’s a careful decision or merely a bit of carelessness, but your observation seems to suggest the former."}],"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1693401864,"creation_date":1693164562,"question_id":76988639,"body_markdown":"I&#39;m trying to understand what I find a strange behavior for `jar`.\r\n\r\n**TL;DR** `jar -C dir file1 file2 file3` expects `file1` relative to `dir` and all other `file2`, `file3`, ... relative to current directory.\r\n\r\n---\r\n\r\nI have a directory containing many classes and want to create a jar file with some of them (i.e. not all from a specific directory). I also need to include some resources from another directory and want the paths stored in the jar relative to those directories:\r\n\r\n```\r\n$ tree\r\n.\r\n├── classes\r\n│&#160;&#160; └── com\r\n│&#160;&#160;     ├── c2.class\r\n│&#160;&#160;     └── cc1.class\r\n└── ressources\r\n│&#160;&#160; └── res\r\n│&#160;&#160;     ├── a.png\r\n│&#160;&#160;     └── b.png\r\n```\r\n\r\nI want to have a jar storing these paths:\r\n\r\n```\r\ncom/cc1.class\r\ncom/c2.class\r\nres/a.png\r\nres/b.png\r\n```\r\n\r\nI initially thought using `-C` before adding each individual files from the same &quot;group&quot; directory but it&#39;s not working:\r\n\r\n```\r\n$ jar -cf test.jar -C classes/ com/cc1.class com/c2.class -C resources/ res/a.png res/b.png\r\ncom/c2.class : no such file or directory\r\nres/b.png : no such file or directory\r\n```\r\n\r\nThe error is on the second file only; the first one begin OK...\r\n\r\n```\r\n$ jar -cf test.jar -C classes/ com/cc1.class ./classes/com/c2.class -C resources/ res/a.png ./resources/res/b.png\r\n```\r\n\r\nJar was created successfully:\r\n\r\n```\r\n$ jar tf test.jar\r\nMETA-INF/\r\nMETA-INF/MANIFEST.MF\r\ncom/cc1.class\r\ncom/c2.class\r\nres/a.png\r\nres/b.png\r\n```\r\n\r\nThe behaviour feels odd: I have to give the *first* file a path *relative to `-C`* and all other files a path *relative to `.`* (or an absolute path also works)?\r\n\r\nThe `man` says:\r\n\r\n&gt; -C DIR Changes the specified directory and includes the **files** specified at the end of the command line.\r\n\r\n(note the plural `include the *files*`).\r\n\r\n... but `jar --help` says otherwise:\r\n\r\n&gt; -C DIR  Change to the specified directory and include the **following file**\r\n\r\n(note the singular `include the *following file*`).\r\n\r\nIndeed, the `jar --help` is correct and `man` is misleading, but why that behavior?\r\n\r\n`jar --version` gives `jar 18.0.2-ea`.","title":"jar -C behavior for multiple files","body":"<p>I'm trying to understand what I find a strange behavior for <code>jar</code>.</p>\n<p><strong>TL;DR</strong> <code>jar -C dir file1 file2 file3</code> expects <code>file1</code> relative to <code>dir</code> and all other <code>file2</code>, <code>file3</code>, ... relative to current directory.</p>\n<hr />\n<p>I have a directory containing many classes and want to create a jar file with some of them (i.e. not all from a specific directory). I also need to include some resources from another directory and want the paths stored in the jar relative to those directories:</p>\n<pre><code>$ tree\n.\n├── classes\n│   └── com\n│       ├── c2.class\n│       └── cc1.class\n└── ressources\n│   └── res\n│       ├── a.png\n│       └── b.png\n</code></pre>\n<p>I want to have a jar storing these paths:</p>\n<pre><code>com/cc1.class\ncom/c2.class\nres/a.png\nres/b.png\n</code></pre>\n<p>I initially thought using <code>-C</code> before adding each individual files from the same &quot;group&quot; directory but it's not working:</p>\n<pre><code>$ jar -cf test.jar -C classes/ com/cc1.class com/c2.class -C resources/ res/a.png res/b.png\ncom/c2.class : no such file or directory\nres/b.png : no such file or directory\n</code></pre>\n<p>The error is on the second file only; the first one begin OK...</p>\n<pre><code>$ jar -cf test.jar -C classes/ com/cc1.class ./classes/com/c2.class -C resources/ res/a.png ./resources/res/b.png\n</code></pre>\n<p>Jar was created successfully:</p>\n<pre><code>$ jar tf test.jar\nMETA-INF/\nMETA-INF/MANIFEST.MF\ncom/cc1.class\ncom/c2.class\nres/a.png\nres/b.png\n</code></pre>\n<p>The behaviour feels odd: I have to give the <em>first</em> file a path <em>relative to <code>-C</code></em> and all other files a path <em>relative to <code>.</code></em> (or an absolute path also works)?</p>\n<p>The <code>man</code> says:</p>\n<blockquote>\n<p>-C DIR Changes the specified directory and includes the <strong>files</strong> specified at the end of the command line.</p>\n</blockquote>\n<p>(note the plural <code>include the *files*</code>).</p>\n<p>... but <code>jar --help</code> says otherwise:</p>\n<blockquote>\n<p>-C DIR  Change to the specified directory and include the <strong>following file</strong></p>\n</blockquote>\n<p>(note the singular <code>include the *following file*</code>).</p>\n<p>Indeed, the <code>jar --help</code> is correct and <code>man</code> is misleading, but why that behavior?</p>\n<p><code>jar --version</code> gives <code>jar 18.0.2-ea</code>.</p>\n"},{"tags":["java","spring-mvc","url","resttemplate","victoriametrics"],"comments":[{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1693316314,"post_id":77000704,"comment_id":135742386,"body_markdown":"Does this answer your question? [Using RestTemplate in Spring. Exception- Not enough variables available to expand](https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21819210/using-resttemplate-in-spring-exception-not-enough-variables-available-to-expan\">Using RestTemplate in Spring. Exception- Not enough variables available to expand</a>"},{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1693316521,"post_id":77000704,"comment_id":135742435,"body_markdown":"No, the requestURL in mycase has %22 in {} whereas in the link provided is different. also filter is in mid of URL, whereas in the link provided was at the end of the URL&quot;{sort}&quot;","body":"No, the requestURL in mycase has %22 in {} whereas in the link provided is different. also filter is in mid of URL, whereas in the link provided was at the end of the URL&quot;{sort}&quot;"},{"owner":{"account_id":13817170,"reputation":1662,"user_id":9973516,"display_name":"Ada"},"score":0,"creation_date":1693317280,"post_id":77000704,"comment_id":135742611,"body_markdown":"I don&#39;t have a way to test it right now, but would this work? \n\nRestTemplate restTemplate = new RestTemplate();\n        \nString baseUrl = &quot;https://test.env123.com:8081/select/0/prometheus/api/v1/query_range&quot;;\nString query = &quot;test.link.packets{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\nString start = &quot;2023-08-10T01:02:03Z&quot;;\nString end = &quot;2023-08-26T01:02:03Z&quot;;\n        \n\n        \nString requestURL = baseUrl + &quot;?query=&quot; + query + &quot;&amp;start=&quot; + start + &quot;&amp;end=&quot; + end;\n        \nResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, new HttpEntity&lt;&gt;(headers), String.class);","body":"I don&#39;t have a way to test it right now, but would this work?   RestTemplate restTemplate = new RestTemplate();          String baseUrl = &quot;<a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range\" rel=\"nofollow noreferrer\">test.env123.com:8081/select/0/prometheus/api/v1/query_range</a>&zwnj;&#8203;&quot;; String query = &quot;test.link.packets{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;; String start = &quot;2023-08-10T01:02:03Z&quot;; String end = &quot;2023-08-26T01:02:03Z&quot;;                    String requestURL = baseUrl + &quot;?query=&quot; + query + &quot;&amp;start=&quot; + start + &quot;&amp;end=&quot; + end;          ResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, new HttpEntity&lt;&gt;(headers), String.class);"},{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1693328600,"post_id":77000704,"comment_id":135745162,"body_markdown":"I tried this but still getting same error","body":"I tried this but still getting same error"}],"answers":[{"comments":[{"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"score":0,"creation_date":1693418031,"post_id":77007771,"comment_id":135759668,"body_markdown":"Thank u so much !! 2nd approach worked fine.","body":"Thank u so much !! 2nd approach worked fine."}],"tags":[],"owner":{"account_id":13374714,"reputation":105,"user_id":14201481,"display_name":"PertalGad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693400839,"creation_date":1693396561,"answer_id":77007771,"question_id":77000704,"body_markdown":"when You are trying to send get requests with get parameters which contain some of the special symbols like *&amp;, {, }, ?* and others you have to UrlEncode them, becaus when server sees &amp; as eaxmple, he recognises it as and of previous parameter and waits for another parameter. Try pls to UrlEncode these params.\r\n\r\n**Here is an example, You can use UriComponentsBuilder**\r\n\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    restTemplate.getMessageConverters()\r\n                .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\r\n\r\n    String baseUrl = &quot;YOUR_API_URL&quot;;\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(baseUrl)\r\n                .queryParam(&quot;query&quot;,&quot;test.link.packets{filter}&quot;)\r\n                .queryParam(&quot;start&quot;,&quot;2023-08-10T01:02:03Z&quot;)\r\n                .queryParam(&quot;end&quot;,&quot;2023-08-26T01:02:03Z&quot;);\r\n\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(builder.toUriString(), String.class);\r\n\r\n\r\n\r\n**UPDATED**\r\n\r\nHere is another approach which will also work great. But note, if you are passing paramters into the url in this way, order matters, rest template will pass these params to the url, in order how they are passed in getForEntity function\r\n\r\n    // Create a RestTemplate instance\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String start = &quot;2023-08-10T01:02:03Z&quot;;\r\n    String end = &quot;2023-08-26T01:02:03Z&quot;;\r\n    String filter = &quot;{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\r\n    // Define the URL with parameters or build it\r\n    String baseUrl = &quot;https://play.victoriametrics.com/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start={start}&amp;end={end}&quot;;\r\n    // Make the GET request and receive the response as ResponseEntity\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(baseUrl, String.class, filter, start, end);","title":"How to pass %22 as filter in restTemplate in Spring MVC","body":"<p>when You are trying to send get requests with get parameters which contain some of the special symbols like <em>&amp;, {, }, ?</em> and others you have to UrlEncode them, becaus when server sees &amp; as eaxmple, he recognises it as and of previous parameter and waits for another parameter. Try pls to UrlEncode these params.</p>\n<p><strong>Here is an example, You can use UriComponentsBuilder</strong></p>\n<pre><code>RestTemplate restTemplate = new RestTemplate();\nrestTemplate.getMessageConverters()\n            .add(0, new StringHttpMessageConverter(StandardCharsets.UTF_8));\n\nString baseUrl = &quot;YOUR_API_URL&quot;;\nUriComponentsBuilder builder = UriComponentsBuilder.fromUriString(baseUrl)\n            .queryParam(&quot;query&quot;,&quot;test.link.packets{filter}&quot;)\n            .queryParam(&quot;start&quot;,&quot;2023-08-10T01:02:03Z&quot;)\n            .queryParam(&quot;end&quot;,&quot;2023-08-26T01:02:03Z&quot;);\n\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(builder.toUriString(), String.class);\n</code></pre>\n<p><strong>UPDATED</strong></p>\n<p>Here is another approach which will also work great. But note, if you are passing paramters into the url in this way, order matters, rest template will pass these params to the url, in order how they are passed in getForEntity function</p>\n<pre><code>// Create a RestTemplate instance\nRestTemplate restTemplate = new RestTemplate();\nString start = &quot;2023-08-10T01:02:03Z&quot;;\nString end = &quot;2023-08-26T01:02:03Z&quot;;\nString filter = &quot;{billid=\\&quot;P1yhABCnWJ7WhI\\&quot;}&quot;;\n// Define the URL with parameters or build it\nString baseUrl = &quot;https://play.victoriametrics.com/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start={start}&amp;end={end}&quot;;\n// Make the GET request and receive the response as ResponseEntity\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(baseUrl, String.class, filter, start, end);\n</code></pre>\n"}],"owner":{"account_id":13919183,"reputation":83,"user_id":10050092,"display_name":"Nitish K"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77007771,"answer_count":1,"score":1,"last_activity_date":1693400839,"creation_date":1693316056,"question_id":77000704,"body_markdown":"1.requestURL = https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{billid=%22P1yhABCnWJ7WhI%22}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\r\n\r\nResponseEntity&lt;String&gt; result  = restTemplate.getForEntity(requestURL, String.class);\r\n\r\n\r\n2. String filter = &quot;&quot;;\r\nrequestURL = https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\r\n\r\nfilter = &quot;{billid=%22P1yhABCnWJ7WhI%22}&quot;;\r\n\r\nResponseEntity&lt;String&gt; result = restTemplate.exchange(requestURL, HttpMethod.GET, request, String.class, filter);\r\n\r\nI tried both the ways, none of them worked.\r\n\r\nthrows this exception:\r\njava.lang.IllegalArgumentException: Not enough variable values available to expand &#39;billid=%22P1yhABCnWJ7WhI%22&#39;\r\n\r\nHow do I resolve such cases specially when URL has double quotes &quot; and curly braces { } ? \r\n\r\n\r\n\r\n","title":"How to pass %22 as filter in restTemplate in Spring MVC","body":"<p>1.requestURL = <a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets%7Bbillid=%22P1yhABCnWJ7WhI%22%7D&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\" rel=\"nofollow noreferrer\">https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{billid=%22P1yhABCnWJ7WhI%22}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z</a></p>\n<p>ResponseEntity result  = restTemplate.getForEntity(requestURL, String.class);</p>\n<ol start=\"2\">\n<li>String filter = &quot;&quot;;\nrequestURL = <a href=\"https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets%7Bfilter%7D&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z\" rel=\"nofollow noreferrer\">https://test.env123.com:8081/select/0/prometheus/api/v1/query_range?query=test.link.packets{filter}&amp;start=2023-08-10T01:02:03Z&amp;end=2023-08-26T01:02:03Z</a></li>\n</ol>\n<p>filter = &quot;{billid=%22P1yhABCnWJ7WhI%22}&quot;;</p>\n<p>ResponseEntity result = restTemplate.exchange(requestURL, HttpMethod.GET, request, String.class, filter);</p>\n<p>I tried both the ways, none of them worked.</p>\n<p>throws this exception:\njava.lang.IllegalArgumentException: Not enough variable values available to expand 'billid=%22P1yhABCnWJ7WhI%22'</p>\n<p>How do I resolve such cases specially when URL has double quotes &quot; and curly braces { } ?</p>\n"},{"tags":["java","eclipse","java-17"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1693401539,"post_id":77008256,"comment_id":135755871,"body_markdown":"That looks like you are using the Eclipse Installer, but an outdated version of it. Get the current Eclipse Installer or a directly a IDE package from here: https://www.eclipse.org/downloads/packages/ If you use the Eclipse Installer, better use the Java contained in Eclipse rather than a Java installed on your system.","body":"That looks like you are using the Eclipse Installer, but an outdated version of it. Get the current Eclipse Installer or a directly a IDE package from here: <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a> If you use the Eclipse Installer, better use the Java contained in Eclipse rather than a Java installed on your system."},{"owner":{"account_id":11274291,"reputation":253,"user_id":8268757,"display_name":"Abirami"},"score":0,"creation_date":1693401734,"post_id":77008256,"comment_id":135755914,"body_markdown":"@howlger I&#39;ve used the latest installer from this link only. I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too. Facing the same issue.","body":"@howlger I&#39;ve used the latest installer from this link only. I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too. Facing the same issue."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1693404890,"post_id":77008256,"comment_id":135756721,"body_markdown":"Your log says otherwise. Please tell the exact version number and the download link (the mentioned web site contains different download links which are updated every three months). What do you mean by _&quot;I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too&quot;? What exactly did you do?","body":"Your log says otherwise. Please tell the exact version number and the download link (the mentioned web site contains different download links which are updated every three months). What do you mean by _&quot;I&#39;ve also tried pointing to the Java contained in the Eclipse installer (JustJ) too&quot;? What exactly did you do?"}],"owner":{"account_id":11274291,"reputation":253,"user_id":8268757,"display_name":"Abirami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693400229,"creation_date":1693400229,"question_id":77008256,"body_markdown":"I&#39;m trying install latest Eclipse version to work with Java 17. But the installation fails with below exception. I&#39;ve tried pointing to OpenJDK 17 Temurin and also Oracle JDK 17. I&#39;ve also extracted the cert from the link which it was trying to download the resource from and installed it in cacerts. Still, the installation fails with below exception.\r\n\r\n    [2023-08-30 18:20:24] Repository http://download.eclipse.org/oomph/updates/milestone/latest\r\n    [2023-08-30 18:20:24] ERROR: org.eclipse.equinox.p2.transport.ecf code=1002 Unable to read repository at https://download.eclipse.org/technology/epp/packages/2021-09/202109101200/content.xml.\r\n    javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n      at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n      at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)","title":"Eclipse IDE 2023‑06 installation fails with Certificate error","body":"<p>I'm trying install latest Eclipse version to work with Java 17. But the installation fails with below exception. I've tried pointing to OpenJDK 17 Temurin and also Oracle JDK 17. I've also extracted the cert from the link which it was trying to download the resource from and installed it in cacerts. Still, the installation fails with below exception.</p>\n<pre><code>[2023-08-30 18:20:24] Repository http://download.eclipse.org/oomph/updates/milestone/latest\n[2023-08-30 18:20:24] ERROR: org.eclipse.equinox.p2.transport.ecf code=1002 Unable to read repository at https://download.eclipse.org/technology/epp/packages/2021-09/202109101200/content.xml.\njavax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n  at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n  at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n</code></pre>\n"},{"tags":["java","design-patterns","singleton","instance","instantiation"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":9,"creation_date":1693328503,"post_id":77002265,"comment_id":135745133,"body_markdown":"Look at the `getInstance()` method again. It *does* use `new` to create a new `SingletonExample`.","body":"Look at the <code>getInstance()</code> method again. It <i>does</i> use <code>new</code> to create a new <code>SingletonExample</code>."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1693328559,"post_id":77002265,"comment_id":135745150,"body_markdown":"Also, `new SingletonExample()` *would* actually work in the code you&#39;ve given, because your `main` method is within the `SingletonExample` class... ideally your example would show it in a different class.","body":"Also, <code>new SingletonExample()</code> <i>would</i> actually work in the code you&#39;ve given, because your <code>main</code> method is within the <code>SingletonExample</code> class... ideally your example would show it in a different class."}],"answers":[{"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1693936719,"post_id":77002459,"comment_id":135824496,"body_markdown":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer.","body":"If this answer helped you then you should mark it as accepted. The checkbox I&#39;d on the left of the answer. Also it&#39;s worth to vote up the answer that helped you the same to help others to choose the correct answer."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693330693,"creation_date":1693330349,"answer_id":77002459,"question_id":77002265,"body_markdown":"`getInstance()` actually returns an instance of previously created and saved to a variable the instance of a class with the `new` operator.\r\n\r\n```\r\npublic static SingletonExample getInstance() {\r\n    if (instance == null) {\r\n        instance = new SingletonExample();\r\n                   ^^^\r\n    }\r\n    return instance;\r\n}\r\n```\r\n---\r\n\r\n[**Instantiating a class**][1]\r\n\r\n&gt;The new operator instantiates a class by allocating memory for a new object and returning a reference to that memory. The new operator also invokes the object constructor.\r\n&gt;\r\n&gt;Note: The phrase &quot;instantiating a class&quot; means the same thing as &quot;creating an object.&quot; When you create an object, you are creating an &quot;instance&quot; of a class, therefore &quot;instantiating&quot; a class.\r\nThe new operator requires a single, postfix argument: a call to a constructor. The name of the constructor provides the name of the class to instantiate.\r\n&gt;\r\n&gt;The new operator returns a reference to the object it created. This reference is usually assigned to a variable of the appropriate type, like:\r\n&gt;\r\n&gt;Point originOne = new Point(23, 94);\r\nThe reference returned by the new operator does not have to be assigned to a variable. It can also be used directly in an expression. For example:\r\n&gt;\r\n&gt;int height = new Rectangle().height;\r\nThis statement will be discussed in the next section.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html","title":"How the getInstance() method works and why the new keyword is not used?","body":"<p><code>getInstance()</code> actually returns an instance of previously created and saved to a variable the instance of a class with the <code>new</code> operator.</p>\n<pre><code>public static SingletonExample getInstance() {\n    if (instance == null) {\n        instance = new SingletonExample();\n                   ^^^\n    }\n    return instance;\n}\n</code></pre>\n<hr />\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/objectcreation.html\" rel=\"nofollow noreferrer\"><strong>Instantiating a class</strong></a></p>\n<blockquote>\n<p>The new operator instantiates a class by allocating memory for a new object and returning a reference to that memory. The new operator also invokes the object constructor.</p>\n<p>Note: The phrase &quot;instantiating a class&quot; means the same thing as &quot;creating an object.&quot; When you create an object, you are creating an &quot;instance&quot; of a class, therefore &quot;instantiating&quot; a class.\nThe new operator requires a single, postfix argument: a call to a constructor. The name of the constructor provides the name of the class to instantiate.</p>\n<p>The new operator returns a reference to the object it created. This reference is usually assigned to a variable of the appropriate type, like:</p>\n<p>Point originOne = new Point(23, 94);\nThe reference returned by the new operator does not have to be assigned to a variable. It can also be used directly in an expression. For example:</p>\n<p>int height = new Rectangle().height;\nThis statement will be discussed in the next section.</p>\n</blockquote>\n"}],"owner":{"account_id":26349910,"reputation":1,"user_id":20007688,"display_name":"David "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693400054,"creation_date":1693328425,"question_id":77002265,"body_markdown":"I noticed that the `new` keyword is not used when creating the reference to the instance. Here&#39;s the code snippet:\r\n\r\n```\r\npublic class SingletonExample {\r\n    private static SingletonExample instance;\r\n\r\n    private SingletonExample() {\r\n        // Private constructor\r\n        System.out.println(&quot;SingletonExample instance created.&quot;);\r\n    }\r\n\r\n    public static SingletonExample getInstance() {\r\n        if (instance == null) {\r\n            instance = new SingletonExample();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public void displayMessage() {\r\n        System.out.println(&quot;Hello from SingletonExample!&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        // This won&#39;t work : SingletonExample instance = new SingletonExample();\r\n\r\n        // Getting an instance of SingletonExample using getInstance() method\r\n       SingletonExample singleton = SingletonExample.getInstance();\r\n        singleton.displayMessage();\r\n        \r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI expected that creating a new instance of a class would involve using the `new` keyword, but it appears that the `getInstance()` method handles this without it. I&#39;m looking for an explanation of why the `new` keyword is omitted in this scenario and how the instance is actually created using the `getInstance()` method.\r\n\r\nCan someone provide insights into how the `getInstance()` method works in this context and why the `new` keyword is not used?\r\n\r\n","title":"How the getInstance() method works and why the new keyword is not used?","body":"<p>I noticed that the <code>new</code> keyword is not used when creating the reference to the instance. Here's the code snippet:</p>\n<pre><code>public class SingletonExample {\n    private static SingletonExample instance;\n\n    private SingletonExample() {\n        // Private constructor\n        System.out.println(&quot;SingletonExample instance created.&quot;);\n    }\n\n    public static SingletonExample getInstance() {\n        if (instance == null) {\n            instance = new SingletonExample();\n        }\n        return instance;\n    }\n\n    public void displayMessage() {\n        System.out.println(&quot;Hello from SingletonExample!&quot;);\n    }\n\n    public static void main(String[] args) {\n        // This won't work : SingletonExample instance = new SingletonExample();\n\n        // Getting an instance of SingletonExample using getInstance() method\n       SingletonExample singleton = SingletonExample.getInstance();\n        singleton.displayMessage();\n        \n    }\n}\n</code></pre>\n<p>I expected that creating a new instance of a class would involve using the <code>new</code> keyword, but it appears that the <code>getInstance()</code> method handles this without it. I'm looking for an explanation of why the <code>new</code> keyword is omitted in this scenario and how the instance is actually created using the <code>getInstance()</code> method.</p>\n<p>Can someone provide insights into how the <code>getInstance()</code> method works in this context and why the <code>new</code> keyword is not used?</p>\n"},{"tags":["java","playframework","sbt","pac4j","playframework-2.8"],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1693399539,"creation_date":1689873122,"question_id":76732229,"body_markdown":"We are using Play framework (v2.8.16) with Pac4j (v10.0.2) as the security framework running on OpenJDK 12. Our application is a Java app and we are using Play&#39;s multi-module setup. \r\nIn Play&#39;s development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types.\r\nThis happens to some developers very frequently and to other only every once in a few days (same JDK &amp; libraries). Running from IDE (IntelliJ) or command line SBT is the same.\r\n\r\nSo given a custom type:\r\n\r\n```\r\npublic class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\r\n```\r\n\r\nThe hot code reload fails with:\r\n\r\n```\r\nplay.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader \r\nplay.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader \r\nplay.runsupport.DelegatedResourcesClassLoader @47424930)]]\r\n```\r\n\r\nI suspect Play&#39;s code reloading works via a quite coarse grained mechanism, that just reloads the whole application in a different class-loader (We see on code reloading log output that initializes/bootstraps the Play app again). The above errors seems to me like a mismatch of runtime-types, so the same &quot;class-file type&quot; is present in different class loaders - so in JVM reality they form two different runtime-types and that causes the `ClassCastExcpeption`.\r\nMaybe the Pac4j code is not swapped out correctly together with the application code and some objects of the old runtime-type remain ?\r\n\r\nWe currently just stop the Play process and start it via SBT again .. that slows the heavily affected developers down quite alot and effectivly makes the hot code reloading useless.\r\n\r\nThanks for any ideas ...","title":"Pac4j + Play framework hot class reloading issue","body":"<p>We are using Play framework (v2.8.16) with Pac4j (v10.0.2) as the security framework running on OpenJDK 12. Our application is a Java app and we are using Play's multi-module setup.\nIn Play's development mode there is a hot code reloading feature that seems to get hickups on custom classes that extend Pac4j types.\nThis happens to some developers very frequently and to other only every once in a few days (same JDK &amp; libraries). Running from IDE (IntelliJ) or command line SBT is the same.</p>\n<p>So given a custom type:</p>\n<pre><code>public class CustomJwtProfile extends org.pac4j.jwt.profile.JwtProfile\n</code></pre>\n<p>The hot code reload fails with:</p>\n<pre><code>play.api.PlayException: Execution exception[[ClassCastException: class my.package.CustomJwtProfile cannot be cast to class class my.package.CustomJwtProfile (class my.package.CustomJwtProfile is in unnamed module of loader \nplay.runsupport.DelegatedResourcesClassLoader @2a1321ec; my.package.CustomJwtProfile is in unnamed module of loader \nplay.runsupport.DelegatedResourcesClassLoader @47424930)]]\n</code></pre>\n<p>I suspect Play's code reloading works via a quite coarse grained mechanism, that just reloads the whole application in a different class-loader (We see on code reloading log output that initializes/bootstraps the Play app again). The above errors seems to me like a mismatch of runtime-types, so the same &quot;class-file type&quot; is present in different class loaders - so in JVM reality they form two different runtime-types and that causes the <code>ClassCastExcpeption</code>.\nMaybe the Pac4j code is not swapped out correctly together with the application code and some objects of the old runtime-type remain ?</p>\n<p>We currently just stop the Play process and start it via SBT again .. that slows the heavily affected developers down quite alot and effectivly makes the hot code reloading useless.</p>\n<p>Thanks for any ideas ...</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693399140,"post_id":77008098,"comment_id":135755308,"body_markdown":"Well, you seem to be curiously mixing a MySql &#39;import&#39; with a Java programmatic approach. Since your mix seems to be contain more of the former and that&#39;s not working out for you, why don&#39;t you go for a pure programmatic approach? How many rows in the file, out of interest?","body":"Well, you seem to be curiously mixing a MySql &#39;import&#39; with a Java programmatic approach. Since your mix seems to be contain more of the former and that&#39;s not working out for you, why don&#39;t you go for a pure programmatic approach? How many rows in the file, out of interest?"}],"answers":[{"comments":[{"owner":{"account_id":10389972,"reputation":13,"user_id":7661646,"display_name":"McCo"},"score":1,"creation_date":1693419293,"post_id":77008157,"comment_id":135759911,"body_markdown":"Thank you very much for helping! It was the solution. Now working! :-)","body":"Thank you very much for helping! It was the solution. Now working! :-)"}],"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693399293,"creation_date":1693399293,"answer_id":77008157,"question_id":77008098,"body_markdown":"The problem you&#39;re facing often stems from MySQL Connector/J having the `allowLoadLocalInfile` property turned off by default. This is a security measure in the connector to prevent potentially malicious files from being loaded from the client to the server.\r\n\r\nTo resolve this, you can change the way you establish the connection by enabling the allowLoadLocalInfile property:\r\n\r\n    connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&amp;allowLoadLocalInfile=true&quot;);\r\n\r\n","title":"MySQL: Loading local data is disabled","body":"<p>The problem you're facing often stems from MySQL Connector/J having the <code>allowLoadLocalInfile</code> property turned off by default. This is a security measure in the connector to prevent potentially malicious files from being loaded from the client to the server.</p>\n<p>To resolve this, you can change the way you establish the connection by enabling the allowLoadLocalInfile property:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&amp;allowLoadLocalInfile=true&quot;);\n</code></pre>\n"}],"owner":{"account_id":10389972,"reputation":13,"user_id":7661646,"display_name":"McCo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77008157,"answer_count":1,"score":1,"last_activity_date":1693399293,"creation_date":1693398851,"question_id":77008098,"body_markdown":"I have a Java program, one of the tasks of which was to upload data from a plain text file into a table of a MySQL 5.7 database.This has worked without problems so far. I recently moved the database to MySQL 8.0 and recompiled the Java program, with the mysql-connector-java-8.0.22.jar library. After that, however, I received the following error message when uploading:\r\n\r\nLoading local data is disabled: this must be enabled on both the client and server sides\r\n\r\nAfter reading a little about the problem, I found that two things need to be specified in my.ini to eliminate the error. I put these in. (secure-file-priv was already in)\r\n\r\n```\r\n[client]\r\nlocal_infile = 1\r\n\r\n[mysqld]\r\nsecure-file-priv=&quot;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads&quot;\r\nlocal_infile = 1\r\n\r\n```\r\n\r\n\r\nThen, after restarting the mysql service, unfortunately the situation did not change. \r\nSHOW VARIABLES LIKE &#39;local_infile&#39;;\r\nlocal_infile = ON\r\n\r\nMaybe something should be done differently in the Java program?\r\nIt currently looks like this:\r\n\r\n\r\n```\r\nconnection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&quot;);\r\nstmt = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\r\nstmt.executeUpdate(&quot;LOAD DATA LOCAL INFILE &#39;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads\r\n/something.csv&#39; INTO TABLE data FIELDS TERMINATED BY &#39;;&#39; LINES TERMINATED BY &#39;&#39; (field1,field2,field3,field4)&quot;);\r\n\r\n```\r\n\r\n\r\n\r\nWhen compiling Java, the environment was JavaSE-1.8 (jdk1.8.0_281).\r\nHowever, the error still exists. In which direction do you think I should continue my research?\r\n","title":"MySQL: Loading local data is disabled","body":"<p>I have a Java program, one of the tasks of which was to upload data from a plain text file into a table of a MySQL 5.7 database.This has worked without problems so far. I recently moved the database to MySQL 8.0 and recompiled the Java program, with the mysql-connector-java-8.0.22.jar library. After that, however, I received the following error message when uploading:</p>\n<p>Loading local data is disabled: this must be enabled on both the client and server sides</p>\n<p>After reading a little about the problem, I found that two things need to be specified in my.ini to eliminate the error. I put these in. (secure-file-priv was already in)</p>\n<pre><code>[client]\nlocal_infile = 1\n\n[mysqld]\nsecure-file-priv=&quot;C:/ProgramData/MySQL/MySQL Server 8.0/Uploads&quot;\nlocal_infile = 1\n\n</code></pre>\n<p>Then, after restarting the mysql service, unfortunately the situation did not change.\nSHOW VARIABLES LIKE 'local_infile';\nlocal_infile = ON</p>\n<p>Maybe something should be done differently in the Java program?\nIt currently looks like this:</p>\n<pre><code>connection = DriverManager.getConnection(&quot;jdbc:mysql://192.168.1.5:3306/testdb?user=root&amp;password=pwd123&quot;);\nstmt = connection.createStatement(ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_READ_ONLY);\nstmt.executeUpdate(&quot;LOAD DATA LOCAL INFILE 'C:/ProgramData/MySQL/MySQL Server 8.0/Uploads\n/something.csv' INTO TABLE data FIELDS TERMINATED BY ';' LINES TERMINATED BY '' (field1,field2,field3,field4)&quot;);\n\n</code></pre>\n<p>When compiling Java, the environment was JavaSE-1.8 (jdk1.8.0_281).\nHowever, the error still exists. In which direction do you think I should continue my research?</p>\n"},{"tags":["java","java-stream","quarkus","tostring","mutiny"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1693391733,"post_id":77007051,"comment_id":135753700,"body_markdown":"What is `Response`? And what is `clinetService`?","body":"What is <code>Response</code>? And what is <code>clinetService</code>?"},{"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"score":0,"creation_date":1693391968,"post_id":77007051,"comment_id":135753769,"body_markdown":"Response is a class of jakarta.ws.rs.core library.\nclientService is an object of a class provided by a client service, output of which is an object of type Uni&lt;Response&gt;.","body":"Response is a class of jakarta.ws.rs.core library. clientService is an object of a class provided by a client service, output of which is an object of type Uni&lt;Response&gt;."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693399281,"creation_date":1693399281,"answer_id":77008154,"question_id":77007051,"body_markdown":"You actually have to solve two tasks:\r\n1) Convert the `Uni&lt;Response&gt;` into a `Uni&lt;String&gt;`\r\n2) Convert the `Uni&lt;String&gt;` into a `String`\r\n\r\nThe first can probably be as easy as this:\r\n```\r\nUni&lt;String&gt; body = response.map(r -&gt; r.readEntity(String.class));\r\n```\r\n\r\nThe second can be done using `UniAwait`. A full example:\r\n```\r\nString body = response.map(r -&gt; r.readEntity(String.class))\r\n        .await()\r\n        .indefinitely();\r\n```\r\nYou can also use `atMost` instead of `indefinitely`, and you can put `asOptional()` between `await()` and `indefinitely()` to return an `Optional&lt;String&gt;` instead.","title":"How to convert a Uni&lt;Response&gt; object into a String?","body":"<p>You actually have to solve two tasks:</p>\n<ol>\n<li>Convert the <code>Uni&lt;Response&gt;</code> into a <code>Uni&lt;String&gt;</code></li>\n<li>Convert the <code>Uni&lt;String&gt;</code> into a <code>String</code></li>\n</ol>\n<p>The first can probably be as easy as this:</p>\n<pre><code>Uni&lt;String&gt; body = response.map(r -&gt; r.readEntity(String.class));\n</code></pre>\n<p>The second can be done using <code>UniAwait</code>. A full example:</p>\n<pre><code>String body = response.map(r -&gt; r.readEntity(String.class))\n        .await()\n        .indefinitely();\n</code></pre>\n<p>You can also use <code>atMost</code> instead of <code>indefinitely</code>, and you can put <code>asOptional()</code> between <code>await()</code> and <code>indefinitely()</code> to return an <code>Optional&lt;String&gt;</code> instead.</p>\n"}],"owner":{"account_id":10083487,"reputation":109,"user_id":7452937,"display_name":"abhishek narayan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693399281,"creation_date":1693390423,"question_id":77007051,"body_markdown":"I am using a Quarkus application which have a dependent client service which pass me the response as a Uni&lt;Response&gt; object type\r\n\r\n    Uni&lt;Response&gt; response = clinetService.someMethod(id);\r\n\r\nNow I need to pass this response to a another client cache service as a String:\r\n\r\n    cacheService(id, mapObj, responseObjectAsAString);\r\n\r\nSo I need to pass this converted String value to the above method.\r\n\r\nI tried multiple ways to serialize/convert it into a String using `ObjectMapper writeValueAsString(obj)` method or Gson class `.toJson(obj)`, but nothing worked.\r\n\r\nAny suggestion will be very helpful.","title":"How to convert a Uni&lt;Response&gt; object into a String?","body":"<p>I am using a Quarkus application which have a dependent client service which pass me the response as a Uni object type</p>\n<pre><code>Uni&lt;Response&gt; response = clinetService.someMethod(id);\n</code></pre>\n<p>Now I need to pass this response to a another client cache service as a String:</p>\n<pre><code>cacheService(id, mapObj, responseObjectAsAString);\n</code></pre>\n<p>So I need to pass this converted String value to the above method.</p>\n<p>I tried multiple ways to serialize/convert it into a String using <code>ObjectMapper writeValueAsString(obj)</code> method or Gson class <code>.toJson(obj)</code>, but nothing worked.</p>\n<p>Any suggestion will be very helpful.</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","coroutine"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1693427789,"post_id":77008126,"comment_id":135761458,"body_markdown":"It theoretically can be done, but it would be exceedingly complicated. The above would take about 15-20 lines of code in Java and you&#39;d have to know exactly what you were doing with the low level coroutine continuations, so you&#39;d have to be more of an expert on Kotlin coroutines than most highly competent Kotlin programmers. If you don&#39;t need to interact with Kotlin coroutine code, then you should use RxJava for this kind of thing.","body":"It theoretically can be done, but it would be exceedingly complicated. The above would take about 15-20 lines of code in Java and you&#39;d have to know exactly what you were doing with the low level coroutine continuations, so you&#39;d have to be more of an expert on Kotlin coroutines than most highly competent Kotlin programmers. If you don&#39;t need to interact with Kotlin coroutine code, then you should use RxJava for this kind of thing."}],"owner":{"account_id":22951635,"reputation":45,"user_id":17174960,"display_name":"Arya_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693399062,"creation_date":1693399062,"question_id":77008126,"body_markdown":"So I was watching Android Developers channel on [how to build data layer](https://www.youtube.com/watch?v=P125nWICYps&amp;t=1144s) and at 19:18 I see him use the following code\r\n```\r\nval taskId = withContext(dispatcher){\r\n    createTaskId()\r\n}\r\n```\r\nNow given that \r\n1. this code is written in kotlin\r\n2. `dispatcher` is of `CoroutineDispatcher` data type\r\n3. `createTaskId()` returns String\r\n4. the code is implemented inside another suspend function\r\n\r\nHow can I **implement** this in **java** properly, or can I ?","title":"How to implement coroutine dispatcher for java android?","body":"<p>So I was watching Android Developers channel on <a href=\"https://www.youtube.com/watch?v=P125nWICYps&amp;t=1144s\" rel=\"nofollow noreferrer\">how to build data layer</a> and at 19:18 I see him use the following code</p>\n<pre><code>val taskId = withContext(dispatcher){\n    createTaskId()\n}\n</code></pre>\n<p>Now given that</p>\n<ol>\n<li>this code is written in kotlin</li>\n<li><code>dispatcher</code> is of <code>CoroutineDispatcher</code> data type</li>\n<li><code>createTaskId()</code> returns String</li>\n<li>the code is implemented inside another suspend function</li>\n</ol>\n<p>How can I <strong>implement</strong> this in <strong>java</strong> properly, or can I ?</p>\n"},{"tags":["java","spring","hibernate","spring-boot"],"comments":[{"owner":{"account_id":1140218,"reputation":7755,"user_id":1124350,"accept_rate":72,"display_name":"Fabricio"},"score":1,"creation_date":1539691843,"post_id":49438517,"comment_id":92586309,"body_markdown":"I have the same problem and no answer below solved it. Any idea?","body":"I have the same problem and no answer below solved it. Any idea?"},{"owner":{"account_id":887475,"reputation":3622,"user_id":926568,"accept_rate":100,"display_name":"deviant"},"score":2,"creation_date":1541176836,"post_id":49438517,"comment_id":93139781,"body_markdown":"none of answers helped me :( after upgrading spring boot to 2.x the db stopped to autoupdate/create new tables","body":"none of answers helped me :( after upgrading spring boot to 2.x the db stopped to autoupdate/create new tables"}],"answers":[{"comments":[{"owner":{"account_id":5049753,"reputation":511,"user_id":4054693,"display_name":"Đorđe Pržulj"},"score":1,"creation_date":1521754469,"post_id":49438661,"comment_id":85879619,"body_markdown":"Sorry, my fault. Even with \n    `spring.jpa.hibernate.ddl-auto=none` \nthis doesn&#39;t work. I just edited original post.","body":"Sorry, my fault. Even with      <code>spring.jpa.hibernate.ddl-auto=none</code>  this doesn&#39;t work. I just edited original post."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":5,"creation_date":1522109551,"post_id":49438661,"comment_id":86009114,"body_markdown":"It works before Spring 2.0, I don&#39;t know why it&#39;s not anymore but I&#39;m also looking for an answer. I just need to create a schema for `h2` in `schema.sql`, since I have upgraded to 2.0 it stopped working.","body":"It works before Spring 2.0, I don&#39;t know why it&#39;s not anymore but I&#39;m also looking for an answer. I just need to create a schema for <code>h2</code> in <code>schema.sql</code>, since I have upgraded to 2.0 it stopped working."},{"owner":{"account_id":5049753,"reputation":511,"user_id":4054693,"display_name":"Đorđe Pržulj"},"score":2,"creation_date":1522229575,"post_id":49438661,"comment_id":86067719,"body_markdown":"@11thdimension Looks like new major Spring Boot release doesn&#39;t support it. It would be nice we can find this in documentation.","body":"@11thdimension Looks like new major Spring Boot release doesn&#39;t support it. It would be nice we can find this in documentation."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1522334668,"post_id":49438661,"comment_id":86125831,"body_markdown":"I already tried it, it still didn&#39;t work. However it got resolved after I excluded HikariCP dependency added to to Spring Boot 2.","body":"I already tried it, it still didn&#39;t work. However it got resolved after I excluded HikariCP dependency added to to Spring Boot 2."},{"owner":{"account_id":9620409,"reputation":89,"user_id":7141847,"accept_rate":60,"display_name":"charle819"},"score":0,"creation_date":1534151657,"post_id":49438661,"comment_id":90591582,"body_markdown":"@EvgeniDimitrov The answer is correct but in my case it goes into some dependency cyclic loop , as show [here](https://github.com/spring-cloud/spring-cloud-security/issues/143)","body":"@EvgeniDimitrov The answer is correct but in my case it goes into some dependency cyclic loop , as show <a href=\"https://github.com/spring-cloud/spring-cloud-security/issues/143\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":23624871,"reputation":352,"user_id":17657568,"display_name":"AMZ"},"score":0,"creation_date":1674469895,"post_id":49438661,"comment_id":132713044,"body_markdown":"It worked for me with spring.sql.init.mode=always. why is it different?","body":"It worked for me with spring.sql.init.mode=always. why is it different?"}],"tags":[],"owner":{"account_id":161943,"reputation":22096,"user_id":383087,"accept_rate":89,"display_name":"Evgeni Dimitrov"},"comment_count":6,"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1522261055,"creation_date":1521753557,"answer_id":49438661,"question_id":49438517,"body_markdown":"Check the documents [here][1]. \r\n\r\n&gt; In a JPA-based app, you can choose to let Hibernate create the schema\r\n&gt; or use schema.sql, but you cannot do both. Make sure to disable\r\n&gt; spring.jpa.hibernate.ddl-auto if you use schema.sql.\r\n\r\nYou have `spring.jpa.hibernate.ddl-auto=create-drop` that&#39;s why `schema.sql` is not executed.\r\nLooks like this is the way Spring Boot works.\r\n\r\n**Edit**\r\n\r\nI think that the problem(not really a problem) is that your application points to a mysql instance. \r\n\r\nSee the [current Spring Boot properties][2]:\r\n\r\n    spring.datasource.initialization-mode=embedded # Initialize the datasource with available DDL and DML scripts.\r\n\r\nThe default value is `embedded` - e.g. initialize only if you&#39;re running and embedded database, like H2.\r\n\r\nAlso see the answer of Stephan [here][3]. He said:\r\n\r\n&gt; Adding spring.datasource.initialization-mode=always to your project is\r\n&gt; enough.\r\n\r\nSo try to set:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/12612","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>Check the documents <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto-initialize-a-database-using-spring-jdbc\" rel=\"noreferrer\">here</a>. </p>\n\n<blockquote>\n  <p>In a JPA-based app, you can choose to let Hibernate create the schema\n  or use schema.sql, but you cannot do both. Make sure to disable\n  spring.jpa.hibernate.ddl-auto if you use schema.sql.</p>\n</blockquote>\n\n<p>You have <code>spring.jpa.hibernate.ddl-auto=create-drop</code> that's why <code>schema.sql</code> is not executed.\nLooks like this is the way Spring Boot works.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I think that the problem(not really a problem) is that your application points to a mysql instance. </p>\n\n<p>See the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"noreferrer\">current Spring Boot properties</a>:</p>\n\n<pre><code>spring.datasource.initialization-mode=embedded # Initialize the datasource with available DDL and DML scripts.\n</code></pre>\n\n<p>The default value is <code>embedded</code> - e.g. initialize only if you're running and embedded database, like H2.</p>\n\n<p>Also see the answer of Stephan <a href=\"https://github.com/spring-projects/spring-boot/issues/12612\" rel=\"noreferrer\">here</a>. He said:</p>\n\n<blockquote>\n  <p>Adding spring.datasource.initialization-mode=always to your project is\n  enough.</p>\n</blockquote>\n\n<p>So try to set:</p>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n"},{"comments":[{"owner":{"account_id":188312,"reputation":586,"user_id":427009,"accept_rate":73,"display_name":"MiB"},"score":0,"creation_date":1683141919,"post_id":50071245,"comment_id":134322639,"body_markdown":"This suggestion has been deprecated and you now in later versions use &#180;spring.sql.init.mode=always&#180;. See post from @Panagiotis Bougioukos.","body":"This suggestion has been deprecated and you now in later versions use &#180;spring.sql.init.mode=always&#180;. See post from @Panagiotis Bougioukos."}],"tags":[],"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1524870099,"creation_date":1524870099,"answer_id":50071245,"question_id":49438517,"body_markdown":"# Not embedded (e.g. MySQL)\r\n\r\nIf you load a database that is **not embedded**, in Spring Boot 2 you need to add:\r\n\r\n    spring.datasource.initialization-mode=always\r\n\r\nCheck the [Migration Guide][1]:\r\n\r\n&gt; # Database Initialization\r\n&gt; \r\n&gt; Basic DataSource initialization is now only enabled for embedded data\r\n&gt; sources and will switch off as soon as you’re using a production\r\n&gt; database. The new `spring.datasource.initialization-mode` (replacing\r\n&gt; `spring.datasource.initialize`) offers more control.\r\n\r\n---\r\n\r\n# Embedded (e.g. h2)\r\n\r\nI once had a similar problem, even though it was an h2 (so it **was** an embedded DB), my h2 configuration was activated by a `my-test` profile.\r\n\r\nMy test class was like:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest                     // does not work alone\r\n    @ActiveProfiles(&quot;my-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\nThe problem is `@SpringBootTest` alone **did not initialize the test database**. I had to either use `@DataJpaTest` or `@SpringBootTest`+`@AutoConfigureTestDatabase`. Examples\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @DataJpaTest                       // works\r\n    @ActiveProfiles(&quot;sep-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\nor\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest                     // these two\r\n    @AutoConfigureTestDatabase          // together work\r\n    @ActiveProfiles(&quot;sep-test&quot;)\r\n    public class MyEntityRepositoryTest {\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#database-initialization\r\n\r\n","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<h1>Not embedded (e.g. MySQL)</h1>\n\n<p>If you load a database that is <strong>not embedded</strong>, in Spring Boot 2 you need to add:</p>\n\n<pre><code>spring.datasource.initialization-mode=always\n</code></pre>\n\n<p>Check the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Migration-Guide#database-initialization\" rel=\"noreferrer\">Migration Guide</a>:</p>\n\n<blockquote>\n  <h1>Database Initialization</h1>\n  \n  <p>Basic DataSource initialization is now only enabled for embedded data\n  sources and will switch off as soon as you’re using a production\n  database. The new <code>spring.datasource.initialization-mode</code> (replacing\n  <code>spring.datasource.initialize</code>) offers more control.</p>\n</blockquote>\n\n<hr>\n\n<h1>Embedded (e.g. h2)</h1>\n\n<p>I once had a similar problem, even though it was an h2 (so it <strong>was</strong> an embedded DB), my h2 configuration was activated by a <code>my-test</code> profile.</p>\n\n<p>My test class was like:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest                     // does not work alone\n@ActiveProfiles(\"my-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n\n<p>The problem is <code>@SpringBootTest</code> alone <strong>did not initialize the test database</strong>. I had to either use <code>@DataJpaTest</code> or <code>@SpringBootTest</code>+<code>@AutoConfigureTestDatabase</code>. Examples</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@DataJpaTest                       // works\n@ActiveProfiles(\"sep-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest                     // these two\n@AutoConfigureTestDatabase          // together work\n@ActiveProfiles(\"sep-test\")\npublic class MyEntityRepositoryTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1968926,"reputation":163,"user_id":1768451,"accept_rate":50,"display_name":"Jack Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526550186,"creation_date":1526550186,"answer_id":50388267,"question_id":49438517,"body_markdown":"It works fine for me, you can try it. Set datasource type to what you like instead of HikariCP.\r\n\r\n    spring.datasource.initialization-mode=always\r\n    spring.datasource.type=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\r\n    spring.jpa.hibernate.ddl-auto=none","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>It works fine for me, you can try it. Set datasource type to what you like instead of HikariCP.</p>\n\n<pre><code>spring.datasource.initialization-mode=always\nspring.datasource.type=com.mysql.jdbc.jdbc2.optional.MysqlDataSource\nspring.jpa.hibernate.ddl-auto=none\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6073758,"reputation":101,"user_id":4741715,"display_name":"jay chang"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684949763,"creation_date":1535439812,"answer_id":52051931,"question_id":49438517,"body_markdown":"There might be another problem causing data.sql not to be executed, If you don&#39;t config the `spring.jpa.hibernate.ddl-auto=none`, the data.sql will not be executed.","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>There might be another problem causing data.sql not to be executed, If you don't config the <code>spring.jpa.hibernate.ddl-auto=none</code>, the data.sql will not be executed.</p>\n"},{"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563278477,"creation_date":1542208091,"answer_id":53303256,"question_id":49438517,"body_markdown":"I was able to make application run only after excluding Hikary CP like that:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n                &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nPlease, see the issue [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-security/issues/143","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>I was able to make application run only after excluding Hikary CP like that:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Please, see the issue <a href=\"https://github.com/spring-cloud/spring-cloud-security/issues/143\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"comments":[{"owner":{"account_id":218186,"reputation":783,"user_id":474377,"display_name":"Vijay Vepakomma"},"score":0,"creation_date":1666525582,"post_id":72321666,"comment_id":130953324,"body_markdown":"Also had to update `spring.datasource.platform=mysql` to `spring.sql.init.platform=mysql`","body":"Also had to update <code>spring.datasource.platform=mysql</code> to <code>spring.sql.init.platform=mysql</code>"}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1653061925,"creation_date":1653061925,"answer_id":72321666,"question_id":49438517,"body_markdown":"Recent Update\r\n-------------\r\n\r\nAs of Spring Boot **Version 2.7**\r\n\r\nthe property `spring.datasource.initialization-mode` has been removed.\r\n\r\nYou should from this version and onwards use the replacement property `spring.sql.init.mode`\r\n\r\nExample: `spring.sql.init.mode:always` \r\n\r\n[Spring Boot 2.7 changelog][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<h2>Recent Update</h2>\n<p>As of Spring Boot <strong>Version 2.7</strong></p>\n<p>the property <code>spring.datasource.initialization-mode</code> has been removed.</p>\n<p>You should from this version and onwards use the replacement property <code>spring.sql.init.mode</code></p>\n<p>Example: <code>spring.sql.init.mode:always</code></p>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7.0-Configuration-Changelog\" rel=\"noreferrer\">Spring Boot 2.7 changelog</a></p>\n"},{"tags":[],"owner":{"account_id":3707693,"reputation":257,"user_id":3085766,"accept_rate":27,"display_name":"shemerk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1691392920,"creation_date":1691392920,"answer_id":76849556,"question_id":49438517,"body_markdown":"For me, for some reason, Spring didn&#39;t find the schema.sql file in the classpath.\r\nI had to specify it explicitly for it to work:\r\n\r\n    spring.sql.init.schema-locations=classpath:/sql/schema.sql\r\n","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>For me, for some reason, Spring didn't find the schema.sql file in the classpath.\nI had to specify it explicitly for it to work:</p>\n<pre><code>spring.sql.init.schema-locations=classpath:/sql/schema.sql\n</code></pre>\n"}],"owner":{"account_id":5049753,"reputation":511,"user_id":4054693,"display_name":"Đorđe Pržulj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64740,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":49438661,"answer_count":7,"score":49,"last_activity_date":1693398988,"creation_date":1521752971,"question_id":49438517,"body_markdown":"While I was using Spring Boot 1.5, on application startup Hibernate executed *schema.sql* file located in */resources* folder when appropriate configuration is set. After Spring Boot 2.0 release this feature does not work any more. I couldn&#39;t find anything about this change in documentation.\r\nHere is my *application.properties* file content:\r\n\r\n    spring.datasource.url=...\r\n    spring.datasource.username=...\r\n    spring.datasource.password=...\r\n\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\r\n\r\nIs there some change in Spring Boot 2.0 or is this an bug/issue?","title":"Why Spring Boot 2.0 application does not run schema.sql?","body":"<p>While I was using Spring Boot 1.5, on application startup Hibernate executed <em>schema.sql</em> file located in <em>/resources</em> folder when appropriate configuration is set. After Spring Boot 2.0 release this feature does not work any more. I couldn't find anything about this change in documentation.\nHere is my <em>application.properties</em> file content:</p>\n<pre><code>spring.datasource.url=...\nspring.datasource.username=...\nspring.datasource.password=...\n\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL5Dialect\n</code></pre>\n<p>Is there some change in Spring Boot 2.0 or is this an bug/issue?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":3676284,"reputation":3465,"user_id":3062311,"accept_rate":96,"display_name":"sop"},"score":0,"creation_date":1429254834,"post_id":29680246,"comment_id":47521752,"body_markdown":":( It seems that it is not working... I was trying to use the same IDE and not install 2 or 3 IDEs, I code in more languages. It seems I am going to use more... Thanks anyway.","body":":( It seems that it is not working... I was trying to use the same IDE and not install 2 or 3 IDEs, I code in more languages. It seems I am going to use more... Thanks anyway."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1429256272,"post_id":29680246,"comment_id":47522588,"body_markdown":"Using another build tool does not force you to switch to another IDE (although an IDE that supports your build tool is always better). The mentioned tools are the most common for java. People almost never use Make (anymore), see http://stackoverflow.com/questions/2209827/why-is-no-one-using-make-for-java","body":"Using another build tool does not force you to switch to another IDE (although an IDE that supports your build tool is always better). The mentioned tools are the most common for java. People almost never use Make (anymore), see <a href=\"http://stackoverflow.com/questions/2209827/why-is-no-one-using-make-for-java\" title=\"why is no one using make for java\">stackoverflow.com/questions/2209827/&hellip;</a>"},{"owner":{"account_id":3676284,"reputation":3465,"user_id":3062311,"accept_rate":96,"display_name":"sop"},"score":1,"creation_date":1429258611,"post_id":29680246,"comment_id":47524014,"body_markdown":"It seems that it works if I add the folder too: `javac -sourcepath classes classes/test_java.java`","body":"It seems that it works if I add the folder too: <code>javac -sourcepath classes classes&#47;test_java.java</code>"}],"tags":[],"owner":{"account_id":11386,"reputation":119180,"user_id":21926,"display_name":"Sean Bright"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1429271746,"creation_date":1429200344,"answer_id":29680246,"question_id":29680157,"body_markdown":"**Update:** The original answer here was completely wrong. You must specify the path to your source files.  `-sourcepath` is for another purpose:\r\n\r\n&gt; Specify the source code path to search for class or interface\r\n&gt; definitions. As with the user class path, source path entries are\r\n&gt; separated by semicolons (;) and can be directories, JAR archives, or\r\n&gt; ZIP archives. If packages are used, the local path name within the\r\n&gt; directory or archive must reflect the package name.\r\n\r\n----------\r\n\r\nNote that there are many other build tools for Java applications that are very mature and well regarded.  Maven, Gradle, and Ant are the ones that spring to mind immediately.  If you don&#39;t have to use `make` I would take a look at one of those.","title":"Is it possible to use relative path when compiling the java files?","body":"<p><strong>Update:</strong> The original answer here was completely wrong. You must specify the path to your source files.  <code>-sourcepath</code> is for another purpose:</p>\n\n<blockquote>\n  <p>Specify the source code path to search for class or interface\n  definitions. As with the user class path, source path entries are\n  separated by semicolons (;) and can be directories, JAR archives, or\n  ZIP archives. If packages are used, the local path name within the\n  directory or archive must reflect the package name.</p>\n</blockquote>\n\n<hr>\n\n<p>Note that there are many other build tools for Java applications that are very mature and well regarded.  Maven, Gradle, and Ant are the ones that spring to mind immediately.  If you don't have to use <code>make</code> I would take a look at one of those.</p>\n"},{"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1693455773,"post_id":77008100,"comment_id":135764017,"body_markdown":"The OP is asking for help with his Makefile. What you have posted does not look like a Makefile. Am I missing something?","body":"The OP is asking for help with his Makefile. What you have posted does not look like a Makefile. Am I missing something?"},{"owner":{"account_id":17186093,"reputation":1,"user_id":12440687,"display_name":"V&#225;clav Pastušek"},"score":0,"creation_date":1693511679,"post_id":77008100,"comment_id":135774759,"body_markdown":"Yes, but the internal command line call is identical for most programming languages?","body":"Yes, but the internal command line call is identical for most programming languages?"}],"tags":[],"owner":{"account_id":17186093,"reputation":1,"user_id":12440687,"display_name":"V&#225;clav Pastušek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398862,"creation_date":1693398862,"answer_id":77008100,"question_id":29680157,"body_markdown":"I have similar problem in Python and again both works in same directory, but only &quot;javac&quot; works with relative path. So if you have HelloWorld.java in folder HelloWorld, you need to do something like this:\r\n\r\n    import subprocess\r\n    import os\r\n    \r\n    \r\n    path_to_java = &quot;HelloWorld/&quot;\r\n    \r\n    compile_process = subprocess.Popen([&quot;javac&quot;, path_to_java + &quot;HelloWorld.java&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\r\n    compile_output, compile_errors = compile_process.communicate()\r\n    \r\n    print(&quot;compile_output:&quot;)\r\n    print(compile_output)\r\n    \r\n    if compile_errors:\r\n        print(&quot;compile_errors:&quot;)\r\n        print(compile_errors)\r\n    \r\n    # get full path\r\n    script_directory = os.path.dirname(os.path.abspath(__file__))\r\n    \r\n    run_process = subprocess.Popen([&quot;java&quot;, &quot;-cp&quot;, script_directory + &quot;\\\\HelloWorld&quot;, &quot;HelloWorld&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\r\n    run_output, run_errors = run_process.communicate()\r\n    \r\n    print(&quot;\\nrun_output:&quot;)\r\n    print(run_output)\r\n    \r\n    if run_errors:\r\n        print(&quot;run_errors:&quot;)\r\n        print(run_errors)\r\n\r\n**Output:**\r\ncompile_output:\r\n\r\n\r\nrun_output:\r\nHello, World!\r\n\r\n\r\nProcess finished with exit code 0\r\n\r\n**Java code:**\r\n\r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n        }\r\n    }","title":"Is it possible to use relative path when compiling the java files?","body":"<p>I have similar problem in Python and again both works in same directory, but only &quot;javac&quot; works with relative path. So if you have HelloWorld.java in folder HelloWorld, you need to do something like this:</p>\n<pre><code>import subprocess\nimport os\n\n\npath_to_java = &quot;HelloWorld/&quot;\n\ncompile_process = subprocess.Popen([&quot;javac&quot;, path_to_java + &quot;HelloWorld.java&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\ncompile_output, compile_errors = compile_process.communicate()\n\nprint(&quot;compile_output:&quot;)\nprint(compile_output)\n\nif compile_errors:\n    print(&quot;compile_errors:&quot;)\n    print(compile_errors)\n\n# get full path\nscript_directory = os.path.dirname(os.path.abspath(__file__))\n\nrun_process = subprocess.Popen([&quot;java&quot;, &quot;-cp&quot;, script_directory + &quot;\\\\HelloWorld&quot;, &quot;HelloWorld&quot;], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\nrun_output, run_errors = run_process.communicate()\n\nprint(&quot;\\nrun_output:&quot;)\nprint(run_output)\n\nif run_errors:\n    print(&quot;run_errors:&quot;)\n    print(run_errors)\n</code></pre>\n<p><strong>Output:</strong>\ncompile_output:</p>\n<p>run_output:\nHello, World!</p>\n<p>Process finished with exit code 0</p>\n<p><strong>Java code:</strong></p>\n<pre><code>public class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3676284,"reputation":3465,"user_id":3062311,"accept_rate":96,"display_name":"sop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29680246,"answer_count":2,"score":2,"last_activity_date":1693398862,"creation_date":1429200088,"question_id":29680157,"body_markdown":"Hi I am trying to learn to compile a java class with make file. My make file looks like this:\r\n\r\n    build:\r\n    \tjavac test_java.java\r\n    clean:\r\n    \trm -rfv *~ test_java.class\r\n    run:\r\n    \tjava test_java\r\n\r\nNow I have moved the `test_java.java` into a folder, called `classes` I am trying to compile the file using a relative path, is it possible?\r\n\r\nI have tried:\r\n\r\n    javac -d classes test_java.java\r\n\r\nbut I am getting errors: \r\n\r\n    javac -d classes test_java.java\r\n    javac: file not found: test_java.java\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options\r\n\r\nI have also tried: `-d ./classes` and also `-d /home/the/whole/path` (but I would like to have the relative path), and the errors are the same. It seems to work only the \r\n\r\n    javac classes/test_java.java\r\n\r\nWhat am I doing wrong?\r\n\r\n","title":"Is it possible to use relative path when compiling the java files?","body":"<p>Hi I am trying to learn to compile a java class with make file. My make file looks like this:</p>\n\n<pre><code>build:\n    javac test_java.java\nclean:\n    rm -rfv *~ test_java.class\nrun:\n    java test_java\n</code></pre>\n\n<p>Now I have moved the <code>test_java.java</code> into a folder, called <code>classes</code> I am trying to compile the file using a relative path, is it possible?</p>\n\n<p>I have tried:</p>\n\n<pre><code>javac -d classes test_java.java\n</code></pre>\n\n<p>but I am getting errors: </p>\n\n<pre><code>javac -d classes test_java.java\njavac: file not found: test_java.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n\n<p>I have also tried: <code>-d ./classes</code> and also <code>-d /home/the/whole/path</code> (but I would like to have the relative path), and the errors are the same. It seems to work only the </p>\n\n<pre><code>javac classes/test_java.java\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1621008722,"post_id":67533484,"comment_id":119374326,"body_markdown":"Why both of your consumers are in the same group? Of course only one of them is going consumer records from a single partition.","body":"Why both of your consumers are in the same group? Of course only one of them is going consumer records from a single partition."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1621010115,"post_id":67533484,"comment_id":119374912,"body_markdown":"Why are we assuming they are in separate groups? Your config/code doesn&#39;t show this","body":"Why are we assuming they are in separate groups? Your config/code doesn&#39;t show this"},{"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"score":0,"creation_date":1621245193,"post_id":67533484,"comment_id":119427861,"body_markdown":"thx for input, updated","body":"thx for input, updated"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1621864022,"post_id":67533484,"comment_id":119615274,"body_markdown":"If you are still having problems, post a complete [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) someplace, that exhibits the behavior.","body":"If you are still having problems, post a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> someplace, that exhibits the behavior."}],"answers":[{"tags":[],"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621865848,"creation_date":1621865848,"answer_id":67673645,"question_id":67533484,"body_markdown":"This one turns out to be solved by adding this one instead of props map:\r\n\r\n    factory.getContainerProperties().setClientId(&quot;consumer-group-other-1&quot;);\r\n    factory.getContainerProperties().setGroupId(&quot;consumer-group-other&quot;);\r\n\r\n\r\n","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>This one turns out to be solved by adding this one instead of props map:</p>\n<pre><code>factory.getContainerProperties().setClientId(&quot;consumer-group-other-1&quot;);\nfactory.getContainerProperties().setGroupId(&quot;consumer-group-other&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398824,"creation_date":1693393765,"answer_id":77007429,"question_id":67533484,"body_markdown":"Regarding the way of overriding kafka consumer properties that provided through kafka auto configuration, It seem to me that you created a new consumer properties object. which will override the all properties. \r\n\r\nthe below method **kafkaListenerContainerFactory** in **KafkaAnnotationDrivenConfiguration** class, which is a part of Kafka auto configuration\r\n\r\n        @Bean\r\n        @ConditionalOnMissingBean(name = {&quot;kafkaListenerContainerFactory&quot;})\r\n        ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\r\n            ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory();\r\n            configurer.configure(factory, (ConsumerFactory)kafkaConsumerFactory.getIfAvailable(() -&gt; {\r\n                return new DefaultKafkaConsumerFactory(this.properties.buildConsumerProperties());\r\n            }));\r\n            return factory;\r\n        }\r\n\r\nSo you have to autowire kafkaProperties and appened whatever you want.\r\n\r\n    @Configuration\r\n    @EnableKafka\r\n    public class CustomKafkaConsumerConfig {\r\n        @Autowired\r\n        KafkaProperties kafkaProperties;\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\r\n    \r\n            ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            //configurer.configure(factory, kafkaConsumerFactory.getIfAvailable(() -&gt; new DefaultKafkaConsumerFactory&lt;&gt;(consumerFactory()));\r\n    \r\n            factory.setConsumerFactory(consumerFactory());\r\n            \r\n            //change Ack mode for example\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\r\n            \r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n        }\r\n    \r\n        @Bean\r\n        public Map&lt;String, Object&gt; consumerConfigs() {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(kafkaProperties.buildConsumerProperties());\r\n    \r\n            //change offset reset and assignment strategy for example\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, RoundRobinAssignor.class.getName());\r\n            return props;\r\n        }\r\n    }\r\n\r\nhere is the log:\r\n\r\n    ...\r\n    auto.offset.reset = earliest\r\n    bootstrap.servers = [localhost:9092, localhost:9093, localhost:9094]\r\n    check.crcs = true\r\n    client.dns.lookup = use_all_dns_ips\r\n    client.id = consumer-test-topic-listener-group-1\r\n    client.rack = \r\n    ....\r\n    metric.reporters = []\r\n    metrics.num.samples = 2\r\n    metrics.recording.level = INFO\r\n    metrics.sample.window.ms = 30000\r\n    partition.assignment.strategy = [org.apache.kafka.clients.consumer.RoundRobinAssignor]\r\n    receive.buffer.bytes = 65536\r\n    ...\r\n\r\n","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>Regarding the way of overriding kafka consumer properties that provided through kafka auto configuration, It seem to me that you created a new consumer properties object. which will override the all properties.</p>\n<p>the below method <strong>kafkaListenerContainerFactory</strong> in <strong>KafkaAnnotationDrivenConfiguration</strong> class, which is a part of Kafka auto configuration</p>\n<pre><code>    @Bean\n    @ConditionalOnMissingBean(name = {&quot;kafkaListenerContainerFactory&quot;})\n    ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory();\n        configurer.configure(factory, (ConsumerFactory)kafkaConsumerFactory.getIfAvailable(() -&gt; {\n            return new DefaultKafkaConsumerFactory(this.properties.buildConsumerProperties());\n        }));\n        return factory;\n    }\n</code></pre>\n<p>So you have to autowire kafkaProperties and appened whatever you want.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class CustomKafkaConsumerConfig {\n    @Autowired\n    KafkaProperties kafkaProperties;\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; kafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ObjectProvider&lt;ConsumerFactory&lt;Object, Object&gt;&gt; kafkaConsumerFactory) {\n\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        //configurer.configure(factory, kafkaConsumerFactory.getIfAvailable(() -&gt; new DefaultKafkaConsumerFactory&lt;&gt;(consumerFactory()));\n\n        factory.setConsumerFactory(consumerFactory());\n        \n        //change Ack mode for example\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL);\n        \n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;(kafkaProperties.buildConsumerProperties());\n\n        //change offset reset and assignment strategy for example\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(ConsumerConfig.PARTITION_ASSIGNMENT_STRATEGY_CONFIG, RoundRobinAssignor.class.getName());\n        return props;\n    }\n}\n</code></pre>\n<p>here is the log:</p>\n<pre><code>...\nauto.offset.reset = earliest\nbootstrap.servers = [localhost:9092, localhost:9093, localhost:9094]\ncheck.crcs = true\nclient.dns.lookup = use_all_dns_ips\nclient.id = consumer-test-topic-listener-group-1\nclient.rack = \n....\nmetric.reporters = []\nmetrics.num.samples = 2\nmetrics.recording.level = INFO\nmetrics.sample.window.ms = 30000\npartition.assignment.strategy = [org.apache.kafka.clients.consumer.RoundRobinAssignor]\nreceive.buffer.bytes = 65536\n...\n</code></pre>\n"}],"owner":{"account_id":4201175,"reputation":992,"user_id":3441253,"accept_rate":47,"display_name":"im_infamous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1693398824,"creation_date":1620991268,"question_id":67533484,"body_markdown":"There&#39;s one consumer with `earliest` offset option and batch processing which works perfectly fine.\r\n\r\n\r\nNow there&#39;s need to add another consumer which should work in single processing mode and always look for `latest` offset - this one appears to be in clash with some of configs below because it doesn&#39;t really have messages processed.\r\n\r\nproperties for whole application:\r\n\r\n    spring.kafka.bootstrap-servers=${KAFKA_ADDRESS:localhost:9092}\r\n    spring.kafka.consumer.group-id=group\r\n    spring.kafka.listener.type=batch\r\n    spring.kafka.consumer.enable-auto-commit=false\r\n    spring.kafka.consumer.auto-offset-reset=earliest\r\n    spring.kafka.consumer.max-poll-records=100000\r\n\r\nbean for working consumer:\r\n\r\n    @Bean(&quot;batchKafkaListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; batchKafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.setBatchListener(true);\r\n        return factory;\r\n    }\r\n\r\nbean for problem consumer:\r\n\r\n    @Bean(&quot;singleKafkaListenerContainerFactoryManualCommit&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; singleKafkaListenerContainerFactoryManualCommit(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        configurer.configure(factory, kafkaConsumerFactory);\r\n        Properties props = new Properties();\r\n        props.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.getContainerProperties().setKafkaConsumerProperties(props);\r\n        factory.setBatchListener(false);\r\n        return factory;\r\n    }\r\n\r\nBoth consumers are up and running as follows:\r\n\r\n    [ntainer#1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-2, groupId=group] Successfully joined group with generation 15\r\n    [ntainer#0-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-1, groupId=group] Successfully joined group with generation 15\r\n\r\nthey do target same topic but assuming that there are separate consumer groups in play this shouldn&#39;t affect anything in this case.\r\n\r\nMaybe there&#39;s tricky problem of consumer waiting to poll entire batch or another option interference plays out?\r\n\r\n*UPD*\r\nBased on comments this can be done via plain and simple separate consumer group addition.\r\n\r\nThis is how I&#39;ve figured to amend properties for new consumer group creation:\r\n\r\n    props.put(&quot;group.id&quot;, &quot;group-single&quot;);\r\nand another option:\r\n\r\n    props.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-single&quot;);\r\n\r\n\r\nStill logs indicate no presence of new consumer however.","title":"multiple consumers with latest and earliest offset options with spring-kafka","body":"<p>There's one consumer with <code>earliest</code> offset option and batch processing which works perfectly fine.</p>\n<p>Now there's need to add another consumer which should work in single processing mode and always look for <code>latest</code> offset - this one appears to be in clash with some of configs below because it doesn't really have messages processed.</p>\n<p>properties for whole application:</p>\n<pre><code>spring.kafka.bootstrap-servers=${KAFKA_ADDRESS:localhost:9092}\nspring.kafka.consumer.group-id=group\nspring.kafka.listener.type=batch\nspring.kafka.consumer.enable-auto-commit=false\nspring.kafka.consumer.auto-offset-reset=earliest\nspring.kafka.consumer.max-poll-records=100000\n</code></pre>\n<p>bean for working consumer:</p>\n<pre><code>@Bean(&quot;batchKafkaListenerContainerFactory&quot;)\npublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; batchKafkaListenerContainerFactory(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.setBatchListener(true);\n    return factory;\n}\n</code></pre>\n<p>bean for problem consumer:</p>\n<pre><code>@Bean(&quot;singleKafkaListenerContainerFactoryManualCommit&quot;)\npublic ConcurrentKafkaListenerContainerFactory&lt;?, ?&gt; singleKafkaListenerContainerFactoryManualCommit(ConcurrentKafkaListenerContainerFactoryConfigurer configurer, ConsumerFactory&lt;Object, Object&gt; kafkaConsumerFactory) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    configurer.configure(factory, kafkaConsumerFactory);\n    Properties props = new Properties();\n    props.setProperty(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;latest&quot;);\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n    factory.getContainerProperties().setKafkaConsumerProperties(props);\n    factory.setBatchListener(false);\n    return factory;\n}\n</code></pre>\n<p>Both consumers are up and running as follows:</p>\n<pre><code>[ntainer#1-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-2, groupId=group] Successfully joined group with generation 15\n[ntainer#0-0-C-1] o.a.k.c.c.internals.AbstractCoordinator  : [Consumer clientId=consumer-group-1, groupId=group] Successfully joined group with generation 15\n</code></pre>\n<p>they do target same topic but assuming that there are separate consumer groups in play this shouldn't affect anything in this case.</p>\n<p>Maybe there's tricky problem of consumer waiting to poll entire batch or another option interference plays out?</p>\n<p><em>UPD</em>\nBased on comments this can be done via plain and simple separate consumer group addition.</p>\n<p>This is how I've figured to amend properties for new consumer group creation:</p>\n<pre><code>props.put(&quot;group.id&quot;, &quot;group-single&quot;);\n</code></pre>\n<p>and another option:</p>\n<pre><code>props.setProperty(ConsumerConfig.GROUP_ID_CONFIG, &quot;group-single&quot;);\n</code></pre>\n<p>Still logs indicate no presence of new consumer however.</p>\n"},{"tags":["java","ip-address","ipv6"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411340412,"creation_date":1411339882,"answer_id":25964686,"question_id":25955369,"body_markdown":"This transformation will do the conversion:\r\n\r\n    ip = ip. replaceAll(&quot;^&quot;, &quot;0000&quot;).replaceAll(&quot;::&quot;, &quot;0000:0000:0000:0000:0000&quot;).replaceAll(&quot;^.*?(....)(?=:)|(?&lt;=:)[^:]*(?=....$)&quot;, &quot;&quot;);\r\n\r\nThe extra `replaceAll()` at the end ensures there are no extra zeroes in the first/final part, which caters for the leading/trailing address info (&quot;0&quot; and &quot;9&quot; in this case) being any number of digits.","title":"Code for converting a compressed IPv6 adress into its long form","body":"<p>This transformation will do the conversion:</p>\n\n<pre><code>ip = ip. replaceAll(\"^\", \"0000\").replaceAll(\"::\", \"0000:0000:0000:0000:0000\").replaceAll(\"^.*?(....)(?=:)|(?&lt;=:)[^:]*(?=....$)\", \"\");\n</code></pre>\n\n<p>The extra <code>replaceAll()</code> at the end ensures there are no extra zeroes in the first/final part, which caters for the leading/trailing address info (\"0\" and \"9\" in this case) being any number of digits.</p>\n"},{"tags":[],"owner":{"account_id":5463917,"reputation":161,"user_id":4345230,"display_name":"lmm333"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693398810,"creation_date":1693398810,"answer_id":77008093,"question_id":25955369,"body_markdown":"    import com.google.common.net.InetAddresses;\r\n    // Convert the short IPv6 address to a full version\r\n    InetAddress inetAddress = InetAddresses.forString(shortIPv6); \r\n    return inetAddress.getHostAddress();\r\n\r\n\r\n    import java.net.Inet6Address;\r\n    import java.net.InetAddress;\r\n    InetAddress inetAddress = Inet6Address.getByName(shortIPv6); \r\n    return inetAddress.getHostAddress();","title":"Code for converting a compressed IPv6 adress into its long form","body":"<pre><code>import com.google.common.net.InetAddresses;\n// Convert the short IPv6 address to a full version\nInetAddress inetAddress = InetAddresses.forString(shortIPv6); \nreturn inetAddress.getHostAddress();\n\n\nimport java.net.Inet6Address;\nimport java.net.InetAddress;\nInetAddress inetAddress = Inet6Address.getByName(shortIPv6); \nreturn inetAddress.getHostAddress();\n</code></pre>\n"}],"owner":{"account_id":2598308,"reputation":1,"user_id":2251416,"display_name":"msn.sadiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1693398810,"creation_date":1411268470,"question_id":25955369,"body_markdown":"I would like to know, whether there is a library which I can use to convert a represenation of a compressed IPv6 adress (such as 0:9876:5700::9) into the long IPv6 form (in this case: `0000:9876:5700:0000:0000:0000:0000:0009).`","title":"Code for converting a compressed IPv6 adress into its long form","body":"<p>I would like to know, whether there is a library which I can use to convert a represenation of a compressed IPv6 adress (such as 0:9876:5700::9) into the long IPv6 form (in this case: <code>0000:9876:5700:0000:0000:0000:0000:0009).</code></p>\n"},{"tags":["java","spring","spring-boot","flapdoodle-embed-mongo"],"owner":{"account_id":6178813,"reputation":508,"user_id":4814955,"display_name":"Mykeul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693398682,"creation_date":1693398682,"question_id":77008077,"body_markdown":"I am using emdedded mongodb (flapdoodle) in my tests.\r\nI am moving to Spring Boot 3. I got help from this link:\r\nhttps://stackoverflow.com/questions/74734106/how-to-use-embedded-mongodb-with-springboot-v3-0-0\r\n(@egimaben answer).\r\n\r\nNow if I want to be able to create the mongo client (mongotemplate), I need to know in advance the port.\r\nSo I am using a fixed port to start MongoDB server:\r\n   \r\n\r\nspring.data.mongodb.port=27777\r\n\r\nThen I create the client (Mongotemplate) to connect to this port.\r\nEverything works fine.\r\n\r\nBut if I have multiple tests, each test is trying to start MongoDB server and fails since the port is busy.\r\nHow can I start/stop embedded MongoDB for each test?\r\nor\r\nIf I use random port instead of fixed port, how can I know in advance the random port in order to create the Mongo client (mongoTemplate)?\r\n\r\nThank you for your help.","title":"Embedded MongoDB with SpringBoot v3.0.0?","body":"<p>I am using emdedded mongodb (flapdoodle) in my tests.\nI am moving to Spring Boot 3. I got help from this link:\n<a href=\"https://stackoverflow.com/questions/74734106/how-to-use-embedded-mongodb-with-springboot-v3-0-0\">How to use embedded MongoDB with SpringBoot v3.0.0?</a>\n(@egimaben answer).</p>\n<p>Now if I want to be able to create the mongo client (mongotemplate), I need to know in advance the port.\nSo I am using a fixed port to start MongoDB server:</p>\n<p>spring.data.mongodb.port=27777</p>\n<p>Then I create the client (Mongotemplate) to connect to this port.\nEverything works fine.</p>\n<p>But if I have multiple tests, each test is trying to start MongoDB server and fails since the port is busy.\nHow can I start/stop embedded MongoDB for each test?\nor\nIf I use random port instead of fixed port, how can I know in advance the random port in order to create the Mongo client (mongoTemplate)?</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java","ipv6"],"answers":[{"comments":[{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":2,"creation_date":1285085656,"post_id":3762111,"comment_id":3979898,"body_markdown":"Except it doesn&#39;t remove redundant zeros, e.g., `0000:0000:0001` should be `::1` but becomes `::0001` - fixable by doing something like `replaceAll(&quot;(:|^)0+(\\\\d)&quot;, &quot;$1$2&quot;)` on the result, though.","body":"Except it doesn&#39;t remove redundant zeros, e.g., <code>0000:0000:0001</code> should be <code>::1</code> but becomes <code>::0001</code> - fixable by doing something like <code>replaceAll(&quot;(:|^)0+(\\\\d)&quot;, &quot;$1$2&quot;)</code> on the result, though."},{"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"score":0,"creation_date":1285085926,"post_id":3762111,"comment_id":3979948,"body_markdown":"Good catch.  Your \\\\d should be [0-9A-Fa-F] though.  Will update to fix.","body":"Good catch.  Your \\\\d should be [0-9A-Fa-F] though.  Will update to fix."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1364233975,"post_id":3762111,"comment_id":22158816,"body_markdown":"Caution: Inet6Address.getByName can lead to DNS queries if you feed e.g. a broken address like &quot;::1::&quot; into it. This can take a couple of seconds on a single call!","body":"Caution: Inet6Address.getByName can lead to DNS queries if you feed e.g. a broken address like &quot;::1::&quot; into it. This can take a couple of seconds on a single call!"},{"owner":{"account_id":336210,"reputation":336,"user_id":663742,"accept_rate":40,"display_name":"Nazeel"},"score":1,"creation_date":1605155093,"post_id":3762111,"comment_id":114566485,"body_markdown":"following case is not working &quot;0000:0000:000f::0000:ffff&quot; -&gt; 0:0:f::ffff","body":"following case is not working &quot;0000:0000:000f::0000:ffff&quot; -&gt; 0:0:f::ffff"}],"tags":[],"owner":{"account_id":15190,"reputation":5491,"user_id":31828,"display_name":"James Van Huis"},"comment_count":4,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1285091151,"creation_date":1285084643,"answer_id":3762111,"question_id":3760936,"body_markdown":"    public class Ipv6AddressCompressor {\r\n    \tpublic static String getCompressedAddress(String longAddress) throws UnknownHostException {\r\n    \t\tlongAddress = Inet6Address.getByName(longAddress).getHostAddress();\r\n    \t\treturn longAddress.replaceFirst(&quot;(^|:)(0+(:|$)){2,8}&quot;, &quot;::&quot;);\r\n    \t}\r\n    }\r\n\r\nThis should protect you against invalid addresses (throws the UnknownHostException), and will properly compress trailing ipv4 addresses (i.e. 0:0:0:0:0:0:255.255.255.255 -&gt; ::FFFF:FFFF).  This will also protect against already compressed addresses.","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<pre><code>public class Ipv6AddressCompressor {\n    public static String getCompressedAddress(String longAddress) throws UnknownHostException {\n        longAddress = Inet6Address.getByName(longAddress).getHostAddress();\n        return longAddress.replaceFirst(\"(^|:)(0+(:|$)){2,8}\", \"::\");\n    }\n}\n</code></pre>\n\n<p>This should protect you against invalid addresses (throws the UnknownHostException), and will properly compress trailing ipv4 addresses (i.e. 0:0:0:0:0:0:255.255.255.255 -> ::FFFF:FFFF).  This will also protect against already compressed addresses.</p>\n"},{"comments":[{"owner":{"account_id":442146,"reputation":811,"user_id":832636,"accept_rate":43,"display_name":"Don Code"},"score":0,"creation_date":1645576252,"post_id":6634894,"comment_id":125907391,"body_markdown":"Where is this from?","body":"Where is this from?"}],"tags":[],"owner":{"account_id":56438,"reputation":14829,"user_id":169045,"accept_rate":89,"display_name":"rodion"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310216672,"creation_date":1310216672,"answer_id":6634894,"question_id":3760936,"body_markdown":"You can try this code. It&#39;ll probably perform better than the regex equivalent (not that I have benchmarked it, or anything). It&#39;s pretty well tested too.\r\n\r\nNote that you will need to use a numeric representation (in `byte[]`) of the IP address. To get it you can either do `InetAddress.getByName(ip).getAddress()` if you need to resolve host names, or use sun utility class `IPAddressUtil.textToNumericFormatV6(ip)` to parse from an IP address without host resolution.\r\n\r\n\tprivate static final char[] ipv6conseqZeroFiller = { &#39;:&#39;, &#39;:&#39; };\r\n\tprivate static final char ipv6hextetSeparator = &#39;:&#39;;\r\n\r\n\t/*\r\n\t * Convert numeric IPv6 to compressed format, where\r\n\t * the longest sequence of 0&#39;s (with 2 or more 0&#39;s) is replaced with &quot;::&quot;\r\n\t */\r\n\tpublic static String ipv6toCompressedForm(byte[] src) {\r\n\t\tassert src.length == 16;\r\n\t\t//Find the longest sequence of 0&#39;s \r\n\t\tint cmprHextet = -1; //start of compressed region (hextet index)\r\n\t\tint cmprSize = 0; //length of compressed region\r\n\t\tfor (int hextet = 0; hextet &lt; 8;) {\r\n\t\t\tint curByte = hextet * 2;\r\n\t\t\tint size = 0;\r\n\t\t\twhile (curByte &lt; src.length &amp;&amp; src[curByte] == 0\r\n\t\t\t\t\t&amp;&amp; src[curByte + 1] == 0) {\r\n\t\t\t\tcurByte += 2;\r\n\t\t\t\tsize++;\r\n\t\t\t}\r\n\t\t\tif (size &gt; cmprSize) {\r\n\t\t\t\tcmprHextet = hextet;\r\n\t\t\t\tcmprSize = size;\r\n\t\t\t}\r\n\t\t\thextet = (curByte / 2) + 1;\r\n\t\t}\r\n\t\tif (cmprHextet == -1 || cmprSize &lt; 2) {\r\n\t\t\t//No compression can be applied\r\n\t\t\treturn ipv6toStr(src);\r\n\t\t}\r\n\t\tStringBuilder sb = new StringBuilder(39);\r\n\t\tipv6toStr(sb, src, 0, cmprHextet);\r\n\t\tsb.append(ipv6conseqZeroFiller);\r\n\t\tipv6toStr(sb, src, cmprHextet + cmprSize, 8);\r\n\t\treturn sb.toString();\r\n\t}\r\n\t\r\n\t/*\r\n\t * Convert numeric IPv6 to standard (non-compressed) format.\r\n\t *\r\n\t * Borrowed from Inet6Address.java #numericToTextFormat(byte[])\r\n\t * Changed StringBuffer -&gt; StringBuilder and &quot;:&quot; -&gt; &#39;:&#39; for performance.\r\n\t */\r\n\tpublic static String ipv6toStr(byte[] src) {\r\n\t\tassert src.length == 16;\r\n\t\tStringBuilder sb = new StringBuilder(39);\r\n\t\tipv6toStr(sb, src, 0, 8);\r\n\t\treturn sb.toString();\r\n\t}\r\n\r\n\tprivate static final void ipv6toStr(StringBuilder sb, byte[] src,\r\n\t\t\tint fromHextet, int toHextet) {\r\n\t\tfor (int i = fromHextet; i &lt; toHextet; i++) {\r\n\t\t\tsb.append(Integer.toHexString(((src[i &lt;&lt; 1] &lt;&lt; 8) &amp; 0xff00)\r\n\t\t\t\t\t| (src[(i &lt;&lt; 1) + 1] &amp; 0xff)));\r\n\t\t\tif (i &lt; toHextet - 1) {\r\n\t\t\t\tsb.append(ipv6hextetSeparator);\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p>You can try this code. It'll probably perform better than the regex equivalent (not that I have benchmarked it, or anything). It's pretty well tested too.</p>\n\n<p>Note that you will need to use a numeric representation (in <code>byte[]</code>) of the IP address. To get it you can either do <code>InetAddress.getByName(ip).getAddress()</code> if you need to resolve host names, or use sun utility class <code>IPAddressUtil.textToNumericFormatV6(ip)</code> to parse from an IP address without host resolution.</p>\n\n<pre><code>private static final char[] ipv6conseqZeroFiller = { ':', ':' };\nprivate static final char ipv6hextetSeparator = ':';\n\n/*\n * Convert numeric IPv6 to compressed format, where\n * the longest sequence of 0's (with 2 or more 0's) is replaced with \"::\"\n */\npublic static String ipv6toCompressedForm(byte[] src) {\n    assert src.length == 16;\n    //Find the longest sequence of 0's \n    int cmprHextet = -1; //start of compressed region (hextet index)\n    int cmprSize = 0; //length of compressed region\n    for (int hextet = 0; hextet &lt; 8;) {\n        int curByte = hextet * 2;\n        int size = 0;\n        while (curByte &lt; src.length &amp;&amp; src[curByte] == 0\n                &amp;&amp; src[curByte + 1] == 0) {\n            curByte += 2;\n            size++;\n        }\n        if (size &gt; cmprSize) {\n            cmprHextet = hextet;\n            cmprSize = size;\n        }\n        hextet = (curByte / 2) + 1;\n    }\n    if (cmprHextet == -1 || cmprSize &lt; 2) {\n        //No compression can be applied\n        return ipv6toStr(src);\n    }\n    StringBuilder sb = new StringBuilder(39);\n    ipv6toStr(sb, src, 0, cmprHextet);\n    sb.append(ipv6conseqZeroFiller);\n    ipv6toStr(sb, src, cmprHextet + cmprSize, 8);\n    return sb.toString();\n}\n\n/*\n * Convert numeric IPv6 to standard (non-compressed) format.\n *\n * Borrowed from Inet6Address.java #numericToTextFormat(byte[])\n * Changed StringBuffer -&gt; StringBuilder and \":\" -&gt; ':' for performance.\n */\npublic static String ipv6toStr(byte[] src) {\n    assert src.length == 16;\n    StringBuilder sb = new StringBuilder(39);\n    ipv6toStr(sb, src, 0, 8);\n    return sb.toString();\n}\n\nprivate static final void ipv6toStr(StringBuilder sb, byte[] src,\n        int fromHextet, int toHextet) {\n    for (int i = fromHextet; i &lt; toHextet; i++) {\n        sb.append(Integer.toHexString(((src[i &lt;&lt; 1] &lt;&lt; 8) &amp; 0xff00)\n                | (src[(i &lt;&lt; 1) + 1] &amp; 0xff)));\n        if (i &lt; toHextet - 1) {\n            sb.append(ipv6hextetSeparator);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1364298007,"creation_date":1364298007,"answer_id":15636179,"question_id":3760936,"body_markdown":"[java-ipv6][1] is a very decent library for that. It also handles address ranges well.\r\n\r\n  [1]: https://code.google.com/p/java-ipv6/","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p><a href=\"https://code.google.com/p/java-ipv6/\">java-ipv6</a> is a very decent library for that. It also handles address ranges well.</p>\n"},{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488697461,"creation_date":1488697461,"answer_id":42605520,"question_id":3760936,"body_markdown":"[The open-source IPAddress Java library](https://seancfoley.github.io/IPAddress/) can do ip address parsing and produce a variety of strings.  Disclaimer: I am the project manager of that library.\r\n\r\nExample code:\r\n\r\n        String ipv6 = &quot;2002:9876:57AB:0000:0000:0000:0000:0001&quot;;\r\n        try {\r\n            IPAddressString str = new IPAddressString(ipv6);\r\n            IPAddress addr = str.toAddress();\r\n            String compressed = addr.toCompressedString();\r\n            System.out.println(compressed); //\r\n        } catch(IPAddressStringException e) {\r\n            //e.getMessage has validation error\r\n        }\r\n\r\noutput:\r\n    \r\n    2002:9876:57ab::1\r\n","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow noreferrer\">The open-source IPAddress Java library</a> can do ip address parsing and produce a variety of strings.  Disclaimer: I am the project manager of that library.</p>\n\n<p>Example code:</p>\n\n<pre><code>    String ipv6 = \"2002:9876:57AB:0000:0000:0000:0000:0001\";\n    try {\n        IPAddressString str = new IPAddressString(ipv6);\n        IPAddress addr = str.toAddress();\n        String compressed = addr.toCompressedString();\n        System.out.println(compressed); //\n    } catch(IPAddressStringException e) {\n        //e.getMessage has validation error\n    }\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>2002:9876:57ab::1\n</code></pre>\n"}],"owner":{"account_id":78288,"reputation":8738,"user_id":1087469,"accept_rate":74,"display_name":"leifg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10429,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"closed_date":1693404969,"accepted_answer_id":3762111,"answer_count":4,"score":6,"last_activity_date":1693398658,"creation_date":1285076798,"question_id":3760936,"body_markdown":"I would like to know, whether there is a library which I can use to convert a represenation of a long IPv6 address (such as 2002:9876:57AB:0000:0000:0000:0000:0001) into the compressed IPv6 form (in this case: 2002:9876:57AB::1).\r\n\r\nI was not able to find such a library. This library should not use any IP Api, a network connection must not be made.\r\n\r\nI already tried\r\n\r\n    return Inet6Address.getByName(longAdress).toString();\r\n\r\nbut this just replaces the 4 zeros with 1 zero (in this case 2002:9876:57AB:0:0:0:0:1).\r\n\r\nany suggestions?","title":"Java Library for converting a long IPv6 address into its compressed form","body":"<p>I would like to know, whether there is a library which I can use to convert a represenation of a long IPv6 address (such as 2002:9876:57AB:0000:0000:0000:0000:0001) into the compressed IPv6 form (in this case: 2002:9876:57AB::1).</p>\n\n<p>I was not able to find such a library. This library should not use any IP Api, a network connection must not be made.</p>\n\n<p>I already tried</p>\n\n<pre><code>return Inet6Address.getByName(longAdress).toString();\n</code></pre>\n\n<p>but this just replaces the 4 zeros with 1 zero (in this case 2002:9876:57AB:0:0:0:0:1).</p>\n\n<p>any suggestions?</p>\n"},{"tags":["java","ipv6"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1454476313,"post_id":35168524,"comment_id":58055937,"body_markdown":"Use the java.net.Inet6Address Class:  https://docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html","body":"Use the java.net.Inet6Address Class:  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/net/Inet6Address.html</a>"},{"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"score":1,"creation_date":1454478355,"post_id":35168524,"comment_id":58056604,"body_markdown":"Thanks for your reply! I think it will return &quot;2001:cdba:0:0:0:0:3257:9652&quot; but I need fully &quot;2001:cdba:0000:0000:0000:0000:3257:9652&quot;","body":"Thanks for your reply! I think it will return &quot;2001:cdba:0:0:0:0:3257:9652&quot; but I need fully &quot;2001:cdba:0000:0000:0000:0000:3257:9652&quot;"},{"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"score":0,"creation_date":1454485681,"post_id":35168524,"comment_id":58059976,"body_markdown":"Actually, I wrote a function to do that but I want to know: Does has any function in java to do that?","body":"Actually, I wrote a function to do that but I want to know: Does has any function in java to do that?"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":1,"creation_date":1454510448,"post_id":35168524,"comment_id":58076952,"body_markdown":"[RFC 5952, A Recommendation for IPv6 Address Text Representation](https://tools.ietf.org/html/rfc5952) has an affect on this.","body":"<a href=\"https://tools.ietf.org/html/rfc5952\" rel=\"nofollow noreferrer\">RFC 5952, A Recommendation for IPv6 Address Text Representation</a> has an affect on this."}],"answers":[{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1473403163,"creation_date":1473403163,"answer_id":39405311,"question_id":35168524,"body_markdown":"There is no method in the standard Java libraries to do that.\r\n\r\n[The IPAddress Java library](https://seancfoley.github.io/IPAddress/) has methods to produce those formats and various other string formats.\r\n\r\nHere is a code sample:\r\n\r\n\t\tIPAddressString addrString = new IPAddressString(&quot;2001:cdba::3257:9652&quot;);\r\n\t\tIPAddress addr = addrString.getAddress();\r\n\t\tString string = addr.toFullString();\r\n\t\tSystem.out.println(string);\r\n\t\tstring = addr.toCanonicalString();\r\n\t\tSystem.out.println(string);\r\n\r\nThe output is:\r\n\r\n    2001:cdba:0000:0000:0000:0000:3257:9652\r\n    2001:cdba::3257:9652\r\n","title":"Get Ipv6 Full Format In Java","body":"<p>There is no method in the standard Java libraries to do that.</p>\n\n<p><a href=\"https://seancfoley.github.io/IPAddress/\" rel=\"nofollow\">The IPAddress Java library</a> has methods to produce those formats and various other string formats.</p>\n\n<p>Here is a code sample:</p>\n\n<pre><code>    IPAddressString addrString = new IPAddressString(\"2001:cdba::3257:9652\");\n    IPAddress addr = addrString.getAddress();\n    String string = addr.toFullString();\n    System.out.println(string);\n    string = addr.toCanonicalString();\n    System.out.println(string);\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>2001:cdba:0000:0000:0000:0000:3257:9652\n2001:cdba::3257:9652\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12016542,"reputation":2344,"user_id":8791491,"display_name":"L.Grozinger"},"score":0,"creation_date":1693420703,"post_id":77008070,"comment_id":135760189,"body_markdown":"Could you add some explanation or rationale here?","body":"Could you add some explanation or rationale here?"}],"tags":[],"owner":{"account_id":5463917,"reputation":161,"user_id":4345230,"display_name":"lmm333"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1693398632,"creation_date":1693398632,"answer_id":77008070,"question_id":35168524,"body_markdown":"    import com.google.common.net.InetAddresses;\r\n    // Convert the short IPv6 address to a full version\r\n    InetAddress inetAddress = InetAddresses.forString(shortIPv6); \r\n    return inetAddress.getHostAddress();","title":"Get Ipv6 Full Format In Java","body":"<pre><code>import com.google.common.net.InetAddresses;\n// Convert the short IPv6 address to a full version\nInetAddress inetAddress = InetAddresses.forString(shortIPv6); \nreturn inetAddress.getHostAddress();\n</code></pre>\n"}],"owner":{"account_id":6569365,"reputation":91,"user_id":5077949,"accept_rate":83,"display_name":"Tri Pham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1837,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":39405311,"answer_count":2,"score":2,"last_activity_date":1693398632,"creation_date":1454473663,"question_id":35168524,"body_markdown":"I have an ipv6 like:**&quot;2001:cdba::3257:9652&quot;.** I want get ipv6 in full format like: **2001:cdba:0000:0000:0000:0000:3257:9652**. Does has any function in java to do that? And how to compress a ipv6 full format?\r\nThanks all.","title":"Get Ipv6 Full Format In Java","body":"<p>I have an ipv6 like:<strong>\"2001:cdba::3257:9652\".</strong> I want get ipv6 in full format like: <strong>2001:cdba:0000:0000:0000:0000:3257:9652</strong>. Does has any function in java to do that? And how to compress a ipv6 full format?\nThanks all.</p>\n"},{"tags":["java","android","geotools"],"answers":[{"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693398364,"creation_date":1693398364,"answer_id":77008024,"question_id":77006196,"body_markdown":"As the [manual][1] helpfully states GeoTools stores its release jars at https://repo.osgeo.org/repository/release/ \r\n\r\nAlso, much of GeoTools depends on the SPI tools to load datastores and other plugins so it won&#39;t work on Android unless you rewrite the loader.\r\n\r\n\r\n  [1]: https://docs.geotools.org/stable/userguide/build/maven/repositories.html","title":"How to integrate GeoTools library in android Project","body":"<p>As the <a href=\"https://docs.geotools.org/stable/userguide/build/maven/repositories.html\" rel=\"nofollow noreferrer\">manual</a> helpfully states GeoTools stores its release jars at <a href=\"https://repo.osgeo.org/repository/release/\" rel=\"nofollow noreferrer\">https://repo.osgeo.org/repository/release/</a></p>\n<p>Also, much of GeoTools depends on the SPI tools to load datastores and other plugins so it won't work on Android unless you rewrite the loader.</p>\n"}],"owner":{"account_id":23782993,"reputation":81,"user_id":17795444,"display_name":"user17795444"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77008024,"answer_count":1,"score":1,"last_activity_date":1693398364,"creation_date":1693384046,"question_id":77006196,"body_markdown":"I am trying to integrate geotools libray, but I am getting error please help to integrate i have done following step for integration. \r\n\r\nI am getting error: Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not find org.geotools:geotools:29.2.\r\n - https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\r\n       - https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\r\n\r\n\r\n\r\n\r\nPlease help me to integrate \r\n\r\n\r\n\r\n ## Project level build.gradle\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.20&#39; apply false\r\n}\r\n```\r\n\r\n## app level build.gradle dependencies\r\n\r\n```\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;io.oss84.geotools:geotools:24.2-oss84-1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;org.geotools:geotools:29.2&#39;\r\n}\r\n```\r\n## settings.gradle\r\n\r\n```\r\npluginManagement {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        gradlePluginPortal()\r\n        maven { url &#39;https://jitpack.io&#39; } // Add GeoTools repository\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;GeoToolsAndroid&quot;\r\ninclude &#39;:app&#39;\r\n```","title":"How to integrate GeoTools library in android Project","body":"<p>I am trying to integrate geotools libray, but I am getting error please help to integrate i have done following step for integration.</p>\n<p>I am getting error: Could not resolve all files for configuration ':app:debugRuntimeClasspath'.</p>\n<blockquote>\n<p>Could not find org.geotools:geotools:29.2.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\" rel=\"nofollow noreferrer\">https://dl.google.com/dl/android/maven2/org/geotools/geotools/29.2/geotools-29.2.pom</a>\n- <a href=\"https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/org/geotools/geotools/29.2/geotools-29.2.pom</a></li>\n</ul>\n<p>Please help me to integrate</p>\n<h2>Project level build.gradle</h2>\n<pre><code>plugins {\n    id 'com.android.application' version '8.0.2' apply false\n    id 'com.android.library' version '8.0.2' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.20' apply false\n}\n</code></pre>\n<h2>app level build.gradle dependencies</h2>\n<pre><code>dependencies {\n    implementation 'androidx.core:core-ktx:1.8.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.5.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'io.oss84.geotools:geotools:24.2-oss84-1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'org.geotools:geotools:29.2'\n}\n</code></pre>\n<h2>settings.gradle</h2>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url 'https://jitpack.io' } // Add GeoTools repository\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;GeoToolsAndroid&quot;\ninclude ':app'\n</code></pre>\n"},{"tags":["java","kotlin","opencv","camera-calibration","opencv-solvepnp"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1693404975,"post_id":77007868,"comment_id":135756756,"body_markdown":"According to my own tests from some years ago, solvePnp gives the object pose, so to get the camera extrinsics you would have to invert. BUT maybe opencv changed the behaviour in a later version. If you place the camera front-facing to the chessboard (rotation nearly 0, x and y nearly 0), what&#39;s the z position coordinate given in solvePnp? Is it positive or negative? If you move the cam to some x coordinate, does this fit to your chessboard-coordinate-system or to its inverse?","body":"According to my own tests from some years ago, solvePnp gives the object pose, so to get the camera extrinsics you would have to invert. BUT maybe opencv changed the behaviour in a later version. If you place the camera front-facing to the chessboard (rotation nearly 0, x and y nearly 0), what&#39;s the z position coordinate given in solvePnp? Is it positive or negative? If you move the cam to some x coordinate, does this fit to your chessboard-coordinate-system or to its inverse?"},{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1693405574,"post_id":77007868,"comment_id":135756906,"body_markdown":"Have a look at the docs, even for calibrateCamera it says fit rvec/tvec: &quot;this tuple is equivalent to the position of the calibration pattern with respect to the camera coordinate space.&quot; So imho if you are searching the camera pose in the board-coordinate-system you have to invert rvec and tvec. Still,if possible, you should verify this in a controlled setup where the camera extrinsics are coarsely known. Thus can also help to understand the actual coordinate systems.","body":"Have a look at the docs, even for calibrateCamera it says fit rvec/tvec: &quot;this tuple is equivalent to the position of the calibration pattern with respect to the camera coordinate space.&quot; So imho if you are searching the camera pose in the board-coordinate-system you have to invert rvec and tvec. Still,if possible, you should verify this in a controlled setup where the camera extrinsics are coarsely known. Thus can also help to understand the actual coordinate systems."}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693398088,"creation_date":1693397191,"question_id":77007868,"body_markdown":"I have a camera that has known intrinsic parameters but unknown extrinsic parameters. I am attempting to get an extrinsic calibration and to do that, I positioned a chessboard pattern with known world coordinates in the frame of the camera. To get the extrinsic calibration, I am comparing two OpenCV methods from the Calib3D module:\r\n\r\n    val flags = CALIB_USE_INTRINSIC_GUESS or\r\n        CALIB_FIX_PRINCIPAL_POINT or\r\n        CALIB_FIX_FOCAL_LENGTH or\r\n        CALIB_FIX_K1 or\r\n        CALIB_FIX_K2 or\r\n        CALIB_FIX_K3 or\r\n        CALIB_FIX_K4 or\r\n        CALIB_FIX_K5 or\r\n        CALIB_FIX_K6 or\r\n        CALIB_FIX_S1_S2_S3_S4 or\r\n        CALIB_FIX_TAUX_TAUY\r\n    val overallRms = Calib3d.calibrateCamera(\r\n        objectPoints,\r\n        imagePoints,\r\n        imageSize,\r\n        cameraMatrix,\r\n        distortionCoefficients,\r\n        rotationVectors,\r\n        translationVectors,\r\n        flags\r\n    )\r\n\r\nand\r\n\r\n    val solveReturnValue = Calib3d.solvePnP(\r\n        objectPointsInFrame.second,\r\n        imagePointsInFrame.second,\r\n        cameraMatrix,\r\n        distortionCoefficients,\r\n        rotationVector,\r\n        translationVector,\r\n        false // useExtrinsicsGuess\r\n    )\r\n\r\nBoth methods yield the same results for translation and rotation +- 1.5 units. However, I have read on multiple occasions (e.g., [here](https://answers.opencv.org/question/133855/does-anyone-actually-use-the-return-values-of-solvepnp-to-compute-the-coordinates-of-the-camera-wrt-the-object-in-the-world-space/) ) that `solvePnP` yields the inverse of `calibrateCamera` and one needs to invert the transformation again by \r\n\r\n1. computing the rotation matrix `R` from the rotation vector using `Calib3D.Rodrigues()`\r\n2. inverting the rotation by inverting the rotation matrix\r\n3. inverting the translation using `-R.t()*tvec`\r\n\r\nwhich according to my testing does not seem to be the case. Hence, my questions: Is it safe to assume that  `rotationVectors` and `translationVectors` are the extrinsic calibration of the camera? And when is the aforementioned transformation actually necessary?","title":"Transformation of extrinsic camera parameters from solvePnP","body":"<p>I have a camera that has known intrinsic parameters but unknown extrinsic parameters. I am attempting to get an extrinsic calibration and to do that, I positioned a chessboard pattern with known world coordinates in the frame of the camera. To get the extrinsic calibration, I am comparing two OpenCV methods from the Calib3D module:</p>\n<pre><code>val flags = CALIB_USE_INTRINSIC_GUESS or\n    CALIB_FIX_PRINCIPAL_POINT or\n    CALIB_FIX_FOCAL_LENGTH or\n    CALIB_FIX_K1 or\n    CALIB_FIX_K2 or\n    CALIB_FIX_K3 or\n    CALIB_FIX_K4 or\n    CALIB_FIX_K5 or\n    CALIB_FIX_K6 or\n    CALIB_FIX_S1_S2_S3_S4 or\n    CALIB_FIX_TAUX_TAUY\nval overallRms = Calib3d.calibrateCamera(\n    objectPoints,\n    imagePoints,\n    imageSize,\n    cameraMatrix,\n    distortionCoefficients,\n    rotationVectors,\n    translationVectors,\n    flags\n)\n</code></pre>\n<p>and</p>\n<pre><code>val solveReturnValue = Calib3d.solvePnP(\n    objectPointsInFrame.second,\n    imagePointsInFrame.second,\n    cameraMatrix,\n    distortionCoefficients,\n    rotationVector,\n    translationVector,\n    false // useExtrinsicsGuess\n)\n</code></pre>\n<p>Both methods yield the same results for translation and rotation +- 1.5 units. However, I have read on multiple occasions (e.g., <a href=\"https://answers.opencv.org/question/133855/does-anyone-actually-use-the-return-values-of-solvepnp-to-compute-the-coordinates-of-the-camera-wrt-the-object-in-the-world-space/\" rel=\"nofollow noreferrer\">here</a> ) that <code>solvePnP</code> yields the inverse of <code>calibrateCamera</code> and one needs to invert the transformation again by</p>\n<ol>\n<li>computing the rotation matrix <code>R</code> from the rotation vector using <code>Calib3D.Rodrigues()</code></li>\n<li>inverting the rotation by inverting the rotation matrix</li>\n<li>inverting the translation using <code>-R.t()*tvec</code></li>\n</ol>\n<p>which according to my testing does not seem to be the case. Hence, my questions: Is it safe to assume that  <code>rotationVectors</code> and <code>translationVectors</code> are the extrinsic calibration of the camera? And when is the aforementioned transformation actually necessary?</p>\n"},{"tags":["java","function","kotlin","lambda"],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1693397884,"creation_date":1693396884,"answer_id":77007811,"question_id":77007755,"body_markdown":"The issue you&#39;re is due to Kotlin&#39;s type inference not working as expected in this specific context when using lambdas with Java functional interfaces.\r\n\r\nTo address this, you can explicitly declare the lambda type using the `Function` interface in your code:\r\n\r\n```kotlin\r\nimport java.util.function.Function\r\n\r\nfun main() {\r\n   val s: Function&lt;String, String&gt; = Function&lt;String, String&gt; { s -&gt; s + s }\r\n   // Or simply \r\n   // val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\r\n}\r\n```","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>The issue you're is due to Kotlin's type inference not working as expected in this specific context when using lambdas with Java functional interfaces.</p>\n<p>To address this, you can explicitly declare the lambda type using the <code>Function</code> interface in your code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import java.util.function.Function\n\nfun main() {\n   val s: Function&lt;String, String&gt; = Function&lt;String, String&gt; { s -&gt; s + s }\n   // Or simply \n   // val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693397015,"creation_date":1693397015,"answer_id":77007831,"question_id":77007755,"body_markdown":"Try to use `Function&lt;String, String&gt;`, full example:\r\n\r\n    import java.util.function.Function\r\n    \r\n    fun main() {\r\n        val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\r\n        val result = s.apply(&quot;Kotlin&quot;)\r\n        println(result) // KotlinKotlin\r\n    }","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>Try to use <code>Function&lt;String, String&gt;</code>, full example:</p>\n<pre><code>import java.util.function.Function\n\nfun main() {\n    val s: Function&lt;String, String&gt; = Function { s -&gt; s + s }\n    val result = s.apply(&quot;Kotlin&quot;)\n    println(result) // KotlinKotlin\n}\n</code></pre>\n"}],"owner":{"account_id":12321033,"reputation":8782,"user_id":8990329,"accept_rate":70,"display_name":"Some Name"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77007811,"answer_count":2,"score":3,"last_activity_date":1693397884,"creation_date":1693396493,"question_id":77007755,"body_markdown":"I tried to write the following code:\r\n\r\n    val s: Function&lt;String, String&gt; = { s -&gt; s + s }\r\n\r\nIt compiles with the following error:\r\n\r\n    Type mismatch: inferred type is (???) -&gt; [Error type: Return type for function cannot be resolved] but Function&lt;String, String&gt; was expected\r\n    \r\n    Cannot infer a type for this parameter. Please specify it explicitly.\r\n\r\nWhat is the proper way to assign `Kotlin` lambda to `Java` function?","title":"Is there a way to use Kotlin lambda to create java.util.funtion.Function?","body":"<p>I tried to write the following code:</p>\n<pre><code>val s: Function&lt;String, String&gt; = { s -&gt; s + s }\n</code></pre>\n<p>It compiles with the following error:</p>\n<pre><code>Type mismatch: inferred type is (???) -&gt; [Error type: Return type for function cannot be resolved] but Function&lt;String, String&gt; was expected\n\nCannot infer a type for this parameter. Please specify it explicitly.\n</code></pre>\n<p>What is the proper way to assign <code>Kotlin</code> lambda to <code>Java</code> function?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":18559672,"reputation":300,"user_id":13523946,"display_name":"notAPPP"},"score":0,"creation_date":1667648645,"post_id":74327336,"comment_id":131219373,"body_markdown":"with latest spring you can check : https://stackoverflow.com/a/70503395/13523946","body":"with latest spring you can check : <a href=\"https://stackoverflow.com/a/70503395/13523946\">stackoverflow.com/a/70503395/13523946</a>"},{"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"score":0,"creation_date":1667663624,"post_id":74327336,"comment_id":131222250,"body_markdown":"Seems to be somehow linked with `.apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))`, is the package name correct?","body":"Seems to be somehow linked with <code>.apis(RequestHandlerSelectors.basePackage(&quot;com.educative.eco&zwnj;&#8203;mmerce&quot;))</code>, is the package name correct?"}],"answers":[{"tags":[],"owner":{"account_id":29323120,"reputation":1,"user_id":22466255,"display_name":"Anjali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693397766,"creation_date":1693324277,"answer_id":77001753,"question_id":74327336,"body_markdown":"Including below lines in the `application.yml` file worked for me.\r\n```none\r\nspring:\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```\r\nAlso in my case I was using spring-boot-starter-actuator dependency. Somehow it was also impacting this issue. I commented it for the time being.","title":"Swagger issue - Springboot and Java","body":"<p>Including below lines in the <code>application.yml</code> file worked for me.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring:\n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n<p>Also in my case I was using spring-boot-starter-actuator dependency. Somehow it was also impacting this issue. I commented it for the time being.</p>\n"}],"owner":{"account_id":26837926,"reputation":21,"user_id":20424913,"display_name":"Jeremy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1416,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1693397766,"creation_date":1667648017,"question_id":74327336,"body_markdown":"Can someone help me with this issue. I tried following a tutorial but when I had to build the program I got this issue: &quot;java.lang.NullPointerException: Cannot invoke&quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null.&quot;\r\n\r\nSwaggerConfig:\r\n`\r\n```\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport springfox.documentation.builders.ApiInfoBuilder;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.service.ApiInfo;\r\nimport springfox.documentation.service.Contact;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket productApi() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n        \t\t.apiInfo(getApiInfo())\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n\tprivate ApiInfo getApiInfo() {\r\n        Contact contact = new Contact(&quot;webtutsplus&quot;, &quot;http://webtutsplus.com&quot;, &quot;contact.webtutsplus@gmail.com&quot;);\r\n        return new ApiInfoBuilder()\r\n                .title(&quot;Ecommerce API&quot;)\r\n                .description(&quot;Documentation Ecommerce api&quot;)\r\n                .version(&quot;1.0.0&quot;)\r\n                .license(&quot;Apache 2.0&quot;)\r\n                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;)\r\n                .contact(contact)\r\n                .build();\r\n    }\r\n}\r\n```\r\n`\r\n\r\npom.xml:\r\n`\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.bulafj&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n                        &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                    &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                        &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.9.2&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n`\r\n\r\nError:\r\n`\r\n```\r\ncd C:\\Users\\ADMIN\\Desktop\\demo; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1&quot; \r\n\r\nConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-11-05 22:56:33.180 ERROR 24168 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\r\n\tat springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\r\n\tat com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\r\n\tat java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\r\n\tat java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\r\n\tat java.base/java.util.Arrays.sort(Arrays.java:1233) ~[na:na]\r\n\tat com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n\t... 80 common frames omitted\r\n\r\n2022-11-05 22:56:33.183 ERROR 24168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3bd323e9] to prepare test instance [com.bulafj.demo.DemoApplicationTests@6a0aa5e2]\r\n\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.23.jar:5.3.23]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n\tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\tat at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\r\n\tat com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\r\n\tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\r\n\t... 80 common frames omitted\r\n\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.58 s &lt;&lt;&lt; FAILURE! - in com.bulafj.demo.DemoApplicationTests\r\ncontextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\njava.lang.IllegalStateException: Failed to load ApplicationContext\r\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\r\n\r\n\r\nResults:\r\n\r\nErrors: \r\n  DemoApplicationTests.contextLoads &#194;&#187; IllegalState Failed to load ApplicationCon...\r\n\r\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n\r\nBUILD FAILURE\r\n\r\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project demo: There are test failures.\r\n```\r\n`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nTried some other solutions but still got the same error.","title":"Swagger issue - Springboot and Java","body":"<p>Can someone help me with this issue. I tried following a tutorial but when I had to build the program I got this issue: &quot;java.lang.NullPointerException: Cannot invoke&quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null.&quot;</p>\n<p>SwaggerConfig:\n`</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n    @Bean\n    public Docket productApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(getApiInfo())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.educative.ecommerce&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo getApiInfo() {\n        Contact contact = new Contact(&quot;webtutsplus&quot;, &quot;http://webtutsplus.com&quot;, &quot;contact.webtutsplus@gmail.com&quot;);\n        return new ApiInfoBuilder()\n                .title(&quot;Ecommerce API&quot;)\n                .description(&quot;Documentation Ecommerce api&quot;)\n                .version(&quot;1.0.0&quot;)\n                .license(&quot;Apache 2.0&quot;)\n                .licenseUrl(&quot;http://www.apache.org/licenses/LICENSE-2.0&quot;)\n                .contact(contact)\n                .build();\n    }\n}\n</code></pre>\n<p>`</p>\n<p>pom.xml:\n`</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.bulafj&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n                    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n                    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n                    &lt;scope&gt;runtime&lt;/scope&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                        &lt;type&gt;jar&lt;/type&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                    &lt;version&gt;2.9.2&lt;/version&gt;\n                &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>`</p>\n<p>Error:\n`</p>\n<pre><code>cd C:\\Users\\ADMIN\\Desktop\\demo; &quot;JAVA_HOME=C:\\\\Program Files\\\\Java\\\\jdk-18.0.2.1&quot; \n\nConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-11-05 22:56:33.180 ERROR 24168 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:112) ~[springfox-spi-2.9.2.jar:null]\n    at springfox.documentation.spi.service.contexts.Orderings$8.compare(Orderings.java:109) ~[springfox-spi-2.9.2.jar:null]\n    at com.google.common.collect.ComparatorOrdering.compare(ComparatorOrdering.java:37) ~[guava-20.0.jar:na]\n    at java.base/java.util.TimSort.countRunAndMakeAscending(TimSort.java:355) ~[na:na]\n    at java.base/java.util.TimSort.sort(TimSort.java:220) ~[na:na]\n    at java.base/java.util.Arrays.sort(Arrays.java:1233) ~[na:na]\n    at com.google.common.collect.Ordering.sortedCopy(Ordering.java:855) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 80 common frames omitted\n\n2022-11-05 22:56:33.183 ERROR 24168 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3bd323e9] to prepare test instance [com.bulafj.demo.DemoApplicationTests@6a0aa5e2]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-5.3.23.jar:5.3.23]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66) ~[junit-jupiter-engine-5.8.2.jar:5.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.8.2.jar:1.8.2]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128) ~[junit-platform-launcher-1.3.1.jar:1.3.1]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:124) ~[surefire-junit-platform-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) ~[surefire-booter-2.22.2.jar:2.22.2]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) ~[surefire-booter-2.22.2.jar:2.22.2]\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n    at at springfox.documentation.spring.web.plugins.WebMvcRequestHandlerProvider.requestHandlers(WebMvcRequestHandlerProvider.java:57) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:138) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper$2.apply(DocumentationPluginsBootstrapper.java:135) ~[springfox-spring-web-2.9.2.jar:null]\n    at com.google.common.collect.Iterators$7.transform(Iterators.java:750) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.TransformedIterator.next(TransformedIterator.java:47) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:52) ~[guava-20.0.jar:na]\n    at com.google.common.collect.MultitransformedIterator.hasNext(MultitransformedIterator.java:50) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:249) ~[guava-20.0.jar:na]\n    at com.google.common.collect.ImmutableList.copyOf(ImmutableList.java:209) ~[guava-20.0.jar:na]\n    at com.google.common.collect.FluentIterable.toList(FluentIterable.java:614) ~[guava-20.0.jar:na]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.defaultContextBuilder(DocumentationPluginsBootstrapper.java:111) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.buildContext(DocumentationPluginsBootstrapper.java:96) ~[springfox-spring-web-2.9.2.jar:null]\n    at springfox.documentation.spring.web.plugins.DocumentationPluginsBootstrapper.start(DocumentationPluginsBootstrapper.java:167) ~[springfox-spring-web-2.9.2.jar:null]\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.23.jar:5.3.23]\n    ... 80 common frames omitted\n\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 5.58 s &lt;&lt;&lt; FAILURE! - in com.bulafj.demo.DemoApplicationTests\ncontextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.toString()&quot; because the return value of &quot;springfox.documentation.spi.service.contexts.Orderings.patternsCondition(springfox.documentation.RequestHandler)&quot; is null\n\n\nResults:\n\nErrors: \n  DemoApplicationTests.contextLoads Â» IllegalState Failed to load ApplicationCon...\n\nTests run: 1, Failures: 0, Errors: 1, Skipped: 0\n\nBUILD FAILURE\n\nFailed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.22.2:test (default-test) on project demo: There are test failures.\n</code></pre>\n<p>`</p>\n<p>Tried some other solutions but still got the same error.</p>\n"},{"tags":["java","logback","graalvm","graalvm-native-image"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1656327607,"post_id":72770461,"comment_id":128536456,"body_markdown":"Have you tried changing the loggers in your code from static to normal fields? It is common to use static loggers with logback, but not required. If you use &quot;private final Logger&quot; instead of &quot;private static final Logger&quot; the initialization will happen at runtime. EDIT: see also https://stackoverflow.com/questions/60654455/how-to-fix-try-avoiding-to-initialize-the-class-that-caused-initialization-wit?rq=1.","body":"Have you tried changing the loggers in your code from static to normal fields? It is common to use static loggers with logback, but not required. If you use &quot;private final Logger&quot; instead of &quot;private static final Logger&quot; the initialization will happen at runtime. EDIT: see also <a href=\"https://stackoverflow.com/questions/60654455/how-to-fix-try-avoiding-to-initialize-the-class-that-caused-initialization-wit?rq=1\" title=\"how to fix try avoiding to initialize the class that caused initialization wit\">stackoverflow.com/questions/60654455/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":10953180,"reputation":1097,"user_id":8894262,"display_name":"Vitor Ramos"},"score":0,"creation_date":1675727642,"post_id":73823690,"comment_id":132987640,"body_markdown":"I have exacly the same problem, but when a add `graalvmNative` it doesn&#39;t change anything, it looks like the block is completely ignored, even when I include `--verbose` or `--trace-object-instantiation=ch.qos.logback.classic.Logger`, any ideas?","body":"I have exacly the same problem, but when a add <code>graalvmNative</code> it doesn&#39;t change anything, it looks like the block is completely ignored, even when I include <code>--verbose</code> or <code>--trace-object-instantiation=ch.qos.logback.classic.Logger</code>, any ideas?"},{"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"score":0,"creation_date":1678719282,"post_id":73823690,"comment_id":133583466,"body_markdown":"It&#39;s exactly the same to me @VitorRamos. Did you find a solution to this?","body":"It&#39;s exactly the same to me @VitorRamos. Did you find a solution to this?"},{"owner":{"account_id":3399031,"reputation":319,"user_id":2851799,"display_name":"Ben"},"score":0,"creation_date":1678784284,"post_id":73823690,"comment_id":133596028,"body_markdown":"To me it looks like a general problem in the combination of Spring Native and logsstash: https://github.com/spring-projects/spring-boot/issues/33758","body":"To me it looks like a general problem in the combination of Spring Native and logsstash: <a href=\"https://github.com/spring-projects/spring-boot/issues/33758\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/33758</a>"},{"owner":{"account_id":10953180,"reputation":1097,"user_id":8894262,"display_name":"Vitor Ramos"},"score":0,"creation_date":1679003246,"post_id":73823690,"comment_id":133647717,"body_markdown":"@RolfNyffenegger since I noticed that the whole block was ignored, I thought it could be a problem with the gradle plugin, so I tried using maven with the build arg and it worked.","body":"@RolfNyffenegger since I noticed that the whole block was ignored, I thought it could be a problem with the gradle plugin, so I tried using maven with the build arg and it worked."},{"owner":{"account_id":1151583,"reputation":2092,"user_id":1133169,"accept_rate":68,"display_name":"Jakub Pomykała"},"score":0,"creation_date":1694084879,"post_id":73823690,"comment_id":135846136,"body_markdown":"In some cases, you may also want to add `-H:IncludeResources=logback.xml`","body":"In some cases, you may also want to add <code>-H:IncludeResources=logback.xml</code>"}],"tags":[],"owner":{"account_id":3974566,"reputation":1419,"user_id":3278064,"display_name":"Thach Van"},"comment_count":5,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1664224349,"creation_date":1663913958,"answer_id":73823690,"question_id":72770461,"body_markdown":"Short answer - you should add `ch.qos.logback` to `--initialize-at-build-time`:\r\n\r\n```\r\n--initialize-at-build-time=ch.qos.logback\r\n```\r\n\r\nFor details, I would like to post what I have done to make `logback` working with GraalVM.\r\n\r\nIn the `build.gradle` file, I added instructions about what should be included at build time, at run time and also path to the file contains reflection configuration:\r\n\r\n```\r\ngraalvmNative {\r\n  binaries {\r\n    all {\r\n      resources.autodetect()\r\n    }\r\n    main {\r\n      imageName.set(&#39;app&#39;) \r\n      buildArgs.add(&#39;--verbose&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/java.nio=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--add-opens=java.base/jdk.internal.ref=ALL-UNNAMED&#39;)\r\n      buildArgs.add(&#39;--trace-class-initialization=ch.qos.logback.classic.Logger&#39;)\r\n      buildArgs.add(&#39;--trace-object-instantiation=ch.qos.logback.core.AsyncAppenderBase$Worker&#39;)\r\n      buildArgs.add(&#39;--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback&#39;)\r\n      buildArgs.add(&#39;--initialize-at-run-time=io.netty&#39;)\r\n    }\r\n  }\r\n}\r\n\r\nnativeBuild {\r\n  buildArgs(&#39;-H:ReflectionConfigurationFiles=../../../src/main/resources/reflection-config.json&#39;)\r\n}\r\n```\r\n\r\nHere is the content of `reflection-config.json` file:\r\n```\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.AsyncAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.DateConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LevelConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LineSeparatorConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LoggerConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.MessageConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.ThreadConverter&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.core.ConsoleAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;ch.qos.logback.core.FileAppender&quot;,\r\n    &quot;allDeclaredConstructors&quot;: true,\r\n    &quot;allPublicConstructors&quot;: true,\r\n    &quot;allDeclaredMethods&quot;: true,\r\n    &quot;allPublicMethods&quot;: true,\r\n    &quot;allDeclaredFields&quot;: true,\r\n    &quot;allPublicFields&quot;: true,\r\n    &quot;allDeclaredClasses&quot;: true,\r\n    &quot;allPublicClasses&quot;: true\r\n  }\r\n]\r\n```\r\n\r\nI use this `logback.xml` file:\r\n```\r\n&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;150 seconds&quot;&gt;\r\n  &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs&quot; /&gt;\r\n\r\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; target=&quot;System.out&quot;&gt;\r\n    &lt;encoder&gt;\r\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger{0} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\r\n    &lt;encoder&gt;\r\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\r\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\r\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\r\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\r\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;appender name=&quot;ASYNC_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\r\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\r\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\r\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\r\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\r\n  &lt;/appender&gt;\r\n\r\n  &lt;root level=&quot;all&quot;&gt;\r\n    &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot; /&gt;\r\n    &lt;appender-ref ref=&quot;ASYNC_FILE&quot; /&gt;\r\n  &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>Short answer - you should add <code>ch.qos.logback</code> to <code>--initialize-at-build-time</code>:</p>\n<pre><code>--initialize-at-build-time=ch.qos.logback\n</code></pre>\n<p>For details, I would like to post what I have done to make <code>logback</code> working with GraalVM.</p>\n<p>In the <code>build.gradle</code> file, I added instructions about what should be included at build time, at run time and also path to the file contains reflection configuration:</p>\n<pre><code>graalvmNative {\n  binaries {\n    all {\n      resources.autodetect()\n    }\n    main {\n      imageName.set('app') \n      buildArgs.add('--verbose')\n      buildArgs.add('--add-opens=java.base/java.nio=ALL-UNNAMED')\n      buildArgs.add('--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED')\n      buildArgs.add('--add-opens=java.base/jdk.internal.ref=ALL-UNNAMED')\n      buildArgs.add('--trace-class-initialization=ch.qos.logback.classic.Logger')\n      buildArgs.add('--trace-object-instantiation=ch.qos.logback.core.AsyncAppenderBase$Worker')\n      buildArgs.add('--initialize-at-build-time=org.slf4j.LoggerFactory,ch.qos.logback')\n      buildArgs.add('--initialize-at-run-time=io.netty')\n    }\n  }\n}\n\nnativeBuild {\n  buildArgs('-H:ReflectionConfigurationFiles=../../../src/main/resources/reflection-config.json')\n}\n</code></pre>\n<p>Here is the content of <code>reflection-config.json</code> file:</p>\n<pre><code>[\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.AsyncAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.DateConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LevelConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LineSeparatorConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.LoggerConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.MessageConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.classic.pattern.ThreadConverter&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.core.ConsoleAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  },\n  {\n    &quot;name&quot;: &quot;ch.qos.logback.core.FileAppender&quot;,\n    &quot;allDeclaredConstructors&quot;: true,\n    &quot;allPublicConstructors&quot;: true,\n    &quot;allDeclaredMethods&quot;: true,\n    &quot;allPublicMethods&quot;: true,\n    &quot;allDeclaredFields&quot;: true,\n    &quot;allPublicFields&quot;: true,\n    &quot;allDeclaredClasses&quot;: true,\n    &quot;allPublicClasses&quot;: true\n  }\n]\n</code></pre>\n<p>I use this <code>logback.xml</code> file:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;150 seconds&quot;&gt;\n  &lt;property name=&quot;LOG_DIR&quot; value=&quot;logs&quot; /&gt;\n\n  &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot; target=&quot;System.out&quot;&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger{0} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${LOG_DIR}/app.log&lt;/file&gt;\n    &lt;encoder&gt;\n      &lt;charset&gt;UTF-8&lt;/charset&gt;\n      &lt;pattern&gt;%d{&quot;yyyy-MM-dd'T'HH:mm:ss.SSSXXX&quot;, UTC} {%thread} [%-5level] %logger - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNC_CONSOLE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\n  &lt;/appender&gt;\n\n  &lt;appender name=&quot;ASYNC_FILE&quot; class=&quot;ch.qos.logback.classic.AsyncAppender&quot;&gt;\n    &lt;discardingThreshold&gt;0&lt;/discardingThreshold&gt; &lt;!-- default 20, means drop lower event when has 20% capacity remaining --&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n    &lt;queueSize&gt;1024&lt;/queueSize&gt; &lt;!-- default 256 --&gt;\n    &lt;includeCallerData&gt;false&lt;/includeCallerData&gt; &lt;!-- default false --&gt;\n    &lt;neverBlock&gt;false&lt;/neverBlock&gt; &lt;!-- default false, set to true to cause the Appender not block the application and just drop the messages --&gt;\n  &lt;/appender&gt;\n\n  &lt;root level=&quot;all&quot;&gt;\n    &lt;appender-ref ref=&quot;ASYNC_CONSOLE&quot; /&gt;\n    &lt;appender-ref ref=&quot;ASYNC_FILE&quot; /&gt;\n  &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2855451,"reputation":881,"user_id":2451811,"accept_rate":36,"display_name":"Vicky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693397732,"creation_date":1693397732,"answer_id":77007951,"question_id":72770461,"body_markdown":"Maybe I am late to answer but this may help someone. I was also facing issues with `logback.xml` initialisation. \r\n\r\nWhile searching for solution I found that spring suggests to name the file as `logback-spring.xml` instead of `logback.xml`\r\n\r\nSee here https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3e7uU.png\r\n\r\n","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>Maybe I am late to answer but this may help someone. I was also facing issues with <code>logback.xml</code> initialisation.</p>\n<p>While searching for solution I found that spring suggests to name the file as <code>logback-spring.xml</code> instead of <code>logback.xml</code></p>\n<p>See here <a href=\"https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.13.RELEASE/reference/html/boot-features-logging.html</a></p>\n<p><a href=\"https://i.stack.imgur.com/3e7uU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3e7uU.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15152676,"reputation":390,"user_id":10934555,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5562,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":2,"score":22,"last_activity_date":1693397732,"creation_date":1656325158,"question_id":72770461,"body_markdown":"I&#39;m using the current version of community edition: GraalVM/native-image 22.1.0\r\n\r\nMy project has a dependency to the logging framework logback (version 1.2.3)\r\n\r\nIf I want to compile my &quot;all-in-one&quot; jar with graalVM the native-image complains:\r\n\r\n&gt; Error: java.util.concurrent.ExecutionException:\r\n&gt; com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No\r\n&gt; instances of ch.qos.logback.classic.Logger are allowed in the image\r\n&gt; heap as this class should be initialized at image runtime. To see how\r\n&gt; this object got instantiated use\r\n&gt; --trace-object-instantiation=ch.qos.logback.classic.Logger.\r\n\r\nI played around with many different permutations of settings e.g. `--initialize-at-run-time=\\&lt;complete list of logback classes\\&gt;`  and `--initialize-at-run-time`\r\n\r\nI tried to generate a reflection configuration file with\r\n\r\n`java -agentlib:native-image-agent=config-output-dir=META-INF/native-image -jar build/myjar-all.jar`\r\n\r\nand added it to the config file with \r\n\r\n`-H:ReflectionConfigurationFiles=reflect-config.json`\r\n\r\nBut without success. Always getting different error messages all related to logback.\r\n\r\nSo my question:\r\n\r\n**Has anyone got logback successfully compiled with graalvm before?**\r\n\r\n","title":"GraalVM (native-image) can not compile logback dependencies","body":"<p>I'm using the current version of community edition: GraalVM/native-image 22.1.0</p>\n<p>My project has a dependency to the logging framework logback (version 1.2.3)</p>\n<p>If I want to compile my &quot;all-in-one&quot; jar with graalVM the native-image complains:</p>\n<blockquote>\n<p>Error: java.util.concurrent.ExecutionException:\ncom.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No\ninstances of ch.qos.logback.classic.Logger are allowed in the image\nheap as this class should be initialized at image runtime. To see how\nthis object got instantiated use\n--trace-object-instantiation=ch.qos.logback.classic.Logger.</p>\n</blockquote>\n<p>I played around with many different permutations of settings e.g. <code>--initialize-at-run-time=\\&lt;complete list of logback classes\\&gt;</code>  and <code>--initialize-at-run-time</code></p>\n<p>I tried to generate a reflection configuration file with</p>\n<p><code>java -agentlib:native-image-agent=config-output-dir=META-INF/native-image -jar build/myjar-all.jar</code></p>\n<p>and added it to the config file with</p>\n<p><code>-H:ReflectionConfigurationFiles=reflect-config.json</code></p>\n<p>But without success. Always getting different error messages all related to logback.</p>\n<p>So my question:</p>\n<p><strong>Has anyone got logback successfully compiled with graalvm before?</strong></p>\n"},{"tags":["java","android","tcp","android-webview","serversocket"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1693358354,"post_id":77004331,"comment_id":135749174,"body_markdown":"Why is &#39;handle input and output streams&#39; being done in the acceptor thread rather than in the per-connection thread?   or is that just an ambiguous description of what happens after &#39;accept&#39;?","body":"Why is &#39;handle input and output streams&#39; being done in the acceptor thread rather than in the per-connection thread?   or is that just an ambiguous description of what happens after &#39;accept&#39;?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693380842,"post_id":77004331,"comment_id":135751367,"body_markdown":"`a simple Java server socket hosted on localhost.` So on your Android device as every device is its own localhost.","body":"<code>a simple Java server socket hosted on localhost.</code> So on your Android device as every device is its own localhost."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693381267,"post_id":77004331,"comment_id":135751447,"body_markdown":"Dont understand your setup. Is there also a webserver to deliver your web page? And what is that server socket delivering? The server socket is part of your android app? All pretty unclear.","body":"Dont understand your setup. Is there also a webserver to deliver your web page? And what is that server socket delivering? The server socket is part of your android app? All pretty unclear."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693381376,"post_id":77004331,"comment_id":135751466,"body_markdown":"Where is that web page displayed? External browsers?","body":"Where is that web page displayed? External browsers?"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693396536,"post_id":77004331,"comment_id":135754688,"body_markdown":"@ArfurNarf all handling of input and output streams is passed to separate threads after the accept. Nothing else other than creating a new thread happens in the accept thread","body":"@ArfurNarf all handling of input and output streams is passed to separate threads after the accept. Nothing else other than creating a new thread happens in the accept thread"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693396822,"post_id":77004331,"comment_id":135754743,"body_markdown":"@blackapps obviously every device is its own localhost so yes, it is being hosted on the device. The web page is displayed in an embedded android webView but is being hosted on its own web server remotely. The server socket is part of the android app. The &#39;proxy&#39; transfers data between the local android web view and the remote address and vice versa instead of directly embedding the remote website","body":"@blackapps obviously every device is its own localhost so yes, it is being hosted on the device. The web page is displayed in an embedded android webView but is being hosted on its own web server remotely. The server socket is part of the android app. The &#39;proxy&#39; transfers data between the local android web view and the remote address and vice versa instead of directly embedding the remote website"},{"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"score":0,"creation_date":1693397372,"post_id":77004331,"comment_id":135754851,"body_markdown":"@blackapps added diagram to explain further","body":"@blackapps added diagram to explain further"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693401363,"post_id":77004331,"comment_id":135755840,"body_markdown":"Sorry, can not help you as i cannot reproduce this setup to begin with.","body":"Sorry, can not help you as i cannot reproduce this setup to begin with."}],"owner":{"account_id":6077335,"reputation":975,"user_id":4744250,"accept_rate":90,"display_name":"Mike Schmidt"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693397355,"creation_date":1693355959,"question_id":77004331,"body_markdown":"I have a simple Java server socket hosted on localhost. It has a while loop that kicks off connection threads that handle various data processing functions. The server socket is being used within a TCP proxy architecture to act as the middleman between a web page and my application, all running on Android (i.e. to locally host a remote webpage within my application). \r\n\r\nThe accept call waits / blocks for new connections as is typical. However, it seems to only get triggered every other call by the rest API buttons in the embedded web view. To simplify:\r\n\r\n1. Button pressed -&gt; accept still waiting / blocking\r\n2. Button pressed again -&gt; accept call goes through then immediately again accept call goes through. \r\n\r\nIt is expected that for these interactions a new connection is made. However, they seem to be &#39;queuing&#39; and only getting pushed through to the accept call every other interaction. Has anyone experienced behavior like this? I have tried setting almost all options on the server socket but none seem to make a difference. \r\n\r\nThe code follows the simple pattern: \r\n\r\n    ServerSocket server = new ServerSocket();\r\n    server.bind(new InetSocketAddress(&quot;localhost&quot;, 0));\r\n    \r\n    while (!cancel.get()) {\r\n        Socket socket = server.accept();\r\n        // Create new thread and pass in socket to handle input and output streams...\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HOsTB.png","title":"Java ServerSocket accept call missing or queuing connections?","body":"<p>I have a simple Java server socket hosted on localhost. It has a while loop that kicks off connection threads that handle various data processing functions. The server socket is being used within a TCP proxy architecture to act as the middleman between a web page and my application, all running on Android (i.e. to locally host a remote webpage within my application).</p>\n<p>The accept call waits / blocks for new connections as is typical. However, it seems to only get triggered every other call by the rest API buttons in the embedded web view. To simplify:</p>\n<ol>\n<li>Button pressed -&gt; accept still waiting / blocking</li>\n<li>Button pressed again -&gt; accept call goes through then immediately again accept call goes through.</li>\n</ol>\n<p>It is expected that for these interactions a new connection is made. However, they seem to be 'queuing' and only getting pushed through to the accept call every other interaction. Has anyone experienced behavior like this? I have tried setting almost all options on the server socket but none seem to make a difference.</p>\n<p>The code follows the simple pattern:</p>\n<pre><code>ServerSocket server = new ServerSocket();\nserver.bind(new InetSocketAddress(&quot;localhost&quot;, 0));\n\nwhile (!cancel.get()) {\n    Socket socket = server.accept();\n    // Create new thread and pass in socket to handle input and output streams...\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HOsTB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOsTB.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1424970490,"post_id":28747909,"comment_id":45779011,"body_markdown":"Do you have any other classes annotated with `SpringBootApplication` or `EnableAutoConfiguration`?","body":"Do you have any other classes annotated with <code>SpringBootApplication</code> or <code>EnableAutoConfiguration</code>?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":4,"creation_date":1424970814,"post_id":28747909,"comment_id":45779213,"body_markdown":"Try to exclude `MongoRepositoriesAutoConfiguration` as well.","body":"Try to exclude <code>MongoRepositoriesAutoConfiguration</code> as well."},{"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"score":0,"creation_date":1424990068,"post_id":28747909,"comment_id":45789863,"body_markdown":"@AndyWilkinson embarrassingly I did have another class annotated with SpringBootApplication. I had more than one entry point - main for testing and Apache Daemon + jsvc runner for production and I simply copy/pasted all the annotations instead of putting them to one common place... Excluding MongoRepositoriesAutoConfiguration turned out not to be necessary...","body":"@AndyWilkinson embarrassingly I did have another class annotated with SpringBootApplication. I had more than one entry point - main for testing and Apache Daemon + jsvc runner for production and I simply copy/pasted all the annotations instead of putting them to one common place... Excluding MongoRepositoriesAutoConfiguration turned out not to be necessary..."},{"owner":{"account_id":2146407,"reputation":1047,"user_id":1903941,"accept_rate":86,"display_name":"Francis Zabala"},"score":0,"creation_date":1461839181,"post_id":28747909,"comment_id":61386021,"body_markdown":"I just wanted to add that annotations used in the MainRunner class helped me trying to run a spring boot connected to two database using the code from https://falkenfighter.wordpress.com/2015/10/13/multiple-databases-with-spring-boot-mongodb-repositories/","body":"I just wanted to add that annotations used in the MainRunner class helped me trying to run a spring boot connected to two database using the code from <a href=\"https://falkenfighter.wordpress.com/2015/10/13/multiple-databases-with-spring-boot-mongodb-repositories/\" rel=\"nofollow noreferrer\">falkenfighter.wordpress.com/2015/10/13/&hellip;</a>"},{"owner":{"account_id":559218,"reputation":349,"user_id":921559,"accept_rate":80,"display_name":"Antoine Wils"},"score":0,"creation_date":1463586392,"post_id":28747909,"comment_id":62130619,"body_markdown":"also exclude EmbeddedMongoAutoConfiguration.class and EmbeddedMongoProperties.class","body":"also exclude EmbeddedMongoAutoConfiguration.class and EmbeddedMongoProperties.class"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1680470303,"post_id":28747909,"comment_id":133899912,"body_markdown":"My use case was similar: I wanted to enable embedded MongoDB, but only when running in the IDE. Note that that even the way to use embedded MongoDB with autoconfiguration has changed [since Spring Boot 2.7](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#springmongodbembeddedfeatures-configuration-property-removed). I wrote up a blog post using some of the pointers I found here, as well some other tips that may be helpful, in [Embedded MongoDB Only in IDE using Spring Boot 3.x](https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3).","body":"My use case was similar: I wanted to enable embedded MongoDB, but only when running in the IDE. Note that that even the way to use embedded MongoDB with autoconfiguration has changed <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes#springmongodbembeddedfeatures-configuration-property-removed\" rel=\"nofollow noreferrer\">since Spring Boot 2.7</a>. I wrote up a blog post using some of the pointers I found here, as well some other tips that may be helpful, in <a href=\"https://www.garretwilson.com/blog/2023/04/02/embedded-mongodb-ide-spring-boot-3\" rel=\"nofollow noreferrer\">Embedded MongoDB Only in IDE using Spring Boot 3.x</a>."}],"answers":[{"tags":[],"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":true,"score":11,"last_activity_date":1424990349,"creation_date":1424990349,"answer_id":28754172,"question_id":28747909,"body_markdown":"As pointed out by Andy Wilkinson in comments, when using EnableAutoConfiguration with exclude list make sure there are no other classes annotated with EnableAutoConfiguration or SpringBootApplication.","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>As pointed out by Andy Wilkinson in comments, when using EnableAutoConfiguration with exclude list make sure there are no other classes annotated with EnableAutoConfiguration or SpringBootApplication.</p>\n"},{"comments":[{"owner":{"account_id":1126651,"reputation":3041,"user_id":1293500,"accept_rate":86,"display_name":"edin-m"},"score":0,"creation_date":1539956748,"post_id":45929916,"comment_id":92699902,"body_markdown":"I have two dbs as well and I can confirm this works. No spring boot app excluded field changes necessary. This should be the real solution since the other seems like a hack to me. I had issues setting up Mongobee bean for two databases and this solved the reported issue of two Mongobee beans available.","body":"I have two dbs as well and I can confirm this works. No spring boot app excluded field changes necessary. This should be the real solution since the other seems like a hack to me. I had issues setting up Mongobee bean for two databases and this solved the reported issue of two Mongobee beans available."},{"owner":{"account_id":1126651,"reputation":3041,"user_id":1293500,"accept_rate":86,"display_name":"edin-m"},"score":0,"creation_date":1539960730,"post_id":45929916,"comment_id":92702353,"body_markdown":"Another note, I had to give Mongobee&#39;s beans a name otherwise, it picked up only one Mongobee.","body":"Another note, I had to give Mongobee&#39;s beans a name otherwise, it picked up only one Mongobee."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1680470146,"post_id":45929916,"comment_id":133899899,"body_markdown":"I wanted to have just a single configuration, but to only enable it in a certain profile. Using the new [Spring 3 embedded MongoDB](https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x), I still needed `@SpringBootApplication(exclude = {EmbeddedMongoAutoConfiguration.class})` in my main application class or I would get an error about a bean being configured twice, as otherwise it tried to register the underlying `EmbeddedMongoAutoConfiguration` as well.","body":"I wanted to have just a single configuration, but to only enable it in a certain profile. Using the new <a href=\"https://github.com/flapdoodle-oss/de.flapdoodle.embed.mongo.spring/tree/spring-3.0.x\" rel=\"nofollow noreferrer\">Spring 3 embedded MongoDB</a>, I still needed <code>@SpringBootApplication(exclude = {EmbeddedMongoAutoConfiguration.class})</code> in my main application class or I would get an error about a bean being configured twice, as otherwise it tried to register the underlying <code>EmbeddedMongoAutoConfiguration</code> as well."}],"tags":[],"owner":{"account_id":1899115,"reputation":1781,"user_id":1715376,"accept_rate":67,"display_name":"Miguel Pereira"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1503974394,"creation_date":1503974394,"answer_id":45929916,"question_id":28747909,"body_markdown":"My use case was slightly different. I had a requirement for 2 different databases in the same project. I extended the auto configuration classes and added a profile annotation.\r\n\r\n    @Profile(&quot;mongo&quot;)\r\n    @Configuration\r\n    public class CustomMongoAutoConfiguration extends MongoAutoConfiguration {\r\n    \r\n        public CustomMongoAutoConfiguration(\r\n            MongoProperties properties,\r\n            ObjectProvider&lt;MongoClientOptions&gt; options,\r\n            Environment environment) {\r\n            super(properties,options,environment);\r\n        }\r\n    }\r\n\r\nAnd\r\n    \r\n    @Profile(&quot;mongo&quot;)\r\n    @Configuration\r\n    @EnableConfigurationProperties(MongoProperties.class)\r\n    public class CustomMongoDataAutoConfiguration extends MongoDataAutoConfiguration {\r\n    \r\n        public CustomMongoDataAutoConfiguration(\r\n            ApplicationContext applicationContext,\r\n            MongoProperties properties) {\r\n            super(applicationContext,properties);\r\n        }\r\n    \r\n    }","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>My use case was slightly different. I had a requirement for 2 different databases in the same project. I extended the auto configuration classes and added a profile annotation.</p>\n\n<pre><code>@Profile(\"mongo\")\n@Configuration\npublic class CustomMongoAutoConfiguration extends MongoAutoConfiguration {\n\n    public CustomMongoAutoConfiguration(\n        MongoProperties properties,\n        ObjectProvider&lt;MongoClientOptions&gt; options,\n        Environment environment) {\n        super(properties,options,environment);\n    }\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>@Profile(\"mongo\")\n@Configuration\n@EnableConfigurationProperties(MongoProperties.class)\npublic class CustomMongoDataAutoConfiguration extends MongoDataAutoConfiguration {\n\n    public CustomMongoDataAutoConfiguration(\n        ApplicationContext applicationContext,\n        MongoProperties properties) {\n        super(applicationContext,properties);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6113812,"reputation":2124,"user_id":5365075,"accept_rate":76,"display_name":"user5365075"},"comment_count":0,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1571784081,"creation_date":1524485748,"answer_id":49980868,"question_id":28747909,"body_markdown":"This is how I do it:\r\n\r\n```\r\n@SpringBootApplication(exclude = {\r\n  MongoAutoConfiguration.class, \r\n  MongoDataAutoConfiguration.class\r\n})\r\n```\r\n\r\nor as suggested by [Dan Oak](https://stackoverflow.com/users/2601742/dan-oak):\r\n```\r\nspring.autoconfigure.exclude= \\\r\n  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\\r\n  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n```","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>This is how I do it:</p>\n\n<pre><code>@SpringBootApplication(exclude = {\n  MongoAutoConfiguration.class, \n  MongoDataAutoConfiguration.class\n})\n</code></pre>\n\n<p>or as suggested by <a href=\"https://stackoverflow.com/users/2601742/dan-oak\">Dan Oak</a>:</p>\n\n<pre><code>spring.autoconfigure.exclude= \\\n  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\\n  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4607167,"reputation":157,"user_id":3736304,"display_name":"Sovichea Cheth"},"score":1,"creation_date":1625175864,"post_id":52659689,"comment_id":120565250,"body_markdown":"This works for me. I have to put this inside @SpringBootApplication","body":"This works for me. I have to put this inside @SpringBootApplication"}],"tags":[],"owner":{"account_id":2356960,"reputation":93,"user_id":2064555,"display_name":"Shrinivasa Uppunda"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1693397352,"creation_date":1538721599,"answer_id":52659689,"question_id":28747909,"body_markdown":"Try to Run application in Debug mode. It happens when MongoDB dependant configaration is trying to instantiate but respective bean not present. \r\nIn My case I have excluded MongoDataAutoConfiguration.class and MongoRepositoriesAutoConfiguration.class, to  get the application run.\r\n\r\n```\r\n@SpringBootApplication\r\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class,MongoDataAutoConfiguration.class})\r\npublic class SomeApplication {\r\n//...\r\n}\r\n```\r\n\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Try to Run application in Debug mode. It happens when MongoDB dependant configaration is trying to instantiate but respective bean not present.\nIn My case I have excluded MongoDataAutoConfiguration.class and MongoRepositoriesAutoConfiguration.class, to  get the application run.</p>\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoRepositoriesAutoConfiguration.class,MongoDataAutoConfiguration.class})\npublic class SomeApplication {\n//...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4292439,"reputation":130,"user_id":3508426,"display_name":"Sebasti&#225;n Rodriguez"},"score":0,"creation_date":1665168992,"post_id":63847061,"comment_id":130644971,"body_markdown":"In Java the exclution can be achieved with `@SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})`","body":"In Java the exclution can be achieved with <code>@SpringBootApplication(exclude = {MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})</code>"}],"tags":[],"owner":{"account_id":6770312,"reputation":111,"user_id":5213837,"display_name":"Olivier Bearn"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599827090,"creation_date":1599827090,"answer_id":63847061,"question_id":28747909,"body_markdown":"Same as https://stackoverflow.com/a/45929916/5213837 with https://stackoverflow.com/a/49980868/5213837, Spring boot 2.3/Kotlin\r\n\r\n```kotlin\r\n@SpringBootApplication(exclude = [MongoAutoConfiguration::class, MongoDataAutoConfiguration::class]\r\n```\r\n```kotlin\r\n@Profile(&quot;mongo&quot;)\r\n@Configuration\r\nclass CustomMongoAutoConfiguration: MongoAutoConfiguration() {\r\n    override fun mongo(\r\n        properties: MongoProperties?,\r\n        environment: Environment?,\r\n        builderCustomizers: ObjectProvider&lt;MongoClientSettingsBuilderCustomizer&gt;?,\r\n        settings: ObjectProvider&lt;MongoClientSettings&gt;?\r\n    ): MongoClient {\r\n        return super.mongo(properties, environment, builderCustomizers, settings)\r\n    }\r\n}\r\n```\r\n\r\n```kotlin\r\n@Profile(&quot;mongo&quot;)\r\n@Configuration\r\n@EnableConfigurationProperties(MongoProperties::class)\r\nclass CustomMongoDataAutoConfiguration : MongoDataAutoConfiguration()\r\n```\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Same as <a href=\"https://stackoverflow.com/a/45929916/5213837\">https://stackoverflow.com/a/45929916/5213837</a> with <a href=\"https://stackoverflow.com/a/49980868/5213837\">https://stackoverflow.com/a/49980868/5213837</a>, Spring boot 2.3/Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SpringBootApplication(exclude = [MongoAutoConfiguration::class, MongoDataAutoConfiguration::class]\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;mongo&quot;)\n@Configuration\nclass CustomMongoAutoConfiguration: MongoAutoConfiguration() {\n    override fun mongo(\n        properties: MongoProperties?,\n        environment: Environment?,\n        builderCustomizers: ObjectProvider&lt;MongoClientSettingsBuilderCustomizer&gt;?,\n        settings: ObjectProvider&lt;MongoClientSettings&gt;?\n    ): MongoClient {\n        return super.mongo(properties, environment, builderCustomizers, settings)\n    }\n}\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Profile(&quot;mongo&quot;)\n@Configuration\n@EnableConfigurationProperties(MongoProperties::class)\nclass CustomMongoDataAutoConfiguration : MongoDataAutoConfiguration()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3619459,"reputation":1250,"user_id":4697235,"accept_rate":78,"display_name":"emvidi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602264890,"creation_date":1602264890,"answer_id":64284773,"question_id":28747909,"body_markdown":"Spring Boot 2.3.x:\r\n\r\n    spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n    spring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration\r\n\r\nReactive:\r\n\r\n    spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration\r\n    spring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Spring Boot 2.3.x:</p>\n<pre><code>spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\nspring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoRepositoriesAutoConfiguration\n</code></pre>\n<p>Reactive:</p>\n<pre><code>spring.autoconfigure.exclude[0]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveDataAutoConfiguration\nspring.autoconfigure.exclude[1]: org.springframework.boot.autoconfigure.data.mongo.MongoReactiveRepositoriesAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":5852871,"reputation":697,"user_id":4611047,"display_name":"im__"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89914,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":28754172,"answer_count":6,"score":55,"last_activity_date":1693397352,"creation_date":1424968861,"question_id":28747909,"body_markdown":"Has anyone tried disabling autoconfiguration for mongodb in spring-boot?\r\n\r\nI am trying out spring-boot with spring-data-mongodb; Using java based configuration; Using spring-boot 1.2.1.RELEASE, I import spring-boot-starter-web and its&#39; parent pom for dependency management. I also import spring-data-mongodb (tried spring-boot-starter-mongodb as well).\r\n\r\nI need to connect to two different MongoDB servers. So I need to configure two sets of instances for mongo connection, MongoTemplate etc. **I also want to disable auto-configuration. Since I am connecting to multiple servers, I don&#39;t need to have a single default MongoTemplate and GridFsTemplate bean autoconfigured.**\r\n\r\nMy main class looks like this:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})\r\n    @ComponentScan\r\n    //@SpringBootApplication  \r\n    public class MainRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(MainRunner.class, args);\r\n        }\r\n    }\r\n\r\n\r\nMy two mongo configuration classes look like this:\r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackageClasses = {Test1Repository.class},\r\n            mongoTemplateRef = &quot;template1&quot;,\r\n            includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test1Repository&quot;)}\r\n    )\r\n    public class Mongo1Config {\r\n    \r\n        @Bean\r\n        public Mongo mongo1() throws UnknownHostException {\r\n            return new Mongo(&quot;localhost&quot;, 27017);\r\n        }\r\n        \r\n        @Primary\r\n        @Bean\r\n        public MongoDbFactory mongoDbFactory1() throws UnknownHostException {\r\n            return new SimpleMongoDbFactory(mongo1(), &quot;test1&quot;);\r\n        }\r\n    \r\n        @Primary\r\n        @Bean\r\n        public MongoTemplate template1() throws UnknownHostException {\r\n            return new MongoTemplate(mongoDbFactory1());\r\n        }\r\n    }\r\n\r\nand \r\n\r\n    @Configuration\r\n    @EnableMongoRepositories(basePackageClasses = {Test2Repository.class},\r\n            mongoTemplateRef = &quot;template2&quot;,\r\n            includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test2Repository&quot;)}\r\n    )\r\n    public class Mongo2Config {\r\n        \r\n        @Bean\r\n        public Mongo mongo2() throws UnknownHostException {\r\n            return new Mongo(&quot;localhost&quot;, 27017);\r\n        }\r\n        \r\n        @Bean\r\n        public MongoDbFactory mongoDbFactory2() throws UnknownHostException {\r\n            return new SimpleMongoDbFactory(mongo2(), &quot;test2&quot;);\r\n        }\r\n        \r\n        @Bean\r\n        public MongoTemplate template2() throws UnknownHostException {\r\n            return new MongoTemplate(mongoDbFactory2());\r\n        }\r\n    }\r\n\r\nWith this setup everything works. If I remove @Primary annotations from mongoDbFactory1 and template1 beans, application will fail with an exception that seems like autoconfiguration hasn&#39;t been disabled. Exception message is listed below:\r\n\r\n    org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:133)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:474)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\r\n    \tat com.fourexpand.buzz.web.api.template.MainRunner.main(MainRunner.java:26)\r\n    Caused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:98)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:75)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:378)\r\n    \tat org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:155)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:157)\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:130)\r\n    \t... 7 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter&#39;: Injection of autowired dependencies failed; nested exception is  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.core.io.ResourceLoader org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.resourceLoader; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;gridFsTemplate&#39; defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.data.mongodb.MongoDbFactory]: : No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1\r\n\r\n","title":"How to disable spring-data-mongodb autoconfiguration in spring-boot","body":"<p>Has anyone tried disabling autoconfiguration for mongodb in spring-boot?</p>\n<p>I am trying out spring-boot with spring-data-mongodb; Using java based configuration; Using spring-boot 1.2.1.RELEASE, I import spring-boot-starter-web and its' parent pom for dependency management. I also import spring-data-mongodb (tried spring-boot-starter-mongodb as well).</p>\n<p>I need to connect to two different MongoDB servers. So I need to configure two sets of instances for mongo connection, MongoTemplate etc. <strong>I also want to disable auto-configuration. Since I am connecting to multiple servers, I don't need to have a single default MongoTemplate and GridFsTemplate bean autoconfigured.</strong></p>\n<p>My main class looks like this:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class, MongoDataAutoConfiguration.class})\n@ComponentScan\n//@SpringBootApplication  \npublic class MainRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MainRunner.class, args);\n    }\n}\n</code></pre>\n<p>My two mongo configuration classes look like this:</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackageClasses = {Test1Repository.class},\n        mongoTemplateRef = &quot;template1&quot;,\n        includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test1Repository&quot;)}\n)\npublic class Mongo1Config {\n\n    @Bean\n    public Mongo mongo1() throws UnknownHostException {\n        return new Mongo(&quot;localhost&quot;, 27017);\n    }\n    \n    @Primary\n    @Bean\n    public MongoDbFactory mongoDbFactory1() throws UnknownHostException {\n        return new SimpleMongoDbFactory(mongo1(), &quot;test1&quot;);\n    }\n\n    @Primary\n    @Bean\n    public MongoTemplate template1() throws UnknownHostException {\n        return new MongoTemplate(mongoDbFactory1());\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Configuration\n@EnableMongoRepositories(basePackageClasses = {Test2Repository.class},\n        mongoTemplateRef = &quot;template2&quot;,\n        includeFilters = {@ComponentScan.Filter(type = FilterType.REGEX, pattern = &quot;.*Test2Repository&quot;)}\n)\npublic class Mongo2Config {\n    \n    @Bean\n    public Mongo mongo2() throws UnknownHostException {\n        return new Mongo(&quot;localhost&quot;, 27017);\n    }\n    \n    @Bean\n    public MongoDbFactory mongoDbFactory2() throws UnknownHostException {\n        return new SimpleMongoDbFactory(mongo2(), &quot;test2&quot;);\n    }\n    \n    @Bean\n    public MongoTemplate template2() throws UnknownHostException {\n        return new MongoTemplate(mongoDbFactory2());\n    }\n}\n</code></pre>\n<p>With this setup everything works. If I remove @Primary annotations from mongoDbFactory1 and template1 beans, application will fail with an exception that seems like autoconfiguration hasn't been disabled. Exception message is listed below:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:133)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:474)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:118)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:691)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:321)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:961)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:950)\n    at com.fourexpand.buzz.web.api.template.MainRunner.main(MainRunner.java:26)\nCaused by: org.springframework.boot.context.embedded.EmbeddedServletContainerException: Unable to start embedded Tomcat\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.initialize(TomcatEmbeddedServletContainer.java:98)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainer.&lt;init&gt;(TomcatEmbeddedServletContainer.java:75)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getTomcatEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:378)\n    at org.springframework.boot.context.embedded.tomcat.TomcatEmbeddedServletContainerFactory.getEmbeddedServletContainer(TomcatEmbeddedServletContainerFactory.java:155)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.createEmbeddedServletContainer(EmbeddedWebApplicationContext.java:157)\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:130)\n    ... 7 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter': Injection of autowired dependencies failed; nested exception is  org.springframework.beans.factory.BeanCreationException: Could not autowire field: private org.springframework.core.io.ResourceLoader org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$WebMvcAutoConfigurationAdapter.resourceLoader; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'gridFsTemplate' defined in class path resource [org/springframework/boot/autoconfigure/mongo/MongoDataAutoConfiguration.class]: Unsatisfied dependency expressed through constructor argument with index 0 of type [org.springframework.data.mongodb.MongoDbFactory]: : No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type [org.springframework.data.mongodb.MongoDbFactory] is defined: expected single matching bean but found 2: mongoDbFactory2,mongoDbFactory1\n</code></pre>\n"},{"tags":["java","xml","web-services","soap"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1440401982,"post_id":32176763,"comment_id":52239364,"body_markdown":"What is unclear with this message ? `The parser has encountered more than &quot;64000&quot; entity expansions in this document; this is the limit imposed by the JDK.`","body":"What is unclear with this message ? <code>The parser has encountered more than &quot;64000&quot; entity expansions in this document; this is the limit imposed by the JDK.</code>"},{"owner":{"account_id":3006892,"reputation":3666,"user_id":2551236,"accept_rate":83,"display_name":"Vihar"},"score":2,"creation_date":1440405218,"post_id":32176763,"comment_id":52241116,"body_markdown":"this is a  bug in &#39;jdk1.7 update 45&#39; it has been fixed in &#39;jdk 1.7 update 51&#39; ,please update your jdk version","body":"this is a  bug in &#39;jdk1.7 update 45&#39; it has been fixed in &#39;jdk 1.7 update 51&#39; ,please update your jdk version"},{"owner":{"account_id":4840274,"reputation":90,"user_id":3905481,"accept_rate":0,"display_name":"Osama Hashem"},"score":0,"creation_date":1628057814,"post_id":32176763,"comment_id":121316717,"body_markdown":"did you solve the issue (by upgrade the JDK Version?)\nor you find any other solution?","body":"did you solve the issue (by upgrade the JDK Version?) or you find any other solution?"}],"answers":[{"tags":[],"owner":{"account_id":1509568,"reputation":143,"user_id":1412032,"display_name":"ugurkocak1980"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554910894,"creation_date":1554910894,"answer_id":55616542,"question_id":32176763,"body_markdown":"I had same error message: &quot;&quot; because I tried to create XMLStreamReader from javax.xml.transform.Source. Then I decided to convert Source object to a String and create from this a InputStream. Therefore I used this method: \r\n\r\n     public String xmlNodeToString(Source source) throws Exception {\r\n    \t\t  StringWriter stringWriter=new StringWriter();\r\n    \t\t  Result result=new StreamResult(stringWriter);\r\n    \t\t  TransformerFactory factory=TransformerFactory.newInstance();\r\n    \t\t  Transformer transformer=factory.newTransformer();\r\n    \t\t  transformer.transform(source,result);\r\n    \t\t  return stringWriter.getBuffer().toString();\r\n    \t\t}\r\nThen I used org.apache.commons.io.IOUtils to create a InputStream from String:\r\n\r\n    IOUtils.toInputStream(source2String,Charset.forName(&quot;ISO-8859-1&quot;))","title":"Couldn&#39;t create SOAP message due to exception: Unable to create StAX reader or writer at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode","body":"<p>I had same error message: \"\" because I tried to create XMLStreamReader from javax.xml.transform.Source. Then I decided to convert Source object to a String and create from this a InputStream. Therefore I used this method: </p>\n\n<pre><code> public String xmlNodeToString(Source source) throws Exception {\n          StringWriter stringWriter=new StringWriter();\n          Result result=new StreamResult(stringWriter);\n          TransformerFactory factory=TransformerFactory.newInstance();\n          Transformer transformer=factory.newTransformer();\n          transformer.transform(source,result);\n          return stringWriter.getBuffer().toString();\n        }\n</code></pre>\n\n<p>Then I used org.apache.commons.io.IOUtils to create a InputStream from String:</p>\n\n<pre><code>IOUtils.toInputStream(source2String,Charset.forName(\"ISO-8859-1\"))\n</code></pre>\n"}],"owner":{"account_id":3653681,"reputation":147,"user_id":3045236,"accept_rate":0,"display_name":"Ravish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693397060,"creation_date":1440401834,"question_id":32176763,"body_markdown":"my application currently facing below error on production environment. My java version on production is java version &quot;1.7.0_51&quot;\r\nOpenJDK Runtime Environment (rhel-2.4.4.1.el6_5-x86_64 u51-b02)\r\nOpenJDK 64-Bit Server VM (build 24.45-b08, mixed mode)\r\n \r\nCan someone help me?\r\n\r\nThe error is: \r\n\r\n    com.sun.xml.internal.ws.protocol.soap.MessageCreationException: Couldn&#39;t create SOAP message due to exception: Unable to create StAX reader or writer\r\n        com.sun.xml.internal.ws.protocol.soap.MessageCreationException: Couldn&#39;t create SOAP message due to exception: Unable to create StAX reader or writer\r\n                at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:348) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:254) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:203) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.client.Stub.process(Stub.java:308) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:163) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:135) ~[na:1.7.0_51]\r\n                at com.sun.proxy.$Proxy77.searchAssets(Unknown Source) ~[na:na]\r\n                at com.ericsson.media.aggregator.client.MediaQueryWSClient.getAssetDetails(MediaQueryWSClient.java:76) ~[MediaQueryWSClient.class:na]\r\n                at com.ericsson.media.aggregator.dao.MediaAggregatorDAO.callIndexerToBuildAssetMeta(MediaAggregatorDAO.java:393) [MediaAggregatorDAO.class:na]\r\n                at com.ericsson.media.aggregator.dao.MediaAggregatorDAO.getlists(MediaAggregatorDAO.java:200) [MediaAggregatorDAO.class:na]\r\n                at com.ericsson.media.aggregator.rest.MediaAggregatorService.getlists(MediaAggregatorService.java:68) [MediaAggregatorService.class:na]\r\n                at sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]\r\n                at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_51]\r\n                at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_51]\r\n                at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:140) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.ResourceMethod.invokeOnTarget(ResourceMethod.java:255) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:220) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:209) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:519) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:496) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50) [resteasy-jaxrs-2.2.1.GA.jar:na]\r\n                at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) [servlet-api.jar:na]\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.53]\r\n                at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat7-websocket.jar:7.0.53]\r\n                at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [catalina.jar:7.0.53]\r\n                at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) [catalina.jar:7.0.53]\r\n                at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) [tomcat-coyote.jar:7.0.53]\r\n                at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) [tomcat-coyote.jar:7.0.53]\r\n                at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313) [tomcat-coyote.jar:7.0.53]\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_51]\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_51]\r\n                at java.lang.Thread.run(Thread.java:744) [na:1.7.0_51]\r\n        Caused by: com.sun.xml.internal.ws.streaming.XMLReaderException: Unable to create StAX reader or writer\r\n                at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory$Default.doCreate(XMLStreamReaderFactory.java:367) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory.doCreate(XMLStreamReaderFactory.java:193) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory.create(XMLStreamReaderFactory.java:143) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:290) ~[na:1.7.0_51]\r\n                at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:118) ~[na:1.7.0_51]\r\n         at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:343) ~[na:1.7.0_51]\r\n                ... 51 common frames omitted\r\n        Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\r\n        Message: JAXP00010001: The parser has encountered more than &quot;64000&quot; entity expansions in this document; this is the limit imposed by the JDK.","title":"Couldn&#39;t create SOAP message due to exception: Unable to create StAX reader or writer at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode","body":"<p>my application currently facing below error on production environment. My java version on production is java version \"1.7.0_51\"\nOpenJDK Runtime Environment (rhel-2.4.4.1.el6_5-x86_64 u51-b02)\nOpenJDK 64-Bit Server VM (build 24.45-b08, mixed mode)</p>\n\n<p>Can someone help me?</p>\n\n<p>The error is: </p>\n\n<pre><code>com.sun.xml.internal.ws.protocol.soap.MessageCreationException: Couldn't create SOAP message due to exception: Unable to create StAX reader or writer\n    com.sun.xml.internal.ws.protocol.soap.MessageCreationException: Couldn't create SOAP message due to exception: Unable to create StAX reader or writer\n            at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:348) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.createResponsePacket(HttpTransportPipe.java:254) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.process(HttpTransportPipe.java:203) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.transport.http.client.HttpTransportPipe.processRequest(HttpTransportPipe.java:122) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.transport.DeferredTransportPipe.processRequest(DeferredTransportPipe.java:95) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.pipe.Fiber.__doRun(Fiber.java:626) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.pipe.Fiber._doRun(Fiber.java:585) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.pipe.Fiber.doRun(Fiber.java:570) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.pipe.Fiber.runSync(Fiber.java:467) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.client.Stub.process(Stub.java:308) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.client.sei.SEIStub.doProcess(SEIStub.java:163) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:98) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.client.sei.SyncMethodHandler.invoke(SyncMethodHandler.java:78) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.client.sei.SEIStub.invoke(SEIStub.java:135) ~[na:1.7.0_51]\n            at com.sun.proxy.$Proxy77.searchAssets(Unknown Source) ~[na:na]\n            at com.ericsson.media.aggregator.client.MediaQueryWSClient.getAssetDetails(MediaQueryWSClient.java:76) ~[MediaQueryWSClient.class:na]\n            at com.ericsson.media.aggregator.dao.MediaAggregatorDAO.callIndexerToBuildAssetMeta(MediaAggregatorDAO.java:393) [MediaAggregatorDAO.class:na]\n            at com.ericsson.media.aggregator.dao.MediaAggregatorDAO.getlists(MediaAggregatorDAO.java:200) [MediaAggregatorDAO.class:na]\n            at com.ericsson.media.aggregator.rest.MediaAggregatorService.getlists(MediaAggregatorService.java:68) [MediaAggregatorService.class:na]\n            at sun.reflect.GeneratedMethodAccessor37.invoke(Unknown Source) ~[na:na]\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_51]\n            at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_51]\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:140) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.ResourceMethod.invokeOnTarget(ResourceMethod.java:255) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:220) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.ResourceMethod.invoke(ResourceMethod.java:209) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.SynchronousDispatcher.getResponse(SynchronousDispatcher.java:519) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:496) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:119) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:208) [resteasy-jaxrs-2.2.1.GA.jar:na]\n    at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:55) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:50) [resteasy-jaxrs-2.2.1.GA.jar:na]\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) [servlet-api.jar:na]\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.53]\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat7-websocket.jar:7.0.53]\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [catalina.jar:7.0.53]\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170) [catalina.jar:7.0.53]\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) [catalina.jar:7.0.53]\n            at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950) [catalina.jar:7.0.53]\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [catalina.jar:7.0.53]\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) [catalina.jar:7.0.53]\n            at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) [tomcat-coyote.jar:7.0.53]\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) [tomcat-coyote.jar:7.0.53]\n            at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313) [tomcat-coyote.jar:7.0.53]\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_51]\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_51]\n            at java.lang.Thread.run(Thread.java:744) [na:1.7.0_51]\n    Caused by: com.sun.xml.internal.ws.streaming.XMLReaderException: Unable to create StAX reader or writer\n            at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory$Default.doCreate(XMLStreamReaderFactory.java:367) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory.doCreate(XMLStreamReaderFactory.java:193) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.api.streaming.XMLStreamReaderFactory.create(XMLStreamReaderFactory.java:143) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:290) ~[na:1.7.0_51]\n            at com.sun.xml.internal.ws.encoding.StreamSOAPCodec.decode(StreamSOAPCodec.java:118) ~[na:1.7.0_51]\n     at com.sun.xml.internal.ws.encoding.SOAPBindingCodec.decode(SOAPBindingCodec.java:343) ~[na:1.7.0_51]\n            ... 51 common frames omitted\n    Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,1]\n    Message: JAXP00010001: The parser has encountered more than \"64000\" entity expansions in this document; this is the limit imposed by the JDK.\n</code></pre>\n"},{"tags":["java","java-8","testng"],"answers":[{"tags":[],"owner":{"account_id":12678807,"reputation":101,"user_id":22471267,"display_name":"user181468"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693396962,"creation_date":1693396962,"answer_id":77007822,"question_id":77007668,"body_markdown":"The behavior you&#39;re experiencing is due to the way the standard output (stdout) works in Java and how it interacts with testing frameworks like TestNG. When you run tests using TestNG or other testing frameworks, the output generated by the code under test (including System.out.println() statements) might not be immediately visible in the console because the testing framework captures and manages the output streams.\r\n\r\nIn your case, since you&#39;re using IntelliJ IDEA Community Edition and Maven, here&#39;s what you can do to capture and display the System.out.println() statements from the code being tested:\r\n\r\n1.    Configure Maven Surefire Plugin (pom.xml): The Maven Surefire Plugin is responsible for running tests in your Maven project. You can configure it to redirect the standard output to the console so that your System.out.println() statements are visible during test execution.\r\n\r\n2.    In your project&#39;s pom.xml file, within the &lt;build&gt; section, add the following configuration:\r\n\r\n    xml\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\r\n            &lt;configuration&gt;\r\n                &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nThis configuration (redirectTestOutputToFile) tells Surefire not to redirect the test output to files, which should help in displaying System.out.println() statements directly in the console.\r\n\r\n3. Ensure TestNG Output Settings:\r\n    In IntelliJ IDEA, go to File &gt; Project Structure &gt; Project Settings &gt; Maven and make sure the Skip tests checkbox is unchecked. This ensures that IntelliJ is not skipping the test execution.\r\n\r\n    Check Run Configuration:\r\n    When you run your TestNG tests in IntelliJ IDEA, make sure you are using the appropriate run configuration that runs the tests under TestNG. You can create a TestNG run configuration if one doesn&#39;t already exist.\r\n\r\nWith these configurations in place, when you run your TestNG tests in IntelliJ IDEA using Maven, you should be able to see the System.out.println() statements from the code being tested in the console.\r\n\r\nRemember that using print statements for debugging purposes might not be the most efficient approach in the long run. Consider using proper logging frameworks like Log4j or SLF4J for better control over logging levels and output destinations in your code.","title":"System.out.println from code being tested not appearing in TestNG output","body":"<p>The behavior you're experiencing is due to the way the standard output (stdout) works in Java and how it interacts with testing frameworks like TestNG. When you run tests using TestNG or other testing frameworks, the output generated by the code under test (including System.out.println() statements) might not be immediately visible in the console because the testing framework captures and manages the output streams.</p>\n<p>In your case, since you're using IntelliJ IDEA Community Edition and Maven, here's what you can do to capture and display the System.out.println() statements from the code being tested:</p>\n<ol>\n<li><p>Configure Maven Surefire Plugin (pom.xml): The Maven Surefire Plugin is responsible for running tests in your Maven project. You can configure it to redirect the standard output to the console so that your System.out.println() statements are visible during test execution.</p>\n</li>\n<li><p>In your project's pom.xml file, within the  section, add the following configuration:</p>\n</li>\n</ol>\n<pre><code>xml\n\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt; &lt;!-- Use the appropriate version --&gt;\n        &lt;configuration&gt;\n            &lt;redirectTestOutputToFile&gt;false&lt;/redirectTestOutputToFile&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>This configuration (redirectTestOutputToFile) tells Surefire not to redirect the test output to files, which should help in displaying System.out.println() statements directly in the console.</p>\n<ol start=\"3\">\n<li><p>Ensure TestNG Output Settings:\nIn IntelliJ IDEA, go to File &gt; Project Structure &gt; Project Settings &gt; Maven and make sure the Skip tests checkbox is unchecked. This ensures that IntelliJ is not skipping the test execution.</p>\n<p>Check Run Configuration:\nWhen you run your TestNG tests in IntelliJ IDEA, make sure you are using the appropriate run configuration that runs the tests under TestNG. You can create a TestNG run configuration if one doesn't already exist.</p>\n</li>\n</ol>\n<p>With these configurations in place, when you run your TestNG tests in IntelliJ IDEA using Maven, you should be able to see the System.out.println() statements from the code being tested in the console.</p>\n<p>Remember that using print statements for debugging purposes might not be the most efficient approach in the long run. Consider using proper logging frameworks like Log4j or SLF4J for better control over logging levels and output destinations in your code.</p>\n"}],"owner":{"account_id":3247618,"reputation":530,"user_id":2738698,"accept_rate":56,"display_name":"user2738698"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693396962,"creation_date":1693395801,"question_id":77007668,"body_markdown":"I have some code that has System.out.println(&quot;blah&quot;). I am testing with TestNG. If I put a System.out.println in the blocks annotated with @Test, they appear in the test output. Nothing appears from System.out.println()s from the code being tested. I&#39;m using IntelliJ IDEA Community edition and the project is using Maven. Is there a way to get the inner code&#39;s println()s to show up in the tests?","title":"System.out.println from code being tested not appearing in TestNG output","body":"<p>I have some code that has System.out.println(&quot;blah&quot;). I am testing with TestNG. If I put a System.out.println in the blocks annotated with @Test, they appear in the test output. Nothing appears from System.out.println()s from the code being tested. I'm using IntelliJ IDEA Community edition and the project is using Maven. Is there a way to get the inner code's println()s to show up in the tests?</p>\n"},{"tags":["java","jdbc","resultset","try-with-resources"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693337461,"post_id":77003081,"comment_id":135746775,"body_markdown":"The caller should close it","body":"The caller should close it"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1693338291,"post_id":77003081,"comment_id":135746935,"body_markdown":"Don&#39;t return a ResultSet. Copy the data into a Data Transfer Object (q.v.) and return that.","body":"Don&#39;t return a ResultSet. Copy the data into a Data Transfer Object (q.v.) and return that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693340598,"post_id":77003081,"comment_id":135747373,"body_markdown":"The trouble with that approach is it might not scale well. Jdbc returns a cursor for good reasons","body":"The trouble with that approach is it might not scale well. Jdbc returns a cursor for good reasons"},{"owner":{"account_id":20712801,"reputation":65,"user_id":15227118,"display_name":"Anubhav kalra"},"score":0,"creation_date":1693381315,"post_id":77003081,"comment_id":135751459,"body_markdown":"@DavidConrad As I mentioned earlier, I&#39;m using multiple methods like this. So, by going with DTO approach I need to update all those methods by changing into my code.","body":"@DavidConrad As I mentioned earlier, I&#39;m using multiple methods like this. So, by going with DTO approach I need to update all those methods by changing into my code."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693385615,"post_id":77003081,"comment_id":135752350,"body_markdown":"If you can comfortably hold your results in memory then you only need one method, say `processResults` inside each try-with-resources block","body":"If you can comfortably hold your results in memory then you only need one method, say <code>processResults</code> inside each try-with-resources block"}],"answers":[{"comments":[{"owner":{"account_id":20712801,"reputation":65,"user_id":15227118,"display_name":"Anubhav kalra"},"score":0,"creation_date":1693381013,"post_id":77003695,"comment_id":135751404,"body_markdown":"I&#39;ve now changed the implmentation by using `CachedResultSet` class. But getting an exception `java.sql.SQLException: Provider com.sun.rowset.RowSetFactoryImpl`\nHere&#39;s how my updated code looks like:\n`CachedRowSet cachedRowSet = RowSetProvider.newFactory().createCachedRowSet(); cachedRowSet.populate(resultSet);`","body":"I&#39;ve now changed the implmentation by using <code>CachedResultSet</code> class. But getting an exception <code>java.sql.SQLException: Provider com.sun.rowset.RowSetFactoryImpl</code> Here&#39;s how my updated code looks like: <code>CachedRowSet cachedRowSet = RowSetProvider.newFactory().createCachedRowSet(); cachedRowSet.populate(resultSet);</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1693381943,"post_id":77003695,"comment_id":135751576,"body_markdown":"@Anubhavkalra You’ve not provided enough detail. I ran my posted code today in Java 20. I suggest you first do the same in a throwaway project. Then compare to your own code. If still stuck, post a new Question here with full details and example code.","body":"@Anubhavkalra You’ve not provided enough detail. I ran my posted code today in Java 20. I suggest you first do the same in a throwaway project. Then compare to your own code. If still stuck, post a new Question here with full details and example code."},{"owner":{"account_id":20712801,"reputation":65,"user_id":15227118,"display_name":"Anubhav kalra"},"score":0,"creation_date":1693382493,"post_id":77003695,"comment_id":135751675,"body_markdown":"I&#39;ve posted another question related to my problem. Here&#39;s the link to that:- https://stackoverflow.com/questions/77006002/java-sql-sqlexception-provider-com-sun-rowset-rowsetfactoryimpl-not-found","body":"I&#39;ve posted another question related to my problem. Here&#39;s the link to that:- <a href=\"https://stackoverflow.com/questions/77006002/java-sql-sqlexception-provider-com-sun-rowset-rowsetfactoryimpl-not-found\" title=\"java sql sqlexception provider com sun rowset rowsetfactoryimpl not found\">stackoverflow.com/questions/77006002/&hellip;</a>"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1693396118,"creation_date":1693343606,"answer_id":77003695,"question_id":77003081,"body_markdown":"As the comments suggest, a [`ResultSet`][1] should generally be processed immediately, not handed off. \r\n\r\nI suggest either:\r\n\r\n - Transform the `ResultSet` into a [`RowSet`][2].\r\n - Process the database rows into a collection of Java objects. Often a good time for Java [records][3].\r\n\r\n# `javax.sql.RowSet`\r\n\r\nInstead, use the sub-interface of `ResultSet` that *is* meant for handing off data directly from the database:  [`RowSet`][2]. In your case, [`CachedRowSet`][4] sounds appropriate. \r\n\r\nSee [tutorial by Oracle][5]. And see [article by Michael Good][6] on Baeldung.\r\n\r\nThe catch is finding a concrete implementation of that interface. You may find one bundled with [JDK][7]s based on [OpenJDK][8]. But as I recall, that implementation is very old (like dating back to the Sun Microsystems days), and has not been maintained/updated. \r\n\r\nRow sets always seemed like a great idea to me. But apparently they have never received the attention they deserve. \r\n\r\nFor more on obtaining implementations of `RowSet`, see these Questions: [here][9] and [here][10]. \r\n\r\nHere is a full example app, using [H2 Database Engine][11].\r\n\r\nNotice how, in modern Java, [`RowSetProvider`][12] uses the [*Java Service Provider Interface (SPI)*][13] to locate and load an implementation at runtime. (Well, I *think* that is what’s going on here.) See: [*What the reason to use RowSetProvider to obtain RowSetFactory?*][14].\r\n\r\n```java\r\npackage work.basil.example;\r\n\r\nimport org.h2.jdbcx.JdbcDataSource;\r\n\r\nimport javax.sql.DataSource;\r\nimport javax.sql.rowset.CachedRowSet;\r\nimport javax.sql.rowset.RowSetProvider;\r\nimport java.sql.*;\r\nimport java.time.Instant;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\n\r\n/**\r\n * Example of using a disconnected RowSet, specifically a CachedRowSet,\r\n * to keep a ResultSet even after disconnecting from database.\r\n */\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println ( &quot;Hello World! &quot; + Instant.now ( ) );\r\n        App app = new App ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        DataSource dataSource = this.getDataSource ( );\r\n        this.createDatabase ( dataSource );\r\n        this.populateTable ( dataSource );\r\n        this.dumpTable ( dataSource );\r\n        CachedRowSet rowSet = this.fetchRowSet ( dataSource );\r\n        this.reportRowSet ( rowSet );\r\n    }\r\n\r\n    private DataSource getDataSource ( )\r\n    {\r\n        org.h2.jdbcx.JdbcDataSource ds = new JdbcDataSource ( ); // The `javax.sql.DataSource` interface implemented by `org.h2.jdbcx.JdbcDataSource`.\r\n        ds.setURL ( &quot;jdbc:h2:mem:&quot; + &quot;RowSetExDb&quot; + &quot;;DB_CLOSE_DELAY=-1&quot; );  // Set delay to -1 to keep in-memory database even after last connection closed.\r\n        ds.setUser ( &quot;scott&quot; );\r\n        ds.setPassword ( &quot;tiger&quot; );\r\n        ds.setDescription ( &quot;Dummy database for demo showing how to use a RowSet after closing connection.&quot; );\r\n        return ds; // Generalizing from the concrete class to the interface.\r\n    }\r\n\r\n    private void createDatabase ( final DataSource dataSource )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                CREATE TABLE person_ ( \r\n                    pkey_ UUID DEFAULT random_uuid() PRIMARY KEY , \r\n                    name_ VARCHAR NOT NULL \r\n                ) ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n                Statement stmt = conn.createStatement ( ) ;\r\n        )\r\n        {\r\n            stmt.execute ( sql );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n\r\n    private void populateTable ( final DataSource dataSource )\r\n    {\r\n        String sql = &quot;&quot;&quot;\r\n                INSERT INTO person_ ( name_ ) \r\n                VALUES ( ? ) \r\n                ;\r\n                &quot;&quot;&quot;;\r\n\r\n        List &lt; String &gt; names = List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; ); // Insert a row for each of these names.\r\n        System.out.println ( &quot;Inserting list of names: &quot; + names );\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n                PreparedStatement ps = conn.prepareStatement ( sql ) ;\r\n        )\r\n        {\r\n            for ( String name : names )\r\n            {\r\n                ps.setString ( 1 , name );\r\n                ps.executeUpdate ( );\r\n            }\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n\r\n    private void dumpTable ( final DataSource dataSource )\r\n    {\r\n        // Retrieve rows from a `ResultSet`.\r\n        String sql = &quot;&quot;&quot;\r\n                SELECT * \r\n                FROM person_ \r\n                ;\r\n                &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n        )\r\n        {\r\n            try (\r\n                    Statement stmt = conn.createStatement ( ) ;\r\n                    ResultSet rs = stmt.executeQuery ( sql ) ;\r\n            )\r\n            {\r\n                record Person( UUID id ,\r\n                               String name )\r\n                {\r\n                }\r\n                while ( rs.next ( ) )\r\n                {\r\n                    UUID pkey = rs.getObject ( &quot;pkey_&quot; , UUID.class );\r\n                    String name = rs.getString ( &quot;name_&quot; );\r\n                    System.out.println ( new Person ( pkey , name ) );\r\n                }\r\n            }\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n\r\n    private CachedRowSet fetchRowSet ( final DataSource dataSource )\r\n    {\r\n        // Retrieve rows from a `ResultSet`.\r\n        String sql =\r\n                &quot;&quot;&quot;\r\n                        SELECT * \r\n                        FROM person_ \r\n                        ;\r\n                        &quot;&quot;&quot;;\r\n        try (\r\n                Connection conn = dataSource.getConnection ( ) ;\r\n                Statement stmt = conn.createStatement ( ) ;\r\n                ResultSet rs = stmt.executeQuery ( sql ) ;\r\n        )\r\n        {\r\n            CachedRowSet crs = RowSetProvider.newFactory ( ).createCachedRowSet ( );\r\n            crs.populate ( rs );\r\n            return crs;\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n\r\n    private void reportRowSet ( final CachedRowSet cachedRowSet )\r\n    {\r\n        try\r\n        {\r\n            System.out.println ( &quot;*****|  CachedRowSet without Connection  |**************&quot; );\r\n            while ( cachedRowSet.next ( ) )\r\n            {\r\n                String pkey = cachedRowSet.getString ( &quot;pkey_&quot; );  // Using `String` rather than `UUID` as the default implementation of CachedRowSet does not support accessing as UUID object.\r\n                String name = cachedRowSet.getString ( &quot;name_&quot; );\r\n\r\n                String message = &quot;pkey = &quot; + pkey + &quot; | name = &quot; + name;\r\n                System.out.println ( message );\r\n            }\r\n            System.out.println ( &quot;**************************************************&quot; );\r\n        }\r\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nHello World! 2023-08-29T22:47:30.159431Z\r\nInserting list of names: [Alice, Bob, Carol, Davis]\r\nPerson[id=241a0ba7-6763-4576-8e94-2c39770fe9e5, name=Alice]\r\nPerson[id=8a658d90-a834-410c-b94b-60f9629cbc57, name=Bob]\r\nPerson[id=b8736f53-3e9c-4cdf-bd1c-67c8c6ae72ab, name=Carol]\r\nPerson[id=93c7ca9f-1db1-408f-a0fd-d4b7f2dbe2f4, name=Davis]\r\n*****|  CachedRowSet without Connection  |**************\r\npkey = 241a0ba7-6763-4576-8e94-2c39770fe9e5 | name = Alice\r\npkey = 8a658d90-a834-410c-b94b-60f9629cbc57 | name = Bob\r\npkey = b8736f53-3e9c-4cdf-bd1c-67c8c6ae72ab | name = Carol\r\npkey = 93c7ca9f-1db1-408f-a0fd-d4b7f2dbe2f4 | name = Davis\r\n**************************************************\r\n```\r\n\r\n\r\n# `record`\r\n\r\nOr cache the data yourself by writing a [`record`][3] class, populate a collection of those objects from your `ResultSet`, and hand off the collection.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/RowSet.html\r\n  [3]: https://openjdk.org/jeps/395\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\r\n  [5]: https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html\r\n  [6]: https://www.baeldung.com/java-jdbc-rowset\r\n  [7]: https://en.wikipedia.org/wiki/Java_Development_Kit\r\n  [8]: https://en.wikipedia.org/wiki/OpenJDK\r\n  [9]: https://stackoverflow.com/q/8217493/642706\r\n  [10]: https://stackoverflow.com/q/2228462/642706\r\n  [11]: https://en.wikipedia.org/wiki/H2_(database)\r\n  [12]: https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\r\n  [13]: https://en.wikipedia.org/wiki/Service_provider_interface\r\n  [14]: https://stackoverflow.com/q/25592162/642706","title":"Retrieve data from ResultSet before closing the Connections","body":"<p>As the comments suggest, a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\"><code>ResultSet</code></a> should generally be processed immediately, not handed off.</p>\n<p>I suggest either:</p>\n<ul>\n<li>Transform the <code>ResultSet</code> into a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>RowSet</code></a>.</li>\n<li>Process the database rows into a collection of Java objects. Often a good time for Java <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">records</a>.</li>\n</ul>\n<h1><code>javax.sql.RowSet</code></h1>\n<p>Instead, use the sub-interface of <code>ResultSet</code> that <em>is</em> meant for handing off data directly from the database:  <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql/javax/sql/RowSet.html\" rel=\"nofollow noreferrer\"><code>RowSet</code></a>. In your case, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/CachedRowSet.html\" rel=\"nofollow noreferrer\"><code>CachedRowSet</code></a> sounds appropriate.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/rowset.html\" rel=\"nofollow noreferrer\">tutorial by Oracle</a>. And see <a href=\"https://www.baeldung.com/java-jdbc-rowset\" rel=\"nofollow noreferrer\">article by Michael Good</a> on Baeldung.</p>\n<p>The catch is finding a concrete implementation of that interface. You may find one bundled with <a href=\"https://en.wikipedia.org/wiki/Java_Development_Kit\" rel=\"nofollow noreferrer\">JDK</a>s based on <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"nofollow noreferrer\">OpenJDK</a>. But as I recall, that implementation is very old (like dating back to the Sun Microsystems days), and has not been maintained/updated.</p>\n<p>Row sets always seemed like a great idea to me. But apparently they have never received the attention they deserve.</p>\n<p>For more on obtaining implementations of <code>RowSet</code>, see these Questions: <a href=\"https://stackoverflow.com/q/8217493/642706\">here</a> and <a href=\"https://stackoverflow.com/q/2228462/642706\">here</a>.</p>\n<p>Here is a full example app, using <a href=\"https://en.wikipedia.org/wiki/H2_(database)\" rel=\"nofollow noreferrer\">H2 Database Engine</a>.</p>\n<p>Notice how, in modern Java, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.sql.rowset/javax/sql/rowset/RowSetProvider.html\" rel=\"nofollow noreferrer\"><code>RowSetProvider</code></a> uses the <a href=\"https://en.wikipedia.org/wiki/Service_provider_interface\" rel=\"nofollow noreferrer\"><em>Java Service Provider Interface (SPI)</em></a> to locate and load an implementation at runtime. (Well, I <em>think</em> that is what’s going on here.) See: <a href=\"https://stackoverflow.com/q/25592162/642706\"><em>What the reason to use RowSetProvider to obtain RowSetFactory?</em></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example;\n\nimport org.h2.jdbcx.JdbcDataSource;\n\nimport javax.sql.DataSource;\nimport javax.sql.rowset.CachedRowSet;\nimport javax.sql.rowset.RowSetProvider;\nimport java.sql.*;\nimport java.time.Instant;\nimport java.util.List;\nimport java.util.UUID;\n\n/**\n * Example of using a disconnected RowSet, specifically a CachedRowSet,\n * to keep a ResultSet even after disconnecting from database.\n */\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        System.out.println ( &quot;Hello World! &quot; + Instant.now ( ) );\n        App app = new App ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        DataSource dataSource = this.getDataSource ( );\n        this.createDatabase ( dataSource );\n        this.populateTable ( dataSource );\n        this.dumpTable ( dataSource );\n        CachedRowSet rowSet = this.fetchRowSet ( dataSource );\n        this.reportRowSet ( rowSet );\n    }\n\n    private DataSource getDataSource ( )\n    {\n        org.h2.jdbcx.JdbcDataSource ds = new JdbcDataSource ( ); // The `javax.sql.DataSource` interface implemented by `org.h2.jdbcx.JdbcDataSource`.\n        ds.setURL ( &quot;jdbc:h2:mem:&quot; + &quot;RowSetExDb&quot; + &quot;;DB_CLOSE_DELAY=-1&quot; );  // Set delay to -1 to keep in-memory database even after last connection closed.\n        ds.setUser ( &quot;scott&quot; );\n        ds.setPassword ( &quot;tiger&quot; );\n        ds.setDescription ( &quot;Dummy database for demo showing how to use a RowSet after closing connection.&quot; );\n        return ds; // Generalizing from the concrete class to the interface.\n    }\n\n    private void createDatabase ( final DataSource dataSource )\n    {\n        String sql = &quot;&quot;&quot;\n                CREATE TABLE person_ ( \n                    pkey_ UUID DEFAULT random_uuid() PRIMARY KEY , \n                    name_ VARCHAR NOT NULL \n                ) ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n                Statement stmt = conn.createStatement ( ) ;\n        )\n        {\n            stmt.execute ( sql );\n        }\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\n    }\n\n    private void populateTable ( final DataSource dataSource )\n    {\n        String sql = &quot;&quot;&quot;\n                INSERT INTO person_ ( name_ ) \n                VALUES ( ? ) \n                ;\n                &quot;&quot;&quot;;\n\n        List &lt; String &gt; names = List.of ( &quot;Alice&quot; , &quot;Bob&quot; , &quot;Carol&quot; , &quot;Davis&quot; ); // Insert a row for each of these names.\n        System.out.println ( &quot;Inserting list of names: &quot; + names );\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n                PreparedStatement ps = conn.prepareStatement ( sql ) ;\n        )\n        {\n            for ( String name : names )\n            {\n                ps.setString ( 1 , name );\n                ps.executeUpdate ( );\n            }\n        }\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\n    }\n\n    private void dumpTable ( final DataSource dataSource )\n    {\n        // Retrieve rows from a `ResultSet`.\n        String sql = &quot;&quot;&quot;\n                SELECT * \n                FROM person_ \n                ;\n                &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n        )\n        {\n            try (\n                    Statement stmt = conn.createStatement ( ) ;\n                    ResultSet rs = stmt.executeQuery ( sql ) ;\n            )\n            {\n                record Person( UUID id ,\n                               String name )\n                {\n                }\n                while ( rs.next ( ) )\n                {\n                    UUID pkey = rs.getObject ( &quot;pkey_&quot; , UUID.class );\n                    String name = rs.getString ( &quot;name_&quot; );\n                    System.out.println ( new Person ( pkey , name ) );\n                }\n            }\n        }\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\n    }\n\n    private CachedRowSet fetchRowSet ( final DataSource dataSource )\n    {\n        // Retrieve rows from a `ResultSet`.\n        String sql =\n                &quot;&quot;&quot;\n                        SELECT * \n                        FROM person_ \n                        ;\n                        &quot;&quot;&quot;;\n        try (\n                Connection conn = dataSource.getConnection ( ) ;\n                Statement stmt = conn.createStatement ( ) ;\n                ResultSet rs = stmt.executeQuery ( sql ) ;\n        )\n        {\n            CachedRowSet crs = RowSetProvider.newFactory ( ).createCachedRowSet ( );\n            crs.populate ( rs );\n            return crs;\n        }\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\n    }\n\n    private void reportRowSet ( final CachedRowSet cachedRowSet )\n    {\n        try\n        {\n            System.out.println ( &quot;*****|  CachedRowSet without Connection  |**************&quot; );\n            while ( cachedRowSet.next ( ) )\n            {\n                String pkey = cachedRowSet.getString ( &quot;pkey_&quot; );  // Using `String` rather than `UUID` as the default implementation of CachedRowSet does not support accessing as UUID object.\n                String name = cachedRowSet.getString ( &quot;name_&quot; );\n\n                String message = &quot;pkey = &quot; + pkey + &quot; | name = &quot; + name;\n                System.out.println ( message );\n            }\n            System.out.println ( &quot;**************************************************&quot; );\n        }\n        catch ( SQLException e ) { throw new RuntimeException ( e ); }\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Hello World! 2023-08-29T22:47:30.159431Z\nInserting list of names: [Alice, Bob, Carol, Davis]\nPerson[id=241a0ba7-6763-4576-8e94-2c39770fe9e5, name=Alice]\nPerson[id=8a658d90-a834-410c-b94b-60f9629cbc57, name=Bob]\nPerson[id=b8736f53-3e9c-4cdf-bd1c-67c8c6ae72ab, name=Carol]\nPerson[id=93c7ca9f-1db1-408f-a0fd-d4b7f2dbe2f4, name=Davis]\n*****|  CachedRowSet without Connection  |**************\npkey = 241a0ba7-6763-4576-8e94-2c39770fe9e5 | name = Alice\npkey = 8a658d90-a834-410c-b94b-60f9629cbc57 | name = Bob\npkey = b8736f53-3e9c-4cdf-bd1c-67c8c6ae72ab | name = Carol\npkey = 93c7ca9f-1db1-408f-a0fd-d4b7f2dbe2f4 | name = Davis\n**************************************************\n</code></pre>\n<h1><code>record</code></h1>\n<p>Or cache the data yourself by writing a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\"><code>record</code></a> class, populate a collection of those objects from your <code>ResultSet</code>, and hand off the collection.</p>\n"}],"owner":{"account_id":20712801,"reputation":65,"user_id":15227118,"display_name":"Anubhav kalra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693396118,"creation_date":1693336581,"question_id":77003081,"body_markdown":"I&#39;ve created a method to fetch details from Database which returns an object of ResultSet by executing a callableStatement. \r\nI want to close the Connection &amp; CallableStatement. For performing this I&#39;m using try-with-resource. But the problem arise here, as I&#39;m return the ResultSet from my method, it also gets closed and throws an exception while fetching data from it:  \r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The result set is\r\n&gt; closed.\r\n\r\nAs per my knowledge, ResultSet will automatically get closed when either all data is fetched from ResultSet or if the CallableStatement will get closed. In my case second thing is happening as I&#39;m using try-with-resource.\r\n\r\nThis is how my code looks like.\r\n\r\n    public ResultSet getUSStates() throws SQLException {\r\n\t\ttry(\r\n\t\t\t\tConnection inGlobalConnnections = getConnection();\r\n\t\t\t\tCallableStatement csmt = inGlobalConnnections.prepareCall(&quot;{call mst.USP_GetUSStates()}&quot;);) {\r\n\r\n\t\t\tcsmt.execute();\r\n\t\t\treturn csmt.getResultSet();\r\n\t\t} catch (Exception e) {\r\n\t\t\t_log.error(e, e);\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\nWhat should I do to fetch records and close the connections afterwards?\r\n\r\nNOTE: I&#39;m using multiple methods like this to fetch details from database. So, please suggest way where I have to perform minimal changes in my code.","title":"Retrieve data from ResultSet before closing the Connections","body":"<p>I've created a method to fetch details from Database which returns an object of ResultSet by executing a callableStatement.\nI want to close the Connection &amp; CallableStatement. For performing this I'm using try-with-resource. But the problem arise here, as I'm return the ResultSet from my method, it also gets closed and throws an exception while fetching data from it:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The result set is\nclosed.</p>\n</blockquote>\n<p>As per my knowledge, ResultSet will automatically get closed when either all data is fetched from ResultSet or if the CallableStatement will get closed. In my case second thing is happening as I'm using try-with-resource.</p>\n<p>This is how my code looks like.</p>\n<pre><code>public ResultSet getUSStates() throws SQLException {\n    try(\n            Connection inGlobalConnnections = getConnection();\n            CallableStatement csmt = inGlobalConnnections.prepareCall(&quot;{call mst.USP_GetUSStates()}&quot;);) {\n\n        csmt.execute();\n        return csmt.getResultSet();\n    } catch (Exception e) {\n        _log.error(e, e);\n    }\n\n    return null;\n}\n</code></pre>\n<p>What should I do to fetch records and close the connections afterwards?</p>\n<p>NOTE: I'm using multiple methods like this to fetch details from database. So, please suggest way where I have to perform minimal changes in my code.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1693395335,"post_id":77007492,"comment_id":135754421,"body_markdown":"`@GeneratedValue` is from the JPA API, while `@UuidGenerator` is specific to Hibernate. There are subtle differences between how the UUIDs are generated, which may or may not matter to your specific application. Article: [How to generate UUIDs as primary keys with Hibernate](https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/)","body":"<code>@GeneratedValue</code> is from the JPA API, while <code>@UuidGenerator</code> is specific to Hibernate. There are subtle differences between how the UUIDs are generated, which may or may not matter to your specific application. Article: <a href=\"https://thorben-janssen.com/generate-uuids-primary-keys-hibernate/\" rel=\"nofollow noreferrer\">How to generate UUIDs as primary keys with Hibernate</a>"}],"answers":[{"tags":[],"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693395956,"creation_date":1693395956,"answer_id":77007685,"question_id":77007492,"body_markdown":"As Jesper already mentioned in the comment, @GeneratedValue is from JPA API (javax.persistence), while @UuidGenerator is from hibernate-core. \r\n\r\nBasically that means that using @UuidGenerator couples your code to Hibernate, which is one implementation of JPA. Using @GeneratedValue decouples your code from a specific implementation, so you could change Hibernate to e.g. EclipseLink later.  \r\n\r\n","title":"Difference between @GeneratedValue(strategy = GenerationType.UUID) AND @UuidGenerator","body":"<p>As Jesper already mentioned in the comment, @GeneratedValue is from JPA API (javax.persistence), while @UuidGenerator is from hibernate-core.</p>\n<p>Basically that means that using @UuidGenerator couples your code to Hibernate, which is one implementation of JPA. Using @GeneratedValue decouples your code from a specific implementation, so you could change Hibernate to e.g. EclipseLink later.</p>\n"}],"owner":{"account_id":20734397,"reputation":31,"user_id":16599370,"display_name":"Yury Musiyenka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693395956,"creation_date":1693394383,"question_id":77007492,"body_markdown":"What&#39;s the difference between using\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.UUID)\r\nprivate UUID id;\r\n```\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.UUID)\r\n@UuidGenerator\r\nprivate UUID id;\r\n```\r\n\r\n```\r\n@Id\r\n@GeneratedValue\r\n@UuidGenerator\r\nprivate UUID id;\r\n```\r\n\r\n```\r\n@Id\r\n@UuidGenerator\r\nprivate UUID id;\r\n```\r\n\r\nI tried all approaches and read the documentation, also I tested it with show_sql and generate_statistics props\r\nAnd i don&#39;t see any difference","title":"Difference between @GeneratedValue(strategy = GenerationType.UUID) AND @UuidGenerator","body":"<p>What's the difference between using</p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.UUID)\nprivate UUID id;\n</code></pre>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.UUID)\n@UuidGenerator\nprivate UUID id;\n</code></pre>\n<pre><code>@Id\n@GeneratedValue\n@UuidGenerator\nprivate UUID id;\n</code></pre>\n<pre><code>@Id\n@UuidGenerator\nprivate UUID id;\n</code></pre>\n<p>I tried all approaches and read the documentation, also I tested it with show_sql and generate_statistics props\nAnd i don't see any difference</p>\n"},{"tags":["java","mysql","spring"],"comments":[{"owner":{"account_id":4143152,"reputation":2367,"user_id":3397712,"accept_rate":77,"display_name":"yaswanth"},"score":0,"creation_date":1493962260,"post_id":36913095,"comment_id":74634600,"body_markdown":"Where are your primary keys in the tables in the entities?","body":"Where are your primary keys in the tables in the entities?"}],"answers":[{"comments":[{"owner":{"account_id":7078234,"reputation":35,"user_id":5417493,"display_name":"doolylol"},"score":0,"creation_date":1461844801,"post_id":36913935,"comment_id":61390041,"body_markdown":"Thanks for your answer, but it still returns an error, saying column &#39;id&#39; not found.\n\nThis is how it looks in my controller:\n\n    @ModelAttribute\n    public List&lt;Lead&gt; bidLeads(User user) {\n        return leadService.findAllNotMarkedAsWon(user.getId());\n    }","body":"Thanks for your answer, but it still returns an error, saying column &#39;id&#39; not found.  This is how it looks in my controller:      @ModelAttribute     public List&lt;Lead&gt; bidLeads(User user) {         return leadService.findAllNotMarkedAsWon(user.getId());     }"},{"owner":{"account_id":7427960,"reputation":198,"user_id":5649869,"display_name":"Алексей Романов"},"score":1,"creation_date":1461844994,"post_id":36913935,"comment_id":61390207,"body_markdown":"Oh, a saw whats wrong: you return user_leads, which is cross-table for user-lead, but waiting Lead in result.\n`select * from user usr inner join users_leads ul on usr.id = ul.users_user_id where usr.id = :id and leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)`","body":"Oh, a saw whats wrong: you return user_leads, which is cross-table for user-lead, but waiting Lead in result. <code>select * from user usr inner join users_leads ul on usr.id = ul.users_user_id where usr.id = :id and leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)</code>"},{"owner":{"account_id":7078234,"reputation":35,"user_id":5417493,"display_name":"doolylol"},"score":0,"creation_date":1461845468,"post_id":36913935,"comment_id":61390541,"body_markdown":"Ah, god dammit :D I solved it now. Thank you very much!","body":"Ah, god dammit :D I solved it now. Thank you very much!"}],"tags":[],"owner":{"account_id":7427960,"reputation":198,"user_id":5649869,"display_name":"Алексей Романов"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1461844882,"creation_date":1461844598,"answer_id":36913935,"question_id":36913095,"body_markdown":"Try this:\r\n\r\n    @Query(value = &quot;SELECT * FROM users_leads WHERE users_userid = :id AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)&quot;, nativeQuery = true)\r\n    List&lt;Lead&gt; findAllNotMarkedAsWon(@Param(&quot;id&quot;) Long id);\r\n\r\nBut better rewrite it to hql.","title":"SQL Query returning column &#39;id&#39; not found in Spring Boot","body":"<p>Try this:</p>\n\n<pre><code>@Query(value = \"SELECT * FROM users_leads WHERE users_userid = :id AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)\", nativeQuery = true)\nList&lt;Lead&gt; findAllNotMarkedAsWon(@Param(\"id\") Long id);\n</code></pre>\n\n<p>But better rewrite it to hql.</p>\n"}],"owner":{"account_id":7078234,"reputation":35,"user_id":5417493,"display_name":"doolylol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7240,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36913935,"answer_count":1,"score":1,"last_activity_date":1693394615,"creation_date":1461842372,"question_id":36913095,"body_markdown":"Hope you can help - because I&#39;m losing my mind :o)\r\n\r\nI have a problem with Spring Boot and native queries. One of my queries are returning the error **java.sql.SQLException: Column &#39;id&#39; not found.** - and I have no idea why. Everything works fine, when testing in MySQL Workbench.\r\n\r\n**Query**\r\n\r\n    @Query(value = &quot;SELECT * FROM users_leads WHERE users_userid = ?1 AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)&quot;, nativeQuery = true)\r\n    List&lt;Lead&gt; findAllNotMarkedAsWon(Long id);\r\n\r\n**Stacktrace**\r\n\r\n    2016-04-28 13:02:22.313  WARN 9444 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\r\n    2016-04-28 13:02:22.313 ERROR 9444 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;id&#39; not found.\r\n    2016-04-28 13:02:22.316 ERROR 9444 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]. [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in     context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute query; SQL [SELECT * FROM users_leads WHERE users_userid = ? AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query] with root cause\r\n\r\n    java.sql.SQLException: Column &#39;id&#39; not found.\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:896) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:885) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1076) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat com.mysql.jdbc.ResultSetImpl.getLong(ResultSetImpl.java:2757) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\tat org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:73) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:267) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:338) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.extractKeysFromResultSet(Loader.java:785) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:721) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:953) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:921) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2554) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2540) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2365) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573) ~[hibernate-entitymanager-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:449) ~[hibernate-entitymanager-4.3.11.Final.jar:4.3.11.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:114) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:78) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:100) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:91) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:462) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:440) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:131) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat com.sun.proxy.$Proxy222.findAllNotMarkedAsWon(Unknown Source) ~[na:na]\r\n\tat dk.fitproject.service.LeadService.findAllNotMarkedAsWon(LeadService.java:26) ~[main/:na]\r\n\tat dk.fitproject.controller.user.UserLeadController.bidLeads(UserLeadController.java:38) ~[main/:na]\r\n\tat dk.fitproject.controller.user.UserLeadController.index(UserLeadController.java:53) ~[main/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\r\n\tat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:817) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:731) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:968) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:859) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:844) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:205) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_73]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_73]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.32.jar:8.0.32]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_73]\r\n\r\nEntity class\r\n\r\n    @Entity\r\n    @Table(name = &quot;lead&quot;)\r\n    public class Lead implements Serializable\r\n    ---\r\n    @ManyToMany(mappedBy = &quot;leads&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;User&gt; users;\r\n\r\n    @ManyToMany(mappedBy = &quot;wonLeads&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;User&gt; userWon;\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User implements Serializable\r\n    ---\r\n    @ManyToMany(cascade =  CascadeType.ALL)\r\n    private List&lt;Lead&gt; leads;\r\n\r\n    @ManyToMany(cascade =  CascadeType.ALL)\r\n    private List&lt;Lead&gt; wonLeads;","title":"SQL Query returning column &#39;id&#39; not found in Spring Boot","body":"<p>Hope you can help - because I'm losing my mind :o)</p>\n\n<p>I have a problem with Spring Boot and native queries. One of my queries are returning the error <strong>java.sql.SQLException: Column 'id' not found.</strong> - and I have no idea why. Everything works fine, when testing in MySQL Workbench.</p>\n\n<p><strong>Query</strong></p>\n\n<pre><code>@Query(value = \"SELECT * FROM users_leads WHERE users_userid = ?1 AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)\", nativeQuery = true)\nList&lt;Lead&gt; findAllNotMarkedAsWon(Long id);\n</code></pre>\n\n<p><strong>Stacktrace</strong></p>\n\n<pre><code>2016-04-28 13:02:22.313  WARN 9444 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\n2016-04-28 13:02:22.313 ERROR 9444 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'id' not found.\n2016-04-28 13:02:22.316 ERROR 9444 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/]. [dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in     context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute query; SQL [SELECT * FROM users_leads WHERE users_userid = ? AND leads_id NOT IN (SELECT won_leads_id FROM users_won_leads)]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query] with root cause\n\njava.sql.SQLException: Column 'id' not found.\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:957) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:896) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:885) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:860) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat com.mysql.jdbc.ResultSetImpl.findColumn(ResultSetImpl.java:1076) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat com.mysql.jdbc.ResultSetImpl.getLong(ResultSetImpl.java:2757) ~[mysql-connector-java-5.1.38.jar:5.1.38]\nat org.hibernate.type.descriptor.sql.BigIntTypeDescriptor$2.doExtract(BigIntTypeDescriptor.java:73) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:64) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:267) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:263) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.type.AbstractStandardBasicType.hydrate(AbstractStandardBasicType.java:338) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.extractKeysFromResultSet(Loader.java:785) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:721) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.processResultSet(Loader.java:953) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.doQuery(Loader.java:921) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:355) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2554) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.doList(Loader.java:2540) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2370) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.Loader.list(Loader.java:2365) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:353) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:1909) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:311) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:141) ~[hibernate-core-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.jpa.internal.QueryImpl.list(QueryImpl.java:573) ~[hibernate-entitymanager-4.3.11.Final.jar:4.3.11.Final]\nat org.hibernate.jpa.internal.QueryImpl.getResultList(QueryImpl.java:449) ~[hibernate-entitymanager-4.3.11.Final.jar:4.3.11.Final]\nat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:114) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:78) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:100) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\nat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:91) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.doInvoke(RepositoryFactorySupport.java:462) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\nat org.springframework.data.repository.core.support.RepositoryFactorySupport$QueryExecutorMethodInterceptor.invoke(RepositoryFactorySupport.java:440) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:61) ~[spring-data-commons-1.11.4.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136) ~[spring-tx-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:131) ~[spring-data-jpa-1.9.4.RELEASE.jar:na]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208) ~[spring-aop-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat com.sun.proxy.$Proxy222.findAllNotMarkedAsWon(Unknown Source) ~[na:na]\nat dk.fitproject.service.LeadService.findAllNotMarkedAsWon(LeadService.java:26) ~[main/:na]\nat dk.fitproject.controller.user.UserLeadController.bidLeads(UserLeadController.java:38) ~[main/:na]\nat dk.fitproject.controller.user.UserLeadController.index(UserLeadController.java:53) ~[main/:na]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_73]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_73]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_73]\nat java.lang.reflect.Method.invoke(Method.java:497) ~[na:1.8.0_73]\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:221) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:136) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:817) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:731) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:968) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:859) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:622) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:844) ~[spring-webmvc-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:729) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) ~[tomcat-embed-websocket-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:316) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:126) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:90) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:122) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:48) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:205) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) ~[spring-security-web-4.0.3.RELEASE.jar:4.0.3.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:87) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) ~[spring-web-4.2.5.RELEASE.jar:4.2.5.RELEASE]\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212) ~[tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:522) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1095) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:672) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1500) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1456) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_73]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_73]\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.0.32.jar:8.0.32]\nat java.lang.Thread.run(Thread.java:745) [na:1.8.0_73]\n</code></pre>\n\n<p>Entity class</p>\n\n<pre><code>@Entity\n@Table(name = \"lead\")\npublic class Lead implements Serializable\n---\n@ManyToMany(mappedBy = \"leads\", cascade = CascadeType.ALL)\nprivate List&lt;User&gt; users;\n\n@ManyToMany(mappedBy = \"wonLeads\", cascade = CascadeType.ALL)\nprivate List&lt;User&gt; userWon;\n\n\n@Entity\n@Table(name = \"users\")\npublic class User implements Serializable\n---\n@ManyToMany(cascade =  CascadeType.ALL)\nprivate List&lt;Lead&gt; leads;\n\n@ManyToMany(cascade =  CascadeType.ALL)\nprivate List&lt;Lead&gt; wonLeads;\n</code></pre>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1693390486,"post_id":77006872,"comment_id":135753445,"body_markdown":"Can you show us the exception or at least part of the exception (because it will probably contain a lot of repetitions due to the stack overflow)?","body":"Can you show us the exception or at least part of the exception (because it will probably contain a lot of repetitions due to the stack overflow)?"},{"owner":{"account_id":18219978,"reputation":83,"user_id":13260936,"display_name":"Something Nice"},"score":0,"creation_date":1693394490,"post_id":77006872,"comment_id":135754238,"body_markdown":"Hi I have added the exception that it throws","body":"Hi I have added the exception that it throws"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1693397143,"post_id":77006872,"comment_id":135754800,"body_markdown":"Is there a repeating or circular stack in there? The error shows class loading, so it is unlikely to do with the bidirectional relationship, but doesn&#39;t hint at the problem with anything you&#39;ve shown - your application might just need to run with a larger stack memory setting (-Xss).","body":"Is there a repeating or circular stack in there? The error shows class loading, so it is unlikely to do with the bidirectional relationship, but doesn&#39;t hint at the problem with anything you&#39;ve shown - your application might just need to run with a larger stack memory setting (-Xss)."}],"owner":{"account_id":18219978,"reputation":83,"user_id":13260936,"display_name":"Something Nice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693394474,"creation_date":1693389105,"question_id":77006872,"body_markdown":"Example, I have an entity named MaterialMaster, and I have an extension named ExtensionOne with the code as follows:\r\n```\r\n@Entity\r\npublic class MaterialMaster {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    \r\n    @OneToMany(mappedBy = &quot;extensionOne.materialMaster&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n    private List&lt;ExtensionOne&gt; extensionOneList = new ArrayList&lt;&gt;();\r\n    \r\n}\r\n```\r\n\r\nExtension One:\r\n\r\n```\r\n@Entity\r\npublic class ExtensionOne {\r\n    @Embeddable\r\n    public static class ExtensionOneId implements Serializable {\r\n          @ManyToOne(fetch = FetchType.LAZY)\r\n          @JoinColumn(name = &quot;material_id&quot;)\r\n          @JsonIgnore\r\n          private MaterialMaster materialMaster;\r\n\r\n          @Column(name = &quot;extension_one_id&quot;)\r\n          private Long extensionOneId;\r\n    } \r\n    @EmbeddedId\r\n    private ExtensionOneId id;\r\n\r\n    private String description;\r\n\r\n    // Other attributes, getters, setters\r\n}\r\n```\r\n\r\nI have a dto corressponding to materialMaster, and I have a service class which takes the materialMasterDto and saves it. \r\n\r\n```\r\n    public void saveMaterialMaster(MaterialMasterDTO materialMasterDTO) {\r\n        MaterialMaster materialMaster = materialMasterDTOConverter.convertToEntity(materialMasterDTO);\r\n        materialMasterRepository.save(materialMaster);\r\n    }\r\n```\r\n\r\n**Note:** Instead of creating the materialMaster first and then saving the extensions, I am converting the dto to the materialMasterEntity by appending the extensions to the extensionList present in materialMaster and saving it as a whole. (I don&#39;t know if this is the correct way to do this)\r\n\r\n**Issue:**\r\nWhen I first try to save the materialMasterData, it gets saved perfectly. But let&#39;s say if I again pass the materialMasterData with the same id, with the intent to overrride it not update it, it throws me the following exception:\r\n\r\nStackOverflow Exception.\r\n\r\n**MySolution:**\r\nTo avoid this what I have done is, first I findBy materialMaster and if it is present, I delete it first and then save it using @Transactional to my saveMethod.\r\n\r\nI feel like this is not the correct way to do it. \r\n\r\nI would like to know what exactly is causing the stackoverflow exception and how to avoid it and why isn&#39;t it being caused during the first time I save it and if the stackoverflow exception is caused by bidirectional mapping, how can I avoid it while saving it?\r\n\r\n**Exception**\r\n[![Added exception for detial][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bc0eS.png","title":"Bidirectitional Mapping throws stackoverflow exception, when Entity is resaved with same id","body":"<p>Example, I have an entity named MaterialMaster, and I have an extension named ExtensionOne with the code as follows:</p>\n<pre><code>@Entity\npublic class MaterialMaster {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @OneToMany(mappedBy = &quot;extensionOne.materialMaster&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n    private List&lt;ExtensionOne&gt; extensionOneList = new ArrayList&lt;&gt;();\n    \n}\n</code></pre>\n<p>Extension One:</p>\n<pre><code>@Entity\npublic class ExtensionOne {\n    @Embeddable\n    public static class ExtensionOneId implements Serializable {\n          @ManyToOne(fetch = FetchType.LAZY)\n          @JoinColumn(name = &quot;material_id&quot;)\n          @JsonIgnore\n          private MaterialMaster materialMaster;\n\n          @Column(name = &quot;extension_one_id&quot;)\n          private Long extensionOneId;\n    } \n    @EmbeddedId\n    private ExtensionOneId id;\n\n    private String description;\n\n    // Other attributes, getters, setters\n}\n</code></pre>\n<p>I have a dto corressponding to materialMaster, and I have a service class which takes the materialMasterDto and saves it.</p>\n<pre><code>    public void saveMaterialMaster(MaterialMasterDTO materialMasterDTO) {\n        MaterialMaster materialMaster = materialMasterDTOConverter.convertToEntity(materialMasterDTO);\n        materialMasterRepository.save(materialMaster);\n    }\n</code></pre>\n<p><strong>Note:</strong> Instead of creating the materialMaster first and then saving the extensions, I am converting the dto to the materialMasterEntity by appending the extensions to the extensionList present in materialMaster and saving it as a whole. (I don't know if this is the correct way to do this)</p>\n<p><strong>Issue:</strong>\nWhen I first try to save the materialMasterData, it gets saved perfectly. But let's say if I again pass the materialMasterData with the same id, with the intent to overrride it not update it, it throws me the following exception:</p>\n<p>StackOverflow Exception.</p>\n<p><strong>MySolution:</strong>\nTo avoid this what I have done is, first I findBy materialMaster and if it is present, I delete it first and then save it using @Transactional to my saveMethod.</p>\n<p>I feel like this is not the correct way to do it.</p>\n<p>I would like to know what exactly is causing the stackoverflow exception and how to avoid it and why isn't it being caused during the first time I save it and if the stackoverflow exception is caused by bidirectional mapping, how can I avoid it while saving it?</p>\n<p><strong>Exception</strong>\n<a href=\"https://i.stack.imgur.com/bc0eS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bc0eS.png\" alt=\"Added exception for detial\" /></a></p>\n"},{"tags":["java","eclipselink","adoptopenjdk","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1641305086,"post_id":70555041,"comment_id":124766641,"body_markdown":"Anything else go wrong with the JVM change? What does logging during persistence unit deployment stay about finding entities and named queries?","body":"Anything else go wrong with the JVM change? What does logging during persistence unit deployment stay about finding entities and named queries?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1641767293,"post_id":70555041,"comment_id":124886436,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":1428301,"reputation":11,"user_id":1351290,"display_name":"bandiVenkat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1693394087,"creation_date":1641117214,"question_id":70555041,"body_markdown":"Below jars worked fine with OracleJDK 11 but not working with openJDK11.\r\n\r\n- eclipselink.2.7.1.jar\r\n- javax.persistence.2.1.1.jar\r\n\r\n&gt; java.lang.IllegalArgumentException: NamedQuery of name: abcd not\r\n&gt; found. \tat\r\n&gt; org.eclipse.persistence.internal.jpa.QueryImpl.getDatabaseQueryInternal(QueryImpl.java:362)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.internal.jpa.EntityManagerImpl.createNamedQuery(EntityManagerImpl.java:1236)\r\n&gt; \tat\r\n&gt; org.eclipse.persistence.internal.jpa.EntityManagerImpl.createNamedQuery(EntityManagerImpl.java:1257)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) \tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)","title":"OpenJDK11 and eclipse link 2.7.1 Compatibility issue - getting java.lang.IllegalArgumentException: NamedQuery of name: abcd not found","body":"<p>Below jars worked fine with OracleJDK 11 but not working with openJDK11.</p>\n<ul>\n<li>eclipselink.2.7.1.jar</li>\n<li>javax.persistence.2.1.1.jar</li>\n</ul>\n<blockquote>\n<p>java.lang.IllegalArgumentException: NamedQuery of name: abcd not\nfound.    at\norg.eclipse.persistence.internal.jpa.QueryImpl.getDatabaseQueryInternal(QueryImpl.java:362)\nat\norg.eclipse.persistence.internal.jpa.EntityManagerImpl.createNamedQuery(EntityManagerImpl.java:1236)\nat\norg.eclipse.persistence.internal.jpa.EntityManagerImpl.createNamedQuery(EntityManagerImpl.java:1257)\nat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)   at\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)</p>\n</blockquote>\n"},{"tags":["java","jpa","ejb-3.0","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":3611288,"reputation":389,"user_id":3012187,"display_name":"thomas.scheuchzer"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1386689150,"creation_date":1386689150,"answer_id":20498356,"question_id":20497816,"body_markdown":"Use ```em.createQuery(...``` instead of em.createNamedQuery()\r\n\r\nIf you work with named queries (what I would recommend) you have to place the query inside a @NamedQuery annotation on your entity class.","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<p>Use <code>em.createQuery(...</code> instead of em.createNamedQuery()</p>\n\n<p>If you work with named queries (what I would recommend) you have to place the query inside a @NamedQuery annotation on your entity class.</p>\n"},{"tags":[],"owner":{"account_id":1153671,"reputation":2570,"user_id":1134856,"accept_rate":36,"display_name":"treeno"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439807459,"creation_date":1386689245,"answer_id":20498387,"question_id":20497816,"body_markdown":"`createNamedQuery()` takes a name of a query and not the query itself.\r\n\r\nThe Query can be defined by an annotation `@NamedQuery`\r\nTake a look at this:\r\nhttp://docs.oracle.com/javaee/6/api/javax/persistence/NamedQuery.html","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<p><code>createNamedQuery()</code> takes a name of a query and not the query itself.</p>\n\n<p>The Query can be defined by an annotation <code>@NamedQuery</code>\nTake a look at this:\n<a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/NamedQuery.html\" rel=\"nofollow\">http://docs.oracle.com/javaee/6/api/javax/persistence/NamedQuery.html</a></p>\n"},{"tags":[],"owner":{"account_id":3451372,"reputation":1314,"user_id":2890983,"display_name":"Flying Dumpling"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1386689515,"creation_date":1386689515,"answer_id":20498489,"question_id":20497816,"body_markdown":"In JPA query and named query are not the same things.\r\n\r\nNamed queries have &quot;names&quot; and you define them by adding `@NamedQueries` annotation on your entity type class:\r\n\r\n    @Entity\r\n    @Table(name=&quot;bondecommande&quot;)\r\n    @NamedQueries({\r\n        @NamedQuery(name=&quot;Bondecommande.findByIdbc&quot;, query=&quot;select bc from Bondecommande bc where bc.idbc = :idbc&quot;),\r\n        @NamedQuery(name=&quot;...&quot;, query=&quot;...&quot;),\r\n    }) \r\n    public class Bondecommande  implements Serializable {\r\n\r\n        ....\r\n    }\r\n\r\nYou use named queries by passing the name of the query to create method:\r\n\r\n    Query q =em.createNamedQuery(&quot;Bondecommande.findByIdbc&quot;);\r\n\r\nI recommend to use `TypedQuery&lt;T&gt;` not `Query` if you are using JPA 2.x","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<p>In JPA query and named query are not the same things.</p>\n\n<p>Named queries have \"names\" and you define them by adding <code>@NamedQueries</code> annotation on your entity type class:</p>\n\n<pre><code>@Entity\n@Table(name=\"bondecommande\")\n@NamedQueries({\n    @NamedQuery(name=\"Bondecommande.findByIdbc\", query=\"select bc from Bondecommande bc where bc.idbc = :idbc\"),\n    @NamedQuery(name=\"...\", query=\"...\"),\n}) \npublic class Bondecommande  implements Serializable {\n\n    ....\n}\n</code></pre>\n\n<p>You use named queries by passing the name of the query to create method:</p>\n\n<pre><code>Query q =em.createNamedQuery(\"Bondecommande.findByIdbc\");\n</code></pre>\n\n<p>I recommend to use <code>TypedQuery&lt;T&gt;</code> not <code>Query</code> if you are using JPA 2.x</p>\n"},{"tags":[],"owner":{"account_id":6607961,"reputation":1,"user_id":5104185,"display_name":"matos"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1439807483,"creation_date":1436556549,"answer_id":31348863,"question_id":20497816,"body_markdown":"    Query q =em.createNamedQuery(&quot;select bc from Bondecommande bc where bc.idbc = :idbc&quot;);\r\n\r\nafter `em.createQuery` here, and good","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<pre><code>Query q =em.createNamedQuery(\"select bc from Bondecommande bc where bc.idbc = :idbc\");\n</code></pre>\n\n<p>after <code>em.createQuery</code> here, and good</p>\n"},{"tags":[],"owner":{"account_id":941886,"reputation":2346,"user_id":969833,"accept_rate":100,"display_name":"Kevin Sadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693394004,"creation_date":1693394004,"answer_id":77007452,"question_id":20497816,"body_markdown":"I had a similar error when I migrated working code from Java 8 to 17 (and also with 11). I was using EclipseLink (2.5).\r\n\r\nThe fix was to upgrade EclipseLink to 2.7 and it worked again.","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<p>I had a similar error when I migrated working code from Java 8 to 17 (and also with 11). I was using EclipseLink (2.5).</p>\n<p>The fix was to upgrade EclipseLink to 2.7 and it worked again.</p>\n"}],"owner":{"account_id":2759715,"reputation":321,"user_id":2376845,"accept_rate":84,"display_name":"Bellil Med Samouel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42514,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20498356,"answer_count":5,"score":5,"last_activity_date":1693394004,"creation_date":1386687731,"question_id":20497816,"body_markdown":"I got the following code\r\n\r\n    @Stateless\r\n    public class BondecomandeDAO {\r\n    \t\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager em;\r\n      \r\n        public Bondecommande findBCbyid(int id)\r\n    \t{\r\n    \t\t Query q =em.createNamedQuery(&quot;select bc from Bondecommande bc where bc.idbc = :idbc&quot;);\r\n    \t\t q.setParameter(&quot;idbc&quot;, id);\r\n    \t\t return  (Bondecommande) q.getResultList().get(0);\r\n    \t }\r\n    }\r\n\r\nand\r\n\r\n    @Entity\r\n    @Table(name=&quot;bondecommande&quot;)\r\n    public class Bondecommande  implements Serializable {\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \t@Column(name=&quot;idbc&quot;)\r\n    \tprivate int idbc;\r\n    \t@Column(name=&quot;devise&quot;)\r\n    \tprivate String devise;\r\n    \t@Column(name=&quot;modepaiement&quot;)\r\n    \tprivate String modepaiement;\r\n    \t@Column(name=&quot;modelivraison&quot;)\r\n    \tprivate String modelivraison;\r\n    \t@Column(name=&quot;delaipaiement&quot;)\r\n    \tprivate int delaipaiement;\r\n    \r\n          ////other attributes , getters and setters \r\n    }\r\n\r\nWhen I try to run the function `findBCbyid(int id)` I get this error \r\n \r\n&gt; java.lang.IllegalArgumentException: Named query not found: select bc from Bondecommande bc where bc.idbc = :idbc  \r\n\r\nAlthough I used this named query in an another project, and it worked, what could be the problem here?","title":"java.lang.IllegalArgumentException: Named query not found:","body":"<p>I got the following code</p>\n\n<pre><code>@Stateless\npublic class BondecomandeDAO {\n\n    @PersistenceContext\n    private EntityManager em;\n\n    public Bondecommande findBCbyid(int id)\n    {\n         Query q =em.createNamedQuery(\"select bc from Bondecommande bc where bc.idbc = :idbc\");\n         q.setParameter(\"idbc\", id);\n         return  (Bondecommande) q.getResultList().get(0);\n     }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Entity\n@Table(name=\"bondecommande\")\npublic class Bondecommande  implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name=\"idbc\")\n    private int idbc;\n    @Column(name=\"devise\")\n    private String devise;\n    @Column(name=\"modepaiement\")\n    private String modepaiement;\n    @Column(name=\"modelivraison\")\n    private String modelivraison;\n    @Column(name=\"delaipaiement\")\n    private int delaipaiement;\n\n      ////other attributes , getters and setters \n}\n</code></pre>\n\n<p>When I try to run the function <code>findBCbyid(int id)</code> I get this error </p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Named query not found: select bc from Bondecommande bc where bc.idbc = :idbc  </p>\n</blockquote>\n\n<p>Although I used this named query in an another project, and it worked, what could be the problem here?</p>\n"},{"tags":["java","aws-sdk","json-query"],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693393902,"creation_date":1693393902,"question_id":77007443,"body_markdown":"i am trying to query json using com.amazonaws jmespath-java from https://mvnrepository.com/open-source/json-query.\r\n\r\nI didn&#39;t find documentation of usage of above library in Java.\r\n\r\nQuerying is possible in javascript,python and i am looking to consume in Java\r\n\r\nCan you help me with documentation ","title":"In Java how to add field to json using com.amazonaws jmespath-java?","body":"<p>i am trying to query json using com.amazonaws jmespath-java from <a href=\"https://mvnrepository.com/open-source/json-query\" rel=\"nofollow noreferrer\">https://mvnrepository.com/open-source/json-query</a>.</p>\n<p>I didn't find documentation of usage of above library in Java.</p>\n<p>Querying is possible in javascript,python and i am looking to consume in Java</p>\n<p>Can you help me with documentation</p>\n"},{"tags":["java","quartz"],"owner":{"account_id":24897634,"reputation":1,"user_id":18768701,"display_name":"Andrew Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693393143,"creation_date":1693392182,"question_id":77007257,"body_markdown":"Setting :- \r\n\r\nquartz.jobStore.misfireThreshold=300000 // 5 minutes\r\n\r\n\r\n```\r\nScheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\r\n        scheduler.start();\r\n\r\n        JobDetail cronJob = newJob().ofType(MyJob.class)\r\n                .storeDurably()\r\n                .withIdentity(&quot;CRON_JOB&quot;)\r\n                .build();\r\n\r\n        CronTrigger cronTrigger = newTrigger()\r\n                .withIdentity(&quot;CRON_TRIGGER&quot;)\r\n                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 * * ? * *&quot;)\r\n                        .withMisfireHandlingInstructionDoNothing())\r\n                .startAt(new Date())\r\n                .forJob(cronJob)\r\n                .build();\r\n\r\n        scheduler.scheduleJob(cronJob, cronTrigger);\r\n\r\n        // don&#39;t shutdown immediately.\r\n        try {\r\n            Thread.sleep(5000);\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        \r\n        scheduler.shutdown();\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI&#39;m expecting 5 minutes worth of non misfired ( within threshold ) jobs to fire when i start the scheduler back up. This doesn&#39;t happen. The instruction withMisfireHandlingInstructionDoNothing otherwise works. ie. it fires a job the next minute after start up, and every minute thereafter. But the threshold is supposed to treat jobs as non misfired jobs, and run them on start up. It doesn&#39;t work","title":"Why does the Quartz misfireThreshold not work?","body":"<p>Setting :-</p>\n<p>quartz.jobStore.misfireThreshold=300000 // 5 minutes</p>\n<pre><code>Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\n        scheduler.start();\n\n        JobDetail cronJob = newJob().ofType(MyJob.class)\n                .storeDurably()\n                .withIdentity(&quot;CRON_JOB&quot;)\n                .build();\n\n        CronTrigger cronTrigger = newTrigger()\n                .withIdentity(&quot;CRON_TRIGGER&quot;)\n                .withSchedule(CronScheduleBuilder.cronSchedule(&quot;0 * * ? * *&quot;)\n                        .withMisfireHandlingInstructionDoNothing())\n                .startAt(new Date())\n                .forJob(cronJob)\n                .build();\n\n        scheduler.scheduleJob(cronJob, cronTrigger);\n\n        // don't shutdown immediately.\n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        \n        scheduler.shutdown();\n\n</code></pre>\n<p>I'm expecting 5 minutes worth of non misfired ( within threshold ) jobs to fire when i start the scheduler back up. This doesn't happen. The instruction withMisfireHandlingInstructionDoNothing otherwise works. ie. it fires a job the next minute after start up, and every minute thereafter. But the threshold is supposed to treat jobs as non misfired jobs, and run them on start up. It doesn't work</p>\n"},{"tags":["java","dll","java-native-interface"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693391637,"post_id":77006468,"comment_id":135753676,"body_markdown":"*cpp file* [Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You [might need to install a 32 bit JDK](https://stackoverflow.com/questions/9757456/java-native-interface-32-bit-dll-on-64-bit-system) to do this but why use native code just to encrypt a string?","body":"<i>cpp file</i> <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. You <a href=\"https://stackoverflow.com/questions/9757456/java-native-interface-32-bit-dll-on-64-bit-system\">might need to install a 32 bit JDK</a> to do this but why use native code just to encrypt a string?"},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693393141,"post_id":77006468,"comment_id":135753993,"body_markdown":"i can&#39;t use 32-bit jdk unfortunately. i have a 64-bit java application and i need to use those dll functions to encrypt data to send over a web service.","body":"i can&#39;t use 32-bit jdk unfortunately. i have a 64-bit java application and i need to use those dll functions to encrypt data to send over a web service."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1693400781,"post_id":77006468,"comment_id":135755691,"body_markdown":"Mixing a 64-bit JVM with a 32-bit DLL will lead to sadness. don&#39;t.","body":"Mixing a 64-bit JVM with a 32-bit DLL will lead to sadness. don&#39;t."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1693401500,"post_id":77006468,"comment_id":135755864,"body_markdown":"This is also **not** how you are supposed to use a COM DLL. Normally you would use [CoCreateInstance](https://learn.microsoft.com/en-us/windows/win32/learnwin32/creating-an-object-in-com) to summon an instance of `IKPassCrypt` using its GUID and calling methods on the returned object handle.","body":"This is also <b>not</b> how you are supposed to use a COM DLL. Normally you would use <a href=\"https://learn.microsoft.com/en-us/windows/win32/learnwin32/creating-an-object-in-com\" rel=\"nofollow noreferrer\">CoCreateInstance</a> to summon an instance of <code>IKPassCrypt</code> using its GUID and calling methods on the returned object handle."},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693403554,"post_id":77006468,"comment_id":135756362,"body_markdown":"thank you very much for the feedback! @Botje","body":"thank you very much for the feedback! @Botje"},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693404013,"post_id":77006468,"comment_id":135756476,"body_markdown":"could I ask you kindly, if you can give me an example of how to use CoCreateInstance?\nthank you very much.","body":"could I ask you kindly, if you can give me an example of how to use CoCreateInstance? thank you very much."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1693404568,"post_id":77006468,"comment_id":135756626,"body_markdown":"I linked you to the MS introduction on it.","body":"I linked you to the MS introduction on it."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693404856,"post_id":77006468,"comment_id":135756711,"body_markdown":"What @Botje is saying is correct. But don&#39;t forget that a previous comment was advising you against using a 32 bit dll at all. You&#39;d probably be better, *if you&#39;re really forced to use it*, to wrap it in a small C# app that operates on stdin input and outputs results to stdout","body":"What @Botje is saying is correct. But don&#39;t forget that a previous comment was advising you against using a 32 bit dll at all. You&#39;d probably be better, <i>if you&#39;re really forced to use it</i>, to wrap it in a small C# app that operates on stdin input and outputs results to stdout"},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693421949,"post_id":77006468,"comment_id":135760413,"body_markdown":"unfortunately I am forced to use that 32bit dll","body":"unfortunately I am forced to use that 32bit dll"},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693422009,"post_id":77006468,"comment_id":135760429,"body_markdown":"ho provato ad utilizzare il CoInitialize ma ricevo l&#39;errore: &#39;REGDB_E_CLASSNOTREG Class not registered&#39;","body":"ho provato ad utilizzare il CoInitialize ma ricevo l&#39;errore: &#39;REGDB_E_CLASSNOTREG Class not registered&#39;"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1693423675,"post_id":77006468,"comment_id":135760742,"body_markdown":"&quot;This error code can also indicate that the CLSID does not correspond to any component registered on the user&#39;s computer.&quot; This is the bit where you wield regsvr32.exe","body":"&quot;This error code can also indicate that the CLSID does not correspond to any component registered on the user&#39;s computer.&quot; This is the bit where you wield regsvr32.exe"},{"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"score":0,"creation_date":1693473109,"post_id":77006468,"comment_id":135766690,"body_markdown":"I tried to register the dll with the regsvr32.exe &quot;path dll&quot; command, but I still receive the same error","body":"I tried to register the dll with the regsvr32.exe &quot;path dll&quot; command, but I still receive the same error"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1693474390,"post_id":77006468,"comment_id":135766958,"body_markdown":"Suggest you ask a new question about using that DLL from a native application first.","body":"Suggest you ask a new question about using that DLL from a native application first."}],"owner":{"account_id":13380501,"reputation":3,"user_id":9655938,"display_name":"user9655938"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693393024,"creation_date":1693386054,"question_id":77006468,"body_markdown":"I should make use of com methods present in a 32-bit dll, on a 64-bit Java application.\r\n\r\n[Image 1](https://i.stack.imgur.com/XJ0Pv.png)[image 2](https://i.stack.imgur.com/HCD4Z.png)\r\n\r\n\r\nMy idea was to use JNI in order to use the dll methods.\r\n\r\nI then tried to create a java class with native methods from which I then created the .h file to be used in C++.\r\n[Java class with native method](https://i.stack.imgur.com/dsXu5.png)\r\n[cpp file](https://i.stack.imgur.com/3rYzK.png).\r\n\r\n    #include &lt;jni.h&gt;\r\n    \r\n    #include &quot;pfr_KCryptDll.h&quot;\r\n    #include &lt;windows.h&gt;\r\n    #include &lt;tchar.h&gt;\r\n    #import &quot;KCrypt.dll&quot; raw_interfaces_only no_namespace\r\n    \r\n    //typedef int (__GPESTDCALL *pFc_Transaction) (int, int);\r\n    typedef jstring(CALLBACK* pFc_Transaction) (jstring, jstring);\r\n    \r\n    \r\n    JNIEXPORT jstring JNICALL Java_pfr_KCryptDll_Encrypt (JNIEnv* env, jclass, jstring text, jstring key) {\r\n    \r\n        pFc_Transaction lpfnDllFunc;    \r\n        HRESULT hrReturnVal = NULL;\r\n        HINSTANCE dllHandle = NULL;\r\n        jstring result = NULL;\r\n        \r\n     \r\n        \r\n       \r\n        dllHandle = LoadLibrary(L&quot;KCrypt.dll&quot;);\r\n    \r\n        if (NULL != dllHandle)\r\n        {\r\n           \r\n            lpfnDllFunc = (pFc_Transaction)GetProcAddress(dllHandle, &quot;Encrypt&quot;);\r\n            if (NULL != lpfnDllFunc)\r\n            {\r\n                \r\n                result = lpfnDllFunc(text, key);\r\n            }\r\n            else\r\n            {\r\n               \r\n               HRESULT hrReturnValErr = ERROR_DELAY_LOAD_FAILED;\r\n               return text;\r\n            }\r\n        }\r\n        else\r\n        {\r\n            HRESULT hrReturnValErr = ERROR_DELAY_LOAD_FAILED;\r\n            return key;\r\n        }\r\n    \r\n    \r\n        FreeLibrary(dllHandle);\r\n        return result;\r\n        }\r\n        \r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    typedef jstring(CALLBACK* pfr_test) (jstring);\r\n    \r\n    JNIEXPORT jstring JNICALL Java_pfr_KCryptDll_test(JNIEnv*, jclass, jstring input) {\r\n    \r\n        return input;\r\n    }\r\n    \r\n    int main(int argc, TCHAR* argv[]) {\r\n    \r\n    }\r\n\r\nI&#39;m definitely doing something wrong, partly because I&#39;m not that knowledgeable about these things. Could you by any chance help me and especially tell me if it is possible to use dll com methods from java.\r\n\r\nThank you very much.","title":"How to use COM Method from DLL in Java","body":"<p>I should make use of com methods present in a 32-bit dll, on a 64-bit Java application.</p>\n<p><a href=\"https://i.stack.imgur.com/XJ0Pv.png\" rel=\"nofollow noreferrer\">Image 1</a><a href=\"https://i.stack.imgur.com/HCD4Z.png\" rel=\"nofollow noreferrer\">image 2</a></p>\n<p>My idea was to use JNI in order to use the dll methods.</p>\n<p>I then tried to create a java class with native methods from which I then created the .h file to be used in C++.\n<a href=\"https://i.stack.imgur.com/dsXu5.png\" rel=\"nofollow noreferrer\">Java class with native method</a>\n<a href=\"https://i.stack.imgur.com/3rYzK.png\" rel=\"nofollow noreferrer\">cpp file</a>.</p>\n<pre><code>#include &lt;jni.h&gt;\n\n#include &quot;pfr_KCryptDll.h&quot;\n#include &lt;windows.h&gt;\n#include &lt;tchar.h&gt;\n#import &quot;KCrypt.dll&quot; raw_interfaces_only no_namespace\n\n//typedef int (__GPESTDCALL *pFc_Transaction) (int, int);\ntypedef jstring(CALLBACK* pFc_Transaction) (jstring, jstring);\n\n\nJNIEXPORT jstring JNICALL Java_pfr_KCryptDll_Encrypt (JNIEnv* env, jclass, jstring text, jstring key) {\n\n    pFc_Transaction lpfnDllFunc;    \n    HRESULT hrReturnVal = NULL;\n    HINSTANCE dllHandle = NULL;\n    jstring result = NULL;\n    \n \n    \n   \n    dllHandle = LoadLibrary(L&quot;KCrypt.dll&quot;);\n\n    if (NULL != dllHandle)\n    {\n       \n        lpfnDllFunc = (pFc_Transaction)GetProcAddress(dllHandle, &quot;Encrypt&quot;);\n        if (NULL != lpfnDllFunc)\n        {\n            \n            result = lpfnDllFunc(text, key);\n        }\n        else\n        {\n           \n           HRESULT hrReturnValErr = ERROR_DELAY_LOAD_FAILED;\n           return text;\n        }\n    }\n    else\n    {\n        HRESULT hrReturnValErr = ERROR_DELAY_LOAD_FAILED;\n        return key;\n    }\n\n\n    FreeLibrary(dllHandle);\n    return result;\n    }\n    \n\n\n}\n\n\n\ntypedef jstring(CALLBACK* pfr_test) (jstring);\n\nJNIEXPORT jstring JNICALL Java_pfr_KCryptDll_test(JNIEnv*, jclass, jstring input) {\n\n    return input;\n}\n\nint main(int argc, TCHAR* argv[]) {\n\n}\n</code></pre>\n<p>I'm definitely doing something wrong, partly because I'm not that knowledgeable about these things. Could you by any chance help me and especially tell me if it is possible to use dll com methods from java.</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","kotlin","geolocation","latitude-longitude"],"comments":[{"owner":{"account_id":14244190,"reputation":205,"user_id":10289760,"display_name":"X-Byte Technolabs pvt. ltd."},"score":0,"creation_date":1554892038,"post_id":55610188,"comment_id":97914957,"body_markdown":"**val locality = addresses[0].locality** is your cityName in Address","body":"<b>val locality = addresses[0].locality</b> is your cityName in Address"},{"owner":{"account_id":13391272,"reputation":348,"user_id":9663575,"display_name":"Sandeep Insan"},"score":0,"creation_date":1554892189,"post_id":55610188,"comment_id":97915050,"body_markdown":"https://stackoverflow.com/questions/22323974/how-to-get-city-name-by-latitude-longitude-in-android\ncheck it out once","body":"<a href=\"https://stackoverflow.com/questions/22323974/how-to-get-city-name-by-latitude-longitude-in-android\" title=\"how to get city name by latitude longitude in android\">stackoverflow.com/questions/22323974/&hellip;</a> check it out once"},{"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"score":0,"creation_date":1554892197,"post_id":55610188,"comment_id":97915055,"body_markdown":"@X-ByteTechnolabspvt.ltd. Maybe for some addresses it is. In Leeds and Wakefield, `locality` returns a small suburb or null.","body":"@X-ByteTechnolabspvt.ltd. Maybe for some addresses it is. In Leeds and Wakefield, <code>locality</code> returns a small suburb or null."},{"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"score":0,"creation_date":1554892281,"post_id":55610188,"comment_id":97915093,"body_markdown":"@SandeepInsan I already checked that out before posting. I even mentioned it in my question. All the answers to that question do not work for me. The problem is there are too many variations to how the addresses are stored and too many edge cases to code for and I cannot test for all possible edge cases because there are too many cities and possible locations.","body":"@SandeepInsan I already checked that out before posting. I even mentioned it in my question. All the answers to that question do not work for me. The problem is there are too many variations to how the addresses are stored and too many edge cases to code for and I cannot test for all possible edge cases because there are too many cities and possible locations."}],"answers":[{"comments":[{"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"score":0,"creation_date":1554892821,"post_id":55610438,"comment_id":97915400,"body_markdown":"addresses.get(0).getAddressLine(0) contains a lot more than just the city name. With `53.801f` and `-1.549f` it returns `Portland Place, 5 Calverley St, Leeds LS1 3DA, UK`, and sometimes the street name is abbreviated but not in `thoroughfare` so I can&#39;t simply remove all the parts of the address that aren&#39;t the city to be left with the city.","body":"addresses.get(0).getAddressLine(0) contains a lot more than just the city name. With <code>53.801f</code> and <code>-1.549f</code> it returns <code>Portland Place, 5 Calverley St, Leeds LS1 3DA, UK</code>, and sometimes the street name is abbreviated but not in <code>thoroughfare</code> so I can&#39;t simply remove all the parts of the address that aren&#39;t the city to be left with the city."}],"tags":[],"owner":{"account_id":10509350,"reputation":73,"user_id":7745543,"display_name":"navya sree"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554894072,"creation_date":1554892607,"answer_id":55610438,"question_id":55610188,"body_markdown":"\r\n\r\n    Geocoder geocoder = new Geocoder(this, Locale.getDefault());\r\n    List addresses = geocoder.getFromLocation(MyLat, MyLong, 1); \r\n    String cityName = addresses.get(0).getAddressLine(0); \r\n    String stateName = addresses.get(0).getAddressLine(1); \r\n    String countryName = addresses.get(0).getAddressLine(2);","title":"How can I get city name from Geocoder?","body":"<pre><code>Geocoder geocoder = new Geocoder(this, Locale.getDefault());\nList addresses = geocoder.getFromLocation(MyLat, MyLong, 1); \nString cityName = addresses.get(0).getAddressLine(0); \nString stateName = addresses.get(0).getAddressLine(1); \nString countryName = addresses.get(0).getAddressLine(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28335622,"reputation":1,"user_id":21669212,"display_name":"Anil Pandey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693392955,"creation_date":1693392955,"answer_id":77007350,"question_id":55610188,"body_markdown":"```\r\nGeocoder geocoder = new Geocoder(this, Locale.getDefault());\r\nList addresses = geocoder.getFromLocation(MyLat, MyLong, 1); \r\nString cityName = addresses.get(0).getLocality();\r\n","title":"How can I get city name from Geocoder?","body":"<pre><code>Geocoder geocoder = new Geocoder(this, Locale.getDefault());\nList addresses = geocoder.getFromLocation(MyLat, MyLong, 1); \nString cityName = addresses.get(0).getLocality();\n</code></pre>\n"}],"owner":{"account_id":2856521,"reputation":7352,"user_id":2452680,"accept_rate":68,"display_name":"Dan Bray"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693392955,"creation_date":1554891833,"question_id":55610188,"body_markdown":"In Android (either Java or Kotlin is fine) how can I get the city name from the longitude and latitude?\r\n\r\nBelow I&#39;ve written a function to display address data. I would like to modify it so that it returns the city name:\r\n\r\n    private fun getCity(context: Context, latitude: Float, longitude: Float) {\r\n        val gcd = Geocoder(context, Locale.getDefault())\r\n        val addresses = gcd.getFromLocation(latitude.toDouble(), longitude.toDouble(), 1)\r\n        Log.d(&quot;-----&quot;, &quot;-----&quot;)\r\n        Log.d(&quot;latitude&quot;, latitude.toString())\r\n        Log.d(&quot;longitude&quot;, longitude.toString())\r\n        if (addresses.size &gt; 0) {\r\n            val locality = addresses[0].locality\r\n            if (locality != null) {\r\n                Log.d(&quot;locality&quot;, locality.toString())\r\n            }\r\n            val adminArea = addresses[0].adminArea\r\n            if (adminArea != null) {\r\n                Log.d(&quot;adminArea&quot;, adminArea.toString())\r\n            }\r\n            val subAdminArea = addresses[0].subAdminArea\r\n            if (subAdminArea != null) {\r\n                Log.d(&quot;subAdminArea&quot;, subAdminArea.toString())\r\n            }\r\n            val subLocality = addresses[0].subLocality\r\n            if (subLocality != null) {\r\n                Log.d(&quot;subLocality&quot;, subLocality.toString())\r\n            }\r\n            val thoroughfare = addresses[0].thoroughfare\r\n            if (thoroughfare != null) {\r\n                Log.d(&quot;thoroughfare&quot;, thoroughfare.toString())\r\n            }\r\n            val subThoroughfare = addresses[0].subThoroughfare\r\n            if (subThoroughfare != null) {\r\n                Log.d(&quot;subThoroughfare&quot;, subThoroughfare.toString())\r\n            }\r\n            val extras = addresses[0].extras\r\n            if (extras != null) {\r\n                Log.d(&quot;extras&quot;, extras.toString())\r\n            }\r\n            val premises = addresses[0].premises\r\n            if (premises != null) {\r\n                Log.d(&quot;premises&quot;, premises.toString())\r\n            }\r\n            val postalCode = addresses[0].postalCode\r\n            if (postalCode != null) {\r\n                Log.d(&quot;postalCode&quot;, postalCode.toString())\r\n            }\r\n            val featureName = addresses[0].featureName\r\n            if (featureName != null) {\r\n                Log.d(&quot;featureName&quot;, featureName.toString())\r\n            }\r\n            val getAddressLine0 = addresses[0].getAddressLine(0)\r\n            if (getAddressLine0 != null)\r\n                Log.d(&quot;getAddressLine0&quot;, getAddressLine0.toString())\r\n            for (i in 0 until addresses[0].maxAddressLineIndex) {\r\n                Log.d(&quot;getAddressLine($i)&quot;, addresses[0].getAddressLine(i).toString())\r\n            }\r\n        }\r\n    }\r\n\r\nIf I run `getCity(context, 53.7f, -1.506f)`, `featureName` contains the correct city name, Wakefield.\r\n\r\nIf I run `getCity(context, 53.801f, -1.549f)`, `featureName` now contains the street name, Portland Place. `getAddressLine(0)` return Portland Place, 5 Calverley St, Leeds LS1 3DA, UK, which contains the correct city, Leeds. I could remove the street name, post code, and house number from getAddressLine(0) to be left with the city. Unfortunately, there are edge cases where that won&#39;t work because sometimes the street name contains abbreviations in `getAddressLine(0)` but not in `thoroughfare`.\r\n\r\nThis question [How to Get City Name by Latitude &amp;Longitude in android?][1] has answers that are completely different because the addresses in different countries are stored in a different way.\r\n\r\nThere seem to be quite a few variations and edge cases I need to code for just to get the city name for 2 neighbouring cities in the UK. How can I get the correct city name from any latitude or longitude world wide? There are way too many cities in the world to test my code against and code for, and there may be many edge cases and variations that I am unaware even exist.\r\n\r\n**Edit**\r\n\r\nThe function below correctly gets the city in the UK. Unfortunately, it fails in the USA and India and probably any country that has states.\r\n\r\n    private fun getCity(context: Context, latitude: Float, longitude: Float): String {\r\n        val gcd = Geocoder(context, Locale.getDefault())\r\n        val addresses = gcd.getFromLocation(latitude.toDouble(), longitude.toDouble(), 1)\r\n        if (addresses.size &gt; 0) {\r\n            val locality = addresses[0].locality\r\n            val getAddressLine0 = addresses[0].getAddressLine(0)\r\n            if (getAddressLine0 != null) {\r\n                val strs = getAddressLine0.split(&quot;,&quot;).toTypedArray()\r\n                if (strs.count() == 1) {\r\n                    if (locality != null &amp;&amp; locality != &quot;&quot;) {\r\n                        return &quot;$locality, ${strs[0]}&quot;\r\n                    }\r\n                    return strs[0]\r\n                }\r\n                for (str in strs) {\r\n                    var tempStr = str.replace(postalCode, &quot;&quot;)\r\n                    if (tempStr != str) {\r\n                        tempStr = tempStr.trim()\r\n                        if (locality != null &amp;&amp; locality != &quot;&quot; &amp;&amp; locality != tempStr) {\r\n                            return &quot;$locality, $tempStr&quot;\r\n                        }\r\n                        return tempStr\r\n                    }\r\n                }\r\n            }\r\n            if (locality != null) {\r\n                return locality\r\n            }\r\n        }\r\n        return &quot;&quot;\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/22323974/how-to-get-city-name-by-latitude-longitude-in-android","title":"How can I get city name from Geocoder?","body":"<p>In Android (either Java or Kotlin is fine) how can I get the city name from the longitude and latitude?</p>\n\n<p>Below I've written a function to display address data. I would like to modify it so that it returns the city name:</p>\n\n<pre><code>private fun getCity(context: Context, latitude: Float, longitude: Float) {\n    val gcd = Geocoder(context, Locale.getDefault())\n    val addresses = gcd.getFromLocation(latitude.toDouble(), longitude.toDouble(), 1)\n    Log.d(\"-----\", \"-----\")\n    Log.d(\"latitude\", latitude.toString())\n    Log.d(\"longitude\", longitude.toString())\n    if (addresses.size &gt; 0) {\n        val locality = addresses[0].locality\n        if (locality != null) {\n            Log.d(\"locality\", locality.toString())\n        }\n        val adminArea = addresses[0].adminArea\n        if (adminArea != null) {\n            Log.d(\"adminArea\", adminArea.toString())\n        }\n        val subAdminArea = addresses[0].subAdminArea\n        if (subAdminArea != null) {\n            Log.d(\"subAdminArea\", subAdminArea.toString())\n        }\n        val subLocality = addresses[0].subLocality\n        if (subLocality != null) {\n            Log.d(\"subLocality\", subLocality.toString())\n        }\n        val thoroughfare = addresses[0].thoroughfare\n        if (thoroughfare != null) {\n            Log.d(\"thoroughfare\", thoroughfare.toString())\n        }\n        val subThoroughfare = addresses[0].subThoroughfare\n        if (subThoroughfare != null) {\n            Log.d(\"subThoroughfare\", subThoroughfare.toString())\n        }\n        val extras = addresses[0].extras\n        if (extras != null) {\n            Log.d(\"extras\", extras.toString())\n        }\n        val premises = addresses[0].premises\n        if (premises != null) {\n            Log.d(\"premises\", premises.toString())\n        }\n        val postalCode = addresses[0].postalCode\n        if (postalCode != null) {\n            Log.d(\"postalCode\", postalCode.toString())\n        }\n        val featureName = addresses[0].featureName\n        if (featureName != null) {\n            Log.d(\"featureName\", featureName.toString())\n        }\n        val getAddressLine0 = addresses[0].getAddressLine(0)\n        if (getAddressLine0 != null)\n            Log.d(\"getAddressLine0\", getAddressLine0.toString())\n        for (i in 0 until addresses[0].maxAddressLineIndex) {\n            Log.d(\"getAddressLine($i)\", addresses[0].getAddressLine(i).toString())\n        }\n    }\n}\n</code></pre>\n\n<p>If I run <code>getCity(context, 53.7f, -1.506f)</code>, <code>featureName</code> contains the correct city name, Wakefield.</p>\n\n<p>If I run <code>getCity(context, 53.801f, -1.549f)</code>, <code>featureName</code> now contains the street name, Portland Place. <code>getAddressLine(0)</code> return Portland Place, 5 Calverley St, Leeds LS1 3DA, UK, which contains the correct city, Leeds. I could remove the street name, post code, and house number from getAddressLine(0) to be left with the city. Unfortunately, there are edge cases where that won't work because sometimes the street name contains abbreviations in <code>getAddressLine(0)</code> but not in <code>thoroughfare</code>.</p>\n\n<p>This question <a href=\"https://stackoverflow.com/questions/22323974/how-to-get-city-name-by-latitude-longitude-in-android\">How to Get City Name by Latitude &amp;Longitude in android?</a> has answers that are completely different because the addresses in different countries are stored in a different way.</p>\n\n<p>There seem to be quite a few variations and edge cases I need to code for just to get the city name for 2 neighbouring cities in the UK. How can I get the correct city name from any latitude or longitude world wide? There are way too many cities in the world to test my code against and code for, and there may be many edge cases and variations that I am unaware even exist.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>The function below correctly gets the city in the UK. Unfortunately, it fails in the USA and India and probably any country that has states.</p>\n\n<pre><code>private fun getCity(context: Context, latitude: Float, longitude: Float): String {\n    val gcd = Geocoder(context, Locale.getDefault())\n    val addresses = gcd.getFromLocation(latitude.toDouble(), longitude.toDouble(), 1)\n    if (addresses.size &gt; 0) {\n        val locality = addresses[0].locality\n        val getAddressLine0 = addresses[0].getAddressLine(0)\n        if (getAddressLine0 != null) {\n            val strs = getAddressLine0.split(\",\").toTypedArray()\n            if (strs.count() == 1) {\n                if (locality != null &amp;&amp; locality != \"\") {\n                    return \"$locality, ${strs[0]}\"\n                }\n                return strs[0]\n            }\n            for (str in strs) {\n                var tempStr = str.replace(postalCode, \"\")\n                if (tempStr != str) {\n                    tempStr = tempStr.trim()\n                    if (locality != null &amp;&amp; locality != \"\" &amp;&amp; locality != tempStr) {\n                        return \"$locality, $tempStr\"\n                    }\n                    return tempStr\n                }\n            }\n        }\n        if (locality != null) {\n            return locality\n        }\n    }\n    return \"\"\n}\n</code></pre>\n"},{"tags":["java","vaadin","vaadin14"],"answers":[{"comments":[{"owner":{"account_id":26269281,"reputation":3,"user_id":19939412,"display_name":"Alex V."},"score":0,"creation_date":1662554740,"post_id":73633890,"comment_id":130032361,"body_markdown":"Thanks, but when I write \n`@Route(&quot;order/:orderId&quot;) \npublic class FullOrderView extends AppLayout implements BeforeEnterObserver { \n  private Optional&lt;String&gt; orderId; \n\n  @Override public void beforeEnter(BeforeEnterEvent event) { \n    orderId = event.getRouteParameters().get(&quot;orderId&quot;); \n} `\n\nI get an error \n` No route found for the given navigation target &#39;com.example.crudwithvaadin.FullOrderView&#39; and parameters &#39;{}&#39; ` \n\nWhat am I doing wrong?","body":"Thanks, but when I write  <code>@Route(&quot;order&#47;:orderId&quot;)  public class FullOrderView extends AppLayout implements BeforeEnterObserver {    private Optional&lt;String&gt; orderId;     @Override public void beforeEnter(BeforeEnterEvent event) {      orderId = event.getRouteParameters().get(&quot;orderId&quot;);  } </code>  I get an error  ` No route found for the given navigation target &#39;com.example.crudwithvaadin.FullOrderView&#39; and parameters &#39;{}&#39; `   What am I doing wrong?"},{"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"score":1,"creation_date":1662557296,"post_id":73633890,"comment_id":130033412,"body_markdown":"The orderId is required, opening without it, isn&#39;t possible. If this is an optional param :orderId? has to be used.","body":"The orderId is required, opening without it, isn&#39;t possible. If this is an optional param :orderId? has to be used."},{"owner":{"account_id":26269281,"reputation":3,"user_id":19939412,"display_name":"Alex V."},"score":0,"creation_date":1662633454,"post_id":73633890,"comment_id":130053181,"body_markdown":"Thanks, you helped me. I implemented routing using the HasUrlParameter(). This is the only option that works for me. \n`@Route(&quot;order&quot;)\npublic class FullOrderView extends AppLayout implements HasUrlParameter&lt;String&gt; {\n  @Override\n  public void setParameter(BeforeEvent event, @OptionalParameter String parameter) {`","body":"Thanks, you helped me. I implemented routing using the HasUrlParameter(). This is the only option that works for me.  <code>@Route(&quot;order&quot;) public class FullOrderView extends AppLayout implements HasUrlParameter&lt;String&gt; {   @Override   public void setParameter(BeforeEvent event, @OptionalParameter String parameter) {</code>"}],"tags":[],"owner":{"account_id":1831742,"reputation":1989,"user_id":1662997,"display_name":"Knoobie"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662546299,"creation_date":1662546299,"answer_id":73633890,"question_id":73633336,"body_markdown":"You are combining different Router features. The usage of Route template parameter (:orderId) has to be used in conjunction with `BeforeEnterObserver` instead of `HasUrlParamter`.","title":"Pass the parameter in Vaadin 14 between two routes","body":"<p>You are combining different Router features. The usage of Route template parameter (:orderId) has to be used in conjunction with <code>BeforeEnterObserver</code> instead of <code>HasUrlParamter</code>.</p>\n"}],"owner":{"account_id":26269281,"reputation":3,"user_id":19939412,"display_name":"Alex V."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73633890,"answer_count":1,"score":0,"last_activity_date":1693392503,"creation_date":1662543992,"question_id":73633336,"body_markdown":"Help me, please, to make navigating between views in vaadin application. \r\nIn OrdersView class I create a link like \r\n\r\n    UI.getCurrent().navigate(FullOrderView.class, new RouteParameters(&quot;orderId&quot;, &quot;123&quot;));\r\n\r\nIn FullOrderView class I specify a route like this\r\n\r\n    @Route(&quot;order/:orderId&quot;)\r\n    public class FullOrderView extends AppLayout implements HasUrlParameter&lt;String&gt;{\r\n    \t@Override\r\n    \tpublic void setParameter(BeforeEvent event, String parameter) {\r\n    \t}\r\nbut I get an error\r\n\r\n    java.lang.IllegalArgumentException: Navigation target &#39;com.example.crudwithvaadin.FullOrderView&#39; requires a parameter.\r\n\r\nIf I remove a &quot;implements HasUrlParameter&quot; and setParameter() I get an error\r\n\r\n    No route found for the given navigation target &#39;com.example.crudwithvaadin.FullOrderView&#39; and parameters &#39;{}&#39;\r\n\r\nHow do I fix the error and pass the parameter correctly?\r\nThanks! ","title":"Pass the parameter in Vaadin 14 between two routes","body":"<p>Help me, please, to make navigating between views in vaadin application.\nIn OrdersView class I create a link like</p>\n<pre><code>UI.getCurrent().navigate(FullOrderView.class, new RouteParameters(&quot;orderId&quot;, &quot;123&quot;));\n</code></pre>\n<p>In FullOrderView class I specify a route like this</p>\n<pre><code>@Route(&quot;order/:orderId&quot;)\npublic class FullOrderView extends AppLayout implements HasUrlParameter&lt;String&gt;{\n    @Override\n    public void setParameter(BeforeEvent event, String parameter) {\n    }\n</code></pre>\n<p>but I get an error</p>\n<pre><code>java.lang.IllegalArgumentException: Navigation target 'com.example.crudwithvaadin.FullOrderView' requires a parameter.\n</code></pre>\n<p>If I remove a &quot;implements HasUrlParameter&quot; and setParameter() I get an error</p>\n<pre><code>No route found for the given navigation target 'com.example.crudwithvaadin.FullOrderView' and parameters '{}'\n</code></pre>\n<p>How do I fix the error and pass the parameter correctly?\nThanks!</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693399817,"post_id":77007126,"comment_id":135755458,"body_markdown":"First does your build work from root level (project?)... simply by using `mvn package`?","body":"First does your build work from root level (project?)... simply by using <code>mvn package</code>?"},{"owner":{"account_id":29302657,"reputation":1,"user_id":22450491,"display_name":"Alex"},"score":0,"creation_date":1693445807,"post_id":77007126,"comment_id":135763272,"body_markdown":"yes, build from root works fine.","body":"yes, build from root works fine."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1693502893,"post_id":77007126,"comment_id":135773212,"body_markdown":"If you like to build parts you have to initially do an `mvn clean install` from the root level afterwards you can do the things you have shown... (You migh try to use Apache Maven 4 alpha 7) which has a lot of improvements related to reactor...","body":"If you like to build parts you have to initially do an <code>mvn clean install</code> from the root level afterwards you can do the things you have shown... (You migh try to use Apache Maven 4 alpha 7) which has a lot of improvements related to reactor..."}],"owner":{"account_id":29302657,"reputation":1,"user_id":22450491,"display_name":"Alex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693391992,"creation_date":1693390999,"question_id":77007126,"body_markdown":"here is my project module tree:\r\n\r\n```\r\nproject:\r\n    module A\r\n       module A1\r\n       module A2\r\n    module B\r\n       module B1\r\n       module B2\r\n```\r\n\r\nI know how to build module A, for example `mvnw clean package -pl A -am`\r\n\r\nbut try to build module A1 using `mvnw clean package -pl A1 -am` it will failed.\r\n\r\nI also tried `mvnw clean package -pl A/A1 -am` it runs, but build all A including A1 &amp; A2.\r\n\r\nis it possible build A1 and its related module only?","title":"How does mvn package single grandchild modules?","body":"<p>here is my project module tree:</p>\n<pre><code>project:\n    module A\n       module A1\n       module A2\n    module B\n       module B1\n       module B2\n</code></pre>\n<p>I know how to build module A, for example <code>mvnw clean package -pl A -am</code></p>\n<p>but try to build module A1 using <code>mvnw clean package -pl A1 -am</code> it will failed.</p>\n<p>I also tried <code>mvnw clean package -pl A/A1 -am</code> it runs, but build all A including A1 &amp; A2.</p>\n<p>is it possible build A1 and its related module only?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam","apache-beam-io"],"comments":[{"owner":{"account_id":23157436,"reputation":2052,"user_id":17258510,"display_name":"kiran mathew"},"score":1,"creation_date":1693750756,"post_id":77007134,"comment_id":135798855,"body_markdown":"Have you gone through  these [link1](https://cloud.google.com/dataflow/docs/guides/logging#LogControls),[link2](https://beam.apache.org/releases/javadoc/2.41.0/org/apache/beam/runners/dataflow/options/DataflowWorkerLoggingOptions.html) and [link3](https://cloud.google.com/knowledge/kb/disabling-fine-graining-dataflow-worker-logs-000004272)?.","body":"Have you gone through  these <a href=\"https://cloud.google.com/dataflow/docs/guides/logging#LogControls\" rel=\"nofollow noreferrer\">link1</a>,<a href=\"https://beam.apache.org/releases/javadoc/2.41.0/org/apache/beam/runners/dataflow/options/DataflowWorkerLoggingOptions.html\" rel=\"nofollow noreferrer\">link2</a> and <a href=\"https://cloud.google.com/knowledge/kb/disabling-fine-graining-dataflow-worker-logs-000004272\" rel=\"nofollow noreferrer\">link3</a>?."}],"owner":{"account_id":4306523,"reputation":7811,"user_id":3518757,"accept_rate":73,"display_name":"oikonomiyaki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693391792,"creation_date":1693391066,"question_id":77007134,"body_markdown":"I have a Dataflow job written in Java (Beam version 2.43.0, Java 11), which reads messages from Pubsub that contains path to Cloud Storage files.\r\n\r\nDue to high volume of messages, especially during start of the job, Dataflow logging complains with:\r\n```\r\nThrottling logger worker. It used up its 30s quota for logs in only 24.528s\r\nThere was a high rate of log messages from the job and some of them were not sent to Cloud Logging.\r\n```\r\n\r\n[![Throttling logger worker][1]][1]\r\n\r\nThe above is caused by below:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThese logs came from a particular function, I suspect `FileIO.matchAll()`, which automatically writes a matched file path to Dataflow logging.\r\n\r\nHere is the piece of Beam code (`gcsFilePath` is `PCollection&lt;String&gt;`)\r\n\r\n```\r\ngcsFilePath\r\n  .apply(FileIO.matchAll())\r\n  .apply(FileIO.readMatches())\r\n```\r\n\r\nIs there a way to disable this, without changing the current Cloud Logging settings (bec I need the logging for other purposes)?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lfJFG.png\r\n  [2]: https://i.stack.imgur.com/nwqTJ.png","title":"Disable Dataflow/Beam logging on FileIO.matchAll()","body":"<p>I have a Dataflow job written in Java (Beam version 2.43.0, Java 11), which reads messages from Pubsub that contains path to Cloud Storage files.</p>\n<p>Due to high volume of messages, especially during start of the job, Dataflow logging complains with:</p>\n<pre><code>Throttling logger worker. It used up its 30s quota for logs in only 24.528s\nThere was a high rate of log messages from the job and some of them were not sent to Cloud Logging.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/lfJFG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfJFG.png\" alt=\"Throttling logger worker\" /></a></p>\n<p>The above is caused by below:</p>\n<p><a href=\"https://i.stack.imgur.com/nwqTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nwqTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>These logs came from a particular function, I suspect <code>FileIO.matchAll()</code>, which automatically writes a matched file path to Dataflow logging.</p>\n<p>Here is the piece of Beam code (<code>gcsFilePath</code> is <code>PCollection&lt;String&gt;</code>)</p>\n<pre><code>gcsFilePath\n  .apply(FileIO.matchAll())\n  .apply(FileIO.readMatches())\n</code></pre>\n<p>Is there a way to disable this, without changing the current Cloud Logging settings (bec I need the logging for other purposes)?</p>\n"},{"tags":["java","minikube","minio","druid"],"comments":[{"owner":{"account_id":22899239,"reputation":171,"user_id":17038259,"display_name":"Sergio Ferragut"},"score":0,"creation_date":1695166232,"post_id":77007209,"comment_id":135986983,"body_markdown":"Have you set the javaOptsArray property in the middle manager config? Middle Manager will spawn Peon JVMs for individual tasks. The javaOptsArray specifies heap and off-heap memory available to each Peon. Some docs: https://druid.apache.org/docs/latest/configuration/#middlemanager-configuration","body":"Have you set the javaOptsArray property in the middle manager config? Middle Manager will spawn Peon JVMs for individual tasks. The javaOptsArray specifies heap and off-heap memory available to each Peon. Some docs: <a href=\"https://druid.apache.org/docs/latest/configuration/#middlemanager-configuration\" rel=\"nofollow noreferrer\">druid.apache.org/docs/latest/configuration/&hellip;</a>"},{"owner":{"account_id":22899239,"reputation":171,"user_id":17038259,"display_name":"Sergio Ferragut"},"score":0,"creation_date":1695166374,"post_id":77007209,"comment_id":135986995,"body_markdown":"Also, although not exactly the same because this uses helm charts, here is a minikube deployment of Druid blog: https://imply.io/blog/apache-druid-for-preppers/","body":"Also, although not exactly the same because this uses helm charts, here is a minikube deployment of Druid blog: <a href=\"https://imply.io/blog/apache-druid-for-preppers/\" rel=\"nofollow noreferrer\">imply.io/blog/apache-druid-for-preppers</a>"}],"owner":{"account_id":20302807,"reputation":97,"user_id":14891818,"display_name":"Alexy Pulivelil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693391764,"creation_date":1693391764,"question_id":77007209,"body_markdown":"I&#39;m trying to deploy Druid in Minikube with Minio and PostgrSQL. \r\nI&#39;m using Druid-Opearor and all druid-sds-cluster-brokers-0, druid-sds-cluster-coordinators-0,druid-sds-cluster-historicals-0, druid-sds-cluster-middlemanagers-0, druid-sds-cluster-routers-0 are stateful set. Its having status 1/1 and on port-forwarding I&#39;m getting Druid Console. \r\nIn druid console when I tried loading example data-source and the after few seconds the task goes to failed state. On checking the status of task from console it mentioned like this `errorMsg&quot;: &quot;Task execution process exited unsuccessfully with code[137]. See middleManager logs for more details...&quot;` and on checking logs it says `Request failed with status code 404` \r\n\r\n\r\nWill add the minio and psotgresql configuration below :\r\n\r\n```\r\n    s3service.s3-endpoint=192.168.59.xxx\r\n    s3service.s3-endpoint-http-port=30000\r\n    s3service.disable-dns-buckets=true\r\n    s3service.https-only=false\r\n```\r\n\r\n```\r\n    druid.metadata.storage.type=postgresql\r\n    druid.metadata.storage.connector.connectURI=jdbc:postgresql://postgres-service.dev.svc.cluster.local:5432/druid_db\r\n    druid.metadata.storage.connector.host=postgres-service.dev.svc.cluster.local\r\n    druid.metadata.storage.connector.port=5432\r\n    druid.metadata.storage.connector.user=postgres\r\n    druid.metadata.storage.connector.password=test\r\n    # druid.metadata.storage.connector.database=druid_db\r\n    druid.metadata.storage.connector.createTables=true\r\n```\r\n\r\n\r\n```\r\n    druid.storage.type=s3\r\n    druid.storage.bucket=test-bucket\r\n    druid.storage.baseKey=druid/segments-test-dev\r\n    druid.s3.accessKey=xxxxxxxxxxxx\r\n    druid.s3.secretKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\r\n    druid.s3.protocol=http\r\n    druid.s3.enabePathStyleAccess=true\r\n    druid.s3.region=us-east-1\r\n    druid.s3.endpoint.signingRegion=us-east-1\r\n    druid.s3.endpoint.url=http://192.168.59.xxx:30000/\r\n```\r\n\r\n\r\n\r\n\r\nI tried increasing the memory of Minikube to 8GB still no luck. I tried adding request and limit to middlemanager as \r\n\r\n\r\n```\r\n resources:\r\n        limits:\r\n          cpu: &quot;1&quot;\r\n          memory: 1Gi\r\n        requests:\r\n          cpu: &quot;1&quot;\r\n          memory: 1Gi\r\n```\r\n\r\n\r\nBut still the task is getting failed. I don&#39;t know what the issue. Looking for some insights or help. Thanks","title":"Druid Deployment with Minio and PostgreSQL in Minikube","body":"<p>I'm trying to deploy Druid in Minikube with Minio and PostgrSQL.\nI'm using Druid-Opearor and all druid-sds-cluster-brokers-0, druid-sds-cluster-coordinators-0,druid-sds-cluster-historicals-0, druid-sds-cluster-middlemanagers-0, druid-sds-cluster-routers-0 are stateful set. Its having status 1/1 and on port-forwarding I'm getting Druid Console.\nIn druid console when I tried loading example data-source and the after few seconds the task goes to failed state. On checking the status of task from console it mentioned like this <code>errorMsg&quot;: &quot;Task execution process exited unsuccessfully with code[137]. See middleManager logs for more details...&quot;</code> and on checking logs it says <code>Request failed with status code 404</code></p>\n<p>Will add the minio and psotgresql configuration below :</p>\n<pre><code>    s3service.s3-endpoint=192.168.59.xxx\n    s3service.s3-endpoint-http-port=30000\n    s3service.disable-dns-buckets=true\n    s3service.https-only=false\n</code></pre>\n<pre><code>    druid.metadata.storage.type=postgresql\n    druid.metadata.storage.connector.connectURI=jdbc:postgresql://postgres-service.dev.svc.cluster.local:5432/druid_db\n    druid.metadata.storage.connector.host=postgres-service.dev.svc.cluster.local\n    druid.metadata.storage.connector.port=5432\n    druid.metadata.storage.connector.user=postgres\n    druid.metadata.storage.connector.password=test\n    # druid.metadata.storage.connector.database=druid_db\n    druid.metadata.storage.connector.createTables=true\n</code></pre>\n<pre><code>    druid.storage.type=s3\n    druid.storage.bucket=test-bucket\n    druid.storage.baseKey=druid/segments-test-dev\n    druid.s3.accessKey=xxxxxxxxxxxx\n    druid.s3.secretKey=xxxxxxxxxxxxxxxxxxxxxxxxxxxxx\n    druid.s3.protocol=http\n    druid.s3.enabePathStyleAccess=true\n    druid.s3.region=us-east-1\n    druid.s3.endpoint.signingRegion=us-east-1\n    druid.s3.endpoint.url=http://192.168.59.xxx:30000/\n</code></pre>\n<p>I tried increasing the memory of Minikube to 8GB still no luck. I tried adding request and limit to middlemanager as</p>\n<pre><code> resources:\n        limits:\n          cpu: &quot;1&quot;\n          memory: 1Gi\n        requests:\n          cpu: &quot;1&quot;\n          memory: 1Gi\n</code></pre>\n<p>But still the task is getting failed. I don't know what the issue. Looking for some insights or help. Thanks</p>\n"},{"tags":["java","caching","out-of-memory","weblogic12c","oracle-coherence"],"comments":[{"owner":{"account_id":1234315,"reputation":975,"user_id":1198243,"display_name":"rlubke"},"score":0,"creation_date":1693505490,"post_id":77006056,"comment_id":135773677,"body_markdown":"One thing that stands out is the backup count of 2.  That means for each cache entry, there will be two identical cache entries created and distributed amongst the members.  Typically a backup count of 1 is sufficient.  Is there a reason you&#39;re using 2?","body":"One thing that stands out is the backup count of 2.  That means for each cache entry, there will be two identical cache entries created and distributed amongst the members.  Typically a backup count of 1 is sufficient.  Is there a reason you&#39;re using 2?"},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1693554550,"post_id":77006056,"comment_id":135779211,"body_markdown":"@rlubke We thought &#39;more redundancy the better&#39;, but yes, we could try with 1 as well. Nevertheless, shouldn&#39;t this be stable and not impact the performance in such ways?","body":"@rlubke We thought &#39;more redundancy the better&#39;, but yes, we could try with 1 as well. Nevertheless, shouldn&#39;t this be stable and not impact the performance in such ways?"},{"owner":{"account_id":1234315,"reputation":975,"user_id":1198243,"display_name":"rlubke"},"score":0,"creation_date":1693930358,"post_id":77006056,"comment_id":135823239,"body_markdown":"Yes, it could have an impact.  Each insert or mutation of an entry, with a backup count of 2 means that in order for the operation to return, each of the backup inserts/updates needs to be completed before being returned.  The larger the backup count, the larger the increase in latency in operations.","body":"Yes, it could have an impact.  Each insert or mutation of an entry, with a backup count of 2 means that in order for the operation to return, each of the backup inserts/updates needs to be completed before being returned.  The larger the backup count, the larger the increase in latency in operations."},{"owner":{"account_id":1234315,"reputation":975,"user_id":1198243,"display_name":"rlubke"},"score":0,"creation_date":1694794247,"post_id":77006056,"comment_id":135942598,"body_markdown":"were you able to resolve?","body":"were you able to resolve?"},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1695148347,"post_id":77006056,"comment_id":135984317,"body_markdown":"We suggested to try to reduce the parallelism -20% of the application and it&#39;s being monitored. Since it was quite high. No changes in Coherence for now.","body":"We suggested to try to reduce the parallelism -20% of the application and it&#39;s being monitored. Since it was quite high. No changes in Coherence for now."}],"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693391376,"creation_date":1693382926,"question_id":77006056,"body_markdown":"We changed the Coherence cache from &quot;replicated&quot; to &quot;near-distributed-persistent&quot;, but now the servers get overloaded. \r\n\r\nThis is the current configuration:\r\n\r\n    &lt;?xml version=&#39;1.0&#39;?&gt;\r\n    &lt;cache-config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xmlns=&quot;http://xmlns.oracle.com/coherence/coherence-cache-config&quot;\r\n            xsi:schemaLocation=&quot;http://xmlns.oracle.com/coherence/coherence-cache-config&quot;&gt;\r\n      &lt;caching-scheme-mapping&gt;\r\n        &lt;cache-mapping&gt;\r\n          &lt;cache-name&gt;app-*&lt;/cache-name&gt;\r\n          &lt;scheme-name&gt;app-refdata-near&lt;/scheme-name&gt;\r\n        &lt;/cache-mapping&gt;\r\n        &lt;cache-mapping&gt;\r\n          &lt;cache-name&gt;configConsultationCache&lt;/cache-name&gt;\r\n          &lt;scheme-name&gt;config&lt;/scheme-name&gt;\r\n        &lt;/cache-mapping&gt;\r\n      &lt;/caching-scheme-mapping&gt;\r\n    \r\n      &lt;caching-schemes&gt;\r\n        &lt;near-scheme&gt;\r\n          &lt;scheme-name&gt;app-refdata-near&lt;/scheme-name&gt;\r\n          &lt;front-scheme&gt;\r\n            &lt;local-scheme&gt;\r\n              &lt;scheme-ref&gt;app-refdata-local&lt;/scheme-ref&gt;\r\n            &lt;/local-scheme&gt;\r\n          &lt;/front-scheme&gt;\r\n          &lt;back-scheme&gt;\r\n            &lt;distributed-scheme&gt;\r\n              &lt;scheme-ref&gt;partitioned&lt;/scheme-ref&gt;\r\n            &lt;/distributed-scheme&gt;\r\n          &lt;/back-scheme&gt;\r\n        &lt;/near-scheme&gt;\r\n    \r\n        &lt;local-scheme&gt;\r\n          &lt;scheme-name&gt;app-refdata-local&lt;/scheme-name&gt;\r\n        &lt;/local-scheme&gt;\r\n    \r\n        &lt;distributed-scheme&gt;\r\n          &lt;scheme-name&gt;partitioned&lt;/scheme-name&gt;\r\n          &lt;backup-count&gt;2&lt;/backup-count&gt;\r\n          &lt;backing-map-scheme&gt;\r\n            &lt;local-scheme/&gt;\r\n          &lt;/backing-map-scheme&gt;\r\n          &lt;persistence&gt;\r\n            &lt;environment&gt;default-active&lt;/environment&gt;\r\n          &lt;/persistence&gt;\r\n          &lt;autostart&gt;true&lt;/autostart&gt;\r\n        &lt;/distributed-scheme&gt;\r\n    \r\n        &lt;local-scheme&gt;\r\n          &lt;scheme-name&gt;config&lt;/scheme-name&gt;\r\n          &lt;expiry-delay&gt;1h&lt;/expiry-delay&gt;\r\n        &lt;/local-scheme&gt;\r\n      &lt;/caching-schemes&gt;\r\n    \r\n    &lt;/cache-config&gt;\r\n\r\nWhich, by the way, is duplicated: is present in 2 jar, but under the same deployable ear. \r\n\r\nIn the [Oracle documentation][1], it is specified that for active-persistent mode, an additional allocation of 20-35% more memory is recommended, which has already been done.\r\n\r\nEach node has approximately 50g of physical memory available, and we have set the heap size between -Xmx=32g and -Xms=32g, but even with that, the memory usage reaches more than 90% of the total available. \r\n\r\nOn a nightly basis, the application refreshes the content of the cache.\r\n\r\nIt has been noticed that the overload becomes more pronounced when the application is used intensively (it&#39;s a high-throughput type of application), as a result, the cache is used (read) further.\r\n\r\nBy checking the MBeans of Coherence in the Enterprise Manager, we see multiple entries for the same cache name. For instance, 3 of them are NearCache types and the other 3 are LocalCache.\r\n\r\n\r\nWe have analyzed a heap dump, but there is nothing unusual. The heap dump weighs just 9g, not 32g. The biggest objects are, as expected, from Coherence.\r\n\r\n[![heap dump usage][2]][2]\r\n\r\nAny advice? **Does the coherence configuration look okay? Does the refresh of the complete cache conflict with the new configuration?**\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/middleware/fusion-middleware/coherence/12.2.1.4/administer/persisting-caches.html#GUID-1848628D-5423-4167-93F0-61196B4C35FE\r\n  [2]: https://i.stack.imgur.com/QeYJO.png","title":"Excecive memory usage after changing Coherence configuration","body":"<p>We changed the Coherence cache from &quot;replicated&quot; to &quot;near-distributed-persistent&quot;, but now the servers get overloaded.</p>\n<p>This is the current configuration:</p>\n<pre><code>&lt;?xml version='1.0'?&gt;\n&lt;cache-config xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xmlns=&quot;http://xmlns.oracle.com/coherence/coherence-cache-config&quot;\n        xsi:schemaLocation=&quot;http://xmlns.oracle.com/coherence/coherence-cache-config&quot;&gt;\n  &lt;caching-scheme-mapping&gt;\n    &lt;cache-mapping&gt;\n      &lt;cache-name&gt;app-*&lt;/cache-name&gt;\n      &lt;scheme-name&gt;app-refdata-near&lt;/scheme-name&gt;\n    &lt;/cache-mapping&gt;\n    &lt;cache-mapping&gt;\n      &lt;cache-name&gt;configConsultationCache&lt;/cache-name&gt;\n      &lt;scheme-name&gt;config&lt;/scheme-name&gt;\n    &lt;/cache-mapping&gt;\n  &lt;/caching-scheme-mapping&gt;\n\n  &lt;caching-schemes&gt;\n    &lt;near-scheme&gt;\n      &lt;scheme-name&gt;app-refdata-near&lt;/scheme-name&gt;\n      &lt;front-scheme&gt;\n        &lt;local-scheme&gt;\n          &lt;scheme-ref&gt;app-refdata-local&lt;/scheme-ref&gt;\n        &lt;/local-scheme&gt;\n      &lt;/front-scheme&gt;\n      &lt;back-scheme&gt;\n        &lt;distributed-scheme&gt;\n          &lt;scheme-ref&gt;partitioned&lt;/scheme-ref&gt;\n        &lt;/distributed-scheme&gt;\n      &lt;/back-scheme&gt;\n    &lt;/near-scheme&gt;\n\n    &lt;local-scheme&gt;\n      &lt;scheme-name&gt;app-refdata-local&lt;/scheme-name&gt;\n    &lt;/local-scheme&gt;\n\n    &lt;distributed-scheme&gt;\n      &lt;scheme-name&gt;partitioned&lt;/scheme-name&gt;\n      &lt;backup-count&gt;2&lt;/backup-count&gt;\n      &lt;backing-map-scheme&gt;\n        &lt;local-scheme/&gt;\n      &lt;/backing-map-scheme&gt;\n      &lt;persistence&gt;\n        &lt;environment&gt;default-active&lt;/environment&gt;\n      &lt;/persistence&gt;\n      &lt;autostart&gt;true&lt;/autostart&gt;\n    &lt;/distributed-scheme&gt;\n\n    &lt;local-scheme&gt;\n      &lt;scheme-name&gt;config&lt;/scheme-name&gt;\n      &lt;expiry-delay&gt;1h&lt;/expiry-delay&gt;\n    &lt;/local-scheme&gt;\n  &lt;/caching-schemes&gt;\n\n&lt;/cache-config&gt;\n</code></pre>\n<p>Which, by the way, is duplicated: is present in 2 jar, but under the same deployable ear.</p>\n<p>In the <a href=\"https://docs.oracle.com/en/middleware/fusion-middleware/coherence/12.2.1.4/administer/persisting-caches.html#GUID-1848628D-5423-4167-93F0-61196B4C35FE\" rel=\"nofollow noreferrer\">Oracle documentation</a>, it is specified that for active-persistent mode, an additional allocation of 20-35% more memory is recommended, which has already been done.</p>\n<p>Each node has approximately 50g of physical memory available, and we have set the heap size between -Xmx=32g and -Xms=32g, but even with that, the memory usage reaches more than 90% of the total available.</p>\n<p>On a nightly basis, the application refreshes the content of the cache.</p>\n<p>It has been noticed that the overload becomes more pronounced when the application is used intensively (it's a high-throughput type of application), as a result, the cache is used (read) further.</p>\n<p>By checking the MBeans of Coherence in the Enterprise Manager, we see multiple entries for the same cache name. For instance, 3 of them are NearCache types and the other 3 are LocalCache.</p>\n<p>We have analyzed a heap dump, but there is nothing unusual. The heap dump weighs just 9g, not 32g. The biggest objects are, as expected, from Coherence.</p>\n<p><a href=\"https://i.stack.imgur.com/QeYJO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QeYJO.png\" alt=\"heap dump usage\" /></a></p>\n<p>Any advice? <strong>Does the coherence configuration look okay? Does the refresh of the complete cache conflict with the new configuration?</strong></p>\n"},{"tags":["java","deserialization","unpack","msgpack"],"owner":{"account_id":29297453,"reputation":11,"user_id":22446482,"display_name":"Nicole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693390968,"creation_date":1693390968,"question_id":77007123,"body_markdown":"I tried to unpack a msgPack message but I&#39;m getting the message &quot;Expected raw value, but got array value&quot;.\r\n\r\nMy unpack method:\r\n\r\n        private byte[] unpack(byte[] bytes) throws IOException {\r\n            \r\n            Template&lt;byte[]&gt; tmpl = Templates.TByteArray;\r\n            MessagePack msgpack = new MessagePack();\r\n            Unpacker unpacker = msgpack.createUnpacker(new ByteArrayInputStream(bytes));\r\n            \r\n            return unpacker.read(tmpl);\r\n        }","title":"How to unpack msgPack messages?","body":"<p>I tried to unpack a msgPack message but I'm getting the message &quot;Expected raw value, but got array value&quot;.</p>\n<p>My unpack method:</p>\n<pre><code>    private byte[] unpack(byte[] bytes) throws IOException {\n        \n        Template&lt;byte[]&gt; tmpl = Templates.TByteArray;\n        MessagePack msgpack = new MessagePack();\n        Unpacker unpacker = msgpack.createUnpacker(new ByteArrayInputStream(bytes));\n        \n        return unpacker.read(tmpl);\n    }\n</code></pre>\n"},{"tags":["java","path-separator"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1692106563,"post_id":76906375,"comment_id":135577404,"body_markdown":"You do not. You also can use `/` on every platform, the JVM will translate it to ``\\`` on Windows (which is the only platform that uses ``\\`` anyway).","body":"You do not. You also can use <code>&#47;</code> on every platform, the JVM will translate it to <code>\\</code> on Windows (which is the only platform that uses <code>\\</code> anyway)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":13,"creation_date":1692106645,"post_id":76906375,"comment_id":135577419,"body_markdown":"Don&#39;t do it at all. Use `Path p = Path.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;, &quot;foo.pdf&quot;);`","body":"Don&#39;t do it at all. Use <code>Path p = Path.of(&quot;x&quot;, &quot;y&quot;, &quot;z&quot;, &quot;foo.pdf&quot;);</code>"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1692106663,"post_id":76906375,"comment_id":135577425,"body_markdown":"Escaping is something that only has to be done with String literals in your code. (Those things between `&quot;`).","body":"Escaping is something that only has to be done with String literals in your code. (Those things between <code>&quot;</code>)."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1692106743,"post_id":76906375,"comment_id":135577440,"body_markdown":"Regarding your comment in the first method: *why* do you prefer to write overly verbose code? That’s a bad habit that you should work on breaking ASAP.","body":"Regarding your comment in the first method: <i>why</i> do you prefer to write overly verbose code? That’s a bad habit that you should work on breaking ASAP."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1692106985,"post_id":76906375,"comment_id":135577501,"body_markdown":"Off topic but that SeparatorCharactor class doesn&#39;t add any value and adds noise to your code.","body":"Off topic but that SeparatorCharactor class doesn&#39;t add any value and adds noise to your code."},{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1692107180,"post_id":76906375,"comment_id":135577554,"body_markdown":"@aled I was going to ask WHY but now I&#39;ve thought about it, is it because File.separator is static ?","body":"@aled I was going to ask WHY but now I&#39;ve thought about it, is it because File.separator is static ?"},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1692107434,"post_id":76906375,"comment_id":135577618,"body_markdown":"There is no point in struggling with combining things. Use the built-in `Paths` class for path operations. Example: `Path path = Paths.get(&quot;dir1&quot;, &quot;dir2&quot;, &quot;file.txt&quot;);` in `java.nio.file` package.","body":"There is no point in struggling with combining things. Use the built-in <code>Paths</code> class for path operations. Example: <code>Path path = Paths.get(&quot;dir1&quot;, &quot;dir2&quot;, &quot;file.txt&quot;);</code> in <code>java.nio.file</code> package."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692107594,"post_id":76906375,"comment_id":135577664,"body_markdown":"@Mustafa&#214;z&#231;etin I already mentioned that","body":"@Mustafa&#214;z&#231;etin I already mentioned that"},{"owner":{"account_id":2396133,"reputation":2138,"user_id":2638227,"display_name":"Mustafa &#214;z&#231;etin"},"score":0,"creation_date":1692108107,"post_id":76906375,"comment_id":135577771,"body_markdown":"@g00se: Right, but mine is yet another alternative for older Java (7+) versions. `Path.of()` is newer.","body":"@g00se: Right, but mine is yet another alternative for older Java (7+) versions. <code>Path.of()</code> is newer."},{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1692108194,"post_id":76906375,"comment_id":135577794,"body_markdown":"@g00se Thank you. I didn&#39;t know about the Path class. This makes life a lot easier. For anyone reading this in the future, the documentation is [here](https://docs.oracle.com/javase/tutorial/essential/io/pathClass.html)","body":"@g00se Thank you. I didn&#39;t know about the Path class. This makes life a lot easier. For anyone reading this in the future, the documentation is <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/pathClass.html\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1692108206,"post_id":76906375,"comment_id":135577798,"body_markdown":"Ah right - missed that sorry","body":"Ah right - missed that sorry"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1692112815,"post_id":76906375,"comment_id":135578729,"body_markdown":"@3rdRockSoftware think about what behavior or benefit does that class add to your code. Does it justify to be added? it just exists to return the same value that File.separator has. It is just code bloat.","body":"@3rdRockSoftware think about what behavior or benefit does that class add to your code. Does it justify to be added? it just exists to return the same value that File.separator has. It is just code bloat."}],"answers":[{"comments":[{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1692108503,"post_id":76906509,"comment_id":135577860,"body_markdown":"I now understand I don&#39;t need it at all but, why is the value of **sep** not guaranteed if the code that generates it, creates the correct separator for the platform the code is running on ?","body":"I now understand I don&#39;t need it at all but, why is the value of <b>sep</b> not guaranteed if the code that generates it, creates the correct separator for the platform the code is running on ?"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1692109451,"post_id":76906509,"comment_id":135578047,"body_markdown":"Because if you run the same code on Linux the value will be &quot;/&quot; and only on Windows it is &quot;\\&quot;. But for escaping you always need &quot;\\&quot;","body":"Because if you run the same code on Linux the value will be &quot;/&quot; and only on Windows it is &quot;\\&quot;. But for escaping you always need &quot;\\&quot;"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1692125329,"post_id":76906509,"comment_id":135581175,"body_markdown":"@user16320675 yes you are correct, I edited my answer. It of course has to be &quot;\\\\&quot; instead of &quot;\\&quot;","body":"@user16320675 yes you are correct, I edited my answer. It of course has to be &quot;\\\\&quot; instead of &quot;\\&quot;"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1692125263,"creation_date":1692107678,"answer_id":76906509,"question_id":76906375,"body_markdown":"Definitely not. You don&#39;t need to escape it. But also in your code `&quot;S&quot; + sep + sep + &quot;folder1&quot;` you rely that the value of your `sep` variable is &quot;`\\`&quot; which is not guaranteed. So if you wanted to escape it you would have to do `&quot;S&quot; + &quot;\\\\&quot; + sep + &quot;folder1&quot;`. But again not only you don&#39;t need to do it, but if you do you will get unexpected and incorrect result","title":"Do I need to escape a separator character in a file path in java","body":"<p>Definitely not. You don't need to escape it. But also in your code <code>&quot;S&quot; + sep + sep + &quot;folder1&quot;</code> you rely that the value of your <code>sep</code> variable is &quot;<code>\\</code>&quot; which is not guaranteed. So if you wanted to escape it you would have to do <code>&quot;S&quot; + &quot;\\\\&quot; + sep + &quot;folder1&quot;</code>. But again not only you don't need to do it, but if you do you will get unexpected and incorrect result</p>\n"},{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1692124216,"post_id":76908194,"comment_id":135580999,"body_markdown":"The Wikipedia link is about non-blocking IO. That&#39;s too advanced a subject. NIO stands for &quot;New IO&quot;, so there&#39;s no need to talk about non-blocking.","body":"The Wikipedia link is about non-blocking IO. That&#39;s too advanced a subject. NIO stands for &quot;New IO&quot;, so there&#39;s no need to talk about non-blocking."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1692124552,"post_id":76908194,"comment_id":135581051,"body_markdown":"@k314159 Very well, I changed the links to the Oracle Java Tutorials. Thanks for the suggestion.","body":"@k314159 Very well, I changed the links to the Oracle Java Tutorials. Thanks for the suggestion."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693395823,"post_id":76908194,"comment_id":135754534,"body_markdown":"As far as I&#39;m aware, Java does not translate anything, or at least, most Windows file system APIs support both `/` and ``\\`` as the path separator.","body":"As far as I&#39;m aware, Java does not translate anything, or at least, most Windows file system APIs support both <code>&#47;</code> and <code>\\</code> as the path separator."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1692124473,"creation_date":1692122556,"answer_id":76908194,"question_id":76906375,"body_markdown":"&gt;Do I need to escape the file separator ?\r\n\r\nNo, you do *not* need to escape the separator in a path in Java. \r\n\r\nJust use the forward-slash character (`/`) to indicate a file path separator in a generic sense. \r\n\r\nThe file-related libraries in Java automatically translate the forward-slash character to the platform-specific character. \r\n\r\nThe `/` translates to:\r\n\r\n - `/` on Unix-oriented platforms such as macOS, Linux, AIX, and BSD. \r\n - `\\` on Microsoft Windows. \r\n - `:` on [legacy Mac OS 9][1] and earlier. \r\n\r\n---------\r\n\r\n&gt;do I need : `&quot;S&quot; + sep + &quot;folder1&quot;` or `&quot;S&quot; + sep + sep + &quot;folder1&quot;`\r\n\r\nNeither.\r\n\r\nIn modern Java, use the convenient classes provided by [NIO][2]. See [`Path.of`][3] or [`Paths.get`][4].\r\n\r\n\r\n    Path path = Path.of( &quot;S&quot;, &quot;folder1&quot; , &quot;folder2&quot; );\r\n\r\n---------\r\n\r\n&gt;separator character which I am creating with this code\r\n\r\nNo, do not create a method for that purpose. Your method adds no value. Calling that method will only confuse anyone reading your code. \r\n\r\nIf you want to use a constant provided by the JVM, just use it. Just call `File.separator` directly. \r\n\r\n\r\n---------\r\n\r\n\r\nTip: Be careful in selecting a tutorial or article about file-handling in Java. \r\n\r\nThe early versions of Java had file-related classes that were awkward and confusing. Many pages were written in trying  to explain these. Avoid such outdated material. \r\n\r\nThose legacy file-handling classes were supplanted by the modern classes of [NIO][2] and NIO.2. Focus on these classes when studying Java. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Classic_Mac_OS\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.lang.String,java.lang.String...)","title":"Do I need to escape a separator character in a file path in java","body":"<blockquote>\n<p>Do I need to escape the file separator ?</p>\n</blockquote>\n<p>No, you do <em>not</em> need to escape the separator in a path in Java.</p>\n<p>Just use the forward-slash character (<code>/</code>) to indicate a file path separator in a generic sense.</p>\n<p>The file-related libraries in Java automatically translate the forward-slash character to the platform-specific character.</p>\n<p>The <code>/</code> translates to:</p>\n<ul>\n<li><code>/</code> on Unix-oriented platforms such as macOS, Linux, AIX, and BSD.</li>\n<li><code>\\</code> on Microsoft Windows.</li>\n<li><code>:</code> on <a href=\"https://en.wikipedia.org/wiki/Classic_Mac_OS\" rel=\"nofollow noreferrer\">legacy Mac OS 9</a> and earlier.</li>\n</ul>\n<hr />\n<blockquote>\n<p>do I need : <code>&quot;S&quot; + sep + &quot;folder1&quot;</code> or <code>&quot;S&quot; + sep + sep + &quot;folder1&quot;</code></p>\n</blockquote>\n<p>Neither.</p>\n<p>In modern Java, use the convenient classes provided by <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO</a>. See <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Path.of</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Paths.html#get(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Paths.get</code></a>.</p>\n<pre><code>Path path = Path.of( &quot;S&quot;, &quot;folder1&quot; , &quot;folder2&quot; );\n</code></pre>\n<hr />\n<blockquote>\n<p>separator character which I am creating with this code</p>\n</blockquote>\n<p>No, do not create a method for that purpose. Your method adds no value. Calling that method will only confuse anyone reading your code.</p>\n<p>If you want to use a constant provided by the JVM, just use it. Just call <code>File.separator</code> directly.</p>\n<hr />\n<p>Tip: Be careful in selecting a tutorial or article about file-handling in Java.</p>\n<p>The early versions of Java had file-related classes that were awkward and confusing. Many pages were written in trying  to explain these. Avoid such outdated material.</p>\n<p>Those legacy file-handling classes were supplanted by the modern classes of <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/fileio.html\" rel=\"nofollow noreferrer\">NIO</a> and NIO.2. Focus on these classes when studying Java.</p>\n"},{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693391346,"post_id":77007112,"comment_id":135753621,"body_markdown":"I&#39;m not certain, but I suspect *FileSystems.getDefault().getPath()* isn&#39;t buying you anything over `Path.of`","body":"I&#39;m not certain, but I suspect <i>FileSystems.getDefault().getPath()</i> isn&#39;t buying you anything over <code>Path.of</code>"},{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1693392495,"post_id":77007112,"comment_id":135753881,"body_markdown":"for some reason I couldn&#39;t get `Path.of`` to work. The IDE (netbeans) wouldn&#39;t accept &quot;.of&quot; as a valid method","body":"for some reason I couldn&#39;t get `Path.of`` to work. The IDE (netbeans) wouldn&#39;t accept &quot;.of&quot; as a valid method"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1693392701,"post_id":77007112,"comment_id":135753912,"body_markdown":"Your jdk must be old. That came in with Java 11. You should probably update","body":"Your jdk must be old. That came in with Java 11. You should probably update"},{"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"score":0,"creation_date":1693393832,"post_id":77007112,"comment_id":135754131,"body_markdown":"oh if only... I work for a state run medical agency who still insist on using windows 8 on some client machines :-)","body":"oh if only... I work for a state run medical agency who still insist on using windows 8 on some client machines :-)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1693395961,"post_id":77007112,"comment_id":135754563,"body_markdown":"In older Java versions, you need to use [`Paths.get(...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Paths.html#get(java.lang.String,java.lang.String...)) (supported since Java 7) instead of [`Path.of(...)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)) (since Java 11)","body":"In older Java versions, you need to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Paths.html#get(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Paths.get(...)</code></a> (supported since Java 7) instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)\" rel=\"nofollow noreferrer\"><code>Path.of(...)</code></a> (since Java 11)"}],"tags":[],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693390913,"creation_date":1693390913,"answer_id":77007112,"question_id":76906375,"body_markdown":"Thank you all for all your answers.\r\n\r\nI have now adapted my code to use the Path API like this:\r\n```\r\nimport java.nio.file.FileSystems;\r\nimport java.nio.file.Path;\r\n\r\nprivate Path path = FileSystems.getDefault().getPath(\r\n            &quot;Root&quot;,\r\n            &quot;folder1&quot;,\r\n            &quot;folder2&quot;,\r\n            &quot;filename.zzz&quot;\r\n    );\r\n```\r\nThis works perfectly.\r\n\r\nThe complete path can be accessed by using\r\n```path.toString() //&quot;C:\\Root\\folder1\\folder2\\filename.zzz&quot;```\r\n\r\nThe parent folder =\r\n```path.getParent() //&quot;C:\\Root\\folder1\\folder2&quot;```\r\n\r\nThe filename = \r\n```path.getFilename() //&quot;filename.zzz&quot;```","title":"Do I need to escape a separator character in a file path in java","body":"<p>Thank you all for all your answers.</p>\n<p>I have now adapted my code to use the Path API like this:</p>\n<pre><code>import java.nio.file.FileSystems;\nimport java.nio.file.Path;\n\nprivate Path path = FileSystems.getDefault().getPath(\n            &quot;Root&quot;,\n            &quot;folder1&quot;,\n            &quot;folder2&quot;,\n            &quot;filename.zzz&quot;\n    );\n</code></pre>\n<p>This works perfectly.</p>\n<p>The complete path can be accessed by using\n<code>path.toString() //&quot;C:\\Root\\folder1\\folder2\\filename.zzz&quot;</code></p>\n<p>The parent folder =\n<code>path.getParent() //&quot;C:\\Root\\folder1\\folder2&quot;</code></p>\n<p>The filename =\n<code>path.getFilename() //&quot;filename.zzz&quot;</code></p>\n"}],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76908194,"answer_count":3,"score":1,"last_activity_date":1693390913,"creation_date":1692106462,"question_id":76906375,"body_markdown":"There are many questions on escape characters but I seem unable to find an answer when using File.separator\r\n\r\nI am using a system dependant separator character which I am creating with this code:\r\n```\r\npublic class SeparatorCharactor\r\n{\r\n    public static String createSeparatorCharactor()\r\n    {\r\n        String sep = File.separator;\r\n        return sep;\r\n        //I could use *return File.separator;* but I prefer to do it in 2 steps.\r\n    }\r\n}\r\n```\r\nMy understanding is that this creates a file separator that will work on any operating system.\r\n\r\nI am then using the file separator like this :\r\n```\r\nprivate String sep = SeparatorCharactor.createSeparatorCharactor();\r\nprivate String path = &quot;S:&quot;\r\n   + sep + &quot;folder1&quot;\r\n   + sep + &quot;folder2&quot;;\r\n```\r\nMy Question is : Do I need to escape the file separator ?\r\n\r\nIn other words do I need : \r\n1. ```&quot;S&quot; + sep + &quot;folder1&quot;```\r\n\r\nor\r\n\r\n2. ```&quot;S&quot; + sep + sep + &quot;folder1&quot;```","title":"Do I need to escape a separator character in a file path in java","body":"<p>There are many questions on escape characters but I seem unable to find an answer when using File.separator</p>\n<p>I am using a system dependant separator character which I am creating with this code:</p>\n<pre><code>public class SeparatorCharactor\n{\n    public static String createSeparatorCharactor()\n    {\n        String sep = File.separator;\n        return sep;\n        //I could use *return File.separator;* but I prefer to do it in 2 steps.\n    }\n}\n</code></pre>\n<p>My understanding is that this creates a file separator that will work on any operating system.</p>\n<p>I am then using the file separator like this :</p>\n<pre><code>private String sep = SeparatorCharactor.createSeparatorCharactor();\nprivate String path = &quot;S:&quot;\n   + sep + &quot;folder1&quot;\n   + sep + &quot;folder2&quot;;\n</code></pre>\n<p>My Question is : Do I need to escape the file separator ?</p>\n<p>In other words do I need :</p>\n<ol>\n<li><code>&quot;S&quot; + sep + &quot;folder1&quot;</code></li>\n</ol>\n<p>or</p>\n<ol start=\"2\">\n<li><code>&quot;S&quot; + sep + sep + &quot;folder1&quot;</code></li>\n</ol>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1693393744,"post_id":77006993,"comment_id":135754110,"body_markdown":"Pretty sure that Excel actually stores the workbook references by ID, and Apache POI de-references that to the name for you (see `LinkTable.getExternalSheetIndex`) - what happens if you try adding the link to the new file to the links table first?","body":"Pretty sure that Excel actually stores the workbook references by ID, and Apache POI de-references that to the name for you (see <code>LinkTable.getExternalSheetIndex</code>) - what happens if you try adding the link to the new file to the links table first?"},{"owner":{"account_id":24500,"reputation":3848,"user_id":62349,"accept_rate":90,"display_name":"dajood"},"score":2,"creation_date":1693401067,"post_id":77006993,"comment_id":135755765,"body_markdown":"@Gagravarr I used the debugger to walk through the LinkTable External Block entries. The reference can be found in the encodedURL attribute of the block. So I did the replace operation in the LinkTable prior to changing the cells. This worked, thank you!!\nNow, I&#39;ll decide wether to access this stuff via reflection or use a local fork of POI.","body":"@Gagravarr I used the debugger to walk through the LinkTable External Block entries. The reference can be found in the encodedURL attribute of the block. So I did the replace operation in the LinkTable prior to changing the cells. This worked, thank you!! Now, I&#39;ll decide wether to access this stuff via reflection or use a local fork of POI."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1693408947,"post_id":77006993,"comment_id":135757726,"body_markdown":"What about using [InternalWorkbook.changeExternalReference](https://poi.apache.org/apidocs/dev/org/apache/poi/hssf/model/InternalWorkbook.html#changeExternalReference-java.lang.String-java.lang.String-)? That calls [LinkTable.changeExternalReference](https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi/src/main/java/org/apache/poi/hssf/model/LinkTable.java?view=markup#l676).","body":"What about using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/hssf/model/InternalWorkbook.html#changeExternalReference-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">InternalWorkbook.changeExternalReference</a>? That calls <a href=\"https://svn.apache.org/viewvc/poi/tags/REL_5_2_3/poi/src/main/java/org/apache/poi/hssf/model/LinkTable.java?view=markup#l676\" rel=\"nofollow noreferrer\">LinkTable.changeExternalReference</a>."},{"owner":{"account_id":24500,"reputation":3848,"user_id":62349,"accept_rate":90,"display_name":"dajood"},"score":0,"creation_date":1693411732,"post_id":77006993,"comment_id":135758322,"body_markdown":"@AxelRichter I don&#39;t know the complete URL (I would have to search for it) upfront. That&#39;s why my idea was to replace just the part I know. On the other hand, I struggle to see how to enumerate through all existing ExternalReference URLs. \nIt would be a great pleasure to see that I could use POI without the hacky approach.","body":"@AxelRichter I don&#39;t know the complete URL (I would have to search for it) upfront. That&#39;s why my idea was to replace just the part I know. On the other hand, I struggle to see how to enumerate through all existing ExternalReference URLs.  It would be a great pleasure to see that I could use POI without the hacky approach."}],"owner":{"account_id":24500,"reputation":3848,"user_id":62349,"accept_rate":90,"display_name":"dajood"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693390903,"creation_date":1693389951,"question_id":77006993,"body_markdown":"My goal is to write a CLI tool to mass replace Strings that represent links to external Excel Workbooks. This is done to prepare for a network infrastructure change that will affect host names.\r\n\r\nThis is only about .xls files - not .xlsx!\r\n\r\nI&#39;m using Java and Apache POI, but I&#39;m open to use other libraries, if necessary.\r\n\r\nThe scenario is that in an ecosystem where Excel is massively used, interconnected Workbooks are spread on different network addresses. This applies only to references in formulas, there are no other data sources like databases.\r\n\r\nExample:\r\n\r\n```\r\n=&#39;\\\\srvszt03\\aevalutation$\\HR\\[HR 2013.xls]PGM&#39;!F17+&#39;\\\\srvszt03\\aevaluation$\\HR\\[HR 2013.xls]PGM&#39;!F18\r\n```\r\n\r\nThe goal would be to replace each occurance of `srvszt03` with `hosthr23` across all sheets of the workbook. After the infrastructure change, Excel users should be able to just continue their work without having to change those references manually.\r\n\r\nI tried to implement this using Apache POI 5.2.3 with a rather naive approach:\r\n\r\n```\r\n        for (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\r\n            Sheet sheet = workbook.getSheetAt(i);\r\n\r\n            for (Row row : sheet) {\r\n\r\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    if (cell.getCellType() == CellType.FORMULA) {\r\n                        String formula = cell.getCellFormula();\r\n\r\n                        if (formula.contains(searchString)) {\r\n                            String newFormula = formula.replace(searchString, replaceString);\r\n                            cell.setCellFormula(newFormula);\r\n                        }\r\n                    }\r\n                }\r\n```\r\n\r\nThis results in a `RuntimeException`:\r\n\r\n```\r\njava.lang.RuntimeException: No external workbook with name &#39;test-target.xls&#39;\r\n\tat org.apache.poi.hssf.model.LinkTable.getExternalSheetIndex(LinkTable.java:449)\r\n\tat org.apache.poi.hssf.model.InternalWorkbook.getExternalSheetIndex(InternalWorkbook.java:1575)\r\n\tat org.apache.poi.hssf.usermodel.HSSFEvaluationWorkbook.getSheetExtIx(HSSFEvaluationWorkbook.java:291)\r\n\tat org.apache.poi.hssf.usermodel.HSSFEvaluationWorkbook.get3DReferencePtg(HSSFEvaluationWorkbook.java:88)\r\n\tat org.apache.poi.ss.formula.FormulaParser.createAreaRefParseNode(FormulaParser.java:980)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parseRangeable(FormulaParser.java:574)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parseRangeExpression(FormulaParser.java:325)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parseSimpleFactor(FormulaParser.java:1553)\r\n\tat org.apache.poi.ss.formula.FormulaParser.percentFactor(FormulaParser.java:1511)\r\n\tat org.apache.poi.ss.formula.FormulaParser.powerFactor(FormulaParser.java:1498)\r\n\tat org.apache.poi.ss.formula.FormulaParser.Term(FormulaParser.java:1872)\r\n\tat org.apache.poi.ss.formula.FormulaParser.additiveExpression(FormulaParser.java:1999)\r\n\tat org.apache.poi.ss.formula.FormulaParser.concatExpression(FormulaParser.java:1983)\r\n\tat org.apache.poi.ss.formula.FormulaParser.comparisonExpression(FormulaParser.java:1940)\r\n\tat org.apache.poi.ss.formula.FormulaParser.intersectionExpression(FormulaParser.java:1913)\r\n\tat org.apache.poi.ss.formula.FormulaParser.unionExpression(FormulaParser.java:1894)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:2041)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:173)\r\n\tat org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:193)\r\n\tat org.apache.poi.hssf.model.HSSFFormulaParser.parse(HSSFFormulaParser.java:79)\r\n\tat org.apache.poi.hssf.usermodel.HSSFCell.setCellFormulaImpl(HSSFCell.java:530)\r\n\tat org.apache.poi.ss.usermodel.CellBase.setCellFormula(CellBase.java:124)\r\n\tat com.foo.excell.HSSFReplace.replace(HSSFReplace.java:39)\r\n\tat com.foo.excell.Change.run(Change.java:77)\r\n\tat picocli.CommandLine.executeUserObject(CommandLine.java:2026)\r\n\tat picocli.CommandLine.access$1500(CommandLine.java:148)\r\n\tat \r\n\r\n```\r\n\r\nSo I assumed that POI verifies the reference in order to make sure the operation doesn&#39;t result in a broken file.\r\n\r\nI also expected there to be a way to disable the check. So according to an article, I tried to call this upfront:\r\n\r\n```\r\n FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n evaluator.setIgnoreMissingWorkbooks(true);\r\n```\r\n\r\nWhich had no effect.\r\n\r\nMy problem only appears for HSSF(.xls) Workbooks. With XSSF, all works fine by directly manipulating the `ExternalLinksTable`.\r\n\r\nSo, how can I stop Apache POI from checking for existing external Workbooks or what are alternative approaches to my problem?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to replace Strings in external links of .xls Workbooks?","body":"<p>My goal is to write a CLI tool to mass replace Strings that represent links to external Excel Workbooks. This is done to prepare for a network infrastructure change that will affect host names.</p>\n<p>This is only about .xls files - not .xlsx!</p>\n<p>I'm using Java and Apache POI, but I'm open to use other libraries, if necessary.</p>\n<p>The scenario is that in an ecosystem where Excel is massively used, interconnected Workbooks are spread on different network addresses. This applies only to references in formulas, there are no other data sources like databases.</p>\n<p>Example:</p>\n<pre><code>='\\\\srvszt03\\aevalutation$\\HR\\[HR 2013.xls]PGM'!F17+'\\\\srvszt03\\aevaluation$\\HR\\[HR 2013.xls]PGM'!F18\n</code></pre>\n<p>The goal would be to replace each occurance of <code>srvszt03</code> with <code>hosthr23</code> across all sheets of the workbook. After the infrastructure change, Excel users should be able to just continue their work without having to change those references manually.</p>\n<p>I tried to implement this using Apache POI 5.2.3 with a rather naive approach:</p>\n<pre><code>        for (int i = 0; i &lt; workbook.getNumberOfSheets(); i++) {\n            Sheet sheet = workbook.getSheetAt(i);\n\n            for (Row row : sheet) {\n\n                Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n                while (cellIterator.hasNext()) {\n                    Cell cell = cellIterator.next();\n                    if (cell.getCellType() == CellType.FORMULA) {\n                        String formula = cell.getCellFormula();\n\n                        if (formula.contains(searchString)) {\n                            String newFormula = formula.replace(searchString, replaceString);\n                            cell.setCellFormula(newFormula);\n                        }\n                    }\n                }\n</code></pre>\n<p>This results in a <code>RuntimeException</code>:</p>\n<pre><code>java.lang.RuntimeException: No external workbook with name 'test-target.xls'\n    at org.apache.poi.hssf.model.LinkTable.getExternalSheetIndex(LinkTable.java:449)\n    at org.apache.poi.hssf.model.InternalWorkbook.getExternalSheetIndex(InternalWorkbook.java:1575)\n    at org.apache.poi.hssf.usermodel.HSSFEvaluationWorkbook.getSheetExtIx(HSSFEvaluationWorkbook.java:291)\n    at org.apache.poi.hssf.usermodel.HSSFEvaluationWorkbook.get3DReferencePtg(HSSFEvaluationWorkbook.java:88)\n    at org.apache.poi.ss.formula.FormulaParser.createAreaRefParseNode(FormulaParser.java:980)\n    at org.apache.poi.ss.formula.FormulaParser.parseRangeable(FormulaParser.java:574)\n    at org.apache.poi.ss.formula.FormulaParser.parseRangeExpression(FormulaParser.java:325)\n    at org.apache.poi.ss.formula.FormulaParser.parseSimpleFactor(FormulaParser.java:1553)\n    at org.apache.poi.ss.formula.FormulaParser.percentFactor(FormulaParser.java:1511)\n    at org.apache.poi.ss.formula.FormulaParser.powerFactor(FormulaParser.java:1498)\n    at org.apache.poi.ss.formula.FormulaParser.Term(FormulaParser.java:1872)\n    at org.apache.poi.ss.formula.FormulaParser.additiveExpression(FormulaParser.java:1999)\n    at org.apache.poi.ss.formula.FormulaParser.concatExpression(FormulaParser.java:1983)\n    at org.apache.poi.ss.formula.FormulaParser.comparisonExpression(FormulaParser.java:1940)\n    at org.apache.poi.ss.formula.FormulaParser.intersectionExpression(FormulaParser.java:1913)\n    at org.apache.poi.ss.formula.FormulaParser.unionExpression(FormulaParser.java:1894)\n    at org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:2041)\n    at org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:173)\n    at org.apache.poi.ss.formula.FormulaParser.parse(FormulaParser.java:193)\n    at org.apache.poi.hssf.model.HSSFFormulaParser.parse(HSSFFormulaParser.java:79)\n    at org.apache.poi.hssf.usermodel.HSSFCell.setCellFormulaImpl(HSSFCell.java:530)\n    at org.apache.poi.ss.usermodel.CellBase.setCellFormula(CellBase.java:124)\n    at com.foo.excell.HSSFReplace.replace(HSSFReplace.java:39)\n    at com.foo.excell.Change.run(Change.java:77)\n    at picocli.CommandLine.executeUserObject(CommandLine.java:2026)\n    at picocli.CommandLine.access$1500(CommandLine.java:148)\n    at \n\n</code></pre>\n<p>So I assumed that POI verifies the reference in order to make sure the operation doesn't result in a broken file.</p>\n<p>I also expected there to be a way to disable the check. So according to an article, I tried to call this upfront:</p>\n<pre><code> FormulaEvaluator evaluator = workbook.getCreationHelper().createFormulaEvaluator();\n evaluator.setIgnoreMissingWorkbooks(true);\n</code></pre>\n<p>Which had no effect.</p>\n<p>My problem only appears for HSSF(.xls) Workbooks. With XSSF, all works fine by directly manipulating the <code>ExternalLinksTable</code>.</p>\n<p>So, how can I stop Apache POI from checking for existing external Workbooks or what are alternative approaches to my problem?</p>\n"},{"tags":["java","groovy","websocket","vert.x"],"owner":{"account_id":1857554,"reputation":20310,"user_id":1682820,"accept_rate":70,"display_name":"injecteer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693390493,"creation_date":1693390493,"question_id":77007060,"body_markdown":"After downgrading Vertx from `4.x` to `3.9.16` the code:\r\n\r\n```\r\nclass AvaHostVerticle extends AbstractVerticle {\r\n  @Override\r\n  void start( Promise startPromise ) throws Exception {\r\n    Router router = Router.router vertx\r\n    new WebsocketHandler( router )\r\n    vertx.createHttpServer().requestHandler router listen 7777, startPromise\r\n  }\r\n}\r\n\r\nclass WebsocketHandler implements Handler&lt;AsyncResult&lt;ServerWebSocket&gt;&gt; {\r\n  WebsocketHandler( Router router ) {\r\n    router.route &#39;/ws&#39; handler{ it.request().toWebSocket this }\r\n  }\r\n  \r\n  @Override\r\n  void handle( AsyncResult&lt;ServerWebSocket&gt; swsRes ) {\r\n    if( swsRes.failed() ){\r\n      log.error &#39;onWSConnect failed&#39;, swsRes.cause()\r\n      return\r\n    }\r\n\r\n    ServerWebSocket sws = swsRes.result()\r\n    // blah...\r\n    sws.accept()\r\n  }\r\n}\r\n```\r\n\r\nstopped working, throwing the exception:\r\n```\r\n11:55:06.716 [vert.x-eventloop-thread-0] ERROR my.controller.WebsocketHandler - onWSConnect failed\r\njava.lang.IllegalStateException: null\r\n\tat io.vertx.core.http.impl.Http1xServerConnection.createWebSocket(Http1xServerConnection.java:275)\r\n\tat io.vertx.core.http.impl.HttpServerRequestImpl.upgrade(HttpServerRequestImpl.java:420)\r\n\tat io.vertx.ext.web.impl.HttpServerRequestWrapper.upgrade(HttpServerRequestWrapper.java:313)\r\n\tat io.vertx.core.http.HttpServerRequest.toWebSocket(HttpServerRequest.java:386)\r\n\tat io.vertx.core.http.HttpServerRequest$toWebSocket.call(Unknown Source)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\r\n\tat my.controller.WebsocketHandler$_closure1.doCall(WebsocketHandler.groovy:24)\r\n```\r\n\r\nThis is the code in Http1xServerConnection where the ISE is thrown:\r\n```\r\n  ServerWebSocketImpl createWebSocket(HttpServerRequestImpl request) {\r\n    if (ws != null) {\r\n      return ws;\r\n    }\r\n    if (!(request.nettyRequest() instanceof FullHttpRequest)) {\r\n      throw new IllegalStateException();\r\n    }\r\n```\r\n\r\nThe option with \r\n```\r\nvertx.createHttpServer().webSocketHandler wsHandler listen 8888\r\n```\r\nworks just fine.\r\n\r\nIs this a bug, or am I missing something?","title":"Vertx: toWebSocket() with router fails in 3.9.16","body":"<p>After downgrading Vertx from <code>4.x</code> to <code>3.9.16</code> the code:</p>\n<pre><code>class AvaHostVerticle extends AbstractVerticle {\n  @Override\n  void start( Promise startPromise ) throws Exception {\n    Router router = Router.router vertx\n    new WebsocketHandler( router )\n    vertx.createHttpServer().requestHandler router listen 7777, startPromise\n  }\n}\n\nclass WebsocketHandler implements Handler&lt;AsyncResult&lt;ServerWebSocket&gt;&gt; {\n  WebsocketHandler( Router router ) {\n    router.route '/ws' handler{ it.request().toWebSocket this }\n  }\n  \n  @Override\n  void handle( AsyncResult&lt;ServerWebSocket&gt; swsRes ) {\n    if( swsRes.failed() ){\n      log.error 'onWSConnect failed', swsRes.cause()\n      return\n    }\n\n    ServerWebSocket sws = swsRes.result()\n    // blah...\n    sws.accept()\n  }\n}\n</code></pre>\n<p>stopped working, throwing the exception:</p>\n<pre><code>11:55:06.716 [vert.x-eventloop-thread-0] ERROR my.controller.WebsocketHandler - onWSConnect failed\njava.lang.IllegalStateException: null\n    at io.vertx.core.http.impl.Http1xServerConnection.createWebSocket(Http1xServerConnection.java:275)\n    at io.vertx.core.http.impl.HttpServerRequestImpl.upgrade(HttpServerRequestImpl.java:420)\n    at io.vertx.ext.web.impl.HttpServerRequestWrapper.upgrade(HttpServerRequestWrapper.java:313)\n    at io.vertx.core.http.HttpServerRequest.toWebSocket(HttpServerRequest.java:386)\n    at io.vertx.core.http.HttpServerRequest$toWebSocket.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:139)\n    at my.controller.WebsocketHandler$_closure1.doCall(WebsocketHandler.groovy:24)\n</code></pre>\n<p>This is the code in Http1xServerConnection where the ISE is thrown:</p>\n<pre><code>  ServerWebSocketImpl createWebSocket(HttpServerRequestImpl request) {\n    if (ws != null) {\n      return ws;\n    }\n    if (!(request.nettyRequest() instanceof FullHttpRequest)) {\n      throw new IllegalStateException();\n    }\n</code></pre>\n<p>The option with</p>\n<pre><code>vertx.createHttpServer().webSocketHandler wsHandler listen 8888\n</code></pre>\n<p>works just fine.</p>\n<p>Is this a bug, or am I missing something?</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":28492010,"reputation":179,"user_id":21804501,"display_name":"Dino Letic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693390280,"creation_date":1693390280,"answer_id":77007031,"question_id":76993698,"body_markdown":"Branch name is not stored there. \r\nYou take the files from the `CheckinProjectPanel`, find GitRepository for them (GitRepositoryManager), and call getCurrentBranch on it.","title":"find branch name inside CheckinHandlerFactory in Idea plugin","body":"<p>Branch name is not stored there.\nYou take the files from the <code>CheckinProjectPanel</code>, find GitRepository for them (GitRepositoryManager), and call getCurrentBranch on it.</p>\n"}],"owner":{"account_id":29315284,"reputation":1,"user_id":22460186,"display_name":"Vladimir Sabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1693390280,"creation_date":1693232898,"question_id":76993698,"body_markdown":"I&#39;m trying to write a plugin for an idea that will check the commit for the established writing rules. In particular, it is necessary to compare the commit message with the branch to which it will be sent. I tried to inherit from the CheckinHandlerFactory, the commit text is present in the CommitContext, but I don&#39;t understand how to get the branch name.\r\n\r\nhere is my code: \r\n\r\n```\r\npublic class BeforeCommitPlugin extends CheckinHandlerFactory {\r\n\r\n    @Override\r\n    public @NotNull CheckinHandler createHandler(@NotNull CheckinProjectPanel panel,\r\n                                                 @NotNull CommitContext commitContext) {\r\n        return new CheckinHandler() {\r\n            @Override\r\n            public @Nullable RefreshableOnComponent getBeforeCheckinConfigurationPanel() {\r\n                return super.getBeforeCheckinConfigurationPanel();\r\n            }\r\n\r\n            @Override\r\n            public @Nullable UnnamedConfigurable getBeforeCheckinSettings() {\r\n                return super.getBeforeCheckinSettings();\r\n            }\r\n\r\n            @Override\r\n            public @Nullable RefreshableOnComponent getAfterCheckinConfigurationPanel(Disposable parentDisposable) {\r\n                return super.getAfterCheckinConfigurationPanel(parentDisposable);\r\n            }\r\n\r\n            @Override\r\n            public ReturnResult beforeCheckin(@Nullable CommitExecutor executor, PairConsumer&lt;Object, Object&gt; additionalDataConsumer) {\r\n                return super.beforeCheckin(executor, additionalDataConsumer);\r\n            }\r\n\r\n            @Override\r\n            public ReturnResult beforeCheckin() {\r\n                CommitMessageStyleChecker checker = new CommitMessageStyleChecker(panel.getCommitMessage());\r\n                if (!checker.getCommitErrors().isEmpty()){\r\n                    return ReturnResult.CANCEL;\r\n                } else {\r\n                    return ReturnResult.COMMIT;\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void checkinSuccessful() {\r\n                super.checkinSuccessful();\r\n            }\r\n\r\n            @Override\r\n            public void checkinFailed(List&lt;VcsException&gt; exception) {\r\n                super.checkinFailed(exception);\r\n            }\r\n\r\n            @Override\r\n            public void includedChangesChanged() {\r\n                super.includedChangesChanged();\r\n            }\r\n\r\n            @Override\r\n            public boolean acceptExecutor(CommitExecutor executor) {\r\n                return super.acceptExecutor(executor);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\n\r\nI tried to find the right field inside the panel, but failed","title":"find branch name inside CheckinHandlerFactory in Idea plugin","body":"<p>I'm trying to write a plugin for an idea that will check the commit for the established writing rules. In particular, it is necessary to compare the commit message with the branch to which it will be sent. I tried to inherit from the CheckinHandlerFactory, the commit text is present in the CommitContext, but I don't understand how to get the branch name.</p>\n<p>here is my code:</p>\n<pre><code>public class BeforeCommitPlugin extends CheckinHandlerFactory {\n\n    @Override\n    public @NotNull CheckinHandler createHandler(@NotNull CheckinProjectPanel panel,\n                                                 @NotNull CommitContext commitContext) {\n        return new CheckinHandler() {\n            @Override\n            public @Nullable RefreshableOnComponent getBeforeCheckinConfigurationPanel() {\n                return super.getBeforeCheckinConfigurationPanel();\n            }\n\n            @Override\n            public @Nullable UnnamedConfigurable getBeforeCheckinSettings() {\n                return super.getBeforeCheckinSettings();\n            }\n\n            @Override\n            public @Nullable RefreshableOnComponent getAfterCheckinConfigurationPanel(Disposable parentDisposable) {\n                return super.getAfterCheckinConfigurationPanel(parentDisposable);\n            }\n\n            @Override\n            public ReturnResult beforeCheckin(@Nullable CommitExecutor executor, PairConsumer&lt;Object, Object&gt; additionalDataConsumer) {\n                return super.beforeCheckin(executor, additionalDataConsumer);\n            }\n\n            @Override\n            public ReturnResult beforeCheckin() {\n                CommitMessageStyleChecker checker = new CommitMessageStyleChecker(panel.getCommitMessage());\n                if (!checker.getCommitErrors().isEmpty()){\n                    return ReturnResult.CANCEL;\n                } else {\n                    return ReturnResult.COMMIT;\n                }\n            }\n\n            @Override\n            public void checkinSuccessful() {\n                super.checkinSuccessful();\n            }\n\n            @Override\n            public void checkinFailed(List&lt;VcsException&gt; exception) {\n                super.checkinFailed(exception);\n            }\n\n            @Override\n            public void includedChangesChanged() {\n                super.includedChangesChanged();\n            }\n\n            @Override\n            public boolean acceptExecutor(CommitExecutor executor) {\n                return super.acceptExecutor(executor);\n            }\n        };\n    }\n}\n</code></pre>\n<p>I tried to find the right field inside the panel, but failed</p>\n"},{"tags":["java","regex","java-8"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1693388169,"post_id":77006727,"comment_id":135752920,"body_markdown":"the problem isn&#39;t with the regex but with the replacment. Just use two distinct regexs and that&#39;ll solve your problem","body":"the problem isn&#39;t with the regex but with the replacment. Just use two distinct regexs and that&#39;ll solve your problem"},{"owner":{"account_id":6286080,"reputation":345,"user_id":4885272,"accept_rate":50,"display_name":"Evgenia"},"score":0,"creation_date":1693388424,"post_id":77006727,"comment_id":135752984,"body_markdown":"@Aaron, but I don&#39;t understand how to avoide replacement of bind parameters in quotes if it will be distinct regexs.","body":"@Aaron, but I don&#39;t understand how to avoide replacement of bind parameters in quotes if it will be distinct regexs."}],"answers":[{"comments":[{"owner":{"account_id":6286080,"reputation":345,"user_id":4885272,"accept_rate":50,"display_name":"Evgenia"},"score":0,"creation_date":1693389390,"post_id":77006823,"comment_id":135753214,"body_markdown":"thanks! it really works. I&#39;ve also tried to use matcher but didn&#39;t manage to. But is there a way to do this in Java 8?","body":"thanks! it really works. I&#39;ve also tried to use matcher but didn&#39;t manage to. But is there a way to do this in Java 8?"},{"owner":{"account_id":6286080,"reputation":345,"user_id":4885272,"accept_rate":50,"display_name":"Evgenia"},"score":1,"creation_date":1693391164,"post_id":77006823,"comment_id":135753586,"body_markdown":"really appreciate!","body":"really appreciate!"}],"tags":[],"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1693389831,"creation_date":1693388652,"answer_id":77006823,"question_id":77006727,"body_markdown":"You can use a variable replacement with [*`public String replaceAll​(Function&lt;MatchResult,String&gt; replacer)`*](https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-):\r\n```java\r\npublic static final Pattern regex = Pattern.compile(&quot;(&#39;[^\\\\n&#39;]*&#39;)|:\\\\s*\\\\w+&quot;);\r\npublic static String replaceBindVars(String value) {\r\n    return regex.matcher(value).replaceAll(m -&gt; m.group(1) != null ? m.group(1) : &quot;?&quot;); \r\n}\r\n```\r\nSee [this Java demo][1].\r\n\r\nIf Group 1 matches, Group 1 value is output (no change is made), else, the match is replaced with a `?` char (this way, there is no need in Group 2).\r\n\r\nIn Java 8 and older versions you can use\r\n```java\r\npublic static final Pattern regex = Pattern.compile(&quot;(&#39;[^\\\\n&#39;]*&#39;)|:\\\\s*\\\\w+&quot;);\r\npublic static String replaceBindVars(String value) {\r\n\tStringBuffer result = new StringBuffer();\r\n\tMatcher m = regex.matcher(value);\r\n\twhile (m.find()) {\r\n   \t\tif (m.group(1) != null) {\r\n   \t\t\tm.appendReplacement(result, Matcher.quoteReplacement(m.group(1)));\r\n   \t\t} else {\r\n   \t\t\tm.appendReplacement(result, &quot;?&quot;);\r\n   \t\t}\r\n\t}\r\n\tm.appendTail(result);\r\n    return result.toString(); \r\n}\r\n```\r\n\r\n  [1]: https://ideone.com/Y0Kj8A","title":"Regex to replace bind parameters that NOT in quotes","body":"<p>You can use a variable replacement with <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#replaceAll-java.util.function.Function-\" rel=\"nofollow noreferrer\"><em><code>public String replaceAll​(Function&lt;MatchResult,String&gt; replacer)</code></em></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Pattern regex = Pattern.compile(&quot;('[^\\\\n']*')|:\\\\s*\\\\w+&quot;);\npublic static String replaceBindVars(String value) {\n    return regex.matcher(value).replaceAll(m -&gt; m.group(1) != null ? m.group(1) : &quot;?&quot;); \n}\n</code></pre>\n<p>See <a href=\"https://ideone.com/Y0Kj8A\" rel=\"nofollow noreferrer\">this Java demo</a>.</p>\n<p>If Group 1 matches, Group 1 value is output (no change is made), else, the match is replaced with a <code>?</code> char (this way, there is no need in Group 2).</p>\n<p>In Java 8 and older versions you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final Pattern regex = Pattern.compile(&quot;('[^\\\\n']*')|:\\\\s*\\\\w+&quot;);\npublic static String replaceBindVars(String value) {\n    StringBuffer result = new StringBuffer();\n    Matcher m = regex.matcher(value);\n    while (m.find()) {\n        if (m.group(1) != null) {\n            m.appendReplacement(result, Matcher.quoteReplacement(m.group(1)));\n        } else {\n            m.appendReplacement(result, &quot;?&quot;);\n        }\n    }\n    m.appendTail(result);\n    return result.toString(); \n}\n</code></pre>\n"}],"owner":{"account_id":6286080,"reputation":345,"user_id":4885272,"accept_rate":50,"display_name":"Evgenia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77006823,"answer_count":1,"score":1,"last_activity_date":1693389837,"creation_date":1693387988,"question_id":77006727,"body_markdown":"I have a regex that detects text in quotes (first group) and bind parameters (second group).\r\nGroup for text in quotes is required to avoid replacing bind parameters in it.\r\n\r\n    (&#39;[^\\\\n&#39;]*&#39;)|(:\\\\s*\\\\w+)\r\nI tried to keep first group and replace second one with &quot;?&quot;:\r\n\r\n    public static String replaceBindVars(String value) {\r\n    \treturn value.replaceAll(&quot;(&#39;[^\\\\n&#39;]*&#39;)|(:\\\\s*\\\\w+)&quot;, &quot;$1?&quot;); \r\n    }\r\nThe problem is that it adds &quot;?&quot; after first group.\r\n\r\nCode to test, the result should be true in all cases:\r\n\r\n    public static void main(String[] args) {\t\r\n    \tSystem.out.println(&quot;WHERE id = ? and productcode = ?&quot;\r\n    \t\t\t.equals(replaceBindVars(&quot;WHERE id = :id and productcode = :product_code&quot;)));\r\n    \t\r\n    \tSystem.out.println(&quot;WHERE id = ? and productcode = &#39;1:2 :3&#39;&quot;\r\n    \t\t\t.equals(replaceBindVars(&quot;WHERE id = :id and productcode = &#39;1:2 :3&#39;&quot;)));\r\n    \t\r\n    \tSystem.out.println(&quot;WHERE id = ? and code LIKE &#39;: some-string with :colon and :bind_parameters&#39; OR product_name LIKE ?&#39;&quot;.\r\n    \t\t\tequals(replaceBindVars(&quot;WHERE id = :id and code LIKE &#39;: some-string with :colon and :bind_parameters&#39; OR product_name LIKE :product_name&#39;&quot;)));\r\n    \t\r\n    \tSystem.out.println(&quot;SELECT ? and ? WHERE id = 2 and product_code = 3&quot;.\r\n    \t\t\tequals(replaceBindVars(&quot;SELECT :id and :product_code WHERE id = 2 and product_code = 3&quot;)));\r\n    \t\r\n    }\r\n\r\nIs there any way to modify my current regex to do not add &quot;?&quot; after bind parameters in quotes? Preferred Java version is 8.\r\n\r\nI saw [this](https://stackoverflow.com/q/64083453/4885272) similar question, but it doesn&#39;t help.","title":"Regex to replace bind parameters that NOT in quotes","body":"<p>I have a regex that detects text in quotes (first group) and bind parameters (second group).\nGroup for text in quotes is required to avoid replacing bind parameters in it.</p>\n<pre><code>('[^\\\\n']*')|(:\\\\s*\\\\w+)\n</code></pre>\n<p>I tried to keep first group and replace second one with &quot;?&quot;:</p>\n<pre><code>public static String replaceBindVars(String value) {\n    return value.replaceAll(&quot;('[^\\\\n']*')|(:\\\\s*\\\\w+)&quot;, &quot;$1?&quot;); \n}\n</code></pre>\n<p>The problem is that it adds &quot;?&quot; after first group.</p>\n<p>Code to test, the result should be true in all cases:</p>\n<pre><code>public static void main(String[] args) {    \n    System.out.println(&quot;WHERE id = ? and productcode = ?&quot;\n            .equals(replaceBindVars(&quot;WHERE id = :id and productcode = :product_code&quot;)));\n    \n    System.out.println(&quot;WHERE id = ? and productcode = '1:2 :3'&quot;\n            .equals(replaceBindVars(&quot;WHERE id = :id and productcode = '1:2 :3'&quot;)));\n    \n    System.out.println(&quot;WHERE id = ? and code LIKE ': some-string with :colon and :bind_parameters' OR product_name LIKE ?'&quot;.\n            equals(replaceBindVars(&quot;WHERE id = :id and code LIKE ': some-string with :colon and :bind_parameters' OR product_name LIKE :product_name'&quot;)));\n    \n    System.out.println(&quot;SELECT ? and ? WHERE id = 2 and product_code = 3&quot;.\n            equals(replaceBindVars(&quot;SELECT :id and :product_code WHERE id = 2 and product_code = 3&quot;)));\n    \n}\n</code></pre>\n<p>Is there any way to modify my current regex to do not add &quot;?&quot; after bind parameters in quotes? Preferred Java version is 8.</p>\n<p>I saw <a href=\"https://stackoverflow.com/q/64083453/4885272\">this</a> similar question, but it doesn't help.</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4199643,"reputation":2357,"user_id":3440100,"display_name":"alfcope"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1398554756,"creation_date":1398554756,"answer_id":23317608,"question_id":23314894,"body_markdown":"What does it mean &quot;neither worked&quot;? What&#39;s your problem?\r\n\r\nI think your problem is @EnableTransactionManagement and &lt;tx:annotation-driven/&gt; only looks for @Transactional on beans in the same application context they are defined in. This means that, if you put annotation driven configuration in a WebApplicationContext for a DispatcherServlet, it only checks for @Transactional beans in your controllers, and not your services.\r\n\r\nTry, in your application-context.xml\r\n\r\n    &lt;context:component-scan base-package=&quot;path.to.your.models, path.to.your.daos, path.to.your.services&quot;/&gt;\r\n\r\nIn your servlet-context.xml\r\n\r\n    &lt;context:component-scan base-package=&quot;com.springhibernatejpatest.controllers&quot;/&gt;\r\n\r\n\r\nAnother thread: [Spring @transactional not working][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10019426/spring-transactional-not-working","title":"org.hibernate.HibernateException: No Session found for current thread 5","body":"<p>What does it mean \"neither worked\"? What's your problem?</p>\n\n<p>I think your problem is @EnableTransactionManagement and  only looks for @Transactional on beans in the same application context they are defined in. This means that, if you put annotation driven configuration in a WebApplicationContext for a DispatcherServlet, it only checks for @Transactional beans in your controllers, and not your services.</p>\n\n<p>Try, in your application-context.xml</p>\n\n<pre><code>&lt;context:component-scan base-package=\"path.to.your.models, path.to.your.daos, path.to.your.services\"/&gt;\n</code></pre>\n\n<p>In your servlet-context.xml</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.springhibernatejpatest.controllers\"/&gt;\n</code></pre>\n\n<p>Another thread: <a href=\"https://stackoverflow.com/questions/10019426/spring-transactional-not-working\">Spring @transactional not working</a></p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554788662,"creation_date":1554788662,"answer_id":55585836,"question_id":23314894,"body_markdown":"Your &quot;fix&quot; is actually a dangerous one, as you are opening a new session outside the scope of Springs transaction management. This will eventually leave to connection leaks, memory issues and stability issues. \r\n\r\nThe real problem is that you have `&lt;tx:annotation-driven /&gt;` in your root context and you do component scanning the context loaded by the `DispatcherServlet`. Move the `&lt;tx:annotation-driven /&gt;` to the context loaded by the `DispatcherServlet` to really fix your problem. \r\n\r\nOr split component-scanning into 2, the root context should scan everything but your controller\r\n\r\n```\r\n&lt;context:component-scan base-package=&quot;com.joe.recipes&quot;&gt;\r\n  &lt;context:exclude-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt; \r\n&lt;/context:component-scan&gt;\r\n```\r\n\r\n, and the dispatcher servlet one should detect only web related beans. \r\n\r\n```\r\n&lt;context:component-scan base-package=&quot;com.joe.recipes&quot; use-default-filters=&quot;false&quot;&gt;\r\n  &lt;context:include-filter type=&quot;annotation&quot; expression=&quot;org.springframework.stereotype.Controller&quot;/&gt; \r\n&lt;/context:component-scan&gt;\r\n```\r\n\r\nNow you can leave the `&lt;tx:annotation-driven /&gt;` where it is.\r\n","title":"org.hibernate.HibernateException: No Session found for current thread 5","body":"<p>Your \"fix\" is actually a dangerous one, as you are opening a new session outside the scope of Springs transaction management. This will eventually leave to connection leaks, memory issues and stability issues. </p>\n\n<p>The real problem is that you have <code>&lt;tx:annotation-driven /&gt;</code> in your root context and you do component scanning the context loaded by the <code>DispatcherServlet</code>. Move the <code>&lt;tx:annotation-driven /&gt;</code> to the context loaded by the <code>DispatcherServlet</code> to really fix your problem. </p>\n\n<p>Or split component-scanning into 2, the root context should scan everything but your controller</p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.joe.recipes\"&gt;\n  &lt;context:exclude-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/&gt; \n&lt;/context:component-scan&gt;\n</code></pre>\n\n<p>, and the dispatcher servlet one should detect only web related beans. </p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.joe.recipes\" use-default-filters=\"false\"&gt;\n  &lt;context:include-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\"/&gt; \n&lt;/context:component-scan&gt;\n</code></pre>\n\n<p>Now you can leave the <code>&lt;tx:annotation-driven /&gt;</code> where it is.</p>\n"}],"owner":{"account_id":1800971,"reputation":149,"user_id":1639346,"accept_rate":29,"display_name":"javajoe316"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13756,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1693389835,"creation_date":1398536738,"question_id":23314894,"body_markdown":"I know this problem is asked a lot but I am stuck. I am basing my project off of this tutorial: http://www.cavalr.com/blog/Spring_3_and_Annotation_Based_Hibernate_4_Example\r\n\r\nThis is my root-context.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/tx \r\n        http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n      &lt;bean id=&quot;dataSource&quot; class=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClass&quot; value=&quot;${jdbc.driver}&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n        &lt;property name=&quot;user&quot; value=&quot;${jdbc.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n        &lt;property name=&quot;initialPoolSize&quot; value=&quot;1&quot; /&gt;\r\n        &lt;property name=&quot;minPoolSize&quot; value=&quot;1&quot; /&gt;\r\n        &lt;property name=&quot;maxPoolSize&quot; value=&quot;20&quot; /&gt;\r\n      &lt;/bean&gt;\r\n    \r\n      &lt;bean id=&quot;propertyConfigurer&quot;\r\n            class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n        &lt;property name=&quot;locations&quot;&gt;\r\n          &lt;list&gt;\r\n            &lt;value&gt;classpath:db.properties&lt;/value&gt;\r\n          &lt;/list&gt;\r\n        &lt;/property&gt;\r\n      &lt;/bean&gt;\r\n    \r\n      &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.joe.recipes.data&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n          &lt;props&gt;\r\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\r\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n          &lt;/props&gt;\r\n    \r\n        &lt;/property&gt;\r\n      &lt;/bean&gt;\r\n    \r\n      &lt;!-- Enables the Hibernate @Transactional programming model --&gt;\r\n      &lt;tx:annotation-driven transaction-manager=&quot;transactionManager&quot;/&gt;\r\n    \r\n      &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate4.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot;/&gt;\r\n      &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nThis is my servlet-context.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/mvc&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;\r\n                 xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n                 xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n                 xsi:schemaLocation=&quot;http://www.springframework.org/schema/mvc \r\n        http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n        http://www.springframework.org/schema/beans \r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context   \r\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    \r\n      &lt;!-- DispatcherServlet Context: defines this servlet&#39;s request-processing infrastructure --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.joe.recipes&quot; /&gt;\r\n      &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\r\n      &lt;mvc:annotation-driven /&gt;\r\n    \r\n      &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\r\n      &lt;resources mapping=&quot;/resources/**&quot; location=&quot;/resources/&quot; /&gt;\r\n    \r\n      &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\r\n      &lt;beans:bean class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n        &lt;beans:property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot; /&gt;\r\n        &lt;beans:property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n      &lt;/beans:bean&gt;\r\n    \r\n    &lt;/beans:beans&gt;\r\n\r\nThis is my AbstractDaoImpl\r\n\r\n    public abstract class AbstractDaoImpl&lt;E, I extends Serializable&gt; implements AbstractDao&lt;E,I&gt; {\r\n    \r\n        private Class&lt;E&gt; entityClass;\r\n    \r\n        protected AbstractDaoImpl(Class&lt;E&gt; entityClass) {\r\n            this.entityClass = entityClass;\r\n        }\r\n    \r\n        @Autowired\r\n        private SessionFactory sessionFactory;\r\n    \r\n        public Session getCurrentSession() {\r\n            return sessionFactory.getCurrentSession();\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public E findById(I id) {\r\n            return (E) getCurrentSession().get(entityClass, id);\r\n        }\r\n    \r\n        @Override\r\n        public void saveOrUpdate(E e) {\r\n            getCurrentSession().saveOrUpdate(e);\r\n        }\r\n    \r\n        @Override\r\n        public void delete(E e) {\r\n            getCurrentSession().delete(e);\r\n        }\r\n    \r\n        @Override\r\n        public List findByCriteria(Criterion criterion) {\r\n            Criteria criteria = getCurrentSession().createCriteria(entityClass);\r\n            criteria.add(criterion);\r\n            return criteria.list();\r\n        }\r\n    }\r\n\r\nThis is my `RecipeDaoImpl` class\r\n\r\n    @Repository\r\n    public class RecipeDaoImpl extends AbstractDaoImpl&lt;Recipe, String&gt; implements RecipeDao {\r\n    \r\n        protected RecipeDaoImpl() {\r\n            super(Recipe.class);\r\n        }\r\n    \r\n        @Override\r\n        public boolean saveRecipe(Recipe r) {\r\n            return saveRecipe(r);\r\n        }\r\n    \r\n        @Override\r\n        public Recipe getRecipe(String recipeId) {\r\n            return findById(recipeId);\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        @Override\r\n        public List&lt;Recipe&gt; findRecipes(String keyword) {\r\n            return findByCriteria( Restrictions.and( Restrictions.like(&quot;name&quot;, keyword, MatchMode.ANYWHERE),\r\n                Restrictions.like(&quot;keywords&quot;, keyword, MatchMode.ANYWHERE) ) );\r\n        }\r\n    }\r\n\r\nThis is my `RecipeServiceImpl` class\r\n\r\n    @Service(&quot;recipeService&quot;)\r\n    @Transactional(readOnly = true)\r\n    public class RecipeServiceImpl implements RecipeService {\r\n        @Autowired\r\n        private RecipeDao recipeDao;\r\n    \r\n        @Override\r\n        @Transactional(readOnly = false)\r\n        public boolean saveRecipe(Recipe r) {\r\n            return recipeDao.saveRecipe(r);\r\n        }\r\n    \r\n        @Override\r\n        public Recipe getRecipe(String recipeId) {\r\n            return recipeDao.getRecipe(recipeId);\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Recipe&gt; findRecipes(String keyword) {\r\n            return recipeDao.findRecipes(keyword);\r\n        }\r\n    }\r\n\r\nThis is my `RecipeController`\r\n\r\n    /**\r\n     * Handles requests for the application home page.\r\n     */\r\n    @Controller\r\n    public class RecipeController {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(RecipeController.class);\r\n    \r\n        @Autowired\r\n        private RecipeService recipeService;\r\n    \r\n        /**\r\n         * Adds recipes to the DB\r\n         */\r\n        @RequestMapping(value = &quot;/add&quot;, method = RequestMethod.GET)\r\n        public String add(Locale locale, Model model) {\r\n            return &quot;add&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Searches for recipes\r\n         */\r\n        @RequestMapping(value = &quot;/search&quot;, method = RequestMethod.POST)\r\n        public String search(@RequestParam(value=&quot;keyword&quot;, required=true) String keyword, Model model) {\r\n    \r\n            List&lt;Recipe&gt; recipes = recipeService.findRecipes(keyword);\r\n            System.out.println( &quot;Results:&quot;+ recipes.size() );\r\n            return &quot;results&quot;;\r\n        }\r\n    \r\n        /**\r\n         * Logs in the user\r\n         */\r\n        @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST)\r\n        public String login(Locale locale, Model model) {\r\n    \r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nI&#39;ve tried putting the `@Transactional` on the `RecipeDaoImpl` class and the `AbstractDaoImpl` class and neither worked.\r\n\r\nEDIT:\r\nI fixed this by catching the exception and opening a new one:\r\n\r\n    public Session getCurrentSession() {\r\n    \tSession session = null;\r\n    \ttry { \r\n    \t\tsession = sessionFactory.getCurrentSession();\r\n    \t} catch ( HibernateException he ) {\r\n    \t\tsession = sessionFactory.openSession();\r\n    \t}\r\n    \treturn session;\r\n    }","title":"org.hibernate.HibernateException: No Session found for current thread 5","body":"<p>I know this problem is asked a lot but I am stuck. I am basing my project off of this tutorial: <a href=\"http://www.cavalr.com/blog/Spring_3_and_Annotation_Based_Hibernate_4_Example\" rel=\"nofollow\">http://www.cavalr.com/blog/Spring_3_and_Annotation_Based_Hibernate_4_Example</a></p>\n\n<p>This is my root-context.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/tx \n    http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n  &lt;bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\"&gt;\n    &lt;property name=\"driverClass\" value=\"${jdbc.driver}\"/&gt;\n    &lt;property name=\"jdbcUrl\" value=\"${jdbc.url}\"/&gt;\n    &lt;property name=\"user\" value=\"${jdbc.username}\"/&gt;\n    &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n    &lt;property name=\"initialPoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"minPoolSize\" value=\"1\" /&gt;\n    &lt;property name=\"maxPoolSize\" value=\"20\" /&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=\"propertyConfigurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;property name=\"locations\"&gt;\n      &lt;list&gt;\n        &lt;value&gt;classpath:db.properties&lt;/value&gt;\n      &lt;/list&gt;\n    &lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;bean id=\"sessionFactory\" class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;property name=\"packagesToScan\" value=\"com.joe.recipes.data\" /&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n      &lt;props&gt;\n        &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQL5InnoDBDialect&lt;/prop&gt;\n        &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n      &lt;/props&gt;\n\n    &lt;/property&gt;\n  &lt;/bean&gt;\n\n  &lt;!-- Enables the Hibernate @Transactional programming model --&gt;\n  &lt;tx:annotation-driven transaction-manager=\"transactionManager\"/&gt;\n\n  &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.hibernate4.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\"/&gt;\n  &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>This is my servlet-context.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n             xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n             xmlns:beans=\"http://www.springframework.org/schema/beans\"\n             xmlns:context=\"http://www.springframework.org/schema/context\"\n             xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n             xsi:schemaLocation=\"http://www.springframework.org/schema/mvc \n    http://www.springframework.org/schema/mvc/spring-mvc.xsd\n    http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans.xsd\n    http://www.springframework.org/schema/context   \n    http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n\n  &lt;!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --&gt;\n  &lt;context:component-scan base-package=\"com.joe.recipes\" /&gt;\n  &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n  &lt;mvc:annotation-driven /&gt;\n\n  &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\n  &lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n  &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\n  &lt;beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n    &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n  &lt;/beans:bean&gt;\n\n&lt;/beans:beans&gt;\n</code></pre>\n\n<p>This is my AbstractDaoImpl</p>\n\n<pre><code>public abstract class AbstractDaoImpl&lt;E, I extends Serializable&gt; implements AbstractDao&lt;E,I&gt; {\n\n    private Class&lt;E&gt; entityClass;\n\n    protected AbstractDaoImpl(Class&lt;E&gt; entityClass) {\n        this.entityClass = entityClass;\n    }\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    public Session getCurrentSession() {\n        return sessionFactory.getCurrentSession();\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public E findById(I id) {\n        return (E) getCurrentSession().get(entityClass, id);\n    }\n\n    @Override\n    public void saveOrUpdate(E e) {\n        getCurrentSession().saveOrUpdate(e);\n    }\n\n    @Override\n    public void delete(E e) {\n        getCurrentSession().delete(e);\n    }\n\n    @Override\n    public List findByCriteria(Criterion criterion) {\n        Criteria criteria = getCurrentSession().createCriteria(entityClass);\n        criteria.add(criterion);\n        return criteria.list();\n    }\n}\n</code></pre>\n\n<p>This is my <code>RecipeDaoImpl</code> class</p>\n\n<pre><code>@Repository\npublic class RecipeDaoImpl extends AbstractDaoImpl&lt;Recipe, String&gt; implements RecipeDao {\n\n    protected RecipeDaoImpl() {\n        super(Recipe.class);\n    }\n\n    @Override\n    public boolean saveRecipe(Recipe r) {\n        return saveRecipe(r);\n    }\n\n    @Override\n    public Recipe getRecipe(String recipeId) {\n        return findById(recipeId);\n    }\n\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public List&lt;Recipe&gt; findRecipes(String keyword) {\n        return findByCriteria( Restrictions.and( Restrictions.like(\"name\", keyword, MatchMode.ANYWHERE),\n            Restrictions.like(\"keywords\", keyword, MatchMode.ANYWHERE) ) );\n    }\n}\n</code></pre>\n\n<p>This is my <code>RecipeServiceImpl</code> class</p>\n\n<pre><code>@Service(\"recipeService\")\n@Transactional(readOnly = true)\npublic class RecipeServiceImpl implements RecipeService {\n    @Autowired\n    private RecipeDao recipeDao;\n\n    @Override\n    @Transactional(readOnly = false)\n    public boolean saveRecipe(Recipe r) {\n        return recipeDao.saveRecipe(r);\n    }\n\n    @Override\n    public Recipe getRecipe(String recipeId) {\n        return recipeDao.getRecipe(recipeId);\n    }\n\n    @Override\n    public List&lt;Recipe&gt; findRecipes(String keyword) {\n        return recipeDao.findRecipes(keyword);\n    }\n}\n</code></pre>\n\n<p>This is my <code>RecipeController</code></p>\n\n<pre><code>/**\n * Handles requests for the application home page.\n */\n@Controller\npublic class RecipeController {\n\n    private static final Logger logger = LoggerFactory.getLogger(RecipeController.class);\n\n    @Autowired\n    private RecipeService recipeService;\n\n    /**\n     * Adds recipes to the DB\n     */\n    @RequestMapping(value = \"/add\", method = RequestMethod.GET)\n    public String add(Locale locale, Model model) {\n        return \"add\";\n    }\n\n    /**\n     * Searches for recipes\n     */\n    @RequestMapping(value = \"/search\", method = RequestMethod.POST)\n    public String search(@RequestParam(value=\"keyword\", required=true) String keyword, Model model) {\n\n        List&lt;Recipe&gt; recipes = recipeService.findRecipes(keyword);\n        System.out.println( \"Results:\"+ recipes.size() );\n        return \"results\";\n    }\n\n    /**\n     * Logs in the user\n     */\n    @RequestMapping(value = \"/login\", method = RequestMethod.POST)\n    public String login(Locale locale, Model model) {\n\n        return \"login\";\n    }\n}\n</code></pre>\n\n<p>I've tried putting the <code>@Transactional</code> on the <code>RecipeDaoImpl</code> class and the <code>AbstractDaoImpl</code> class and neither worked.</p>\n\n<p>EDIT:\nI fixed this by catching the exception and opening a new one:</p>\n\n<pre><code>public Session getCurrentSession() {\n    Session session = null;\n    try { \n        session = sessionFactory.getCurrentSession();\n    } catch ( HibernateException he ) {\n        session = sessionFactory.openSession();\n    }\n    return session;\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1693390129,"post_id":77006919,"comment_id":135753374,"body_markdown":"Do you successfully detect shake actions with your current code ?","body":"Do you successfully detect shake actions with your current code ?"},{"owner":{"account_id":28211308,"reputation":1,"user_id":21563512,"display_name":"e36_King"},"score":0,"creation_date":1693392164,"post_id":77006919,"comment_id":135753809,"body_markdown":"I will buy an android phone tomorrow and test it. I tested on my friends phone and it didn&#39;t work.","body":"I will buy an android phone tomorrow and test it. I tested on my friends phone and it didn&#39;t work."},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1693396192,"post_id":77006919,"comment_id":135754613,"body_markdown":"Maybe you haven&#39;t registered the listener, see the answers here : https://stackoverflow.com/questions/5271448/how-to-detect-shake-event-with-android","body":"Maybe you haven&#39;t registered the listener, see the answers here : <a href=\"https://stackoverflow.com/questions/5271448/how-to-detect-shake-event-with-android\" title=\"how to detect shake event with android\">stackoverflow.com/questions/5271448/&hellip;</a>"}],"owner":{"account_id":28211308,"reputation":1,"user_id":21563512,"display_name":"e36_King"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693389396,"creation_date":1693389396,"question_id":77006919,"body_markdown":"I been trying to build my first application. It is a cowbell but for some reason, it isnt working. When I press the image button it makes the cowbell sound i implemented it when shaking the phone too but the shake to play is not working. Here are my codes:\r\n\r\n```\r\nMainActivity.java\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private ImageButton imageButton;\r\n    private SensorManager mSensorManager;\r\n    private Sensor mAccelerometer;\r\n    private ShakeDetector mShakeDetector;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        imageButton = findViewById(R.id.imageButton);\r\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.cowbell);\r\n        imageButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                mediaPlayer.start();\r\n            }\r\n        });\r\n\r\n        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\r\n        mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\r\n        mShakeDetector = new ShakeDetector(new OnShakeListener(){\r\n            public void onShake(){mediaPlayer.start();}\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n\r\n```\r\n\r\n\r\nShakeDetector.java\r\n\r\nimport android.hardware.Sensor;\r\nimport android.hardware.SensorEvent;\r\nimport android.hardware.SensorEventListener;\r\n\r\npublic class ShakeDetector implements SensorEventListener {\r\n\r\n    // Minimum acceleration needed to count as a shake movement\r\n    private static final int MIN_SHAKE_ACCELERATION = 5;\r\n\r\n    // Minimum number of movements to register a shake\r\n    private static final int MIN_MOVEMENTS = 2;\r\n\r\n    // Maximum time (in milliseconds) for the whole shake to occur\r\n    private static final int MAX_SHAKE_DURATION = 500;\r\n\r\n    // Arrays to store gravity and linear acceleration values\r\n    private final float[] mGravity = { 0.0f, 0.0f, 0.0f };\r\n    private final float[] mLinearAcceleration = { 0.0f, 0.0f, 0.0f };\r\n\r\n    // Indexes for x, y, and z values\r\n    private static final int X = 0;\r\n    private static final int Y = 1;\r\n    private static final int Z = 2;\r\n\r\n    // OnShakeListener that will be notified when the shake is detected\r\n    private final OnShakeListener mShakeListener;\r\n\r\n    // Start time for the shake detection\r\n    long startTime = 0;\r\n\r\n    // Counter for shake movements\r\n    int moveCount = 0;\r\n\r\n    // Constructor that sets the shake listener\r\n    public ShakeDetector(OnShakeListener shakeListener) {\r\n        mShakeListener = shakeListener;\r\n    }\r\n\r\n    @Override\r\n    public void onSensorChanged(SensorEvent event) {\r\n        // This method will be called when the accelerometer detects a change.\r\n\r\n        // Call a helper method that wraps code from the Android developer site\r\n        setCurrentAcceleration(event);\r\n\r\n        // Get the max linear acceleration in any direction\r\n        float maxLinearAcceleration = getMaxCurrentLinearAcceleration();\r\n\r\n        // Check if the acceleration is greater than our minimum threshold\r\n        if (maxLinearAcceleration &gt; MIN_SHAKE_ACCELERATION) {\r\n            long now = System.currentTimeMillis();\r\n\r\n            // Set the startTime if it was reset to zero\r\n            if (startTime == 0) {\r\n                startTime = now;\r\n            }\r\n\r\n            long elapsedTime = now - startTime;\r\n\r\n            // Check if we&#39;re still in the shake window we defined\r\n            if (elapsedTime &gt; MAX_SHAKE_DURATION) {\r\n                // Too much time has passed. Start over!\r\n                resetShakeDetection();\r\n            }\r\n            else {\r\n                // Keep track of all the movements\r\n                moveCount++;\r\n\r\n                // Check if enough movements have been made to qualify as a shake\r\n                if (moveCount &gt; MIN_MOVEMENTS) {\r\n                    // It&#39;s a shake! Notify the listener.\r\n                    mShakeListener.onShake();\r\n\r\n                    // Reset for the next one!\r\n                    resetShakeDetection();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\r\n        // Intentionally blank\r\n    }\r\n\r\n    private void setCurrentAcceleration(SensorEvent event) {\r\n        /*\r\n         *  BEGIN SECTION from Android developer site. This code accounts for\r\n         *  gravity using a high-pass filter\r\n         */\r\n\r\n        // alpha is calculated as t / (t + dT)\r\n        // with t, the low-pass filter&#39;s time-constant\r\n        // and dT, the event delivery rate\r\n\r\n        final float alpha = 0.8f;\r\n\r\n        // Gravity components of x, y, and z acceleration\r\n        mGravity[X] = alpha * mGravity[X] + (1 - alpha) * event.values[X];\r\n        mGravity[Y] = alpha * mGravity[Y] + (1 - alpha) * event.values[Y];\r\n        mGravity[Z] = alpha * mGravity[Z] + (1 - alpha) * event.values[Z];\r\n\r\n        // Linear acceleration along the x, y, and z axes (gravity effects removed)\r\n        mLinearAcceleration[X] = event.values[X] - mGravity[X];\r\n        mLinearAcceleration[Y] = event.values[Y] - mGravity[Y];\r\n        mLinearAcceleration[Z] = event.values[Z] - mGravity[Z];\r\n\r\n        /*\r\n         *  END SECTION from Android developer site\r\n         */\r\n    }\r\n\r\n    private float getMaxCurrentLinearAcceleration() {\r\n        // Start by setting the value to the x value\r\n        float maxLinearAcceleration = mLinearAcceleration[X];\r\n\r\n        // Check if the y value is greater\r\n        if (mLinearAcceleration[Y] &gt; maxLinearAcceleration) {\r\n            maxLinearAcceleration = mLinearAcceleration[Y];\r\n        }\r\n\r\n        // Check if the z value is greater\r\n        if (mLinearAcceleration[Z] &gt; maxLinearAcceleration) {\r\n            maxLinearAcceleration = mLinearAcceleration[Z];\r\n        }\r\n\r\n        // Return the greatest value\r\n        return maxLinearAcceleration;\r\n    }\r\n\r\n    private void resetShakeDetection() {\r\n        startTime = 0;\r\n        moveCount = 0;\r\n    }\r\n\r\n    /*\r\n     * Definition for OnShakeListener definition. I would normally put this\r\n     * into it&#39;s own .java file, but I included it here for quick reference\r\n     * and to make it easier to include this file in our project.\r\n     */\r\n    public interface OnShakeListener {\r\n        void onShake();\r\n    }\r\n}\r\n```\r\n\r\nI tried playing around with the codes. And I was expecting for the app to make the cowbell sound while shaking the phone.","title":"When shaking the phone, it doesnt make the sound of a cowbell","body":"<p>I been trying to build my first application. It is a cowbell but for some reason, it isnt working. When I press the image button it makes the cowbell sound i implemented it when shaking the phone too but the shake to play is not working. Here are my codes:</p>\n<pre><code>MainActivity.java\n\npublic class MainActivity extends AppCompatActivity {\n    private ImageButton imageButton;\n    private SensorManager mSensorManager;\n    private Sensor mAccelerometer;\n    private ShakeDetector mShakeDetector;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        imageButton = findViewById(R.id.imageButton);\n        MediaPlayer mediaPlayer = MediaPlayer.create(this, R.raw.cowbell);\n        imageButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                mediaPlayer.start();\n            }\n        });\n\n        mSensorManager = (SensorManager) getSystemService(SENSOR_SERVICE);\n        mAccelerometer = mSensorManager.getDefaultSensor(Sensor.TYPE_ACCELEROMETER);\n        mShakeDetector = new ShakeDetector(new OnShakeListener(){\n            public void onShake(){mediaPlayer.start();}\n        });\n\n    }\n}\n</code></pre>\n<pre><code>\n\nShakeDetector.java\n\nimport android.hardware.Sensor;\nimport android.hardware.SensorEvent;\nimport android.hardware.SensorEventListener;\n\npublic class ShakeDetector implements SensorEventListener {\n\n    // Minimum acceleration needed to count as a shake movement\n    private static final int MIN_SHAKE_ACCELERATION = 5;\n\n    // Minimum number of movements to register a shake\n    private static final int MIN_MOVEMENTS = 2;\n\n    // Maximum time (in milliseconds) for the whole shake to occur\n    private static final int MAX_SHAKE_DURATION = 500;\n\n    // Arrays to store gravity and linear acceleration values\n    private final float[] mGravity = { 0.0f, 0.0f, 0.0f };\n    private final float[] mLinearAcceleration = { 0.0f, 0.0f, 0.0f };\n\n    // Indexes for x, y, and z values\n    private static final int X = 0;\n    private static final int Y = 1;\n    private static final int Z = 2;\n\n    // OnShakeListener that will be notified when the shake is detected\n    private final OnShakeListener mShakeListener;\n\n    // Start time for the shake detection\n    long startTime = 0;\n\n    // Counter for shake movements\n    int moveCount = 0;\n\n    // Constructor that sets the shake listener\n    public ShakeDetector(OnShakeListener shakeListener) {\n        mShakeListener = shakeListener;\n    }\n\n    @Override\n    public void onSensorChanged(SensorEvent event) {\n        // This method will be called when the accelerometer detects a change.\n\n        // Call a helper method that wraps code from the Android developer site\n        setCurrentAcceleration(event);\n\n        // Get the max linear acceleration in any direction\n        float maxLinearAcceleration = getMaxCurrentLinearAcceleration();\n\n        // Check if the acceleration is greater than our minimum threshold\n        if (maxLinearAcceleration &gt; MIN_SHAKE_ACCELERATION) {\n            long now = System.currentTimeMillis();\n\n            // Set the startTime if it was reset to zero\n            if (startTime == 0) {\n                startTime = now;\n            }\n\n            long elapsedTime = now - startTime;\n\n            // Check if we're still in the shake window we defined\n            if (elapsedTime &gt; MAX_SHAKE_DURATION) {\n                // Too much time has passed. Start over!\n                resetShakeDetection();\n            }\n            else {\n                // Keep track of all the movements\n                moveCount++;\n\n                // Check if enough movements have been made to qualify as a shake\n                if (moveCount &gt; MIN_MOVEMENTS) {\n                    // It's a shake! Notify the listener.\n                    mShakeListener.onShake();\n\n                    // Reset for the next one!\n                    resetShakeDetection();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onAccuracyChanged(Sensor sensor, int accuracy) {\n        // Intentionally blank\n    }\n\n    private void setCurrentAcceleration(SensorEvent event) {\n        /*\n         *  BEGIN SECTION from Android developer site. This code accounts for\n         *  gravity using a high-pass filter\n         */\n\n        // alpha is calculated as t / (t + dT)\n        // with t, the low-pass filter's time-constant\n        // and dT, the event delivery rate\n\n        final float alpha = 0.8f;\n\n        // Gravity components of x, y, and z acceleration\n        mGravity[X] = alpha * mGravity[X] + (1 - alpha) * event.values[X];\n        mGravity[Y] = alpha * mGravity[Y] + (1 - alpha) * event.values[Y];\n        mGravity[Z] = alpha * mGravity[Z] + (1 - alpha) * event.values[Z];\n\n        // Linear acceleration along the x, y, and z axes (gravity effects removed)\n        mLinearAcceleration[X] = event.values[X] - mGravity[X];\n        mLinearAcceleration[Y] = event.values[Y] - mGravity[Y];\n        mLinearAcceleration[Z] = event.values[Z] - mGravity[Z];\n\n        /*\n         *  END SECTION from Android developer site\n         */\n    }\n\n    private float getMaxCurrentLinearAcceleration() {\n        // Start by setting the value to the x value\n        float maxLinearAcceleration = mLinearAcceleration[X];\n\n        // Check if the y value is greater\n        if (mLinearAcceleration[Y] &gt; maxLinearAcceleration) {\n            maxLinearAcceleration = mLinearAcceleration[Y];\n        }\n\n        // Check if the z value is greater\n        if (mLinearAcceleration[Z] &gt; maxLinearAcceleration) {\n            maxLinearAcceleration = mLinearAcceleration[Z];\n        }\n\n        // Return the greatest value\n        return maxLinearAcceleration;\n    }\n\n    private void resetShakeDetection() {\n        startTime = 0;\n        moveCount = 0;\n    }\n\n    /*\n     * Definition for OnShakeListener definition. I would normally put this\n     * into it's own .java file, but I included it here for quick reference\n     * and to make it easier to include this file in our project.\n     */\n    public interface OnShakeListener {\n        void onShake();\n    }\n}\n</code></pre>\n<p>I tried playing around with the codes. And I was expecting for the app to make the cowbell sound while shaking the phone.</p>\n"},{"tags":["java","ssl"],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1428618270,"post_id":29548131,"comment_id":47251729,"body_markdown":"Do you mean that the server closes the connection above a certain size *unless* you permit it to use gzip encoding?","body":"Do you mean that the server closes the connection above a certain size <i>unless</i> you permit it to use gzip encoding?"}],"tags":[],"owner":{"account_id":6114838,"reputation":31,"user_id":4770209,"display_name":"Mark_F"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1428610584,"creation_date":1428610584,"answer_id":29548131,"question_id":29544788,"body_markdown":"I figured it out. The server is responding with gzip encoding once file sizes are over a certain size.\r\n\r\n `con.setRequestProperty(&quot;Accept-Encoding&quot;, &quot;gzip, deflate, sdch&quot;);`\r\n\r\nwas added to the request header as well as some code to handle the gzip stream.\r\n","title":"SSL peer shut down incorrectly","body":"<p>I figured it out. The server is responding with gzip encoding once file sizes are over a certain size.</p>\n\n<p><code>con.setRequestProperty(\"Accept-Encoding\", \"gzip, deflate, sdch\");</code></p>\n\n<p>was added to the request header as well as some code to handle the gzip stream.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1693481942,"post_id":77006871,"comment_id":135768506,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77006871/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28325237,"reputation":1,"user_id":21660343,"display_name":"dark anyi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693389104,"creation_date":1693389104,"answer_id":77006871,"question_id":29544788,"body_markdown":"if small file can run ,but large file  get the following: \r\njavax.net.ssl.SSLException: SSL peer shut down incorrectly\r\n\r\nmabey  Nginx \r\n(crit 20033#0: *563 open()&quot;home/nginx/proxy temp/8/03/0000000038&quot; failed (13: Permission denied) while reading upstream\r\n\r\nThis reason may be because a temporary file will be generated when the forwarding exceeds the configuration. This temporary file may be caused by no permission, so give this temporary file the right to modify\r\n\r\n","title":"SSL peer shut down incorrectly","body":"<p>if small file can run ,but large file  get the following:\njavax.net.ssl.SSLException: SSL peer shut down incorrectly</p>\n<p>mabey  Nginx\n(crit 20033#0: *563 open()&quot;home/nginx/proxy temp/8/03/0000000038&quot; failed (13: Permission denied) while reading upstream</p>\n<p>This reason may be because a temporary file will be generated when the forwarding exceeds the configuration. This temporary file may be caused by no permission, so give this temporary file the right to modify</p>\n"}],"owner":{"account_id":6114838,"reputation":31,"user_id":4770209,"display_name":"Mark_F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4358,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1693389104,"creation_date":1428599365,"question_id":29544788,"body_markdown":"This is my first post here. I am a hobbyist so please bear with me.\r\n\r\nI am attempting to to grab a webpage from https://eztv.it/shows/1/24/ with the following code.\r\n\r\n    public static void WriteHTMLToFile(String URL){\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tURI myURI=new URI(URL);\r\n\t\t\tURL url = myURI.toURL();\r\n\t\t\tHttpsURLConnection con= (HttpsURLConnection)url.openConnection();\r\n\t\t\tFile myFile=new File(&quot;c:\\\\project\\\\Test.txt&quot;);\r\n\t\t\tmyFile.createNewFile();\r\n\t\t\tFileWriter wr=new FileWriter(myFile);\r\n\t\t\tInputStream ins=con.getInputStream();\r\n\t\t\tInputStreamReader isr= new InputStreamReader(ins);\r\n\t\t\tBufferedReader reader = new BufferedReader(isr);\r\n\t\t\tString line;\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\twr.write(line+&quot;\\n&quot;);\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treader.close();\r\n\t\t\twr.close();\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tlog(e.toString());\r\n\t\t\t}\t\r\n\t}\r\n\r\nWhen I run this I get the following:\r\n\r\n&gt; javax.net.ssl.SSLException: SSL peer shut down incorrectly\r\n\r\nIf I run the above code on this URL: https://eztv.it/shows/887/the-blacklist/ it works as intended. The difference between the two URL file sizes seems to be a contributing factor. In testing different URLs to the same server the above code only seemed to work for files less that ~30Kb. Anything over would generate the above exception.","title":"SSL peer shut down incorrectly","body":"<p>This is my first post here. I am a hobbyist so please bear with me.</p>\n\n<p>I am attempting to to grab a webpage from <a href=\"https://eztv.it/shows/1/24/\" rel=\"nofollow\">https://eztv.it/shows/1/24/</a> with the following code.</p>\n\n<pre><code>public static void WriteHTMLToFile(String URL){\n    try {\n\n        URI myURI=new URI(URL);\n        URL url = myURI.toURL();\n        HttpsURLConnection con= (HttpsURLConnection)url.openConnection();\n        File myFile=new File(\"c:\\\\project\\\\Test.txt\");\n        myFile.createNewFile();\n        FileWriter wr=new FileWriter(myFile);\n        InputStream ins=con.getInputStream();\n        InputStreamReader isr= new InputStreamReader(ins);\n        BufferedReader reader = new BufferedReader(isr);\n        String line;\n        while ((line = reader.readLine()) != null) {\n            wr.write(line+\"\\n\");    \n        }\n\n        reader.close();\n        wr.close();\n    }\n    catch(Exception e){\n        log(e.toString());\n        }   \n}\n</code></pre>\n\n<p>When I run this I get the following:</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLException: SSL peer shut down incorrectly</p>\n</blockquote>\n\n<p>If I run the above code on this URL: <a href=\"https://eztv.it/shows/887/the-blacklist/\" rel=\"nofollow\">https://eztv.it/shows/887/the-blacklist/</a> it works as intended. The difference between the two URL file sizes seems to be a contributing factor. In testing different URLs to the same server the above code only seemed to work for files less that ~30Kb. Anything over would generate the above exception.</p>\n"},{"tags":["javascript","java","performance","graalvm"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1693361637,"post_id":77003734,"comment_id":135749423,"body_markdown":"Why are you expecting GraalVM to be more performant than other implementations? Have your read the documentation (https://www.graalvm.org/latest/reference-manual/js/FAQ/#performance)?","body":"Why are you expecting GraalVM to be more performant than other implementations? Have your read the documentation (<a href=\"https://www.graalvm.org/latest/reference-manual/js/FAQ/#performance\" rel=\"nofollow noreferrer\">graalvm.org/latest/reference-manual/js/FAQ/#performance</a>)?"},{"owner":{"account_id":25960213,"reputation":117,"user_id":19676962,"display_name":"Churro the Duck"},"score":0,"creation_date":1693369916,"post_id":77003734,"comment_id":135749988,"body_markdown":"Just wondering, should this be tagged with `java`? It seems to be about `javascript`","body":"Just wondering, should this be tagged with <code>java</code>? It seems to be about <code>javascript</code>"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1693379873,"post_id":77003734,"comment_id":135751227,"body_markdown":"yes it&#39;s a Java that invoking js script,, graal vm is a js engine that written in java","body":"yes it&#39;s a Java that invoking js script,, graal vm is a js engine that written in java"},{"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"score":0,"creation_date":1693385541,"post_id":77003734,"comment_id":135752331,"body_markdown":"Is this using a polyglot runtime with compilation enabled? What does `Engine.create().getImplementationName()` return? You mention something being executed 6000 times, since it don&#39;t see a loop in the Java code i assume it&#39;s happening in the javascript code?","body":"Is this using a polyglot runtime with compilation enabled? What does <code>Engine.create().getImplementationName()</code> return? You mention something being executed 6000 times, since it don&#39;t see a loop in the Java code i assume it&#39;s happening in the javascript code?"},{"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"score":0,"creation_date":1693388736,"post_id":77003734,"comment_id":135753056,"body_markdown":"@GillesD.\n\nyes I&#39;m using a polyglot engine.\n\n\nthe snippest of code is a sample of a production issue, BUT imagine this code is execute 6000 time, and measuring the average time of the processor.execute(subjectJson)\n\nbut anyway, updated","body":"@GillesD.  yes I&#39;m using a polyglot engine.   the snippest of code is a sample of a production issue, BUT imagine this code is execute 6000 time, and measuring the average time of the processor.execute(subjectJson)  but anyway, updated"},{"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"score":0,"creation_date":1693478710,"post_id":77003734,"comment_id":135767828,"body_markdown":"@omarmahameed, my question was about the exact setup of the polyglot engine. In particular, did you check that it&#39;s not using the slow &quot;Interpreted&quot; implementation which doesn&#39;t have any JIT compilation. Thanks for the details on the 6000&#215; repetition.","body":"@omarmahameed, my question was about the exact setup of the polyglot engine. In particular, did you check that it&#39;s not using the slow &quot;Interpreted&quot; implementation which doesn&#39;t have any JIT compilation. Thanks for the details on the 6000&#215; repetition."}],"owner":{"account_id":17512303,"reputation":329,"user_id":12700084,"display_name":"omar mahameed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693388934,"creation_date":1693344278,"question_id":77003734,"body_markdown":"Hello Stack Overflow community,\r\n\r\nI&#39;ve encountered a performance problem while using the GraalVM Polyglot API to run JavaScript scripts as a script engine. The specific section of code that invokes the JavaScript function seems to have a significant delay, taking approximately 400 ms on average when executed 6,000 times.\r\n\r\nInterestingly, when I attempted to run the same JavaScript code using Node.js in the WebStorm IDE, it only took about 20 ms. This stark difference in rendering time has me wondering if such a substantial delay is to be expected when using GraalVM Polyglot.\r\n\r\nI noticed that other script engines, such as V8 and J2V8, tend to complete this task in approximately 50 ms, which further highlights the performance gap I&#39;m encountering with GraalVM.\r\n\r\nBelow is the code snippet I&#39;m using:\r\n\r\n\r\nExpected Behavior:\r\nI&#39;m hoping to optimize the execution time by utilizing the GraalVM Polyglot API more effectively. To provide some context, the story.json file contains around 50,000 rows of data, and the scripting method involves the usage of jsep for parsing and some Visitor Design Pattern, which includes recursion. The function call that contributes to the delay cotains a visitor design pattern and some call backs like this\r\n\r\njavascript\r\n```\r\nval = callee.call(args);\r\n```\r\nny Ideas?\r\nIf anyone has insights into how I might improve the performance of this code using GraalVM Polyglot, I&#39;d greatly appreciate your suggestions.\r\n\r\nThank you in advance for your help!\r\n\r\nRemember to adjust the title, expected behavior, and additional context as needed to accurately reflect your situation. Also, make sure to provide any relevant error messages, warnings, or any further information that might help the community understand your issue better.\r\n\r\n\r\n\r\n```\r\nimport org.graalvm.polyglot.*;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.net.URL;\r\nimport java.nio.charset.Charset;\r\n\r\npublic class GraalVM {\r\n    public static void main(String[] args) {\r\n        try (Context context = Context.create()) {\r\n            URL resourceURL = GraalVM.class.getClassLoader().getResource(&quot;script.js&quot;);\r\n            URL resourceJson = GraalVM.class.getClassLoader().getResource(&quot;story.json&quot;);\r\n            \r\n            context.eval(&quot;js&quot;, Resources.toString(resourceURL, Charset.defaultCharset()));\r\n            \r\n            Value functionsObject = context.getBindings(&quot;js&quot;);\r\n            Value processor = functionsObject.getMember(&quot;scripting&quot;);\r\n            \r\n            String subjectJson = Resources.toString(resourceJson, Charset.defaultCharset());\r\n            \r\n                        long sum = 0;\r\n            int iteration = 6000;\r\n\r\n            for (int i = 0 ;i &lt; iteration; i++){\r\n                long start = System.currentTimeMillis();\r\n                processor.execute(subjectJson);\r\n                long end = System.currentTimeMillis();\r\n                sum += (end - start);\r\n            }\r\n\r\n            System.out.println(&quot;time took for invoking in average is: &quot; + (sum / iteration));\r\n\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"GraalVM - Performance Issue A lot of time for invoke js method","body":"<p>Hello Stack Overflow community,</p>\n<p>I've encountered a performance problem while using the GraalVM Polyglot API to run JavaScript scripts as a script engine. The specific section of code that invokes the JavaScript function seems to have a significant delay, taking approximately 400 ms on average when executed 6,000 times.</p>\n<p>Interestingly, when I attempted to run the same JavaScript code using Node.js in the WebStorm IDE, it only took about 20 ms. This stark difference in rendering time has me wondering if such a substantial delay is to be expected when using GraalVM Polyglot.</p>\n<p>I noticed that other script engines, such as V8 and J2V8, tend to complete this task in approximately 50 ms, which further highlights the performance gap I'm encountering with GraalVM.</p>\n<p>Below is the code snippet I'm using:</p>\n<p>Expected Behavior:\nI'm hoping to optimize the execution time by utilizing the GraalVM Polyglot API more effectively. To provide some context, the story.json file contains around 50,000 rows of data, and the scripting method involves the usage of jsep for parsing and some Visitor Design Pattern, which includes recursion. The function call that contributes to the delay cotains a visitor design pattern and some call backs like this</p>\n<p>javascript</p>\n<pre><code>val = callee.call(args);\n</code></pre>\n<p>ny Ideas?\nIf anyone has insights into how I might improve the performance of this code using GraalVM Polyglot, I'd greatly appreciate your suggestions.</p>\n<p>Thank you in advance for your help!</p>\n<p>Remember to adjust the title, expected behavior, and additional context as needed to accurately reflect your situation. Also, make sure to provide any relevant error messages, warnings, or any further information that might help the community understand your issue better.</p>\n<pre><code>import org.graalvm.polyglot.*;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.net.URL;\nimport java.nio.charset.Charset;\n\npublic class GraalVM {\n    public static void main(String[] args) {\n        try (Context context = Context.create()) {\n            URL resourceURL = GraalVM.class.getClassLoader().getResource(&quot;script.js&quot;);\n            URL resourceJson = GraalVM.class.getClassLoader().getResource(&quot;story.json&quot;);\n            \n            context.eval(&quot;js&quot;, Resources.toString(resourceURL, Charset.defaultCharset()));\n            \n            Value functionsObject = context.getBindings(&quot;js&quot;);\n            Value processor = functionsObject.getMember(&quot;scripting&quot;);\n            \n            String subjectJson = Resources.toString(resourceJson, Charset.defaultCharset());\n            \n                        long sum = 0;\n            int iteration = 6000;\n\n            for (int i = 0 ;i &lt; iteration; i++){\n                long start = System.currentTimeMillis();\n                processor.execute(subjectJson);\n                long end = System.currentTimeMillis();\n                sum += (end - start);\n            }\n\n            System.out.println(&quot;time took for invoking in average is: &quot; + (sum / iteration));\n\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693298671,"post_id":76998576,"comment_id":135738854,"body_markdown":"[how-to-enable-auditing-for-mongodb-via-annotations-in-spring](https://stackoverflow.com/questions/21991293/how-to-enable-auditing-for-mongodb-via-annotations-in-spring)","body":"<a href=\"https://stackoverflow.com/questions/21991293/how-to-enable-auditing-for-mongodb-via-annotations-in-spring\">how-to-enable-auditing-for-mongodb-via-annotations-in-spring</a>"},{"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"score":0,"creation_date":1693304322,"post_id":76998576,"comment_id":135739862,"body_markdown":"It works with other entities, but the document I mentioned above it throws an exception when enabling mongo auditing","body":"It works with other entities, but the document I mentioned above it throws an exception when enabling mongo auditing"}],"answers":[{"tags":[],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693388863,"creation_date":1693388863,"answer_id":77006843,"question_id":76998576,"body_markdown":"I don&#39;t understand what exactly happens under the hood, But I was able to fix the problem by changing the type from `HashMap` to `Map`\r\n\r\n\r\n```\r\n@Builder\r\n@Data\r\n@Document(collection = &quot;contract-overdue&quot;)\r\npublic class MGReceiptContractOverdue {\r\n\r\n    @Id\r\n    private String id;\r\n    private String contractRef;\r\n\r\n    private Map&lt;String, Map&lt;Integer, Overdue&gt;&gt; overdueList;\r\n\r\n    // Constructor and methods...\r\n}\r\n```\r\n","title":"Issue with NullPointerException when using @EnableMongoAuditing in Spring Boot application","body":"<p>I don't understand what exactly happens under the hood, But I was able to fix the problem by changing the type from <code>HashMap</code> to <code>Map</code></p>\n<pre><code>@Builder\n@Data\n@Document(collection = &quot;contract-overdue&quot;)\npublic class MGReceiptContractOverdue {\n\n    @Id\n    private String id;\n    private String contractRef;\n\n    private Map&lt;String, Map&lt;Integer, Overdue&gt;&gt; overdueList;\n\n    // Constructor and methods...\n}\n</code></pre>\n"}],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77006843,"answer_count":1,"score":0,"last_activity_date":1693388863,"creation_date":1693297694,"question_id":76998576,"body_markdown":"I&#39;m encountering a problem in my Spring Boot application when I use the **@EnableMongoAuditing** annotation.\r\n\r\nThe application throws a NullPointerException that seems to be related to the auditing mechanism. Interestingly, the issue disappears when I remove the `@EnableMongoAuditing` annotation, but I&#39;d like to use auditing in my application.\r\n\r\nHere&#39;s the relevant entity class that I&#39;m working with:\r\n```java\r\nimport ..*.model.ContractOverdue;\r\nimport *.model.Overdue;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport java.util.HashMap;\r\n\r\n@Builder\r\n@Data\r\n@Document(collection = &quot;contract-overdue&quot;)\r\npublic class MGReceiptContractOverdue {\r\n\r\n    @Id\r\n    private String id;\r\n    private String contractRef;\r\n\r\n    private HashMap&lt;String, HashMap&lt;Integer, Overdue&gt;&gt; overdueList;\r\n\r\n    // Constructor and methods...\r\n}\r\n\r\n```\r\nI don&#39;t have any auditing-related fields in my entity class, and the issue only arises when the **@EnableMongoAuditing** annotation is present in the configuration.\r\n\r\nHere&#39;s a part of the stack trace of the error:\r\n```\r\nCaused by: java.lang.NullPointerException: null\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:266) ~[spring-data-commons-2.6.3.jar:2.6.3]\r\n\tat org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$from$2(PersistentPropertyPathFactory.java:262) ~[spring-data-commons-2.6.3.jar:2.6.3]\r\n\tat org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:360) ~[spring-data-commons-2.6.3.jar:2.6.3]\r\n\r\n```\r\nWhat could be causing this issue, and how can I use the **@EnableMongoAuditing** annotation without encountering a **NullPointerException**? Any guidance or suggestions would be greatly appreciated.\r\n\r\n\r\nThank you in advance for any help!\r\n","title":"Issue with NullPointerException when using @EnableMongoAuditing in Spring Boot application","body":"<p>I'm encountering a problem in my Spring Boot application when I use the <strong>@EnableMongoAuditing</strong> annotation.</p>\n<p>The application throws a NullPointerException that seems to be related to the auditing mechanism. Interestingly, the issue disappears when I remove the <code>@EnableMongoAuditing</code> annotation, but I'd like to use auditing in my application.</p>\n<p>Here's the relevant entity class that I'm working with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import ..*.model.ContractOverdue;\nimport *.model.Overdue;\nimport lombok.Builder;\nimport lombok.Data;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.util.HashMap;\n\n@Builder\n@Data\n@Document(collection = &quot;contract-overdue&quot;)\npublic class MGReceiptContractOverdue {\n\n    @Id\n    private String id;\n    private String contractRef;\n\n    private HashMap&lt;String, HashMap&lt;Integer, Overdue&gt;&gt; overdueList;\n\n    // Constructor and methods...\n}\n\n</code></pre>\n<p>I don't have any auditing-related fields in my entity class, and the issue only arises when the <strong>@EnableMongoAuditing</strong> annotation is present in the configuration.</p>\n<p>Here's a part of the stack trace of the error:</p>\n<pre><code>Caused by: java.lang.NullPointerException: null\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.from(PersistentPropertyPathFactory.java:266) ~[spring-data-commons-2.6.3.jar:2.6.3]\n    at org.springframework.data.mapping.context.PersistentPropertyPathFactory.lambda$from$2(PersistentPropertyPathFactory.java:262) ~[spring-data-commons-2.6.3.jar:2.6.3]\n    at org.springframework.data.mapping.model.BasicPersistentEntity.doWithProperties(BasicPersistentEntity.java:360) ~[spring-data-commons-2.6.3.jar:2.6.3]\n\n</code></pre>\n<p>What could be causing this issue, and how can I use the <strong>@EnableMongoAuditing</strong> annotation without encountering a <strong>NullPointerException</strong>? Any guidance or suggestions would be greatly appreciated.</p>\n<p>Thank you in advance for any help!</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1693396993,"post_id":77006826,"comment_id":135754782,"body_markdown":"i think you should create integration tests in this case, for more details i recommend to have look at this simple guide [testing-web](https://spring.io/guides/gs/testing-web/).","body":"i think you should create integration tests in this case, for more details i recommend to have look at this simple guide <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">testing-web</a>."}],"owner":{"account_id":29328522,"reputation":1,"user_id":22470490,"display_name":"Gustavo Dias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693388669,"creation_date":1693388669,"question_id":77006826,"body_markdown":"I have an activity than i need an CRUD(create, read, update, delete) operations on Java, and I&#39;d used Spring Framework to build a RESTful Api. But right now i&#39;m getting a few problems with UUID id, my generated value. \r\n\r\n\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.dtos.ProductRecordDTO;\r\nimport com.example.demo.models.ProductModel;\r\nimport com.example.demo.repositories.ProductRepository;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\n\r\nimport static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.linkTo;\r\nimport static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.methodOn;\r\n\r\n@RestController\r\npublic class ProductController {\r\n\r\n    @Autowired\r\n    ProductRepository productRepository;\r\n\r\n    @PostMapping(&quot;/products&quot;)\r\n    public ResponseEntity&lt;ProductModel&gt; saveProduct(@RequestBody @Valid ProductRecordDTO productRecordDto) {\r\n        var productModel = new ProductModel();\r\n        BeanUtils.copyProperties(productRecordDto, productModel);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(productRepository.save(productModel));\r\n    }\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts(){\r\n        List&lt;ProductModel&gt; productsList = productRepository.findAll();\r\n        if (!productsList.isEmpty()){\r\n            for (ProductModel product : productsList){\r\n                UUID id = product.getIdProduct();\r\n                product.add(linkTo(methodOn(ProductController.class).getOneProduct(id)).withSelfRel());\r\n            }\r\n        }\r\n        return ResponseEntity.status(HttpStatus.OK).body(productsList);\r\n    }\r\n\r\n    @GetMapping(&quot;/products/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id){\r\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\r\n        if(productD.isEmpty()){\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\r\n        }\r\n        productD.get().add(linkTo(methodOn(ProductController.class).getAllProducts()).withRel(&quot;ProductsList&quot;));\r\n        return ResponseEntity.status(HttpStatus.OK).body(productD.get());\r\n    }\r\n\r\n    @PutMapping(&quot;/products/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\r\n                                                @RequestBody @Valid ProductRecordDTO productRecordDTO\r\n                                                ){\r\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\r\n        if (productD.isEmpty()){\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\r\n        }\r\n        var productModel = productD.get();\r\n        BeanUtils.copyProperties(productRecordDTO, productModel);\r\n        return ResponseEntity.status(HttpStatus.OK).body(productRepository.save(productModel));\r\n    }\r\n\r\n    @DeleteMapping(&quot;/products/{id}&quot;)\r\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id){\r\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\r\n        if (productD.isEmpty()){\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\r\n        }\r\n        productRepository.delete(productD.get());\r\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product was deleted sucefull&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is my ProductController code. How can I implement JUnit tests for each one of these functions?\r\n","title":"junit test for my product controller on spring","body":"<p>I have an activity than i need an CRUD(create, read, update, delete) operations on Java, and I'd used Spring Framework to build a RESTful Api. But right now i'm getting a few problems with UUID id, my generated value.</p>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.dtos.ProductRecordDTO;\nimport com.example.demo.models.ProductModel;\nimport com.example.demo.repositories.ProductRepository;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\nimport static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.linkTo;\nimport static org.springframework.hateoas.server.mvc.WebMvcLinkBuilder.methodOn;\n\n@RestController\npublic class ProductController {\n\n    @Autowired\n    ProductRepository productRepository;\n\n    @PostMapping(&quot;/products&quot;)\n    public ResponseEntity&lt;ProductModel&gt; saveProduct(@RequestBody @Valid ProductRecordDTO productRecordDto) {\n        var productModel = new ProductModel();\n        BeanUtils.copyProperties(productRecordDto, productModel);\n        return ResponseEntity.status(HttpStatus.CREATED).body(productRepository.save(productModel));\n    }\n\n    @GetMapping(&quot;/products&quot;)\n    public ResponseEntity&lt;List&lt;ProductModel&gt;&gt; getAllProducts(){\n        List&lt;ProductModel&gt; productsList = productRepository.findAll();\n        if (!productsList.isEmpty()){\n            for (ProductModel product : productsList){\n                UUID id = product.getIdProduct();\n                product.add(linkTo(methodOn(ProductController.class).getOneProduct(id)).withSelfRel());\n            }\n        }\n        return ResponseEntity.status(HttpStatus.OK).body(productsList);\n    }\n\n    @GetMapping(&quot;/products/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; getOneProduct(@PathVariable(value = &quot;id&quot;)UUID id){\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\n        if(productD.isEmpty()){\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\n        }\n        productD.get().add(linkTo(methodOn(ProductController.class).getAllProducts()).withRel(&quot;ProductsList&quot;));\n        return ResponseEntity.status(HttpStatus.OK).body(productD.get());\n    }\n\n    @PutMapping(&quot;/products/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; updateProduct(@PathVariable(value = &quot;id&quot;) UUID id,\n                                                @RequestBody @Valid ProductRecordDTO productRecordDTO\n                                                ){\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\n        if (productD.isEmpty()){\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\n        }\n        var productModel = productD.get();\n        BeanUtils.copyProperties(productRecordDTO, productModel);\n        return ResponseEntity.status(HttpStatus.OK).body(productRepository.save(productModel));\n    }\n\n    @DeleteMapping(&quot;/products/{id}&quot;)\n    public ResponseEntity&lt;Object&gt; deleteProduct(@PathVariable(value = &quot;id&quot;) UUID id){\n        Optional&lt;ProductModel&gt; productD = productRepository.findById(id);\n        if (productD.isEmpty()){\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;Product Not Found&quot;);\n        }\n        productRepository.delete(productD.get());\n        return ResponseEntity.status(HttpStatus.OK).body(&quot;Product was deleted sucefull&quot;);\n    }\n\n}\n\n</code></pre>\n<p>This is my ProductController code. How can I implement JUnit tests for each one of these functions?</p>\n"},{"tags":["java","pattern-matching","java-14","preview-feature"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1590240557,"post_id":61939967,"comment_id":109609104,"body_markdown":"Please edit your question. Include the compile time error&#39;s full message and what you didn&#39;t understand from it. Change your title to reflect the actual issue, not the concepts involved (which can be added as tags).","body":"Please edit your question. Include the compile time error&#39;s full message and what you didn&#39;t understand from it. Change your title to reflect the actual issue, not the concepts involved (which can be added as tags)."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1590863045,"post_id":61939967,"comment_id":109844662,"body_markdown":"Include the entire error message. Assuming you&#39;re compiling this in Intellij, the message continues in both the &quot;Quick Fixes&quot; subtab and in the &quot;Build&quot; window. If you&#39;re not compiling in Intellij, include the entire error message you&#39;re seeing from `javac` or the entire error message you&#39;re seeing in Eclipse (or whatever else compiler you&#39;re using).","body":"Include the entire error message. Assuming you&#39;re compiling this in Intellij, the message continues in both the &quot;Quick Fixes&quot; subtab and in the &quot;Build&quot; window. If you&#39;re not compiling in Intellij, include the entire error message you&#39;re seeing from <code>javac</code> or the entire error message you&#39;re seeing in Eclipse (or whatever else compiler you&#39;re using)."},{"owner":{"display_name":"user13120093"},"score":0,"creation_date":1590863206,"post_id":61939967,"comment_id":109844731,"body_markdown":"I never compiled it originally otherwise I would have known the actual cause lol","body":"I never compiled it originally otherwise I would have known the actual cause lol"}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":2,"creation_date":1683524738,"post_id":61940033,"comment_id":134374190,"body_markdown":"I think you mean _&quot;when using Java 16 or **newer** there is no need...&quot;_ instead of _&quot;when using Java 16 or **older** there is no need...&quot;_, right?","body":"I think you mean <i>&quot;when using Java 16 or <b>newer</b> there is no need...&quot;</i> instead of <i>&quot;when using Java 16 or <b>older</b> there is no need...&quot;</i>, right?"}],"tags":[],"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1693388440,"creation_date":1590081258,"answer_id":61940033,"question_id":61939967,"body_markdown":"This is a *preview feature* in Java 14, see [JEP 305](https://openjdk.java.net/jeps/305) and [JEP 375](https://openjdk.java.net/jeps/375). To enable this, compile your class with:\r\n\r\n    javac MainClass.java --enable-preview --release 14\r\n\r\nAnd now you can do:\r\n\r\n    java MainClass --enable-preview\r\n\r\nExample of `instanceof`:\r\n\r\n    Object o = &quot;Hello World!&quot;;\r\n    if (o instanceof String s) {\r\n        // no explicit type casting\r\n        s = s.replaceFirst(&quot;World&quot;, &quot;Java&quot;); // No compile time issues\r\n        System.out.println(s);\r\n    }\r\n\r\nAnother example copied from JEP:\r\n\r\n    if (obj instanceof String s &amp;&amp; s.length() &gt; 5) {.. s.contains(..) ..}\r\n\r\n---\r\n# UPDATE\r\nSince Java 16 the &quot;*Pattern Matching for instanceof*&quot; is a fully finalized feature (i.e. not a preview anymore). So when using Java 16 or newer there is no need to separately enable this feature as it will be enabled out of the box.\r\n\r\nSee [**JEP-394**][1] for the details.\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/394","title":"Pattern matching instanceof","body":"<p>This is a <em>preview feature</em> in Java 14, see <a href=\"https://openjdk.java.net/jeps/305\" rel=\"nofollow noreferrer\">JEP 305</a> and <a href=\"https://openjdk.java.net/jeps/375\" rel=\"nofollow noreferrer\">JEP 375</a>. To enable this, compile your class with:</p>\n<pre><code>javac MainClass.java --enable-preview --release 14\n</code></pre>\n<p>And now you can do:</p>\n<pre><code>java MainClass --enable-preview\n</code></pre>\n<p>Example of <code>instanceof</code>:</p>\n<pre><code>Object o = &quot;Hello World!&quot;;\nif (o instanceof String s) {\n    // no explicit type casting\n    s = s.replaceFirst(&quot;World&quot;, &quot;Java&quot;); // No compile time issues\n    System.out.println(s);\n}\n</code></pre>\n<p>Another example copied from JEP:</p>\n<pre><code>if (obj instanceof String s &amp;&amp; s.length() &gt; 5) {.. s.contains(..) ..}\n</code></pre>\n<hr />\n<h1>UPDATE</h1>\n<p>Since Java 16 the &quot;<em>Pattern Matching for instanceof</em>&quot; is a fully finalized feature (i.e. not a preview anymore). So when using Java 16 or newer there is no need to separately enable this feature as it will be enabled out of the box.</p>\n<p>See <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\"><strong>JEP-394</strong></a> for the details.</p>\n"},{"tags":[],"owner":{"account_id":23027967,"reputation":531,"user_id":17147888,"display_name":"Praj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634967423,"creation_date":1634967423,"answer_id":69685433,"question_id":61939967,"body_markdown":"This feature is finalized in Java 16 ([JEP 394][1]). \r\nFor the below versions, refer [this][2] link to enable this preview feature from IDEs such as IntelliJ, Eclipse, and STS.\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/394\r\n  [2]: https://tedblob.com/java-pattern-matching-instanceof/","title":"Pattern matching instanceof","body":"<p>This feature is finalized in Java 16 (<a href=\"https://openjdk.java.net/jeps/394\" rel=\"nofollow noreferrer\">JEP 394</a>).\nFor the below versions, refer <a href=\"https://tedblob.com/java-pattern-matching-instanceof/\" rel=\"nofollow noreferrer\">this</a> link to enable this preview feature from IDEs such as IntelliJ, Eclipse, and STS.</p>\n"}],"owner":{"display_name":"user13120093"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5550,"favorite_count":0,"down_vote_count":5,"up_vote_count":12,"accepted_answer_id":61940033,"answer_count":2,"score":7,"last_activity_date":1693388440,"creation_date":1590081032,"question_id":61939967,"body_markdown":"I came across this amazing topic on https://www.baeldung.com/java-pattern-matching-instanceof. But when I try to run the following code, it throws compile time error:\r\n\r\n    if(obj instanceof String s) {\r\n        System.out.println(s);\r\n    }\r\n\r\nThe error says:\r\n\r\n&gt; Patterns in &#39;instanceof&#39; are not supported at language level &#39;14&#39;\r\n\r\n&gt; Error:(36, 34) java: pattern matching in instanceof is a preview feature and is disabled by default.\r\n  (use --enable-preview to enable pattern matching in instanceof)\r\n\r\nBut I have Java 14 installed.","title":"Pattern matching instanceof","body":"<p>I came across this amazing topic on <a href=\"https://www.baeldung.com/java-pattern-matching-instanceof\" rel=\"noreferrer\">https://www.baeldung.com/java-pattern-matching-instanceof</a>. But when I try to run the following code, it throws compile time error:</p>\n\n<pre><code>if(obj instanceof String s) {\n    System.out.println(s);\n}\n</code></pre>\n\n<p>The error says:</p>\n\n<blockquote>\n  <p>Patterns in 'instanceof' are not supported at language level '14'</p>\n  \n  <p>Error:(36, 34) java: pattern matching in instanceof is a preview feature and is disabled by default.\n    (use --enable-preview to enable pattern matching in instanceof)</p>\n</blockquote>\n\n<p>But I have Java 14 installed.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693388200,"creation_date":1693388200,"answer_id":77006765,"question_id":76987269,"body_markdown":"The problem, as usual, turned out to be a little more complicated.\r\n\r\nAs you may have noticed by the `@Import(DisabledVaadinContext.class)` annotation, I use Vaadin in this project. In the tests, however, Vaadin is useless most of the time. Vaadin is also time-consuming at launch and disabling it makes Spring Boot context reload about 5-7 seconds faster.\r\n\r\nWhen this configuration class was not used, then the tests would run perfectly fine, but much, much longer.\r\n\r\nThe `DisabledVaadinContext` class looked like this:\r\n```\r\n@EnableAutoConfiguration(exclude = {\r\n        VaadinScopesConfig.class,\r\n        SpringBootAutoConfiguration.class,\r\n        SpringSecurityAutoConfiguration.class\r\n})\r\npublic class DisabledVaadinContext {\r\n\r\n    @MockBean\r\n    private AuthController authController;\r\n\r\n    @MockBean\r\n    private AuthService authService;\r\n\r\n    @MockBean\r\n    private SecurityVaadinConfig securityVaadinConfig;\r\n}\r\n```\r\nI was playing around with the MockBeans a lot and finally figured out that this, incredibly simple, config worked:\r\n```\r\n@EnableAutoConfiguration(exclude = {\r\n        VaadinScopesConfig.class,\r\n        SpringBootAutoConfiguration.class,\r\n        SpringSecurityAutoConfiguration.class\r\n})\r\npublic class DisabledVaadinContext {\r\n\r\n    @MockBean\r\n    SecurityVaadinConfig securityVaadinConfig;\r\n}\r\n```\r\nOnce, I&#39;ve got the tests running again, I had still not solved the original problem: disabling the actual security. Well... not the entire Spring Security module, but just to the point where I do not have to be authenticated in order to access any endpoint in the tests.\r\n\r\nThe following profile works just fine for my needs.\r\n```\r\n@Configuration\r\n@Primary\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(prePostEnabled = false)\r\n@Profile(&quot;no-security&quot;)\r\npublic class NoSecurityConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    @Order(Ordered.HIGHEST_PRECEDENCE - 8)\r\n    public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests((auth) -&gt; auth\r\n                        .requestMatchers(&quot;/**&quot;).permitAll()\r\n                        .anyRequest().permitAll());\r\n        return http.build();\r\n    }\r\n}\r\n```","title":"Disable Spring Security for testing","body":"<p>The problem, as usual, turned out to be a little more complicated.</p>\n<p>As you may have noticed by the <code>@Import(DisabledVaadinContext.class)</code> annotation, I use Vaadin in this project. In the tests, however, Vaadin is useless most of the time. Vaadin is also time-consuming at launch and disabling it makes Spring Boot context reload about 5-7 seconds faster.</p>\n<p>When this configuration class was not used, then the tests would run perfectly fine, but much, much longer.</p>\n<p>The <code>DisabledVaadinContext</code> class looked like this:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {\n        VaadinScopesConfig.class,\n        SpringBootAutoConfiguration.class,\n        SpringSecurityAutoConfiguration.class\n})\npublic class DisabledVaadinContext {\n\n    @MockBean\n    private AuthController authController;\n\n    @MockBean\n    private AuthService authService;\n\n    @MockBean\n    private SecurityVaadinConfig securityVaadinConfig;\n}\n</code></pre>\n<p>I was playing around with the MockBeans a lot and finally figured out that this, incredibly simple, config worked:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {\n        VaadinScopesConfig.class,\n        SpringBootAutoConfiguration.class,\n        SpringSecurityAutoConfiguration.class\n})\npublic class DisabledVaadinContext {\n\n    @MockBean\n    SecurityVaadinConfig securityVaadinConfig;\n}\n</code></pre>\n<p>Once, I've got the tests running again, I had still not solved the original problem: disabling the actual security. Well... not the entire Spring Security module, but just to the point where I do not have to be authenticated in order to access any endpoint in the tests.</p>\n<p>The following profile works just fine for my needs.</p>\n<pre><code>@Configuration\n@Primary\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = false)\n@Profile(&quot;no-security&quot;)\npublic class NoSecurityConfig {\n\n    @Bean\n    @Primary\n    @Order(Ordered.HIGHEST_PRECEDENCE - 8)\n    public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .requestMatchers(&quot;/**&quot;).permitAll()\n                        .anyRequest().permitAll());\n        return http.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16435976,"reputation":162,"user_id":11873562,"display_name":"IceMajor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1693388200,"creation_date":1693141826,"question_id":76987269,"body_markdown":"I&#39;d like to create a Spring profile called `no-security`. As the name suggests, this profile would &quot;disable&quot; (disable may come in different forms, i.e. auto-configuration exclusion or permiting all requests) security.\r\n\r\nI have my endpoints secured in 2 ways. When the endpoint requests body - `@RequestBody` - then I secure it in the Security Config class using, for instance, `.requestMatchers(SOME_METHOD,SOME_ENDPOINT).hasAnyAuthority(ACCOUNTANT_AUTHORITIES)`. If the endpoint does not require a body, then it&#39;s secured using `@PreAuthorize` annotations.\r\n\r\nNow, when the tests are being executed, I want both forms of authorization to become disabled.\r\n\r\nI&#39;ve been playing around with that for an hour or so and I seem to be stuck. Here&#39;s the main, production class:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(prePostEnabled = true)\r\n@RequiredArgsConstructor\r\npublic class SecurityConfig {\r\n\r\n    private final RestAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    private final CookieAuthenticationFilter cookieAuthenticationFilter;\r\n\r\n    private final AuthenticationProvider authenticationProvider;\r\n\r\n    private static final String[] ACCOUNTANT_AUTHORITIES = new String[]{&quot;ADMIN&quot;, &quot;ACCOUNTANT&quot;};\r\n\r\n    @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE + 8)\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .httpBasic(httpBasic -&gt; httpBasic\r\n                        .authenticationEntryPoint(authenticationEntryPoint))\r\n                .exceptionHandling(excHandler -&gt; excHandler\r\n                        .authenticationEntryPoint(authenticationEntryPoint)\r\n                        .accessDeniedHandler(authenticationEntryPoint))\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll())\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests((auth) -&gt; auth\r\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/error&quot;).permitAll()\r\n                        // secured endpoints that request a valid body\r\n                        // needs to be specified below\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/entity&quot;).hasAnyAuthority(ACCOUNTANT_AUTHORITIES)\r\n                        // ... more endpoints\r\n                        .anyRequest().permitAll())\r\n                .sessionManagement(sessionManager -&gt; sessionManager\r\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                .authenticationProvider(authenticationProvider)\r\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .addFilterBefore(cookieAuthenticationFilter, JwtAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nNow, in the `test` folder I specified another security configuration class with `SecurityFilterChain` bean overriden (I&#39;ve enabled bean overriding for tests).\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@Profile(&quot;no-security&quot;)\r\n@EnableMethodSecurity(prePostEnabled = false)\r\npublic class DisabledSecurityConfig {\r\n\r\n    @MockBean\r\n    JwtAuthenticationFilter jwtAuthenticationFilter;\r\n\r\n    @MockBean\r\n    CookieAuthenticationFilter cookieAuthenticationFilter;\r\n\r\n    @MockBean\r\n    AuthenticationProvider authenticationProvider;\r\n\r\n    @MockBean\r\n    RestAuthenticationEntryPoint authenticationEntryPoint;\r\n\r\n    @Bean\r\n    @Primary\r\n    public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf(csrf -&gt; csrf.disable())\r\n                .authorizeHttpRequests((auth) -&gt; auth\r\n                        .anyRequest().permitAll()\r\n                );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nAnd here&#39;s an example of a call to my Rest API:\r\n```\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@Import({DisabledVaadinContext.class})\r\n@ActiveProfiles({&quot;main&quot;, &quot;no-security&quot;})\r\n@TestClassOrder(ClassOrderer.Random.class)\r\npublic class Test {\r\n\r\n    @Autowired\r\n    TestRestTemplate testRestTemplate;\r\n\r\n    @Test\r\n    void simpleTest() {\r\n        ResponseEntity&lt;String&gt; response = testRestTemplate\r\n\t\t\t\t.exchange(&quot;/api/entity&quot;, HttpMethod.DELETE, null, String.class);\r\n\t\tString body = response.getBody();\r\n\t\tHttpStatusCode code = response.getStatusCode();\r\n\t\tSystem.out.println(response.getBody());\r\n\t\tSystem.out.println(response.getStatusCode());\r\n\t\tassertThat(body).isEqualTo(EXPECTED_BODY);\r\n\t\tassertThat(code).isEqualTo(200);\r\n    }\r\n}\r\n```\r\nI always end up with `200 OK` and null response body. How do I get this disabling thing working? I&#39;d welcome any suggestions and explanations! :)","title":"Disable Spring Security for testing","body":"<p>I'd like to create a Spring profile called <code>no-security</code>. As the name suggests, this profile would &quot;disable&quot; (disable may come in different forms, i.e. auto-configuration exclusion or permiting all requests) security.</p>\n<p>I have my endpoints secured in 2 ways. When the endpoint requests body - <code>@RequestBody</code> - then I secure it in the Security Config class using, for instance, <code>.requestMatchers(SOME_METHOD,SOME_ENDPOINT).hasAnyAuthority(ACCOUNTANT_AUTHORITIES)</code>. If the endpoint does not require a body, then it's secured using <code>@PreAuthorize</code> annotations.</p>\n<p>Now, when the tests are being executed, I want both forms of authorization to become disabled.</p>\n<p>I've been playing around with that for an hour or so and I seem to be stuck. Here's the main, production class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(prePostEnabled = true)\n@RequiredArgsConstructor\npublic class SecurityConfig {\n\n    private final RestAuthenticationEntryPoint authenticationEntryPoint;\n\n    private final JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    private final CookieAuthenticationFilter cookieAuthenticationFilter;\n\n    private final AuthenticationProvider authenticationProvider;\n\n    private static final String[] ACCOUNTANT_AUTHORITIES = new String[]{&quot;ADMIN&quot;, &quot;ACCOUNTANT&quot;};\n\n    @Bean\n    @Order(Ordered.HIGHEST_PRECEDENCE + 8)\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .httpBasic(httpBasic -&gt; httpBasic\n                        .authenticationEntryPoint(authenticationEntryPoint))\n                .exceptionHandling(excHandler -&gt; excHandler\n                        .authenticationEntryPoint(authenticationEntryPoint)\n                        .accessDeniedHandler(authenticationEntryPoint))\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll())\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                        .requestMatchers(&quot;/error&quot;).permitAll()\n                        // secured endpoints that request a valid body\n                        // needs to be specified below\n                        .requestMatchers(HttpMethod.POST, &quot;/api/entity&quot;).hasAnyAuthority(ACCOUNTANT_AUTHORITIES)\n                        // ... more endpoints\n                        .anyRequest().permitAll())\n                .sessionManagement(sessionManager -&gt; sessionManager\n                        .sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                .authenticationProvider(authenticationProvider)\n                .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class)\n                .addFilterBefore(cookieAuthenticationFilter, JwtAuthenticationFilter.class);\n        return http.build();\n    }\n}\n</code></pre>\n<p>Now, in the <code>test</code> folder I specified another security configuration class with <code>SecurityFilterChain</code> bean overriden (I've enabled bean overriding for tests).</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@Profile(&quot;no-security&quot;)\n@EnableMethodSecurity(prePostEnabled = false)\npublic class DisabledSecurityConfig {\n\n    @MockBean\n    JwtAuthenticationFilter jwtAuthenticationFilter;\n\n    @MockBean\n    CookieAuthenticationFilter cookieAuthenticationFilter;\n\n    @MockBean\n    AuthenticationProvider authenticationProvider;\n\n    @MockBean\n    RestAuthenticationEntryPoint authenticationEntryPoint;\n\n    @Bean\n    @Primary\n    public SecurityFilterChain securityFilterChain2(HttpSecurity http) throws Exception {\n        http\n                .csrf(csrf -&gt; csrf.disable())\n                .authorizeHttpRequests((auth) -&gt; auth\n                        .anyRequest().permitAll()\n                );\n        return http.build();\n    }\n}\n</code></pre>\n<p>And here's an example of a call to my Rest API:</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@Import({DisabledVaadinContext.class})\n@ActiveProfiles({&quot;main&quot;, &quot;no-security&quot;})\n@TestClassOrder(ClassOrderer.Random.class)\npublic class Test {\n\n    @Autowired\n    TestRestTemplate testRestTemplate;\n\n    @Test\n    void simpleTest() {\n        ResponseEntity&lt;String&gt; response = testRestTemplate\n                .exchange(&quot;/api/entity&quot;, HttpMethod.DELETE, null, String.class);\n        String body = response.getBody();\n        HttpStatusCode code = response.getStatusCode();\n        System.out.println(response.getBody());\n        System.out.println(response.getStatusCode());\n        assertThat(body).isEqualTo(EXPECTED_BODY);\n        assertThat(code).isEqualTo(200);\n    }\n}\n</code></pre>\n<p>I always end up with <code>200 OK</code> and null response body. How do I get this disabling thing working? I'd welcome any suggestions and explanations! :)</p>\n"},{"tags":["java","hibernate","hibernate-envers","hibernate-annotations","creation-timestamp"],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693387738,"creation_date":1693387738,"question_id":77006699,"body_markdown":"We have an audit schema and `Hibernate enver` to audit the data:\r\n\r\n    spring:\r\n     jpa:\r\n      org:\r\n        hibernate:\r\n          envers:\r\n            default_schema: audit\r\n\r\nand here are the anoontations.\r\n\r\nBaseEntity:\r\n\r\n    @Data\r\n    @MappedSuperclass\r\n    @EqualsAndHashCode(of = {&quot;id&quot;})\r\n    public abstract class BaseEntity implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;UUID&quot;)\r\n        @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\r\n                ,parameters = {\r\n                @Parameter( name = &quot;uuid_gen_strategy_class&quot;, value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;)\r\n        })\r\n        @Column(name=&quot;id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uuid&quot;)\r\n        private UUID id;\r\n    \r\n    \r\n        @CreationTimestamp\r\n        @Temporal(TemporalType.TIMESTAMP)\r\n        @Column(name = &quot;created_at&quot;, updatable = false, nullable = false)\r\n        private Date createdAt;    \r\n    }\r\n\r\nother entities extend it, as well as the audit set up on it too.\r\n\r\nSay, Contractor entity:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Audited\r\n    @AuditTable(schema = &quot;audit&quot;, value = &quot;contractor&quot;)\r\n    @AuditOverride(forClass = BaseEntity.class, isAudited = true)\r\n    @Table(name = &quot;contractor&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;contractor_upi_uq&quot;, columnNames = {&quot;upi&quot;})})\r\n    @org.hibernate.annotations.Table(comment = &quot;Contractor data&quot;, appliesTo = &quot;contractor&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @ToString(exclude = {&quot;contract&quot;, &quot;billingAccount&quot;, &quot;legalForm&quot;, &quot;services&quot;, &quot;contractorType&quot;, &quot;serviceGroups&quot;})\r\n    @JsonIgnoreProperties(value = {&quot;contract&quot;, &quot;billingAccount&quot;, &quot;legalForm&quot;, &quot;services&quot;, &quot;contractorType&quot;, &quot;serviceGroups&quot;})\r\n    public class Contractor extends BaseEntity {    \r\n    //specific fields are ommited as the problem are related to the field from the Base entity    \r\n    }\r\n\r\nor ServiceOrder entity\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Audited\r\n    @AuditTable(schema = &quot;audit&quot;, value = &quot;services_order&quot;)\r\n    @AuditOverride(forClass = BaseEntity.class, isAudited = true)\r\n    @Table(name = &quot;services_order&quot;)\r\n    @org.hibernate.annotations.Table(comment = &quot;Services order&quot;, appliesTo = &quot;services_order&quot;)\r\n    @EqualsAndHashCode(of = {}, callSuper = true)\r\n    @ToString\r\n    @JsonIgnoreProperties\r\n    public class ServicesOrder  extends BaseEntity {\r\n    //the same for the internals of this entity\r\n    }\r\n\r\nWe notices, that the entities of the same time of creation have different `created_at` values, for example: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe `created_at` column has type `timestamp without timezone`, for some entries it was in the local timezone, while in others +3h, in others -3h (our timezone is +3 UTC).\r\n\r\nThat happened on UAT db, but never happened on dev db, where all entries are from the same time.\r\n\r\nI tired to find what the problem correlates with and have fount that despite the `created_at` has the same `timestamp without timezone` for the different tables of the main `public` schema, the same and corresponding `created_at` field has different type in audit `schema` for some tables. If the audit&#39;s field has type  `timestamp without timezone`, the date in the field of the main schema is as expected and fits the local timezone time. If the `audit` schema&#39;s field created_at has type  `timestamp with timezone`, the value in the main `public` schema&#39;s is -3 h (not as expected).\r\n\r\n[![enter image description here][2]][2] \r\n\r\nWhat could be the real reason for that? Does @CreationTimestamp really interacts with the enver and audit table before produce the output date to the main schema table? Is there a way to work this around not even touching the audit schema&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5NHCz.png\r\n  [2]: https://i.stack.imgur.com/nIlSL.png","title":"How Hibernate&#39;s enver @AuditTable and @CreationTimestamp and different date format for main and public schema cause wrong values in the main schema?","body":"<p>We have an audit schema and <code>Hibernate enver</code> to audit the data:</p>\n<pre><code>spring:\n jpa:\n  org:\n    hibernate:\n      envers:\n        default_schema: audit\n</code></pre>\n<p>and here are the anoontations.</p>\n<p>BaseEntity:</p>\n<pre><code>@Data\n@MappedSuperclass\n@EqualsAndHashCode(of = {&quot;id&quot;})\npublic abstract class BaseEntity implements Serializable {\n\n    @Id\n    @GeneratedValue(generator = &quot;UUID&quot;)\n    @GenericGenerator(name = &quot;UUID&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;\n            ,parameters = {\n            @Parameter( name = &quot;uuid_gen_strategy_class&quot;, value = &quot;org.hibernate.id.uuid.CustomVersionOneStrategy&quot;)\n    })\n    @Column(name=&quot;id&quot;, updatable = false, nullable = false, columnDefinition = &quot;uuid&quot;)\n    private UUID id;\n\n\n    @CreationTimestamp\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;created_at&quot;, updatable = false, nullable = false)\n    private Date createdAt;    \n}\n</code></pre>\n<p>other entities extend it, as well as the audit set up on it too.</p>\n<p>Say, Contractor entity:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Audited\n@AuditTable(schema = &quot;audit&quot;, value = &quot;contractor&quot;)\n@AuditOverride(forClass = BaseEntity.class, isAudited = true)\n@Table(name = &quot;contractor&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;contractor_upi_uq&quot;, columnNames = {&quot;upi&quot;})})\n@org.hibernate.annotations.Table(comment = &quot;Contractor data&quot;, appliesTo = &quot;contractor&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@ToString(exclude = {&quot;contract&quot;, &quot;billingAccount&quot;, &quot;legalForm&quot;, &quot;services&quot;, &quot;contractorType&quot;, &quot;serviceGroups&quot;})\n@JsonIgnoreProperties(value = {&quot;contract&quot;, &quot;billingAccount&quot;, &quot;legalForm&quot;, &quot;services&quot;, &quot;contractorType&quot;, &quot;serviceGroups&quot;})\npublic class Contractor extends BaseEntity {    \n//specific fields are ommited as the problem are related to the field from the Base entity    \n}\n</code></pre>\n<p>or ServiceOrder entity</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Audited\n@AuditTable(schema = &quot;audit&quot;, value = &quot;services_order&quot;)\n@AuditOverride(forClass = BaseEntity.class, isAudited = true)\n@Table(name = &quot;services_order&quot;)\n@org.hibernate.annotations.Table(comment = &quot;Services order&quot;, appliesTo = &quot;services_order&quot;)\n@EqualsAndHashCode(of = {}, callSuper = true)\n@ToString\n@JsonIgnoreProperties\npublic class ServicesOrder  extends BaseEntity {\n//the same for the internals of this entity\n}\n</code></pre>\n<p>We notices, that the entities of the same time of creation have different <code>created_at</code> values, for example:</p>\n<p><a href=\"https://i.stack.imgur.com/5NHCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5NHCz.png\" alt=\"enter image description here\" /></a></p>\n<p>The <code>created_at</code> column has type <code>timestamp without timezone</code>, for some entries it was in the local timezone, while in others +3h, in others -3h (our timezone is +3 UTC).</p>\n<p>That happened on UAT db, but never happened on dev db, where all entries are from the same time.</p>\n<p>I tired to find what the problem correlates with and have fount that despite the <code>created_at</code> has the same <code>timestamp without timezone</code> for the different tables of the main <code>public</code> schema, the same and corresponding <code>created_at</code> field has different type in audit <code>schema</code> for some tables. If the audit's field has type  <code>timestamp without timezone</code>, the date in the field of the main schema is as expected and fits the local timezone time. If the <code>audit</code> schema's field created_at has type  <code>timestamp with timezone</code>, the value in the main <code>public</code> schema's is -3 h (not as expected).</p>\n<p><a href=\"https://i.stack.imgur.com/nIlSL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nIlSL.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be the real reason for that? Does @CreationTimestamp really interacts with the enver and audit table before produce the output date to the main schema table? Is there a way to work this around not even touching the audit schema&gt;</p>\n"},{"tags":["java","oracle","jdeveloper"],"owner":{"account_id":27316723,"reputation":42,"user_id":20837394,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693387607,"creation_date":1693299368,"question_id":76998735,"body_markdown":"Such a problem, I work in Oracle JDeveloper, version 12.2.1.0.0\r\nI have implemented a global search across all database tables. There are search fields i.e. search options. When I make a search query by parameters, records are returned to me - everything is fine. When I sort these records by some field and click reset search parameters, why the query does not work correctly and instead of just clearing the search parameters, it also displays all records from all tables. How to fix it? The code for my reset method is shown below.\r\n\r\nBean class:\r\n\r\n    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\r\n        if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\r\n            ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\r\n            object.executeEmptyRowSet();\r\n            oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\r\n            object.applyViewCriteria(criteria);\r\n            result = false;\r\n        }\r\n    }\r\n\r\n\r\n.jsff class\r\n \r\n```\r\n&lt;af:panelGroupLayout id=&quot;pgl1&quot;&gt;\r\n        &lt;!--&lt;af:panelHeader text=&quot;Global search&quot; id=&quot;ph1&quot;/&gt;--&gt;\r\n        &lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Global search&quot; disclosed=&quot;true&quot;\r\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\r\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\r\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\r\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\r\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\r\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;\r\n                  &lt;!--queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;--&gt;\r\n                  &lt;!--queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;--&gt;\r\n        &lt;af:table value=&quot;#{bindings.GeneralSearchV1.collectionModel}&quot; var=&quot;row&quot;\r\n                  rows=&quot;#{bindings.GeneralSearchV1.rangeSize}&quot; fetchSize=&quot;#{bindings.GeneralSearchV1.rangeSize}&quot;\r\n                  emptyText=&quot;&quot; id=&quot;t1&quot;\r\n                  autoHeightRows=&quot;10&quot; rowBandingInterval=&quot;0&quot; styleClass=&quot;AFStretchWidth&quot; columnStretching=&quot;last&quot;\r\n                  disableColumnReordering=&quot;true&quot; scrollPolicy=&quot;page&quot;&gt;\r\n```\r\n\r\nI tried to somehow fix it, but I did not succeed. Here is my code which i have tried\r\n\r\n```\r\n    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\r\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\r\n                       \r\n                log.info(&quot;STEP 1:&quot;);\r\n\r\n            ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\r\n                       \r\n                       RichQuery queryComp1 = (RichQuery) UIComponentUtil.findComponent(&quot;gsearchQ&quot;);\r\n                       log.info(&quot;queryComp1.getAttributeChangeListeners(); &quot;+queryComp1.getAttributeChangeListeners());\r\n                       queryComp1.setValue(null);\r\n                       \r\n                       RichTable queryComp2 = (RichTable) UIComponentUtil.findComponent(&quot;t1&quot;);\r\n                       log.info(&quot;queryComp2.getAttributeChangeListeners(); &quot;+queryComp2.getAttributeChangeListeners());\r\n                       log.info(&quot;queryComp2.getSelectedRowKeys(); &quot;+queryComp2.getSelectedRowKeys());\r\n                       queryComp2.getSelectedRowKeys().clear(); \r\n                               queryComp2.setSelectedRowKeys(null); \r\n                               queryComp2.setValue(null);\r\n                               \r\n                     \r\n                       queryComp2.getSelectedRowKeys().clear(); \r\n                       queryComp2.setSelectedRowKeys(null); \r\n\r\n                       AdfFacesContext.getCurrentInstance().addPartialTarget(queryComp2); \r\n\r\n                        object.setOrderByClause(null);\r\n                       object.setSortBy(null);\r\n                       \r\n            object.executeEmptyRowSet();\r\n\r\n           oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\r\n           object.applyViewCriteria(criteria);          \r\n            result = false;\r\n                   }\r\n```","title":"How to reset search options in Oracle JDeveloper 12.2.1.0.0","body":"<p>Such a problem, I work in Oracle JDeveloper, version 12.2.1.0.0\nI have implemented a global search across all database tables. There are search fields i.e. search options. When I make a search query by parameters, records are returned to me - everything is fine. When I sort these records by some field and click reset search parameters, why the query does not work correctly and instead of just clearing the search parameters, it also displays all records from all tables. How to fix it? The code for my reset method is shown below.</p>\n<p>Bean class:</p>\n<pre><code>public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\n    if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\n        ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\n        object.executeEmptyRowSet();\n        oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\n        object.applyViewCriteria(criteria);\n        result = false;\n    }\n}\n</code></pre>\n<p>.jsff class</p>\n<pre><code>&lt;af:panelGroupLayout id=&quot;pgl1&quot;&gt;\n        &lt;!--&lt;af:panelHeader text=&quot;Global search&quot; id=&quot;ph1&quot;/&gt;--&gt;\n        &lt;af:query id=&quot;gsearchQ&quot; headerText=&quot;Global search&quot; disclosed=&quot;true&quot;\n                  value=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryDescriptor}&quot;\n                  model=&quot;#{bindings.GeneralSearchVCriteriaQuery.queryModel}&quot;\n                  queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;\n                  queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;\n                  partialTriggers=&quot;::t1:c4 ::t1:c18 ::t1&quot;\n                  saveQueryMode=&quot;hidden&quot; maxColumns=&quot;2&quot; rows=&quot;3&quot; modeChangeVisible=&quot;false&quot; resultComponentId=&quot;::t1&quot;/&gt;\n                  &lt;!--queryListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryListener}&quot;--&gt;\n                  &lt;!--queryOperationListener=&quot;#{pageFlowScope.GSearchBean.gsearchQueryOperationListener}&quot;--&gt;\n        &lt;af:table value=&quot;#{bindings.GeneralSearchV1.collectionModel}&quot; var=&quot;row&quot;\n                  rows=&quot;#{bindings.GeneralSearchV1.rangeSize}&quot; fetchSize=&quot;#{bindings.GeneralSearchV1.rangeSize}&quot;\n                  emptyText=&quot;&quot; id=&quot;t1&quot;\n                  autoHeightRows=&quot;10&quot; rowBandingInterval=&quot;0&quot; styleClass=&quot;AFStretchWidth&quot; columnStretching=&quot;last&quot;\n                  disableColumnReordering=&quot;true&quot; scrollPolicy=&quot;page&quot;&gt;\n</code></pre>\n<p>I tried to somehow fix it, but I did not succeed. Here is my code which i have tried</p>\n<pre><code>    public void gsearchQueryOperationListener(QueryOperationEvent queryOperationEvent){\n            if(queryOperationEvent.getOperation().name().toUpperCase().equals(&quot;RESET&quot;)){\n                       \n                log.info(&quot;STEP 1:&quot;);\n\n            ViewObject object = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewObject();\n                       \n                       RichQuery queryComp1 = (RichQuery) UIComponentUtil.findComponent(&quot;gsearchQ&quot;);\n                       log.info(&quot;queryComp1.getAttributeChangeListeners(); &quot;+queryComp1.getAttributeChangeListeners());\n                       queryComp1.setValue(null);\n                       \n                       RichTable queryComp2 = (RichTable) UIComponentUtil.findComponent(&quot;t1&quot;);\n                       log.info(&quot;queryComp2.getAttributeChangeListeners(); &quot;+queryComp2.getAttributeChangeListeners());\n                       log.info(&quot;queryComp2.getSelectedRowKeys(); &quot;+queryComp2.getSelectedRowKeys());\n                       queryComp2.getSelectedRowKeys().clear(); \n                               queryComp2.setSelectedRowKeys(null); \n                               queryComp2.setValue(null);\n                               \n                     \n                       queryComp2.getSelectedRowKeys().clear(); \n                       queryComp2.setSelectedRowKeys(null); \n\n                       AdfFacesContext.getCurrentInstance().addPartialTarget(queryComp2); \n\n                        object.setOrderByClause(null);\n                       object.setSortBy(null);\n                       \n            object.executeEmptyRowSet();\n\n           oracle.jbo.ViewCriteria criteria = ADFUtils.findIterator(&quot;GeneralSearchV1Iterator&quot;).getViewCriteria();\n           object.applyViewCriteria(criteria);          \n            result = false;\n                   }\n</code></pre>\n"},{"tags":["java","android","sqlite","bitmap","out-of-memory"],"comments":[{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":1,"creation_date":1693386541,"post_id":77006335,"comment_id":135752547,"body_markdown":"Always use uri for storing/retrieving images","body":"Always use uri for storing/retrieving images"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1693387980,"post_id":77006335,"comment_id":135752876,"body_markdown":"@Vivek Gupta, please explain how that would go. And explain how that would prevent OOM errors.","body":"@Vivek Gupta, please explain how that would go. And explain how that would prevent OOM errors."},{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1693397355,"post_id":77006335,"comment_id":135754849,"body_markdown":"Instead of storing raw image data, you store the path of the image in room database. OOM exceptions occurs when you try to load big images, you can use third party libraries like Glide, picasso  etc to load images in the app efficiently.","body":"Instead of storing raw image data, you store the path of the image in room database. OOM exceptions occurs when you try to load big images, you can use third party libraries like Glide, picasso  etc to load images in the app efficiently."}],"owner":{"account_id":27044422,"reputation":49,"user_id":20598818,"display_name":"Shankar Bhandari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693387597,"creation_date":1693385091,"question_id":77006335,"body_markdown":"I&#39;ve developed a billing app that syncs items locally using a Room database for fast retrieval. Now, my client is interested in displaying images alongside the items, which are uploaded from a web domain.\r\n\r\nCurrently, I&#39;ve stored image raw data in the Room database and decoded it into bitmaps to display in the views. While this approach generally works well, I&#39;m encountering occasional Out of Memory (OOM) exceptions.\r\n\r\nHow can I efficiently manage images to avoid OOM issues while ensuring smooth integration of images from the web domain? Are there any best practices or libraries that can help with memory optimization when dealing with images in Android?","title":"what could be the best way to work with images in android specially images that are sent via api?","body":"<p>I've developed a billing app that syncs items locally using a Room database for fast retrieval. Now, my client is interested in displaying images alongside the items, which are uploaded from a web domain.</p>\n<p>Currently, I've stored image raw data in the Room database and decoded it into bitmaps to display in the views. While this approach generally works well, I'm encountering occasional Out of Memory (OOM) exceptions.</p>\n<p>How can I efficiently manage images to avoid OOM issues while ensuring smooth integration of images from the web domain? Are there any best practices or libraries that can help with memory optimization when dealing with images in Android?</p>\n"},{"tags":["java","jpa","jpa-2.0"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":2,"creation_date":1693328668,"post_id":76997729,"comment_id":135745174,"body_markdown":"@ShilaMosammami there seem to be 2 columns in the table, which should be expected accord to the JPA spec (&quot;some_table_id&quot; and &quot;values&quot;). So nothing is really wrong with it. Hibernate does funky stuff when sets are involved - maybe try a List, as it shouldn&#39;t be looking at table constraints or enforcing the table has particular constraints at all - the business side (set) makes it impossible for duplicates without the need to put overhead in the DB to enforce it.","body":"@ShilaMosammami there seem to be 2 columns in the table, which should be expected accord to the JPA spec (&quot;some_table_id&quot; and &quot;values&quot;). So nothing is really wrong with it. Hibernate does funky stuff when sets are involved - maybe try a List, as it shouldn&#39;t be looking at table constraints or enforcing the table has particular constraints at all - the business side (set) makes it impossible for duplicates without the need to put overhead in the DB to enforce it."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1693387055,"post_id":76997729,"comment_id":135752661,"body_markdown":"@Chris you are right, I deleted my comment. Thanks","body":"@Chris you are right, I deleted my comment. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693387490,"creation_date":1693387490,"answer_id":77006664,"question_id":76997729,"body_markdown":"I think you must define `PRIMARY KEY` to `values_table`\r\n\r\nHere is code snippet shown below\r\n\r\n    CREATE TABLE values_table  (\r\n        id serial PRIMARY KEY, -- Add a primary key\r\n        some_table_id int NOT NULL,\r\n        values VARCHAR(500),\r\n        CONSTRAINT fk_values_table_some_table\r\n            FOREIGN KEY (some_table_id) \r\n            REFERENCES some_table(id)\r\n    );","title":"JPA ElementCollection foreign key mapping error","body":"<p>I think you must define <code>PRIMARY KEY</code> to <code>values_table</code></p>\n<p>Here is code snippet shown below</p>\n<pre><code>CREATE TABLE values_table  (\n    id serial PRIMARY KEY, -- Add a primary key\n    some_table_id int NOT NULL,\n    values VARCHAR(500),\n    CONSTRAINT fk_values_table_some_table\n        FOREIGN KEY (some_table_id) \n        REFERENCES some_table(id)\n);\n</code></pre>\n"}],"owner":{"account_id":14724841,"reputation":29,"user_id":10634215,"display_name":"GoldBug"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1693387490,"creation_date":1693289448,"question_id":76997729,"body_markdown":"My simple Entity class looks like this - \r\n\r\n\r\n```\r\nEntity\r\n@Table(name =&quot;my_class&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;AAndBAndCAndD&quot;, columnNames = { &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}) })\r\npublic class MyClass implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.AUTO)\r\n    private Integer id;\r\n\r\n    @Column(name = &quot;A&quot;)\r\n    private String A;\r\n\r\n    @Column(name = &quot;B&quot;)\r\n    private String B;\r\n\r\n    @Column(name = &quot;C&quot;)\r\n    private Integer C;\r\n\r\n    @Column(name = &quot;D&quot;)\r\n    private Integer D;\r\n\r\n    @Column(name = &quot;E&quot;)\r\n    private Long E;\r\n\r\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\r\n    @CollectionTable(name=&quot;values_table&quot;, joinColumns = @JoinColumn(name=&quot;some_table_id&quot;, referencedColumnName = &quot;id&quot;))\r\n    @Column(name=&quot;values&quot;)\r\n    private Set&lt;String&gt; values;\r\n\r\nAnd I created 2 tables like below - \r\n\r\nCREATE TABLE some_table (\r\n    id serial PRIMARY KEY,\r\n    A character varying(10) NOT NULL,\r\n    B character varying(10) NOT NULL,\r\n    C int NOT NULL,\r\n    D int NOT NULL,\r\n    E bigint,\r\n    UNIQUE (A,B,C,D)\r\n);\r\n\r\nCREATE TABLE values_table  (\r\n    some_table_id int NOT NULL,\r\n    values VARCHAR(500),\r\n    constraint fk_values_table_some_table\r\n    foreign key (some_table_id) \r\n    REFERENCES some_table(id)\r\n);\r\n```\r\nWhen I run it as part of a service, I see the following error\r\n\r\n&gt; Caused by: org.hibernate.MappingException: collection foreign key mapping has wrong number of columns: MyClass.values type: component[id,id]\r\n&gt; \tat org.hibernate.mapping.Collection.validate(Collection.java:309)\r\n&gt; \tat org.hibernate.mapping.Set.validate(Set.java:40)\r\n&gt; \tat org.hibernate.cfg.Configuration.validate(Configuration.java:1364)\r\n&gt; \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1851)\r\n&gt; \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:852)\r\n&gt; 26 more\r\n\r\nI tried different things but can&#39;t fix the error. Can anyone help me find out what&#39;s wrong with the above code? The names of the classes \r\n\r\nI tried to add an Id field to the values table but no luck. I don&#39;t understand what&#39;s wrong with the foreign key mapping.","title":"JPA ElementCollection foreign key mapping error","body":"<p>My simple Entity class looks like this -</p>\n<pre><code>Entity\n@Table(name =&quot;my_class&quot;, uniqueConstraints = {@UniqueConstraint(name = &quot;AAndBAndCAndD&quot;, columnNames = { &quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;}) })\npublic class MyClass implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Integer id;\n\n    @Column(name = &quot;A&quot;)\n    private String A;\n\n    @Column(name = &quot;B&quot;)\n    private String B;\n\n    @Column(name = &quot;C&quot;)\n    private Integer C;\n\n    @Column(name = &quot;D&quot;)\n    private Integer D;\n\n    @Column(name = &quot;E&quot;)\n    private Long E;\n\n    @ElementCollection(targetClass = String.class, fetch = FetchType.EAGER)\n    @CollectionTable(name=&quot;values_table&quot;, joinColumns = @JoinColumn(name=&quot;some_table_id&quot;, referencedColumnName = &quot;id&quot;))\n    @Column(name=&quot;values&quot;)\n    private Set&lt;String&gt; values;\n\nAnd I created 2 tables like below - \n\nCREATE TABLE some_table (\n    id serial PRIMARY KEY,\n    A character varying(10) NOT NULL,\n    B character varying(10) NOT NULL,\n    C int NOT NULL,\n    D int NOT NULL,\n    E bigint,\n    UNIQUE (A,B,C,D)\n);\n\nCREATE TABLE values_table  (\n    some_table_id int NOT NULL,\n    values VARCHAR(500),\n    constraint fk_values_table_some_table\n    foreign key (some_table_id) \n    REFERENCES some_table(id)\n);\n</code></pre>\n<p>When I run it as part of a service, I see the following error</p>\n<blockquote>\n<p>Caused by: org.hibernate.MappingException: collection foreign key mapping has wrong number of columns: MyClass.values type: component[id,id]\nat org.hibernate.mapping.Collection.validate(Collection.java:309)\nat org.hibernate.mapping.Set.validate(Set.java:40)\nat org.hibernate.cfg.Configuration.validate(Configuration.java:1364)\nat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1851)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$4.perform(EntityManagerFactoryBuilderImpl.java:852)\n26 more</p>\n</blockquote>\n<p>I tried different things but can't fix the error. Can anyone help me find out what's wrong with the above code? The names of the classes</p>\n<p>I tried to add an Id field to the values table but no luck. I don't understand what's wrong with the foreign key mapping.</p>\n"},{"tags":["java","junit","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1693390417,"post_id":77006656,"comment_id":135753429,"body_markdown":"if the linked answer does not answer your question, please contribute code","body":"if the linked answer does not answer your question, please contribute code"},{"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"score":1,"creation_date":1693399976,"post_id":77006656,"comment_id":135755501,"body_markdown":"@Peter I was trying to get a clarity on Junit Runner and got it from your linked answer.","body":"@Peter I was trying to get a clarity on Junit Runner and got it from your linked answer."},{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1693400808,"post_id":77006656,"comment_id":135755700,"body_markdown":"yes, thanks. as far as I know, you should get a &quot;summary report&quot; from even the junit runner, so if it is not working, maybe karate needs fixes, but we hope others can contribute. our priority is to make sure the runner API works","body":"yes, thanks. as far as I know, you should get a &quot;summary report&quot; from even the junit runner, so if it is not working, maybe karate needs fixes, but we hope others can contribute. our priority is to make sure the runner API works"},{"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"score":0,"creation_date":1693401252,"post_id":77006656,"comment_id":135755804,"body_markdown":"summary report is generating for junit runner when individual feature file is specified. But I have multiple feature files in com.tests package so I was trying to run all feature files by mentioning only the package name, but in this case karate summary report does not generated. So I checked with the parallel runner and it was working when package is mentioned. So I raised a question to check whether this is expected behaviour of junit runner.","body":"summary report is generating for junit runner when individual feature file is specified. But I have multiple feature files in com.tests package so I was trying to run all feature files by mentioning only the package name, but in this case karate summary report does not generated. So I checked with the parallel runner and it was working when package is mentioned. So I raised a question to check whether this is expected behaviour of junit runner."}],"owner":{"account_id":18326643,"reputation":443,"user_id":13346125,"display_name":"cyrilgeorge153"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1693390400,"answer_count":0,"score":1,"last_activity_date":1693387429,"creation_date":1693387429,"question_id":77006656,"body_markdown":"Junit5 Runner\r\n```\r\npackage com.tests;\r\n\r\nimport com.intuit.karate.junit5.Karate;\r\n\r\npublic class FakeJsonServerRunnerTest {\r\n\t@Karate.Test\r\n\tKarate testSample() {\r\n\t\treturn Karate.run(&quot;classpath:com/tests&quot;).relativeTo(getClass());\r\n\r\n\t}\r\n}\r\n\r\n```\r\n\r\nParallel Runner \r\n```\r\npackage com.tests;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport com.intuit.karate.Results;\r\nimport com.intuit.karate.Runner;\r\n\r\npublic class FakeJsonServerParallelRunnerTest {\r\n\r\n\t@Test\r\n    void testParallel() {\r\n        Results results = Runner.path(&quot;classpath:com/tests&quot;)\r\n                .tags(&quot;~@ignore&quot;)\r\n                //.outputCucumberJson(true)\r\n                .parallel(9);\r\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\r\n    }\r\n}\r\n\r\n```\r\nJunit5 runner is not generating karate summary.html file in console when package path is given. Individual feature file reports is generating in target folder. Is it possible to view the summary report file in console, when package is mentioned.Same case is working for parallel runner. ","title":"Junit 5 runner not generating karate summary.html file in console when package path is given. Same case is working for parallel runner","body":"<p>Junit5 Runner</p>\n<pre><code>package com.tests;\n\nimport com.intuit.karate.junit5.Karate;\n\npublic class FakeJsonServerRunnerTest {\n    @Karate.Test\n    Karate testSample() {\n        return Karate.run(&quot;classpath:com/tests&quot;).relativeTo(getClass());\n\n    }\n}\n\n</code></pre>\n<p>Parallel Runner</p>\n<pre><code>package com.tests;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.junit.jupiter.api.Test;\n\nimport com.intuit.karate.Results;\nimport com.intuit.karate.Runner;\n\npublic class FakeJsonServerParallelRunnerTest {\n\n    @Test\n    void testParallel() {\n        Results results = Runner.path(&quot;classpath:com/tests&quot;)\n                .tags(&quot;~@ignore&quot;)\n                //.outputCucumberJson(true)\n                .parallel(9);\n        assertEquals(0, results.getFailCount(), results.getErrorMessages());\n    }\n}\n\n</code></pre>\n<p>Junit5 runner is not generating karate summary.html file in console when package path is given. Individual feature file reports is generating in target folder. Is it possible to view the summary report file in console, when package is mentioned.Same case is working for parallel runner.</p>\n"},{"tags":["java","spring","postgresql","jpa"],"comments":[{"owner":{"account_id":7427975,"reputation":537,"user_id":9862795,"display_name":"GoranLegenda"},"score":0,"creation_date":1692956852,"post_id":76975416,"comment_id":135698365,"body_markdown":"there seems to be a typo in your query - after `SELECT *` you have a comma, please remove it try again","body":"there seems to be a typo in your query - after <code>SELECT *</code> you have a comma, please remove it try again"},{"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"score":0,"creation_date":1692957697,"post_id":76975416,"comment_id":135698511,"body_markdown":"@GoranLegenda without a comma the query has an invalid structure","body":"@GoranLegenda without a comma the query has an invalid structure"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1692958568,"post_id":76975416,"comment_id":135698689,"body_markdown":"The result of `pg_sleep(N)` for a given N is typically cached, and the function is not called every time. Try on the command line: `SELECT pg_sleep(2), pg_sleep(2)` sleeps for only 2 seconds. But `SELECT pg_sleep(2), pg_sleep(3)` sleeps for 5 seconds.","body":"The result of <code>pg_sleep(N)</code> for a given N is typically cached, and the function is not called every time. Try on the command line: <code>SELECT pg_sleep(2), pg_sleep(2)</code> sleeps for only 2 seconds. But <code>SELECT pg_sleep(2), pg_sleep(3)</code> sleeps for 5 seconds."},{"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"score":0,"creation_date":1692961835,"post_id":76975416,"comment_id":135699346,"body_markdown":"@k314159 tried it in IntelliJ IDEA SQL console, in both cases all mentioned pg_sleep() functions are invoked, thus no difference","body":"@k314159 tried it in IntelliJ IDEA SQL console, in both cases all mentioned pg_sleep() functions are invoked, thus no difference"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1692983565,"post_id":76975416,"comment_id":135704412,"body_markdown":"Opinion: Not sure what the purpose of this is exactly, but using a server side wait seems better than DB side waiting - why tie up a connection and DB resources unnecessarily? As to why it doesn&#39;t work for you - no clue. Check what exactly is being passed in and if Postgres support parameter binding to that function. Seems also from the docs that the sleep happens after the * data is processed, so you might get that first row of data too early and then cause the wait.","body":"Opinion: Not sure what the purpose of this is exactly, but using a server side wait seems better than DB side waiting - why tie up a connection and DB resources unnecessarily? As to why it doesn&#39;t work for you - no clue. Check what exactly is being passed in and if Postgres support parameter binding to that function. Seems also from the docs that the sleep happens after the * data is processed, so you might get that first row of data too early and then cause the wait."},{"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"score":0,"creation_date":1693034461,"post_id":76975416,"comment_id":135709101,"body_markdown":"@Chris thanks for the reply, after all I consider to wait on the server side, but still trying to make work pg_sleep:)","body":"@Chris thanks for the reply, after all I consider to wait on the server side, but still trying to make work pg_sleep:)"}],"answers":[{"comments":[{"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"score":0,"creation_date":1693463029,"post_id":77006604,"comment_id":135764736,"body_markdown":"But anyway as I was advised above it is better to use client side delay because in case of delaying on a DB side its depends on a particular DB and changing to another one could cause a few issues","body":"But anyway as I was advised above it is better to use client side delay because in case of delaying on a DB side its depends on a particular DB and changing to another one could cause a few issues"}],"tags":[],"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693387262,"creation_date":1693386993,"answer_id":77006604,"question_id":76975416,"body_markdown":"Finally found the correct decision on my problem, it looks so:\r\n```\r\nWITH sleep AS (select pg_sleep(:delay) AS sleep), \r\nids AS \r\n(SELECT id FROM repayment_applications \r\nWHERE \r\nrepayment_applications.correlation_id =:correlationId \r\nAND \r\nrepayment_applications.status &lt;&gt;:status) \r\nSELECT * FROM repayment_applications \r\nWHERE id IN (SELECT * FROM ids) \r\nAND \r\n(SELECT * FROM sleep) IS NOT NULL\r\n```\r\nWorks both with direct query and using nativeQuery in JPA","title":"Query delay using JPA and pg_sleep in native query","body":"<p>Finally found the correct decision on my problem, it looks so:</p>\n<pre><code>WITH sleep AS (select pg_sleep(:delay) AS sleep), \nids AS \n(SELECT id FROM repayment_applications \nWHERE \nrepayment_applications.correlation_id =:correlationId \nAND \nrepayment_applications.status &lt;&gt;:status) \nSELECT * FROM repayment_applications \nWHERE id IN (SELECT * FROM ids) \nAND \n(SELECT * FROM sleep) IS NOT NULL\n</code></pre>\n<p>Works both with direct query and using nativeQuery in JPA</p>\n"}],"owner":{"account_id":17709408,"reputation":11,"user_id":15590004,"display_name":"niks"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77006604,"answer_count":1,"score":0,"last_activity_date":1693387262,"creation_date":1692950940,"question_id":76975416,"body_markdown":"trying to implement delay using `pg_sleep()` on PSQL side\r\n```java\r\n@Query(\r\n    nativeQuery = true,\r\n    value = &quot;SELECT *, pg_sleep(:delay) FROM repayment_applications &quot; +\r\n            &quot;WHERE repayment_applications.correlation_id = :correlationId &quot; +\r\n            &quot;AND repayment_applications.status &lt;&gt; :status&quot;)\r\nOptional&lt;RepaymentApplication&gt; findRepaymentApplicationCorrelationIdAndNotStatusWithDelay(\r\n    @Param(&quot;delay&quot;) Long delay,\r\n    @Param(&quot;correlationId&quot;) String correlationId,\r\n    @Param(&quot;status&quot;) String status);\r\n```\r\nThis query perfectly works in case of querying directly to DB with specified delay. \r\nBut when using JPA native query it occurs instantly without any delay.\r\n\r\nThe main task is to have a delay between queries to let other app update DB record. \r\n\r\nStack: \r\n- spring-boot-starter-parent:2.7.12 \r\n- postgresql:42.5.1.\r\n\r\nThere is also an idea to make a thread sleep like ```TimeUnit.MINUTES.sleep(1);```, but not sure it is a right decsision.\r\n\r\nIf there are any ideas how to make it work using current idea or using another approach to complete the task, please comment below. Thanks in advance\r\n\r\n\r\n","title":"Query delay using JPA and pg_sleep in native query","body":"<p>trying to implement delay using <code>pg_sleep()</code> on PSQL side</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n    nativeQuery = true,\n    value = &quot;SELECT *, pg_sleep(:delay) FROM repayment_applications &quot; +\n            &quot;WHERE repayment_applications.correlation_id = :correlationId &quot; +\n            &quot;AND repayment_applications.status &lt;&gt; :status&quot;)\nOptional&lt;RepaymentApplication&gt; findRepaymentApplicationCorrelationIdAndNotStatusWithDelay(\n    @Param(&quot;delay&quot;) Long delay,\n    @Param(&quot;correlationId&quot;) String correlationId,\n    @Param(&quot;status&quot;) String status);\n</code></pre>\n<p>This query perfectly works in case of querying directly to DB with specified delay.\nBut when using JPA native query it occurs instantly without any delay.</p>\n<p>The main task is to have a delay between queries to let other app update DB record.</p>\n<p>Stack:</p>\n<ul>\n<li>spring-boot-starter-parent:2.7.12</li>\n<li>postgresql:42.5.1.</li>\n</ul>\n<p>There is also an idea to make a thread sleep like <code>TimeUnit.MINUTES.sleep(1);</code>, but not sure it is a right decsision.</p>\n<p>If there are any ideas how to make it work using current idea or using another approach to complete the task, please comment below. Thanks in advance</p>\n"},{"tags":["java","spring-boot","set"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693375344,"post_id":77005270,"comment_id":135750524,"body_markdown":"You want to break a log message into multiple  lines? Really?","body":"You want to break a log message into multiple  lines? Really?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1693375412,"post_id":77005270,"comment_id":135750533,"body_markdown":"Are `Email updated` &amp; `FirstName Updated` the value of the `String` objects in your set?","body":"Are <code>Email updated</code> &amp; <code>FirstName Updated</code> the value of the <code>String</code> objects in your set?"}],"answers":[{"tags":[],"owner":{"account_id":2641928,"reputation":3186,"user_id":2285394,"display_name":"Amit Mohanty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693375372,"creation_date":1693375372,"answer_id":77005304,"question_id":77005270,"body_markdown":"Instead of using `String.join` to concatenate all the fields into a single line, we&#39;re using a loop to log each field separately.\r\n\r\n    if (!userModifiedFields.isEmpty()) {\r\n        log.info(&quot;Updated Fields:&quot;);\r\n        for (String field : userModifiedFields) {\r\n            log.info(field);\r\n        }\r\n    }\r\n\r\n","title":"How to log in separate lines while using set in java","body":"<p>Instead of using <code>String.join</code> to concatenate all the fields into a single line, we're using a loop to log each field separately.</p>\n<pre><code>if (!userModifiedFields.isEmpty()) {\n    log.info(&quot;Updated Fields:&quot;);\n    for (String field : userModifiedFields) {\n        log.info(field);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693376255,"creation_date":1693375892,"answer_id":77005347,"question_id":77005270,"body_markdown":"## tl;dr\r\n\r\nUse `Set#forEach`.\r\n\r\n    userUpdater.getUpdatedFields().forEach ( log :: info )\r\n\r\n\r\n## Details\r\n\r\nThe [Answer by Mohanty][1] is correct. \r\n\r\nWe can make an alternative version of that code by making an [`Iterable`][2] of the [`Set`][3] via [`Set#forEach`][4], and passing a [method reference][5].\r\n\r\nExample data:\r\n\r\n```java\r\nSet &lt; String &gt; set = Set.of ( &quot;Email updated&quot; , &quot;FirstName Updated&quot; );\r\n```\r\n\r\nExample code:\r\n\r\n```java\r\nset.forEach ( System.out :: println );\r\n```\r\n\r\nResult:\r\n\r\n```none\r\nFirstName Updated\r\nEmail updated\r\n```\r\n\r\nFor your specific case, replace that example method reference with `log :: info`.\r\n\r\n    set.forEach ( log :: info ) ; \r\n\r\nNotice how there is no need to check for `isEmpty`. \r\n\r\nYou can even drop your `var userModifiedFields`. \r\n\r\n    userUpdater.getUpdatedFields().forEach ( log :: info ) ; \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/77005304/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\r\n  [4]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\r\n  [5]: https://en.wikipedia.org/wiki/Java_syntax#Method_references","title":"How to log in separate lines while using set in java","body":"<h2>tl;dr</h2>\n<p>Use <code>Set#forEach</code>.</p>\n<pre><code>userUpdater.getUpdatedFields().forEach ( log :: info )\n</code></pre>\n<h2>Details</h2>\n<p>The <a href=\"https://stackoverflow.com/a/77005304/642706\">Answer by Mohanty</a> is correct.</p>\n<p>We can make an alternative version of that code by making an <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html\" rel=\"nofollow noreferrer\"><code>Iterable</code></a> of the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\"><code>Set</code></a> via <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Iterable.html#forEach(java.util.function.Consumer)\" rel=\"nofollow noreferrer\"><code>Set#forEach</code></a>, and passing a <a href=\"https://en.wikipedia.org/wiki/Java_syntax#Method_references\" rel=\"nofollow noreferrer\">method reference</a>.</p>\n<p>Example data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set &lt; String &gt; set = Set.of ( &quot;Email updated&quot; , &quot;FirstName Updated&quot; );\n</code></pre>\n<p>Example code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>set.forEach ( System.out :: println );\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FirstName Updated\nEmail updated\n</code></pre>\n<p>For your specific case, replace that example method reference with <code>log :: info</code>.</p>\n<pre><code>set.forEach ( log :: info ) ; \n</code></pre>\n<p>Notice how there is no need to check for <code>isEmpty</code>.</p>\n<p>You can even drop your <code>var userModifiedFields</code>.</p>\n<pre><code>userUpdater.getUpdatedFields().forEach ( log :: info ) ; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693387165,"creation_date":1693387165,"answer_id":77006628,"question_id":77005270,"body_markdown":"You must **use** for each-loop for **field** underneath the **set** and get each **field** from the **set**.\r\n\r\nHere is the code shown below\r\n\r\n    final Set&lt;String&gt; userModifiedFields = userUpdater.getUpdatedFields();\r\n    \r\n    if (!userModifiedFields.isEmpty()) {\r\n        log.info(&quot;Updated Fields:&quot;);\r\n        for (String field : userModifiedFields) {\r\n            log.info(field + &quot; updated&quot;);\r\n        }\r\n\r\n    }","title":"How to log in separate lines while using set in java","body":"<p>You must <strong>use</strong> for each-loop for <strong>field</strong> underneath the <strong>set</strong> and get each <strong>field</strong> from the <strong>set</strong>.</p>\n<p>Here is the code shown below</p>\n<pre><code>final Set&lt;String&gt; userModifiedFields = userUpdater.getUpdatedFields();\n\nif (!userModifiedFields.isEmpty()) {\n    log.info(&quot;Updated Fields:&quot;);\n    for (String field : userModifiedFields) {\n        log.info(field + &quot; updated&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1693387165,"creation_date":1693374911,"question_id":77005270,"body_markdown":"I&#39;m logging All the updated Fields updated in an api call through set but they are logging in same line\r\n\r\nAnd I need to print them in different lines, like this\r\n\r\nREQUIRED\r\n```\r\nEmail updated \r\nFirstName Updated\r\n\r\n```\r\n**Service class:** logging like this\r\n```\r\n final var userModifiedFields =userUpdater.getUpdatedFields();\r\n\r\n            if ((!userModifiedFields.isEmpty())) {\r\n                log.info(&quot;Updated Fields : &quot; + String.join(&quot;  &quot;, userModifiedFields));\r\n            }\r\n\r\n public Set&lt;String&gt; getUpdatedFields() {\r\n            return updatedFields;\r\n        }\r\n```\r\n**Current Output**\r\n```\r\n Updated Fields : Email  FirstName \r\n```\r\nRequired output mentied above\r\n","title":"How to log in separate lines while using set in java","body":"<p>I'm logging All the updated Fields updated in an api call through set but they are logging in same line</p>\n<p>And I need to print them in different lines, like this</p>\n<p>REQUIRED</p>\n<pre><code>Email updated \nFirstName Updated\n\n</code></pre>\n<p><strong>Service class:</strong> logging like this</p>\n<pre><code> final var userModifiedFields =userUpdater.getUpdatedFields();\n\n            if ((!userModifiedFields.isEmpty())) {\n                log.info(&quot;Updated Fields : &quot; + String.join(&quot;  &quot;, userModifiedFields));\n            }\n\n public Set&lt;String&gt; getUpdatedFields() {\n            return updatedFields;\n        }\n</code></pre>\n<p><strong>Current Output</strong></p>\n<pre><code> Updated Fields : Email  FirstName \n</code></pre>\n<p>Required output mentied above</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1693385985,"post_id":77006336,"comment_id":135752435,"body_markdown":"You&#39;d be better off leaving it like that and *presenting* it as an integral value. There&#39;s never a good reason for diminishing precision in your model","body":"You&#39;d be better off leaving it like that and <i>presenting</i> it as an integral value. There&#39;s never a good reason for diminishing precision in your model"}],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1693386860,"creation_date":1693386860,"answer_id":77006586,"question_id":77006336,"body_markdown":"You can **use** the `$toInt` aggregation operator to convert the `floating-point` result to an `integer` before updating the field\r\n\r\nHere is the sample code shown below\r\n\r\n    Bson update = Updates.set(&quot;percent_view&quot;, new Document(&quot;$toInt&quot;, new Document(&quot;$multiply&quot;, Arrays.asList(&quot;$viewtime&quot;, percent))));","title":"How to convert float value to int while updating in MongoDB Java?","body":"<p>You can <strong>use</strong> the <code>$toInt</code> aggregation operator to convert the <code>floating-point</code> result to an <code>integer</code> before updating the field</p>\n<p>Here is the sample code shown below</p>\n<pre><code>Bson update = Updates.set(&quot;percent_view&quot;, new Document(&quot;$toInt&quot;, new Document(&quot;$multiply&quot;, Arrays.asList(&quot;$viewtime&quot;, percent))));\n</code></pre>\n"}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77006586,"answer_count":1,"score":0,"last_activity_date":1693386860,"creation_date":1693385099,"question_id":77006336,"body_markdown":"I am trying to update a field which will be the product of a field and a number. the result is coming as a float in the db but I want it to be an integer. How do I do it?\r\n\r\n\r\n    final Bson update = set(&quot;percent_view&quot;, new BasicDBObject(&quot;$multiply&quot;, Arrays.asList(&quot;$viewtime&quot;, percent)));","title":"How to convert float value to int while updating in MongoDB Java?","body":"<p>I am trying to update a field which will be the product of a field and a number. the result is coming as a float in the db but I want it to be an integer. How do I do it?</p>\n<pre><code>final Bson update = set(&quot;percent_view&quot;, new BasicDBObject(&quot;$multiply&quot;, Arrays.asList(&quot;$viewtime&quot;, percent)));\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jar","endpoint"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1693390907,"post_id":77006527,"comment_id":135753533,"body_markdown":"So if I understand it correctly, you want to remove some methods (= endpoints) of a Java class (= controller) during compilation? That sounds a lot like conditional compilation and I don&#39;t know if that&#39;s possible in Java.","body":"So if I understand it correctly, you want to remove some methods (= endpoints) of a Java class (= controller) during compilation? That sounds a lot like conditional compilation and I don&#39;t know if that&#39;s possible in Java."},{"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"score":0,"creation_date":1693391535,"post_id":77006527,"comment_id":135753659,"body_markdown":"Exact. I want to have the ability to create jars with different endpoints using the same project. Without having to create different branches","body":"Exact. I want to have the ability to create jars with different endpoints using the same project. Without having to create different branches"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1693394765,"post_id":77006527,"comment_id":135754296,"body_markdown":"Might be a duplicate of this then: [Java conditional compilation: how to prevent code chunks from being compiled?](https://stackoverflow.com/q/4526113/1915448)","body":"Might be a duplicate of this then: <a href=\"https://stackoverflow.com/q/4526113/1915448\">Java conditional compilation: how to prevent code chunks from being compiled?</a>"}],"owner":{"account_id":25192215,"reputation":184,"user_id":19032274,"display_name":"Lako12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1693386457,"creation_date":1693386457,"question_id":77006527,"body_markdown":"I have a multi module spring boot project. Each module has its own controller with N endpoints.\r\nI would like to be able to create jar with different endpoints based on the profile used during the build, perhaps with Maven profiles.\r\nWhereas I don&#39;t want to exclude a whole controller but only some controller endpoints.\r\n\r\nI know that maybe this thing can be done using the spring profile. But with using spring profiles, it means that the jar would always have all the endpoints. I want to remove them completely and not &quot;hide&quot; them. Once the jar is created with a certain profile, the endpoints ignored by that profile must not be accessible.\r\n\r\nIs there a possibility to do this or do I have to create separate branches?\r\n\r\n\r\nThank you\r\n","title":"Exclude endpoints by creating dynamic jars in a spring boot project","body":"<p>I have a multi module spring boot project. Each module has its own controller with N endpoints.\nI would like to be able to create jar with different endpoints based on the profile used during the build, perhaps with Maven profiles.\nWhereas I don't want to exclude a whole controller but only some controller endpoints.</p>\n<p>I know that maybe this thing can be done using the spring profile. But with using spring profiles, it means that the jar would always have all the endpoints. I want to remove them completely and not &quot;hide&quot; them. Once the jar is created with a certain profile, the endpoints ignored by that profile must not be accessible.</p>\n<p>Is there a possibility to do this or do I have to create separate branches?</p>\n<p>Thank you</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1238100,"reputation":12185,"user_id":1201272,"accept_rate":80,"display_name":"AurA"},"score":3,"creation_date":1380267062,"post_id":19045103,"comment_id":28145240,"body_markdown":"Ideally the fabonacci starts with 0 1 1 2 3 5... and so on... in plain English next number is the sum of last two inputs","body":"Ideally the fabonacci starts with 0 1 1 2 3 5... and so on... in plain English next number is the sum of last two inputs"},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1631515091,"post_id":19045103,"comment_id":122232594,"body_markdown":"This seems to be a confusion about the definition of the [Fibonacci sequence](https://en.m.wikipedia.org/wiki/Fibonacci_number). Each number is the **sum of the two preceding numbers/results** — not *arguments*, *inputs* or *ordinals/indices*. (And `fib(3-1) + fib(3-2)` = `fib(2) + fib(1)` = 1 + 1 = 2.","body":"This seems to be a confusion about the definition of the <a href=\"https://en.m.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow noreferrer\">Fibonacci sequence</a>. Each number is the <b>sum of the two preceding numbers/results</b> — not <i>arguments</i>, <i>inputs</i> or <i>ordinals/indices</i>. (And <code>fib(3-1) + fib(3-2)</code> = <code>fib(2) + fib(1)</code> = 1 + 1 = 2."}],"answers":[{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1631515436,"post_id":19045203,"comment_id":122232686,"body_markdown":"(I guess it was *argument* - anyway it was not *result*.)","body":"(I guess it was <i>argument</i> - anyway it was not <i>result</i>.)"}],"tags":[],"owner":{"account_id":2489647,"reputation":228,"user_id":2167401,"accept_rate":60,"display_name":"hoekki"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380267248,"creation_date":1380267248,"answer_id":19045203,"question_id":19045103,"body_markdown":"I think you are confusing the index (n) in the Fibonacci sequence with the actual value at that index. fib(n=3) = fib(n-1=2) + fib(n-2=1) = 1 + 1 = 2","title":"Fibonacci function result confusion","body":"<p>I think you are confusing the index (n) in the Fibonacci sequence with the actual value at that index. fib(n=3) = fib(n-1=2) + fib(n-2=1) = 1 + 1 = 2</p>\n"},{"comments":[{"owner":{"account_id":1575299,"reputation":1856,"user_id":1461929,"display_name":"Christopher Gertz"},"score":3,"creation_date":1380267526,"post_id":19045225,"comment_id":28145489,"body_markdown":"This uses recursion. It&#39;s just a more clever way because doing recursion over the last two Fibonacci numbers saves you A LOT of time for larger indices.","body":"This uses recursion. It&#39;s just a more clever way because doing recursion over the last two Fibonacci numbers saves you A LOT of time for larger indices."},{"owner":{"account_id":4859,"reputation":40443,"user_id":7512,"accept_rate":75,"display_name":"slim"},"score":1,"creation_date":1393919300,"post_id":19045225,"comment_id":33640063,"body_markdown":"That global is a bad habit. Why not pass it: `fib(a,b,limit)`","body":"That global is a bad habit. Why not pass it: <code>fib(a,b,limit)</code>"},{"owner":{"account_id":1612366,"reputation":780,"user_id":1490962,"accept_rate":60,"display_name":"Bhushankumar Lilapara"},"score":1,"creation_date":1394448698,"post_id":19045225,"comment_id":33878426,"body_markdown":"Yes, we can pass it wit function parameter.","body":"Yes, we can pass it wit function parameter."}],"tags":[],"owner":{"account_id":1612366,"reputation":780,"user_id":1490962,"accept_rate":60,"display_name":"Bhushankumar Lilapara"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380267306,"creation_date":1380267306,"answer_id":19045225,"question_id":19045103,"body_markdown":"why dont you try this easy code.\r\nIt&#39;s same like we do in Fibonacci without recursion.\r\n\r\n\tpublic class FinnonnacciDemo2 {\r\n\t\r\n\t\tstatic int no = 0, n = 8;\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// This will print series till 8\r\n\t\t\tfib(0, 1);\r\n\t\t}\r\n\t\r\n\t\tpublic static void fib(int a, int b) {\r\n\t\t\t// Terminating condition.\r\n\t\t\tif (a &gt;= n) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\r\n\t\t\telse {\r\n\t\t\t\tSystem.out.print(&quot;\\t&quot; + no);\r\n\t\t\t\tno = a + b;\r\n\t\t\t\ta = b;\r\n\t\t\t\tb = no;\r\n\t\t\t\tfib(a, b);\r\n\t\t\t}\r\n\t\t}\r\n\t} ","title":"Fibonacci function result confusion","body":"<p>why dont you try this easy code.\nIt's same like we do in Fibonacci without recursion.</p>\n\n<pre><code>public class FinnonnacciDemo2 {\n\n    static int no = 0, n = 8;\n\n    public static void main(String[] args) {\n        // This will print series till 8\n        fib(0, 1);\n    }\n\n    public static void fib(int a, int b) {\n        // Terminating condition.\n        if (a &gt;= n) {\n            return;\n        }\n\n        else {\n            System.out.print(\"\\t\" + no);\n            no = a + b;\n            a = b;\n            b = no;\n            fib(a, b);\n        }\n    }\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3360553,"reputation":255,"user_id":2822435,"accept_rate":60,"display_name":"Marz"},"score":0,"creation_date":1380353011,"post_id":19045249,"comment_id":28177890,"body_markdown":"I totally forgot that each method call would go through all the statements/expressions within the method itself, but that cleared it up. Anyway, that was one complicated code for me, I wonder how the person came up with that code, or is it a given formula?","body":"I totally forgot that each method call would go through all the statements/expressions within the method itself, but that cleared it up. Anyway, that was one complicated code for me, I wonder how the person came up with that code, or is it a given formula?"},{"owner":{"account_id":1132753,"reputation":930,"user_id":1118447,"accept_rate":60,"display_name":"Alex VII"},"score":0,"creation_date":1380448341,"post_id":19045249,"comment_id":28198918,"body_markdown":"Yes it&#39;s the definition of the Fibonacci formula.","body":"Yes it&#39;s the definition of the Fibonacci formula."}],"tags":[],"owner":{"account_id":1132753,"reputation":930,"user_id":1118447,"accept_rate":60,"display_name":"Alex VII"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1380267372,"creation_date":1380267372,"answer_id":19045249,"question_id":19045103,"body_markdown":"If you pass 3 to your function it will do the following:\r\n\r\n    fib(3) = fib(2) + fib(1) //so we we are into the else statement, because 3 &gt; 1\r\n    = fib(2) + 1             //fib(1) = 1 because 1 &lt;= 1 so you return it (if statement)\r\n    = (fib(1) + fib(0)) + 1  //2 &gt; 1 =&gt; we go to the else statement\r\n    = (1 + 0) + 1            //0 &lt;= 1 &amp; 1 &lt;= 1 so we are into the if and return the values \r\n    = 2","title":"Fibonacci function result confusion","body":"<p>If you pass 3 to your function it will do the following:</p>\n\n<pre><code>fib(3) = fib(2) + fib(1) //so we we are into the else statement, because 3 &gt; 1\n= fib(2) + 1             //fib(1) = 1 because 1 &lt;= 1 so you return it (if statement)\n= (fib(1) + fib(0)) + 1  //2 &gt; 1 =&gt; we go to the else statement\n= (1 + 0) + 1            //0 &lt;= 1 &amp; 1 &lt;= 1 so we are into the if and return the values \n= 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1575299,"reputation":1856,"user_id":1461929,"display_name":"Christopher Gertz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380267375,"creation_date":1380267375,"answer_id":19045252,"question_id":19045103,"body_markdown":"The Fibonacci series either starts with zero or with 1, non of which options has the 3 as the third number.\r\n\r\n1 1 2 3 5 ...\r\n\r\n0 1 1 2 3 5 8 ...\r\n\r\nThe usual way is to have the second option but starting at index 0 so that fib(0) = 0, fib(1) = fib(2) = 1, as stated for example here: http://oeis.org/A000045","title":"Fibonacci function result confusion","body":"<p>The Fibonacci series either starts with zero or with 1, non of which options has the 3 as the third number.</p>\n\n<p>1 1 2 3 5 ...</p>\n\n<p>0 1 1 2 3 5 8 ...</p>\n\n<p>The usual way is to have the second option but starting at index 0 so that fib(0) = 0, fib(1) = fib(2) = 1, as stated for example here: <a href=\"http://oeis.org/A000045\" rel=\"nofollow\">http://oeis.org/A000045</a></p>\n"},{"tags":[],"owner":{"account_id":3229314,"reputation":515,"user_id":2724934,"accept_rate":75,"display_name":"Milaci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395405225,"creation_date":1380267504,"answer_id":19045296,"question_id":19045103,"body_markdown":"Is a Recursion method... `fib(3)=fib(3-1)+fib(3-2)=\r\n                           fib(2)+fib(1)=(fib(2-1)+fib(1-1))+fib(1)=\r\n                                          fib(1)+fib(0)+fib(1)=\r\n                                             1  +   0  +  1`","title":"Fibonacci function result confusion","body":"<p>Is a Recursion method... <code>fib(3)=fib(3-1)+fib(3-2)=\n                           fib(2)+fib(1)=(fib(2-1)+fib(1-1))+fib(1)=\n                                          fib(1)+fib(0)+fib(1)=\n                                             1  +   0  +  1</code></p>\n"},{"tags":[],"owner":{"account_id":1105691,"reputation":2308,"user_id":1097125,"accept_rate":81,"display_name":"J.K"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1440513263,"creation_date":1380267607,"answer_id":19045323,"question_id":19045103,"body_markdown":"**This is a much simpler code to generate Fibonacci sequence like &#39;0 1 1 2 3 ...&#39;.**\r\n\r\n    public static void main (String[] args) {\r\n    \tint f = 0;\r\n    \tint g = 1;\r\n    \r\n    \tfor (int i = 1; i &lt;= 10; i++) {\r\n    \t\tSystem.out.print(f + &quot; &quot;);\r\n    \t\tf = f + g;\r\n    \t\tg = f - g;\r\n    \t} \r\n    \r\n    \tSystem.out.println();\r\n    }","title":"Fibonacci function result confusion","body":"<p><strong>This is a much simpler code to generate Fibonacci sequence like '0 1 1 2 3 ...'.</strong></p>\n\n<pre><code>public static void main (String[] args) {\n    int f = 0;\n    int g = 1;\n\n    for (int i = 1; i &lt;= 10; i++) {\n        System.out.print(f + \" \");\n        f = f + g;\n        g = f - g;\n    } \n\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2282187,"reputation":480,"user_id":2007021,"accept_rate":60,"display_name":"Imtiaz Zaman Nishith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380267853,"creation_date":1380267853,"answer_id":19045401,"question_id":19045103,"body_markdown":"Fibonacci numbers are the calculated sum of previous consecutive two numbers. It starts with 0 1 1 2 3 5 8... and so on. So its something like--\r\n\r\n\r\n    fib(3) = fib(2) + fib(1)\r\n           = fib(1) + fib(0) + 1 //fib(1) = 1\r\n           = 1 + 0 + 1 //fib(0) = 0\r\n           = 2\r\n\r\n\r\n***Recursion method is less efficient as it involves function calls which uses stack, also there are chances of stack overflow if function is called frequently for calculating larger Fibonacci numbers.***","title":"Fibonacci function result confusion","body":"<p>Fibonacci numbers are the calculated sum of previous consecutive two numbers. It starts with 0 1 1 2 3 5 8... and so on. So its something like--</p>\n\n<pre><code>fib(3) = fib(2) + fib(1)\n       = fib(1) + fib(0) + 1 //fib(1) = 1\n       = 1 + 0 + 1 //fib(0) = 0\n       = 2\n</code></pre>\n\n<p><em><strong>Recursion method is less efficient as it involves function calls which uses stack, also there are chances of stack overflow if function is called frequently for calculating larger Fibonacci numbers.</em></strong></p>\n"},{"tags":[],"owner":{"account_id":2922454,"reputation":161,"user_id":2504416,"display_name":"Amandeep Kamboj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393917698,"creation_date":1393917698,"answer_id":22165424,"question_id":19045103,"body_markdown":"                               F(n)\r\n                                /    \\\r\n                            F(n-1)   F(n-2)\r\n                            /   \\     /      \\\r\n                        F(n-2) F(n-3) F(n-3)  F(n-4)\r\n                       /    \\\r\n                     F(n-3) F(n-4)\r\nNotice that many computations are repeated!\r\nImportant point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times.\r\n\r\nFor more details refer algorithm by dasgupta chapter 0.2","title":"Fibonacci function result confusion","body":"<pre><code>                           F(n)\n                            /    \\\n                        F(n-1)   F(n-2)\n                        /   \\     /      \\\n                    F(n-2) F(n-3) F(n-3)  F(n-4)\n                   /    \\\n                 F(n-3) F(n-4)\n</code></pre>\n\n<p>Notice that many computations are repeated!\nImportant point to note is this algorithm is exponential because it does not store the result of previous calculated numbers. eg F(n-3) is called 3 times.</p>\n\n<p>For more details refer algorithm by dasgupta chapter 0.2</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1500491564,"post_id":25116410,"comment_id":77365446,"body_markdown":"How does this answer a question implied by `confused with how this works`, and which?","body":"How does this answer a question implied by <code>confused with how this works</code>, and which?"}],"tags":[],"owner":{"account_id":1131356,"reputation":1952,"user_id":1117353,"display_name":"codebusta"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500464900,"creation_date":1407147292,"answer_id":25116410,"question_id":19045103,"body_markdown":"    public static int f(int n){\r\n        if (n &lt;= 1) {\r\n            return n;\r\n        } else {\r\n            return f(n - 1) + f(n - 2);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Integer c = 4;\r\n        Integer answer = f(c);\r\n        System.out.println(&quot;Fibonacci &quot; + c + &quot;&#39;s number is: &quot; + answer);\r\n    }\r\n","title":"Fibonacci function result confusion","body":"<pre><code>public static int f(int n){\n    if (n &lt;= 1) {\n        return n;\n    } else {\n        return f(n - 1) + f(n - 2);\n    }\n}\n\npublic static void main(String[] args){\n    Integer c = 4;\n    Integer answer = f(c);\n    System.out.println(\"Fibonacci \" + c + \"'s number is: \" + answer);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5444867,"reputation":269,"user_id":4331788,"display_name":"Mcfaith"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1417868503,"creation_date":1417867411,"answer_id":27331480,"question_id":19045103,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Fibonacci2 {\r\n    \r\n        public static void main(String[]args){\r\n            \r\n            int a;\r\n            try (Scanner sc = new Scanner(System.in)) {\r\n                System.out.print(&quot;Number of Fibonacci numbers to print: &quot;);\r\n                a = sc.nextInt();\r\n                sc.close();\r\n            }\r\n            int c=1; /*c current number b last number*/\r\n            int b=0;\r\n            System.out.println(b);\r\n            System.out.println(c);\r\n            int bb;\r\n            for (int z = 2; z &lt; a ; z++){\r\n            bb = b; \r\n            b = c;\r\n            c = bb + b; /*bb last last number*/\r\n            System.out.println(z);\r\n            \r\n        }\r\n        }\r\n    }\r\n\r\n","title":"Fibonacci function result confusion","body":"<pre><code>import java.util.Scanner;\n\npublic class Fibonacci2 {\n\n    public static void main(String[]args){\n\n        int a;\n        try (Scanner sc = new Scanner(System.in)) {\n            System.out.print(\"Number of Fibonacci numbers to print: \");\n            a = sc.nextInt();\n            sc.close();\n        }\n        int c=1; /*c current number b last number*/\n        int b=0;\n        System.out.println(b);\n        System.out.println(c);\n        int bb;\n        for (int z = 2; z &lt; a ; z++){\n        bb = b; \n        b = c;\n        c = bb + b; /*bb last last number*/\n        System.out.println(z);\n\n    }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7801561,"reputation":113,"user_id":5900817,"display_name":"morphytronx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455345722,"creation_date":1454973792,"answer_id":35281227,"question_id":19045103,"body_markdown":"You can do it in two lines!\r\n\r\nShortest typing to do this (albeit, not the most efficient):\r\n\r\n        int fib( int x ) {\r\n            return x &gt; 1 ? fib(x - 1) + fib(x - 2) : x; }\r\n\r\nIf you want a fast algorithm, give this one a shot:\r\n\r\n            ///fast version fibbonacci sequence.\r\n            public static float fibonacci(int x){\r\n               float[] sequence = new float[x];\r\n               sequence[0] = 1;\r\n               sequence[1] = 1;\r\n              if (x &gt; 1){\r\n                 for (int i = 2; i &lt; x; i++){\r\n                   sequence[i] = sequence[i-1] + sequence[i-2];\r\n                 }\r\n              }\r\n              for (float z : sequence){\r\n                  System.out.print(&quot;{ &quot; + z + &quot;}, &quot;);\r\n              }\r\n              return sequence[x-1];\r\n            }\r\n","title":"Fibonacci function result confusion","body":"<p>You can do it in two lines!</p>\n\n<p>Shortest typing to do this (albeit, not the most efficient):</p>\n\n<pre><code>    int fib( int x ) {\n        return x &gt; 1 ? fib(x - 1) + fib(x - 2) : x; }\n</code></pre>\n\n<p>If you want a fast algorithm, give this one a shot:</p>\n\n<pre><code>        ///fast version fibbonacci sequence.\n        public static float fibonacci(int x){\n           float[] sequence = new float[x];\n           sequence[0] = 1;\n           sequence[1] = 1;\n          if (x &gt; 1){\n             for (int i = 2; i &lt; x; i++){\n               sequence[i] = sequence[i-1] + sequence[i-2];\n             }\n          }\n          for (float z : sequence){\n              System.out.print(\"{ \" + z + \"}, \");\n          }\n          return sequence[x-1];\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5133195,"reputation":2169,"user_id":4112725,"accept_rate":88,"display_name":"koceeng"},"score":0,"creation_date":1488866023,"post_id":42640878,"comment_id":72409505,"body_markdown":"Please add more description and/or information about your answer and how it solves the asked problem so others can easily understand it without asking for clarification","body":"Please add more description and/or information about your answer and how it solves the asked problem so others can easily understand it without asking for clarification"}],"tags":[],"owner":{"account_id":10402483,"reputation":1,"user_id":7670304,"display_name":"Olu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488866247,"creation_date":1488864526,"answer_id":42640878,"question_id":19045103,"body_markdown":"    import java.math.BigDecimal;\r\n    \r\n    public abstract class Fibonacci {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tInteger max = Integer.valueOf(args[0]);\r\n    \t\tBigDecimal[] fibs = { new BigDecimal(0), new BigDecimal(1) };\r\n    \t\tBigDecimal current;\r\n    \t\tSystem.out.print(&quot;1 &quot;);\r\n    \t\tfor (int i = 0; i &lt; max + 1; i++) {\r\n    \t\t\tcurrent = fibs[1].add(fibs[0]);\r\n    \t\t\tSystem.out.print(current + &quot; &quot;);\r\n    \t\t\tfibs[0] = fibs[1];\r\n    \t\t\tfibs[1] = current;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Fibonacci function result confusion","body":"<pre><code>import java.math.BigDecimal;\n\npublic abstract class Fibonacci {\n\n    public static void main(String[] args) {\n        Integer max = Integer.valueOf(args[0]);\n        BigDecimal[] fibs = { new BigDecimal(0), new BigDecimal(1) };\n        BigDecimal current;\n        System.out.print(\"1 \");\n        for (int i = 0; i &lt; max + 1; i++) {\n            current = fibs[1].add(fibs[0]);\n            System.out.print(current + \" \");\n            fibs[0] = fibs[1];\n            fibs[1] = current;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7667256,"reputation":3111,"user_id":5810648,"accept_rate":75,"display_name":"Ihor Rybak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500068530,"creation_date":1500068530,"answer_id":45111978,"question_id":19045103,"body_markdown":"My solution using Java 8 Stream:\r\n\r\n   \r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            final int n = 7;\r\n            Fibonacci fibonacci = new Fibonacci();\r\n            Stream.generate(fibonacci::next)\r\n                    .limit(n)\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n    \r\n    public class Fibonacci {\r\n        private long next = 1;\r\n        private long current = 1;\r\n        private int count = 1;\r\n    \r\n        public FibonacciNumber next() {\r\n            FibonacciNumber fibonacciNumber = new FibonacciNumber(count++, current);\r\n            long previous = current;\r\n            current = next;\r\n            next = current + previous;\r\n            return fibonacciNumber;\r\n        }\r\n    }\r\n    \r\n    public class FibonacciNumber {\r\n        private final int count;\r\n        private final long value;\r\n    \r\n        public FibonacciNumber(int count, long value) {\r\n            this.count = count;\r\n            this.value = value;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return count + &quot;: &quot; + value;\r\n        }\r\n    }","title":"Fibonacci function result confusion","body":"<p>My solution using Java 8 Stream:</p>\n\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        final int n = 7;\n        Fibonacci fibonacci = new Fibonacci();\n        Stream.generate(fibonacci::next)\n                .limit(n)\n                .forEach(System.out::println);\n    }\n}\n\npublic class Fibonacci {\n    private long next = 1;\n    private long current = 1;\n    private int count = 1;\n\n    public FibonacciNumber next() {\n        FibonacciNumber fibonacciNumber = new FibonacciNumber(count++, current);\n        long previous = current;\n        current = next;\n        next = current + previous;\n        return fibonacciNumber;\n    }\n}\n\npublic class FibonacciNumber {\n    private final int count;\n    private final long value;\n\n    public FibonacciNumber(int count, long value) {\n        this.count = count;\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return count + \": \" + value;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1520362432,"post_id":49137107,"comment_id":85281113,"body_markdown":"What question does this answer, and how?","body":"What question does this answer, and how?"}],"tags":[],"owner":{"account_id":2800999,"reputation":31,"user_id":2409254,"display_name":"toludav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520358836,"creation_date":1520358836,"answer_id":49137107,"question_id":19045103,"body_markdown":"**The method below returns the fibonacci number at index n.**  \r\n\r\n\r\n\r\n     public static long getFibonacci(int n) {\r\n                List&lt;Long&gt; fibonacciNumbers = new ArrayList();\r\n                long j = 0;\r\n                int k = 0;\r\n                for (int i = 0; i &lt;= n; i++) {\r\n                    System.out.println(&quot;i = &quot; + i);\r\n                    if (i == 2) {\r\n                        j += (i - 2);\r\n                    } else if (i &gt; 2) {\r\n                        j = fibonacciNumbers.get(i - 1) + fibonacciNumbers.get(k - 2);\r\n                    } else {\r\n                        j += i;\r\n                    }\r\n                    fibonacciNumbers.add(j);\r\n                    k++;\r\n                    System.out.println(&quot;Fibonacci Array = &quot; + Arrays.toString(fibonacciNumbers.toArray()));\r\n                }\r\n                return fibonacciNumbers.get(fibonacciNumbers.size() - 1);\r\n            } ","title":"Fibonacci function result confusion","body":"<p><strong>The method below returns the fibonacci number at index n.</strong>  </p>\n\n<pre><code> public static long getFibonacci(int n) {\n            List&lt;Long&gt; fibonacciNumbers = new ArrayList();\n            long j = 0;\n            int k = 0;\n            for (int i = 0; i &lt;= n; i++) {\n                System.out.println(\"i = \" + i);\n                if (i == 2) {\n                    j += (i - 2);\n                } else if (i &gt; 2) {\n                    j = fibonacciNumbers.get(i - 1) + fibonacciNumbers.get(k - 2);\n                } else {\n                    j += i;\n                }\n                fibonacciNumbers.add(j);\n                k++;\n                System.out.println(\"Fibonacci Array = \" + Arrays.toString(fibonacciNumbers.toArray()));\n            }\n            return fibonacciNumbers.get(fibonacciNumbers.size() - 1);\n        } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1528362339,"post_id":49201340,"comment_id":88481850,"body_markdown":"What difference do you see compared to `long fib(int)` in the question? What question does this counter-question answer?","body":"What difference do you see compared to <code>long fib(int)</code> in the question? What question does this counter-question answer?"}],"tags":[],"owner":{"account_id":10259341,"reputation":89,"user_id":7571215,"display_name":"alexandru catanet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520625776,"creation_date":1520625776,"answer_id":49201340,"question_id":19045103,"body_markdown":"Why you don&#39;t use  the next formula:\r\n\r\n    private static int fibonacci(int n) {\r\n        if (n == 1) {\r\n            return 1;\r\n        } else if (n == 2) {\r\n            return 1;\r\n        } else {\r\n            return fibonacci(n - 1) + fibonacci(n - 2);\r\n        }\r\n    }","title":"Fibonacci function result confusion","body":"<p>Why you don't use  the next formula:</p>\n\n<pre><code>private static int fibonacci(int n) {\n    if (n == 1) {\n        return 1;\n    } else if (n == 2) {\n        return 1;\n    } else {\n        return fibonacci(n - 1) + fibonacci(n - 2);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1528235495,"post_id":50706028,"comment_id":88427996,"body_markdown":"What question does this answer, and how?","body":"What question does this answer, and how?"}],"tags":[],"owner":{"account_id":9776263,"reputation":329,"user_id":7246174,"display_name":"Chris Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528220558,"creation_date":1528220558,"answer_id":50706028,"question_id":19045103,"body_markdown":"This is my dynamic programming implementation using BigInteger.\r\n\r\n       import java.math.BigInteger;\r\n       import java.util.HashMap;\r\n       import java.util.Map;\r\n       import java.util.Scanner;\r\n\r\n    /**\r\n     * Topic: Dynamic Programming\r\n     * Algorithm: Fib Algorithm Implementation\r\n     *\r\n     * Author: Chris M. Perez Santiago\r\n     * Date: 4 / 15 / 2018\r\n     **/\r\n\r\n\r\n      public class Main {\r\n         private static BigInteger[] b = new BigInteger[100000001];\r\n         private static Scanner console = new Scanner(System.in);\r\n\r\n      public static void main(String[] args) {\r\n         long n = console.nextLong();\r\n         for(long i=1;i&lt;=n;i++) System.out.println(initFib(i));\r\n      }\r\n\r\n      private static BigInteger dpFib(Map&lt;Long , BigInteger&gt; map , long n){\r\n         if(map.containsKey(n)) return map.get(n);\r\n\r\n         map.put(n - 1 , dpFib(map , n - 1));\r\n         map.put(n - 2 , dpFib(map , n - 2));\r\n         BigInteger sum = map.get(n - 1).add(map.get(n - 2));\r\n         map.put(n , sum);\r\n         return sum;\r\n      }\r\n\r\n      private static BigInteger initFib(long n){\r\n         if(BigInteger.valueOf(n).equals(BigInteger.ONE) || BigInteger.valueOf(n).equals(BigInteger.ZERO))\r\n           return BigInteger.ONE;\r\n         Map&lt;Long , BigInteger&gt; map = new HashMap&lt;&gt;();\r\n         map.put(1L , BigInteger.ONE);\r\n         map.put(2L , BigInteger.ONE);\r\n         return dpFib(map , n);\r\n      }\r\n    }","title":"Fibonacci function result confusion","body":"<p>This is my dynamic programming implementation using BigInteger.</p>\n\n<pre><code>   import java.math.BigInteger;\n   import java.util.HashMap;\n   import java.util.Map;\n   import java.util.Scanner;\n\n/**\n * Topic: Dynamic Programming\n * Algorithm: Fib Algorithm Implementation\n *\n * Author: Chris M. Perez Santiago\n * Date: 4 / 15 / 2018\n **/\n\n\n  public class Main {\n     private static BigInteger[] b = new BigInteger[100000001];\n     private static Scanner console = new Scanner(System.in);\n\n  public static void main(String[] args) {\n     long n = console.nextLong();\n     for(long i=1;i&lt;=n;i++) System.out.println(initFib(i));\n  }\n\n  private static BigInteger dpFib(Map&lt;Long , BigInteger&gt; map , long n){\n     if(map.containsKey(n)) return map.get(n);\n\n     map.put(n - 1 , dpFib(map , n - 1));\n     map.put(n - 2 , dpFib(map , n - 2));\n     BigInteger sum = map.get(n - 1).add(map.get(n - 2));\n     map.put(n , sum);\n     return sum;\n  }\n\n  private static BigInteger initFib(long n){\n     if(BigInteger.valueOf(n).equals(BigInteger.ONE) || BigInteger.valueOf(n).equals(BigInteger.ZERO))\n       return BigInteger.ONE;\n     Map&lt;Long , BigInteger&gt; map = new HashMap&lt;&gt;();\n     map.put(1L , BigInteger.ONE);\n     map.put(2L , BigInteger.ONE);\n     return dpFib(map , n);\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1575713290,"post_id":59224833,"comment_id":104664154,"body_markdown":"How does this answer `When the fib(i) method passes 3, shouldn&#39;t it return 3 as well since if n = 3 then the sum of fib(n-1) /which is 2/ and fib(n-2) /which 1/ is 3`?","body":"How does this answer <code>When the fib(i) method passes 3, shouldn&#39;t it return 3 as well since if n = 3 then the sum of fib(n-1) &#47;which is 2&#47; and fib(n-2) &#47;which 1&#47; is 3</code>?"}],"tags":[],"owner":{"account_id":10474010,"reputation":101,"user_id":7721085,"display_name":"David William"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575714001,"creation_date":1575712550,"answer_id":59224833,"question_id":19045103,"body_markdown":"```java\r\nimport java.util.Scanner;\r\npublic class Fibonacci {\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scn = new Scanner(System. in );\r\n\t\tSystem.out.println(&quot;Enter a number upto which fibonacci numbers should be displayed&quot;);\r\n\t\tint fib = scn.nextInt();\r\n\t\tint a = 0,\r\n\t\tb = 1,\r\n\t\tres = 0;\r\n\t\tSystem.out.print(a + &quot; &quot; + b + &quot; &quot;);\r\n\t\twhile (res &lt;= fib) {\r\n\t\t\tres = a + b;\r\n\t\t\ta = b;\r\n\t\t\tb = res;\r\n\t\t\tif (res &gt; fib) break;\r\n\t\t\tSystem.out.print(res + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Fibonacci function result confusion","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\npublic class Fibonacci {\n    public static void main(String[] args) {\n        Scanner scn = new Scanner(System. in );\n        System.out.println(\"Enter a number upto which fibonacci numbers should be displayed\");\n        int fib = scn.nextInt();\n        int a = 0,\n        b = 1,\n        res = 0;\n        System.out.print(a + \" \" + b + \" \");\n        while (res &lt;= fib) {\n            res = a + b;\n            a = b;\n            b = res;\n            if (res &gt; fib) break;\n            System.out.print(res + \" \");\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1631515599,"post_id":63804696,"comment_id":122232748,"body_markdown":"How does this answer `When the fib(i) method passes 3, shouldn&#39;t it return 3 as well since if n = 3 then the sum of fib(n-1)…`?","body":"How does this answer <code>When the fib(i) method passes 3, shouldn&#39;t it return 3 as well since if n = 3 then the sum of fib(n-1)…</code>?"}],"tags":[],"owner":{"account_id":6657042,"reputation":1171,"user_id":9150584,"display_name":"Meysam Keshvari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599625259,"creation_date":1599625259,"answer_id":63804696,"question_id":19045103,"body_markdown":"1 , 1 , 2 , 3 , 5 , 8 , 13 , 21 , 34 , 55 , 89\r\n\r\n    public void fibonacci(){\r\n        int n1 = 0;\r\n        int n2 = 1;\r\n        int n3;\r\n        int count = 10;\r\n        Log.d(&quot;DBG&quot;,n1 + &quot; , &quot; + n2);\r\n        for (int i = 1; i &lt;= count ; i++) {\r\n            n3 = n1 + n2;\r\n            Log.d(&quot;DBG&quot;,i + &quot;= &quot; + n3+&quot;&quot;);\r\n            n1 = n2;\r\n            n2 = n3;\r\n        }\r\n    }","title":"Fibonacci function result confusion","body":"<p>1 , 1 , 2 , 3 , 5 , 8 , 13 , 21 , 34 , 55 , 89</p>\n<pre><code>public void fibonacci(){\n    int n1 = 0;\n    int n2 = 1;\n    int n3;\n    int count = 10;\n    Log.d(&quot;DBG&quot;,n1 + &quot; , &quot; + n2);\n    for (int i = 1; i &lt;= count ; i++) {\n        n3 = n1 + n2;\n        Log.d(&quot;DBG&quot;,i + &quot;= &quot; + n3+&quot;&quot;);\n        n1 = n2;\n        n2 = n3;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1630136661,"post_id":68960249,"comment_id":121877663,"body_markdown":"How does this answer `When the fib(i) method passes 3, shouldn&#39;t it return 3…`?","body":"How does this answer <code>When the fib(i) method passes 3, shouldn&#39;t it return 3…</code>?"}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630107235,"creation_date":1630107235,"answer_id":68960249,"question_id":19045103,"body_markdown":"\r\n    package Loops;\r\n    import java.util.Scanner;\r\n    public class FibonacciClass {\r\n        public static void main(String[] args) {\r\n            Scanner sc= new Scanner(System.in);\r\n            System.out.println(&quot;Enter the number upto which you want to generate Fibonacci series&quot;);\r\n            int x= sc.nextInt();\r\n            int [] testing= new int[x];\r\n            int first_Value=0;\r\n            int second_value=1;\r\n            int third_value=0;\r\n            System.out.println(first_Value);\r\n            for(int i=1;i&lt;testing.length;i++){\r\n                first_Value=second_value;\r\n                second_value=third_value;\r\n                third_value=first_Value+second_value;\r\n                System.out.println(third_value);\r\n                }\r\n            }\r\n            }\r\n","title":"Fibonacci function result confusion","body":"<pre><code>package Loops;\nimport java.util.Scanner;\npublic class FibonacciClass {\n    public static void main(String[] args) {\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;Enter the number upto which you want to generate Fibonacci series&quot;);\n        int x= sc.nextInt();\n        int [] testing= new int[x];\n        int first_Value=0;\n        int second_value=1;\n        int third_value=0;\n        System.out.println(first_Value);\n        for(int i=1;i&lt;testing.length;i++){\n            first_Value=second_value;\n            second_value=third_value;\n            third_value=first_Value+second_value;\n            System.out.println(third_value);\n            }\n        }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662888840,"creation_date":1662840903,"answer_id":73674906,"question_id":19045103,"body_markdown":"To understand the code in your question, I recommend you first understand the concept of the [Fibonacci](https://en.wikipedia.org/wiki/Fibonacci_number) sequence, in which each number is the sum of the two preceding ones. The [accepted answer](https://stackoverflow.com/a/19045249/10819573) has explained nicely how the recursive calls are generating the sequence.\r\n\r\nI am writing this answer to show the use of Java-8 Stream API to generate a Fibonacci sequence.\r\n\r\n# Java-8 Stream API Solution\r\n\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            int maxSize = 7;\r\n            Stream.iterate(new int[] { 1, 1 }, arr -&gt; new int[] { arr[1], arr[0] + arr[1] })\r\n                    .map(arr -&gt; arr[0])\r\n                    .limit(maxSize)\r\n                    .forEach(System.out::println);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    1\r\n    1\r\n    2\r\n    3\r\n    5\r\n    8\r\n    13\r\n\r\n# Explanation\r\n\r\n 1. Here, we are limiting the infinite sequential ordered Stream returned by [`Stream#iterate`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-) with the help of [`Stream#limit`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-).\r\n 2. We are using `new int[] { 1, 1 }` as a seed where the first and second elements represent the first and second numbers in the Fibonacci sequence. If you want to start the sequence with `0`, you will use `new int[] { 0, 1 }`.\r\n 3. Out of the array of the two elements, we are getting the first element by `map`ping the array into its first element and then printing it.\r\n 4. The `UnaryOperator` is preparing a new array for the next iterations.\r\n","title":"Fibonacci function result confusion","body":"<p>To understand the code in your question, I recommend you first understand the concept of the <a href=\"https://en.wikipedia.org/wiki/Fibonacci_number\" rel=\"nofollow noreferrer\">Fibonacci</a> sequence, in which each number is the sum of the two preceding ones. The <a href=\"https://stackoverflow.com/a/19045249/10819573\">accepted answer</a> has explained nicely how the recursive calls are generating the sequence.</p>\n<p>I am writing this answer to show the use of Java-8 Stream API to generate a Fibonacci sequence.</p>\n<h1>Java-8 Stream API Solution</h1>\n<pre><code>import java.util.stream.Stream;\n\npublic class Solution {\n    public static void main(String[] args) {\n        int maxSize = 7;\n        Stream.iterate(new int[] { 1, 1 }, arr -&gt; new int[] { arr[1], arr[0] + arr[1] })\n                .map(arr -&gt; arr[0])\n                .limit(maxSize)\n                .forEach(System.out::println);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>1\n1\n2\n3\n5\n8\n13\n</code></pre>\n<h1>Explanation</h1>\n<ol>\n<li>Here, we are limiting the infinite sequential ordered Stream returned by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.UnaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream#iterate</code></a> with the help of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\" rel=\"nofollow noreferrer\"><code>Stream#limit</code></a>.</li>\n<li>We are using <code>new int[] { 1, 1 }</code> as a seed where the first and second elements represent the first and second numbers in the Fibonacci sequence. If you want to start the sequence with <code>0</code>, you will use <code>new int[] { 0, 1 }</code>.</li>\n<li>Out of the array of the two elements, we are getting the first element by <code>map</code>ping the array into its first element and then printing it.</li>\n<li>The <code>UnaryOperator</code> is preparing a new array for the next iterations.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1667285273,"post_id":74272232,"comment_id":131126857,"body_markdown":"How does this answer a question implied by `confused with how this works`, and which?","body":"How does this answer a question implied by <code>confused with how this works</code>, and which?"}],"tags":[],"owner":{"account_id":10474010,"reputation":101,"user_id":7721085,"display_name":"David William"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667283805,"creation_date":1667283805,"answer_id":74272232,"question_id":19045103,"body_markdown":"\r\n    import java.util.*;\r\n\r\n    public class FibonacciSeries {\r\n\r\n\r\n    public static void main(String[] args) {\r\n\tint x=0;\r\n\tint y=1;\r\n\tScanner in= new Scanner(System.in);\r\n\tSystem.out.println(&quot;Enter number of series you want?&quot;);\r\n\t//user will enter a number\r\n\tint z=in.nextInt();\r\n\tSystem.out.print(x+&quot; &quot;+y+&quot; &quot;);\r\n\twhile((z-2)&gt;0)\r\n\t{\r\n\tint a=x+y;\r\n\tSystem.out.print(a+&quot; &quot;);\r\n\tx=y;\r\n\ty=a;\r\n\tz--;\r\n\t}\r\n\t}\r\n\r\n}\r\n","title":"Fibonacci function result confusion","body":"<pre><code>import java.util.*;\n\npublic class FibonacciSeries {\n\n\npublic static void main(String[] args) {\nint x=0;\nint y=1;\nScanner in= new Scanner(System.in);\nSystem.out.println(&quot;Enter number of series you want?&quot;);\n//user will enter a number\nint z=in.nextInt();\nSystem.out.print(x+&quot; &quot;+y+&quot; &quot;);\nwhile((z-2)&gt;0)\n{\nint a=x+y;\nSystem.out.print(a+&quot; &quot;);\nx=y;\ny=a;\nz--;\n}\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":1,"creation_date":1693423590,"post_id":77006518,"comment_id":135760728,"body_markdown":"What question does this answer, and how?","body":"What question does this answer, and how?"}],"tags":[],"owner":{"account_id":11777498,"reputation":1,"user_id":8618365,"display_name":"ankit singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693386410,"creation_date":1693386410,"answer_id":77006518,"question_id":19045103,"body_markdown":"We can do it using Java8 in much simpler ways as below.\r\n\r\n    Stream.iterate(new int[]{0, 1}, t -&gt; new int[]{t[1], t[0] + t[1]})\r\n                .limit(10)\r\n                .map(t -&gt; t[0])\r\n                .forEach(System.out::print);","title":"Fibonacci function result confusion","body":"<p>We can do it using Java8 in much simpler ways as below.</p>\n<pre><code>Stream.iterate(new int[]{0, 1}, t -&gt; new int[]{t[1], t[0] + t[1]})\n            .limit(10)\n            .map(t -&gt; t[0])\n            .forEach(System.out::print);\n</code></pre>\n"}],"owner":{"account_id":3360553,"reputation":255,"user_id":2822435,"accept_rate":60,"display_name":"Marz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56211,"favorite_count":0,"down_vote_count":4,"up_vote_count":8,"accepted_answer_id":19045249,"answer_count":22,"score":4,"last_activity_date":1693386410,"creation_date":1380266902,"question_id":19045103,"body_markdown":"    public class Fibonacci {\r\n        public static long fib(int n) {\r\n            if (n &lt;= 1) return n;\r\n            else return fib(n-1) + fib(n-2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int N = Integer.parseInt(args[0]);\r\n            for (int i = 1; i &lt;= N; i++)\r\n                System.out.println(i + &quot;: &quot; + fib(i));\r\n        }\r\n    }\r\n\r\nLet&#39;s assume that the user input &quot;java Fibonacci 7&quot;, so the result would be like this:\r\n&gt; 1: 1  \r\n2: 1  \r\n3: 2  \r\n4: 3  \r\n5: 5  \r\n6: 8  \r\n7: 13\r\n\r\nI seem to be totally confused with how this works, starting with argument 3. When the fib(i) method gets passed 3, shouldn&#39;t it return 3 as well since if n = 3 then the sum of fib(n-1) /**n-1 is 2**/ and fib(n-2) /**n-2 is 1**/ is 3. And so on the other numbers forward.","title":"Fibonacci function result confusion","body":"<pre><code>public class Fibonacci {\n    public static long fib(int n) {\n        if (n &lt;= 1) return n;\n        else return fib(n-1) + fib(n-2);\n    }\n\n    public static void main(String[] args) {\n        int N = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt;= N; i++)\n            System.out.println(i + &quot;: &quot; + fib(i));\n    }\n}\n</code></pre>\n<p>Let's assume that the user input &quot;java Fibonacci 7&quot;, so the result would be like this:</p>\n<blockquote>\n<p>1: 1<br />\n2: 1<br />\n3: 2<br />\n4: 3<br />\n5: 5<br />\n6: 8<br />\n7: 13</p>\n</blockquote>\n<p>I seem to be totally confused with how this works, starting with argument 3. When the fib(i) method gets passed 3, shouldn't it return 3 as well since if n = 3 then the sum of fib(n-1) /<strong>n-1 is 2</strong>/ and fib(n-2) /<strong>n-2 is 1</strong>/ is 3. And so on the other numbers forward.</p>\n"},{"tags":["java","spring","hibernate","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1693386154,"creation_date":1398544121,"answer_id":23316154,"question_id":23316118,"body_markdown":"The correct place to put `@Transactional` annotation is *any* layer if you want to add a transactional behaviour to your code. The code assumed to use a database access. Usually, you can use `@Transactional` on repositories. But if you need,  you can  add it on the service layer as well. \r\n\r\nSee [Understanding the Spring Framework&#39;s declarative transaction implementation][1]\r\n&gt;  You can place the `@Transactional` annotation before an interface definition, a method on an interface, a class definition, or a public method on a class. However, the mere presence of the `@Transactional` annotation is not enough to activate the transactional behavior. The `@Transactional` annotation is simply metadata that can be consumed by some runtime infrastructure that is `@Transactional`-aware and that can use the metadata to configure the appropriate beans with transactional behavior. \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-decl-explained","title":"Layer to use the @Transactional annotation in Spring Data JPA","body":"<p>The correct place to put <code>@Transactional</code> annotation is <em>any</em> layer if you want to add a transactional behaviour to your code. The code assumed to use a database access. Usually, you can use <code>@Transactional</code> on repositories. But if you need,  you can  add it on the service layer as well.</p>\n<p>See <a href=\"http://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/transaction.html#tx-decl-explained\" rel=\"nofollow noreferrer\">Understanding the Spring Framework's declarative transaction implementation</a></p>\n<blockquote>\n<p>You can place the <code>@Transactional</code> annotation before an interface definition, a method on an interface, a class definition, or a public method on a class. However, the mere presence of the <code>@Transactional</code> annotation is not enough to activate the transactional behavior. The <code>@Transactional</code> annotation is simply metadata that can be consumed by some runtime infrastructure that is <code>@Transactional</code>-aware and that can use the metadata to configure the appropriate beans with transactional behavior.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":282080,"reputation":911,"user_id":578762,"accept_rate":86,"display_name":"Abhishek Ranjan"},"score":1,"creation_date":1398545743,"post_id":23316344,"comment_id":35698476,"body_markdown":"Also don&#39;t you think adding it at function level rather than class level might be better as we have control over readonly transactions etc ?","body":"Also don&#39;t you think adding it at function level rather than class level might be better as we have control over readonly transactions etc ?"},{"owner":{"display_name":"user997172"},"score":0,"creation_date":1398546186,"post_id":23316344,"comment_id":35698604,"body_markdown":"@AbhishekRanjan Well, that was just example. I usually define `@Transactional(readOnly = true)` before `class` and then if I need I define `@Transactional(readOnly = false)` before method.","body":"@AbhishekRanjan Well, that was just example. I usually define <code>@Transactional(readOnly = true)</code> before <code>class</code> and then if I need I define <code>@Transactional(readOnly = false)</code> before method."},{"owner":{"account_id":282080,"reputation":911,"user_id":578762,"accept_rate":86,"display_name":"Abhishek Ranjan"},"score":1,"creation_date":1398546270,"post_id":23316344,"comment_id":35698619,"body_markdown":"Ya that sounds right ,what i normally do is define transactional at each function level,but your approach looks cleaner","body":"Ya that sounds right ,what i normally do is define transactional at each function level,but your approach looks cleaner"}],"tags":[],"owner":{"display_name":"user997172"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1504863081,"creation_date":1398545150,"answer_id":23316344,"question_id":23316118,"body_markdown":"Transactions belong to Service layer. For example if you have `HotelService`, then the code would look like this:\r\n\r\n    @Service(&quot;hotelService&quot;)\r\n    @Transactional\r\n    public class HotelServiceImpl implements HotelService {\r\n        @Autowired\r\n        HotelDao hotelDao;\r\n    \r\n        // The rest of code omited ...\r\n    }","title":"Layer to use the @Transactional annotation in Spring Data JPA","body":"<p>Transactions belong to Service layer. For example if you have <code>HotelService</code>, then the code would look like this:</p>\n\n<pre><code>@Service(\"hotelService\")\n@Transactional\npublic class HotelServiceImpl implements HotelService {\n    @Autowired\n    HotelDao hotelDao;\n\n    // The rest of code omited ...\n}\n</code></pre>\n"}],"owner":{"account_id":282080,"reputation":911,"user_id":578762,"accept_rate":86,"display_name":"Abhishek Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1526,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23316344,"answer_count":2,"score":1,"last_activity_date":1693386154,"creation_date":1398543881,"question_id":23316118,"body_markdown":"I am using Spring Data JPA for my application, which has the following layers:\r\n\r\n 1. **Service layer** with Interfaces and Implements (annotated @service)\r\n 2. **CRUD repository layer** with Spring Data JPA, together with custom repository implementations\r\n 3. **Entity layer**\r\n\r\nI was wondering where exactly is the correct place to put `@Transactional`. Currently, I have it in the service layer, where the repositories are being used.\r\n","title":"Layer to use the @Transactional annotation in Spring Data JPA","body":"<p>I am using Spring Data JPA for my application, which has the following layers:</p>\n<ol>\n<li><strong>Service layer</strong> with Interfaces and Implements (annotated @service)</li>\n<li><strong>CRUD repository layer</strong> with Spring Data JPA, together with custom repository implementations</li>\n<li><strong>Entity layer</strong></li>\n</ol>\n<p>I was wondering where exactly is the correct place to put <code>@Transactional</code>. Currently, I have it in the service layer, where the repositories are being used.</p>\n"},{"tags":["java","swing","user-interface","tooltip","usability"],"comments":[{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":1,"creation_date":1313933260,"post_id":7138511,"comment_id":8559885,"body_markdown":"Related: http://stackoverflow.com/questions/5852941/popup-messages-for-validation","body":"Related: <a href=\"http://stackoverflow.com/questions/5852941/popup-messages-for-validation\" title=\"popup messages for validation\">stackoverflow.com/questions/5852941/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":399566,"reputation":5316,"user_id":765009,"accept_rate":60,"display_name":"toto2"},"score":1,"creation_date":1313937681,"post_id":7138695,"comment_id":8560554,"body_markdown":"Pretty good.  The only thing I would change for production code is that I would make sure the JWindow keeps its relative position to the JFrame fixed by making the JWindow a ComponentAdapter (overriding `componentMoved`) registered with the JFrame.","body":"Pretty good.  The only thing I would change for production code is that I would make sure the JWindow keeps its relative position to the JFrame fixed by making the JWindow a ComponentAdapter (overriding <code>componentMoved</code>) registered with the JFrame."},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1313940785,"post_id":7138695,"comment_id":8560970,"body_markdown":"phaaa your window probably sticking out of the parent :-) +1","body":"phaaa your window probably sticking out of the parent :-) +1"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1313935286,"creation_date":1313935286,"answer_id":7138695,"question_id":7138511,"body_markdown":"The link given by James Poulson probably provides a better solution, but I had to see if this were possible with some simple Java code using a DocumentFilter and a JWindow.  Here&#39;s one possible way to do this:\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Point;\r\n    import java.awt.Window;\r\n    import javax.swing.*;\r\n    import javax.swing.text.AttributeSet;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.DocumentFilter;\r\n    import javax.swing.text.PlainDocument;\r\n    \r\n    public class InfoBalloon extends JPanel {\r\n       private static final int PREF_WIDTH = 400;\r\n       private static final int PREF_HEIGHT = 300;\r\n       private static final String REGEX_TEST = &quot;\\\\d*&quot;;\r\n       private static final String ERROR_TEXT = &quot;Please only add numbers to the text field&quot;;\r\n       private JTextField textField = new JTextField(10);\r\n       private JWindow errorWindow;\r\n       \r\n    \r\n       public InfoBalloon() {\r\n          add(new JLabel(&quot;Please Enter Number&quot;));\r\n          add(textField);\r\n          \r\n          ((PlainDocument)textField.getDocument()).setDocumentFilter(new MyNumberDocFilter());\r\n       }\r\n       \r\n       @Override\r\n       public Dimension getPreferredSize() {\r\n          return new Dimension(PREF_WIDTH, PREF_HEIGHT);\r\n       }\r\n       \r\n       private void showErrorWin() {     \r\n          if (errorWindow == null) {\r\n             JLabel errorLabel = new JLabel(ERROR_TEXT);\r\n             Window topLevelWin = SwingUtilities.getWindowAncestor(this);\r\n             errorWindow = new JWindow(topLevelWin);\r\n             JPanel contentPane = (JPanel) errorWindow.getContentPane();\r\n             contentPane.add(errorLabel);\r\n             contentPane.setBackground(Color.white);\r\n             contentPane.setBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY));\r\n             errorWindow.pack();\r\n          }\r\n          \r\n          Point loc = textField.getLocationOnScreen();\r\n          errorWindow.setLocation(loc.x + 20, loc.y + 30);\r\n          errorWindow.setVisible(true);\r\n       }\r\n    \r\n       private boolean textOK(String text) {\r\n          if (text.matches(REGEX_TEST)) {\r\n             return true;\r\n          }\r\n          return false;\r\n       }\r\n    \r\n       private class MyNumberDocFilter extends DocumentFilter {\r\n          @Override\r\n          public void insertString(FilterBypass fb, int offset, String string,\r\n                   AttributeSet attr) throws BadLocationException {\r\n             if (textOK(string)) {\r\n                super.insertString(fb, offset, string, attr);\r\n                if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\r\n                   errorWindow.setVisible(false);\r\n                }\r\n             } else {\r\n                showErrorWin();\r\n             }\r\n          }\r\n          \r\n          @Override\r\n          public void replace(FilterBypass fb, int offset, int length, String text,\r\n                   AttributeSet attrs) throws BadLocationException {\r\n             if (textOK(text)) {\r\n                super.replace(fb, offset, length, text, attrs);\r\n                if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\r\n                   errorWindow.setVisible(false);\r\n                }\r\n             } else {\r\n                showErrorWin();\r\n             }\r\n          }\r\n          \r\n          @Override\r\n          public void remove(FilterBypass fb, int offset, int length)\r\n                   throws BadLocationException {\r\n             super.remove(fb, offset, length);\r\n             if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\r\n                errorWindow.setVisible(false);\r\n             }\r\n          }\r\n       }\r\n       \r\n       private static void createAndShowUI() {\r\n          JFrame frame = new JFrame(&quot;Info Balloon&quot;);\r\n          frame.getContentPane().add(new InfoBalloon());\r\n          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n          frame.pack();\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setVisible(true);\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          java.awt.EventQueue.invokeLater(new Runnable() {\r\n             public void run() {\r\n                createAndShowUI();\r\n             }\r\n          });\r\n       }\r\n    }\r\n\r\nConstructive or destructive criticism is most welcome!","title":"How to display a temporary baloon tooltip during input validation?","body":"<p>The link given by James Poulson probably provides a better solution, but I had to see if this were possible with some simple Java code using a DocumentFilter and a JWindow.  Here's one possible way to do this:</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Point;\nimport java.awt.Window;\nimport javax.swing.*;\nimport javax.swing.text.AttributeSet;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.DocumentFilter;\nimport javax.swing.text.PlainDocument;\n\npublic class InfoBalloon extends JPanel {\n   private static final int PREF_WIDTH = 400;\n   private static final int PREF_HEIGHT = 300;\n   private static final String REGEX_TEST = \"\\\\d*\";\n   private static final String ERROR_TEXT = \"Please only add numbers to the text field\";\n   private JTextField textField = new JTextField(10);\n   private JWindow errorWindow;\n\n\n   public InfoBalloon() {\n      add(new JLabel(\"Please Enter Number\"));\n      add(textField);\n\n      ((PlainDocument)textField.getDocument()).setDocumentFilter(new MyNumberDocFilter());\n   }\n\n   @Override\n   public Dimension getPreferredSize() {\n      return new Dimension(PREF_WIDTH, PREF_HEIGHT);\n   }\n\n   private void showErrorWin() {     \n      if (errorWindow == null) {\n         JLabel errorLabel = new JLabel(ERROR_TEXT);\n         Window topLevelWin = SwingUtilities.getWindowAncestor(this);\n         errorWindow = new JWindow(topLevelWin);\n         JPanel contentPane = (JPanel) errorWindow.getContentPane();\n         contentPane.add(errorLabel);\n         contentPane.setBackground(Color.white);\n         contentPane.setBorder(BorderFactory.createLineBorder(Color.LIGHT_GRAY));\n         errorWindow.pack();\n      }\n\n      Point loc = textField.getLocationOnScreen();\n      errorWindow.setLocation(loc.x + 20, loc.y + 30);\n      errorWindow.setVisible(true);\n   }\n\n   private boolean textOK(String text) {\n      if (text.matches(REGEX_TEST)) {\n         return true;\n      }\n      return false;\n   }\n\n   private class MyNumberDocFilter extends DocumentFilter {\n      @Override\n      public void insertString(FilterBypass fb, int offset, String string,\n               AttributeSet attr) throws BadLocationException {\n         if (textOK(string)) {\n            super.insertString(fb, offset, string, attr);\n            if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\n               errorWindow.setVisible(false);\n            }\n         } else {\n            showErrorWin();\n         }\n      }\n\n      @Override\n      public void replace(FilterBypass fb, int offset, int length, String text,\n               AttributeSet attrs) throws BadLocationException {\n         if (textOK(text)) {\n            super.replace(fb, offset, length, text, attrs);\n            if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\n               errorWindow.setVisible(false);\n            }\n         } else {\n            showErrorWin();\n         }\n      }\n\n      @Override\n      public void remove(FilterBypass fb, int offset, int length)\n               throws BadLocationException {\n         super.remove(fb, offset, length);\n         if (errorWindow != null &amp;&amp; errorWindow.isVisible()) {\n            errorWindow.setVisible(false);\n         }\n      }\n   }\n\n   private static void createAndShowUI() {\n      JFrame frame = new JFrame(\"Info Balloon\");\n      frame.getContentPane().add(new InfoBalloon());\n      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n      frame.pack();\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n   }\n\n   public static void main(String[] args) {\n      java.awt.EventQueue.invokeLater(new Runnable() {\n         public void run() {\n            createAndShowUI();\n         }\n      });\n   }\n}\n</code></pre>\n\n<p>Constructive or destructive criticism is most welcome!</p>\n"},{"tags":[],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1693385846,"creation_date":1314769859,"answer_id":7253064,"question_id":7138511,"body_markdown":"[Balloon Tip][1] (available on [Maven Central][2]) is a library that does that: \r\n\r\n    balloonTip = new BalloonTip(f, &quot;Tooltip msg&quot;);\r\n\r\n\r\nThat was all needed! If you insist on a having it be a tooltip too:\r\n\r\n    tooltipBalloon = new BalloonTip(someComponent, &quot;I&#39;m a balloon tooltip!&quot;);\r\n    // Now convert this balloon tip to a tooltip, such that the tooltip shows up after 500 milliseconds and stays visible for 3000 milliseconds\r\n    ToolTipUtils.balloonToToolTip(tooltipBalloon, 500, 3000);\r\n\r\n\r\n  [1]: https://github.com/timmolderez/balloontip\r\n  [2]: https://mvnrepository.com/artifact/net.java.balloontip/balloontip","title":"How to display a temporary baloon tooltip during input validation?","body":"<p><a href=\"https://github.com/timmolderez/balloontip\" rel=\"nofollow noreferrer\">Balloon Tip</a> (available on <a href=\"https://mvnrepository.com/artifact/net.java.balloontip/balloontip\" rel=\"nofollow noreferrer\">Maven Central</a>) is a library that does that:</p>\n<pre><code>balloonTip = new BalloonTip(f, &quot;Tooltip msg&quot;);\n</code></pre>\n<p>That was all needed! If you insist on a having it be a tooltip too:</p>\n<pre><code>tooltipBalloon = new BalloonTip(someComponent, &quot;I'm a balloon tooltip!&quot;);\n// Now convert this balloon tip to a tooltip, such that the tooltip shows up after 500 milliseconds and stays visible for 3000 milliseconds\nToolTipUtils.balloonToToolTip(tooltipBalloon, 500, 3000);\n</code></pre>\n"}],"owner":{"account_id":114124,"reputation":10809,"user_id":300248,"accept_rate":74,"display_name":"simpatico"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12259,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":7253064,"answer_count":2,"score":12,"last_activity_date":1693385846,"creation_date":1313932835,"question_id":7138511,"body_markdown":"I&#39;m somewhat used to the GUI idiom where when I type something wrong in a text input field a balloon pops up from the field with info about what I got wrong / expected input. It remains visible until I type again.\r\nBut now I couldn&#39;t find any example to point to.\r\n\r\nGiven a JTextfield do you know of any library/code that would display such a balloon when triggered by my keylistener?  \r\n\r\n@see http://www.javapractices.com/topic/TopicAction.do?Id=151","title":"How to display a temporary baloon tooltip during input validation?","body":"<p>I'm somewhat used to the GUI idiom where when I type something wrong in a text input field a balloon pops up from the field with info about what I got wrong / expected input. It remains visible until I type again.\nBut now I couldn't find any example to point to.</p>\n\n<p>Given a JTextfield do you know of any library/code that would display such a balloon when triggered by my keylistener?  </p>\n\n<p>@see <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=151\" rel=\"noreferrer\">http://www.javapractices.com/topic/TopicAction.do?Id=151</a></p>\n"},{"tags":["java","javafx-2"],"comments":[{"owner":{"account_id":128400,"reputation":3225,"user_id":326206,"accept_rate":76,"display_name":"Nicolas Mommaerts"},"score":1,"creation_date":1357141536,"post_id":14124804,"comment_id":19552545,"body_markdown":"Instead of constantly adding transforms, can&#39;t you combine the new transform with the previous one? So you always have only one transform of each type.","body":"Instead of constantly adding transforms, can&#39;t you combine the new transform with the previous one? So you always have only one transform of each type."},{"owner":{"account_id":8131,"reputation":17334,"user_id":14455,"accept_rate":58,"display_name":"akauppi"},"score":0,"creation_date":1357223636,"post_id":14124804,"comment_id":19581654,"body_markdown":"Yes, I did that but the even better approach is utilizing the Observable behaviour of the transform objects (i.e. &#39;.x&#39; is a DoubleProperty).","body":"Yes, I did that but the even better approach is utilizing the Observable behaviour of the transform objects (i.e. &#39;.x&#39; is a DoubleProperty)."}],"answers":[{"comments":[{"owner":{"account_id":370114,"reputation":2232,"user_id":717858,"accept_rate":86,"display_name":"Todd O&#39;Bryan"},"score":1,"creation_date":1392598445,"post_id":14140916,"comment_id":33020999,"body_markdown":"But wait! Rotating about the origin and then translating dx and dy gives a different result than translating by dx and dy and then rotating about the origin. So even if I have one of each kind of Transform in the list and mutate them, a single instance of each kind of Transform might not be sufficient to handle the cases. Or am I missing something?","body":"But wait! Rotating about the origin and then translating dx and dy gives a different result than translating by dx and dy and then rotating about the origin. So even if I have one of each kind of Transform in the list and mutate them, a single instance of each kind of Transform might not be sufficient to handle the cases. Or am I missing something?"},{"owner":{"account_id":8131,"reputation":17334,"user_id":14455,"accept_rate":58,"display_name":"akauppi"},"score":0,"creation_date":1393096153,"post_id":14140916,"comment_id":33270603,"body_markdown":"It&#39;s been a while since I was at this. But essentially any transform turns out into a generic matrix operation (matrix multiplication). So it might be better to think of the rotations etc. as yet-another-generic-matrix to be multiplied to the current generic transform.","body":"It&#39;s been a while since I was at this. But essentially any transform turns out into a generic matrix operation (matrix multiplication). So it might be better to think of the rotations etc. as yet-another-generic-matrix to be multiplied to the current generic transform."}],"tags":[],"owner":{"account_id":8131,"reputation":17334,"user_id":14455,"accept_rate":58,"display_name":"akauppi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357223558,"creation_date":1357223558,"answer_id":14140916,"question_id":14124804,"body_markdown":"It took a while to get to the &#39;thinking&#39; of JavaFX transformations. The idea is that one makes a list of transforms, and changes the Observable parameters of those transforms. This takes away the need to constantly add more and more transforms to the list.\r\n\r\nThis is actually a very cute way of handling it. Sadly it&#39;s not obvious from any of the docs I&#39;ve read (reason to leave this entry in SO me thinks).\r\n\r\nThe necessary code is something like:\r\n\r\n    private val panTrans = new Translate(0,0)\r\n        \r\n    transforms = \r\n      panTrans ::\r\n      Nil\r\n        \r\n    ...\r\n        \r\n    panTrans.x = panTrans.x() + dx\r\n    panTrans.y = panTrans.y() + dy\r\n\r\nI think it will be obvious from here.","title":"How to avoid a huge list of JavaFX coordinate translations (caused by UI responses)","body":"<p>It took a while to get to the 'thinking' of JavaFX transformations. The idea is that one makes a list of transforms, and changes the Observable parameters of those transforms. This takes away the need to constantly add more and more transforms to the list.</p>\n\n<p>This is actually a very cute way of handling it. Sadly it's not obvious from any of the docs I've read (reason to leave this entry in SO me thinks).</p>\n\n<p>The necessary code is something like:</p>\n\n<pre><code>private val panTrans = new Translate(0,0)\n\ntransforms = \n  panTrans ::\n  Nil\n\n...\n\npanTrans.x = panTrans.x() + dx\npanTrans.y = panTrans.y() + dy\n</code></pre>\n\n<p>I think it will be obvious from here.</p>\n"},{"tags":[],"owner":{"account_id":6540092,"reputation":1270,"user_id":5058026,"accept_rate":62,"display_name":"Martin CR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693385745,"creation_date":1693328000,"answer_id":77002221,"question_id":14124804,"body_markdown":"The original question asked:\r\n\r\n&gt; Doesn&#39;t this imply that there&#39;s a list (even, an observable list) of potentially hundreds or thousands of entries long?\r\n\r\nYes that&#39;s correct.\r\n\r\n&gt; If so, I would like to flatten the list occasionally.\r\n\r\nIf you want to flatten the list then in most cases you can do so like this:\r\n \r\n    Transform aggregate = myGroup.getLocalToSceneTransform();\r\n    myGroup.getTransforms().clear();\r\n    myGroup.getTransforms().add(aggregate);\r\n\r\nA bit clunky but it works.\r\n\r\n**HOWEVER** as you point out a neater approach is to add a _single_ transform to the observable list of the `Node` and keep updating it.\r\n\r\nIn cases where you need to concatenate to the the existing transform use an `Affine` ([javafx.scene.transform.Affine][1]) because it has ‘append()’ methods. For example:\r\n\r\n\r\n    Affine affine = new Affine();\r\n    myGroup.getTransforms().add(affine);\r\n\r\n    // then in your event handler or loop\r\n    affine.append(myNewTransform);\r\n\r\n   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/api/javafx/scene/transform/Affine.html","title":"How to avoid a huge list of JavaFX coordinate translations (caused by UI responses)","body":"<p>The original question asked:</p>\n<blockquote>\n<p>Doesn't this imply that there's a list (even, an observable list) of potentially hundreds or thousands of entries long?</p>\n</blockquote>\n<p>Yes that's correct.</p>\n<blockquote>\n<p>If so, I would like to flatten the list occasionally.</p>\n</blockquote>\n<p>If you want to flatten the list then in most cases you can do so like this:</p>\n<pre><code>Transform aggregate = myGroup.getLocalToSceneTransform();\nmyGroup.getTransforms().clear();\nmyGroup.getTransforms().add(aggregate);\n</code></pre>\n<p>A bit clunky but it works.</p>\n<p><strong>HOWEVER</strong> as you point out a neater approach is to add a <em>single</em> transform to the observable list of the <code>Node</code> and keep updating it.</p>\n<p>In cases where you need to concatenate to the the existing transform use an <code>Affine</code> (<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/transform/Affine.html\" rel=\"nofollow noreferrer\">javafx.scene.transform.Affine</a>) because it has ‘append()’ methods. For example:</p>\n<pre><code>Affine affine = new Affine();\nmyGroup.getTransforms().add(affine);\n\n// then in your event handler or loop\naffine.append(myNewTransform);\n</code></pre>\n"}],"owner":{"account_id":8131,"reputation":17334,"user_id":14455,"accept_rate":58,"display_name":"akauppi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1693385745,"creation_date":1357141362,"question_id":14124804,"body_markdown":"I&#39;m making a ScalaFX (but use of Scala is irrelevant here) application with a user interface similar to i.e. Google maps. There&#39;s panning and zooming.\r\n\r\nFor each such change of the user&#39;s viewpoint, I add a transform into a Group&#39;s `.transforms`.\r\n\r\n    transforms += new Translate( dx, dy )\r\n\r\nor\r\n\r\n    transforms += new Scale( 1/f,1/f, cx, cy )\r\n\r\nThis seems like the only way to affect transformations (apart from `translateXYZ`, `layoutXYZ`, which I&#39;m ignoring), and it works.\r\n\r\nThe [docs][1] say this:\r\n\r\n&gt; Multiple transformations may be applied to a node by specifying an\r\n&gt; ordered chain of transforms. The order in which the transforms are\r\n&gt; applied is defined by the ObservableList specified in the transforms\r\n&gt; variable.\r\n\r\nDoesn&#39;t this imply that there&#39;s a list (even, an observable list) of potentially hundreds or thousands of entries long?\r\n\r\nIf so, I would like to flatten the list occasionally. Tried calling `.localToSceneTransoform` and `.localToParentTransform` for this (thinking I&#39;d then set the .transforms with the received overall affine matrix). That *crashed* the JVM. \r\n\r\nAm I doing something wrong here, or should I just stop caring about the list growing, well, indefinately?\r\n\r\nCan provide a short ScalaFX sample code to highlight all this (including the crash). Please ask.\r\n\r\nSystem: OS X, JVM 7u10\r\n\r\n\r\n  [1]: http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html","title":"How to avoid a huge list of JavaFX coordinate translations (caused by UI responses)","body":"<p>I'm making a ScalaFX (but use of Scala is irrelevant here) application with a user interface similar to i.e. Google maps. There's panning and zooming.</p>\n\n<p>For each such change of the user's viewpoint, I add a transform into a Group's <code>.transforms</code>.</p>\n\n<pre><code>transforms += new Translate( dx, dy )\n</code></pre>\n\n<p>or</p>\n\n<pre><code>transforms += new Scale( 1/f,1/f, cx, cy )\n</code></pre>\n\n<p>This seems like the only way to affect transformations (apart from <code>translateXYZ</code>, <code>layoutXYZ</code>, which I'm ignoring), and it works.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javafx/2/api/javafx/scene/Node.html\" rel=\"nofollow\">docs</a> say this:</p>\n\n<blockquote>\n  <p>Multiple transformations may be applied to a node by specifying an\n  ordered chain of transforms. The order in which the transforms are\n  applied is defined by the ObservableList specified in the transforms\n  variable.</p>\n</blockquote>\n\n<p>Doesn't this imply that there's a list (even, an observable list) of potentially hundreds or thousands of entries long?</p>\n\n<p>If so, I would like to flatten the list occasionally. Tried calling <code>.localToSceneTransoform</code> and <code>.localToParentTransform</code> for this (thinking I'd then set the .transforms with the received overall affine matrix). That <em>crashed</em> the JVM. </p>\n\n<p>Am I doing something wrong here, or should I just stop caring about the list growing, well, indefinately?</p>\n\n<p>Can provide a short ScalaFX sample code to highlight all this (including the crash). Please ask.</p>\n\n<p>System: OS X, JVM 7u10</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1693222376,"post_id":76992390,"comment_id":135727264,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"},{"owner":{"account_id":13128343,"reputation":912,"user_id":9483513,"display_name":"Sarangan"},"score":0,"creation_date":1693223072,"post_id":76992390,"comment_id":135727386,"body_markdown":"Added the Complete stacktrace","body":"Added the Complete stacktrace"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1693223196,"post_id":76992390,"comment_id":135727423,"body_markdown":"*Unknown table &#39;SEQUENCES&#39; in information_schema* Do you have set the correct dialect?","body":"<i>Unknown table &#39;SEQUENCES&#39; in information_schema</i> Do you have set the correct dialect?"},{"owner":{"account_id":13128343,"reputation":912,"user_id":9483513,"display_name":"Sarangan"},"score":0,"creation_date":1693224693,"post_id":76992390,"comment_id":135727733,"body_markdown":"You are correct. The dialect is Postgresql in my context. Thank you. I changed the dialect to MySQL and it works. `spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect`","body":"You are correct. The dialect is Postgresql in my context. Thank you. I changed the dialect to MySQL and it works. <code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.MySQLDialect</code>"},{"owner":{"account_id":2148452,"reputation":578,"user_id":1905511,"accept_rate":100,"display_name":"Herbert Yu"},"score":0,"creation_date":1693347518,"post_id":76992390,"comment_id":135748283,"body_markdown":"&quot;I changed the dialect to MySQL and it works.&quot;\nYou mean this can be closed? Give credit to @Jens, then close it.","body":"&quot;I changed the dialect to MySQL and it works.&quot; You mean this can be closed? Give credit to @Jens, then close it."},{"owner":{"account_id":13128343,"reputation":912,"user_id":9483513,"display_name":"Sarangan"},"score":0,"creation_date":1693385190,"post_id":76992390,"comment_id":135752237,"body_markdown":"@Jens Could you please post this as an answer? I can accept it and upvote that answer.","body":"@Jens Could you please post this as an answer? I can accept it and upvote that answer."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1693385473,"post_id":76992390,"comment_id":135752317,"body_markdown":"@Sarangan Have done it.","body":"@Sarangan Have done it."}],"answers":[{"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1693224844,"post_id":76992592,"comment_id":135727753,"body_markdown":"@M.Deinum Apart from the wrong dialect name, it was the issue","body":"@M.Deinum Apart from the wrong dialect name, it was the issue"}],"tags":[],"owner":{"account_id":26165800,"reputation":11,"user_id":19851647,"display_name":"boubaker asma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1693289523,"creation_date":1693223883,"answer_id":76992592,"question_id":76992390,"body_markdown":"Ensure that you have set the correct Hibernate dialect for MySQL in your application.properties :\r\n\r\n`spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect`\r\n\r\n[application.properties][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wmTSD.png\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Hibernate SessionFactory Error with JPA in Spring Boot","body":"<p>Ensure that you have set the correct Hibernate dialect for MySQL in your application.properties :</p>\n<p><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect</code></p>\n<p><a href=\"https://i.stack.imgur.com/wmTSD.png\" rel=\"nofollow noreferrer\">application.properties</a></p>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1693385454,"creation_date":1693385454,"answer_id":77006380,"question_id":76992390,"body_markdown":"The error message *Unknown table &#39;SEQUENCES&#39; in information_schema* indicates, that you have set the wrong dialect, because `GenerationType.AUTO` in mysql uses an `auto_increment`not a sequence. So change your dialect to the `MySQLDialect`\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect","title":"Hibernate SessionFactory Error with JPA in Spring Boot","body":"<p>The error message <em>Unknown table 'SEQUENCES' in information_schema</em> indicates, that you have set the wrong dialect, because <code>GenerationType.AUTO</code> in mysql uses an <code>auto_increment</code>not a sequence. So change your dialect to the <code>MySQLDialect</code></p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n"}],"owner":{"account_id":13128343,"reputation":912,"user_id":9483513,"display_name":"Sarangan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77006380,"answer_count":2,"score":-1,"last_activity_date":1693385454,"creation_date":1693222022,"question_id":76992390,"body_markdown":"I&#39;m encountering an issue with my Spring Boot application when trying to create a Hibernate SessionFactory for a JPA entity named Customer. Here&#39;s my Customer entity class:\r\n\r\n    package com.flexPerk.flexCore.model;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n        private String firstName;\r\n        private String lastName;\r\n    \r\n        protected Customer() {}\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Customer[id=%d, firstName=&#39;%s&#39;, lastName=&#39;%s&#39;]&quot;, id, firstName, lastName);\r\n        }\r\n    \r\n        public Long getId() {\r\n            return id;\r\n        }\r\n    \r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    }\r\n\r\nHowever, I&#39;m encountering the following error message:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource \r\n\r\n    [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\r\n    \tat com.flexPerk.flexCore.FlexCoreApplication.main(FlexCoreApplication.java:10) ~[classes/:na]\r\n    Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \t... 16 common frames omitted\r\n    Caused by: org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\r\n    \tat org.hibernate.id.factory.internal.StandardIdentifierGeneratorFactory.createIdentifierGenerator(StandardIdentifierGeneratorFactory.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.id.factory.internal.IdentifierGeneratorUtil.createLegacyIdentifierGenerator(IdentifierGeneratorUtil.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.mapping.SimpleValue.createGenerator(SimpleValue.java:414) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.lambda$createGenerators$1(SessionFactoryImpl.java:413) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n    \tat java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.createGenerators(SessionFactoryImpl.java:412) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:249) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.hibernate.HibernateException: Could not fetch the SequenceInformation from the database\r\n    \tat org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.sequenceInformationList(ExtractedDatabaseMetaDataImpl.java:307) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.getSequenceInformationList(ExtractedDatabaseMetaDataImpl.java:151) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.id.enhanced.SequenceStyleGenerator.getSequenceIncrementValue(SequenceStyleGenerator.java:568) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.id.enhanced.SequenceStyleGenerator.configure(SequenceStyleGenerator.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.id.factory.internal.StandardIdentifierGeneratorFactory.createIdentifierGenerator(StandardIdentifierGeneratorFactory.java:224) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \t... 39 common frames omitted\r\n    Caused by: java.sql.SQLSyntaxErrorException: Unknown table &#39;SEQUENCES&#39; in information_schema\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n    \tat org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:49) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.sequenceInformationList(ExtractedDatabaseMetaDataImpl.java:291) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\r\n    \t... 43 common frames omitted\r\n\r\n\r\nI&#39;m using Spring Boot(3.1.2) with JPA with MySQL and Hibernate for this project. Can someone please help me understand what might be causing this error and how I can resolve it?\r\n\r\n\r\n\r\n\r\n","title":"Hibernate SessionFactory Error with JPA in Spring Boot","body":"<p>I'm encountering an issue with my Spring Boot application when trying to create a Hibernate SessionFactory for a JPA entity named Customer. Here's my Customer entity class:</p>\n<pre><code>package com.flexPerk.flexCore.model;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\n\n@Entity\npublic class Customer {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    private String firstName;\n    private String lastName;\n\n    protected Customer() {}\n\n    @Override\n    public String toString() {\n        return String.format(&quot;Customer[id=%d, firstName='%s', lastName='%s']&quot;, id, firstName, lastName);\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n}\n</code></pre>\n<p>However, I'm encountering the following error message:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource \n\n[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]\n    at com.flexPerk.flexCore.FlexCoreApplication.main(FlexCoreApplication.java:10) ~[classes/:na]\nCaused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]\n    ... 16 common frames omitted\nCaused by: org.hibernate.MappingException: Could not instantiate id generator [entity-name=com.flexPerk.flexCore.model.Customer]\n    at org.hibernate.id.factory.internal.StandardIdentifierGeneratorFactory.createIdentifierGenerator(StandardIdentifierGeneratorFactory.java:230) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.id.factory.internal.IdentifierGeneratorUtil.createLegacyIdentifierGenerator(IdentifierGeneratorUtil.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.mapping.SimpleValue.createGenerator(SimpleValue.java:414) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.lambda$createGenerators$1(SessionFactoryImpl.java:413) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.HashMap$ValueSpliterator.forEachRemaining(HashMap.java:1787) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]\n    at org.hibernate.internal.SessionFactoryImpl.createGenerators(SessionFactoryImpl.java:412) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:249) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]\n    ... 20 common frames omitted\nCaused by: org.hibernate.HibernateException: Could not fetch the SequenceInformation from the database\n    at org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.sequenceInformationList(ExtractedDatabaseMetaDataImpl.java:307) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.getSequenceInformationList(ExtractedDatabaseMetaDataImpl.java:151) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.getSequenceIncrementValue(SequenceStyleGenerator.java:568) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.id.enhanced.SequenceStyleGenerator.configure(SequenceStyleGenerator.java:216) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.id.factory.internal.StandardIdentifierGeneratorFactory.createIdentifierGenerator(StandardIdentifierGeneratorFactory.java:224) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    ... 39 common frames omitted\nCaused by: java.sql.SQLSyntaxErrorException: Unknown table 'SEQUENCES' in information_schema\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972) ~[mysql-connector-j-8.0.33.jar:8.0.33]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:49) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    at org.hibernate.engine.jdbc.env.internal.ExtractedDatabaseMetaDataImpl.sequenceInformationList(ExtractedDatabaseMetaDataImpl.java:291) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]\n    ... 43 common frames omitted\n</code></pre>\n<p>I'm using Spring Boot(3.1.2) with JPA with MySQL and Hibernate for this project. Can someone please help me understand what might be causing this error and how I can resolve it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9920,"page":214,"page_size":100}
